(self.webpackChunkapp=self.webpackChunkapp||[]).push([[792],{52191:($e,j,E)=>{var g=E(40573);const _="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,B=()=>_.now(),b=S=>S===1/0||(S=>S&&S===Math.floor(S)&&S>0&&isFinite(S))(S);class k{constructor({max:P=1/0,ttl:R,updateAgeOnGet:O=!1,checkAgeOnGet:A=!1,noUpdateTTL:V=!1,dispose:U,noDisposeOnSet:K=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==R&&!b(R))throw new TypeError("ttl must be positive integer or Infinity if set");if(!b(P))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=R,this.max=P,this.updateAgeOnGet=!!O,this.checkAgeOnGet=!!A,this.noUpdateTTL=!!V,this.noDisposeOnSet=!!K,void 0!==U){if("function"!=typeof U)throw new TypeError("dispose must be function if set");this.dispose=U}this.timer=void 0,this.timerExpiration=void 0}setTimer(P,R){if(this.timerExpiration<P)return;this.timer&&clearTimeout(this.timer);const O=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const A in this.expirations){this.setTimer(A,A-B());break}},R);O.unref&&O.unref(),this.timerExpiration=P,this.timer=O}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return g.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const P=this.dispose!==k.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[R,O]of P)this.dispose(O,R,"delete")}setTTL(P,R=this.ttl){const O=this.expirationMap.get(P);if(void 0!==O){const A=this.expirations[O];!A||A.length<=1?delete this.expirations[O]:this.expirations[O]=A.filter(V=>V!==P)}if(R!==1/0){const A=Math.floor(B()+R);this.expirationMap.set(P,A),this.expirations[A]||(this.expirations[A]=[],this.setTimer(A,R)),this.expirations[A].push(P)}else this.expirationMap.set(P,1/0)}set(P,R,{ttl:O=this.ttl,noUpdateTTL:A=this.noUpdateTTL,noDisposeOnSet:V=this.noDisposeOnSet}={}){if(!b(O))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(P)){A||this.setTTL(P,O);const U=this.data.get(P);U!==R&&(this.data.set(P,R),V||this.dispose(U,P,"set"))}else this.setTTL(P,O),this.data.set(P,R);for(;this.size>this.max;)this.purgeToCapacity();return this}has(P){return this.data.has(P)}getRemainingTTL(P){const R=this.expirationMap.get(P);return R===1/0?R:void 0!==R?Math.max(0,Math.ceil(R-B())):0}get(P,{updateAgeOnGet:R=this.updateAgeOnGet,ttl:O=this.ttl,checkAgeOnGet:A=this.checkAgeOnGet}={}){const V=this.data.get(P);if(!A||0!==this.getRemainingTTL(P))return R&&this.setTTL(P,O),V;this.delete(P)}dispose(P,R){}delete(P){const R=this.expirationMap.get(P);if(void 0!==R){const O=this.data.get(P);this.data.delete(P),this.expirationMap.delete(P);const A=this.expirations[R];return A&&(A.length<=1?delete this.expirations[R]:this.expirations[R]=A.filter(V=>V!==P)),this.dispose(O,P,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const P in this.expirations){const R=this.expirations[P];if(!(this.size-R.length>=this.max)){const O=this.size-this.max,A=[];for(const V of R.splice(0,O))A.push([V,this.data.get(V)]),this.data.delete(V),this.expirationMap.delete(V);for(const[V,U]of A)this.dispose(U,V,"evict");return}{delete this.expirations[P];const O=[];for(const A of R)O.push([A,this.data.get(A)]),this.data.delete(A),this.expirationMap.delete(A);for(const[A,V]of O)this.dispose(V,A,"evict")}}}get size(){return this.data.size}purgeStale(){const P=Math.ceil(B());for(const R in this.expirations){if("Infinity"===R||R>P)return;const O=[...this.expirations[R]||[]],A=[];delete this.expirations[R];for(const V of O)A.push([V,this.data.get(V)]),this.data.delete(V),this.expirationMap.delete(V);for(const[V,U]of A)this.dispose(U,V,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const P in this.expirations)for(const R of this.expirations[P])yield[R,this.data.get(R)]}*keys(){for(const P in this.expirations)for(const R of this.expirations[P])yield R}*values(){for(const P in this.expirations)for(const R of this.expirations[P])yield this.data.get(R)}[Symbol.iterator](){return this.entries()}}$e.exports=k},27413:($e,j,E)=>{"use strict";E.d(j,{K:()=>Ii});var g=E(10467),_=E(93953),B=E(30569),H=function(tn){return tn.authentication="authentication",tn.assertionMethod="assertionMethod",tn.keyAgreement="keyAgreement",tn.capabilityInvocation="capabilityInvocation",tn.capabilityDelegation="capabilityDelegation",tn}(H||{});const b={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class k{constructor({method:dn,id:It,path:wt,query:sn,fragment:Yt,params:an}){this.uri=`did:${dn}:${It}`,this.method=dn,this.id=It,this.path=wt,this.query=sn,this.fragment=Yt,this.params=an}static parse(dn){if(!dn)return null;const It=k.DID_URI_PATTERN.exec(dn);if(!It||!It.groups)return null;const{method:wt,id:sn,path:Yt,query:an,fragment:xn}=It.groups,Wn={uri:`did:${wt}:${sn}`,method:wt,id:sn};if(Yt&&(Wn.path=Yt),an&&(Wn.query=an.slice(1)),xn&&(Wn.fragment=xn.slice(1)),an){const Rn={},yn=an.slice(1).split("&");for(const $n of yn){const[Jt,ct]=$n.split("=");Rn[Jt]=ct}Wn.params=Rn}return Wn}}k.METHOD_PATTERN="([a-z0-9]+)",k.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",k.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${k.PCT_ENCODED_PATTERN})`,k.METHOD_ID_PATTERN=`((?:${k.ID_CHAR_PATTERN}*:)*(${k.ID_CHAR_PATTERN}+))`,k.PATH_PATTERN="(/[^#?]*)?",k.QUERY_PATTERN="([?][^#]*)?",k.FRAGMENT_PATTERN="(#.*)?",k.DID_URI_PATTERN=new RegExp(`^did:(?<method>${k.METHOD_PATTERN}):(?<id>${k.METHOD_ID_PATTERN})(?<path>${k.PATH_PATTERN})(?<query>${k.QUERY_PATTERN})(?<fragment>${k.FRAGMENT_PATTERN})$`);class S extends Error{constructor(dn,It){super(`${dn}: ${It}`),this.code=dn,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S)}}var P=function(tn){return tn.InvalidDid="invalidDid",tn.MethodNotSupported="methodNotSupported",tn.InternalError="internalError",tn.InvalidDidDocument="invalidDidDocument",tn.InvalidDidDocumentLength="invalidDidDocumentLength",tn.InvalidDidUrl="invalidDidUrl",tn.InvalidPreviousDidProof="invalidPreviousDidProof",tn.InvalidPublicKey="invalidPublicKey",tn.InvalidPublicKeyLength="invalidPublicKeyLength",tn.InvalidPublicKeyType="invalidPublicKeyType",tn.InvalidSignature="invalidSignature",tn.NotFound="notFound",tn.RepresentationNotSupported="representationNotSupported",tn.UnsupportedPublicKeyType="unsupportedPublicKeyType",tn}(P||{}),R=E(86136),O=E(37475);function V(tn){if("string"==typeof tn&&0!==tn.length)return tn.split("#").pop()}function ie(tn){return!(!tn||"object"!=typeof tn||null===tn||!("id"in tn&&"type"in tn&&"controller"in tn)||"string"!=typeof tn.id||"string"!=typeof tn.type||"string"!=typeof tn.controller)}var ce=function(tn,dn,It,wt){return new(It||(It=Promise))(function(Yt,an){function xn(yn){try{Rn(wt.next(yn))}catch($n){an($n)}}function Wn(yn){try{Rn(wt.throw(yn))}catch($n){an($n)}}function Rn(yn){yn.done?Yt(yn.value):function sn(Yt){return Yt instanceof It?Yt:new It(function(an){an(Yt)})}(yn.value).then(xn,Wn)}Rn((wt=wt.apply(tn,dn||[])).next())})};class pe{constructor({uri:dn,document:It,metadata:wt,keyManager:sn}){this.uri=dn,this.document=It,this.metadata=wt,this.keyManager=sn}export(){return ce(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let dn={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const It=[];for(let wt of this.document.verificationMethod){if(!wt.publicKeyJwk)throw new Error(`Verification method '${wt.id}' does not contain a public key in JWK format`);const sn=yield this.keyManager.getKeyUri({key:wt.publicKeyJwk}),Yt=yield this.keyManager.exportKey({keyUri:sn});It.push(Object.assign({},Yt))}dn.privateKeys=It}return dn})}getSigner(dn){return ce(this,void 0,void 0,function*(){var It;const wt=null===(It=this.document.verificationMethod)||void 0===It?void 0:It.find(Wn=>{var Rn,yn;return V(Wn.id)===(null!==(Rn=V(dn?.methodId))&&void 0!==Rn?Rn:V(null===(yn=this.document.assertionMethod)||void 0===yn?void 0:yn[0]))});if(!wt||!wt.publicKeyJwk)throw new S(P.InternalError,"A verification method intended for signing could not be determined from the DID Document");const sn=yield this.keyManager.getKeyUri({key:wt.publicKeyJwk}),Yt=yield this.keyManager.getPublicKey({keyUri:sn}),an=this.keyManager;return{algorithm:R.Wp.getJoseSignatureAlgorithmFromPublicKey(Yt),keyId:wt.id,sign(Wn){return ce(this,arguments,void 0,function*({data:Rn}){return yield an.sign({data:Rn,keyUri:sn})})},verify(Wn){return ce(this,arguments,void 0,function*({data:Rn,signature:yn}){return yield an.verify({data:Rn,key:Yt,signature:yn})})}}})}static import(dn){return ce(this,arguments,void 0,function*({portableDid:It,keyManager:wt=new R.eP}){var sn;const Yt=function Q({didDocument:tn}){var dn,It;if(!tn)throw new TypeError("Required parameter missing: 'didDocument'");const wt=[];return wt.push(...null!==(It=null===(dn=tn.verificationMethod)||void 0===dn?void 0:dn.filter(ie))&&void 0!==It?It:[]),Object.keys(H).forEach(sn=>{var Yt,an;wt.push(...null!==(an=null===(Yt=tn[sn])||void 0===Yt?void 0:Yt.filter(ie))&&void 0!==an?an:[])}),wt}({didDocument:It.document});if(0===Yt.length)throw new S(P.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let xn of null!==(sn=It.privateKeys)&&void 0!==sn?sn:[])yield wt.importKey({key:xn});for(let xn of Yt){if(!xn.publicKeyJwk)throw new Error(`Verification method '${xn.id}' does not contain a public key in JWK format`);const Wn=yield wt.getKeyUri({key:xn.publicKeyJwk});yield wt.getPublicKey({keyUri:Wn})}return new pe({uri:It.uri,document:It.document,metadata:It.metadata,keyManager:wt})})}}var ve=E(2198),De=E(49402),C=function(tn,dn,It,wt){return new(It||(It=Promise))(function(Yt,an){function xn(yn){try{Rn(wt.next(yn))}catch($n){an($n)}}function Wn(yn){try{Rn(wt.throw(yn))}catch($n){an($n)}}function Rn(yn){yn.done?Yt(yn.value):function sn(Yt){return Yt instanceof It?Yt:new It(function(an){an(Yt)})}(yn.value).then(xn,Wn)}Rn((wt=wt.apply(tn,dn||[])).next())})};class s{static getSigningMethod(dn){return C(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(dn,It){return C(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var d=function(tn,dn,It,wt){return new(It||(It=Promise))(function(Yt,an){function xn(yn){try{Rn(wt.next(yn))}catch($n){an($n)}}function Wn(yn){try{Rn(wt.throw(yn))}catch($n){an($n)}}function Rn(yn){yn.done?Yt(yn.value):function sn(Yt){return Yt instanceof It?Yt:new It(function(an){an(Yt)})}(yn.value).then(xn,Wn)}Rn((wt=wt.apply(tn,dn||[])).next())})},h=function(tn,dn){var It={};for(var wt in tn)Object.prototype.hasOwnProperty.call(tn,wt)&&dn.indexOf(wt)<0&&(It[wt]=tn[wt]);if(null!=tn&&"function"==typeof Object.getOwnPropertySymbols){var sn=0;for(wt=Object.getOwnPropertySymbols(tn);sn<wt.length;sn++)dn.indexOf(wt[sn])<0&&Object.prototype.propertyIsEnumerable.call(tn,wt[sn])&&(It[wt[sn]]=tn[wt[sn]])}return It};const f="https://diddht.tbddev.org",I=7200,L=";",x=",";var a=function(tn){return tn[tn.Discoverable=0]="Discoverable",tn[tn.Organization=1]="Organization",tn[tn.Government=2]="Government",tn[tn.Corporation=3]="Corporation",tn[tn.LocalBusiness=4]="LocalBusiness",tn[tn.SoftwarePackage=5]="SoftwarePackage",tn[tn.WebApp=6]="WebApp",tn[tn.FinancialInstitution=7]="FinancialInstitution",tn}(a||{}),v=function(tn){return tn[tn.Ed25519=0]="Ed25519",tn[tn.secp256k1=1]="secp256k1",tn[tn.secp256r1=2]="secp256r1",tn[tn.X25519=3]="X25519",tn}(v||{}),Z=function(tn){return tn.authentication="auth",tn.assertionMethod="asm",tn.capabilityDelegation="del",tn.capabilityInvocation="inv",tn.keyAgreement="agm",tn}(Z||{});const z={Ed25519:v.Ed25519,ES256K:v.secp256k1,ES256:v.secp256r1,"P-256":v.secp256r1,secp256k1:v.secp256k1,secp256r1:v.secp256r1,X25519:v.X25519},ee={[v.Ed25519]:"EdDSA",[v.secp256k1]:"ES256K",[v.secp256r1]:"ES256",[v.X25519]:"ECDH-ES+A256KW"};let le=(()=>{class tn extends s{static create(){return d(this,arguments,void 0,function*({keyManager:It=new R.eP,options:wt={}}={}){var sn,Yt,an,xn,Wn,Rn,yn,$n,Jt,ct,Et;if(null!==(sn=wt.verificationMethods)&&void 0!==sn&&sn.some(nt=>!(nt.algorithm in z)))throw new Error("One or more verification method algorithms are not supported");const kt=null===(Yt=wt.verificationMethods)||void 0===Yt?void 0:Yt.filter(nt=>"id"in nt).map(nt=>nt.id);if(kt&&kt.length!==new Set(kt).size)throw new Error("One or more verification method IDs are not unique");if(null!==(an=wt.services)&&void 0!==an&&an.some(nt=>!nt.id||!nt.type||!nt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Qe=yield It.generateKey({algorithm:"Ed25519"}),et=yield It.getPublicKey({keyUri:Qe}),Be=yield Me.identityKeyToIdentifier({identityKey:et}),Fe=Object.assign(Object.assign({id:Be},wt.alsoKnownAs&&{alsoKnownAs:wt.alsoKnownAs}),wt.controllers&&{controller:wt.controllers}),_t=[...null!==(xn=wt.verificationMethods)&&void 0!==xn?xn:[]];_t?.some(nt=>{var jt;return"0"===(null===(jt=nt.id)||void 0===jt?void 0:jt.split("#").pop())})||_t.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const nt of _t){const jt=nt.id&&"0"===nt.id.split("#").pop()?Qe:yield It.generateKey({algorithm:nt.algorithm}),In=yield It.getPublicKey({keyUri:jt});let hn=null!==(Rn=null!==(Wn=nt.id)&&void 0!==Wn?Wn:In.kid)&&void 0!==Rn?Rn:yield(0,R.BA)({jwk:In});hn=`${Be}#${V(hn)}`,null!==(yn=Fe.verificationMethod)&&void 0!==yn||(Fe.verificationMethod=[]),Fe.verificationMethod.push({id:hn,type:"JsonWebKey",controller:null!==($n=nt.controller)&&void 0!==$n?$n:Be,publicKeyJwk:In});for(const Vt of null!==(Jt=nt.purposes)&&void 0!==Jt?Jt:[])Fe[Vt]||(Fe[Vt]=[]),Fe[Vt].push(hn)}null===(ct=wt.services)||void 0===ct||ct.forEach(nt=>{var jt;null!==(jt=Fe.service)&&void 0!==jt||(Fe.service=[]),nt.id=`${Be}#${nt.id.split("#").pop()}`,Fe.service.push(nt)});const lt=new pe({uri:Be,document:Fe,metadata:Object.assign({published:!1},wt.types&&{types:wt.types}),keyManager:It});if(null===(Et=wt.publish)||void 0===Et||Et){const nt=yield tn.publish({did:lt,gatewayUri:wt.gatewayUri});lt.metadata=nt.didDocumentMetadata}return lt})}static import(It){return d(this,arguments,void 0,function*({portableDid:wt,keyManager:sn=new R.eP}){var Yt;const an=k.parse(wt.uri);if(an?.method!==tn.methodName)throw new S(P.MethodNotSupported,"Method not supported");const xn=yield pe.import({portableDid:wt,keyManager:sn});if(null===(Yt=xn.document.verificationMethod)||void 0===Yt||!Yt.some(Wn=>{var Rn;return"0"===(null===(Rn=Wn.id)||void 0===Rn?void 0:Rn.split("#").pop())}))throw new S(P.InvalidDidDocument,"DID document must contain an Identity Key");return xn})}static getSigningMethod(It){return d(this,arguments,void 0,function*({didDocument:wt,methodId:sn="#0"}){var Yt;const an=k.parse(wt.id);if(an&&an.method!==this.methodName)throw new S(P.MethodNotSupported,`Method not supported: ${an.method}`);const xn=null===(Yt=wt.verificationMethod)||void 0===Yt?void 0:Yt.find(Wn=>{var Rn,yn;return V(Wn.id)===(null!==(Rn=V(sn))&&void 0!==Rn?Rn:V(null===(yn=wt.assertionMethod)||void 0===yn?void 0:yn[0]))});if(!xn||!xn.publicKeyJwk)throw new S(P.InternalError,"A verification method intended for signing could not be determined from the DID Document");return xn})}static publish(It){return d(this,arguments,void 0,function*({did:wt,gatewayUri:sn=f}){return yield we.put({did:wt,gatewayUri:sn})})}static resolve(It){return d(this,arguments,void 0,function*(wt,sn={}){var Yt;const an=null!==(Yt=sn?.gatewayUri)&&void 0!==Yt?Yt:f;try{yield Me.identifierToIdentityKey({didUri:wt});const{didDocument:xn,didDocumentMetadata:Wn}=yield we.get({didUri:wt,gatewayUri:an});return Object.assign(Object.assign({},b),{didDocument:xn,didDocumentMetadata:Wn})}catch(xn){if(!(xn instanceof S))throw new Error(xn);return Object.assign(Object.assign({},b),{didResolutionMetadata:Object.assign({error:xn.code},xn.message&&{errorMessage:xn.message})})}})}}return tn.methodName="dht",tn})();class we{static get(dn){return d(this,arguments,void 0,function*({didUri:It,gatewayUri:wt}){const sn=Me.identifierToIdentityKeyBytes({didUri:It}),Yt=yield we.pkarrGet({gatewayUri:wt,publicKeyBytes:sn}),an=yield Me.parseBep44GetMessage({bep44Message:Yt}),xn=yield we.fromDnsPacket({didUri:It,dnsPacket:an});return xn.didDocumentMetadata.versionId=Yt.seq.toString(),xn})}static put(dn){return d(this,arguments,void 0,function*({did:It,gatewayUri:wt}){const sn=yield we.toDnsPacket({didDocument:It.document,didMetadata:It.metadata,authoritativeGatewayUris:[wt]}),Yt=yield Me.createBep44PutMessage({dnsPacket:sn,publicKeyBytes:Me.identifierToIdentityKeyBytes({didUri:It.uri}),signer:yield It.getSigner({methodId:"0"})}),an=yield we.pkarrPut({gatewayUri:wt,bep44Message:Yt});return{didDocument:It.document,didDocumentMetadata:Object.assign(Object.assign({},It.metadata),{published:an,versionId:Yt.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(dn){return d(this,arguments,void 0,function*({gatewayUri:It,publicKeyBytes:wt}){const sn=O.U$.uint8Array(wt).toBase32Z(),Yt=new URL(sn,It).href;let an;try{if(an=yield fetch(Yt,{method:"GET"}),!an.ok)throw new S(P.NotFound,`Pkarr record not found for: ${sn}`)}catch(Rn){throw Rn instanceof S?Rn:new S(P.InternalError,`Failed to fetch Pkarr record: ${Rn.message}`)}const xn=yield an.arrayBuffer();if(!xn)throw new S(P.NotFound,`Pkarr record not found for: ${sn}`);if(xn.byteLength<72)throw new S(P.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${xn.byteLength}`);if(xn.byteLength>1072)throw new S(P.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${xn.byteLength}`);return{k:wt,seq:Number(new DataView(xn).getBigUint64(64)),sig:new Uint8Array(xn,0,64),v:new Uint8Array(xn,72)}})}static pkarrPut(dn){return d(this,arguments,void 0,function*({gatewayUri:It,bep44Message:wt}){const sn=O.U$.uint8Array(wt.k).toBase32Z(),Yt=new URL(sn,It).href,an=new Uint8Array(wt.v.length+72);let xn;an.set(wt.sig,0),new DataView(an.buffer).setBigUint64(wt.sig.length,BigInt(wt.seq)),an.set(wt.v,wt.sig.length+8);try{xn=yield fetch(Yt,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:an})}catch(Wn){throw new S(P.InternalError,`Failed to put Pkarr record for identifier ${sn}: ${Wn.message}`)}return xn.ok})}static fromDnsPacket(dn){return d(this,arguments,void 0,function*({didUri:It,dnsPacket:wt}){var sn,Yt,an;const xn={id:It},Wn={published:!0},Rn=new Map;for(const yn of null!==(sn=wt?.answers)&&void 0!==sn?sn:[]){if("TXT"!==yn.type)continue;const $n=yn.name.split(".")[0].substring(1);switch(!0){case $n.startsWith("aka"):{const Jt=Me.parseTxtDataToString(yn.data);xn.alsoKnownAs=Jt.split(x);break}case $n.startsWith("cnt"):{const Jt=Me.parseTxtDataToString(yn.data);xn.controller=Jt.includes(x)?Jt.split(x):Jt;break}case $n.startsWith("k"):{const{id:Jt,t:ct,k:Et,c:kt,a:Qe}=Me.parseTxtDataToObject(yn.data),et=O.U$.base64Url(Et).toUint8Array(),Be=v[Number(ct)];let Fe=yield Me.keyConverter(Be).bytesToPublicKey({publicKeyBytes:et});Fe.alg=Qe||ee[Number(ct)];const _t="k0"===$n?"0":void 0!==Jt?Jt:yield(0,R.BA)({jwk:Fe});null!==(Yt=xn.verificationMethod)&&void 0!==Yt||(xn.verificationMethod=[]);const lt=`${It}#${_t}`;xn.verificationMethod.push({id:lt,type:"JsonWebKey",controller:kt??It,publicKeyJwk:Fe}),Rn.set($n,lt);break}case $n.startsWith("s"):{const Jt=Me.parseTxtDataToObject(yn.data),{id:ct,t:Et,se:kt}=Jt,Qe=h(Jt,["id","t","se"]),et=kt.includes(x)?kt.split(x):[kt],Be=Object.fromEntries(Object.entries(Qe).map(([Fe,_t])=>[Fe,_t.includes(x)?_t.split(x):_t]));null!==(an=xn.service)&&void 0!==an||(xn.service=[]),xn.service.push(Object.assign(Object.assign({},Be),{id:`${It}#${ct}`,type:Et,serviceEndpoint:et}));break}case $n.startsWith("typ"):{const{id:Jt}=Me.parseTxtDataToObject(yn.data);Wn.types=Jt.split(x).map(ct=>Number(ct));break}case $n.startsWith("did"):{const Jt=Be=>Be.split(x).map(Fe=>Rn.get(Fe)).filter(Fe=>"string"==typeof Fe),{auth:ct,asm:Et,del:kt,inv:Qe,agm:et}=Me.parseTxtDataToObject(yn.data);ct&&(xn.authentication=Jt(ct)),Et&&(xn.assertionMethod=Jt(Et)),kt&&(xn.capabilityDelegation=Jt(kt)),Qe&&(xn.capabilityInvocation=Jt(Qe)),et&&(xn.keyAgreement=Jt(et));break}}}return{didDocument:xn,didDocumentMetadata:Wn,didResolutionMetadata:{}}})}static toDnsPacket(dn){return d(this,arguments,void 0,function*({didDocument:It,didMetadata:wt,authoritativeGatewayUris:sn,previousDidProof:Yt}){var an,xn,Wn,Rn,yn;const $n=[],Jt=[],ct=new Map,Et=[],kt=[];if(void 0!==Yt){const{signature:Be,previousDid:Fe}=Yt;yield Me.validatePreviousDidProof({newDid:It.id,previousDidProof:Yt}),$n.push({type:"TXT",name:"_prv._did.",ttl:I,data:`id=${Fe};s=${Be}`})}if(It.alsoKnownAs&&$n.push({type:"TXT",name:"_aka._did.",ttl:I,data:It.alsoKnownAs.join(x)}),It.controller){const Be=Array.isArray(It.controller)?It.controller.join(x):It.controller;$n.push({type:"TXT",name:"_cnt._did.",ttl:I,data:Be})}for(const[Be,Fe]of null!==(xn=null===(an=It.verificationMethod)||void 0===an?void 0:an.entries())&&void 0!==xn?xn:[]){const _t=`k${Be}`;kt.push(_t);let lt=Fe.id.split("#").pop();ct.set(lt,_t);const nt=Fe.publicKeyJwk;if(!nt?.crv||!(nt.crv in z))throw new S(P.InvalidPublicKeyType,`Verification method '${Fe.id}' contains an unsupported key type: ${null!==(Wn=nt?.crv)&&void 0!==Wn?Wn:"undefined"}`);const jt=v[nt.crv],In=yield Me.keyConverter(nt.crv).publicKeyToBytes({publicKey:nt}),Vt=[`t=${jt}`,`k=${O.U$.uint8Array(In).toBase64Url()}`];"0"!==lt&&(yield(0,R.BA)({jwk:nt}))!==lt&&Vt.unshift(`id=${lt}`),nt.alg!==ee[jt]&&Vt.push(`a=${nt.alg}`),Fe.controller!==It.id&&Vt.push(`c=${Fe.controller}`),$n.push({type:"TXT",name:`_${_t}._did.`,ttl:I,data:Vt.join(L)})}null===(Rn=It.service)||void 0===Rn||Rn.forEach((Be,Fe)=>{const _t=`s${Fe}`;Et.push(_t);let{id:lt,type:nt,serviceEndpoint:jt}=Be,In=h(Be,["id","type","serviceEndpoint"]);lt=V(lt),jt=Array.isArray(jt)?jt.join(","):jt;const Vt=Object.entries(Object.assign({id:lt,t:nt,se:jt},In)).map(([sr,_r])=>`${sr}=${_r}`).join(L),Dn=Me.chunkDataIfNeeded(Vt);$n.push({type:"TXT",name:`_${_t}._did.`,ttl:I,data:Dn})});const Qe=["v=0"];if(kt.length&&Qe.push(`vm=${kt.join(x)}`),Object.keys(H).forEach(Be=>{var Fe;const _t=null===(Fe=It[Be])||void 0===Fe?void 0:Fe.map(lt=>ct.get(lt.split("#").pop()));_t&&Qe.push(`${Z[Be]}=${_t.join(x)}`)}),Et.length&&Qe.push(`svc=${Et.join(x)}`),null!==(yn=wt.types)&&void 0!==yn&&yn.length){const Fe=wt.types.map(_t=>"string"==typeof _t?a[_t]:_t);$n.push({type:"TXT",name:"_typ._did.",ttl:I,data:`id=${Fe.join(x)}`})}$n.push({type:"TXT",name:"_did."+we.getUniqueDidSuffix(It.id)+".",ttl:I,data:Qe.join(L)});for(const Be of sn||[])Jt.push({type:"NS",name:"_did."+we.getUniqueDidSuffix(It.id)+".",ttl:I,data:Be+"."});return{id:0,type:"response",flags:De.hB,answers:[...$n,...Jt]}})}static getUniqueDidSuffix(dn){return dn.split(":")[2]}}class Me{static createBep44PutMessage(dn){return d(this,arguments,void 0,function*({dnsPacket:It,publicKeyBytes:wt,signer:sn}){const Yt=Math.ceil(Date.now()/1e3),an=(0,De.lF)(It),xn=ve.A.encode({seq:Yt,v:an}).subarray(1,-1);if(xn.length>1e3)throw new S(P.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${xn.length} bytes`);return{k:wt,seq:Yt,sig:yield sn.sign({data:xn}),v:an}})}static identifierToIdentityKey(dn){return d(this,arguments,void 0,function*({didUri:It}){let wt=Me.identifierToIdentityKeyBytes({didUri:It});return yield R.Mc.bytesToPublicKey({publicKeyBytes:wt})})}static identifierToIdentityKeyBytes({didUri:dn}){const It=k.parse(dn);if(!It)throw new S(P.InvalidDid,`Invalid DID URI: ${dn}`);if(It.method!==le.methodName)throw new S(P.MethodNotSupported,`Method not supported: ${It.method}`);let wt;try{wt=O.U$.base32Z(It.id).toUint8Array()}catch{throw new S(P.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==wt.length)throw new S(P.InvalidPublicKeyLength,`Invalid public key length: ${wt.length}`);return wt}static identityKeyToIdentifier(dn){return d(this,arguments,void 0,function*({identityKey:It}){const wt=yield R.Mc.publicKeyToBytes({publicKey:It}),sn=O.U$.uint8Array(wt).toBase32Z();return`did:${le.methodName}:${sn}`})}static keyConverter(dn){const wt={Ed25519:R.Mc,"P-256":{publicKeyToBytes:sn=>d(this,[sn],void 0,function*({publicKey:Yt}){const an=yield R.iH.publicKeyToBytes({publicKey:Yt});return yield R.iH.compressPublicKey({publicKeyBytes:an})}),bytesToPublicKey:R.iH.bytesToPublicKey,privateKeyToBytes:R.iH.privateKeyToBytes,bytesToPrivateKey:R.iH.bytesToPrivateKey},secp256k1:{publicKeyToBytes:sn=>d(this,[sn],void 0,function*({publicKey:Yt}){const an=yield R.jg.publicKeyToBytes({publicKey:Yt});return yield R.jg.compressPublicKey({publicKeyBytes:an})}),bytesToPublicKey:R.jg.bytesToPublicKey,privateKeyToBytes:R.jg.privateKeyToBytes,bytesToPrivateKey:R.jg.bytesToPrivateKey},X25519:R.Nx}[dn];if(!wt)throw new S(P.InvalidPublicKeyType,`Unsupported curve: ${dn}`);return wt}static parseBep44GetMessage(dn){return d(this,arguments,void 0,function*({bep44Message:It}){const wt=yield R.Mc.bytesToPublicKey({publicKeyBytes:It.k}),sn=ve.A.encode({seq:It.seq,v:It.v}).subarray(1,-1);if(!(yield R.Mc.verify({key:wt,signature:It.sig,data:sn})))throw new S(P.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,De.D4)(It.v)})}static parseTxtDataToObject(dn){return this.parseTxtDataToString(dn).split(L).reduce((It,wt)=>{const[sn,Yt]=wt.split("=");return It[sn]=Yt,It},{})}static parseTxtDataToString(dn){if("string"==typeof dn)return dn;if(dn instanceof Uint8Array)return O.U$.uint8Array(dn).toString();if(Array.isArray(dn))return dn.map(It=>this.parseTxtDataToString(It)).join("");throw new S(P.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(dn){return d(this,arguments,void 0,function*({newDid:It,previousDidProof:wt}){const sn=yield Me.identifierToIdentityKey({didUri:wt.previousDid}),Yt=Me.identifierToIdentityKeyBytes({didUri:It}),an=O.U$.base64Url(wt.signature).toUint8Array();if(!(yield R.Mc.verify({key:sn,data:Yt,signature:an})))throw new S(P.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(dn){if(dn.length<=255)return dn;const It=[];for(let wt=0;wt<dn.length;wt+=255)It.push(dn.slice(wt,wt+255));return It}}E(52039),E(62108),E(37477);var Se=function(tn){return tn.authentication="authentication",tn.assertionMethod="assertionMethod",tn.keyAgreement="keyAgreement",tn.capabilityInvocation="capabilityInvocation",tn.capabilityDelegation="capabilityDelegation",tn}(Se||{});const Ae={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class rt{constructor({method:dn,id:It,path:wt,query:sn,fragment:Yt,params:an}){this.uri=`did:${dn}:${It}`,this.method=dn,this.id=It,this.path=wt,this.query=sn,this.fragment=Yt,this.params=an}static parse(dn){if(!dn)return null;const It=rt.DID_URI_PATTERN.exec(dn);if(!It||!It.groups)return null;const{method:wt,id:sn,path:Yt,query:an,fragment:xn}=It.groups,Wn={uri:`did:${wt}:${sn}`,method:wt,id:sn};if(Yt&&(Wn.path=Yt),an&&(Wn.query=an.slice(1)),xn&&(Wn.fragment=xn.slice(1)),an){const Rn={},yn=an.slice(1).split("&");for(const $n of yn){const[Jt,ct]=$n.split("=");Rn[Jt]=ct}Wn.params=Rn}return Wn}}rt.METHOD_PATTERN="([a-z0-9]+)",rt.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",rt.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${rt.PCT_ENCODED_PATTERN})`,rt.METHOD_ID_PATTERN=`((?:${rt.ID_CHAR_PATTERN}*:)*(${rt.ID_CHAR_PATTERN}+))`,rt.PATH_PATTERN="(/[^#?]*)?",rt.QUERY_PATTERN="([?][^#]*)?",rt.FRAGMENT_PATTERN="(#.*)?",rt.DID_URI_PATTERN=new RegExp(`^did:(?<method>${rt.METHOD_PATTERN}):(?<id>${rt.METHOD_ID_PATTERN})(?<path>${rt.PATH_PATTERN})(?<query>${rt.QUERY_PATTERN})(?<fragment>${rt.FRAGMENT_PATTERN})$`);class Ht extends Error{constructor(dn,It){super(`${dn}: ${It}`),this.code=dn,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ht)}}var vt=function(tn){return tn.InvalidDid="invalidDid",tn.MethodNotSupported="methodNotSupported",tn.InternalError="internalError",tn.InvalidDidDocument="invalidDidDocument",tn.InvalidDidDocumentLength="invalidDidDocumentLength",tn.InvalidDidUrl="invalidDidUrl",tn.InvalidPreviousDidProof="invalidPreviousDidProof",tn.InvalidPublicKey="invalidPublicKey",tn.InvalidPublicKeyLength="invalidPublicKeyLength",tn.InvalidPublicKeyType="invalidPublicKeyType",tn.InvalidSignature="invalidSignature",tn.NotFound="notFound",tn.RepresentationNotSupported="representationNotSupported",tn.UnsupportedPublicKeyType="unsupportedPublicKeyType",tn}(vt||{});function qt(tn){if("string"==typeof tn&&0!==tn.length)return tn.split("#").pop()}function it(tn){return!(!tn||"object"!=typeof tn||null===tn||!("id"in tn&&"type"in tn&&"controller"in tn)||"string"!=typeof tn.id||"string"!=typeof tn.type||"string"!=typeof tn.controller)}var nn=function(tn,dn,It,wt){return new(It||(It=Promise))(function(Yt,an){function xn(yn){try{Rn(wt.next(yn))}catch($n){an($n)}}function Wn(yn){try{Rn(wt.throw(yn))}catch($n){an($n)}}function Rn(yn){yn.done?Yt(yn.value):function sn(Yt){return Yt instanceof It?Yt:new It(function(an){an(Yt)})}(yn.value).then(xn,Wn)}Rn((wt=wt.apply(tn,dn||[])).next())})};class Xn{constructor({uri:dn,document:It,metadata:wt,keyManager:sn}){this.uri=dn,this.document=It,this.metadata=wt,this.keyManager=sn}export(){return nn(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let dn={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const It=[];for(let wt of this.document.verificationMethod){if(!wt.publicKeyJwk)throw new Error(`Verification method '${wt.id}' does not contain a public key in JWK format`);const sn=yield this.keyManager.getKeyUri({key:wt.publicKeyJwk}),Yt=yield this.keyManager.exportKey({keyUri:sn});It.push(Object.assign({},Yt))}dn.privateKeys=It}return dn})}getSigner(dn){return nn(this,void 0,void 0,function*(){var It;const wt=null===(It=this.document.verificationMethod)||void 0===It?void 0:It.find(Wn=>{var Rn,yn;return qt(Wn.id)===(null!==(Rn=qt(dn?.methodId))&&void 0!==Rn?Rn:qt(null===(yn=this.document.assertionMethod)||void 0===yn?void 0:yn[0]))});if(!wt||!wt.publicKeyJwk)throw new Ht(vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");const sn=yield this.keyManager.getKeyUri({key:wt.publicKeyJwk}),Yt=yield this.keyManager.getPublicKey({keyUri:sn}),an=this.keyManager;return{algorithm:R.Wp.getJoseSignatureAlgorithmFromPublicKey(Yt),keyId:wt.id,sign(Wn){return nn(this,arguments,void 0,function*({data:Rn}){return yield an.sign({data:Rn,keyUri:sn})})},verify(Wn){return nn(this,arguments,void 0,function*({data:Rn,signature:yn}){return yield an.verify({data:Rn,key:Yt,signature:yn})})}}})}static import(dn){return nn(this,arguments,void 0,function*({portableDid:It,keyManager:wt=new R.eP}){var sn;const Yt=function rr({didDocument:tn}){var dn,It;if(!tn)throw new TypeError("Required parameter missing: 'didDocument'");const wt=[];return wt.push(...null!==(It=null===(dn=tn.verificationMethod)||void 0===dn?void 0:dn.filter(it))&&void 0!==It?It:[]),Object.keys(Se).forEach(sn=>{var Yt,an;wt.push(...null!==(an=null===(Yt=tn[sn])||void 0===Yt?void 0:Yt.filter(it))&&void 0!==an?an:[])}),wt}({didDocument:It.document});if(0===Yt.length)throw new Ht(vt.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let xn of null!==(sn=It.privateKeys)&&void 0!==sn?sn:[])yield wt.importKey({key:xn});for(let xn of Yt){if(!xn.publicKeyJwk)throw new Error(`Verification method '${xn.id}' does not contain a public key in JWK format`);const Wn=yield wt.getKeyUri({key:xn.publicKeyJwk});yield wt.getPublicKey({keyUri:Wn})}return new Xn({uri:It.uri,document:It.document,metadata:It.metadata,keyManager:wt})})}}var ot=function(tn,dn,It,wt){return new(It||(It=Promise))(function(Yt,an){function xn(yn){try{Rn(wt.next(yn))}catch($n){an($n)}}function Wn(yn){try{Rn(wt.throw(yn))}catch($n){an($n)}}function Rn(yn){yn.done?Yt(yn.value):function sn(Yt){return Yt instanceof It?Yt:new It(function(an){an(Yt)})}(yn.value).then(xn,Wn)}Rn((wt=wt.apply(tn,dn||[])).next())})};class ft{static getSigningMethod(dn){return ot(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(dn,It){return ot(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var ut=function(tn,dn,It,wt){return new(It||(It=Promise))(function(Yt,an){function xn(yn){try{Rn(wt.next(yn))}catch($n){an($n)}}function Wn(yn){try{Rn(wt.throw(yn))}catch($n){an($n)}}function Rn(yn){yn.done?Yt(yn.value):function sn(Yt){return Yt instanceof It?Yt:new It(function(an){an(Yt)})}(yn.value).then(xn,Wn)}Rn((wt=wt.apply(tn,dn||[])).next())})},Ke=function(tn,dn){var It={};for(var wt in tn)Object.prototype.hasOwnProperty.call(tn,wt)&&dn.indexOf(wt)<0&&(It[wt]=tn[wt]);if(null!=tn&&"function"==typeof Object.getOwnPropertySymbols){var sn=0;for(wt=Object.getOwnPropertySymbols(tn);sn<wt.length;sn++)dn.indexOf(wt[sn])<0&&Object.prototype.propertyIsEnumerable.call(tn,wt[sn])&&(It[wt[sn]]=tn[wt[sn]])}return It};const We="https://diddht.tbddev.org",At=7200,Un=",";var wn=function(tn){return tn[tn.Discoverable=0]="Discoverable",tn[tn.Organization=1]="Organization",tn[tn.Government=2]="Government",tn[tn.Corporation=3]="Corporation",tn[tn.LocalBusiness=4]="LocalBusiness",tn[tn.SoftwarePackage=5]="SoftwarePackage",tn[tn.WebApp=6]="WebApp",tn[tn.FinancialInstitution=7]="FinancialInstitution",tn}(wn||{}),vn=function(tn){return tn[tn.Ed25519=0]="Ed25519",tn[tn.secp256k1=1]="secp256k1",tn[tn.secp256r1=2]="secp256r1",tn[tn.X25519=3]="X25519",tn}(vn||{}),pr=function(tn){return tn.authentication="auth",tn.assertionMethod="asm",tn.capabilityDelegation="del",tn.capabilityInvocation="inv",tn.keyAgreement="agm",tn}(pr||{});const nr={Ed25519:vn.Ed25519,ES256K:vn.secp256k1,ES256:vn.secp256r1,"P-256":vn.secp256r1,secp256k1:vn.secp256k1,secp256r1:vn.secp256r1,X25519:vn.X25519},Bn={[vn.Ed25519]:"Ed25519",[vn.secp256k1]:"ES256K",[vn.secp256r1]:"ES256",[vn.X25519]:"ECDH-ES+A256KW"};let Fn=(()=>{class tn extends ft{static create(){return ut(this,arguments,void 0,function*({keyManager:It=new R.eP,options:wt={}}={}){var sn,Yt,an,xn,Wn,Rn,yn,$n,Jt,ct,Et;if(null!==(sn=wt.verificationMethods)&&void 0!==sn&&sn.some(nt=>!(nt.algorithm in nr)))throw new Error("One or more verification method algorithms are not supported");const kt=null===(Yt=wt.verificationMethods)||void 0===Yt?void 0:Yt.filter(nt=>"id"in nt).map(nt=>nt.id);if(kt&&kt.length!==new Set(kt).size)throw new Error("One or more verification method IDs are not unique");if(null!==(an=wt.services)&&void 0!==an&&an.some(nt=>!nt.id||!nt.type||!nt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Qe=yield It.generateKey({algorithm:"Ed25519"}),et=yield It.getPublicKey({keyUri:Qe}),Be=yield Oe.identityKeyToIdentifier({identityKey:et}),Fe=Object.assign(Object.assign({id:Be},wt.alsoKnownAs&&{alsoKnownAs:wt.alsoKnownAs}),wt.controllers&&{controller:wt.controllers}),_t=[...null!==(xn=wt.verificationMethods)&&void 0!==xn?xn:[]];_t?.some(nt=>{var jt;return"0"===(null===(jt=nt.id)||void 0===jt?void 0:jt.split("#").pop())})||_t.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const nt of _t){const jt=nt.id&&"0"===nt.id.split("#").pop()?Qe:yield It.generateKey({algorithm:nt.algorithm}),In=yield It.getPublicKey({keyUri:jt});let hn=null!==(Rn=null!==(Wn=nt.id)&&void 0!==Wn?Wn:In.kid)&&void 0!==Rn?Rn:yield(0,R.BA)({jwk:In});hn=`${Be}#${qt(hn)}`,null!==(yn=Fe.verificationMethod)&&void 0!==yn||(Fe.verificationMethod=[]),Fe.verificationMethod.push({id:hn,type:"JsonWebKey",controller:null!==($n=nt.controller)&&void 0!==$n?$n:Be,publicKeyJwk:In});for(const Vt of null!==(Jt=nt.purposes)&&void 0!==Jt?Jt:[])Fe[Vt]||(Fe[Vt]=[]),Fe[Vt].push(hn)}null===(ct=wt.services)||void 0===ct||ct.forEach(nt=>{var jt;null!==(jt=Fe.service)&&void 0!==jt||(Fe.service=[]),nt.id=`${Be}#${nt.id.split("#").pop()}`,Fe.service.push(nt)});const lt=new Xn({uri:Be,document:Fe,metadata:Object.assign({published:!1},wt.types&&{types:wt.types}),keyManager:It});if(null===(Et=wt.publish)||void 0===Et||Et){const nt=yield tn.publish({did:lt,gatewayUri:wt.gatewayUri});lt.metadata=nt.didDocumentMetadata}return lt})}static import(It){return ut(this,arguments,void 0,function*({portableDid:wt,keyManager:sn=new R.eP}){var Yt;const an=rt.parse(wt.uri);if(an?.method!==tn.methodName)throw new Ht(vt.MethodNotSupported,"Method not supported");const xn=yield Xn.import({portableDid:wt,keyManager:sn});if(null===(Yt=xn.document.verificationMethod)||void 0===Yt||!Yt.some(Wn=>{var Rn;return"0"===(null===(Rn=Wn.id)||void 0===Rn?void 0:Rn.split("#").pop())}))throw new Ht(vt.InvalidDidDocument,"DID document must contain an Identity Key");return xn})}static getSigningMethod(It){return ut(this,arguments,void 0,function*({didDocument:wt,methodId:sn="#0"}){var Yt;const an=rt.parse(wt.id);if(an&&an.method!==this.methodName)throw new Ht(vt.MethodNotSupported,`Method not supported: ${an.method}`);const xn=null===(Yt=wt.verificationMethod)||void 0===Yt?void 0:Yt.find(Wn=>{var Rn,yn;return qt(Wn.id)===(null!==(Rn=qt(sn))&&void 0!==Rn?Rn:qt(null===(yn=wt.assertionMethod)||void 0===yn?void 0:yn[0]))});if(!xn||!xn.publicKeyJwk)throw new Ht(vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return xn})}static publish(It){return ut(this,arguments,void 0,function*({did:wt,gatewayUri:sn=We}){return yield qe.put({did:wt,gatewayUri:sn})})}static resolve(It){return ut(this,arguments,void 0,function*(wt,sn={}){var Yt;const an=null!==(Yt=sn?.gatewayUri)&&void 0!==Yt?Yt:We;try{yield Oe.identifierToIdentityKey({didUri:wt});const{didDocument:xn,didDocumentMetadata:Wn}=yield qe.get({didUri:wt,gatewayUri:an});return Object.assign(Object.assign({},Ae),{didDocument:xn,didDocumentMetadata:Wn})}catch(xn){if(!(xn instanceof Ht))throw new Error(xn);return Object.assign(Object.assign({},Ae),{didResolutionMetadata:Object.assign({error:xn.code},xn.message&&{errorMessage:xn.message})})}})}}return tn.methodName="dht",tn})();class qe{static get(dn){return ut(this,arguments,void 0,function*({didUri:It,gatewayUri:wt}){const sn=Oe.identifierToIdentityKeyBytes({didUri:It}),Yt=yield qe.pkarrGet({gatewayUri:wt,publicKeyBytes:sn}),an=yield Oe.parseBep44GetMessage({bep44Message:Yt}),xn=yield qe.fromDnsPacket({didUri:It,dnsPacket:an});return xn.didDocumentMetadata.versionId=Yt.seq.toString(),xn})}static put(dn){return ut(this,arguments,void 0,function*({did:It,gatewayUri:wt}){const sn=yield qe.toDnsPacket({didDocument:It.document,didMetadata:It.metadata,authoritativeGatewayUris:[wt]}),Yt=yield Oe.createBep44PutMessage({dnsPacket:sn,publicKeyBytes:Oe.identifierToIdentityKeyBytes({didUri:It.uri}),signer:yield It.getSigner({methodId:"0"})}),an=yield qe.pkarrPut({gatewayUri:wt,bep44Message:Yt});return{didDocument:It.document,didDocumentMetadata:Object.assign(Object.assign({},It.metadata),{published:an,versionId:Yt.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(dn){return ut(this,arguments,void 0,function*({gatewayUri:It,publicKeyBytes:wt}){const sn=O.U$.uint8Array(wt).toBase32Z(),Yt=new URL(sn,It).href;let an;try{if(an=yield fetch(Yt,{method:"GET"}),!an.ok)throw new Ht(vt.NotFound,`Pkarr record not found for: ${sn}`)}catch(Rn){throw Rn instanceof Ht?Rn:new Ht(vt.InternalError,`Failed to fetch Pkarr record: ${Rn.message}`)}const xn=yield an.arrayBuffer();if(!xn)throw new Ht(vt.NotFound,`Pkarr record not found for: ${sn}`);if(xn.byteLength<72)throw new Ht(vt.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${xn.byteLength}`);if(xn.byteLength>1072)throw new Ht(vt.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${xn.byteLength}`);return{k:wt,seq:Number(new DataView(xn).getBigUint64(64)),sig:new Uint8Array(xn,0,64),v:new Uint8Array(xn,72)}})}static pkarrPut(dn){return ut(this,arguments,void 0,function*({gatewayUri:It,bep44Message:wt}){const sn=O.U$.uint8Array(wt.k).toBase32Z(),Yt=new URL(sn,It).href,an=new Uint8Array(wt.v.length+72);let xn;an.set(wt.sig,0),new DataView(an.buffer).setBigUint64(wt.sig.length,BigInt(wt.seq)),an.set(wt.v,wt.sig.length+8);try{xn=yield fetch(Yt,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:an})}catch(Wn){throw new Ht(vt.InternalError,`Failed to put Pkarr record for identifier ${sn}: ${Wn.message}`)}return xn.ok})}static fromDnsPacket(dn){return ut(this,arguments,void 0,function*({didUri:It,dnsPacket:wt}){var sn,Yt,an;const xn={id:It},Wn={published:!0},Rn=new Map;for(const yn of null!==(sn=wt?.answers)&&void 0!==sn?sn:[]){if("TXT"!==yn.type)continue;const $n=yn.name.split(".")[0].substring(1);switch(!0){case $n.startsWith("aka"):{const Jt=Oe.parseTxtDataToString(yn.data);xn.alsoKnownAs=Jt.split(Un);break}case $n.startsWith("cnt"):{const Jt=Oe.parseTxtDataToString(yn.data);xn.controller=Jt.includes(Un)?Jt.split(Un):Jt;break}case $n.startsWith("k"):{const{id:Jt,t:ct,k:Et,c:kt,a:Qe}=Oe.parseTxtDataToObject(yn.data),et=O.U$.base64Url(Et).toUint8Array(),Be=vn[Number(ct)];let Fe=yield Oe.keyConverter(Be).bytesToPublicKey({publicKeyBytes:et});Fe.alg=Qe||Bn[Number(ct)];const _t="k0"===$n?"0":void 0!==Jt?Jt:yield(0,R.BA)({jwk:Fe});null!==(Yt=xn.verificationMethod)&&void 0!==Yt||(xn.verificationMethod=[]);const lt=`${It}#${_t}`;xn.verificationMethod.push({id:lt,type:"JsonWebKey",controller:kt??It,publicKeyJwk:Fe}),Rn.set($n,lt);break}case $n.startsWith("s"):{const Jt=Oe.parseTxtDataToObject(yn.data),{id:ct,t:Et,se:kt}=Jt,Qe=Ke(Jt,["id","t","se"]),et=kt.includes(Un)?kt.split(Un):[kt],Be=Object.fromEntries(Object.entries(Qe).map(([Fe,_t])=>[Fe,_t.includes(Un)?_t.split(Un):_t]));null!==(an=xn.service)&&void 0!==an||(xn.service=[]),xn.service.push(Object.assign(Object.assign({},Be),{id:`${It}#${ct}`,type:Et,serviceEndpoint:et}));break}case $n.startsWith("typ"):{const{id:Jt}=Oe.parseTxtDataToObject(yn.data);Wn.types=Jt.split(Un).map(ct=>Number(ct));break}case $n.startsWith("did"):{const Jt=Be=>Be.split(Un).map(Fe=>Rn.get(Fe)).filter(Fe=>"string"==typeof Fe),{auth:ct,asm:Et,del:kt,inv:Qe,agm:et}=Oe.parseTxtDataToObject(yn.data);ct&&(xn.authentication=Jt(ct)),Et&&(xn.assertionMethod=Jt(Et)),kt&&(xn.capabilityDelegation=Jt(kt)),Qe&&(xn.capabilityInvocation=Jt(Qe)),et&&(xn.keyAgreement=Jt(et));break}}}return{didDocument:xn,didDocumentMetadata:Wn,didResolutionMetadata:{}}})}static toDnsPacket(dn){return ut(this,arguments,void 0,function*({didDocument:It,didMetadata:wt,authoritativeGatewayUris:sn,previousDidProof:Yt}){var an,xn,Wn,Rn,yn;const $n=[],Jt=[],ct=new Map,Et=[],kt=[];if(void 0!==Yt){const{signature:Be,previousDid:Fe}=Yt;yield Oe.validatePreviousDidProof({newDid:It.id,previousDidProof:Yt}),$n.push({type:"TXT",name:"_prv._did.",ttl:At,data:`id=${Fe};s=${Be}`})}if(It.alsoKnownAs&&$n.push({type:"TXT",name:"_aka._did.",ttl:At,data:It.alsoKnownAs.join(Un)}),It.controller){const Be=Array.isArray(It.controller)?It.controller.join(Un):It.controller;$n.push({type:"TXT",name:"_cnt._did.",ttl:At,data:Be})}for(const[Be,Fe]of null!==(xn=null===(an=It.verificationMethod)||void 0===an?void 0:an.entries())&&void 0!==xn?xn:[]){const _t=`k${Be}`;kt.push(_t);let lt=Fe.id.split("#").pop();ct.set(lt,_t);const nt=Fe.publicKeyJwk;if(!nt?.crv||!(nt.crv in nr))throw new Ht(vt.InvalidPublicKeyType,`Verification method '${Fe.id}' contains an unsupported key type: ${null!==(Wn=nt?.crv)&&void 0!==Wn?Wn:"undefined"}`);const jt=vn[nt.crv],In=yield Oe.keyConverter(nt.crv).publicKeyToBytes({publicKey:nt}),Vt=[`t=${jt}`,`k=${O.U$.uint8Array(In).toBase64Url()}`];"0"!==lt&&(yield(0,R.BA)({jwk:nt}))!==lt&&Vt.unshift(`id=${lt}`),nt.alg!==Bn[jt]&&Vt.push(`a=${nt.alg}`),Fe.controller!==It.id&&Vt.push(`c=${Fe.controller}`),$n.push({type:"TXT",name:`_${_t}._did.`,ttl:At,data:Vt.join(";")})}null===(Rn=It.service)||void 0===Rn||Rn.forEach((Be,Fe)=>{const _t=`s${Fe}`;Et.push(_t);let{id:lt,type:nt,serviceEndpoint:jt}=Be,In=Ke(Be,["id","type","serviceEndpoint"]);lt=qt(lt),jt=Array.isArray(jt)?jt.join(","):jt;const Vt=Object.entries(Object.assign({id:lt,t:nt,se:jt},In)).map(([sr,_r])=>`${sr}=${_r}`).join(";"),Dn=Oe.chunkDataIfNeeded(Vt);$n.push({type:"TXT",name:`_${_t}._did.`,ttl:At,data:Dn})});const Qe=["v=0"];if(kt.length&&Qe.push(`vm=${kt.join(Un)}`),Object.keys(Se).forEach(Be=>{var Fe;const _t=null===(Fe=It[Be])||void 0===Fe?void 0:Fe.map(lt=>ct.get(lt.split("#").pop()));_t&&Qe.push(`${pr[Be]}=${_t.join(Un)}`)}),Et.length&&Qe.push(`svc=${Et.join(Un)}`),null!==(yn=wt.types)&&void 0!==yn&&yn.length){const Fe=wt.types.map(_t=>"string"==typeof _t?wn[_t]:_t);$n.push({type:"TXT",name:"_typ._did.",ttl:At,data:`id=${Fe.join(Un)}`})}$n.push({type:"TXT",name:"_did."+qe.getUniqueDidSuffix(It.id)+".",ttl:At,data:Qe.join(";")});for(const Be of sn||[])Jt.push({type:"NS",name:"_did."+qe.getUniqueDidSuffix(It.id)+".",ttl:At,data:Be+"."});return{id:0,type:"response",flags:De.hB,answers:[...$n,...Jt]}})}static getUniqueDidSuffix(dn){return dn.split(":")[2]}}class Oe{static createBep44PutMessage(dn){return ut(this,arguments,void 0,function*({dnsPacket:It,publicKeyBytes:wt,signer:sn}){const Yt=Math.ceil(Date.now()/1e3),an=(0,De.lF)(It),xn=ve.A.encode({seq:Yt,v:an}).subarray(1,-1);if(xn.length>1e3)throw new Ht(vt.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${xn.length} bytes`);return{k:wt,seq:Yt,sig:yield sn.sign({data:xn}),v:an}})}static identifierToIdentityKey(dn){return ut(this,arguments,void 0,function*({didUri:It}){let wt=Oe.identifierToIdentityKeyBytes({didUri:It});return yield R.Mc.bytesToPublicKey({publicKeyBytes:wt})})}static identifierToIdentityKeyBytes({didUri:dn}){const It=rt.parse(dn);if(!It)throw new Ht(vt.InvalidDid,`Invalid DID URI: ${dn}`);if(It.method!==Fn.methodName)throw new Ht(vt.MethodNotSupported,`Method not supported: ${It.method}`);let wt;try{wt=O.U$.base32Z(It.id).toUint8Array()}catch{throw new Ht(vt.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==wt.length)throw new Ht(vt.InvalidPublicKeyLength,`Invalid public key length: ${wt.length}`);return wt}static identityKeyToIdentifier(dn){return ut(this,arguments,void 0,function*({identityKey:It}){const wt=yield R.Mc.publicKeyToBytes({publicKey:It}),sn=O.U$.uint8Array(wt).toBase32Z();return`did:${Fn.methodName}:${sn}`})}static keyConverter(dn){const wt={Ed25519:R.Mc,"P-256":{publicKeyToBytes:sn=>ut(this,[sn],void 0,function*({publicKey:Yt}){const an=yield R.iH.publicKeyToBytes({publicKey:Yt});return yield R.iH.compressPublicKey({publicKeyBytes:an})}),bytesToPublicKey:R.iH.bytesToPublicKey,privateKeyToBytes:R.iH.privateKeyToBytes,bytesToPrivateKey:R.iH.bytesToPrivateKey},secp256k1:{publicKeyToBytes:sn=>ut(this,[sn],void 0,function*({publicKey:Yt}){const an=yield R.jg.publicKeyToBytes({publicKey:Yt});return yield R.jg.compressPublicKey({publicKeyBytes:an})}),bytesToPublicKey:R.jg.bytesToPublicKey,privateKeyToBytes:R.jg.privateKeyToBytes,bytesToPrivateKey:R.jg.bytesToPrivateKey},X25519:R.Nx}[dn];if(!wt)throw new Ht(vt.InvalidPublicKeyType,`Unsupported curve: ${dn}`);return wt}static parseBep44GetMessage(dn){return ut(this,arguments,void 0,function*({bep44Message:It}){const wt=yield R.Mc.bytesToPublicKey({publicKeyBytes:It.k}),sn=ve.A.encode({seq:It.seq,v:It.v}).subarray(1,-1);if(!(yield R.Mc.verify({key:wt,signature:It.sig,data:sn})))throw new Ht(vt.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,De.D4)(It.v)})}static parseTxtDataToObject(dn){return this.parseTxtDataToString(dn).split(";").reduce((It,wt)=>{const[sn,Yt]=wt.split("=");return It[sn]=Yt,It},{})}static parseTxtDataToString(dn){if("string"==typeof dn)return dn;if(dn instanceof Uint8Array)return O.U$.uint8Array(dn).toString();if(Array.isArray(dn))return dn.map(It=>this.parseTxtDataToString(It)).join("");throw new Ht(vt.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(dn){return ut(this,arguments,void 0,function*({newDid:It,previousDidProof:wt}){const sn=yield Oe.identifierToIdentityKey({didUri:wt.previousDid}),Yt=Oe.identifierToIdentityKeyBytes({didUri:It}),an=O.U$.base64Url(wt.signature).toUint8Array();if(!(yield R.Mc.verify({key:sn,data:Yt,signature:an})))throw new Ht(vt.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(dn){if(dn.length<=255)return dn;const It=[];for(let wt=0;wt<dn.length;wt+=255)It.push(dn.slice(wt,wt+255));return It}}var yr=function(tn,dn,It,wt){return new(It||(It=Promise))(function(Yt,an){function xn(yn){try{Rn(wt.next(yn))}catch($n){an($n)}}function Wn(yn){try{Rn(wt.throw(yn))}catch($n){an($n)}}function Rn(yn){yn.done?Yt(yn.value):function sn(Yt){return Yt instanceof It?Yt:new It(function(an){an(Yt)})}(yn.value).then(xn,Wn)}Rn((wt=wt.apply(tn,dn||[])).next())})};let Rr=(()=>{class tn extends ft{static create(){return yr(this,arguments,void 0,function*({keyManager:It=new R.eP,options:wt={}}={}){var sn,Yt,an,xn;if(wt.algorithm&&wt.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(wt.verificationMethods&&1!==wt.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const Wn=null!==(xn=null!==(sn=wt.algorithm)&&void 0!==sn?sn:null===(an=null===(Yt=wt.verificationMethods)||void 0===Yt?void 0:Yt[0])||void 0===an?void 0:an.algorithm)&&void 0!==xn?xn:"Ed25519",Rn=yield It.generateKey({algorithm:Wn}),yn=yield It.getPublicKey({keyUri:Rn}),$n=O.U$.object(yn).toBase64Url(),Jt=`did:${tn.methodName}:${$n}`,Et=(yield tn.resolve(Jt)).didDocument;return new Xn({uri:Jt,document:Et,metadata:{},keyManager:It})})}static getSigningMethod(It){return yr(this,arguments,void 0,function*({didDocument:wt}){var sn;const Yt=rt.parse(wt.id);if(Yt&&Yt.method!==this.methodName)throw new Ht(vt.MethodNotSupported,`Method not supported: ${Yt.method}`);const[an]=null!==(sn=wt.verificationMethod)&&void 0!==sn?sn:[];if(!an||!an.publicKeyJwk)throw new Ht(vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return an})}static import(It){return yr(this,arguments,void 0,function*({portableDid:wt,keyManager:sn=new R.eP}){const Yt=rt.parse(wt.uri);if(Yt?.method!==tn.methodName)throw new Ht(vt.MethodNotSupported,"Method not supported");const an=yield Xn.import({portableDid:wt,keyManager:sn});if(1!==an.document.verificationMethod.length)throw new Ht(vt.InvalidDidDocument,"DID document must contain exactly one verification method");return an})}static resolve(It,wt){return yr(this,void 0,void 0,function*(){const sn=rt.parse(It);let Yt;try{Yt=O.U$.base64Url(sn.id).toObject()}catch{}if(!sn||!Yt)return Object.assign(Object.assign({},Ae),{didResolutionMetadata:{error:"invalidDid"}});if(sn.method!==tn.methodName)return Object.assign(Object.assign({},Ae),{didResolutionMetadata:{error:"methodNotSupported"}});const an={"@context":["https://www.w3.org/ns/did/v1"],id:sn.uri},xn=`${an.id}#0`;switch(an.verificationMethod=[{id:xn,type:"JsonWebKey",controller:an.id,publicKeyJwk:Yt}],an.authentication=[xn],an.assertionMethod=[xn],an.capabilityInvocation=[xn],an.capabilityDelegation=[xn],an.keyAgreement=[xn],Yt.use){case"sig":delete an.keyAgreement;break;case"enc":delete an.authentication,delete an.assertionMethod,delete an.capabilityInvocation,delete an.capabilityDelegation}return Object.assign(Object.assign({},Ae),{didDocument:an})})}}return tn.methodName="jwk",tn})();var gn=E(64284),Sn=E(13138);class ar{constructor({db:dn,location:It="DATA/DID_RESOLVERCACHE",ttl:wt="15m"}={}){this.cache=dn??new Sn.Level(It),this.ttl=gn(wt)}get(dn){return function(tn,dn,It,wt){return new(It||(It=Promise))(function(Yt,an){function xn(yn){try{Rn(wt.next(yn))}catch($n){an($n)}}function Wn(yn){try{Rn(wt.throw(yn))}catch($n){an($n)}}function Rn(yn){yn.done?Yt(yn.value):function sn(Yt){return Yt instanceof It?Yt:new It(function(an){an(Yt)})}(yn.value).then(xn,Wn)}Rn((wt=wt.apply(tn,dn||[])).next())})}(this,void 0,void 0,function*(){try{const It=yield this.cache.get(dn),wt=JSON.parse(It);return Date.now()>=wt.ttlMillis?void this.cache.nextTick(()=>this.cache.del(dn)):wt.value}catch(It){if(It.notFound)return;throw It}})}set(dn,It){const wt={ttlMillis:Date.now()+this.ttl,value:It},sn=JSON.stringify(wt);return this.cache.put(dn,sn)}delete(dn){return this.cache.del(dn)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var Fr=E(34604),ci=function(tn,dn,It,wt){return new(It||(It=Promise))(function(Yt,an){function xn(yn){try{Rn(wt.next(yn))}catch($n){an($n)}}function Wn(yn){try{Rn(wt.throw(yn))}catch($n){an($n)}}function Rn(yn){yn.done?Yt(yn.value):function sn(Yt){return Yt instanceof It?Yt:new It(function(an){an(Yt)})}(yn.value).then(xn,Wn)}Rn((wt=wt.apply(tn,dn||[])).next())})};class _o{constructor(dn){this._agentDid=dn.agentDid,this.crypto=dn.cryptoApi,this.did=dn.didApi,this.dwn=dn.dwnApi,this.identity=dn.identityApi,this.keyManager=dn.keyManager,this.rpc=dn.rpcClient,this.sync=dn.syncApi,this.vault=dn.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(dn){this._agentDid=dn}static create({dataPath:dn="DATA/AGENT",agentDid:It,agentVault:wt,cryptoApi:sn,didApi:Yt,dwnApi:an,identityApi:xn,keyManager:Wn,rpcClient:Rn,syncApi:yn}={}){return ci(this,void 0,void 0,function*(){return wt??(wt=new Fr.TX({keyDerivationWorkFactor:21e4,store:new O.cG({location:`${dn}/VAULT_STORE`})})),sn??(sn=new Fr.DP),Yt??(Yt=new Fr.Bq({didMethods:[Fn,Rr],resolverCache:new ar({location:`${dn}/DID_RESOLVERCACHE`}),store:new Fr.QZ})),an??(an=new Fr.rr({dwn:yield Fr.rr.createDwn({dataPath:dn,didResolver:Yt})})),xn??(xn=new Fr.yc({store:new Fr.dk})),Wn??(Wn=new Fr.eP({keyStore:new Fr.cW})),Rn??(Rn=new Fr.oN),yn??(yn=new Fr.rM({syncEngine:new Fr.qB({dataPath:dn})})),new _o({agentDid:It,agentVault:wt,cryptoApi:sn,didApi:Yt,dwnApi:an,keyManager:Wn,identityApi:xn,rpcClient:Rn,syncApi:yn})})}firstLaunch(){return ci(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:dn,recoveryPhrase:It}){return ci(this,void 0,void 0,function*(){return It=yield this.vault.initialize({password:dn,recoveryPhrase:It})})}processDidRequest(dn){return ci(this,void 0,void 0,function*(){return this.did.processRequest(dn)})}processDwnRequest(dn){return ci(this,void 0,void 0,function*(){return this.dwn.processRequest(dn)})}processVcRequest(dn){return ci(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(dn){return ci(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(dn){return ci(this,void 0,void 0,function*(){return this.dwn.sendRequest(dn)})}sendVcRequest(dn){return ci(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:dn}){return ci(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:dn})),this.agentDid=yield this.vault.getDid()})}}let Ii=(()=>{class tn{constructor(){this.agents=(0,_.vPA)([]),this.initialized=(0,_.vPA)(!1),this.locked=(0,_.vPA)(!1),console.log("Connecting to Web5..."),B.uW.connect({sync:"5s"}).then(It=>{this.did=It.did,this.web5=It.web5,console.log(this.did),console.log(this.web5),this.initialized.set(!0),this.locked.set(!1)}).catch(It=>{console.error(It),console.log("Show unlock screen!"),this.locked.set(!0)})}activeAgent(){return this.web5.agent}changePassword(It,wt){var sn=this;return(0,g.A)(function*(){yield sn.web5.agent.vault.changePassword({oldPassword:It,newPassword:wt})})()}unlock(It){var wt=this;return(0,g.A)(function*(){console.log("Connecting to Web5...");try{const{did:sn,web5:Yt}=yield B.uW.connect({sync:"5s",password:It});return wt.did=sn,wt.web5=Yt,console.log(wt.did),console.log(wt.web5),wt.initialized.set(!0),wt.locked.set(!1),!0}catch(sn){return console.error(sn),console.log("Show unlock screen!"),wt.locked.set(!0),!1}})()}initialize(It,wt,sn){var Yt=this;return(0,g.A)(function*(){const an=yield _o.create({dataPath:sn});(yield an.firstLaunch())&&(wt=yield an.initialize({password:It,recoveryPhrase:wt})),Yt.agents.update(xn=>[...xn,an])})()}create(){return(0,g.A)(function*(){return yield le.create({options:{publish:!1}})})()}static#e=this.\u0275fac=function(wt){return new(wt||tn)};static#t=this.\u0275prov=_.jDH({token:tn,factory:tn.\u0275fac,providedIn:"root"})}return tn})()},36815:($e,j,E)=>{"use strict";E.d(j,{Y:()=>_});var g=E(93953);let _=(()=>{class B{constructor(){this.scrolling=(0,g.vPA)(!0),(0,g.QZP)(()=>{const b=document.querySelector(".sidenav-scroll-wrapper");b&&(b.style.overflow=this.scrolling()?"auto":"hidden");const k=document.querySelector(".sidenav-content");k&&(k.style.overflow=this.scrolling()?"auto":"hidden")})}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}static#e=this.\u0275fac=function(k){return new(k||B)};static#t=this.\u0275prov=g.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},19998:($e,j,E)=>{"use strict";var g=E(345),_=E(93953),B=E(18498);const H=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"introduction",loadComponent:()=>E.e(630).then(E.bind(E,64630)).then(Ft=>Ft.IntroductionComponent),title:"Introduction",data:{icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([E.e(596),E.e(195),E.e(320)]).then(E.bind(E,62320)).then(Ft=>Ft.DashboardComponent),title:"Dashboard",data:{icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([E.e(596),E.e(798),E.e(516),E.e(571),E.e(450),E.e(702)]).then(E.bind(E,6702)).then(Ft=>Ft.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"marketplace",loadComponent:()=>E.e(392).then(E.bind(E,94392)).then(Ft=>Ft.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([E.e(596),E.e(798),E.e(516),E.e(571),E.e(450),E.e(195),E.e(487)]).then(E.bind(E,8487)).then(Ft=>Ft.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/chat",loadComponent:()=>Promise.all([E.e(571),E.e(951)]).then(E.bind(E,71951)).then(Ft=>Ft.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"registries",loadComponent:()=>Promise.all([E.e(596),E.e(798),E.e(516),E.e(466)]).then(E.bind(E,69466)).then(Ft=>Ft.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([E.e(596),E.e(798),E.e(516),E.e(76),E.e(26)]).then(E.bind(E,65026)).then(Ft=>Ft.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([E.e(850),E.e(474)]).then(E.bind(E,53474)).then(Ft=>Ft.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([E.e(850),E.e(358),E.e(843)]).then(E.bind(E,2843)).then(Ft=>Ft.DataComponent),title:"Data",data:{icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([E.e(76),E.e(533)]).then(E.bind(E,29533)).then(Ft=>Ft.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>E.e(757).then(E.bind(E,21757)).then(Ft=>Ft.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>E.e(228).then(E.bind(E,92228)).then(Ft=>Ft.NotificationsComponent),title:"Notifications",data:{hide:!1,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([E.e(850),E.e(193)]).then(E.bind(E,85193)).then(Ft=>Ft.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>Promise.all([E.e(596),E.e(12)]).then(E.bind(E,88012)).then(Ft=>Ft.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/backup",loadComponent:()=>Promise.all([E.e(596),E.e(962)]).then(E.bind(E,75962)).then(Ft=>Ft.BackupComponent),title:"Backup",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>E.e(806).then(E.bind(E,75806)).then(Ft=>Ft.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>E.e(613).then(E.bind(E,29613)).then(Ft=>Ft.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>E.e(65).then(E.bind(E,33065)).then(Ft=>Ft.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>Promise.all([E.e(596),E.e(880)]).then(E.bind(E,17880)).then(Ft=>Ft.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>E.e(854).then(E.bind(E,85854)).then(Ft=>Ft.IdentityComponent),title:"Identity",data:{icon:"account_circle"}},{path:"settings",loadComponent:()=>E.e(959).then(E.bind(E,60959)).then(Ft=>Ft.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>E.e(216).then(E.bind(E,85216)).then(Ft=>Ft.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/licenses",loadComponent:()=>E.e(727).then(E.bind(E,19727)).then(Ft=>Ft.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>E.e(128).then(E.bind(E,99128)).then(Ft=>Ft.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"address",loadComponent:()=>Promise.all([E.e(596),E.e(798),E.e(614)]).then(E.bind(E,39614)).then(Ft=>Ft.AddressFormComponent),title:"Address",data:{hide:!1,icon:"folder"}},{path:"table",loadComponent:()=>Promise.all([E.e(798),E.e(516),E.e(603)]).then(E.bind(E,79603)).then(Ft=>Ft.TableComponent),title:"Table",data:{hide:!0,icon:"folder"}},{path:"tree",loadComponent:()=>Promise.all([E.e(358),E.e(238)]).then(E.bind(E,9238)).then(Ft=>Ft.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>E.e(528).then(E.bind(E,35528)).then(Ft=>Ft.DragDropComponent),title:"Drag-Drop",data:{hide:!1,icon:"folder"}}];var b=E(60177);let S=(()=>{class Ft{constructor(Ut,gn,Sn,ur,ar){this.doc=Ut,this.delegate=gn,this.zone=Sn,this.animationType=ur,this.moduleImpl=ar,this._rendererFactoryPromise=null,this.scheduler=(0,_.WQX)(_.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??E.e(8).then(E.bind(E,68008)).then(gn=>gn)).catch(gn=>{throw new _.wOt(5300,!1)}).then(({\u0275createEngine:gn,\u0275AnimationRendererFactory:Sn})=>{this._engine=gn(this.animationType,this.doc);const ur=new Sn(this.delegate,this._engine,this.zone);return this.delegate=ur,ur})}createRenderer(Ut,gn){const Sn=this.delegate.createRenderer(Ut,gn);if(0===Sn.\u0275type)return Sn;"boolean"==typeof Sn.throwOnSyntheticProps&&(Sn.throwOnSyntheticProps=!1);const ur=new P(Sn);return gn?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(ar=>{const oi=ar.createRenderer(Ut,gn);ur.use(oi),this.scheduler?.notify(9)}).catch(ar=>{ur.use(Sn)}),ur}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(gn){_.QTQ()};static#t=this.\u0275prov=_.jDH({token:Ft,factory:Ft.\u0275fac})}return Ft})();class P{constructor(_n){this.delegate=_n,this.replay=[],this.\u0275type=1}use(_n){if(this.delegate=_n,null!==this.replay){for(const Ut of this.replay)Ut(_n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(_n,Ut){return this.delegate.createElement(_n,Ut)}createComment(_n){return this.delegate.createComment(_n)}createText(_n){return this.delegate.createText(_n)}get destroyNode(){return this.delegate.destroyNode}appendChild(_n,Ut){this.delegate.appendChild(_n,Ut)}insertBefore(_n,Ut,gn,Sn){this.delegate.insertBefore(_n,Ut,gn,Sn)}removeChild(_n,Ut,gn){this.delegate.removeChild(_n,Ut,gn)}selectRootElement(_n,Ut){return this.delegate.selectRootElement(_n,Ut)}parentNode(_n){return this.delegate.parentNode(_n)}nextSibling(_n){return this.delegate.nextSibling(_n)}setAttribute(_n,Ut,gn,Sn){this.delegate.setAttribute(_n,Ut,gn,Sn)}removeAttribute(_n,Ut,gn){this.delegate.removeAttribute(_n,Ut,gn)}addClass(_n,Ut){this.delegate.addClass(_n,Ut)}removeClass(_n,Ut){this.delegate.removeClass(_n,Ut)}setStyle(_n,Ut,gn,Sn){this.delegate.setStyle(_n,Ut,gn,Sn)}removeStyle(_n,Ut,gn){this.delegate.removeStyle(_n,Ut,gn)}setProperty(_n,Ut,gn){this.shouldReplay(Ut)&&this.replay.push(Sn=>Sn.setProperty(_n,Ut,gn)),this.delegate.setProperty(_n,Ut,gn)}setValue(_n,Ut){this.delegate.setValue(_n,Ut)}listen(_n,Ut,gn){return this.shouldReplay(Ut)&&this.replay.push(Sn=>Sn.listen(_n,Ut,gn)),this.delegate.listen(_n,Ut,gn)}shouldReplay(_n){return null!==this.replay&&_n.startsWith("@")}}var O=E(59030),A=E(18810),V=E(33726),U=E(7673),K=E(28793),Q=E(21413),q=E(71985),Y=E(85343);const W=new q.c(Y.l);var ie=E(57786),ae=E(96354),ue=E(5964),ce=E(25558),pe=E(30017),ve=E(98071),De=E(58750),C=E(39974);const d={connector:()=>new Q.B};function h(Ft,_n=d){const{connector:Ut}=_n;return(0,C.N)((gn,Sn)=>{const ur=Ut();(0,De.Tg)(Ft(function s(Ft){return new q.c(_n=>Ft.subscribe(_n))}(ur))).subscribe(Sn),Sn.add(gn.subscribe(ur))})}var I=E(96697),L=E(88141),x=E(91986);const a="Service workers are disabled or not supported by this browser";class Z{constructor(_n){if(this.serviceWorker=_n,_n){const gn=(0,V.R)(_n,"controllerchange").pipe((0,ae.T)(()=>_n.controller)),Sn=(0,O.v)(()=>(0,U.of)(_n.controller)),ur=(0,K.x)(Sn,gn);this.worker=ur.pipe((0,ue.p)(Fr=>!!Fr)),this.registration=this.worker.pipe((0,ce.n)(()=>_n.getRegistration()));const Oi=(0,V.R)(_n,"message").pipe((0,ae.T)(Fr=>Fr.data)).pipe((0,ue.p)(Fr=>Fr&&Fr.type)).pipe(function w(Ft){return Ft?_n=>h(Ft)(_n):_n=>function f(Ft,_n){const Ut=(0,ve.T)(Ft)?Ft:()=>Ft;return(0,ve.T)(_n)?h(_n,{connector:Ut}):gn=>new pe.G(gn,Ut)}(new Q.B)(_n)}());Oi.connect(),this.events=Oi}else this.worker=this.events=this.registration=function v(Ft){return(0,O.v)(()=>(0,A.$)(new Error(Ft)))}(a)}postMessage(_n,Ut){return this.worker.pipe((0,I.s)(1),(0,L.M)(gn=>{gn.postMessage({action:_n,...Ut})})).toPromise().then(()=>{})}postMessageWithOperation(_n,Ut,gn){const Sn=this.waitForOperationCompleted(gn),ur=this.postMessage(_n,Ut);return Promise.all([ur,Sn]).then(([,ar])=>ar)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(_n){let Ut;return Ut="string"==typeof _n?gn=>gn.type===_n:gn=>_n.includes(gn.type),this.events.pipe((0,ue.p)(Ut))}nextEventOfType(_n){return this.eventsOfType(_n).pipe((0,I.s)(1))}waitForOperationCompleted(_n){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,ue.p)(Ut=>Ut.nonce===_n),(0,I.s)(1),(0,ae.T)(Ut=>{if(void 0!==Ut.result)return Ut.result;throw new Error(Ut.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let z=(()=>{class Ft{get isEnabled(){return this.sw.isEnabled}constructor(Ut){if(this.sw=Ut,this.pushManager=null,this.subscriptionChanges=new Q.B,!Ut.isEnabled)return this.messages=W,this.notificationClicks=W,void(this.subscription=W);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ae.T)(Sn=>Sn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ae.T)(Sn=>Sn.data)),this.pushManager=this.sw.registration.pipe((0,ae.T)(Sn=>Sn.pushManager));const gn=this.pushManager.pipe((0,ce.n)(Sn=>Sn.getSubscription()));this.subscription=(0,ie.h)(gn,this.subscriptionChanges)}requestSubscription(Ut){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(a));const gn={userVisibleOnly:!0};let Sn=this.decodeBase64(Ut.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),ur=new Uint8Array(new ArrayBuffer(Sn.length));for(let ar=0;ar<Sn.length;ar++)ur[ar]=Sn.charCodeAt(ar);return gn.applicationServerKey=ur,this.pushManager.pipe((0,ce.n)(ar=>ar.subscribe(gn)),(0,I.s)(1)).toPromise().then(ar=>(this.subscriptionChanges.next(ar),ar))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,I.s)(1),(0,ce.n)(gn=>{if(null===gn)throw new Error("Not subscribed to push notifications.");return gn.unsubscribe().then(Sn=>{if(!Sn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(a))}decodeBase64(Ut){return atob(Ut)}static#e=this.\u0275fac=function(gn){return new(gn||Ft)(_.KVO(Z))};static#t=this.\u0275prov=_.jDH({token:Ft,factory:Ft.\u0275fac})}return Ft})(),ee=(()=>{class Ft{get isEnabled(){return this.sw.isEnabled}constructor(Ut){if(this.sw=Ut,!Ut.isEnabled)return this.versionUpdates=W,void(this.unrecoverable=W);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(a));const Ut=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Ut},Ut)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(a));const Ut=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Ut},Ut)}static#e=this.\u0275fac=function(gn){return new(gn||Ft)(_.KVO(Z))};static#t=this.\u0275prov=_.jDH({token:Ft,factory:Ft.\u0275fac})}return Ft})();const le=new _.nKC("");function we(Ft,_n,Ut,gn){return()=>{if(!(0,b.UE)(gn)||!("serviceWorker"in navigator)||!1===Ut.enabled)return;const Sn=Ft.get(_.SKi),ur=Ft.get(_.o8S);let ar;if(Sn.runOutsideAngular(()=>{const oi=navigator.serviceWorker,_i=()=>oi.controller?.postMessage({action:"INITIALIZE"});oi.addEventListener("controllerchange",_i),ur.onDestroy(()=>{oi.removeEventListener("controllerchange",_i)})}),"function"==typeof Ut.registrationStrategy)ar=Ut.registrationStrategy();else{const[oi,..._i]=(Ut.registrationStrategy||"registerWhenStable:30000").split(":");switch(oi){case"registerImmediately":ar=(0,U.of)(null);break;case"registerWithDelay":ar=Me(+_i[0]||0);break;case"registerWhenStable":ar=_i[0]?(0,ie.h)(Ge(Ft),Me(+_i[0])):Ge(Ft);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Ut.registrationStrategy}`)}}Sn.runOutsideAngular(()=>ar.pipe((0,I.s)(1)).subscribe(()=>navigator.serviceWorker.register(_n,{scope:Ut.scope}).catch(oi=>console.error("Service worker registration failed with:",oi))))}}function Me(Ft){return(0,U.of)(null).pipe((0,x.c)(Ft))}function Ge(Ft){return Ft.get(_.o8S).isStable.pipe((0,ue.p)(Ut=>Ut))}function ge(Ft,_n){return new Z((0,b.UE)(_n)&&!1!==Ft.enabled?navigator.serviceWorker:void 0)}class me{}const Ce={providers:[(0,_.Jn2)({eventCoalescing:!0}),(0,B.lh)(H),function R(Ft="animations"){return(0,_.ngT)("NgAsyncAnimations"),(0,_.EmA)([{provide:_._9s,useFactory:(_n,Ut,gn)=>new S(_n,Ut,gn,Ft),deps:[b.qQ,g.B7,_.SKi]},{provide:_.bc$,useValue:"noop"===Ft?"NoopAnimations":"BrowserAnimations"}])}(),function Ue(Ft,_n={}){return(0,_.EmA)([z,ee,{provide:le,useValue:Ft},{provide:me,useValue:_n},{provide:Z,useFactory:ge,deps:[me,_.Agw]},{provide:_.hnV,useFactory:we,deps:[_.zZn,le,me,_.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,_.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var be=E(99327),he=E(55911),ne=E(88834),te=E(67333),de=E(86600),_e=E(18617),Ie=E(28203),He=E(14085),Ve=E(67336),xt=E(36860),Ne=E(73703),ke=E(56977),pt=E(23294),F=E(99172),D=E(70152),M=E(49969);const G=["*"],fe=["content"],Se=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ae=["mat-drawer","mat-drawer-content","*"];function rt(Ft,_n){if(1&Ft){const Ut=_.RV6();_.j41(0,"div",1),_.bIt("click",function(){_.eBV(Ut);const Sn=_.XpG();return _.Njj(Sn._onBackdropClicked())}),_.k0s()}if(2&Ft){const Ut=_.XpG();_.AVh("mat-drawer-shown",Ut._isShowingBackdrop())}}function Ht(Ft,_n){1&Ft&&(_.j41(0,"mat-drawer-content"),_.SdG(1,2),_.k0s())}const vt=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Ot=["mat-sidenav","mat-sidenav-content","*"];function qt(Ft,_n){if(1&Ft){const Ut=_.RV6();_.j41(0,"div",1),_.bIt("click",function(){_.eBV(Ut);const Sn=_.XpG();return _.Njj(Sn._onBackdropClicked())}),_.k0s()}if(2&Ft){const Ut=_.XpG();_.AVh("mat-drawer-shown",Ut._isShowingBackdrop())}}function mn(Ft,_n){1&Ft&&(_.j41(0,"mat-sidenav-content"),_.SdG(1,2),_.k0s())}const rr={transformDrawer:(0,M.hZ)("transform",[(0,M.wk)("open, open-instant",(0,M.iF)({transform:"none",visibility:"visible"})),(0,M.wk)("void",(0,M.iF)({"box-shadow":"none",visibility:"hidden"})),(0,M.kY)("void => open-instant",(0,M.i0)("0ms")),(0,M.kY)("void <=> open, open-instant => void",(0,M.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},rn=new _.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function dt(){return!1}}),Xt=new _.nKC("MAT_DRAWER_CONTAINER");let it=(()=>{class Ft extends te.uv{constructor(Ut,gn,Sn,ur,ar){super(Sn,ur,ar),this._changeDetectorRef=Ut,this._container=gn}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(gn){return new(gn||Ft)(_.rXU(_.gRc),_.rXU((0,_.Rfq)(()=>Gt)),_.rXU(_.aKT),_.rXU(te.R),_.rXU(_.SKi))};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(gn,Sn){2&gn&&_.xc7("margin-left",Sn._container._contentMargins.left,"px")("margin-right",Sn._container._contentMargins.right,"px")},standalone:!0,features:[_.Jv_([{provide:te.uv,useExisting:Ft}]),_.Vt3,_.aNF],ngContentSelectors:G,decls:1,vars:0,template:function(gn,Sn){1&gn&&(_.NAR(),_.SdG(0))},encapsulation:2,changeDetection:0})}return Ft})(),Wt=(()=>{class Ft{get position(){return this._position}set position(Ut){(Ut="end"===Ut?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(Ut),this._position=Ut,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(Ut){this._mode=Ut,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(Ut){this._disableClose=(0,He.he)(Ut)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(Ut){("true"===Ut||"false"===Ut||null==Ut)&&(Ut=(0,He.he)(Ut)),this._autoFocus=Ut}get opened(){return this._opened}set opened(Ut){this.toggle((0,He.he)(Ut))}constructor(Ut,gn,Sn,ur,ar,oi,_i,Oi){this._elementRef=Ut,this._focusTrapFactory=gn,this._focusMonitor=Sn,this._platform=ur,this._ngZone=ar,this._interactivityChecker=oi,this._doc=_i,this._container=Oi,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Q.B,this._animationEnd=new Q.B,this._animationState="void",this.openedChange=new _.bkB(!0),this._openedStream=this.openedChange.pipe((0,ue.p)(Fr=>Fr),(0,ae.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,ue.p)(Fr=>Fr.fromState!==Fr.toState&&0===Fr.toState.indexOf("open")),(0,Ne.u)(void 0)),this._closedStream=this.openedChange.pipe((0,ue.p)(Fr=>!Fr),(0,ae.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,ue.p)(Fr=>Fr.fromState!==Fr.toState&&"void"===Fr.toState),(0,Ne.u)(void 0)),this._destroyed=new Q.B,this.onPositionChanged=new _.bkB,this._modeChanged=new Q.B,this._injector=(0,_.WQX)(_.zZn),this.openedChange.pipe((0,ke.Q)(this._destroyed)).subscribe(Fr=>{Fr?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,V.R)(this._elementRef.nativeElement,"keydown").pipe((0,ue.p)(Fr=>Fr.keyCode===Ve._f&&!this.disableClose&&!(0,Ve.rp)(Fr)),(0,ke.Q)(this._destroyed)).subscribe(Fr=>this._ngZone.run(()=>{this.close(),Fr.stopPropagation(),Fr.preventDefault()}))}),this._animationEnd.pipe((0,pt.F)((Fr,ci)=>Fr.fromState===ci.fromState&&Fr.toState===ci.toState)).subscribe(Fr=>{const{fromState:ci,toState:_o}=Fr;(0===_o.indexOf("open")&&"void"===ci||"void"===_o&&0===ci.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(Ut,gn){this._interactivityChecker.isFocusable(Ut)||(Ut.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Sn=()=>{Ut.removeEventListener("blur",Sn),Ut.removeEventListener("mousedown",Sn),Ut.removeAttribute("tabindex")};Ut.addEventListener("blur",Sn),Ut.addEventListener("mousedown",Sn)})),Ut.focus(gn)}_focusByCssSelector(Ut,gn){let Sn=this._elementRef.nativeElement.querySelector(Ut);Sn&&this._forceFocus(Sn,gn)}_takeFocus(){if(!this._focusTrap)return;const Ut=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,_.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof Ut.focus&&Ut.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(Ut){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,Ut):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const Ut=this._doc.activeElement;return!!Ut&&this._elementRef.nativeElement.contains(Ut)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(Ut){return this.toggle(!0,Ut)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(Ut=!this.opened,gn){Ut&&gn&&(this._openedVia=gn);const Sn=this._setOpen(Ut,!Ut&&this._isFocusWithinDrawer(),this._openedVia||"program");return Ut||(this._openedVia=null),Sn}_setOpen(Ut,gn,Sn){return this._opened=Ut,Ut?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",gn&&this._restoreFocus(Sn)),this._updateFocusTrapState(),new Promise(ur=>{this.openedChange.pipe((0,I.s)(1)).subscribe(ar=>ur(ar?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(Ut){if(!this._platform.isBrowser)return;const gn=this._elementRef.nativeElement,Sn=gn.parentNode;"end"===Ut?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),Sn.insertBefore(this._anchor,gn)),Sn.appendChild(gn)):this._anchor&&this._anchor.parentNode.insertBefore(gn,this._anchor)}static#e=this.\u0275fac=function(gn){return new(gn||Ft)(_.rXU(_.aKT),_.rXU(_e.GX),_.rXU(_e.FN),_.rXU(xt.OD),_.rXU(_.SKi),_.rXU(_e.Z7),_.rXU(b.qQ,8),_.rXU(Xt,8))};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["mat-drawer"]],viewQuery:function(gn,Sn){if(1&gn&&_.GBs(fe,5),2&gn){let ur;_.mGM(ur=_.lsd())&&(Sn._content=ur.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(gn,Sn){1&gn&&_.Kam("@transform.start",function(ar){return Sn._animationStarted.next(ar)})("@transform.done",function(ar){return Sn._animationEnd.next(ar)}),2&gn&&(_.zvX("@transform",Sn._animationState),_.BMQ("align",null),_.AVh("mat-drawer-end","end"===Sn.position)("mat-drawer-over","over"===Sn.mode)("mat-drawer-push","push"===Sn.mode)("mat-drawer-side","side"===Sn.mode)("mat-drawer-opened",Sn.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[_.aNF],ngContentSelectors:G,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(gn,Sn){1&gn&&(_.NAR(),_.j41(0,"div",1,0),_.SdG(2),_.k0s())},dependencies:[te.uv],encapsulation:2,data:{animation:[rr.transformDrawer]},changeDetection:0})}return Ft})(),Gt=(()=>{class Ft{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(Ut){this._autosize=(0,He.he)(Ut)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(Ut){this._backdropOverride=null==Ut?null:(0,He.he)(Ut)}get scrollable(){return this._userContent||this._content}constructor(Ut,gn,Sn,ur,ar,oi=!1,_i){this._dir=Ut,this._element=gn,this._ngZone=Sn,this._changeDetectorRef=ur,this._animationMode=_i,this._drawers=new _.rOR,this.backdropClick=new _.bkB,this._destroyed=new Q.B,this._doCheckSubject=new Q.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Q.B,this._injector=(0,_.WQX)(_.zZn),Ut&&Ut.change.pipe((0,ke.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),ar.change().pipe((0,ke.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=oi}ngAfterContentInit(){this._allDrawers.changes.pipe((0,F.Z)(this._allDrawers),(0,ke.Q)(this._destroyed)).subscribe(Ut=>{this._drawers.reset(Ut.filter(gn=>!gn._container||gn._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,F.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(Ut=>{this._watchDrawerToggle(Ut),this._watchDrawerPosition(Ut),this._watchDrawerMode(Ut)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,D.B)(10),(0,ke.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(Ut=>Ut.open())}close(){this._drawers.forEach(Ut=>Ut.close())}updateContentMargins(){let Ut=0,gn=0;if(this._left&&this._left.opened)if("side"==this._left.mode)Ut+=this._left._getWidth();else if("push"==this._left.mode){const Sn=this._left._getWidth();Ut+=Sn,gn-=Sn}if(this._right&&this._right.opened)if("side"==this._right.mode)gn+=this._right._getWidth();else if("push"==this._right.mode){const Sn=this._right._getWidth();gn+=Sn,Ut-=Sn}Ut=Ut||null,gn=gn||null,(Ut!==this._contentMargins.left||gn!==this._contentMargins.right)&&(this._contentMargins={left:Ut,right:gn},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(Ut){Ut._animationStarted.pipe((0,ue.p)(gn=>gn.fromState!==gn.toState),(0,ke.Q)(this._drawers.changes)).subscribe(gn=>{"open-instant"!==gn.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==Ut.mode&&Ut.openedChange.pipe((0,ke.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(Ut.opened))}_watchDrawerPosition(Ut){Ut&&Ut.onPositionChanged.pipe((0,ke.Q)(this._drawers.changes)).subscribe(()=>{(0,_.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:_.wjH.Read})})}_watchDrawerMode(Ut){Ut&&Ut._modeChanged.pipe((0,ke.Q)((0,ie.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(Ut){const gn=this._element.nativeElement.classList,Sn="mat-drawer-container-has-open";Ut?gn.add(Sn):gn.remove(Sn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(Ut=>{"end"==Ut.position?this._end=Ut:this._start=Ut}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(Ut=>Ut&&!Ut.disableClose&&this._drawerHasBackdrop(Ut)).forEach(Ut=>Ut._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(Ut){return null!=Ut&&Ut.opened}_drawerHasBackdrop(Ut){return null==this._backdropOverride?!!Ut&&"side"!==Ut.mode:this._backdropOverride}static#e=this.\u0275fac=function(gn){return new(gn||Ft)(_.rXU(Ie.dS,8),_.rXU(_.aKT),_.rXU(_.SKi),_.rXU(_.gRc),_.rXU(te.Xj),_.rXU(rn),_.rXU(_.bc$,8))};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["mat-drawer-container"]],contentQueries:function(gn,Sn,ur){if(1&gn&&(_.wni(ur,it,5),_.wni(ur,Wt,5)),2&gn){let ar;_.mGM(ar=_.lsd())&&(Sn._content=ar.first),_.mGM(ar=_.lsd())&&(Sn._allDrawers=ar)}},viewQuery:function(gn,Sn){if(1&gn&&_.GBs(it,5),2&gn){let ur;_.mGM(ur=_.lsd())&&(Sn._userContent=ur.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(gn,Sn){2&gn&&_.AVh("mat-drawer-container-explicit-backdrop",Sn._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[_.Jv_([{provide:Xt,useExisting:Ft}]),_.aNF],ngContentSelectors:Ae,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(gn,Sn){1&gn&&(_.NAR(Se),_.DNE(0,rt,1,2,"div",0),_.SdG(1),_.SdG(2,1),_.DNE(3,Ht,2,0,"mat-drawer-content")),2&gn&&(_.vxM(Sn.hasBackdrop?0:-1),_.R7$(3),_.vxM(Sn._content?-1:3))},dependencies:[it],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return Ft})(),nn=(()=>{class Ft extends it{constructor(Ut,gn,Sn,ur,ar){super(Ut,gn,Sn,ur,ar)}static#e=this.\u0275fac=function(gn){return new(gn||Ft)(_.rXU(_.gRc),_.rXU((0,_.Rfq)(()=>ot)),_.rXU(_.aKT),_.rXU(te.R),_.rXU(_.SKi))};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(gn,Sn){2&gn&&_.xc7("margin-left",Sn._container._contentMargins.left,"px")("margin-right",Sn._container._contentMargins.right,"px")},standalone:!0,features:[_.Jv_([{provide:te.uv,useExisting:Ft}]),_.Vt3,_.aNF],ngContentSelectors:G,decls:1,vars:0,template:function(gn,Sn){1&gn&&(_.NAR(),_.SdG(0))},encapsulation:2,changeDetection:0})}return Ft})(),Xn=(()=>{class Ft extends Wt{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(Ut){this._fixedInViewport=(0,He.he)(Ut)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(Ut){this._fixedTopGap=(0,He.OE)(Ut)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(Ut){this._fixedBottomGap=(0,He.OE)(Ut)}static#e=this.\u0275fac=(()=>{let Ut;return function(Sn){return(Ut||(Ut=_.xGo(Ft)))(Sn||Ft)}})();static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(gn,Sn){2&gn&&(_.BMQ("align",null),_.xc7("top",Sn.fixedInViewport?Sn.fixedTopGap:null,"px")("bottom",Sn.fixedInViewport?Sn.fixedBottomGap:null,"px"),_.AVh("mat-drawer-end","end"===Sn.position)("mat-drawer-over","over"===Sn.mode)("mat-drawer-push","push"===Sn.mode)("mat-drawer-side","side"===Sn.mode)("mat-drawer-opened",Sn.opened)("mat-sidenav-fixed",Sn.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[_.Vt3,_.aNF],ngContentSelectors:G,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(gn,Sn){1&gn&&(_.NAR(),_.j41(0,"div",1,0),_.SdG(2),_.k0s())},dependencies:[te.uv],encapsulation:2,data:{animation:[rr.transformDrawer]},changeDetection:0})}return Ft})(),ot=(()=>{class Ft extends Gt{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let Ut;return function(Sn){return(Ut||(Ut=_.xGo(Ft)))(Sn||Ft)}})();static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["mat-sidenav-container"]],contentQueries:function(gn,Sn,ur){if(1&gn&&(_.wni(ur,nn,5),_.wni(ur,Xn,5)),2&gn){let ar;_.mGM(ar=_.lsd())&&(Sn._content=ar.first),_.mGM(ar=_.lsd())&&(Sn._allDrawers=ar)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(gn,Sn){2&gn&&_.AVh("mat-drawer-container-explicit-backdrop",Sn._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[_.Jv_([{provide:Xt,useExisting:Ft}]),_.Vt3,_.aNF],ngContentSelectors:Ot,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(gn,Sn){1&gn&&(_.NAR(vt),_.DNE(0,qt,1,2,"div",0),_.SdG(1),_.SdG(2,1),_.DNE(3,mn,2,0,"mat-sidenav-content")),2&gn&&(_.vxM(Sn.hasBackdrop?0:-1),_.R7$(3),_.vxM(Sn._content?-1:3))},dependencies:[nn],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return Ft})(),ft=(()=>{class Ft{static#e=this.\u0275fac=function(gn){return new(gn||Ft)};static#t=this.\u0275mod=_.$C({type:Ft});static#n=this.\u0275inj=_.G2t({imports:[de.yE,te.Gj,te.Gj,de.yE]})}return Ft})();var ut=E(3902),Ke=E(99213),We=E(44668),Bt=E(59115),At=E(71997);const fn=["*"],Un=()=>["/settings"],wn=()=>["/profile","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],vn=()=>["/introduction"],pr=()=>["/accounts"],nr=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],Bn=()=>["/account/create"];function Fn(Ft,_n){if(1&Ft&&(_.j41(0,"a",12,5)(2,"mat-icon",26),_.EFF(3),_.k0s(),_.EFF(4),_.k0s()),2&Ft){const Ut=_n.$implicit,gn=_.sdS(1);_.Y8G("routerLink",Ut.path)("activated",gn.isActive),_.R7$(3),_.JRh(Ut.data.icon),_.R7$(),_.SpI(" ",Ut.title," ")}}function qe(Ft,_n){if(1&Ft){const Ut=_.RV6();_.j41(0,"button",27),_.bIt("click",function(){_.eBV(Ut),_.XpG();const Sn=_.sdS(2);return _.Njj(Sn.toggle())}),_.j41(1,"mat-icon",28),_.EFF(2,"menu"),_.k0s()()}}let Oe=(()=>{class Ft{constructor(){this.breakpointObserver=(0,_.WQX)(be.QP),this.rootRoutes=H.filter(Ut=>Ut.path).filter(Ut=>Ut.data&&1!=Ut.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,ae.T)(Ut=>Ut.matches),(0,We.t)())}static#e=this.\u0275fac=function(gn){return new(gn||Ft)};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["app-layout"]],standalone:!0,features:[_.aNF],ngContentSelectors:fn,decls:139,vars:34,consts:[["drawer",""],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],[1,"toolbar-spacer"],[1,"toolbar-items"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],["src","https://ariton.app/assets/sondre.png",1,"account-menu-profile-icon"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"sidenav-scroll-wrapper"],[1,"sidenav-content"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(gn,Sn){if(1&gn&&(_.NAR(),_.j41(0,"mat-sidenav-container",6)(1,"mat-sidenav",7,0),_.nI1(3,"async"),_.nI1(4,"async"),_.nI1(5,"async"),_.j41(6,"mat-toolbar"),_.nrm(7,"img",8),_.j41(8,"picture",9),_.nrm(9,"source",10)(10,"img",11),_.k0s()(),_.j41(11,"mat-nav-list"),_.Z7z(12,Fn,5,4,"a",12,_.Vm6),_.k0s()(),_.j41(14,"mat-sidenav-content")(15,"mat-toolbar",13),_.DNE(16,qe,3,0,"button",14),_.nI1(17,"async"),_.nrm(18,"span",15),_.j41(19,"span",16)(20,"button",17)(21,"mat-icon"),_.EFF(22,"notifications"),_.k0s()(),_.j41(23,"mat-menu",null,1)(25,"button",18)(26,"mat-icon"),_.EFF(27,"settings"),_.k0s(),_.j41(28,"span"),_.EFF(29,"Notification Settings"),_.k0s()(),_.nrm(30,"mat-divider"),_.j41(31,"button",19)(32,"mat-icon"),_.EFF(33,"forum"),_.k0s(),_.j41(34,"span"),_.EFF(35,"Knitting Community posted new pattern"),_.k0s()(),_.j41(36,"button",19)(37,"mat-icon"),_.EFF(38,"face"),_.k0s(),_.j41(39,"span"),_.EFF(40,"Joe sent you a message"),_.k0s()(),_.j41(41,"button",19)(42,"mat-icon"),_.EFF(43,"key"),_.k0s(),_.j41(44,"span"),_.EFF(45,"New security request"),_.k0s()(),_.j41(46,"button",19)(47,"mat-icon"),_.EFF(48,"verified_user"),_.k0s(),_.j41(49,"span"),_.EFF(50,"Social account recovery request"),_.k0s()()(),_.j41(51,"button",17)(52,"mat-icon"),_.EFF(53,"account_circle"),_.k0s()(),_.j41(54,"mat-menu",null,2)(56,"div",20),_.nrm(57,"img",21),_.j41(58,"div")(59,"h2"),_.EFF(60,"SondreB"),_.k0s(),_.EFF(61," @sondreb"),_.nrm(62,"br"),_.EFF(63," did:dht:umj7a...dns1o"),_.nrm(64,"br"),_.k0s()(),_.j41(65,"button",22)(66,"mat-icon"),_.EFF(67,"account_circle"),_.k0s(),_.j41(68,"span"),_.EFF(69,"View Profile"),_.k0s()(),_.nrm(70,"mat-divider"),_.j41(71,"button",23)(72,"mat-icon"),_.EFF(73,"switch_account"),_.k0s(),_.j41(74,"span"),_.EFF(75,"Accounts"),_.k0s()(),_.j41(76,"button",19)(77,"mat-icon"),_.EFF(78,"lock"),_.k0s(),_.j41(79,"span"),_.EFF(80,"Lock account"),_.k0s()(),_.nrm(81,"mat-divider"),_.j41(82,"button",23)(83,"mat-icon"),_.EFF(84,"translate"),_.k0s(),_.j41(85,"span"),_.EFF(86,"Language: English"),_.k0s()(),_.nrm(87,"mat-divider"),_.j41(88,"button",18)(89,"mat-icon"),_.EFF(90,"settings"),_.k0s(),_.j41(91,"span"),_.EFF(92,"Settings"),_.k0s()(),_.nrm(93,"mat-divider"),_.j41(94,"button",18)(95,"mat-icon"),_.EFF(96,"help"),_.k0s(),_.j41(97,"span"),_.EFF(98,"Help"),_.k0s()()(),_.j41(99,"mat-menu",null,3)(101,"button",18)(102,"mat-icon"),_.EFF(103,"manage_accounts"),_.k0s(),_.j41(104,"span"),_.EFF(105,"Manage Accounts"),_.k0s()(),_.nrm(106,"mat-divider"),_.j41(107,"button",18)(108,"mat-icon"),_.EFF(109,"account_circle"),_.k0s(),_.j41(110,"span"),_.EFF(111,"Account 1"),_.k0s()(),_.j41(112,"button",18)(113,"mat-icon"),_.EFF(114,"account_circle"),_.k0s(),_.j41(115,"span"),_.EFF(116,"Account 2"),_.k0s()(),_.j41(117,"button",18)(118,"mat-icon"),_.EFF(119,"account_circle"),_.k0s(),_.j41(120,"span"),_.EFF(121,"Account 3"),_.k0s()(),_.nrm(122,"mat-divider"),_.j41(123,"button",18)(124,"mat-icon"),_.EFF(125,"person_add"),_.k0s(),_.j41(126,"span"),_.EFF(127,"Add account"),_.k0s()()(),_.j41(128,"mat-menu",null,4)(130,"button",19)(131,"span"),_.EFF(132,"English"),_.k0s()(),_.j41(133,"button",19)(134,"span"),_.EFF(135,"Norwegian"),_.k0s()()()()(),_.j41(136,"div",24)(137,"div",25),_.SdG(138),_.k0s()()()()),2&gn){const ur=_.sdS(24),ar=_.sdS(55),oi=_.sdS(100),_i=_.sdS(129);_.R7$(),_.Y8G("mode",_.bMT(3,17,Sn.isHandset$)?"over":"side")("opened",!1===_.bMT(4,19,Sn.isHandset$)),_.BMQ("role",_.bMT(5,21,Sn.isHandset$)?"dialog":"navigation"),_.R7$(11),_.Dyx(Sn.rootRoutes),_.R7$(4),_.vxM(_.bMT(17,23,Sn.isHandset$)?16:-1),_.R7$(4),_.Y8G("matMenuTriggerFor",ur),_.R7$(5),_.Y8G("routerLink",_.lJ4(25,Un)),_.R7$(26),_.Y8G("matMenuTriggerFor",ar),_.R7$(14),_.Y8G("routerLink",_.lJ4(26,wn)),_.R7$(6),_.Y8G("matMenuTriggerFor",oi),_.R7$(11),_.Y8G("matMenuTriggerFor",_i),_.R7$(6),_.Y8G("routerLink",_.lJ4(27,Un)),_.R7$(6),_.Y8G("routerLink",_.lJ4(28,vn)),_.R7$(7),_.Y8G("routerLink",_.lJ4(29,pr)),_.R7$(6),_.Y8G("routerLink",_.lJ4(30,nr)),_.R7$(5),_.Y8G("routerLink",_.lJ4(31,nr)),_.R7$(5),_.Y8G("routerLink",_.lJ4(32,nr)),_.R7$(6),_.Y8G("routerLink",_.lJ4(33,Bn))}},dependencies:[he.s5,he.KQ,ne.Hl,ne.iY,ft,Xn,ot,nn,ut.Fg,ut._L,ut.YE,ut.ZV,At.q,Ke.m_,Ke.An,Bt.Cn,Bt.kk,Bt.fb,Bt.Cp,b.Jj,B.Wk,B.wQ],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:240px;padding:0 8px;box-sizing:border-box}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}mat-sidenav-content[_ngcontent-%COMP%]{padding-right:16px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}@media (pointer: fine){.sidenav-content[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:transparent;width:8px}.sidenav-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}@media (pointer: fine){.column-content[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:transparent;width:8px}.column-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}}@media (max-width: 959.98px){mat-sidenav-content[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}}"]})}return Ft})();var Je=E(10467),Kt=E(89417),pn=E(53719),jn=E(99631),zn=E(9183),or=E(27413);function yr(Ft,_n){1&Ft&&_.nrm(0,"mat-spinner",4)}function Rr(Ft,_n){1&Ft&&(_.j41(0,"span"),_.EFF(1,"Unlock"),_.k0s())}function Ir(Ft,_n){1&Ft&&(_.j41(0,"mat-error"),_.EFF(1,"Password is "),_.j41(2,"strong"),_.EFF(3,"invalid"),_.k0s()())}let Lr=(()=>{class Ft{constructor(Ut){this.identityService=Ut,this.passwordInput=new Kt.MJ("",Kt.k0.required),this.unlocking=(0,_.vPA)(!1),this.invalidPassword=(0,_.vPA)(!1)}onSubmit(){var Ut=this;return(0,Je.A)(function*(){Ut.unlocking.set(!0),(yield Ut.identityService.unlock(Ut.passwordInput.value))?(console.log("Vault unlocked"),Ut.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),Ut.invalidPassword.set(!0)),Ut.unlocking.set(!1)})()}static#e=this.\u0275fac=function(gn){return new(gn||Ft)(_.rXU(or.K))};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["app-unlock"]],standalone:!0,features:[_.aNF],decls:15,vars:4,consts:[[3,"ngSubmit"],["appearance","outline"],["matInput","","type","password",3,"formControl"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(gn,Sn){1&gn&&(_.j41(0,"h1"),_.EFF(1,"Unlock your account"),_.k0s(),_.j41(2,"p"),_.EFF(3,"You have configured your account with a secure personal password. Enter password to unlock your account."),_.k0s(),_.j41(4,"form",0),_.bIt("ngSubmit",function(){return Sn.onSubmit()}),_.j41(5,"mat-form-field",1)(6,"mat-label"),_.EFF(7,"Enter your password"),_.k0s(),_.nrm(8,"input",2),_.k0s(),_.EFF(9," \xa0 "),_.j41(10,"button",3),_.DNE(11,yr,1,0,"mat-spinner",4)(12,Rr,2,0,"span"),_.k0s(),_.j41(13,"p"),_.DNE(14,Ir,4,0,"mat-error"),_.k0s()()),2&gn&&(_.R7$(8),_.Y8G("formControl",Sn.passwordInput),_.R7$(2),_.Y8G("disabled",!(Sn.passwordInput.valid&&!Sn.unlocking())),_.R7$(),_.vxM(Sn.unlocking()?11:12),_.R7$(3),_.vxM(Sn.invalidPassword()?14:-1))},dependencies:[Kt.YN,Kt.qT,Kt.me,Kt.BC,Kt.cb,Kt.cV,zn.D6,zn.LG,Kt.X1,Kt.l_,pn.RG,pn.rl,pn.nJ,pn.TL,jn.fS,jn.fg,ne.Hl,ne.$z,Ke.m_],styles:["button[_ngcontent-%COMP%]{width:100px}"]})}return Ft})();var fr=E(36815);function en(Ft,_n){1&Ft&&(_.j41(0,"div",0),_.nrm(1,"app-unlock"),_.k0s())}(0,g.B8)((()=>{class Ft{constructor(Ut,gn,Sn){this.router=Ut,this.layout=gn,this.identityService=Sn,this.title="app",this.router.events.subscribe(ur=>{ur instanceof B.Z&&this.layout.enableScrolling()})}static#e=this.\u0275fac=function(gn){return new(gn||Ft)(_.rXU(B.Ix),_.rXU(fr.Y),_.rXU(or.K))};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["app-root"]],standalone:!0,features:[_.aNF],decls:3,vars:1,consts:[[1,"unlock-container"]],template:function(gn,Sn){1&gn&&(_.DNE(0,en,2,0,"div",0),_.j41(1,"app-layout"),_.nrm(2,"router-outlet"),_.k0s()),2&gn&&_.vxM(Sn.identityService.locked()?0:-1)},dependencies:[B.n3,Oe,Lr],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;width:100%;inset:0;z-index:10000;display:flex;justify-content:center}"]})}return Ft})(),Ce).catch(Ft=>console.error(Ft))},4521:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createCurve=j.getHash=void 0;const g=E(44882),_=E(96492),B=E(73040);function H(k){return{hash:k,hmac:(S,...P)=>(0,g.hmac)(k,S,(0,_.concatBytes)(...P)),randomBytes:_.randomBytes}}j.getHash=H,j.createCurve=function b(k,S){const P=R=>(0,B.weierstrass)({...k,...H(R)});return Object.freeze({...P(S),create:P})}},25299:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateBasic=j.wNAF=void 0;const g=E(63834),_=E(84097),B=BigInt(0),H=BigInt(1);j.wNAF=function b(S,P){const R=(A,V)=>{const U=V.negate();return A?U:V},O=A=>({windows:Math.ceil(P/A)+1,windowSize:2**(A-1)});return{constTimeNegate:R,unsafeLadder(A,V){let U=S.ZERO,K=A;for(;V>B;)V&H&&(U=U.add(K)),K=K.double(),V>>=H;return U},precomputeWindow(A,V){const{windows:U,windowSize:K}=O(V),Q=[];let q=A,Y=q;for(let W=0;W<U;W++){Y=q,Q.push(Y);for(let re=1;re<K;re++)Y=Y.add(q),Q.push(Y);q=Y.double()}return Q},wNAF(A,V,U){const{windows:K,windowSize:Q}=O(A);let q=S.ZERO,Y=S.BASE;const W=BigInt(2**A-1),re=2**A,ie=BigInt(A);for(let ae=0;ae<K;ae++){const ue=ae*Q;let ce=Number(U&W);U>>=ie,ce>Q&&(ce-=re,U+=H);const pe=ue,ve=ue+Math.abs(ce)-1,C=ce<0;0===ce?Y=Y.add(R(ae%2!=0,V[pe])):q=q.add(R(C,V[ve]))}return{p:q,f:Y}},wNAFCached(A,V,U,K){const Q=A._WINDOW_SIZE||1;let q=V.get(A);return q||(q=this.precomputeWindow(A,Q),1!==Q&&V.set(A,K(q))),this.wNAF(Q,q,U)}}},j.validateBasic=function k(S){return(0,g.validateField)(S.Fp),(0,_.validateObject)(S,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,g.nLength)(S.n,S.nBitLength),...S,p:S.Fp.ORDER})}},45068:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.twistedEdwards=void 0;const g=E(63834),_=E(84097),B=E(84097),H=E(25299),b=BigInt(0),k=BigInt(1),S=BigInt(2),P=BigInt(8),R={zip215:!0};j.twistedEdwards=function A(V){const U=function O(V){const U=(0,H.validateBasic)(V);return _.validateObject(V,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...U})}(V),{Fp:K,n:Q,prehash:q,hash:Y,randomBytes:W,nByteLength:re,h:ie}=U,ae=S<<BigInt(8*re)-k,ue=K.create,ce=U.uvRatio||((me,Ue)=>{try{return{isValid:!0,value:K.sqrt(me*K.inv(Ue))}}catch{return{isValid:!1,value:b}}}),pe=U.adjustScalarBytes||(me=>me),ve=U.domain||((me,Ue,xe)=>{if(Ue.length||xe)throw new Error("Contexts/pre-hash are not supported");return me}),De=me=>"bigint"==typeof me&&b<me,C=(me,Ue)=>De(me)&&De(Ue)&&me<Ue,s=me=>me===b||C(me,ae);function d(me,Ue){if(C(me,Ue))return me;throw new Error(`Expected valid scalar < ${Ue}, got ${typeof me} ${me}`)}function h(me){return me===b?me:d(me,Q)}const f=new Map;function w(me){if(!(me instanceof I))throw new Error("ExtendedPoint expected")}class I{constructor(Ue,xe,Ce,be){if(this.ex=Ue,this.ey=xe,this.ez=Ce,this.et=be,!s(Ue))throw new Error("x required");if(!s(xe))throw new Error("y required");if(!s(Ce))throw new Error("z required");if(!s(be))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Ue){if(Ue instanceof I)throw new Error("extended point not allowed");const{x:xe,y:Ce}=Ue||{};if(!s(xe)||!s(Ce))throw new Error("invalid affine point");return new I(xe,Ce,k,ue(xe*Ce))}static normalizeZ(Ue){const xe=K.invertBatch(Ue.map(Ce=>Ce.ez));return Ue.map((Ce,be)=>Ce.toAffine(xe[be])).map(I.fromAffine)}_setWindowSize(Ue){this._WINDOW_SIZE=Ue,f.delete(this)}assertValidity(){const{a:Ue,d:xe}=U;if(this.is0())throw new Error("bad point: ZERO");const{ex:Ce,ey:be,ez:he,et:ne}=this,te=ue(Ce*Ce),de=ue(be*be),_e=ue(he*he),Ie=ue(_e*_e),He=ue(te*Ue);if(ue(_e*ue(He+de))!==ue(Ie+ue(xe*ue(te*de))))throw new Error("bad point: equation left != right (1)");if(ue(Ce*be)!==ue(he*ne))throw new Error("bad point: equation left != right (2)")}equals(Ue){w(Ue);const{ex:xe,ey:Ce,ez:be}=this,{ex:he,ey:ne,ez:te}=Ue,de=ue(xe*te),_e=ue(he*be),Ie=ue(Ce*te),He=ue(ne*be);return de===_e&&Ie===He}is0(){return this.equals(I.ZERO)}negate(){return new I(ue(-this.ex),this.ey,this.ez,ue(-this.et))}double(){const{a:Ue}=U,{ex:xe,ey:Ce,ez:be}=this,he=ue(xe*xe),ne=ue(Ce*Ce),te=ue(S*ue(be*be)),de=ue(Ue*he),_e=xe+Ce,Ie=ue(ue(_e*_e)-he-ne),He=de+ne,Ve=He-te,xt=de-ne,Ne=ue(Ie*Ve),ke=ue(He*xt),pt=ue(Ie*xt),F=ue(Ve*He);return new I(Ne,ke,F,pt)}add(Ue){w(Ue);const{a:xe,d:Ce}=U,{ex:be,ey:he,ez:ne,et:te}=this,{ex:de,ey:_e,ez:Ie,et:He}=Ue;if(xe===BigInt(-1)){const rt=ue((he-be)*(_e+de)),Ht=ue((he+be)*(_e-de)),vt=ue(Ht-rt);if(vt===b)return this.double();const Ot=ue(ne*S*He),qt=ue(te*S*Ie),mn=qt+Ot,ln=Ht+rt,rr=qt-Ot,Tn=ue(mn*vt),rn=ue(ln*rr),Xt=ue(mn*rr),dt=ue(vt*ln);return new I(Tn,rn,dt,Xt)}const Ve=ue(be*de),xt=ue(he*_e),Ne=ue(te*Ce*He),ke=ue(ne*Ie),pt=ue((be+he)*(de+_e)-Ve-xt),F=ke-Ne,D=ke+Ne,M=ue(xt-xe*Ve),G=ue(pt*F),fe=ue(D*M),Se=ue(pt*M),Ae=ue(F*D);return new I(G,fe,Ae,Se)}subtract(Ue){return this.add(Ue.negate())}wNAF(Ue){return a.wNAFCached(this,f,Ue,I.normalizeZ)}multiply(Ue){const{p:xe,f:Ce}=this.wNAF(d(Ue,Q));return I.normalizeZ([xe,Ce])[0]}multiplyUnsafe(Ue){let xe=h(Ue);return xe===b?x:this.equals(x)||xe===k?this:this.equals(L)?this.wNAF(xe).p:a.unsafeLadder(this,xe)}isSmallOrder(){return this.multiplyUnsafe(ie).is0()}isTorsionFree(){return a.unsafeLadder(this,Q).is0()}toAffine(Ue){const{ex:xe,ey:Ce,ez:be}=this,he=this.is0();null==Ue&&(Ue=he?P:K.inv(be));const ne=ue(xe*Ue),te=ue(Ce*Ue),de=ue(be*Ue);if(he)return{x:b,y:k};if(de!==k)throw new Error("invZ was invalid");return{x:ne,y:te}}clearCofactor(){const{h:Ue}=U;return Ue===k?this:this.multiplyUnsafe(Ue)}static fromHex(Ue,xe=!1){const{d:Ce,a:be}=U,he=K.BYTES,ne=(Ue=(0,B.ensureBytes)("pointHex",Ue,he)).slice(),te=Ue[he-1];ne[he-1]=-129&te;const de=_.bytesToNumberLE(ne);de===b||d(de,xe?ae:K.ORDER);const _e=ue(de*de),Ie=ue(_e-k),He=ue(Ce*_e-be);let{isValid:Ve,value:xt}=ce(Ie,He);if(!Ve)throw new Error("Point.fromHex: invalid y coordinate");const Ne=(xt&k)===k,ke=!!(128&te);if(!xe&&xt===b&&ke)throw new Error("Point.fromHex: x=0 and x_0=1");return ke!==Ne&&(xt=ue(-xt)),I.fromAffine({x:xt,y:de})}static fromPrivateKey(Ue){return z(Ue).point}toRawBytes(){const{x:Ue,y:xe}=this.toAffine(),Ce=_.numberToBytesLE(xe,K.BYTES);return Ce[Ce.length-1]|=Ue&k?128:0,Ce}toHex(){return _.bytesToHex(this.toRawBytes())}}I.BASE=new I(U.Gx,U.Gy,k,ue(U.Gx*U.Gy)),I.ZERO=new I(b,k,k,b);const{BASE:L,ZERO:x}=I,a=(0,H.wNAF)(I,8*re);function v(me){return(0,g.mod)(me,Q)}function Z(me){return v(_.bytesToNumberLE(me))}function z(me){const Ue=re;me=(0,B.ensureBytes)("private key",me,Ue);const xe=(0,B.ensureBytes)("hashed private key",Y(me),2*Ue),Ce=pe(xe.slice(0,Ue)),be=xe.slice(Ue,2*Ue),he=Z(Ce),ne=L.multiply(he),te=ne.toRawBytes();return{head:Ce,prefix:be,scalar:he,point:ne,pointBytes:te}}function le(me=new Uint8Array,...Ue){const xe=_.concatBytes(...Ue);return Z(Y(ve(xe,(0,B.ensureBytes)("context",me),!!q)))}const Me=R;return L._setWindowSize(8),{CURVE:U,getPublicKey:function ee(me){return z(me).pointBytes},sign:function we(me,Ue,xe={}){me=(0,B.ensureBytes)("message",me),q&&(me=q(me));const{prefix:Ce,scalar:be,pointBytes:he}=z(Ue),ne=le(xe.context,Ce,me),te=L.multiply(ne).toRawBytes(),_e=v(ne+le(xe.context,te,he,me)*be);h(_e);const Ie=_.concatBytes(te,_.numberToBytesLE(_e,K.BYTES));return(0,B.ensureBytes)("result",Ie,2*re)},verify:function Ge(me,Ue,xe,Ce=Me){const{context:be,zip215:he}=Ce,ne=K.BYTES;me=(0,B.ensureBytes)("signature",me,2*ne),Ue=(0,B.ensureBytes)("message",Ue),q&&(Ue=q(Ue));const te=_.bytesToNumberLE(me.slice(ne,2*ne));let de,_e,Ie;try{de=I.fromHex(xe,he),_e=I.fromHex(me.slice(0,ne),he),Ie=L.multiplyUnsafe(te)}catch{return!1}if(!he&&de.isSmallOrder())return!1;const He=le(be,_e.toRawBytes(),de.toRawBytes(),Ue);return _e.add(de.multiplyUnsafe(He)).subtract(Ie).clearCofactor().equals(I.ZERO)},ExtendedPoint:I,utils:{getExtendedPublicKey:z,randomPrivateKey:()=>W(K.BYTES),precompute:(me=8,Ue=I.BASE)=>(Ue._setWindowSize(me),Ue.multiply(BigInt(3)),Ue)}}}},75752:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createHasher=j.isogenyMap=j.hash_to_field=j.expand_message_xof=j.expand_message_xmd=void 0;const g=E(63834),_=E(84097),H=_.bytesToNumberBE;function b(K,Q){if(K<0||K>=1<<8*Q)throw new Error(`bad I2OSP call: value=${K} length=${Q}`);const q=Array.from({length:Q}).fill(0);for(let Y=Q-1;Y>=0;Y--)q[Y]=255&K,K>>>=8;return new Uint8Array(q)}function k(K,Q){const q=new Uint8Array(K.length);for(let Y=0;Y<K.length;Y++)q[Y]=K[Y]^Q[Y];return q}function S(K){if(!(0,_.isBytes)(K))throw new Error("Uint8Array expected")}function P(K){if(!Number.isSafeInteger(K))throw new Error("number expected")}function R(K,Q,q,Y){S(K),S(Q),P(q),Q.length>255&&(Q=Y((0,_.concatBytes)((0,_.utf8ToBytes)("H2C-OVERSIZE-DST-"),Q)));const{outputLen:W,blockLen:re}=Y,ie=Math.ceil(q/W);if(ie>255)throw new Error("Invalid xmd length");const ae=(0,_.concatBytes)(Q,b(Q.length,1)),ue=b(0,re),ce=b(q,2),pe=new Array(ie),ve=Y((0,_.concatBytes)(ue,K,ce,b(0,1),ae));pe[0]=Y((0,_.concatBytes)(ve,b(1,1),ae));for(let C=1;C<=ie;C++){const s=[k(ve,pe[C-1]),b(C+1,1),ae];pe[C]=Y((0,_.concatBytes)(...s))}return(0,_.concatBytes)(...pe).slice(0,q)}function O(K,Q,q,Y,W){if(S(K),S(Q),P(q),Q.length>255){const re=Math.ceil(2*Y/8);Q=W.create({dkLen:re}).update((0,_.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(Q).digest()}if(q>65535||Q.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return W.create({dkLen:q}).update(K).update(b(q,2)).update(Q).update(b(Q.length,1)).digest()}function A(K,Q,q){(0,_.validateObject)(q,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:Y,k:W,m:re,hash:ie,expand:ae,DST:ue}=q;S(K),P(Q);const ce=function B(K){if((0,_.isBytes)(K))return K;if("string"==typeof K)return(0,_.utf8ToBytes)(K);throw new Error("DST must be Uint8Array or string")}(ue),pe=Y.toString(2).length,ve=Math.ceil((pe+W)/8),De=Q*re*ve;let C;if("xmd"===ae)C=R(K,ce,De,ie);else if("xof"===ae)C=O(K,ce,De,W,ie);else{if("_internal_pass"!==ae)throw new Error('expand must be "xmd" or "xof"');C=K}const s=new Array(Q);for(let d=0;d<Q;d++){const h=new Array(re);for(let f=0;f<re;f++){const w=ve*(f+d*re),I=C.subarray(w,w+ve);h[f]=(0,g.mod)(H(I),Y)}s[d]=h}return s}j.expand_message_xmd=R,j.expand_message_xof=O,j.hash_to_field=A,j.isogenyMap=function V(K,Q){const q=Q.map(Y=>Array.from(Y).reverse());return(Y,W)=>{const[re,ie,ae,ue]=q.map(ce=>ce.reduce((pe,ve)=>K.add(K.mul(pe,Y),ve)));return Y=K.div(re,ie),W=K.mul(W,K.div(ae,ue)),{x:Y,y:W}}},j.createHasher=function U(K,Q,q){if("function"!=typeof Q)throw new Error("mapToCurve() must be defined");return{hashToCurve(Y,W){const re=A(Y,2,{...q,DST:q.DST,...W}),ie=K.fromAffine(Q(re[0])),ae=K.fromAffine(Q(re[1])),ue=ie.add(ae).clearCofactor();return ue.assertValidity(),ue},encodeToCurve(Y,W){const re=A(Y,1,{...q,DST:q.encodeDST,...W}),ie=K.fromAffine(Q(re[0])).clearCofactor();return ie.assertValidity(),ie}}}},63834:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.mapHashToField=j.getMinHashLength=j.getFieldBytesLength=j.hashToPrivateScalar=j.FpSqrtEven=j.FpSqrtOdd=j.Field=j.nLength=j.FpIsSquare=j.FpDiv=j.FpInvertBatch=j.FpPow=j.validateField=j.isNegativeLE=j.FpSqrt=j.tonelliShanks=j.invert=j.pow2=j.pow=j.mod=void 0;const g=E(84097),_=BigInt(0),B=BigInt(1),H=BigInt(2),b=BigInt(3),k=BigInt(4),S=BigInt(5),P=BigInt(8);function A(w,I){const L=w%I;return L>=_?L:I+L}function V(w,I,L){if(L<=_||I<_)throw new Error("Expected power/modulo > 0");if(L===B)return _;let x=B;for(;I>_;)I&B&&(x=x*w%L),w=w*w%L,I>>=B;return x}function K(w,I){if(w===_||I<=_)throw new Error(`invert: expected positive integers, got n=${w} mod=${I}`);let L=A(w,I),x=I,a=_,v=B,Z=B,z=_;for(;L!==_;){const le=x/L,we=x%L,Me=a-Z*le,Ge=v-z*le;x=L,L=we,a=Z,v=z,Z=Me,z=Ge}if(x!==B)throw new Error("invert: does not exist");return A(a,I)}function Q(w){const I=(w-B)/H;let L,x,a;for(L=w-B,x=0;L%H===_;L/=H,x++);for(a=H;a<w&&V(a,I,w)!==w-B;a++);if(1===x){const Z=(w+B)/k;return function(ee,le){const we=ee.pow(le,Z);if(!ee.eql(ee.sqr(we),le))throw new Error("Cannot find square root");return we}}const v=(L+B)/H;return function(z,ee){if(z.pow(ee,I)===z.neg(z.ONE))throw new Error("Cannot find square root");let le=x,we=z.pow(z.mul(z.ONE,a),L),Me=z.pow(ee,v),Ge=z.pow(ee,L);for(;!z.eql(Ge,z.ONE);){if(z.eql(Ge,z.ZERO))return z.ZERO;let ge=1;for(let Ue=z.sqr(Ge);ge<le&&!z.eql(Ue,z.ONE);ge++)Ue=z.sqr(Ue);const me=z.pow(we,B<<BigInt(le-ge-1));we=z.sqr(me),Me=z.mul(Me,me),Ge=z.mul(Ge,we),le=ge}return Me}}function q(w){if(w%k===b){const I=(w+B)/k;return function(x,a){const v=x.pow(a,I);if(!x.eql(x.sqr(v),a))throw new Error("Cannot find square root");return v}}if(w%P===S){const I=(w-S)/P;return function(x,a){const v=x.mul(a,H),Z=x.pow(v,I),z=x.mul(a,Z),ee=x.mul(x.mul(z,H),Z),le=x.mul(z,x.sub(ee,x.ONE));if(!x.eql(x.sqr(le),a))throw new Error("Cannot find square root");return le}}return Q(w)}BigInt(9),BigInt(16),j.mod=A,j.pow=V,j.pow2=function U(w,I,L){let x=w;for(;I-- >_;)x*=x,x%=L;return x},j.invert=K,j.tonelliShanks=Q,j.FpSqrt=q,j.isNegativeLE=(w,I)=>(A(w,I)&B)===B;const W=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ie(w,I,L){if(L<_)throw new Error("Expected power > 0");if(L===_)return w.ONE;if(L===B)return I;let x=w.ONE,a=I;for(;L>_;)L&B&&(x=w.mul(x,a)),a=w.sqr(a),L>>=B;return x}function ae(w,I){const L=new Array(I.length),x=I.reduce((v,Z,z)=>w.is0(Z)?v:(L[z]=v,w.mul(v,Z)),w.ONE),a=w.inv(x);return I.reduceRight((v,Z,z)=>w.is0(Z)?v:(L[z]=w.mul(v,L[z]),w.mul(v,Z)),a),L}function pe(w,I){const L=void 0!==I?I:w.toString(2).length;return{nBitLength:L,nByteLength:Math.ceil(L/8)}}function d(w){if("bigint"!=typeof w)throw new Error("field order must be bigint");const I=w.toString(2).length;return Math.ceil(I/8)}function h(w){const I=d(w);return I+Math.ceil(I/2)}j.validateField=function re(w){const L=W.reduce((x,a)=>(x[a]="function",x),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,g.validateObject)(w,L)},j.FpPow=ie,j.FpInvertBatch=ae,j.FpDiv=function ue(w,I,L){return w.mul(I,"bigint"==typeof L?K(L,w.ORDER):w.inv(L))},j.FpIsSquare=function ce(w){const I=(w.ORDER-B)/H;return L=>{const x=w.pow(L,I);return w.eql(x,w.ZERO)||w.eql(x,w.ONE)}},j.nLength=pe,j.Field=function ve(w,I,L=!1,x={}){if(w<=_)throw new Error(`Expected Field ORDER > 0, got ${w}`);const{nBitLength:a,nByteLength:v}=pe(w,I);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const Z=q(w),z=Object.freeze({ORDER:w,BITS:a,BYTES:v,MASK:(0,g.bitMask)(a),ZERO:_,ONE:B,create:ee=>A(ee,w),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return _<=ee&&ee<w},is0:ee=>ee===_,isOdd:ee=>(ee&B)===B,neg:ee=>A(-ee,w),eql:(ee,le)=>ee===le,sqr:ee=>A(ee*ee,w),add:(ee,le)=>A(ee+le,w),sub:(ee,le)=>A(ee-le,w),mul:(ee,le)=>A(ee*le,w),pow:(ee,le)=>ie(z,ee,le),div:(ee,le)=>A(ee*K(le,w),w),sqrN:ee=>ee*ee,addN:(ee,le)=>ee+le,subN:(ee,le)=>ee-le,mulN:(ee,le)=>ee*le,inv:ee=>K(ee,w),sqrt:x.sqrt||(ee=>Z(z,ee)),invertBatch:ee=>ae(z,ee),cmov:(ee,le,we)=>we?le:ee,toBytes:ee=>L?(0,g.numberToBytesLE)(ee,v):(0,g.numberToBytesBE)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return L?(0,g.bytesToNumberLE)(ee):(0,g.bytesToNumberBE)(ee)}});return Object.freeze(z)},j.FpSqrtOdd=function De(w,I){if(!w.isOdd)throw new Error("Field doesn't have isOdd");const L=w.sqrt(I);return w.isOdd(L)?L:w.neg(L)},j.FpSqrtEven=function C(w,I){if(!w.isOdd)throw new Error("Field doesn't have isOdd");const L=w.sqrt(I);return w.isOdd(L)?w.neg(L):L},j.hashToPrivateScalar=function s(w,I,L=!1){const x=(w=(0,g.ensureBytes)("privateHash",w)).length,a=pe(I).nByteLength+8;if(a<24||x<a||x>1024)throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${x}`);return A(L?(0,g.bytesToNumberLE)(w):(0,g.bytesToNumberBE)(w),I-B)+B},j.getFieldBytesLength=d,j.getMinHashLength=h,j.mapHashToField=function f(w,I,L=!1){const x=w.length,a=d(I),v=h(I);if(x<16||x<v||x>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${x}`);const z=A(L?(0,g.bytesToNumberBE)(w):(0,g.bytesToNumberLE)(w),I-B)+B;return L?(0,g.numberToBytesLE)(z,a):(0,g.numberToBytesBE)(z,a)}},27661:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.montgomery=void 0;const g=E(63834),_=E(84097),B=BigInt(0),H=BigInt(1);j.montgomery=function k(S){const P=function b(S){return(0,_.validateObject)(S,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...S})}(S),{P:R}=P,O=De=>(0,g.mod)(De,R),A=P.montgomeryBits,V=Math.ceil(A/8),U=P.nByteLength,K=P.adjustScalarBytes||(De=>De),Q=P.powPminus2||(De=>(0,g.pow)(De,R-BigInt(2),R));function q(De,C,s){const d=O(De*(C-s));return[C=O(C-d),s=O(s+d)]}function Y(De){if("bigint"==typeof De&&B<=De&&De<R)return De;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const W=(P.a-BigInt(2))/BigInt(4);function ie(De){return(0,_.numberToBytesLE)(O(De),V)}function ce(De,C){const s=function ae(De){const C=(0,_.ensureBytes)("u coordinate",De,V);return 32===U&&(C[31]&=127),(0,_.bytesToNumberLE)(C)}(C),d=function ue(De){const C=(0,_.ensureBytes)("scalar",De),s=C.length;if(s!==V&&s!==U)throw new Error(`Expected ${V} or ${U} bytes, got ${s}`);return(0,_.bytesToNumberLE)(K(C))}(De),h=function re(De,C){const s=Y(De),d=Y(C),h=s;let a,f=H,w=B,I=s,L=H,x=B;for(let Z=BigInt(A-1);Z>=B;Z--){const z=d>>Z&H;x^=z,a=q(x,f,I),f=a[0],I=a[1],a=q(x,w,L),w=a[0],L=a[1],x=z;const ee=f+w,le=O(ee*ee),we=f-w,Me=O(we*we),Ge=le-Me,ge=I+L,Ue=O((I-L)*ee),xe=O(ge*we),Ce=Ue+xe,be=Ue-xe;I=O(Ce*Ce),L=O(h*O(be*be)),f=O(le*Me),w=O(Ge*(le+O(W*Ge)))}a=q(x,f,I),f=a[0],I=a[1],a=q(x,w,L),w=a[0],L=a[1];const v=Q(w);return O(f*v)}(s,d);if(h===B)throw new Error("Invalid private or public key received");return ie(h)}const pe=ie(P.Gu);function ve(De){return ce(De,pe)}return{scalarMult:ce,scalarMultBase:ve,getSharedSecret:(De,C)=>ce(De,C),getPublicKey:De=>ve(De),utils:{randomPrivateKey:()=>P.randomBytes(P.nByteLength)},GuBytes:pe}}},84097:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateObject=j.createHmacDrbg=j.bitMask=j.bitSet=j.bitGet=j.bitLen=j.utf8ToBytes=j.equalBytes=j.concatBytes=j.ensureBytes=j.numberToVarBytesBE=j.numberToBytesLE=j.numberToBytesBE=j.bytesToNumberLE=j.bytesToNumberBE=j.hexToBytes=j.hexToNumber=j.numberToHexUnpadded=j.bytesToHex=j.isBytes=void 0;const E=BigInt(0),g=BigInt(1),_=BigInt(2);function B(d){return d instanceof Uint8Array||null!=d&&"object"==typeof d&&"Uint8Array"===d.constructor.name}j.isBytes=B;const H=Array.from({length:256},(d,h)=>h.toString(16).padStart(2,"0"));function b(d){if(!B(d))throw new Error("Uint8Array expected");let h="";for(let f=0;f<d.length;f++)h+=H[d[f]];return h}function k(d){const h=d.toString(16);return 1&h.length?`0${h}`:h}function S(d){if("string"!=typeof d)throw new Error("hex string expected, got "+typeof d);return BigInt(""===d?"0":`0x${d}`)}j.bytesToHex=b,j.numberToHexUnpadded=k,j.hexToNumber=S;const P={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function R(d){return d>=P._0&&d<=P._9?d-P._0:d>=P._A&&d<=P._F?d-(P._A-10):d>=P._a&&d<=P._f?d-(P._a-10):void 0}function O(d){if("string"!=typeof d)throw new Error("hex string expected, got "+typeof d);const h=d.length,f=h/2;if(h%2)throw new Error("padded hex string expected, got unpadded hex of length "+h);const w=new Uint8Array(f);for(let I=0,L=0;I<f;I++,L+=2){const x=R(d.charCodeAt(L)),a=R(d.charCodeAt(L+1));if(void 0===x||void 0===a)throw new Error('hex string expected, got non-hex character "'+(d[L]+d[L+1])+'" at index '+L);w[I]=16*x+a}return w}function U(d,h){return O(d.toString(16).padStart(2*h,"0"))}function Y(...d){let h=0;for(let I=0;I<d.length;I++){const L=d[I];if(!B(L))throw new Error("Uint8Array expected");h+=L.length}let f=new Uint8Array(h),w=0;for(let I=0;I<d.length;I++){const L=d[I];f.set(L,w),w+=L.length}return f}j.hexToBytes=O,j.bytesToNumberBE=function A(d){return S(b(d))},j.bytesToNumberLE=function V(d){if(!B(d))throw new Error("Uint8Array expected");return S(b(Uint8Array.from(d).reverse()))},j.numberToBytesBE=U,j.numberToBytesLE=function K(d,h){return U(d,h).reverse()},j.numberToVarBytesBE=function Q(d){return O(k(d))},j.ensureBytes=function q(d,h,f){let w;if("string"==typeof h)try{w=O(h)}catch(L){throw new Error(`${d} must be valid hex string, got "${h}". Cause: ${L}`)}else{if(!B(h))throw new Error(`${d} must be hex string or Uint8Array`);w=Uint8Array.from(h)}const I=w.length;if("number"==typeof f&&I!==f)throw new Error(`${d} expected ${f} bytes, got ${I}`);return w},j.concatBytes=Y,j.equalBytes=function W(d,h){if(d.length!==h.length)return!1;let f=0;for(let w=0;w<d.length;w++)f|=d[w]^h[w];return 0===f},j.utf8ToBytes=function re(d){if("string"!=typeof d)throw new Error("utf8ToBytes expected string, got "+typeof d);return new Uint8Array((new TextEncoder).encode(d))},j.bitLen=function ie(d){let h;for(h=0;d>E;d>>=g,h+=1);return h},j.bitGet=function ae(d,h){return d>>BigInt(h)&g},j.bitSet=(d,h,f)=>d|(f?g:E)<<BigInt(h),j.bitMask=d=>(_<<BigInt(d-1))-g;const pe=d=>new Uint8Array(d),ve=d=>Uint8Array.from(d);j.createHmacDrbg=function De(d,h,f){if("number"!=typeof d||d<2)throw new Error("hashLen must be a number");if("number"!=typeof h||h<2)throw new Error("qByteLen must be a number");if("function"!=typeof f)throw new Error("hmacFn must be a function");let w=pe(d),I=pe(d),L=0;const x=()=>{w.fill(1),I.fill(0),L=0},a=(...ee)=>f(I,w,...ee),v=(ee=pe())=>{I=a(ve([0]),ee),w=a(),0!==ee.length&&(I=a(ve([1]),ee),w=a())},Z=()=>{if(L++>=1e3)throw new Error("drbg: tried 1000 values");let ee=0;const le=[];for(;ee<h;){w=a();const we=w.slice();le.push(we),ee+=w.length}return Y(...le)};return(ee,le)=>{let we;for(x(),v(ee);!(we=le(Z()));)v();return x(),we}};const C={bigint:d=>"bigint"==typeof d,function:d=>"function"==typeof d,boolean:d=>"boolean"==typeof d,string:d=>"string"==typeof d,stringOrUint8Array:d=>"string"==typeof d||B(d),isSafeInteger:d=>Number.isSafeInteger(d),array:d=>Array.isArray(d),field:(d,h)=>h.Fp.isValid(d),hash:d=>"function"==typeof d&&Number.isSafeInteger(d.outputLen)};j.validateObject=function s(d,h,f={}){const w=(I,L,x)=>{const a=C[L];if("function"!=typeof a)throw new Error(`Invalid validator "${L}", expected function`);const v=d[I];if(!(x&&void 0===v||a(v,d)))throw new Error(`Invalid param ${String(I)}=${v} (${typeof v}), expected ${L}`)};for(const[I,L]of Object.entries(h))w(I,L,!1);for(const[I,L]of Object.entries(f))w(I,L,!0);return d}},73040:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.mapToCurveSimpleSWU=j.SWUFpSqrtRatio=j.weierstrass=j.weierstrassPoints=j.DER=void 0;const g=E(63834),_=E(84097),B=E(84097),H=E(25299),{bytesToNumberBE:k,hexToBytes:S}=_;j.DER={Err:class extends Error{constructor(re=""){super(re)}},_parseInt(W){const{Err:re}=j.DER;if(W.length<2||2!==W[0])throw new re("Invalid signature integer tag");const ie=W[1],ae=W.subarray(2,ie+2);if(!ie||ae.length!==ie)throw new re("Invalid signature integer: wrong length");if(128&ae[0])throw new re("Invalid signature integer: negative");if(0===ae[0]&&!(128&ae[1]))throw new re("Invalid signature integer: unnecessary leading zero");return{d:k(ae),l:W.subarray(ie+2)}},toSig(W){const{Err:re}=j.DER,ie="string"==typeof W?S(W):W;if(!_.isBytes(ie))throw new Error("ui8a expected");let ae=ie.length;if(ae<2||48!=ie[0])throw new re("Invalid signature tag");if(ie[1]!==ae-2)throw new re("Invalid signature: incorrect length");const{d:ue,l:ce}=j.DER._parseInt(ie.subarray(2)),{d:pe,l:ve}=j.DER._parseInt(ce);if(ve.length)throw new re("Invalid signature: left bytes after parsing");return{r:ue,s:pe}},hexFromSig(W){const re=C=>8&Number.parseInt(C[0],16)?"00"+C:C,ie=C=>{const s=C.toString(16);return 1&s.length?`0${s}`:s},ae=re(ie(W.s)),ue=re(ie(W.r)),ce=ae.length/2,pe=ue.length/2,ve=ie(ce),De=ie(pe);return`30${ie(pe+ce+4)}02${De}${ue}02${ve}${ae}`}};const P=BigInt(0),R=BigInt(1),O=BigInt(2),A=BigInt(3),V=BigInt(4);function U(W){const re=function b(W){const re=(0,H.validateBasic)(W);_.validateObject(re,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ie,Fp:ae,a:ue}=re;if(ie){if(!ae.eql(ue,ae.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof ie||"bigint"!=typeof ie.beta||"function"!=typeof ie.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...re})}(W),{Fp:ie}=re,ae=re.toBytes||((w,I,L)=>{const x=I.toAffine();return _.concatBytes(Uint8Array.from([4]),ie.toBytes(x.x),ie.toBytes(x.y))}),ue=re.fromBytes||(w=>{const I=w.subarray(1);return{x:ie.fromBytes(I.subarray(0,ie.BYTES)),y:ie.fromBytes(I.subarray(ie.BYTES,2*ie.BYTES))}});function ce(w){const{a:I,b:L}=re,x=ie.sqr(w),a=ie.mul(x,w);return ie.add(ie.add(a,ie.mul(w,I)),L)}if(!ie.eql(ie.sqr(re.Gy),ce(re.Gx)))throw new Error("bad generator point: equation left != right");function pe(w){return"bigint"==typeof w&&P<w&&w<re.n}function ve(w){if(!pe(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function De(w){const{allowedPrivateKeyLengths:I,nByteLength:L,wrapPrivateKey:x,n:a}=re;if(I&&"bigint"!=typeof w){if(_.isBytes(w)&&(w=_.bytesToHex(w)),"string"!=typeof w||!I.includes(w.length))throw new Error("Invalid key");w=w.padStart(2*L,"0")}let v;try{v="bigint"==typeof w?w:_.bytesToNumberBE((0,B.ensureBytes)("private key",w,L))}catch{throw new Error(`private key must be ${L} bytes, hex or bigint, not ${typeof w}`)}return x&&(v=g.mod(v,a)),ve(v),v}const C=new Map;function s(w){if(!(w instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(I,L,x){if(this.px=I,this.py=L,this.pz=x,null==I||!ie.isValid(I))throw new Error("x required");if(null==L||!ie.isValid(L))throw new Error("y required");if(null==x||!ie.isValid(x))throw new Error("z required")}static fromAffine(I){const{x:L,y:x}=I||{};if(!I||!ie.isValid(L)||!ie.isValid(x))throw new Error("invalid affine point");if(I instanceof d)throw new Error("projective point not allowed");const a=v=>ie.eql(v,ie.ZERO);return a(L)&&a(x)?d.ZERO:new d(L,x,ie.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const L=ie.invertBatch(I.map(x=>x.pz));return I.map((x,a)=>x.toAffine(L[a])).map(d.fromAffine)}static fromHex(I){const L=d.fromAffine(ue((0,B.ensureBytes)("pointHex",I)));return L.assertValidity(),L}static fromPrivateKey(I){return d.BASE.multiply(De(I))}_setWindowSize(I){this._WINDOW_SIZE=I,C.delete(this)}assertValidity(){if(this.is0()){if(re.allowInfinityPoint&&!ie.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:I,y:L}=this.toAffine();if(!ie.isValid(I)||!ie.isValid(L))throw new Error("bad point: x or y not FE");const x=ie.sqr(L),a=ce(I);if(!ie.eql(x,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:I}=this.toAffine();if(ie.isOdd)return!ie.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){s(I);const{px:L,py:x,pz:a}=this,{px:v,py:Z,pz:z}=I,ee=ie.eql(ie.mul(L,z),ie.mul(v,a)),le=ie.eql(ie.mul(x,z),ie.mul(Z,a));return ee&&le}negate(){return new d(this.px,ie.neg(this.py),this.pz)}double(){const{a:I,b:L}=re,x=ie.mul(L,A),{px:a,py:v,pz:Z}=this;let z=ie.ZERO,ee=ie.ZERO,le=ie.ZERO,we=ie.mul(a,a),Me=ie.mul(v,v),Ge=ie.mul(Z,Z),ge=ie.mul(a,v);return ge=ie.add(ge,ge),le=ie.mul(a,Z),le=ie.add(le,le),z=ie.mul(I,le),ee=ie.mul(x,Ge),ee=ie.add(z,ee),z=ie.sub(Me,ee),ee=ie.add(Me,ee),ee=ie.mul(z,ee),z=ie.mul(ge,z),le=ie.mul(x,le),Ge=ie.mul(I,Ge),ge=ie.sub(we,Ge),ge=ie.mul(I,ge),ge=ie.add(ge,le),le=ie.add(we,we),we=ie.add(le,we),we=ie.add(we,Ge),we=ie.mul(we,ge),ee=ie.add(ee,we),Ge=ie.mul(v,Z),Ge=ie.add(Ge,Ge),we=ie.mul(Ge,ge),z=ie.sub(z,we),le=ie.mul(Ge,Me),le=ie.add(le,le),le=ie.add(le,le),new d(z,ee,le)}add(I){s(I);const{px:L,py:x,pz:a}=this,{px:v,py:Z,pz:z}=I;let ee=ie.ZERO,le=ie.ZERO,we=ie.ZERO;const Me=re.a,Ge=ie.mul(re.b,A);let ge=ie.mul(L,v),me=ie.mul(x,Z),Ue=ie.mul(a,z),xe=ie.add(L,x),Ce=ie.add(v,Z);xe=ie.mul(xe,Ce),Ce=ie.add(ge,me),xe=ie.sub(xe,Ce),Ce=ie.add(L,a);let be=ie.add(v,z);return Ce=ie.mul(Ce,be),be=ie.add(ge,Ue),Ce=ie.sub(Ce,be),be=ie.add(x,a),ee=ie.add(Z,z),be=ie.mul(be,ee),ee=ie.add(me,Ue),be=ie.sub(be,ee),we=ie.mul(Me,Ce),ee=ie.mul(Ge,Ue),we=ie.add(ee,we),ee=ie.sub(me,we),we=ie.add(me,we),le=ie.mul(ee,we),me=ie.add(ge,ge),me=ie.add(me,ge),Ue=ie.mul(Me,Ue),Ce=ie.mul(Ge,Ce),me=ie.add(me,Ue),Ue=ie.sub(ge,Ue),Ue=ie.mul(Me,Ue),Ce=ie.add(Ce,Ue),ge=ie.mul(me,Ce),le=ie.add(le,ge),ge=ie.mul(be,Ce),ee=ie.mul(xe,ee),ee=ie.sub(ee,ge),ge=ie.mul(xe,me),we=ie.mul(be,we),we=ie.add(we,ge),new d(ee,le,we)}subtract(I){return this.add(I.negate())}is0(){return this.equals(d.ZERO)}wNAF(I){return f.wNAFCached(this,C,I,L=>{const x=ie.invertBatch(L.map(a=>a.pz));return L.map((a,v)=>a.toAffine(x[v])).map(d.fromAffine)})}multiplyUnsafe(I){const L=d.ZERO;if(I===P)return L;if(ve(I),I===R)return this;const{endo:x}=re;if(!x)return f.unsafeLadder(this,I);let{k1neg:a,k1:v,k2neg:Z,k2:z}=x.splitScalar(I),ee=L,le=L,we=this;for(;v>P||z>P;)v&R&&(ee=ee.add(we)),z&R&&(le=le.add(we)),we=we.double(),v>>=R,z>>=R;return a&&(ee=ee.negate()),Z&&(le=le.negate()),le=new d(ie.mul(le.px,x.beta),le.py,le.pz),ee.add(le)}multiply(I){ve(I);let x,a,L=I;const{endo:v}=re;if(v){const{k1neg:Z,k1:z,k2neg:ee,k2:le}=v.splitScalar(L);let{p:we,f:Me}=this.wNAF(z),{p:Ge,f:ge}=this.wNAF(le);we=f.constTimeNegate(Z,we),Ge=f.constTimeNegate(ee,Ge),Ge=new d(ie.mul(Ge.px,v.beta),Ge.py,Ge.pz),x=we.add(Ge),a=Me.add(ge)}else{const{p:Z,f:z}=this.wNAF(L);x=Z,a=z}return d.normalizeZ([x,a])[0]}multiplyAndAddUnsafe(I,L,x){const a=d.BASE,v=(z,ee)=>ee!==P&&ee!==R&&z.equals(a)?z.multiply(ee):z.multiplyUnsafe(ee),Z=v(this,L).add(v(I,x));return Z.is0()?void 0:Z}toAffine(I){const{px:L,py:x,pz:a}=this,v=this.is0();null==I&&(I=v?ie.ONE:ie.inv(a));const Z=ie.mul(L,I),z=ie.mul(x,I),ee=ie.mul(a,I);if(v)return{x:ie.ZERO,y:ie.ZERO};if(!ie.eql(ee,ie.ONE))throw new Error("invZ was invalid");return{x:Z,y:z}}isTorsionFree(){const{h:I,isTorsionFree:L}=re;if(I===R)return!0;if(L)return L(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:L}=re;return I===R?this:L?L(d,this):this.multiplyUnsafe(re.h)}toRawBytes(I=!0){return this.assertValidity(),ae(d,this,I)}toHex(I=!0){return _.bytesToHex(this.toRawBytes(I))}}d.BASE=new d(re.Gx,re.Gy,ie.ONE),d.ZERO=new d(ie.ZERO,ie.ONE,ie.ZERO);const h=re.nBitLength,f=(0,H.wNAF)(d,re.endo?Math.ceil(h/2):h);return{CURVE:re,ProjectivePoint:d,normPrivateKeyToScalar:De,weierstrassEquation:ce,isWithinCurveOrder:pe}}function q(W,re){const ie=W.ORDER;let ae=P;for(let w=ie-R;w%O===P;w/=O)ae+=R;const ue=ae,ce=O<<ue-R-R,pe=ce*O,ve=(ie-R)/pe,De=(ve-R)/O,C=pe-R,s=ce,d=W.pow(re,ve),h=W.pow(re,(ve+R)/O);let f=(w,I)=>{let L=d,x=W.pow(I,C),a=W.sqr(x);a=W.mul(a,I);let v=W.mul(w,a);v=W.pow(v,De),v=W.mul(v,x),x=W.mul(v,I),a=W.mul(v,w);let Z=W.mul(a,x);v=W.pow(Z,s);let z=W.eql(v,W.ONE);x=W.mul(a,h),v=W.mul(Z,L),a=W.cmov(x,a,z),Z=W.cmov(v,Z,z);for(let ee=ue;ee>R;ee--){let le=ee-O;le=O<<le-R;let we=W.pow(Z,le);const Me=W.eql(we,W.ONE);x=W.mul(a,L),L=W.mul(L,L),we=W.mul(Z,L),a=W.cmov(x,a,Me),Z=W.cmov(we,Z,Me)}return{isValid:z,value:a}};if(W.ORDER%V===A){const w=(W.ORDER-A)/V,I=W.sqrt(W.neg(re));f=(L,x)=>{let a=W.sqr(x);const v=W.mul(L,x);a=W.mul(a,v);let Z=W.pow(a,w);Z=W.mul(Z,v);const z=W.mul(Z,I),ee=W.mul(W.sqr(Z),x),le=W.eql(ee,L);return{isValid:le,value:W.cmov(z,Z,le)}}}return f}j.weierstrassPoints=U,j.weierstrass=function Q(W){const re=function K(W){const re=(0,H.validateBasic)(W);return _.validateObject(re,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...re})}(W),{Fp:ie,n:ae}=re,ue=ie.BYTES+1,ce=2*ie.BYTES+1;function ve(Ce){return g.mod(Ce,ae)}function De(Ce){return g.invert(Ce,ae)}const{ProjectivePoint:C,normPrivateKeyToScalar:s,weierstrassEquation:d,isWithinCurveOrder:h}=U({...re,toBytes(Ce,be,he){const ne=be.toAffine(),te=ie.toBytes(ne.x),de=_.concatBytes;return he?de(Uint8Array.from([be.hasEvenY()?2:3]),te):de(Uint8Array.from([4]),te,ie.toBytes(ne.y))},fromBytes(Ce){const be=Ce.length,he=Ce[0],ne=Ce.subarray(1);if(be!==ue||2!==he&&3!==he){if(be===ce&&4===he)return{x:ie.fromBytes(ne.subarray(0,ie.BYTES)),y:ie.fromBytes(ne.subarray(ie.BYTES,2*ie.BYTES))};throw new Error(`Point of length ${be} was invalid. Expected ${ue} compressed bytes or ${ce} uncompressed bytes`)}{const te=_.bytesToNumberBE(ne);if(!function pe(Ce){return P<Ce&&Ce<ie.ORDER}(te))throw new Error("Point is not on curve");const de=d(te);let _e=ie.sqrt(de);return!(1&~he)!=((_e&R)===R)&&(_e=ie.neg(_e)),{x:te,y:_e}}}}),f=Ce=>_.bytesToHex(_.numberToBytesBE(Ce,re.nByteLength));function w(Ce){return Ce>ae>>R}const L=(Ce,be,he)=>_.bytesToNumberBE(Ce.slice(be,he));class x{constructor(be,he,ne){this.r=be,this.s=he,this.recovery=ne,this.assertValidity()}static fromCompact(be){const he=re.nByteLength;return be=(0,B.ensureBytes)("compactSignature",be,2*he),new x(L(be,0,he),L(be,he,2*he))}static fromDER(be){const{r:he,s:ne}=j.DER.toSig((0,B.ensureBytes)("DER",be));return new x(he,ne)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(be){return new x(this.r,this.s,be)}recoverPublicKey(be){const{r:he,s:ne,recovery:te}=this,de=le((0,B.ensureBytes)("msgHash",be));if(null==te||![0,1,2,3].includes(te))throw new Error("recovery id invalid");const _e=2===te||3===te?he+re.n:he;if(_e>=ie.ORDER)throw new Error("recovery id 2 or 3 invalid");const He=C.fromHex((1&te?"03":"02")+f(_e)),Ve=De(_e),xt=ve(-de*Ve),Ne=ve(ne*Ve),ke=C.BASE.multiplyAndAddUnsafe(He,xt,Ne);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,ve(-this.s),this.recovery):this}toDERRawBytes(){return _.hexToBytes(this.toDERHex())}toDERHex(){return j.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return _.hexToBytes(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const a={isValidPrivateKey(Ce){try{return s(Ce),!0}catch{return!1}},normPrivateKeyToScalar:s,randomPrivateKey:()=>{const Ce=g.getMinHashLength(re.n);return g.mapHashToField(re.randomBytes(Ce),re.n)},precompute:(Ce=8,be=C.BASE)=>(be._setWindowSize(Ce),be.multiply(BigInt(3)),be)};function Z(Ce){const be=_.isBytes(Ce),he="string"==typeof Ce,ne=(be||he)&&Ce.length;return be?ne===ue||ne===ce:he?ne===2*ue||ne===2*ce:Ce instanceof C}const ee=re.bits2int||function(Ce){const be=_.bytesToNumberBE(Ce),he=8*Ce.length-re.nBitLength;return he>0?be>>BigInt(he):be},le=re.bits2int_modN||function(Ce){return ve(ee(Ce))},we=_.bitMask(re.nBitLength);function Me(Ce){if("bigint"!=typeof Ce)throw new Error("bigint expected");if(!(P<=Ce&&Ce<we))throw new Error(`bigint expected < 2^${re.nBitLength}`);return _.numberToBytesBE(Ce,re.nByteLength)}const ge={lowS:re.lowS,prehash:!1},me={lowS:re.lowS,prehash:!1};return C.BASE._setWindowSize(8),{CURVE:re,getPublicKey:function v(Ce,be=!0){return C.fromPrivateKey(Ce).toRawBytes(be)},getSharedSecret:function z(Ce,be,he=!0){if(Z(Ce))throw new Error("first arg must be private key");if(!Z(be))throw new Error("second arg must be public key");return C.fromHex(be).multiply(s(Ce)).toRawBytes(he)},sign:function Ue(Ce,be,he=ge){const{seed:ne,k2sig:te}=function Ge(Ce,be,he=ge){if(["recovered","canonical"].some(F=>F in he))throw new Error("sign() legacy options not supported");const{hash:ne,randomBytes:te}=re;let{lowS:de,prehash:_e,extraEntropy:Ie}=he;null==de&&(de=!0),Ce=(0,B.ensureBytes)("msgHash",Ce),_e&&(Ce=(0,B.ensureBytes)("prehashed msgHash",ne(Ce)));const He=le(Ce),Ve=s(be),xt=[Me(Ve),Me(He)];if(null!=Ie){const F=!0===Ie?te(ie.BYTES):Ie;xt.push((0,B.ensureBytes)("extraEntropy",F))}const Ne=_.concatBytes(...xt),ke=He;return{seed:Ne,k2sig:function pt(F){const D=ee(F);if(!h(D))return;const M=De(D),G=C.BASE.multiply(D).toAffine(),fe=ve(G.x);if(fe===P)return;const Se=ve(M*ve(ke+fe*Ve));if(Se===P)return;let Ae=(G.x===fe?0:2)|Number(G.y&R),rt=Se;return de&&w(Se)&&(rt=function I(Ce){return w(Ce)?ve(-Ce):Ce}(Se),Ae^=1),new x(fe,rt,Ae)}}}(Ce,be,he);return _.createHmacDrbg(re.hash.outputLen,re.nByteLength,re.hmac)(ne,te)},verify:function xe(Ce,be,he,ne=me){const te=Ce;if(be=(0,B.ensureBytes)("msgHash",be),he=(0,B.ensureBytes)("publicKey",he),"strict"in ne)throw new Error("options.strict was renamed to lowS");const{lowS:de,prehash:_e}=ne;let Ie,He;try{if("string"==typeof te||_.isBytes(te))try{Ie=x.fromDER(te)}catch(G){if(!(G instanceof j.DER.Err))throw G;Ie=x.fromCompact(te)}else{if("object"!=typeof te||"bigint"!=typeof te.r||"bigint"!=typeof te.s)throw new Error("PARSE");{const{r:G,s:fe}=te;Ie=new x(G,fe)}}He=C.fromHex(he)}catch(G){if("PARSE"===G.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(de&&Ie.hasHighS())return!1;_e&&(be=re.hash(be));const{r:Ve,s:xt}=Ie,Ne=le(be),ke=De(xt),pt=ve(Ne*ke),F=ve(Ve*ke),D=C.BASE.multiplyAndAddUnsafe(He,pt,F)?.toAffine();return!!D&&ve(D.x)===Ve},ProjectivePoint:C,Signature:x,utils:a}},j.SWUFpSqrtRatio=q,j.mapToCurveSimpleSWU=function Y(W,re){if(g.validateField(W),!W.isValid(re.A)||!W.isValid(re.B)||!W.isValid(re.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const ie=q(W,re.Z);if(!W.isOdd)throw new Error("Fp.isOdd is not implemented!");return ae=>{let ue,ce,pe,ve,De,C,s,d;ue=W.sqr(ae),ue=W.mul(ue,re.Z),ce=W.sqr(ue),ce=W.add(ce,ue),pe=W.add(ce,W.ONE),pe=W.mul(pe,re.B),ve=W.cmov(re.Z,W.neg(ce),!W.eql(ce,W.ZERO)),ve=W.mul(ve,re.A),ce=W.sqr(pe),C=W.sqr(ve),De=W.mul(C,re.A),ce=W.add(ce,De),ce=W.mul(ce,pe),C=W.mul(C,ve),De=W.mul(C,re.B),ce=W.add(ce,De),s=W.mul(ue,pe);const{isValid:h,value:f}=ie(ce,C);d=W.mul(ue,ae),d=W.mul(d,f),s=W.cmov(s,pe,h),d=W.cmov(d,f,h);const w=W.isOdd(ae)===W.isOdd(d);return d=W.cmov(W.neg(d),d,w),s=W.div(s,ve),{x:s,y:d}}}},57340:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hash_to_ristretto255=j.hashToRistretto255=j.RistrettoPoint=j.encodeToCurve=j.hashToCurve=j.edwardsToMontgomeryPriv=j.edwardsToMontgomery=j.edwardsToMontgomeryPub=j.x25519=j.ed25519ph=j.ed25519ctx=j.ed25519=j.ED25519_TORSION_SUBGROUP=void 0;const g=E(44207),_=E(96492),B=E(45068),H=E(27661),b=E(63834),k=E(84097),S=E(75752),P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),R=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),O=BigInt(0),A=BigInt(1),V=BigInt(2),U=BigInt(5),K=BigInt(10),Q=BigInt(20),q=BigInt(40),Y=BigInt(80);function W(Ue){const xe=P,be=Ue*Ue%xe*Ue%xe,he=(0,b.pow2)(be,V,xe)*be%xe,ne=(0,b.pow2)(he,A,xe)*Ue%xe,te=(0,b.pow2)(ne,U,xe)*ne%xe,de=(0,b.pow2)(te,K,xe)*te%xe,_e=(0,b.pow2)(de,Q,xe)*de%xe,Ie=(0,b.pow2)(_e,q,xe)*_e%xe,He=(0,b.pow2)(Ie,Y,xe)*Ie%xe,Ve=(0,b.pow2)(He,Y,xe)*Ie%xe,xt=(0,b.pow2)(Ve,K,xe)*te%xe;return{pow_p_5_8:(0,b.pow2)(xt,V,xe)*Ue%xe,b2:be}}function re(Ue){return Ue[0]&=248,Ue[31]&=127,Ue[31]|=64,Ue}function ie(Ue,xe){const Ce=P,be=(0,b.mod)(xe*xe*xe,Ce),ne=W(Ue*(0,b.mod)(be*be*xe,Ce)).pow_p_5_8;let te=(0,b.mod)(Ue*be*ne,Ce);const de=(0,b.mod)(xe*te*te,Ce),_e=te,Ie=(0,b.mod)(te*R,Ce),He=de===Ue,Ve=de===(0,b.mod)(-Ue,Ce),xt=de===(0,b.mod)(-Ue*R,Ce);return He&&(te=_e),(Ve||xt)&&(te=Ie),(0,b.isNegativeLE)(te,Ce)&&(te=(0,b.mod)(-te,Ce)),{isValid:He||Ve,value:te}}j.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const ae=(0,b.Field)(P,void 0,!0),ue={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ae,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:g.sha512,randomBytes:_.randomBytes,adjustScalarBytes:re,uvRatio:ie};function ce(Ue,xe,Ce){if(xe.length>255)throw new Error("Context is too big");return(0,_.concatBytes)((0,_.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Ce?1:0,xe.length]),xe,Ue)}function pe(Ue){const{y:xe}=j.ed25519.ExtendedPoint.fromHex(Ue),Ce=BigInt(1);return ae.toBytes(ae.create((Ce+xe)*ae.inv(Ce-xe)))}j.ed25519=(0,B.twistedEdwards)(ue),j.ed25519ctx=(0,B.twistedEdwards)({...ue,domain:ce}),j.ed25519ph=(0,B.twistedEdwards)({...ue,domain:ce,prehash:g.sha512}),j.x25519=(0,H.montgomery)({P,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Ue=>{const xe=P,{pow_p_5_8:Ce,b2:be}=W(Ue);return(0,b.mod)((0,b.pow2)(Ce,BigInt(3),xe)*be,xe)},adjustScalarBytes:re,randomBytes:_.randomBytes}),j.edwardsToMontgomeryPub=pe,j.edwardsToMontgomery=pe,j.edwardsToMontgomeryPriv=function ve(Ue){const xe=ue.hash(Ue.subarray(0,32));return ue.adjustScalarBytes(xe).subarray(0,32)};const De=(ae.ORDER+BigInt(3))/BigInt(8),C=ae.pow(V,De),s=ae.sqrt(ae.neg(ae.ONE)),d=(ae.ORDER-BigInt(5))/BigInt(8),h=BigInt(486662),w=(0,b.FpSqrtEven)(ae,ae.neg(BigInt(486664)));const L=(0,S.createHasher)(j.ed25519.ExtendedPoint,Ue=>function I(Ue){const{xMn:xe,xMd:Ce,yMn:be,yMd:he}=function f(Ue){let xe=ae.sqr(Ue);xe=ae.mul(xe,V);let Ce=ae.add(xe,ae.ONE),be=ae.neg(h),he=ae.sqr(Ce),ne=ae.mul(he,Ce),te=ae.mul(xe,h);te=ae.mul(te,be),te=ae.add(te,he),te=ae.mul(te,be);let de=ae.sqr(ne);he=ae.sqr(de),de=ae.mul(de,ne),de=ae.mul(de,te),he=ae.mul(he,de);let _e=ae.pow(he,d);_e=ae.mul(_e,de);let Ie=ae.mul(_e,s);he=ae.sqr(_e),he=ae.mul(he,ne);let He=ae.eql(he,te),Ve=ae.cmov(Ie,_e,He),xt=ae.mul(be,xe),Ne=ae.mul(_e,Ue);Ne=ae.mul(Ne,C);let ke=ae.mul(Ne,s),pt=ae.mul(te,xe);he=ae.sqr(Ne),he=ae.mul(he,ne);let F=ae.eql(he,pt),D=ae.cmov(ke,Ne,F);he=ae.sqr(Ve),he=ae.mul(he,ne);let M=ae.eql(he,te),G=ae.cmov(xt,be,M),fe=ae.cmov(D,Ve,M),Se=ae.isOdd(fe);return fe=ae.cmov(fe,ae.neg(fe),M!==Se),{xMn:G,xMd:Ce,yMn:fe,yMd:A}}(Ue);let ne=ae.mul(xe,he);ne=ae.mul(ne,w);let te=ae.mul(Ce,be),de=ae.sub(xe,Ce),_e=ae.add(xe,Ce),Ie=ae.mul(te,_e),He=ae.eql(Ie,ae.ZERO);ne=ae.cmov(ne,ae.ZERO,He),te=ae.cmov(te,ae.ONE,He),de=ae.cmov(de,ae.ONE,He),_e=ae.cmov(_e,ae.ONE,He);const Ve=ae.invertBatch([te,_e]);return{x:ae.mul(ne,Ve[0]),y:ae.mul(de,Ve[1])}}(Ue[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:ae.ORDER,m:1,k:128,expand:"xmd",hash:g.sha512});function x(Ue){if(!(Ue instanceof ge))throw new Error("RistrettoPoint expected")}j.hashToCurve=L.hashToCurve,j.encodeToCurve=L.encodeToCurve;const a=R,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Z=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),z=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ee=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),le=Ue=>ie(A,Ue),we=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Me=Ue=>j.ed25519.CURVE.Fp.create((0,k.bytesToNumberLE)(Ue)&we);function Ge(Ue){const{d:xe}=j.ed25519.CURVE,Ce=j.ed25519.CURVE.Fp.ORDER,be=j.ed25519.CURVE.Fp.create,he=be(a*Ue*Ue),ne=be((he+A)*z);let te=BigInt(-1);const de=be((te-xe*he)*be(he+xe));let{isValid:_e,value:Ie}=ie(ne,de),He=be(Ie*Ue);(0,b.isNegativeLE)(He,Ce)||(He=be(-He)),_e||(Ie=He),_e||(te=he);const Ve=be(te*(he-A)*ee-de),xt=Ie*Ie,Ne=be((Ie+Ie)*de),ke=be(Ve*v),pt=be(A-xt),F=be(A+xt);return new j.ed25519.ExtendedPoint(be(Ne*F),be(pt*ke),be(ke*F),be(Ne*pt))}class ge{constructor(xe){this.ep=xe}static fromAffine(xe){return new ge(j.ed25519.ExtendedPoint.fromAffine(xe))}static hashToCurve(xe){xe=(0,k.ensureBytes)("ristrettoHash",xe,64);const be=Ge(Me(xe.slice(0,32))),ne=Ge(Me(xe.slice(32,64)));return new ge(be.add(ne))}static fromHex(xe){xe=(0,k.ensureBytes)("ristrettoHex",xe,32);const{a:Ce,d:be}=j.ed25519.CURVE,he=j.ed25519.CURVE.Fp.ORDER,ne=j.ed25519.CURVE.Fp.create,te="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",de=Me(xe);if(!(0,k.equalBytes)((0,k.numberToBytesLE)(de,32),xe)||(0,b.isNegativeLE)(de,he))throw new Error(te);const _e=ne(de*de),Ie=ne(A+Ce*_e),He=ne(A-Ce*_e),Ve=ne(Ie*Ie),xt=ne(He*He),Ne=ne(Ce*be*Ve-xt),{isValid:ke,value:pt}=le(ne(Ne*xt)),F=ne(pt*He),D=ne(pt*F*Ne);let M=ne((de+de)*F);(0,b.isNegativeLE)(M,he)&&(M=ne(-M));const G=ne(Ie*D),fe=ne(M*G);if(!ke||(0,b.isNegativeLE)(fe,he)||G===O)throw new Error(te);return new ge(new j.ed25519.ExtendedPoint(M,G,A,fe))}toRawBytes(){let{ex:xe,ey:Ce,ez:be,et:he}=this.ep;const ne=j.ed25519.CURVE.Fp.ORDER,te=j.ed25519.CURVE.Fp.create,de=te(te(be+Ce)*te(be-Ce)),_e=te(xe*Ce),Ie=te(_e*_e),{value:He}=le(te(de*Ie)),Ve=te(He*de),xt=te(He*_e),Ne=te(Ve*xt*he);let ke;if((0,b.isNegativeLE)(he*Ne,ne)){let F=te(Ce*a),D=te(xe*a);xe=F,Ce=D,ke=te(Ve*Z)}else ke=xt;(0,b.isNegativeLE)(xe*Ne,ne)&&(Ce=te(-Ce));let pt=te((be-Ce)*ke);return(0,b.isNegativeLE)(pt,ne)&&(pt=te(-pt)),(0,k.numberToBytesLE)(pt,32)}toHex(){return(0,k.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(xe){x(xe);const{ex:Ce,ey:be}=this.ep,{ex:he,ey:ne}=xe.ep,te=j.ed25519.CURVE.Fp.create,de=te(Ce*ne)===te(be*he),_e=te(be*ne)===te(Ce*he);return de||_e}add(xe){return x(xe),new ge(this.ep.add(xe.ep))}subtract(xe){return x(xe),new ge(this.ep.subtract(xe.ep))}multiply(xe){return new ge(this.ep.multiply(xe))}multiplyUnsafe(xe){return new ge(this.ep.multiplyUnsafe(xe))}double(){return new ge(this.ep.double())}negate(){return new ge(this.ep.negate())}}j.RistrettoPoint=(ge.BASE||(ge.BASE=new ge(j.ed25519.ExtendedPoint.BASE)),ge.ZERO||(ge.ZERO=new ge(j.ed25519.ExtendedPoint.ZERO)),ge),j.hashToRistretto255=(Ue,xe)=>{const Ce=xe.DST,be="string"==typeof Ce?(0,_.utf8ToBytes)(Ce):Ce,he=(0,S.expand_message_xmd)(Ue,be,64,g.sha512);return ge.hashToCurve(he)},j.hash_to_ristretto255=j.hashToRistretto255},91717:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.encodeToCurve=j.hashToCurve=j.schnorr=j.secp256k1=void 0;const g=E(1806),_=E(96492),B=E(63834),H=E(73040),b=E(84097),k=E(75752),S=E(4521),P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),R=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),O=BigInt(1),A=BigInt(2),V=(x,a)=>(x+a/A)/a;function U(x){const a=P,v=BigInt(3),Z=BigInt(6),z=BigInt(11),ee=BigInt(22),le=BigInt(23),we=BigInt(44),Me=BigInt(88),Ge=x*x*x%a,ge=Ge*Ge*x%a,me=(0,B.pow2)(ge,v,a)*ge%a,Ue=(0,B.pow2)(me,v,a)*ge%a,xe=(0,B.pow2)(Ue,A,a)*Ge%a,Ce=(0,B.pow2)(xe,z,a)*xe%a,be=(0,B.pow2)(Ce,ee,a)*Ce%a,he=(0,B.pow2)(be,we,a)*be%a,ne=(0,B.pow2)(he,Me,a)*he%a,te=(0,B.pow2)(ne,we,a)*be%a,de=(0,B.pow2)(te,v,a)*ge%a,_e=(0,B.pow2)(de,le,a)*Ce%a,Ie=(0,B.pow2)(_e,Z,a)*Ge%a,He=(0,B.pow2)(Ie,A,a);if(!K.eql(K.sqr(He),x))throw new Error("Cannot find square root");return He}const K=(0,B.Field)(P,void 0,void 0,{sqrt:U});j.secp256k1=(0,S.createCurve)({a:BigInt(0),b:BigInt(7),Fp:K,n:R,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:x=>{const a=R,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),Z=-O*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),z=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=v,le=BigInt("0x100000000000000000000000000000000"),we=V(ee*x,a),Me=V(-Z*x,a);let Ge=(0,B.mod)(x-we*v-Me*z,a),ge=(0,B.mod)(-we*Z-Me*ee,a);const me=Ge>le,Ue=ge>le;if(me&&(Ge=a-Ge),Ue&&(ge=a-ge),Ge>le||ge>le)throw new Error("splitScalar: Endomorphism failed, k="+x);return{k1neg:me,k1:Ge,k2neg:Ue,k2:ge}}}},g.sha256);const Q=BigInt(0),q=x=>"bigint"==typeof x&&Q<x&&x<P,W={};function re(x,...a){let v=W[x];if(void 0===v){const Z=(0,g.sha256)(Uint8Array.from(x,z=>z.charCodeAt(0)));v=(0,b.concatBytes)(Z,Z),W[x]=v}return(0,g.sha256)((0,b.concatBytes)(v,...a))}const ie=x=>x.toRawBytes(!0).slice(1),ae=x=>(0,b.numberToBytesBE)(x,32),ue=x=>(0,B.mod)(x,P),ce=x=>(0,B.mod)(x,R),pe=j.secp256k1.ProjectivePoint;function De(x){let a=j.secp256k1.utils.normPrivateKeyToScalar(x),v=pe.fromPrivateKey(a);return{scalar:v.hasEvenY()?a:ce(-a),bytes:ie(v)}}function C(x){if(!q(x))throw new Error("bad x: need 0 < x < p");const a=ue(x*x);let Z=U(ue(a*x+BigInt(7)));Z%A!==Q&&(Z=ue(-Z));const z=new pe(x,Z,O);return z.assertValidity(),z}function s(...x){return ce((0,b.bytesToNumberBE)(re("BIP0340/challenge",...x)))}function f(x,a,v){const Z=(0,b.ensureBytes)("signature",x,64),z=(0,b.ensureBytes)("message",a),ee=(0,b.ensureBytes)("publicKey",v,32);try{const le=C((0,b.bytesToNumberBE)(ee)),we=(0,b.bytesToNumberBE)(Z.subarray(0,32));if(!q(we))return!1;const Me=(0,b.bytesToNumberBE)(Z.subarray(32,64));if(!(x=>"bigint"==typeof x&&Q<x&&x<R)(Me))return!1;const Ge=s(ae(we),ie(le),z),ge=((x,a,v)=>pe.BASE.multiplyAndAddUnsafe(x,a,v))(le,Me,ce(-Ge));return!(!ge||!ge.hasEvenY()||ge.toAffine().x!==we)}catch{return!1}}j.schnorr={getPublicKey:function d(x){return De(x).bytes},sign:function h(x,a,v=(0,_.randomBytes)(32)){const Z=(0,b.ensureBytes)("message",x),{bytes:z,scalar:ee}=De(a),le=(0,b.ensureBytes)("auxRand",v,32),we=ae(ee^(0,b.bytesToNumberBE)(re("BIP0340/aux",le))),Me=re("BIP0340/nonce",we,z,Z),Ge=ce((0,b.bytesToNumberBE)(Me));if(Ge===Q)throw new Error("sign failed: k is zero");const{bytes:ge,scalar:me}=De(Ge),Ue=s(ge,z,Z),xe=new Uint8Array(64);if(xe.set(ge,0),xe.set(ae(ce(me+Ue*ee)),32),!f(xe,Z,z))throw new Error("sign: Invalid signature produced");return xe},verify:f,utils:{randomPrivateKey:j.secp256k1.utils.randomPrivateKey,lift_x:C,pointToBytes:ie,numberToBytesBE:b.numberToBytesBE,bytesToNumberBE:b.bytesToNumberBE,taggedHash:re,mod:B.mod}};const w=(0,k.isogenyMap)(K,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(x=>x.map(a=>BigInt(a)))),I=(0,H.mapToCurveSimpleSWU)(K,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:K.create(BigInt("-11"))}),L=(0,k.createHasher)(j.secp256k1.ProjectivePoint,x=>{const{x:a,y:v}=I(K.create(x[0]));return w(a,v)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:K.ORDER,m:1,k:128,expand:"xmd",hash:g.sha256});j.hashToCurve=L.hashToCurve,j.encodeToCurve=L.encodeToCurve},68578:($e,j)=>{"use strict";function E(P){if(!Number.isSafeInteger(P)||P<0)throw new Error(`Wrong positive integer: ${P}`)}function g(P){if("boolean"!=typeof P)throw new Error(`Expected boolean, not ${P}`)}function B(P,...R){if(!function _(P){return P instanceof Uint8Array||null!=P&&"object"==typeof P&&"Uint8Array"===P.constructor.name}(P))throw new Error("Expected Uint8Array");if(R.length>0&&!R.includes(P.length))throw new Error(`Expected Uint8Array of length ${R}, not of length=${P.length}`)}function H(P){if("function"!=typeof P||"function"!=typeof P.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");E(P.outputLen),E(P.blockLen)}function b(P,R=!0){if(P.destroyed)throw new Error("Hash instance has been destroyed");if(R&&P.finished)throw new Error("Hash#digest() has already been called")}function k(P,R){B(P);const O=R.outputLen;if(P.length<O)throw new Error(`digestInto() expects output buffer of length at least ${O}`)}Object.defineProperty(j,"__esModule",{value:!0}),j.output=j.exists=j.hash=j.bytes=j.bool=j.number=void 0,j.number=E,j.bool=g,j.bytes=B,j.hash=H,j.exists=b,j.output=k,j.default={number:E,bool:g,bytes:B,hash:H,exists:b,output:k}},25724:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.SHA2=void 0;const g=E(68578),_=E(96492);j.SHA2=class H extends _.Hash{constructor(k,S,P,R){super(),this.blockLen=k,this.outputLen=S,this.padOffset=P,this.isLE=R,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(k),this.view=(0,_.createView)(this.buffer)}update(k){(0,g.exists)(this);const{view:S,buffer:P,blockLen:R}=this,O=(k=(0,_.toBytes)(k)).length;for(let A=0;A<O;){const V=Math.min(R-this.pos,O-A);if(V!==R)P.set(k.subarray(A,A+V),this.pos),this.pos+=V,A+=V,this.pos===R&&(this.process(S,0),this.pos=0);else{const U=(0,_.createView)(k);for(;R<=O-A;A+=R)this.process(U,A)}}return this.length+=k.length,this.roundClean(),this}digestInto(k){(0,g.exists)(this),(0,g.output)(k,this),this.finished=!0;const{buffer:S,view:P,blockLen:R,isLE:O}=this;let{pos:A}=this;S[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>R-A&&(this.process(P,0),A=0);for(let q=A;q<R;q++)S[q]=0;(function B(b,k,S,P){if("function"==typeof b.setBigUint64)return b.setBigUint64(k,S,P);const R=BigInt(32),O=BigInt(4294967295),A=Number(S>>R&O),V=Number(S&O),K=P?0:4;b.setUint32(k+(P?4:0),A,P),b.setUint32(k+K,V,P)})(P,R-8,BigInt(8*this.length),O),this.process(P,0);const V=(0,_.createView)(k),U=this.outputLen;if(U%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const K=U/4,Q=this.get();if(K>Q.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<K;q++)V.setUint32(4*q,Q[q],O)}digest(){const{buffer:k,outputLen:S}=this;this.digestInto(k);const P=k.slice(0,S);return this.destroy(),P}_cloneInto(k){k||(k=new this.constructor),k.set(...this.get());const{blockLen:S,buffer:P,length:R,finished:O,destroyed:A,pos:V}=this;return k.length=R,k.pos=V,k.finished=O,k.destroyed=A,R%S&&k.buffer.set(P),k}}},35059:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.add5L=j.add5H=j.add4H=j.add4L=j.add3H=j.add3L=j.add=j.rotlBL=j.rotlBH=j.rotlSL=j.rotlSH=j.rotr32L=j.rotr32H=j.rotrBL=j.rotrBH=j.rotrSL=j.rotrSH=j.shrSL=j.shrSH=j.toBig=j.split=j.fromBig=void 0;const E=BigInt(2**32-1),g=BigInt(32);function _(ve,De=!1){return De?{h:Number(ve&E),l:Number(ve>>g&E)}:{h:0|Number(ve>>g&E),l:0|Number(ve&E)}}function B(ve,De=!1){let C=new Uint32Array(ve.length),s=new Uint32Array(ve.length);for(let d=0;d<ve.length;d++){const{h,l:f}=_(ve[d],De);[C[d],s[d]]=[h,f]}return[C,s]}j.fromBig=_,j.split=B;const H=(ve,De)=>BigInt(ve>>>0)<<g|BigInt(De>>>0);j.toBig=H;const b=(ve,De,C)=>ve>>>C;j.shrSH=b;const k=(ve,De,C)=>ve<<32-C|De>>>C;j.shrSL=k;const S=(ve,De,C)=>ve>>>C|De<<32-C;j.rotrSH=S;const P=(ve,De,C)=>ve<<32-C|De>>>C;j.rotrSL=P;const R=(ve,De,C)=>ve<<64-C|De>>>C-32;j.rotrBH=R;const O=(ve,De,C)=>ve>>>C-32|De<<64-C;j.rotrBL=O;const A=(ve,De)=>De;j.rotr32H=A;const V=(ve,De)=>ve;j.rotr32L=V;const U=(ve,De,C)=>ve<<C|De>>>32-C;j.rotlSH=U;const K=(ve,De,C)=>De<<C|ve>>>32-C;j.rotlSL=K;const Q=(ve,De,C)=>De<<C-32|ve>>>64-C;j.rotlBH=Q;const q=(ve,De,C)=>ve<<C-32|De>>>64-C;function Y(ve,De,C,s){const d=(De>>>0)+(s>>>0);return{h:ve+C+(d/2**32|0)|0,l:0|d}}j.rotlBL=q,j.add=Y;const W=(ve,De,C)=>(ve>>>0)+(De>>>0)+(C>>>0);j.add3L=W;const re=(ve,De,C,s)=>De+C+s+(ve/2**32|0)|0;j.add3H=re;const ie=(ve,De,C,s)=>(ve>>>0)+(De>>>0)+(C>>>0)+(s>>>0);j.add4L=ie;const ae=(ve,De,C,s,d)=>De+C+s+d+(ve/2**32|0)|0;j.add4H=ae;const ue=(ve,De,C,s,d)=>(ve>>>0)+(De>>>0)+(C>>>0)+(s>>>0)+(d>>>0);j.add5L=ue;const ce=(ve,De,C,s,d,h)=>De+C+s+d+h+(ve/2**32|0)|0;j.add5H=ce,j.default={fromBig:_,split:B,toBig:H,shrSH:b,shrSL:k,rotrSH:S,rotrSL:P,rotrBH:R,rotrBL:O,rotr32H:A,rotr32L:V,rotlSH:U,rotlSL:K,rotlBH:Q,rotlBL:q,add:Y,add3L:W,add3H:re,add4L:ie,add4H:ae,add5H:ce,add5L:ue}},89948:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.crypto=void 0,j.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hkdf=j.expand=j.extract=void 0;const g=E(68578),_=E(96492),B=E(44882);function H(R,O,A){return(0,g.hash)(R),void 0===A&&(A=new Uint8Array(R.outputLen)),(0,B.hmac)(R,(0,_.toBytes)(A),(0,_.toBytes)(O))}j.extract=H;const b=new Uint8Array([0]),k=new Uint8Array;function S(R,O,A,V=32){if((0,g.hash)(R),(0,g.number)(V),V>255*R.outputLen)throw new Error("Length should be <= 255*HashLen");const U=Math.ceil(V/R.outputLen);void 0===A&&(A=k);const K=new Uint8Array(U*R.outputLen),Q=B.hmac.create(R,O),q=Q._cloneInto(),Y=new Uint8Array(Q.outputLen);for(let W=0;W<U;W++)b[0]=W+1,q.update(0===W?k:Y).update(A).update(b).digestInto(Y),K.set(Y,R.outputLen*W),Q._cloneInto(q);return Q.destroy(),q.destroy(),Y.fill(0),b.fill(0),K.slice(0,V)}j.expand=S,j.hkdf=(R,O,A,V,U)=>S(R,H(R,O,A),V,U)},44882:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hmac=j.HMAC=void 0;const g=E(68578),_=E(96492);class B extends _.Hash{constructor(k,S){super(),this.finished=!1,this.destroyed=!1,(0,g.hash)(k);const P=(0,_.toBytes)(S);if(this.iHash=k.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const R=this.blockLen,O=new Uint8Array(R);O.set(P.length>R?k.create().update(P).digest():P);for(let A=0;A<O.length;A++)O[A]^=54;this.iHash.update(O),this.oHash=k.create();for(let A=0;A<O.length;A++)O[A]^=106;this.oHash.update(O),O.fill(0)}update(k){return(0,g.exists)(this),this.iHash.update(k),this}digestInto(k){(0,g.exists)(this),(0,g.bytes)(k,this.outputLen),this.finished=!0,this.iHash.digestInto(k),this.oHash.update(k),this.oHash.digestInto(k),this.destroy()}digest(){const k=new Uint8Array(this.oHash.outputLen);return this.digestInto(k),k}_cloneInto(k){k||(k=Object.create(Object.getPrototypeOf(this),{}));const{oHash:S,iHash:P,finished:R,destroyed:O,blockLen:A,outputLen:V}=this;return k.finished=R,k.destroyed=O,k.blockLen=A,k.outputLen=V,k.oHash=S._cloneInto(k.oHash),k.iHash=P._cloneInto(k.iHash),k}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}j.HMAC=B,j.hmac=(b,k,S)=>new B(b,k).update(S).digest(),j.hmac.create=(b,k)=>new B(b,k)},1806:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.sha224=j.sha256=void 0;const g=E(25724),_=E(96492),B=(O,A,V)=>O&A^~O&V,H=(O,A,V)=>O&A^O&V^A&V,b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),k=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),S=new Uint32Array(64);class P extends g.SHA2{constructor(){super(64,32,8,!1),this.A=0|k[0],this.B=0|k[1],this.C=0|k[2],this.D=0|k[3],this.E=0|k[4],this.F=0|k[5],this.G=0|k[6],this.H=0|k[7]}get(){const{A,B:V,C:U,D:K,E:Q,F:q,G:Y,H:W}=this;return[A,V,U,K,Q,q,Y,W]}set(A,V,U,K,Q,q,Y,W){this.A=0|A,this.B=0|V,this.C=0|U,this.D=0|K,this.E=0|Q,this.F=0|q,this.G=0|Y,this.H=0|W}process(A,V){for(let ae=0;ae<16;ae++,V+=4)S[ae]=A.getUint32(V,!1);for(let ae=16;ae<64;ae++){const ue=S[ae-15],ce=S[ae-2],pe=(0,_.rotr)(ue,7)^(0,_.rotr)(ue,18)^ue>>>3,ve=(0,_.rotr)(ce,17)^(0,_.rotr)(ce,19)^ce>>>10;S[ae]=ve+S[ae-7]+pe+S[ae-16]|0}let{A:U,B:K,C:Q,D:q,E:Y,F:W,G:re,H:ie}=this;for(let ae=0;ae<64;ae++){const ce=ie+((0,_.rotr)(Y,6)^(0,_.rotr)(Y,11)^(0,_.rotr)(Y,25))+B(Y,W,re)+b[ae]+S[ae]|0,ve=((0,_.rotr)(U,2)^(0,_.rotr)(U,13)^(0,_.rotr)(U,22))+H(U,K,Q)|0;ie=re,re=W,W=Y,Y=q+ce|0,q=Q,Q=K,K=U,U=ce+ve|0}U=U+this.A|0,K=K+this.B|0,Q=Q+this.C|0,q=q+this.D|0,Y=Y+this.E|0,W=W+this.F|0,re=re+this.G|0,ie=ie+this.H|0,this.set(U,K,Q,q,Y,W,re,ie)}roundClean(){S.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class R extends P{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}j.sha256=(0,_.wrapConstructor)(()=>new P),j.sha224=(0,_.wrapConstructor)(()=>new R)},44207:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.sha384=j.sha512_256=j.sha512_224=j.sha512=j.SHA512=void 0;const g=E(25724),_=E(35059),B=E(96492),[H,b]=_.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(V=>BigInt(V))),k=new Uint32Array(80),S=new Uint32Array(80);class P extends g.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:U,Al:K,Bh:Q,Bl:q,Ch:Y,Cl:W,Dh:re,Dl:ie,Eh:ae,El:ue,Fh:ce,Fl:pe,Gh:ve,Gl:De,Hh:C,Hl:s}=this;return[U,K,Q,q,Y,W,re,ie,ae,ue,ce,pe,ve,De,C,s]}set(U,K,Q,q,Y,W,re,ie,ae,ue,ce,pe,ve,De,C,s){this.Ah=0|U,this.Al=0|K,this.Bh=0|Q,this.Bl=0|q,this.Ch=0|Y,this.Cl=0|W,this.Dh=0|re,this.Dl=0|ie,this.Eh=0|ae,this.El=0|ue,this.Fh=0|ce,this.Fl=0|pe,this.Gh=0|ve,this.Gl=0|De,this.Hh=0|C,this.Hl=0|s}process(U,K){for(let f=0;f<16;f++,K+=4)k[f]=U.getUint32(K),S[f]=U.getUint32(K+=4);for(let f=16;f<80;f++){const w=0|k[f-15],I=0|S[f-15],L=_.default.rotrSH(w,I,1)^_.default.rotrSH(w,I,8)^_.default.shrSH(w,I,7),x=_.default.rotrSL(w,I,1)^_.default.rotrSL(w,I,8)^_.default.shrSL(w,I,7),a=0|k[f-2],v=0|S[f-2],Z=_.default.rotrSH(a,v,19)^_.default.rotrBH(a,v,61)^_.default.shrSH(a,v,6),z=_.default.rotrSL(a,v,19)^_.default.rotrBL(a,v,61)^_.default.shrSL(a,v,6),ee=_.default.add4L(x,z,S[f-7],S[f-16]),le=_.default.add4H(ee,L,Z,k[f-7],k[f-16]);k[f]=0|le,S[f]=0|ee}let{Ah:Q,Al:q,Bh:Y,Bl:W,Ch:re,Cl:ie,Dh:ae,Dl:ue,Eh:ce,El:pe,Fh:ve,Fl:De,Gh:C,Gl:s,Hh:d,Hl:h}=this;for(let f=0;f<80;f++){const w=_.default.rotrSH(ce,pe,14)^_.default.rotrSH(ce,pe,18)^_.default.rotrBH(ce,pe,41),I=_.default.rotrSL(ce,pe,14)^_.default.rotrSL(ce,pe,18)^_.default.rotrBL(ce,pe,41),L=ce&ve^~ce&C,a=_.default.add5L(h,I,pe&De^~pe&s,b[f],S[f]),v=_.default.add5H(a,d,w,L,H[f],k[f]),Z=0|a,z=_.default.rotrSH(Q,q,28)^_.default.rotrBH(Q,q,34)^_.default.rotrBH(Q,q,39),ee=_.default.rotrSL(Q,q,28)^_.default.rotrBL(Q,q,34)^_.default.rotrBL(Q,q,39),le=Q&Y^Q&re^Y&re,we=q&W^q&ie^W&ie;d=0|C,h=0|s,C=0|ve,s=0|De,ve=0|ce,De=0|pe,({h:ce,l:pe}=_.default.add(0|ae,0|ue,0|v,0|Z)),ae=0|re,ue=0|ie,re=0|Y,ie=0|W,Y=0|Q,W=0|q;const Me=_.default.add3L(Z,ee,we);Q=_.default.add3H(Me,v,z,le),q=0|Me}({h:Q,l:q}=_.default.add(0|this.Ah,0|this.Al,0|Q,0|q)),({h:Y,l:W}=_.default.add(0|this.Bh,0|this.Bl,0|Y,0|W)),({h:re,l:ie}=_.default.add(0|this.Ch,0|this.Cl,0|re,0|ie)),({h:ae,l:ue}=_.default.add(0|this.Dh,0|this.Dl,0|ae,0|ue)),({h:ce,l:pe}=_.default.add(0|this.Eh,0|this.El,0|ce,0|pe)),({h:ve,l:De}=_.default.add(0|this.Fh,0|this.Fl,0|ve,0|De)),({h:C,l:s}=_.default.add(0|this.Gh,0|this.Gl,0|C,0|s)),({h:d,l:h}=_.default.add(0|this.Hh,0|this.Hl,0|d,0|h)),this.set(Q,q,Y,W,re,ie,ae,ue,ce,pe,ve,De,C,s,d,h)}roundClean(){k.fill(0),S.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}j.SHA512=P;class R extends P{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class O extends P{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class A extends P{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}j.sha512=(0,B.wrapConstructor)(()=>new P),j.sha512_224=(0,B.wrapConstructor)(()=>new R),j.sha512_256=(0,B.wrapConstructor)(()=>new O),j.sha384=(0,B.wrapConstructor)(()=>new A)},96492:($e,j,E)=>{"use strict";var g=E(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.randomBytes=j.wrapXOFConstructorWithOpts=j.wrapConstructorWithOpts=j.wrapConstructor=j.checkOpts=j.Hash=j.concatBytes=j.toBytes=j.utf8ToBytes=j.asyncLoop=j.nextTick=j.hexToBytes=j.bytesToHex=j.isLE=j.rotr=j.createView=j.u32=j.u8=void 0;const _=E(89948);function b(De){return De instanceof Uint8Array||null!=De&&"object"==typeof De&&"Uint8Array"===De.constructor.name}if(j.u8=De=>new Uint8Array(De.buffer,De.byteOffset,De.byteLength),j.u32=De=>new Uint32Array(De.buffer,De.byteOffset,Math.floor(De.byteLength/4)),j.createView=De=>new DataView(De.buffer,De.byteOffset,De.byteLength),j.rotr=(De,C)=>De<<32-C|De>>>C,j.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!j.isLE)throw new Error("Non little-endian hardware is not supported");const P=Array.from({length:256},(De,C)=>C.toString(16).padStart(2,"0"));j.bytesToHex=function R(De){if(!b(De))throw new Error("Uint8Array expected");let C="";for(let s=0;s<De.length;s++)C+=P[De[s]];return C};const O__0=48,O__9=57,O__A=65,O__F=70,O__a=97,O__f=102;function A(De){return De>=O__0&&De<=O__9?De-O__0:De>=O__A&&De<=O__F?De-(O__A-10):De>=O__a&&De<=O__f?De-(O__a-10):void 0}function Q(){return(Q=g(function*(De,C,s){let d=Date.now();for(let h=0;h<De;h++){s(h);const f=Date.now()-d;f>=0&&f<C||(yield(0,j.nextTick)(),d+=f)}})).apply(this,arguments)}function q(De){if("string"!=typeof De)throw new Error("utf8ToBytes expected string, got "+typeof De);return new Uint8Array((new TextEncoder).encode(De))}function Y(De){if("string"==typeof De&&(De=q(De)),!b(De))throw new Error("expected Uint8Array, got "+typeof De);return De}j.hexToBytes=function V(De){if("string"!=typeof De)throw new Error("hex string expected, got "+typeof De);const C=De.length,s=C/2;if(C%2)throw new Error("padded hex string expected, got unpadded hex of length "+C);const d=new Uint8Array(s);for(let h=0,f=0;h<s;h++,f+=2){const w=A(De.charCodeAt(f)),I=A(De.charCodeAt(f+1));if(void 0===w||void 0===I)throw new Error('hex string expected, got non-hex character "'+(De[f]+De[f+1])+'" at index '+f);d[h]=16*w+I}return d},j.nextTick=function(){var De=g(function*(){});return function(){return De.apply(this,arguments)}}(),j.asyncLoop=function K(De,C,s){return Q.apply(this,arguments)},j.utf8ToBytes=q,j.toBytes=Y,j.concatBytes=function W(...De){let C=0;for(let d=0;d<De.length;d++){const h=De[d];if(!b(h))throw new Error("Uint8Array expected");C+=h.length}const s=new Uint8Array(C);for(let d=0,h=0;d<De.length;d++){const f=De[d];s.set(f,h),h+=f.length}return s},j.Hash=class re{clone(){return this._cloneInto()}};const ie={}.toString;j.checkOpts=function ae(De,C){if(void 0!==C&&"[object Object]"!==ie.call(C))throw new Error("Options should be object or undefined");return Object.assign(De,C)},j.wrapConstructor=function ue(De){const C=d=>De().update(Y(d)).digest(),s=De();return C.outputLen=s.outputLen,C.blockLen=s.blockLen,C.create=()=>De(),C},j.wrapConstructorWithOpts=function ce(De){const C=(d,h)=>De(h).update(Y(d)).digest(),s=De({});return C.outputLen=s.outputLen,C.blockLen=s.blockLen,C.create=d=>De(d),C},j.wrapXOFConstructorWithOpts=function pe(De){const C=(d,h)=>De(h).update(Y(d)).digest(),s=De({});return C.outputLen=s.outputLen,C.blockLen=s.blockLen,C.create=d=>De(d),C},j.randomBytes=function ve(De=32){if(_.crypto&&"function"==typeof _.crypto.getRandomValues)return _.crypto.getRandomValues(new Uint8Array(De));throw new Error("crypto.getRandomValues must be defined")}},42064:($e,j,E)=>{j.Level=E(23963).BrowserLevel},20844:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.MissingRefError=j.ValidationError=j.CodeGen=j.Name=j.nil=j.stringify=j.str=j._=j.KeywordCxt=void 0;const g=E(35419),_=E(98496),B=E(86980),H=E(87577),b="https://json-schema.org/draft/2020-12/schema";class k extends g.default{constructor(V={}){super({...V,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),_.default.forEach(V=>this.addVocabulary(V)),this.opts.discriminator&&this.addKeyword(B.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:V,meta:U}=this.opts;U&&(H.default.call(this,V),this.refs["http://json-schema.org/schema"]=b)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(b)?b:void 0)}}$e.exports=j=k,Object.defineProperty(j,"__esModule",{value:!0}),j.default=k;var S=E(40339);Object.defineProperty(j,"KeywordCxt",{enumerable:!0,get:function(){return S.KeywordCxt}});var P=E(1038);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return P._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return P.str}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return P.stringify}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return P.nil}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return P.Name}}),Object.defineProperty(j,"CodeGen",{enumerable:!0,get:function(){return P.CodeGen}});var R=E(42467);Object.defineProperty(j,"ValidationError",{enumerable:!0,get:function(){return R.default}});var O=E(26288);Object.defineProperty(j,"MissingRefError",{enumerable:!0,get:function(){return O.default}})},33337:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.regexpCode=j.getEsmExportName=j.getProperty=j.safeStringify=j.stringify=j.strConcat=j.addCodeArg=j.str=j._=j.nil=j._Code=j.Name=j.IDENTIFIER=j._CodeOrName=void 0;class E{}j._CodeOrName=E,j.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class g extends E{constructor(Y){if(super(),!j.IDENTIFIER.test(Y))throw new Error("CodeGen: name must be a valid identifier");this.str=Y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}j.Name=g;class _ extends E{constructor(Y){super(),this._items="string"==typeof Y?[Y]:Y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const Y=this._items[0];return""===Y||'""'===Y}get str(){var Y;return null!==(Y=this._str)&&void 0!==Y?Y:this._str=this._items.reduce((W,re)=>`${W}${re}`,"")}get names(){var Y;return null!==(Y=this._names)&&void 0!==Y?Y:this._names=this._items.reduce((W,re)=>(re instanceof g&&(W[re.str]=(W[re.str]||0)+1),W),{})}}function B(q,...Y){const W=[q[0]];let re=0;for(;re<Y.length;)k(W,Y[re]),W.push(q[++re]);return new _(W)}j._Code=_,j.nil=new _(""),j._=B;const H=new _("+");function b(q,...Y){const W=[V(q[0])];let re=0;for(;re<Y.length;)W.push(H),k(W,Y[re]),W.push(H,V(q[++re]));return function S(q){let Y=1;for(;Y<q.length-1;){if(q[Y]===H){const W=P(q[Y-1],q[Y+1]);if(void 0!==W){q.splice(Y-1,3,W);continue}q[Y++]="+"}Y++}}(W),new _(W)}function k(q,Y){Y instanceof _?q.push(...Y._items):q.push(Y instanceof g?Y:function O(q){return"number"==typeof q||"boolean"==typeof q||null===q?q:V(Array.isArray(q)?q.join(","):q)}(Y))}function P(q,Y){return'""'===Y?q:'""'===q?Y:"string"==typeof q?Y instanceof g||'"'!==q[q.length-1]?void 0:"string"!=typeof Y?`${q.slice(0,-1)}${Y}"`:'"'===Y[0]?q.slice(0,-1)+Y.slice(1):void 0:"string"!=typeof Y||'"'!==Y[0]||q instanceof g?void 0:`"${q}${Y.slice(1)}`}function V(q){return JSON.stringify(q).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}j.str=b,j.addCodeArg=k,j.strConcat=function R(q,Y){return Y.emptyStr()?q:q.emptyStr()?Y:b`${q}${Y}`},j.stringify=function A(q){return new _(V(q))},j.safeStringify=V,j.getProperty=function U(q){return"string"==typeof q&&j.IDENTIFIER.test(q)?new _(`.${q}`):B`[${q}]`},j.getEsmExportName=function K(q){if("string"==typeof q&&j.IDENTIFIER.test(q))return new _(`${q}`);throw new Error(`CodeGen: invalid export name: ${q}, use explicit $id name mapping`)},j.regexpCode=function Q(q){return new _(q.toString())}},1038:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.or=j.and=j.not=j.CodeGen=j.operators=j.varKinds=j.ValueScopeName=j.ValueScope=j.Scope=j.Name=j.regexpCode=j.stringify=j.getProperty=j.nil=j.strConcat=j.str=j._=void 0;const g=E(33337),_=E(85934);var B=E(33337);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return B._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return B.str}}),Object.defineProperty(j,"strConcat",{enumerable:!0,get:function(){return B.strConcat}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return B.nil}}),Object.defineProperty(j,"getProperty",{enumerable:!0,get:function(){return B.getProperty}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return B.stringify}}),Object.defineProperty(j,"regexpCode",{enumerable:!0,get:function(){return B.regexpCode}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return B.Name}});var H=E(85934);Object.defineProperty(j,"Scope",{enumerable:!0,get:function(){return H.Scope}}),Object.defineProperty(j,"ValueScope",{enumerable:!0,get:function(){return H.ValueScope}}),Object.defineProperty(j,"ValueScopeName",{enumerable:!0,get:function(){return H.ValueScopeName}}),Object.defineProperty(j,"varKinds",{enumerable:!0,get:function(){return H.varKinds}}),j.operators={GT:new g._Code(">"),GTE:new g._Code(">="),LT:new g._Code("<"),LTE:new g._Code("<="),EQ:new g._Code("==="),NEQ:new g._Code("!=="),NOT:new g._Code("!"),OR:new g._Code("||"),AND:new g._Code("&&"),ADD:new g._Code("+")};class b{optimizeNodes(){return this}optimizeNames(ee,le){return this}}class k extends b{constructor(ee,le,we){super(),this.varKind=ee,this.name=le,this.rhs=we}render({es5:ee,_n:le}){return`${ee?_.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+le}optimizeNames(ee,le){if(ee[this.name.str])return this.rhs&&(this.rhs=h(this.rhs,ee,le)),this}get names(){return this.rhs instanceof g._CodeOrName?this.rhs.names:{}}}class S extends b{constructor(ee,le,we){super(),this.lhs=ee,this.rhs=le,this.sideEffects=we}render({_n:ee}){return`${this.lhs} = ${this.rhs};`+ee}optimizeNames(ee,le){if(!(this.lhs instanceof g.Name)||ee[this.lhs.str]||this.sideEffects)return this.rhs=h(this.rhs,ee,le),this}get names(){return d(this.lhs instanceof g.Name?{}:{...this.lhs.names},this.rhs)}}class P extends S{constructor(ee,le,we,Me){super(ee,we,Me),this.op=le}render({_n:ee}){return`${this.lhs} ${this.op}= ${this.rhs};`+ee}}class R extends b{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`${this.label}:`+ee}}class O extends b{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`break${this.label?` ${this.label}`:""};`+ee}}class A extends b{constructor(ee){super(),this.error=ee}render({_n:ee}){return`throw ${this.error};`+ee}get names(){return this.error.names}}class V extends b{constructor(ee){super(),this.code=ee}render({_n:ee}){return`${this.code};`+ee}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ee,le){return this.code=h(this.code,ee,le),this}get names(){return this.code instanceof g._CodeOrName?this.code.names:{}}}class U extends b{constructor(ee=[]){super(),this.nodes=ee}render(ee){return this.nodes.reduce((le,we)=>le+we.render(ee),"")}optimizeNodes(){const{nodes:ee}=this;let le=ee.length;for(;le--;){const we=ee[le].optimizeNodes();Array.isArray(we)?ee.splice(le,1,...we):we?ee[le]=we:ee.splice(le,1)}return ee.length>0?this:void 0}optimizeNames(ee,le){const{nodes:we}=this;let Me=we.length;for(;Me--;){const Ge=we[Me];Ge.optimizeNames(ee,le)||(f(ee,Ge.names),we.splice(Me,1))}return we.length>0?this:void 0}get names(){return this.nodes.reduce((ee,le)=>s(ee,le.names),{})}}class K extends U{render(ee){return"{"+ee._n+super.render(ee)+"}"+ee._n}}class Q extends U{}let q=(()=>{class z extends K{}return z.kind="else",z})(),Y=(()=>{class z extends K{constructor(le,we){super(we),this.condition=le}render(le){let we=`if(${this.condition})`+super.render(le);return this.else&&(we+="else "+this.else.render(le)),we}optimizeNodes(){super.optimizeNodes();const le=this.condition;if(!0===le)return this.nodes;let we=this.else;if(we){const Me=we.optimizeNodes();we=this.else=Array.isArray(Me)?new q(Me):Me}return we?!1===le?we instanceof z?we:we.nodes:this.nodes.length?this:new z(w(le),we instanceof z?[we]:we.nodes):!1!==le&&this.nodes.length?this:void 0}optimizeNames(le,we){var Me;if(this.else=null===(Me=this.else)||void 0===Me?void 0:Me.optimizeNames(le,we),super.optimizeNames(le,we)||this.else)return this.condition=h(this.condition,le,we),this}get names(){const le=super.names;return d(le,this.condition),this.else&&s(le,this.else.names),le}}return z.kind="if",z})(),W=(()=>{class z extends K{}return z.kind="for",z})();class re extends W{constructor(ee){super(),this.iteration=ee}render(ee){return`for(${this.iteration})`+super.render(ee)}optimizeNames(ee,le){if(super.optimizeNames(ee,le))return this.iteration=h(this.iteration,ee,le),this}get names(){return s(super.names,this.iteration.names)}}class ie extends W{constructor(ee,le,we,Me){super(),this.varKind=ee,this.name=le,this.from=we,this.to=Me}render(ee){const le=ee.es5?_.varKinds.var:this.varKind,{name:we,from:Me,to:Ge}=this;return`for(${le} ${we}=${Me}; ${we}<${Ge}; ${we}++)`+super.render(ee)}get names(){const ee=d(super.names,this.from);return d(ee,this.to)}}class ae extends W{constructor(ee,le,we,Me){super(),this.loop=ee,this.varKind=le,this.name=we,this.iterable=Me}render(ee){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ee)}optimizeNames(ee,le){if(super.optimizeNames(ee,le))return this.iterable=h(this.iterable,ee,le),this}get names(){return s(super.names,this.iterable.names)}}let ue=(()=>{class z extends K{constructor(le,we,Me){super(),this.name=le,this.args=we,this.async=Me}render(le){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(le)}}return z.kind="func",z})(),ce=(()=>{class z extends U{render(le){return"return "+super.render(le)}}return z.kind="return",z})();class pe extends K{render(ee){let le="try"+super.render(ee);return this.catch&&(le+=this.catch.render(ee)),this.finally&&(le+=this.finally.render(ee)),le}optimizeNodes(){var ee,le;return super.optimizeNodes(),null===(ee=this.catch)||void 0===ee||ee.optimizeNodes(),null===(le=this.finally)||void 0===le||le.optimizeNodes(),this}optimizeNames(ee,le){var we,Me;return super.optimizeNames(ee,le),null===(we=this.catch)||void 0===we||we.optimizeNames(ee,le),null===(Me=this.finally)||void 0===Me||Me.optimizeNames(ee,le),this}get names(){const ee=super.names;return this.catch&&s(ee,this.catch.names),this.finally&&s(ee,this.finally.names),ee}}let ve=(()=>{class z extends K{constructor(le){super(),this.error=le}render(le){return`catch(${this.error})`+super.render(le)}}return z.kind="catch",z})(),De=(()=>{class z extends K{render(le){return"finally"+super.render(le)}}return z.kind="finally",z})();function s(z,ee){for(const le in ee)z[le]=(z[le]||0)+(ee[le]||0);return z}function d(z,ee){return ee instanceof g._CodeOrName?s(z,ee.names):z}function h(z,ee,le){return z instanceof g.Name?we(z):function Me(Ge){return Ge instanceof g._Code&&Ge._items.some(ge=>ge instanceof g.Name&&1===ee[ge.str]&&void 0!==le[ge.str])}(z)?new g._Code(z._items.reduce((Ge,ge)=>(ge instanceof g.Name&&(ge=we(ge)),ge instanceof g._Code?Ge.push(...ge._items):Ge.push(ge),Ge),[])):z;function we(Ge){const ge=le[Ge.str];return void 0===ge||1!==ee[Ge.str]?Ge:(delete ee[Ge.str],ge)}}function f(z,ee){for(const le in ee)z[le]=(z[le]||0)-(ee[le]||0)}function w(z){return"boolean"==typeof z||"number"==typeof z||null===z?!z:g._`!${Z(z)}`}j.CodeGen=class C{constructor(ee,le={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...le,_n:le.lines?"\n":""},this._extScope=ee,this._scope=new _.Scope({parent:ee}),this._nodes=[new Q]}toString(){return this._root.render(this.opts)}name(ee){return this._scope.name(ee)}scopeName(ee){return this._extScope.name(ee)}scopeValue(ee,le){const we=this._extScope.value(ee,le);return(this._values[we.prefix]||(this._values[we.prefix]=new Set)).add(we),we}getScopeValue(ee,le){return this._extScope.getValue(ee,le)}scopeRefs(ee){return this._extScope.scopeRefs(ee,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ee,le,we,Me){const Ge=this._scope.toName(le);return void 0!==we&&Me&&(this._constants[Ge.str]=we),this._leafNode(new k(ee,Ge,we)),Ge}const(ee,le,we){return this._def(_.varKinds.const,ee,le,we)}let(ee,le,we){return this._def(_.varKinds.let,ee,le,we)}var(ee,le,we){return this._def(_.varKinds.var,ee,le,we)}assign(ee,le,we){return this._leafNode(new S(ee,le,we))}add(ee,le){return this._leafNode(new P(ee,j.operators.ADD,le))}code(ee){return"function"==typeof ee?ee():ee!==g.nil&&this._leafNode(new V(ee)),this}object(...ee){const le=["{"];for(const[we,Me]of ee)le.length>1&&le.push(","),le.push(we),(we!==Me||this.opts.es5)&&(le.push(":"),(0,g.addCodeArg)(le,Me));return le.push("}"),new g._Code(le)}if(ee,le,we){if(this._blockNode(new Y(ee)),le&&we)this.code(le).else().code(we).endIf();else if(le)this.code(le).endIf();else if(we)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ee){return this._elseNode(new Y(ee))}else(){return this._elseNode(new q)}endIf(){return this._endBlockNode(Y,q)}_for(ee,le){return this._blockNode(ee),le&&this.code(le).endFor(),this}for(ee,le){return this._for(new re(ee),le)}forRange(ee,le,we,Me,Ge=(this.opts.es5?_.varKinds.var:_.varKinds.let)){const ge=this._scope.toName(ee);return this._for(new ie(Ge,ge,le,we),()=>Me(ge))}forOf(ee,le,we,Me=_.varKinds.const){const Ge=this._scope.toName(ee);if(this.opts.es5){const ge=le instanceof g.Name?le:this.var("_arr",le);return this.forRange("_i",0,g._`${ge}.length`,me=>{this.var(Ge,g._`${ge}[${me}]`),we(Ge)})}return this._for(new ae("of",Me,Ge,le),()=>we(Ge))}forIn(ee,le,we,Me=(this.opts.es5?_.varKinds.var:_.varKinds.const)){if(this.opts.ownProperties)return this.forOf(ee,g._`Object.keys(${le})`,we);const Ge=this._scope.toName(ee);return this._for(new ae("in",Me,Ge,le),()=>we(Ge))}endFor(){return this._endBlockNode(W)}label(ee){return this._leafNode(new R(ee))}break(ee){return this._leafNode(new O(ee))}return(ee){const le=new ce;if(this._blockNode(le),this.code(ee),1!==le.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ce)}try(ee,le,we){if(!le&&!we)throw new Error('CodeGen: "try" without "catch" and "finally"');const Me=new pe;if(this._blockNode(Me),this.code(ee),le){const Ge=this.name("e");this._currNode=Me.catch=new ve(Ge),le(Ge)}return we&&(this._currNode=Me.finally=new De,this.code(we)),this._endBlockNode(ve,De)}throw(ee){return this._leafNode(new A(ee))}block(ee,le){return this._blockStarts.push(this._nodes.length),ee&&this.code(ee).endBlock(le),this}endBlock(ee){const le=this._blockStarts.pop();if(void 0===le)throw new Error("CodeGen: not in self-balancing block");const we=this._nodes.length-le;if(we<0||void 0!==ee&&we!==ee)throw new Error(`CodeGen: wrong number of nodes: ${we} vs ${ee} expected`);return this._nodes.length=le,this}func(ee,le=g.nil,we,Me){return this._blockNode(new ue(ee,le,we)),Me&&this.code(Me).endFunc(),this}endFunc(){return this._endBlockNode(ue)}optimize(ee=1){for(;ee-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ee){return this._currNode.nodes.push(ee),this}_blockNode(ee){this._currNode.nodes.push(ee),this._nodes.push(ee)}_endBlockNode(ee,le){const we=this._currNode;if(we instanceof ee||le&&we instanceof le)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${le?`${ee.kind}/${le.kind}`:ee.kind}"`)}_elseNode(ee){const le=this._currNode;if(!(le instanceof Y))throw new Error('CodeGen: "else" without "if"');return this._currNode=le.else=ee,this}get _root(){return this._nodes[0]}get _currNode(){const ee=this._nodes;return ee[ee.length-1]}set _currNode(ee){const le=this._nodes;le[le.length-1]=ee}},j.not=w;const I=v(j.operators.AND);j.and=function L(...z){return z.reduce(I)};const x=v(j.operators.OR);function v(z){return(ee,le)=>ee===g.nil?le:le===g.nil?ee:g._`${Z(ee)} ${z} ${Z(le)}`}function Z(z){return z instanceof g.Name?z:g._`(${z})`}j.or=function a(...z){return z.reduce(x)}},85934:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ValueScope=j.ValueScopeName=j.Scope=j.varKinds=j.UsedValueState=void 0;const g=E(33337);class _ extends Error{constructor(R){super(`CodeGen: "code" for ${R} not defined`),this.value=R.value}}var B,P;(P=B=j.UsedValueState||(j.UsedValueState={}))[P.Started=0]="Started",P[P.Completed=1]="Completed",j.varKinds={const:new g.Name("const"),let:new g.Name("let"),var:new g.Name("var")};class H{constructor({prefixes:R,parent:O}={}){this._names={},this._prefixes=R,this._parent=O}toName(R){return R instanceof g.Name?R:this.name(R)}name(R){return new g.Name(this._newName(R))}_newName(R){return`${R}${(this._names[R]||this._nameGroup(R)).index++}`}_nameGroup(R){var O,A;if(null!==(A=null===(O=this._parent)||void 0===O?void 0:O._prefixes)&&void 0!==A&&A.has(R)||this._prefixes&&!this._prefixes.has(R))throw new Error(`CodeGen: prefix "${R}" is not allowed in this scope`);return this._names[R]={prefix:R,index:0}}}j.Scope=H;class b extends g.Name{constructor(R,O){super(O),this.prefix=R}setValue(R,{property:O,itemIndex:A}){this.value=R,this.scopePath=g._`.${new g.Name(O)}[${A}]`}}j.ValueScopeName=b;const k=g._`\n`;j.ValueScope=class S extends H{constructor(R){super(R),this._values={},this._scope=R.scope,this.opts={...R,_n:R.lines?k:g.nil}}get(){return this._scope}name(R){return new b(R,this._newName(R))}value(R,O){var A;if(void 0===O.ref)throw new Error("CodeGen: ref must be passed in value");const V=this.toName(R),{prefix:U}=V,K=null!==(A=O.key)&&void 0!==A?A:O.ref;let Q=this._values[U];if(Q){const W=Q.get(K);if(W)return W}else Q=this._values[U]=new Map;Q.set(K,V);const q=this._scope[U]||(this._scope[U]=[]),Y=q.length;return q[Y]=O.ref,V.setValue(O,{property:U,itemIndex:Y}),V}getValue(R,O){const A=this._values[R];if(A)return A.get(O)}scopeRefs(R,O=this._values){return this._reduceValues(O,A=>{if(void 0===A.scopePath)throw new Error(`CodeGen: name "${A}" has no value`);return g._`${R}${A.scopePath}`})}scopeCode(R=this._values,O,A){return this._reduceValues(R,V=>{if(void 0===V.value)throw new Error(`CodeGen: name "${V}" has no value`);return V.value.code},O,A)}_reduceValues(R,O,A={},V){let U=g.nil;for(const K in R){const Q=R[K];if(!Q)continue;const q=A[K]=A[K]||new Map;Q.forEach(Y=>{if(q.has(Y))return;q.set(Y,B.Started);let W=O(Y);if(W)U=g._`${U}${this.opts.es5?j.varKinds.var:j.varKinds.const} ${Y} = ${W};${this.opts._n}`;else{if(!(W=V?.(Y)))throw new _(Y);U=g._`${U}${W}${this.opts._n}`}q.set(Y,B.Completed)})}return U}}},53421:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.extendErrors=j.resetErrorsCount=j.reportExtraError=j.reportError=j.keyword$DataError=j.keywordError=void 0;const g=E(1038),_=E(27006),B=E(23432);function P(q,Y){const W=q.const("err",Y);q.if(g._`${B.default.vErrors} === null`,()=>q.assign(B.default.vErrors,g._`[${W}]`),g._`${B.default.vErrors}.push(${W})`),q.code(g._`${B.default.errors}++`)}function R(q,Y){const{gen:W,validateName:re,schemaEnv:ie}=q;ie.$async?W.throw(g._`new ${q.ValidationError}(${Y})`):(W.assign(g._`${re}.errors`,Y),W.return(!1))}j.keywordError={message:({keyword:q})=>g.str`must pass "${q}" keyword validation`},j.keyword$DataError={message:({keyword:q,schemaType:Y})=>Y?g.str`"${q}" keyword must be ${Y} ($data)`:g.str`"${q}" keyword is invalid ($data)`},j.reportError=function H(q,Y=j.keywordError,W,re){const{it:ie}=q,{gen:ae,compositeRule:ue,allErrors:ce}=ie,pe=A(q,Y,W);re??(ue||ce)?P(ae,pe):R(ie,g._`[${pe}]`)},j.reportExtraError=function b(q,Y=j.keywordError,W){const{it:re}=q,{gen:ie,compositeRule:ae,allErrors:ue}=re;P(ie,A(q,Y,W)),ae||ue||R(re,B.default.vErrors)},j.resetErrorsCount=function k(q,Y){q.assign(B.default.errors,Y),q.if(g._`${B.default.vErrors} !== null`,()=>q.if(Y,()=>q.assign(g._`${B.default.vErrors}.length`,Y),()=>q.assign(B.default.vErrors,null)))},j.extendErrors=function S({gen:q,keyword:Y,schemaValue:W,data:re,errsCount:ie,it:ae}){if(void 0===ie)throw new Error("ajv implementation error");const ue=q.name("err");q.forRange("i",ie,B.default.errors,ce=>{q.const(ue,g._`${B.default.vErrors}[${ce}]`),q.if(g._`${ue}.instancePath === undefined`,()=>q.assign(g._`${ue}.instancePath`,(0,g.strConcat)(B.default.instancePath,ae.errorPath))),q.assign(g._`${ue}.schemaPath`,g.str`${ae.errSchemaPath}/${Y}`),ae.opts.verbose&&(q.assign(g._`${ue}.schema`,W),q.assign(g._`${ue}.data`,re))})};const O={keyword:new g.Name("keyword"),schemaPath:new g.Name("schemaPath"),params:new g.Name("params"),propertyName:new g.Name("propertyName"),message:new g.Name("message"),schema:new g.Name("schema"),parentSchema:new g.Name("parentSchema")};function A(q,Y,W){const{createErrors:re}=q.it;return!1===re?g._`{}`:function V(q,Y,W={}){const{gen:re,it:ie}=q,ae=[U(ie,W),K(q,W)];return function Q(q,{params:Y,message:W},re){const{keyword:ie,data:ae,schemaValue:ue,it:ce}=q,{opts:pe,propertyName:ve,topSchemaRef:De,schemaPath:C}=ce;re.push([O.keyword,ie],[O.params,"function"==typeof Y?Y(q):Y||g._`{}`]),pe.messages&&re.push([O.message,"function"==typeof W?W(q):W]),pe.verbose&&re.push([O.schema,ue],[O.parentSchema,g._`${De}${C}`],[B.default.data,ae]),ve&&re.push([O.propertyName,ve])}(q,Y,ae),re.object(...ae)}(q,Y,W)}function U({errorPath:q},{instancePath:Y}){const W=Y?g.str`${q}${(0,_.getErrorPath)(Y,_.Type.Str)}`:q;return[B.default.instancePath,(0,g.strConcat)(B.default.instancePath,W)]}function K({keyword:q,it:{errSchemaPath:Y}},{schemaPath:W,parentSchema:re}){let ie=re?Y:g.str`${Y}/${q}`;return W&&(ie=g.str`${ie}${(0,_.getErrorPath)(W,_.Type.Str)}`),[O.schemaPath,ie]}},97692:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.resolveSchema=j.getCompilingSchema=j.resolveRef=j.compileSchema=j.SchemaEnv=void 0;const g=E(1038),_=E(42467),B=E(23432),H=E(77172),b=E(27006),k=E(40339);class S{constructor(W){var re;let ie;this.refs={},this.dynamicAnchors={},"object"==typeof W.schema&&(ie=W.schema),this.schema=W.schema,this.schemaId=W.schemaId,this.root=W.root||this,this.baseId=null!==(re=W.baseId)&&void 0!==re?re:(0,H.normalizeId)(ie?.[W.schemaId||"$id"]),this.schemaPath=W.schemaPath,this.localRefs=W.localRefs,this.meta=W.meta,this.$async=ie?.$async,this.refs={}}}function P(Y){const W=A.call(this,Y);if(W)return W;const re=(0,H.getFullPath)(this.opts.uriResolver,Y.root.baseId),{es5:ie,lines:ae}=this.opts.code,{ownProperties:ue}=this.opts,ce=new g.CodeGen(this.scope,{es5:ie,lines:ae,ownProperties:ue});let pe;Y.$async&&(pe=ce.scopeValue("Error",{ref:_.default,code:g._`require("ajv/dist/runtime/validation_error").default`}));const ve=ce.scopeName("validate");Y.validateName=ve;const De={gen:ce,allErrors:this.opts.allErrors,data:B.default.data,parentData:B.default.parentData,parentDataProperty:B.default.parentDataProperty,dataNames:[B.default.data],dataPathArr:[g.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:ce.scopeValue("schema",!0===this.opts.code.source?{ref:Y.schema,code:(0,g.stringify)(Y.schema)}:{ref:Y.schema}),validateName:ve,ValidationError:pe,schema:Y.schema,schemaEnv:Y,rootId:re,baseId:Y.baseId||re,schemaPath:g.nil,errSchemaPath:Y.schemaPath||(this.opts.jtd?"":"#"),errorPath:g._`""`,opts:this.opts,self:this};let C;try{this._compilations.add(Y),(0,k.validateFunctionCode)(De),ce.optimize(this.opts.code.optimize);const s=ce.toString();C=`${ce.scopeRefs(B.default.scope)}return ${s}`,this.opts.code.process&&(C=this.opts.code.process(C,Y));const h=new Function(`${B.default.self}`,`${B.default.scope}`,C)(this,this.scope.get());if(this.scope.value(ve,{ref:h}),h.errors=null,h.schema=Y.schema,h.schemaEnv=Y,Y.$async&&(h.$async=!0),!0===this.opts.code.source&&(h.source={validateName:ve,validateCode:s,scopeValues:ce._values}),this.opts.unevaluated){const{props:f,items:w}=De;h.evaluated={props:f instanceof g.Name?void 0:f,items:w instanceof g.Name?void 0:w,dynamicProps:f instanceof g.Name,dynamicItems:w instanceof g.Name},h.source&&(h.source.evaluated=(0,g.stringify)(h.evaluated))}return Y.validate=h,Y}catch(s){throw delete Y.validate,delete Y.validateName,C&&this.logger.error("Error compiling schema, function code:",C),s}finally{this._compilations.delete(Y)}}function O(Y){return(0,H.inlineRef)(Y.schema,this.opts.inlineRefs)?Y.schema:Y.validate?Y:P.call(this,Y)}function A(Y){for(const W of this._compilations)if(V(W,Y))return W}function V(Y,W){return Y.schema===W.schema&&Y.root===W.root&&Y.baseId===W.baseId}function U(Y,W){let re;for(;"string"==typeof(re=this.refs[W]);)W=re;return re||this.schemas[W]||K.call(this,Y,W)}function K(Y,W){const re=this.opts.uriResolver.parse(W),ie=(0,H._getFullPath)(this.opts.uriResolver,re);let ae=(0,H.getFullPath)(this.opts.uriResolver,Y.baseId,void 0);if(Object.keys(Y.schema).length>0&&ie===ae)return q.call(this,re,Y);const ue=(0,H.normalizeId)(ie),ce=this.refs[ue]||this.schemas[ue];if("string"==typeof ce){const pe=K.call(this,Y,ce);return"object"!=typeof pe?.schema?void 0:q.call(this,re,pe)}if("object"==typeof ce?.schema){if(ce.validate||P.call(this,ce),ue===(0,H.normalizeId)(W)){const{schema:pe}=ce,{schemaId:ve}=this.opts,De=pe[ve];return De&&(ae=(0,H.resolveUrl)(this.opts.uriResolver,ae,De)),new S({schema:pe,schemaId:ve,root:Y,baseId:ae})}return q.call(this,re,ce)}}j.SchemaEnv=S,j.compileSchema=P,j.resolveRef=function R(Y,W,re){var ie;re=(0,H.resolveUrl)(this.opts.uriResolver,W,re);const ae=Y.refs[re];if(ae)return ae;let ue=U.call(this,Y,re);if(void 0===ue){const ce=null===(ie=Y.localRefs)||void 0===ie?void 0:ie[re],{schemaId:pe}=this.opts;ce&&(ue=new S({schema:ce,schemaId:pe,root:Y,baseId:W}))}return void 0!==ue?Y.refs[re]=O.call(this,ue):void 0},j.getCompilingSchema=A,j.resolveSchema=K;const Q=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function q(Y,{baseId:W,schema:re,root:ie}){var ae;if("/"!==(null===(ae=Y.fragment)||void 0===ae?void 0:ae[0]))return;for(const pe of Y.fragment.slice(1).split("/")){if("boolean"==typeof re)return;const ve=re[(0,b.unescapeFragment)(pe)];if(void 0===ve)return;const De="object"==typeof(re=ve)&&re[this.opts.schemaId];!Q.has(pe)&&De&&(W=(0,H.resolveUrl)(this.opts.uriResolver,W,De))}let ue;if("boolean"!=typeof re&&re.$ref&&!(0,b.schemaHasRulesButRef)(re,this.RULES)){const pe=(0,H.resolveUrl)(this.opts.uriResolver,W,re.$ref);ue=K.call(this,ie,pe)}const{schemaId:ce}=this.opts;return ue=ue||new S({schema:re,schemaId:ce,root:ie,baseId:W}),ue.schema!==ue.root.schema?ue:void 0}},23432:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_={data:new g.Name("data"),valCxt:new g.Name("valCxt"),instancePath:new g.Name("instancePath"),parentData:new g.Name("parentData"),parentDataProperty:new g.Name("parentDataProperty"),rootData:new g.Name("rootData"),dynamicAnchors:new g.Name("dynamicAnchors"),vErrors:new g.Name("vErrors"),errors:new g.Name("errors"),this:new g.Name("this"),self:new g.Name("self"),scope:new g.Name("scope"),json:new g.Name("json"),jsonPos:new g.Name("jsonPos"),jsonLen:new g.Name("jsonLen"),jsonPart:new g.Name("jsonPart")};j.default=_},26288:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(77172);class _ extends Error{constructor(H,b,k,S){super(S||`can't resolve reference ${k} from id ${b}`),this.missingRef=(0,g.resolveUrl)(H,b,k),this.missingSchema=(0,g.normalizeId)((0,g.getFullPath)(H,this.missingRef))}}j.default=_},77172:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getSchemaRefs=j.resolveUrl=j.normalizeId=j._getFullPath=j.getFullPath=j.inlineRef=void 0;const g=E(27006),_=E(40362),B=E(44331),H=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);j.inlineRef=function b(q,Y=!0){return"boolean"==typeof q||(!0===Y?!S(q):!!Y&&P(q)<=Y)};const k=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function S(q){for(const Y in q){if(k.has(Y))return!0;const W=q[Y];if(Array.isArray(W)&&W.some(S)||"object"==typeof W&&S(W))return!0}return!1}function P(q){let Y=0;for(const W in q){if("$ref"===W)return 1/0;if(Y++,!H.has(W)&&("object"==typeof q[W]&&(0,g.eachItem)(q[W],re=>Y+=P(re)),Y===1/0))return 1/0}return Y}function R(q,Y="",W){!1!==W&&(Y=V(Y));const re=q.parse(Y);return O(q,re)}function O(q,Y){return q.serialize(Y).split("#")[0]+"#"}j.getFullPath=R,j._getFullPath=O;const A=/#\/?$/;function V(q){return q?q.replace(A,""):""}j.normalizeId=V,j.resolveUrl=function U(q,Y,W){return W=V(W),q.resolve(Y,W)};const K=/^[a-z_][-a-z0-9._]*$/i;j.getSchemaRefs=function Q(q,Y){if("boolean"==typeof q)return{};const{schemaId:W,uriResolver:re}=this.opts,ie=V(q[W]||Y),ae={"":ie},ue=R(re,ie,!1),ce={},pe=new Set;return B(q,{allKeys:!0},(C,s,d,h)=>{if(void 0===h)return;const f=ue+s;let w=ae[h];function I(x){if(x=V(w?(0,this.opts.uriResolver.resolve)(w,x):x),pe.has(x))throw De(x);pe.add(x);let v=this.refs[x];return"string"==typeof v&&(v=this.refs[v]),"object"==typeof v?ve(C,v.schema,x):x!==V(f)&&("#"===x[0]?(ve(C,ce[x],x),ce[x]=C):this.refs[x]=f),x}function L(x){if("string"==typeof x){if(!K.test(x))throw new Error(`invalid anchor "${x}"`);I.call(this,`#${x}`)}}"string"==typeof C[W]&&(w=I.call(this,C[W])),L.call(this,C.$anchor),L.call(this,C.$dynamicAnchor),ae[s]=w}),ce;function ve(C,s,d){if(void 0!==s&&!_(C,s))throw De(d)}function De(C){return new Error(`reference "${C}" resolves to more than one schema`)}}},32203:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getRules=j.isJSONType=void 0;const g=new Set(["string","number","integer","boolean","null","object","array"]);j.isJSONType=function _(H){return"string"==typeof H&&g.has(H)},j.getRules=function B(){const H={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...H,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},H.number,H.string,H.array,H.object],post:{rules:[]},all:{},keywords:{}}}},27006:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.checkStrictMode=j.getErrorPath=j.Type=j.useFunc=j.setEvaluated=j.evaluatedPropsToName=j.mergeEvaluated=j.eachItem=j.unescapeJsonPointer=j.escapeJsonPointer=j.escapeFragment=j.unescapeFragment=j.schemaRefOrVal=j.schemaHasRulesButRef=j.schemaHasRules=j.checkUnknownRules=j.alwaysValidSchema=j.toHash=void 0;const g=E(1038),_=E(33337);function b(ue,ce=ue.schema){const{opts:pe,self:ve}=ue;if(!pe.strictSchema||"boolean"==typeof ce)return;const De=ve.RULES.keywords;for(const C in ce)De[C]||ae(ue,`unknown keyword: "${C}"`)}function k(ue,ce){if("boolean"==typeof ue)return!ue;for(const pe in ue)if(ce[pe])return!0;return!1}function A(ue){return"number"==typeof ue?`${ue}`:ue.replace(/~/g,"~0").replace(/\//g,"~1")}function V(ue){return ue.replace(/~1/g,"/").replace(/~0/g,"~")}function K({mergeNames:ue,mergeToName:ce,mergeValues:pe,resultToName:ve}){return(De,C,s,d)=>{const h=void 0===s?C:s instanceof g.Name?(C instanceof g.Name?ue(De,C,s):ce(De,C,s),s):C instanceof g.Name?(ce(De,s,C),C):pe(C,s);return d!==g.Name||h instanceof g.Name?h:ve(De,h)}}function Q(ue,ce){if(!0===ce)return ue.var("props",!0);const pe=ue.var("props",g._`{}`);return void 0!==ce&&q(ue,pe,ce),pe}function q(ue,ce,pe){Object.keys(pe).forEach(ve=>ue.assign(g._`${ce}${(0,g.getProperty)(ve)}`,!0))}j.toHash=function B(ue){const ce={};for(const pe of ue)ce[pe]=!0;return ce},j.alwaysValidSchema=function H(ue,ce){return"boolean"==typeof ce?ce:0===Object.keys(ce).length||(b(ue,ce),!k(ce,ue.self.RULES.all))},j.checkUnknownRules=b,j.schemaHasRules=k,j.schemaHasRulesButRef=function S(ue,ce){if("boolean"==typeof ue)return!ue;for(const pe in ue)if("$ref"!==pe&&ce.all[pe])return!0;return!1},j.schemaRefOrVal=function P({topSchemaRef:ue,schemaPath:ce},pe,ve,De){if(!De){if("number"==typeof pe||"boolean"==typeof pe)return pe;if("string"==typeof pe)return g._`${pe}`}return g._`${ue}${ce}${(0,g.getProperty)(ve)}`},j.unescapeFragment=function R(ue){return V(decodeURIComponent(ue))},j.escapeFragment=function O(ue){return encodeURIComponent(A(ue))},j.escapeJsonPointer=A,j.unescapeJsonPointer=V,j.eachItem=function U(ue,ce){if(Array.isArray(ue))for(const pe of ue)ce(pe);else ce(ue)},j.mergeEvaluated={props:K({mergeNames:(ue,ce,pe)=>ue.if(g._`${pe} !== true && ${ce} !== undefined`,()=>{ue.if(g._`${ce} === true`,()=>ue.assign(pe,!0),()=>ue.assign(pe,g._`${pe} || {}`).code(g._`Object.assign(${pe}, ${ce})`))}),mergeToName:(ue,ce,pe)=>ue.if(g._`${pe} !== true`,()=>{!0===ce?ue.assign(pe,!0):(ue.assign(pe,g._`${pe} || {}`),q(ue,pe,ce))}),mergeValues:(ue,ce)=>!0===ue||{...ue,...ce},resultToName:Q}),items:K({mergeNames:(ue,ce,pe)=>ue.if(g._`${pe} !== true && ${ce} !== undefined`,()=>ue.assign(pe,g._`${ce} === true ? true : ${pe} > ${ce} ? ${pe} : ${ce}`)),mergeToName:(ue,ce,pe)=>ue.if(g._`${pe} !== true`,()=>ue.assign(pe,!0===ce||g._`${pe} > ${ce} ? ${pe} : ${ce}`)),mergeValues:(ue,ce)=>!0===ue||Math.max(ue,ce),resultToName:(ue,ce)=>ue.var("items",ce)})},j.evaluatedPropsToName=Q,j.setEvaluated=q;const Y={};var re,ue;function ae(ue,ce,pe=ue.opts.strictSchema){if(pe){if(ce=`strict mode: ${ce}`,!0===pe)throw new Error(ce);ue.self.logger.warn(ce)}}j.useFunc=function W(ue,ce){return ue.scopeValue("func",{ref:ce,code:Y[ce.code]||(Y[ce.code]=new _._Code(ce.code))})},(ue=re=j.Type||(j.Type={}))[ue.Num=0]="Num",ue[ue.Str=1]="Str",j.getErrorPath=function ie(ue,ce,pe){if(ue instanceof g.Name){const ve=ce===re.Num;return pe?ve?g._`"[" + ${ue} + "]"`:g._`"['" + ${ue} + "']"`:ve?g._`"/" + ${ue}`:g._`"/" + ${ue}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return pe?(0,g.getProperty)(ue).toString():"/"+A(ue)},j.checkStrictMode=ae},22650:($e,j)=>{"use strict";function g(B,H){return H.rules.some(b=>_(B,b))}function _(B,H){var b;return void 0!==B[H.keyword]||(null===(b=H.definition.implements)||void 0===b?void 0:b.some(k=>void 0!==B[k]))}Object.defineProperty(j,"__esModule",{value:!0}),j.shouldUseRule=j.shouldUseGroup=j.schemaHasRulesForType=void 0,j.schemaHasRulesForType=function E({schema:B,self:H},b){const k=H.RULES.types[b];return k&&!0!==k&&g(B,k)},j.shouldUseGroup=g,j.shouldUseRule=_},37864:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.boolOrEmptySchema=j.topBoolOrEmptySchema=void 0;const g=E(53421),_=E(1038),B=E(23432),H={message:"boolean schema is false"};function S(P,R){const{gen:O,data:A}=P;(0,g.reportError)({gen:O,keyword:"false schema",data:A,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:P},H,void 0,R)}j.topBoolOrEmptySchema=function b(P){const{gen:R,schema:O,validateName:A}=P;!1===O?S(P,!1):"object"==typeof O&&!0===O.$async?R.return(B.default.data):(R.assign(_._`${A}.errors`,null),R.return(!0))},j.boolOrEmptySchema=function k(P,R){const{gen:O,schema:A}=P;!1===A?(O.var(R,!1),S(P)):O.var(R,!0)}},55999:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.reportTypeError=j.checkDataTypes=j.checkDataType=j.coerceAndCheckDataType=j.getJSONTypes=j.getSchemaTypes=j.DataType=void 0;const g=E(32203),_=E(22650),B=E(53421),H=E(1038),b=E(27006);var k,re;function P(re){const ie=Array.isArray(re)?re:re?[re]:[];if(ie.every(g.isJSONType))return ie;throw new Error("type must be JSONType or JSONType[]: "+ie.join(","))}(re=k=j.DataType||(j.DataType={}))[re.Correct=0]="Correct",re[re.Wrong=1]="Wrong",j.getSchemaTypes=function S(re){const ie=P(re.type);if(ie.includes("null")){if(!1===re.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!ie.length&&void 0!==re.nullable)throw new Error('"nullable" cannot be used without "type"');!0===re.nullable&&ie.push("null")}return ie},j.getJSONTypes=P,j.coerceAndCheckDataType=function R(re,ie){const{gen:ae,data:ue,opts:ce}=re,pe=function A(re,ie){return ie?re.filter(ae=>O.has(ae)||"array"===ie&&"array"===ae):[]}(ie,ce.coerceTypes),ve=ie.length>0&&!(0===pe.length&&1===ie.length&&(0,_.schemaHasRulesForType)(re,ie[0]));if(ve){const De=Q(ie,ue,ce.strictNumbers,k.Wrong);ae.if(De,()=>{pe.length?function V(re,ie,ae){const{gen:ue,data:ce,opts:pe}=re,ve=ue.let("dataType",H._`typeof ${ce}`),De=ue.let("coerced",H._`undefined`);"array"===pe.coerceTypes&&ue.if(H._`${ve} == 'object' && Array.isArray(${ce}) && ${ce}.length == 1`,()=>ue.assign(ce,H._`${ce}[0]`).assign(ve,H._`typeof ${ce}`).if(Q(ie,ce,pe.strictNumbers),()=>ue.assign(De,ce))),ue.if(H._`${De} !== undefined`);for(const s of ae)(O.has(s)||"array"===s&&"array"===pe.coerceTypes)&&C(s);function C(s){switch(s){case"string":return void ue.elseIf(H._`${ve} == "number" || ${ve} == "boolean"`).assign(De,H._`"" + ${ce}`).elseIf(H._`${ce} === null`).assign(De,H._`""`);case"number":return void ue.elseIf(H._`${ve} == "boolean" || ${ce} === null
              || (${ve} == "string" && ${ce} && ${ce} == +${ce})`).assign(De,H._`+${ce}`);case"integer":return void ue.elseIf(H._`${ve} === "boolean" || ${ce} === null
              || (${ve} === "string" && ${ce} && ${ce} == +${ce} && !(${ce} % 1))`).assign(De,H._`+${ce}`);case"boolean":return void ue.elseIf(H._`${ce} === "false" || ${ce} === 0 || ${ce} === null`).assign(De,!1).elseIf(H._`${ce} === "true" || ${ce} === 1`).assign(De,!0);case"null":return ue.elseIf(H._`${ce} === "" || ${ce} === 0 || ${ce} === false`),void ue.assign(De,null);case"array":ue.elseIf(H._`${ve} === "string" || ${ve} === "number"
              || ${ve} === "boolean" || ${ce} === null`).assign(De,H._`[${ce}]`)}}ue.else(),Y(re),ue.endIf(),ue.if(H._`${De} !== undefined`,()=>{ue.assign(ce,De),function U({gen:re,parentData:ie,parentDataProperty:ae},ue){re.if(H._`${ie} !== undefined`,()=>re.assign(H._`${ie}[${ae}]`,ue))}(re,De)})}(re,ie,pe):Y(re)})}return ve};const O=new Set(["string","number","integer","boolean","null"]);function K(re,ie,ae,ue=k.Correct){const ce=ue===k.Correct?H.operators.EQ:H.operators.NEQ;let pe;switch(re){case"null":return H._`${ie} ${ce} null`;case"array":pe=H._`Array.isArray(${ie})`;break;case"object":pe=H._`${ie} && typeof ${ie} == "object" && !Array.isArray(${ie})`;break;case"integer":pe=ve(H._`!(${ie} % 1) && !isNaN(${ie})`);break;case"number":pe=ve();break;default:return H._`typeof ${ie} ${ce} ${re}`}return ue===k.Correct?pe:(0,H.not)(pe);function ve(De=H.nil){return(0,H.and)(H._`typeof ${ie} == "number"`,De,ae?H._`isFinite(${ie})`:H.nil)}}function Q(re,ie,ae,ue){if(1===re.length)return K(re[0],ie,ae,ue);let ce;const pe=(0,b.toHash)(re);if(pe.array&&pe.object){const ve=H._`typeof ${ie} != "object"`;ce=pe.null?ve:H._`!${ie} || ${ve}`,delete pe.null,delete pe.array,delete pe.object}else ce=H.nil;pe.number&&delete pe.integer;for(const ve in pe)ce=(0,H.and)(ce,K(ve,ie,ae,ue));return ce}j.checkDataType=K,j.checkDataTypes=Q;const q={message:({schema:re})=>`must be ${re}`,params:({schema:re,schemaValue:ie})=>"string"==typeof re?H._`{type: ${re}}`:H._`{type: ${ie}}`};function Y(re){const ie=function W(re){const{gen:ie,data:ae,schema:ue}=re,ce=(0,b.schemaRefOrVal)(re,ue,"type");return{gen:ie,keyword:"type",data:ae,schema:ue.type,schemaCode:ce,schemaValue:ce,parentSchema:ue,params:{},it:re}}(re);(0,B.reportError)(ie,q)}j.reportTypeError=Y},48733:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.assignDefaults=void 0;const g=E(1038),_=E(27006);function H(b,k,S){const{gen:P,compositeRule:R,data:O,opts:A}=b;if(void 0===S)return;const V=g._`${O}${(0,g.getProperty)(k)}`;if(R)return void(0,_.checkStrictMode)(b,`default is ignored for: ${V}`);let U=g._`${V} === undefined`;"empty"===A.useDefaults&&(U=g._`${U} || ${V} === null || ${V} === ""`),P.if(U,g._`${V} = ${(0,g.stringify)(S)}`)}j.assignDefaults=function B(b,k){const{properties:S,items:P}=b.schema;if("object"===k&&S)for(const R in S)H(b,R,S[R].default);else"array"===k&&Array.isArray(P)&&P.forEach((R,O)=>H(b,O,R.default))}},40339:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getData=j.KeywordCxt=j.validateFunctionCode=void 0;const g=E(37864),_=E(55999),B=E(22650),H=E(55999),b=E(48733),k=E(76800),S=E(16334),P=E(1038),R=E(23432),O=E(77172),A=E(27006),V=E(53421);function K({gen:xe,validateName:Ce,schema:be,schemaEnv:he,opts:ne},te){ne.code.es5?xe.func(Ce,P._`${R.default.data}, ${R.default.valCxt}`,he.$async,()=>{xe.code(P._`"use strict"; ${re(be,ne)}`),function q(xe,Ce){xe.if(R.default.valCxt,()=>{xe.var(R.default.instancePath,P._`${R.default.valCxt}.${R.default.instancePath}`),xe.var(R.default.parentData,P._`${R.default.valCxt}.${R.default.parentData}`),xe.var(R.default.parentDataProperty,P._`${R.default.valCxt}.${R.default.parentDataProperty}`),xe.var(R.default.rootData,P._`${R.default.valCxt}.${R.default.rootData}`),Ce.dynamicRef&&xe.var(R.default.dynamicAnchors,P._`${R.default.valCxt}.${R.default.dynamicAnchors}`)},()=>{xe.var(R.default.instancePath,P._`""`),xe.var(R.default.parentData,P._`undefined`),xe.var(R.default.parentDataProperty,P._`undefined`),xe.var(R.default.rootData,R.default.data),Ce.dynamicRef&&xe.var(R.default.dynamicAnchors,P._`{}`)})}(xe,ne),xe.code(te)}):xe.func(Ce,P._`${R.default.data}, ${function Q(xe){return P._`{${R.default.instancePath}="", ${R.default.parentData}, ${R.default.parentDataProperty}, ${R.default.rootData}=${R.default.data}${xe.dynamicRef?P._`, ${R.default.dynamicAnchors}={}`:P.nil}}={}`}(ne)}`,he.$async,()=>xe.code(re(be,ne)).code(te))}function re(xe,Ce){const be="object"==typeof xe&&xe[Ce.schemaId];return be&&(Ce.code.source||Ce.code.process)?P._`/*# sourceURL=${be} */`:P.nil}function ae({schema:xe,self:Ce}){if("boolean"==typeof xe)return!xe;for(const be in xe)if(Ce.RULES.all[be])return!0;return!1}function ue(xe){return"boolean"!=typeof xe.schema}function pe(xe){(0,A.checkUnknownRules)(xe),function De(xe){const{schema:Ce,errSchemaPath:be,opts:he,self:ne}=xe;Ce.$ref&&he.ignoreKeywordsWithRef&&(0,A.schemaHasRulesButRef)(Ce,ne.RULES)&&ne.logger.warn(`$ref: keywords ignored in schema at path "${be}"`)}(xe)}function ve(xe,Ce){if(xe.opts.jtd)return I(xe,[],!1,Ce);const be=(0,_.getSchemaTypes)(xe.schema);I(xe,be,!(0,_.coerceAndCheckDataType)(xe,be),Ce)}function h({gen:xe,schemaEnv:Ce,schema:be,errSchemaPath:he,opts:ne}){const te=be.$comment;if(!0===ne.$comment)xe.code(P._`${R.default.self}.logger.log(${te})`);else if("function"==typeof ne.$comment){const de=P.str`${he}/$comment`,_e=xe.scopeValue("root",{ref:Ce.root});xe.code(P._`${R.default.self}.opts.$comment(${te}, ${de}, ${_e}.schema)`)}}function I(xe,Ce,be,he){const{gen:ne,schema:te,data:de,allErrors:_e,opts:Ie,self:He}=xe,{RULES:Ve}=He;function xt(Ne){(0,B.shouldUseGroup)(te,Ne)&&(Ne.type?(ne.if((0,H.checkDataType)(Ne.type,de,Ie.strictNumbers)),L(xe,Ne),1===Ce.length&&Ce[0]===Ne.type&&be&&(ne.else(),(0,H.reportTypeError)(xe)),ne.endIf()):L(xe,Ne),_e||ne.if(P._`${R.default.errors} === ${he||0}`))}!te.$ref||!Ie.ignoreKeywordsWithRef&&(0,A.schemaHasRulesButRef)(te,Ve)?(Ie.jtd||function x(xe,Ce){xe.schemaEnv.meta||!xe.opts.strictTypes||(function a(xe,Ce){if(Ce.length){if(!xe.dataTypes.length)return void(xe.dataTypes=Ce);Ce.forEach(be=>{ee(xe.dataTypes,be)||we(xe,`type "${be}" not allowed by context "${xe.dataTypes.join(",")}"`)}),function le(xe,Ce){const be=[];for(const he of xe.dataTypes)ee(Ce,he)?be.push(he):Ce.includes("integer")&&"number"===he&&be.push("integer");xe.dataTypes=be}(xe,Ce)}}(xe,Ce),xe.opts.allowUnionTypes||function v(xe,Ce){Ce.length>1&&(2!==Ce.length||!Ce.includes("null"))&&we(xe,"use allowUnionTypes to allow union type keyword")}(xe,Ce),function Z(xe,Ce){const be=xe.self.RULES.all;for(const he in be){const ne=be[he];if("object"==typeof ne&&(0,B.shouldUseRule)(xe.schema,ne)){const{type:te}=ne.definition;te.length&&!te.some(de=>z(Ce,de))&&we(xe,`missing type "${te.join(",")}" for keyword "${he}"`)}}}(xe,xe.dataTypes))}(xe,Ce),ne.block(()=>{for(const Ne of Ve.rules)xt(Ne);xt(Ve.post)})):ne.block(()=>Ge(xe,"$ref",Ve.all.$ref.definition))}function L(xe,Ce){const{gen:be,schema:he,opts:{useDefaults:ne}}=xe;ne&&(0,b.assignDefaults)(xe,Ce.type),be.block(()=>{for(const te of Ce.rules)(0,B.shouldUseRule)(he,te)&&Ge(xe,te.keyword,te.definition,Ce.type)})}function z(xe,Ce){return xe.includes(Ce)||"number"===Ce&&xe.includes("integer")}function ee(xe,Ce){return xe.includes(Ce)||"integer"===Ce&&xe.includes("number")}function we(xe,Ce){(0,A.checkStrictMode)(xe,Ce+=` at "${xe.schemaEnv.baseId+xe.errSchemaPath}" (strictTypes)`,xe.opts.strictTypes)}j.validateFunctionCode=function U(xe){ue(xe)&&(pe(xe),ae(xe))?function Y(xe){const{schema:Ce,opts:be,gen:he}=xe;K(xe,()=>{be.$comment&&Ce.$comment&&h(xe),function C(xe){const{schema:Ce,opts:be}=xe;void 0!==Ce.default&&be.useDefaults&&be.strictSchema&&(0,A.checkStrictMode)(xe,"default is ignored in the schema root")}(xe),he.let(R.default.vErrors,null),he.let(R.default.errors,0),be.unevaluated&&function W(xe){const{gen:Ce,validateName:be}=xe;xe.evaluated=Ce.const("evaluated",P._`${be}.evaluated`),Ce.if(P._`${xe.evaluated}.dynamicProps`,()=>Ce.assign(P._`${xe.evaluated}.props`,P._`undefined`)),Ce.if(P._`${xe.evaluated}.dynamicItems`,()=>Ce.assign(P._`${xe.evaluated}.items`,P._`undefined`))}(xe),ve(xe),function f(xe){const{gen:Ce,schemaEnv:be,validateName:he,ValidationError:ne,opts:te}=xe;be.$async?Ce.if(P._`${R.default.errors} === 0`,()=>Ce.return(R.default.data),()=>Ce.throw(P._`new ${ne}(${R.default.vErrors})`)):(Ce.assign(P._`${he}.errors`,R.default.vErrors),te.unevaluated&&function w({gen:xe,evaluated:Ce,props:be,items:he}){be instanceof P.Name&&xe.assign(P._`${Ce}.props`,be),he instanceof P.Name&&xe.assign(P._`${Ce}.items`,he)}(xe),Ce.return(P._`${R.default.errors} === 0`))}(xe)})}(xe):K(xe,()=>(0,g.topBoolOrEmptySchema)(xe))};class Me{constructor(Ce,be,he){if((0,k.validateKeywordUsage)(Ce,be,he),this.gen=Ce.gen,this.allErrors=Ce.allErrors,this.keyword=he,this.data=Ce.data,this.schema=Ce.schema[he],this.$data=be.$data&&Ce.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,A.schemaRefOrVal)(Ce,this.schema,he,this.$data),this.schemaType=be.schemaType,this.parentSchema=Ce.schema,this.params={},this.it=Ce,this.def=be,this.$data)this.schemaCode=Ce.gen.const("vSchema",Ue(this.$data,Ce));else if(this.schemaCode=this.schemaValue,!(0,k.validSchemaType)(this.schema,be.schemaType,be.allowUndefined))throw new Error(`${he} value must be ${JSON.stringify(be.schemaType)}`);("code"in be?be.trackErrors:!1!==be.errors)&&(this.errsCount=Ce.gen.const("_errs",R.default.errors))}result(Ce,be,he){this.failResult((0,P.not)(Ce),be,he)}failResult(Ce,be,he){this.gen.if(Ce),he?he():this.error(),be?(this.gen.else(),be(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Ce,be){this.failResult((0,P.not)(Ce),void 0,be)}fail(Ce){if(void 0===Ce)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Ce),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Ce){if(!this.$data)return this.fail(Ce);const{schemaCode:be}=this;this.fail(P._`${be} !== undefined && (${(0,P.or)(this.invalid$data(),Ce)})`)}error(Ce,be,he){if(be)return this.setParams(be),this._error(Ce,he),void this.setParams({});this._error(Ce,he)}_error(Ce,be){(Ce?V.reportExtraError:V.reportError)(this,this.def.error,be)}$dataError(){(0,V.reportError)(this,this.def.$dataError||V.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,V.resetErrorsCount)(this.gen,this.errsCount)}ok(Ce){this.allErrors||this.gen.if(Ce)}setParams(Ce,be){be?Object.assign(this.params,Ce):this.params=Ce}block$data(Ce,be,he=P.nil){this.gen.block(()=>{this.check$data(Ce,he),be()})}check$data(Ce=P.nil,be=P.nil){if(!this.$data)return;const{gen:he,schemaCode:ne,schemaType:te,def:de}=this;he.if((0,P.or)(P._`${ne} === undefined`,be)),Ce!==P.nil&&he.assign(Ce,!0),(te.length||de.validateSchema)&&(he.elseIf(this.invalid$data()),this.$dataError(),Ce!==P.nil&&he.assign(Ce,!1)),he.else()}invalid$data(){const{gen:Ce,schemaCode:be,schemaType:he,def:ne,it:te}=this;return(0,P.or)(function de(){if(he.length){if(!(be instanceof P.Name))throw new Error("ajv implementation error");const Ie=Array.isArray(he)?he:[he];return P._`${(0,H.checkDataTypes)(Ie,be,te.opts.strictNumbers,H.DataType.Wrong)}`}return P.nil}(),function _e(){if(ne.validateSchema){const Ie=Ce.scopeValue("validate$data",{ref:ne.validateSchema});return P._`!${Ie}(${be})`}return P.nil}())}subschema(Ce,be){const he=(0,S.getSubschema)(this.it,Ce);(0,S.extendSubschemaData)(he,this.it,Ce),(0,S.extendSubschemaMode)(he,Ce);const ne={...this.it,...he,items:void 0,props:void 0};return function ie(xe,Ce){ue(xe)&&(pe(xe),ae(xe))?function ce(xe,Ce){const{schema:be,gen:he,opts:ne}=xe;ne.$comment&&be.$comment&&h(xe),function s(xe){const Ce=xe.schema[xe.opts.schemaId];Ce&&(xe.baseId=(0,O.resolveUrl)(xe.opts.uriResolver,xe.baseId,Ce))}(xe),function d(xe){if(xe.schema.$async&&!xe.schemaEnv.$async)throw new Error("async schema in sync schema")}(xe);const te=he.const("_errs",R.default.errors);ve(xe,te),he.var(Ce,P._`${te} === ${R.default.errors}`)}(xe,Ce):(0,g.boolOrEmptySchema)(xe,Ce)}(ne,be),ne}mergeEvaluated(Ce,be){const{it:he,gen:ne}=this;he.opts.unevaluated&&(!0!==he.props&&void 0!==Ce.props&&(he.props=A.mergeEvaluated.props(ne,Ce.props,he.props,be)),!0!==he.items&&void 0!==Ce.items&&(he.items=A.mergeEvaluated.items(ne,Ce.items,he.items,be)))}mergeValidEvaluated(Ce,be){const{it:he,gen:ne}=this;if(he.opts.unevaluated&&(!0!==he.props||!0!==he.items))return ne.if(be,()=>this.mergeEvaluated(Ce,P.Name)),!0}}function Ge(xe,Ce,be,he){const ne=new Me(xe,be,Ce);"code"in be?be.code(ne,he):ne.$data&&be.validate?(0,k.funcKeywordCode)(ne,be):"macro"in be?(0,k.macroKeywordCode)(ne,be):(be.compile||be.validate)&&(0,k.funcKeywordCode)(ne,be)}j.KeywordCxt=Me;const ge=/^\/(?:[^~]|~0|~1)*$/,me=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ue(xe,{dataLevel:Ce,dataNames:be,dataPathArr:he}){let ne,te;if(""===xe)return R.default.rootData;if("/"===xe[0]){if(!ge.test(xe))throw new Error(`Invalid JSON-pointer: ${xe}`);ne=xe,te=R.default.rootData}else{const He=me.exec(xe);if(!He)throw new Error(`Invalid JSON-pointer: ${xe}`);const Ve=+He[1];if(ne=He[2],"#"===ne){if(Ve>=Ce)throw new Error(Ie("property/index",Ve));return he[Ce-Ve]}if(Ve>Ce)throw new Error(Ie("data",Ve));if(te=be[Ce-Ve],!ne)return te}let de=te;const _e=ne.split("/");for(const He of _e)He&&(te=P._`${te}${(0,P.getProperty)((0,A.unescapeJsonPointer)(He))}`,de=P._`${de} && ${te}`);return de;function Ie(He,Ve){return`Cannot access ${He} ${Ve} levels up, current level is ${Ce}`}}j.getData=Ue},76800:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateKeywordUsage=j.validSchemaType=j.funcKeywordCode=j.macroKeywordCode=void 0;const g=E(1038),_=E(23432),B=E(42406),H=E(53421);function S(U){const{gen:K,data:Q,it:q}=U;K.if(q.parentData,()=>K.assign(Q,g._`${q.parentData}[${q.parentDataProperty}]`))}function O(U,K,Q){if(void 0===Q)throw new Error(`keyword "${K}" failed to compile`);return U.scopeValue("keyword","function"==typeof Q?{ref:Q}:{ref:Q,code:(0,g.stringify)(Q)})}j.macroKeywordCode=function b(U,K){const{gen:Q,keyword:q,schema:Y,parentSchema:W,it:re}=U,ie=K.macro.call(re.self,Y,W,re),ae=O(Q,q,ie);!1!==re.opts.validateSchema&&re.self.validateSchema(ie,!0);const ue=Q.name("valid");U.subschema({schema:ie,schemaPath:g.nil,errSchemaPath:`${re.errSchemaPath}/${q}`,topSchemaRef:ae,compositeRule:!0},ue),U.pass(ue,()=>U.error(!0))},j.funcKeywordCode=function k(U,K){var Q;const{gen:q,keyword:Y,schema:W,parentSchema:re,$data:ie,it:ae}=U;!function R({schemaEnv:U},K){if(K.async&&!U.$async)throw new Error("async keyword in sync schema")}(ae,K);const ue=!ie&&K.compile?K.compile.call(ae.self,W,re,ae):K.validate,ce=O(q,Y,ue),pe=q.let("valid");function s(h=(K.async?g._`await `:g.nil)){q.assign(pe,g._`${h}${(0,B.callValidateCode)(U,ce,ae.opts.passContext?_.default.this:_.default.self,!("compile"in K&&!ie||!1===K.schema))}`,K.modifying)}function d(h){var f;q.if((0,g.not)(null!==(f=K.valid)&&void 0!==f?f:pe),h)}U.block$data(pe,function ve(){if(!1===K.errors)s(),K.modifying&&S(U),d(()=>U.error());else{const h=K.async?function De(){const h=q.let("ruleErrs",null);return q.try(()=>s(g._`await `),f=>q.assign(pe,!1).if(g._`${f} instanceof ${ae.ValidationError}`,()=>q.assign(h,g._`${f}.errors`),()=>q.throw(f))),h}():function C(){const h=g._`${ce}.errors`;return q.assign(h,null),s(g.nil),h}();K.modifying&&S(U),d(()=>function P(U,K){const{gen:Q}=U;Q.if(g._`Array.isArray(${K})`,()=>{Q.assign(_.default.vErrors,g._`${_.default.vErrors} === null ? ${K} : ${_.default.vErrors}.concat(${K})`).assign(_.default.errors,g._`${_.default.vErrors}.length`),(0,H.extendErrors)(U)},()=>U.error())}(U,h))}}),U.ok(null!==(Q=K.valid)&&void 0!==Q?Q:pe)},j.validSchemaType=function A(U,K,Q=!1){return!K.length||K.some(q=>"array"===q?Array.isArray(U):"object"===q?U&&"object"==typeof U&&!Array.isArray(U):typeof U==q||Q&&typeof U>"u")},j.validateKeywordUsage=function V({schema:U,opts:K,self:Q,errSchemaPath:q},Y,W){if(Array.isArray(Y.keyword)?!Y.keyword.includes(W):Y.keyword!==W)throw new Error("ajv implementation error");const re=Y.dependencies;if(re?.some(ie=>!Object.prototype.hasOwnProperty.call(U,ie)))throw new Error(`parent schema must have dependencies of ${W}: ${re.join(",")}`);if(Y.validateSchema&&!Y.validateSchema(U[W])){const ae=`keyword "${W}" value is invalid at path "${q}": `+Q.errorsText(Y.validateSchema.errors);if("log"!==K.validateSchema)throw new Error(ae);Q.logger.error(ae)}}},16334:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.extendSubschemaMode=j.extendSubschemaData=j.getSubschema=void 0;const g=E(1038),_=E(27006);j.getSubschema=function B(k,{keyword:S,schemaProp:P,schema:R,schemaPath:O,errSchemaPath:A,topSchemaRef:V}){if(void 0!==S&&void 0!==R)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==S){const U=k.schema[S];return void 0===P?{schema:U,schemaPath:g._`${k.schemaPath}${(0,g.getProperty)(S)}`,errSchemaPath:`${k.errSchemaPath}/${S}`}:{schema:U[P],schemaPath:g._`${k.schemaPath}${(0,g.getProperty)(S)}${(0,g.getProperty)(P)}`,errSchemaPath:`${k.errSchemaPath}/${S}/${(0,_.escapeFragment)(P)}`}}if(void 0!==R){if(void 0===O||void 0===A||void 0===V)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:R,schemaPath:O,topSchemaRef:V,errSchemaPath:A}}throw new Error('either "keyword" or "schema" must be passed')},j.extendSubschemaData=function H(k,S,{dataProp:P,dataPropType:R,data:O,dataTypes:A,propertyName:V}){if(void 0!==O&&void 0!==P)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:U}=S;if(void 0!==P){const{errorPath:Q,dataPathArr:q,opts:Y}=S;K(U.let("data",g._`${S.data}${(0,g.getProperty)(P)}`,!0)),k.errorPath=g.str`${Q}${(0,_.getErrorPath)(P,R,Y.jsPropertySyntax)}`,k.parentDataProperty=g._`${P}`,k.dataPathArr=[...q,k.parentDataProperty]}function K(Q){k.data=Q,k.dataLevel=S.dataLevel+1,k.dataTypes=[],S.definedProperties=new Set,k.parentData=S.data,k.dataNames=[...S.dataNames,Q]}void 0!==O&&(K(O instanceof g.Name?O:U.let("data",O,!0)),void 0!==V&&(k.propertyName=V)),A&&(k.dataTypes=A)},j.extendSubschemaMode=function b(k,{jtdDiscriminator:S,jtdMetadata:P,compositeRule:R,createErrors:O,allErrors:A}){void 0!==R&&(k.compositeRule=R),void 0!==O&&(k.createErrors=O),void 0!==A&&(k.allErrors=A),k.jtdDiscriminator=S,k.jtdMetadata=P}},35419:($e,j,E)=>{"use strict";var g=E(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.CodeGen=j.Name=j.nil=j.stringify=j.str=j._=j.KeywordCxt=void 0;var _=E(40339);Object.defineProperty(j,"KeywordCxt",{enumerable:!0,get:function(){return _.KeywordCxt}});var B=E(1038);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return B._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return B.str}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return B.stringify}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return B.nil}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return B.Name}}),Object.defineProperty(j,"CodeGen",{enumerable:!0,get:function(){return B.CodeGen}});const H=E(42467),b=E(26288),k=E(32203),S=E(97692),P=E(1038),R=E(77172),O=E(55999),A=E(27006),V=E(83813),U=E(13203),K=(v,Z)=>new RegExp(v,Z);K.code="new RegExp";const Q=["removeAdditional","useDefaults","coerceTypes"],q=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},W={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function ie(v){var Z,z,ee,le,we,Me,Ge,ge,me,Ue,xe,Ce,be,he,ne,te,de,_e,Ie,He,Ve,xt,Ne,ke,pt;const F=v.strict,D=null===(Z=v.code)||void 0===Z?void 0:Z.optimize,M=!0===D||void 0===D?1:D||0,G=null!==(ee=null===(z=v.code)||void 0===z?void 0:z.regExp)&&void 0!==ee?ee:K,fe=null!==(le=v.uriResolver)&&void 0!==le?le:U.default;return{strictSchema:null===(Me=null!==(we=v.strictSchema)&&void 0!==we?we:F)||void 0===Me||Me,strictNumbers:null===(ge=null!==(Ge=v.strictNumbers)&&void 0!==Ge?Ge:F)||void 0===ge||ge,strictTypes:null!==(Ue=null!==(me=v.strictTypes)&&void 0!==me?me:F)&&void 0!==Ue?Ue:"log",strictTuples:null!==(Ce=null!==(xe=v.strictTuples)&&void 0!==xe?xe:F)&&void 0!==Ce?Ce:"log",strictRequired:null!==(he=null!==(be=v.strictRequired)&&void 0!==be?be:F)&&void 0!==he&&he,code:v.code?{...v.code,optimize:M,regExp:G}:{optimize:M,regExp:G},loopRequired:null!==(ne=v.loopRequired)&&void 0!==ne?ne:200,loopEnum:null!==(te=v.loopEnum)&&void 0!==te?te:200,meta:null===(de=v.meta)||void 0===de||de,messages:null===(_e=v.messages)||void 0===_e||_e,inlineRefs:null===(Ie=v.inlineRefs)||void 0===Ie||Ie,schemaId:null!==(He=v.schemaId)&&void 0!==He?He:"$id",addUsedSchema:null===(Ve=v.addUsedSchema)||void 0===Ve||Ve,validateSchema:null===(xt=v.validateSchema)||void 0===xt||xt,validateFormats:null===(Ne=v.validateFormats)||void 0===Ne||Ne,unicodeRegExp:null===(ke=v.unicodeRegExp)||void 0===ke||ke,int32range:null===(pt=v.int32range)||void 0===pt||pt,uriResolver:fe}}class ae{constructor(Z={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Z=this.opts={...Z,...ie(Z)};const{es5:z,lines:ee}=this.opts.code;this.scope=new P.ValueScope({scope:{},prefixes:q,es5:z,lines:ee}),this.logger=function d(v){if(!1===v)return s;if(void 0===v)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}(Z.logger);const le=Z.validateFormats;Z.validateFormats=!1,this.RULES=(0,k.getRules)(),ue.call(this,Y,Z,"NOT SUPPORTED"),ue.call(this,W,Z,"DEPRECATED","warn"),this._metaOpts=C.call(this),Z.formats&&ve.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Z.keywords&&De.call(this,Z.keywords),"object"==typeof Z.meta&&this.addMetaSchema(Z.meta),pe.call(this),Z.validateFormats=le}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Z,meta:z,schemaId:ee}=this.opts;let le=V;"id"===ee&&(le={...V},le.id=le.$id,delete le.$id),z&&Z&&this.addMetaSchema(le,le[ee],!1)}defaultMeta(){const{meta:Z,schemaId:z}=this.opts;return this.opts.defaultMeta="object"==typeof Z?Z[z]||Z:void 0}validate(Z,z){let ee;if("string"==typeof Z){if(ee=this.getSchema(Z),!ee)throw new Error(`no schema with key or ref "${Z}"`)}else ee=this.compile(Z);const le=ee(z);return"$async"in ee||(this.errors=ee.errors),le}compile(Z,z){const ee=this._addSchema(Z,z);return ee.validate||this._compileSchemaEnv(ee)}compileAsync(Z,z){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:ee}=this.opts;return le.call(this,Z,z);function le(ne,te){return we.apply(this,arguments)}function we(){return(we=g(function*(ne,te){yield Me.call(this,ne.$schema);const de=this._addSchema(ne,te);return de.validate||ge.call(this,de)})).apply(this,arguments)}function Me(ne){return Ge.apply(this,arguments)}function Ge(){return(Ge=g(function*(ne){ne&&!this.getSchema(ne)&&(yield le.call(this,{$ref:ne},!0))})).apply(this,arguments)}function ge(ne){return me.apply(this,arguments)}function me(){return(me=g(function*(ne){try{return this._compileSchemaEnv(ne)}catch(te){if(!(te instanceof b.default))throw te;return Ue.call(this,te),yield xe.call(this,te.missingSchema),ge.call(this,ne)}})).apply(this,arguments)}function Ue({missingSchema:ne,missingRef:te}){if(this.refs[ne])throw new Error(`AnySchema ${ne} is loaded but ${te} cannot be resolved`)}function xe(ne){return Ce.apply(this,arguments)}function Ce(){return(Ce=g(function*(ne){const te=yield be.call(this,ne);this.refs[ne]||(yield Me.call(this,te.$schema)),this.refs[ne]||this.addSchema(te,ne,z)})).apply(this,arguments)}function be(ne){return he.apply(this,arguments)}function he(){return(he=g(function*(ne){const te=this._loading[ne];if(te)return te;try{return yield this._loading[ne]=ee(ne)}finally{delete this._loading[ne]}})).apply(this,arguments)}}addSchema(Z,z,ee,le=this.opts.validateSchema){if(Array.isArray(Z)){for(const Me of Z)this.addSchema(Me,void 0,ee,le);return this}let we;if("object"==typeof Z){const{schemaId:Me}=this.opts;if(we=Z[Me],void 0!==we&&"string"!=typeof we)throw new Error(`schema ${Me} must be string`)}return z=(0,R.normalizeId)(z||we),this._checkUnique(z),this.schemas[z]=this._addSchema(Z,ee,z,le,!0),this}addMetaSchema(Z,z,ee=this.opts.validateSchema){return this.addSchema(Z,z,!0,ee),this}validateSchema(Z,z){if("boolean"==typeof Z)return!0;let ee;if(ee=Z.$schema,void 0!==ee&&"string"!=typeof ee)throw new Error("$schema must be a string");if(ee=ee||this.opts.defaultMeta||this.defaultMeta(),!ee)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const le=this.validate(ee,Z);if(!le&&z){const we="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(we);this.logger.error(we)}return le}getSchema(Z){let z;for(;"string"==typeof(z=ce.call(this,Z));)Z=z;if(void 0===z){const{schemaId:ee}=this.opts,le=new S.SchemaEnv({schema:{},schemaId:ee});if(z=S.resolveSchema.call(this,le,Z),!z)return;this.refs[Z]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(Z){if(Z instanceof RegExp)return this._removeAllSchemas(this.schemas,Z),this._removeAllSchemas(this.refs,Z),this;switch(typeof Z){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=ce.call(this,Z);return"object"==typeof z&&this._cache.delete(z.schema),delete this.schemas[Z],delete this.refs[Z],this}case"object":{this._cache.delete(Z);let ee=Z[this.opts.schemaId];return ee&&(ee=(0,R.normalizeId)(ee),delete this.schemas[ee],delete this.refs[ee]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Z){for(const z of Z)this.addKeyword(z);return this}addKeyword(Z,z){let ee;if("string"==typeof Z)ee=Z,"object"==typeof z&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=ee);else{if("object"!=typeof Z||void 0!==z)throw new Error("invalid addKeywords parameters");if(ee=(z=Z).keyword,Array.isArray(ee)&&!ee.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(f.call(this,ee,z),!z)return(0,A.eachItem)(ee,we=>w.call(this,we)),this;L.call(this,z);const le={...z,type:(0,O.getJSONTypes)(z.type),schemaType:(0,O.getJSONTypes)(z.schemaType)};return(0,A.eachItem)(ee,0===le.type.length?we=>w.call(this,we,le):we=>le.type.forEach(Me=>w.call(this,we,le,Me))),this}getKeyword(Z){const z=this.RULES.all[Z];return"object"==typeof z?z.definition:!!z}removeKeyword(Z){const{RULES:z}=this;delete z.keywords[Z],delete z.all[Z];for(const ee of z.rules){const le=ee.rules.findIndex(we=>we.keyword===Z);le>=0&&ee.rules.splice(le,1)}return this}addFormat(Z,z){return"string"==typeof z&&(z=new RegExp(z)),this.formats[Z]=z,this}errorsText(Z=this.errors,{separator:z=", ",dataVar:ee="data"}={}){return Z&&0!==Z.length?Z.map(le=>`${ee}${le.instancePath} ${le.message}`).reduce((le,we)=>le+z+we):"No errors"}$dataMetaSchema(Z,z){const ee=this.RULES.all;Z=JSON.parse(JSON.stringify(Z));for(const le of z){const we=le.split("/").slice(1);let Me=Z;for(const Ge of we)Me=Me[Ge];for(const Ge in ee){const ge=ee[Ge];if("object"!=typeof ge)continue;const{$data:me}=ge.definition,Ue=Me[Ge];me&&Ue&&(Me[Ge]=a(Ue))}}return Z}_removeAllSchemas(Z,z){for(const ee in Z){const le=Z[ee];(!z||z.test(ee))&&("string"==typeof le?delete Z[ee]:le&&!le.meta&&(this._cache.delete(le.schema),delete Z[ee]))}}_addSchema(Z,z,ee,le=this.opts.validateSchema,we=this.opts.addUsedSchema){let Me;const{schemaId:Ge}=this.opts;if("object"==typeof Z)Me=Z[Ge];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof Z)throw new Error("schema must be object or boolean")}let ge=this._cache.get(Z);if(void 0!==ge)return ge;ee=(0,R.normalizeId)(Me||ee);const me=R.getSchemaRefs.call(this,Z,ee);return ge=new S.SchemaEnv({schema:Z,schemaId:Ge,meta:z,baseId:ee,localRefs:me}),this._cache.set(ge.schema,ge),we&&!ee.startsWith("#")&&(ee&&this._checkUnique(ee),this.refs[ee]=ge),le&&this.validateSchema(Z,!0),ge}_checkUnique(Z){if(this.schemas[Z]||this.refs[Z])throw new Error(`schema with key or id "${Z}" already exists`)}_compileSchemaEnv(Z){if(Z.meta?this._compileMetaSchema(Z):S.compileSchema.call(this,Z),!Z.validate)throw new Error("ajv implementation error");return Z.validate}_compileMetaSchema(Z){const z=this.opts;this.opts=this._metaOpts;try{S.compileSchema.call(this,Z)}finally{this.opts=z}}}function ue(v,Z,z,ee="error"){for(const le in v)le in Z&&this.logger[ee](`${z}: option ${le}. ${v[le]}`)}function ce(v){return v=(0,R.normalizeId)(v),this.schemas[v]||this.refs[v]}function pe(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const Z in v)this.addSchema(v[Z],Z)}function ve(){for(const v in this.opts.formats){const Z=this.opts.formats[v];Z&&this.addFormat(v,Z)}}function De(v){if(Array.isArray(v))this.addVocabulary(v);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const Z in v){const z=v[Z];z.keyword||(z.keyword=Z),this.addKeyword(z)}}}function C(){const v={...this.opts};for(const Z of Q)delete v[Z];return v}j.default=ae,ae.ValidationError=H.default,ae.MissingRefError=b.default;const s={log(){},warn(){},error(){}},h=/^[a-z_$][a-z0-9_$:-]*$/i;function f(v,Z){const{RULES:z}=this;if((0,A.eachItem)(v,ee=>{if(z.keywords[ee])throw new Error(`Keyword ${ee} is already defined`);if(!h.test(ee))throw new Error(`Keyword ${ee} has invalid name`)}),Z&&Z.$data&&!("code"in Z)&&!("validate"in Z))throw new Error('$data keyword must have "code" or "validate" function')}function w(v,Z,z){var ee;const le=Z?.post;if(z&&le)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:we}=this;let Me=le?we.post:we.rules.find(({type:ge})=>ge===z);if(Me||(Me={type:z,rules:[]},we.rules.push(Me)),we.keywords[v]=!0,!Z)return;const Ge={keyword:v,definition:{...Z,type:(0,O.getJSONTypes)(Z.type),schemaType:(0,O.getJSONTypes)(Z.schemaType)}};Z.before?I.call(this,Me,Ge,Z.before):Me.rules.push(Ge),we.all[v]=Ge,null===(ee=Z.implements)||void 0===ee||ee.forEach(ge=>this.addKeyword(ge))}function I(v,Z,z){const ee=v.rules.findIndex(le=>le.keyword===z);ee>=0?v.rules.splice(ee,0,Z):(v.rules.push(Z),this.logger.warn(`rule ${z} is not defined`))}function L(v){let{metaSchema:Z}=v;void 0!==Z&&(v.$data&&this.opts.$data&&(Z=a(Z)),v.validateSchema=this.compile(Z,!0))}const x={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function a(v){return{anyOf:[v,x]}}},87577:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(6438),_=E(59608),B=E(8307),H=E(11082),b=E(93406),k=E(14516),S=E(3059),P=E(18738),R=["/properties"];j.default=function O(A){return[g,_,B,H,b,V(this,k),S,V(this,P)].forEach(U=>this.addMetaSchema(U,void 0,!1)),this;function V(U,K){return A?U.$dataMetaSchema(K,R):K}}},92281:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(40362);g.code='require("ajv/dist/runtime/equal").default',j.default=g},26488:($e,j)=>{"use strict";function E(g){const _=g.length;let b,B=0,H=0;for(;H<_;)B++,b=g.charCodeAt(H++),b>=55296&&b<=56319&&H<_&&(b=g.charCodeAt(H),56320==(64512&b)&&H++);return B}Object.defineProperty(j,"__esModule",{value:!0}),j.default=E,E.code='require("ajv/dist/runtime/ucs2length").default'},13203:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(95568);g.code='require("ajv/dist/runtime/uri").default',j.default=g},42467:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});class E extends Error{constructor(_){super("validation failed"),this.errors=_,this.ajv=this.validation=!0}}j.default=E},46934:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateAdditionalItems=void 0;const g=E(1038),_=E(27006),H={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:k}})=>g.str`must NOT have more than ${k} items`,params:({params:{len:k}})=>g._`{limit: ${k}}`},code(k){const{parentSchema:S,it:P}=k,{items:R}=S;Array.isArray(R)?b(k,R):(0,_.checkStrictMode)(P,'"additionalItems" is ignored when "items" is not an array of schemas')}};function b(k,S){const{gen:P,schema:R,data:O,keyword:A,it:V}=k;V.items=!0;const U=P.const("len",g._`${O}.length`);if(!1===R)k.setParams({len:S.length}),k.pass(g._`${U} <= ${S.length}`);else if("object"==typeof R&&!(0,_.alwaysValidSchema)(V,R)){const Q=P.var("valid",g._`${U} <= ${S.length}`);P.if((0,g.not)(Q),()=>function K(Q){P.forRange("i",S.length,U,q=>{k.subschema({keyword:A,dataProp:q,dataPropType:_.Type.Num},Q),V.allErrors||P.if((0,g.not)(Q),()=>P.break())})}(Q)),k.ok(Q)}}j.validateAdditionalItems=b,j.default=H},18445:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(42406),_=E(1038),B=E(23432),H=E(27006);j.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:S})=>_._`{additionalProperty: ${S.additionalProperty}}`},code(S){const{gen:P,schema:R,parentSchema:O,data:A,errsCount:V,it:U}=S;if(!V)throw new Error("ajv implementation error");const{allErrors:K,opts:Q}=U;if(U.props=!0,"all"!==Q.removeAdditional&&(0,H.alwaysValidSchema)(U,R))return;const q=(0,g.allSchemaProperties)(O.properties),Y=(0,g.allSchemaProperties)(O.patternProperties);function ie(ce){P.code(_._`delete ${A}[${ce}]`)}function ae(ce){if("all"===Q.removeAdditional||Q.removeAdditional&&!1===R)ie(ce);else{if(!1===R)return S.setParams({additionalProperty:ce}),S.error(),void(K||P.break());if("object"==typeof R&&!(0,H.alwaysValidSchema)(U,R)){const pe=P.name("valid");"failing"===Q.removeAdditional?(ue(ce,pe,!1),P.if((0,_.not)(pe),()=>{S.reset(),ie(ce)})):(ue(ce,pe),K||P.if((0,_.not)(pe),()=>P.break()))}}}function ue(ce,pe,ve){const De={keyword:"additionalProperties",dataProp:ce,dataPropType:H.Type.Str};!1===ve&&Object.assign(De,{compositeRule:!0,createErrors:!1,allErrors:!1}),S.subschema(De,pe)}(function W(){P.forIn("key",A,ce=>{q.length||Y.length?P.if(function re(ce){let pe;if(q.length>8){const ve=(0,H.schemaRefOrVal)(U,O.properties,"properties");pe=(0,g.isOwnProperty)(P,ve,ce)}else pe=q.length?(0,_.or)(...q.map(ve=>_._`${ce} === ${ve}`)):_.nil;return Y.length&&(pe=(0,_.or)(pe,...Y.map(ve=>_._`${(0,g.usePattern)(S,ve)}.test(${ce})`))),(0,_.not)(pe)}(ce),()=>ae(ce)):ae(ce)})})(),S.ok(_._`${V} === ${B.default.errors}`)}}},77783:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(27006);j.default={keyword:"allOf",schemaType:"array",code(B){const{gen:H,schema:b,it:k}=B;if(!Array.isArray(b))throw new Error("ajv implementation error");const S=H.name("valid");b.forEach((P,R)=>{if((0,g.alwaysValidSchema)(k,P))return;const O=B.subschema({keyword:"allOf",schemaProp:R},S);B.ok(S),B.mergeEvaluated(O)})}}},60922:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const _={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:E(42406).validateUnion,error:{message:"must match a schema in anyOf"}};j.default=_},57568:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(27006);j.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:b,max:k}})=>void 0===k?g.str`must contain at least ${b} valid item(s)`:g.str`must contain at least ${b} and no more than ${k} valid item(s)`,params:({params:{min:b,max:k}})=>void 0===k?g._`{minContains: ${b}}`:g._`{minContains: ${b}, maxContains: ${k}}`},code(b){const{gen:k,schema:S,parentSchema:P,data:R,it:O}=b;let A,V;const{minContains:U,maxContains:K}=P;O.opts.next?(A=void 0===U?1:U,V=K):A=1;const Q=k.const("len",g._`${R}.length`);if(b.setParams({min:A,max:V}),void 0===V&&0===A)return void(0,_.checkStrictMode)(O,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==V&&A>V)return(0,_.checkStrictMode)(O,'"minContains" > "maxContains" is always invalid'),void b.fail();if((0,_.alwaysValidSchema)(O,S)){let ie=g._`${Q} >= ${A}`;return void 0!==V&&(ie=g._`${ie} && ${Q} <= ${V}`),void b.pass(ie)}O.items=!0;const q=k.name("valid");function Y(){const ie=k.name("_valid"),ae=k.let("count",0);W(ie,()=>k.if(ie,()=>function re(ie){k.code(g._`${ie}++`),void 0===V?k.if(g._`${ie} >= ${A}`,()=>k.assign(q,!0).break()):(k.if(g._`${ie} > ${V}`,()=>k.assign(q,!1).break()),1===A?k.assign(q,!0):k.if(g._`${ie} >= ${A}`,()=>k.assign(q,!0)))}(ae)))}function W(ie,ae){k.forRange("i",0,Q,ue=>{b.subschema({keyword:"contains",dataProp:ue,dataPropType:_.Type.Num,compositeRule:!0},ie),ae()})}void 0===V&&1===A?W(q,()=>k.if(q,()=>k.break())):0===A?(k.let(q,!0),void 0!==V&&k.if(g._`${R}.length > 0`,Y)):(k.let(q,!1),Y()),b.result(q,()=>b.reset())}}},68032:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateSchemaDeps=j.validatePropertyDeps=j.error=void 0;const g=E(1038),_=E(27006),B=E(42406);j.error={message:({params:{property:P,depsCount:R,deps:O}})=>g.str`must have ${1===R?"property":"properties"} ${O} when property ${P} is present`,params:({params:{property:P,depsCount:R,deps:O,missingProperty:A}})=>g._`{property: ${P},
    missingProperty: ${A},
    depsCount: ${R},
    deps: ${O}}`};const H={keyword:"dependencies",type:"object",schemaType:"object",error:j.error,code(P){const[R,O]=function b({schema:P}){const R={},O={};for(const A in P)"__proto__"!==A&&((Array.isArray(P[A])?R:O)[A]=P[A]);return[R,O]}(P);k(P,R),S(P,O)}};function k(P,R=P.schema){const{gen:O,data:A,it:V}=P;if(0===Object.keys(R).length)return;const U=O.let("missing");for(const K in R){const Q=R[K];if(0===Q.length)continue;const q=(0,B.propertyInData)(O,A,K,V.opts.ownProperties);P.setParams({property:K,depsCount:Q.length,deps:Q.join(", ")}),V.allErrors?O.if(q,()=>{for(const Y of Q)(0,B.checkReportMissingProp)(P,Y)}):(O.if(g._`${q} && (${(0,B.checkMissingProp)(P,Q,U)})`),(0,B.reportMissingProp)(P,U),O.else())}}function S(P,R=P.schema){const{gen:O,data:A,keyword:V,it:U}=P,K=O.name("valid");for(const Q in R)(0,_.alwaysValidSchema)(U,R[Q])||(O.if((0,B.propertyInData)(O,A,Q,U.opts.ownProperties),()=>{const q=P.subschema({keyword:V,schemaProp:Q},K);P.mergeValidEvaluated(q,K)},()=>O.var(K,!0)),P.ok(K))}j.validatePropertyDeps=k,j.validateSchemaDeps=S,j.default=H},85164:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(68032);j.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:B=>(0,g.validateSchemaDeps)(B)}},45226:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(27006);function b(k,S){const P=k.schema[S];return void 0!==P&&!(0,_.alwaysValidSchema)(k,P)}j.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:k})=>g.str`must match "${k.ifClause}" schema`,params:({params:k})=>g._`{failingKeyword: ${k.ifClause}}`},code(k){const{gen:S,parentSchema:P,it:R}=k;void 0===P.then&&void 0===P.else&&(0,_.checkStrictMode)(R,'"if" without "then" and "else" is ignored');const O=b(R,"then"),A=b(R,"else");if(!O&&!A)return;const V=S.let("valid",!0),U=S.name("_valid");if(function K(){const q=k.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},U);k.mergeEvaluated(q)}(),k.reset(),O&&A){const q=S.let("ifClause");k.setParams({ifClause:q}),S.if(U,Q("then",q),Q("else",q))}else O?S.if(U,Q("then")):S.if((0,g.not)(U),Q("else"));function Q(q,Y){return()=>{const W=k.subschema({keyword:q},U);S.assign(V,U),k.mergeValidEvaluated(W,V),Y?S.assign(Y,g._`${q}`):k.setParams({ifClause:q})}}k.pass(V,()=>k.error(!0))}}},68261:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(46934),_=E(96537),B=E(2941),H=E(5261),b=E(57568),k=E(68032),S=E(36474),P=E(18445),R=E(34032),O=E(17330),A=E(3408),V=E(60922),U=E(88388),K=E(77783),Q=E(45226),q=E(98779);j.default=function Y(W=!1){const re=[A.default,V.default,U.default,K.default,Q.default,q.default,S.default,P.default,k.default,R.default,O.default];return W?re.push(_.default,H.default):re.push(g.default,B.default),re.push(b.default),re}},2941:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateTuple=void 0;const g=E(1038),_=E(27006),B=E(42406),H={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(k){const{schema:S,it:P}=k;if(Array.isArray(S))return b(k,"additionalItems",S);P.items=!0,!(0,_.alwaysValidSchema)(P,S)&&k.ok((0,B.validateArray)(k))}};function b(k,S,P=k.schema){const{gen:R,parentSchema:O,data:A,keyword:V,it:U}=k;(function q(Y){const{opts:W,errSchemaPath:re}=U,ie=P.length;W.strictTuples&&!(ie===Y.minItems&&(ie===Y.maxItems||!1===Y[S]))&&(0,_.checkStrictMode)(U,`"${V}" is ${ie}-tuple, but minItems or maxItems/${S} are not specified or different at path "${re}"`,W.strictTuples)})(O),U.opts.unevaluated&&P.length&&!0!==U.items&&(U.items=_.mergeEvaluated.items(R,P.length,U.items));const K=R.name("valid"),Q=R.const("len",g._`${A}.length`);P.forEach((Y,W)=>{(0,_.alwaysValidSchema)(U,Y)||(R.if(g._`${Q} > ${W}`,()=>k.subschema({keyword:V,schemaProp:W,dataProp:W},K)),k.ok(K))})}j.validateTuple=b,j.default=H},5261:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(27006),B=E(42406),H=E(46934);j.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:S}})=>g.str`must NOT have more than ${S} items`,params:({params:{len:S}})=>g._`{limit: ${S}}`},code(S){const{schema:P,parentSchema:R,it:O}=S,{prefixItems:A}=R;O.items=!0,!(0,_.alwaysValidSchema)(O,P)&&(A?(0,H.validateAdditionalItems)(S,A):S.ok((0,B.validateArray)(S)))}}},3408:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(27006);j.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(B){const{gen:H,schema:b,it:k}=B;if((0,g.alwaysValidSchema)(k,b))return void B.fail();const S=H.name("valid");B.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},S),B.failResult(S,()=>B.reset(),()=>B.error())},error:{message:"must NOT be valid"}}},88388:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(27006);j.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:b})=>g._`{passingSchemas: ${b.passing}}`},code(b){const{gen:k,schema:S,parentSchema:P,it:R}=b;if(!Array.isArray(S))throw new Error("ajv implementation error");if(R.opts.discriminator&&P.discriminator)return;const O=S,A=k.let("valid",!1),V=k.let("passing",null),U=k.name("_valid");b.setParams({passing:V}),k.block(function K(){O.forEach((Q,q)=>{let Y;(0,_.alwaysValidSchema)(R,Q)?k.var(U,!0):Y=b.subschema({keyword:"oneOf",schemaProp:q,compositeRule:!0},U),q>0&&k.if(g._`${U} && ${A}`).assign(A,!1).assign(V,g._`[${V}, ${q}]`).else(),k.if(U,()=>{k.assign(A,!0),k.assign(V,q),Y&&b.mergeEvaluated(Y,g.Name)})})}),b.result(A,()=>b.reset(),()=>b.error(!0))}}},17330:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(42406),_=E(1038),B=E(27006),H=E(27006);j.default={keyword:"patternProperties",type:"object",schemaType:"object",code(k){const{gen:S,schema:P,data:R,parentSchema:O,it:A}=k,{opts:V}=A,U=(0,g.allSchemaProperties)(P),K=U.filter(ae=>(0,B.alwaysValidSchema)(A,P[ae]));if(0===U.length||K.length===U.length&&(!A.opts.unevaluated||!0===A.props))return;const Q=V.strictSchema&&!V.allowMatchingProperties&&O.properties,q=S.name("valid");!0!==A.props&&!(A.props instanceof _.Name)&&(A.props=(0,H.evaluatedPropsToName)(S,A.props));const{props:Y}=A;function re(ae){for(const ue in Q)new RegExp(ae).test(ue)&&(0,B.checkStrictMode)(A,`property ${ue} matches pattern ${ae} (use allowMatchingProperties)`)}function ie(ae){S.forIn("key",R,ue=>{S.if(_._`${(0,g.usePattern)(k,ae)}.test(${ue})`,()=>{const ce=K.includes(ae);ce||k.subschema({keyword:"patternProperties",schemaProp:ae,dataProp:ue,dataPropType:H.Type.Str},q),A.opts.unevaluated&&!0!==Y?S.assign(_._`${Y}[${ue}]`,!0):!ce&&!A.allErrors&&S.if((0,_.not)(q),()=>S.break())})})}!function W(){for(const ae of U)Q&&re(ae),A.allErrors?ie(ae):(S.var(q,!0),ie(ae),S.if(q))}()}}},96537:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(2941);j.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:B=>(0,g.validateTuple)(B,"items")}},34032:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(40339),_=E(42406),B=E(27006),H=E(18445);j.default={keyword:"properties",type:"object",schemaType:"object",code(k){const{gen:S,schema:P,parentSchema:R,data:O,it:A}=k;"all"===A.opts.removeAdditional&&void 0===R.additionalProperties&&H.default.code(new g.KeywordCxt(A,H.default,"additionalProperties"));const V=(0,_.allSchemaProperties)(P);for(const Y of V)A.definedProperties.add(Y);A.opts.unevaluated&&V.length&&!0!==A.props&&(A.props=B.mergeEvaluated.props(S,(0,B.toHash)(V),A.props));const U=V.filter(Y=>!(0,B.alwaysValidSchema)(A,P[Y]));if(0===U.length)return;const K=S.name("valid");for(const Y of U)Q(Y)?q(Y):(S.if((0,_.propertyInData)(S,O,Y,A.opts.ownProperties)),q(Y),A.allErrors||S.else().var(K,!0),S.endIf()),k.it.definedProperties.add(Y),k.ok(K);function Q(Y){return A.opts.useDefaults&&!A.compositeRule&&void 0!==P[Y].default}function q(Y){k.subschema({keyword:"properties",schemaProp:Y,dataProp:Y},K)}}}},36474:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(27006);j.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:b})=>g._`{propertyName: ${b.propertyName}}`},code(b){const{gen:k,schema:S,data:P,it:R}=b;if((0,_.alwaysValidSchema)(R,S))return;const O=k.name("valid");k.forIn("key",P,A=>{b.setParams({propertyName:A}),b.subschema({keyword:"propertyNames",data:A,dataTypes:["string"],propertyName:A,compositeRule:!0},O),k.if((0,g.not)(O),()=>{b.error(!0),R.allErrors||k.break()})}),b.ok(O)}}},98779:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(27006);j.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:B,parentSchema:H,it:b}){void 0===H.if&&(0,g.checkStrictMode)(b,`"${B}" without "if" is ignored`)}}},42406:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateUnion=j.validateArray=j.usePattern=j.callValidateCode=j.schemaProperties=j.allSchemaProperties=j.noPropertyInData=j.propertyInData=j.isOwnProperty=j.hasPropFunc=j.reportMissingProp=j.checkMissingProp=j.checkReportMissingProp=void 0;const g=E(1038),_=E(27006),B=E(23432),H=E(27006);function P(re){return re.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:g._`Object.prototype.hasOwnProperty`})}function R(re,ie,ae){return g._`${P(re)}.call(${ie}, ${ae})`}function A(re,ie,ae,ue){const ce=g._`${ie}${(0,g.getProperty)(ae)} === undefined`;return ue?(0,g.or)(ce,(0,g.not)(R(re,ie,ae))):ce}function V(re){return re?Object.keys(re).filter(ie=>"__proto__"!==ie):[]}j.checkReportMissingProp=function b(re,ie){const{gen:ae,data:ue,it:ce}=re;ae.if(A(ae,ue,ie,ce.opts.ownProperties),()=>{re.setParams({missingProperty:g._`${ie}`},!0),re.error()})},j.checkMissingProp=function k({gen:re,data:ie,it:{opts:ae}},ue,ce){return(0,g.or)(...ue.map(pe=>(0,g.and)(A(re,ie,pe,ae.ownProperties),g._`${ce} = ${pe}`)))},j.reportMissingProp=function S(re,ie){re.setParams({missingProperty:ie},!0),re.error()},j.hasPropFunc=P,j.isOwnProperty=R,j.propertyInData=function O(re,ie,ae,ue){const ce=g._`${ie}${(0,g.getProperty)(ae)} !== undefined`;return ue?g._`${ce} && ${R(re,ie,ae)}`:ce},j.noPropertyInData=A,j.allSchemaProperties=V,j.schemaProperties=function U(re,ie){return V(ie).filter(ae=>!(0,_.alwaysValidSchema)(re,ie[ae]))},j.callValidateCode=function K({schemaCode:re,data:ie,it:{gen:ae,topSchemaRef:ue,schemaPath:ce,errorPath:pe},it:ve},De,C,s){const d=s?g._`${re}, ${ie}, ${ue}${ce}`:ie,h=[[B.default.instancePath,(0,g.strConcat)(B.default.instancePath,pe)],[B.default.parentData,ve.parentData],[B.default.parentDataProperty,ve.parentDataProperty],[B.default.rootData,B.default.rootData]];ve.opts.dynamicRef&&h.push([B.default.dynamicAnchors,B.default.dynamicAnchors]);const f=g._`${d}, ${ae.object(...h)}`;return C!==g.nil?g._`${De}.call(${C}, ${f})`:g._`${De}(${f})`};const Q=g._`new RegExp`;j.usePattern=function q({gen:re,it:{opts:ie}},ae){const ue=ie.unicodeRegExp?"u":"",{regExp:ce}=ie.code,pe=ce(ae,ue);return re.scopeValue("pattern",{key:pe.toString(),ref:pe,code:g._`${"new RegExp"===ce.code?Q:(0,H.useFunc)(re,ce)}(${ae}, ${ue})`})},j.validateArray=function Y(re){const{gen:ie,data:ae,keyword:ue,it:ce}=re,pe=ie.name("valid");if(ce.allErrors){const De=ie.let("valid",!0);return ve(()=>ie.assign(De,!1)),De}return ie.var(pe,!0),ve(()=>ie.break()),pe;function ve(De){const C=ie.const("len",g._`${ae}.length`);ie.forRange("i",0,C,s=>{re.subschema({keyword:ue,dataProp:s,dataPropType:_.Type.Num},pe),ie.if((0,g.not)(pe),De)})}},j.validateUnion=function W(re){const{gen:ie,schema:ae,keyword:ue,it:ce}=re;if(!Array.isArray(ae))throw new Error("ajv implementation error");if(ae.some(C=>(0,_.alwaysValidSchema)(ce,C))&&!ce.opts.unevaluated)return;const ve=ie.let("valid",!1),De=ie.name("_valid");ie.block(()=>ae.forEach((C,s)=>{const d=re.subschema({keyword:ue,schemaProp:s,compositeRule:!0},De);ie.assign(ve,g._`${ve} || ${De}`),re.mergeValidEvaluated(d,De)||ie.if((0,g.not)(ve))})),re.result(ve,()=>re.reset(),()=>re.error(!0))}},36846:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(36846),_=E(84862);j.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",g.default,_.default]},84862:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.callRef=j.getValidate=void 0;const g=E(26288),_=E(42406),B=E(1038),H=E(23432),b=E(97692),k=E(27006),S={keyword:"$ref",schemaType:"string",code(O){const{gen:A,schema:V,it:U}=O,{baseId:K,schemaEnv:Q,validateName:q,opts:Y,self:W}=U,{root:re}=Q;if(("#"===V||"#/"===V)&&K===re.baseId)return function ae(){if(Q===re)return R(O,q,Q,Q.$async);const pe=A.scopeValue("root",{ref:re});return R(O,B._`${pe}.validate`,re,re.$async)}();const ie=b.resolveRef.call(W,re,K,V);if(void 0===ie)throw new g.default(U.opts.uriResolver,K,V);return ie instanceof b.SchemaEnv?function ue(pe){const ve=P(O,pe);R(O,ve,pe,pe.$async)}(ie):function ce(pe){const ve=A.scopeValue("schema",!0===Y.code.source?{ref:pe,code:(0,B.stringify)(pe)}:{ref:pe}),De=A.name("valid"),C=O.subschema({schema:pe,dataTypes:[],schemaPath:B.nil,topSchemaRef:ve,errSchemaPath:V},De);O.mergeEvaluated(C),O.ok(De)}(ie)}};function P(O,A){const{gen:V}=O;return A.validate?V.scopeValue("validate",{ref:A.validate}):B._`${V.scopeValue("wrapper",{ref:A})}.validate`}function R(O,A,V,U){const{gen:K,it:Q}=O,{allErrors:q,schemaEnv:Y,opts:W}=Q,re=W.passContext?H.default.this:B.nil;function ue(pe){const ve=B._`${pe}.errors`;K.assign(H.default.vErrors,B._`${H.default.vErrors} === null ? ${ve} : ${H.default.vErrors}.concat(${ve})`),K.assign(H.default.errors,B._`${H.default.vErrors}.length`)}function ce(pe){var ve;if(!Q.opts.unevaluated)return;const De=null===(ve=V?.validate)||void 0===ve?void 0:ve.evaluated;if(!0!==Q.props)if(De&&!De.dynamicProps)void 0!==De.props&&(Q.props=k.mergeEvaluated.props(K,De.props,Q.props));else{const C=K.var("props",B._`${pe}.evaluated.props`);Q.props=k.mergeEvaluated.props(K,C,Q.props,B.Name)}if(!0!==Q.items)if(De&&!De.dynamicItems)void 0!==De.items&&(Q.items=k.mergeEvaluated.items(K,De.items,Q.items));else{const C=K.var("items",B._`${pe}.evaluated.items`);Q.items=k.mergeEvaluated.items(K,C,Q.items,B.Name)}}U?function ie(){if(!Y.$async)throw new Error("async schema referenced by sync schema");const pe=K.let("valid");K.try(()=>{K.code(B._`await ${(0,_.callValidateCode)(O,A,re)}`),ce(A),q||K.assign(pe,!0)},ve=>{K.if(B._`!(${ve} instanceof ${Q.ValidationError})`,()=>K.throw(ve)),ue(ve),q||K.assign(pe,!1)}),O.ok(pe)}():function ae(){O.result((0,_.callValidateCode)(O,A,re),()=>ce(A),()=>ue(A))}()}j.getValidate=P,j.callRef=R,j.default=S},86980:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(22145),B=E(97692),H=E(27006);j.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:S,tagName:P}})=>S===_.DiscrError.Tag?`tag "${P}" must be string`:`value of tag "${P}" must be in oneOf`,params:({params:{discrError:S,tag:P,tagName:R}})=>g._`{error: ${S}, tag: ${R}, tagValue: ${P}}`},code(S){const{gen:P,data:R,schema:O,parentSchema:A,it:V}=S,{oneOf:U}=A;if(!V.opts.discriminator)throw new Error("discriminator: requires discriminator option");const K=O.propertyName;if("string"!=typeof K)throw new Error("discriminator: requires propertyName");if(O.mapping)throw new Error("discriminator: mapping is not supported");if(!U)throw new Error("discriminator: requires oneOf keyword");const Q=P.let("valid",!1),q=P.const("tag",g._`${R}${(0,g.getProperty)(K)}`);function W(ie){const ae=P.name("valid"),ue=S.subschema({keyword:"oneOf",schemaProp:ie},ae);return S.mergeEvaluated(ue,g.Name),ae}P.if(g._`typeof ${q} == "string"`,()=>function Y(){const ie=function re(){var ie;const ae={},ue=pe(A);let ce=!0;for(let C=0;C<U.length;C++){let s=U[C];s?.$ref&&!(0,H.schemaHasRulesButRef)(s,V.self.RULES)&&(s=B.resolveRef.call(V.self,V.schemaEnv.root,V.baseId,s?.$ref),s instanceof B.SchemaEnv&&(s=s.schema));const d=null===(ie=s?.properties)||void 0===ie?void 0:ie[K];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${K}"`);ce=ce&&(ue||pe(s)),ve(d,C)}if(!ce)throw new Error(`discriminator: "${K}" must be required`);return ae;function pe({required:C}){return Array.isArray(C)&&C.includes(K)}function ve(C,s){if(C.const)De(C.const,s);else{if(!C.enum)throw new Error(`discriminator: "properties/${K}" must have "const" or "enum"`);for(const d of C.enum)De(d,s)}}function De(C,s){if("string"!=typeof C||C in ae)throw new Error(`discriminator: "${K}" values must be unique strings`);ae[C]=s}}();P.if(!1);for(const ae in ie)P.elseIf(g._`${q} === ${ae}`),P.assign(Q,W(ie[ae]));P.else(),S.error(!1,{discrError:_.DiscrError.Mapping,tag:q,tagName:K}),P.endIf()}(),()=>S.error(!1,{discrError:_.DiscrError.Tag,tag:q,tagName:K})),S.ok(Q)}}},22145:($e,j)=>{"use strict";var g;Object.defineProperty(j,"__esModule",{value:!0}),j.DiscrError=void 0,(g=j.DiscrError||(j.DiscrError={})).Tag="tag",g.Mapping="mapping"},98496:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(11867),_=E(64023),B=E(68261),H=E(79745),b=E(54458),k=E(77616),S=E(23463),P=E(3462),R=[H.default,g.default,_.default,(0,B.default)(!0),S.default,P.metadataVocabulary,P.contentVocabulary,b.default,k.default];j.default=R},61281:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.dynamicAnchor=void 0;const g=E(1038),_=E(23432),B=E(97692),H=E(84862),b={keyword:"$dynamicAnchor",schemaType:"string",code:P=>k(P,P.schema)};function k(P,R){const{gen:O,it:A}=P;A.schemaEnv.root.dynamicAnchors[R]=!0;const V=g._`${_.default.dynamicAnchors}${(0,g.getProperty)(R)}`,U="#"===A.errSchemaPath?A.validateName:function S(P){const{schemaEnv:R,schema:O,self:A}=P.it,{root:V,baseId:U,localRefs:K,meta:Q}=R.root,{schemaId:q}=A.opts,Y=new B.SchemaEnv({schema:O,schemaId:q,root:V,baseId:U,localRefs:K,meta:Q});return B.compileSchema.call(A,Y),(0,H.getValidate)(P,Y)}(P);O.if(g._`!${V}`,()=>O.assign(V,U))}j.dynamicAnchor=k,j.default=b},35207:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.dynamicRef=void 0;const g=E(1038),_=E(23432),B=E(84862),H={keyword:"$dynamicRef",schemaType:"string",code:k=>b(k,k.schema)};function b(k,S){const{gen:P,keyword:R,it:O}=k;if("#"!==S[0])throw new Error(`"${R}" only supports hash fragment reference`);const A=S.slice(1);if(O.allErrors)V();else{const K=P.let("valid",!1);V(K),k.ok(K)}function V(K){if(O.schemaEnv.root.dynamicAnchors[A]){const Q=P.let("_v",g._`${_.default.dynamicAnchors}${(0,g.getProperty)(A)}`);P.if(Q,U(Q,K),U(O.validateName,K))}else U(O.validateName,K)()}function U(K,Q){return Q?()=>P.block(()=>{(0,B.callRef)(k,K),P.let(Q,!0)}):()=>(0,B.callRef)(k,K)}}j.dynamicRef=b,j.default=H},79745:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(61281),_=E(35207),B=E(34028),H=E(65684);j.default=[g.default,_.default,B.default,H.default]},34028:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(61281),_=E(27006);j.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(H){H.schema?(0,g.dynamicAnchor)(H,""):(0,_.checkStrictMode)(H.it,"$recursiveAnchor: false is ignored")}}},65684:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(35207);j.default={keyword:"$recursiveRef",schemaType:"string",code:B=>(0,g.dynamicRef)(B,B.schema)}},98140:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038);j.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:H})=>g.str`must match format "${H}"`,params:({schemaCode:H})=>g._`{format: ${H}}`},code(H,b){const{gen:k,data:S,$data:P,schema:R,schemaCode:O,it:A}=H,{opts:V,errSchemaPath:U,schemaEnv:K,self:Q}=A;V.validateFormats&&(P?function q(){const W=k.scopeValue("formats",{ref:Q.formats,code:V.code.formats}),re=k.const("fDef",g._`${W}[${O}]`),ie=k.let("fType"),ae=k.let("format");k.if(g._`typeof ${re} == "object" && !(${re} instanceof RegExp)`,()=>k.assign(ie,g._`${re}.type || "string"`).assign(ae,g._`${re}.validate`),()=>k.assign(ie,g._`"string"`).assign(ae,re)),H.fail$data((0,g.or)(function ue(){return!1===V.strictSchema?g.nil:g._`${O} && !${ae}`}(),function ce(){const pe=K.$async?g._`(${re}.async ? await ${ae}(${S}) : ${ae}(${S}))`:g._`${ae}(${S})`,ve=g._`(typeof ${ae} == "function" ? ${pe} : ${ae}.test(${S}))`;return g._`${ae} && ${ae} !== true && ${ie} === ${b} && !${ve}`}()))}():function Y(){const W=Q.formats[R];if(!W)return void function ue(){if(!1!==V.strictSchema)throw new Error(ve());function ve(){return`unknown format "${R}" ignored in schema at path "${U}"`}Q.logger.warn(ve())}();if(!0===W)return;const[re,ie,ae]=function ce(ve){const De=ve instanceof RegExp?(0,g.regexpCode)(ve):V.code.formats?g._`${V.code.formats}${(0,g.getProperty)(R)}`:void 0,C=k.scopeValue("formats",{key:R,ref:ve,code:De});return"object"!=typeof ve||ve instanceof RegExp?["string",ve,C]:[ve.type||"string",ve.validate,g._`${C}.validate`]}(W);re===b&&H.pass(function pe(){if("object"==typeof W&&!(W instanceof RegExp)&&W.async){if(!K.$async)throw new Error("async format in sync schema");return g._`await ${ae}(${S})`}return"function"==typeof ie?g._`${ae}(${S})`:g._`${ae}.test(${S})`}())}())}}},23463:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const _=[E(98140).default];j.default=_},3462:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.contentVocabulary=j.metadataVocabulary=void 0,j.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],j.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(53037),_=E(85164),B=E(22705);j.default=[g.default,_.default,B.default]},77616:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(40425),_=E(89826);j.default=[g.default,_.default]},89826:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(27006);j.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:b}})=>g.str`must NOT have more than ${b} items`,params:({params:{len:b}})=>g._`{limit: ${b}}`},code(b){const{gen:k,schema:S,data:P,it:R}=b,O=R.items||0;if(!0===O)return;const A=k.const("len",g._`${P}.length`);if(!1===S)b.setParams({len:O}),b.fail(g._`${A} > ${O}`);else if("object"==typeof S&&!(0,_.alwaysValidSchema)(R,S)){const U=k.var("valid",g._`${A} <= ${O}`);k.if((0,g.not)(U),()=>function V(U,K){k.forRange("i",K,A,Q=>{b.subschema({keyword:"unevaluatedItems",dataProp:Q,dataPropType:_.Type.Num},U),R.allErrors||k.if((0,g.not)(U),()=>k.break())})}(U,O)),b.ok(U)}R.items=!0}}},40425:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(27006),B=E(23432);j.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:k})=>g._`{unevaluatedProperty: ${k.unevaluatedProperty}}`},code(k){const{gen:S,schema:P,data:R,errsCount:O,it:A}=k;if(!O)throw new Error("ajv implementation error");const{allErrors:V,props:U}=A;function K(Y){if(!1===P)return k.setParams({unevaluatedProperty:Y}),k.error(),void(V||S.break());if(!(0,_.alwaysValidSchema)(A,P)){const W=S.name("valid");k.subschema({keyword:"unevaluatedProperties",dataProp:Y,dataPropType:_.Type.Str},W),V||S.if((0,g.not)(W),()=>S.break())}}U instanceof g.Name?S.if(g._`${U} !== true`,()=>S.forIn("key",R,Y=>S.if(function Q(Y,W){return g._`!${Y} || !${Y}[${W}]`}(U,Y),()=>K(Y)))):!0!==U&&S.forIn("key",R,Y=>void 0===U?K(Y):S.if(function q(Y,W){const re=[];for(const ie in Y)!0===Y[ie]&&re.push(g._`${W} !== ${ie}`);return(0,g.and)(...re)}(U,Y),()=>K(Y))),A.props=!0,k.ok(g._`${O} === ${B.default.errors}`)}}},90796:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(27006),B=E(92281);j.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:k})=>g._`{allowedValue: ${k}}`},code(k){const{gen:S,data:P,$data:R,schemaCode:O,schema:A}=k;R||A&&"object"==typeof A?k.fail$data(g._`!${(0,_.useFunc)(S,B.default)}(${P}, ${O})`):k.fail(g._`${A} !== ${P}`)}}},53037:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(68032);j.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:g.error,code:B=>(0,g.validatePropertyDeps)(B)}},65266:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(27006),B=E(92281);j.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:k})=>g._`{allowedValues: ${k}}`},code(k){const{gen:S,data:P,$data:R,schema:O,schemaCode:A,it:V}=k;if(!R&&0===O.length)throw new Error("enum must have non-empty array");let K;const Q=()=>K??(K=(0,_.useFunc)(S,B.default));let q;if(O.length>=V.opts.loopEnum||R)q=S.let("valid"),k.block$data(q,function Y(){S.assign(q,!1),S.forOf("v",A,re=>S.if(g._`${Q()}(${P}, ${re})`,()=>S.assign(q,!0).break()))});else{if(!Array.isArray(O))throw new Error("ajv implementation error");const re=S.const("vSchema",A);q=(0,g.or)(...O.map((ie,ae)=>function W(re,ie){const ae=O[ie];return"object"==typeof ae&&null!==ae?g._`${Q()}(${P}, ${re}[${ie}])`:g._`${P} === ${ae}`}(re,ae)))}k.pass(q)}}},64023:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(78665),_=E(30554),B=E(13972),H=E(68753),b=E(99169),k=E(56454),S=E(85962),P=E(16598),R=E(90796),O=E(65266);j.default=[g.default,_.default,B.default,H.default,b.default,k.default,S.default,P.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},R.default,O.default]},22705:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(27006);j.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:B,parentSchema:H,it:b}){void 0===H.contains&&(0,g.checkStrictMode)(b,`"${B}" without "contains" is ignored`)}}},85962:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038);j.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:b})=>g.str`must NOT have ${"maxItems"===H?"more":"fewer"} than ${b} items`,params:({schemaCode:H})=>g._`{limit: ${H}}`},code(H){const{keyword:b,data:k,schemaCode:S}=H;H.fail$data(g._`${k}.length ${"maxItems"===b?g.operators.GT:g.operators.LT} ${S}`)}}},13972:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=E(27006),B=E(26488);j.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:k,schemaCode:S})=>g.str`must NOT have ${"maxLength"===k?"more":"fewer"} than ${S} characters`,params:({schemaCode:k})=>g._`{limit: ${k}}`},code(k){const{keyword:S,data:P,schemaCode:R,it:O}=k,A="maxLength"===S?g.operators.GT:g.operators.LT,V=!1===O.opts.unicode?g._`${P}.length`:g._`${(0,_.useFunc)(k.gen,B.default)}(${P})`;k.fail$data(g._`${V} ${A} ${R}`)}}},78665:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),_=g.operators,B={maximum:{okStr:"<=",ok:_.LTE,fail:_.GT},minimum:{okStr:">=",ok:_.GTE,fail:_.LT},exclusiveMaximum:{okStr:"<",ok:_.LT,fail:_.GTE},exclusiveMinimum:{okStr:">",ok:_.GT,fail:_.LTE}},H={message:({keyword:k,schemaCode:S})=>g.str`must be ${B[k].okStr} ${S}`,params:({keyword:k,schemaCode:S})=>g._`{comparison: ${B[k].okStr}, limit: ${S}}`},b={keyword:Object.keys(B),type:"number",schemaType:"number",$data:!0,error:H,code(k){const{keyword:S,data:P,schemaCode:R}=k;k.fail$data(g._`${P} ${B[S].fail} ${R} || isNaN(${P})`)}};j.default=b},99169:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038);j.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:b})=>g.str`must NOT have ${"maxProperties"===H?"more":"fewer"} than ${b} properties`,params:({schemaCode:H})=>g._`{limit: ${H}}`},code(H){const{keyword:b,data:k,schemaCode:S}=H;H.fail$data(g._`Object.keys(${k}).length ${"maxProperties"===b?g.operators.GT:g.operators.LT} ${S}`)}}},30554:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038);j.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:H})=>g.str`must be multiple of ${H}`,params:({schemaCode:H})=>g._`{multipleOf: ${H}}`},code(H){const{gen:b,data:k,schemaCode:S,it:P}=H,R=P.opts.multipleOfPrecision,O=b.let("res"),A=R?g._`Math.abs(Math.round(${O}) - ${O}) > 1e-${R}`:g._`${O} !== parseInt(${O})`;H.fail$data(g._`(${S} === 0 || (${O} = ${k}/${S}, ${A}))`)}}},68753:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(42406),_=E(1038);j.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:b})=>_.str`must match pattern "${b}"`,params:({schemaCode:b})=>_._`{pattern: ${b}}`},code(b){const{data:k,$data:S,schema:P,schemaCode:R,it:O}=b,V=S?_._`(new RegExp(${R}, ${O.opts.unicodeRegExp?"u":""}))`:(0,g.usePattern)(b,P);b.fail$data(_._`!${V}.test(${k})`)}}},56454:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(42406),_=E(1038),B=E(27006);j.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:k}})=>_.str`must have required property '${k}'`,params:({params:{missingProperty:k}})=>_._`{missingProperty: ${k}}`},code(k){const{gen:S,schema:P,schemaCode:R,data:O,$data:A,it:V}=k,{opts:U}=V;if(!A&&0===P.length)return;const K=P.length>=U.loopRequired;if(V.allErrors?function Q(){if(K||A)k.block$data(_.nil,Y);else for(const re of P)(0,g.checkReportMissingProp)(k,re)}():function q(){const re=S.let("missing");if(K||A){const ie=S.let("valid",!0);k.block$data(ie,()=>function W(re,ie){k.setParams({missingProperty:re}),S.forOf(re,R,()=>{S.assign(ie,(0,g.propertyInData)(S,O,re,U.ownProperties)),S.if((0,_.not)(ie),()=>{k.error(),S.break()})},_.nil)}(re,ie)),k.ok(ie)}else S.if((0,g.checkMissingProp)(k,P,re)),(0,g.reportMissingProp)(k,re),S.else()}(),U.strictRequired){const re=k.parentSchema.properties,{definedProperties:ie}=k.it;for(const ae of P)void 0!==re?.[ae]||ie.has(ae)||(0,B.checkStrictMode)(V,`required property "${ae}" is not defined at "${V.schemaEnv.baseId+V.errSchemaPath}" (strictRequired)`,V.opts.strictRequired)}function Y(){S.forOf("prop",R,re=>{k.setParams({missingProperty:re}),S.if((0,g.noPropertyInData)(S,O,re,U.ownProperties),()=>k.error())})}}}},16598:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(55999),_=E(1038),B=E(27006),H=E(92281);j.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:S,j:P}})=>_.str`must NOT have duplicate items (items ## ${P} and ${S} are identical)`,params:({params:{i:S,j:P}})=>_._`{i: ${S}, j: ${P}}`},code(S){const{gen:P,data:R,$data:O,schema:A,parentSchema:V,schemaCode:U,it:K}=S;if(!O&&!A)return;const Q=P.let("valid"),q=V.items?(0,g.getSchemaTypes)(V.items):[];function re(ae,ue){const ce=P.name("item"),pe=(0,g.checkDataTypes)(q,ce,K.opts.strictNumbers,g.DataType.Wrong),ve=P.const("indices",_._`{}`);P.for(_._`;${ae}--;`,()=>{P.let(ce,_._`${R}[${ae}]`),P.if(pe,_._`continue`),q.length>1&&P.if(_._`typeof ${ce} == "string"`,_._`${ce} += "_"`),P.if(_._`typeof ${ve}[${ce}] == "number"`,()=>{P.assign(ue,_._`${ve}[${ce}]`),S.error(),P.assign(Q,!1).break()}).code(_._`${ve}[${ce}] = ${ae}`)})}function ie(ae,ue){const ce=(0,B.useFunc)(P,H.default),pe=P.name("outer");P.label(pe).for(_._`;${ae}--;`,()=>P.for(_._`${ue} = ${ae}; ${ue}--;`,()=>P.if(_._`${ce}(${R}[${ae}], ${R}[${ue}])`,()=>{S.error(),P.assign(Q,!1).break(pe)})))}S.block$data(Q,function Y(){const ae=P.let("i",_._`${R}.length`),ue=P.let("j");S.setParams({i:ae,j:ue}),P.assign(Q,!0),P.if(_._`${ae} > 1`,()=>(function W(){return q.length>0&&!q.some(ae=>"object"===ae||"array"===ae)}()?re:ie)(ae,ue))},_._`${U} === false`),S.ok(Q)}}},68316:($e,j,E)=>{"use strict";const g=E(13981),_=E(22020),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function W(F){return+F!=F&&(F=0),S.alloc(+F)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function k(F){if(F>H)throw new RangeError('The value "'+F+'" is invalid for option "size"');const D=new Uint8Array(F);return Object.setPrototypeOf(D,S.prototype),D}function S(F,D,M){if("number"==typeof F){if("string"==typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return A(F)}return P(F,D,M)}function P(F,D,M){if("string"==typeof F)return function V(F,D){if(("string"!=typeof D||""===D)&&(D="utf8"),!S.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const M=0|re(F,D);let G=k(M);const fe=G.write(F,D);return fe!==M&&(G=G.slice(0,fe)),G}(F,D);if(ArrayBuffer.isView(F))return function K(F){if(Ve(F,Uint8Array)){const D=new Uint8Array(F);return Q(D.buffer,D.byteOffset,D.byteLength)}return U(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ve(F,ArrayBuffer)||F&&Ve(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ve(F,SharedArrayBuffer)||F&&Ve(F.buffer,SharedArrayBuffer)))return Q(F,D,M);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const G=F.valueOf&&F.valueOf();if(null!=G&&G!==F)return S.from(G,D,M);const fe=function q(F){if(S.isBuffer(F)){const D=0|Y(F.length),M=k(D);return 0===M.length||F.copy(M,0,0,D),M}return void 0!==F.length?"number"!=typeof F.length||xt(F.length)?k(0):U(F):"Buffer"===F.type&&Array.isArray(F.data)?U(F.data):void 0}(F);if(fe)return fe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return S.from(F[Symbol.toPrimitive]("string"),D,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function R(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function A(F){return R(F),k(F<0?0:0|Y(F))}function U(F){const D=F.length<0?0:0|Y(F.length),M=k(D);for(let G=0;G<D;G+=1)M[G]=255&F[G];return M}function Q(F,D,M){if(D<0||F.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<D+(M||0))throw new RangeError('"length" is outside of buffer bounds');let G;return G=void 0===D&&void 0===M?new Uint8Array(F):void 0===M?new Uint8Array(F,D):new Uint8Array(F,D,M),Object.setPrototypeOf(G,S.prototype),G}function Y(F){if(F>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|F}function re(F,D){if(S.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ve(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const M=F.length,G=arguments.length>2&&!0===arguments[2];if(!G&&0===M)return 0;let fe=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return te(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Ie(F).length;default:if(fe)return G?-1:te(F).length;D=(""+D).toLowerCase(),fe=!0}}function ie(F,D,M){let G=!1;if((void 0===D||D<0)&&(D=0),D>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(D>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return x(this,D,M);case"utf8":case"utf-8":return h(this,D,M);case"ascii":return I(this,D,M);case"latin1":case"binary":return L(this,D,M);case"base64":return d(this,D,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,D,M);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),G=!0}}function ae(F,D,M){const G=F[D];F[D]=F[M],F[M]=G}function ue(F,D,M,G,fe){if(0===F.length)return-1;if("string"==typeof M?(G=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),xt(M=+M)&&(M=fe?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(fe)return-1;M=F.length-1}else if(M<0){if(!fe)return-1;M=0}if("string"==typeof D&&(D=S.from(D,G)),S.isBuffer(D))return 0===D.length?-1:ce(F,D,M,G,fe);if("number"==typeof D)return D&=255,"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(F,D,M):Uint8Array.prototype.lastIndexOf.call(F,D,M):ce(F,[D],M,G,fe);throw new TypeError("val must be string, number or Buffer")}function ce(F,D,M,G,fe){let vt,Se=1,Ae=F.length,rt=D.length;if(void 0!==G&&("ucs2"===(G=String(G).toLowerCase())||"ucs-2"===G||"utf16le"===G||"utf-16le"===G)){if(F.length<2||D.length<2)return-1;Se=2,Ae/=2,rt/=2,M/=2}function Ht(Ot,qt){return 1===Se?Ot[qt]:Ot.readUInt16BE(qt*Se)}if(fe){let Ot=-1;for(vt=M;vt<Ae;vt++)if(Ht(F,vt)===Ht(D,-1===Ot?0:vt-Ot)){if(-1===Ot&&(Ot=vt),vt-Ot+1===rt)return Ot*Se}else-1!==Ot&&(vt-=vt-Ot),Ot=-1}else for(M+rt>Ae&&(M=Ae-rt),vt=M;vt>=0;vt--){let Ot=!0;for(let qt=0;qt<rt;qt++)if(Ht(F,vt+qt)!==Ht(D,qt)){Ot=!1;break}if(Ot)return vt}return-1}function pe(F,D,M,G){M=Number(M)||0;const fe=F.length-M;G?(G=Number(G))>fe&&(G=fe):G=fe;const Se=D.length;let Ae;for(G>Se/2&&(G=Se/2),Ae=0;Ae<G;++Ae){const rt=parseInt(D.substr(2*Ae,2),16);if(xt(rt))return Ae;F[M+Ae]=rt}return Ae}function ve(F,D,M,G){return He(te(D,F.length-M),F,M,G)}function De(F,D,M,G){return He(function de(F){const D=[];for(let M=0;M<F.length;++M)D.push(255&F.charCodeAt(M));return D}(D),F,M,G)}function C(F,D,M,G){return He(Ie(D),F,M,G)}function s(F,D,M,G){return He(function _e(F,D){let M,G,fe;const Se=[];for(let Ae=0;Ae<F.length&&!((D-=2)<0);++Ae)M=F.charCodeAt(Ae),G=M>>8,fe=M%256,Se.push(fe),Se.push(G);return Se}(D,F.length-M),F,M,G)}function d(F,D,M){return g.fromByteArray(0===D&&M===F.length?F:F.slice(D,M))}function h(F,D,M){M=Math.min(F.length,M);const G=[];let fe=D;for(;fe<M;){const Se=F[fe];let Ae=null,rt=Se>239?4:Se>223?3:Se>191?2:1;if(fe+rt<=M){let Ht,vt,Ot,qt;switch(rt){case 1:Se<128&&(Ae=Se);break;case 2:Ht=F[fe+1],128==(192&Ht)&&(qt=(31&Se)<<6|63&Ht,qt>127&&(Ae=qt));break;case 3:Ht=F[fe+1],vt=F[fe+2],128==(192&Ht)&&128==(192&vt)&&(qt=(15&Se)<<12|(63&Ht)<<6|63&vt,qt>2047&&(qt<55296||qt>57343)&&(Ae=qt));break;case 4:Ht=F[fe+1],vt=F[fe+2],Ot=F[fe+3],128==(192&Ht)&&128==(192&vt)&&128==(192&Ot)&&(qt=(15&Se)<<18|(63&Ht)<<12|(63&vt)<<6|63&Ot,qt>65535&&qt<1114112&&(Ae=qt))}}null===Ae?(Ae=65533,rt=1):Ae>65535&&(Ae-=65536,G.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),G.push(Ae),fe+=rt}return function w(F){const D=F.length;if(D<=f)return String.fromCharCode.apply(String,F);let M="",G=0;for(;G<D;)M+=String.fromCharCode.apply(String,F.slice(G,G+=f));return M}(G)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function b(){try{const F=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(F,D),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(F,D,M){return P(F,D,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(F,D,M){return function O(F,D,M){return R(F),F<=0?k(F):void 0!==D?"string"==typeof M?k(F).fill(D,M):k(F).fill(D):k(F)}(F,D,M)},S.allocUnsafe=function(F){return A(F)},S.allocUnsafeSlow=function(F){return A(F)},S.isBuffer=function(D){return null!=D&&!0===D._isBuffer&&D!==S.prototype},S.compare=function(D,M){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),Ve(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(D)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===M)return 0;let G=D.length,fe=M.length;for(let Se=0,Ae=Math.min(G,fe);Se<Ae;++Se)if(D[Se]!==M[Se]){G=D[Se],fe=M[Se];break}return G<fe?-1:fe<G?1:0},S.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(D,M){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return S.alloc(0);let G;if(void 0===M)for(M=0,G=0;G<D.length;++G)M+=D[G].length;const fe=S.allocUnsafe(M);let Se=0;for(G=0;G<D.length;++G){let Ae=D[G];if(Ve(Ae,Uint8Array))Se+Ae.length>fe.length?(S.isBuffer(Ae)||(Ae=S.from(Ae)),Ae.copy(fe,Se)):Uint8Array.prototype.set.call(fe,Ae,Se);else{if(!S.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(fe,Se)}Se+=Ae.length}return fe},S.byteLength=re,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<D;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<D;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<D;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const D=this.length;return 0===D?"":0===arguments.length?h(this,0,D):ie.apply(this,arguments)},S.prototype.equals=function(D){if(!S.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===S.compare(this,D)},S.prototype.inspect=function(){let D="";const M=j.INSPECT_MAX_BYTES;return D=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(D+=" ... "),"<Buffer "+D+">"},B&&(S.prototype[B]=S.prototype.inspect),S.prototype.compare=function(D,M,G,fe,Se){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),!S.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(void 0===M&&(M=0),void 0===G&&(G=D?D.length:0),void 0===fe&&(fe=0),void 0===Se&&(Se=this.length),M<0||G>D.length||fe<0||Se>this.length)throw new RangeError("out of range index");if(fe>=Se&&M>=G)return 0;if(fe>=Se)return-1;if(M>=G)return 1;if(this===D)return 0;let Ae=(Se>>>=0)-(fe>>>=0),rt=(G>>>=0)-(M>>>=0);const Ht=Math.min(Ae,rt),vt=this.slice(fe,Se),Ot=D.slice(M,G);for(let qt=0;qt<Ht;++qt)if(vt[qt]!==Ot[qt]){Ae=vt[qt],rt=Ot[qt];break}return Ae<rt?-1:rt<Ae?1:0},S.prototype.includes=function(D,M,G){return-1!==this.indexOf(D,M,G)},S.prototype.indexOf=function(D,M,G){return ue(this,D,M,G,!0)},S.prototype.lastIndexOf=function(D,M,G){return ue(this,D,M,G,!1)},S.prototype.write=function(D,M,G,fe){if(void 0===M)fe="utf8",G=this.length,M=0;else if(void 0===G&&"string"==typeof M)fe=M,G=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(G)?(G>>>=0,void 0===fe&&(fe="utf8")):(fe=G,G=void 0)}const Se=this.length-M;if((void 0===G||G>Se)&&(G=Se),D.length>0&&(G<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ae=!1;for(;;)switch(fe){case"hex":return pe(this,D,M,G);case"utf8":case"utf-8":return ve(this,D,M,G);case"ascii":case"latin1":case"binary":return De(this,D,M,G);case"base64":return C(this,D,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,D,M,G);default:if(Ae)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ae=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const f=4096;function I(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(127&F[fe]);return G}function L(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(F[fe]);return G}function x(F,D,M){const G=F.length;(!D||D<0)&&(D=0),(!M||M<0||M>G)&&(M=G);let fe="";for(let Se=D;Se<M;++Se)fe+=Ne[F[Se]];return fe}function a(F,D,M){const G=F.slice(D,M);let fe="";for(let Se=0;Se<G.length-1;Se+=2)fe+=String.fromCharCode(G[Se]+256*G[Se+1]);return fe}function v(F,D,M){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+D>M)throw new RangeError("Trying to access beyond buffer length")}function Z(F,D,M,G,fe,Se){if(!S.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>fe||D<Se)throw new RangeError('"value" argument is out of bounds');if(M+G>F.length)throw new RangeError("Index out of range")}function z(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,M}function ee(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M+7]=Se,Se>>=8,F[M+6]=Se,Se>>=8,F[M+5]=Se,Se>>=8,F[M+4]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M+3]=Ae,Ae>>=8,F[M+2]=Ae,Ae>>=8,F[M+1]=Ae,Ae>>=8,F[M]=Ae,M+8}function le(F,D,M,G,fe,Se){if(M+G>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function we(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,4),_.write(F,D,M,G,23,4),M+4}function Me(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,8),_.write(F,D,M,G,52,8),M+8}S.prototype.slice=function(D,M){const G=this.length;(D=~~D)<0?(D+=G)<0&&(D=0):D>G&&(D=G),(M=void 0===M?G:~~M)<0?(M+=G)<0&&(M=0):M>G&&(M=G),M<D&&(M=D);const fe=this.subarray(D,M);return Object.setPrototypeOf(fe,S.prototype),fe},S.prototype.readUintLE=S.prototype.readUIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return fe},S.prototype.readUintBE=S.prototype.readUIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D+--M],Se=1;for(;M>0&&(Se*=256);)fe+=this[D+--M]*Se;return fe},S.prototype.readUint8=S.prototype.readUInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),this[D]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]|this[D+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]<<8|this[D+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},S.prototype.readBigUInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M+256*this[++D]+65536*this[++D]+this[++D]*2**24,Se=this[++D]+256*this[++D]+65536*this[++D]+G*2**24;return BigInt(fe)+(BigInt(Se)<<BigInt(32))}),S.prototype.readBigUInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M*2**24+65536*this[++D]+256*this[++D]+this[++D],Se=this[++D]*2**24+65536*this[++D]+256*this[++D]+G;return(BigInt(fe)<<BigInt(32))+BigInt(Se)}),S.prototype.readIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return Se*=128,fe>=Se&&(fe-=Math.pow(2,8*M)),fe},S.prototype.readIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=M,Se=1,Ae=this[D+--fe];for(;fe>0&&(Se*=256);)Ae+=this[D+--fe]*Se;return Se*=128,Ae>=Se&&(Ae-=Math.pow(2,8*M)),Ae},S.prototype.readInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},S.prototype.readInt16LE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D]|this[D+1]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt16BE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D+1]|this[D]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},S.prototype.readInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},S.prototype.readBigInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];return(void 0===M||void 0===G)&&be(D,this.length-8),(BigInt(this[D+4]+256*this[D+5]+65536*this[D+6]+(G<<24))<<BigInt(32))+BigInt(M+256*this[++D]+65536*this[++D]+this[++D]*2**24)}),S.prototype.readBigInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=(M<<24)+65536*this[++D]+256*this[++D]+this[++D];return(BigInt(fe)<<BigInt(32))+BigInt(this[++D]*2**24+65536*this[++D]+256*this[++D]+G)}),S.prototype.readFloatLE=function(D,M){return D>>>=0,M||v(D,4,this.length),_.read(this,D,!0,23,4)},S.prototype.readFloatBE=function(D,M){return D>>>=0,M||v(D,4,this.length),_.read(this,D,!1,23,4)},S.prototype.readDoubleLE=function(D,M){return D>>>=0,M||v(D,8,this.length),_.read(this,D,!0,52,8)},S.prototype.readDoubleBE=function(D,M){return D>>>=0,M||v(D,8,this.length),_.read(this,D,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=1,Ae=0;for(this[M]=255&D;++Ae<G&&(Se*=256);)this[M+Ae]=D/Se&255;return M+G},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=G-1,Ae=1;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)this[M+Se]=D/Ae&255;return M+G},S.prototype.writeUint8=S.prototype.writeUInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,255,0),this[M]=255&D,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigUInt64LE=ke(function(D,M=0){return z(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ke(function(D,M=0){return ee(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Ht=Math.pow(2,8*G-1);Z(this,D,M,G,Ht-1,-Ht)}let Se=0,Ae=1,rt=0;for(this[M]=255&D;++Se<G&&(Ae*=256);)D<0&&0===rt&&0!==this[M+Se-1]&&(rt=1),this[M+Se]=(D/Ae|0)-rt&255;return M+G},S.prototype.writeIntBE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Ht=Math.pow(2,8*G-1);Z(this,D,M,G,Ht-1,-Ht)}let Se=G-1,Ae=1,rt=0;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)D<0&&0===rt&&0!==this[M+Se+1]&&(rt=1),this[M+Se]=(D/Ae|0)-rt&255;return M+G},S.prototype.writeInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,127,-128),D<0&&(D=255+D+1),this[M]=255&D,M+1},S.prototype.writeInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24,M+4},S.prototype.writeInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigInt64LE=ke(function(D,M=0){return z(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ke(function(D,M=0){return ee(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(D,M,G){return we(this,D,M,!0,G)},S.prototype.writeFloatBE=function(D,M,G){return we(this,D,M,!1,G)},S.prototype.writeDoubleLE=function(D,M,G){return Me(this,D,M,!0,G)},S.prototype.writeDoubleBE=function(D,M,G){return Me(this,D,M,!1,G)},S.prototype.copy=function(D,M,G,fe){if(!S.isBuffer(D))throw new TypeError("argument should be a Buffer");if(G||(G=0),!fe&&0!==fe&&(fe=this.length),M>=D.length&&(M=D.length),M||(M=0),fe>0&&fe<G&&(fe=G),fe===G||0===D.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),D.length-M<fe-G&&(fe=D.length-M+G);const Se=fe-G;return this===D&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,G,fe):Uint8Array.prototype.set.call(D,this.subarray(G,fe),M),Se},S.prototype.fill=function(D,M,G,fe){if("string"==typeof D){if("string"==typeof M?(fe=M,M=0,G=this.length):"string"==typeof G&&(fe=G,G=this.length),void 0!==fe&&"string"!=typeof fe)throw new TypeError("encoding must be a string");if("string"==typeof fe&&!S.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(1===D.length){const Ae=D.charCodeAt(0);("utf8"===fe&&Ae<128||"latin1"===fe)&&(D=Ae)}}else"number"==typeof D?D&=255:"boolean"==typeof D&&(D=Number(D));if(M<0||this.length<M||this.length<G)throw new RangeError("Out of range index");if(G<=M)return this;let Se;if(M>>>=0,G=void 0===G?this.length:G>>>0,D||(D=0),"number"==typeof D)for(Se=M;Se<G;++Se)this[Se]=D;else{const Ae=S.isBuffer(D)?D:S.from(D,fe),rt=Ae.length;if(0===rt)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Se=0;Se<G-M;++Se)this[Se+M]=Ae[Se%rt]}return this};const Ge={};function ge(F,D,M){Ge[F]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function me(F){let D="",M=F.length;const G="-"===F[0]?1:0;for(;M>=G+4;M-=3)D=`_${F.slice(M-3,M)}${D}`;return`${F.slice(0,M)}${D}`}function xe(F,D,M,G,fe,Se){if(F>M||F<D){const Ae="bigint"==typeof D?"n":"";let rt;throw rt=Se>3?0===D||D===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(Se+1)}${Ae}`:`>= -(2${Ae} ** ${8*(Se+1)-1}${Ae}) and < 2 ** ${8*(Se+1)-1}${Ae}`:`>= ${D}${Ae} and <= ${M}${Ae}`,new Ge.ERR_OUT_OF_RANGE("value",rt,F)}!function Ue(F,D,M){Ce(D,"offset"),(void 0===F[D]||void 0===F[D+M])&&be(D,F.length-(M+1))}(G,fe,Se)}function Ce(F,D){if("number"!=typeof F)throw new Ge.ERR_INVALID_ARG_TYPE(D,"number",F)}function be(F,D,M){throw Math.floor(F)!==F?(Ce(F,M),new Ge.ERR_OUT_OF_RANGE(M||"offset","an integer",F)):D<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${D}`,F)}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(F,D){return`The "${F}" argument must be of type number. Received type ${typeof D}`},TypeError),ge("ERR_OUT_OF_RANGE",function(F,D,M){let G=`The value of "${F}" is out of range.`,fe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?fe=me(String(M)):"bigint"==typeof M&&(fe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(fe=me(fe)),fe+="n"),G+=` It must be ${D}. Received ${fe}`,G},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function te(F,D){let M;D=D||1/0;const G=F.length;let fe=null;const Se=[];for(let Ae=0;Ae<G;++Ae){if(M=F.charCodeAt(Ae),M>55295&&M<57344){if(!fe){if(M>56319){(D-=3)>-1&&Se.push(239,191,189);continue}if(Ae+1===G){(D-=3)>-1&&Se.push(239,191,189);continue}fe=M;continue}if(M<56320){(D-=3)>-1&&Se.push(239,191,189),fe=M;continue}M=65536+(fe-55296<<10|M-56320)}else fe&&(D-=3)>-1&&Se.push(239,191,189);if(fe=null,M<128){if((D-=1)<0)break;Se.push(M)}else if(M<2048){if((D-=2)<0)break;Se.push(M>>6|192,63&M|128)}else if(M<65536){if((D-=3)<0)break;Se.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;Se.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return Se}function Ie(F){return g.toByteArray(function ne(F){if((F=(F=F.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function He(F,D,M,G){let fe;for(fe=0;fe<G&&!(fe+M>=D.length||fe>=F.length);++fe)D[fe+M]=F[fe];return fe}function Ve(F,D){return F instanceof D||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===D.name}function xt(F){return F!=F}const Ne=function(){const F="0123456789abcdef",D=new Array(256);for(let M=0;M<16;++M){const G=16*M;for(let fe=0;fe<16;++fe)D[G+fe]=F[M]+F[fe]}return D}();function ke(F){return typeof BigInt>"u"?pt:F}function pt(){throw new Error("BigInt not supported")}},14078:$e=>{var j=1e3,E=60*j,g=60*E,_=24*g,B=7*_;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*_;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=_?P(R,O,_,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=_?Math.round(R/_)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},57062:($e,j,E)=>{"use strict";const{SymbolDispose:g}=E(56389),{AbortError:_,codes:B}=E(68154),{isNodeStream:H,isWebStream:b,kControllerErrorFunction:k}=E(32924),S=E(46017),{ERR_INVALID_ARG_TYPE:P}=B;let R;$e.exports.addAbortSignal=function(V,U){if(((A,V)=>{if("object"!=typeof A||!("aborted"in A))throw new P("signal","AbortSignal",A)})(V),!H(U)&&!b(U))throw new P("stream",["ReadableStream","WritableStream","Stream"],U);return $e.exports.addAbortSignalNoValidate(V,U)},$e.exports.addAbortSignalNoValidate=function(A,V){if("object"!=typeof A||!("aborted"in A))return V;const U=H(V)?()=>{V.destroy(new _(void 0,{cause:A.reason}))}:()=>{V[k](new _(void 0,{cause:A.reason}))};if(A.aborted)U();else{R=R||E(13509).addAbortListener;const K=R(A,U);S(V,K[g])}return V}},16630:($e,j,E)=>{"use strict";const{StringPrototypeSlice:g,SymbolIterator:_,TypedArrayPrototypeSet:B,Uint8Array:H}=E(56389),{Buffer:b}=E(68316),{inspect:k}=E(13509);$e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(P){const R={data:P,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}unshift(P){const R={data:P,next:this.head};0===this.length&&(this.tail=R),this.head=R,++this.length}shift(){if(0===this.length)return;const P=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,P}clear(){this.head=this.tail=null,this.length=0}join(P){if(0===this.length)return"";let R=this.head,O=""+R.data;for(;null!==(R=R.next);)O+=P+R.data;return O}concat(P){if(0===this.length)return b.alloc(0);const R=b.allocUnsafe(P>>>0);let O=this.head,A=0;for(;O;)B(R,O.data,A),A+=O.data.length,O=O.next;return R}consume(P,R){const O=this.head.data;if(P<O.length){const A=O.slice(0,P);return this.head.data=O.slice(P),A}return P===O.length?this.shift():R?this._getString(P):this._getBuffer(P)}first(){return this.head.data}*[_](){for(let P=this.head;P;P=P.next)yield P.data}_getString(P){let R="",O=this.head,A=0;do{const V=O.data;if(!(P>V.length)){P===V.length?(R+=V,++A,this.head=O.next?O.next:this.tail=null):(R+=g(V,0,P),this.head=O,O.data=g(V,P));break}R+=V,P-=V.length,++A}while(null!==(O=O.next));return this.length-=A,R}_getBuffer(P){const R=b.allocUnsafe(P),O=P;let A=this.head,V=0;do{const U=A.data;if(!(P>U.length)){P===U.length?(B(R,U,O-P),++V,this.head=A.next?A.next:this.tail=null):(B(R,new H(U.buffer,U.byteOffset,P),O-P),this.head=A,A.data=U.slice(P));break}B(R,U,O-P),P-=U.length,++V}while(null!==(A=A.next));return this.length-=V,R}[Symbol.for("nodejs.util.inspect.custom")](P,R){return k(this,{...R,depth:0,customInspect:!1})}}},373:($e,j,E)=>{"use strict";var g=E(29293).default;const{pipeline:_}=E(67843),B=E(13323),{destroyer:H}=E(96507),{isNodeStream:b,isReadable:k,isWritable:S,isWebStream:P,isTransformStream:R,isWritableStream:O,isReadableStream:A}=E(32924),{AbortError:V,codes:{ERR_INVALID_ARG_VALUE:U,ERR_MISSING_ARGS:K}}=E(68154),Q=E(46017);$e.exports=function(...Y){if(0===Y.length)throw new K("streams");if(1===Y.length)return B.from(Y[0]);const W=[...Y];if("function"==typeof Y[0]&&(Y[0]=B.from(Y[0])),"function"==typeof Y[Y.length-1]){const d=Y.length-1;Y[d]=B.from(Y[d])}for(let d=0;d<Y.length;++d)if(b(Y[d])||P(Y[d])){if(d<Y.length-1&&!(k(Y[d])||A(Y[d])||R(Y[d])))throw new U(`streams[${d}]`,W[d],"must be readable");if(d>0&&!(S(Y[d])||O(Y[d])||R(Y[d])))throw new U(`streams[${d}]`,W[d],"must be writable")}let re,ie,ae,ue,ce;const ve=Y[0],De=_(Y,function pe(d){const h=ue;ue=null,h?h(d):d?ce.destroy(d):!s&&!C&&ce.destroy()}),C=!!(S(ve)||O(ve)||R(ve)),s=!!(k(De)||A(De)||R(De));if(ce=new B({writableObjectMode:!(null==ve||!ve.writableObjectMode),readableObjectMode:!(null==De||!De.readableObjectMode),writable:C,readable:s}),C){if(b(ve))ce._write=function(h,f,w){ve.write(h,f)?w():re=w},ce._final=function(h){ve.end(),ie=h},ve.on("drain",function(){if(re){const h=re;re=null,h()}});else if(P(ve)){const f=(R(ve)?ve.writable:ve).getWriter();ce._write=function(){var w=g(function*(I,L,x){try{yield f.ready,f.write(I).catch(()=>{}),x()}catch(a){x(a)}});return function(I,L,x){return w.apply(this,arguments)}}(),ce._final=function(){var w=g(function*(I){try{yield f.ready,f.close().catch(()=>{}),ie=I}catch(L){I(L)}});return function(I){return w.apply(this,arguments)}}()}const d=R(De)?De.readable:De;Q(d,()=>{if(ie){const h=ie;ie=null,h()}})}if(s)if(b(De))De.on("readable",function(){if(ae){const d=ae;ae=null,d()}}),De.on("end",function(){ce.push(null)}),ce._read=function(){for(;;){const d=De.read();if(null===d)return void(ae=ce._read);if(!ce.push(d))return}};else if(P(De)){const h=(R(De)?De.readable:De).getReader();ce._read=g(function*(){for(;;)try{const{value:f,done:w}=yield h.read();if(!ce.push(f))return;if(w)return void ce.push(null)}catch{return}})}return ce._destroy=function(d,h){!d&&null!==ue&&(d=new V),ae=null,re=null,ie=null,null===ue?h(d):(ue=h,b(De)&&H(De,d))},ce}},96507:($e,j,E)=>{"use strict";const g=E(40573),{aggregateTwoErrors:_,codes:{ERR_MULTIPLE_CALLBACK:B},AbortError:H}=E(68154),{Symbol:b}=E(56389),{kIsDestroyed:k,isDestroyed:S,isFinished:P,isServerRequest:R}=E(32924),O=b("kDestroy"),A=b("kConstruct");function V(C,s,d){C&&(s&&!s.errored&&(s.errored=C),d&&!d.errored&&(d.errored=C))}function K(C,s,d){let h=!1;function f(w){if(h)return;h=!0;const I=C._readableState,L=C._writableState;V(w,L,I),L&&(L.closed=!0),I&&(I.closed=!0),"function"==typeof d&&d(w),w?g.nextTick(Q,C,w):g.nextTick(q,C)}try{C._destroy(s||null,f)}catch(w){f(w)}}function Q(C,s){Y(C,s),q(C)}function q(C){const s=C._readableState,d=C._writableState;d&&(d.closeEmitted=!0),s&&(s.closeEmitted=!0),(null!=d&&d.emitClose||null!=s&&s.emitClose)&&C.emit("close")}function Y(C,s){const d=C._readableState,h=C._writableState;null!=h&&h.errorEmitted||null!=d&&d.errorEmitted||(h&&(h.errorEmitted=!0),d&&(d.errorEmitted=!0),C.emit("error",s))}function re(C,s,d){const h=C._readableState,f=C._writableState;if(null!=f&&f.destroyed||null!=h&&h.destroyed)return this;null!=h&&h.autoDestroy||null!=f&&f.autoDestroy?C.destroy(s):s&&(f&&!f.errored&&(f.errored=s),h&&!h.errored&&(h.errored=s),d?g.nextTick(Y,C,s):Y(C,s))}function ae(C){let s=!1;function d(h){if(s)return void re(C,h??new B);s=!0;const f=C._readableState,w=C._writableState,I=w||f;f&&(f.constructed=!0),w&&(w.constructed=!0),I.destroyed?C.emit(O,h):h?re(C,h,!0):g.nextTick(ue,C)}try{C._construct(h=>{g.nextTick(d,h)})}catch(h){g.nextTick(d,h)}}function ue(C){C.emit(A)}function ce(C){return C?.setHeader&&"function"==typeof C.abort}function pe(C){C.emit("close")}function ve(C,s){C.emit("error",s),g.nextTick(pe,C)}$e.exports={construct:function ie(C,s){if("function"!=typeof C._construct)return;const d=C._readableState,h=C._writableState;d&&(d.constructed=!1),h&&(h.constructed=!1),C.once(A,s),!(C.listenerCount(A)>1)&&g.nextTick(ae,C)},destroyer:function De(C,s){!C||S(C)||(!s&&!P(C)&&(s=new H),R(C)?(C.socket=null,C.destroy(s)):ce(C)?C.abort():ce(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(s):"function"==typeof C.close?C.close():s?g.nextTick(ve,C,s):g.nextTick(pe,C),C.destroyed||(C[k]=!0))},destroy:function U(C,s){const d=this._readableState,h=this._writableState,f=h||d;return null!=h&&h.destroyed||null!=d&&d.destroyed?("function"==typeof s&&s(),this):(V(C,h,d),h&&(h.destroyed=!0),d&&(d.destroyed=!0),f.constructed?K(this,C,s):this.once(O,function(w){K(this,_(w,C),s)}),this)},undestroy:function W(){const C=this._readableState,s=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),s&&(s.constructed=!0,s.destroyed=!1,s.closed=!1,s.closeEmitted=!1,s.errored=null,s.errorEmitted=!1,s.finalCalled=!1,s.prefinished=!1,s.ended=!1===s.writable,s.ending=!1===s.writable,s.finished=!1===s.writable)},errorOrDestroy:re}},13323:($e,j,E)=>{"use strict";const{ObjectDefineProperties:g,ObjectGetOwnPropertyDescriptor:_,ObjectKeys:B,ObjectSetPrototypeOf:H}=E(56389);$e.exports=S;const b=E(84553),k=E(30009);H(S.prototype,b.prototype),H(S,b);{const A=B(k.prototype);for(let V=0;V<A.length;V++){const U=A[V];S.prototype[U]||(S.prototype[U]=k.prototype[U])}}function S(A){if(!(this instanceof S))return new S(A);b.call(this,A),k.call(this,A),A?(this.allowHalfOpen=!1!==A.allowHalfOpen,!1===A.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===A.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let P,O;function R(){return void 0===P&&(P={}),P}g(S.prototype,{writable:{__proto__:null,..._(k.prototype,"writable")},writableHighWaterMark:{__proto__:null,..._(k.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,..._(k.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,..._(k.prototype,"writableBuffer")},writableLength:{__proto__:null,..._(k.prototype,"writableLength")},writableFinished:{__proto__:null,..._(k.prototype,"writableFinished")},writableCorked:{__proto__:null,..._(k.prototype,"writableCorked")},writableEnded:{__proto__:null,..._(k.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,..._(k.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(A){this._readableState&&this._writableState&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}}),S.fromWeb=function(A,V){return R().newStreamDuplexFromReadableWritablePair(A,V)},S.toWeb=function(A){return R().newReadableWritablePairFromDuplex(A)},S.from=function(A){return O||(O=E(44425)),O(A,"body")}},44425:($e,j,E)=>{var g=E(29293).default,_=E(53344).default,B=E(42958).default;const H=E(40573),b=E(68316),{isReadable:k,isWritable:S,isIterable:P,isNodeStream:R,isReadableNodeStream:O,isWritableNodeStream:A,isDuplexNodeStream:V,isReadableStream:U,isWritableStream:K}=E(32924),Q=E(46017),{AbortError:q,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_INVALID_RETURN_VALUE:W}}=E(68154),{destroyer:re}=E(96507),ie=E(13323),ae=E(84553),ue=E(30009),{createDeferredPromise:ce}=E(13509),pe=E(45737),ve=globalThis.Blob||b.Blob,De=typeof ve<"u"?function(I){return I instanceof ve}:function(I){return!1},C=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:s}=E(56389);class d extends ie{constructor(I){super(I),!1===I?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===I?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function f(w){const I=w.readable&&"function"!=typeof w.readable.read?ae.wrap(w.readable):w.readable,L=w.writable;let v,Z,z,ee,le,x=!!k(I),a=!!S(L);function we(Me){const Ge=ee;ee=null,Ge?Ge(Me):Me&&le.destroy(Me)}return le=new d({readableObjectMode:!(null==I||!I.readableObjectMode),writableObjectMode:!(null==L||!L.writableObjectMode),readable:x,writable:a}),a&&(Q(L,Me=>{a=!1,Me&&re(I,Me),we(Me)}),le._write=function(Me,Ge,ge){L.write(Me,Ge)?ge():v=ge},le._final=function(Me){L.end(),Z=Me},L.on("drain",function(){if(v){const Me=v;v=null,Me()}}),L.on("finish",function(){if(Z){const Me=Z;Z=null,Me()}})),x&&(Q(I,Me=>{x=!1,Me&&re(I,Me),we(Me)}),I.on("readable",function(){if(z){const Me=z;z=null,Me()}}),I.on("end",function(){le.push(null)}),le._read=function(){for(;;){const Me=I.read();if(null===Me)return void(z=le._read);if(!le.push(Me))return}}),le._destroy=function(Me,Ge){!Me&&null!==ee&&(Me=new q),z=null,v=null,Z=null,null===ee?Ge(Me):(ee=Ge,re(L,Me),re(I,Me))},le}$e.exports=function w(I,L){if(V(I))return I;if(O(I))return f({readable:I});if(A(I))return f({writable:I});if(R(I))return f({writable:!1,readable:!1});if(U(I))return f({readable:ae.fromWeb(I)});if(K(I))return f({writable:ue.fromWeb(I)});if("function"==typeof I){const{value:a,write:v,final:Z,destroy:z}=function h(w){let{promise:I,resolve:L}=ce();const x=new C,a=x.signal;return{value:w(B(function*(){for(;;){const Z=I;I=null;const{chunk:z,done:ee,cb:le}=yield _(Z);if(H.nextTick(le),ee)return;if(a.aborted)throw new q(void 0,{cause:a.reason});({promise:I,resolve:L}=ce()),yield z}})(),{signal:a}),write(Z,z,ee){const le=L;L=null,le({chunk:Z,done:!1,cb:ee})},final(Z){const z=L;L=null,z({done:!0,cb:Z})},destroy(Z,z){x.abort(),z(Z)}}}(I);if(P(a))return pe(d,a,{objectMode:!0,write:v,final:Z,destroy:z});const ee=a?.then;if("function"==typeof ee){let le;const we=s(ee,a,Me=>{if(null!=Me)throw new W("nully","body",Me)},Me=>{re(le,Me)});return le=new d({objectMode:!0,readable:!1,write:v,final(Me){Z(g(function*(){try{yield we,H.nextTick(Me,null)}catch(Ge){H.nextTick(Me,Ge)}}))},destroy:z})}throw new W("Iterable, AsyncIterable or AsyncFunction",L,a)}if(De(I))return w(I.arrayBuffer());if(P(I))return pe(d,I,{objectMode:!0,writable:!1});if(U(I?.readable)&&K(I?.writable))return d.fromWeb(I);if("object"==typeof I?.writable||"object"==typeof I?.readable)return f({readable:null!=I&&I.readable?O(I?.readable)?I?.readable:w(I.readable):void 0,writable:null!=I&&I.writable?A(I?.writable)?I?.writable:w(I.writable):void 0});const x=I?.then;if("function"==typeof x){let a;return s(x,I,v=>{null!=v&&a.push(v),a.push(null)},v=>{re(a,v)}),a=new d({objectMode:!0,writable:!1,read(){}})}throw new Y(L,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],I)}},46017:($e,j,E)=>{const g=E(40573),{AbortError:_,codes:B}=E(68154),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:b}=B,{kEmptyObject:k,once:S}=E(13509),{validateAbortSignal:P,validateFunction:R,validateObject:O,validateBoolean:A}=E(99852),{Promise:V,PromisePrototypeThen:U,SymbolDispose:K}=E(56389),{isClosed:Q,isReadable:q,isReadableNodeStream:Y,isReadableStream:W,isReadableFinished:re,isReadableErrored:ie,isWritable:ae,isWritableNodeStream:ue,isWritableStream:ce,isWritableFinished:pe,isWritableErrored:ve,isNodeStream:De,willEmitClose:C,kIsClosedPromise:s}=E(32924);let d;const f=()=>{};function w(x,a,v){var Z,z;if(2===arguments.length?(v=a,a=k):null==a?a=k:O(a,"options"),R(v,"callback"),P(a.signal,"options.signal"),v=S(v),W(x)||ce(x))return function I(x,a,v){let Z=!1,z=f;if(a.signal)if(z=()=>{Z=!0,v.call(x,new _(void 0,{cause:a.signal.reason}))},a.signal.aborted)g.nextTick(z);else{d=d||E(13509).addAbortListener;const le=d(a.signal,z),we=v;v=S((...Me)=>{le[K](),we.apply(x,Me)})}const ee=(...le)=>{Z||g.nextTick(()=>v.apply(x,le))};return U(x[s].promise,ee,ee),f}(x,a,v);if(!De(x))throw new H("stream",["ReadableStream","WritableStream","Stream"],x);const ee=null!==(Z=a.readable)&&void 0!==Z?Z:Y(x),le=null!==(z=a.writable)&&void 0!==z?z:ue(x),we=x._writableState,Me=x._readableState,Ge=()=>{x.writable||Ue()};let ge=C(x)&&Y(x)===ee&&ue(x)===le,me=pe(x,!1);const Ue=()=>{me=!0,x.destroyed&&(ge=!1),(!ge||x.readable&&!ee)&&(!ee||xe)&&v.call(x)};let xe=re(x,!1);const Ce=()=>{xe=!0,x.destroyed&&(ge=!1),(!ge||x.writable&&!le)&&(!le||me)&&v.call(x)},be=Ie=>{v.call(x,Ie)};let he=Q(x);const ne=()=>{he=!0;const Ie=ve(x)||ie(x);return Ie&&"boolean"!=typeof Ie?v.call(x,Ie):ee&&!xe&&Y(x,!0)&&!re(x,!1)?v.call(x,new b):!le||me||pe(x,!1)?void v.call(x):v.call(x,new b)},te=()=>{he=!0;const Ie=ve(x)||ie(x);if(Ie&&"boolean"!=typeof Ie)return v.call(x,Ie);v.call(x)},de=()=>{x.req.on("finish",Ue)};!function h(x){return x.setHeader&&"function"==typeof x.abort}(x)?le&&!we&&(x.on("end",Ge),x.on("close",Ge)):(x.on("complete",Ue),ge||x.on("abort",ne),x.req?de():x.on("request",de)),!ge&&"boolean"==typeof x.aborted&&x.on("aborted",ne),x.on("end",Ce),x.on("finish",Ue),!1!==a.error&&x.on("error",be),x.on("close",ne),he?g.nextTick(ne):null!=we&&we.errorEmitted||null!=Me&&Me.errorEmitted?ge||g.nextTick(te):(!ee&&(!ge||q(x))&&(me||!1===ae(x))||!le&&(!ge||ae(x))&&(xe||!1===q(x))||Me&&x.req&&x.aborted)&&g.nextTick(te);const _e=()=>{v=f,x.removeListener("aborted",ne),x.removeListener("complete",Ue),x.removeListener("abort",ne),x.removeListener("request",de),x.req&&x.req.removeListener("finish",Ue),x.removeListener("end",Ge),x.removeListener("close",Ge),x.removeListener("finish",Ue),x.removeListener("end",Ce),x.removeListener("error",be),x.removeListener("close",ne)};if(a.signal&&!he){const Ie=()=>{const He=v;_e(),He.call(x,new _(void 0,{cause:a.signal.reason}))};if(a.signal.aborted)g.nextTick(Ie);else{d=d||E(13509).addAbortListener;const He=d(a.signal,Ie),Ve=v;v=S((...xt)=>{He[K](),Ve.apply(x,xt)})}}return _e}$e.exports=w,$e.exports.finished=function L(x,a){var v;let Z=!1;return null===a&&(a=k),null!==(v=a)&&void 0!==v&&v.cleanup&&(A(a.cleanup,"cleanup"),Z=a.cleanup),new V((z,ee)=>{const le=w(x,a,we=>{Z&&le(),we?ee(we):z()})})}},45737:($e,j,E)=>{"use strict";var g=E(29293).default;const _=E(40573),{PromisePrototypeThen:B,SymbolAsyncIterator:H,SymbolIterator:b}=E(56389),{Buffer:k}=E(68316),{ERR_INVALID_ARG_TYPE:S,ERR_STREAM_NULL_VALUES:P}=E(68154).codes;$e.exports=function R(O,A,V){let U,K;if("string"==typeof A||A instanceof k)return new O({objectMode:!0,...V,read(){this.push(A),this.push(null)}});if(A&&A[H])K=!0,U=A[H]();else{if(!A||!A[b])throw new S("iterable",["Iterable"],A);K=!1,U=A[b]()}const Q=new O({objectMode:!0,highWaterMark:1,...V});let q=!1;function W(){return(W=g(function*(ae){if(null!=ae&&"function"==typeof U.throw){const{value:pe,done:ve}=yield U.throw(ae);if(yield pe,ve)return}if("function"==typeof U.return){const{value:pe}=yield U.return();yield pe}})).apply(this,arguments)}function ie(){return(ie=g(function*(){for(;;){try{const{value:ae,done:ue}=K?yield U.next():U.next();if(ue)Q.push(null);else{const ce=ae&&"function"==typeof ae.then?yield ae:ae;if(null===ce)throw q=!1,new P;if(Q.push(ce))continue;q=!1}}catch(ae){Q.destroy(ae)}break}})).apply(this,arguments)}return Q._read=function(){q||(q=!0,function re(){ie.apply(this,arguments)}())},Q._destroy=function(ae,ue){B(function Y(ae){return W.apply(this,arguments)}(ae),()=>_.nextTick(ue,ae),ce=>_.nextTick(ue,ce||ae))},Q}},91242:($e,j,E)=>{"use strict";const{ArrayIsArray:g,ObjectSetPrototypeOf:_}=E(56389),{EventEmitter:B}=E(44356);function H(k){B.call(this,k)}function b(k,S,P){if("function"==typeof k.prependListener)return k.prependListener(S,P);k._events&&k._events[S]?g(k._events[S])?k._events[S].unshift(P):k._events[S]=[P,k._events[S]]:k.on(S,P)}_(H.prototype,B.prototype),_(H,B),H.prototype.pipe=function(k,S){const P=this;function R(q){k.writable&&!1===k.write(q)&&P.pause&&P.pause()}function O(){P.readable&&P.resume&&P.resume()}P.on("data",R),k.on("drain",O),!k._isStdio&&(!S||!1!==S.end)&&(P.on("end",V),P.on("close",U));let A=!1;function V(){A||(A=!0,k.end())}function U(){A||(A=!0,"function"==typeof k.destroy&&k.destroy())}function K(q){Q(),0===B.listenerCount(this,"error")&&this.emit("error",q)}function Q(){P.removeListener("data",R),k.removeListener("drain",O),P.removeListener("end",V),P.removeListener("close",U),P.removeListener("error",K),k.removeListener("error",K),P.removeListener("end",Q),P.removeListener("close",Q),k.removeListener("close",Q)}return b(P,"error",K),b(k,"error",K),P.on("end",Q),P.on("close",Q),k.on("close",Q),k.emit("pipe",P),k},$e.exports={Stream:H,prependListener:b}},21840:($e,j,E)=>{"use strict";var g=E(29293).default,_=E(93513).default,B=E(82881).default,H=E(53344).default,b=E(42958).default;const k=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:S,ERR_INVALID_ARG_TYPE:P,ERR_MISSING_ARGS:R,ERR_OUT_OF_RANGE:O},AbortError:A}=E(68154),{validateAbortSignal:V,validateInteger:U,validateObject:K}=E(99852),Q=E(56389).Symbol("kWeak"),q=E(56389).Symbol("kResistStopPropagation"),{finished:Y}=E(46017),W=E(373),{addAbortSignalNoValidate:re}=E(57062),{isWritable:ie,isNodeStream:ae}=E(32924),{deprecate:ue}=E(13509),{ArrayPrototypePush:ce,Boolean:pe,MathFloor:ve,Number:De,NumberIsNaN:C,Promise:s,PromiseReject:d,PromiseResolve:h,PromisePrototypeThen:f,Symbol:w}=E(56389),I=w("kEmpty"),L=w("kEof");function a(Ie,He){if("function"!=typeof Ie)throw new P("fn",["Function","AsyncFunction"],Ie);null!=He&&K(He,"options"),null!=He?.signal&&V(He.signal,"options.signal");let Ve=1;null!=He?.concurrency&&(Ve=ve(He.concurrency));let xt=Ve-1;return null!=He?.highWaterMark&&(xt=ve(He.highWaterMark)),U(Ve,"options.concurrency",1),U(xt,"options.highWaterMark",0),xt+=Ve,function(){var Ne=b(function*(){const pt=E(13509).AbortSignalAny([He?.signal].filter(pe)),F=this,D=[],M={signal:pt};let G,fe,Se=!1,Ae=0;function rt(){Se=!0,Ht()}function Ht(){Ae-=1,vt()}function vt(){fe&&!Se&&Ae<Ve&&D.length<xt&&(fe(),fe=null)}function qt(){return(qt=g(function*(){try{var rr,mn=!1,ln=!1;try{for(var rn,Tn=B(F);mn=!(rn=yield Tn.next()).done;mn=!1){let Xt=rn.value;if(Se)return;if(pt.aborted)throw new A;try{if(Xt=Ie(Xt,M),Xt===I)continue;Xt=h(Xt)}catch(dt){Xt=d(dt)}Ae+=1,f(Xt,Ht,rt),D.push(Xt),G&&(G(),G=null),!Se&&(D.length>=xt||Ae>=Ve)&&(yield new s(dt=>{fe=dt}))}}catch(Xt){ln=!0,rr=Xt}finally{try{mn&&null!=Tn.return&&(yield Tn.return())}finally{if(ln)throw rr}}D.push(L)}catch(Xt){const dt=d(Xt);f(dt,Ht,rt),D.push(dt)}finally{Se=!0,G&&(G(),G=null)}})).apply(this,arguments)}!function Ot(){qt.apply(this,arguments)}();try{for(;;){for(;D.length>0;){const mn=yield H(D[0]);if(mn===L)return;if(pt.aborted)throw new A;mn!==I&&(yield mn),D.shift(),vt()}yield H(new s(mn=>{G=mn}))}}finally{Se=!0,fe&&(fe(),fe=null)}});return function ke(){return Ne.apply(this,arguments)}}().call(this)}function Z(Ie){return z.apply(this,arguments)}function z(){return(z=g(function*(Ie,He=void 0){var Ne,Ve=!1,xt=!1;try{for(var ke=B(me.call(this,Ie,He));Ve=!(yield ke.next()).done;Ve=!1)return!0}catch(F){xt=!0,Ne=F}finally{try{Ve&&null!=ke.return&&(yield ke.return())}finally{if(xt)throw Ne}}return!1})).apply(this,arguments)}function le(){return(le=g(function*(Ie,He=void 0){if("function"!=typeof Ie)throw new P("fn",["Function","AsyncFunction"],Ie);return!(yield Z.call(this,g(function*(...Ve){return!(yield Ie(...Ve))}),He))})).apply(this,arguments)}function Me(){return(Me=g(function*(Ie,He){var Ne,Ve=!1,xt=!1;try{for(var pt,ke=B(me.call(this,Ie,He));Ve=!(pt=yield ke.next()).done;Ve=!1)return pt.value}catch(F){xt=!0,Ne=F}finally{try{Ve&&null!=ke.return&&(yield ke.return())}finally{if(xt)throw Ne}}})).apply(this,arguments)}function ge(){return ge=g(function*(Ie,He){if("function"!=typeof Ie)throw new P("fn",["Function","AsyncFunction"],Ie);function xt(){return(xt=g(function*(M,G){return yield Ie(M,G),I})).apply(this,arguments)}var pt,Ne=!1,ke=!1;try{for(var F=B(a.call(this,function Ve(M,G){return xt.apply(this,arguments)},He));Ne=!(yield F.next()).done;Ne=!1);}catch(M){ke=!0,pt=M}finally{try{Ne&&null!=F.return&&(yield F.return())}finally{if(ke)throw pt}}}),ge.apply(this,arguments)}function me(Ie,He){if("function"!=typeof Ie)throw new P("fn",["Function","AsyncFunction"],Ie);function xt(){return(xt=g(function*(Ne,ke){return(yield Ie(Ne,ke))?Ne:I})).apply(this,arguments)}return a.call(this,function Ve(Ne,ke){return xt.apply(this,arguments)},He)}class Ue extends R{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Ce(){return Ce=g(function*(Ie,He,Ve){var xt;if("function"!=typeof Ie)throw new P("reducer",["Function","AsyncFunction"],Ie);null!=Ve&&K(Ve,"options"),null!=Ve?.signal&&V(Ve.signal,"options.signal");let Ne=arguments.length>1;if(null!=Ve&&null!==(xt=Ve.signal)&&void 0!==xt&&xt.aborted){const rt=new A(void 0,{cause:Ve.signal.reason});throw this.once("error",()=>{}),yield Y(this.destroy(rt)),rt}const ke=new k,pt=ke.signal;null!=Ve&&Ve.signal&&Ve.signal.addEventListener("abort",()=>ke.abort(),{once:!0,[Q]:this,[q]:!0});let F=!1;try{var G,D=!1,M=!1;try{for(var Se,fe=B(this);D=!(Se=yield fe.next()).done;D=!1){const rt=Se.value;var Ae;if(F=!0,null!=Ve&&null!==(Ae=Ve.signal)&&void 0!==Ae&&Ae.aborted)throw new A;Ne?He=yield Ie(He,rt,{signal:pt}):(He=rt,Ne=!0)}}catch(rt){M=!0,G=rt}finally{try{D&&null!=fe.return&&(yield fe.return())}finally{if(M)throw G}}if(!F&&!Ne)throw new Ue}finally{ke.abort()}return He}),Ce.apply(this,arguments)}function he(){return(he=g(function*(Ie){null!=Ie&&K(Ie,"options"),null!=Ie?.signal&&V(Ie.signal,"options.signal");const He=[];var Ne,Ve=!1,xt=!1;try{for(var pt,ke=B(this);Ve=!(pt=yield ke.next()).done;Ve=!1){const D=pt.value;var F;if(null!=Ie&&null!==(F=Ie.signal)&&void 0!==F&&F.aborted)throw new A(void 0,{cause:Ie.signal.reason});ce(He,D)}}catch(D){xt=!0,Ne=D}finally{try{Ve&&null!=ke.return&&(yield ke.return())}finally{if(xt)throw Ne}}return He})).apply(this,arguments)}function te(Ie){if(Ie=De(Ie),C(Ie))return 0;if(Ie<0)throw new O("number",">= 0",Ie);return Ie}$e.exports.streamReturningOperators={asIndexedPairs:ue(function v(Ie=void 0){return null!=Ie&&K(Ie,"options"),null!=Ie?.signal&&V(Ie.signal,"options.signal"),function(){var He=b(function*(){let xt=0;var pt,Ne=!1,ke=!1;try{for(var D,F=B(this);Ne=!(D=yield H(F.next())).done;Ne=!1){const G=D.value;var M;if(null!=Ie&&null!==(M=Ie.signal)&&void 0!==M&&M.aborted)throw new A({cause:Ie.signal.reason});yield[xt++,G]}}catch(G){ke=!0,pt=G}finally{try{Ne&&null!=F.return&&(yield H(F.return()))}finally{if(ke)throw pt}}});return function Ve(){return He.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function de(Ie,He=void 0){return null!=He&&K(He,"options"),null!=He?.signal&&V(He.signal,"options.signal"),Ie=te(Ie),function(){var Ve=b(function*(){var Ne;if(null!=He&&null!==(Ne=He.signal)&&void 0!==Ne&&Ne.aborted)throw new A;var F,ke=!1,pt=!1;try{for(var M,D=B(this);ke=!(M=yield H(D.next())).done;ke=!1){const fe=M.value;var G;if(null!=He&&null!==(G=He.signal)&&void 0!==G&&G.aborted)throw new A;Ie--<=0&&(yield fe)}}catch(fe){pt=!0,F=fe}finally{try{ke&&null!=D.return&&(yield H(D.return()))}finally{if(pt)throw F}}});return function xt(){return Ve.apply(this,arguments)}}().call(this)},filter:me,flatMap:function ne(Ie,He){const Ve=a.call(this,Ie,He);return function(){var xt=b(function*(){var F,ke=!1,pt=!1;try{for(var M,D=B(Ve);ke=!(M=yield H(D.next())).done;ke=!1){const G=M.value;yield*_(B(G),H)}}catch(G){pt=!0,F=G}finally{try{ke&&null!=D.return&&(yield H(D.return()))}finally{if(pt)throw F}}});return function Ne(){return xt.apply(this,arguments)}}().call(this)},map:a,take:function _e(Ie,He=void 0){return null!=He&&K(He,"options"),null!=He?.signal&&V(He.signal,"options.signal"),Ie=te(Ie),function(){var Ve=b(function*(){var Ne;if(null!=He&&null!==(Ne=He.signal)&&void 0!==Ne&&Ne.aborted)throw new A;var F,ke=!1,pt=!1;try{for(var M,D=B(this);ke=!(M=yield H(D.next())).done;ke=!1){const fe=M.value;var G;if(null!=He&&null!==(G=He.signal)&&void 0!==G&&G.aborted)throw new A;if(Ie-- >0&&(yield fe),Ie<=0)return}}catch(fe){pt=!0,F=fe}finally{try{ke&&null!=D.return&&(yield H(D.return()))}finally{if(pt)throw F}}});return function xt(){return Ve.apply(this,arguments)}}().call(this)},compose:function x(Ie,He){if(null!=He&&K(He,"options"),null!=He?.signal&&V(He.signal,"options.signal"),ae(Ie)&&!ie(Ie))throw new S("stream",Ie,"must be writable");const Ve=W(this,Ie);return null!=He&&He.signal&&re(He.signal,Ve),Ve}},$e.exports.promiseReturningOperators={every:function ee(Ie){return le.apply(this,arguments)},forEach:function Ge(Ie,He){return ge.apply(this,arguments)},reduce:function xe(Ie,He,Ve){return Ce.apply(this,arguments)},toArray:function be(Ie){return he.apply(this,arguments)},some:Z,find:function we(Ie,He){return Me.apply(this,arguments)}}},59447:($e,j,E)=>{"use strict";const{ObjectSetPrototypeOf:g}=E(56389);$e.exports=B;const _=E(71981);function B(H){if(!(this instanceof B))return new B(H);_.call(this,H)}g(B.prototype,_.prototype),g(B,_),B.prototype._transform=function(H,b,k){k(null,H)}},67843:($e,j,E)=>{var g=E(29293).default,_=E(42958).default,B=E(53344).default,H=E(93513).default,b=E(82881).default;const k=E(40573),{ArrayIsArray:S,Promise:P,SymbolAsyncIterator:R,SymbolDispose:O}=E(56389),A=E(46017),{once:V}=E(13509),U=E(96507),K=E(13323),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:q,ERR_INVALID_RETURN_VALUE:Y,ERR_MISSING_ARGS:W,ERR_STREAM_DESTROYED:re,ERR_STREAM_PREMATURE_CLOSE:ie},AbortError:ae}=E(68154),{validateFunction:ue,validateAbortSignal:ce}=E(99852),{isIterable:pe,isReadable:ve,isReadableNodeStream:De,isNodeStream:C,isTransformStream:s,isWebStream:d,isReadableStream:h,isReadableFinished:f}=E(32924),w=globalThis.AbortController||E(9465).AbortController;let I,L,x;function a(xe,Ce,be){let he=!1;return xe.on("close",()=>{he=!0}),{destroy:te=>{he||(he=!0,U.destroyer(xe,te||new re("pipe")))},cleanup:A(xe,{readable:Ce,writable:be},te=>{he=!te})}}function Z(xe){if(pe(xe))return xe;if(De(xe))return function z(xe){return ee.apply(this,arguments)}(xe);throw new q("val",["Readable","Iterable","AsyncIterable"],xe)}function ee(){return(ee=_(function*(xe){L||(L=E(84553)),yield*H(b(L.prototype[R].call(xe)),B)})).apply(this,arguments)}function le(xe,Ce,be,he){return we.apply(this,arguments)}function we(){return(we=g(function*(xe,Ce,be,{end:he}){let ne,te=null;const de=pt=>{if(pt&&(ne=pt),te){const F=te;te=null,F()}},_e=()=>new P((pt,F)=>{ne?F(ne):te=()=>{ne?F(ne):pt()}});Ce.on("drain",de);const Ie=A(Ce,{readable:!1},de);try{Ce.writableNeedDrain&&(yield _e());var xt,He=!1,Ve=!1;try{for(var ke,Ne=b(xe);He=!(ke=yield Ne.next()).done;He=!1)Ce.write(ke.value)||(yield _e())}catch(pt){Ve=!0,xt=pt}finally{try{He&&null!=Ne.return&&(yield Ne.return())}finally{if(Ve)throw xt}}he&&(Ce.end(),yield _e()),be()}catch(pt){be(ne!==pt?Q(ne,pt):pt)}finally{Ie(),Ce.off("drain",de)}})).apply(this,arguments)}function Me(xe,Ce,be,he){return Ge.apply(this,arguments)}function Ge(){return(Ge=g(function*(xe,Ce,be,{end:he}){s(Ce)&&(Ce=Ce.writable);const ne=Ce.getWriter();try{var _e,te=!1,de=!1;try{for(var He,Ie=b(xe);te=!(He=yield Ie.next()).done;te=!1){const Ve=He.value;yield ne.ready,ne.write(Ve).catch(()=>{})}}catch(Ve){de=!0,_e=Ve}finally{try{te&&null!=Ie.return&&(yield Ie.return())}finally{if(de)throw _e}}yield ne.ready,he&&(yield ne.close()),be()}catch(Ve){try{yield ne.abort(Ve),be(Ve)}catch(xt){be(xt)}}})).apply(this,arguments)}function me(xe,Ce,be){if(1===xe.length&&S(xe[0])&&(xe=xe[0]),xe.length<2)throw new W("streams");const he=new w,ne=he.signal,te=be?.signal,de=[];function _e(){pt(new ae)}let Ie,He,Ve;ce(te,"options.signal"),x=x||E(13509).addAbortListener,te&&(Ie=x(te,_e));const xt=[];let F,Ne=0;function ke(fe){pt(fe,0==--Ne)}function pt(fe,Se){var Ae;if(fe&&(!He||"ERR_STREAM_PREMATURE_CLOSE"===He.code)&&(He=fe),He||Se){for(;xt.length;)xt.shift()(He);null===(Ae=Ie)||void 0===Ae||Ae[O](),he.abort(),Se&&(He||de.forEach(rt=>rt()),k.nextTick(Ce,He,Ve))}}for(let fe=0;fe<xe.length;fe++){const Se=xe[fe],Ae=fe<xe.length-1,rt=fe>0,Ht=Ae||!1!==be?.end,vt=fe===xe.length-1;if(C(Se)){let Ot=function(qt){qt&&"AbortError"!==qt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==qt.code&&ke(qt)};if(Ht){const{destroy:qt,cleanup:mn}=a(Se,Ae,rt);xt.push(qt),ve(Se)&&vt&&de.push(mn)}Se.on("error",Ot),ve(Se)&&vt&&de.push(()=>{Se.removeListener("error",Ot)})}if(0===fe)if("function"==typeof Se){if(F=Se({signal:ne}),!pe(F))throw new Y("Iterable, AsyncIterable or Stream","source",F)}else F=pe(Se)||De(Se)||s(Se)?Se:K.from(Se);else if("function"==typeof Se){var D;if(F=s(F)?Z(null===(D=F)||void 0===D?void 0:D.readable):Z(F),F=Se(F,{signal:ne}),Ae){if(!pe(F,!0))throw new Y("AsyncIterable",`transform[${fe-1}]`,F)}else{var M;I||(I=E(59447));const Ot=new I({objectMode:!0}),qt=null===(M=F)||void 0===M?void 0:M.then;if("function"==typeof qt)Ne++,qt.call(F,rr=>{Ve=rr,null!=rr&&Ot.write(rr),Ht&&Ot.end(),k.nextTick(ke)},rr=>{Ot.destroy(rr),k.nextTick(ke,rr)});else if(pe(F,!0))Ne++,le(F,Ot,ke,{end:Ht});else{if(!h(F)&&!s(F))throw new Y("AsyncIterable or Promise","destination",F);Ne++,le(F.readable||F,Ot,ke,{end:Ht})}F=Ot;const{destroy:mn,cleanup:ln}=a(F,!1,!0);xt.push(mn),vt&&de.push(ln)}}else if(C(Se)){if(De(F)){Ne+=2;const Ot=Ue(F,Se,ke,{end:Ht});ve(Se)&&vt&&de.push(Ot)}else if(s(F)||h(F))Ne++,le(F.readable||F,Se,ke,{end:Ht});else{if(!pe(F))throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);Ne++,le(F,Se,ke,{end:Ht})}F=Se}else if(d(Se)){if(De(F))Ne++,Me(Z(F),Se,ke,{end:Ht});else if(h(F)||pe(F))Ne++,Me(F,Se,ke,{end:Ht});else{if(!s(F))throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);Ne++,Me(F.readable,Se,ke,{end:Ht})}F=Se}else F=K.from(Se)}return(null!=ne&&ne.aborted||null!=te&&te.aborted)&&k.nextTick(_e),F}function Ue(xe,Ce,be,{end:he}){let ne=!1;if(Ce.on("close",()=>{ne||be(new ie)}),xe.pipe(Ce,{end:!1}),he){let de=function(){ne=!0,Ce.end()};f(xe)?k.nextTick(de):xe.once("end",de)}else be();return A(xe,{readable:!0,writable:!1},de=>{const _e=xe._readableState;de&&"ERR_STREAM_PREMATURE_CLOSE"===de.code&&_e&&_e.ended&&!_e.errored&&!_e.errorEmitted?xe.once("end",be).once("error",be):be(de)}),A(Ce,{readable:!1,writable:!0},be)}$e.exports={pipelineImpl:me,pipeline:function ge(...xe){return me(xe,V(function v(xe){return ue(xe[xe.length-1],"streams[stream.length - 1]"),xe.pop()}(xe)))}}},84553:($e,j,E)=>{var g=E(53344).default,_=E(42958).default;const B=E(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:b,NumberIsNaN:k,NumberParseInt:S,ObjectDefineProperties:P,ObjectKeys:R,ObjectSetPrototypeOf:O,Promise:A,SafeSet:V,SymbolAsyncDispose:U,SymbolAsyncIterator:K,Symbol:Q}=E(56389);$e.exports=ke,ke.ReadableState=Ne;const{EventEmitter:q}=E(44356),{Stream:Y,prependListener:W}=E(91242),{Buffer:re}=E(68316),{addAbortSignal:ie}=E(57062),ae=E(46017);let ue=E(13509).debuglog("stream",ot=>{ue=ot});const ce=E(16630),pe=E(96507),{getHighWaterMark:ve,getDefaultHighWaterMark:De}=E(18212),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:s,ERR_METHOD_NOT_IMPLEMENTED:d,ERR_OUT_OF_RANGE:h,ERR_STREAM_PUSH_AFTER_EOF:f,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:w},AbortError:I}=E(68154),{validateObject:L}=E(99852),x=Q("kPaused"),{StringDecoder:a}=E(78454),v=E(45737);O(ke.prototype,Y.prototype),O(ke,Y);const Z=()=>{},{errorOrDestroy:z}=pe,ee=1,Ge=16,ge=32,me=64,he=2048,ne=4096,Ie=65536;function xt(ot){return{enumerable:!1,get(){return!!(this.state&ot)},set(ft){ft?this.state|=ot:this.state&=~ot}}}function Ne(ot,ft,ut){"boolean"!=typeof ut&&(ut=ft instanceof E(13323)),this.state=he|ne|Ge|ge,ot&&ot.objectMode&&(this.state|=ee),ut&&ot&&ot.readableObjectMode&&(this.state|=ee),this.highWaterMark=ot?ve(this,ot,"readableHighWaterMark",ut):De(!1),this.buffer=new ce,this.length=0,this.pipes=[],this.flowing=null,this[x]=null,ot&&!1===ot.emitClose&&(this.state&=~he),ot&&!1===ot.autoDestroy&&(this.state&=~ne),this.errored=null,this.defaultEncoding=ot&&ot.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ot&&ot.encoding&&(this.decoder=new a(ot.encoding),this.encoding=ot.encoding)}function ke(ot){if(!(this instanceof ke))return new ke(ot);const ft=this instanceof E(13323);this._readableState=new Ne(ot,this,ft),ot&&("function"==typeof ot.read&&(this._read=ot.read),"function"==typeof ot.destroy&&(this._destroy=ot.destroy),"function"==typeof ot.construct&&(this._construct=ot.construct),ot.signal&&!ft&&ie(ot.signal,this)),Y.call(this,ot),pe.construct(this,()=>{this._readableState.needReadable&&rt(this,this._readableState)})}function pt(ot,ft,ut,Ke){ue("readableAddChunk",ft);const We=ot._readableState;let Bt;if(We.state&ee||("string"==typeof ft?We.encoding!==(ut=ut||We.defaultEncoding)&&(Ke&&We.encoding?ft=re.from(ft,ut).toString(We.encoding):(ft=re.from(ft,ut),ut="")):ft instanceof re?ut="":Y._isUint8Array(ft)?(ft=Y._uint8ArrayToBuffer(ft),ut=""):null!=ft&&(Bt=new s("chunk",["string","Buffer","Uint8Array"],ft))),Bt)z(ot,Bt);else if(null===ft)We.state&=-9,function fe(ot,ft){if(ue("onEofChunk"),!ft.ended){if(ft.decoder){const ut=ft.decoder.end();ut&&ut.length&&(ft.buffer.push(ut),ft.length+=ft.objectMode?1:ut.length)}ft.ended=!0,ft.sync?Se(ot):(ft.needReadable=!1,ft.emittedReadable=!0,Ae(ot))}}(ot,We);else if(We.state&ee||ft&&ft.length>0)if(Ke)if(4&We.state)z(ot,new w);else{if(We.destroyed||We.errored)return!1;F(ot,We,ft,!0)}else if(We.ended)z(ot,new f);else{if(We.destroyed||We.errored)return!1;We.state&=-9,We.decoder&&!ut?(ft=We.decoder.write(ft),We.objectMode||0!==ft.length?F(ot,We,ft,!1):rt(ot,We)):F(ot,We,ft,!1)}else Ke||(We.state&=-9,rt(ot,We));return!We.ended&&(We.length<We.highWaterMark||0===We.length)}function F(ot,ft,ut,Ke){ft.flowing&&0===ft.length&&!ft.sync&&ot.listenerCount("data")>0?(ft.state&Ie?ft.awaitDrainWriters.clear():ft.awaitDrainWriters=null,ft.dataEmitted=!0,ot.emit("data",ut)):(ft.length+=ft.objectMode?1:ut.length,Ke?ft.buffer.unshift(ut):ft.buffer.push(ut),ft.state&me&&Se(ot)),rt(ot,ft)}function G(ot,ft){return ot<=0||0===ft.length&&ft.ended?0:ft.state&ee?1:k(ot)?ft.flowing&&ft.length?ft.buffer.first().length:ft.length:ot<=ft.length?ot:ft.ended?ft.length:0}function Se(ot){const ft=ot._readableState;ue("emitReadable",ft.needReadable,ft.emittedReadable),ft.needReadable=!1,ft.emittedReadable||(ue("emitReadable",ft.flowing),ft.emittedReadable=!0,B.nextTick(Ae,ot))}function Ae(ot){const ft=ot._readableState;ue("emitReadable_",ft.destroyed,ft.length,ft.ended),!ft.destroyed&&!ft.errored&&(ft.length||ft.ended)&&(ot.emit("readable"),ft.emittedReadable=!1),ft.needReadable=!ft.flowing&&!ft.ended&&ft.length<=ft.highWaterMark,rr(ot)}function rt(ot,ft){!ft.readingMore&&ft.constructed&&(ft.readingMore=!0,B.nextTick(Ht,ot,ft))}function Ht(ot,ft){for(;!ft.reading&&!ft.ended&&(ft.length<ft.highWaterMark||ft.flowing&&0===ft.length);){const ut=ft.length;if(ue("maybeReadMore read 0"),ot.read(0),ut===ft.length)break}ft.readingMore=!1}function Ot(ot){const ft=ot._readableState;ft.readableListening=ot.listenerCount("readable")>0,ft.resumeScheduled&&!1===ft[x]?ft.flowing=!0:ot.listenerCount("data")>0?ot.resume():ft.readableListening||(ft.flowing=null)}function qt(ot){ue("readable nexttick read 0"),ot.read(0)}function ln(ot,ft){ue("resume",ft.reading),ft.reading||ot.read(0),ft.resumeScheduled=!1,ot.emit("resume"),rr(ot),ft.flowing&&!ft.reading&&ot.read(0)}function rr(ot){const ft=ot._readableState;for(ue("flow",ft.flowing);ft.flowing&&null!==ot.read(););}function Tn(ot,ft){"function"!=typeof ot.read&&(ot=ke.wrap(ot,{objectMode:!0}));const ut=function rn(ot,ft){return Xt.apply(this,arguments)}(ot,ft);return ut.stream=ot,ut}function Xt(){return(Xt=_(function*(ot,ft){let We,ut=Z;function Ke(At){this===ot?(ut(),ut=Z):ut=At}ot.on("readable",Ke);const Bt=ae(ot,{writable:!1},At=>{We=At?C(We,At):null,ut(),ut=Z});try{for(;;){const At=ot.destroyed?null:ot.read();if(null!==At)yield At;else{if(We)throw We;if(null===We)return;yield g(new A(Ke))}}}catch(At){throw We=C(We,At),We}finally{!We&&!1===ft?.destroyOnReturn||void 0!==We&&!ot._readableState.autoDestroy?(ot.off("readable",Ke),Bt()):pe.destroyer(ot,null)}})).apply(this,arguments)}function dt(ot,ft){if(0===ft.length)return null;let ut;return ft.objectMode?ut=ft.buffer.shift():!ot||ot>=ft.length?(ut=ft.decoder?ft.buffer.join(""):1===ft.buffer.length?ft.buffer.first():ft.buffer.concat(ft.length),ft.buffer.clear()):ut=ft.buffer.consume(ot,ft.decoder),ut}function it(ot){const ft=ot._readableState;ue("endReadable",ft.endEmitted),ft.endEmitted||(ft.ended=!0,B.nextTick(Wt,ft,ot))}function Wt(ot,ft){if(ue("endReadableNT",ot.endEmitted,ot.length),!ot.errored&&!ot.closeEmitted&&!ot.endEmitted&&0===ot.length)if(ot.endEmitted=!0,ft.emit("end"),ft.writable&&!1===ft.allowHalfOpen)B.nextTick(Gt,ft);else if(ot.autoDestroy){const ut=ft._writableState;(!ut||ut.autoDestroy&&(ut.finished||!1===ut.writable))&&ft.destroy()}}function Gt(ot){ot.writable&&!ot.writableEnded&&!ot.destroyed&&ot.end()}let nn;function Xn(){return void 0===nn&&(nn={}),nn}P(Ne.prototype,{objectMode:xt(ee),ended:xt(2),endEmitted:xt(4),reading:xt(8),constructed:xt(Ge),sync:xt(ge),needReadable:xt(me),emittedReadable:xt(128),readableListening:xt(256),resumeScheduled:xt(512),errorEmitted:xt(1024),emitClose:xt(he),autoDestroy:xt(ne),destroyed:xt(8192),closed:xt(16384),closeEmitted:xt(32768),multiAwaitDrain:xt(Ie),readingMore:xt(1<<17),dataEmitted:xt(1<<18)}),ke.prototype.destroy=pe.destroy,ke.prototype._undestroy=pe.undestroy,ke.prototype._destroy=function(ot,ft){ft(ot)},ke.prototype[q.captureRejectionSymbol]=function(ot){this.destroy(ot)},ke.prototype[U]=function(){let ot;return this.destroyed||(ot=this.readableEnded?null:new I,this.destroy(ot)),new A((ft,ut)=>ae(this,Ke=>Ke&&Ke!==ot?ut(Ke):ft(null)))},ke.prototype.push=function(ot,ft){return pt(this,ot,ft,!1)},ke.prototype.unshift=function(ot,ft){return pt(this,ot,ft,!0)},ke.prototype.isPaused=function(){const ot=this._readableState;return!0===ot[x]||!1===ot.flowing},ke.prototype.setEncoding=function(ot){const ft=new a(ot);this._readableState.decoder=ft,this._readableState.encoding=this._readableState.decoder.encoding;const ut=this._readableState.buffer;let Ke="";for(const We of ut)Ke+=ft.write(We);return ut.clear(),""!==Ke&&ut.push(Ke),this._readableState.length=Ke.length,this},ke.prototype.read=function(ot){ue("read",ot),void 0===ot?ot=NaN:b(ot)||(ot=S(ot,10));const ft=this._readableState,ut=ot;if(ot>ft.highWaterMark&&(ft.highWaterMark=function M(ot){if(ot>1073741824)throw new h("size","<= 1GiB",ot);return ot--,ot|=ot>>>1,ot|=ot>>>2,ot|=ot>>>4,ot|=ot>>>8,ot|=ot>>>16,++ot}(ot)),0!==ot&&(ft.state&=-129),0===ot&&ft.needReadable&&((0!==ft.highWaterMark?ft.length>=ft.highWaterMark:ft.length>0)||ft.ended))return ue("read: emitReadable",ft.length,ft.ended),0===ft.length&&ft.ended?it(this):Se(this),null;if(0===(ot=G(ot,ft))&&ft.ended)return 0===ft.length&&it(this),null;let We,Ke=!!(ft.state&me);if(ue("need readable",Ke),(0===ft.length||ft.length-ot<ft.highWaterMark)&&(Ke=!0,ue("length less than watermark",Ke)),ft.ended||ft.reading||ft.destroyed||ft.errored||!ft.constructed)Ke=!1,ue("reading, ended or constructing",Ke);else if(Ke){ue("do read"),ft.state|=8|ge,0===ft.length&&(ft.state|=me);try{this._read(ft.highWaterMark)}catch(Bt){z(this,Bt)}ft.state&=~ge,ft.reading||(ot=G(ut,ft))}return We=ot>0?dt(ot,ft):null,null===We?(ft.needReadable=ft.length<=ft.highWaterMark,ot=0):(ft.length-=ot,ft.multiAwaitDrain?ft.awaitDrainWriters.clear():ft.awaitDrainWriters=null),0===ft.length&&(ft.ended||(ft.needReadable=!0),ut!==ot&&ft.ended&&it(this)),null!==We&&!ft.errorEmitted&&!ft.closeEmitted&&(ft.dataEmitted=!0,this.emit("data",We)),We},ke.prototype._read=function(ot){throw new d("_read()")},ke.prototype.pipe=function(ot,ft){const ut=this,Ke=this._readableState;1===Ke.pipes.length&&(Ke.multiAwaitDrain||(Ke.multiAwaitDrain=!0,Ke.awaitDrainWriters=new V(Ke.awaitDrainWriters?[Ke.awaitDrainWriters]:[]))),Ke.pipes.push(ot),ue("pipe count=%d opts=%j",Ke.pipes.length,ft);const Bt=ft&&!1===ft.end||ot===B.stdout||ot===B.stderr?Oe:fn;function fn(){ue("onend"),ot.end()}Ke.endEmitted?B.nextTick(Bt):ut.once("end",Bt),ot.on("unpipe",function At(Je,Kt){ue("onunpipe"),Je===ut&&Kt&&!1===Kt.hasUnpiped&&(Kt.hasUnpiped=!0,function vn(){ue("cleanup"),ot.removeListener("close",Fn),ot.removeListener("finish",qe),Un&&ot.removeListener("drain",Un),ot.removeListener("error",Bn),ot.removeListener("unpipe",At),ut.removeListener("end",fn),ut.removeListener("end",Oe),ut.removeListener("data",nr),wn=!0,Un&&Ke.awaitDrainWriters&&(!ot._writableState||ot._writableState.needDrain)&&Un()}())});let Un,wn=!1;function pr(){wn||(1===Ke.pipes.length&&Ke.pipes[0]===ot?(ue("false write response, pause",0),Ke.awaitDrainWriters=ot,Ke.multiAwaitDrain=!1):Ke.pipes.length>1&&Ke.pipes.includes(ot)&&(ue("false write response, pause",Ke.awaitDrainWriters.size),Ke.awaitDrainWriters.add(ot)),ut.pause()),Un||(Un=function vt(ot,ft){return function(){const Ke=ot._readableState;Ke.awaitDrainWriters===ft?(ue("pipeOnDrain",1),Ke.awaitDrainWriters=null):Ke.multiAwaitDrain&&(ue("pipeOnDrain",Ke.awaitDrainWriters.size),Ke.awaitDrainWriters.delete(ft)),(!Ke.awaitDrainWriters||0===Ke.awaitDrainWriters.size)&&ot.listenerCount("data")&&ot.resume()}}(ut,ot),ot.on("drain",Un))}function nr(Je){ue("ondata");const Kt=ot.write(Je);ue("dest.write",Kt),!1===Kt&&pr()}function Bn(Je){if(ue("onerror",Je),Oe(),ot.removeListener("error",Bn),0===ot.listenerCount("error")){const Kt=ot._writableState||ot._readableState;Kt&&!Kt.errorEmitted?z(ot,Je):ot.emit("error",Je)}}function Fn(){ot.removeListener("finish",qe),Oe()}function qe(){ue("onfinish"),ot.removeListener("close",Fn),Oe()}function Oe(){ue("unpipe"),ut.unpipe(ot)}return ut.on("data",nr),W(ot,"error",Bn),ot.once("close",Fn),ot.once("finish",qe),ot.emit("pipe",ut),!0===ot.writableNeedDrain?pr():Ke.flowing||(ue("pipe resume"),ut.resume()),ot},ke.prototype.unpipe=function(ot){const ft=this._readableState;if(0===ft.pipes.length)return this;if(!ot){const We=ft.pipes;ft.pipes=[],this.pause();for(let Bt=0;Bt<We.length;Bt++)We[Bt].emit("unpipe",this,{hasUnpiped:!1});return this}const Ke=H(ft.pipes,ot);return-1===Ke||(ft.pipes.splice(Ke,1),0===ft.pipes.length&&this.pause(),ot.emit("unpipe",this,{hasUnpiped:!1})),this},ke.prototype.addListener=ke.prototype.on=function(ot,ft){const ut=Y.prototype.on.call(this,ot,ft),Ke=this._readableState;return"data"===ot?(Ke.readableListening=this.listenerCount("readable")>0,!1!==Ke.flowing&&this.resume()):"readable"===ot&&!Ke.endEmitted&&!Ke.readableListening&&(Ke.readableListening=Ke.needReadable=!0,Ke.flowing=!1,Ke.emittedReadable=!1,ue("on readable",Ke.length,Ke.reading),Ke.length?Se(this):Ke.reading||B.nextTick(qt,this)),ut},ke.prototype.off=ke.prototype.removeListener=function(ot,ft){const ut=Y.prototype.removeListener.call(this,ot,ft);return"readable"===ot&&B.nextTick(Ot,this),ut},ke.prototype.removeAllListeners=function(ot){const ft=Y.prototype.removeAllListeners.apply(this,arguments);return("readable"===ot||void 0===ot)&&B.nextTick(Ot,this),ft},ke.prototype.resume=function(){const ot=this._readableState;return ot.flowing||(ue("resume"),ot.flowing=!ot.readableListening,function mn(ot,ft){ft.resumeScheduled||(ft.resumeScheduled=!0,B.nextTick(ln,ot,ft))}(this,ot)),ot[x]=!1,this},ke.prototype.pause=function(){return ue("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ue("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[x]=!0,this},ke.prototype.wrap=function(ot){let ft=!1;ot.on("data",Ke=>{!this.push(Ke)&&ot.pause&&(ft=!0,ot.pause())}),ot.on("end",()=>{this.push(null)}),ot.on("error",Ke=>{z(this,Ke)}),ot.on("close",()=>{this.destroy()}),ot.on("destroy",()=>{this.destroy()}),this._read=()=>{ft&&ot.resume&&(ft=!1,ot.resume())};const ut=R(ot);for(let Ke=1;Ke<ut.length;Ke++){const We=ut[Ke];void 0===this[We]&&"function"==typeof ot[We]&&(this[We]=ot[We].bind(ot))}return this},ke.prototype[K]=function(){return Tn(this)},ke.prototype.iterator=function(ot){return void 0!==ot&&L(ot,"options"),Tn(this,ot)},P(ke.prototype,{readable:{__proto__:null,get(){const ot=this._readableState;return!(!ot||!1===ot.readable||ot.destroyed||ot.errorEmitted||ot.endEmitted)},set(ot){this._readableState&&(this._readableState.readable=!!ot)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ot){this._readableState&&(this._readableState.flowing=ot)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(ot){this._readableState&&(this._readableState.destroyed=ot)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),P(Ne.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[x]},set(ot){this[x]=!!ot}}}),ke._fromList=dt,ke.from=function(ot,ft){return v(ke,ot,ft)},ke.fromWeb=function(ot,ft){return Xn().newStreamReadableFromReadableStream(ot,ft)},ke.toWeb=function(ot,ft){return Xn().newReadableStreamFromStreamReadable(ot,ft)},ke.wrap=function(ot,ft){var ut,Ke;return new ke({objectMode:null===(ut=null!==(Ke=ot.readableObjectMode)&&void 0!==Ke?Ke:ot.objectMode)||void 0===ut||ut,...ft,destroy(We,Bt){pe.destroyer(ot,We),Bt(We)}}).wrap(ot)}},18212:($e,j,E)=>{"use strict";const{MathFloor:g,NumberIsInteger:_}=E(56389),{validateInteger:B}=E(99852),{ERR_INVALID_ARG_VALUE:H}=E(68154).codes;let b=16384,k=16;function P(A){return A?k:b}$e.exports={getHighWaterMark:function O(A,V,U,K){const Q=function S(A,V,U){return null!=A.highWaterMark?A.highWaterMark:V?A[U]:null}(V,K,U);if(null!=Q){if(!_(Q)||Q<0)throw new H(K?`options.${U}`:"options.highWaterMark",Q);return g(Q)}return P(A.objectMode)},getDefaultHighWaterMark:P,setDefaultHighWaterMark:function R(A,V){B(V,"value",0),A?k=V:b=V}}},71981:($e,j,E)=>{"use strict";const{ObjectSetPrototypeOf:g,Symbol:_}=E(56389);$e.exports=S;const{ERR_METHOD_NOT_IMPLEMENTED:B}=E(68154).codes,H=E(13323),{getHighWaterMark:b}=E(18212);g(S.prototype,H.prototype),g(S,H);const k=_("kCallback");function S(O){if(!(this instanceof S))return new S(O);const A=O?b(this,O,"readableHighWaterMark",!0):null;0===A&&(O={...O,highWaterMark:null,readableHighWaterMark:A,writableHighWaterMark:O.writableHighWaterMark||0}),H.call(this,O),this._readableState.sync=!1,this[k]=null,O&&("function"==typeof O.transform&&(this._transform=O.transform),"function"==typeof O.flush&&(this._flush=O.flush)),this.on("prefinish",R)}function P(O){"function"!=typeof this._flush||this.destroyed?(this.push(null),O&&O()):this._flush((A,V)=>{A?O?O(A):this.destroy(A):(null!=V&&this.push(V),this.push(null),O&&O())})}function R(){this._final!==P&&P.call(this)}S.prototype._final=P,S.prototype._transform=function(O,A,V){throw new B("_transform()")},S.prototype._write=function(O,A,V){const U=this._readableState,K=this._writableState,Q=U.length;this._transform(O,A,(q,Y)=>{q?V(q):(null!=Y&&this.push(Y),K.ended||Q===U.length||U.length<U.highWaterMark?V():this[k]=V)})},S.prototype._read=function(){if(this[k]){const O=this[k];this[k]=null,O()}}},32924:($e,j,E)=>{"use strict";const{SymbolAsyncIterator:g,SymbolIterator:_,SymbolFor:B}=E(56389),H=B("nodejs.stream.destroyed"),b=B("nodejs.stream.errored"),k=B("nodejs.stream.readable"),S=B("nodejs.stream.writable"),P=B("nodejs.stream.disturbed"),R=B("nodejs.webstream.isClosedPromise"),O=B("nodejs.webstream.controllerErrorFunction");function A(v,Z=!1){var z;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||Z&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(z=v._readableState)||void 0===z?void 0:z.readable)||v._writableState&&!v._readableState)}function V(v){var Z;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(Z=v._writableState)||void 0===Z?void 0:Z.writable))}function K(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function Q(v){return!(!v||K(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function q(v){return!(!v||K(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function Y(v){return!(!v||K(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ie(v){if(!K(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[H]||null!=ee&&ee.destroyed)}function ae(v){if(!V(v))return null;if(!0===v.writableEnded)return!0;const Z=v._writableState;return(null==Z||!Z.errored)&&("boolean"!=typeof Z?.ended?null:Z.ended)}function pe(v,Z){if(!A(v))return null;const z=v._readableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.endEmitted?null:!!(z.endEmitted||!1===Z&&!0===z.ended&&0===z.length))}function ve(v){return v&&null!=v[k]?v[k]:"boolean"!=typeof v?.readable?null:!ie(v)&&A(v)&&v.readable&&!pe(v)}function De(v){return v&&null!=v[S]?v[S]:"boolean"!=typeof v?.writable?null:!ie(v)&&V(v)&&v.writable&&!ae(v)}function f(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function w(v){return"boolean"==typeof v._sent100&&f(v)}$e.exports={isDestroyed:ie,kIsDestroyed:H,isDisturbed:function x(v){var Z;return!(!v||!(null!==(Z=v[P])&&void 0!==Z?Z:v.readableDidRead||v.readableAborted))},kIsDisturbed:P,isErrored:function a(v){var Z,z,ee,le,we,Me,Ge,ge,me,Ue;return!(!v||!(null!==(Z=null!==(z=null!==(ee=null!==(le=null!==(we=null!==(Me=v[b])&&void 0!==Me?Me:v.readableErrored)&&void 0!==we?we:v.writableErrored)&&void 0!==le?le:null===(Ge=v._readableState)||void 0===Ge?void 0:Ge.errorEmitted)&&void 0!==ee?ee:null===(ge=v._writableState)||void 0===ge?void 0:ge.errorEmitted)&&void 0!==z?z:null===(me=v._readableState)||void 0===me?void 0:me.errored)&&void 0!==Z?Z:null!==(Ue=v._writableState)&&void 0!==Ue&&Ue.errored))},kIsErrored:b,isReadable:ve,kIsReadable:k,kIsClosedPromise:R,kControllerErrorFunction:O,kIsWritable:S,isClosed:function h(v){if(!K(v))return null;if("boolean"==typeof v.closed)return v.closed;const Z=v._writableState,z=v._readableState;return"boolean"==typeof Z?.closed||"boolean"==typeof z?.closed?Z?.closed||z?.closed:"boolean"==typeof v._closed&&f(v)?v._closed:null},isDuplexNodeStream:function U(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,Z){return K(v)?!!ie(v)||!(!1!==Z?.readable&&ve(v)||!1!==Z?.writable&&De(v)):null},isIterable:function re(v,Z){return null!=v&&(!0===Z?"function"==typeof v[g]:!1===Z?"function"==typeof v[_]:"function"==typeof v[g]||"function"==typeof v[_])},isReadableNodeStream:A,isReadableStream:Q,isReadableEnded:function ce(v){if(!A(v))return null;if(!0===v.readableEnded)return!0;const Z=v._readableState;return!(!Z||Z.errored)&&("boolean"!=typeof Z?.ended?null:Z.ended)},isReadableFinished:pe,isReadableErrored:function d(v){var Z,z;return K(v)?v.readableErrored?v.readableErrored:null!==(Z=null===(z=v._readableState)||void 0===z?void 0:z.errored)&&void 0!==Z?Z:null:null},isNodeStream:K,isWebStream:function W(v){return Q(v)||q(v)||Y(v)},isWritable:De,isWritableNodeStream:V,isWritableStream:q,isWritableEnded:ae,isWritableFinished:function ue(v,Z){if(!V(v))return null;if(!0===v.writableFinished)return!0;const z=v._writableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.finished?null:!!(z.finished||!1===Z&&!0===z.ended&&0===z.length))},isWritableErrored:function s(v){var Z,z;return K(v)?v.writableErrored?v.writableErrored:null!==(Z=null===(z=v._writableState)||void 0===z?void 0:z.errored)&&void 0!==Z?Z:null:null},isServerRequest:function I(v){var Z;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(Z=v.req)||void 0===Z?void 0:Z.upgradeOrConnect)},isServerResponse:w,willEmitClose:function L(v){if(!K(v))return null;const ee=v._writableState||v._readableState;return!ee&&w(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:Y}},30009:($e,j,E)=>{const g=E(40573),{ArrayPrototypeSlice:_,Error:B,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:b,ObjectDefineProperties:k,ObjectSetPrototypeOf:S,StringPrototypeToLowerCase:P,Symbol:R,SymbolHasInstance:O}=E(56389);$e.exports=w,w.WritableState=h;const{EventEmitter:A}=E(44356),V=E(91242).Stream,{Buffer:U}=E(68316),K=E(96507),{addAbortSignal:Q}=E(57062),{getHighWaterMark:q,getDefaultHighWaterMark:Y}=E(18212),{ERR_INVALID_ARG_TYPE:W,ERR_METHOD_NOT_IMPLEMENTED:re,ERR_MULTIPLE_CALLBACK:ie,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:ue,ERR_STREAM_ALREADY_FINISHED:ce,ERR_STREAM_NULL_VALUES:pe,ERR_STREAM_WRITE_AFTER_END:ve,ERR_UNKNOWN_ENCODING:De}=E(68154).codes,{errorOrDestroy:C}=K;function s(){}S(w.prototype,V.prototype),S(w,V);const d=R("kOnFinished");function h(be,he,ne){"boolean"!=typeof ne&&(ne=he instanceof E(13323)),this.objectMode=!(!be||!be.objectMode),ne&&(this.objectMode=this.objectMode||!(!be||!be.writableObjectMode)),this.highWaterMark=be?q(this,be,"writableHighWaterMark",ne):Y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(be&&!1===be.decodeStrings),this.defaultEncoding=be&&be.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,he),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,f(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!be||!1!==be.emitClose,this.autoDestroy=!be||!1!==be.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[d]=[]}function f(be){be.buffered=[],be.bufferedIndex=0,be.allBuffers=!0,be.allNoop=!0}function w(be){const he=this instanceof E(13323);if(!he&&!H(w,this))return new w(be);this._writableState=new h(be,this,he),be&&("function"==typeof be.write&&(this._write=be.write),"function"==typeof be.writev&&(this._writev=be.writev),"function"==typeof be.destroy&&(this._destroy=be.destroy),"function"==typeof be.final&&(this._final=be.final),"function"==typeof be.construct&&(this._construct=be.construct),be.signal&&Q(be.signal,this)),V.call(this,be),K.construct(this,()=>{const ne=this._writableState;ne.writing||le(this,ne),ge(this,ne)})}function I(be,he,ne,te){const de=be._writableState;if("function"==typeof ne)te=ne,ne=de.defaultEncoding;else{if(ne){if("buffer"!==ne&&!U.isEncoding(ne))throw new De(ne)}else ne=de.defaultEncoding;"function"!=typeof te&&(te=s)}if(null===he)throw new pe;if(!de.objectMode)if("string"==typeof he)!1!==de.decodeStrings&&(he=U.from(he,ne),ne="buffer");else if(he instanceof U)ne="buffer";else{if(!V._isUint8Array(he))throw new W("chunk",["string","Buffer","Uint8Array"],he);he=V._uint8ArrayToBuffer(he),ne="buffer"}let _e;return de.ending?_e=new ve:de.destroyed&&(_e=new ue("write")),_e?(g.nextTick(te,_e),C(be,_e,!0),_e):(de.pendingcb++,function L(be,he,ne,te,de){const _e=he.objectMode?1:ne.length;he.length+=_e;const Ie=he.length<he.highWaterMark;return Ie||(he.needDrain=!0),he.writing||he.corked||he.errored||!he.constructed?(he.buffered.push({chunk:ne,encoding:te,callback:de}),he.allBuffers&&"buffer"!==te&&(he.allBuffers=!1),he.allNoop&&de!==s&&(he.allNoop=!1)):(he.writelen=_e,he.writecb=de,he.writing=!0,he.sync=!0,be._write(ne,te,he.onwrite),he.sync=!1),Ie&&!he.errored&&!he.destroyed}(be,de,he,ne,te))}function x(be,he,ne,te,de,_e,Ie){he.writelen=te,he.writecb=Ie,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new ue("write")):ne?be._writev(de,he.onwrite):be._write(de,_e,he.onwrite),he.sync=!1}function a(be,he,ne,te){--he.pendingcb,te(ne),ee(he),C(be,ne)}function v(be,he){const ne=be._writableState,te=ne.sync,de=ne.writecb;"function"==typeof de?(ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0,he?(ne.errored||(ne.errored=he),be._readableState&&!be._readableState.errored&&(be._readableState.errored=he),te?g.nextTick(a,be,ne,he,de):a(be,ne,he,de)):(ne.buffered.length>ne.bufferedIndex&&le(be,ne),te?null!==ne.afterWriteTickInfo&&ne.afterWriteTickInfo.cb===de?ne.afterWriteTickInfo.count++:(ne.afterWriteTickInfo={count:1,cb:de,stream:be,state:ne},g.nextTick(Z,ne.afterWriteTickInfo)):z(be,ne,1,de))):C(be,new ie)}function Z({stream:be,state:he,count:ne,cb:te}){return he.afterWriteTickInfo=null,z(be,he,ne,te)}function z(be,he,ne,te){for(!he.ending&&!be.destroyed&&0===he.length&&he.needDrain&&(he.needDrain=!1,be.emit("drain"));ne-- >0;)he.pendingcb--,te();he.destroyed&&ee(he),ge(be,he)}function ee(be){if(be.writing)return;for(let de=be.bufferedIndex;de<be.buffered.length;++de){var he;const{chunk:_e,callback:Ie}=be.buffered[de];be.length-=be.objectMode?1:_e.length,Ie(null!==(he=be.errored)&&void 0!==he?he:new ue("write"))}const ne=be[d].splice(0);for(let de=0;de<ne.length;de++){var te;ne[de](null!==(te=be.errored)&&void 0!==te?te:new ue("end"))}f(be)}function le(be,he){if(he.corked||he.bufferProcessing||he.destroyed||!he.constructed)return;const{buffered:ne,bufferedIndex:te,objectMode:de}=he,_e=ne.length-te;if(!_e)return;let Ie=te;if(he.bufferProcessing=!0,_e>1&&be._writev){he.pendingcb-=_e-1;const He=he.allNoop?s:xt=>{for(let Ne=Ie;Ne<ne.length;++Ne)ne[Ne].callback(xt)},Ve=he.allNoop&&0===Ie?ne:_(ne,Ie);Ve.allBuffers=he.allBuffers,x(be,he,!0,he.length,Ve,"",He),f(he)}else{do{const{chunk:He,encoding:Ve,callback:xt}=ne[Ie];ne[Ie++]=null,x(be,he,!1,de?1:He.length,He,Ve,xt)}while(Ie<ne.length&&!he.writing);Ie===ne.length?f(he):Ie>256?(ne.splice(0,Ie),he.bufferedIndex=0):he.bufferedIndex=Ie}he.bufferProcessing=!1}function we(be){return be.ending&&!be.destroyed&&be.constructed&&0===be.length&&!be.errored&&0===be.buffered.length&&!be.finished&&!be.writing&&!be.errorEmitted&&!be.closeEmitted}function ge(be,he,ne){we(he)&&(function Ge(be,he){!he.prefinished&&!he.finalCalled&&("function"!=typeof be._final||he.destroyed?(he.prefinished=!0,be.emit("prefinish")):(he.finalCalled=!0,function Me(be,he){let ne=!1;function te(de){if(ne)C(be,de??ie());else if(ne=!0,he.pendingcb--,de){const _e=he[d].splice(0);for(let Ie=0;Ie<_e.length;Ie++)_e[Ie](de);C(be,de,he.sync)}else we(he)&&(he.prefinished=!0,be.emit("prefinish"),he.pendingcb++,g.nextTick(me,be,he))}he.sync=!0,he.pendingcb++;try{be._final(te)}catch(de){te(de)}he.sync=!1}(be,he)))}(be,he),0===he.pendingcb&&(ne?(he.pendingcb++,g.nextTick((te,de)=>{we(de)?me(te,de):de.pendingcb--},be,he)):we(he)&&(he.pendingcb++,me(be,he))))}function me(be,he){he.pendingcb--,he.finished=!0;const ne=he[d].splice(0);for(let te=0;te<ne.length;te++)ne[te]();if(be.emit("finish"),he.autoDestroy){const te=be._readableState;(!te||te.autoDestroy&&(te.endEmitted||!1===te.readable))&&be.destroy()}}h.prototype.getBuffer=function(){return _(this.buffered,this.bufferedIndex)},b(h.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),b(w,O,{__proto__:null,value:function(be){return!!H(this,be)||this===w&&be&&be._writableState instanceof h}}),w.prototype.pipe=function(){C(this,new ae)},w.prototype.write=function(be,he,ne){return!0===I(this,be,he,ne)},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){const be=this._writableState;be.corked&&(be.corked--,be.writing||le(this,be))},w.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=P(he)),!U.isEncoding(he))throw new De(he);return this._writableState.defaultEncoding=he,this},w.prototype._write=function(be,he,ne){if(!this._writev)throw new re("_write()");this._writev([{chunk:be,encoding:he}],ne)},w.prototype._writev=null,w.prototype.end=function(be,he,ne){const te=this._writableState;let de;if("function"==typeof be?(ne=be,be=null,he=null):"function"==typeof he&&(ne=he,he=null),null!=be){const _e=I(this,be,he);_e instanceof B&&(de=_e)}return te.corked&&(te.corked=1,this.uncork()),de||(te.errored||te.ending?te.finished?de=new ce("end"):te.destroyed&&(de=new ue("end")):(te.ending=!0,ge(this,te,!0),te.ended=!0)),"function"==typeof ne&&(de||te.finished?g.nextTick(ne,de):te[d].push(ne)),this},k(w.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(be){this._writableState&&(this._writableState.destroyed=be)}},writable:{__proto__:null,get(){const be=this._writableState;return!(!be||!1===be.writable||be.destroyed||be.errored||be.ending||be.ended)},set(be){this._writableState&&(this._writableState.writable=!!be)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const be=this._writableState;return!!be&&!be.destroyed&&!be.ending&&be.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ue=K.destroy;let xe;function Ce(){return void 0===xe&&(xe={}),xe}w.prototype.destroy=function(be,he){const ne=this._writableState;return!ne.destroyed&&(ne.bufferedIndex<ne.buffered.length||ne[d].length)&&g.nextTick(ee,ne),Ue.call(this,be,he),this},w.prototype._undestroy=K.undestroy,w.prototype._destroy=function(be,he){he(be)},w.prototype[A.captureRejectionSymbol]=function(be){this.destroy(be)},w.fromWeb=function(be,he){return Ce().newStreamWritableFromWritableStream(be,he)},w.toWeb=function(be){return Ce().newWritableStreamFromStreamWritable(be)}},99852:($e,j,E)=>{"use strict";const{ArrayIsArray:g,ArrayPrototypeIncludes:_,ArrayPrototypeJoin:B,ArrayPrototypeMap:H,NumberIsInteger:b,NumberIsNaN:k,NumberMAX_SAFE_INTEGER:S,NumberMIN_SAFE_INTEGER:P,NumberParseInt:R,ObjectPrototypeHasOwnProperty:O,RegExpPrototypeExec:A,String:V,StringPrototypeToUpperCase:U,StringPrototypeTrim:K}=E(56389),{hideStackFrames:Q,codes:{ERR_SOCKET_BAD_PORT:q,ERR_INVALID_ARG_TYPE:Y,ERR_INVALID_ARG_VALUE:W,ERR_OUT_OF_RANGE:re,ERR_UNKNOWN_SIGNAL:ie}}=E(68154),{normalizeEncoding:ae}=E(13509),{isAsyncFunction:ue,isArrayBufferView:ce}=E(13509).types,pe={},C=/^[0-7]+$/,h=Q((Ie,He,Ve=P,xt=S)=>{if("number"!=typeof Ie)throw new Y(He,"number",Ie);if(!b(Ie))throw new re(He,"an integer",Ie);if(Ie<Ve||Ie>xt)throw new re(He,`>= ${Ve} && <= ${xt}`,Ie)}),f=Q((Ie,He,Ve=-2147483648,xt=2147483647)=>{if("number"!=typeof Ie)throw new Y(He,"number",Ie);if(!b(Ie))throw new re(He,"an integer",Ie);if(Ie<Ve||Ie>xt)throw new re(He,`>= ${Ve} && <= ${xt}`,Ie)}),w=Q((Ie,He,Ve=!1)=>{if("number"!=typeof Ie)throw new Y(He,"number",Ie);if(!b(Ie))throw new re(He,"an integer",Ie);const xt=Ve?1:0,Ne=4294967295;if(Ie<xt||Ie>Ne)throw new re(He,`>= ${xt} && <= ${Ne}`,Ie)});function I(Ie,He){if("string"!=typeof Ie)throw new Y(He,"string",Ie)}const x=Q((Ie,He,Ve)=>{if(!_(Ve,Ie)){const Ne="must be one of: "+B(H(Ve,ke=>"string"==typeof ke?`'${ke}'`:V(ke)),", ");throw new W(He,Ie,Ne)}});function a(Ie,He){if("boolean"!=typeof Ie)throw new Y(He,"boolean",Ie)}function v(Ie,He,Ve){return null!=Ie&&O(Ie,He)?Ie[He]:Ve}const Z=Q((Ie,He,Ve=null)=>{const xt=v(Ve,"allowArray",!1),Ne=v(Ve,"allowFunction",!1);if(!v(Ve,"nullable",!1)&&null===Ie||!xt&&g(Ie)||"object"!=typeof Ie&&(!Ne||"function"!=typeof Ie))throw new Y(He,"Object",Ie)}),z=Q((Ie,He)=>{if(null!=Ie&&"object"!=typeof Ie&&"function"!=typeof Ie)throw new Y(He,"a dictionary",Ie)}),ee=Q((Ie,He,Ve=0)=>{if(!g(Ie))throw new Y(He,"Array",Ie);if(Ie.length<Ve)throw new W(He,Ie,`must be longer than ${Ve}`)}),ge=Q((Ie,He="buffer")=>{if(!ce(Ie))throw new Y(He,["Buffer","TypedArray","DataView"],Ie)}),xe=Q((Ie,He)=>{if(void 0!==Ie&&(null===Ie||"object"!=typeof Ie||!("aborted"in Ie)))throw new Y(He,"AbortSignal",Ie)}),Ce=Q((Ie,He)=>{if("function"!=typeof Ie)throw new Y(He,"Function",Ie)}),be=Q((Ie,He)=>{if("function"!=typeof Ie||ue(Ie))throw new Y(He,"Function",Ie)}),he=Q((Ie,He)=>{if(void 0!==Ie)throw new Y(He,"undefined",Ie)}),te=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function de(Ie,He){if(typeof Ie>"u"||!A(te,Ie))throw new W(He,Ie,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}$e.exports={isInt32:function ve(Ie){return Ie===(0|Ie)},isUint32:function De(Ie){return Ie===Ie>>>0},parseFileMode:function d(Ie,He,Ve){if(typeof Ie>"u"&&(Ie=Ve),"string"==typeof Ie){if(null===A(C,Ie))throw new W(He,Ie,"must be a 32-bit unsigned integer or an octal string");Ie=R(Ie,8)}return w(Ie,He),Ie},validateArray:ee,validateStringArray:function le(Ie,He){ee(Ie,He);for(let Ve=0;Ve<Ie.length;Ve++)I(Ie[Ve],`${He}[${Ve}]`)},validateBooleanArray:function we(Ie,He){ee(Ie,He);for(let Ve=0;Ve<Ie.length;Ve++)a(Ie[Ve],`${He}[${Ve}]`)},validateAbortSignalArray:function Me(Ie,He){ee(Ie,He);for(let Ve=0;Ve<Ie.length;Ve++){const xt=Ie[Ve],Ne=`${He}[${Ve}]`;if(null==xt)throw new Y(Ne,"AbortSignal",xt);xe(xt,Ne)}},validateBoolean:a,validateBuffer:ge,validateDictionary:z,validateEncoding:function me(Ie,He){const Ve=ae(He),xt=Ie.length;if("hex"===Ve&&xt%2!=0)throw new W("encoding",He,`is invalid for data of length ${xt}`)},validateFunction:Ce,validateInt32:f,validateInteger:h,validateNumber:function L(Ie,He,Ve=void 0,xt){if("number"!=typeof Ie)throw new Y(He,"number",Ie);if(null!=Ve&&Ie<Ve||null!=xt&&Ie>xt||(null!=Ve||null!=xt)&&k(Ie))throw new re(He,`${null!=Ve?`>= ${Ve}`:""}${null!=Ve&&null!=xt?" && ":""}${null!=xt?`<= ${xt}`:""}`,Ie)},validateObject:Z,validateOneOf:x,validatePlainFunction:be,validatePort:function Ue(Ie,He="Port",Ve=!0){if("number"!=typeof Ie&&"string"!=typeof Ie||"string"==typeof Ie&&0===K(Ie).length||+Ie!=+Ie>>>0||Ie>65535||0===Ie&&!Ve)throw new q(He,Ie,Ve);return 0|Ie},validateSignalName:function Ge(Ie,He="signal"){if(I(Ie,He),void 0===pe[Ie])throw void 0!==pe[U(Ie)]?new ie(Ie+" (signals must use all capital letters)"):new ie(Ie)},validateString:I,validateUint32:w,validateUndefined:he,validateUnion:function ne(Ie,He,Ve){if(!_(Ve,Ie))throw new Y(He,`('${B(Ve,"|")}')`,Ie)},validateAbortSignal:xe,validateLinkHeaderValue:function _e(Ie){if("string"==typeof Ie)return de(Ie,"hints"),Ie;if(g(Ie)){const He=Ie.length;let Ve="";if(0===He)return Ve;for(let xt=0;xt<He;xt++){const Ne=Ie[xt];de(Ne,"hints"),Ve+=Ne,xt!==He-1&&(Ve+=", ")}return Ve}throw new W("hints",Ie,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:($e,j,E)=>{"use strict";const g=E(33885),_=E(74870),B=g.Readable.destroy;$e.exports=g.Readable,$e.exports._uint8ArrayToBuffer=g._uint8ArrayToBuffer,$e.exports._isUint8Array=g._isUint8Array,$e.exports.isDisturbed=g.isDisturbed,$e.exports.isErrored=g.isErrored,$e.exports.isReadable=g.isReadable,$e.exports.Readable=g.Readable,$e.exports.Writable=g.Writable,$e.exports.Duplex=g.Duplex,$e.exports.Transform=g.Transform,$e.exports.PassThrough=g.PassThrough,$e.exports.addAbortSignal=g.addAbortSignal,$e.exports.finished=g.finished,$e.exports.destroy=g.destroy,$e.exports.destroy=B,$e.exports.pipeline=g.pipeline,$e.exports.compose=g.compose,Object.defineProperty(g,"promises",{configurable:!0,enumerable:!0,get:()=>_}),$e.exports.Stream=g.Stream,$e.exports.default=$e.exports},68154:($e,j,E)=>{"use strict";const{format:g,inspect:_,AggregateError:B}=E(13509),H=globalThis.AggregateError||B,b=Symbol("kIsNodeError"),k=["string","function","number","object","Function","Object","boolean","bigint","symbol"],S=/^([A-Z][a-z0-9]*)+$/,R={};function O(Y,W){if(!Y)throw new R.ERR_INTERNAL_ASSERTION(W)}function A(Y){let W="",re=Y.length;const ie="-"===Y[0]?1:0;for(;re>=ie+4;re-=3)W=`_${Y.slice(re-3,re)}${W}`;return`${Y.slice(0,re)}${W}`}function U(Y,W,re){re||(re=Error);class ie extends re{constructor(...ue){super(function V(Y,W,re){if("function"==typeof W)return O(W.length<=re.length,`Code: ${Y}; The provided arguments length (${re.length}) does not match the required ones (${W.length}).`),W(...re);const ie=(W.match(/%[dfijoOs]/g)||[]).length;return O(ie===re.length,`Code: ${Y}; The provided arguments length (${re.length}) does not match the required ones (${ie}).`),0===re.length?W:g(W,...re)}(Y,W,ue))}toString(){return`${this.name} [${Y}]: ${this.message}`}}Object.defineProperties(ie.prototype,{name:{value:re.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ie.prototype.code=Y,ie.prototype[b]=!0,R[Y]=ie}function K(Y){return Object.defineProperty(Y,"name",{value:"__node_internal_"+Y.name}),Y}class q extends Error{constructor(W="The operation was aborted",re=void 0){if(void 0!==re&&"object"!=typeof re)throw new R.ERR_INVALID_ARG_TYPE("options","Object",re);super(W,re),this.code="ABORT_ERR",this.name="AbortError"}}U("ERR_ASSERTION","%s",Error),U("ERR_INVALID_ARG_TYPE",(Y,W,re)=>{O("string"==typeof Y,"'name' must be a string"),Array.isArray(W)||(W=[W]);let ie="The ";Y.endsWith(" argument")?ie+=`${Y} `:ie+=`"${Y}" ${Y.includes(".")?"property":"argument"} `,ie+="must be ";const ae=[],ue=[],ce=[];for(const ve of W)O("string"==typeof ve,"All expected entries have to be of type string"),k.includes(ve)?ae.push(ve.toLowerCase()):S.test(ve)?ue.push(ve):(O("object"!==ve,'The value "object" should be written as "Object"'),ce.push(ve));if(ue.length>0){const ve=ae.indexOf("object");-1!==ve&&(ae.splice(ae,ve,1),ue.push("Object"))}if(ae.length>0){switch(ae.length){case 1:ie+=`of type ${ae[0]}`;break;case 2:ie+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const ve=ae.pop();ie+=`one of type ${ae.join(", ")}, or ${ve}`}}(ue.length>0||ce.length>0)&&(ie+=" or ")}if(ue.length>0){switch(ue.length){case 1:ie+=`an instance of ${ue[0]}`;break;case 2:ie+=`an instance of ${ue[0]} or ${ue[1]}`;break;default:{const ve=ue.pop();ie+=`an instance of ${ue.join(", ")}, or ${ve}`}}ce.length>0&&(ie+=" or ")}switch(ce.length){case 0:break;case 1:ce[0].toLowerCase()!==ce[0]&&(ie+="an "),ie+=`${ce[0]}`;break;case 2:ie+=`one of ${ce[0]} or ${ce[1]}`;break;default:{const ve=ce.pop();ie+=`one of ${ce.join(", ")}, or ${ve}`}}if(null==re)ie+=`. Received ${re}`;else if("function"==typeof re&&re.name)ie+=`. Received function ${re.name}`;else if("object"==typeof re){var pe;null!==(pe=re.constructor)&&void 0!==pe&&pe.name?ie+=`. Received an instance of ${re.constructor.name}`:ie+=`. Received ${_(re,{depth:-1})}`}else{let ve=_(re,{colors:!1});ve.length>25&&(ve=`${ve.slice(0,25)}...`),ie+=`. Received type ${typeof re} (${ve})`}return ie},TypeError),U("ERR_INVALID_ARG_VALUE",(Y,W,re="is invalid")=>{let ie=_(W);return ie.length>128&&(ie=ie.slice(0,128)+"..."),`The ${Y.includes(".")?"property":"argument"} '${Y}' ${re}. Received ${ie}`},TypeError),U("ERR_INVALID_RETURN_VALUE",(Y,W,re)=>{var ie;return`Expected ${Y} to be returned from the "${W}" function but got ${null!=re&&null!==(ie=re.constructor)&&void 0!==ie&&ie.name?`instance of ${re.constructor.name}`:"type "+typeof re}.`},TypeError),U("ERR_MISSING_ARGS",(...Y)=>{let W;O(Y.length>0,"At least one arg needs to be specified");const re=Y.length;switch(Y=(Array.isArray(Y)?Y:[Y]).map(ie=>`"${ie}"`).join(" or "),re){case 1:W+=`The ${Y[0]} argument`;break;case 2:W+=`The ${Y[0]} and ${Y[1]} arguments`;break;default:{const ie=Y.pop();W+=`The ${Y.join(", ")}, and ${ie} arguments`}}return`${W} must be specified`},TypeError),U("ERR_OUT_OF_RANGE",(Y,W,re)=>{let ie;return O(W,'Missing "range" argument'),Number.isInteger(re)&&Math.abs(re)>2**32?ie=A(String(re)):"bigint"==typeof re?(ie=String(re),(re>2n**32n||re<-(2n**32n))&&(ie=A(ie)),ie+="n"):ie=_(re),`The value of "${Y}" is out of range. It must be ${W}. Received ${ie}`},RangeError),U("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),U("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),U("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),U("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),U("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),U("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),U("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),U("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),U("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),U("ERR_STREAM_WRITE_AFTER_END","write after end",Error),U("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),$e.exports={AbortError:q,aggregateTwoErrors:K(function Q(Y,W){if(Y&&W&&Y!==W){if(Array.isArray(W.errors))return W.errors.push(Y),W;const re=new H([W,Y],W.message);return re.code=W.code,re}return Y||W}),hideStackFrames:K,codes:R}},56389:$e=>{"use strict";$e.exports={ArrayIsArray:j=>Array.isArray(j),ArrayPrototypeIncludes:(j,E)=>j.includes(E),ArrayPrototypeIndexOf:(j,E)=>j.indexOf(E),ArrayPrototypeJoin:(j,E)=>j.join(E),ArrayPrototypeMap:(j,E)=>j.map(E),ArrayPrototypePop:(j,E)=>j.pop(E),ArrayPrototypePush:(j,E)=>j.push(E),ArrayPrototypeSlice:(j,E,g)=>j.slice(E,g),Error,FunctionPrototypeCall:(j,E,...g)=>j.call(E,...g),FunctionPrototypeSymbolHasInstance:(j,E)=>Function.prototype[Symbol.hasInstance].call(j,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(j,E)=>Object.defineProperties(j,E),ObjectDefineProperty:(j,E,g)=>Object.defineProperty(j,E,g),ObjectGetOwnPropertyDescriptor:(j,E)=>Object.getOwnPropertyDescriptor(j,E),ObjectKeys:j=>Object.keys(j),ObjectSetPrototypeOf:(j,E)=>Object.setPrototypeOf(j,E),Promise,PromisePrototypeCatch:(j,E)=>j.catch(E),PromisePrototypeThen:(j,E,g)=>j.then(E,g),PromiseReject:j=>Promise.reject(j),PromiseResolve:j=>Promise.resolve(j),ReflectApply:Reflect.apply,RegExpPrototypeTest:(j,E)=>j.test(E),SafeSet:Set,String,StringPrototypeSlice:(j,E,g)=>j.slice(E,g),StringPrototypeToLowerCase:j=>j.toLowerCase(),StringPrototypeToUpperCase:j=>j.toUpperCase(),StringPrototypeTrim:j=>j.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(j,E,g)=>j.set(E,g),Boolean,Uint8Array}},13509:($e,j,E)=>{"use strict";var g=E(29293).default;const _=E(68316),{kResistStopPropagation:B,SymbolDispose:H}=E(56389),b=globalThis.AbortSignal||E(9465).AbortSignal,k=globalThis.AbortController||E(9465).AbortController,S=Object.getPrototypeOf(g(function*(){})).constructor,P=globalThis.Blob||_.Blob,R=typeof P<"u"?function(K){return K instanceof P}:function(K){return!1},O=(U,K)=>{if(void 0!==U&&(null===U||"object"!=typeof U||!("aborted"in U)))throw new ERR_INVALID_ARG_TYPE(K,"AbortSignal",U)};class V extends Error{constructor(K){if(!Array.isArray(K))throw new TypeError("Expected input to be an Array, got "+typeof K);let Q="";for(let q=0;q<K.length;q++)Q+=`    ${K[q].stack}\n`;super(Q),this.name="AggregateError",this.errors=K}}$e.exports={AggregateError:V,kEmptyObject:Object.freeze({}),once(U){let K=!1;return function(...Q){K||(K=!0,U.apply(this,Q))}},createDeferredPromise:function(){let U,K;return{promise:new Promise((q,Y)=>{U=q,K=Y}),resolve:U,reject:K}},promisify:U=>new Promise((K,Q)=>{U((q,...Y)=>q?Q(q):K(...Y))}),debuglog:()=>function(){},format:(U,...K)=>U.replace(/%([sdifj])/g,function(...[Q,q]){const Y=K.shift();return"f"===q?Y.toFixed(6):"j"===q?JSON.stringify(Y):"s"===q&&"object"==typeof Y?`${Y.constructor!==Object?Y.constructor.name:""} {}`.trim():Y.toString()}),inspect(U){switch(typeof U){case"string":if(U.includes("'")){if(!U.includes('"'))return`"${U}"`;if(!U.includes("`")&&!U.includes("${"))return`\`${U}\``}return`'${U}'`;case"number":return isNaN(U)?"NaN":Object.is(U,-0)?String(U):U;case"bigint":return`${String(U)}n`;case"boolean":case"undefined":return String(U);case"object":return"{}"}},types:{isAsyncFunction:U=>U instanceof S,isArrayBufferView:U=>ArrayBuffer.isView(U)},isBlob:R,deprecate:(U,K)=>U,addAbortListener:E(44356).addAbortListener||function(K,Q){if(void 0===K)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",K);let q;return O(K,"signal"),((U,K)=>{if("function"!=typeof U)throw new ERR_INVALID_ARG_TYPE("listener","Function",U)})(Q),K.aborted?queueMicrotask(()=>Q()):(K.addEventListener("abort",Q,{__proto__:null,once:!0,[B]:!0}),q=()=>{K.removeEventListener("abort",Q)}),{__proto__:null,[H](){var Y;null===(Y=q)||void 0===Y||Y()}}},AbortSignalAny:b.any||function(K){if(1===K.length)return K[0];const Q=new k,q=()=>Q.abort();return K.forEach(Y=>{O(Y,"signals"),Y.addEventListener("abort",q,{once:!0})}),Q.signal.addEventListener("abort",()=>{K.forEach(Y=>Y.removeEventListener("abort",q))},{once:!0}),Q.signal}},$e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:($e,j,E)=>{const{Buffer:g}=E(68316),{ObjectDefineProperty:_,ObjectKeys:B,ReflectApply:H}=E(56389),{promisify:{custom:b}}=E(13509),{streamReturningOperators:k,promiseReturningOperators:S}=E(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:P}}=E(68154),R=E(373),{setDefaultHighWaterMark:O,getDefaultHighWaterMark:A}=E(18212),{pipeline:V}=E(67843),{destroyer:U}=E(96507),K=E(46017),q=E(74870),Y=E(32924),W=$e.exports=E(91242).Stream;W.isDestroyed=Y.isDestroyed,W.isDisturbed=Y.isDisturbed,W.isErrored=Y.isErrored,W.isReadable=Y.isReadable,W.isWritable=Y.isWritable,W.Readable=E(84553);for(const ae of B(k)){let ce=function(...pe){if(new.target)throw P();return W.Readable.from(H(ue,this,pe))};const ue=k[ae];_(ce,"name",{__proto__:null,value:ue.name}),_(ce,"length",{__proto__:null,value:ue.length}),_(W.Readable.prototype,ae,{__proto__:null,value:ce,enumerable:!1,configurable:!0,writable:!0})}for(const ae of B(S)){let ce=function(...ve){if(new.target)throw P();return H(ue,this,ve)};const ue=S[ae];_(ce,"name",{__proto__:null,value:ue.name}),_(ce,"length",{__proto__:null,value:ue.length}),_(W.Readable.prototype,ae,{__proto__:null,value:ce,enumerable:!1,configurable:!0,writable:!0})}W.Writable=E(30009),W.Duplex=E(13323),W.Transform=E(71981),W.PassThrough=E(59447),W.pipeline=V;const{addAbortSignal:re}=E(57062);W.addAbortSignal=re,W.finished=K,W.destroy=U,W.compose=R,W.setDefaultHighWaterMark=O,W.getDefaultHighWaterMark=A,_(W,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>q}),_(V,b,{__proto__:null,enumerable:!0,get:()=>q.pipeline}),_(K,b,{__proto__:null,enumerable:!0,get:()=>q.finished}),W.Stream=W,W._isUint8Array=function(ue){return ue instanceof Uint8Array},W._uint8ArrayToBuffer=function(ue){return g.from(ue.buffer,ue.byteOffset,ue.byteLength)}},74870:($e,j,E)=>{"use strict";const{ArrayPrototypePop:g,Promise:_}=E(56389),{isIterable:B,isNodeStream:H,isWebStream:b}=E(32924),{pipelineImpl:k}=E(67843),{finished:S}=E(46017);E(33885),$e.exports={finished:S,pipeline:function P(...R){return new _((O,A)=>{let V,U;const K=R[R.length-1];if(K&&"object"==typeof K&&!H(K)&&!B(K)&&!b(K)){const Q=g(R);V=Q.signal,U=Q.end}k(R,(Q,q)=>{Q?A(Q):O(q)},{signal:V,end:U})})}}},94787:($e,j,E)=>{j.Level=E(23963).BrowserLevel},81447:$e=>{var j=1e3,E=60*j,g=60*E,_=24*g,B=7*_;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*_;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=_?P(R,O,_,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=_?Math.round(R/_)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},1424:($e,j,E)=>{E(23963)},44514:$e=>{var j=1e3,E=60*j,g=60*E,_=24*g,B=7*_;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*_;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=_?P(R,O,_,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=_?Math.round(R/_)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},89565:($e,j,E)=>{"use strict";const g=E(13981),_=E(22020),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function W(F){return+F!=F&&(F=0),S.alloc(+F)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function k(F){if(F>H)throw new RangeError('The value "'+F+'" is invalid for option "size"');const D=new Uint8Array(F);return Object.setPrototypeOf(D,S.prototype),D}function S(F,D,M){if("number"==typeof F){if("string"==typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return A(F)}return P(F,D,M)}function P(F,D,M){if("string"==typeof F)return function V(F,D){if(("string"!=typeof D||""===D)&&(D="utf8"),!S.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const M=0|re(F,D);let G=k(M);const fe=G.write(F,D);return fe!==M&&(G=G.slice(0,fe)),G}(F,D);if(ArrayBuffer.isView(F))return function K(F){if(Ve(F,Uint8Array)){const D=new Uint8Array(F);return Q(D.buffer,D.byteOffset,D.byteLength)}return U(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ve(F,ArrayBuffer)||F&&Ve(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ve(F,SharedArrayBuffer)||F&&Ve(F.buffer,SharedArrayBuffer)))return Q(F,D,M);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const G=F.valueOf&&F.valueOf();if(null!=G&&G!==F)return S.from(G,D,M);const fe=function q(F){if(S.isBuffer(F)){const D=0|Y(F.length),M=k(D);return 0===M.length||F.copy(M,0,0,D),M}return void 0!==F.length?"number"!=typeof F.length||xt(F.length)?k(0):U(F):"Buffer"===F.type&&Array.isArray(F.data)?U(F.data):void 0}(F);if(fe)return fe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return S.from(F[Symbol.toPrimitive]("string"),D,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function R(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function A(F){return R(F),k(F<0?0:0|Y(F))}function U(F){const D=F.length<0?0:0|Y(F.length),M=k(D);for(let G=0;G<D;G+=1)M[G]=255&F[G];return M}function Q(F,D,M){if(D<0||F.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<D+(M||0))throw new RangeError('"length" is outside of buffer bounds');let G;return G=void 0===D&&void 0===M?new Uint8Array(F):void 0===M?new Uint8Array(F,D):new Uint8Array(F,D,M),Object.setPrototypeOf(G,S.prototype),G}function Y(F){if(F>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|F}function re(F,D){if(S.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ve(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const M=F.length,G=arguments.length>2&&!0===arguments[2];if(!G&&0===M)return 0;let fe=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return te(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Ie(F).length;default:if(fe)return G?-1:te(F).length;D=(""+D).toLowerCase(),fe=!0}}function ie(F,D,M){let G=!1;if((void 0===D||D<0)&&(D=0),D>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(D>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return x(this,D,M);case"utf8":case"utf-8":return h(this,D,M);case"ascii":return I(this,D,M);case"latin1":case"binary":return L(this,D,M);case"base64":return d(this,D,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,D,M);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),G=!0}}function ae(F,D,M){const G=F[D];F[D]=F[M],F[M]=G}function ue(F,D,M,G,fe){if(0===F.length)return-1;if("string"==typeof M?(G=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),xt(M=+M)&&(M=fe?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(fe)return-1;M=F.length-1}else if(M<0){if(!fe)return-1;M=0}if("string"==typeof D&&(D=S.from(D,G)),S.isBuffer(D))return 0===D.length?-1:ce(F,D,M,G,fe);if("number"==typeof D)return D&=255,"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(F,D,M):Uint8Array.prototype.lastIndexOf.call(F,D,M):ce(F,[D],M,G,fe);throw new TypeError("val must be string, number or Buffer")}function ce(F,D,M,G,fe){let vt,Se=1,Ae=F.length,rt=D.length;if(void 0!==G&&("ucs2"===(G=String(G).toLowerCase())||"ucs-2"===G||"utf16le"===G||"utf-16le"===G)){if(F.length<2||D.length<2)return-1;Se=2,Ae/=2,rt/=2,M/=2}function Ht(Ot,qt){return 1===Se?Ot[qt]:Ot.readUInt16BE(qt*Se)}if(fe){let Ot=-1;for(vt=M;vt<Ae;vt++)if(Ht(F,vt)===Ht(D,-1===Ot?0:vt-Ot)){if(-1===Ot&&(Ot=vt),vt-Ot+1===rt)return Ot*Se}else-1!==Ot&&(vt-=vt-Ot),Ot=-1}else for(M+rt>Ae&&(M=Ae-rt),vt=M;vt>=0;vt--){let Ot=!0;for(let qt=0;qt<rt;qt++)if(Ht(F,vt+qt)!==Ht(D,qt)){Ot=!1;break}if(Ot)return vt}return-1}function pe(F,D,M,G){M=Number(M)||0;const fe=F.length-M;G?(G=Number(G))>fe&&(G=fe):G=fe;const Se=D.length;let Ae;for(G>Se/2&&(G=Se/2),Ae=0;Ae<G;++Ae){const rt=parseInt(D.substr(2*Ae,2),16);if(xt(rt))return Ae;F[M+Ae]=rt}return Ae}function ve(F,D,M,G){return He(te(D,F.length-M),F,M,G)}function De(F,D,M,G){return He(function de(F){const D=[];for(let M=0;M<F.length;++M)D.push(255&F.charCodeAt(M));return D}(D),F,M,G)}function C(F,D,M,G){return He(Ie(D),F,M,G)}function s(F,D,M,G){return He(function _e(F,D){let M,G,fe;const Se=[];for(let Ae=0;Ae<F.length&&!((D-=2)<0);++Ae)M=F.charCodeAt(Ae),G=M>>8,fe=M%256,Se.push(fe),Se.push(G);return Se}(D,F.length-M),F,M,G)}function d(F,D,M){return g.fromByteArray(0===D&&M===F.length?F:F.slice(D,M))}function h(F,D,M){M=Math.min(F.length,M);const G=[];let fe=D;for(;fe<M;){const Se=F[fe];let Ae=null,rt=Se>239?4:Se>223?3:Se>191?2:1;if(fe+rt<=M){let Ht,vt,Ot,qt;switch(rt){case 1:Se<128&&(Ae=Se);break;case 2:Ht=F[fe+1],128==(192&Ht)&&(qt=(31&Se)<<6|63&Ht,qt>127&&(Ae=qt));break;case 3:Ht=F[fe+1],vt=F[fe+2],128==(192&Ht)&&128==(192&vt)&&(qt=(15&Se)<<12|(63&Ht)<<6|63&vt,qt>2047&&(qt<55296||qt>57343)&&(Ae=qt));break;case 4:Ht=F[fe+1],vt=F[fe+2],Ot=F[fe+3],128==(192&Ht)&&128==(192&vt)&&128==(192&Ot)&&(qt=(15&Se)<<18|(63&Ht)<<12|(63&vt)<<6|63&Ot,qt>65535&&qt<1114112&&(Ae=qt))}}null===Ae?(Ae=65533,rt=1):Ae>65535&&(Ae-=65536,G.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),G.push(Ae),fe+=rt}return function w(F){const D=F.length;if(D<=f)return String.fromCharCode.apply(String,F);let M="",G=0;for(;G<D;)M+=String.fromCharCode.apply(String,F.slice(G,G+=f));return M}(G)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function b(){try{const F=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(F,D),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(F,D,M){return P(F,D,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(F,D,M){return function O(F,D,M){return R(F),F<=0?k(F):void 0!==D?"string"==typeof M?k(F).fill(D,M):k(F).fill(D):k(F)}(F,D,M)},S.allocUnsafe=function(F){return A(F)},S.allocUnsafeSlow=function(F){return A(F)},S.isBuffer=function(D){return null!=D&&!0===D._isBuffer&&D!==S.prototype},S.compare=function(D,M){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),Ve(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(D)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===M)return 0;let G=D.length,fe=M.length;for(let Se=0,Ae=Math.min(G,fe);Se<Ae;++Se)if(D[Se]!==M[Se]){G=D[Se],fe=M[Se];break}return G<fe?-1:fe<G?1:0},S.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(D,M){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return S.alloc(0);let G;if(void 0===M)for(M=0,G=0;G<D.length;++G)M+=D[G].length;const fe=S.allocUnsafe(M);let Se=0;for(G=0;G<D.length;++G){let Ae=D[G];if(Ve(Ae,Uint8Array))Se+Ae.length>fe.length?(S.isBuffer(Ae)||(Ae=S.from(Ae)),Ae.copy(fe,Se)):Uint8Array.prototype.set.call(fe,Ae,Se);else{if(!S.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(fe,Se)}Se+=Ae.length}return fe},S.byteLength=re,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<D;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<D;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<D;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const D=this.length;return 0===D?"":0===arguments.length?h(this,0,D):ie.apply(this,arguments)},S.prototype.equals=function(D){if(!S.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===S.compare(this,D)},S.prototype.inspect=function(){let D="";const M=j.INSPECT_MAX_BYTES;return D=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(D+=" ... "),"<Buffer "+D+">"},B&&(S.prototype[B]=S.prototype.inspect),S.prototype.compare=function(D,M,G,fe,Se){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),!S.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(void 0===M&&(M=0),void 0===G&&(G=D?D.length:0),void 0===fe&&(fe=0),void 0===Se&&(Se=this.length),M<0||G>D.length||fe<0||Se>this.length)throw new RangeError("out of range index");if(fe>=Se&&M>=G)return 0;if(fe>=Se)return-1;if(M>=G)return 1;if(this===D)return 0;let Ae=(Se>>>=0)-(fe>>>=0),rt=(G>>>=0)-(M>>>=0);const Ht=Math.min(Ae,rt),vt=this.slice(fe,Se),Ot=D.slice(M,G);for(let qt=0;qt<Ht;++qt)if(vt[qt]!==Ot[qt]){Ae=vt[qt],rt=Ot[qt];break}return Ae<rt?-1:rt<Ae?1:0},S.prototype.includes=function(D,M,G){return-1!==this.indexOf(D,M,G)},S.prototype.indexOf=function(D,M,G){return ue(this,D,M,G,!0)},S.prototype.lastIndexOf=function(D,M,G){return ue(this,D,M,G,!1)},S.prototype.write=function(D,M,G,fe){if(void 0===M)fe="utf8",G=this.length,M=0;else if(void 0===G&&"string"==typeof M)fe=M,G=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(G)?(G>>>=0,void 0===fe&&(fe="utf8")):(fe=G,G=void 0)}const Se=this.length-M;if((void 0===G||G>Se)&&(G=Se),D.length>0&&(G<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ae=!1;for(;;)switch(fe){case"hex":return pe(this,D,M,G);case"utf8":case"utf-8":return ve(this,D,M,G);case"ascii":case"latin1":case"binary":return De(this,D,M,G);case"base64":return C(this,D,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,D,M,G);default:if(Ae)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ae=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const f=4096;function I(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(127&F[fe]);return G}function L(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(F[fe]);return G}function x(F,D,M){const G=F.length;(!D||D<0)&&(D=0),(!M||M<0||M>G)&&(M=G);let fe="";for(let Se=D;Se<M;++Se)fe+=Ne[F[Se]];return fe}function a(F,D,M){const G=F.slice(D,M);let fe="";for(let Se=0;Se<G.length-1;Se+=2)fe+=String.fromCharCode(G[Se]+256*G[Se+1]);return fe}function v(F,D,M){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+D>M)throw new RangeError("Trying to access beyond buffer length")}function Z(F,D,M,G,fe,Se){if(!S.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>fe||D<Se)throw new RangeError('"value" argument is out of bounds');if(M+G>F.length)throw new RangeError("Index out of range")}function z(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,M}function ee(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M+7]=Se,Se>>=8,F[M+6]=Se,Se>>=8,F[M+5]=Se,Se>>=8,F[M+4]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M+3]=Ae,Ae>>=8,F[M+2]=Ae,Ae>>=8,F[M+1]=Ae,Ae>>=8,F[M]=Ae,M+8}function le(F,D,M,G,fe,Se){if(M+G>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function we(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,4),_.write(F,D,M,G,23,4),M+4}function Me(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,8),_.write(F,D,M,G,52,8),M+8}S.prototype.slice=function(D,M){const G=this.length;(D=~~D)<0?(D+=G)<0&&(D=0):D>G&&(D=G),(M=void 0===M?G:~~M)<0?(M+=G)<0&&(M=0):M>G&&(M=G),M<D&&(M=D);const fe=this.subarray(D,M);return Object.setPrototypeOf(fe,S.prototype),fe},S.prototype.readUintLE=S.prototype.readUIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return fe},S.prototype.readUintBE=S.prototype.readUIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D+--M],Se=1;for(;M>0&&(Se*=256);)fe+=this[D+--M]*Se;return fe},S.prototype.readUint8=S.prototype.readUInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),this[D]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]|this[D+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]<<8|this[D+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},S.prototype.readBigUInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M+256*this[++D]+65536*this[++D]+this[++D]*2**24,Se=this[++D]+256*this[++D]+65536*this[++D]+G*2**24;return BigInt(fe)+(BigInt(Se)<<BigInt(32))}),S.prototype.readBigUInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M*2**24+65536*this[++D]+256*this[++D]+this[++D],Se=this[++D]*2**24+65536*this[++D]+256*this[++D]+G;return(BigInt(fe)<<BigInt(32))+BigInt(Se)}),S.prototype.readIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return Se*=128,fe>=Se&&(fe-=Math.pow(2,8*M)),fe},S.prototype.readIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=M,Se=1,Ae=this[D+--fe];for(;fe>0&&(Se*=256);)Ae+=this[D+--fe]*Se;return Se*=128,Ae>=Se&&(Ae-=Math.pow(2,8*M)),Ae},S.prototype.readInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},S.prototype.readInt16LE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D]|this[D+1]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt16BE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D+1]|this[D]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},S.prototype.readInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},S.prototype.readBigInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];return(void 0===M||void 0===G)&&be(D,this.length-8),(BigInt(this[D+4]+256*this[D+5]+65536*this[D+6]+(G<<24))<<BigInt(32))+BigInt(M+256*this[++D]+65536*this[++D]+this[++D]*2**24)}),S.prototype.readBigInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=(M<<24)+65536*this[++D]+256*this[++D]+this[++D];return(BigInt(fe)<<BigInt(32))+BigInt(this[++D]*2**24+65536*this[++D]+256*this[++D]+G)}),S.prototype.readFloatLE=function(D,M){return D>>>=0,M||v(D,4,this.length),_.read(this,D,!0,23,4)},S.prototype.readFloatBE=function(D,M){return D>>>=0,M||v(D,4,this.length),_.read(this,D,!1,23,4)},S.prototype.readDoubleLE=function(D,M){return D>>>=0,M||v(D,8,this.length),_.read(this,D,!0,52,8)},S.prototype.readDoubleBE=function(D,M){return D>>>=0,M||v(D,8,this.length),_.read(this,D,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=1,Ae=0;for(this[M]=255&D;++Ae<G&&(Se*=256);)this[M+Ae]=D/Se&255;return M+G},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=G-1,Ae=1;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)this[M+Se]=D/Ae&255;return M+G},S.prototype.writeUint8=S.prototype.writeUInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,255,0),this[M]=255&D,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigUInt64LE=ke(function(D,M=0){return z(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ke(function(D,M=0){return ee(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Ht=Math.pow(2,8*G-1);Z(this,D,M,G,Ht-1,-Ht)}let Se=0,Ae=1,rt=0;for(this[M]=255&D;++Se<G&&(Ae*=256);)D<0&&0===rt&&0!==this[M+Se-1]&&(rt=1),this[M+Se]=(D/Ae|0)-rt&255;return M+G},S.prototype.writeIntBE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Ht=Math.pow(2,8*G-1);Z(this,D,M,G,Ht-1,-Ht)}let Se=G-1,Ae=1,rt=0;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)D<0&&0===rt&&0!==this[M+Se+1]&&(rt=1),this[M+Se]=(D/Ae|0)-rt&255;return M+G},S.prototype.writeInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,127,-128),D<0&&(D=255+D+1),this[M]=255&D,M+1},S.prototype.writeInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24,M+4},S.prototype.writeInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigInt64LE=ke(function(D,M=0){return z(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ke(function(D,M=0){return ee(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(D,M,G){return we(this,D,M,!0,G)},S.prototype.writeFloatBE=function(D,M,G){return we(this,D,M,!1,G)},S.prototype.writeDoubleLE=function(D,M,G){return Me(this,D,M,!0,G)},S.prototype.writeDoubleBE=function(D,M,G){return Me(this,D,M,!1,G)},S.prototype.copy=function(D,M,G,fe){if(!S.isBuffer(D))throw new TypeError("argument should be a Buffer");if(G||(G=0),!fe&&0!==fe&&(fe=this.length),M>=D.length&&(M=D.length),M||(M=0),fe>0&&fe<G&&(fe=G),fe===G||0===D.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),D.length-M<fe-G&&(fe=D.length-M+G);const Se=fe-G;return this===D&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,G,fe):Uint8Array.prototype.set.call(D,this.subarray(G,fe),M),Se},S.prototype.fill=function(D,M,G,fe){if("string"==typeof D){if("string"==typeof M?(fe=M,M=0,G=this.length):"string"==typeof G&&(fe=G,G=this.length),void 0!==fe&&"string"!=typeof fe)throw new TypeError("encoding must be a string");if("string"==typeof fe&&!S.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(1===D.length){const Ae=D.charCodeAt(0);("utf8"===fe&&Ae<128||"latin1"===fe)&&(D=Ae)}}else"number"==typeof D?D&=255:"boolean"==typeof D&&(D=Number(D));if(M<0||this.length<M||this.length<G)throw new RangeError("Out of range index");if(G<=M)return this;let Se;if(M>>>=0,G=void 0===G?this.length:G>>>0,D||(D=0),"number"==typeof D)for(Se=M;Se<G;++Se)this[Se]=D;else{const Ae=S.isBuffer(D)?D:S.from(D,fe),rt=Ae.length;if(0===rt)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Se=0;Se<G-M;++Se)this[Se+M]=Ae[Se%rt]}return this};const Ge={};function ge(F,D,M){Ge[F]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function me(F){let D="",M=F.length;const G="-"===F[0]?1:0;for(;M>=G+4;M-=3)D=`_${F.slice(M-3,M)}${D}`;return`${F.slice(0,M)}${D}`}function xe(F,D,M,G,fe,Se){if(F>M||F<D){const Ae="bigint"==typeof D?"n":"";let rt;throw rt=Se>3?0===D||D===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(Se+1)}${Ae}`:`>= -(2${Ae} ** ${8*(Se+1)-1}${Ae}) and < 2 ** ${8*(Se+1)-1}${Ae}`:`>= ${D}${Ae} and <= ${M}${Ae}`,new Ge.ERR_OUT_OF_RANGE("value",rt,F)}!function Ue(F,D,M){Ce(D,"offset"),(void 0===F[D]||void 0===F[D+M])&&be(D,F.length-(M+1))}(G,fe,Se)}function Ce(F,D){if("number"!=typeof F)throw new Ge.ERR_INVALID_ARG_TYPE(D,"number",F)}function be(F,D,M){throw Math.floor(F)!==F?(Ce(F,M),new Ge.ERR_OUT_OF_RANGE(M||"offset","an integer",F)):D<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${D}`,F)}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(F,D){return`The "${F}" argument must be of type number. Received type ${typeof D}`},TypeError),ge("ERR_OUT_OF_RANGE",function(F,D,M){let G=`The value of "${F}" is out of range.`,fe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?fe=me(String(M)):"bigint"==typeof M&&(fe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(fe=me(fe)),fe+="n"),G+=` It must be ${D}. Received ${fe}`,G},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function te(F,D){let M;D=D||1/0;const G=F.length;let fe=null;const Se=[];for(let Ae=0;Ae<G;++Ae){if(M=F.charCodeAt(Ae),M>55295&&M<57344){if(!fe){if(M>56319){(D-=3)>-1&&Se.push(239,191,189);continue}if(Ae+1===G){(D-=3)>-1&&Se.push(239,191,189);continue}fe=M;continue}if(M<56320){(D-=3)>-1&&Se.push(239,191,189),fe=M;continue}M=65536+(fe-55296<<10|M-56320)}else fe&&(D-=3)>-1&&Se.push(239,191,189);if(fe=null,M<128){if((D-=1)<0)break;Se.push(M)}else if(M<2048){if((D-=2)<0)break;Se.push(M>>6|192,63&M|128)}else if(M<65536){if((D-=3)<0)break;Se.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;Se.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return Se}function Ie(F){return g.toByteArray(function ne(F){if((F=(F=F.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function He(F,D,M,G){let fe;for(fe=0;fe<G&&!(fe+M>=D.length||fe>=F.length);++fe)D[fe+M]=F[fe];return fe}function Ve(F,D){return F instanceof D||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===D.name}function xt(F){return F!=F}const Ne=function(){const F="0123456789abcdef",D=new Array(256);for(let M=0;M<16;++M){const G=16*M;for(let fe=0;fe<16;++fe)D[G+fe]=F[M]+F[fe]}return D}();function ke(F){return typeof BigInt>"u"?pt:F}function pt(){throw new Error("BigInt not supported")}},24785:($e,j,E)=>{"use strict";const{AbortError:g,codes:_}=E(65109),{isNodeStream:B,isWebStream:H,kControllerErrorFunction:b}=E(51233),k=E(44268),{ERR_INVALID_ARG_TYPE:S}=_;$e.exports.addAbortSignal=function(O,A){if(((R,O)=>{if("object"!=typeof R||!("aborted"in R))throw new S("signal","AbortSignal",R)})(O),!B(A)&&!H(A))throw new S("stream",["ReadableStream","WritableStream","Stream"],A);return $e.exports.addAbortSignalNoValidate(O,A)},$e.exports.addAbortSignalNoValidate=function(R,O){if("object"!=typeof R||!("aborted"in R))return O;const A=B(O)?()=>{O.destroy(new g(void 0,{cause:R.reason}))}:()=>{O[b](new g(void 0,{cause:R.reason}))};return R.aborted?A():(R.addEventListener("abort",A),k(O,()=>R.removeEventListener("abort",A))),O}},58579:($e,j,E)=>{"use strict";const{StringPrototypeSlice:g,SymbolIterator:_,TypedArrayPrototypeSet:B,Uint8Array:H}=E(43856),{Buffer:b}=E(89565),{inspect:k}=E(55830);$e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(P){const R={data:P,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}unshift(P){const R={data:P,next:this.head};0===this.length&&(this.tail=R),this.head=R,++this.length}shift(){if(0===this.length)return;const P=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,P}clear(){this.head=this.tail=null,this.length=0}join(P){if(0===this.length)return"";let R=this.head,O=""+R.data;for(;null!==(R=R.next);)O+=P+R.data;return O}concat(P){if(0===this.length)return b.alloc(0);const R=b.allocUnsafe(P>>>0);let O=this.head,A=0;for(;O;)B(R,O.data,A),A+=O.data.length,O=O.next;return R}consume(P,R){const O=this.head.data;if(P<O.length){const A=O.slice(0,P);return this.head.data=O.slice(P),A}return P===O.length?this.shift():R?this._getString(P):this._getBuffer(P)}first(){return this.head.data}*[_](){for(let P=this.head;P;P=P.next)yield P.data}_getString(P){let R="",O=this.head,A=0;do{const V=O.data;if(!(P>V.length)){P===V.length?(R+=V,++A,this.head=O.next?O.next:this.tail=null):(R+=g(V,0,P),this.head=O,O.data=g(V,P));break}R+=V,P-=V.length,++A}while(null!==(O=O.next));return this.length-=A,R}_getBuffer(P){const R=b.allocUnsafe(P),O=P;let A=this.head,V=0;do{const U=A.data;if(!(P>U.length)){P===U.length?(B(R,U,O-P),++V,this.head=A.next?A.next:this.tail=null):(B(R,new H(U.buffer,U.byteOffset,P),O-P),this.head=A,A.data=U.slice(P));break}B(R,U,O-P),P-=U.length,++V}while(null!==(A=A.next));return this.length-=V,R}[Symbol.for("nodejs.util.inspect.custom")](P,R){return k(this,{...R,depth:0,customInspect:!1})}}},5464:($e,j,E)=>{"use strict";var g=E(29293).default;const{pipeline:_}=E(96208),B=E(97464),{destroyer:H}=E(45078),{isNodeStream:b,isReadable:k,isWritable:S,isWebStream:P,isTransformStream:R,isWritableStream:O,isReadableStream:A}=E(51233),{AbortError:V,codes:{ERR_INVALID_ARG_VALUE:U,ERR_MISSING_ARGS:K}}=E(65109),Q=E(44268);$e.exports=function(...Y){if(0===Y.length)throw new K("streams");if(1===Y.length)return B.from(Y[0]);const W=[...Y];if("function"==typeof Y[0]&&(Y[0]=B.from(Y[0])),"function"==typeof Y[Y.length-1]){const d=Y.length-1;Y[d]=B.from(Y[d])}for(let d=0;d<Y.length;++d)if(b(Y[d])||P(Y[d])){if(d<Y.length-1&&!(k(Y[d])||A(Y[d])||R(Y[d])))throw new U(`streams[${d}]`,W[d],"must be readable");if(d>0&&!(S(Y[d])||O(Y[d])||R(Y[d])))throw new U(`streams[${d}]`,W[d],"must be writable")}let re,ie,ae,ue,ce;const ve=Y[0],De=_(Y,function pe(d){const h=ue;ue=null,h?h(d):d?ce.destroy(d):!s&&!C&&ce.destroy()}),C=!!(S(ve)||O(ve)||R(ve)),s=!!(k(De)||A(De)||R(De));if(ce=new B({writableObjectMode:!(null==ve||!ve.writableObjectMode),readableObjectMode:!(null==De||!De.writableObjectMode),writable:C,readable:s}),C){if(b(ve))ce._write=function(h,f,w){ve.write(h,f)?w():re=w},ce._final=function(h){ve.end(),ie=h},ve.on("drain",function(){if(re){const h=re;re=null,h()}});else if(P(ve)){const f=(R(ve)?ve.writable:ve).getWriter();ce._write=function(){var w=g(function*(I,L,x){try{yield f.ready,f.write(I).catch(()=>{}),x()}catch(a){x(a)}});return function(I,L,x){return w.apply(this,arguments)}}(),ce._final=function(){var w=g(function*(I){try{yield f.ready,f.close().catch(()=>{}),ie=I}catch(L){I(L)}});return function(I){return w.apply(this,arguments)}}()}const d=R(De)?De.readable:De;Q(d,()=>{if(ie){const h=ie;ie=null,h()}})}if(s)if(b(De))De.on("readable",function(){if(ae){const d=ae;ae=null,d()}}),De.on("end",function(){ce.push(null)}),ce._read=function(){for(;;){const d=De.read();if(null===d)return void(ae=ce._read);if(!ce.push(d))return}};else if(P(De)){const h=(R(De)?De.readable:De).getReader();ce._read=g(function*(){for(;;)try{const{value:f,done:w}=yield h.read();if(!ce.push(f))return;if(w)return void ce.push(null)}catch{return}})}return ce._destroy=function(d,h){!d&&null!==ue&&(d=new V),ae=null,re=null,ie=null,null===ue?h(d):(ue=h,b(De)&&H(De,d))},ce}},45078:($e,j,E)=>{"use strict";const g=E(40573),{aggregateTwoErrors:_,codes:{ERR_MULTIPLE_CALLBACK:B},AbortError:H}=E(65109),{Symbol:b}=E(43856),{kDestroyed:k,isDestroyed:S,isFinished:P,isServerRequest:R}=E(51233),O=b("kDestroy"),A=b("kConstruct");function V(C,s,d){C&&(s&&!s.errored&&(s.errored=C),d&&!d.errored&&(d.errored=C))}function K(C,s,d){let h=!1;function f(w){if(h)return;h=!0;const I=C._readableState,L=C._writableState;V(w,L,I),L&&(L.closed=!0),I&&(I.closed=!0),"function"==typeof d&&d(w),w?g.nextTick(Q,C,w):g.nextTick(q,C)}try{C._destroy(s||null,f)}catch(w){f(w)}}function Q(C,s){Y(C,s),q(C)}function q(C){const s=C._readableState,d=C._writableState;d&&(d.closeEmitted=!0),s&&(s.closeEmitted=!0),(null!=d&&d.emitClose||null!=s&&s.emitClose)&&C.emit("close")}function Y(C,s){const d=C._readableState,h=C._writableState;null!=h&&h.errorEmitted||null!=d&&d.errorEmitted||(h&&(h.errorEmitted=!0),d&&(d.errorEmitted=!0),C.emit("error",s))}function re(C,s,d){const h=C._readableState,f=C._writableState;if(null!=f&&f.destroyed||null!=h&&h.destroyed)return this;null!=h&&h.autoDestroy||null!=f&&f.autoDestroy?C.destroy(s):s&&(f&&!f.errored&&(f.errored=s),h&&!h.errored&&(h.errored=s),d?g.nextTick(Y,C,s):Y(C,s))}function ae(C){let s=!1;function d(h){if(s)return void re(C,h??new B);s=!0;const f=C._readableState,w=C._writableState,I=w||f;f&&(f.constructed=!0),w&&(w.constructed=!0),I.destroyed?C.emit(O,h):h?re(C,h,!0):g.nextTick(ue,C)}try{C._construct(h=>{g.nextTick(d,h)})}catch(h){g.nextTick(d,h)}}function ue(C){C.emit(A)}function ce(C){return C?.setHeader&&"function"==typeof C.abort}function pe(C){C.emit("close")}function ve(C,s){C.emit("error",s),g.nextTick(pe,C)}$e.exports={construct:function ie(C,s){if("function"!=typeof C._construct)return;const d=C._readableState,h=C._writableState;d&&(d.constructed=!1),h&&(h.constructed=!1),C.once(A,s),!(C.listenerCount(A)>1)&&g.nextTick(ae,C)},destroyer:function De(C,s){!C||S(C)||(!s&&!P(C)&&(s=new H),R(C)?(C.socket=null,C.destroy(s)):ce(C)?C.abort():ce(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(s):"function"==typeof C.close?C.close():s?g.nextTick(ve,C,s):g.nextTick(pe,C),C.destroyed||(C[k]=!0))},destroy:function U(C,s){const d=this._readableState,h=this._writableState,f=h||d;return null!=h&&h.destroyed||null!=d&&d.destroyed?("function"==typeof s&&s(),this):(V(C,h,d),h&&(h.destroyed=!0),d&&(d.destroyed=!0),f.constructed?K(this,C,s):this.once(O,function(w){K(this,_(w,C),s)}),this)},undestroy:function W(){const C=this._readableState,s=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),s&&(s.constructed=!0,s.destroyed=!1,s.closed=!1,s.closeEmitted=!1,s.errored=null,s.errorEmitted=!1,s.finalCalled=!1,s.prefinished=!1,s.ended=!1===s.writable,s.ending=!1===s.writable,s.finished=!1===s.writable)},errorOrDestroy:re}},97464:($e,j,E)=>{"use strict";const{ObjectDefineProperties:g,ObjectGetOwnPropertyDescriptor:_,ObjectKeys:B,ObjectSetPrototypeOf:H}=E(43856);$e.exports=S;const b=E(29710),k=E(40258);H(S.prototype,b.prototype),H(S,b);{const A=B(k.prototype);for(let V=0;V<A.length;V++){const U=A[V];S.prototype[U]||(S.prototype[U]=k.prototype[U])}}function S(A){if(!(this instanceof S))return new S(A);b.call(this,A),k.call(this,A),A?(this.allowHalfOpen=!1!==A.allowHalfOpen,!1===A.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===A.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let P,O;function R(){return void 0===P&&(P={}),P}g(S.prototype,{writable:{__proto__:null,..._(k.prototype,"writable")},writableHighWaterMark:{__proto__:null,..._(k.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,..._(k.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,..._(k.prototype,"writableBuffer")},writableLength:{__proto__:null,..._(k.prototype,"writableLength")},writableFinished:{__proto__:null,..._(k.prototype,"writableFinished")},writableCorked:{__proto__:null,..._(k.prototype,"writableCorked")},writableEnded:{__proto__:null,..._(k.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,..._(k.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(A){this._readableState&&this._writableState&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}}),S.fromWeb=function(A,V){return R().newStreamDuplexFromReadableWritablePair(A,V)},S.toWeb=function(A){return R().newReadableWritablePairFromDuplex(A)},S.from=function(A){return O||(O=E(56840)),O(A,"body")}},56840:($e,j,E)=>{var g=E(29293).default,_=E(53344).default,B=E(42958).default;const H=E(40573),b=E(89565),{isReadable:k,isWritable:S,isIterable:P,isNodeStream:R,isReadableNodeStream:O,isWritableNodeStream:A,isDuplexNodeStream:V}=E(51233),U=E(44268),{AbortError:K,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_RETURN_VALUE:q}}=E(65109),{destroyer:Y}=E(45078),W=E(97464),re=E(29710),{createDeferredPromise:ie}=E(55830),ae=E(24246),ue=globalThis.Blob||b.Blob,ce=typeof ue<"u"?function(h){return h instanceof ue}:function(h){return!1},pe=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:ve}=E(43856);class De extends W{constructor(h){super(h),!1===h?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===h?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function s(d){const h=d.readable&&"function"!=typeof d.readable.read?re.wrap(d.readable):d.readable,f=d.writable;let L,x,a,v,Z,w=!!k(h),I=!!S(f);function z(ee){const le=v;v=null,le?le(ee):ee&&Z.destroy(ee)}return Z=new De({readableObjectMode:!(null==h||!h.readableObjectMode),writableObjectMode:!(null==f||!f.writableObjectMode),readable:w,writable:I}),I&&(U(f,ee=>{I=!1,ee&&Y(h,ee),z(ee)}),Z._write=function(ee,le,we){f.write(ee,le)?we():L=we},Z._final=function(ee){f.end(),x=ee},f.on("drain",function(){if(L){const ee=L;L=null,ee()}}),f.on("finish",function(){if(x){const ee=x;x=null,ee()}})),w&&(U(h,ee=>{w=!1,ee&&Y(h,ee),z(ee)}),h.on("readable",function(){if(a){const ee=a;a=null,ee()}}),h.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const ee=h.read();if(null===ee)return void(a=Z._read);if(!Z.push(ee))return}}),Z._destroy=function(ee,le){!ee&&null!==v&&(ee=new K),a=null,L=null,x=null,null===v?le(ee):(v=le,Y(f,ee),Y(h,ee))},Z}$e.exports=function d(h,f){if(V(h))return h;if(O(h))return s({readable:h});if(A(h))return s({writable:h});if(R(h))return s({writable:!1,readable:!1});if("function"==typeof h){const{value:I,write:L,final:x,destroy:a}=function C(d){let{promise:h,resolve:f}=ie();const w=new pe,I=w.signal;return{value:d(B(function*(){for(;;){const x=h;h=null;const{chunk:a,done:v,cb:Z}=yield _(x);if(H.nextTick(Z),v)return;if(I.aborted)throw new K(void 0,{cause:I.reason});({promise:h,resolve:f}=ie()),yield a}})(),{signal:I}),write(x,a,v){const Z=f;f=null,Z({chunk:x,done:!1,cb:v})},final(x){const a=f;f=null,a({done:!0,cb:x})},destroy(x,a){w.abort(),a(x)}}}(h);if(P(I))return ae(De,I,{objectMode:!0,write:L,final:x,destroy:a});const v=I?.then;if("function"==typeof v){let Z;const z=ve(v,I,ee=>{if(null!=ee)throw new q("nully","body",ee)},ee=>{Y(Z,ee)});return Z=new De({objectMode:!0,readable:!1,write:L,final(ee){x(g(function*(){try{yield z,H.nextTick(ee,null)}catch(le){H.nextTick(ee,le)}}))},destroy:a})}throw new q("Iterable, AsyncIterable or AsyncFunction",f,I)}if(ce(h))return d(h.arrayBuffer());if(P(h))return ae(De,h,{objectMode:!0,writable:!1});if("object"==typeof h?.writable||"object"==typeof h?.readable)return s({readable:null!=h&&h.readable?O(h?.readable)?h?.readable:d(h.readable):void 0,writable:null!=h&&h.writable?A(h?.writable)?h?.writable:d(h.writable):void 0});const w=h?.then;if("function"==typeof w){let I;return ve(w,h,L=>{null!=L&&I.push(L),I.push(null)},L=>{Y(I,L)}),I=new De({objectMode:!0,writable:!1,read(){}})}throw new Q(f,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],h)}},44268:($e,j,E)=>{const g=E(40573),{AbortError:_,codes:B}=E(65109),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:b}=B,{kEmptyObject:k,once:S}=E(55830),{validateAbortSignal:P,validateFunction:R,validateObject:O,validateBoolean:A}=E(44323),{Promise:V,PromisePrototypeThen:U}=E(43856),{isClosed:K,isReadable:Q,isReadableNodeStream:q,isReadableStream:Y,isReadableFinished:W,isReadableErrored:re,isWritable:ie,isWritableNodeStream:ae,isWritableStream:ue,isWritableFinished:ce,isWritableErrored:pe,isNodeStream:ve,willEmitClose:De,kIsClosedPromise:C}=E(51233),d=()=>{};function h(I,L,x){var a,v;if(2===arguments.length?(x=L,L=k):null==L?L=k:O(L,"options"),R(x,"callback"),P(L.signal,"options.signal"),x=S(x),Y(I)||ue(I))return function f(I,L,x){let a=!1,v=d;if(L.signal)if(v=()=>{a=!0,x.call(I,new _(void 0,{cause:L.signal.reason}))},L.signal.aborted)g.nextTick(v);else{const z=x;x=S((...ee)=>{L.signal.removeEventListener("abort",v),z.apply(I,ee)}),L.signal.addEventListener("abort",v)}const Z=(...z)=>{a||g.nextTick(()=>x.apply(I,z))};return U(I[C].promise,Z,Z),d}(I,L,x);if(!ve(I))throw new H("stream",["ReadableStream","WritableStream","Stream"],I);const Z=null!==(a=L.readable)&&void 0!==a?a:q(I),z=null!==(v=L.writable)&&void 0!==v?v:ae(I),ee=I._writableState,le=I._readableState,we=()=>{I.writable||ge()};let Me=De(I)&&q(I)===Z&&ae(I)===z,Ge=ce(I,!1);const ge=()=>{Ge=!0,I.destroyed&&(Me=!1),(!Me||I.readable&&!Z)&&(!Z||me)&&x.call(I)};let me=W(I,!1);const Ue=()=>{me=!0,I.destroyed&&(Me=!1),(!Me||I.writable&&!z)&&(!z||Ge)&&x.call(I)},xe=de=>{x.call(I,de)};let Ce=K(I);const be=()=>{Ce=!0;const de=pe(I)||re(I);return de&&"boolean"!=typeof de?x.call(I,de):Z&&!me&&q(I,!0)&&!W(I,!1)?x.call(I,new b):!z||Ge||ce(I,!1)?void x.call(I):x.call(I,new b)},he=()=>{Ce=!0;const de=pe(I)||re(I);if(de&&"boolean"!=typeof de)return x.call(I,de);x.call(I)},ne=()=>{I.req.on("finish",ge)};!function s(I){return I.setHeader&&"function"==typeof I.abort}(I)?z&&!ee&&(I.on("end",we),I.on("close",we)):(I.on("complete",ge),Me||I.on("abort",be),I.req?ne():I.on("request",ne)),!Me&&"boolean"==typeof I.aborted&&I.on("aborted",be),I.on("end",Ue),I.on("finish",ge),!1!==L.error&&I.on("error",xe),I.on("close",be),Ce?g.nextTick(be):null!=ee&&ee.errorEmitted||null!=le&&le.errorEmitted?Me||g.nextTick(he):(!Z&&(!Me||Q(I))&&(Ge||!1===ie(I))||!z&&(!Me||ie(I))&&(me||!1===Q(I))||le&&I.req&&I.aborted)&&g.nextTick(he);const te=()=>{x=d,I.removeListener("aborted",be),I.removeListener("complete",ge),I.removeListener("abort",be),I.removeListener("request",ne),I.req&&I.req.removeListener("finish",ge),I.removeListener("end",we),I.removeListener("close",we),I.removeListener("finish",ge),I.removeListener("end",Ue),I.removeListener("error",xe),I.removeListener("close",be)};if(L.signal&&!Ce){const de=()=>{const _e=x;te(),_e.call(I,new _(void 0,{cause:L.signal.reason}))};if(L.signal.aborted)g.nextTick(de);else{const _e=x;x=S((...Ie)=>{L.signal.removeEventListener("abort",de),_e.apply(I,Ie)}),L.signal.addEventListener("abort",de)}}return te}$e.exports=h,$e.exports.finished=function w(I,L){var x;let a=!1;return null===L&&(L=k),null!==(x=L)&&void 0!==x&&x.cleanup&&(A(L.cleanup,"cleanup"),a=L.cleanup),new V((v,Z)=>{const z=h(I,L,ee=>{a&&z(),ee?Z(ee):v()})})}},24246:($e,j,E)=>{"use strict";var g=E(29293).default;const _=E(40573),{PromisePrototypeThen:B,SymbolAsyncIterator:H,SymbolIterator:b}=E(43856),{Buffer:k}=E(89565),{ERR_INVALID_ARG_TYPE:S,ERR_STREAM_NULL_VALUES:P}=E(65109).codes;$e.exports=function R(O,A,V){let U,K;if("string"==typeof A||A instanceof k)return new O({objectMode:!0,...V,read(){this.push(A),this.push(null)}});if(A&&A[H])K=!0,U=A[H]();else{if(!A||!A[b])throw new S("iterable",["Iterable"],A);K=!1,U=A[b]()}const Q=new O({objectMode:!0,highWaterMark:1,...V});let q=!1;function W(){return(W=g(function*(ae){if(null!=ae&&"function"==typeof U.throw){const{value:pe,done:ve}=yield U.throw(ae);if(yield pe,ve)return}if("function"==typeof U.return){const{value:pe}=yield U.return();yield pe}})).apply(this,arguments)}function ie(){return(ie=g(function*(){for(;;){try{const{value:ae,done:ue}=K?yield U.next():U.next();if(ue)Q.push(null);else{const ce=ae&&"function"==typeof ae.then?yield ae:ae;if(null===ce)throw q=!1,new P;if(Q.push(ce))continue;q=!1}}catch(ae){Q.destroy(ae)}break}})).apply(this,arguments)}return Q._read=function(){q||(q=!0,function re(){ie.apply(this,arguments)}())},Q._destroy=function(ae,ue){B(function Y(ae){return W.apply(this,arguments)}(ae),()=>_.nextTick(ue,ae),ce=>_.nextTick(ue,ce||ae))},Q}},2649:($e,j,E)=>{"use strict";const{ArrayIsArray:g,ObjectSetPrototypeOf:_}=E(43856),{EventEmitter:B}=E(44356);function H(k){B.call(this,k)}function b(k,S,P){if("function"==typeof k.prependListener)return k.prependListener(S,P);k._events&&k._events[S]?g(k._events[S])?k._events[S].unshift(P):k._events[S]=[P,k._events[S]]:k.on(S,P)}_(H.prototype,B.prototype),_(H,B),H.prototype.pipe=function(k,S){const P=this;function R(q){k.writable&&!1===k.write(q)&&P.pause&&P.pause()}function O(){P.readable&&P.resume&&P.resume()}P.on("data",R),k.on("drain",O),!k._isStdio&&(!S||!1!==S.end)&&(P.on("end",V),P.on("close",U));let A=!1;function V(){A||(A=!0,k.end())}function U(){A||(A=!0,"function"==typeof k.destroy&&k.destroy())}function K(q){Q(),0===B.listenerCount(this,"error")&&this.emit("error",q)}function Q(){P.removeListener("data",R),k.removeListener("drain",O),P.removeListener("end",V),P.removeListener("close",U),P.removeListener("error",K),k.removeListener("error",K),P.removeListener("end",Q),P.removeListener("close",Q),k.removeListener("close",Q)}return b(P,"error",K),b(k,"error",K),P.on("end",Q),P.on("close",Q),k.on("close",Q),k.emit("pipe",P),k},$e.exports={Stream:H,prependListener:b}},37325:($e,j,E)=>{"use strict";var g=E(29293).default,_=E(93513).default,B=E(82881).default,H=E(53344).default,b=E(42958).default;const k=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:S,ERR_INVALID_ARG_TYPE:P,ERR_MISSING_ARGS:R,ERR_OUT_OF_RANGE:O},AbortError:A}=E(65109),{validateAbortSignal:V,validateInteger:U,validateObject:K}=E(44323),Q=E(43856).Symbol("kWeak"),{finished:q}=E(44268),Y=E(5464),{addAbortSignalNoValidate:W}=E(24785),{isWritable:re,isNodeStream:ie}=E(51233),{ArrayPrototypePush:ae,MathFloor:ue,Number:ce,NumberIsNaN:pe,Promise:ve,PromiseReject:De,PromisePrototypeThen:C,Symbol:s}=E(43856),d=s("kEmpty"),h=s("kEof");function w(ne,te){if("function"!=typeof ne)throw new P("fn",["Function","AsyncFunction"],ne);null!=te&&K(te,"options"),null!=te?.signal&&V(te.signal,"options.signal");let de=1;return null!=te?.concurrency&&(de=ue(te.concurrency)),U(de,"concurrency",1),function(){var _e=b(function*(){var He,Ve;const xt=new k,Ne=this,ke=[],pt=xt.signal,F={signal:pt},D=()=>xt.abort();null!=te&&null!==(He=te.signal)&&void 0!==He&&He.aborted&&D(),null==te||null===(Ve=te.signal)||void 0===Ve||Ve.addEventListener("abort",D);let M,G,fe=!1;function Se(){fe=!0}function rt(){return(rt=g(function*(){try{var Ot,Ht=!1,vt=!1;try{for(var mn,qt=B(Ne);Ht=!(mn=yield qt.next()).done;Ht=!1){let Tn=mn.value;var ln;if(fe)return;if(pt.aborted)throw new A;try{Tn=ne(Tn,F)}catch(rn){Tn=De(rn)}Tn!==d&&("function"==typeof(null===(ln=Tn)||void 0===ln?void 0:ln.catch)&&Tn.catch(Se),ke.push(Tn),M&&(M(),M=null),!fe&&ke.length&&ke.length>=de&&(yield new ve(rn=>{G=rn})))}}catch(Tn){vt=!0,Ot=Tn}finally{try{Ht&&null!=qt.return&&(yield qt.return())}finally{if(vt)throw Ot}}ke.push(h)}catch(Tn){const rn=De(Tn);C(rn,void 0,Se),ke.push(rn)}finally{var rr;fe=!0,M&&(M(),M=null),null==te||null===(rr=te.signal)||void 0===rr||rr.removeEventListener("abort",D)}})).apply(this,arguments)}!function Ae(){rt.apply(this,arguments)}();try{for(;;){for(;ke.length>0;){const Ht=yield H(ke[0]);if(Ht===h)return;if(pt.aborted)throw new A;Ht!==d&&(yield Ht),ke.shift(),G&&(G(),G=null)}yield H(new ve(Ht=>{M=Ht}))}}finally{xt.abort(),fe=!0,G&&(G(),G=null)}});return function Ie(){return _e.apply(this,arguments)}}().call(this)}function L(ne){return x.apply(this,arguments)}function x(){return(x=g(function*(ne,te=void 0){var Ie,de=!1,_e=!1;try{for(var He=B(we.call(this,ne,te));de=!(yield He.next()).done;de=!1)return!0}catch(xt){_e=!0,Ie=xt}finally{try{de&&null!=He.return&&(yield He.return())}finally{if(_e)throw Ie}}return!1})).apply(this,arguments)}function v(){return(v=g(function*(ne,te=void 0){if("function"!=typeof ne)throw new P("fn",["Function","AsyncFunction"],ne);return!(yield L.call(this,g(function*(...de){return!(yield ne(...de))}),te))})).apply(this,arguments)}function z(){return(z=g(function*(ne,te){var Ie,de=!1,_e=!1;try{for(var Ve,He=B(we.call(this,ne,te));de=!(Ve=yield He.next()).done;de=!1)return Ve.value}catch(xt){_e=!0,Ie=xt}finally{try{de&&null!=He.return&&(yield He.return())}finally{if(_e)throw Ie}}})).apply(this,arguments)}function le(){return le=g(function*(ne,te){if("function"!=typeof ne)throw new P("fn",["Function","AsyncFunction"],ne);function _e(){return(_e=g(function*(ke,pt){return yield ne(ke,pt),d})).apply(this,arguments)}var Ve,Ie=!1,He=!1;try{for(var xt=B(w.call(this,function de(ke,pt){return _e.apply(this,arguments)},te));Ie=!(yield xt.next()).done;Ie=!1);}catch(ke){He=!0,Ve=ke}finally{try{Ie&&null!=xt.return&&(yield xt.return())}finally{if(He)throw Ve}}}),le.apply(this,arguments)}function we(ne,te){if("function"!=typeof ne)throw new P("fn",["Function","AsyncFunction"],ne);function _e(){return(_e=g(function*(Ie,He){return(yield ne(Ie,He))?Ie:d})).apply(this,arguments)}return w.call(this,function de(Ie,He){return _e.apply(this,arguments)},te)}class Me extends R{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function ge(){return ge=g(function*(ne,te,de){var _e;if("function"!=typeof ne)throw new P("reducer",["Function","AsyncFunction"],ne);null!=de&&K(de,"options"),null!=de?.signal&&V(de.signal,"options.signal");let Ie=arguments.length>1;if(null!=de&&null!==(_e=de.signal)&&void 0!==_e&&_e.aborted){const G=new A(void 0,{cause:de.signal.reason});throw this.once("error",()=>{}),yield q(this.destroy(G)),G}const He=new k,Ve=He.signal;null!=de&&de.signal&&de.signal.addEventListener("abort",()=>He.abort(),{once:!0,[Q]:this});let xt=!1;try{var pt,Ne=!1,ke=!1;try{for(var D,F=B(this);Ne=!(D=yield F.next()).done;Ne=!1){const G=D.value;var M;if(xt=!0,null!=de&&null!==(M=de.signal)&&void 0!==M&&M.aborted)throw new A;Ie?te=yield ne(te,G,{signal:Ve}):(te=G,Ie=!0)}}catch(G){ke=!0,pt=G}finally{try{Ne&&null!=F.return&&(yield F.return())}finally{if(ke)throw pt}}if(!xt&&!Ie)throw new Me}finally{He.abort()}return te}),ge.apply(this,arguments)}function Ue(){return(Ue=g(function*(ne){null!=ne&&K(ne,"options"),null!=ne?.signal&&V(ne.signal,"options.signal");const te=[];var Ie,de=!1,_e=!1;try{for(var Ve,He=B(this);de=!(Ve=yield He.next()).done;de=!1){const Ne=Ve.value;var xt;if(null!=ne&&null!==(xt=ne.signal)&&void 0!==xt&&xt.aborted)throw new A(void 0,{cause:ne.signal.reason});ae(te,Ne)}}catch(Ne){_e=!0,Ie=Ne}finally{try{de&&null!=He.return&&(yield He.return())}finally{if(_e)throw Ie}}return te})).apply(this,arguments)}function Ce(ne){if(ne=ce(ne),pe(ne))return 0;if(ne<0)throw new O("number",">= 0",ne);return ne}$e.exports.streamReturningOperators={asIndexedPairs:function I(ne=void 0){return null!=ne&&K(ne,"options"),null!=ne?.signal&&V(ne.signal,"options.signal"),function(){var te=b(function*(){let _e=0;var Ve,Ie=!1,He=!1;try{for(var Ne,xt=B(this);Ie=!(Ne=yield H(xt.next())).done;Ie=!1){const pt=Ne.value;var ke;if(null!=ne&&null!==(ke=ne.signal)&&void 0!==ke&&ke.aborted)throw new A({cause:ne.signal.reason});yield[_e++,pt]}}catch(pt){He=!0,Ve=pt}finally{try{Ie&&null!=xt.return&&(yield H(xt.return()))}finally{if(He)throw Ve}}});return function de(){return te.apply(this,arguments)}}().call(this)},drop:function be(ne,te=void 0){return null!=te&&K(te,"options"),null!=te?.signal&&V(te.signal,"options.signal"),ne=Ce(ne),function(){var de=b(function*(){var Ie;if(null!=te&&null!==(Ie=te.signal)&&void 0!==Ie&&Ie.aborted)throw new A;var xt,He=!1,Ve=!1;try{for(var ke,Ne=B(this);He=!(ke=yield H(Ne.next())).done;He=!1){const F=ke.value;var pt;if(null!=te&&null!==(pt=te.signal)&&void 0!==pt&&pt.aborted)throw new A;ne--<=0&&(yield F)}}catch(F){Ve=!0,xt=F}finally{try{He&&null!=Ne.return&&(yield H(Ne.return()))}finally{if(Ve)throw xt}}});return function _e(){return de.apply(this,arguments)}}().call(this)},filter:we,flatMap:function xe(ne,te){const de=w.call(this,ne,te);return function(){var _e=b(function*(){var xt,He=!1,Ve=!1;try{for(var ke,Ne=B(de);He=!(ke=yield H(Ne.next())).done;He=!1){const pt=ke.value;yield*_(B(pt),H)}}catch(pt){Ve=!0,xt=pt}finally{try{He&&null!=Ne.return&&(yield H(Ne.return()))}finally{if(Ve)throw xt}}});return function Ie(){return _e.apply(this,arguments)}}().call(this)},map:w,take:function he(ne,te=void 0){return null!=te&&K(te,"options"),null!=te?.signal&&V(te.signal,"options.signal"),ne=Ce(ne),function(){var de=b(function*(){var Ie;if(null!=te&&null!==(Ie=te.signal)&&void 0!==Ie&&Ie.aborted)throw new A;var xt,He=!1,Ve=!1;try{for(var ke,Ne=B(this);He=!(ke=yield H(Ne.next())).done;He=!1){const F=ke.value;var pt;if(null!=te&&null!==(pt=te.signal)&&void 0!==pt&&pt.aborted)throw new A;if(!(ne-- >0))return;yield F}}catch(F){Ve=!0,xt=F}finally{try{He&&null!=Ne.return&&(yield H(Ne.return()))}finally{if(Ve)throw xt}}});return function _e(){return de.apply(this,arguments)}}().call(this)},compose:function f(ne,te){if(null!=te&&K(te,"options"),null!=te?.signal&&V(te.signal,"options.signal"),ie(ne)&&!re(ne))throw new S("stream",ne,"must be writable");const de=Y(this,ne);return null!=te&&te.signal&&W(te.signal,de),de}},$e.exports.promiseReturningOperators={every:function a(ne){return v.apply(this,arguments)},forEach:function ee(ne,te){return le.apply(this,arguments)},reduce:function Ge(ne,te,de){return ge.apply(this,arguments)},toArray:function me(ne){return Ue.apply(this,arguments)},some:L,find:function Z(ne,te){return z.apply(this,arguments)}}},70874:($e,j,E)=>{"use strict";const{ObjectSetPrototypeOf:g}=E(43856);$e.exports=B;const _=E(66344);function B(H){if(!(this instanceof B))return new B(H);_.call(this,H)}g(B.prototype,_.prototype),g(B,_),B.prototype._transform=function(H,b,k){k(null,H)}},96208:($e,j,E)=>{var g=E(29293).default,_=E(42958).default,B=E(53344).default,H=E(93513).default,b=E(82881).default;const k=E(40573),{ArrayIsArray:S,Promise:P,SymbolAsyncIterator:R}=E(43856),O=E(44268),{once:A}=E(55830),V=E(45078),U=E(97464),{aggregateTwoErrors:K,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_RETURN_VALUE:q,ERR_MISSING_ARGS:Y,ERR_STREAM_DESTROYED:W,ERR_STREAM_PREMATURE_CLOSE:re},AbortError:ie}=E(65109),{validateFunction:ae,validateAbortSignal:ue}=E(44323),{isIterable:ce,isReadable:pe,isReadableNodeStream:ve,isNodeStream:De,isTransformStream:C,isWebStream:s,isReadableStream:d,isReadableEnded:h}=E(51233),f=globalThis.AbortController||E(9465).AbortController;let w,I;function L(me,Ue,xe){let Ce=!1;return me.on("close",()=>{Ce=!0}),{destroy:he=>{Ce||(Ce=!0,V.destroyer(me,he||new W("pipe")))},cleanup:O(me,{readable:Ue,writable:xe},he=>{Ce=!he})}}function a(me){if(ce(me))return me;if(ve(me))return function v(me){return Z.apply(this,arguments)}(me);throw new Q("val",["Readable","Iterable","AsyncIterable"],me)}function Z(){return(Z=_(function*(me){I||(I=E(29710)),yield*H(b(I.prototype[R].call(me)),B)})).apply(this,arguments)}function z(me,Ue,xe,Ce){return ee.apply(this,arguments)}function ee(){return(ee=g(function*(me,Ue,xe,{end:Ce}){let be,he=null;const ne=Ne=>{if(Ne&&(be=Ne),he){const ke=he;he=null,ke()}},te=()=>new P((Ne,ke)=>{be?ke(be):he=()=>{be?ke(be):Ne()}});Ue.on("drain",ne);const de=O(Ue,{readable:!1},ne);try{Ue.writableNeedDrain&&(yield te());var He,_e=!1,Ie=!1;try{for(var xt,Ve=b(me);_e=!(xt=yield Ve.next()).done;_e=!1)Ue.write(xt.value)||(yield te())}catch(Ne){Ie=!0,He=Ne}finally{try{_e&&null!=Ve.return&&(yield Ve.return())}finally{if(Ie)throw He}}Ce&&Ue.end(),yield te(),xe()}catch(Ne){xe(be!==Ne?K(be,Ne):Ne)}finally{de(),Ue.off("drain",ne)}})).apply(this,arguments)}function le(me,Ue,xe,Ce){return we.apply(this,arguments)}function we(){return(we=g(function*(me,Ue,xe,{end:Ce}){C(Ue)&&(Ue=Ue.writable);const be=Ue.getWriter();try{var te,he=!1,ne=!1;try{for(var _e,de=b(me);he=!(_e=yield de.next()).done;he=!1){const Ie=_e.value;yield be.ready,be.write(Ie).catch(()=>{})}}catch(Ie){ne=!0,te=Ie}finally{try{he&&null!=de.return&&(yield de.return())}finally{if(ne)throw te}}yield be.ready,Ce&&(yield be.close()),xe()}catch(Ie){try{yield be.abort(Ie),xe(Ie)}catch(He){xe(He)}}})).apply(this,arguments)}function Ge(me,Ue,xe){if(1===me.length&&S(me[0])&&(me=me[0]),me.length<2)throw new Y("streams");const Ce=new f,be=Ce.signal,he=xe?.signal,ne=[];function te(){xt(new ie)}let de,_e;ue(he,"options.signal"),he?.addEventListener("abort",te);const Ie=[];let Ne,He=0;function Ve(D){xt(D,0==--He)}function xt(D,M){if(D&&(!de||"ERR_STREAM_PREMATURE_CLOSE"===de.code)&&(de=D),de||M){for(;Ie.length;)Ie.shift()(de);he?.removeEventListener("abort",te),Ce.abort(),M&&(de||ne.forEach(G=>G()),k.nextTick(Ue,de,_e))}}for(let D=0;D<me.length;D++){const M=me[D],G=D<me.length-1,fe=D>0,Se=G||!1!==xe?.end,Ae=D===me.length-1;if(De(M)){let rt=function(Ht){Ht&&"AbortError"!==Ht.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Ht.code&&Ve(Ht)};if(Se){const{destroy:Ht,cleanup:vt}=L(M,G,fe);Ie.push(Ht),pe(M)&&Ae&&ne.push(vt)}M.on("error",rt),pe(M)&&Ae&&ne.push(()=>{M.removeListener("error",rt)})}if(0===D)if("function"==typeof M){if(Ne=M({signal:be}),!ce(Ne))throw new q("Iterable, AsyncIterable or Stream","source",Ne)}else Ne=ce(M)||ve(M)||C(M)?M:U.from(M);else if("function"==typeof M){var ke;if(Ne=C(Ne)?a(null===(ke=Ne)||void 0===ke?void 0:ke.readable):a(Ne),Ne=M(Ne,{signal:be}),G){if(!ce(Ne,!0))throw new q("AsyncIterable",`transform[${D-1}]`,Ne)}else{var pt;w||(w=E(70874));const rt=new w({objectMode:!0}),Ht=null===(pt=Ne)||void 0===pt?void 0:pt.then;if("function"==typeof Ht)He++,Ht.call(Ne,qt=>{_e=qt,null!=qt&&rt.write(qt),Se&&rt.end(),k.nextTick(Ve)},qt=>{rt.destroy(qt),k.nextTick(Ve,qt)});else if(ce(Ne,!0))He++,z(Ne,rt,Ve,{end:Se});else{if(!d(Ne)&&!C(Ne))throw new q("AsyncIterable or Promise","destination",Ne);He++,z(Ne.readable||Ne,rt,Ve,{end:Se})}Ne=rt;const{destroy:vt,cleanup:Ot}=L(Ne,!1,!0);Ie.push(vt),Ae&&ne.push(Ot)}}else if(De(M)){if(ve(Ne)){He+=2;const rt=ge(Ne,M,Ve,{end:Se});pe(M)&&Ae&&ne.push(rt)}else if(C(Ne)||d(Ne))He++,z(Ne.readable||Ne,M,Ve,{end:Se});else{if(!ce(Ne))throw new Q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ne);He++,z(Ne,M,Ve,{end:Se})}Ne=M}else if(s(M)){if(ve(Ne))He++,le(a(Ne),M,Ve,{end:Se});else if(d(Ne)||ce(Ne))He++,le(Ne,M,Ve,{end:Se});else{if(!C(Ne))throw new Q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ne);He++,le(Ne.readable,M,Ve,{end:Se})}Ne=M}else Ne=U.from(M)}return(null!=be&&be.aborted||null!=he&&he.aborted)&&k.nextTick(te),Ne}function ge(me,Ue,xe,{end:Ce}){let be=!1;if(Ue.on("close",()=>{be||xe(new re)}),me.pipe(Ue,{end:!1}),Ce){let ne=function(){be=!0,Ue.end()};h(me)?k.nextTick(ne):me.once("end",ne)}else xe();return O(me,{readable:!0,writable:!1},ne=>{const te=me._readableState;ne&&"ERR_STREAM_PREMATURE_CLOSE"===ne.code&&te&&te.ended&&!te.errored&&!te.errorEmitted?me.once("end",xe).once("error",xe):xe(ne)}),O(Ue,{readable:!1,writable:!0},xe)}$e.exports={pipelineImpl:Ge,pipeline:function Me(...me){return Ge(me,A(function x(me){return ae(me[me.length-1],"streams[stream.length - 1]"),me.pop()}(me)))}}},29710:($e,j,E)=>{var g=E(53344).default,_=E(42958).default;const B=E(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:b,NumberIsNaN:k,NumberParseInt:S,ObjectDefineProperties:P,ObjectKeys:R,ObjectSetPrototypeOf:O,Promise:A,SafeSet:V,SymbolAsyncIterator:U,Symbol:K}=E(43856);$e.exports=z,z.ReadableState=Z;const{EventEmitter:Q}=E(44356),{Stream:q,prependListener:Y}=E(2649),{Buffer:W}=E(89565),{addAbortSignal:re}=E(24785),ie=E(44268);let ae=E(55830).debuglog("stream",M=>{ae=M});const ue=E(58579),ce=E(45078),{getHighWaterMark:pe,getDefaultHighWaterMark:ve}=E(31081),{aggregateTwoErrors:De,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:s,ERR_OUT_OF_RANGE:d,ERR_STREAM_PUSH_AFTER_EOF:h,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:f}}=E(65109),{validateObject:w}=E(44323),I=K("kPaused"),{StringDecoder:L}=E(78454),x=E(24246);O(z.prototype,q.prototype),O(z,q);const a=()=>{},{errorOrDestroy:v}=ce;function Z(M,G,fe){"boolean"!=typeof fe&&(fe=G instanceof E(97464)),this.objectMode=!(!M||!M.objectMode),fe&&(this.objectMode=this.objectMode||!(!M||!M.readableObjectMode)),this.highWaterMark=M?pe(this,M,"readableHighWaterMark",fe):ve(!1),this.buffer=new ue,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[I]=null,this.errorEmitted=!1,this.emitClose=!M||!1!==M.emitClose,this.autoDestroy=!M||!1!==M.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,M&&M.encoding&&(this.decoder=new L(M.encoding),this.encoding=M.encoding)}function z(M){if(!(this instanceof z))return new z(M);const G=this instanceof E(97464);this._readableState=new Z(M,this,G),M&&("function"==typeof M.read&&(this._read=M.read),"function"==typeof M.destroy&&(this._destroy=M.destroy),"function"==typeof M.construct&&(this._construct=M.construct),M.signal&&!G&&re(M.signal,this)),q.call(this,M),ce.construct(this,()=>{this._readableState.needReadable&&xe(this,this._readableState)})}function ee(M,G,fe,Se){ae("readableAddChunk",G);const Ae=M._readableState;let rt;if(Ae.objectMode||("string"==typeof G?Ae.encoding!==(fe=fe||Ae.defaultEncoding)&&(Se&&Ae.encoding?G=W.from(G,fe).toString(Ae.encoding):(G=W.from(G,fe),fe="")):G instanceof W?fe="":q._isUint8Array(G)?(G=q._uint8ArrayToBuffer(G),fe=""):null!=G&&(rt=new C("chunk",["string","Buffer","Uint8Array"],G))),rt)v(M,rt);else if(null===G)Ae.reading=!1,function ge(M,G){if(ae("onEofChunk"),!G.ended){if(G.decoder){const fe=G.decoder.end();fe&&fe.length&&(G.buffer.push(fe),G.length+=G.objectMode?1:fe.length)}G.ended=!0,G.sync?me(M):(G.needReadable=!1,G.emittedReadable=!0,Ue(M))}}(M,Ae);else if(Ae.objectMode||G&&G.length>0)if(Se)if(Ae.endEmitted)v(M,new f);else{if(Ae.destroyed||Ae.errored)return!1;le(M,Ae,G,!0)}else if(Ae.ended)v(M,new h);else{if(Ae.destroyed||Ae.errored)return!1;Ae.reading=!1,Ae.decoder&&!fe?(G=Ae.decoder.write(G),Ae.objectMode||0!==G.length?le(M,Ae,G,!1):xe(M,Ae)):le(M,Ae,G,!1)}else Se||(Ae.reading=!1,xe(M,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||0===Ae.length)}function le(M,G,fe,Se){G.flowing&&0===G.length&&!G.sync&&M.listenerCount("data")>0?(G.multiAwaitDrain?G.awaitDrainWriters.clear():G.awaitDrainWriters=null,G.dataEmitted=!0,M.emit("data",fe)):(G.length+=G.objectMode?1:fe.length,Se?G.buffer.unshift(fe):G.buffer.push(fe),G.needReadable&&me(M)),xe(M,G)}function Ge(M,G){return M<=0||0===G.length&&G.ended?0:G.objectMode?1:k(M)?G.flowing&&G.length?G.buffer.first().length:G.length:M<=G.length?M:G.ended?G.length:0}function me(M){const G=M._readableState;ae("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(ae("emitReadable",G.flowing),G.emittedReadable=!0,B.nextTick(Ue,M))}function Ue(M){const G=M._readableState;ae("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&!G.errored&&(G.length||G.ended)&&(M.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,_e(M)}function xe(M,G){!G.readingMore&&G.constructed&&(G.readingMore=!0,B.nextTick(Ce,M,G))}function Ce(M,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&0===G.length);){const fe=G.length;if(ae("maybeReadMore read 0"),M.read(0),fe===G.length)break}G.readingMore=!1}function he(M){const G=M._readableState;G.readableListening=M.listenerCount("readable")>0,G.resumeScheduled&&!1===G[I]?G.flowing=!0:M.listenerCount("data")>0?M.resume():G.readableListening||(G.flowing=null)}function ne(M){ae("readable nexttick read 0"),M.read(0)}function de(M,G){ae("resume",G.reading),G.reading||M.read(0),G.resumeScheduled=!1,M.emit("resume"),_e(M),G.flowing&&!G.reading&&M.read(0)}function _e(M){const G=M._readableState;for(ae("flow",G.flowing);G.flowing&&null!==M.read(););}function Ie(M,G){"function"!=typeof M.read&&(M=z.wrap(M,{objectMode:!0}));const fe=function He(M,G){return Ve.apply(this,arguments)}(M,G);return fe.stream=M,fe}function Ve(){return(Ve=_(function*(M,G){let Ae,fe=a;function Se(Ht){this===M?(fe(),fe=a):fe=Ht}M.on("readable",Se);const rt=ie(M,{writable:!1},Ht=>{Ae=Ht?De(Ae,Ht):null,fe(),fe=a});try{for(;;){const Ht=M.destroyed?null:M.read();if(null!==Ht)yield Ht;else{if(Ae)throw Ae;if(null===Ae)return;yield g(new A(Se))}}}catch(Ht){throw Ae=De(Ae,Ht),Ae}finally{!Ae&&!1===G?.destroyOnReturn||void 0!==Ae&&!M._readableState.autoDestroy?(M.off("readable",Se),rt()):ce.destroyer(M,null)}})).apply(this,arguments)}function xt(M,G){if(0===G.length)return null;let fe;return G.objectMode?fe=G.buffer.shift():!M||M>=G.length?(fe=G.decoder?G.buffer.join(""):1===G.buffer.length?G.buffer.first():G.buffer.concat(G.length),G.buffer.clear()):fe=G.buffer.consume(M,G.decoder),fe}function Ne(M){const G=M._readableState;ae("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,B.nextTick(ke,G,M))}function ke(M,G){if(ae("endReadableNT",M.endEmitted,M.length),!M.errored&&!M.closeEmitted&&!M.endEmitted&&0===M.length)if(M.endEmitted=!0,G.emit("end"),G.writable&&!1===G.allowHalfOpen)B.nextTick(pt,G);else if(M.autoDestroy){const fe=G._writableState;(!fe||fe.autoDestroy&&(fe.finished||!1===fe.writable))&&G.destroy()}}function pt(M){M.writable&&!M.writableEnded&&!M.destroyed&&M.end()}let F;function D(){return void 0===F&&(F={}),F}z.prototype.destroy=ce.destroy,z.prototype._undestroy=ce.undestroy,z.prototype._destroy=function(M,G){G(M)},z.prototype[Q.captureRejectionSymbol]=function(M){this.destroy(M)},z.prototype.push=function(M,G){return ee(this,M,G,!1)},z.prototype.unshift=function(M,G){return ee(this,M,G,!0)},z.prototype.isPaused=function(){const M=this._readableState;return!0===M[I]||!1===M.flowing},z.prototype.setEncoding=function(M){const G=new L(M);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;const fe=this._readableState.buffer;let Se="";for(const Ae of fe)Se+=G.write(Ae);return fe.clear(),""!==Se&&fe.push(Se),this._readableState.length=Se.length,this},z.prototype.read=function(M){ae("read",M),void 0===M?M=NaN:b(M)||(M=S(M,10));const G=this._readableState,fe=M;if(M>G.highWaterMark&&(G.highWaterMark=function Me(M){if(M>1073741824)throw new d("size","<= 1GiB",M);return M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,++M}(M)),0!==M&&(G.emittedReadable=!1),0===M&&G.needReadable&&((0!==G.highWaterMark?G.length>=G.highWaterMark:G.length>0)||G.ended))return ae("read: emitReadable",G.length,G.ended),0===G.length&&G.ended?Ne(this):me(this),null;if(0===(M=Ge(M,G))&&G.ended)return 0===G.length&&Ne(this),null;let Ae,Se=G.needReadable;if(ae("need readable",Se),(0===G.length||G.length-M<G.highWaterMark)&&(Se=!0,ae("length less than watermark",Se)),G.ended||G.reading||G.destroyed||G.errored||!G.constructed)Se=!1,ae("reading, ended or constructing",Se);else if(Se){ae("do read"),G.reading=!0,G.sync=!0,0===G.length&&(G.needReadable=!0);try{this._read(G.highWaterMark)}catch(rt){v(this,rt)}G.sync=!1,G.reading||(M=Ge(fe,G))}return Ae=M>0?xt(M,G):null,null===Ae?(G.needReadable=G.length<=G.highWaterMark,M=0):(G.length-=M,G.multiAwaitDrain?G.awaitDrainWriters.clear():G.awaitDrainWriters=null),0===G.length&&(G.ended||(G.needReadable=!0),fe!==M&&G.ended&&Ne(this)),null!==Ae&&!G.errorEmitted&&!G.closeEmitted&&(G.dataEmitted=!0,this.emit("data",Ae)),Ae},z.prototype._read=function(M){throw new s("_read()")},z.prototype.pipe=function(M,G){const fe=this,Se=this._readableState;1===Se.pipes.length&&(Se.multiAwaitDrain||(Se.multiAwaitDrain=!0,Se.awaitDrainWriters=new V(Se.awaitDrainWriters?[Se.awaitDrainWriters]:[]))),Se.pipes.push(M),ae("pipe count=%d opts=%j",Se.pipes.length,G);const rt=G&&!1===G.end||M===B.stdout||M===B.stderr?dt:vt;function vt(){ae("onend"),M.end()}Se.endEmitted?B.nextTick(rt):fe.once("end",rt),M.on("unpipe",function Ht(it,Wt){ae("onunpipe"),it===fe&&Wt&&!1===Wt.hasUnpiped&&(Wt.hasUnpiped=!0,function mn(){ae("cleanup"),M.removeListener("close",rn),M.removeListener("finish",Xt),Ot&&M.removeListener("drain",Ot),M.removeListener("error",Tn),M.removeListener("unpipe",Ht),fe.removeListener("end",vt),fe.removeListener("end",dt),fe.removeListener("data",rr),qt=!0,Ot&&Se.awaitDrainWriters&&(!M._writableState||M._writableState.needDrain)&&Ot()}())});let Ot,qt=!1;function ln(){qt||(1===Se.pipes.length&&Se.pipes[0]===M?(ae("false write response, pause",0),Se.awaitDrainWriters=M,Se.multiAwaitDrain=!1):Se.pipes.length>1&&Se.pipes.includes(M)&&(ae("false write response, pause",Se.awaitDrainWriters.size),Se.awaitDrainWriters.add(M)),fe.pause()),Ot||(Ot=function be(M,G){return function(){const Se=M._readableState;Se.awaitDrainWriters===G?(ae("pipeOnDrain",1),Se.awaitDrainWriters=null):Se.multiAwaitDrain&&(ae("pipeOnDrain",Se.awaitDrainWriters.size),Se.awaitDrainWriters.delete(G)),(!Se.awaitDrainWriters||0===Se.awaitDrainWriters.size)&&M.listenerCount("data")&&M.resume()}}(fe,M),M.on("drain",Ot))}function rr(it){ae("ondata");const Wt=M.write(it);ae("dest.write",Wt),!1===Wt&&ln()}function Tn(it){if(ae("onerror",it),dt(),M.removeListener("error",Tn),0===M.listenerCount("error")){const Wt=M._writableState||M._readableState;Wt&&!Wt.errorEmitted?v(M,it):M.emit("error",it)}}function rn(){M.removeListener("finish",Xt),dt()}function Xt(){ae("onfinish"),M.removeListener("close",rn),dt()}function dt(){ae("unpipe"),fe.unpipe(M)}return fe.on("data",rr),Y(M,"error",Tn),M.once("close",rn),M.once("finish",Xt),M.emit("pipe",fe),!0===M.writableNeedDrain?Se.flowing&&ln():Se.flowing||(ae("pipe resume"),fe.resume()),M},z.prototype.unpipe=function(M){const G=this._readableState;if(0===G.pipes.length)return this;if(!M){const Ae=G.pipes;G.pipes=[],this.pause();for(let rt=0;rt<Ae.length;rt++)Ae[rt].emit("unpipe",this,{hasUnpiped:!1});return this}const Se=H(G.pipes,M);return-1===Se||(G.pipes.splice(Se,1),0===G.pipes.length&&this.pause(),M.emit("unpipe",this,{hasUnpiped:!1})),this},z.prototype.addListener=z.prototype.on=function(M,G){const fe=q.prototype.on.call(this,M,G),Se=this._readableState;return"data"===M?(Se.readableListening=this.listenerCount("readable")>0,!1!==Se.flowing&&this.resume()):"readable"===M&&!Se.endEmitted&&!Se.readableListening&&(Se.readableListening=Se.needReadable=!0,Se.flowing=!1,Se.emittedReadable=!1,ae("on readable",Se.length,Se.reading),Se.length?me(this):Se.reading||B.nextTick(ne,this)),fe},z.prototype.off=z.prototype.removeListener=function(M,G){const fe=q.prototype.removeListener.call(this,M,G);return"readable"===M&&B.nextTick(he,this),fe},z.prototype.removeAllListeners=function(M){const G=q.prototype.removeAllListeners.apply(this,arguments);return("readable"===M||void 0===M)&&B.nextTick(he,this),G},z.prototype.resume=function(){const M=this._readableState;return M.flowing||(ae("resume"),M.flowing=!M.readableListening,function te(M,G){G.resumeScheduled||(G.resumeScheduled=!0,B.nextTick(de,M,G))}(this,M)),M[I]=!1,this},z.prototype.pause=function(){return ae("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ae("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[I]=!0,this},z.prototype.wrap=function(M){let G=!1;M.on("data",Se=>{!this.push(Se)&&M.pause&&(G=!0,M.pause())}),M.on("end",()=>{this.push(null)}),M.on("error",Se=>{v(this,Se)}),M.on("close",()=>{this.destroy()}),M.on("destroy",()=>{this.destroy()}),this._read=()=>{G&&M.resume&&(G=!1,M.resume())};const fe=R(M);for(let Se=1;Se<fe.length;Se++){const Ae=fe[Se];void 0===this[Ae]&&"function"==typeof M[Ae]&&(this[Ae]=M[Ae].bind(M))}return this},z.prototype[U]=function(){return Ie(this)},z.prototype.iterator=function(M){return void 0!==M&&w(M,"options"),Ie(this,M)},P(z.prototype,{readable:{__proto__:null,get(){const M=this._readableState;return!(!M||!1===M.readable||M.destroyed||M.errorEmitted||M.endEmitted)},set(M){this._readableState&&(this._readableState.readable=!!M)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(M){this._readableState&&(this._readableState.destroyed=M)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),P(Z.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[I]},set(M){this[I]=!!M}}}),z._fromList=xt,z.from=function(M,G){return x(z,M,G)},z.fromWeb=function(M,G){return D().newStreamReadableFromReadableStream(M,G)},z.toWeb=function(M,G){return D().newReadableStreamFromStreamReadable(M,G)},z.wrap=function(M,G){var fe,Se;return new z({objectMode:null===(fe=null!==(Se=M.readableObjectMode)&&void 0!==Se?Se:M.objectMode)||void 0===fe||fe,...G,destroy(Ae,rt){ce.destroyer(M,Ae),rt(Ae)}}).wrap(M)}},31081:($e,j,E)=>{"use strict";const{MathFloor:g,NumberIsInteger:_}=E(43856),{ERR_INVALID_ARG_VALUE:B}=E(65109).codes;function b(S){return S?16:16384}$e.exports={getHighWaterMark:function k(S,P,R,O){const A=function H(S,P,R){return null!=S.highWaterMark?S.highWaterMark:P?S[R]:null}(P,O,R);if(null!=A){if(!_(A)||A<0)throw new B(O?`options.${R}`:"options.highWaterMark",A);return g(A)}return b(S.objectMode)},getDefaultHighWaterMark:b}},66344:($e,j,E)=>{"use strict";const{ObjectSetPrototypeOf:g,Symbol:_}=E(43856);$e.exports=S;const{ERR_METHOD_NOT_IMPLEMENTED:B}=E(65109).codes,H=E(97464),{getHighWaterMark:b}=E(31081);g(S.prototype,H.prototype),g(S,H);const k=_("kCallback");function S(O){if(!(this instanceof S))return new S(O);const A=O?b(this,O,"readableHighWaterMark",!0):null;0===A&&(O={...O,highWaterMark:null,readableHighWaterMark:A,writableHighWaterMark:O.writableHighWaterMark||0}),H.call(this,O),this._readableState.sync=!1,this[k]=null,O&&("function"==typeof O.transform&&(this._transform=O.transform),"function"==typeof O.flush&&(this._flush=O.flush)),this.on("prefinish",R)}function P(O){"function"!=typeof this._flush||this.destroyed?(this.push(null),O&&O()):this._flush((A,V)=>{A?O?O(A):this.destroy(A):(null!=V&&this.push(V),this.push(null),O&&O())})}function R(){this._final!==P&&P.call(this)}S.prototype._final=P,S.prototype._transform=function(O,A,V){throw new B("_transform()")},S.prototype._write=function(O,A,V){const U=this._readableState,K=this._writableState,Q=U.length;this._transform(O,A,(q,Y)=>{q?V(q):(null!=Y&&this.push(Y),K.ended||Q===U.length||U.length<U.highWaterMark?V():this[k]=V)})},S.prototype._read=function(){if(this[k]){const O=this[k];this[k]=null,O()}}},51233:($e,j,E)=>{"use strict";const{Symbol:g,SymbolAsyncIterator:_,SymbolIterator:B,SymbolFor:H}=E(43856),b=g("kDestroyed"),k=g("kIsErrored"),S=g("kIsReadable"),P=g("kIsDisturbed"),R=H("nodejs.webstream.isClosedPromise"),O=H("nodejs.webstream.controllerErrorFunction");function A(v,Z=!1){var z;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||Z&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(z=v._readableState)||void 0===z?void 0:z.readable)||v._writableState&&!v._readableState)}function V(v){var Z;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(Z=v._writableState)||void 0===Z?void 0:Z.writable))}function K(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function Q(v){return!(!v||K(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function q(v){return!(!v||K(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function Y(v){return!(!v||K(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ie(v){if(!K(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[b]||null!=ee&&ee.destroyed)}function ae(v){if(!V(v))return null;if(!0===v.writableEnded)return!0;const Z=v._writableState;return(null==Z||!Z.errored)&&("boolean"!=typeof Z?.ended?null:Z.ended)}function pe(v,Z){if(!A(v))return null;const z=v._readableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.endEmitted?null:!!(z.endEmitted||!1===Z&&!0===z.ended&&0===z.length))}function ve(v){return v&&null!=v[S]?v[S]:"boolean"!=typeof v?.readable?null:!ie(v)&&A(v)&&v.readable&&!pe(v)}function De(v){return"boolean"!=typeof v?.writable?null:!ie(v)&&V(v)&&v.writable&&!ae(v)}function f(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function w(v){return"boolean"==typeof v._sent100&&f(v)}$e.exports={kDestroyed:b,isDisturbed:function x(v){var Z;return!(!v||!(null!==(Z=v[P])&&void 0!==Z?Z:v.readableDidRead||v.readableAborted))},kIsDisturbed:P,isErrored:function a(v){var Z,z,ee,le,we,Me,Ge,ge,me,Ue;return!(!v||!(null!==(Z=null!==(z=null!==(ee=null!==(le=null!==(we=null!==(Me=v[k])&&void 0!==Me?Me:v.readableErrored)&&void 0!==we?we:v.writableErrored)&&void 0!==le?le:null===(Ge=v._readableState)||void 0===Ge?void 0:Ge.errorEmitted)&&void 0!==ee?ee:null===(ge=v._writableState)||void 0===ge?void 0:ge.errorEmitted)&&void 0!==z?z:null===(me=v._readableState)||void 0===me?void 0:me.errored)&&void 0!==Z?Z:null!==(Ue=v._writableState)&&void 0!==Ue&&Ue.errored))},kIsErrored:k,isReadable:ve,kIsReadable:S,kIsClosedPromise:R,kControllerErrorFunction:O,isClosed:function h(v){if(!K(v))return null;if("boolean"==typeof v.closed)return v.closed;const Z=v._writableState,z=v._readableState;return"boolean"==typeof Z?.closed||"boolean"==typeof z?.closed?Z?.closed||z?.closed:"boolean"==typeof v._closed&&f(v)?v._closed:null},isDestroyed:ie,isDuplexNodeStream:function U(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,Z){return K(v)?!!ie(v)||!(!1!==Z?.readable&&ve(v)||!1!==Z?.writable&&De(v)):null},isIterable:function re(v,Z){return null!=v&&(!0===Z?"function"==typeof v[_]:!1===Z?"function"==typeof v[B]:"function"==typeof v[_]||"function"==typeof v[B])},isReadableNodeStream:A,isReadableStream:Q,isReadableEnded:function ce(v){if(!A(v))return null;if(!0===v.readableEnded)return!0;const Z=v._readableState;return!(!Z||Z.errored)&&("boolean"!=typeof Z?.ended?null:Z.ended)},isReadableFinished:pe,isReadableErrored:function d(v){var Z,z;return K(v)?v.readableErrored?v.readableErrored:null!==(Z=null===(z=v._readableState)||void 0===z?void 0:z.errored)&&void 0!==Z?Z:null:null},isNodeStream:K,isWebStream:function W(v){return Q(v)||q(v)||Y(v)},isWritable:De,isWritableNodeStream:V,isWritableStream:q,isWritableEnded:ae,isWritableFinished:function ue(v,Z){if(!V(v))return null;if(!0===v.writableFinished)return!0;const z=v._writableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.finished?null:!!(z.finished||!1===Z&&!0===z.ended&&0===z.length))},isWritableErrored:function s(v){var Z,z;return K(v)?v.writableErrored?v.writableErrored:null!==(Z=null===(z=v._writableState)||void 0===z?void 0:z.errored)&&void 0!==Z?Z:null:null},isServerRequest:function I(v){var Z;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(Z=v.req)||void 0===Z?void 0:Z.upgradeOrConnect)},isServerResponse:w,willEmitClose:function L(v){if(!K(v))return null;const ee=v._writableState||v._readableState;return!ee&&w(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:Y}},40258:($e,j,E)=>{const g=E(40573),{ArrayPrototypeSlice:_,Error:B,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:b,ObjectDefineProperties:k,ObjectSetPrototypeOf:S,StringPrototypeToLowerCase:P,Symbol:R,SymbolHasInstance:O}=E(43856);$e.exports=w,w.WritableState=h;const{EventEmitter:A}=E(44356),V=E(2649).Stream,{Buffer:U}=E(89565),K=E(45078),{addAbortSignal:Q}=E(24785),{getHighWaterMark:q,getDefaultHighWaterMark:Y}=E(31081),{ERR_INVALID_ARG_TYPE:W,ERR_METHOD_NOT_IMPLEMENTED:re,ERR_MULTIPLE_CALLBACK:ie,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:ue,ERR_STREAM_ALREADY_FINISHED:ce,ERR_STREAM_NULL_VALUES:pe,ERR_STREAM_WRITE_AFTER_END:ve,ERR_UNKNOWN_ENCODING:De}=E(65109).codes,{errorOrDestroy:C}=K;function s(){}S(w.prototype,V.prototype),S(w,V);const d=R("kOnFinished");function h(be,he,ne){"boolean"!=typeof ne&&(ne=he instanceof E(97464)),this.objectMode=!(!be||!be.objectMode),ne&&(this.objectMode=this.objectMode||!(!be||!be.writableObjectMode)),this.highWaterMark=be?q(this,be,"writableHighWaterMark",ne):Y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(be&&!1===be.decodeStrings),this.defaultEncoding=be&&be.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,he),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,f(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!be||!1!==be.emitClose,this.autoDestroy=!be||!1!==be.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[d]=[]}function f(be){be.buffered=[],be.bufferedIndex=0,be.allBuffers=!0,be.allNoop=!0}function w(be){const he=this instanceof E(97464);if(!he&&!H(w,this))return new w(be);this._writableState=new h(be,this,he),be&&("function"==typeof be.write&&(this._write=be.write),"function"==typeof be.writev&&(this._writev=be.writev),"function"==typeof be.destroy&&(this._destroy=be.destroy),"function"==typeof be.final&&(this._final=be.final),"function"==typeof be.construct&&(this._construct=be.construct),be.signal&&Q(be.signal,this)),V.call(this,be),K.construct(this,()=>{const ne=this._writableState;ne.writing||le(this,ne),ge(this,ne)})}function I(be,he,ne,te){const de=be._writableState;if("function"==typeof ne)te=ne,ne=de.defaultEncoding;else{if(ne){if("buffer"!==ne&&!U.isEncoding(ne))throw new De(ne)}else ne=de.defaultEncoding;"function"!=typeof te&&(te=s)}if(null===he)throw new pe;if(!de.objectMode)if("string"==typeof he)!1!==de.decodeStrings&&(he=U.from(he,ne),ne="buffer");else if(he instanceof U)ne="buffer";else{if(!V._isUint8Array(he))throw new W("chunk",["string","Buffer","Uint8Array"],he);he=V._uint8ArrayToBuffer(he),ne="buffer"}let _e;return de.ending?_e=new ve:de.destroyed&&(_e=new ue("write")),_e?(g.nextTick(te,_e),C(be,_e,!0),_e):(de.pendingcb++,function L(be,he,ne,te,de){const _e=he.objectMode?1:ne.length;he.length+=_e;const Ie=he.length<he.highWaterMark;return Ie||(he.needDrain=!0),he.writing||he.corked||he.errored||!he.constructed?(he.buffered.push({chunk:ne,encoding:te,callback:de}),he.allBuffers&&"buffer"!==te&&(he.allBuffers=!1),he.allNoop&&de!==s&&(he.allNoop=!1)):(he.writelen=_e,he.writecb=de,he.writing=!0,he.sync=!0,be._write(ne,te,he.onwrite),he.sync=!1),Ie&&!he.errored&&!he.destroyed}(be,de,he,ne,te))}function x(be,he,ne,te,de,_e,Ie){he.writelen=te,he.writecb=Ie,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new ue("write")):ne?be._writev(de,he.onwrite):be._write(de,_e,he.onwrite),he.sync=!1}function a(be,he,ne,te){--he.pendingcb,te(ne),ee(he),C(be,ne)}function v(be,he){const ne=be._writableState,te=ne.sync,de=ne.writecb;"function"==typeof de?(ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0,he?(ne.errored||(ne.errored=he),be._readableState&&!be._readableState.errored&&(be._readableState.errored=he),te?g.nextTick(a,be,ne,he,de):a(be,ne,he,de)):(ne.buffered.length>ne.bufferedIndex&&le(be,ne),te?null!==ne.afterWriteTickInfo&&ne.afterWriteTickInfo.cb===de?ne.afterWriteTickInfo.count++:(ne.afterWriteTickInfo={count:1,cb:de,stream:be,state:ne},g.nextTick(Z,ne.afterWriteTickInfo)):z(be,ne,1,de))):C(be,new ie)}function Z({stream:be,state:he,count:ne,cb:te}){return he.afterWriteTickInfo=null,z(be,he,ne,te)}function z(be,he,ne,te){for(!he.ending&&!be.destroyed&&0===he.length&&he.needDrain&&(he.needDrain=!1,be.emit("drain"));ne-- >0;)he.pendingcb--,te();he.destroyed&&ee(he),ge(be,he)}function ee(be){if(be.writing)return;for(let de=be.bufferedIndex;de<be.buffered.length;++de){var he;const{chunk:_e,callback:Ie}=be.buffered[de];be.length-=be.objectMode?1:_e.length,Ie(null!==(he=be.errored)&&void 0!==he?he:new ue("write"))}const ne=be[d].splice(0);for(let de=0;de<ne.length;de++){var te;ne[de](null!==(te=be.errored)&&void 0!==te?te:new ue("end"))}f(be)}function le(be,he){if(he.corked||he.bufferProcessing||he.destroyed||!he.constructed)return;const{buffered:ne,bufferedIndex:te,objectMode:de}=he,_e=ne.length-te;if(!_e)return;let Ie=te;if(he.bufferProcessing=!0,_e>1&&be._writev){he.pendingcb-=_e-1;const He=he.allNoop?s:xt=>{for(let Ne=Ie;Ne<ne.length;++Ne)ne[Ne].callback(xt)},Ve=he.allNoop&&0===Ie?ne:_(ne,Ie);Ve.allBuffers=he.allBuffers,x(be,he,!0,he.length,Ve,"",He),f(he)}else{do{const{chunk:He,encoding:Ve,callback:xt}=ne[Ie];ne[Ie++]=null,x(be,he,!1,de?1:He.length,He,Ve,xt)}while(Ie<ne.length&&!he.writing);Ie===ne.length?f(he):Ie>256?(ne.splice(0,Ie),he.bufferedIndex=0):he.bufferedIndex=Ie}he.bufferProcessing=!1}function we(be){return be.ending&&!be.destroyed&&be.constructed&&0===be.length&&!be.errored&&0===be.buffered.length&&!be.finished&&!be.writing&&!be.errorEmitted&&!be.closeEmitted}function ge(be,he,ne){we(he)&&(function Ge(be,he){!he.prefinished&&!he.finalCalled&&("function"!=typeof be._final||he.destroyed?(he.prefinished=!0,be.emit("prefinish")):(he.finalCalled=!0,function Me(be,he){let ne=!1;function te(de){if(ne)C(be,de??ie());else if(ne=!0,he.pendingcb--,de){const _e=he[d].splice(0);for(let Ie=0;Ie<_e.length;Ie++)_e[Ie](de);C(be,de,he.sync)}else we(he)&&(he.prefinished=!0,be.emit("prefinish"),he.pendingcb++,g.nextTick(me,be,he))}he.sync=!0,he.pendingcb++;try{be._final(te)}catch(de){te(de)}he.sync=!1}(be,he)))}(be,he),0===he.pendingcb&&(ne?(he.pendingcb++,g.nextTick((te,de)=>{we(de)?me(te,de):de.pendingcb--},be,he)):we(he)&&(he.pendingcb++,me(be,he))))}function me(be,he){he.pendingcb--,he.finished=!0;const ne=he[d].splice(0);for(let te=0;te<ne.length;te++)ne[te]();if(be.emit("finish"),he.autoDestroy){const te=be._readableState;(!te||te.autoDestroy&&(te.endEmitted||!1===te.readable))&&be.destroy()}}h.prototype.getBuffer=function(){return _(this.buffered,this.bufferedIndex)},b(h.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),b(w,O,{__proto__:null,value:function(be){return!!H(this,be)||this===w&&be&&be._writableState instanceof h}}),w.prototype.pipe=function(){C(this,new ae)},w.prototype.write=function(be,he,ne){return!0===I(this,be,he,ne)},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){const be=this._writableState;be.corked&&(be.corked--,be.writing||le(this,be))},w.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=P(he)),!U.isEncoding(he))throw new De(he);return this._writableState.defaultEncoding=he,this},w.prototype._write=function(be,he,ne){if(!this._writev)throw new re("_write()");this._writev([{chunk:be,encoding:he}],ne)},w.prototype._writev=null,w.prototype.end=function(be,he,ne){const te=this._writableState;let de;if("function"==typeof be?(ne=be,be=null,he=null):"function"==typeof he&&(ne=he,he=null),null!=be){const _e=I(this,be,he);_e instanceof B&&(de=_e)}return te.corked&&(te.corked=1,this.uncork()),de||(te.errored||te.ending?te.finished?de=new ce("end"):te.destroyed&&(de=new ue("end")):(te.ending=!0,ge(this,te,!0),te.ended=!0)),"function"==typeof ne&&(de||te.finished?g.nextTick(ne,de):te[d].push(ne)),this},k(w.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(be){this._writableState&&(this._writableState.destroyed=be)}},writable:{__proto__:null,get(){const be=this._writableState;return!(!be||!1===be.writable||be.destroyed||be.errored||be.ending||be.ended)},set(be){this._writableState&&(this._writableState.writable=!!be)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const be=this._writableState;return!!be&&!be.destroyed&&!be.ending&&be.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ue=K.destroy;let xe;function Ce(){return void 0===xe&&(xe={}),xe}w.prototype.destroy=function(be,he){const ne=this._writableState;return!ne.destroyed&&(ne.bufferedIndex<ne.buffered.length||ne[d].length)&&g.nextTick(ee,ne),Ue.call(this,be,he),this},w.prototype._undestroy=K.undestroy,w.prototype._destroy=function(be,he){he(be)},w.prototype[A.captureRejectionSymbol]=function(be){this.destroy(be)},w.fromWeb=function(be,he){return Ce().newStreamWritableFromWritableStream(be,he)},w.toWeb=function(be){return Ce().newWritableStreamFromStreamWritable(be)}},44323:($e,j,E)=>{"use strict";const{ArrayIsArray:g,ArrayPrototypeIncludes:_,ArrayPrototypeJoin:B,ArrayPrototypeMap:H,NumberIsInteger:b,NumberIsNaN:k,NumberMAX_SAFE_INTEGER:S,NumberMIN_SAFE_INTEGER:P,NumberParseInt:R,ObjectPrototypeHasOwnProperty:O,RegExpPrototypeExec:A,String:V,StringPrototypeToUpperCase:U,StringPrototypeTrim:K}=E(43856),{hideStackFrames:Q,codes:{ERR_SOCKET_BAD_PORT:q,ERR_INVALID_ARG_TYPE:Y,ERR_INVALID_ARG_VALUE:W,ERR_OUT_OF_RANGE:re,ERR_UNKNOWN_SIGNAL:ie}}=E(65109),{normalizeEncoding:ae}=E(55830),{isAsyncFunction:ue,isArrayBufferView:ce}=E(55830).types,pe={},C=/^[0-7]+$/,h=Q((_e,Ie,He=P,Ve=S)=>{if("number"!=typeof _e)throw new Y(Ie,"number",_e);if(!b(_e))throw new re(Ie,"an integer",_e);if(_e<He||_e>Ve)throw new re(Ie,`>= ${He} && <= ${Ve}`,_e)}),f=Q((_e,Ie,He=-2147483648,Ve=2147483647)=>{if("number"!=typeof _e)throw new Y(Ie,"number",_e);if(!b(_e))throw new re(Ie,"an integer",_e);if(_e<He||_e>Ve)throw new re(Ie,`>= ${He} && <= ${Ve}`,_e)}),w=Q((_e,Ie,He=!1)=>{if("number"!=typeof _e)throw new Y(Ie,"number",_e);if(!b(_e))throw new re(Ie,"an integer",_e);const Ve=He?1:0,xt=4294967295;if(_e<Ve||_e>xt)throw new re(Ie,`>= ${Ve} && <= ${xt}`,_e)});function I(_e,Ie){if("string"!=typeof _e)throw new Y(Ie,"string",_e)}const x=Q((_e,Ie,He)=>{if(!_(He,_e)){const xt="must be one of: "+B(H(He,Ne=>"string"==typeof Ne?`'${Ne}'`:V(Ne)),", ");throw new W(Ie,_e,xt)}});function a(_e,Ie){if("boolean"!=typeof _e)throw new Y(Ie,"boolean",_e)}function v(_e,Ie,He){return null!=_e&&O(_e,Ie)?_e[Ie]:He}const Z=Q((_e,Ie,He=null)=>{const Ve=v(He,"allowArray",!1),xt=v(He,"allowFunction",!1);if(!v(He,"nullable",!1)&&null===_e||!Ve&&g(_e)||"object"!=typeof _e&&(!xt||"function"!=typeof _e))throw new Y(Ie,"Object",_e)}),z=Q((_e,Ie)=>{if(null!=_e&&"object"!=typeof _e&&"function"!=typeof _e)throw new Y(Ie,"a dictionary",_e)}),ee=Q((_e,Ie,He=0)=>{if(!g(_e))throw new Y(Ie,"Array",_e);if(_e.length<He)throw new W(Ie,_e,`must be longer than ${He}`)}),Ge=Q((_e,Ie="buffer")=>{if(!ce(_e))throw new Y(Ie,["Buffer","TypedArray","DataView"],_e)}),Ue=Q((_e,Ie)=>{if(void 0!==_e&&(null===_e||"object"!=typeof _e||!("aborted"in _e)))throw new Y(Ie,"AbortSignal",_e)}),xe=Q((_e,Ie)=>{if("function"!=typeof _e)throw new Y(Ie,"Function",_e)}),Ce=Q((_e,Ie)=>{if("function"!=typeof _e||ue(_e))throw new Y(Ie,"Function",_e)}),be=Q((_e,Ie)=>{if(void 0!==_e)throw new Y(Ie,"undefined",_e)}),ne=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function te(_e,Ie){if(typeof _e>"u"||!A(ne,_e))throw new W(Ie,_e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}$e.exports={isInt32:function ve(_e){return _e===(0|_e)},isUint32:function De(_e){return _e===_e>>>0},parseFileMode:function d(_e,Ie,He){if(typeof _e>"u"&&(_e=He),"string"==typeof _e){if(null===A(C,_e))throw new W(Ie,_e,"must be a 32-bit unsigned integer or an octal string");_e=R(_e,8)}return w(_e,Ie),_e},validateArray:ee,validateStringArray:function le(_e,Ie){ee(_e,Ie);for(let He=0;He<_e.length;He++)I(_e[He],`${Ie}[${He}]`)},validateBooleanArray:function we(_e,Ie){ee(_e,Ie);for(let He=0;He<_e.length;He++)a(_e[He],`${Ie}[${He}]`)},validateBoolean:a,validateBuffer:Ge,validateDictionary:z,validateEncoding:function ge(_e,Ie){const He=ae(Ie),Ve=_e.length;if("hex"===He&&Ve%2!=0)throw new W("encoding",Ie,`is invalid for data of length ${Ve}`)},validateFunction:xe,validateInt32:f,validateInteger:h,validateNumber:function L(_e,Ie,He=void 0,Ve){if("number"!=typeof _e)throw new Y(Ie,"number",_e);if(null!=He&&_e<He||null!=Ve&&_e>Ve||(null!=He||null!=Ve)&&k(_e))throw new re(Ie,`${null!=He?`>= ${He}`:""}${null!=He&&null!=Ve?" && ":""}${null!=Ve?`<= ${Ve}`:""}`,_e)},validateObject:Z,validateOneOf:x,validatePlainFunction:Ce,validatePort:function me(_e,Ie="Port",He=!0){if("number"!=typeof _e&&"string"!=typeof _e||"string"==typeof _e&&0===K(_e).length||+_e!=+_e>>>0||_e>65535||0===_e&&!He)throw new q(Ie,_e,He);return 0|_e},validateSignalName:function Me(_e,Ie="signal"){if(I(_e,Ie),void 0===pe[_e])throw void 0!==pe[U(_e)]?new ie(_e+" (signals must use all capital letters)"):new ie(_e)},validateString:I,validateUint32:w,validateUndefined:be,validateUnion:function he(_e,Ie,He){if(!_(He,_e))throw new Y(Ie,`('${B(He,"|")}')`,_e)},validateAbortSignal:Ue,validateLinkHeaderValue:function de(_e){if("string"==typeof _e)return te(_e,"hints"),_e;if(g(_e)){const Ie=_e.length;let He="";if(0===Ie)return He;for(let Ve=0;Ve<Ie;Ve++){const xt=_e[Ve];te(xt,"hints"),He+=xt,Ve!==Ie-1&&(He+=", ")}return He}throw new W("hints",_e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:($e,j,E)=>{"use strict";const g=E(3052),_=E(19905),B=g.Readable.destroy;$e.exports=g.Readable,$e.exports._uint8ArrayToBuffer=g._uint8ArrayToBuffer,$e.exports._isUint8Array=g._isUint8Array,$e.exports.isDisturbed=g.isDisturbed,$e.exports.isErrored=g.isErrored,$e.exports.isReadable=g.isReadable,$e.exports.Readable=g.Readable,$e.exports.Writable=g.Writable,$e.exports.Duplex=g.Duplex,$e.exports.Transform=g.Transform,$e.exports.PassThrough=g.PassThrough,$e.exports.addAbortSignal=g.addAbortSignal,$e.exports.finished=g.finished,$e.exports.destroy=g.destroy,$e.exports.destroy=B,$e.exports.pipeline=g.pipeline,$e.exports.compose=g.compose,Object.defineProperty(g,"promises",{configurable:!0,enumerable:!0,get:()=>_}),$e.exports.Stream=g.Stream,$e.exports.default=$e.exports},65109:($e,j,E)=>{"use strict";const{format:g,inspect:_,AggregateError:B}=E(55830),H=globalThis.AggregateError||B,b=Symbol("kIsNodeError"),k=["string","function","number","object","Function","Object","boolean","bigint","symbol"],S=/^([A-Z][a-z0-9]*)+$/,R={};function O(Y,W){if(!Y)throw new R.ERR_INTERNAL_ASSERTION(W)}function A(Y){let W="",re=Y.length;const ie="-"===Y[0]?1:0;for(;re>=ie+4;re-=3)W=`_${Y.slice(re-3,re)}${W}`;return`${Y.slice(0,re)}${W}`}function U(Y,W,re){re||(re=Error);class ie extends re{constructor(...ue){super(function V(Y,W,re){if("function"==typeof W)return O(W.length<=re.length,`Code: ${Y}; The provided arguments length (${re.length}) does not match the required ones (${W.length}).`),W(...re);const ie=(W.match(/%[dfijoOs]/g)||[]).length;return O(ie===re.length,`Code: ${Y}; The provided arguments length (${re.length}) does not match the required ones (${ie}).`),0===re.length?W:g(W,...re)}(Y,W,ue))}toString(){return`${this.name} [${Y}]: ${this.message}`}}Object.defineProperties(ie.prototype,{name:{value:re.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ie.prototype.code=Y,ie.prototype[b]=!0,R[Y]=ie}function K(Y){return Object.defineProperty(Y,"name",{value:"__node_internal_"+Y.name}),Y}class q extends Error{constructor(W="The operation was aborted",re=void 0){if(void 0!==re&&"object"!=typeof re)throw new R.ERR_INVALID_ARG_TYPE("options","Object",re);super(W,re),this.code="ABORT_ERR",this.name="AbortError"}}U("ERR_ASSERTION","%s",Error),U("ERR_INVALID_ARG_TYPE",(Y,W,re)=>{O("string"==typeof Y,"'name' must be a string"),Array.isArray(W)||(W=[W]);let ie="The ";Y.endsWith(" argument")?ie+=`${Y} `:ie+=`"${Y}" ${Y.includes(".")?"property":"argument"} `,ie+="must be ";const ae=[],ue=[],ce=[];for(const ve of W)O("string"==typeof ve,"All expected entries have to be of type string"),k.includes(ve)?ae.push(ve.toLowerCase()):S.test(ve)?ue.push(ve):(O("object"!==ve,'The value "object" should be written as "Object"'),ce.push(ve));if(ue.length>0){const ve=ae.indexOf("object");-1!==ve&&(ae.splice(ae,ve,1),ue.push("Object"))}if(ae.length>0){switch(ae.length){case 1:ie+=`of type ${ae[0]}`;break;case 2:ie+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const ve=ae.pop();ie+=`one of type ${ae.join(", ")}, or ${ve}`}}(ue.length>0||ce.length>0)&&(ie+=" or ")}if(ue.length>0){switch(ue.length){case 1:ie+=`an instance of ${ue[0]}`;break;case 2:ie+=`an instance of ${ue[0]} or ${ue[1]}`;break;default:{const ve=ue.pop();ie+=`an instance of ${ue.join(", ")}, or ${ve}`}}ce.length>0&&(ie+=" or ")}switch(ce.length){case 0:break;case 1:ce[0].toLowerCase()!==ce[0]&&(ie+="an "),ie+=`${ce[0]}`;break;case 2:ie+=`one of ${ce[0]} or ${ce[1]}`;break;default:{const ve=ce.pop();ie+=`one of ${ce.join(", ")}, or ${ve}`}}if(null==re)ie+=`. Received ${re}`;else if("function"==typeof re&&re.name)ie+=`. Received function ${re.name}`;else if("object"==typeof re){var pe;null!==(pe=re.constructor)&&void 0!==pe&&pe.name?ie+=`. Received an instance of ${re.constructor.name}`:ie+=`. Received ${_(re,{depth:-1})}`}else{let ve=_(re,{colors:!1});ve.length>25&&(ve=`${ve.slice(0,25)}...`),ie+=`. Received type ${typeof re} (${ve})`}return ie},TypeError),U("ERR_INVALID_ARG_VALUE",(Y,W,re="is invalid")=>{let ie=_(W);return ie.length>128&&(ie=ie.slice(0,128)+"..."),`The ${Y.includes(".")?"property":"argument"} '${Y}' ${re}. Received ${ie}`},TypeError),U("ERR_INVALID_RETURN_VALUE",(Y,W,re)=>{var ie;return`Expected ${Y} to be returned from the "${W}" function but got ${null!=re&&null!==(ie=re.constructor)&&void 0!==ie&&ie.name?`instance of ${re.constructor.name}`:"type "+typeof re}.`},TypeError),U("ERR_MISSING_ARGS",(...Y)=>{let W;O(Y.length>0,"At least one arg needs to be specified");const re=Y.length;switch(Y=(Array.isArray(Y)?Y:[Y]).map(ie=>`"${ie}"`).join(" or "),re){case 1:W+=`The ${Y[0]} argument`;break;case 2:W+=`The ${Y[0]} and ${Y[1]} arguments`;break;default:{const ie=Y.pop();W+=`The ${Y.join(", ")}, and ${ie} arguments`}}return`${W} must be specified`},TypeError),U("ERR_OUT_OF_RANGE",(Y,W,re)=>{let ie;return O(W,'Missing "range" argument'),Number.isInteger(re)&&Math.abs(re)>2**32?ie=A(String(re)):"bigint"==typeof re?(ie=String(re),(re>2n**32n||re<-(2n**32n))&&(ie=A(ie)),ie+="n"):ie=_(re),`The value of "${Y}" is out of range. It must be ${W}. Received ${ie}`},RangeError),U("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),U("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),U("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),U("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),U("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),U("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),U("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),U("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),U("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),U("ERR_STREAM_WRITE_AFTER_END","write after end",Error),U("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),$e.exports={AbortError:q,aggregateTwoErrors:K(function Q(Y,W){if(Y&&W&&Y!==W){if(Array.isArray(W.errors))return W.errors.push(Y),W;const re=new H([W,Y],W.message);return re.code=W.code,re}return Y||W}),hideStackFrames:K,codes:R}},43856:$e=>{"use strict";$e.exports={ArrayIsArray:j=>Array.isArray(j),ArrayPrototypeIncludes:(j,E)=>j.includes(E),ArrayPrototypeIndexOf:(j,E)=>j.indexOf(E),ArrayPrototypeJoin:(j,E)=>j.join(E),ArrayPrototypeMap:(j,E)=>j.map(E),ArrayPrototypePop:(j,E)=>j.pop(E),ArrayPrototypePush:(j,E)=>j.push(E),ArrayPrototypeSlice:(j,E,g)=>j.slice(E,g),Error,FunctionPrototypeCall:(j,E,...g)=>j.call(E,...g),FunctionPrototypeSymbolHasInstance:(j,E)=>Function.prototype[Symbol.hasInstance].call(j,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(j,E)=>Object.defineProperties(j,E),ObjectDefineProperty:(j,E,g)=>Object.defineProperty(j,E,g),ObjectGetOwnPropertyDescriptor:(j,E)=>Object.getOwnPropertyDescriptor(j,E),ObjectKeys:j=>Object.keys(j),ObjectSetPrototypeOf:(j,E)=>Object.setPrototypeOf(j,E),Promise,PromisePrototypeCatch:(j,E)=>j.catch(E),PromisePrototypeThen:(j,E,g)=>j.then(E,g),PromiseReject:j=>Promise.reject(j),ReflectApply:Reflect.apply,RegExpPrototypeTest:(j,E)=>j.test(E),SafeSet:Set,String,StringPrototypeSlice:(j,E,g)=>j.slice(E,g),StringPrototypeToLowerCase:j=>j.toLowerCase(),StringPrototypeToUpperCase:j=>j.toUpperCase(),StringPrototypeTrim:j=>j.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(j,E,g)=>j.set(E,g),Uint8Array}},55830:($e,j,E)=>{"use strict";var g=E(29293).default;const _=E(89565),B=Object.getPrototypeOf(g(function*(){})).constructor,H=globalThis.Blob||_.Blob,b=typeof H<"u"?function(P){return P instanceof H}:function(P){return!1};class k extends Error{constructor(P){if(!Array.isArray(P))throw new TypeError("Expected input to be an Array, got "+typeof P);let R="";for(let O=0;O<P.length;O++)R+=`    ${P[O].stack}\n`;super(R),this.name="AggregateError",this.errors=P}}$e.exports={AggregateError:k,kEmptyObject:Object.freeze({}),once(S){let P=!1;return function(...R){P||(P=!0,S.apply(this,R))}},createDeferredPromise:function(){let S,P;return{promise:new Promise((O,A)=>{S=O,P=A}),resolve:S,reject:P}},promisify:S=>new Promise((P,R)=>{S((O,...A)=>O?R(O):P(...A))}),debuglog:()=>function(){},format:(S,...P)=>S.replace(/%([sdifj])/g,function(...[R,O]){const A=P.shift();return"f"===O?A.toFixed(6):"j"===O?JSON.stringify(A):"s"===O&&"object"==typeof A?`${A.constructor!==Object?A.constructor.name:""} {}`.trim():A.toString()}),inspect(S){switch(typeof S){case"string":if(S.includes("'")){if(!S.includes('"'))return`"${S}"`;if(!S.includes("`")&&!S.includes("${"))return`\`${S}\``}return`'${S}'`;case"number":return isNaN(S)?"NaN":Object.is(S,-0)?String(S):S;case"bigint":return`${String(S)}n`;case"boolean":case"undefined":return String(S);case"object":return"{}"}},types:{isAsyncFunction:S=>S instanceof B,isArrayBufferView:S=>ArrayBuffer.isView(S)},isBlob:b},$e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:($e,j,E)=>{const{Buffer:g}=E(89565),{ObjectDefineProperty:_,ObjectKeys:B,ReflectApply:H}=E(43856),{promisify:{custom:b}}=E(55830),{streamReturningOperators:k,promiseReturningOperators:S}=E(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:P}}=E(65109),R=E(5464),{pipeline:O}=E(96208),{destroyer:A}=E(45078),V=E(44268),K=E(19905),Q=E(51233),q=$e.exports=E(2649).Stream;q.isDisturbed=Q.isDisturbed,q.isErrored=Q.isErrored,q.isReadable=Q.isReadable,q.Readable=E(29710);for(const re of B(k)){let ae=function(...ue){if(new.target)throw P();return q.Readable.from(H(ie,this,ue))};const ie=k[re];_(ae,"name",{__proto__:null,value:ie.name}),_(ae,"length",{__proto__:null,value:ie.length}),_(q.Readable.prototype,re,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}for(const re of B(S)){let ae=function(...ce){if(new.target)throw P();return H(ie,this,ce)};const ie=S[re];_(ae,"name",{__proto__:null,value:ie.name}),_(ae,"length",{__proto__:null,value:ie.length}),_(q.Readable.prototype,re,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}q.Writable=E(40258),q.Duplex=E(97464),q.Transform=E(66344),q.PassThrough=E(70874),q.pipeline=O;const{addAbortSignal:Y}=E(24785);q.addAbortSignal=Y,q.finished=V,q.destroy=A,q.compose=R,_(q,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>K}),_(O,b,{__proto__:null,enumerable:!0,get:()=>K.pipeline}),_(V,b,{__proto__:null,enumerable:!0,get:()=>K.finished}),q.Stream=q,q._isUint8Array=function(ie){return ie instanceof Uint8Array},q._uint8ArrayToBuffer=function(ie){return g.from(ie.buffer,ie.byteOffset,ie.byteLength)}},19905:($e,j,E)=>{"use strict";const{ArrayPrototypePop:g,Promise:_}=E(43856),{isIterable:B,isNodeStream:H,isWebStream:b}=E(51233),{pipelineImpl:k}=E(96208),{finished:S}=E(44268);E(3052),$e.exports={finished:S,pipeline:function P(...R){return new _((O,A)=>{let V,U;const K=R[R.length-1];if(K&&"object"==typeof K&&!H(K)&&!B(K)&&!b(K)){const Q=g(R);V=Q.signal,U=Q.end}k(R,(Q,q)=>{Q?A(Q):O(q)},{signal:V,end:U})})}}},37477:($e,j,E)=>{E(23963)},62108:$e=>{var j=1e3,E=60*j,g=60*E,_=24*g,B=7*_;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*_;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=_?P(R,O,_,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=_?Math.round(R/_)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},13138:($e,j,E)=>{j.Level=E(23963).BrowserLevel},64284:$e=>{var j=1e3,E=60*j,g=60*E,_=24*g,B=7*_;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*_;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=_?P(R,O,_,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=_?Math.round(R/_)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},67449:($e,j,E)=>{j.Level=E(23963).BrowserLevel},97829:$e=>{var j=1e3,E=60*j,g=60*E,_=24*g,B=7*_;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*_;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=_?P(R,O,_,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=_?Math.round(R/_)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},9465:$e=>{"use strict";const{AbortController:j,AbortSignal:E}=typeof self<"u"?self:typeof window<"u"?window:void 0;$e.exports=j,$e.exports.AbortSignal=E,$e.exports.default=j},91463:($e,j,E)=>{"use strict";const{fromCallback:g}=E(42381),_=E(61747),{getCallback:B,getOptions:H}=E(10475),b=Symbol("promise"),k=Symbol("status"),S=Symbol("operations"),P=Symbol("finishClose"),R=Symbol("closeCallbacks");j.AbstractChainedBatch=class O{constructor(V){if("object"!=typeof V||null===V)throw new TypeError("The first argument must be an abstract-level database, received "+(null===V?"null":typeof V));this[S]=[],this[R]=[],this[k]="open",this[P]=this[P].bind(this),this.db=V,this.db.attachResource(this),this.nextTick=V.nextTick}get length(){return this[S].length}put(V,U,K){if("open"!==this[k])throw new _("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const Q=this.db._checkKey(V)||this.db._checkValue(U);if(Q)throw Q;const q=K&&null!=K.sublevel?K.sublevel:this.db,Y=K,W=q.keyEncoding(K&&K.keyEncoding),re=q.valueEncoding(K&&K.valueEncoding),ie=W.format;K={...K,keyEncoding:ie,valueEncoding:re.format},q!==this.db&&(K.sublevel=null);const ae=q.prefixKey(W.encode(V),ie),ue=re.encode(U);return this._put(ae,ue,K),this[S].push({...Y,type:"put",key:V,value:U}),this}_put(V,U,K){}del(V,U){if("open"!==this[k])throw new _("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const K=this.db._checkKey(V);if(K)throw K;const Q=U&&null!=U.sublevel?U.sublevel:this.db,q=U,Y=Q.keyEncoding(U&&U.keyEncoding),W=Y.format;return U={...U,keyEncoding:W},Q!==this.db&&(U.sublevel=null),this._del(Q.prefixKey(Y.encode(V),W),U),this[S].push({...q,type:"del",key:V}),this}_del(V,U){}clear(){if("open"!==this[k])throw new _("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[S]=[],this}_clear(){}write(V,U){return U=B(V,U),U=g(U,b),V=H(V),"open"!==this[k]?this.nextTick(U,new _("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(U):(this[k]="writing",this._write(V,K=>{this[k]="closing",this[R].push(()=>U(K)),K||this.db.emit("batch",this[S]),this._close(this[P])})),U[b]}_write(V,U){}close(V){return V=g(V,b),"closing"===this[k]?this[R].push(V):"closed"===this[k]?this.nextTick(V):(this[R].push(V),"writing"!==this[k]&&(this[k]="closing",this._close(this[P]))),V[b]}_close(V){this.nextTick(V)}[P](){this[k]="closed",this.db.detachResource(this);const V=this[R];this[R]=[];for(const U of V)U()}}},63294:($e,j,E)=>{"use strict";var g=E(53344).default,_=E(42958).default;const{fromCallback:B}=E(42381),H=E(61747),{getOptions:b,getCallback:k}=E(10475),S=Symbol("promise"),P=Symbol("callback"),R=Symbol("working"),O=Symbol("handleOne"),A=Symbol("handleMany"),V=Symbol("autoClose"),U=Symbol("finishWork"),K=Symbol("returnMany"),Q=Symbol("closing"),q=Symbol("handleClose"),Y=Symbol("closed"),W=Symbol("closeCallbacks"),re=Symbol("keyEncoding"),ie=Symbol("valueEncoding"),ae=Symbol("abortOnClose"),ue=Symbol("legacy"),ce=Symbol("keys"),pe=Symbol("values"),ve=Symbol("limit"),De=Symbol("count"),C=Object.freeze({}),s=()=>{};let d=!1;class h{constructor(a,v,Z){if("object"!=typeof a||null===a)throw new TypeError("The first argument must be an abstract-level database, received "+(null===a?"null":typeof a));if("object"!=typeof v||null===v)throw new TypeError("The second argument must be an options object");this[Y]=!1,this[W]=[],this[R]=!1,this[Q]=!1,this[V]=!1,this[P]=null,this[O]=this[O].bind(this),this[A]=this[A].bind(this),this[q]=this[q].bind(this),this[re]=v[re],this[ie]=v[ie],this[ue]=Z,this[ve]=Number.isInteger(v.limit)&&v.limit>=0?v.limit:1/0,this[De]=0,this[ae]=!!v.abortOnClose,this.db=a,this.db.attachResource(this),this.nextTick=a.nextTick}get count(){return this[De]}get limit(){return this[ve]}next(a){let v;if(void 0===a)v=new Promise((Z,z)=>{a=(ee,le,we)=>{ee?z(ee):this[ue]?void 0===le&&void 0===we?Z():Z([le,we]):Z(le)}});else if("function"!=typeof a)throw new TypeError("Callback must be a function");return this[Q]?this.nextTick(a,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[R]?this.nextTick(a,new H("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[R]=!0,this[P]=a,this[De]>=this[ve]?this.nextTick(this[O],null):this._next(this[O])),v}_next(a){this.nextTick(a)}nextv(a,v,Z){return Z=k(v,Z),Z=B(Z,S),v=b(v,C),Number.isInteger(a)?(this[Q]?this.nextTick(Z,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[R]?this.nextTick(Z,new H("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(a<1&&(a=1),this[ve]<1/0&&(a=Math.min(a,this[ve]-this[De])),this[R]=!0,this[P]=Z,a<=0?this.nextTick(this[A],null,[]):this._nextv(a,v,this[A])),Z[S]):(this.nextTick(Z,new TypeError("The first argument 'size' must be an integer")),Z[S])}_nextv(a,v,Z){const z=[],ee=(le,we,Me)=>le?Z(le):(this[ue]?void 0===we&&void 0===Me:void 0===we)?Z(null,z):(z.push(this[ue]?[we,Me]:we),void(z.length===a?Z(null,z):this._next(ee)));this._next(ee)}all(a,v){return v=k(a,v),v=B(v,S),a=b(a,C),this[Q]?this.nextTick(v,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[R]?this.nextTick(v,new H("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[R]=!0,this[P]=v,this[V]=!0,this[De]>=this[ve]?this.nextTick(this[A],null,[]):this._all(a,this[A])),v[S]}_all(a,v){let Z=this[De];const z=[],ee=()=>{const we=this[ve]<1/0?Math.min(1e3,this[ve]-Z):1e3;we<=0?this.nextTick(v,null,z):this._nextv(we,C,le)},le=(we,Me)=>{we?v(we):0===Me.length?v(null,z):(z.push.apply(z,Me),Z+=Me.length,ee())};ee()}[U](){const a=this[P];return this[ae]&&null===a?s:(this[R]=!1,this[P]=null,this[Q]&&this._close(this[q]),a)}[K](a,v,Z){this[V]?this.close(a.bind(null,v,Z)):a(v,Z)}seek(a,v){if(v=b(v,C),!this[Q]){if(this[R])throw new H("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const Z=this.db.keyEncoding(v.keyEncoding||this[re]),z=Z.format;v.keyEncoding!==z&&(v={...v,keyEncoding:z});const ee=this.db.prefixKey(Z.encode(a),z);this._seek(ee,v)}}}_seek(a,v){throw new H("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(a){return a=B(a,S),this[Y]?this.nextTick(a):this[Q]?this[W].push(a):(this[Q]=!0,this[W].push(a),this[R]?this[ae]&&this[U]()(new H("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[q])),a[S]}_close(a){this.nextTick(a)}[q](){this[Y]=!0,this.db.detachResource(this);const a=this[W];this[W]=[];for(const v of a)v()}[Symbol.asyncIterator](){var a=this;return _(function*(){try{let v;for(;void 0!==(v=yield g(a.next()));)yield v}finally{a[Y]||(yield g(a.close()))}})()}}class f extends h{constructor(a,v){super(a,v,!0),this[ce]=!1!==v.keys,this[pe]=!1!==v.values}[O](a,v,Z){const z=this[U]();if(a)return z(a);try{v=this[ce]&&void 0!==v?this[re].decode(v):void 0,Z=this[pe]&&void 0!==Z?this[ie].decode(Z):void 0}catch(ee){return z(new L("entry",ee))}void 0===v&&void 0===Z||this[De]++,z(null,v,Z)}[A](a,v){const Z=this[U]();if(a)return this[K](Z,a);try{for(const z of v){const ee=z[0],le=z[1];z[0]=this[ce]&&void 0!==ee?this[re].decode(ee):void 0,z[1]=this[pe]&&void 0!==le?this[ie].decode(le):void 0}}catch(z){return this[K](Z,new L("entries",z))}this[De]+=v.length,this[K](Z,null,v)}end(a){return!d&&typeof console<"u"&&(d=!0,console.warn(new H("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(a)}}class L extends H{constructor(a,v){super(`Iterator could not decode ${a}`,{code:"LEVEL_DECODE_ERROR",cause:v})}}for(const x of["_ended property","_nexting property","_end method"])Object.defineProperty(f.prototype,x.split(" ")[0],{get(){throw new H(`The ${x} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new H(`The ${x} has been removed`,{code:"LEVEL_LEGACY"})}});f.keyEncoding=re,f.valueEncoding=ie,j.AbstractIterator=f,j.AbstractKeyIterator=class w extends h{constructor(a,v){super(a,v,!1)}[O](a,v){const Z=this[U]();if(a)return Z(a);try{v=void 0!==v?this[re].decode(v):void 0}catch(z){return Z(new L("key",z))}void 0!==v&&this[De]++,Z(null,v)}[A](a,v){const Z=this[U]();if(a)return this[K](Z,a);try{for(let z=0;z<v.length;z++){const ee=v[z];v[z]=void 0!==ee?this[re].decode(ee):void 0}}catch(z){return this[K](Z,new L("keys",z))}this[De]+=v.length,this[K](Z,null,v)}},j.AbstractValueIterator=class I extends h{constructor(a,v){super(a,v,!1)}[O](a,v){const Z=this[U]();if(a)return Z(a);try{v=void 0!==v?this[ie].decode(v):void 0}catch(z){return Z(new L("value",z))}void 0!==v&&this[De]++,Z(null,v)}[A](a,v){const Z=this[U]();if(a)return this[K](Z,a);try{for(let z=0;z<v.length;z++){const ee=v[z];v[z]=void 0!==ee?this[ie].decode(ee):void 0}}catch(z){return this[K](Z,new L("values",z))}this[De]+=v.length,this[K](Z,null,v)}}},83764:($e,j,E)=>{"use strict";const{supports:g}=E(89061),{Transcoder:_}=E(25006),{EventEmitter:B}=E(44356),{fromCallback:H}=E(42381),b=E(61747),{AbstractIterator:k}=E(63294),{DefaultKeyIterator:S,DefaultValueIterator:P}=E(48335),{DeferredIterator:R,DeferredKeyIterator:O,DeferredValueIterator:A}=E(92745),{DefaultChainedBatch:V}=E(45776),{getCallback:U,getOptions:K}=E(10475),Q=E(4287),q=Symbol("promise"),Y=Symbol("landed"),W=Symbol("resources"),re=Symbol("closeResources"),ie=Symbol("operations"),ae=Symbol("undefer"),ue=Symbol("deferOpen"),ce=Symbol("options"),pe=Symbol("status"),ve=Symbol("defaultOptions"),De=Symbol("transcoder"),C=Symbol("keyEncoding"),s=Symbol("valueEncoding"),d=()=>{};class h extends B{constructor(x,a){if(super(),"object"!=typeof x||null===x)throw new TypeError("The first argument 'manifest' must be an object");a=K(a);const{keyEncoding:v,valueEncoding:Z,passive:z,...ee}=a;this[W]=new Set,this[ie]=[],this[ue]=!0,this[ce]=ee,this[pe]="opening",this.supports=g(x,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==x.snapshots,permanence:!1!==x.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:x.encodings||{},events:Object.assign({},x.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[De]=new _(I(this)),this[C]=this[De].encoding(v||"utf8"),this[s]=this[De].encoding(Z||"utf8");for(const le of this[De].encodings())this.supports.encodings[le.commonName]||(this.supports.encodings[le.commonName]=!0);this[ve]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[C].commonName,valueEncoding:this[s].commonName}),key:Object.freeze({keyEncoding:this[C].commonName})},this.nextTick(()=>{this[ue]&&this.open({passive:!1},d)})}get status(){return this[pe]}keyEncoding(x){return this[De].encoding(x??this[C])}valueEncoding(x){return this[De].encoding(x??this[s])}open(x,a){a=U(x,a),a=H(a,q),(x={...this[ce],...K(x)}).createIfMissing=!1!==x.createIfMissing,x.errorIfExists=!!x.errorIfExists;const v=Z=>{"closing"===this[pe]||"opening"===this[pe]?this.once(Y,Z?()=>v(Z):v):"open"!==this[pe]?a(new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:Z})):a()};return x.passive?"opening"===this[pe]?this.once(Y,v):this.nextTick(v):"closed"===this[pe]||this[ue]?(this[ue]=!1,this[pe]="opening",this.emit("opening"),this._open(x,Z=>{if(Z)return this[pe]="closed",this[re](()=>{this.emit(Y),v(Z)}),void this[ae]();this[pe]="open",this[ae](),this.emit(Y),"open"===this[pe]&&this.emit("open"),"open"===this[pe]&&this.emit("ready"),v()})):"open"===this[pe]?this.nextTick(v):this.once(Y,()=>this.open(x,a)),a[q]}_open(x,a){this.nextTick(a)}close(x){x=H(x,q);const a=v=>{"opening"===this[pe]||"closing"===this[pe]?this.once(Y,v?a(v):a):"closed"!==this[pe]?x(new b("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:v})):x()};if("open"===this[pe]){this[pe]="closing",this.emit("closing");const v=Z=>{this[pe]="open",this[ae](),this.emit(Y),a(Z)};this[re](()=>{this._close(Z=>{if(Z)return v(Z);this[pe]="closed",this[ae](),this.emit(Y),"closed"===this[pe]&&this.emit("closed"),a()})})}else"closed"===this[pe]?this.nextTick(a):this.once(Y,()=>this.close(x));return x[q]}[re](x){if(0===this[W].size)return this.nextTick(x);let a=this[W].size,v=!0;const Z=()=>{0==--a&&(v?this.nextTick(x):x())};for(const z of this[W])z.close(Z);v=!1,this[W].clear()}_close(x){this.nextTick(x)}get(x,a,v){if(v=U(a,v),v=H(v,q),a=K(a,this[ve].entry),"opening"===this[pe])return this.defer(()=>this.get(x,a,v)),v[q];if(w(this,v))return v[q];const Z=this._checkKey(x);if(Z)return this.nextTick(v,Z),v[q];const z=this.keyEncoding(a.keyEncoding),ee=this.valueEncoding(a.valueEncoding),le=z.format,we=ee.format;return(a.keyEncoding!==le||a.valueEncoding!==we)&&(a=Object.assign({},a,{keyEncoding:le,valueEncoding:we})),this._get(this.prefixKey(z.encode(x),le),a,(Me,Ge)=>{if(Me)return("LEVEL_NOT_FOUND"===Me.code||Me.notFound||/NotFound/i.test(Me))&&(Me.code||(Me.code="LEVEL_NOT_FOUND"),Me.notFound||(Me.notFound=!0),Me.status||(Me.status=404)),v(Me);try{Ge=ee.decode(Ge)}catch(ge){return v(new b("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:ge}))}v(null,Ge)}),v[q]}_get(x,a,v){this.nextTick(v,new Error("NotFound"))}getMany(x,a,v){if(v=U(a,v),v=H(v,q),a=K(a,this[ve].entry),"opening"===this[pe])return this.defer(()=>this.getMany(x,a,v)),v[q];if(w(this,v))return v[q];if(!Array.isArray(x))return this.nextTick(v,new TypeError("The first argument 'keys' must be an array")),v[q];if(0===x.length)return this.nextTick(v,null,[]),v[q];const Z=this.keyEncoding(a.keyEncoding),z=this.valueEncoding(a.valueEncoding),ee=Z.format,le=z.format;(a.keyEncoding!==ee||a.valueEncoding!==le)&&(a=Object.assign({},a,{keyEncoding:ee,valueEncoding:le}));const we=new Array(x.length);for(let Me=0;Me<x.length;Me++){const Ge=x[Me],ge=this._checkKey(Ge);if(ge)return this.nextTick(v,ge),v[q];we[Me]=this.prefixKey(Z.encode(Ge),ee)}return this._getMany(we,a,(Me,Ge)=>{if(Me)return v(Me);try{for(let ge=0;ge<Ge.length;ge++)void 0!==Ge[ge]&&(Ge[ge]=z.decode(Ge[ge]))}catch(ge){return v(new b(`Could not decode one or more of ${Ge.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:ge}))}v(null,Ge)}),v[q]}_getMany(x,a,v){this.nextTick(v,null,new Array(x.length).fill(void 0))}put(x,a,v,Z){if(Z=U(v,Z),Z=H(Z,q),v=K(v,this[ve].entry),"opening"===this[pe])return this.defer(()=>this.put(x,a,v,Z)),Z[q];if(w(this,Z))return Z[q];const z=this._checkKey(x)||this._checkValue(a);if(z)return this.nextTick(Z,z),Z[q];const ee=this.keyEncoding(v.keyEncoding),le=this.valueEncoding(v.valueEncoding),we=ee.format,Me=le.format;(v.keyEncoding!==we||v.valueEncoding!==Me)&&(v=Object.assign({},v,{keyEncoding:we,valueEncoding:Me}));const Ge=this.prefixKey(ee.encode(x),we),ge=le.encode(a);return this._put(Ge,ge,v,me=>{if(me)return Z(me);this.emit("put",x,a),Z()}),Z[q]}_put(x,a,v,Z){this.nextTick(Z)}del(x,a,v){if(v=U(a,v),v=H(v,q),a=K(a,this[ve].key),"opening"===this[pe])return this.defer(()=>this.del(x,a,v)),v[q];if(w(this,v))return v[q];const Z=this._checkKey(x);if(Z)return this.nextTick(v,Z),v[q];const z=this.keyEncoding(a.keyEncoding),ee=z.format;return a.keyEncoding!==ee&&(a=Object.assign({},a,{keyEncoding:ee})),this._del(this.prefixKey(z.encode(x),ee),a,le=>{if(le)return v(le);this.emit("del",x),v()}),v[q]}_del(x,a,v){this.nextTick(v)}batch(x,a,v){if(!arguments.length){if("opening"===this[pe])return new V(this);if("open"!==this[pe])throw new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(v="function"==typeof x?x:U(a,v),v=H(v,q),a=K(a,this[ve].empty),"opening"===this[pe])return this.defer(()=>this.batch(x,a,v)),v[q];if(w(this,v))return v[q];if(!Array.isArray(x))return this.nextTick(v,new TypeError("The first argument 'operations' must be an array")),v[q];if(0===x.length)return this.nextTick(v),v[q];const Z=new Array(x.length),{keyEncoding:z,valueEncoding:ee,...le}=a;for(let we=0;we<x.length;we++){if("object"!=typeof x[we]||null===x[we])return this.nextTick(v,new TypeError("A batch operation must be an object")),v[q];const Me=Object.assign({},x[we]);if("put"!==Me.type&&"del"!==Me.type)return this.nextTick(v,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),v[q];const Ge=this._checkKey(Me.key);if(Ge)return this.nextTick(v,Ge),v[q];const ge=null!=Me.sublevel?Me.sublevel:this,me=ge.keyEncoding(Me.keyEncoding||z),Ue=me.format;if(Me.key=ge.prefixKey(me.encode(Me.key),Ue),Me.keyEncoding=Ue,"put"===Me.type){const xe=this._checkValue(Me.value);if(xe)return this.nextTick(v,xe),v[q];const Ce=ge.valueEncoding(Me.valueEncoding||ee);Me.value=Ce.encode(Me.value),Me.valueEncoding=Ce.format}ge!==this&&(Me.sublevel=null),Z[we]=Me}return this._batch(Z,le,we=>{if(we)return v(we);this.emit("batch",x),v()}),v[q]}_batch(x,a,v){this.nextTick(v)}sublevel(x,a){return this._sublevel(x,f.defaults(a))}_sublevel(x,a){return new f(this,x,a)}prefixKey(x,a){return x}clear(x,a){if(a=U(x,a),a=H(a,q),x=K(x,this[ve].empty),"opening"===this[pe])return this.defer(()=>this.clear(x,a)),a[q];if(w(this,a))return a[q];const v=x,Z=this.keyEncoding(x.keyEncoding);return(x=Q(x,Z)).keyEncoding=Z.format,0===x.limit?this.nextTick(a):this._clear(x,z=>{if(z)return a(z);this.emit("clear",v),a()}),a[q]}_clear(x,a){this.nextTick(a)}iterator(x){const a=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=Q(x,a)).keys=!1!==x.keys,x.values=!1!==x.values,x[k.keyEncoding]=a,x[k.valueEncoding]=v,x.keyEncoding=a.format,x.valueEncoding=v.format,"opening"===this[pe])return new R(this,x);if("open"!==this[pe])throw new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(x)}_iterator(x){return new k(this,x)}keys(x){const a=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=Q(x,a))[k.keyEncoding]=a,x[k.valueEncoding]=v,x.keyEncoding=a.format,x.valueEncoding=v.format,"opening"===this[pe])return new O(this,x);if("open"!==this[pe])throw new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(x)}_keys(x){return new S(this,x)}values(x){const a=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=Q(x,a))[k.keyEncoding]=a,x[k.valueEncoding]=v,x.keyEncoding=a.format,x.valueEncoding=v.format,"opening"===this[pe])return new A(this,x);if("open"!==this[pe])throw new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(x)}_values(x){return new P(this,x)}defer(x){if("function"!=typeof x)throw new TypeError("The first argument must be a function");this[ie].push(x)}[ae](){if(0===this[ie].length)return;const x=this[ie];this[ie]=[];for(const a of x)a()}attachResource(x){if("object"!=typeof x||null===x||"function"!=typeof x.close)throw new TypeError("The first argument must be a resource object");this[W].add(x)}detachResource(x){this[W].delete(x)}_chainedBatch(){return new V(this)}_checkKey(x){if(null==x)return new b("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(x){if(null==x)return new b("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}h.prototype.nextTick=E(24585);const{AbstractSublevel:f}=E(25416)({AbstractLevel:h});j.AbstractLevel=h,j.AbstractSublevel=f;const w=function(L,x){return"open"!==L[pe]&&(L.nextTick(x,new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},I=function(L){return Object.keys(L.supports.encodings).filter(x=>!!L.supports.encodings[x])}},75929:($e,j,E)=>{"use strict";j.AbstractLevel=E(83764).AbstractLevel,j.AbstractSublevel=E(83764).AbstractSublevel,j.AbstractIterator=E(63294).AbstractIterator,j.AbstractKeyIterator=E(63294).AbstractKeyIterator,j.AbstractValueIterator=E(63294).AbstractValueIterator,j.AbstractChainedBatch=E(91463).AbstractChainedBatch},47519:($e,j,E)=>{"use strict";const{AbstractIterator:g,AbstractKeyIterator:_,AbstractValueIterator:B}=E(63294),H=Symbol("unfix"),b=Symbol("iterator"),k=Symbol("handleOne"),S=Symbol("handleMany"),P=Symbol("callback");class R extends g{constructor(U,K,Q,q){super(U,K),this[b]=Q,this[H]=q,this[k]=this[k].bind(this),this[S]=this[S].bind(this),this[P]=null}[k](U,K,Q){const q=this[P];if(U)return q(U);void 0!==K&&(K=this[H](K)),q(U,K,Q)}[S](U,K){const Q=this[P];if(U)return Q(U);for(const q of K){const Y=q[0];void 0!==Y&&(q[0]=this[H](Y))}Q(U,K)}}class O extends _{constructor(U,K,Q,q){super(U,K),this[b]=Q,this[H]=q,this[k]=this[k].bind(this),this[S]=this[S].bind(this),this[P]=null}[k](U,K){const Q=this[P];if(U)return Q(U);void 0!==K&&(K=this[H](K)),Q(U,K)}[S](U,K){const Q=this[P];if(U)return Q(U);for(let q=0;q<K.length;q++){const Y=K[q];void 0!==Y&&(K[q]=this[H](Y))}Q(U,K)}}class A extends B{constructor(U,K,Q){super(U,K),this[b]=Q}}for(const V of[R,O])V.prototype._next=function(U){this[P]=U,this[b].next(this[k])},V.prototype._nextv=function(U,K,Q){this[P]=Q,this[b].nextv(U,K,this[S])},V.prototype._all=function(U,K){this[P]=K,this[b].all(U,this[S])};for(const V of[A])V.prototype._next=function(U){this[b].next(U)},V.prototype._nextv=function(U,K,Q){this[b].nextv(U,K,Q)},V.prototype._all=function(U,K){this[b].all(U,K)};for(const V of[R,O,A])V.prototype._seek=function(U,K){this[b].seek(U,K)},V.prototype._close=function(U){this[b].close(U)};j.AbstractSublevelIterator=R,j.AbstractSublevelKeyIterator=O,j.AbstractSublevelValueIterator=A},25416:($e,j,E)=>{"use strict";const g=E(61747),{Buffer:_}=E(1067)||{},{AbstractSublevelIterator:B,AbstractSublevelKeyIterator:H,AbstractSublevelValueIterator:b}=E(47519),k=Symbol("prefix"),S=Symbol("upperBound"),P=Symbol("prefixRange"),R=Symbol("parent"),O=Symbol("unfix"),A=new TextEncoder,V={separator:"!"};$e.exports=function({AbstractLevel:W}){class re extends W{static defaults(ae){if("string"==typeof ae)throw new g("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(ae&&ae.open)throw new g("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==ae?V:ae.separator?ae:{...ae,separator:"!"}}constructor(ae,ue,ce){const{separator:pe,manifest:ve,...De}=re.defaults(ce);ue=Y(ue,pe);const C=pe.charCodeAt(0)+1,s=ae[R]||ae;if(!A.encode(ue).every(f=>f>C&&f<127))throw new g(`Prefix must use bytes > ${C} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(U(s,ve),De);const d=(ae.prefix||"")+pe+ue+pe,h=d.slice(0,-1)+String.fromCharCode(C);this[R]=s,this[k]=new Q(d),this[S]=new Q(h),this[O]=new q,this.nextTick=s.nextTick}prefixKey(ae,ue){if("utf8"===ue)return this[k].utf8+ae;if(0===ae.byteLength)return this[k][ue];if("view"===ue){const ce=this[k].view,pe=new Uint8Array(ce.byteLength+ae.byteLength);return pe.set(ce,0),pe.set(ae,ce.byteLength),pe}{const ce=this[k].buffer;return _.concat([ce,ae],ce.byteLength+ae.byteLength)}}[P](ae,ue){void 0!==ae.gte?ae.gte=this.prefixKey(ae.gte,ue):void 0!==ae.gt?ae.gt=this.prefixKey(ae.gt,ue):ae.gte=this[k][ue],void 0!==ae.lte?ae.lte=this.prefixKey(ae.lte,ue):void 0!==ae.lt?ae.lt=this.prefixKey(ae.lt,ue):ae.lte=this[S][ue]}get prefix(){return this[k].utf8}get db(){return this[R]}_open(ae,ue){this[R].open({passive:!0},ue)}_put(ae,ue,ce,pe){this[R].put(ae,ue,ce,pe)}_get(ae,ue,ce){this[R].get(ae,ue,ce)}_getMany(ae,ue,ce){this[R].getMany(ae,ue,ce)}_del(ae,ue,ce){this[R].del(ae,ue,ce)}_batch(ae,ue,ce){this[R].batch(ae,ue,ce)}_clear(ae,ue){this[P](ae,ae.keyEncoding),this[R].clear(ae,ue)}_iterator(ae){this[P](ae,ae.keyEncoding);const ue=this[R].iterator(ae),ce=this[O].get(this[k].utf8.length,ae.keyEncoding);return new B(this,ae,ue,ce)}_keys(ae){this[P](ae,ae.keyEncoding);const ue=this[R].keys(ae),ce=this[O].get(this[k].utf8.length,ae.keyEncoding);return new H(this,ae,ue,ce)}_values(ae){this[P](ae,ae.keyEncoding);const ue=this[R].values(ae);return new b(this,ae,ue)}}return{AbstractSublevel:re}};const U=function(W,re){return{...W.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...re,encodings:{utf8:K(W,"utf8"),buffer:K(W,"buffer"),view:K(W,"view")}}},K=function(W,re){return!!W.supports.encodings[re]&&W.keyEncoding(re).name===re};class Q{constructor(re){this.utf8=re,this.view=A.encode(re),this.buffer=_?_.from(this.view.buffer,0,this.view.byteLength):{}}}class q{constructor(){this.cache=new Map}get(re,ie){let ae=this.cache.get(ie);return void 0===ae&&(ae="view"===ie?function(ue,ce){return ce.subarray(ue)}.bind(null,re):function(ue,ce){return ce.slice(ue)}.bind(null,re),this.cache.set(ie,ae)),ae}}const Y=function(W,re){let ie=0,ae=W.length;for(;ie<ae&&W[ie]===re;)ie++;for(;ae>ie&&W[ae-1]===re;)ae--;return W.slice(ie,ae)}},10475:($e,j)=>{"use strict";j.getCallback=function(E,g){return"function"==typeof E?E:g},j.getOptions=function(E,g){return"object"==typeof E&&null!==E?E:void 0!==g?g:{}}},45776:($e,j,E)=>{"use strict";const{AbstractChainedBatch:g}=E(91463),_=E(61747),B=Symbol("encoded");j.DefaultChainedBatch=class H extends g{constructor(k){super(k),this[B]=[]}_put(k,S,P){this[B].push({...P,type:"put",key:k,value:S})}_del(k,S){this[B].push({...S,type:"del",key:k})}_clear(){this[B]=[]}_write(k,S){"opening"===this.db.status?this.db.defer(()=>this._write(k,S)):"open"===this.db.status?0===this[B].length?this.nextTick(S):this.db._batch(this[B],k,S):this.nextTick(S,new _("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:($e,j,E)=>{"use strict";const{AbstractKeyIterator:g,AbstractValueIterator:_}=E(63294),B=Symbol("iterator"),H=Symbol("callback"),b=Symbol("handleOne"),k=Symbol("handleMany");class S extends g{constructor(O,A){super(O,A),this[B]=O.iterator({...A,keys:!0,values:!1}),this[b]=this[b].bind(this),this[k]=this[k].bind(this)}}class P extends _{constructor(O,A){super(O,A),this[B]=O.iterator({...A,keys:!1,values:!0}),this[b]=this[b].bind(this),this[k]=this[k].bind(this)}}for(const R of[S,P]){const O=R===S,A=O?V=>V[0]:V=>V[1];R.prototype._next=function(V){this[H]=V,this[B].next(this[b])},R.prototype[b]=function(V,U,K){const Q=this[H];V?Q(V):Q(null,O?U:K)},R.prototype._nextv=function(V,U,K){this[H]=K,this[B].nextv(V,U,this[k])},R.prototype._all=function(V,U){this[H]=U,this[B].all(V,this[k])},R.prototype[k]=function(V,U){const K=this[H];V?K(V):K(null,U.map(A))},R.prototype._seek=function(V,U){this[B].seek(V,U)},R.prototype._close=function(V){this[B].close(V)}}j.DefaultKeyIterator=S,j.DefaultValueIterator=P},92745:($e,j,E)=>{"use strict";const{AbstractIterator:g,AbstractKeyIterator:_,AbstractValueIterator:B}=E(63294),H=E(61747),b=Symbol("nut"),k=Symbol("undefer"),S=Symbol("factory");class P extends g{constructor(V,U){super(V,U),this[b]=null,this[S]=()=>V.iterator(U),this.db.defer(()=>this[k]())}}class R extends _{constructor(V,U){super(V,U),this[b]=null,this[S]=()=>V.keys(U),this.db.defer(()=>this[k]())}}class O extends B{constructor(V,U){super(V,U),this[b]=null,this[S]=()=>V.values(U),this.db.defer(()=>this[k]())}}for(const A of[P,R,O])A.prototype[k]=function(){"open"===this.db.status&&(this[b]=this[S]())},A.prototype._next=function(V){null!==this[b]?this[b].next(V):"opening"===this.db.status?this.db.defer(()=>this._next(V)):this.nextTick(V,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._nextv=function(V,U,K){null!==this[b]?this[b].nextv(V,U,K):"opening"===this.db.status?this.db.defer(()=>this._nextv(V,U,K)):this.nextTick(K,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._all=function(V,U){null!==this[b]?this[b].all(U):"opening"===this.db.status?this.db.defer(()=>this._all(V,U)):this.nextTick(U,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._seek=function(V,U){null!==this[b]?this[b]._seek(V,U):"opening"===this.db.status&&this.db.defer(()=>this._seek(V,U))},A.prototype._close=function(V){null!==this[b]?this[b].close(V):"opening"===this.db.status?this.db.defer(()=>this._close(V)):this.nextTick(V)};j.DeferredIterator=P,j.DeferredKeyIterator=R,j.DeferredValueIterator=O},24585:($e,j,E)=>{"use strict";const g=E(24515);$e.exports=function(_,...B){g(0===B.length?_:()=>_(...B))}},4287:($e,j,E)=>{"use strict";const g=E(61747),_=Object.prototype.hasOwnProperty,B=new Set(["lt","lte","gt","gte"]);$e.exports=function(H,b){const k={};for(const S in H)if(_.call(H,S)&&"keyEncoding"!==S&&"valueEncoding"!==S){if("start"===S||"end"===S)throw new g(`The legacy range option '${S}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===S)throw new g("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});k[S]=B.has(S)?b.encode(H[S]):H[S]}return k.reverse=!!k.reverse,k.limit=Number.isInteger(k.limit)&&k.limit>=0?k.limit:-1,k}},1067:($e,j,E)=>{"use strict";const g=E(13981),_=E(22020),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function W(F){return+F!=F&&(F=0),S.alloc(+F)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function k(F){if(F>H)throw new RangeError('The value "'+F+'" is invalid for option "size"');const D=new Uint8Array(F);return Object.setPrototypeOf(D,S.prototype),D}function S(F,D,M){if("number"==typeof F){if("string"==typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return A(F)}return P(F,D,M)}function P(F,D,M){if("string"==typeof F)return function V(F,D){if(("string"!=typeof D||""===D)&&(D="utf8"),!S.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const M=0|re(F,D);let G=k(M);const fe=G.write(F,D);return fe!==M&&(G=G.slice(0,fe)),G}(F,D);if(ArrayBuffer.isView(F))return function K(F){if(Ve(F,Uint8Array)){const D=new Uint8Array(F);return Q(D.buffer,D.byteOffset,D.byteLength)}return U(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ve(F,ArrayBuffer)||F&&Ve(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ve(F,SharedArrayBuffer)||F&&Ve(F.buffer,SharedArrayBuffer)))return Q(F,D,M);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const G=F.valueOf&&F.valueOf();if(null!=G&&G!==F)return S.from(G,D,M);const fe=function q(F){if(S.isBuffer(F)){const D=0|Y(F.length),M=k(D);return 0===M.length||F.copy(M,0,0,D),M}return void 0!==F.length?"number"!=typeof F.length||xt(F.length)?k(0):U(F):"Buffer"===F.type&&Array.isArray(F.data)?U(F.data):void 0}(F);if(fe)return fe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return S.from(F[Symbol.toPrimitive]("string"),D,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function R(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function A(F){return R(F),k(F<0?0:0|Y(F))}function U(F){const D=F.length<0?0:0|Y(F.length),M=k(D);for(let G=0;G<D;G+=1)M[G]=255&F[G];return M}function Q(F,D,M){if(D<0||F.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<D+(M||0))throw new RangeError('"length" is outside of buffer bounds');let G;return G=void 0===D&&void 0===M?new Uint8Array(F):void 0===M?new Uint8Array(F,D):new Uint8Array(F,D,M),Object.setPrototypeOf(G,S.prototype),G}function Y(F){if(F>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|F}function re(F,D){if(S.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ve(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const M=F.length,G=arguments.length>2&&!0===arguments[2];if(!G&&0===M)return 0;let fe=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return te(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Ie(F).length;default:if(fe)return G?-1:te(F).length;D=(""+D).toLowerCase(),fe=!0}}function ie(F,D,M){let G=!1;if((void 0===D||D<0)&&(D=0),D>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(D>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return x(this,D,M);case"utf8":case"utf-8":return h(this,D,M);case"ascii":return I(this,D,M);case"latin1":case"binary":return L(this,D,M);case"base64":return d(this,D,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,D,M);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),G=!0}}function ae(F,D,M){const G=F[D];F[D]=F[M],F[M]=G}function ue(F,D,M,G,fe){if(0===F.length)return-1;if("string"==typeof M?(G=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),xt(M=+M)&&(M=fe?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(fe)return-1;M=F.length-1}else if(M<0){if(!fe)return-1;M=0}if("string"==typeof D&&(D=S.from(D,G)),S.isBuffer(D))return 0===D.length?-1:ce(F,D,M,G,fe);if("number"==typeof D)return D&=255,"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(F,D,M):Uint8Array.prototype.lastIndexOf.call(F,D,M):ce(F,[D],M,G,fe);throw new TypeError("val must be string, number or Buffer")}function ce(F,D,M,G,fe){let vt,Se=1,Ae=F.length,rt=D.length;if(void 0!==G&&("ucs2"===(G=String(G).toLowerCase())||"ucs-2"===G||"utf16le"===G||"utf-16le"===G)){if(F.length<2||D.length<2)return-1;Se=2,Ae/=2,rt/=2,M/=2}function Ht(Ot,qt){return 1===Se?Ot[qt]:Ot.readUInt16BE(qt*Se)}if(fe){let Ot=-1;for(vt=M;vt<Ae;vt++)if(Ht(F,vt)===Ht(D,-1===Ot?0:vt-Ot)){if(-1===Ot&&(Ot=vt),vt-Ot+1===rt)return Ot*Se}else-1!==Ot&&(vt-=vt-Ot),Ot=-1}else for(M+rt>Ae&&(M=Ae-rt),vt=M;vt>=0;vt--){let Ot=!0;for(let qt=0;qt<rt;qt++)if(Ht(F,vt+qt)!==Ht(D,qt)){Ot=!1;break}if(Ot)return vt}return-1}function pe(F,D,M,G){M=Number(M)||0;const fe=F.length-M;G?(G=Number(G))>fe&&(G=fe):G=fe;const Se=D.length;let Ae;for(G>Se/2&&(G=Se/2),Ae=0;Ae<G;++Ae){const rt=parseInt(D.substr(2*Ae,2),16);if(xt(rt))return Ae;F[M+Ae]=rt}return Ae}function ve(F,D,M,G){return He(te(D,F.length-M),F,M,G)}function De(F,D,M,G){return He(function de(F){const D=[];for(let M=0;M<F.length;++M)D.push(255&F.charCodeAt(M));return D}(D),F,M,G)}function C(F,D,M,G){return He(Ie(D),F,M,G)}function s(F,D,M,G){return He(function _e(F,D){let M,G,fe;const Se=[];for(let Ae=0;Ae<F.length&&!((D-=2)<0);++Ae)M=F.charCodeAt(Ae),G=M>>8,fe=M%256,Se.push(fe),Se.push(G);return Se}(D,F.length-M),F,M,G)}function d(F,D,M){return g.fromByteArray(0===D&&M===F.length?F:F.slice(D,M))}function h(F,D,M){M=Math.min(F.length,M);const G=[];let fe=D;for(;fe<M;){const Se=F[fe];let Ae=null,rt=Se>239?4:Se>223?3:Se>191?2:1;if(fe+rt<=M){let Ht,vt,Ot,qt;switch(rt){case 1:Se<128&&(Ae=Se);break;case 2:Ht=F[fe+1],128==(192&Ht)&&(qt=(31&Se)<<6|63&Ht,qt>127&&(Ae=qt));break;case 3:Ht=F[fe+1],vt=F[fe+2],128==(192&Ht)&&128==(192&vt)&&(qt=(15&Se)<<12|(63&Ht)<<6|63&vt,qt>2047&&(qt<55296||qt>57343)&&(Ae=qt));break;case 4:Ht=F[fe+1],vt=F[fe+2],Ot=F[fe+3],128==(192&Ht)&&128==(192&vt)&&128==(192&Ot)&&(qt=(15&Se)<<18|(63&Ht)<<12|(63&vt)<<6|63&Ot,qt>65535&&qt<1114112&&(Ae=qt))}}null===Ae?(Ae=65533,rt=1):Ae>65535&&(Ae-=65536,G.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),G.push(Ae),fe+=rt}return function w(F){const D=F.length;if(D<=f)return String.fromCharCode.apply(String,F);let M="",G=0;for(;G<D;)M+=String.fromCharCode.apply(String,F.slice(G,G+=f));return M}(G)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function b(){try{const F=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(F,D),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(F,D,M){return P(F,D,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(F,D,M){return function O(F,D,M){return R(F),F<=0?k(F):void 0!==D?"string"==typeof M?k(F).fill(D,M):k(F).fill(D):k(F)}(F,D,M)},S.allocUnsafe=function(F){return A(F)},S.allocUnsafeSlow=function(F){return A(F)},S.isBuffer=function(D){return null!=D&&!0===D._isBuffer&&D!==S.prototype},S.compare=function(D,M){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),Ve(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(D)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===M)return 0;let G=D.length,fe=M.length;for(let Se=0,Ae=Math.min(G,fe);Se<Ae;++Se)if(D[Se]!==M[Se]){G=D[Se],fe=M[Se];break}return G<fe?-1:fe<G?1:0},S.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(D,M){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return S.alloc(0);let G;if(void 0===M)for(M=0,G=0;G<D.length;++G)M+=D[G].length;const fe=S.allocUnsafe(M);let Se=0;for(G=0;G<D.length;++G){let Ae=D[G];if(Ve(Ae,Uint8Array))Se+Ae.length>fe.length?(S.isBuffer(Ae)||(Ae=S.from(Ae)),Ae.copy(fe,Se)):Uint8Array.prototype.set.call(fe,Ae,Se);else{if(!S.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(fe,Se)}Se+=Ae.length}return fe},S.byteLength=re,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<D;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<D;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<D;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const D=this.length;return 0===D?"":0===arguments.length?h(this,0,D):ie.apply(this,arguments)},S.prototype.equals=function(D){if(!S.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===S.compare(this,D)},S.prototype.inspect=function(){let D="";const M=j.INSPECT_MAX_BYTES;return D=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(D+=" ... "),"<Buffer "+D+">"},B&&(S.prototype[B]=S.prototype.inspect),S.prototype.compare=function(D,M,G,fe,Se){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),!S.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(void 0===M&&(M=0),void 0===G&&(G=D?D.length:0),void 0===fe&&(fe=0),void 0===Se&&(Se=this.length),M<0||G>D.length||fe<0||Se>this.length)throw new RangeError("out of range index");if(fe>=Se&&M>=G)return 0;if(fe>=Se)return-1;if(M>=G)return 1;if(this===D)return 0;let Ae=(Se>>>=0)-(fe>>>=0),rt=(G>>>=0)-(M>>>=0);const Ht=Math.min(Ae,rt),vt=this.slice(fe,Se),Ot=D.slice(M,G);for(let qt=0;qt<Ht;++qt)if(vt[qt]!==Ot[qt]){Ae=vt[qt],rt=Ot[qt];break}return Ae<rt?-1:rt<Ae?1:0},S.prototype.includes=function(D,M,G){return-1!==this.indexOf(D,M,G)},S.prototype.indexOf=function(D,M,G){return ue(this,D,M,G,!0)},S.prototype.lastIndexOf=function(D,M,G){return ue(this,D,M,G,!1)},S.prototype.write=function(D,M,G,fe){if(void 0===M)fe="utf8",G=this.length,M=0;else if(void 0===G&&"string"==typeof M)fe=M,G=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(G)?(G>>>=0,void 0===fe&&(fe="utf8")):(fe=G,G=void 0)}const Se=this.length-M;if((void 0===G||G>Se)&&(G=Se),D.length>0&&(G<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ae=!1;for(;;)switch(fe){case"hex":return pe(this,D,M,G);case"utf8":case"utf-8":return ve(this,D,M,G);case"ascii":case"latin1":case"binary":return De(this,D,M,G);case"base64":return C(this,D,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,D,M,G);default:if(Ae)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ae=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const f=4096;function I(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(127&F[fe]);return G}function L(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(F[fe]);return G}function x(F,D,M){const G=F.length;(!D||D<0)&&(D=0),(!M||M<0||M>G)&&(M=G);let fe="";for(let Se=D;Se<M;++Se)fe+=Ne[F[Se]];return fe}function a(F,D,M){const G=F.slice(D,M);let fe="";for(let Se=0;Se<G.length-1;Se+=2)fe+=String.fromCharCode(G[Se]+256*G[Se+1]);return fe}function v(F,D,M){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+D>M)throw new RangeError("Trying to access beyond buffer length")}function Z(F,D,M,G,fe,Se){if(!S.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>fe||D<Se)throw new RangeError('"value" argument is out of bounds');if(M+G>F.length)throw new RangeError("Index out of range")}function z(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,M}function ee(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M+7]=Se,Se>>=8,F[M+6]=Se,Se>>=8,F[M+5]=Se,Se>>=8,F[M+4]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M+3]=Ae,Ae>>=8,F[M+2]=Ae,Ae>>=8,F[M+1]=Ae,Ae>>=8,F[M]=Ae,M+8}function le(F,D,M,G,fe,Se){if(M+G>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function we(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,4),_.write(F,D,M,G,23,4),M+4}function Me(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,8),_.write(F,D,M,G,52,8),M+8}S.prototype.slice=function(D,M){const G=this.length;(D=~~D)<0?(D+=G)<0&&(D=0):D>G&&(D=G),(M=void 0===M?G:~~M)<0?(M+=G)<0&&(M=0):M>G&&(M=G),M<D&&(M=D);const fe=this.subarray(D,M);return Object.setPrototypeOf(fe,S.prototype),fe},S.prototype.readUintLE=S.prototype.readUIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return fe},S.prototype.readUintBE=S.prototype.readUIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D+--M],Se=1;for(;M>0&&(Se*=256);)fe+=this[D+--M]*Se;return fe},S.prototype.readUint8=S.prototype.readUInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),this[D]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]|this[D+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]<<8|this[D+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},S.prototype.readBigUInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M+256*this[++D]+65536*this[++D]+this[++D]*2**24,Se=this[++D]+256*this[++D]+65536*this[++D]+G*2**24;return BigInt(fe)+(BigInt(Se)<<BigInt(32))}),S.prototype.readBigUInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M*2**24+65536*this[++D]+256*this[++D]+this[++D],Se=this[++D]*2**24+65536*this[++D]+256*this[++D]+G;return(BigInt(fe)<<BigInt(32))+BigInt(Se)}),S.prototype.readIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return Se*=128,fe>=Se&&(fe-=Math.pow(2,8*M)),fe},S.prototype.readIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=M,Se=1,Ae=this[D+--fe];for(;fe>0&&(Se*=256);)Ae+=this[D+--fe]*Se;return Se*=128,Ae>=Se&&(Ae-=Math.pow(2,8*M)),Ae},S.prototype.readInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},S.prototype.readInt16LE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D]|this[D+1]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt16BE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D+1]|this[D]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},S.prototype.readInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},S.prototype.readBigInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];return(void 0===M||void 0===G)&&be(D,this.length-8),(BigInt(this[D+4]+256*this[D+5]+65536*this[D+6]+(G<<24))<<BigInt(32))+BigInt(M+256*this[++D]+65536*this[++D]+this[++D]*2**24)}),S.prototype.readBigInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=(M<<24)+65536*this[++D]+256*this[++D]+this[++D];return(BigInt(fe)<<BigInt(32))+BigInt(this[++D]*2**24+65536*this[++D]+256*this[++D]+G)}),S.prototype.readFloatLE=function(D,M){return D>>>=0,M||v(D,4,this.length),_.read(this,D,!0,23,4)},S.prototype.readFloatBE=function(D,M){return D>>>=0,M||v(D,4,this.length),_.read(this,D,!1,23,4)},S.prototype.readDoubleLE=function(D,M){return D>>>=0,M||v(D,8,this.length),_.read(this,D,!0,52,8)},S.prototype.readDoubleBE=function(D,M){return D>>>=0,M||v(D,8,this.length),_.read(this,D,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=1,Ae=0;for(this[M]=255&D;++Ae<G&&(Se*=256);)this[M+Ae]=D/Se&255;return M+G},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=G-1,Ae=1;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)this[M+Se]=D/Ae&255;return M+G},S.prototype.writeUint8=S.prototype.writeUInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,255,0),this[M]=255&D,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigUInt64LE=ke(function(D,M=0){return z(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ke(function(D,M=0){return ee(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Ht=Math.pow(2,8*G-1);Z(this,D,M,G,Ht-1,-Ht)}let Se=0,Ae=1,rt=0;for(this[M]=255&D;++Se<G&&(Ae*=256);)D<0&&0===rt&&0!==this[M+Se-1]&&(rt=1),this[M+Se]=(D/Ae|0)-rt&255;return M+G},S.prototype.writeIntBE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Ht=Math.pow(2,8*G-1);Z(this,D,M,G,Ht-1,-Ht)}let Se=G-1,Ae=1,rt=0;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)D<0&&0===rt&&0!==this[M+Se+1]&&(rt=1),this[M+Se]=(D/Ae|0)-rt&255;return M+G},S.prototype.writeInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,127,-128),D<0&&(D=255+D+1),this[M]=255&D,M+1},S.prototype.writeInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24,M+4},S.prototype.writeInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigInt64LE=ke(function(D,M=0){return z(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ke(function(D,M=0){return ee(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(D,M,G){return we(this,D,M,!0,G)},S.prototype.writeFloatBE=function(D,M,G){return we(this,D,M,!1,G)},S.prototype.writeDoubleLE=function(D,M,G){return Me(this,D,M,!0,G)},S.prototype.writeDoubleBE=function(D,M,G){return Me(this,D,M,!1,G)},S.prototype.copy=function(D,M,G,fe){if(!S.isBuffer(D))throw new TypeError("argument should be a Buffer");if(G||(G=0),!fe&&0!==fe&&(fe=this.length),M>=D.length&&(M=D.length),M||(M=0),fe>0&&fe<G&&(fe=G),fe===G||0===D.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),D.length-M<fe-G&&(fe=D.length-M+G);const Se=fe-G;return this===D&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,G,fe):Uint8Array.prototype.set.call(D,this.subarray(G,fe),M),Se},S.prototype.fill=function(D,M,G,fe){if("string"==typeof D){if("string"==typeof M?(fe=M,M=0,G=this.length):"string"==typeof G&&(fe=G,G=this.length),void 0!==fe&&"string"!=typeof fe)throw new TypeError("encoding must be a string");if("string"==typeof fe&&!S.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(1===D.length){const Ae=D.charCodeAt(0);("utf8"===fe&&Ae<128||"latin1"===fe)&&(D=Ae)}}else"number"==typeof D?D&=255:"boolean"==typeof D&&(D=Number(D));if(M<0||this.length<M||this.length<G)throw new RangeError("Out of range index");if(G<=M)return this;let Se;if(M>>>=0,G=void 0===G?this.length:G>>>0,D||(D=0),"number"==typeof D)for(Se=M;Se<G;++Se)this[Se]=D;else{const Ae=S.isBuffer(D)?D:S.from(D,fe),rt=Ae.length;if(0===rt)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Se=0;Se<G-M;++Se)this[Se+M]=Ae[Se%rt]}return this};const Ge={};function ge(F,D,M){Ge[F]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function me(F){let D="",M=F.length;const G="-"===F[0]?1:0;for(;M>=G+4;M-=3)D=`_${F.slice(M-3,M)}${D}`;return`${F.slice(0,M)}${D}`}function xe(F,D,M,G,fe,Se){if(F>M||F<D){const Ae="bigint"==typeof D?"n":"";let rt;throw rt=Se>3?0===D||D===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(Se+1)}${Ae}`:`>= -(2${Ae} ** ${8*(Se+1)-1}${Ae}) and < 2 ** ${8*(Se+1)-1}${Ae}`:`>= ${D}${Ae} and <= ${M}${Ae}`,new Ge.ERR_OUT_OF_RANGE("value",rt,F)}!function Ue(F,D,M){Ce(D,"offset"),(void 0===F[D]||void 0===F[D+M])&&be(D,F.length-(M+1))}(G,fe,Se)}function Ce(F,D){if("number"!=typeof F)throw new Ge.ERR_INVALID_ARG_TYPE(D,"number",F)}function be(F,D,M){throw Math.floor(F)!==F?(Ce(F,M),new Ge.ERR_OUT_OF_RANGE(M||"offset","an integer",F)):D<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${D}`,F)}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(F,D){return`The "${F}" argument must be of type number. Received type ${typeof D}`},TypeError),ge("ERR_OUT_OF_RANGE",function(F,D,M){let G=`The value of "${F}" is out of range.`,fe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?fe=me(String(M)):"bigint"==typeof M&&(fe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(fe=me(fe)),fe+="n"),G+=` It must be ${D}. Received ${fe}`,G},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function te(F,D){let M;D=D||1/0;const G=F.length;let fe=null;const Se=[];for(let Ae=0;Ae<G;++Ae){if(M=F.charCodeAt(Ae),M>55295&&M<57344){if(!fe){if(M>56319){(D-=3)>-1&&Se.push(239,191,189);continue}if(Ae+1===G){(D-=3)>-1&&Se.push(239,191,189);continue}fe=M;continue}if(M<56320){(D-=3)>-1&&Se.push(239,191,189),fe=M;continue}M=65536+(fe-55296<<10|M-56320)}else fe&&(D-=3)>-1&&Se.push(239,191,189);if(fe=null,M<128){if((D-=1)<0)break;Se.push(M)}else if(M<2048){if((D-=2)<0)break;Se.push(M>>6|192,63&M|128)}else if(M<65536){if((D-=3)<0)break;Se.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;Se.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return Se}function Ie(F){return g.toByteArray(function ne(F){if((F=(F=F.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function He(F,D,M,G){let fe;for(fe=0;fe<G&&!(fe+M>=D.length||fe>=F.length);++fe)D[fe+M]=F[fe];return fe}function Ve(F,D){return F instanceof D||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===D.name}function xt(F){return F!=F}const Ne=function(){const F="0123456789abcdef",D=new Array(256);for(let M=0;M<16;++M){const G=16*M;for(let fe=0;fe<16;++fe)D[G+fe]=F[M]+F[fe]}return D}();function ke(F){return typeof BigInt>"u"?pt:F}function pt(){throw new Error("BigInt not supported")}},49609:($e,j,E)=>{var g=j;g.bignum=E(96867),g.define=E(16626).define,g.base=E(15066),g.constants=E(47740),g.decoders=E(91558),g.encoders=E(22714)},16626:($e,j,E)=>{var g=E(49609),_=E(71993);function H(b,k){this.name=b,this.body=k,this.decoders={},this.encoders={}}j.define=function(k,S){return new H(k,S)},H.prototype._createNamed=function(k){var S;try{S=Object(function(){var R=new Error("Cannot find module 'vm'");throw R.code="MODULE_NOT_FOUND",R}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{S=function(R){this._initNamed(R)}}return _(S,k),S.prototype._initNamed=function(R){k.call(this,R)},new S(this)},H.prototype._getDecoder=function(k){return this.decoders.hasOwnProperty(k=k||"der")||(this.decoders[k]=this._createNamed(g.decoders[k])),this.decoders[k]},H.prototype.decode=function(k,S,P){return this._getDecoder(S).decode(k,P)},H.prototype._getEncoder=function(k){return this.encoders.hasOwnProperty(k=k||"der")||(this.encoders[k]=this._createNamed(g.encoders[k])),this.encoders[k]},H.prototype.encode=function(k,S,P){return this._getEncoder(S).encode(k,P)}},97290:($e,j,E)=>{var g=E(71993),_=E(15066).Reporter,B=E(83838).Buffer;function H(k,S){_.call(this,S),B.isBuffer(k)?(this.base=k,this.offset=0,this.length=k.length):this.error("Input not Buffer")}function b(k,S){if(Array.isArray(k))this.length=0,this.value=k.map(function(P){return P instanceof b||(P=new b(P,S)),this.length+=P.length,P},this);else if("number"==typeof k){if(!(0<=k&&k<=255))return S.error("non-byte EncoderBuffer value");this.value=k,this.length=1}else if("string"==typeof k)this.value=k,this.length=B.byteLength(k);else{if(!B.isBuffer(k))return S.error("Unsupported type: "+typeof k);this.value=k,this.length=k.length}}g(H,_),j.t=H,H.prototype.save=function(){return{offset:this.offset,reporter:_.prototype.save.call(this)}},H.prototype.restore=function(S){var P=new H(this.base);return P.offset=S.offset,P.length=this.offset,this.offset=S.offset,_.prototype.restore.call(this,S.reporter),P},H.prototype.isEmpty=function(){return this.offset===this.length},H.prototype.readUInt8=function(S){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(S||"DecoderBuffer overrun")},H.prototype.skip=function(S,P){if(!(this.offset+S<=this.length))return this.error(P||"DecoderBuffer overrun");var R=new H(this.base);return R._reporterState=this._reporterState,R.offset=this.offset,R.length=this.offset+S,this.offset+=S,R},H.prototype.raw=function(S){return this.base.slice(S?S.offset:this.offset,this.length)},j.d=b,b.prototype.join=function(S,P){return S||(S=new B(this.length)),P||(P=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(R){R.join(S,P),P+=R.length}):("number"==typeof this.value?S[P]=this.value:"string"==typeof this.value?S.write(this.value,P):B.isBuffer(this.value)&&this.value.copy(S,P),P+=this.length)),S}},15066:($e,j,E)=>{var g=j;g.Reporter=E(85697).a,g.DecoderBuffer=E(97290).t,g.EncoderBuffer=E(97290).d,g.Node=E(34320)},34320:($e,j,E)=>{var g=E(15066).Reporter,_=E(15066).EncoderBuffer,B=E(15066).DecoderBuffer,H=E(39210),b=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],k=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(b);function P(O,A){var V={};this._baseState=V,V.enc=O,V.parent=A||null,V.children=null,V.tag=null,V.args=null,V.reverseArgs=null,V.choice=null,V.optional=!1,V.any=!1,V.obj=!1,V.use=null,V.useDecoder=null,V.key=null,V.default=null,V.explicit=null,V.implicit=null,V.contains=null,V.parent||(V.children=[],this._wrap())}$e.exports=P;var R=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];P.prototype.clone=function(){var A=this._baseState,V={};R.forEach(function(K){V[K]=A[K]});var U=new this.constructor(V.parent);return U._baseState=V,U},P.prototype._wrap=function(){var A=this._baseState;k.forEach(function(V){this[V]=function(){var K=new this.constructor(this);return A.children.push(K),K[V].apply(K,arguments)}},this)},P.prototype._init=function(A){var V=this._baseState;H(null===V.parent),A.call(this),V.children=V.children.filter(function(U){return U._baseState.parent===this},this),H.equal(V.children.length,1,"Root node can have only one child")},P.prototype._useArgs=function(A){var V=this._baseState,U=A.filter(function(K){return K instanceof this.constructor},this);A=A.filter(function(K){return!(K instanceof this.constructor)},this),0!==U.length&&(H(null===V.children),V.children=U,U.forEach(function(K){K._baseState.parent=this},this)),0!==A.length&&(H(null===V.args),V.args=A,V.reverseArgs=A.map(function(K){if("object"!=typeof K||K.constructor!==Object)return K;var Q={};return Object.keys(K).forEach(function(q){q==(0|q)&&(q|=0),Q[K[q]]=q}),Q}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(O){P.prototype[O]=function(){throw new Error(O+" not implemented for encoding: "+this._baseState.enc)}}),b.forEach(function(O){P.prototype[O]=function(){var V=this._baseState,U=Array.prototype.slice.call(arguments);return H(null===V.tag),V.tag=O,this._useArgs(U),this}}),P.prototype.use=function(A){H(A);var V=this._baseState;return H(null===V.use),V.use=A,this},P.prototype.optional=function(){return this._baseState.optional=!0,this},P.prototype.def=function(A){var V=this._baseState;return H(null===V.default),V.default=A,V.optional=!0,this},P.prototype.explicit=function(A){var V=this._baseState;return H(null===V.explicit&&null===V.implicit),V.explicit=A,this},P.prototype.implicit=function(A){var V=this._baseState;return H(null===V.explicit&&null===V.implicit),V.implicit=A,this},P.prototype.obj=function(){var A=this._baseState,V=Array.prototype.slice.call(arguments);return A.obj=!0,0!==V.length&&this._useArgs(V),this},P.prototype.key=function(A){var V=this._baseState;return H(null===V.key),V.key=A,this},P.prototype.any=function(){return this._baseState.any=!0,this},P.prototype.choice=function(A){var V=this._baseState;return H(null===V.choice),V.choice=A,this._useArgs(Object.keys(A).map(function(U){return A[U]})),this},P.prototype.contains=function(A){var V=this._baseState;return H(null===V.use),V.contains=A,this},P.prototype._decode=function(A,V){var U=this._baseState;if(null===U.parent)return A.wrapResult(U.children[0]._decode(A,V));var re,K=U.default,Q=!0,q=null;if(null!==U.key&&(q=A.enterKey(U.key)),U.optional){var Y=null;if(null!==U.explicit?Y=U.explicit:null!==U.implicit?Y=U.implicit:null!==U.tag&&(Y=U.tag),null!==Y||U.any){if(Q=this._peekTag(A,Y,U.any),A.isError(Q))return Q}else{var W=A.save();try{null===U.choice?this._decodeGeneric(U.tag,A,V):this._decodeChoice(A,V),Q=!0}catch{Q=!1}A.restore(W)}}if(U.obj&&Q&&(re=A.enterObject()),Q){if(null!==U.explicit){var ie=this._decodeTag(A,U.explicit);if(A.isError(ie))return ie;A=ie}var ae=A.offset;if(null===U.use&&null===U.choice){U.any&&(W=A.save());var ue=this._decodeTag(A,null!==U.implicit?U.implicit:U.tag,U.any);if(A.isError(ue))return ue;U.any?K=A.raw(W):A=ue}if(V&&V.track&&null!==U.tag&&V.track(A.path(),ae,A.length,"tagged"),V&&V.track&&null!==U.tag&&V.track(A.path(),A.offset,A.length,"content"),U.any||(K=null===U.choice?this._decodeGeneric(U.tag,A,V):this._decodeChoice(A,V)),A.isError(K))return K;if(!U.any&&null===U.choice&&null!==U.children&&U.children.forEach(function(ve){ve._decode(A,V)}),U.contains&&("octstr"===U.tag||"bitstr"===U.tag)){var ce=new B(K);K=this._getUse(U.contains,A._reporterState.obj)._decode(ce,V)}}return U.obj&&Q&&(K=A.leaveObject(re)),null===U.key||null===K&&!0!==Q?null!==q&&A.exitKey(q):A.leaveKey(q,U.key,K),K},P.prototype._decodeGeneric=function(A,V,U){var K=this._baseState;return"seq"===A||"set"===A?null:"seqof"===A||"setof"===A?this._decodeList(V,A,K.args[0],U):/str$/.test(A)?this._decodeStr(V,A,U):"objid"===A&&K.args?this._decodeObjid(V,K.args[0],K.args[1],U):"objid"===A?this._decodeObjid(V,null,null,U):"gentime"===A||"utctime"===A?this._decodeTime(V,A,U):"null_"===A?this._decodeNull(V,U):"bool"===A?this._decodeBool(V,U):"objDesc"===A?this._decodeStr(V,A,U):"int"===A||"enum"===A?this._decodeInt(V,K.args&&K.args[0],U):null!==K.use?this._getUse(K.use,V._reporterState.obj)._decode(V,U):V.error("unknown tag: "+A)},P.prototype._getUse=function(A,V){var U=this._baseState;return U.useDecoder=this._use(A,V),H(null===U.useDecoder._baseState.parent),U.useDecoder=U.useDecoder._baseState.children[0],U.implicit!==U.useDecoder._baseState.implicit&&(U.useDecoder=U.useDecoder.clone(),U.useDecoder._baseState.implicit=U.implicit),U.useDecoder},P.prototype._decodeChoice=function(A,V){var U=this._baseState,K=null,Q=!1;return Object.keys(U.choice).some(function(q){var Y=A.save(),W=U.choice[q];try{var re=W._decode(A,V);if(A.isError(re))return!1;K={type:q,value:re},Q=!0}catch{return A.restore(Y),!1}return!0},this),Q?K:A.error("Choice not matched")},P.prototype._createEncoderBuffer=function(A){return new _(A,this.reporter)},P.prototype._encode=function(A,V,U){var K=this._baseState;if(null===K.default||K.default!==A){var Q=this._encodeValue(A,V,U);if(void 0!==Q&&!this._skipDefault(Q,V,U))return Q}},P.prototype._encodeValue=function(A,V,U){var K=this._baseState;if(null===K.parent)return K.children[0]._encode(A,V||new g);var W=null;if(this.reporter=V,K.optional&&void 0===A){if(null===K.default)return;A=K.default}var Q=null,q=!1;if(K.any)W=this._createEncoderBuffer(A);else if(K.choice)W=this._encodeChoice(A,V);else if(K.contains)Q=this._getUse(K.contains,U)._encode(A,V),q=!0;else if(K.children)Q=K.children.map(function(ae){if("null_"===ae._baseState.tag)return ae._encode(null,V,A);if(null===ae._baseState.key)return V.error("Child should have a key");var ue=V.enterKey(ae._baseState.key);if("object"!=typeof A)return V.error("Child expected, but input is not object");var ce=ae._encode(A[ae._baseState.key],V,A);return V.leaveKey(ue),ce},this).filter(function(ae){return ae}),Q=this._createEncoderBuffer(Q);else if("seqof"===K.tag||"setof"===K.tag){if(!K.args||1!==K.args.length)return V.error("Too many args for : "+K.tag);if(!Array.isArray(A))return V.error("seqof/setof, but data is not Array");var Y=this.clone();Y._baseState.implicit=null,Q=this._createEncoderBuffer(A.map(function(ae){return this._getUse(this._baseState.args[0],A)._encode(ae,V)},Y))}else null!==K.use?W=this._getUse(K.use,U)._encode(A,V):(Q=this._encodePrimitive(K.tag,A),q=!0);if(!K.any&&null===K.choice){var re=null!==K.implicit?K.implicit:K.tag,ie=null===K.implicit?"universal":"context";null===re?null===K.use&&V.error("Tag could be omitted only for .use()"):null===K.use&&(W=this._encodeComposite(re,q,ie,Q))}return null!==K.explicit&&(W=this._encodeComposite(K.explicit,!1,"context",W)),W},P.prototype._encodeChoice=function(A,V){var U=this._baseState,K=U.choice[A.type];return K||H(!1,A.type+" not found in "+JSON.stringify(Object.keys(U.choice))),K._encode(A.value,V)},P.prototype._encodePrimitive=function(A,V){var U=this._baseState;if(/str$/.test(A))return this._encodeStr(V,A);if("objid"===A&&U.args)return this._encodeObjid(V,U.reverseArgs[0],U.args[1]);if("objid"===A)return this._encodeObjid(V,null,null);if("gentime"===A||"utctime"===A)return this._encodeTime(V,A);if("null_"===A)return this._encodeNull();if("int"===A||"enum"===A)return this._encodeInt(V,U.args&&U.reverseArgs[0]);if("bool"===A)return this._encodeBool(V);if("objDesc"===A)return this._encodeStr(V,A);throw new Error("Unsupported tag: "+A)},P.prototype._isNumstr=function(A){return/^[0-9 ]*$/.test(A)},P.prototype._isPrintstr=function(A){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(A)}},85697:($e,j,E)=>{var g=E(71993);function _(H){this._reporterState={obj:null,path:[],options:H||{},errors:[]}}function B(H,b){this.path=H,this.rethrow(b)}j.a=_,_.prototype.isError=function(b){return b instanceof B},_.prototype.save=function(){var b=this._reporterState;return{obj:b.obj,pathLen:b.path.length}},_.prototype.restore=function(b){var k=this._reporterState;k.obj=b.obj,k.path=k.path.slice(0,b.pathLen)},_.prototype.enterKey=function(b){return this._reporterState.path.push(b)},_.prototype.exitKey=function(b){var k=this._reporterState;k.path=k.path.slice(0,b-1)},_.prototype.leaveKey=function(b,k,S){var P=this._reporterState;this.exitKey(b),null!==P.obj&&(P.obj[k]=S)},_.prototype.path=function(){return this._reporterState.path.join("/")},_.prototype.enterObject=function(){var b=this._reporterState,k=b.obj;return b.obj={},k},_.prototype.leaveObject=function(b){var k=this._reporterState,S=k.obj;return k.obj=b,S},_.prototype.error=function(b){var k,S=this._reporterState,P=b instanceof B;if(k=P?b:new B(S.path.map(function(R){return"["+JSON.stringify(R)+"]"}).join(""),b.message||b,b.stack),!S.options.partial)throw k;return P||S.errors.push(k),k},_.prototype.wrapResult=function(b){var k=this._reporterState;return k.options.partial?{result:this.isError(b)?null:b,errors:k.errors}:b},g(B,Error),B.prototype.rethrow=function(b){if(this.message=b+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,B),!this.stack)try{throw new Error(this.message)}catch(k){this.stack=k.stack}return this}},36283:($e,j,E)=>{var g=E(47740);j.tagClass={0:"universal",1:"application",2:"context",3:"private"},j.tagClassByName=g._reverse(j.tagClass),j.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},j.tagByName=g._reverse(j.tag)},47740:($e,j,E)=>{var g=j;g._reverse=function(B){var H={};return Object.keys(B).forEach(function(b){(0|b)==b&&(b|=0),H[B[b]]=b}),H},g.der=E(36283)},55941:($e,j,E)=>{var g=E(71993),_=E(49609),B=_.base,H=_.bignum,b=_.constants.der;function k(O){this.enc="der",this.name=O.name,this.entity=O,this.tree=new S,this.tree._init(O.body)}function S(O){B.Node.call(this,"der",O)}function P(O,A){var V=O.readUInt8(A);if(O.isError(V))return V;var U=b.tagClass[V>>6],K=!(32&V);if(31&~V)V&=31;else{var Q=V;for(V=0;!(128&~Q);){if(Q=O.readUInt8(A),O.isError(Q))return Q;V<<=7,V|=127&Q}}return{cls:U,primitive:K,tag:V,tagStr:b.tag[V]}}function R(O,A,V){var U=O.readUInt8(V);if(O.isError(U))return U;if(!A&&128===U)return null;if(!(128&U))return U;var K=127&U;if(K>4)return O.error("length octect is too long");U=0;for(var Q=0;Q<K;Q++){U<<=8;var q=O.readUInt8(V);if(O.isError(q))return q;U|=q}return U}$e.exports=k,k.prototype.decode=function(A,V){return A instanceof B.DecoderBuffer||(A=new B.DecoderBuffer(A,V)),this.tree._decode(A,V)},g(S,B.Node),S.prototype._peekTag=function(A,V,U){if(A.isEmpty())return!1;var K=A.save(),Q=P(A,'Failed to peek tag: "'+V+'"');return A.isError(Q)?Q:(A.restore(K),Q.tag===V||Q.tagStr===V||Q.tagStr+"of"===V||U)},S.prototype._decodeTag=function(A,V,U){var K=P(A,'Failed to decode tag of "'+V+'"');if(A.isError(K))return K;var Q=R(A,K.primitive,'Failed to get length of "'+V+'"');if(A.isError(Q))return Q;if(!U&&K.tag!==V&&K.tagStr!==V&&K.tagStr+"of"!==V)return A.error('Failed to match tag: "'+V+'"');if(K.primitive||null!==Q)return A.skip(Q,'Failed to match body of: "'+V+'"');var q=A.save(),Y=this._skipUntilEnd(A,'Failed to skip indefinite length body: "'+this.tag+'"');return A.isError(Y)?Y:(Q=A.offset-q.offset,A.restore(q),A.skip(Q,'Failed to match body of: "'+V+'"'))},S.prototype._skipUntilEnd=function(A,V){for(;;){var U=P(A,V);if(A.isError(U))return U;var Q,K=R(A,U.primitive,V);if(A.isError(K))return K;if(Q=U.primitive||null!==K?A.skip(K):this._skipUntilEnd(A,V),A.isError(Q))return Q;if("end"===U.tagStr)break}},S.prototype._decodeList=function(A,V,U,K){for(var Q=[];!A.isEmpty();){var q=this._peekTag(A,"end");if(A.isError(q))return q;var Y=U.decode(A,"der",K);if(A.isError(Y)&&q)break;Q.push(Y)}return Q},S.prototype._decodeStr=function(A,V){if("bitstr"===V){var U=A.readUInt8();return A.isError(U)?U:{unused:U,data:A.raw()}}if("bmpstr"===V){var K=A.raw();if(K.length%2==1)return A.error("Decoding of string type: bmpstr length mismatch");for(var Q="",q=0;q<K.length/2;q++)Q+=String.fromCharCode(K.readUInt16BE(2*q));return Q}if("numstr"===V){var Y=A.raw().toString("ascii");return this._isNumstr(Y)?Y:A.error("Decoding of string type: numstr unsupported characters")}if("octstr"===V)return A.raw();if("objDesc"===V)return A.raw();if("printstr"===V){var W=A.raw().toString("ascii");return this._isPrintstr(W)?W:A.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(V)?A.raw().toString():A.error("Decoding of string type: "+V+" unsupported")},S.prototype._decodeObjid=function(A,V,U){for(var K,Q=[],q=0;!A.isEmpty();){var Y=A.readUInt8();q<<=7,q|=127&Y,128&Y||(Q.push(q),q=0)}if(128&Y&&Q.push(q),K=U?Q:[Q[0]/40|0,Q[0]%40].concat(Q.slice(1)),V){var ie=V[K.join(" ")];void 0===ie&&(ie=V[K.join(".")]),void 0!==ie&&(K=ie)}return K},S.prototype._decodeTime=function(A,V){var U=A.raw().toString();if("gentime"===V)var K=0|U.slice(0,4),Q=0|U.slice(4,6),q=0|U.slice(6,8),Y=0|U.slice(8,10),W=0|U.slice(10,12),re=0|U.slice(12,14);else{if("utctime"!==V)return A.error("Decoding "+V+" time is not supported yet");K=0|U.slice(0,2),Q=0|U.slice(2,4),q=0|U.slice(4,6),Y=0|U.slice(6,8),W=0|U.slice(8,10),re=0|U.slice(10,12),K=K<70?2e3+K:1900+K}return Date.UTC(K,Q-1,q,Y,W,re,0)},S.prototype._decodeNull=function(A){return null},S.prototype._decodeBool=function(A){var V=A.readUInt8();return A.isError(V)?V:0!==V},S.prototype._decodeInt=function(A,V){var U=A.raw(),K=new H(U);return V&&(K=V[K.toString(10)]||K),K},S.prototype._use=function(A,V){return"function"==typeof A&&(A=A(V)),A._getDecoder("der").tree}},91558:($e,j,E)=>{var g=j;g.der=E(55941),g.pem=E(59316)},59316:($e,j,E)=>{var g=E(71993),_=E(83838).Buffer,B=E(55941);function H(b){B.call(this,b),this.enc="pem"}g(H,B),$e.exports=H,H.prototype.decode=function(k,S){for(var P=k.toString().split(/[\r\n]+/g),R=S.label.toUpperCase(),O=/^-----(BEGIN|END) ([^-]+)-----$/,A=-1,V=-1,U=0;U<P.length;U++){var K=P[U].match(O);if(null!==K&&K[2]===R){if(-1!==A){if("END"!==K[1])break;V=U;break}if("BEGIN"!==K[1])break;A=U}}if(-1===A||-1===V)throw new Error("PEM section not found for: "+R);var Q=P.slice(A+1,V).join("");Q.replace(/[^a-z0-9\+\/=]+/gi,"");var q=new _(Q,"base64");return B.prototype.decode.call(this,q,S)}},72193:($e,j,E)=>{var g=E(71993),_=E(83838).Buffer,B=E(49609),H=B.base,b=B.constants.der;function k(O){this.enc="der",this.name=O.name,this.entity=O,this.tree=new S,this.tree._init(O.body)}function S(O){H.Node.call(this,"der",O)}function P(O){return O<10?"0"+O:O}$e.exports=k,k.prototype.encode=function(A,V){return this.tree._encode(A,V).join()},g(S,H.Node),S.prototype._encodeComposite=function(A,V,U,K){var W,Q=function R(O,A,V,U){var K;if("seqof"===O?O="seq":"setof"===O&&(O="set"),b.tagByName.hasOwnProperty(O))K=b.tagByName[O];else{if("number"!=typeof O||(0|O)!==O)return U.error("Unknown tag: "+O);K=O}return K>=31?U.error("Multi-octet tag encoding unsupported"):(A||(K|=32),K|=b.tagClassByName[V||"universal"]<<6)}(A,V,U,this.reporter);if(K.length<128)return(W=new _(2))[0]=Q,W[1]=K.length,this._createEncoderBuffer([W,K]);for(var q=1,Y=K.length;Y>=256;Y>>=8)q++;(W=new _(2+q))[0]=Q,W[1]=128|q,Y=1+q;for(var re=K.length;re>0;Y--,re>>=8)W[Y]=255&re;return this._createEncoderBuffer([W,K])},S.prototype._encodeStr=function(A,V){if("bitstr"===V)return this._createEncoderBuffer([0|A.unused,A.data]);if("bmpstr"===V){for(var U=new _(2*A.length),K=0;K<A.length;K++)U.writeUInt16BE(A.charCodeAt(K),2*K);return this._createEncoderBuffer(U)}return"numstr"===V?this._isNumstr(A)?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===V?this._isPrintstr(A)?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(V)||"objDesc"===V?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: "+V+" unsupported")},S.prototype._encodeObjid=function(A,V,U){if("string"==typeof A){if(!V)return this.reporter.error("string objid given, but no values map found");if(!V.hasOwnProperty(A))return this.reporter.error("objid not found in values map");A=V[A].split(/[\s\.]+/g);for(var K=0;K<A.length;K++)A[K]|=0}else if(Array.isArray(A))for(A=A.slice(),K=0;K<A.length;K++)A[K]|=0;if(!Array.isArray(A))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(A));if(!U){if(A[1]>=40)return this.reporter.error("Second objid identifier OOB");A.splice(0,2,40*A[0]+A[1])}var Q=0;for(K=0;K<A.length;K++){var q=A[K];for(Q++;q>=128;q>>=7)Q++}var Y=new _(Q),W=Y.length-1;for(K=A.length-1;K>=0;K--)for(Y[W--]=127&(q=A[K]);(q>>=7)>0;)Y[W--]=128|127&q;return this._createEncoderBuffer(Y)},S.prototype._encodeTime=function(A,V){var U,K=new Date(A);return"gentime"===V?U=[P(K.getFullYear()),P(K.getUTCMonth()+1),P(K.getUTCDate()),P(K.getUTCHours()),P(K.getUTCMinutes()),P(K.getUTCSeconds()),"Z"].join(""):"utctime"===V?U=[P(K.getFullYear()%100),P(K.getUTCMonth()+1),P(K.getUTCDate()),P(K.getUTCHours()),P(K.getUTCMinutes()),P(K.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+V+" time is not supported yet"),this._encodeStr(U,"octstr")},S.prototype._encodeNull=function(){return this._createEncoderBuffer("")},S.prototype._encodeInt=function(A,V){if("string"==typeof A){if(!V)return this.reporter.error("String int or enum given, but no values map");if(!V.hasOwnProperty(A))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(A));A=V[A]}if("number"!=typeof A&&!_.isBuffer(A)){var U=A.toArray();!A.sign&&128&U[0]&&U.unshift(0),A=new _(U)}if(_.isBuffer(A)){var K=A.length;0===A.length&&K++;var q=new _(K);return A.copy(q),0===A.length&&(q[0]=0),this._createEncoderBuffer(q)}if(A<128)return this._createEncoderBuffer(A);if(A<256)return this._createEncoderBuffer([0,A]);K=1;for(var Q=A;Q>=256;Q>>=8)K++;for(Q=(q=new Array(K)).length-1;Q>=0;Q--)q[Q]=255&A,A>>=8;return 128&q[0]&&q.unshift(0),this._createEncoderBuffer(new _(q))},S.prototype._encodeBool=function(A){return this._createEncoderBuffer(A?255:0)},S.prototype._use=function(A,V){return"function"==typeof A&&(A=A(V)),A._getEncoder("der").tree},S.prototype._skipDefault=function(A,V,U){var Q,K=this._baseState;if(null===K.default)return!1;var q=A.join();if(void 0===K.defaultBuffer&&(K.defaultBuffer=this._encodeValue(K.default,V,U).join()),q.length!==K.defaultBuffer.length)return!1;for(Q=0;Q<q.length;Q++)if(q[Q]!==K.defaultBuffer[Q])return!1;return!0}},22714:($e,j,E)=>{var g=j;g.der=E(72193),g.pem=E(24816)},24816:($e,j,E)=>{var g=E(71993),_=E(72193);function B(H){_.call(this,H),this.enc="pem"}g(B,_),$e.exports=B,B.prototype.encode=function(b,k){for(var P=_.prototype.encode.call(this,b).toString("base64"),R=["-----BEGIN "+k.label+"-----"],O=0;O<P.length;O+=64)R.push(P.slice(O,O+64));return R.push("-----END "+k.label+"-----"),R.join("\n")}},96867:function($e,j,E){!function(g,_){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:_.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(78982).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,w=Math.min(C.length,d),I=s;I<w;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var w,I,L=0;if("be"===h)for(f=s.length-1,w=0;f>=0;f-=3)this.words[w]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);else if("le"===h)for(f=0,w=0;f<s.length;f+=3)this.words[w]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,w=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,w=1;w<=67108863;w*=d)f++;f--,w=w/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(w),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],w=0|s.words[0],I=f*w,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(w=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,w=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|w)).toString(16);h=0!=(w=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==w&&(h=w.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),w=h||Math.max(1,f);B(f<=w,"byte array longer than desired length"),B(w>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(w),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<w;a++)L[a]=0}else{for(a=0;a<w-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[w-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var w=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+w),w=d>>>26;for(;0!==w&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+w),w=d>>>26;if(this.length=h.length,0!==w)this.words[this.length]=w,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,w,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,w=s):(f=s,w=this);for(var I=0,L=0;L<w.length;L++)I=(d=(0|f.words[L])-(0|w.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,w=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ge=0|f[2],ge=8191&Ge,me=Ge>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,xt=0|f[7],Ne=8191&xt,ke=xt>>>13,pt=0|f[8],F=8191&pt,D=pt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|w[0],Ae=8191&Se,rt=Se>>>13,Ht=0|w[1],vt=8191&Ht,Ot=Ht>>>13,qt=0|w[2],mn=8191&qt,ln=qt>>>13,rr=0|w[3],Tn=8191&rr,rn=rr>>>13,Xt=0|w[4],dt=8191&Xt,it=Xt>>>13,Wt=0|w[5],Gt=8191&Wt,nn=Wt>>>13,Xn=0|w[6],ot=8191&Xn,ft=Xn>>>13,ut=0|w[7],Ke=8191&ut,We=ut>>>13,Bt=0|w[8],At=8191&Bt,fn=Bt>>>13,Un=0|w[9],wn=8191&Un,vn=Un>>>13;h.negative=s.negative^d.negative,h.length=19;var pr=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,rt))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,rt))+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,rt))+Math.imul(Me,Ae)|0,v=Math.imul(Me,rt);var nr=(L+(x=x+Math.imul(z,vt)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ot)|0)+Math.imul(ee,vt)|0))<<13)|0;L=((v=v+Math.imul(ee,Ot)|0)+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,rt))+Math.imul(me,Ae)|0,v=Math.imul(me,rt),x=x+Math.imul(we,vt)|0,a=(a=a+Math.imul(we,Ot)|0)+Math.imul(Me,vt)|0,v=v+Math.imul(Me,Ot)|0;var Bn=(L+(x=x+Math.imul(z,mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,mn)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,rt))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,rt),x=x+Math.imul(ge,vt)|0,a=(a=a+Math.imul(ge,Ot)|0)+Math.imul(me,vt)|0,v=v+Math.imul(me,Ot)|0,x=x+Math.imul(we,mn)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,mn)|0,v=v+Math.imul(Me,ln)|0;var Fn=(L+(x=x+Math.imul(z,Tn)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Tn)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,rt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,rt),x=x+Math.imul(xe,vt)|0,a=(a=a+Math.imul(xe,Ot)|0)+Math.imul(Ce,vt)|0,v=v+Math.imul(Ce,Ot)|0,x=x+Math.imul(ge,mn)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,mn)|0,v=v+Math.imul(me,ln)|0,x=x+Math.imul(we,Tn)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Tn)|0,v=v+Math.imul(Me,rn)|0;var qe=(L+(x=x+Math.imul(z,dt)|0)|0)+((8191&(a=(a=a+Math.imul(z,it)|0)+Math.imul(ee,dt)|0))<<13)|0;L=((v=v+Math.imul(ee,it)|0)+(a>>>13)|0)+(qe>>>26)|0,qe&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,rt))+Math.imul(_e,Ae)|0,v=Math.imul(_e,rt),x=x+Math.imul(he,vt)|0,a=(a=a+Math.imul(he,Ot)|0)+Math.imul(ne,vt)|0,v=v+Math.imul(ne,Ot)|0,x=x+Math.imul(xe,mn)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,mn)|0,v=v+Math.imul(Ce,ln)|0,x=x+Math.imul(ge,Tn)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Tn)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,dt)|0,a=(a=a+Math.imul(we,it)|0)+Math.imul(Me,dt)|0,v=v+Math.imul(Me,it)|0;var Oe=(L+(x=x+Math.imul(z,Gt)|0)|0)+((8191&(a=(a=a+Math.imul(z,nn)|0)+Math.imul(ee,Gt)|0))<<13)|0;L=((v=v+Math.imul(ee,nn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,rt))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,rt),x=x+Math.imul(de,vt)|0,a=(a=a+Math.imul(de,Ot)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,Ot)|0,x=x+Math.imul(he,mn)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,mn)|0,v=v+Math.imul(ne,ln)|0,x=x+Math.imul(xe,Tn)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Tn)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,dt)|0,a=(a=a+Math.imul(ge,it)|0)+Math.imul(me,dt)|0,v=v+Math.imul(me,it)|0,x=x+Math.imul(we,Gt)|0,a=(a=a+Math.imul(we,nn)|0)+Math.imul(Me,Gt)|0,v=v+Math.imul(Me,nn)|0;var Je=(L+(x=x+Math.imul(z,ot)|0)|0)+((8191&(a=(a=a+Math.imul(z,ft)|0)+Math.imul(ee,ot)|0))<<13)|0;L=((v=v+Math.imul(ee,ft)|0)+(a>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,rt))+Math.imul(ke,Ae)|0,v=Math.imul(ke,rt),x=x+Math.imul(He,vt)|0,a=(a=a+Math.imul(He,Ot)|0)+Math.imul(Ve,vt)|0,v=v+Math.imul(Ve,Ot)|0,x=x+Math.imul(de,mn)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,mn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(he,Tn)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Tn)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,dt)|0,a=(a=a+Math.imul(xe,it)|0)+Math.imul(Ce,dt)|0,v=v+Math.imul(Ce,it)|0,x=x+Math.imul(ge,Gt)|0,a=(a=a+Math.imul(ge,nn)|0)+Math.imul(me,Gt)|0,v=v+Math.imul(me,nn)|0,x=x+Math.imul(we,ot)|0,a=(a=a+Math.imul(we,ft)|0)+Math.imul(Me,ot)|0,v=v+Math.imul(Me,ft)|0;var Kt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,We)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,We)|0)+(a>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,rt))+Math.imul(D,Ae)|0,v=Math.imul(D,rt),x=x+Math.imul(Ne,vt)|0,a=(a=a+Math.imul(Ne,Ot)|0)+Math.imul(ke,vt)|0,v=v+Math.imul(ke,Ot)|0,x=x+Math.imul(He,mn)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,mn)|0,v=v+Math.imul(Ve,ln)|0,x=x+Math.imul(de,Tn)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Tn)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,dt)|0,a=(a=a+Math.imul(he,it)|0)+Math.imul(ne,dt)|0,v=v+Math.imul(ne,it)|0,x=x+Math.imul(xe,Gt)|0,a=(a=a+Math.imul(xe,nn)|0)+Math.imul(Ce,Gt)|0,v=v+Math.imul(Ce,nn)|0,x=x+Math.imul(ge,ot)|0,a=(a=a+Math.imul(ge,ft)|0)+Math.imul(me,ot)|0,v=v+Math.imul(me,ft)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,We)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,We)|0;var pn=(L+(x=x+Math.imul(z,At)|0)|0)+((8191&(a=(a=a+Math.imul(z,fn)|0)+Math.imul(ee,At)|0))<<13)|0;L=((v=v+Math.imul(ee,fn)|0)+(a>>>13)|0)+(pn>>>26)|0,pn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,rt))+Math.imul(fe,Ae)|0,v=Math.imul(fe,rt),x=x+Math.imul(F,vt)|0,a=(a=a+Math.imul(F,Ot)|0)+Math.imul(D,vt)|0,v=v+Math.imul(D,Ot)|0,x=x+Math.imul(Ne,mn)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,mn)|0,v=v+Math.imul(ke,ln)|0,x=x+Math.imul(He,Tn)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Tn)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,dt)|0,a=(a=a+Math.imul(de,it)|0)+Math.imul(_e,dt)|0,v=v+Math.imul(_e,it)|0,x=x+Math.imul(he,Gt)|0,a=(a=a+Math.imul(he,nn)|0)+Math.imul(ne,Gt)|0,v=v+Math.imul(ne,nn)|0,x=x+Math.imul(xe,ot)|0,a=(a=a+Math.imul(xe,ft)|0)+Math.imul(Ce,ot)|0,v=v+Math.imul(Ce,ft)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,We)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,We)|0,x=x+Math.imul(we,At)|0,a=(a=a+Math.imul(we,fn)|0)+Math.imul(Me,At)|0,v=v+Math.imul(Me,fn)|0;var jn=(L+(x=x+Math.imul(z,wn)|0)|0)+((8191&(a=(a=a+Math.imul(z,vn)|0)+Math.imul(ee,wn)|0))<<13)|0;L=((v=v+Math.imul(ee,vn)|0)+(a>>>13)|0)+(jn>>>26)|0,jn&=67108863,x=Math.imul(G,vt),a=(a=Math.imul(G,Ot))+Math.imul(fe,vt)|0,v=Math.imul(fe,Ot),x=x+Math.imul(F,mn)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,mn)|0,v=v+Math.imul(D,ln)|0,x=x+Math.imul(Ne,Tn)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Tn)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,dt)|0,a=(a=a+Math.imul(He,it)|0)+Math.imul(Ve,dt)|0,v=v+Math.imul(Ve,it)|0,x=x+Math.imul(de,Gt)|0,a=(a=a+Math.imul(de,nn)|0)+Math.imul(_e,Gt)|0,v=v+Math.imul(_e,nn)|0,x=x+Math.imul(he,ot)|0,a=(a=a+Math.imul(he,ft)|0)+Math.imul(ne,ot)|0,v=v+Math.imul(ne,ft)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,We)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,We)|0,x=x+Math.imul(ge,At)|0,a=(a=a+Math.imul(ge,fn)|0)+Math.imul(me,At)|0,v=v+Math.imul(me,fn)|0;var zn=(L+(x=x+Math.imul(we,wn)|0)|0)+((8191&(a=(a=a+Math.imul(we,vn)|0)+Math.imul(Me,wn)|0))<<13)|0;L=((v=v+Math.imul(Me,vn)|0)+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(G,mn),a=(a=Math.imul(G,ln))+Math.imul(fe,mn)|0,v=Math.imul(fe,ln),x=x+Math.imul(F,Tn)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Tn)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,dt)|0,a=(a=a+Math.imul(Ne,it)|0)+Math.imul(ke,dt)|0,v=v+Math.imul(ke,it)|0,x=x+Math.imul(He,Gt)|0,a=(a=a+Math.imul(He,nn)|0)+Math.imul(Ve,Gt)|0,v=v+Math.imul(Ve,nn)|0,x=x+Math.imul(de,ot)|0,a=(a=a+Math.imul(de,ft)|0)+Math.imul(_e,ot)|0,v=v+Math.imul(_e,ft)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,We)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,We)|0,x=x+Math.imul(xe,At)|0,a=(a=a+Math.imul(xe,fn)|0)+Math.imul(Ce,At)|0,v=v+Math.imul(Ce,fn)|0;var or=(L+(x=x+Math.imul(ge,wn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,vn)|0)+Math.imul(me,wn)|0))<<13)|0;L=((v=v+Math.imul(me,vn)|0)+(a>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(G,Tn),a=(a=Math.imul(G,rn))+Math.imul(fe,Tn)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,dt)|0,a=(a=a+Math.imul(F,it)|0)+Math.imul(D,dt)|0,v=v+Math.imul(D,it)|0,x=x+Math.imul(Ne,Gt)|0,a=(a=a+Math.imul(Ne,nn)|0)+Math.imul(ke,Gt)|0,v=v+Math.imul(ke,nn)|0,x=x+Math.imul(He,ot)|0,a=(a=a+Math.imul(He,ft)|0)+Math.imul(Ve,ot)|0,v=v+Math.imul(Ve,ft)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,We)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,We)|0,x=x+Math.imul(he,At)|0,a=(a=a+Math.imul(he,fn)|0)+Math.imul(ne,At)|0,v=v+Math.imul(ne,fn)|0;var yr=(L+(x=x+Math.imul(xe,wn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,vn)|0)+Math.imul(Ce,wn)|0))<<13)|0;L=((v=v+Math.imul(Ce,vn)|0)+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,x=Math.imul(G,dt),a=(a=Math.imul(G,it))+Math.imul(fe,dt)|0,v=Math.imul(fe,it),x=x+Math.imul(F,Gt)|0,a=(a=a+Math.imul(F,nn)|0)+Math.imul(D,Gt)|0,v=v+Math.imul(D,nn)|0,x=x+Math.imul(Ne,ot)|0,a=(a=a+Math.imul(Ne,ft)|0)+Math.imul(ke,ot)|0,v=v+Math.imul(ke,ft)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,We)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,We)|0,x=x+Math.imul(de,At)|0,a=(a=a+Math.imul(de,fn)|0)+Math.imul(_e,At)|0,v=v+Math.imul(_e,fn)|0;var Rr=(L+(x=x+Math.imul(he,wn)|0)|0)+((8191&(a=(a=a+Math.imul(he,vn)|0)+Math.imul(ne,wn)|0))<<13)|0;L=((v=v+Math.imul(ne,vn)|0)+(a>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,x=Math.imul(G,Gt),a=(a=Math.imul(G,nn))+Math.imul(fe,Gt)|0,v=Math.imul(fe,nn),x=x+Math.imul(F,ot)|0,a=(a=a+Math.imul(F,ft)|0)+Math.imul(D,ot)|0,v=v+Math.imul(D,ft)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,We)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,We)|0,x=x+Math.imul(He,At)|0,a=(a=a+Math.imul(He,fn)|0)+Math.imul(Ve,At)|0,v=v+Math.imul(Ve,fn)|0;var Ir=(L+(x=x+Math.imul(de,wn)|0)|0)+((8191&(a=(a=a+Math.imul(de,vn)|0)+Math.imul(_e,wn)|0))<<13)|0;L=((v=v+Math.imul(_e,vn)|0)+(a>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,x=Math.imul(G,ot),a=(a=Math.imul(G,ft))+Math.imul(fe,ot)|0,v=Math.imul(fe,ft),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,We)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,We)|0,x=x+Math.imul(Ne,At)|0,a=(a=a+Math.imul(Ne,fn)|0)+Math.imul(ke,At)|0,v=v+Math.imul(ke,fn)|0;var Lr=(L+(x=x+Math.imul(He,wn)|0)|0)+((8191&(a=(a=a+Math.imul(He,vn)|0)+Math.imul(Ve,wn)|0))<<13)|0;L=((v=v+Math.imul(Ve,vn)|0)+(a>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,We))+Math.imul(fe,Ke)|0,v=Math.imul(fe,We),x=x+Math.imul(F,At)|0,a=(a=a+Math.imul(F,fn)|0)+Math.imul(D,At)|0,v=v+Math.imul(D,fn)|0;var fr=(L+(x=x+Math.imul(Ne,wn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,vn)|0)+Math.imul(ke,wn)|0))<<13)|0;L=((v=v+Math.imul(ke,vn)|0)+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,x=Math.imul(G,At),a=(a=Math.imul(G,fn))+Math.imul(fe,At)|0,v=Math.imul(fe,fn);var en=(L+(x=x+Math.imul(F,wn)|0)|0)+((8191&(a=(a=a+Math.imul(F,vn)|0)+Math.imul(D,wn)|0))<<13)|0;L=((v=v+Math.imul(D,vn)|0)+(a>>>13)|0)+(en>>>26)|0,en&=67108863;var bn=(L+(x=Math.imul(G,wn))|0)+((8191&(a=(a=Math.imul(G,vn))+Math.imul(fe,wn)|0))<<13)|0;return L=((v=Math.imul(fe,vn))+(a>>>13)|0)+(bn>>>26)|0,bn&=67108863,I[0]=pr,I[1]=nr,I[2]=Bn,I[3]=Fn,I[4]=qe,I[5]=Oe,I[6]=Je,I[7]=Kt,I[8]=pn,I[9]=jn,I[10]=zn,I[11]=or,I[12]=yr,I[13]=Rr,I[14]=Ir,I[15]=Lr,I[16]=fr,I[17]=en,I[18]=bn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,w=0;w<d.length-1;w++){var I=f;f=0;for(var L=67108863&h,x=Math.min(w,s.length-1),a=Math.max(0,w-C.length+1);a<=x;a++){var ee=(0|C.words[w-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[w]=L,h=I,I=f}return 0!==h?d.words[w]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,w=0;w<d;w++)f|=(1&s)<<d-w-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,w,I){for(var L=0;L<I;L++)f[L]=d[s[L]],w[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,w,I){this.permute(I,s,d,h,f,w);for(var L=1;L<w;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<w;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ge=h[Z+le+L],ge=f[Z+le+L],me=z*Ge-ee*ge;ge=z*ge+ee*Ge,h[Z+le]=we+(Ge=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ge,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,w=0;for(h=h/2|0;h;h>>>=1)w++;return 1<<w+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var w=s[f];s[f]=s[h-f-1],s[h-f-1]=w,w=d[f],d[f]=-d[h-f-1],d[h-f-1]=-w}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var w=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&w,h=w<67108864?0:w/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var w=0,I=0;I<d;I++)h[2*I]=8191&(w+=0|s[I]),h[2*I+1]=8191&(w>>>=13),w>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===w),B(!(-8192&w))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),w=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,w),this.transform(v,I,Z,z,f,w);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,w),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,w=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=w>>>26,this.words[h]=67108863&w}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var w=h.sqr();f<d.length;f++,w=w.sqr())0!==d[f]&&(h=h.mul(w));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var w,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(w=0;w<this.length;w++){var L=this.words[w]&f;this.words[w]=(0|this.words[w])-L<<d|I,I=L>>>26-d}I&&(this.words[w]=I,this.length++)}if(0!==h){for(w=this.length-1;w>=0;w--)this.words[w+h]=this.words[w];for(w=0;w<h;w++)this.words[w]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var w=s%26,I=Math.min((s-w)/26,this.length),L=67108863^67108863>>>w<<w,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-w|Z>>>w,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var w;this._expand(s.length+h);var I,L=0;for(w=0;w<s.length;w++){I=(0|this.words[w+h])+L;var x=(0|s.words[w])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[w+h]=67108863&I}for(;w<this.length-h;w++)L=(I=(0|this.words[w+h])+L)>>26,this.words[w+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,w=0;w<this.length;w++)L=(I=-(0|this.words[w])+L)>>26,this.words[w]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),w=s,I=0|w.words[w.length-1];0!=(h=26-this._countBits(I))&&(w=w.ushln(h),f.iushln(h),I=0|w.words[w.length-1]);var a,x=f.length-w.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(w,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[w.length+z])+(0|f.words[w.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(w,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(w,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.iadd(s)),{div:f,mod:w}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.isub(s)),{div:I.div,mod:w}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,w,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),w=s.andln(1),I=h.cmp(f);return I<0||1===w&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||w.isOdd())&&(f.iadd(a),w.isub(v)),f.iushrn(1),w.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),w.isub(L)):(h.isub(d),I.isub(f),L.isub(w))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)w.isOdd()&&w.iadd(I),w.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(w)):(h.isub(d),w.isub(f))}return(Z=0===d.cmpn(1)?f:w).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var w=d.cmp(h);if(w<0){var I=d;d=h,h=I}else if(0===w||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var w=f,I=h;0!==w&&I<this.length;I++){var L=0|this.words[I];w=(L+=w)>>>26,this.words[I]=L&=67108863}return 0!==w&&(this.words[I]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],w=0|s.words[h];if(f!==w){f<w?d=-1:f>w&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),w=0;w<f;w++)d.words[w]=s.words[w];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,w=10;w<s.length;w++){var L=0|s.words[w];s.words[w-10]=(L&h)<<4|I>>>22,I=L}s.words[w-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,w=67108863&f;f>>>=26,s.words[h]=w,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),w=0;!f.isZero()&&0===f.andln(1);)w++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=w;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var w=2;w<f.length;w++)f[w]=this.mul(f[w-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),w=d.length-1;w>=0;w--){for(var v=d.words[w],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===w&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},13981:($e,j)=>{"use strict";j.byteLength=function S(U){var K=k(U),q=K[1];return 3*(K[0]+q)/4-q},j.toByteArray=function R(U){var K,ae,Q=k(U),q=Q[0],Y=Q[1],W=new _(function P(U,K,Q){return 3*(K+Q)/4-Q}(0,q,Y)),re=0,ie=Y>0?q-4:q;for(ae=0;ae<ie;ae+=4)K=g[U.charCodeAt(ae)]<<18|g[U.charCodeAt(ae+1)]<<12|g[U.charCodeAt(ae+2)]<<6|g[U.charCodeAt(ae+3)],W[re++]=K>>16&255,W[re++]=K>>8&255,W[re++]=255&K;return 2===Y&&(K=g[U.charCodeAt(ae)]<<2|g[U.charCodeAt(ae+1)]>>4,W[re++]=255&K),1===Y&&(K=g[U.charCodeAt(ae)]<<10|g[U.charCodeAt(ae+1)]<<4|g[U.charCodeAt(ae+2)]>>2,W[re++]=K>>8&255,W[re++]=255&K),W},j.fromByteArray=function V(U){for(var K,Q=U.length,q=Q%3,Y=[],W=16383,re=0,ie=Q-q;re<ie;re+=W)Y.push(A(U,re,re+W>ie?ie:re+W));return 1===q?Y.push(E[(K=U[Q-1])>>2]+E[K<<4&63]+"=="):2===q&&Y.push(E[(K=(U[Q-2]<<8)+U[Q-1])>>10]+E[K>>4&63]+E[K<<2&63]+"="),Y.join("")};for(var E=[],g=[],_=typeof Uint8Array<"u"?Uint8Array:Array,B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=0;H<64;++H)E[H]=B[H],g[B.charCodeAt(H)]=H;function k(U){var K=U.length;if(K%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Q=U.indexOf("=");return-1===Q&&(Q=K),[Q,Q===K?0:4-Q%4]}function O(U){return E[U>>18&63]+E[U>>12&63]+E[U>>6&63]+E[63&U]}function A(U,K,Q){for(var Y=[],W=K;W<Q;W+=3)Y.push(O((U[W]<<16&16711680)+(U[W+1]<<8&65280)+(255&U[W+2])));return Y.join("")}g[45]=62,g[95]=63},917:function($e,j,E){!function(g,_){"use strict";function B(h,f){if(!h)throw new Error(f||"Assertion failed")}function H(h,f){h.super_=f;var w=function(){};w.prototype=f.prototype,h.prototype=new w,h.prototype.constructor=h}function b(h,f,w){if(b.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,null!==h&&(("le"===f||"be"===f)&&(w=f,f=10),this._init(h||0,f||10,w||"be"))}var k;"object"==typeof g?g.exports=b:_.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(47790).Buffer}catch{}function S(h,f){var w=h.charCodeAt(f);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void B(!1,"Invalid character in "+h)}function P(h,f,w){var I=S(h,w);return w-1>=f&&(I|=S(h,w-1)<<4),I}function R(h,f,w,I){for(var L=0,x=0,a=Math.min(h.length,w),v=f;v<a;v++){var Z=h.charCodeAt(v)-48;L*=I,x=Z>=49?Z-49+10:Z>=17?Z-17+10:Z,B(Z>=0&&x<I,"Invalid character"),L+=x}return L}function O(h,f){h.words=f.words,h.length=f.length,h.negative=f.negative,h.red=f.red}if(b.isBN=function(f){return f instanceof b||null!==f&&"object"==typeof f&&f.constructor.wordSize===b.wordSize&&Array.isArray(f.words)},b.max=function(f,w){return f.cmp(w)>0?f:w},b.min=function(f,w){return f.cmp(w)<0?f:w},b.prototype._init=function(f,w,I){if("number"==typeof f)return this._initNumber(f,w,I);if("object"==typeof f)return this._initArray(f,w,I);"hex"===w&&(w=16),B(w===(0|w)&&w>=2&&w<=36);var L=0;"-"===(f=f.toString().replace(/\s+/g,""))[0]&&(L++,this.negative=1),L<f.length&&(16===w?this._parseHex(f,L,I):(this._parseBase(f,w,L),"le"===I&&this._initArray(this.toArray(),w,I)))},b.prototype._initNumber=function(f,w,I){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[67108863&f],this.length=1):f<4503599627370496?(this.words=[67108863&f,f/67108864&67108863],this.length=2):(B(f<9007199254740992),this.words=[67108863&f,f/67108864&67108863,1],this.length=3),"le"===I&&this._initArray(this.toArray(),w,I)},b.prototype._initArray=function(f,w,I){if(B("number"==typeof f.length),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var x,a,v=0;if("be"===I)for(L=f.length-1,x=0;L>=0;L-=3)this.words[x]|=(a=f[L]|f[L-1]<<8|f[L-2]<<16)<<v&67108863,this.words[x+1]=a>>>26-v&67108863,(v+=24)>=26&&(v-=26,x++);else if("le"===I)for(L=0,x=0;L<f.length;L+=3)this.words[x]|=(a=f[L]|f[L+1]<<8|f[L+2]<<16)<<v&67108863,this.words[x+1]=a>>>26-v&67108863,(v+=24)>=26&&(v-=26,x++);return this._strip()},b.prototype._parseHex=function(f,w,I){this.length=Math.ceil((f.length-w)/6),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var v,x=0,a=0;if("be"===I)for(L=f.length-1;L>=w;L-=2)v=P(f,w,L)<<x,this.words[a]|=67108863&v,x>=18?(x-=18,this.words[a+=1]|=v>>>26):x+=8;else for(L=(f.length-w)%2==0?w+1:w;L<f.length;L+=2)v=P(f,w,L)<<x,this.words[a]|=67108863&v,x>=18?(x-=18,this.words[a+=1]|=v>>>26):x+=8;this._strip()},b.prototype._parseBase=function(f,w,I){this.words=[0],this.length=1;for(var L=0,x=1;x<=67108863;x*=w)L++;L--,x=x/w|0;for(var a=f.length-I,v=a%L,Z=Math.min(a,a-v)+I,z=0,ee=I;ee<Z;ee+=L)z=R(f,ee,ee+L,w),this.imuln(x),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(0!==v){var le=1;for(z=R(f,ee,f.length,w),ee=0;ee<v;ee++)le*=w;this.imuln(le),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this._strip()},b.prototype.copy=function(f){f.words=new Array(this.length);for(var w=0;w<this.length;w++)f.words[w]=this.words[w];f.length=this.length,f.negative=this.negative,f.red=this.red},b.prototype._move=function(f){O(f,this)},b.prototype.clone=function(){var f=new b(null);return this.copy(f),f},b.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},b.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{b.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{b.prototype.inspect=A}else b.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],K=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Y(h,f,w){w.negative=f.negative^h.negative;var I=h.length+f.length|0;w.length=I,I=I-1|0;var L=0|h.words[0],x=0|f.words[0],a=L*x,Z=a/67108864|0;w.words[0]=67108863&a;for(var z=1;z<I;z++){for(var ee=Z>>>26,le=67108863&Z,we=Math.min(z,f.length-1),Me=Math.max(0,z-h.length+1);Me<=we;Me++)ee+=(a=(L=0|h.words[z-Me|0])*(x=0|f.words[Me])+le)/67108864|0,le=67108863&a;w.words[z]=0|le,Z=0|ee}return 0!==Z?w.words[z]=0|Z:w.length--,w._strip()}b.prototype.toString=function(f,w){var I;if(w=0|w||1,16===(f=f||10)||"hex"===f){I="";for(var L=0,x=0,a=0;a<this.length;a++){var v=this.words[a],Z=(16777215&(v<<L|x)).toString(16);x=v>>>24-L&16777215,(L+=2)>=26&&(L-=26,a--),I=0!==x||a!==this.length-1?V[6-Z.length]+Z+I:Z+I}for(0!==x&&(I=x.toString(16)+I);I.length%w!=0;)I="0"+I;return 0!==this.negative&&(I="-"+I),I}if(f===(0|f)&&f>=2&&f<=36){var z=U[f],ee=K[f];I="";var le=this.clone();for(le.negative=0;!le.isZero();){var we=le.modrn(ee).toString(f);I=(le=le.idivn(ee)).isZero()?we+I:V[z-we.length]+we+I}for(this.isZero()&&(I="0"+I);I.length%w!=0;)I="0"+I;return 0!==this.negative&&(I="-"+I),I}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var f=this.words[0];return 2===this.length?f+=67108864*this.words[1]:3===this.length&&1===this.words[2]?f+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-f:f},b.prototype.toJSON=function(){return this.toString(16,2)},k&&(b.prototype.toBuffer=function(f,w){return this.toArrayLike(k,f,w)}),b.prototype.toArray=function(f,w){return this.toArrayLike(Array,f,w)},b.prototype.toArrayLike=function(f,w,I){this._strip();var L=this.byteLength(),x=I||Math.max(1,L);B(L<=x,"byte array longer than desired length"),B(x>0,"Requested array length <= 0");var a=function(f,w){return f.allocUnsafe?f.allocUnsafe(w):new f(w)}(f,x);return this["_toArrayLike"+("le"===w?"LE":"BE")](a,L),a},b.prototype._toArrayLikeLE=function(f,w){for(var I=0,L=0,x=0,a=0;x<this.length;x++){var v=this.words[x]<<a|L;f[I++]=255&v,I<f.length&&(f[I++]=v>>8&255),I<f.length&&(f[I++]=v>>16&255),6===a?(I<f.length&&(f[I++]=v>>24&255),L=0,a=0):(L=v>>>24,a+=2)}if(I<f.length)for(f[I++]=L;I<f.length;)f[I++]=0},b.prototype._toArrayLikeBE=function(f,w){for(var I=f.length-1,L=0,x=0,a=0;x<this.length;x++){var v=this.words[x]<<a|L;f[I--]=255&v,I>=0&&(f[I--]=v>>8&255),I>=0&&(f[I--]=v>>16&255),6===a?(I>=0&&(f[I--]=v>>24&255),L=0,a=0):(L=v>>>24,a+=2)}if(I>=0)for(f[I--]=L;I>=0;)f[I--]=0},b.prototype._countBits=Math.clz32?function(f){return 32-Math.clz32(f)}:function(f){var w=f,I=0;return w>=4096&&(I+=13,w>>>=13),w>=64&&(I+=7,w>>>=7),w>=8&&(I+=4,w>>>=4),w>=2&&(I+=2,w>>>=2),I+w},b.prototype._zeroBits=function(f){if(0===f)return 26;var w=f,I=0;return 8191&w||(I+=13,w>>>=13),127&w||(I+=7,w>>>=7),15&w||(I+=4,w>>>=4),3&w||(I+=2,w>>>=2),1&w||I++,I},b.prototype.bitLength=function(){var w=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+w},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,w=0;w<this.length;w++){var I=this._zeroBits(this.words[w]);if(f+=I,26!==I)break}return f},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(f){return 0!==this.negative?this.abs().inotn(f).iaddn(1):this.clone()},b.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]|f.words[w];return this._strip()},b.prototype.ior=function(f){return B(!(this.negative|f.negative)),this.iuor(f)},b.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},b.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},b.prototype.iuand=function(f){var w;w=this.length>f.length?f:this;for(var I=0;I<w.length;I++)this.words[I]=this.words[I]&f.words[I];return this.length=w.length,this._strip()},b.prototype.iand=function(f){return B(!(this.negative|f.negative)),this.iuand(f)},b.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},b.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},b.prototype.iuxor=function(f){var w,I;this.length>f.length?(w=this,I=f):(w=f,I=this);for(var L=0;L<I.length;L++)this.words[L]=w.words[L]^I.words[L];if(this!==w)for(;L<w.length;L++)this.words[L]=w.words[L];return this.length=w.length,this._strip()},b.prototype.ixor=function(f){return B(!(this.negative|f.negative)),this.iuxor(f)},b.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},b.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},b.prototype.inotn=function(f){B("number"==typeof f&&f>=0);var w=0|Math.ceil(f/26),I=f%26;this._expand(w),I>0&&w--;for(var L=0;L<w;L++)this.words[L]=67108863&~this.words[L];return I>0&&(this.words[L]=~this.words[L]&67108863>>26-I),this._strip()},b.prototype.notn=function(f){return this.clone().inotn(f)},b.prototype.setn=function(f,w){B("number"==typeof f&&f>=0);var I=f/26|0,L=f%26;return this._expand(I+1),this.words[I]=w?this.words[I]|1<<L:this.words[I]&~(1<<L),this._strip()},b.prototype.iadd=function(f){var w,I,L;if(0!==this.negative&&0===f.negative)return this.negative=0,w=this.isub(f),this.negative^=1,this._normSign();if(0===this.negative&&0!==f.negative)return f.negative=0,w=this.isub(f),f.negative=1,w._normSign();this.length>f.length?(I=this,L=f):(I=f,L=this);for(var x=0,a=0;a<L.length;a++)this.words[a]=67108863&(w=(0|I.words[a])+(0|L.words[a])+x),x=w>>>26;for(;0!==x&&a<I.length;a++)this.words[a]=67108863&(w=(0|I.words[a])+x),x=w>>>26;if(this.length=I.length,0!==x)this.words[this.length]=x,this.length++;else if(I!==this)for(;a<I.length;a++)this.words[a]=I.words[a];return this},b.prototype.add=function(f){var w;return 0!==f.negative&&0===this.negative?(f.negative=0,w=this.sub(f),f.negative^=1,w):0===f.negative&&0!==this.negative?(this.negative=0,w=f.sub(this),this.negative=1,w):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},b.prototype.isub=function(f){if(0!==f.negative){f.negative=0;var w=this.iadd(f);return f.negative=1,w._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var L,x,I=this.cmp(f);if(0===I)return this.negative=0,this.length=1,this.words[0]=0,this;I>0?(L=this,x=f):(L=f,x=this);for(var a=0,v=0;v<x.length;v++)a=(w=(0|L.words[v])-(0|x.words[v])+a)>>26,this.words[v]=67108863&w;for(;0!==a&&v<L.length;v++)a=(w=(0|L.words[v])+a)>>26,this.words[v]=67108863&w;if(0===a&&v<L.length&&L!==this)for(;v<L.length;v++)this.words[v]=L.words[v];return this.length=Math.max(this.length,v),L!==this&&(this.negative=1),this._strip()},b.prototype.sub=function(f){return this.clone().isub(f)};var W=function(f,w,I){var Z,z,ee,L=f.words,x=w.words,a=I.words,v=0,le=0|L[0],we=8191&le,Me=le>>>13,Ge=0|L[1],ge=8191&Ge,me=Ge>>>13,Ue=0|L[2],xe=8191&Ue,Ce=Ue>>>13,be=0|L[3],he=8191&be,ne=be>>>13,te=0|L[4],de=8191&te,_e=te>>>13,Ie=0|L[5],He=8191&Ie,Ve=Ie>>>13,xt=0|L[6],Ne=8191&xt,ke=xt>>>13,pt=0|L[7],F=8191&pt,D=pt>>>13,M=0|L[8],G=8191&M,fe=M>>>13,Se=0|L[9],Ae=8191&Se,rt=Se>>>13,Ht=0|x[0],vt=8191&Ht,Ot=Ht>>>13,qt=0|x[1],mn=8191&qt,ln=qt>>>13,rr=0|x[2],Tn=8191&rr,rn=rr>>>13,Xt=0|x[3],dt=8191&Xt,it=Xt>>>13,Wt=0|x[4],Gt=8191&Wt,nn=Wt>>>13,Xn=0|x[5],ot=8191&Xn,ft=Xn>>>13,ut=0|x[6],Ke=8191&ut,We=ut>>>13,Bt=0|x[7],At=8191&Bt,fn=Bt>>>13,Un=0|x[8],wn=8191&Un,vn=Un>>>13,pr=0|x[9],nr=8191&pr,Bn=pr>>>13;I.negative=f.negative^w.negative,I.length=19;var Fn=(v+(Z=Math.imul(we,vt))|0)+((8191&(z=(z=Math.imul(we,Ot))+Math.imul(Me,vt)|0))<<13)|0;v=((ee=Math.imul(Me,Ot))+(z>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,Z=Math.imul(ge,vt),z=(z=Math.imul(ge,Ot))+Math.imul(me,vt)|0,ee=Math.imul(me,Ot);var qe=(v+(Z=Z+Math.imul(we,mn)|0)|0)+((8191&(z=(z=z+Math.imul(we,ln)|0)+Math.imul(Me,mn)|0))<<13)|0;v=((ee=ee+Math.imul(Me,ln)|0)+(z>>>13)|0)+(qe>>>26)|0,qe&=67108863,Z=Math.imul(xe,vt),z=(z=Math.imul(xe,Ot))+Math.imul(Ce,vt)|0,ee=Math.imul(Ce,Ot),Z=Z+Math.imul(ge,mn)|0,z=(z=z+Math.imul(ge,ln)|0)+Math.imul(me,mn)|0,ee=ee+Math.imul(me,ln)|0;var Oe=(v+(Z=Z+Math.imul(we,Tn)|0)|0)+((8191&(z=(z=z+Math.imul(we,rn)|0)+Math.imul(Me,Tn)|0))<<13)|0;v=((ee=ee+Math.imul(Me,rn)|0)+(z>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,Z=Math.imul(he,vt),z=(z=Math.imul(he,Ot))+Math.imul(ne,vt)|0,ee=Math.imul(ne,Ot),Z=Z+Math.imul(xe,mn)|0,z=(z=z+Math.imul(xe,ln)|0)+Math.imul(Ce,mn)|0,ee=ee+Math.imul(Ce,ln)|0,Z=Z+Math.imul(ge,Tn)|0,z=(z=z+Math.imul(ge,rn)|0)+Math.imul(me,Tn)|0,ee=ee+Math.imul(me,rn)|0;var Je=(v+(Z=Z+Math.imul(we,dt)|0)|0)+((8191&(z=(z=z+Math.imul(we,it)|0)+Math.imul(Me,dt)|0))<<13)|0;v=((ee=ee+Math.imul(Me,it)|0)+(z>>>13)|0)+(Je>>>26)|0,Je&=67108863,Z=Math.imul(de,vt),z=(z=Math.imul(de,Ot))+Math.imul(_e,vt)|0,ee=Math.imul(_e,Ot),Z=Z+Math.imul(he,mn)|0,z=(z=z+Math.imul(he,ln)|0)+Math.imul(ne,mn)|0,ee=ee+Math.imul(ne,ln)|0,Z=Z+Math.imul(xe,Tn)|0,z=(z=z+Math.imul(xe,rn)|0)+Math.imul(Ce,Tn)|0,ee=ee+Math.imul(Ce,rn)|0,Z=Z+Math.imul(ge,dt)|0,z=(z=z+Math.imul(ge,it)|0)+Math.imul(me,dt)|0,ee=ee+Math.imul(me,it)|0;var Kt=(v+(Z=Z+Math.imul(we,Gt)|0)|0)+((8191&(z=(z=z+Math.imul(we,nn)|0)+Math.imul(Me,Gt)|0))<<13)|0;v=((ee=ee+Math.imul(Me,nn)|0)+(z>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,Z=Math.imul(He,vt),z=(z=Math.imul(He,Ot))+Math.imul(Ve,vt)|0,ee=Math.imul(Ve,Ot),Z=Z+Math.imul(de,mn)|0,z=(z=z+Math.imul(de,ln)|0)+Math.imul(_e,mn)|0,ee=ee+Math.imul(_e,ln)|0,Z=Z+Math.imul(he,Tn)|0,z=(z=z+Math.imul(he,rn)|0)+Math.imul(ne,Tn)|0,ee=ee+Math.imul(ne,rn)|0,Z=Z+Math.imul(xe,dt)|0,z=(z=z+Math.imul(xe,it)|0)+Math.imul(Ce,dt)|0,ee=ee+Math.imul(Ce,it)|0,Z=Z+Math.imul(ge,Gt)|0,z=(z=z+Math.imul(ge,nn)|0)+Math.imul(me,Gt)|0,ee=ee+Math.imul(me,nn)|0;var pn=(v+(Z=Z+Math.imul(we,ot)|0)|0)+((8191&(z=(z=z+Math.imul(we,ft)|0)+Math.imul(Me,ot)|0))<<13)|0;v=((ee=ee+Math.imul(Me,ft)|0)+(z>>>13)|0)+(pn>>>26)|0,pn&=67108863,Z=Math.imul(Ne,vt),z=(z=Math.imul(Ne,Ot))+Math.imul(ke,vt)|0,ee=Math.imul(ke,Ot),Z=Z+Math.imul(He,mn)|0,z=(z=z+Math.imul(He,ln)|0)+Math.imul(Ve,mn)|0,ee=ee+Math.imul(Ve,ln)|0,Z=Z+Math.imul(de,Tn)|0,z=(z=z+Math.imul(de,rn)|0)+Math.imul(_e,Tn)|0,ee=ee+Math.imul(_e,rn)|0,Z=Z+Math.imul(he,dt)|0,z=(z=z+Math.imul(he,it)|0)+Math.imul(ne,dt)|0,ee=ee+Math.imul(ne,it)|0,Z=Z+Math.imul(xe,Gt)|0,z=(z=z+Math.imul(xe,nn)|0)+Math.imul(Ce,Gt)|0,ee=ee+Math.imul(Ce,nn)|0,Z=Z+Math.imul(ge,ot)|0,z=(z=z+Math.imul(ge,ft)|0)+Math.imul(me,ot)|0,ee=ee+Math.imul(me,ft)|0;var jn=(v+(Z=Z+Math.imul(we,Ke)|0)|0)+((8191&(z=(z=z+Math.imul(we,We)|0)+Math.imul(Me,Ke)|0))<<13)|0;v=((ee=ee+Math.imul(Me,We)|0)+(z>>>13)|0)+(jn>>>26)|0,jn&=67108863,Z=Math.imul(F,vt),z=(z=Math.imul(F,Ot))+Math.imul(D,vt)|0,ee=Math.imul(D,Ot),Z=Z+Math.imul(Ne,mn)|0,z=(z=z+Math.imul(Ne,ln)|0)+Math.imul(ke,mn)|0,ee=ee+Math.imul(ke,ln)|0,Z=Z+Math.imul(He,Tn)|0,z=(z=z+Math.imul(He,rn)|0)+Math.imul(Ve,Tn)|0,ee=ee+Math.imul(Ve,rn)|0,Z=Z+Math.imul(de,dt)|0,z=(z=z+Math.imul(de,it)|0)+Math.imul(_e,dt)|0,ee=ee+Math.imul(_e,it)|0,Z=Z+Math.imul(he,Gt)|0,z=(z=z+Math.imul(he,nn)|0)+Math.imul(ne,Gt)|0,ee=ee+Math.imul(ne,nn)|0,Z=Z+Math.imul(xe,ot)|0,z=(z=z+Math.imul(xe,ft)|0)+Math.imul(Ce,ot)|0,ee=ee+Math.imul(Ce,ft)|0,Z=Z+Math.imul(ge,Ke)|0,z=(z=z+Math.imul(ge,We)|0)+Math.imul(me,Ke)|0,ee=ee+Math.imul(me,We)|0;var zn=(v+(Z=Z+Math.imul(we,At)|0)|0)+((8191&(z=(z=z+Math.imul(we,fn)|0)+Math.imul(Me,At)|0))<<13)|0;v=((ee=ee+Math.imul(Me,fn)|0)+(z>>>13)|0)+(zn>>>26)|0,zn&=67108863,Z=Math.imul(G,vt),z=(z=Math.imul(G,Ot))+Math.imul(fe,vt)|0,ee=Math.imul(fe,Ot),Z=Z+Math.imul(F,mn)|0,z=(z=z+Math.imul(F,ln)|0)+Math.imul(D,mn)|0,ee=ee+Math.imul(D,ln)|0,Z=Z+Math.imul(Ne,Tn)|0,z=(z=z+Math.imul(Ne,rn)|0)+Math.imul(ke,Tn)|0,ee=ee+Math.imul(ke,rn)|0,Z=Z+Math.imul(He,dt)|0,z=(z=z+Math.imul(He,it)|0)+Math.imul(Ve,dt)|0,ee=ee+Math.imul(Ve,it)|0,Z=Z+Math.imul(de,Gt)|0,z=(z=z+Math.imul(de,nn)|0)+Math.imul(_e,Gt)|0,ee=ee+Math.imul(_e,nn)|0,Z=Z+Math.imul(he,ot)|0,z=(z=z+Math.imul(he,ft)|0)+Math.imul(ne,ot)|0,ee=ee+Math.imul(ne,ft)|0,Z=Z+Math.imul(xe,Ke)|0,z=(z=z+Math.imul(xe,We)|0)+Math.imul(Ce,Ke)|0,ee=ee+Math.imul(Ce,We)|0,Z=Z+Math.imul(ge,At)|0,z=(z=z+Math.imul(ge,fn)|0)+Math.imul(me,At)|0,ee=ee+Math.imul(me,fn)|0;var or=(v+(Z=Z+Math.imul(we,wn)|0)|0)+((8191&(z=(z=z+Math.imul(we,vn)|0)+Math.imul(Me,wn)|0))<<13)|0;v=((ee=ee+Math.imul(Me,vn)|0)+(z>>>13)|0)+(or>>>26)|0,or&=67108863,Z=Math.imul(Ae,vt),z=(z=Math.imul(Ae,Ot))+Math.imul(rt,vt)|0,ee=Math.imul(rt,Ot),Z=Z+Math.imul(G,mn)|0,z=(z=z+Math.imul(G,ln)|0)+Math.imul(fe,mn)|0,ee=ee+Math.imul(fe,ln)|0,Z=Z+Math.imul(F,Tn)|0,z=(z=z+Math.imul(F,rn)|0)+Math.imul(D,Tn)|0,ee=ee+Math.imul(D,rn)|0,Z=Z+Math.imul(Ne,dt)|0,z=(z=z+Math.imul(Ne,it)|0)+Math.imul(ke,dt)|0,ee=ee+Math.imul(ke,it)|0,Z=Z+Math.imul(He,Gt)|0,z=(z=z+Math.imul(He,nn)|0)+Math.imul(Ve,Gt)|0,ee=ee+Math.imul(Ve,nn)|0,Z=Z+Math.imul(de,ot)|0,z=(z=z+Math.imul(de,ft)|0)+Math.imul(_e,ot)|0,ee=ee+Math.imul(_e,ft)|0,Z=Z+Math.imul(he,Ke)|0,z=(z=z+Math.imul(he,We)|0)+Math.imul(ne,Ke)|0,ee=ee+Math.imul(ne,We)|0,Z=Z+Math.imul(xe,At)|0,z=(z=z+Math.imul(xe,fn)|0)+Math.imul(Ce,At)|0,ee=ee+Math.imul(Ce,fn)|0,Z=Z+Math.imul(ge,wn)|0,z=(z=z+Math.imul(ge,vn)|0)+Math.imul(me,wn)|0,ee=ee+Math.imul(me,vn)|0;var yr=(v+(Z=Z+Math.imul(we,nr)|0)|0)+((8191&(z=(z=z+Math.imul(we,Bn)|0)+Math.imul(Me,nr)|0))<<13)|0;v=((ee=ee+Math.imul(Me,Bn)|0)+(z>>>13)|0)+(yr>>>26)|0,yr&=67108863,Z=Math.imul(Ae,mn),z=(z=Math.imul(Ae,ln))+Math.imul(rt,mn)|0,ee=Math.imul(rt,ln),Z=Z+Math.imul(G,Tn)|0,z=(z=z+Math.imul(G,rn)|0)+Math.imul(fe,Tn)|0,ee=ee+Math.imul(fe,rn)|0,Z=Z+Math.imul(F,dt)|0,z=(z=z+Math.imul(F,it)|0)+Math.imul(D,dt)|0,ee=ee+Math.imul(D,it)|0,Z=Z+Math.imul(Ne,Gt)|0,z=(z=z+Math.imul(Ne,nn)|0)+Math.imul(ke,Gt)|0,ee=ee+Math.imul(ke,nn)|0,Z=Z+Math.imul(He,ot)|0,z=(z=z+Math.imul(He,ft)|0)+Math.imul(Ve,ot)|0,ee=ee+Math.imul(Ve,ft)|0,Z=Z+Math.imul(de,Ke)|0,z=(z=z+Math.imul(de,We)|0)+Math.imul(_e,Ke)|0,ee=ee+Math.imul(_e,We)|0,Z=Z+Math.imul(he,At)|0,z=(z=z+Math.imul(he,fn)|0)+Math.imul(ne,At)|0,ee=ee+Math.imul(ne,fn)|0,Z=Z+Math.imul(xe,wn)|0,z=(z=z+Math.imul(xe,vn)|0)+Math.imul(Ce,wn)|0,ee=ee+Math.imul(Ce,vn)|0;var Rr=(v+(Z=Z+Math.imul(ge,nr)|0)|0)+((8191&(z=(z=z+Math.imul(ge,Bn)|0)+Math.imul(me,nr)|0))<<13)|0;v=((ee=ee+Math.imul(me,Bn)|0)+(z>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,Z=Math.imul(Ae,Tn),z=(z=Math.imul(Ae,rn))+Math.imul(rt,Tn)|0,ee=Math.imul(rt,rn),Z=Z+Math.imul(G,dt)|0,z=(z=z+Math.imul(G,it)|0)+Math.imul(fe,dt)|0,ee=ee+Math.imul(fe,it)|0,Z=Z+Math.imul(F,Gt)|0,z=(z=z+Math.imul(F,nn)|0)+Math.imul(D,Gt)|0,ee=ee+Math.imul(D,nn)|0,Z=Z+Math.imul(Ne,ot)|0,z=(z=z+Math.imul(Ne,ft)|0)+Math.imul(ke,ot)|0,ee=ee+Math.imul(ke,ft)|0,Z=Z+Math.imul(He,Ke)|0,z=(z=z+Math.imul(He,We)|0)+Math.imul(Ve,Ke)|0,ee=ee+Math.imul(Ve,We)|0,Z=Z+Math.imul(de,At)|0,z=(z=z+Math.imul(de,fn)|0)+Math.imul(_e,At)|0,ee=ee+Math.imul(_e,fn)|0,Z=Z+Math.imul(he,wn)|0,z=(z=z+Math.imul(he,vn)|0)+Math.imul(ne,wn)|0,ee=ee+Math.imul(ne,vn)|0;var Ir=(v+(Z=Z+Math.imul(xe,nr)|0)|0)+((8191&(z=(z=z+Math.imul(xe,Bn)|0)+Math.imul(Ce,nr)|0))<<13)|0;v=((ee=ee+Math.imul(Ce,Bn)|0)+(z>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,Z=Math.imul(Ae,dt),z=(z=Math.imul(Ae,it))+Math.imul(rt,dt)|0,ee=Math.imul(rt,it),Z=Z+Math.imul(G,Gt)|0,z=(z=z+Math.imul(G,nn)|0)+Math.imul(fe,Gt)|0,ee=ee+Math.imul(fe,nn)|0,Z=Z+Math.imul(F,ot)|0,z=(z=z+Math.imul(F,ft)|0)+Math.imul(D,ot)|0,ee=ee+Math.imul(D,ft)|0,Z=Z+Math.imul(Ne,Ke)|0,z=(z=z+Math.imul(Ne,We)|0)+Math.imul(ke,Ke)|0,ee=ee+Math.imul(ke,We)|0,Z=Z+Math.imul(He,At)|0,z=(z=z+Math.imul(He,fn)|0)+Math.imul(Ve,At)|0,ee=ee+Math.imul(Ve,fn)|0,Z=Z+Math.imul(de,wn)|0,z=(z=z+Math.imul(de,vn)|0)+Math.imul(_e,wn)|0,ee=ee+Math.imul(_e,vn)|0;var Lr=(v+(Z=Z+Math.imul(he,nr)|0)|0)+((8191&(z=(z=z+Math.imul(he,Bn)|0)+Math.imul(ne,nr)|0))<<13)|0;v=((ee=ee+Math.imul(ne,Bn)|0)+(z>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,Z=Math.imul(Ae,Gt),z=(z=Math.imul(Ae,nn))+Math.imul(rt,Gt)|0,ee=Math.imul(rt,nn),Z=Z+Math.imul(G,ot)|0,z=(z=z+Math.imul(G,ft)|0)+Math.imul(fe,ot)|0,ee=ee+Math.imul(fe,ft)|0,Z=Z+Math.imul(F,Ke)|0,z=(z=z+Math.imul(F,We)|0)+Math.imul(D,Ke)|0,ee=ee+Math.imul(D,We)|0,Z=Z+Math.imul(Ne,At)|0,z=(z=z+Math.imul(Ne,fn)|0)+Math.imul(ke,At)|0,ee=ee+Math.imul(ke,fn)|0,Z=Z+Math.imul(He,wn)|0,z=(z=z+Math.imul(He,vn)|0)+Math.imul(Ve,wn)|0,ee=ee+Math.imul(Ve,vn)|0;var fr=(v+(Z=Z+Math.imul(de,nr)|0)|0)+((8191&(z=(z=z+Math.imul(de,Bn)|0)+Math.imul(_e,nr)|0))<<13)|0;v=((ee=ee+Math.imul(_e,Bn)|0)+(z>>>13)|0)+(fr>>>26)|0,fr&=67108863,Z=Math.imul(Ae,ot),z=(z=Math.imul(Ae,ft))+Math.imul(rt,ot)|0,ee=Math.imul(rt,ft),Z=Z+Math.imul(G,Ke)|0,z=(z=z+Math.imul(G,We)|0)+Math.imul(fe,Ke)|0,ee=ee+Math.imul(fe,We)|0,Z=Z+Math.imul(F,At)|0,z=(z=z+Math.imul(F,fn)|0)+Math.imul(D,At)|0,ee=ee+Math.imul(D,fn)|0,Z=Z+Math.imul(Ne,wn)|0,z=(z=z+Math.imul(Ne,vn)|0)+Math.imul(ke,wn)|0,ee=ee+Math.imul(ke,vn)|0;var en=(v+(Z=Z+Math.imul(He,nr)|0)|0)+((8191&(z=(z=z+Math.imul(He,Bn)|0)+Math.imul(Ve,nr)|0))<<13)|0;v=((ee=ee+Math.imul(Ve,Bn)|0)+(z>>>13)|0)+(en>>>26)|0,en&=67108863,Z=Math.imul(Ae,Ke),z=(z=Math.imul(Ae,We))+Math.imul(rt,Ke)|0,ee=Math.imul(rt,We),Z=Z+Math.imul(G,At)|0,z=(z=z+Math.imul(G,fn)|0)+Math.imul(fe,At)|0,ee=ee+Math.imul(fe,fn)|0,Z=Z+Math.imul(F,wn)|0,z=(z=z+Math.imul(F,vn)|0)+Math.imul(D,wn)|0,ee=ee+Math.imul(D,vn)|0;var bn=(v+(Z=Z+Math.imul(Ne,nr)|0)|0)+((8191&(z=(z=z+Math.imul(Ne,Bn)|0)+Math.imul(ke,nr)|0))<<13)|0;v=((ee=ee+Math.imul(ke,Bn)|0)+(z>>>13)|0)+(bn>>>26)|0,bn&=67108863,Z=Math.imul(Ae,At),z=(z=Math.imul(Ae,fn))+Math.imul(rt,At)|0,ee=Math.imul(rt,fn),Z=Z+Math.imul(G,wn)|0,z=(z=z+Math.imul(G,vn)|0)+Math.imul(fe,wn)|0,ee=ee+Math.imul(fe,vn)|0;var Ft=(v+(Z=Z+Math.imul(F,nr)|0)|0)+((8191&(z=(z=z+Math.imul(F,Bn)|0)+Math.imul(D,nr)|0))<<13)|0;v=((ee=ee+Math.imul(D,Bn)|0)+(z>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,Z=Math.imul(Ae,wn),z=(z=Math.imul(Ae,vn))+Math.imul(rt,wn)|0,ee=Math.imul(rt,vn);var _n=(v+(Z=Z+Math.imul(G,nr)|0)|0)+((8191&(z=(z=z+Math.imul(G,Bn)|0)+Math.imul(fe,nr)|0))<<13)|0;v=((ee=ee+Math.imul(fe,Bn)|0)+(z>>>13)|0)+(_n>>>26)|0,_n&=67108863;var Ut=(v+(Z=Math.imul(Ae,nr))|0)+((8191&(z=(z=Math.imul(Ae,Bn))+Math.imul(rt,nr)|0))<<13)|0;return v=((ee=Math.imul(rt,Bn))+(z>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,a[0]=Fn,a[1]=qe,a[2]=Oe,a[3]=Je,a[4]=Kt,a[5]=pn,a[6]=jn,a[7]=zn,a[8]=or,a[9]=yr,a[10]=Rr,a[11]=Ir,a[12]=Lr,a[13]=fr,a[14]=en,a[15]=bn,a[16]=Ft,a[17]=_n,a[18]=Ut,0!==v&&(a[19]=v,I.length++),I};function re(h,f,w){w.negative=f.negative^h.negative,w.length=h.length+f.length;for(var I=0,L=0,x=0;x<w.length-1;x++){var a=L;L=0;for(var v=67108863&I,Z=Math.min(x,f.length-1),z=Math.max(0,x-h.length+1);z<=Z;z++){var Me=(0|h.words[x-z])*(0|f.words[z]),Ge=67108863&Me;v=67108863&(Ge=Ge+v|0),L+=(a=(a=a+(Me/67108864|0)|0)+(Ge>>>26)|0)>>>26,a&=67108863}w.words[x]=v,I=a,a=L}return 0!==I?w.words[x]=I:w.length--,w._strip()}function ie(h,f,w){return re(h,f,w)}function ae(h,f){this.x=h,this.y=f}Math.imul||(W=Y),b.prototype.mulTo=function(f,w){var L=this.length+f.length;return 10===this.length&&10===f.length?W(this,f,w):L<63?Y(this,f,w):L<1024?re(this,f,w):ie(this,f,w)},ae.prototype.makeRBT=function(f){for(var w=new Array(f),I=b.prototype._countBits(f)-1,L=0;L<f;L++)w[L]=this.revBin(L,I,f);return w},ae.prototype.revBin=function(f,w,I){if(0===f||f===I-1)return f;for(var L=0,x=0;x<w;x++)L|=(1&f)<<w-x-1,f>>=1;return L},ae.prototype.permute=function(f,w,I,L,x,a){for(var v=0;v<a;v++)L[v]=w[f[v]],x[v]=I[f[v]]},ae.prototype.transform=function(f,w,I,L,x,a){this.permute(a,f,w,I,L,x);for(var v=1;v<x;v<<=1)for(var Z=v<<1,z=Math.cos(2*Math.PI/Z),ee=Math.sin(2*Math.PI/Z),le=0;le<x;le+=Z)for(var we=z,Me=ee,Ge=0;Ge<v;Ge++){var ge=I[le+Ge],me=L[le+Ge],Ue=I[le+Ge+v],xe=L[le+Ge+v],Ce=we*Ue-Me*xe;xe=we*xe+Me*Ue,I[le+Ge]=ge+(Ue=Ce),L[le+Ge]=me+xe,I[le+Ge+v]=ge-Ue,L[le+Ge+v]=me-xe,Ge!==Z&&(Ce=z*we-ee*Me,Me=z*Me+ee*we,we=Ce)}},ae.prototype.guessLen13b=function(f,w){var I=1|Math.max(w,f),L=1&I,x=0;for(I=I/2|0;I;I>>>=1)x++;return 1<<x+1+L},ae.prototype.conjugate=function(f,w,I){if(!(I<=1))for(var L=0;L<I/2;L++){var x=f[L];f[L]=f[I-L-1],f[I-L-1]=x,x=w[L],w[L]=-w[I-L-1],w[I-L-1]=-x}},ae.prototype.normalize13b=function(f,w){for(var I=0,L=0;L<w/2;L++){var x=8192*Math.round(f[2*L+1]/w)+Math.round(f[2*L]/w)+I;f[L]=67108863&x,I=x<67108864?0:x/67108864|0}return f},ae.prototype.convert13b=function(f,w,I,L){for(var x=0,a=0;a<w;a++)I[2*a]=8191&(x+=0|f[a]),I[2*a+1]=8191&(x>>>=13),x>>>=13;for(a=2*w;a<L;++a)I[a]=0;B(0===x),B(!(-8192&x))},ae.prototype.stub=function(f){for(var w=new Array(f),I=0;I<f;I++)w[I]=0;return w},ae.prototype.mulp=function(f,w,I){var L=2*this.guessLen13b(f.length,w.length),x=this.makeRBT(L),a=this.stub(L),v=new Array(L),Z=new Array(L),z=new Array(L),ee=new Array(L),le=new Array(L),we=new Array(L),Me=I.words;Me.length=L,this.convert13b(f.words,f.length,v,L),this.convert13b(w.words,w.length,ee,L),this.transform(v,a,Z,z,L,x),this.transform(ee,a,le,we,L,x);for(var Ge=0;Ge<L;Ge++){var ge=Z[Ge]*le[Ge]-z[Ge]*we[Ge];z[Ge]=Z[Ge]*we[Ge]+z[Ge]*le[Ge],Z[Ge]=ge}return this.conjugate(Z,z,L),this.transform(Z,z,Me,a,L,x),this.conjugate(Me,a,L),this.normalize13b(Me,L),I.negative=f.negative^w.negative,I.length=f.length+w.length,I._strip()},b.prototype.mul=function(f){var w=new b(null);return w.words=new Array(this.length+f.length),this.mulTo(f,w)},b.prototype.mulf=function(f){var w=new b(null);return w.words=new Array(this.length+f.length),ie(this,f,w)},b.prototype.imul=function(f){return this.clone().mulTo(f,this)},b.prototype.imuln=function(f){var w=f<0;w&&(f=-f),B("number"==typeof f),B(f<67108864);for(var I=0,L=0;L<this.length;L++){var x=(0|this.words[L])*f,a=(67108863&x)+(67108863&I);I>>=26,I+=x/67108864|0,I+=a>>>26,this.words[L]=67108863&a}return 0!==I&&(this.words[L]=I,this.length++),w?this.ineg():this},b.prototype.muln=function(f){return this.clone().imuln(f)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(f){var w=function q(h){for(var f=new Array(h.bitLength()),w=0;w<f.length;w++)f[w]=h.words[w/26|0]>>>w%26&1;return f}(f);if(0===w.length)return new b(1);for(var I=this,L=0;L<w.length&&0===w[L];L++,I=I.sqr());if(++L<w.length)for(var x=I.sqr();L<w.length;L++,x=x.sqr())0!==w[L]&&(I=I.mul(x));return I},b.prototype.iushln=function(f){B("number"==typeof f&&f>=0);var x,w=f%26,I=(f-w)/26,L=67108863>>>26-w<<26-w;if(0!==w){var a=0;for(x=0;x<this.length;x++){var v=this.words[x]&L;this.words[x]=(0|this.words[x])-v<<w|a,a=v>>>26-w}a&&(this.words[x]=a,this.length++)}if(0!==I){for(x=this.length-1;x>=0;x--)this.words[x+I]=this.words[x];for(x=0;x<I;x++)this.words[x]=0;this.length+=I}return this._strip()},b.prototype.ishln=function(f){return B(0===this.negative),this.iushln(f)},b.prototype.iushrn=function(f,w,I){var L;B("number"==typeof f&&f>=0),L=w?(w-w%26)/26:0;var x=f%26,a=Math.min((f-x)/26,this.length),v=67108863^67108863>>>x<<x,Z=I;if(L-=a,L=Math.max(0,L),Z){for(var z=0;z<a;z++)Z.words[z]=this.words[z];Z.length=a}if(0!==a)if(this.length>a)for(this.length-=a,z=0;z<this.length;z++)this.words[z]=this.words[z+a];else this.words[0]=0,this.length=1;var ee=0;for(z=this.length-1;z>=0&&(0!==ee||z>=L);z--){var le=0|this.words[z];this.words[z]=ee<<26-x|le>>>x,ee=le&v}return Z&&0!==ee&&(Z.words[Z.length++]=ee),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},b.prototype.ishrn=function(f,w,I){return B(0===this.negative),this.iushrn(f,w,I)},b.prototype.shln=function(f){return this.clone().ishln(f)},b.prototype.ushln=function(f){return this.clone().iushln(f)},b.prototype.shrn=function(f){return this.clone().ishrn(f)},b.prototype.ushrn=function(f){return this.clone().iushrn(f)},b.prototype.testn=function(f){B("number"==typeof f&&f>=0);var w=f%26,I=(f-w)/26;return!(this.length<=I||!(this.words[I]&1<<w))},b.prototype.imaskn=function(f){B("number"==typeof f&&f>=0);var w=f%26,I=(f-w)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=I?this:(0!==w&&I++,this.length=Math.min(I,this.length),0!==w&&(this.words[this.length-1]&=67108863^67108863>>>w<<w),this._strip())},b.prototype.maskn=function(f){return this.clone().imaskn(f)},b.prototype.iaddn=function(f){return B("number"==typeof f),B(f<67108864),f<0?this.isubn(-f):0!==this.negative?1===this.length&&(0|this.words[0])<=f?(this.words[0]=f-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},b.prototype._iaddn=function(f){this.words[0]+=f;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},b.prototype.isubn=function(f){if(B("number"==typeof f),B(f<67108864),f<0)return this.iaddn(-f);if(0!==this.negative)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},b.prototype.addn=function(f){return this.clone().iaddn(f)},b.prototype.subn=function(f){return this.clone().isubn(f)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(f,w,I){var x;this._expand(f.length+I);var a,v=0;for(x=0;x<f.length;x++){a=(0|this.words[x+I])+v;var Z=(0|f.words[x])*w;v=((a-=67108863&Z)>>26)-(Z/67108864|0),this.words[x+I]=67108863&a}for(;x<this.length-I;x++)v=(a=(0|this.words[x+I])+v)>>26,this.words[x+I]=67108863&a;if(0===v)return this._strip();for(B(-1===v),v=0,x=0;x<this.length;x++)v=(a=-(0|this.words[x])+v)>>26,this.words[x]=67108863&a;return this.negative=1,this._strip()},b.prototype._wordDiv=function(f,w){var I,L=this.clone(),x=f,a=0|x.words[x.length-1];0!=(I=26-this._countBits(a))&&(x=x.ushln(I),L.iushln(I),a=0|x.words[x.length-1]);var z,Z=L.length-x.length;if("mod"!==w){(z=new b(null)).length=Z+1,z.words=new Array(z.length);for(var ee=0;ee<z.length;ee++)z.words[ee]=0}var le=L.clone()._ishlnsubmul(x,1,Z);0===le.negative&&(L=le,z&&(z.words[Z]=1));for(var we=Z-1;we>=0;we--){var Me=67108864*(0|L.words[x.length+we])+(0|L.words[x.length+we-1]);for(Me=Math.min(Me/a|0,67108863),L._ishlnsubmul(x,Me,we);0!==L.negative;)Me--,L.negative=0,L._ishlnsubmul(x,1,we),L.isZero()||(L.negative^=1);z&&(z.words[we]=Me)}return z&&z._strip(),L._strip(),"div"!==w&&0!==I&&L.iushrn(I),{div:z||null,mod:L}},b.prototype.divmod=function(f,w,I){return B(!f.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===f.negative?(a=this.neg().divmod(f,w),"mod"!==w&&(L=a.div.neg()),"div"!==w&&(x=a.mod.neg(),I&&0!==x.negative&&x.iadd(f)),{div:L,mod:x}):0===this.negative&&0!==f.negative?(a=this.divmod(f.neg(),w),"mod"!==w&&(L=a.div.neg()),{div:L,mod:a.mod}):this.negative&f.negative?(a=this.neg().divmod(f.neg(),w),"div"!==w&&(x=a.mod.neg(),I&&0!==x.negative&&x.isub(f)),{div:a.div,mod:x}):f.length>this.length||this.cmp(f)<0?{div:new b(0),mod:this}:1===f.length?"div"===w?{div:this.divn(f.words[0]),mod:null}:"mod"===w?{div:null,mod:new b(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new b(this.modrn(f.words[0]))}:this._wordDiv(f,w);var L,x,a},b.prototype.div=function(f){return this.divmod(f,"div",!1).div},b.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},b.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},b.prototype.divRound=function(f){var w=this.divmod(f);if(w.mod.isZero())return w.div;var I=0!==w.div.negative?w.mod.isub(f):w.mod,L=f.ushrn(1),x=f.andln(1),a=I.cmp(L);return a<0||1===x&&0===a?w.div:0!==w.div.negative?w.div.isubn(1):w.div.iaddn(1)},b.prototype.modrn=function(f){var w=f<0;w&&(f=-f),B(f<=67108863);for(var I=(1<<26)%f,L=0,x=this.length-1;x>=0;x--)L=(I*L+(0|this.words[x]))%f;return w?-L:L},b.prototype.modn=function(f){return this.modrn(f)},b.prototype.idivn=function(f){var w=f<0;w&&(f=-f),B(f<=67108863);for(var I=0,L=this.length-1;L>=0;L--){var x=(0|this.words[L])+67108864*I;this.words[L]=x/f|0,I=x%f}return this._strip(),w?this.ineg():this},b.prototype.divn=function(f){return this.clone().idivn(f)},b.prototype.egcd=function(f){B(0===f.negative),B(!f.isZero());var w=this,I=f.clone();w=0!==w.negative?w.umod(f):w.clone();for(var L=new b(1),x=new b(0),a=new b(0),v=new b(1),Z=0;w.isEven()&&I.isEven();)w.iushrn(1),I.iushrn(1),++Z;for(var z=I.clone(),ee=w.clone();!w.isZero();){for(var le=0,we=1;!(w.words[0]&we)&&le<26;++le,we<<=1);if(le>0)for(w.iushrn(le);le-- >0;)(L.isOdd()||x.isOdd())&&(L.iadd(z),x.isub(ee)),L.iushrn(1),x.iushrn(1);for(var Me=0,Ge=1;!(I.words[0]&Ge)&&Me<26;++Me,Ge<<=1);if(Me>0)for(I.iushrn(Me);Me-- >0;)(a.isOdd()||v.isOdd())&&(a.iadd(z),v.isub(ee)),a.iushrn(1),v.iushrn(1);w.cmp(I)>=0?(w.isub(I),L.isub(a),x.isub(v)):(I.isub(w),a.isub(L),v.isub(x))}return{a,b:v,gcd:I.iushln(Z)}},b.prototype._invmp=function(f){B(0===f.negative),B(!f.isZero());var le,w=this,I=f.clone();w=0!==w.negative?w.umod(f):w.clone();for(var L=new b(1),x=new b(0),a=I.clone();w.cmpn(1)>0&&I.cmpn(1)>0;){for(var v=0,Z=1;!(w.words[0]&Z)&&v<26;++v,Z<<=1);if(v>0)for(w.iushrn(v);v-- >0;)L.isOdd()&&L.iadd(a),L.iushrn(1);for(var z=0,ee=1;!(I.words[0]&ee)&&z<26;++z,ee<<=1);if(z>0)for(I.iushrn(z);z-- >0;)x.isOdd()&&x.iadd(a),x.iushrn(1);w.cmp(I)>=0?(w.isub(I),L.isub(x)):(I.isub(w),x.isub(L))}return(le=0===w.cmpn(1)?L:x).cmpn(0)<0&&le.iadd(f),le},b.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var w=this.clone(),I=f.clone();w.negative=0,I.negative=0;for(var L=0;w.isEven()&&I.isEven();L++)w.iushrn(1),I.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;I.isEven();)I.iushrn(1);var x=w.cmp(I);if(x<0){var a=w;w=I,I=a}else if(0===x||0===I.cmpn(1))break;w.isub(I)}return I.iushln(L)},b.prototype.invm=function(f){return this.egcd(f).a.umod(f)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(f){return this.words[0]&f},b.prototype.bincn=function(f){B("number"==typeof f);var w=f%26,I=(f-w)/26,L=1<<w;if(this.length<=I)return this._expand(I+1),this.words[I]|=L,this;for(var x=L,a=I;0!==x&&a<this.length;a++){var v=0|this.words[a];x=(v+=x)>>>26,this.words[a]=v&=67108863}return 0!==x&&(this.words[a]=x,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(f){var I,w=f<0;if(0!==this.negative&&!w)return-1;if(0===this.negative&&w)return 1;if(this._strip(),this.length>1)I=1;else{w&&(f=-f),B(f<=67108863,"Number is too big");var L=0|this.words[0];I=L===f?0:L<f?-1:1}return 0!==this.negative?0|-I:I},b.prototype.cmp=function(f){if(0!==this.negative&&0===f.negative)return-1;if(0===this.negative&&0!==f.negative)return 1;var w=this.ucmp(f);return 0!==this.negative?0|-w:w},b.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var w=0,I=this.length-1;I>=0;I--){var L=0|this.words[I],x=0|f.words[I];if(L!==x){L<x?w=-1:L>x&&(w=1);break}}return w},b.prototype.gtn=function(f){return 1===this.cmpn(f)},b.prototype.gt=function(f){return 1===this.cmp(f)},b.prototype.gten=function(f){return this.cmpn(f)>=0},b.prototype.gte=function(f){return this.cmp(f)>=0},b.prototype.ltn=function(f){return-1===this.cmpn(f)},b.prototype.lt=function(f){return-1===this.cmp(f)},b.prototype.lten=function(f){return this.cmpn(f)<=0},b.prototype.lte=function(f){return this.cmp(f)<=0},b.prototype.eqn=function(f){return 0===this.cmpn(f)},b.prototype.eq=function(f){return 0===this.cmp(f)},b.red=function(f){return new s(f)},b.prototype.toRed=function(f){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),f.convertTo(this)._forceRed(f)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(f){return this.red=f,this},b.prototype.forceRed=function(f){return B(!this.red,"Already a number in reduction context"),this._forceRed(f)},b.prototype.redAdd=function(f){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},b.prototype.redIAdd=function(f){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},b.prototype.redSub=function(f){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},b.prototype.redISub=function(f){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},b.prototype.redShl=function(f){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},b.prototype.redMul=function(f){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},b.prototype.redIMul=function(f){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(f){return B(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var ue={k256:null,p224:null,p192:null,p25519:null};function ce(h,f){this.name=h,this.p=new b(f,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function pe(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ve(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function De(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function s(h){if("string"==typeof h){var f=b._prime(h);this.m=f.p,this.prime=f}else B(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}function d(h){s.call(this,h),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var f=new b(null);return f.words=new Array(Math.ceil(this.n/13)),f},ce.prototype.ireduce=function(f){var I,w=f;do{this.split(w,this.tmp),I=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength()}while(I>this.n);var L=I<this.n?-1:w.ucmp(this.p);return 0===L?(w.words[0]=0,w.length=1):L>0?w.isub(this.p):void 0!==w.strip?w.strip():w._strip(),w},ce.prototype.split=function(f,w){f.iushrn(this.n,0,w)},ce.prototype.imulK=function(f){return f.imul(this.k)},H(pe,ce),pe.prototype.split=function(f,w){for(var I=4194303,L=Math.min(f.length,9),x=0;x<L;x++)w.words[x]=f.words[x];if(w.length=L,f.length<=9)return f.words[0]=0,void(f.length=1);var a=f.words[9];for(w.words[w.length++]=a&I,x=10;x<f.length;x++){var v=0|f.words[x];f.words[x-10]=(v&I)<<4|a>>>22,a=v}f.words[x-10]=a>>>=22,f.length-=0===a&&f.length>10?10:9},pe.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var w=0,I=0;I<f.length;I++){var L=0|f.words[I];f.words[I]=67108863&(w+=977*L),w=64*L+(w/67108864|0)}return 0===f.words[f.length-1]&&(f.length--,0===f.words[f.length-1]&&f.length--),f},H(ve,ce),H(De,ce),H(C,ce),C.prototype.imulK=function(f){for(var w=0,I=0;I<f.length;I++){var L=19*(0|f.words[I])+w,x=67108863&L;L>>>=26,f.words[I]=x,w=L}return 0!==w&&(f.words[f.length++]=w),f},b._prime=function(f){if(ue[f])return ue[f];var w;if("k256"===f)w=new pe;else if("p224"===f)w=new ve;else if("p192"===f)w=new De;else{if("p25519"!==f)throw new Error("Unknown prime "+f);w=new C}return ue[f]=w,w},s.prototype._verify1=function(f){B(0===f.negative,"red works only with positives"),B(f.red,"red works only with red numbers")},s.prototype._verify2=function(f,w){B(!(f.negative|w.negative),"red works only with positives"),B(f.red&&f.red===w.red,"red works only with red numbers")},s.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(O(f,f.umod(this.m)._forceRed(this)),f)},s.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},s.prototype.add=function(f,w){this._verify2(f,w);var I=f.add(w);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},s.prototype.iadd=function(f,w){this._verify2(f,w);var I=f.iadd(w);return I.cmp(this.m)>=0&&I.isub(this.m),I},s.prototype.sub=function(f,w){this._verify2(f,w);var I=f.sub(w);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},s.prototype.isub=function(f,w){this._verify2(f,w);var I=f.isub(w);return I.cmpn(0)<0&&I.iadd(this.m),I},s.prototype.shl=function(f,w){return this._verify1(f),this.imod(f.ushln(w))},s.prototype.imul=function(f,w){return this._verify2(f,w),this.imod(f.imul(w))},s.prototype.mul=function(f,w){return this._verify2(f,w),this.imod(f.mul(w))},s.prototype.isqr=function(f){return this.imul(f,f.clone())},s.prototype.sqr=function(f){return this.mul(f,f)},s.prototype.sqrt=function(f){if(f.isZero())return f.clone();var w=this.m.andln(3);if(B(w%2==1),3===w){var I=this.m.add(new b(1)).iushrn(2);return this.pow(f,I)}for(var L=this.m.subn(1),x=0;!L.isZero()&&0===L.andln(1);)x++,L.iushrn(1);B(!L.isZero());var a=new b(1).toRed(this),v=a.redNeg(),Z=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new b(2*z*z).toRed(this);0!==this.pow(z,Z).cmp(v);)z.redIAdd(v);for(var ee=this.pow(z,L),le=this.pow(f,L.addn(1).iushrn(1)),we=this.pow(f,L),Me=x;0!==we.cmp(a);){for(var Ge=we,ge=0;0!==Ge.cmp(a);ge++)Ge=Ge.redSqr();B(ge<Me);var me=this.pow(ee,new b(1).iushln(Me-ge-1));le=le.redMul(me),ee=me.redSqr(),we=we.redMul(ee),Me=ge}return le},s.prototype.invm=function(f){var w=f._invmp(this.m);return 0!==w.negative?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},s.prototype.pow=function(f,w){if(w.isZero())return new b(1).toRed(this);if(0===w.cmpn(1))return f.clone();var L=new Array(16);L[0]=new b(1).toRed(this),L[1]=f;for(var x=2;x<L.length;x++)L[x]=this.mul(L[x-1],f);var a=L[0],v=0,Z=0,z=w.bitLength()%26;for(0===z&&(z=26),x=w.length-1;x>=0;x--){for(var ee=w.words[x],le=z-1;le>=0;le--){var we=ee>>le&1;a!==L[0]&&(a=this.sqr(a)),0!==we||0!==v?(v<<=1,v|=we,(4==++Z||0===x&&0===le)&&(a=this.mul(a,L[v]),Z=0,v=0)):Z=0}z=26}return a},s.prototype.convertTo=function(f){var w=f.umod(this.m);return w===f?w.clone():w},s.prototype.convertFrom=function(f){var w=f.clone();return w.red=null,w},b.mont=function(f){return new d(f)},H(d,s),d.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},d.prototype.convertFrom=function(f){var w=this.imod(f.mul(this.rinv));return w.red=null,w},d.prototype.imul=function(f,w){if(f.isZero()||w.isZero())return f.words[0]=0,f.length=1,f;var I=f.imul(w),L=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=I.isub(L).iushrn(this.shift),a=x;return x.cmp(this.m)>=0?a=x.isub(this.m):x.cmpn(0)<0&&(a=x.iadd(this.m)),a._forceRed(this)},d.prototype.mul=function(f,w){if(f.isZero()||w.isZero())return new b(0)._forceRed(this);var I=f.mul(w),L=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=I.isub(L).iushrn(this.shift),a=x;return x.cmp(this.m)>=0?a=x.isub(this.m):x.cmpn(0)<0&&(a=x.iadd(this.m)),a._forceRed(this)},d.prototype.invm=function(f){return this.imod(f._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},35294:($e,j,E)=>{var g;function _(H){this.rand=H}if($e.exports=function(b){return g||(g=new _(null)),g.generate(b)},$e.exports.Rand=_,_.prototype.generate=function(b){return this._rand(b)},_.prototype._rand=function(b){if(this.rand.getBytes)return this.rand.getBytes(b);for(var k=new Uint8Array(b),S=0;S<k.length;S++)k[S]=this.rand.getByte();return k},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?_.prototype._rand=function(b){var k=new Uint8Array(b);return self.crypto.getRandomValues(k),k}:self.msCrypto&&self.msCrypto.getRandomValues?_.prototype._rand=function(b){var k=new Uint8Array(b);return self.msCrypto.getRandomValues(k),k}:"object"==typeof window&&(_.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var B=E(91426);if("function"!=typeof B.randomBytes)throw new Error("Not supported");_.prototype._rand=function(b){return B.randomBytes(b)}}catch{}},23963:($e,j,E)=>{"use strict";const{AbstractLevel:g}=E(75929),_=E(61747),B=E(81725),{fromCallback:H}=E(42381),{Iterator:b}=E(18229),k=E(97899),S=E(19857),P=E(57059),R="level-js-",O=Symbol("idb"),A=Symbol("namePrefix"),V=Symbol("location"),U=Symbol("version"),K=Symbol("store"),Q=Symbol("onComplete"),q=Symbol("promise");j.BrowserLevel=(()=>{class W extends g{constructor(ie,ae,ue){if("function"==typeof ae||"function"==typeof ue)throw new _("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:ce,version:pe,...ve}=ae||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},ve),"string"!=typeof ie)throw new Error("constructor requires a location string argument");this[V]=ie,this[A]=ce??R,this[U]=parseInt(pe||1,10),this[O]=null}get location(){return this[V]}get namePrefix(){return this[A]}get version(){return this[U]}get db(){return this[O]}get type(){return"browser-level"}_open(ie,ae){const ue=indexedDB.open(this[A]+this[V],this[U]);ue.onerror=function(){ae(ue.error||new Error("unknown error"))},ue.onsuccess=()=>{this[O]=ue.result,ae()},ue.onupgradeneeded=ce=>{const pe=ce.target.result;pe.objectStoreNames.contains(this[V])||pe.createObjectStore(this[V])}}[K](ie){return this[O].transaction([this[V]],ie).objectStore(this[V])}[Q](ie,ae){const ue=ie.transaction;ue.onabort=function(){ae(ue.error||new Error("aborted by user"))},ue.oncomplete=function(){ae(null,ie.result)}}_get(ie,ae,ue){const ce=this[K]("readonly");let pe;try{pe=ce.get(ie)}catch(ve){return this.nextTick(ue,ve)}this[Q](pe,function(ve,De){return ve?ue(ve):void 0===De?ue(new _("Entry not found",{code:"LEVEL_NOT_FOUND"})):void ue(null,k(De))})}_getMany(ie,ae,ue){const ce=this[K]("readonly"),pe=ie.map(ve=>De=>{let C;try{C=ce.get(ve)}catch(s){return De(s)}C.onsuccess=()=>{const s=C.result;De(null,void 0===s?s:k(s))},C.onerror=s=>{s.stopPropagation(),De(C.error)}});B(pe,16,ue)}_del(ie,ae,ue){const ce=this[K]("readwrite");let pe;try{pe=ce.delete(ie)}catch(ve){return this.nextTick(ue,ve)}this[Q](pe,ue)}_put(ie,ae,ue,ce){const pe=this[K]("readwrite");let ve;try{ve=pe.put(ae,ie)}catch(De){return this.nextTick(ce,De)}this[Q](ve,ce)}_iterator(ie){return new b(this,this[V],ie)}_batch(ie,ae,ue){const ce=this[K]("readwrite"),pe=ce.transaction;let De,ve=0;pe.onabort=function(){ue(De||pe.error||new Error("aborted by user"))},pe.oncomplete=function(){ue()},function C(){const s=ie[ve++],d=s.key;let h;try{h="del"===s.type?ce.delete(d):ce.put(s.value,d)}catch(f){return De=f,void pe.abort()}ve<ie.length?h.onsuccess=C:"function"==typeof pe.commit&&pe.commit()}()}_clear(ie,ae){let ue,ce;try{ue=P(ie)}catch{return this.nextTick(ae)}if(ie.limit>=0)return S(this,this[V],ue,ie,ae);try{const pe=this[K]("readwrite");ce=ue?pe.delete(ue):pe.clear()}catch(pe){return this.nextTick(ae,pe)}this[Q](ce,ae)}_close(ie){this[O].close(),this.nextTick(ie)}}return W.destroy=function(re,ie,ae){"function"==typeof ie&&(ae=ie,ie=R),ae=H(ae,q);const ue=indexedDB.deleteDatabase(ie+re);return ue.onsuccess=function(){ae()},ue.onerror=function(ce){ae(ce)},ae[q]},W})()},18229:($e,j,E)=>{"use strict";const{AbstractIterator:g}=E(75929),_=E(57059),B=E(97899),H=Symbol("cache"),b=Symbol("finished"),k=Symbol("options"),S=Symbol("currentOptions"),P=Symbol("position"),R=Symbol("location"),O=Symbol("first"),A={};function U(K){"function"==typeof K.commit&&K.commit()}j.Iterator=class V extends g{constructor(Q,q,Y){super(Q,Y),this[H]=[],this[b]=0===this.limit,this[k]=Y,this[S]={...Y},this[P]=void 0,this[R]=q,this[O]=!0}_nextv(Q,q,Y){if(this[O]=!1,this[b])return this.nextTick(Y,null,[]);if(this[H].length>0)return Q=Math.min(Q,this[H].length),this.nextTick(Y,null,this[H].splice(0,Q));let W;void 0!==this[P]&&(this[k].reverse?(this[S].lt=this[P],this[S].lte=void 0):(this[S].gt=this[P],this[S].gte=void 0));try{W=_(this[S])}catch{return this[b]=!0,this.nextTick(Y,null,[])}const re=this.db.db.transaction([this[R]],"readonly"),ie=re.objectStore(this[R]),ae=[];if(this[k].reverse)ie[!this[k].values&&ie.openKeyCursor?"openKeyCursor":"openCursor"](W,"prev").onsuccess=ce=>{const pe=ce.target.result;if(pe){const{key:ve,value:De}=pe;this[P]=ve,ae.push([this[k].keys&&void 0!==ve?B(ve):void 0,this[k].values&&void 0!==De?B(De):void 0]),ae.length<Q?pe.continue():U(re)}else this[b]=!0};else{let ue,ce;const pe=()=>{if(void 0===ue||void 0===ce)return;const ve=Math.max(ue.length,ce.length);0===ve||Q===1/0?this[b]=!0:this[P]=ue[ve-1],ae.length=ve;for(let De=0;De<ve;De++){const C=ue[De],s=ce[De];ae[De]=[this[k].keys&&void 0!==C?B(C):void 0,this[k].values&&void 0!==s?B(s):void 0]}U(re)};this[k].keys||Q<1/0?ie.getAllKeys(W,Q<1/0?Q:void 0).onsuccess=ve=>{ue=ve.target.result,pe()}:(ue=[],this.nextTick(pe)),this[k].values?ie.getAll(W,Q<1/0?Q:void 0).onsuccess=ve=>{ce=ve.target.result,pe()}:(ce=[],this.nextTick(pe))}re.onabort=()=>{Y(re.error||new Error("aborted by user")),Y=null},re.oncomplete=()=>{Y(null,ae),Y=null}}_next(Q){if(this[H].length>0){const[q,Y]=this[H].shift();this.nextTick(Q,null,q,Y)}else if(this[b])this.nextTick(Q);else{let q=Math.min(100,this.limit-this.count);this[O]&&(this[O]=!1,q=1),this._nextv(q,A,(Y,W)=>{if(Y)return Q(Y);this[H]=W,this._next(Q)})}}_all(Q,q){this[O]=!1;const Y=this[H].splice(0,this[H].length),W=this.limit-this.count-Y.length;if(W<=0)return this.nextTick(q,null,Y);this._nextv(W,A,(re,ie)=>{if(re)return q(re);Y.length>0&&(ie=Y.concat(ie)),q(null,ie)})}_seek(Q,q){let Y;this[O]=!0,this[H]=[],this[b]=!1,this[P]=void 0,this[S]={...this[k]};try{Y=_(this[k])}catch{return void(this[b]=!0)}null===Y||Y.includes(Q)?this[k].reverse?this[S].lte=Q:this[S].gte=Q:this[b]=!0}}},19857:$e=>{"use strict";$e.exports=function(E,g,_,B,H){if(0===B.limit)return E.nextTick(H);const b=E.db.transaction([g],"readwrite"),k=b.objectStore(g);let S=0;b.oncomplete=function(){H()},b.onabort=function(){H(b.error||new Error("aborted by user"))},k[k.openKeyCursor?"openKeyCursor":"openCursor"](_,B.reverse?"prev":"next").onsuccess=function(O){const A=O.target.result;A&&(k.delete(A.key).onsuccess=function(){(B.limit<=0||++S<B.limit)&&A.continue()})}}},97899:$e=>{"use strict";const j=new TextEncoder;$e.exports=function(E){return E instanceof Uint8Array?E:E instanceof ArrayBuffer?new Uint8Array(E):j.encode(E)}},57059:$e=>{"use strict";$e.exports=function(E){const g=void 0!==E.gte?E.gte:void 0!==E.gt?E.gt:void 0,_=void 0!==E.lte?E.lte:void 0!==E.lt?E.lt:void 0,B=void 0===E.gte,H=void 0===E.lte;return void 0!==g&&void 0!==_?IDBKeyRange.bound(g,_,B,H):void 0!==g?IDBKeyRange.lowerBound(g,B):void 0!==_?IDBKeyRange.upperBound(_,H):null}},12375:($e,j,E)=>{var g=E(27054).Buffer;function _(P){g.isBuffer(P)||(P=g.from(P));for(var R=P.length/4|0,O=new Array(R),A=0;A<R;A++)O[A]=P.readUInt32BE(4*A);return O}function B(P){for(;0<P.length;P++)P[0]=0}function H(P,R,O,A,V){for(var ae,ue,ce,pe,U=O[0],K=O[1],Q=O[2],q=O[3],Y=P[0]^R[0],W=P[1]^R[1],re=P[2]^R[2],ie=P[3]^R[3],ve=4,De=1;De<V;De++)ae=U[Y>>>24]^K[W>>>16&255]^Q[re>>>8&255]^q[255&ie]^R[ve++],ue=U[W>>>24]^K[re>>>16&255]^Q[ie>>>8&255]^q[255&Y]^R[ve++],ce=U[re>>>24]^K[ie>>>16&255]^Q[Y>>>8&255]^q[255&W]^R[ve++],pe=U[ie>>>24]^K[Y>>>16&255]^Q[W>>>8&255]^q[255&re]^R[ve++],Y=ae,W=ue,re=ce,ie=pe;return ae=(A[Y>>>24]<<24|A[W>>>16&255]<<16|A[re>>>8&255]<<8|A[255&ie])^R[ve++],ue=(A[W>>>24]<<24|A[re>>>16&255]<<16|A[ie>>>8&255]<<8|A[255&Y])^R[ve++],ce=(A[re>>>24]<<24|A[ie>>>16&255]<<16|A[Y>>>8&255]<<8|A[255&W])^R[ve++],pe=(A[ie>>>24]<<24|A[Y>>>16&255]<<16|A[W>>>8&255]<<8|A[255&re])^R[ve++],[ae>>>=0,ue>>>=0,ce>>>=0,pe>>>=0]}var b=[0,1,2,4,8,16,32,64,128,27,54],k=function(){for(var P=new Array(256),R=0;R<256;R++)P[R]=R<128?R<<1:R<<1^283;for(var O=[],A=[],V=[[],[],[],[]],U=[[],[],[],[]],K=0,Q=0,q=0;q<256;++q){var Y=Q^Q<<1^Q<<2^Q<<3^Q<<4;O[K]=Y=Y>>>8^255&Y^99,A[Y]=K;var W=P[K],re=P[W],ie=P[re],ae=257*P[Y]^16843008*Y;V[0][K]=ae<<24|ae>>>8,V[1][K]=ae<<16|ae>>>16,V[2][K]=ae<<8|ae>>>24,V[3][K]=ae,U[0][Y]=(ae=16843009*ie^65537*re^257*W^16843008*K)<<24|ae>>>8,U[1][Y]=ae<<16|ae>>>16,U[2][Y]=ae<<8|ae>>>24,U[3][Y]=ae,0===K?K=Q=1:(K=W^P[P[P[ie^W]]],Q^=P[P[Q]])}return{SBOX:O,INV_SBOX:A,SUB_MIX:V,INV_SUB_MIX:U}}();function S(P){this._key=_(P),this._reset()}S.blockSize=16,S.keySize=32,S.prototype.blockSize=S.blockSize,S.prototype.keySize=S.keySize,S.prototype._reset=function(){for(var P=this._key,R=P.length,O=R+6,A=4*(O+1),V=[],U=0;U<R;U++)V[U]=P[U];for(U=R;U<A;U++){var K=V[U-1];U%R==0?(K=k.SBOX[(K=K<<8|K>>>24)>>>24]<<24|k.SBOX[K>>>16&255]<<16|k.SBOX[K>>>8&255]<<8|k.SBOX[255&K],K^=b[U/R|0]<<24):R>6&&U%R==4&&(K=k.SBOX[K>>>24]<<24|k.SBOX[K>>>16&255]<<16|k.SBOX[K>>>8&255]<<8|k.SBOX[255&K]),V[U]=V[U-R]^K}for(var Q=[],q=0;q<A;q++){var Y=A-q,W=V[Y-(q%4?0:4)];Q[q]=q<4||Y<=4?W:k.INV_SUB_MIX[0][k.SBOX[W>>>24]]^k.INV_SUB_MIX[1][k.SBOX[W>>>16&255]]^k.INV_SUB_MIX[2][k.SBOX[W>>>8&255]]^k.INV_SUB_MIX[3][k.SBOX[255&W]]}this._nRounds=O,this._keySchedule=V,this._invKeySchedule=Q},S.prototype.encryptBlockRaw=function(P){return H(P=_(P),this._keySchedule,k.SUB_MIX,k.SBOX,this._nRounds)},S.prototype.encryptBlock=function(P){var R=this.encryptBlockRaw(P),O=g.allocUnsafe(16);return O.writeUInt32BE(R[0],0),O.writeUInt32BE(R[1],4),O.writeUInt32BE(R[2],8),O.writeUInt32BE(R[3],12),O},S.prototype.decryptBlock=function(P){var R=(P=_(P))[1];P[1]=P[3],P[3]=R;var O=H(P,this._invKeySchedule,k.INV_SUB_MIX,k.INV_SBOX,this._nRounds),A=g.allocUnsafe(16);return A.writeUInt32BE(O[0],0),A.writeUInt32BE(O[3],4),A.writeUInt32BE(O[2],8),A.writeUInt32BE(O[1],12),A},S.prototype.scrub=function(){B(this._keySchedule),B(this._invKeySchedule),B(this._key)},$e.exports.AES=S},19307:($e,j,E)=>{var g=E(12375),_=E(27054).Buffer,B=E(3247),H=E(71993),b=E(85917),k=E(13546),S=E(95725);function O(A,V,U,K){B.call(this);var Q=_.alloc(4,0);this._cipher=new g.AES(V);var q=this._cipher.encryptBlock(Q);this._ghash=new b(q),U=function R(A,V,U){if(12===V.length)return A._finID=_.concat([V,_.from([0,0,0,1])]),_.concat([V,_.from([0,0,0,2])]);var K=new b(U),Q=V.length,q=Q%16;K.update(V),q&&K.update(_.alloc(q=16-q,0)),K.update(_.alloc(8,0));var Y=8*Q,W=_.alloc(8);W.writeUIntBE(Y,0,8),K.update(W),A._finID=K.state;var re=_.from(A._finID);return S(re),re}(this,U,q),this._prev=_.from(U),this._cache=_.allocUnsafe(0),this._secCache=_.allocUnsafe(0),this._decrypt=K,this._alen=0,this._len=0,this._mode=A,this._authTag=null,this._called=!1}H(O,B),O.prototype._update=function(A){if(!this._called&&this._alen){var V=16-this._alen%16;V<16&&(V=_.alloc(V,0),this._ghash.update(V))}this._called=!0;var U=this._mode.encrypt(this,A);return this._ghash.update(this._decrypt?A:U),this._len+=A.length,U},O.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var A=k(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function P(A,V){var U=0;A.length!==V.length&&U++;for(var K=Math.min(A.length,V.length),Q=0;Q<K;++Q)U+=A[Q]^V[Q];return U}(A,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=A,this._cipher.scrub()},O.prototype.getAuthTag=function(){if(this._decrypt||!_.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},O.prototype.setAuthTag=function(V){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=V},O.prototype.setAAD=function(V){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(V),this._alen+=V.length},$e.exports=O},43388:($e,j,E)=>{var g=E(350),_=E(60102),B=E(3219);j.createCipher=j.Cipher=g.createCipher,j.createCipheriv=j.Cipheriv=g.createCipheriv,j.createDecipher=j.Decipher=_.createDecipher,j.createDecipheriv=j.Decipheriv=_.createDecipheriv,j.listCiphers=j.getCiphers=function H(){return Object.keys(B)}},60102:($e,j,E)=>{var g=E(19307),_=E(27054).Buffer,B=E(60503),H=E(91821),b=E(3247),k=E(12375),S=E(18211);function R(K,Q,q){b.call(this),this._cache=new O,this._last=void 0,this._cipher=new k.AES(Q),this._prev=_.from(q),this._mode=K,this._autopadding=!0}function O(){this.cache=_.allocUnsafe(0)}function V(K,Q,q){var Y=B[K.toLowerCase()];if(!Y)throw new TypeError("invalid suite type");if("string"==typeof q&&(q=_.from(q)),"GCM"!==Y.mode&&q.length!==Y.iv)throw new TypeError("invalid iv length "+q.length);if("string"==typeof Q&&(Q=_.from(Q)),Q.length!==Y.key/8)throw new TypeError("invalid key length "+Q.length);return"stream"===Y.type?new H(Y.module,Q,q,!0):"auth"===Y.type?new g(Y.module,Q,q,!0):new R(Y.module,Q,q)}E(71993)(R,b),R.prototype._update=function(K){this._cache.add(K);for(var Q,q,Y=[];Q=this._cache.get(this._autopadding);)q=this._mode.decrypt(this,Q),Y.push(q);return _.concat(Y)},R.prototype._final=function(){var K=this._cache.flush();if(this._autopadding)return function A(K){var Q=K[15];if(Q<1||Q>16)throw new Error("unable to decrypt data");for(var q=-1;++q<Q;)if(K[q+(16-Q)]!==Q)throw new Error("unable to decrypt data");if(16!==Q)return K.slice(0,16-Q)}(this._mode.decrypt(this,K));if(K)throw new Error("data not multiple of block length")},R.prototype.setAutoPadding=function(K){return this._autopadding=!!K,this},O.prototype.add=function(K){this.cache=_.concat([this.cache,K])},O.prototype.get=function(K){var Q;if(K){if(this.cache.length>16)return Q=this.cache.slice(0,16),this.cache=this.cache.slice(16),Q}else if(this.cache.length>=16)return Q=this.cache.slice(0,16),this.cache=this.cache.slice(16),Q;return null},O.prototype.flush=function(){if(this.cache.length)return this.cache},j.createDecipher=function U(K,Q){var q=B[K.toLowerCase()];if(!q)throw new TypeError("invalid suite type");var Y=S(Q,!1,q.key,q.iv);return V(K,Y.key,Y.iv)},j.createDecipheriv=V},350:($e,j,E)=>{var g=E(60503),_=E(19307),B=E(27054).Buffer,H=E(91821),b=E(3247),k=E(12375),S=E(18211);function R(K,Q,q){b.call(this),this._cache=new A,this._cipher=new k.AES(Q),this._prev=B.from(q),this._mode=K,this._autopadding=!0}E(71993)(R,b),R.prototype._update=function(K){this._cache.add(K);for(var Q,q,Y=[];Q=this._cache.get();)q=this._mode.encrypt(this,Q),Y.push(q);return B.concat(Y)};var O=B.alloc(16,16);function A(){this.cache=B.allocUnsafe(0)}function V(K,Q,q){var Y=g[K.toLowerCase()];if(!Y)throw new TypeError("invalid suite type");if("string"==typeof Q&&(Q=B.from(Q)),Q.length!==Y.key/8)throw new TypeError("invalid key length "+Q.length);if("string"==typeof q&&(q=B.from(q)),"GCM"!==Y.mode&&q.length!==Y.iv)throw new TypeError("invalid iv length "+q.length);return"stream"===Y.type?new H(Y.module,Q,q):"auth"===Y.type?new _(Y.module,Q,q):new R(Y.module,Q,q)}R.prototype._final=function(){var K=this._cache.flush();if(this._autopadding)return K=this._mode.encrypt(this,K),this._cipher.scrub(),K;if(!K.equals(O))throw this._cipher.scrub(),new Error("data not multiple of block length")},R.prototype.setAutoPadding=function(K){return this._autopadding=!!K,this},A.prototype.add=function(K){this.cache=B.concat([this.cache,K])},A.prototype.get=function(){if(this.cache.length>15){var K=this.cache.slice(0,16);return this.cache=this.cache.slice(16),K}return null},A.prototype.flush=function(){for(var K=16-this.cache.length,Q=B.allocUnsafe(K),q=-1;++q<K;)Q.writeUInt8(K,q);return B.concat([this.cache,Q])},j.createCipheriv=V,j.createCipher=function U(K,Q){var q=g[K.toLowerCase()];if(!q)throw new TypeError("invalid suite type");var Y=S(Q,!1,q.key,q.iv);return V(K,Y.key,Y.iv)}},85917:($e,j,E)=>{var g=E(27054).Buffer,_=g.alloc(16,0);function H(k){var S=g.allocUnsafe(16);return S.writeUInt32BE(k[0]>>>0,0),S.writeUInt32BE(k[1]>>>0,4),S.writeUInt32BE(k[2]>>>0,8),S.writeUInt32BE(k[3]>>>0,12),S}function b(k){this.h=k,this.state=g.alloc(16,0),this.cache=g.allocUnsafe(0)}b.prototype.ghash=function(k){for(var S=-1;++S<k.length;)this.state[S]^=k[S];this._multiply()},b.prototype._multiply=function(){for(var P,O,k=function B(k){return[k.readUInt32BE(0),k.readUInt32BE(4),k.readUInt32BE(8),k.readUInt32BE(12)]}(this.h),S=[0,0,0,0],A=-1;++A<128;){for(!!(this.state[~~(A/8)]&1<<7-A%8)&&(S[0]^=k[0],S[1]^=k[1],S[2]^=k[2],S[3]^=k[3]),O=!!(1&k[3]),P=3;P>0;P--)k[P]=k[P]>>>1|(1&k[P-1])<<31;k[0]=k[0]>>>1,O&&(k[0]=k[0]^225<<24)}this.state=H(S)},b.prototype.update=function(k){this.cache=g.concat([this.cache,k]);for(var S;this.cache.length>=16;)S=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(S)},b.prototype.final=function(k,S){return this.cache.length&&this.ghash(g.concat([this.cache,_],16)),this.ghash(H([0,k,0,S])),this.state},$e.exports=b},95725:$e=>{$e.exports=function j(E){for(var _,g=E.length;g--;){if(255!==(_=E.readUInt8(g))){_++,E.writeUInt8(_,g);break}E.writeUInt8(0,g)}}},34133:($e,j,E)=>{var g=E(13546);j.encrypt=function(_,B){var H=g(B,_._prev);return _._prev=_._cipher.encryptBlock(H),_._prev},j.decrypt=function(_,B){var H=_._prev;_._prev=B;var b=_._cipher.decryptBlock(B);return g(b,H)}},17090:($e,j,E)=>{var g=E(27054).Buffer,_=E(13546);function B(H,b,k){var S=b.length,P=_(b,H._cache);return H._cache=H._cache.slice(S),H._prev=g.concat([H._prev,k?b:P]),P}j.encrypt=function(H,b,k){for(var P,S=g.allocUnsafe(0);b.length;){if(0===H._cache.length&&(H._cache=H._cipher.encryptBlock(H._prev),H._prev=g.allocUnsafe(0)),!(H._cache.length<=b.length)){S=g.concat([S,B(H,b,k)]);break}S=g.concat([S,B(H,b.slice(0,P=H._cache.length),k)]),b=b.slice(P)}return S}},71039:($e,j,E)=>{var g=E(27054).Buffer;function _(H,b,k){for(var A,V,P=-1,O=0;++P<8;)O+=(128&(V=H._cipher.encryptBlock(H._prev)[0]^(A=b&1<<7-P?128:0)))>>P%8,H._prev=B(H._prev,k?A:V);return O}function B(H,b){var k=H.length,S=-1,P=g.allocUnsafe(H.length);for(H=g.concat([H,g.from([b])]);++S<k;)P[S]=H[S]<<1|H[S+1]>>7;return P}j.encrypt=function(H,b,k){for(var S=b.length,P=g.allocUnsafe(S),R=-1;++R<S;)P[R]=_(H,b[R],k);return P}},72576:($e,j,E)=>{var g=E(27054).Buffer;function _(B,H,b){var S=B._cipher.encryptBlock(B._prev)[0]^H;return B._prev=g.concat([B._prev.slice(1),g.from([b?H:S])]),S}j.encrypt=function(B,H,b){for(var k=H.length,S=g.allocUnsafe(k),P=-1;++P<k;)S[P]=_(B,H[P],b);return S}},70336:($e,j,E)=>{var g=E(13546),_=E(27054).Buffer,B=E(95725);function H(k){var S=k._cipher.encryptBlockRaw(k._prev);return B(k._prev),S}j.encrypt=function(k,S){var P=Math.ceil(S.length/16),R=k._cache.length;k._cache=_.concat([k._cache,_.allocUnsafe(16*P)]);for(var O=0;O<P;O++){var A=H(k),V=R+16*O;k._cache.writeUInt32BE(A[0],V+0),k._cache.writeUInt32BE(A[1],V+4),k._cache.writeUInt32BE(A[2],V+8),k._cache.writeUInt32BE(A[3],V+12)}var U=k._cache.slice(0,S.length);return k._cache=k._cache.slice(S.length),g(S,U)}},37513:($e,j)=>{j.encrypt=function(E,g){return E._cipher.encryptBlock(g)},j.decrypt=function(E,g){return E._cipher.decryptBlock(g)}},60503:($e,j,E)=>{var g={ECB:E(37513),CBC:E(34133),CFB:E(17090),CFB8:E(72576),CFB1:E(71039),OFB:E(46854),CTR:E(70336),GCM:E(70336)},_=E(3219);for(var B in _)_[B].module=g[_[B].mode];$e.exports=_},46854:($e,j,E)=>{var g=E(13546);function _(B){return B._prev=B._cipher.encryptBlock(B._prev),B._prev}j.encrypt=function(B,H){for(;B._cache.length<H.length;)B._cache=Buffer.concat([B._cache,_(B)]);var b=B._cache.slice(0,H.length);return B._cache=B._cache.slice(H.length),g(H,b)}},91821:($e,j,E)=>{var g=E(12375),_=E(27054).Buffer,B=E(3247);function b(k,S,P,R){B.call(this),this._cipher=new g.AES(S),this._prev=_.from(P),this._cache=_.allocUnsafe(0),this._secCache=_.allocUnsafe(0),this._decrypt=R,this._mode=k}E(71993)(b,B),b.prototype._update=function(k){return this._mode.encrypt(this,k,this._decrypt)},b.prototype._final=function(){this._cipher.scrub()},$e.exports=b},88862:($e,j,E)=>{var g=E(39799),_=E(43388),B=E(60503),H=E(59571),b=E(18211);function P(A,V,U){if(A=A.toLowerCase(),B[A])return _.createCipheriv(A,V,U);if(H[A])return new g({key:V,iv:U,mode:A});throw new TypeError("invalid suite type")}function R(A,V,U){if(A=A.toLowerCase(),B[A])return _.createDecipheriv(A,V,U);if(H[A])return new g({key:V,iv:U,mode:A,decrypt:!0});throw new TypeError("invalid suite type")}j.createCipher=j.Cipher=function k(A,V){var U,K;if(A=A.toLowerCase(),B[A])U=B[A].key,K=B[A].iv;else{if(!H[A])throw new TypeError("invalid suite type");U=8*H[A].key,K=H[A].iv}var Q=b(V,!1,U,K);return P(A,Q.key,Q.iv)},j.createCipheriv=j.Cipheriv=P,j.createDecipher=j.Decipher=function S(A,V){var U,K;if(A=A.toLowerCase(),B[A])U=B[A].key,K=B[A].iv;else{if(!H[A])throw new TypeError("invalid suite type");U=8*H[A].key,K=H[A].iv}var Q=b(V,!1,U,K);return R(A,Q.key,Q.iv)},j.createDecipheriv=j.Decipheriv=R,j.listCiphers=j.getCiphers=function O(){return Object.keys(H).concat(_.getCiphers())}},39799:($e,j,E)=>{var g=E(3247),_=E(71549),B=E(71993),H=E(27054).Buffer,b={"des-ede3-cbc":_.CBC.instantiate(_.EDE),"des-ede3":_.EDE,"des-ede-cbc":_.CBC.instantiate(_.EDE),"des-ede":_.EDE,"des-cbc":_.CBC.instantiate(_.DES),"des-ecb":_.DES};function k(S){g.call(this);var O,P=S.mode.toLowerCase(),R=b[P];O=S.decrypt?"decrypt":"encrypt";var A=S.key;H.isBuffer(A)||(A=H.from(A)),("des-ede"===P||"des-ede-cbc"===P)&&(A=H.concat([A,A.slice(0,8)]));var V=S.iv;H.isBuffer(V)||(V=H.from(V)),this._des=R.create({key:A,iv:V,type:O})}b.des=b["des-cbc"],b.des3=b["des-ede3-cbc"],$e.exports=k,B(k,g),k.prototype._update=function(S){return H.from(this._des.update(S))},k.prototype._final=function(){return H.from(this._des.final())}},59571:($e,j)=>{j["des-ecb"]={key:8,iv:0},j["des-cbc"]=j.des={key:8,iv:8},j["des-ede3-cbc"]=j.des3={key:24,iv:8},j["des-ede3"]={key:24,iv:0},j["des-ede-cbc"]={key:16,iv:8},j["des-ede"]={key:16,iv:0}},14105:($e,j,E)=>{var g=E(917),_=E(3342);function H(k){var P,S=k.modulus.byteLength();do{P=new g(_(S))}while(P.cmp(k.modulus)>=0||!P.umod(k.prime1)||!P.umod(k.prime2));return P}function b(k,S){var P=function B(k){var S=H(k);return{blinder:S.toRed(g.mont(k.modulus)).redPow(new g(k.publicExponent)).fromRed(),unblinder:S.invm(k.modulus)}}(S),R=S.modulus.byteLength(),O=new g(k).mul(P.blinder).umod(S.modulus),A=O.toRed(g.mont(S.prime1)),V=O.toRed(g.mont(S.prime2)),U=S.coefficient,K=S.prime1,Q=S.prime2,q=A.redPow(S.exponent1).fromRed(),Y=V.redPow(S.exponent2).fromRed(),W=q.isub(Y).imul(U).umod(K).imul(Q);return Y.iadd(W).imul(P.unblinder).umod(S.modulus).toArrayLike(Buffer,"be",R)}b.getr=H,$e.exports=b},99560:($e,j,E)=>{"use strict";$e.exports=E(62951)},79143:($e,j,E)=>{"use strict";var g=E(27054).Buffer,_=E(67211),B=E(64670),H=E(71993),b=E(43150),k=E(74754),S=E(62951);function P(V){B.Writable.call(this);var U=S[V];if(!U)throw new Error("Unknown message digest");this._hashType=U.hash,this._hash=_(U.hash),this._tag=U.id,this._signType=U.sign}function R(V){B.Writable.call(this);var U=S[V];if(!U)throw new Error("Unknown message digest");this._hash=_(U.hash),this._tag=U.id,this._signType=U.sign}function O(V){return new P(V)}function A(V){return new R(V)}Object.keys(S).forEach(function(V){S[V].id=g.from(S[V].id,"hex"),S[V.toLowerCase()]=S[V]}),H(P,B.Writable),P.prototype._write=function(U,K,Q){this._hash.update(U),Q()},P.prototype.update=function(U,K){return this._hash.update("string"==typeof U?g.from(U,K):U),this},P.prototype.sign=function(U,K){this.end();var Q=this._hash.digest(),q=b(Q,U,this._hashType,this._signType,this._tag);return K?q.toString(K):q},H(R,B.Writable),R.prototype._write=function(U,K,Q){this._hash.update(U),Q()},R.prototype.update=function(U,K){return this._hash.update("string"==typeof U?g.from(U,K):U),this},R.prototype.verify=function(U,K,Q){var q="string"==typeof K?g.from(K,Q):K;this.end();var Y=this._hash.digest();return k(q,Y,U,this._signType,this._tag)},$e.exports={Sign:O,Verify:A,createSign:O,createVerify:A}},43150:($e,j,E)=>{"use strict";var g=E(27054).Buffer,_=E(56432),B=E(14105),H=E(90518).ec,b=E(917),k=E(65667),S=E(64589);function U(W,re,ie,ae){if((W=g.from(W.toArray())).length<re.byteLength()){var ue=g.alloc(re.byteLength()-W.length);W=g.concat([ue,W])}var ce=ie.length,pe=function Q(W,re){W=(W=K(W,re)).mod(re);var ie=g.from(W.toArray());if(ie.length<re.byteLength()){var ae=g.alloc(re.byteLength()-ie.length);ie=g.concat([ae,ie])}return ie}(ie,re),ve=g.alloc(ce);ve.fill(1);var De=g.alloc(ce);return De=_(ae,De).update(ve).update(g.from([0])).update(W).update(pe).digest(),ve=_(ae,De).update(ve).digest(),{k:De=_(ae,De).update(ve).update(g.from([1])).update(W).update(pe).digest(),v:ve=_(ae,De).update(ve).digest()}}function K(W,re){var ie=new b(W),ae=(W.length<<3)-re.bitLength();return ae>0&&ie.ishrn(ae),ie}function q(W,re,ie){var ae,ue;do{for(ae=g.alloc(0);8*ae.length<W.bitLength();)re.v=_(ie,re.k).update(re.v).digest(),ae=g.concat([ae,re.v]);ue=K(ae,W),re.k=_(ie,re.k).update(re.v).update(g.from([0])).digest(),re.v=_(ie,re.k).update(re.v).digest()}while(-1!==ue.cmp(W));return ue}function Y(W,re,ie,ae){return W.toRed(b.mont(ie)).redPow(re).fromRed().mod(ae)}$e.exports=function R(W,re,ie,ae,ue){var ce=k(re);if(ce.curve){if("ecdsa"!==ae&&"ecdsa/rsa"!==ae)throw new Error("wrong private key type");return function O(W,re){var ie=S[re.curve.join(".")];if(!ie)throw new Error("unknown curve "+re.curve.join("."));var ce=new H(ie).keyFromPrivate(re.privateKey).sign(W);return g.from(ce.toDER())}(W,ce)}if("dsa"===ce.type){if("dsa"!==ae)throw new Error("wrong private key type");return function A(W,re,ie){for(var De,ae=re.params.priv_key,ue=re.params.p,ce=re.params.q,pe=re.params.g,ve=new b(0),C=K(W,ce).mod(ce),s=!1,d=U(ae,ce,W,ie);!1===s;)ve=Y(pe,De=q(ce,d,ie),ue,ce),0===(s=De.invm(ce).imul(C.add(ae.mul(ve))).mod(ce)).cmpn(0)&&(s=!1,ve=new b(0));return function V(W,re){W=W.toArray(),re=re.toArray(),128&W[0]&&(W=[0].concat(W)),128&re[0]&&(re=[0].concat(re));var ae=[48,W.length+re.length+4,2,W.length];return ae=ae.concat(W,[2,re.length],re),g.from(ae)}(ve,s)}(W,ce,ie)}if("rsa"!==ae&&"ecdsa/rsa"!==ae)throw new Error("wrong private key type");if(void 0!==re.padding&&1!==re.padding)throw new Error("illegal or unsupported padding mode");W=g.concat([ue,W]);for(var pe=ce.modulus.byteLength(),ve=[0,1];W.length+ve.length+1<pe;)ve.push(255);ve.push(0);for(var De=-1;++De<W.length;)ve.push(W[De]);return B(ve,ce)},$e.exports.getKey=U,$e.exports.makeKey=q},74754:($e,j,E)=>{"use strict";var g=E(27054).Buffer,_=E(917),B=E(90518).ec,H=E(65667),b=E(64589);function R(O,A){if(O.cmpn(0)<=0)throw new Error("invalid sig");if(O.cmp(A)>=0)throw new Error("invalid sig")}$e.exports=function k(O,A,V,U,K){var Q=H(V);if("ec"===Q.type){if("ecdsa"!==U&&"ecdsa/rsa"!==U)throw new Error("wrong public key type");return function S(O,A,V){var U=b[V.data.algorithm.curve.join(".")];if(!U)throw new Error("unknown curve "+V.data.algorithm.curve.join("."));return new B(U).verify(A,O,V.data.subjectPrivateKey.data)}(O,A,Q)}if("dsa"===Q.type){if("dsa"!==U)throw new Error("wrong public key type");return function P(O,A,V){var U=V.data.p,K=V.data.q,Q=V.data.g,q=V.data.pub_key,Y=H.signature.decode(O,"der"),W=Y.s,re=Y.r;R(W,K),R(re,K);var ie=_.mont(U),ae=W.invm(K);return 0===Q.toRed(ie).redPow(new _(A).mul(ae).mod(K)).fromRed().mul(q.toRed(ie).redPow(re.mul(ae).mod(K)).fromRed()).mod(U).mod(K).cmp(re)}(O,A,Q)}if("rsa"!==U&&"ecdsa/rsa"!==U)throw new Error("wrong public key type");A=g.concat([K,A]);for(var q=Q.modulus.byteLength(),Y=[1],W=0;A.length+Y.length+2<q;)Y.push(255),W+=1;Y.push(0);for(var re=-1;++re<A.length;)Y.push(A[re]);Y=g.from(Y);var ie=_.mont(Q.modulus);O=(O=new _(O).toRed(ie)).redPow(new _(Q.publicExponent)),O=g.from(O.fromRed().toArray());var ae=W<8?1:0;for(q=Math.min(O.length,Y.length),O.length!==Y.length&&(ae=1),re=-1;++re<q;)ae|=O[re]^Y[re];return 0===ae}},23827:($e,j,E)=>{"use strict";var g=E(9656),_=Object.keys||function(V){var U=[];for(var K in V)U.push(K);return U};$e.exports=R;var B=Object.create(E(27637));B.inherits=E(71993);var H=E(81217),b=E(14817);B.inherits(R,H);for(var k=_(b.prototype),S=0;S<k.length;S++){var P=k[S];R.prototype[P]||(R.prototype[P]=b.prototype[P])}function R(V){if(!(this instanceof R))return new R(V);H.call(this,V),b.call(this,V),V&&!1===V.readable&&(this.readable=!1),V&&!1===V.writable&&(this.writable=!1),this.allowHalfOpen=!0,V&&!1===V.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",O)}function O(){this.allowHalfOpen||this._writableState.ended||g.nextTick(A,this)}function A(V){V.end()}Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(R.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(V){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=V,this._writableState.destroyed=V)}}),R.prototype._destroy=function(V,U){this.push(null),this.end(),g.nextTick(U,V)}},75519:($e,j,E)=>{"use strict";$e.exports=B;var g=E(93045),_=Object.create(E(27637));function B(H){if(!(this instanceof B))return new B(H);g.call(this,H)}_.inherits=E(71993),_.inherits(B,g),B.prototype._transform=function(H,b,k){k(null,H)}},81217:($e,j,E)=>{"use strict";var g=E(40573),_=E(9656);$e.exports=ae;var H,B=E(20053);ae.ReadableState=ie,E(44356);var k=function(me,Ue){return me.listeners(Ue).length},S=E(62078),P=E(29783).Buffer,R=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},V=Object.create(E(27637));V.inherits=E(71993);var U=E(92668),K=void 0;K=U&&U.debuglog?U.debuglog("stream"):function(){};var Y,Q=E(10793),q=E(43357);V.inherits(ae,S);var W=["error","close","destroy","pause","resume"];function ie(me,Ue){var xe=Ue instanceof(H=H||E(23827));this.objectMode=!!(me=me||{}).objectMode,xe&&(this.objectMode=this.objectMode||!!me.readableObjectMode);var Ce=me.highWaterMark,be=me.readableHighWaterMark;this.highWaterMark=Ce||0===Ce?Ce:xe&&(be||0===be)?be:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Q,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=me.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,me.encoding&&(Y||(Y=E(49937).I),this.decoder=new Y(me.encoding),this.encoding=me.encoding)}function ae(me){if(H=H||E(23827),!(this instanceof ae))return new ae(me);this._readableState=new ie(me,this),this.readable=!0,me&&("function"==typeof me.read&&(this._read=me.read),"function"==typeof me.destroy&&(this._destroy=me.destroy)),S.call(this)}function ue(me,Ue,xe,Ce,be){var ne,he=me._readableState;return null===Ue?(he.reading=!1,function d(me,Ue){if(!Ue.ended){if(Ue.decoder){var xe=Ue.decoder.end();xe&&xe.length&&(Ue.buffer.push(xe),Ue.length+=Ue.objectMode?1:xe.length)}Ue.ended=!0,h(me)}}(me,he)):(be||(ne=function pe(me,Ue){var xe;return!function A(me){return P.isBuffer(me)||me instanceof R}(Ue)&&"string"!=typeof Ue&&void 0!==Ue&&!me.objectMode&&(xe=new TypeError("Invalid non-string/buffer chunk")),xe}(he,Ue)),ne?me.emit("error",ne):he.objectMode||Ue&&Ue.length>0?("string"!=typeof Ue&&!he.objectMode&&Object.getPrototypeOf(Ue)!==P.prototype&&(Ue=function O(me){return P.from(me)}(Ue)),Ce?he.endEmitted?me.emit("error",new Error("stream.unshift() after end event")):ce(me,he,Ue,!0):he.ended?me.emit("error",new Error("stream.push() after EOF")):(he.reading=!1,he.decoder&&!xe?(Ue=he.decoder.write(Ue),he.objectMode||0!==Ue.length?ce(me,he,Ue,!1):w(me,he)):ce(me,he,Ue,!1))):Ce||(he.reading=!1)),function ve(me){return!me.ended&&(me.needReadable||me.length<me.highWaterMark||0===me.length)}(he)}function ce(me,Ue,xe,Ce){Ue.flowing&&0===Ue.length&&!Ue.sync?(me.emit("data",xe),me.read(0)):(Ue.length+=Ue.objectMode?1:xe.length,Ce?Ue.buffer.unshift(xe):Ue.buffer.push(xe),Ue.needReadable&&h(me)),w(me,Ue)}Object.defineProperty(ae.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(me){this._readableState&&(this._readableState.destroyed=me)}}),ae.prototype.destroy=q.destroy,ae.prototype._undestroy=q.undestroy,ae.prototype._destroy=function(me,Ue){this.push(null),Ue(me)},ae.prototype.push=function(me,Ue){var Ce,xe=this._readableState;return xe.objectMode?Ce=!0:"string"==typeof me&&((Ue=Ue||xe.defaultEncoding)!==xe.encoding&&(me=P.from(me,Ue),Ue=""),Ce=!0),ue(this,me,Ue,!1,Ce)},ae.prototype.unshift=function(me){return ue(this,me,null,!0,!1)},ae.prototype.isPaused=function(){return!1===this._readableState.flowing},ae.prototype.setEncoding=function(me){return Y||(Y=E(49937).I),this._readableState.decoder=new Y(me),this._readableState.encoding=me,this};function s(me,Ue){return me<=0||0===Ue.length&&Ue.ended?0:Ue.objectMode?1:me!=me?Ue.flowing&&Ue.length?Ue.buffer.head.data.length:Ue.length:(me>Ue.highWaterMark&&(Ue.highWaterMark=function C(me){return me>=8388608?me=8388608:(me--,me|=me>>>1,me|=me>>>2,me|=me>>>4,me|=me>>>8,me|=me>>>16,me++),me}(me)),me<=Ue.length?me:Ue.ended?Ue.length:(Ue.needReadable=!0,0))}function h(me){var Ue=me._readableState;Ue.needReadable=!1,Ue.emittedReadable||(K("emitReadable",Ue.flowing),Ue.emittedReadable=!0,Ue.sync?_.nextTick(f,me):f(me))}function f(me){K("emit readable"),me.emit("readable"),Z(me)}function w(me,Ue){Ue.readingMore||(Ue.readingMore=!0,_.nextTick(I,me,Ue))}function I(me,Ue){for(var xe=Ue.length;!Ue.reading&&!Ue.flowing&&!Ue.ended&&Ue.length<Ue.highWaterMark&&(K("maybeReadMore read 0"),me.read(0),xe!==Ue.length);)xe=Ue.length;Ue.readingMore=!1}function x(me){K("readable nexttick read 0"),me.read(0)}function v(me,Ue){Ue.reading||(K("resume read 0"),me.read(0)),Ue.resumeScheduled=!1,Ue.awaitDrain=0,me.emit("resume"),Z(me),Ue.flowing&&!Ue.reading&&me.read(0)}function Z(me){var Ue=me._readableState;for(K("flow",Ue.flowing);Ue.flowing&&null!==me.read(););}function z(me,Ue){return 0===Ue.length?null:(Ue.objectMode?xe=Ue.buffer.shift():!me||me>=Ue.length?(xe=Ue.decoder?Ue.buffer.join(""):1===Ue.buffer.length?Ue.buffer.head.data:Ue.buffer.concat(Ue.length),Ue.buffer.clear()):xe=function ee(me,Ue,xe){var Ce;return me<Ue.head.data.length?(Ce=Ue.head.data.slice(0,me),Ue.head.data=Ue.head.data.slice(me)):Ce=me===Ue.head.data.length?Ue.shift():xe?function le(me,Ue){var xe=Ue.head,Ce=1,be=xe.data;for(me-=be.length;xe=xe.next;){var he=xe.data,ne=me>he.length?he.length:me;if(be+=ne===he.length?he:he.slice(0,me),0==(me-=ne)){ne===he.length?(++Ce,Ue.head=xe.next?xe.next:Ue.tail=null):(Ue.head=xe,xe.data=he.slice(ne));break}++Ce}return Ue.length-=Ce,be}(me,Ue):function we(me,Ue){var xe=P.allocUnsafe(me),Ce=Ue.head,be=1;for(Ce.data.copy(xe),me-=Ce.data.length;Ce=Ce.next;){var he=Ce.data,ne=me>he.length?he.length:me;if(he.copy(xe,xe.length-me,0,ne),0==(me-=ne)){ne===he.length?(++be,Ue.head=Ce.next?Ce.next:Ue.tail=null):(Ue.head=Ce,Ce.data=he.slice(ne));break}++be}return Ue.length-=be,xe}(me,Ue),Ce}(me,Ue.buffer,Ue.decoder),xe);var xe}function Me(me){var Ue=me._readableState;if(Ue.length>0)throw new Error('"endReadable()" called on non-empty stream');Ue.endEmitted||(Ue.ended=!0,_.nextTick(Ge,Ue,me))}function Ge(me,Ue){!me.endEmitted&&0===me.length&&(me.endEmitted=!0,Ue.readable=!1,Ue.emit("end"))}function ge(me,Ue){for(var xe=0,Ce=me.length;xe<Ce;xe++)if(me[xe]===Ue)return xe;return-1}ae.prototype.read=function(me){K("read",me),me=parseInt(me,10);var Ue=this._readableState,xe=me;if(0!==me&&(Ue.emittedReadable=!1),0===me&&Ue.needReadable&&(Ue.length>=Ue.highWaterMark||Ue.ended))return K("read: emitReadable",Ue.length,Ue.ended),0===Ue.length&&Ue.ended?Me(this):h(this),null;if(0===(me=s(me,Ue))&&Ue.ended)return 0===Ue.length&&Me(this),null;var be,Ce=Ue.needReadable;return K("need readable",Ce),(0===Ue.length||Ue.length-me<Ue.highWaterMark)&&K("length less than watermark",Ce=!0),Ue.ended||Ue.reading?K("reading or ended",Ce=!1):Ce&&(K("do read"),Ue.reading=!0,Ue.sync=!0,0===Ue.length&&(Ue.needReadable=!0),this._read(Ue.highWaterMark),Ue.sync=!1,Ue.reading||(me=s(xe,Ue))),null===(be=me>0?z(me,Ue):null)?(Ue.needReadable=!0,me=0):Ue.length-=me,0===Ue.length&&(Ue.ended||(Ue.needReadable=!0),xe!==me&&Ue.ended&&Me(this)),null!==be&&this.emit("data",be),be},ae.prototype._read=function(me){this.emit("error",new Error("_read() is not implemented"))},ae.prototype.pipe=function(me,Ue){var xe=this,Ce=this._readableState;switch(Ce.pipesCount){case 0:Ce.pipes=me;break;case 1:Ce.pipes=[Ce.pipes,me];break;default:Ce.pipes.push(me)}Ce.pipesCount+=1,K("pipe count=%d opts=%j",Ce.pipesCount,Ue);var he=Ue&&!1===Ue.end||me===g.stdout||me===g.stderr?pt:te;function te(){K("onend"),me.end()}Ce.endEmitted?_.nextTick(he):xe.once("end",he),me.on("unpipe",function ne(F,D){K("onunpipe"),F===xe&&D&&!1===D.hasUnpiped&&(D.hasUnpiped=!0,function Ie(){K("cleanup"),me.removeListener("close",Ne),me.removeListener("finish",ke),me.removeListener("drain",de),me.removeListener("error",xt),me.removeListener("unpipe",ne),xe.removeListener("end",te),xe.removeListener("end",pt),xe.removeListener("data",Ve),_e=!0,Ce.awaitDrain&&(!me._writableState||me._writableState.needDrain)&&de()}())});var de=function L(me){return function(){var Ue=me._readableState;K("pipeOnDrain",Ue.awaitDrain),Ue.awaitDrain&&Ue.awaitDrain--,0===Ue.awaitDrain&&k(me,"data")&&(Ue.flowing=!0,Z(me))}}(xe);me.on("drain",de);var _e=!1,He=!1;function Ve(F){K("ondata"),He=!1,!1===me.write(F)&&!He&&((1===Ce.pipesCount&&Ce.pipes===me||Ce.pipesCount>1&&-1!==ge(Ce.pipes,me))&&!_e&&(K("false write response, pause",Ce.awaitDrain),Ce.awaitDrain++,He=!0),xe.pause())}function xt(F){K("onerror",F),pt(),me.removeListener("error",xt),0===k(me,"error")&&me.emit("error",F)}function Ne(){me.removeListener("finish",ke),pt()}function ke(){K("onfinish"),me.removeListener("close",Ne),pt()}function pt(){K("unpipe"),xe.unpipe(me)}return xe.on("data",Ve),function re(me,Ue,xe){if("function"==typeof me.prependListener)return me.prependListener(Ue,xe);me._events&&me._events[Ue]?B(me._events[Ue])?me._events[Ue].unshift(xe):me._events[Ue]=[xe,me._events[Ue]]:me.on(Ue,xe)}(me,"error",xt),me.once("close",Ne),me.once("finish",ke),me.emit("pipe",xe),Ce.flowing||(K("pipe resume"),xe.resume()),me},ae.prototype.unpipe=function(me){var Ue=this._readableState,xe={hasUnpiped:!1};if(0===Ue.pipesCount)return this;if(1===Ue.pipesCount)return me&&me!==Ue.pipes||(me||(me=Ue.pipes),Ue.pipes=null,Ue.pipesCount=0,Ue.flowing=!1,me&&me.emit("unpipe",this,xe)),this;if(!me){var Ce=Ue.pipes,be=Ue.pipesCount;Ue.pipes=null,Ue.pipesCount=0,Ue.flowing=!1;for(var he=0;he<be;he++)Ce[he].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=ge(Ue.pipes,me);return-1===ne||(Ue.pipes.splice(ne,1),Ue.pipesCount-=1,1===Ue.pipesCount&&(Ue.pipes=Ue.pipes[0]),me.emit("unpipe",this,xe)),this},ae.prototype.addListener=ae.prototype.on=function(me,Ue){var xe=S.prototype.on.call(this,me,Ue);if("data"===me)!1!==this._readableState.flowing&&this.resume();else if("readable"===me){var Ce=this._readableState;!Ce.endEmitted&&!Ce.readableListening&&(Ce.readableListening=Ce.needReadable=!0,Ce.emittedReadable=!1,Ce.reading?Ce.length&&h(this):_.nextTick(x,this))}return xe},ae.prototype.resume=function(){var me=this._readableState;return me.flowing||(K("resume"),me.flowing=!0,function a(me,Ue){Ue.resumeScheduled||(Ue.resumeScheduled=!0,_.nextTick(v,me,Ue))}(this,me)),this},ae.prototype.pause=function(){return K("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(K("pause"),this._readableState.flowing=!1,this.emit("pause")),this},ae.prototype.wrap=function(me){var Ue=this,xe=this._readableState,Ce=!1;for(var be in me.on("end",function(){if(K("wrapped end"),xe.decoder&&!xe.ended){var ne=xe.decoder.end();ne&&ne.length&&Ue.push(ne)}Ue.push(null)}),me.on("data",function(ne){K("wrapped data"),xe.decoder&&(ne=xe.decoder.write(ne)),xe.objectMode&&null==ne||!(xe.objectMode||ne&&ne.length)||Ue.push(ne)||(Ce=!0,me.pause())}),me)void 0===this[be]&&"function"==typeof me[be]&&(this[be]=function(ne){return function(){return me[ne].apply(me,arguments)}}(be));for(var he=0;he<W.length;he++)me.on(W[he],this.emit.bind(this,W[he]));return this._read=function(ne){K("wrapped _read",ne),Ce&&(Ce=!1,me.resume())},this},Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),ae._fromList=z},93045:($e,j,E)=>{"use strict";$e.exports=H;var g=E(23827),_=Object.create(E(27637));function B(S,P){var R=this._transformState;R.transforming=!1;var O=R.writecb;if(!O)return this.emit("error",new Error("write callback called multiple times"));R.writechunk=null,R.writecb=null,null!=P&&this.push(P),O(S);var A=this._readableState;A.reading=!1,(A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}function H(S){if(!(this instanceof H))return new H(S);g.call(this,S),this._transformState={afterTransform:B.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&("function"==typeof S.transform&&(this._transform=S.transform),"function"==typeof S.flush&&(this._flush=S.flush)),this.on("prefinish",b)}function b(){var S=this;"function"==typeof this._flush?this._flush(function(P,R){k(S,P,R)}):k(this,null,null)}function k(S,P,R){if(P)return S.emit("error",P);if(null!=R&&S.push(R),S._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(S._transformState.transforming)throw new Error("Calling transform done when still transforming");return S.push(null)}_.inherits=E(71993),_.inherits(H,g),H.prototype.push=function(S,P){return this._transformState.needTransform=!1,g.prototype.push.call(this,S,P)},H.prototype._transform=function(S,P,R){throw new Error("_transform() is not implemented")},H.prototype._write=function(S,P,R){var O=this._transformState;if(O.writecb=R,O.writechunk=S,O.writeencoding=P,!O.transforming){var A=this._readableState;(O.needTransform||A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}},H.prototype._read=function(S){var P=this._transformState;null!==P.writechunk&&P.writecb&&!P.transforming?(P.transforming=!0,this._transform(P.writechunk,P.writeencoding,P.afterTransform)):P.needTransform=!0},H.prototype._destroy=function(S,P){var R=this;g.prototype._destroy.call(this,S,function(O){P(O),R.emit("close")})}},14817:($e,j,E)=>{"use strict";var g=E(40573),_=E(9656);function H(a){var v=this;this.next=null,this.entry=null,this.finish=function(){!function x(a,v,Z){var z=a.entry;for(a.entry=null;z;){var ee=z.callback;v.pendingcb--,ee(Z),z=z.next}v.corkedRequestsFree.next=a}(v,a)}}$e.exports=W;var k,b=!g.browser&&["v0.10","v0.9."].indexOf(g.version.slice(0,5))>-1?setImmediate:_.nextTick;W.WritableState=q;var S=Object.create(E(27637));S.inherits=E(71993);var Y,P={deprecate:E(3398)},R=E(62078),O=E(29783).Buffer,A=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},K=E(43357);function Q(){}function q(a,v){k=k||E(23827);var Z=v instanceof k;this.objectMode=!!(a=a||{}).objectMode,Z&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var z=a.highWaterMark,ee=a.writableHighWaterMark;this.highWaterMark=z||0===z?z:Z&&(ee||0===ee)?ee:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===a.decodeStrings),this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Me){!function De(a,v){var Z=a._writableState,z=Z.sync,ee=Z.writecb;if(function ve(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}(Z),v)!function pe(a,v,Z,z,ee){--v.pendingcb,Z?(_.nextTick(ee,z),_.nextTick(I,a,v),a._writableState.errorEmitted=!0,a.emit("error",z)):(ee(z),a._writableState.errorEmitted=!0,a.emit("error",z),I(a,v))}(a,Z,z,v,ee);else{var le=h(Z);!le&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&d(a,Z),z?b(C,a,Z,le,ee):C(a,Z,le,ee)}}(v,Me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new H(this)}function W(a){if(k=k||E(23827),!(Y.call(W,this)||this instanceof k))return new W(a);this._writableState=new q(a,this),this.writable=!0,a&&("function"==typeof a.write&&(this._write=a.write),"function"==typeof a.writev&&(this._writev=a.writev),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.final&&(this._final=a.final)),R.call(this)}function ce(a,v,Z,z,ee,le,we){v.writelen=z,v.writecb=we,v.writing=!0,v.sync=!0,Z?a._writev(ee,v.onwrite):a._write(ee,le,v.onwrite),v.sync=!1}function C(a,v,Z,z){Z||function s(a,v){0===v.length&&v.needDrain&&(v.needDrain=!1,a.emit("drain"))}(a,v),v.pendingcb--,z(),I(a,v)}function d(a,v){v.bufferProcessing=!0;var Z=v.bufferedRequest;if(a._writev&&Z&&Z.next){var ee=new Array(v.bufferedRequestCount),le=v.corkedRequestsFree;le.entry=Z;for(var we=0,Me=!0;Z;)ee[we]=Z,Z.isBuf||(Me=!1),Z=Z.next,we+=1;ee.allBuffers=Me,ce(a,v,!0,v.length,ee,"",le.finish),v.pendingcb++,v.lastBufferedRequest=null,le.next?(v.corkedRequestsFree=le.next,le.next=null):v.corkedRequestsFree=new H(v),v.bufferedRequestCount=0}else{for(;Z;){var Ge=Z.chunk;if(ce(a,v,!1,v.objectMode?1:Ge.length,Ge,Z.encoding,Z.callback),Z=Z.next,v.bufferedRequestCount--,v.writing)break}null===Z&&(v.lastBufferedRequest=null)}v.bufferedRequest=Z,v.bufferProcessing=!1}function h(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function f(a,v){a._final(function(Z){v.pendingcb--,Z&&a.emit("error",Z),v.prefinished=!0,a.emit("prefinish"),I(a,v)})}function I(a,v){var Z=h(v);return Z&&(function w(a,v){!v.prefinished&&!v.finalCalled&&("function"==typeof a._final?(v.pendingcb++,v.finalCalled=!0,_.nextTick(f,a,v)):(v.prefinished=!0,a.emit("prefinish")))}(a,v),0===v.pendingcb&&(v.finished=!0,a.emit("finish"))),Z}S.inherits(W,R),q.prototype.getBuffer=function(){for(var v=this.bufferedRequest,Z=[];v;)Z.push(v),v=v.next;return Z},function(){try{Object.defineProperty(q.prototype,"buffer",{get:P.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(a){return!!Y.call(this,a)||this===W&&a&&a._writableState instanceof q}})):Y=function(a){return a instanceof this},W.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},W.prototype.write=function(a,v,Z){var z=this._writableState,ee=!1,le=!z.objectMode&&function U(a){return O.isBuffer(a)||a instanceof A}(a);return le&&!O.isBuffer(a)&&(a=function V(a){return O.from(a)}(a)),"function"==typeof v&&(Z=v,v=null),le?v="buffer":v||(v=z.defaultEncoding),"function"!=typeof Z&&(Z=Q),z.ended?function re(a,v){var Z=new Error("write after end");a.emit("error",Z),_.nextTick(v,Z)}(this,Z):(le||function ie(a,v,Z,z){var ee=!0,le=!1;return null===Z?le=new TypeError("May not write null values to stream"):"string"!=typeof Z&&void 0!==Z&&!v.objectMode&&(le=new TypeError("Invalid non-string/buffer chunk")),le&&(a.emit("error",le),_.nextTick(z,le),ee=!1),ee}(this,z,a,Z))&&(z.pendingcb++,ee=function ue(a,v,Z,z,ee,le){if(!Z){var we=function ae(a,v,Z){return!a.objectMode&&!1!==a.decodeStrings&&"string"==typeof v&&(v=O.from(v,Z)),v}(v,z,ee);z!==we&&(Z=!0,ee="buffer",z=we)}var Me=v.objectMode?1:z.length;v.length+=Me;var Ge=v.length<v.highWaterMark;if(Ge||(v.needDrain=!0),v.writing||v.corked){var ge=v.lastBufferedRequest;v.lastBufferedRequest={chunk:z,encoding:ee,isBuf:Z,callback:le,next:null},ge?ge.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else ce(a,v,!1,Me,z,ee,le);return Ge}(this,z,le,a,v,Z)),ee},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,!a.writing&&!a.corked&&!a.bufferProcessing&&a.bufferedRequest&&d(this,a))},W.prototype.setDefaultEncoding=function(v){if("string"==typeof v&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(a,v,Z){Z(new Error("_write() is not implemented"))},W.prototype._writev=null,W.prototype.end=function(a,v,Z){var z=this._writableState;"function"==typeof a?(Z=a,a=null,v=null):"function"==typeof v&&(Z=v,v=null),null!=a&&this.write(a,v),z.corked&&(z.corked=1,this.uncork()),z.ending||function L(a,v,Z){v.ending=!0,I(a,v),Z&&(v.finished?_.nextTick(Z):a.once("finish",Z)),v.ended=!0,a.writable=!1}(this,z,Z)},Object.defineProperty(W.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),W.prototype.destroy=K.destroy,W.prototype._undestroy=K.undestroy,W.prototype._destroy=function(a,v){this.end(),v(a)}},10793:($e,j,E)=>{"use strict";var _=E(29783).Buffer,B=E(21638);function H(b,k,S){b.copy(k,S)}$e.exports=function(){function b(){(function g(b,k){if(!(b instanceof k))throw new TypeError("Cannot call a class as a function")})(this,b),this.head=null,this.tail=null,this.length=0}return b.prototype.push=function(S){var P={data:S,next:null};this.length>0?this.tail.next=P:this.head=P,this.tail=P,++this.length},b.prototype.unshift=function(S){var P={data:S,next:this.head};0===this.length&&(this.tail=P),this.head=P,++this.length},b.prototype.shift=function(){if(0!==this.length){var S=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,S}},b.prototype.clear=function(){this.head=this.tail=null,this.length=0},b.prototype.join=function(S){if(0===this.length)return"";for(var P=this.head,R=""+P.data;P=P.next;)R+=S+P.data;return R},b.prototype.concat=function(S){if(0===this.length)return _.alloc(0);for(var P=_.allocUnsafe(S>>>0),R=this.head,O=0;R;)H(R.data,P,O),O+=R.data.length,R=R.next;return P},b}(),B&&B.inspect&&B.inspect.custom&&($e.exports.prototype[B.inspect.custom]=function(){var b=B.inspect({length:this.length});return this.constructor.name+" "+b})},43357:($e,j,E)=>{"use strict";var g=E(9656);function H(b,k){b.emit("error",k)}$e.exports={destroy:function _(b,k){var S=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(k?k(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(H,this,b)):g.nextTick(H,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(O){!k&&O?S._writableState?S._writableState.errorEmitted||(S._writableState.errorEmitted=!0,g.nextTick(H,S,O)):g.nextTick(H,S,O):k&&k(O)}),this)},undestroy:function B(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:($e,j,E)=>{$e.exports=E(44356).EventEmitter},29783:($e,j,E)=>{var g=E(83838),_=g.Buffer;function B(b,k){for(var S in b)k[S]=b[S]}function H(b,k,S){return _(b,k,S)}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?$e.exports=g:(B(g,j),j.Buffer=H),B(_,H),H.from=function(b,k,S){if("number"==typeof b)throw new TypeError("Argument must not be a number");return _(b,k,S)},H.alloc=function(b,k,S){if("number"!=typeof b)throw new TypeError("Argument must be a number");var P=_(b);return void 0!==k?"string"==typeof S?P.fill(k,S):P.fill(k):P.fill(0),P},H.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return _(b)},H.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return g.SlowBuffer(b)}},64670:($e,j,E)=>{(j=$e.exports=E(81217)).Stream=j,j.Readable=j,j.Writable=E(14817),j.Duplex=E(23827),j.Transform=E(93045),j.PassThrough=E(75519)},49937:($e,j,E)=>{"use strict";var g=E(37656).Buffer,_=g.isEncoding||function(W){switch((W=""+W)&&W.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function b(W){var re;switch(this.encoding=function H(W){var re=function B(W){if(!W)return"utf8";for(var re;;)switch(W){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return W;default:if(re)return;W=(""+W).toLowerCase(),re=!0}}(W);if("string"!=typeof re&&(g.isEncoding===_||!_(W)))throw new Error("Unknown encoding: "+W);return re||W}(W),this.encoding){case"utf16le":this.text=V,this.end=U,re=4;break;case"utf8":this.fillLast=R,re=4;break;case"base64":this.text=K,this.end=Q,re=3;break;default:return this.write=q,void(this.end=Y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(re)}function k(W){return W<=127?0:W>>5==6?2:W>>4==14?3:W>>3==30?4:W>>6==2?-1:-2}function R(W){var re=this.lastTotal-this.lastNeed,ie=function P(W,re,ie){if(128!=(192&re[0]))return W.lastNeed=0,"\ufffd";if(W.lastNeed>1&&re.length>1){if(128!=(192&re[1]))return W.lastNeed=1,"\ufffd";if(W.lastNeed>2&&re.length>2&&128!=(192&re[2]))return W.lastNeed=2,"\ufffd"}}(this,W);return void 0!==ie?ie:this.lastNeed<=W.length?(W.copy(this.lastChar,re,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(W.copy(this.lastChar,re,0,W.length),void(this.lastNeed-=W.length))}function V(W,re){if((W.length-re)%2==0){var ie=W.toString("utf16le",re);if(ie){var ae=ie.charCodeAt(ie.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=W[W.length-2],this.lastChar[1]=W[W.length-1],ie.slice(0,-1)}return ie}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=W[W.length-1],W.toString("utf16le",re,W.length-1)}function U(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):re}function K(W,re){var ie=(W.length-re)%3;return 0===ie?W.toString("base64",re):(this.lastNeed=3-ie,this.lastTotal=3,1===ie?this.lastChar[0]=W[W.length-1]:(this.lastChar[0]=W[W.length-2],this.lastChar[1]=W[W.length-1]),W.toString("base64",re,W.length-ie))}function Q(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+this.lastChar.toString("base64",0,3-this.lastNeed):re}function q(W){return W.toString(this.encoding)}function Y(W){return W&&W.length?this.write(W):""}j.I=b,b.prototype.write=function(W){if(0===W.length)return"";var re,ie;if(this.lastNeed){if(void 0===(re=this.fillLast(W)))return"";ie=this.lastNeed,this.lastNeed=0}else ie=0;return ie<W.length?re?re+this.text(W,ie):this.text(W,ie):re||""},b.prototype.end=function A(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+"\ufffd":re},b.prototype.text=function O(W,re){var ie=function S(W,re,ie){var ae=re.length-1;if(ae<ie)return 0;var ue=k(re[ae]);return ue>=0?(ue>0&&(W.lastNeed=ue-1),ue):--ae<ie||-2===ue?0:(ue=k(re[ae]))>=0?(ue>0&&(W.lastNeed=ue-2),ue):--ae<ie||-2===ue?0:(ue=k(re[ae]))>=0?(ue>0&&(2===ue?ue=0:W.lastNeed=ue-3),ue):0}(this,W,re);if(!this.lastNeed)return W.toString("utf8",re);this.lastTotal=ie;var ae=W.length-(ie-this.lastNeed);return W.copy(this.lastChar,0,ae),W.toString("utf8",re,ae)},b.prototype.fillLast=function(W){if(this.lastNeed<=W.length)return W.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);W.copy(this.lastChar,this.lastTotal-this.lastNeed,0,W.length),this.lastNeed-=W.length}},37656:($e,j,E)=>{var g=E(83838),_=g.Buffer;function B(b,k){for(var S in b)k[S]=b[S]}function H(b,k,S){return _(b,k,S)}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?$e.exports=g:(B(g,j),j.Buffer=H),B(_,H),H.from=function(b,k,S){if("number"==typeof b)throw new TypeError("Argument must not be a number");return _(b,k,S)},H.alloc=function(b,k,S){if("number"!=typeof b)throw new TypeError("Argument must be a number");var P=_(b);return void 0!==k?"string"==typeof S?P.fill(k,S):P.fill(k):P.fill(0),P},H.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return _(b)},H.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return g.SlowBuffer(b)}},13546:$e=>{$e.exports=function(E,g){for(var _=Math.min(E.length,g.length),B=new Buffer(_),H=0;H<_;++H)B[H]=E[H]^g[H];return B}},83838:($e,j,E)=>{"use strict";var g=E(13981),_=E(22020),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function W(ne){return+ne!=ne&&(ne=0),S.alloc(+ne)},j.INSPECT_MAX_BYTES=50;var H=2147483647;function k(ne){if(ne>H)throw new RangeError('The value "'+ne+'" is invalid for option "size"');var te=new Uint8Array(ne);return Object.setPrototypeOf(te,S.prototype),te}function S(ne,te,de){if("number"==typeof ne){if("string"==typeof te)throw new TypeError('The "string" argument must be of type string. Received type number');return A(ne)}return P(ne,te,de)}function P(ne,te,de){if("string"==typeof ne)return function V(ne,te){if(("string"!=typeof te||""===te)&&(te="utf8"),!S.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var de=0|re(ne,te),_e=k(de),Ie=_e.write(ne,te);return Ie!==de&&(_e=_e.slice(0,Ie)),_e}(ne,te);if(ArrayBuffer.isView(ne))return function K(ne){if(Ce(ne,Uint8Array)){var te=new Uint8Array(ne);return Q(te.buffer,te.byteOffset,te.byteLength)}return U(ne)}(ne);if(null==ne)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(Ce(ne,ArrayBuffer)||ne&&Ce(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(ne,SharedArrayBuffer)||ne&&Ce(ne.buffer,SharedArrayBuffer)))return Q(ne,te,de);if("number"==typeof ne)throw new TypeError('The "value" argument must not be of type number. Received type number');var _e=ne.valueOf&&ne.valueOf();if(null!=_e&&_e!==ne)return S.from(_e,te,de);var Ie=function q(ne){if(S.isBuffer(ne)){var te=0|Y(ne.length),de=k(te);return 0===de.length||ne.copy(de,0,0,te),de}return void 0!==ne.length?"number"!=typeof ne.length||be(ne.length)?k(0):U(ne):"Buffer"===ne.type&&Array.isArray(ne.data)?U(ne.data):void 0}(ne);if(Ie)return Ie;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ne[Symbol.toPrimitive])return S.from(ne[Symbol.toPrimitive]("string"),te,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}function R(ne){if("number"!=typeof ne)throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function A(ne){return R(ne),k(ne<0?0:0|Y(ne))}function U(ne){for(var te=ne.length<0?0:0|Y(ne.length),de=k(te),_e=0;_e<te;_e+=1)de[_e]=255&ne[_e];return de}function Q(ne,te,de){if(te<0||ne.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<te+(de||0))throw new RangeError('"length" is outside of buffer bounds');var _e;return _e=void 0===te&&void 0===de?new Uint8Array(ne):void 0===de?new Uint8Array(ne,te):new Uint8Array(ne,te,de),Object.setPrototypeOf(_e,S.prototype),_e}function Y(ne){if(ne>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|ne}function re(ne,te){if(S.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||Ce(ne,ArrayBuffer))return ne.byteLength;if("string"!=typeof ne)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);var de=ne.length,_e=arguments.length>2&&!0===arguments[2];if(!_e&&0===de)return 0;for(var Ie=!1;;)switch(te){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return Ge(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return Ue(ne).length;default:if(Ie)return _e?-1:Ge(ne).length;te=(""+te).toLowerCase(),Ie=!0}}function ie(ne,te,de){var _e=!1;if((void 0===te||te<0)&&(te=0),te>this.length||((void 0===de||de>this.length)&&(de=this.length),de<=0)||(de>>>=0)<=(te>>>=0))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return x(this,te,de);case"utf8":case"utf-8":return h(this,te,de);case"ascii":return I(this,te,de);case"latin1":case"binary":return L(this,te,de);case"base64":return d(this,te,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,te,de);default:if(_e)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),_e=!0}}function ae(ne,te,de){var _e=ne[te];ne[te]=ne[de],ne[de]=_e}function ue(ne,te,de,_e,Ie){if(0===ne.length)return-1;if("string"==typeof de?(_e=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),be(de=+de)&&(de=Ie?0:ne.length-1),de<0&&(de=ne.length+de),de>=ne.length){if(Ie)return-1;de=ne.length-1}else if(de<0){if(!Ie)return-1;de=0}if("string"==typeof te&&(te=S.from(te,_e)),S.isBuffer(te))return 0===te.length?-1:ce(ne,te,de,_e,Ie);if("number"==typeof te)return te&=255,"function"==typeof Uint8Array.prototype.indexOf?Ie?Uint8Array.prototype.indexOf.call(ne,te,de):Uint8Array.prototype.lastIndexOf.call(ne,te,de):ce(ne,[te],de,_e,Ie);throw new TypeError("val must be string, number or Buffer")}function ce(ne,te,de,_e,Ie){var ke,He=1,Ve=ne.length,xt=te.length;if(void 0!==_e&&("ucs2"===(_e=String(_e).toLowerCase())||"ucs-2"===_e||"utf16le"===_e||"utf-16le"===_e)){if(ne.length<2||te.length<2)return-1;He=2,Ve/=2,xt/=2,de/=2}function Ne(M,G){return 1===He?M[G]:M.readUInt16BE(G*He)}if(Ie){var pt=-1;for(ke=de;ke<Ve;ke++)if(Ne(ne,ke)===Ne(te,-1===pt?0:ke-pt)){if(-1===pt&&(pt=ke),ke-pt+1===xt)return pt*He}else-1!==pt&&(ke-=ke-pt),pt=-1}else for(de+xt>Ve&&(de=Ve-xt),ke=de;ke>=0;ke--){for(var F=!0,D=0;D<xt;D++)if(Ne(ne,ke+D)!==Ne(te,D)){F=!1;break}if(F)return ke}return-1}function pe(ne,te,de,_e){de=Number(de)||0;var Ie=ne.length-de;_e?(_e=Number(_e))>Ie&&(_e=Ie):_e=Ie;var He=te.length;_e>He/2&&(_e=He/2);for(var Ve=0;Ve<_e;++Ve){var xt=parseInt(te.substr(2*Ve,2),16);if(be(xt))return Ve;ne[de+Ve]=xt}return Ve}function ve(ne,te,de,_e){return xe(Ge(te,ne.length-de),ne,de,_e)}function De(ne,te,de,_e){return xe(function ge(ne){for(var te=[],de=0;de<ne.length;++de)te.push(255&ne.charCodeAt(de));return te}(te),ne,de,_e)}function C(ne,te,de,_e){return xe(Ue(te),ne,de,_e)}function s(ne,te,de,_e){return xe(function me(ne,te){for(var de,_e,He=[],Ve=0;Ve<ne.length&&!((te-=2)<0);++Ve)_e=(de=ne.charCodeAt(Ve))>>8,He.push(de%256),He.push(_e);return He}(te,ne.length-de),ne,de,_e)}function d(ne,te,de){return g.fromByteArray(0===te&&de===ne.length?ne:ne.slice(te,de))}function h(ne,te,de){de=Math.min(ne.length,de);for(var _e=[],Ie=te;Ie<de;){var Ne,ke,pt,F,He=ne[Ie],Ve=null,xt=He>239?4:He>223?3:He>191?2:1;if(Ie+xt<=de)switch(xt){case 1:He<128&&(Ve=He);break;case 2:128==(192&(Ne=ne[Ie+1]))&&(F=(31&He)<<6|63&Ne)>127&&(Ve=F);break;case 3:ke=ne[Ie+2],128==(192&(Ne=ne[Ie+1]))&&128==(192&ke)&&(F=(15&He)<<12|(63&Ne)<<6|63&ke)>2047&&(F<55296||F>57343)&&(Ve=F);break;case 4:ke=ne[Ie+2],pt=ne[Ie+3],128==(192&(Ne=ne[Ie+1]))&&128==(192&ke)&&128==(192&pt)&&(F=(15&He)<<18|(63&Ne)<<12|(63&ke)<<6|63&pt)>65535&&F<1114112&&(Ve=F)}null===Ve?(Ve=65533,xt=1):Ve>65535&&(_e.push((Ve-=65536)>>>10&1023|55296),Ve=56320|1023&Ve),_e.push(Ve),Ie+=xt}return function w(ne){var te=ne.length;if(te<=f)return String.fromCharCode.apply(String,ne);for(var de="",_e=0;_e<te;)de+=String.fromCharCode.apply(String,ne.slice(_e,_e+=f));return de}(_e)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function b(){try{var ne=new Uint8Array(1),te={foo:function(){return 42}};return Object.setPrototypeOf(te,Uint8Array.prototype),Object.setPrototypeOf(ne,te),42===ne.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(ne,te,de){return P(ne,te,de)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(ne,te,de){return function O(ne,te,de){return R(ne),ne<=0?k(ne):void 0!==te?"string"==typeof de?k(ne).fill(te,de):k(ne).fill(te):k(ne)}(ne,te,de)},S.allocUnsafe=function(ne){return A(ne)},S.allocUnsafeSlow=function(ne){return A(ne)},S.isBuffer=function(te){return null!=te&&!0===te._isBuffer&&te!==S.prototype},S.compare=function(te,de){if(Ce(te,Uint8Array)&&(te=S.from(te,te.offset,te.byteLength)),Ce(de,Uint8Array)&&(de=S.from(de,de.offset,de.byteLength)),!S.isBuffer(te)||!S.isBuffer(de))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(te===de)return 0;for(var _e=te.length,Ie=de.length,He=0,Ve=Math.min(_e,Ie);He<Ve;++He)if(te[He]!==de[He]){_e=te[He],Ie=de[He];break}return _e<Ie?-1:Ie<_e?1:0},S.isEncoding=function(te){switch(String(te).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(te,de){if(!Array.isArray(te))throw new TypeError('"list" argument must be an Array of Buffers');if(0===te.length)return S.alloc(0);var _e;if(void 0===de)for(de=0,_e=0;_e<te.length;++_e)de+=te[_e].length;var Ie=S.allocUnsafe(de),He=0;for(_e=0;_e<te.length;++_e){var Ve=te[_e];if(Ce(Ve,Uint8Array))He+Ve.length>Ie.length?S.from(Ve).copy(Ie,He):Uint8Array.prototype.set.call(Ie,Ve,He);else{if(!S.isBuffer(Ve))throw new TypeError('"list" argument must be an Array of Buffers');Ve.copy(Ie,He)}He+=Ve.length}return Ie},S.byteLength=re,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var te=this.length;if(te%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var de=0;de<te;de+=2)ae(this,de,de+1);return this},S.prototype.swap32=function(){var te=this.length;if(te%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var de=0;de<te;de+=4)ae(this,de,de+3),ae(this,de+1,de+2);return this},S.prototype.swap64=function(){var te=this.length;if(te%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var de=0;de<te;de+=8)ae(this,de,de+7),ae(this,de+1,de+6),ae(this,de+2,de+5),ae(this,de+3,de+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){var te=this.length;return 0===te?"":0===arguments.length?h(this,0,te):ie.apply(this,arguments)},S.prototype.equals=function(te){if(!S.isBuffer(te))throw new TypeError("Argument must be a Buffer");return this===te||0===S.compare(this,te)},S.prototype.inspect=function(){var te="",de=j.INSPECT_MAX_BYTES;return te=this.toString("hex",0,de).replace(/(.{2})/g,"$1 ").trim(),this.length>de&&(te+=" ... "),"<Buffer "+te+">"},B&&(S.prototype[B]=S.prototype.inspect),S.prototype.compare=function(te,de,_e,Ie,He){if(Ce(te,Uint8Array)&&(te=S.from(te,te.offset,te.byteLength)),!S.isBuffer(te))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof te);if(void 0===de&&(de=0),void 0===_e&&(_e=te?te.length:0),void 0===Ie&&(Ie=0),void 0===He&&(He=this.length),de<0||_e>te.length||Ie<0||He>this.length)throw new RangeError("out of range index");if(Ie>=He&&de>=_e)return 0;if(Ie>=He)return-1;if(de>=_e)return 1;if(this===te)return 0;for(var Ve=(He>>>=0)-(Ie>>>=0),xt=(_e>>>=0)-(de>>>=0),Ne=Math.min(Ve,xt),ke=this.slice(Ie,He),pt=te.slice(de,_e),F=0;F<Ne;++F)if(ke[F]!==pt[F]){Ve=ke[F],xt=pt[F];break}return Ve<xt?-1:xt<Ve?1:0},S.prototype.includes=function(te,de,_e){return-1!==this.indexOf(te,de,_e)},S.prototype.indexOf=function(te,de,_e){return ue(this,te,de,_e,!0)},S.prototype.lastIndexOf=function(te,de,_e){return ue(this,te,de,_e,!1)},S.prototype.write=function(te,de,_e,Ie){if(void 0===de)Ie="utf8",_e=this.length,de=0;else if(void 0===_e&&"string"==typeof de)Ie=de,_e=this.length,de=0;else{if(!isFinite(de))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");de>>>=0,isFinite(_e)?(_e>>>=0,void 0===Ie&&(Ie="utf8")):(Ie=_e,_e=void 0)}var He=this.length-de;if((void 0===_e||_e>He)&&(_e=He),te.length>0&&(_e<0||de<0)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");for(var Ve=!1;;)switch(Ie){case"hex":return pe(this,te,de,_e);case"utf8":case"utf-8":return ve(this,te,de,_e);case"ascii":case"latin1":case"binary":return De(this,te,de,_e);case"base64":return C(this,te,de,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,te,de,_e);default:if(Ve)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),Ve=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var f=4096;function I(ne,te,de){var _e="";de=Math.min(ne.length,de);for(var Ie=te;Ie<de;++Ie)_e+=String.fromCharCode(127&ne[Ie]);return _e}function L(ne,te,de){var _e="";de=Math.min(ne.length,de);for(var Ie=te;Ie<de;++Ie)_e+=String.fromCharCode(ne[Ie]);return _e}function x(ne,te,de){var _e=ne.length;(!te||te<0)&&(te=0),(!de||de<0||de>_e)&&(de=_e);for(var Ie="",He=te;He<de;++He)Ie+=he[ne[He]];return Ie}function a(ne,te,de){for(var _e=ne.slice(te,de),Ie="",He=0;He<_e.length-1;He+=2)Ie+=String.fromCharCode(_e[He]+256*_e[He+1]);return Ie}function v(ne,te,de){if(ne%1!=0||ne<0)throw new RangeError("offset is not uint");if(ne+te>de)throw new RangeError("Trying to access beyond buffer length")}function Z(ne,te,de,_e,Ie,He){if(!S.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>Ie||te<He)throw new RangeError('"value" argument is out of bounds');if(de+_e>ne.length)throw new RangeError("Index out of range")}function z(ne,te,de,_e,Ie,He){if(de+_e>ne.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function ee(ne,te,de,_e,Ie){return te=+te,de>>>=0,Ie||z(ne,0,de,4),_.write(ne,te,de,_e,23,4),de+4}function le(ne,te,de,_e,Ie){return te=+te,de>>>=0,Ie||z(ne,0,de,8),_.write(ne,te,de,_e,52,8),de+8}S.prototype.slice=function(te,de){var _e=this.length;(te=~~te)<0?(te+=_e)<0&&(te=0):te>_e&&(te=_e),(de=void 0===de?_e:~~de)<0?(de+=_e)<0&&(de=0):de>_e&&(de=_e),de<te&&(de=te);var Ie=this.subarray(te,de);return Object.setPrototypeOf(Ie,S.prototype),Ie},S.prototype.readUintLE=S.prototype.readUIntLE=function(te,de,_e){te>>>=0,de>>>=0,_e||v(te,de,this.length);for(var Ie=this[te],He=1,Ve=0;++Ve<de&&(He*=256);)Ie+=this[te+Ve]*He;return Ie},S.prototype.readUintBE=S.prototype.readUIntBE=function(te,de,_e){te>>>=0,de>>>=0,_e||v(te,de,this.length);for(var Ie=this[te+--de],He=1;de>0&&(He*=256);)Ie+=this[te+--de]*He;return Ie},S.prototype.readUint8=S.prototype.readUInt8=function(te,de){return te>>>=0,de||v(te,1,this.length),this[te]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(te,de){return te>>>=0,de||v(te,2,this.length),this[te]|this[te+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(te,de){return te>>>=0,de||v(te,2,this.length),this[te]<<8|this[te+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(te,de){return te>>>=0,de||v(te,4,this.length),(this[te]|this[te+1]<<8|this[te+2]<<16)+16777216*this[te+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(te,de){return te>>>=0,de||v(te,4,this.length),16777216*this[te]+(this[te+1]<<16|this[te+2]<<8|this[te+3])},S.prototype.readIntLE=function(te,de,_e){te>>>=0,de>>>=0,_e||v(te,de,this.length);for(var Ie=this[te],He=1,Ve=0;++Ve<de&&(He*=256);)Ie+=this[te+Ve]*He;return Ie>=(He*=128)&&(Ie-=Math.pow(2,8*de)),Ie},S.prototype.readIntBE=function(te,de,_e){te>>>=0,de>>>=0,_e||v(te,de,this.length);for(var Ie=de,He=1,Ve=this[te+--Ie];Ie>0&&(He*=256);)Ve+=this[te+--Ie]*He;return Ve>=(He*=128)&&(Ve-=Math.pow(2,8*de)),Ve},S.prototype.readInt8=function(te,de){return te>>>=0,de||v(te,1,this.length),128&this[te]?-1*(255-this[te]+1):this[te]},S.prototype.readInt16LE=function(te,de){te>>>=0,de||v(te,2,this.length);var _e=this[te]|this[te+1]<<8;return 32768&_e?4294901760|_e:_e},S.prototype.readInt16BE=function(te,de){te>>>=0,de||v(te,2,this.length);var _e=this[te+1]|this[te]<<8;return 32768&_e?4294901760|_e:_e},S.prototype.readInt32LE=function(te,de){return te>>>=0,de||v(te,4,this.length),this[te]|this[te+1]<<8|this[te+2]<<16|this[te+3]<<24},S.prototype.readInt32BE=function(te,de){return te>>>=0,de||v(te,4,this.length),this[te]<<24|this[te+1]<<16|this[te+2]<<8|this[te+3]},S.prototype.readFloatLE=function(te,de){return te>>>=0,de||v(te,4,this.length),_.read(this,te,!0,23,4)},S.prototype.readFloatBE=function(te,de){return te>>>=0,de||v(te,4,this.length),_.read(this,te,!1,23,4)},S.prototype.readDoubleLE=function(te,de){return te>>>=0,de||v(te,8,this.length),_.read(this,te,!0,52,8)},S.prototype.readDoubleBE=function(te,de){return te>>>=0,de||v(te,8,this.length),_.read(this,te,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(te,de,_e,Ie){te=+te,de>>>=0,_e>>>=0,Ie||Z(this,te,de,_e,Math.pow(2,8*_e)-1,0);var Ve=1,xt=0;for(this[de]=255&te;++xt<_e&&(Ve*=256);)this[de+xt]=te/Ve&255;return de+_e},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(te,de,_e,Ie){te=+te,de>>>=0,_e>>>=0,Ie||Z(this,te,de,_e,Math.pow(2,8*_e)-1,0);var Ve=_e-1,xt=1;for(this[de+Ve]=255&te;--Ve>=0&&(xt*=256);)this[de+Ve]=te/xt&255;return de+_e},S.prototype.writeUint8=S.prototype.writeUInt8=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,1,255,0),this[de]=255&te,de+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,2,65535,0),this[de]=255&te,this[de+1]=te>>>8,de+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,2,65535,0),this[de]=te>>>8,this[de+1]=255&te,de+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,4,4294967295,0),this[de+3]=te>>>24,this[de+2]=te>>>16,this[de+1]=te>>>8,this[de]=255&te,de+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,4,4294967295,0),this[de]=te>>>24,this[de+1]=te>>>16,this[de+2]=te>>>8,this[de+3]=255&te,de+4},S.prototype.writeIntLE=function(te,de,_e,Ie){if(te=+te,de>>>=0,!Ie){var He=Math.pow(2,8*_e-1);Z(this,te,de,_e,He-1,-He)}var Ve=0,xt=1,Ne=0;for(this[de]=255&te;++Ve<_e&&(xt*=256);)te<0&&0===Ne&&0!==this[de+Ve-1]&&(Ne=1),this[de+Ve]=(te/xt|0)-Ne&255;return de+_e},S.prototype.writeIntBE=function(te,de,_e,Ie){if(te=+te,de>>>=0,!Ie){var He=Math.pow(2,8*_e-1);Z(this,te,de,_e,He-1,-He)}var Ve=_e-1,xt=1,Ne=0;for(this[de+Ve]=255&te;--Ve>=0&&(xt*=256);)te<0&&0===Ne&&0!==this[de+Ve+1]&&(Ne=1),this[de+Ve]=(te/xt|0)-Ne&255;return de+_e},S.prototype.writeInt8=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,1,127,-128),te<0&&(te=255+te+1),this[de]=255&te,de+1},S.prototype.writeInt16LE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,2,32767,-32768),this[de]=255&te,this[de+1]=te>>>8,de+2},S.prototype.writeInt16BE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,2,32767,-32768),this[de]=te>>>8,this[de+1]=255&te,de+2},S.prototype.writeInt32LE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,4,2147483647,-2147483648),this[de]=255&te,this[de+1]=te>>>8,this[de+2]=te>>>16,this[de+3]=te>>>24,de+4},S.prototype.writeInt32BE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,4,2147483647,-2147483648),te<0&&(te=4294967295+te+1),this[de]=te>>>24,this[de+1]=te>>>16,this[de+2]=te>>>8,this[de+3]=255&te,de+4},S.prototype.writeFloatLE=function(te,de,_e){return ee(this,te,de,!0,_e)},S.prototype.writeFloatBE=function(te,de,_e){return ee(this,te,de,!1,_e)},S.prototype.writeDoubleLE=function(te,de,_e){return le(this,te,de,!0,_e)},S.prototype.writeDoubleBE=function(te,de,_e){return le(this,te,de,!1,_e)},S.prototype.copy=function(te,de,_e,Ie){if(!S.isBuffer(te))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),!Ie&&0!==Ie&&(Ie=this.length),de>=te.length&&(de=te.length),de||(de=0),Ie>0&&Ie<_e&&(Ie=_e),Ie===_e||0===te.length||0===this.length)return 0;if(de<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),te.length-de<Ie-_e&&(Ie=te.length-de+_e);var He=Ie-_e;return this===te&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(de,_e,Ie):Uint8Array.prototype.set.call(te,this.subarray(_e,Ie),de),He},S.prototype.fill=function(te,de,_e,Ie){if("string"==typeof te){if("string"==typeof de?(Ie=de,de=0,_e=this.length):"string"==typeof _e&&(Ie=_e,_e=this.length),void 0!==Ie&&"string"!=typeof Ie)throw new TypeError("encoding must be a string");if("string"==typeof Ie&&!S.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(1===te.length){var He=te.charCodeAt(0);("utf8"===Ie&&He<128||"latin1"===Ie)&&(te=He)}}else"number"==typeof te?te&=255:"boolean"==typeof te&&(te=Number(te));if(de<0||this.length<de||this.length<_e)throw new RangeError("Out of range index");if(_e<=de)return this;var Ve;if(de>>>=0,_e=void 0===_e?this.length:_e>>>0,te||(te=0),"number"==typeof te)for(Ve=de;Ve<_e;++Ve)this[Ve]=te;else{var xt=S.isBuffer(te)?te:S.from(te,Ie),Ne=xt.length;if(0===Ne)throw new TypeError('The value "'+te+'" is invalid for argument "value"');for(Ve=0;Ve<_e-de;++Ve)this[Ve+de]=xt[Ve%Ne]}return this};var we=/[^+/0-9A-Za-z-_]/g;function Ge(ne,te){te=te||1/0;for(var de,_e=ne.length,Ie=null,He=[],Ve=0;Ve<_e;++Ve){if((de=ne.charCodeAt(Ve))>55295&&de<57344){if(!Ie){if(de>56319){(te-=3)>-1&&He.push(239,191,189);continue}if(Ve+1===_e){(te-=3)>-1&&He.push(239,191,189);continue}Ie=de;continue}if(de<56320){(te-=3)>-1&&He.push(239,191,189),Ie=de;continue}de=65536+(Ie-55296<<10|de-56320)}else Ie&&(te-=3)>-1&&He.push(239,191,189);if(Ie=null,de<128){if((te-=1)<0)break;He.push(de)}else if(de<2048){if((te-=2)<0)break;He.push(de>>6|192,63&de|128)}else if(de<65536){if((te-=3)<0)break;He.push(de>>12|224,de>>6&63|128,63&de|128)}else{if(!(de<1114112))throw new Error("Invalid code point");if((te-=4)<0)break;He.push(de>>18|240,de>>12&63|128,de>>6&63|128,63&de|128)}}return He}function Ue(ne){return g.toByteArray(function Me(ne){if((ne=(ne=ne.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;ne.length%4!=0;)ne+="=";return ne}(ne))}function xe(ne,te,de,_e){for(var Ie=0;Ie<_e&&!(Ie+de>=te.length||Ie>=ne.length);++Ie)te[Ie+de]=ne[Ie];return Ie}function Ce(ne,te){return ne instanceof te||null!=ne&&null!=ne.constructor&&null!=ne.constructor.name&&ne.constructor.name===te.name}function be(ne){return ne!=ne}var he=function(){for(var ne="0123456789abcdef",te=new Array(256),de=0;de<16;++de)for(var _e=16*de,Ie=0;Ie<16;++Ie)te[_e+Ie]=ne[de]+ne[Ie];return te}()},28846:$e=>{"use strict";$e.exports=function j(E){if("number"==typeof E&&isNaN(E))throw new Error("NaN is not allowed");if("number"==typeof E&&!isFinite(E))throw new Error("Infinity is not allowed");return null===E||"object"!=typeof E?JSON.stringify(E):E.toJSON instanceof Function?j(E.toJSON()):Array.isArray(E)?`[${E.reduce((B,H,b)=>`${B}${0===b?"":","}${j(void 0===H||"symbol"==typeof H?null:H)}`,"")}]`:`{${Object.keys(E).sort().reduce((_,B)=>void 0===E[B]||"symbol"==typeof E[B]?_:`${_}${0===_.length?"":","}${j(B)}:${j(E[B])}`,"")}}`}},42381:($e,j,E)=>{"use strict";var g=E(78341);j.fromCallback=function(_,B){if(void 0===_){var H=new Promise(function(b,k){_=function(S,P){S?k(S):b(P)}});_[void 0!==B?B:"promise"]=H}else if("function"!=typeof _)throw new TypeError("Callback must be a function");return _},j.fromPromise=function(_,B){if(void 0===B)return _;_.then(function(H){g(()=>B(null,H))}).catch(function(H){g(()=>B(H))})}},78341:$e=>{$e.exports="function"==typeof queueMicrotask?queueMicrotask:j=>Promise.resolve().then(j)},3247:($e,j,E)=>{var g=E(27054).Buffer,_=E(7045).Transform,B=E(78454).StringDecoder;function b(k){_.call(this),this.hashMode="string"==typeof k,this.hashMode?this[k]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}E(71993)(b,_),b.prototype.update=function(k,S,P){"string"==typeof k&&(k=g.from(k,S));var R=this._update(k);return this.hashMode?this:(P&&(R=this._toString(R,P)),R)},b.prototype.setAutoPadding=function(){},b.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},b.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},b.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},b.prototype._transform=function(k,S,P){var R;try{this.hashMode?this._update(k):this.push(this._update(k))}catch(O){R=O}finally{P(R)}},b.prototype._flush=function(k){var S;try{this.push(this.__final())}catch(P){S=P}k(S)},b.prototype._finalOrDigest=function(k){var S=this.__final()||g.alloc(0);return k&&(S=this._toString(S,k,!0)),S},b.prototype._toString=function(k,S,P){if(this._decoder||(this._decoder=new B(S),this._encoding=S),this._encoding!==S)throw new Error("can't switch encodings");var R=this._decoder.write(k);return P&&(R+=this._decoder.end()),R},$e.exports=b},27637:($e,j,E)=>{function Q(q){return Object.prototype.toString.call(q)}j.isArray=function g(q){return Array.isArray?Array.isArray(q):"[object Array]"===Q(q)},j.isBoolean=function _(q){return"boolean"==typeof q},j.isNull=function B(q){return null===q},j.isNullOrUndefined=function H(q){return null==q},j.isNumber=function b(q){return"number"==typeof q},j.isString=function k(q){return"string"==typeof q},j.isSymbol=function S(q){return"symbol"==typeof q},j.isUndefined=function P(q){return void 0===q},j.isRegExp=function R(q){return"[object RegExp]"===Q(q)},j.isObject=function O(q){return"object"==typeof q&&null!==q},j.isDate=function A(q){return"[object Date]"===Q(q)},j.isError=function V(q){return"[object Error]"===Q(q)||q instanceof Error},j.isFunction=function U(q){return"function"==typeof q},j.isPrimitive=function K(q){return null===q||"boolean"==typeof q||"number"==typeof q||"string"==typeof q||"symbol"==typeof q||typeof q>"u"},j.isBuffer=E(83838).Buffer.isBuffer},87303:($e,j,E)=>{var g=E(90518),_=E(89606);$e.exports=function(S){return new H(S)};var B={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function H(k){this.curveType=B[k],this.curveType||(this.curveType={name:k}),this.curve=new g.ec(this.curveType.name),this.keys=void 0}function b(k,S,P){Array.isArray(k)||(k=k.toArray());var R=new Buffer(k);if(P&&R.length<P){var O=new Buffer(P-R.length);O.fill(0),R=Buffer.concat([O,R])}return S?R.toString(S):R}B.p224=B.secp224r1,B.p256=B.secp256r1=B.prime256v1,B.p192=B.secp192r1=B.prime192v1,B.p384=B.secp384r1,B.p521=B.secp521r1,H.prototype.generateKeys=function(k,S){return this.keys=this.curve.genKeyPair(),this.getPublicKey(k,S)},H.prototype.computeSecret=function(k,S,P){return S=S||"utf8",Buffer.isBuffer(k)||(k=new Buffer(k,S)),b(this.curve.keyFromPublic(k).getPublic().mul(this.keys.getPrivate()).getX(),P,this.curveType.byteLength)},H.prototype.getPublicKey=function(k,S){var P=this.keys.getPublic("compressed"===S,!0);return"hybrid"===S&&(P[0]=P[P.length-1]%2?7:6),b(P,k)},H.prototype.getPrivateKey=function(k){return b(this.keys.getPrivate(),k)},H.prototype.setPublicKey=function(k,S){return S=S||"utf8",Buffer.isBuffer(k)||(k=new Buffer(k,S)),this.keys._importPublic(k),this},H.prototype.setPrivateKey=function(k,S){S=S||"utf8",Buffer.isBuffer(k)||(k=new Buffer(k,S));var P=new _(k);return P=P.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(P),this}},89606:function($e,j,E){!function(g,_){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:_.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(77965).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,w=Math.min(C.length,d),I=s;I<w;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var w,I,L=0;if("be"===h)for(f=s.length-1,w=0;f>=0;f-=3)this.words[w]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);else if("le"===h)for(f=0,w=0;f<s.length;f+=3)this.words[w]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,w=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,w=1;w<=67108863;w*=d)f++;f--,w=w/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(w),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],w=0|s.words[0],I=f*w,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(w=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,w=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|w)).toString(16);h=0!=(w=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==w&&(h=w.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),w=h||Math.max(1,f);B(f<=w,"byte array longer than desired length"),B(w>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(w),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<w;a++)L[a]=0}else{for(a=0;a<w-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[w-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var w=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+w),w=d>>>26;for(;0!==w&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+w),w=d>>>26;if(this.length=h.length,0!==w)this.words[this.length]=w,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,w,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,w=s):(f=s,w=this);for(var I=0,L=0;L<w.length;L++)I=(d=(0|f.words[L])-(0|w.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,w=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ge=0|f[2],ge=8191&Ge,me=Ge>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,xt=0|f[7],Ne=8191&xt,ke=xt>>>13,pt=0|f[8],F=8191&pt,D=pt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|w[0],Ae=8191&Se,rt=Se>>>13,Ht=0|w[1],vt=8191&Ht,Ot=Ht>>>13,qt=0|w[2],mn=8191&qt,ln=qt>>>13,rr=0|w[3],Tn=8191&rr,rn=rr>>>13,Xt=0|w[4],dt=8191&Xt,it=Xt>>>13,Wt=0|w[5],Gt=8191&Wt,nn=Wt>>>13,Xn=0|w[6],ot=8191&Xn,ft=Xn>>>13,ut=0|w[7],Ke=8191&ut,We=ut>>>13,Bt=0|w[8],At=8191&Bt,fn=Bt>>>13,Un=0|w[9],wn=8191&Un,vn=Un>>>13;h.negative=s.negative^d.negative,h.length=19;var pr=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,rt))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,rt))+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,rt))+Math.imul(Me,Ae)|0,v=Math.imul(Me,rt);var nr=(L+(x=x+Math.imul(z,vt)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ot)|0)+Math.imul(ee,vt)|0))<<13)|0;L=((v=v+Math.imul(ee,Ot)|0)+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,rt))+Math.imul(me,Ae)|0,v=Math.imul(me,rt),x=x+Math.imul(we,vt)|0,a=(a=a+Math.imul(we,Ot)|0)+Math.imul(Me,vt)|0,v=v+Math.imul(Me,Ot)|0;var Bn=(L+(x=x+Math.imul(z,mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,mn)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,rt))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,rt),x=x+Math.imul(ge,vt)|0,a=(a=a+Math.imul(ge,Ot)|0)+Math.imul(me,vt)|0,v=v+Math.imul(me,Ot)|0,x=x+Math.imul(we,mn)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,mn)|0,v=v+Math.imul(Me,ln)|0;var Fn=(L+(x=x+Math.imul(z,Tn)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Tn)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,rt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,rt),x=x+Math.imul(xe,vt)|0,a=(a=a+Math.imul(xe,Ot)|0)+Math.imul(Ce,vt)|0,v=v+Math.imul(Ce,Ot)|0,x=x+Math.imul(ge,mn)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,mn)|0,v=v+Math.imul(me,ln)|0,x=x+Math.imul(we,Tn)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Tn)|0,v=v+Math.imul(Me,rn)|0;var qe=(L+(x=x+Math.imul(z,dt)|0)|0)+((8191&(a=(a=a+Math.imul(z,it)|0)+Math.imul(ee,dt)|0))<<13)|0;L=((v=v+Math.imul(ee,it)|0)+(a>>>13)|0)+(qe>>>26)|0,qe&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,rt))+Math.imul(_e,Ae)|0,v=Math.imul(_e,rt),x=x+Math.imul(he,vt)|0,a=(a=a+Math.imul(he,Ot)|0)+Math.imul(ne,vt)|0,v=v+Math.imul(ne,Ot)|0,x=x+Math.imul(xe,mn)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,mn)|0,v=v+Math.imul(Ce,ln)|0,x=x+Math.imul(ge,Tn)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Tn)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,dt)|0,a=(a=a+Math.imul(we,it)|0)+Math.imul(Me,dt)|0,v=v+Math.imul(Me,it)|0;var Oe=(L+(x=x+Math.imul(z,Gt)|0)|0)+((8191&(a=(a=a+Math.imul(z,nn)|0)+Math.imul(ee,Gt)|0))<<13)|0;L=((v=v+Math.imul(ee,nn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,rt))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,rt),x=x+Math.imul(de,vt)|0,a=(a=a+Math.imul(de,Ot)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,Ot)|0,x=x+Math.imul(he,mn)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,mn)|0,v=v+Math.imul(ne,ln)|0,x=x+Math.imul(xe,Tn)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Tn)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,dt)|0,a=(a=a+Math.imul(ge,it)|0)+Math.imul(me,dt)|0,v=v+Math.imul(me,it)|0,x=x+Math.imul(we,Gt)|0,a=(a=a+Math.imul(we,nn)|0)+Math.imul(Me,Gt)|0,v=v+Math.imul(Me,nn)|0;var Je=(L+(x=x+Math.imul(z,ot)|0)|0)+((8191&(a=(a=a+Math.imul(z,ft)|0)+Math.imul(ee,ot)|0))<<13)|0;L=((v=v+Math.imul(ee,ft)|0)+(a>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,rt))+Math.imul(ke,Ae)|0,v=Math.imul(ke,rt),x=x+Math.imul(He,vt)|0,a=(a=a+Math.imul(He,Ot)|0)+Math.imul(Ve,vt)|0,v=v+Math.imul(Ve,Ot)|0,x=x+Math.imul(de,mn)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,mn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(he,Tn)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Tn)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,dt)|0,a=(a=a+Math.imul(xe,it)|0)+Math.imul(Ce,dt)|0,v=v+Math.imul(Ce,it)|0,x=x+Math.imul(ge,Gt)|0,a=(a=a+Math.imul(ge,nn)|0)+Math.imul(me,Gt)|0,v=v+Math.imul(me,nn)|0,x=x+Math.imul(we,ot)|0,a=(a=a+Math.imul(we,ft)|0)+Math.imul(Me,ot)|0,v=v+Math.imul(Me,ft)|0;var Kt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,We)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,We)|0)+(a>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,rt))+Math.imul(D,Ae)|0,v=Math.imul(D,rt),x=x+Math.imul(Ne,vt)|0,a=(a=a+Math.imul(Ne,Ot)|0)+Math.imul(ke,vt)|0,v=v+Math.imul(ke,Ot)|0,x=x+Math.imul(He,mn)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,mn)|0,v=v+Math.imul(Ve,ln)|0,x=x+Math.imul(de,Tn)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Tn)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,dt)|0,a=(a=a+Math.imul(he,it)|0)+Math.imul(ne,dt)|0,v=v+Math.imul(ne,it)|0,x=x+Math.imul(xe,Gt)|0,a=(a=a+Math.imul(xe,nn)|0)+Math.imul(Ce,Gt)|0,v=v+Math.imul(Ce,nn)|0,x=x+Math.imul(ge,ot)|0,a=(a=a+Math.imul(ge,ft)|0)+Math.imul(me,ot)|0,v=v+Math.imul(me,ft)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,We)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,We)|0;var pn=(L+(x=x+Math.imul(z,At)|0)|0)+((8191&(a=(a=a+Math.imul(z,fn)|0)+Math.imul(ee,At)|0))<<13)|0;L=((v=v+Math.imul(ee,fn)|0)+(a>>>13)|0)+(pn>>>26)|0,pn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,rt))+Math.imul(fe,Ae)|0,v=Math.imul(fe,rt),x=x+Math.imul(F,vt)|0,a=(a=a+Math.imul(F,Ot)|0)+Math.imul(D,vt)|0,v=v+Math.imul(D,Ot)|0,x=x+Math.imul(Ne,mn)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,mn)|0,v=v+Math.imul(ke,ln)|0,x=x+Math.imul(He,Tn)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Tn)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,dt)|0,a=(a=a+Math.imul(de,it)|0)+Math.imul(_e,dt)|0,v=v+Math.imul(_e,it)|0,x=x+Math.imul(he,Gt)|0,a=(a=a+Math.imul(he,nn)|0)+Math.imul(ne,Gt)|0,v=v+Math.imul(ne,nn)|0,x=x+Math.imul(xe,ot)|0,a=(a=a+Math.imul(xe,ft)|0)+Math.imul(Ce,ot)|0,v=v+Math.imul(Ce,ft)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,We)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,We)|0,x=x+Math.imul(we,At)|0,a=(a=a+Math.imul(we,fn)|0)+Math.imul(Me,At)|0,v=v+Math.imul(Me,fn)|0;var jn=(L+(x=x+Math.imul(z,wn)|0)|0)+((8191&(a=(a=a+Math.imul(z,vn)|0)+Math.imul(ee,wn)|0))<<13)|0;L=((v=v+Math.imul(ee,vn)|0)+(a>>>13)|0)+(jn>>>26)|0,jn&=67108863,x=Math.imul(G,vt),a=(a=Math.imul(G,Ot))+Math.imul(fe,vt)|0,v=Math.imul(fe,Ot),x=x+Math.imul(F,mn)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,mn)|0,v=v+Math.imul(D,ln)|0,x=x+Math.imul(Ne,Tn)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Tn)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,dt)|0,a=(a=a+Math.imul(He,it)|0)+Math.imul(Ve,dt)|0,v=v+Math.imul(Ve,it)|0,x=x+Math.imul(de,Gt)|0,a=(a=a+Math.imul(de,nn)|0)+Math.imul(_e,Gt)|0,v=v+Math.imul(_e,nn)|0,x=x+Math.imul(he,ot)|0,a=(a=a+Math.imul(he,ft)|0)+Math.imul(ne,ot)|0,v=v+Math.imul(ne,ft)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,We)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,We)|0,x=x+Math.imul(ge,At)|0,a=(a=a+Math.imul(ge,fn)|0)+Math.imul(me,At)|0,v=v+Math.imul(me,fn)|0;var zn=(L+(x=x+Math.imul(we,wn)|0)|0)+((8191&(a=(a=a+Math.imul(we,vn)|0)+Math.imul(Me,wn)|0))<<13)|0;L=((v=v+Math.imul(Me,vn)|0)+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(G,mn),a=(a=Math.imul(G,ln))+Math.imul(fe,mn)|0,v=Math.imul(fe,ln),x=x+Math.imul(F,Tn)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Tn)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,dt)|0,a=(a=a+Math.imul(Ne,it)|0)+Math.imul(ke,dt)|0,v=v+Math.imul(ke,it)|0,x=x+Math.imul(He,Gt)|0,a=(a=a+Math.imul(He,nn)|0)+Math.imul(Ve,Gt)|0,v=v+Math.imul(Ve,nn)|0,x=x+Math.imul(de,ot)|0,a=(a=a+Math.imul(de,ft)|0)+Math.imul(_e,ot)|0,v=v+Math.imul(_e,ft)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,We)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,We)|0,x=x+Math.imul(xe,At)|0,a=(a=a+Math.imul(xe,fn)|0)+Math.imul(Ce,At)|0,v=v+Math.imul(Ce,fn)|0;var or=(L+(x=x+Math.imul(ge,wn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,vn)|0)+Math.imul(me,wn)|0))<<13)|0;L=((v=v+Math.imul(me,vn)|0)+(a>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(G,Tn),a=(a=Math.imul(G,rn))+Math.imul(fe,Tn)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,dt)|0,a=(a=a+Math.imul(F,it)|0)+Math.imul(D,dt)|0,v=v+Math.imul(D,it)|0,x=x+Math.imul(Ne,Gt)|0,a=(a=a+Math.imul(Ne,nn)|0)+Math.imul(ke,Gt)|0,v=v+Math.imul(ke,nn)|0,x=x+Math.imul(He,ot)|0,a=(a=a+Math.imul(He,ft)|0)+Math.imul(Ve,ot)|0,v=v+Math.imul(Ve,ft)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,We)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,We)|0,x=x+Math.imul(he,At)|0,a=(a=a+Math.imul(he,fn)|0)+Math.imul(ne,At)|0,v=v+Math.imul(ne,fn)|0;var yr=(L+(x=x+Math.imul(xe,wn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,vn)|0)+Math.imul(Ce,wn)|0))<<13)|0;L=((v=v+Math.imul(Ce,vn)|0)+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,x=Math.imul(G,dt),a=(a=Math.imul(G,it))+Math.imul(fe,dt)|0,v=Math.imul(fe,it),x=x+Math.imul(F,Gt)|0,a=(a=a+Math.imul(F,nn)|0)+Math.imul(D,Gt)|0,v=v+Math.imul(D,nn)|0,x=x+Math.imul(Ne,ot)|0,a=(a=a+Math.imul(Ne,ft)|0)+Math.imul(ke,ot)|0,v=v+Math.imul(ke,ft)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,We)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,We)|0,x=x+Math.imul(de,At)|0,a=(a=a+Math.imul(de,fn)|0)+Math.imul(_e,At)|0,v=v+Math.imul(_e,fn)|0;var Rr=(L+(x=x+Math.imul(he,wn)|0)|0)+((8191&(a=(a=a+Math.imul(he,vn)|0)+Math.imul(ne,wn)|0))<<13)|0;L=((v=v+Math.imul(ne,vn)|0)+(a>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,x=Math.imul(G,Gt),a=(a=Math.imul(G,nn))+Math.imul(fe,Gt)|0,v=Math.imul(fe,nn),x=x+Math.imul(F,ot)|0,a=(a=a+Math.imul(F,ft)|0)+Math.imul(D,ot)|0,v=v+Math.imul(D,ft)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,We)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,We)|0,x=x+Math.imul(He,At)|0,a=(a=a+Math.imul(He,fn)|0)+Math.imul(Ve,At)|0,v=v+Math.imul(Ve,fn)|0;var Ir=(L+(x=x+Math.imul(de,wn)|0)|0)+((8191&(a=(a=a+Math.imul(de,vn)|0)+Math.imul(_e,wn)|0))<<13)|0;L=((v=v+Math.imul(_e,vn)|0)+(a>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,x=Math.imul(G,ot),a=(a=Math.imul(G,ft))+Math.imul(fe,ot)|0,v=Math.imul(fe,ft),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,We)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,We)|0,x=x+Math.imul(Ne,At)|0,a=(a=a+Math.imul(Ne,fn)|0)+Math.imul(ke,At)|0,v=v+Math.imul(ke,fn)|0;var Lr=(L+(x=x+Math.imul(He,wn)|0)|0)+((8191&(a=(a=a+Math.imul(He,vn)|0)+Math.imul(Ve,wn)|0))<<13)|0;L=((v=v+Math.imul(Ve,vn)|0)+(a>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,We))+Math.imul(fe,Ke)|0,v=Math.imul(fe,We),x=x+Math.imul(F,At)|0,a=(a=a+Math.imul(F,fn)|0)+Math.imul(D,At)|0,v=v+Math.imul(D,fn)|0;var fr=(L+(x=x+Math.imul(Ne,wn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,vn)|0)+Math.imul(ke,wn)|0))<<13)|0;L=((v=v+Math.imul(ke,vn)|0)+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,x=Math.imul(G,At),a=(a=Math.imul(G,fn))+Math.imul(fe,At)|0,v=Math.imul(fe,fn);var en=(L+(x=x+Math.imul(F,wn)|0)|0)+((8191&(a=(a=a+Math.imul(F,vn)|0)+Math.imul(D,wn)|0))<<13)|0;L=((v=v+Math.imul(D,vn)|0)+(a>>>13)|0)+(en>>>26)|0,en&=67108863;var bn=(L+(x=Math.imul(G,wn))|0)+((8191&(a=(a=Math.imul(G,vn))+Math.imul(fe,wn)|0))<<13)|0;return L=((v=Math.imul(fe,vn))+(a>>>13)|0)+(bn>>>26)|0,bn&=67108863,I[0]=pr,I[1]=nr,I[2]=Bn,I[3]=Fn,I[4]=qe,I[5]=Oe,I[6]=Je,I[7]=Kt,I[8]=pn,I[9]=jn,I[10]=zn,I[11]=or,I[12]=yr,I[13]=Rr,I[14]=Ir,I[15]=Lr,I[16]=fr,I[17]=en,I[18]=bn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,w=0;w<d.length-1;w++){var I=f;f=0;for(var L=67108863&h,x=Math.min(w,s.length-1),a=Math.max(0,w-C.length+1);a<=x;a++){var ee=(0|C.words[w-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[w]=L,h=I,I=f}return 0!==h?d.words[w]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,w=0;w<d;w++)f|=(1&s)<<d-w-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,w,I){for(var L=0;L<I;L++)f[L]=d[s[L]],w[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,w,I){this.permute(I,s,d,h,f,w);for(var L=1;L<w;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<w;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ge=h[Z+le+L],ge=f[Z+le+L],me=z*Ge-ee*ge;ge=z*ge+ee*Ge,h[Z+le]=we+(Ge=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ge,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,w=0;for(h=h/2|0;h;h>>>=1)w++;return 1<<w+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var w=s[f];s[f]=s[h-f-1],s[h-f-1]=w,w=d[f],d[f]=-d[h-f-1],d[h-f-1]=-w}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var w=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&w,h=w<67108864?0:w/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var w=0,I=0;I<d;I++)h[2*I]=8191&(w+=0|s[I]),h[2*I+1]=8191&(w>>>=13),w>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===w),B(!(-8192&w))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),w=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,w),this.transform(v,I,Z,z,f,w);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,w),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,w=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=w>>>26,this.words[h]=67108863&w}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var w=h.sqr();f<d.length;f++,w=w.sqr())0!==d[f]&&(h=h.mul(w));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var w,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(w=0;w<this.length;w++){var L=this.words[w]&f;this.words[w]=(0|this.words[w])-L<<d|I,I=L>>>26-d}I&&(this.words[w]=I,this.length++)}if(0!==h){for(w=this.length-1;w>=0;w--)this.words[w+h]=this.words[w];for(w=0;w<h;w++)this.words[w]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var w=s%26,I=Math.min((s-w)/26,this.length),L=67108863^67108863>>>w<<w,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-w|Z>>>w,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var w;this._expand(s.length+h);var I,L=0;for(w=0;w<s.length;w++){I=(0|this.words[w+h])+L;var x=(0|s.words[w])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[w+h]=67108863&I}for(;w<this.length-h;w++)L=(I=(0|this.words[w+h])+L)>>26,this.words[w+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,w=0;w<this.length;w++)L=(I=-(0|this.words[w])+L)>>26,this.words[w]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),w=s,I=0|w.words[w.length-1];0!=(h=26-this._countBits(I))&&(w=w.ushln(h),f.iushln(h),I=0|w.words[w.length-1]);var a,x=f.length-w.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(w,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[w.length+z])+(0|f.words[w.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(w,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(w,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.iadd(s)),{div:f,mod:w}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.isub(s)),{div:I.div,mod:w}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,w,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),w=s.andln(1),I=h.cmp(f);return I<0||1===w&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||w.isOdd())&&(f.iadd(a),w.isub(v)),f.iushrn(1),w.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),w.isub(L)):(h.isub(d),I.isub(f),L.isub(w))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)w.isOdd()&&w.iadd(I),w.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(w)):(h.isub(d),w.isub(f))}return(Z=0===d.cmpn(1)?f:w).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var w=d.cmp(h);if(w<0){var I=d;d=h,h=I}else if(0===w||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var w=f,I=h;0!==w&&I<this.length;I++){var L=0|this.words[I];w=(L+=w)>>>26,this.words[I]=L&=67108863}return 0!==w&&(this.words[I]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],w=0|s.words[h];if(f!==w){f<w?d=-1:f>w&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),w=0;w<f;w++)d.words[w]=s.words[w];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,w=10;w<s.length;w++){var L=0|s.words[w];s.words[w-10]=(L&h)<<4|I>>>22,I=L}s.words[w-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,w=67108863&f;f>>>=26,s.words[h]=w,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),w=0;!f.isZero()&&0===f.andln(1);)w++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=w;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var w=2;w<f.length;w++)f[w]=this.mul(f[w-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),w=d.length-1;w>=0;w--){for(var v=d.words[w],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===w&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},67211:($e,j,E)=>{"use strict";var g=E(71993),_=E(34725),B=E(36636),H=E(25443),b=E(3247);function k(S){b.call(this,"digest"),this._hash=S}g(k,b),k.prototype._update=function(S){this._hash.update(S)},k.prototype._final=function(){return this._hash.digest()},$e.exports=function(P){return"md5"===(P=P.toLowerCase())?new _:"rmd160"===P||"ripemd160"===P?new B:new k(H(P))}},83407:($e,j,E)=>{var g=E(34725);$e.exports=function(_){return(new g).update(_).digest()}},56432:($e,j,E)=>{"use strict";var g=E(71993),_=E(90509),B=E(3247),H=E(27054).Buffer,b=E(83407),k=E(36636),S=E(25443),P=H.alloc(128);function R(O,A){B.call(this,"digest"),"string"==typeof A&&(A=H.from(A));var V="sha512"===O||"sha384"===O?128:64;this._alg=O,this._key=A,A.length>V?A=("rmd160"===O?new k:S(O)).update(A).digest():A.length<V&&(A=H.concat([A,P],V));for(var K=this._ipad=H.allocUnsafe(V),Q=this._opad=H.allocUnsafe(V),q=0;q<V;q++)K[q]=54^A[q],Q[q]=92^A[q];this._hash="rmd160"===O?new k:S(O),this._hash.update(K)}g(R,B),R.prototype._update=function(O){this._hash.update(O)},R.prototype._final=function(){var O=this._hash.digest();return("rmd160"===this._alg?new k:S(this._alg)).update(this._opad).update(O).digest()},$e.exports=function(A,V){return"rmd160"===(A=A.toLowerCase())||"ripemd160"===A?new R("rmd160",V):"md5"===A?new _(b,V):new R(A,V)}},90509:($e,j,E)=>{"use strict";var g=E(71993),_=E(27054).Buffer,B=E(3247),H=_.alloc(128),b=64;function k(S,P){B.call(this,"digest"),"string"==typeof P&&(P=_.from(P)),this._alg=S,this._key=P,P.length>b?P=S(P):P.length<b&&(P=_.concat([P,H],b));for(var R=this._ipad=_.allocUnsafe(b),O=this._opad=_.allocUnsafe(b),A=0;A<b;A++)R[A]=54^P[A],O[A]=92^P[A];this._hash=[R]}g(k,B),k.prototype._update=function(S){this._hash.push(S)},k.prototype._final=function(){var S=this._alg(_.concat(this._hash));return this._alg(_.concat([this._opad,S]))},$e.exports=k},91426:($e,j,E)=>{"use strict";j.randomBytes=j.rng=j.pseudoRandomBytes=j.prng=E(3342),j.createHash=j.Hash=E(67211),j.createHmac=j.Hmac=E(56432);var g=E(99560),_=Object.keys(g),B=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(_);j.getHashes=function(){return B};var H=E(93397);j.pbkdf2=H.pbkdf2,j.pbkdf2Sync=H.pbkdf2Sync;var b=E(88862);j.Cipher=b.Cipher,j.createCipher=b.createCipher,j.Cipheriv=b.Cipheriv,j.createCipheriv=b.createCipheriv,j.Decipher=b.Decipher,j.createDecipher=b.createDecipher,j.Decipheriv=b.Decipheriv,j.createDecipheriv=b.createDecipheriv,j.getCiphers=b.getCiphers,j.listCiphers=b.listCiphers;var k=E(4377);j.DiffieHellmanGroup=k.DiffieHellmanGroup,j.createDiffieHellmanGroup=k.createDiffieHellmanGroup,j.getDiffieHellman=k.getDiffieHellman,j.createDiffieHellman=k.createDiffieHellman,j.DiffieHellman=k.DiffieHellman;var S=E(79143);j.createSign=S.createSign,j.Sign=S.Sign,j.createVerify=S.createVerify,j.Verify=S.Verify,j.createECDH=E(87303);var P=E(52965);j.publicEncrypt=P.publicEncrypt,j.privateEncrypt=P.privateEncrypt,j.publicDecrypt=P.publicDecrypt,j.privateDecrypt=P.privateDecrypt;var R=E(9682);j.randomFill=R.randomFill,j.randomFillSync=R.randomFillSync,j.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},j.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:($e,j,E)=>{"use strict";j.utils=E(85671),j.Cipher=E(10219),j.DES=E(64166),j.CBC=E(88800),j.EDE=E(62122)},88800:($e,j,E)=>{"use strict";var g=E(39210),_=E(71993),B={};function H(k){g.equal(k.length,8,"Invalid IV length"),this.iv=new Array(8);for(var S=0;S<this.iv.length;S++)this.iv[S]=k[S]}j.instantiate=function b(k){function S(A){k.call(this,A),this._cbcInit()}_(S,k);for(var P=Object.keys(B),R=0;R<P.length;R++){var O=P[R];S.prototype[O]=B[O]}return S.create=function(V){return new S(V)},S},B._cbcInit=function(){var S=new H(this.options.iv);this._cbcState=S},B._update=function(S,P,R,O){var V=this.constructor.super_.prototype,U=this._cbcState.iv;if("encrypt"===this.type){for(var K=0;K<this.blockSize;K++)U[K]^=S[P+K];for(V._update.call(this,U,0,R,O),K=0;K<this.blockSize;K++)U[K]=R[O+K]}else{for(V._update.call(this,S,P,R,O),K=0;K<this.blockSize;K++)R[O+K]^=U[K];for(K=0;K<this.blockSize;K++)U[K]=S[P+K]}}},10219:($e,j,E)=>{"use strict";var g=E(39210);function _(B){this.options=B,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==B.padding}$e.exports=_,_.prototype._init=function(){},_.prototype.update=function(H){return 0===H.length?[]:"decrypt"===this.type?this._updateDecrypt(H):this._updateEncrypt(H)},_.prototype._buffer=function(H,b){for(var k=Math.min(this.buffer.length-this.bufferOff,H.length-b),S=0;S<k;S++)this.buffer[this.bufferOff+S]=H[b+S];return this.bufferOff+=k,k},_.prototype._flushBuffer=function(H,b){return this._update(this.buffer,0,H,b),this.bufferOff=0,this.blockSize},_.prototype._updateEncrypt=function(H){var b=0,k=0,P=new Array(((this.bufferOff+H.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(b+=this._buffer(H,b),this.bufferOff===this.buffer.length&&(k+=this._flushBuffer(P,k)));for(var R=H.length-(H.length-b)%this.blockSize;b<R;b+=this.blockSize)this._update(H,b,P,k),k+=this.blockSize;for(;b<H.length;b++,this.bufferOff++)this.buffer[this.bufferOff]=H[b];return P},_.prototype._updateDecrypt=function(H){for(var b=0,k=0,S=Math.ceil((this.bufferOff+H.length)/this.blockSize)-1,P=new Array(S*this.blockSize);S>0;S--)b+=this._buffer(H,b),k+=this._flushBuffer(P,k);return b+=this._buffer(H,b),P},_.prototype.final=function(H){var b,k;return H&&(b=this.update(H)),k="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),b?b.concat(k):k},_.prototype._pad=function(H,b){if(0===b)return!1;for(;b<H.length;)H[b++]=0;return!0},_.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var H=new Array(this.blockSize);return this._update(this.buffer,0,H,0),H},_.prototype._unpad=function(H){return H},_.prototype._finalDecrypt=function(){g.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var H=new Array(this.blockSize);return this._flushBuffer(H,0),this._unpad(H)}},64166:($e,j,E)=>{"use strict";var g=E(39210),_=E(71993),B=E(85671),H=E(10219);function b(){this.tmp=new Array(2),this.keys=null}function k(P){H.call(this,P);var R=new b;this._desState=R,this.deriveKeys(R,P.key)}_(k,H),$e.exports=k,k.create=function(R){return new k(R)};var S=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];k.prototype.deriveKeys=function(R,O){R.keys=new Array(32),g.equal(O.length,this.blockSize,"Invalid key length");var A=B.readUInt32BE(O,0),V=B.readUInt32BE(O,4);B.pc1(A,V,R.tmp,0),A=R.tmp[0],V=R.tmp[1];for(var U=0;U<R.keys.length;U+=2){var K=S[U>>>1];A=B.r28shl(A,K),V=B.r28shl(V,K),B.pc2(A,V,R.keys,U)}},k.prototype._update=function(R,O,A,V){var U=this._desState,K=B.readUInt32BE(R,O),Q=B.readUInt32BE(R,O+4);B.ip(K,Q,U.tmp,0),K=U.tmp[0],Q=U.tmp[1],"encrypt"===this.type?this._encrypt(U,K,Q,U.tmp,0):this._decrypt(U,K,Q,U.tmp,0),Q=U.tmp[1],B.writeUInt32BE(A,K=U.tmp[0],V),B.writeUInt32BE(A,Q,V+4)},k.prototype._pad=function(R,O){if(!1===this.padding)return!1;for(var A=R.length-O,V=O;V<R.length;V++)R[V]=A;return!0},k.prototype._unpad=function(R){if(!1===this.padding)return R;for(var O=R[R.length-1],A=R.length-O;A<R.length;A++)g.equal(R[A],O);return R.slice(0,R.length-O)},k.prototype._encrypt=function(R,O,A,V,U){for(var K=O,Q=A,q=0;q<R.keys.length;q+=2){var Y=R.keys[q],W=R.keys[q+1];B.expand(Q,R.tmp,0);var re=B.substitute(Y^=R.tmp[0],W^=R.tmp[1]),ae=Q;Q=(K^B.permute(re))>>>0,K=ae}B.rip(Q,K,V,U)},k.prototype._decrypt=function(R,O,A,V,U){for(var K=A,Q=O,q=R.keys.length-2;q>=0;q-=2){var Y=R.keys[q],W=R.keys[q+1];B.expand(K,R.tmp,0);var re=B.substitute(Y^=R.tmp[0],W^=R.tmp[1]),ae=K;K=(Q^B.permute(re))>>>0,Q=ae}B.rip(K,Q,V,U)}},62122:($e,j,E)=>{"use strict";var g=E(39210),_=E(71993),B=E(10219),H=E(64166);function b(S,P){g.equal(P.length,24,"Invalid key length");var R=P.slice(0,8),O=P.slice(8,16),A=P.slice(16,24);this.ciphers="encrypt"===S?[H.create({type:"encrypt",key:R}),H.create({type:"decrypt",key:O}),H.create({type:"encrypt",key:A})]:[H.create({type:"decrypt",key:A}),H.create({type:"encrypt",key:O}),H.create({type:"decrypt",key:R})]}function k(S){B.call(this,S);var P=new b(this.type,this.options.key);this._edeState=P}_(k,B),$e.exports=k,k.create=function(P){return new k(P)},k.prototype._update=function(P,R,O,A){var V=this._edeState;V.ciphers[0]._update(P,R,O,A),V.ciphers[1]._update(O,A,O,A),V.ciphers[2]._update(O,A,O,A)},k.prototype._pad=H.prototype._pad,k.prototype._unpad=H.prototype._unpad},85671:($e,j)=>{"use strict";j.readUInt32BE=function(H,b){return(H[0+b]<<24|H[1+b]<<16|H[2+b]<<8|H[3+b])>>>0},j.writeUInt32BE=function(H,b,k){H[0+k]=b>>>24,H[1+k]=b>>>16&255,H[2+k]=b>>>8&255,H[3+k]=255&b},j.ip=function(H,b,k,S){for(var P=0,R=0,O=6;O>=0;O-=2){for(var A=0;A<=24;A+=8)P<<=1,P|=b>>>A+O&1;for(A=0;A<=24;A+=8)P<<=1,P|=H>>>A+O&1}for(O=6;O>=0;O-=2){for(A=1;A<=25;A+=8)R<<=1,R|=b>>>A+O&1;for(A=1;A<=25;A+=8)R<<=1,R|=H>>>A+O&1}k[S+0]=P>>>0,k[S+1]=R>>>0},j.rip=function(H,b,k,S){for(var P=0,R=0,O=0;O<4;O++)for(var A=24;A>=0;A-=8)P<<=1,P|=b>>>A+O&1,P<<=1,P|=H>>>A+O&1;for(O=4;O<8;O++)for(A=24;A>=0;A-=8)R<<=1,R|=b>>>A+O&1,R<<=1,R|=H>>>A+O&1;k[S+0]=P>>>0,k[S+1]=R>>>0},j.pc1=function(H,b,k,S){for(var P=0,R=0,O=7;O>=5;O--){for(var A=0;A<=24;A+=8)P<<=1,P|=b>>A+O&1;for(A=0;A<=24;A+=8)P<<=1,P|=H>>A+O&1}for(A=0;A<=24;A+=8)P<<=1,P|=b>>A+O&1;for(O=1;O<=3;O++){for(A=0;A<=24;A+=8)R<<=1,R|=b>>A+O&1;for(A=0;A<=24;A+=8)R<<=1,R|=H>>A+O&1}for(A=0;A<=24;A+=8)R<<=1,R|=H>>A+O&1;k[S+0]=P>>>0,k[S+1]=R>>>0},j.r28shl=function(H,b){return H<<b&268435455|H>>>28-b};var E=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];j.pc2=function(H,b,k,S){for(var P=0,R=0,O=E.length>>>1,A=0;A<O;A++)P<<=1,P|=H>>>E[A]&1;for(A=O;A<E.length;A++)R<<=1,R|=b>>>E[A]&1;k[S+0]=P>>>0,k[S+1]=R>>>0},j.expand=function(H,b,k){var S=0,P=0;S=(1&H)<<5|H>>>27;for(var R=23;R>=15;R-=4)S<<=6,S|=H>>>R&63;for(R=11;R>=3;R-=4)P|=H>>>R&63,P<<=6;P|=(31&H)<<1|H>>>31,b[k+0]=S>>>0,b[k+1]=P>>>0};var g=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];j.substitute=function(H,b){for(var k=0,S=0;S<4;S++)k<<=4,k|=g[64*S+(H>>>18-6*S&63)];for(S=0;S<4;S++)k<<=4,k|=g[256+64*S+(b>>>18-6*S&63)];return k>>>0};var _=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];j.permute=function(H){for(var b=0,k=0;k<_.length;k++)b<<=1,b|=H>>>_[k]&1;return b>>>0},j.padSplit=function(H,b,k){for(var S=H.toString(2);S.length<b;)S="0"+S;for(var P=[],R=0;R<b;R+=k)P.push(S.slice(R,R+k));return P.join(" ")}},4377:($e,j,E)=>{var g=E(12727),_=E(23241),B=E(94593),b={binary:!0,hex:!0,base64:!0};j.DiffieHellmanGroup=j.createDiffieHellmanGroup=j.getDiffieHellman=function H(S){var P=new Buffer(_[S].prime,"hex"),R=new Buffer(_[S].gen,"hex");return new B(P,R)},j.createDiffieHellman=j.DiffieHellman=function k(S,P,R,O){return Buffer.isBuffer(P)||void 0===b[P]?k(S,"binary",P,R):(P=P||"binary",O=O||"binary",R=R||new Buffer([2]),Buffer.isBuffer(R)||(R=new Buffer(R,O)),"number"==typeof S?new B(g(S,R),R,!0):(Buffer.isBuffer(S)||(S=new Buffer(S,P)),new B(S,R,!0)))}},94593:($e,j,E)=>{var g=E(38280),B=new(E(53459)),H=new g(24),b=new g(11),k=new g(10),S=new g(3),P=new g(7),R=E(12727),O=E(3342);function A(Y,W){return W=W||"utf8",Buffer.isBuffer(Y)||(Y=new Buffer(Y,W)),this._pub=new g(Y),this}function V(Y,W){return W=W||"utf8",Buffer.isBuffer(Y)||(Y=new Buffer(Y,W)),this._priv=new g(Y),this}$e.exports=Q;var U={};function Q(Y,W,re){this.setGenerator(W),this.__prime=new g(Y),this._prime=g.mont(this.__prime),this._primeLen=Y.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,re?(this.setPublicKey=A,this.setPrivateKey=V):this._primeCode=8}function q(Y,W){var re=new Buffer(Y.toArray());return W?re.toString(W):re}Object.defineProperty(Q.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function K(Y,W){var re=W.toString("hex"),ie=[re,Y.toString(16)].join("_");if(ie in U)return U[ie];var ue,ae=0;if(Y.isEven()||!R.simpleSieve||!R.fermatTest(Y)||!B.test(Y))return ae+=1,U[ie]=ae+="02"===re||"05"===re?8:4,ae;switch(B.test(Y.shrn(1))||(ae+=2),re){case"02":Y.mod(H).cmp(b)&&(ae+=8);break;case"05":(ue=Y.mod(k)).cmp(S)&&ue.cmp(P)&&(ae+=8);break;default:ae+=4}return U[ie]=ae,ae}(this.__prime,this.__gen)),this._primeCode}}),Q.prototype.generateKeys=function(){return this._priv||(this._priv=new g(O(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},Q.prototype.computeSecret=function(Y){var W=(Y=(Y=new g(Y)).toRed(this._prime)).redPow(this._priv).fromRed(),re=new Buffer(W.toArray()),ie=this.getPrime();if(re.length<ie.length){var ae=new Buffer(ie.length-re.length);ae.fill(0),re=Buffer.concat([ae,re])}return re},Q.prototype.getPublicKey=function(W){return q(this._pub,W)},Q.prototype.getPrivateKey=function(W){return q(this._priv,W)},Q.prototype.getPrime=function(Y){return q(this.__prime,Y)},Q.prototype.getGenerator=function(Y){return q(this._gen,Y)},Q.prototype.setGenerator=function(Y,W){return W=W||"utf8",Buffer.isBuffer(Y)||(Y=new Buffer(Y,W)),this.__gen=Y,this._gen=new g(Y),this}},12727:($e,j,E)=>{var g=E(3342);$e.exports=ae,ae.simpleSieve=re,ae.fermatTest=ie;var _=E(38280),B=new _(24),b=new(E(53459)),k=new _(1),S=new _(2),P=new _(5),A=(new _(16),new _(8),new _(10)),V=new _(3),K=(new _(7),new _(11)),Q=new _(4),Y=(new _(12),null);function re(ue){for(var ce=function W(){if(null!==Y)return Y;var ce=[];ce[0]=2;for(var pe=1,ve=3;ve<1048576;ve+=2){for(var De=Math.ceil(Math.sqrt(ve)),C=0;C<pe&&ce[C]<=De&&ve%ce[C]!=0;C++);pe!==C&&ce[C]<=De||(ce[pe++]=ve)}return Y=ce,ce}(),pe=0;pe<ce.length;pe++)if(0===ue.modn(ce[pe]))return 0===ue.cmpn(ce[pe]);return!0}function ie(ue){var ce=_.mont(ue);return 0===S.toRed(ce).redPow(ue.subn(1)).fromRed().cmpn(1)}function ae(ue,ce){if(ue<16)return new _(2===ce||5===ce?[140,123]:[140,39]);ce=new _(ce);for(var pe,ve;;){for(pe=new _(g(Math.ceil(ue/8)));pe.bitLength()>ue;)pe.ishrn(1);if(pe.isEven()&&pe.iadd(k),pe.testn(1)||pe.iadd(S),ce.cmp(S)){if(!ce.cmp(P))for(;pe.mod(A).cmp(V);)pe.iadd(Q)}else for(;pe.mod(B).cmp(K);)pe.iadd(Q);if(re(ve=pe.shrn(1))&&re(pe)&&ie(ve)&&ie(pe)&&b.test(ve)&&b.test(pe))return pe}}},38280:function($e,j,E){!function(g,_){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:_.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(66089).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,w=Math.min(C.length,d),I=s;I<w;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var w,I,L=0;if("be"===h)for(f=s.length-1,w=0;f>=0;f-=3)this.words[w]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);else if("le"===h)for(f=0,w=0;f<s.length;f+=3)this.words[w]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,w=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,w=1;w<=67108863;w*=d)f++;f--,w=w/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(w),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],w=0|s.words[0],I=f*w,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(w=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,w=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|w)).toString(16);h=0!=(w=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==w&&(h=w.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),w=h||Math.max(1,f);B(f<=w,"byte array longer than desired length"),B(w>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(w),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<w;a++)L[a]=0}else{for(a=0;a<w-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[w-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var w=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+w),w=d>>>26;for(;0!==w&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+w),w=d>>>26;if(this.length=h.length,0!==w)this.words[this.length]=w,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,w,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,w=s):(f=s,w=this);for(var I=0,L=0;L<w.length;L++)I=(d=(0|f.words[L])-(0|w.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,w=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ge=0|f[2],ge=8191&Ge,me=Ge>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,xt=0|f[7],Ne=8191&xt,ke=xt>>>13,pt=0|f[8],F=8191&pt,D=pt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|w[0],Ae=8191&Se,rt=Se>>>13,Ht=0|w[1],vt=8191&Ht,Ot=Ht>>>13,qt=0|w[2],mn=8191&qt,ln=qt>>>13,rr=0|w[3],Tn=8191&rr,rn=rr>>>13,Xt=0|w[4],dt=8191&Xt,it=Xt>>>13,Wt=0|w[5],Gt=8191&Wt,nn=Wt>>>13,Xn=0|w[6],ot=8191&Xn,ft=Xn>>>13,ut=0|w[7],Ke=8191&ut,We=ut>>>13,Bt=0|w[8],At=8191&Bt,fn=Bt>>>13,Un=0|w[9],wn=8191&Un,vn=Un>>>13;h.negative=s.negative^d.negative,h.length=19;var pr=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,rt))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,rt))+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,rt))+Math.imul(Me,Ae)|0,v=Math.imul(Me,rt);var nr=(L+(x=x+Math.imul(z,vt)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ot)|0)+Math.imul(ee,vt)|0))<<13)|0;L=((v=v+Math.imul(ee,Ot)|0)+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,rt))+Math.imul(me,Ae)|0,v=Math.imul(me,rt),x=x+Math.imul(we,vt)|0,a=(a=a+Math.imul(we,Ot)|0)+Math.imul(Me,vt)|0,v=v+Math.imul(Me,Ot)|0;var Bn=(L+(x=x+Math.imul(z,mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,mn)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,rt))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,rt),x=x+Math.imul(ge,vt)|0,a=(a=a+Math.imul(ge,Ot)|0)+Math.imul(me,vt)|0,v=v+Math.imul(me,Ot)|0,x=x+Math.imul(we,mn)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,mn)|0,v=v+Math.imul(Me,ln)|0;var Fn=(L+(x=x+Math.imul(z,Tn)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Tn)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,rt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,rt),x=x+Math.imul(xe,vt)|0,a=(a=a+Math.imul(xe,Ot)|0)+Math.imul(Ce,vt)|0,v=v+Math.imul(Ce,Ot)|0,x=x+Math.imul(ge,mn)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,mn)|0,v=v+Math.imul(me,ln)|0,x=x+Math.imul(we,Tn)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Tn)|0,v=v+Math.imul(Me,rn)|0;var qe=(L+(x=x+Math.imul(z,dt)|0)|0)+((8191&(a=(a=a+Math.imul(z,it)|0)+Math.imul(ee,dt)|0))<<13)|0;L=((v=v+Math.imul(ee,it)|0)+(a>>>13)|0)+(qe>>>26)|0,qe&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,rt))+Math.imul(_e,Ae)|0,v=Math.imul(_e,rt),x=x+Math.imul(he,vt)|0,a=(a=a+Math.imul(he,Ot)|0)+Math.imul(ne,vt)|0,v=v+Math.imul(ne,Ot)|0,x=x+Math.imul(xe,mn)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,mn)|0,v=v+Math.imul(Ce,ln)|0,x=x+Math.imul(ge,Tn)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Tn)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,dt)|0,a=(a=a+Math.imul(we,it)|0)+Math.imul(Me,dt)|0,v=v+Math.imul(Me,it)|0;var Oe=(L+(x=x+Math.imul(z,Gt)|0)|0)+((8191&(a=(a=a+Math.imul(z,nn)|0)+Math.imul(ee,Gt)|0))<<13)|0;L=((v=v+Math.imul(ee,nn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,rt))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,rt),x=x+Math.imul(de,vt)|0,a=(a=a+Math.imul(de,Ot)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,Ot)|0,x=x+Math.imul(he,mn)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,mn)|0,v=v+Math.imul(ne,ln)|0,x=x+Math.imul(xe,Tn)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Tn)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,dt)|0,a=(a=a+Math.imul(ge,it)|0)+Math.imul(me,dt)|0,v=v+Math.imul(me,it)|0,x=x+Math.imul(we,Gt)|0,a=(a=a+Math.imul(we,nn)|0)+Math.imul(Me,Gt)|0,v=v+Math.imul(Me,nn)|0;var Je=(L+(x=x+Math.imul(z,ot)|0)|0)+((8191&(a=(a=a+Math.imul(z,ft)|0)+Math.imul(ee,ot)|0))<<13)|0;L=((v=v+Math.imul(ee,ft)|0)+(a>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,rt))+Math.imul(ke,Ae)|0,v=Math.imul(ke,rt),x=x+Math.imul(He,vt)|0,a=(a=a+Math.imul(He,Ot)|0)+Math.imul(Ve,vt)|0,v=v+Math.imul(Ve,Ot)|0,x=x+Math.imul(de,mn)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,mn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(he,Tn)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Tn)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,dt)|0,a=(a=a+Math.imul(xe,it)|0)+Math.imul(Ce,dt)|0,v=v+Math.imul(Ce,it)|0,x=x+Math.imul(ge,Gt)|0,a=(a=a+Math.imul(ge,nn)|0)+Math.imul(me,Gt)|0,v=v+Math.imul(me,nn)|0,x=x+Math.imul(we,ot)|0,a=(a=a+Math.imul(we,ft)|0)+Math.imul(Me,ot)|0,v=v+Math.imul(Me,ft)|0;var Kt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,We)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,We)|0)+(a>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,rt))+Math.imul(D,Ae)|0,v=Math.imul(D,rt),x=x+Math.imul(Ne,vt)|0,a=(a=a+Math.imul(Ne,Ot)|0)+Math.imul(ke,vt)|0,v=v+Math.imul(ke,Ot)|0,x=x+Math.imul(He,mn)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,mn)|0,v=v+Math.imul(Ve,ln)|0,x=x+Math.imul(de,Tn)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Tn)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,dt)|0,a=(a=a+Math.imul(he,it)|0)+Math.imul(ne,dt)|0,v=v+Math.imul(ne,it)|0,x=x+Math.imul(xe,Gt)|0,a=(a=a+Math.imul(xe,nn)|0)+Math.imul(Ce,Gt)|0,v=v+Math.imul(Ce,nn)|0,x=x+Math.imul(ge,ot)|0,a=(a=a+Math.imul(ge,ft)|0)+Math.imul(me,ot)|0,v=v+Math.imul(me,ft)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,We)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,We)|0;var pn=(L+(x=x+Math.imul(z,At)|0)|0)+((8191&(a=(a=a+Math.imul(z,fn)|0)+Math.imul(ee,At)|0))<<13)|0;L=((v=v+Math.imul(ee,fn)|0)+(a>>>13)|0)+(pn>>>26)|0,pn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,rt))+Math.imul(fe,Ae)|0,v=Math.imul(fe,rt),x=x+Math.imul(F,vt)|0,a=(a=a+Math.imul(F,Ot)|0)+Math.imul(D,vt)|0,v=v+Math.imul(D,Ot)|0,x=x+Math.imul(Ne,mn)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,mn)|0,v=v+Math.imul(ke,ln)|0,x=x+Math.imul(He,Tn)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Tn)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,dt)|0,a=(a=a+Math.imul(de,it)|0)+Math.imul(_e,dt)|0,v=v+Math.imul(_e,it)|0,x=x+Math.imul(he,Gt)|0,a=(a=a+Math.imul(he,nn)|0)+Math.imul(ne,Gt)|0,v=v+Math.imul(ne,nn)|0,x=x+Math.imul(xe,ot)|0,a=(a=a+Math.imul(xe,ft)|0)+Math.imul(Ce,ot)|0,v=v+Math.imul(Ce,ft)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,We)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,We)|0,x=x+Math.imul(we,At)|0,a=(a=a+Math.imul(we,fn)|0)+Math.imul(Me,At)|0,v=v+Math.imul(Me,fn)|0;var jn=(L+(x=x+Math.imul(z,wn)|0)|0)+((8191&(a=(a=a+Math.imul(z,vn)|0)+Math.imul(ee,wn)|0))<<13)|0;L=((v=v+Math.imul(ee,vn)|0)+(a>>>13)|0)+(jn>>>26)|0,jn&=67108863,x=Math.imul(G,vt),a=(a=Math.imul(G,Ot))+Math.imul(fe,vt)|0,v=Math.imul(fe,Ot),x=x+Math.imul(F,mn)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,mn)|0,v=v+Math.imul(D,ln)|0,x=x+Math.imul(Ne,Tn)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Tn)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,dt)|0,a=(a=a+Math.imul(He,it)|0)+Math.imul(Ve,dt)|0,v=v+Math.imul(Ve,it)|0,x=x+Math.imul(de,Gt)|0,a=(a=a+Math.imul(de,nn)|0)+Math.imul(_e,Gt)|0,v=v+Math.imul(_e,nn)|0,x=x+Math.imul(he,ot)|0,a=(a=a+Math.imul(he,ft)|0)+Math.imul(ne,ot)|0,v=v+Math.imul(ne,ft)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,We)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,We)|0,x=x+Math.imul(ge,At)|0,a=(a=a+Math.imul(ge,fn)|0)+Math.imul(me,At)|0,v=v+Math.imul(me,fn)|0;var zn=(L+(x=x+Math.imul(we,wn)|0)|0)+((8191&(a=(a=a+Math.imul(we,vn)|0)+Math.imul(Me,wn)|0))<<13)|0;L=((v=v+Math.imul(Me,vn)|0)+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(G,mn),a=(a=Math.imul(G,ln))+Math.imul(fe,mn)|0,v=Math.imul(fe,ln),x=x+Math.imul(F,Tn)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Tn)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,dt)|0,a=(a=a+Math.imul(Ne,it)|0)+Math.imul(ke,dt)|0,v=v+Math.imul(ke,it)|0,x=x+Math.imul(He,Gt)|0,a=(a=a+Math.imul(He,nn)|0)+Math.imul(Ve,Gt)|0,v=v+Math.imul(Ve,nn)|0,x=x+Math.imul(de,ot)|0,a=(a=a+Math.imul(de,ft)|0)+Math.imul(_e,ot)|0,v=v+Math.imul(_e,ft)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,We)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,We)|0,x=x+Math.imul(xe,At)|0,a=(a=a+Math.imul(xe,fn)|0)+Math.imul(Ce,At)|0,v=v+Math.imul(Ce,fn)|0;var or=(L+(x=x+Math.imul(ge,wn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,vn)|0)+Math.imul(me,wn)|0))<<13)|0;L=((v=v+Math.imul(me,vn)|0)+(a>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(G,Tn),a=(a=Math.imul(G,rn))+Math.imul(fe,Tn)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,dt)|0,a=(a=a+Math.imul(F,it)|0)+Math.imul(D,dt)|0,v=v+Math.imul(D,it)|0,x=x+Math.imul(Ne,Gt)|0,a=(a=a+Math.imul(Ne,nn)|0)+Math.imul(ke,Gt)|0,v=v+Math.imul(ke,nn)|0,x=x+Math.imul(He,ot)|0,a=(a=a+Math.imul(He,ft)|0)+Math.imul(Ve,ot)|0,v=v+Math.imul(Ve,ft)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,We)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,We)|0,x=x+Math.imul(he,At)|0,a=(a=a+Math.imul(he,fn)|0)+Math.imul(ne,At)|0,v=v+Math.imul(ne,fn)|0;var yr=(L+(x=x+Math.imul(xe,wn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,vn)|0)+Math.imul(Ce,wn)|0))<<13)|0;L=((v=v+Math.imul(Ce,vn)|0)+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,x=Math.imul(G,dt),a=(a=Math.imul(G,it))+Math.imul(fe,dt)|0,v=Math.imul(fe,it),x=x+Math.imul(F,Gt)|0,a=(a=a+Math.imul(F,nn)|0)+Math.imul(D,Gt)|0,v=v+Math.imul(D,nn)|0,x=x+Math.imul(Ne,ot)|0,a=(a=a+Math.imul(Ne,ft)|0)+Math.imul(ke,ot)|0,v=v+Math.imul(ke,ft)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,We)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,We)|0,x=x+Math.imul(de,At)|0,a=(a=a+Math.imul(de,fn)|0)+Math.imul(_e,At)|0,v=v+Math.imul(_e,fn)|0;var Rr=(L+(x=x+Math.imul(he,wn)|0)|0)+((8191&(a=(a=a+Math.imul(he,vn)|0)+Math.imul(ne,wn)|0))<<13)|0;L=((v=v+Math.imul(ne,vn)|0)+(a>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,x=Math.imul(G,Gt),a=(a=Math.imul(G,nn))+Math.imul(fe,Gt)|0,v=Math.imul(fe,nn),x=x+Math.imul(F,ot)|0,a=(a=a+Math.imul(F,ft)|0)+Math.imul(D,ot)|0,v=v+Math.imul(D,ft)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,We)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,We)|0,x=x+Math.imul(He,At)|0,a=(a=a+Math.imul(He,fn)|0)+Math.imul(Ve,At)|0,v=v+Math.imul(Ve,fn)|0;var Ir=(L+(x=x+Math.imul(de,wn)|0)|0)+((8191&(a=(a=a+Math.imul(de,vn)|0)+Math.imul(_e,wn)|0))<<13)|0;L=((v=v+Math.imul(_e,vn)|0)+(a>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,x=Math.imul(G,ot),a=(a=Math.imul(G,ft))+Math.imul(fe,ot)|0,v=Math.imul(fe,ft),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,We)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,We)|0,x=x+Math.imul(Ne,At)|0,a=(a=a+Math.imul(Ne,fn)|0)+Math.imul(ke,At)|0,v=v+Math.imul(ke,fn)|0;var Lr=(L+(x=x+Math.imul(He,wn)|0)|0)+((8191&(a=(a=a+Math.imul(He,vn)|0)+Math.imul(Ve,wn)|0))<<13)|0;L=((v=v+Math.imul(Ve,vn)|0)+(a>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,We))+Math.imul(fe,Ke)|0,v=Math.imul(fe,We),x=x+Math.imul(F,At)|0,a=(a=a+Math.imul(F,fn)|0)+Math.imul(D,At)|0,v=v+Math.imul(D,fn)|0;var fr=(L+(x=x+Math.imul(Ne,wn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,vn)|0)+Math.imul(ke,wn)|0))<<13)|0;L=((v=v+Math.imul(ke,vn)|0)+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,x=Math.imul(G,At),a=(a=Math.imul(G,fn))+Math.imul(fe,At)|0,v=Math.imul(fe,fn);var en=(L+(x=x+Math.imul(F,wn)|0)|0)+((8191&(a=(a=a+Math.imul(F,vn)|0)+Math.imul(D,wn)|0))<<13)|0;L=((v=v+Math.imul(D,vn)|0)+(a>>>13)|0)+(en>>>26)|0,en&=67108863;var bn=(L+(x=Math.imul(G,wn))|0)+((8191&(a=(a=Math.imul(G,vn))+Math.imul(fe,wn)|0))<<13)|0;return L=((v=Math.imul(fe,vn))+(a>>>13)|0)+(bn>>>26)|0,bn&=67108863,I[0]=pr,I[1]=nr,I[2]=Bn,I[3]=Fn,I[4]=qe,I[5]=Oe,I[6]=Je,I[7]=Kt,I[8]=pn,I[9]=jn,I[10]=zn,I[11]=or,I[12]=yr,I[13]=Rr,I[14]=Ir,I[15]=Lr,I[16]=fr,I[17]=en,I[18]=bn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,w=0;w<d.length-1;w++){var I=f;f=0;for(var L=67108863&h,x=Math.min(w,s.length-1),a=Math.max(0,w-C.length+1);a<=x;a++){var ee=(0|C.words[w-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[w]=L,h=I,I=f}return 0!==h?d.words[w]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,w=0;w<d;w++)f|=(1&s)<<d-w-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,w,I){for(var L=0;L<I;L++)f[L]=d[s[L]],w[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,w,I){this.permute(I,s,d,h,f,w);for(var L=1;L<w;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<w;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ge=h[Z+le+L],ge=f[Z+le+L],me=z*Ge-ee*ge;ge=z*ge+ee*Ge,h[Z+le]=we+(Ge=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ge,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,w=0;for(h=h/2|0;h;h>>>=1)w++;return 1<<w+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var w=s[f];s[f]=s[h-f-1],s[h-f-1]=w,w=d[f],d[f]=-d[h-f-1],d[h-f-1]=-w}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var w=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&w,h=w<67108864?0:w/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var w=0,I=0;I<d;I++)h[2*I]=8191&(w+=0|s[I]),h[2*I+1]=8191&(w>>>=13),w>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===w),B(!(-8192&w))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),w=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,w),this.transform(v,I,Z,z,f,w);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,w),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,w=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=w>>>26,this.words[h]=67108863&w}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var w=h.sqr();f<d.length;f++,w=w.sqr())0!==d[f]&&(h=h.mul(w));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var w,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(w=0;w<this.length;w++){var L=this.words[w]&f;this.words[w]=(0|this.words[w])-L<<d|I,I=L>>>26-d}I&&(this.words[w]=I,this.length++)}if(0!==h){for(w=this.length-1;w>=0;w--)this.words[w+h]=this.words[w];for(w=0;w<h;w++)this.words[w]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var w=s%26,I=Math.min((s-w)/26,this.length),L=67108863^67108863>>>w<<w,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-w|Z>>>w,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var w;this._expand(s.length+h);var I,L=0;for(w=0;w<s.length;w++){I=(0|this.words[w+h])+L;var x=(0|s.words[w])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[w+h]=67108863&I}for(;w<this.length-h;w++)L=(I=(0|this.words[w+h])+L)>>26,this.words[w+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,w=0;w<this.length;w++)L=(I=-(0|this.words[w])+L)>>26,this.words[w]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),w=s,I=0|w.words[w.length-1];0!=(h=26-this._countBits(I))&&(w=w.ushln(h),f.iushln(h),I=0|w.words[w.length-1]);var a,x=f.length-w.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(w,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[w.length+z])+(0|f.words[w.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(w,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(w,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.iadd(s)),{div:f,mod:w}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.isub(s)),{div:I.div,mod:w}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,w,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),w=s.andln(1),I=h.cmp(f);return I<0||1===w&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||w.isOdd())&&(f.iadd(a),w.isub(v)),f.iushrn(1),w.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),w.isub(L)):(h.isub(d),I.isub(f),L.isub(w))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)w.isOdd()&&w.iadd(I),w.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(w)):(h.isub(d),w.isub(f))}return(Z=0===d.cmpn(1)?f:w).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var w=d.cmp(h);if(w<0){var I=d;d=h,h=I}else if(0===w||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var w=f,I=h;0!==w&&I<this.length;I++){var L=0|this.words[I];w=(L+=w)>>>26,this.words[I]=L&=67108863}return 0!==w&&(this.words[I]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],w=0|s.words[h];if(f!==w){f<w?d=-1:f>w&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),w=0;w<f;w++)d.words[w]=s.words[w];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,w=10;w<s.length;w++){var L=0|s.words[w];s.words[w-10]=(L&h)<<4|I>>>22,I=L}s.words[w-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,w=67108863&f;f>>>=26,s.words[h]=w,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),w=0;!f.isZero()&&0===f.andln(1);)w++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=w;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var w=2;w<f.length;w++)f[w]=this.mul(f[w-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),w=d.length-1;w>=0;w--){for(var v=d.words[w],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===w&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},48967:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ephemeralKeySize=j.symmetricNonceLength=j.symmetricAlgorithm=j.isHkdfKeyCompressed=j.isEphemeralKeyCompressed=j.ellipticCurve=j.ECIES_CONFIG=void 0;var g=E(29277);j.ECIES_CONFIG=new(function(){return function R(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),j.ellipticCurve=function(){return j.ECIES_CONFIG.ellipticCurve},j.isEphemeralKeyCompressed=function(){return j.ECIES_CONFIG.isEphemeralKeyCompressed},j.isHkdfKeyCompressed=function(){return j.ECIES_CONFIG.isHkdfKeyCompressed},j.symmetricAlgorithm=function(){return j.ECIES_CONFIG.symmetricAlgorithm},j.symmetricNonceLength=function(){return j.ECIES_CONFIG.symmetricNonceLength},j.ephemeralKeySize=function(){var R={secp256k1:j.ECIES_CONFIG.isEphemeralKeyCompressed?g.COMPRESSED_PUBLIC_KEY_SIZE:g.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:g.CURVE25519_PUBLIC_KEY_SIZE,ed25519:g.CURVE25519_PUBLIC_KEY_SIZE};if(j.ECIES_CONFIG.ellipticCurve in R)return R[j.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.AEAD_TAG_LENGTH=j.XCHACHA20_NONCE_LENGTH=j.CURVE25519_PUBLIC_KEY_SIZE=j.ETH_PUBLIC_KEY_SIZE=j.UNCOMPRESSED_PUBLIC_KEY_SIZE=j.COMPRESSED_PUBLIC_KEY_SIZE=j.SECRET_KEY_LENGTH=void 0,j.SECRET_KEY_LENGTH=32,j.COMPRESSED_PUBLIC_KEY_SIZE=33,j.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,j.ETH_PUBLIC_KEY_SIZE=64,j.CURVE25519_PUBLIC_KEY_SIZE=32,j.XCHACHA20_NONCE_LENGTH=24,j.AEAD_TAG_LENGTH=16},63397:($e,j,E)=>{"use strict";j.VV=j.Yc=j.w=void 0;var _=E(23790),B=E(48967),H=E(40774),b=E(77399);j.w=function k(O,A){var q,V=new H.PrivateKey,U=O instanceof Uint8Array?new H.PublicKey(O):H.PublicKey.fromHex(O),K=V.encapsulate(U),Q=(0,b.aesEncrypt)(K,A);return q=(0,B.isEphemeralKeyCompressed)()?V.publicKey.compressed:V.publicKey.uncompressed,Buffer.from((0,_.concatBytes)(q,Q))},j.Yc=function S(O,A){var V=O instanceof Uint8Array?new H.PrivateKey(O):H.PrivateKey.fromHex(O),U=(0,B.ephemeralKeySize)(),K=new H.PublicKey(A.subarray(0,U)),Q=A.subarray(U),q=K.decapsulate(V);return Buffer.from((0,b.aesDecrypt)(q,Q))};var P=E(48967);Object.defineProperty(j,"VV",{enumerable:!0,get:function(){return P.ECIES_CONFIG}});E(40774)},1210:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PrivateKey=void 0;var g=E(23790),_=E(48967),B=E(77399),H=E(40762),b=function(){function k(S){var P=void 0===S?(0,B.getValidSecret)():S;if(!(0,B.isValidPrivateKey)(P))throw new Error("Invalid private key");this.data=P,this.publicKey=new H.PublicKey((0,B.getPublicKey)(P))}return k.fromHex=function(S){return new k((0,B.decodeHex)(S))},Object.defineProperty(k.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),k.prototype.toHex=function(){return(0,g.bytesToHex)(this.data)},k.prototype.encapsulate=function(S){var P,R;return(0,_.isHkdfKeyCompressed)()?(P=this.publicKey.compressed,R=this.multiply(S,!0)):(P=this.publicKey.uncompressed,R=this.multiply(S,!1)),(0,B.getSharedKey)(P,R)},k.prototype.multiply=function(S,P){return void 0===P&&(P=!1),(0,B.getSharedPoint)(this.data,S.compressed,P)},k.prototype.equals=function(S){return(0,g.equalBytes)(this.data,S.data)},k}();j.PrivateKey=b},40762:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PublicKey=void 0;var g=E(23790),_=E(48967),B=E(77399),H=function(){function b(k){this.data=(0,B.convertPublicKeyFormat)(k,!0)}return b.fromHex=function(k){return new b((0,B.hexToPublicKey)(k))},Object.defineProperty(b.prototype,"uncompressed",{get:function(){return Buffer.from((0,B.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),b.prototype.toHex=function(k){return void 0===k&&(k=!0),(0,g.bytesToHex)(k?this.data:this.uncompressed)},b.prototype.decapsulate=function(k){var S,P;return(0,_.isHkdfKeyCompressed)()?(S=this.data,P=k.multiply(this,!0)):(S=this.uncompressed,P=k.multiply(this,!1)),(0,B.getSharedKey)(S,P)},b.prototype.equals=function(k){return(0,g.equalBytes)(this.data,k.data)},b}();j.PublicKey=H},40774:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PublicKey=j.PrivateKey=void 0;var g=E(1210);Object.defineProperty(j,"PrivateKey",{enumerable:!0,get:function(){return g.PrivateKey}});var _=E(40762);Object.defineProperty(j,"PublicKey",{enumerable:!0,get:function(){return _.PublicKey}})},1849:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.aes256gcm=void 0;var g=E(23790),_=E(91426),B=E(29277);j.aes256gcm=function H(b,k,S){return{tagLength:B.AEAD_TAG_LENGTH,encrypt:function(O){var A=(0,_.createCipheriv)("aes-256-gcm",b,k);S&&A.setAAD(S);var V=A.update(O),U=A.final();return(0,g.concatBytes)(V,U,A.getAuthTag())},decrypt:function(O){var A=O.subarray(0,O.length-B.AEAD_TAG_LENGTH),V=O.subarray(-B.AEAD_TAG_LENGTH),U=(0,_.createDecipheriv)("aes-256-gcm",b,k);S&&U.setAAD(S),U.setAuthTag(V);var K=U.update(A),Q=U.final();return(0,g.concatBytes)(K,Q)}}}},77553:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hexToPublicKey=j.convertPublicKeyFormat=j.getSharedPoint=j.getSharedKey=j.getPublicKey=j.isValidPrivateKey=j.getValidSecret=void 0;var g=E(23790),_=E(42098),B=E(57340),H=E(91717),b=E(48967),k=E(29277),S=E(99666),P=E(63364);function O(Y){return q(function(W){return W.utils.isValidPrivateKey(Y)},function(){return!0},function(){return!0})}function q(Y,W,re){if("secp256k1"===(0,b.ellipticCurve)())return Y(H.secp256k1);if("x25519"===(0,b.ellipticCurve)())return W(B.x25519);if("ed25519"===(0,b.ellipticCurve)())return re(B.ed25519);throw new Error("Not implemented")}j.getValidSecret=function R(){var Y;do{Y=(0,_.randomBytes)(k.SECRET_KEY_LENGTH)}while(!O(Y));return Y},j.isValidPrivateKey=O,j.getPublicKey=function A(Y){return q(function(W){return W.getPublicKey(Y)},function(W){return W.getPublicKey(Y)},function(W){return W.getPublicKey(Y)})},j.getSharedKey=function V(Y,W){return(0,P.deriveKey)((0,g.concatBytes)(Y,W))},j.getSharedPoint=function U(Y,W,re){return q(function(ie){return ie.getSharedSecret(Y,W,re)},function(ie){return ie.getSharedSecret(Y,W)},function(ie){var ae=ie.utils.getExtendedPublicKey(Y).scalar;return ie.ExtendedPoint.fromHex(W).multiply(ae).toRawBytes()})},j.convertPublicKeyFormat=function K(Y,W){return q(function(re){return re.getSharedSecret(BigInt(1),Y,W)},function(){return Y},function(){return Y})},j.hexToPublicKey=function Q(Y){var W=(0,S.decodeHex)(Y);return q(function(){if(W.length===k.ETH_PUBLIC_KEY_SIZE){var re=new Uint8Array(1+W.length);return re.set([4]),re.set(W,1),re}return W},function(){return W},function(){return W})}},99666:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.decodeHex=j.remove0x=void 0;var g=E(23790);function _(H){return H.startsWith("0x")||H.startsWith("0X")?H.slice(2):H}j.remove0x=_,j.decodeHex=function B(H){return(0,g.hexToBytes)(_(H))}},77399:function($e,j,E){"use strict";var g=this&&this.__createBinding||(Object.create?function(B,H,b,k){void 0===k&&(k=b);var S=Object.getOwnPropertyDescriptor(H,b);(!S||("get"in S?!H.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return H[b]}}),Object.defineProperty(B,k,S)}:function(B,H,b,k){void 0===k&&(k=b),B[k]=H[b]}),_=this&&this.__exportStar||function(B,H){for(var b in B)"default"!==b&&!Object.prototype.hasOwnProperty.call(H,b)&&g(H,B,b)};Object.defineProperty(j,"__esModule",{value:!0}),_(E(77553),j),_(E(99666),j),_(E(63364),j)},63364:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.deriveKey=j.aesDecrypt=j.aesEncrypt=void 0;var g=E(59219),_=E(23790),B=E(42098),H=E(57334),b=E(1806),k=E(48967),S=E(29277),P=E(1849);function V(Q,q,Y){var W=(0,k.symmetricAlgorithm)(),re=Q?U:K;if("aes-256-gcm"===W)return re(P.aes256gcm,q,Y,(0,k.symmetricNonceLength)());if("xchacha20"===W)return re(g.xchacha20poly1305,q,Y,S.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function U(Q,q,Y,W){var re=(0,B.randomBytes)(W),ae=Q(q,re).encrypt(Y),ue=ae.subarray(0,ae.length-S.AEAD_TAG_LENGTH),ce=ae.subarray(-S.AEAD_TAG_LENGTH);return(0,_.concatBytes)(re,ce,ue)}function K(Q,q,Y,W){var re=W+S.AEAD_TAG_LENGTH,ie=Y.subarray(0,W),ae=Y.subarray(W,re),ue=Y.subarray(re),ce=Q(q,Uint8Array.from(ie)),pe=(0,_.concatBytes)(ue,ae);return ce.decrypt(pe)}j.aesEncrypt=function R(Q,q){return V(!0,Q,q)},j.aesDecrypt=function O(Q,q){return V(!1,Q,q)},j.deriveKey=function A(Q){return(0,H.hkdf)(b.sha256,Q,void 0,void 0,32)}},32856:($e,j)=>{"use strict";function E(S){if(!Number.isSafeInteger(S)||S<0)throw new Error(`Wrong positive integer: ${S}`)}function g(S){if("boolean"!=typeof S)throw new Error(`Expected boolean, not ${S}`)}function _(S,...P){if(!(S instanceof Uint8Array))throw new Error("Expected Uint8Array");if(P.length>0&&!P.includes(S.length))throw new Error(`Expected Uint8Array of length ${P}, not of length=${S.length}`)}function B(S){if("function"!=typeof S||"function"!=typeof S.create)throw new Error("hash must be wrapped by utils.wrapConstructor");E(S.outputLen),E(S.blockLen)}function H(S,P=!0){if(S.destroyed)throw new Error("Hash instance has been destroyed");if(P&&S.finished)throw new Error("Hash#digest() has already been called")}function b(S,P){_(S);const R=P.outputLen;if(S.length<R)throw new Error(`digestInto() expects output buffer of length at least ${R}`)}Object.defineProperty(j,"__esModule",{value:!0}),j.output=j.exists=j.hash=j.bytes=j.bool=j.number=void 0,j.number=E,j.bool=g,j.bytes=_,j.hash=B,j.exists=H,j.output=b,j.default={number:E,bool:g,bytes:_,hash:B,exists:H,output:b}},17035:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.poly1305=j.wrapConstructorWithKey=void 0;const g=E(23790),_=E(32856),B=(k,S)=>255&k[S++]|(255&k[S++])<<8;class H{constructor(S){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,S=(0,g.toBytes)(S),(0,g.ensureBytes)(S,32);const P=B(S,0),R=B(S,2),O=B(S,4),A=B(S,6),V=B(S,8),U=B(S,10),K=B(S,12),Q=B(S,14);this.r[0]=8191&P,this.r[1]=8191&(P>>>13|R<<3),this.r[2]=7939&(R>>>10|O<<6),this.r[3]=8191&(O>>>7|A<<9),this.r[4]=255&(A>>>4|V<<12),this.r[5]=V>>>1&8190,this.r[6]=8191&(V>>>14|U<<2),this.r[7]=8065&(U>>>11|K<<5),this.r[8]=8191&(K>>>8|Q<<8),this.r[9]=Q>>>5&127;for(let q=0;q<8;q++)this.pad[q]=B(S,16+2*q)}process(S,P,R=!1){const O=R?0:2048,{h:A,r:V}=this,U=V[0],K=V[1],Q=V[2],q=V[3],Y=V[4],W=V[5],re=V[6],ie=V[7],ae=V[8],ue=V[9],ce=B(S,P+0),pe=B(S,P+2),ve=B(S,P+4),De=B(S,P+6),C=B(S,P+8),s=B(S,P+10),d=B(S,P+12),h=B(S,P+14);let f=A[0]+(8191&ce),w=A[1]+(8191&(ce>>>13|pe<<3)),I=A[2]+(8191&(pe>>>10|ve<<6)),L=A[3]+(8191&(ve>>>7|De<<9)),x=A[4]+(8191&(De>>>4|C<<12)),a=A[5]+(C>>>1&8191),v=A[6]+(8191&(C>>>14|s<<2)),Z=A[7]+(8191&(s>>>11|d<<5)),z=A[8]+(8191&(d>>>8|h<<8)),ee=A[9]+(h>>>5|O),le=0,we=le+f*U+w*(5*ue)+I*(5*ae)+L*(5*ie)+x*(5*re);le=we>>>13,we&=8191,we+=a*(5*W)+v*(5*Y)+Z*(5*q)+z*(5*Q)+ee*(5*K),le+=we>>>13,we&=8191;let Me=le+f*K+w*U+I*(5*ue)+L*(5*ae)+x*(5*ie);le=Me>>>13,Me&=8191,Me+=a*(5*re)+v*(5*W)+Z*(5*Y)+z*(5*q)+ee*(5*Q),le+=Me>>>13,Me&=8191;let Ge=le+f*Q+w*K+I*U+L*(5*ue)+x*(5*ae);le=Ge>>>13,Ge&=8191,Ge+=a*(5*ie)+v*(5*re)+Z*(5*W)+z*(5*Y)+ee*(5*q),le+=Ge>>>13,Ge&=8191;let ge=le+f*q+w*Q+I*K+L*U+x*(5*ue);le=ge>>>13,ge&=8191,ge+=a*(5*ae)+v*(5*ie)+Z*(5*re)+z*(5*W)+ee*(5*Y),le+=ge>>>13,ge&=8191;let me=le+f*Y+w*q+I*Q+L*K+x*U;le=me>>>13,me&=8191,me+=a*(5*ue)+v*(5*ae)+Z*(5*ie)+z*(5*re)+ee*(5*W),le+=me>>>13,me&=8191;let Ue=le+f*W+w*Y+I*q+L*Q+x*K;le=Ue>>>13,Ue&=8191,Ue+=a*U+v*(5*ue)+Z*(5*ae)+z*(5*ie)+ee*(5*re),le+=Ue>>>13,Ue&=8191;let xe=le+f*re+w*W+I*Y+L*q+x*Q;le=xe>>>13,xe&=8191,xe+=a*K+v*U+Z*(5*ue)+z*(5*ae)+ee*(5*ie),le+=xe>>>13,xe&=8191;let Ce=le+f*ie+w*re+I*W+L*Y+x*q;le=Ce>>>13,Ce&=8191,Ce+=a*Q+v*K+Z*U+z*(5*ue)+ee*(5*ae),le+=Ce>>>13,Ce&=8191;let be=le+f*ae+w*ie+I*re+L*W+x*Y;le=be>>>13,be&=8191,be+=a*q+v*Q+Z*K+z*U+ee*(5*ue),le+=be>>>13,be&=8191;let he=le+f*ue+w*ae+I*ie+L*re+x*W;le=he>>>13,he&=8191,he+=a*Y+v*q+Z*Q+z*K+ee*U,le+=he>>>13,he&=8191,le=(le<<2)+le|0,le=le+we|0,we=8191&le,le>>>=13,Me+=le,A[0]=we,A[1]=Me,A[2]=Ge,A[3]=ge,A[4]=me,A[5]=Ue,A[6]=xe,A[7]=Ce,A[8]=be,A[9]=he}finalize(){const{h:S,pad:P}=this,R=new Uint16Array(10);let O=S[1]>>>13;S[1]&=8191;for(let U=2;U<10;U++)S[U]+=O,O=S[U]>>>13,S[U]&=8191;S[0]+=5*O,O=S[0]>>>13,S[0]&=8191,S[1]+=O,O=S[1]>>>13,S[1]&=8191,S[2]+=O,R[0]=S[0]+5,O=R[0]>>>13,R[0]&=8191;for(let U=1;U<10;U++)R[U]=S[U]+O,O=R[U]>>>13,R[U]&=8191;R[9]-=8192;let A=(1^O)-1;for(let U=0;U<10;U++)R[U]&=A;A=~A;for(let U=0;U<10;U++)S[U]=S[U]&A|R[U];S[0]=65535&(S[0]|S[1]<<13),S[1]=65535&(S[1]>>>3|S[2]<<10),S[2]=65535&(S[2]>>>6|S[3]<<7),S[3]=65535&(S[3]>>>9|S[4]<<4),S[4]=65535&(S[4]>>>12|S[5]<<1|S[6]<<14),S[5]=65535&(S[6]>>>2|S[7]<<11),S[6]=65535&(S[7]>>>5|S[8]<<8),S[7]=65535&(S[8]>>>8|S[9]<<5);let V=S[0]+P[0];S[0]=65535&V;for(let U=1;U<8;U++)V=(S[U]+P[U]|0)+(V>>>16)|0,S[U]=65535&V}update(S){_.default.exists(this);const{buffer:P,blockLen:R}=this,O=(S=(0,g.toBytes)(S)).length;for(let A=0;A<O;){const V=Math.min(R-this.pos,O-A);if(V!==R)P.set(S.subarray(A,A+V),this.pos),this.pos+=V,A+=V,this.pos===R&&(this.process(P,0,!1),this.pos=0);else for(;R<=O-A;A+=R)this.process(S,A)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(S){_.default.exists(this),_.default.output(S,this),this.finished=!0;const{buffer:P,h:R}=this;let{pos:O}=this;if(O){for(P[O++]=1;O<16;O++)P[O]=0;this.process(P,0,!0)}this.finalize();let A=0;for(let V=0;V<8;V++)S[A++]=R[V]>>>0,S[A++]=R[V]>>>8;return S}digest(){const{buffer:S,outputLen:P}=this;this.digestInto(S);const R=S.slice(0,P);return this.destroy(),R}}function b(k){const S=(R,O)=>k(O).update((0,g.toBytes)(R)).digest(),P=k(new Uint8Array(32));return S.outputLen=P.outputLen,S.blockLen=P.blockLen,S.create=R=>k(R),S}j.wrapConstructorWithKey=b,j.poly1305=b(k=>new H(k))},70580:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.salsaBasic=void 0;const g=E(32856),_=E(23790),B=(0,_.utf8ToBytes)("expand 16-byte k"),H=(0,_.utf8ToBytes)("expand 32-byte k"),b=(0,_.u32)(B),k=(0,_.u32)(H),S=R=>!(R.byteOffset%4);j.salsaBasic=R=>{const{core:O,rounds:A,counterRight:V,counterLen:U,allow128bitKeys:K,extendNonceFn:Q,blockLen:q}=(0,_.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},R);g.default.number(U),g.default.number(A),g.default.number(q),g.default.bool(V),g.default.bool(K);const Y=q/4;if(q%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(W,re,ie,ae,ue=0)=>{if(g.default.bytes(W),g.default.bytes(re),g.default.bytes(ie),ae||(ae=new Uint8Array(ie.length)),g.default.bytes(ae),g.default.number(ue),ue<0||ue>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(ae.length<ie.length)throw new Error(`Salsa/ChaCha: output (${ae.length}) is shorter than data (${ie.length})`);const ce=[];let pe,ve;if(32===W.length)S(W)?pe=W:(pe=W.slice(),ce.push(pe)),ve=k;else{if(16!==W.length||!K)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${W.length}`);pe=new Uint8Array(32),pe.set(W),pe.set(W,16),ve=b,ce.push(pe)}if(S(re)||(re=re.slice(),ce.push(re)),Q){if(re.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");pe=Q(ve,pe,re.subarray(0,16),new Uint8Array(32)),ce.push(pe),re=re.subarray(16)}const De=16-U;if(re.length!==De)throw new Error(`Salsa/ChaCha: nonce must be ${De} or 16 bytes`);if(12!==De){const L=new Uint8Array(12);L.set(re,V?0:12-re.length),ce.push(re=L)}const C=new Uint8Array(q),s=(0,_.u32)(C),d=(0,_.u32)(pe),h=(0,_.u32)(re),f=S(ie)&&(0,_.u32)(ie),w=S(ae)&&(0,_.u32)(ae);ce.push(s);const I=ie.length;for(let L=0,x=ue;L<I;x++){if(O(ve,d,h,s,x,A),x>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const a=Math.min(q,I-L);if(a===q&&w&&f){const v=L/4;if(L%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let Z=0;Z<Y;Z++)w[v+Z]=f[v+Z]^s[Z];L+=q}else{for(let v=0;v<a;v++)ae[L+v]=ie[L+v]^C[v];L+=a}}for(let L=0;L<ce.length;L++)ce[L].fill(0);return ae}}},59219:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.xchacha20poly1305=j.chacha20poly1305=j._poly1305_aead=j.chacha12=j.chacha8=j.xchacha20=j.chacha20=j.chacha20orig=j.hchacha=void 0;const g=E(23790),_=E(17035),B=E(70580),H=(A,V)=>A<<V|A>>>32-V;function b(A,V,U,K,Q,q=20){let Y=A[0],W=A[1],re=A[2],ie=A[3],ae=V[0],ue=V[1],ce=V[2],pe=V[3],ve=V[4],De=V[5],C=V[6],s=V[7],d=Q,h=U[0],f=U[1],w=U[2],I=Y,L=W,x=re,a=ie,v=ae,Z=ue,z=ce,ee=pe,le=ve,we=De,Me=C,Ge=s,ge=d,me=h,Ue=f,xe=w;for(let be=0;be<q;be+=2)I=I+v|0,ge=H(ge^I,16),le=le+ge|0,v=H(v^le,12),I=I+v|0,ge=H(ge^I,8),le=le+ge|0,v=H(v^le,7),L=L+Z|0,me=H(me^L,16),we=we+me|0,Z=H(Z^we,12),L=L+Z|0,me=H(me^L,8),we=we+me|0,Z=H(Z^we,7),x=x+z|0,Ue=H(Ue^x,16),Me=Me+Ue|0,z=H(z^Me,12),x=x+z|0,Ue=H(Ue^x,8),Me=Me+Ue|0,z=H(z^Me,7),a=a+ee|0,xe=H(xe^a,16),Ge=Ge+xe|0,ee=H(ee^Ge,12),a=a+ee|0,xe=H(xe^a,8),Ge=Ge+xe|0,ee=H(ee^Ge,7),I=I+Z|0,xe=H(xe^I,16),Me=Me+xe|0,Z=H(Z^Me,12),I=I+Z|0,xe=H(xe^I,8),Me=Me+xe|0,Z=H(Z^Me,7),L=L+z|0,ge=H(ge^L,16),Ge=Ge+ge|0,z=H(z^Ge,12),L=L+z|0,ge=H(ge^L,8),Ge=Ge+ge|0,z=H(z^Ge,7),x=x+ee|0,me=H(me^x,16),le=le+me|0,ee=H(ee^le,12),x=x+ee|0,me=H(me^x,8),le=le+me|0,ee=H(ee^le,7),a=a+v|0,Ue=H(Ue^a,16),we=we+Ue|0,v=H(v^we,12),a=a+v|0,Ue=H(Ue^a,8),we=we+Ue|0,v=H(v^we,7);let Ce=0;K[Ce++]=Y+I|0,K[Ce++]=W+L|0,K[Ce++]=re+x|0,K[Ce++]=ie+a|0,K[Ce++]=ae+v|0,K[Ce++]=ue+Z|0,K[Ce++]=ce+z|0,K[Ce++]=pe+ee|0,K[Ce++]=ve+le|0,K[Ce++]=De+we|0,K[Ce++]=C+Me|0,K[Ce++]=s+Ge|0,K[Ce++]=d+ge|0,K[Ce++]=h+me|0,K[Ce++]=f+Ue|0,K[Ce++]=w+xe|0}function k(A,V,U,K){const Q=(0,g.u32)(V),q=(0,g.u32)(U),Y=(0,g.u32)(K);let W=A[0],re=A[1],ie=A[2],ae=A[3],ue=Q[0],ce=Q[1],pe=Q[2],ve=Q[3],De=Q[4],C=Q[5],s=Q[6],d=Q[7],h=q[0],f=q[1],w=q[2],I=q[3];for(let L=0;L<20;L+=2)W=W+ue|0,h=H(h^W,16),De=De+h|0,ue=H(ue^De,12),W=W+ue|0,h=H(h^W,8),De=De+h|0,ue=H(ue^De,7),re=re+ce|0,f=H(f^re,16),C=C+f|0,ce=H(ce^C,12),re=re+ce|0,f=H(f^re,8),C=C+f|0,ce=H(ce^C,7),ie=ie+pe|0,w=H(w^ie,16),s=s+w|0,pe=H(pe^s,12),ie=ie+pe|0,w=H(w^ie,8),s=s+w|0,pe=H(pe^s,7),ae=ae+ve|0,I=H(I^ae,16),d=d+I|0,ve=H(ve^d,12),ae=ae+ve|0,I=H(I^ae,8),d=d+I|0,ve=H(ve^d,7),W=W+ce|0,I=H(I^W,16),s=s+I|0,ce=H(ce^s,12),W=W+ce|0,I=H(I^W,8),s=s+I|0,ce=H(ce^s,7),re=re+pe|0,h=H(h^re,16),d=d+h|0,pe=H(pe^d,12),re=re+pe|0,h=H(h^re,8),d=d+h|0,pe=H(pe^d,7),ie=ie+ve|0,f=H(f^ie,16),De=De+f|0,ve=H(ve^De,12),ie=ie+ve|0,f=H(f^ie,8),De=De+f|0,ve=H(ve^De,7),ae=ae+ue|0,w=H(w^ae,16),C=C+w|0,ue=H(ue^C,12),ae=ae+ue|0,w=H(w^ae,8),C=C+w|0,ue=H(ue^C,7);return Y[0]=W,Y[1]=re,Y[2]=ie,Y[3]=ae,Y[4]=h,Y[5]=f,Y[6]=w,Y[7]=I,K}j.hchacha=k,j.chacha20orig=(0,B.salsaBasic)({core:b,counterRight:!1,counterLen:8}),j.chacha20=(0,B.salsaBasic)({core:b,counterRight:!1,counterLen:4,allow128bitKeys:!1}),j.xchacha20=(0,B.salsaBasic)({core:b,counterRight:!1,counterLen:8,extendNonceFn:k,allow128bitKeys:!1}),j.chacha8=(0,B.salsaBasic)({core:b,counterRight:!1,counterLen:4,rounds:8}),j.chacha12=(0,B.salsaBasic)({core:b,counterRight:!1,counterLen:4,rounds:12});const S=new Uint8Array(16),P=(A,V)=>{A.update(V);const U=V.length%16;U&&A.update(S.subarray(U))},R=(A,V,U,K,Q)=>{const q=A(V,U,new Uint8Array(32)),Y=_.poly1305.create(q);Q&&P(Y,Q),P(Y,K);const W=new Uint8Array(16),re=(0,g.createView)(W);(0,g.setBigUint64)(re,0,BigInt(Q?Q.length:0),!0),(0,g.setBigUint64)(re,8,BigInt(K.length),!0),Y.update(W);const ie=Y.digest();return q.fill(0),ie};j._poly1305_aead=A=>(V,U,K)=>((0,g.ensureBytes)(V,32),(0,g.ensureBytes)(U),{tagLength:16,encrypt:(q,Y)=>{const W=q.length,re=W+16;Y?(0,g.ensureBytes)(Y,re):Y=new Uint8Array(re),A(V,U,q,Y,1);const ie=R(A,V,U,Y.subarray(0,-16),K);return Y.set(ie,W),Y},decrypt:(q,Y)=>{const W=q.length,re=W-16;if(W<16)throw new Error("encrypted data must be at least 16 bytes");Y?(0,g.ensureBytes)(Y,re):Y=new Uint8Array(re);const ie=q.subarray(0,-16),ae=q.subarray(-16),ue=R(A,V,U,ie,K);if(!(0,g.equalBytes)(ae,ue))throw new Error("invalid tag");return A(V,U,ie,Y,1),Y}}),j.chacha20poly1305=(0,j._poly1305_aead)(j.chacha20),j.xchacha20poly1305=(0,j._poly1305_aead)(j.xchacha20)},23790:($e,j,E)=>{"use strict";var g=E(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.setBigUint64=j.Hash=j.equalBytes=j.ensureBytes=j.checkOpts=j.concatBytes=j.toBytes=j.bytesToUtf8=j.utf8ToBytes=j.asyncLoop=j.nextTick=j.hexToBytes=j.bytesToHex=j.isLE=j.createView=j.u32=j.u16=j.u8=void 0;const _=ce=>ce instanceof Uint8Array;if(j.u8=ce=>new Uint8Array(ce.buffer,ce.byteOffset,ce.byteLength),j.u16=ce=>new Uint16Array(ce.buffer,ce.byteOffset,Math.floor(ce.byteLength/2)),j.u32=ce=>new Uint32Array(ce.buffer,ce.byteOffset,Math.floor(ce.byteLength/4)),j.createView=ce=>new DataView(ce.buffer,ce.byteOffset,ce.byteLength),j.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!j.isLE)throw new Error("Non little-endian hardware is not supported");const S=Array.from({length:256},(ce,pe)=>pe.toString(16).padStart(2,"0"));function V(){return(V=g(function*(ce,pe,ve){let De=Date.now();for(let C=0;C<ce;C++){ve(C);const s=Date.now()-De;s>=0&&s<pe||(yield(0,j.nextTick)(),De+=s)}})).apply(this,arguments)}function U(ce){if("string"!=typeof ce)throw new Error("utf8ToBytes expected string, got "+typeof ce);return new Uint8Array((new TextEncoder).encode(ce))}j.bytesToHex=function P(ce){if(!_(ce))throw new Error("Uint8Array expected");let pe="";for(let ve=0;ve<ce.length;ve++)pe+=S[ce[ve]];return pe},j.hexToBytes=function R(ce){if("string"!=typeof ce)throw new Error("hex string expected, got "+typeof ce);const pe=ce.length;if(pe%2)throw new Error("padded hex string expected, got unpadded hex of length "+pe);const ve=new Uint8Array(pe/2);for(let De=0;De<ve.length;De++){const C=2*De,s=ce.slice(C,C+2),d=Number.parseInt(s,16);if(Number.isNaN(d)||d<0)throw new Error("Invalid byte sequence");ve[De]=d}return ve},j.nextTick=function(){var ce=g(function*(){});return function(){return ce.apply(this,arguments)}}(),j.asyncLoop=function A(ce,pe,ve){return V.apply(this,arguments)},j.utf8ToBytes=U,j.bytesToUtf8=function K(ce){return(new TextDecoder).decode(ce)},j.toBytes=function Q(ce){if("string"==typeof ce&&(ce=U(ce)),!_(ce))throw new Error("expected Uint8Array, got "+typeof ce);return ce},j.concatBytes=function q(...ce){const pe=new Uint8Array(ce.reduce((De,C)=>De+C.length,0));let ve=0;return ce.forEach(De=>{if(!_(De))throw new Error("Uint8Array expected");pe.set(De,ve),ve+=De.length}),pe},j.checkOpts=function W(ce,pe){if(void 0!==pe&&("object"!=typeof pe||!(ce=>"[object Object]"===Object.prototype.toString.call(ce)&&ce.constructor===Object)(pe)))throw new Error("options must be object or undefined");return Object.assign(ce,pe)},j.ensureBytes=function re(ce,pe){if(!(ce instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof pe&&ce.length!==pe)throw new Error(`Uint8Array length ${pe} expected`)},j.equalBytes=function ie(ce,pe){if(ce.length!==pe.length)throw new Error("equalBytes: Different size of Uint8Arrays");let ve=!0;for(let De=0;De<ce.length;De++)ve&&(ve=ce[De]===pe[De]);return ve},j.Hash=class ae{},j.setBigUint64=function ue(ce,pe,ve,De){if("function"==typeof ce.setBigUint64)return ce.setBigUint64(pe,ve,De);const C=BigInt(32),s=BigInt(4294967295),d=Number(ve>>C&s),h=Number(ve&s),w=De?0:4;ce.setUint32(pe+(De?4:0),d,De),ce.setUint32(pe+w,h,De)}},89742:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.crypto=void 0,j.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getWebcryptoSubtle=j.randomBytes=void 0;const g=E(89742);j.randomBytes=function _(H=32){if(g.crypto&&"function"==typeof g.crypto.getRandomValues)return g.crypto.getRandomValues(new Uint8Array(H));throw new Error("crypto.getRandomValues must be defined")},j.getWebcryptoSubtle=function B(){if(g.crypto&&"object"==typeof g.crypto.subtle&&null!=g.crypto.subtle)return g.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:($e,j,E)=>{"use strict";var g=j;g.version=E(1636).rE,g.utils=E(3136),g.rand=E(35294),g.curve=E(8729),g.curves=E(23401),g.ec=E(29042),g.eddsa=E(83045)},98828:($e,j,E)=>{"use strict";var g=E(88723),_=E(3136),B=_.getNAF,H=_.getJSF,b=_.assert;function k(P,R){this.type=P,this.p=new g(R.p,16),this.red=R.prime?g.red(R.prime):g.mont(this.p),this.zero=new g(0).toRed(this.red),this.one=new g(1).toRed(this.red),this.two=new g(2).toRed(this.red),this.n=R.n&&new g(R.n,16),this.g=R.g&&this.pointFromJSON(R.g,R.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var O=this.n&&this.p.div(this.n);!O||O.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function S(P,R){this.curve=P,this.type=R,this.precomputed=null}$e.exports=k,k.prototype.point=function(){throw new Error("Not implemented")},k.prototype.validate=function(){throw new Error("Not implemented")},k.prototype._fixedNafMul=function(R,O){b(R.precomputed);var A=R._getDoubles(),V=B(O,1,this._bitLength),U=(1<<A.step+1)-(A.step%2==0?2:1);U/=3;var Q,q,K=[];for(Q=0;Q<V.length;Q+=A.step){q=0;for(var Y=Q+A.step-1;Y>=Q;Y--)q=(q<<1)+V[Y];K.push(q)}for(var W=this.jpoint(null,null,null),re=this.jpoint(null,null,null),ie=U;ie>0;ie--){for(Q=0;Q<K.length;Q++)(q=K[Q])===ie?re=re.mixedAdd(A.points[Q]):q===-ie&&(re=re.mixedAdd(A.points[Q].neg()));W=W.add(re)}return W.toP()},k.prototype._wnafMul=function(R,O){for(var A=4,V=R._getNAFPoints(A),U=V.points,K=B(O,A=V.wnd,this._bitLength),Q=this.jpoint(null,null,null),q=K.length-1;q>=0;q--){for(var Y=0;q>=0&&0===K[q];q--)Y++;if(q>=0&&Y++,Q=Q.dblp(Y),q<0)break;var W=K[q];b(0!==W),Q="affine"===R.type?Q.mixedAdd(W>0?U[W-1>>1]:U[-W-1>>1].neg()):Q.add(W>0?U[W-1>>1]:U[-W-1>>1].neg())}return"affine"===R.type?Q.toP():Q},k.prototype._wnafMulAdd=function(R,O,A,V,U){var W,re,ie,K=this._wnafT1,Q=this._wnafT2,q=this._wnafT3,Y=0;for(W=0;W<V;W++){var ae=(ie=O[W])._getNAFPoints(R);K[W]=ae.wnd,Q[W]=ae.points}for(W=V-1;W>=1;W-=2){var ue=W-1,ce=W;if(1===K[ue]&&1===K[ce]){var pe=[O[ue],null,null,O[ce]];0===O[ue].y.cmp(O[ce].y)?(pe[1]=O[ue].add(O[ce]),pe[2]=O[ue].toJ().mixedAdd(O[ce].neg())):0===O[ue].y.cmp(O[ce].y.redNeg())?(pe[1]=O[ue].toJ().mixedAdd(O[ce]),pe[2]=O[ue].add(O[ce].neg())):(pe[1]=O[ue].toJ().mixedAdd(O[ce]),pe[2]=O[ue].toJ().mixedAdd(O[ce].neg()));var ve=[-3,-1,-5,-7,0,7,5,1,3],De=H(A[ue],A[ce]);for(Y=Math.max(De[0].length,Y),q[ue]=new Array(Y),q[ce]=new Array(Y),re=0;re<Y;re++)q[ue][re]=ve[3*(1+(0|De[0][re]))+(1+(0|De[1][re]))],q[ce][re]=0,Q[ue]=pe}else q[ue]=B(A[ue],K[ue],this._bitLength),q[ce]=B(A[ce],K[ce],this._bitLength),Y=Math.max(q[ue].length,Y),Y=Math.max(q[ce].length,Y)}var d=this.jpoint(null,null,null),h=this._wnafT4;for(W=Y;W>=0;W--){for(var f=0;W>=0;){var w=!0;for(re=0;re<V;re++)h[re]=0|q[re][W],0!==h[re]&&(w=!1);if(!w)break;f++,W--}if(W>=0&&f++,d=d.dblp(f),W<0)break;for(re=0;re<V;re++){var I=h[re];0!==I&&(I>0?ie=Q[re][I-1>>1]:I<0&&(ie=Q[re][-I-1>>1].neg()),d="affine"===ie.type?d.mixedAdd(ie):d.add(ie))}}for(W=0;W<V;W++)Q[W]=null;return U?d:d.toP()},k.BasePoint=S,S.prototype.eq=function(){throw new Error("Not implemented")},S.prototype.validate=function(){return this.curve.validate(this)},k.prototype.decodePoint=function(R,O){R=_.toArray(R,O);var A=this.p.byteLength();if((4===R[0]||6===R[0]||7===R[0])&&R.length-1==2*A)return 6===R[0]?b(R[R.length-1]%2==0):7===R[0]&&b(R[R.length-1]%2==1),this.point(R.slice(1,1+A),R.slice(1+A,1+2*A));if((2===R[0]||3===R[0])&&R.length-1===A)return this.pointFromX(R.slice(1,1+A),3===R[0]);throw new Error("Unknown point format")},S.prototype.encodeCompressed=function(R){return this.encode(R,!0)},S.prototype._encode=function(R){var O=this.curve.p.byteLength(),A=this.getX().toArray("be",O);return R?[this.getY().isEven()?2:3].concat(A):[4].concat(A,this.getY().toArray("be",O))},S.prototype.encode=function(R,O){return _.encode(this._encode(O),R)},S.prototype.precompute=function(R){if(this.precomputed)return this;var O={doubles:null,naf:null,beta:null};return O.naf=this._getNAFPoints(8),O.doubles=this._getDoubles(4,R),O.beta=this._getBeta(),this.precomputed=O,this},S.prototype._hasDoubles=function(R){if(!this.precomputed)return!1;var O=this.precomputed.doubles;return!!O&&O.points.length>=Math.ceil((R.bitLength()+1)/O.step)},S.prototype._getDoubles=function(R,O){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var A=[this],V=this,U=0;U<O;U+=R){for(var K=0;K<R;K++)V=V.dbl();A.push(V)}return{step:R,points:A}},S.prototype._getNAFPoints=function(R){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var O=[this],A=(1<<R)-1,V=1===A?null:this.dbl(),U=1;U<A;U++)O[U]=O[U-1].add(V);return{wnd:R,points:O}},S.prototype._getBeta=function(){return null},S.prototype.dblp=function(R){for(var O=this,A=0;A<R;A++)O=O.dbl();return O}},55537:($e,j,E)=>{"use strict";var g=E(3136),_=E(88723),B=E(71993),H=E(98828),b=g.assert;function k(P){this.twisted=1!=(0|P.a),this.mOneA=this.twisted&&-1==(0|P.a),this.extended=this.mOneA,H.call(this,"edwards",P),this.a=new _(P.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new _(P.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new _(P.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),b(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|P.c)}function S(P,R,O,A,V){H.BasePoint.call(this,P,"projective"),null===R&&null===O&&null===A?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new _(R,16),this.y=new _(O,16),this.z=A?new _(A,16):this.curve.one,this.t=V&&new _(V,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}B(k,H),$e.exports=k,k.prototype._mulA=function(R){return this.mOneA?R.redNeg():this.a.redMul(R)},k.prototype._mulC=function(R){return this.oneC?R:this.c.redMul(R)},k.prototype.jpoint=function(R,O,A,V){return this.point(R,O,A,V)},k.prototype.pointFromX=function(R,O){(R=new _(R,16)).red||(R=R.toRed(this.red));var A=R.redSqr(),V=this.c2.redSub(this.a.redMul(A)),U=this.one.redSub(this.c2.redMul(this.d).redMul(A)),K=V.redMul(U.redInvm()),Q=K.redSqrt();if(0!==Q.redSqr().redSub(K).cmp(this.zero))throw new Error("invalid point");var q=Q.fromRed().isOdd();return(O&&!q||!O&&q)&&(Q=Q.redNeg()),this.point(R,Q)},k.prototype.pointFromY=function(R,O){(R=new _(R,16)).red||(R=R.toRed(this.red));var A=R.redSqr(),V=A.redSub(this.c2),U=A.redMul(this.d).redMul(this.c2).redSub(this.a),K=V.redMul(U.redInvm());if(0===K.cmp(this.zero)){if(O)throw new Error("invalid point");return this.point(this.zero,R)}var Q=K.redSqrt();if(0!==Q.redSqr().redSub(K).cmp(this.zero))throw new Error("invalid point");return Q.fromRed().isOdd()!==O&&(Q=Q.redNeg()),this.point(Q,R)},k.prototype.validate=function(R){if(R.isInfinity())return!0;R.normalize();var O=R.x.redSqr(),A=R.y.redSqr(),V=O.redMul(this.a).redAdd(A),U=this.c2.redMul(this.one.redAdd(this.d.redMul(O).redMul(A)));return 0===V.cmp(U)},B(S,H.BasePoint),k.prototype.pointFromJSON=function(R){return S.fromJSON(this,R)},k.prototype.point=function(R,O,A,V){return new S(this,R,O,A,V)},S.fromJSON=function(R,O){return new S(R,O[0],O[1],O[2])},S.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},S.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},S.prototype._extDbl=function(){var R=this.x.redSqr(),O=this.y.redSqr(),A=this.z.redSqr();A=A.redIAdd(A);var V=this.curve._mulA(R),U=this.x.redAdd(this.y).redSqr().redISub(R).redISub(O),K=V.redAdd(O),Q=K.redSub(A),q=V.redSub(O),Y=U.redMul(Q),W=K.redMul(q),re=U.redMul(q),ie=Q.redMul(K);return this.curve.point(Y,W,ie,re)},S.prototype._projDbl=function(){var V,U,K,Q,q,Y,R=this.x.redAdd(this.y).redSqr(),O=this.x.redSqr(),A=this.y.redSqr();if(this.curve.twisted){var W=(Q=this.curve._mulA(O)).redAdd(A);this.zOne?(V=R.redSub(O).redSub(A).redMul(W.redSub(this.curve.two)),U=W.redMul(Q.redSub(A)),K=W.redSqr().redSub(W).redSub(W)):(q=this.z.redSqr(),Y=W.redSub(q).redISub(q),V=R.redSub(O).redISub(A).redMul(Y),U=W.redMul(Q.redSub(A)),K=W.redMul(Y))}else Q=O.redAdd(A),q=this.curve._mulC(this.z).redSqr(),Y=Q.redSub(q).redSub(q),V=this.curve._mulC(R.redISub(Q)).redMul(Y),U=this.curve._mulC(Q).redMul(O.redISub(A)),K=Q.redMul(Y);return this.curve.point(V,U,K)},S.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},S.prototype._extAdd=function(R){var O=this.y.redSub(this.x).redMul(R.y.redSub(R.x)),A=this.y.redAdd(this.x).redMul(R.y.redAdd(R.x)),V=this.t.redMul(this.curve.dd).redMul(R.t),U=this.z.redMul(R.z.redAdd(R.z)),K=A.redSub(O),Q=U.redSub(V),q=U.redAdd(V),Y=A.redAdd(O),W=K.redMul(Q),re=q.redMul(Y),ie=K.redMul(Y),ae=Q.redMul(q);return this.curve.point(W,re,ae,ie)},S.prototype._projAdd=function(R){var re,ie,O=this.z.redMul(R.z),A=O.redSqr(),V=this.x.redMul(R.x),U=this.y.redMul(R.y),K=this.curve.d.redMul(V).redMul(U),Q=A.redSub(K),q=A.redAdd(K),Y=this.x.redAdd(this.y).redMul(R.x.redAdd(R.y)).redISub(V).redISub(U),W=O.redMul(Q).redMul(Y);return this.curve.twisted?(re=O.redMul(q).redMul(U.redSub(this.curve._mulA(V))),ie=Q.redMul(q)):(re=O.redMul(q).redMul(U.redSub(V)),ie=this.curve._mulC(Q).redMul(q)),this.curve.point(W,re,ie)},S.prototype.add=function(R){return this.isInfinity()?R:R.isInfinity()?this:this.curve.extended?this._extAdd(R):this._projAdd(R)},S.prototype.mul=function(R){return this._hasDoubles(R)?this.curve._fixedNafMul(this,R):this.curve._wnafMul(this,R)},S.prototype.mulAdd=function(R,O,A){return this.curve._wnafMulAdd(1,[this,O],[R,A],2,!1)},S.prototype.jmulAdd=function(R,O,A){return this.curve._wnafMulAdd(1,[this,O],[R,A],2,!0)},S.prototype.normalize=function(){if(this.zOne)return this;var R=this.z.redInvm();return this.x=this.x.redMul(R),this.y=this.y.redMul(R),this.t&&(this.t=this.t.redMul(R)),this.z=this.curve.one,this.zOne=!0,this},S.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},S.prototype.getX=function(){return this.normalize(),this.x.fromRed()},S.prototype.getY=function(){return this.normalize(),this.y.fromRed()},S.prototype.eq=function(R){return this===R||0===this.getX().cmp(R.getX())&&0===this.getY().cmp(R.getY())},S.prototype.eqXToP=function(R){var O=R.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(O))return!0;for(var A=R.clone(),V=this.curve.redN.redMul(this.z);;){if(A.iadd(this.curve.n),A.cmp(this.curve.p)>=0)return!1;if(O.redIAdd(V),0===this.x.cmp(O))return!0}},S.prototype.toP=S.prototype.normalize,S.prototype.mixedAdd=S.prototype.add},8729:($e,j,E)=>{"use strict";var g=j;g.base=E(98828),g.short=E(68075),g.mont=E(64947),g.edwards=E(55537)},64947:($e,j,E)=>{"use strict";var g=E(88723),_=E(71993),B=E(98828),H=E(3136);function b(S){B.call(this,"mont",S),this.a=new g(S.a,16).toRed(this.red),this.b=new g(S.b,16).toRed(this.red),this.i4=new g(4).toRed(this.red).redInvm(),this.two=new g(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function k(S,P,R){B.BasePoint.call(this,S,"projective"),null===P&&null===R?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new g(P,16),this.z=new g(R,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}_(b,B),$e.exports=b,b.prototype.validate=function(P){var R=P.normalize().x,O=R.redSqr(),A=O.redMul(R).redAdd(O.redMul(this.a)).redAdd(R);return 0===A.redSqrt().redSqr().cmp(A)},_(k,B.BasePoint),b.prototype.decodePoint=function(P,R){return this.point(H.toArray(P,R),1)},b.prototype.point=function(P,R){return new k(this,P,R)},b.prototype.pointFromJSON=function(P){return k.fromJSON(this,P)},k.prototype.precompute=function(){},k.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},k.fromJSON=function(P,R){return new k(P,R[0],R[1]||P.one)},k.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},k.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},k.prototype.dbl=function(){var R=this.x.redAdd(this.z).redSqr(),A=this.x.redSub(this.z).redSqr(),V=R.redSub(A),U=R.redMul(A),K=V.redMul(A.redAdd(this.curve.a24.redMul(V)));return this.curve.point(U,K)},k.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.diffAdd=function(P,R){var O=this.x.redAdd(this.z),A=this.x.redSub(this.z),V=P.x.redAdd(P.z),K=P.x.redSub(P.z).redMul(O),Q=V.redMul(A),q=R.z.redMul(K.redAdd(Q).redSqr()),Y=R.x.redMul(K.redISub(Q).redSqr());return this.curve.point(q,Y)},k.prototype.mul=function(P){for(var R=P.clone(),O=this,A=this.curve.point(null,null),U=[];0!==R.cmpn(0);R.iushrn(1))U.push(R.andln(1));for(var K=U.length-1;K>=0;K--)0===U[K]?(O=O.diffAdd(A,this),A=A.dbl()):(A=O.diffAdd(A,this),O=O.dbl());return A},k.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.eq=function(P){return 0===this.getX().cmp(P.getX())},k.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},k.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:($e,j,E)=>{"use strict";var g=E(3136),_=E(88723),B=E(71993),H=E(98828),b=g.assert;function k(R){H.call(this,"short",R),this.a=new _(R.a,16).toRed(this.red),this.b=new _(R.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(R),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function S(R,O,A,V){H.BasePoint.call(this,R,"affine"),null===O&&null===A?(this.x=null,this.y=null,this.inf=!0):(this.x=new _(O,16),this.y=new _(A,16),V&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function P(R,O,A,V){H.BasePoint.call(this,R,"jacobian"),null===O&&null===A&&null===V?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _(0)):(this.x=new _(O,16),this.y=new _(A,16),this.z=new _(V,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}B(k,H),$e.exports=k,k.prototype._getEndomorphism=function(O){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var A,V;if(O.beta)A=new _(O.beta,16).toRed(this.red);else{var U=this._getEndoRoots(this.p);A=(A=U[0].cmp(U[1])<0?U[0]:U[1]).toRed(this.red)}if(O.lambda)V=new _(O.lambda,16);else{var K=this._getEndoRoots(this.n);0===this.g.mul(K[0]).x.cmp(this.g.x.redMul(A))?V=K[0]:b(0===this.g.mul(V=K[1]).x.cmp(this.g.x.redMul(A)))}return{beta:A,lambda:V,basis:O.basis?O.basis.map(function(q){return{a:new _(q.a,16),b:new _(q.b,16)}}):this._getEndoBasis(V)}}},k.prototype._getEndoRoots=function(O){var A=O===this.p?this.red:_.mont(O),V=new _(2).toRed(A).redInvm(),U=V.redNeg(),K=new _(3).toRed(A).redNeg().redSqrt().redMul(V);return[U.redAdd(K).fromRed(),U.redSub(K).fromRed()]},k.prototype._getEndoBasis=function(O){for(var W,re,ie,ae,ue,ce,pe,De,C,A=this.n.ushrn(Math.floor(this.n.bitLength()/2)),V=O,U=this.n.clone(),K=new _(1),Q=new _(0),q=new _(0),Y=new _(1),ve=0;0!==V.cmpn(0);){var s=U.div(V);De=U.sub(s.mul(V)),C=q.sub(s.mul(K));var d=Y.sub(s.mul(Q));if(!ie&&De.cmp(A)<0)W=pe.neg(),re=K,ie=De.neg(),ae=C;else if(ie&&2==++ve)break;pe=De,U=V,V=De,q=K,K=C,Y=Q,Q=d}ue=De.neg(),ce=C;var h=ie.sqr().add(ae.sqr());return ue.sqr().add(ce.sqr()).cmp(h)>=0&&(ue=W,ce=re),ie.negative&&(ie=ie.neg(),ae=ae.neg()),ue.negative&&(ue=ue.neg(),ce=ce.neg()),[{a:ie,b:ae},{a:ue,b:ce}]},k.prototype._endoSplit=function(O){var A=this.endo.basis,V=A[0],U=A[1],K=U.b.mul(O).divRound(this.n),Q=V.b.neg().mul(O).divRound(this.n),q=K.mul(V.a),Y=Q.mul(U.a),W=K.mul(V.b),re=Q.mul(U.b);return{k1:O.sub(q).sub(Y),k2:W.add(re).neg()}},k.prototype.pointFromX=function(O,A){(O=new _(O,16)).red||(O=O.toRed(this.red));var V=O.redSqr().redMul(O).redIAdd(O.redMul(this.a)).redIAdd(this.b),U=V.redSqrt();if(0!==U.redSqr().redSub(V).cmp(this.zero))throw new Error("invalid point");var K=U.fromRed().isOdd();return(A&&!K||!A&&K)&&(U=U.redNeg()),this.point(O,U)},k.prototype.validate=function(O){if(O.inf)return!0;var A=O.x,V=O.y,U=this.a.redMul(A),K=A.redSqr().redMul(A).redIAdd(U).redIAdd(this.b);return 0===V.redSqr().redISub(K).cmpn(0)},k.prototype._endoWnafMulAdd=function(O,A,V){for(var U=this._endoWnafT1,K=this._endoWnafT2,Q=0;Q<O.length;Q++){var q=this._endoSplit(A[Q]),Y=O[Q],W=Y._getBeta();q.k1.negative&&(q.k1.ineg(),Y=Y.neg(!0)),q.k2.negative&&(q.k2.ineg(),W=W.neg(!0)),U[2*Q]=Y,U[2*Q+1]=W,K[2*Q]=q.k1,K[2*Q+1]=q.k2}for(var re=this._wnafMulAdd(1,U,K,2*Q,V),ie=0;ie<2*Q;ie++)U[ie]=null,K[ie]=null;return re},B(S,H.BasePoint),k.prototype.point=function(O,A,V){return new S(this,O,A,V)},k.prototype.pointFromJSON=function(O,A){return S.fromJSON(this,O,A)},S.prototype._getBeta=function(){if(this.curve.endo){var O=this.precomputed;if(O&&O.beta)return O.beta;var A=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(O){var V=this.curve,U=function(K){return V.point(K.x.redMul(V.endo.beta),K.y)};O.beta=A,A.precomputed={beta:null,naf:O.naf&&{wnd:O.naf.wnd,points:O.naf.points.map(U)},doubles:O.doubles&&{step:O.doubles.step,points:O.doubles.points.map(U)}}}return A}},S.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},S.fromJSON=function(O,A,V){"string"==typeof A&&(A=JSON.parse(A));var U=O.point(A[0],A[1],V);if(!A[2])return U;function K(q){return O.point(q[0],q[1],V)}var Q=A[2];return U.precomputed={beta:null,doubles:Q.doubles&&{step:Q.doubles.step,points:[U].concat(Q.doubles.points.map(K))},naf:Q.naf&&{wnd:Q.naf.wnd,points:[U].concat(Q.naf.points.map(K))}},U},S.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},S.prototype.isInfinity=function(){return this.inf},S.prototype.add=function(O){if(this.inf)return O;if(O.inf)return this;if(this.eq(O))return this.dbl();if(this.neg().eq(O))return this.curve.point(null,null);if(0===this.x.cmp(O.x))return this.curve.point(null,null);var A=this.y.redSub(O.y);0!==A.cmpn(0)&&(A=A.redMul(this.x.redSub(O.x).redInvm()));var V=A.redSqr().redISub(this.x).redISub(O.x),U=A.redMul(this.x.redSub(V)).redISub(this.y);return this.curve.point(V,U)},S.prototype.dbl=function(){if(this.inf)return this;var O=this.y.redAdd(this.y);if(0===O.cmpn(0))return this.curve.point(null,null);var A=this.curve.a,V=this.x.redSqr(),U=O.redInvm(),K=V.redAdd(V).redIAdd(V).redIAdd(A).redMul(U),Q=K.redSqr().redISub(this.x.redAdd(this.x)),q=K.redMul(this.x.redSub(Q)).redISub(this.y);return this.curve.point(Q,q)},S.prototype.getX=function(){return this.x.fromRed()},S.prototype.getY=function(){return this.y.fromRed()},S.prototype.mul=function(O){return O=new _(O,16),this.isInfinity()?this:this._hasDoubles(O)?this.curve._fixedNafMul(this,O):this.curve.endo?this.curve._endoWnafMulAdd([this],[O]):this.curve._wnafMul(this,O)},S.prototype.mulAdd=function(O,A,V){var U=[this,A],K=[O,V];return this.curve.endo?this.curve._endoWnafMulAdd(U,K):this.curve._wnafMulAdd(1,U,K,2)},S.prototype.jmulAdd=function(O,A,V){var U=[this,A],K=[O,V];return this.curve.endo?this.curve._endoWnafMulAdd(U,K,!0):this.curve._wnafMulAdd(1,U,K,2,!0)},S.prototype.eq=function(O){return this===O||this.inf===O.inf&&(this.inf||0===this.x.cmp(O.x)&&0===this.y.cmp(O.y))},S.prototype.neg=function(O){if(this.inf)return this;var A=this.curve.point(this.x,this.y.redNeg());if(O&&this.precomputed){var V=this.precomputed,U=function(K){return K.neg()};A.precomputed={naf:V.naf&&{wnd:V.naf.wnd,points:V.naf.points.map(U)},doubles:V.doubles&&{step:V.doubles.step,points:V.doubles.points.map(U)}}}return A},S.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},B(P,H.BasePoint),k.prototype.jpoint=function(O,A,V){return new P(this,O,A,V)},P.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var O=this.z.redInvm(),A=O.redSqr(),V=this.x.redMul(A),U=this.y.redMul(A).redMul(O);return this.curve.point(V,U)},P.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},P.prototype.add=function(O){if(this.isInfinity())return O;if(O.isInfinity())return this;var A=O.z.redSqr(),V=this.z.redSqr(),U=this.x.redMul(A),K=O.x.redMul(V),Q=this.y.redMul(A.redMul(O.z)),q=O.y.redMul(V.redMul(this.z)),Y=U.redSub(K),W=Q.redSub(q);if(0===Y.cmpn(0))return 0!==W.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var re=Y.redSqr(),ie=re.redMul(Y),ae=U.redMul(re),ue=W.redSqr().redIAdd(ie).redISub(ae).redISub(ae),ce=W.redMul(ae.redISub(ue)).redISub(Q.redMul(ie)),pe=this.z.redMul(O.z).redMul(Y);return this.curve.jpoint(ue,ce,pe)},P.prototype.mixedAdd=function(O){if(this.isInfinity())return O.toJ();if(O.isInfinity())return this;var A=this.z.redSqr(),V=this.x,U=O.x.redMul(A),K=this.y,Q=O.y.redMul(A).redMul(this.z),q=V.redSub(U),Y=K.redSub(Q);if(0===q.cmpn(0))return 0!==Y.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var W=q.redSqr(),re=W.redMul(q),ie=V.redMul(W),ae=Y.redSqr().redIAdd(re).redISub(ie).redISub(ie),ue=Y.redMul(ie.redISub(ae)).redISub(K.redMul(re)),ce=this.z.redMul(q);return this.curve.jpoint(ae,ue,ce)},P.prototype.dblp=function(O){if(0===O)return this;if(this.isInfinity())return this;if(!O)return this.dbl();var A;if(this.curve.zeroA||this.curve.threeA){var V=this;for(A=0;A<O;A++)V=V.dbl();return V}var U=this.curve.a,K=this.curve.tinv,Q=this.x,q=this.y,Y=this.z,W=Y.redSqr().redSqr(),re=q.redAdd(q);for(A=0;A<O;A++){var ie=Q.redSqr(),ae=re.redSqr(),ue=ae.redSqr(),ce=ie.redAdd(ie).redIAdd(ie).redIAdd(U.redMul(W)),pe=Q.redMul(ae),ve=ce.redSqr().redISub(pe.redAdd(pe)),De=pe.redISub(ve),C=ce.redMul(De);C=C.redIAdd(C).redISub(ue);var s=re.redMul(Y);A+1<O&&(W=W.redMul(ue)),Q=ve,Y=s,re=C}return this.curve.jpoint(Q,re.redMul(K),Y)},P.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},P.prototype._zeroDbl=function(){var O,A,V;if(this.zOne){var U=this.x.redSqr(),K=this.y.redSqr(),Q=K.redSqr(),q=this.x.redAdd(K).redSqr().redISub(U).redISub(Q);q=q.redIAdd(q);var Y=U.redAdd(U).redIAdd(U),W=Y.redSqr().redISub(q).redISub(q),re=Q.redIAdd(Q);re=(re=re.redIAdd(re)).redIAdd(re),O=W,A=Y.redMul(q.redISub(W)).redISub(re),V=this.y.redAdd(this.y)}else{var ie=this.x.redSqr(),ae=this.y.redSqr(),ue=ae.redSqr(),ce=this.x.redAdd(ae).redSqr().redISub(ie).redISub(ue);ce=ce.redIAdd(ce);var pe=ie.redAdd(ie).redIAdd(ie),ve=pe.redSqr(),De=ue.redIAdd(ue);De=(De=De.redIAdd(De)).redIAdd(De),O=ve.redISub(ce).redISub(ce),A=pe.redMul(ce.redISub(O)).redISub(De),V=(V=this.y.redMul(this.z)).redIAdd(V)}return this.curve.jpoint(O,A,V)},P.prototype._threeDbl=function(){var O,A,V;if(this.zOne){var U=this.x.redSqr(),K=this.y.redSqr(),Q=K.redSqr(),q=this.x.redAdd(K).redSqr().redISub(U).redISub(Q);q=q.redIAdd(q);var Y=U.redAdd(U).redIAdd(U).redIAdd(this.curve.a),W=Y.redSqr().redISub(q).redISub(q);O=W;var re=Q.redIAdd(Q);re=(re=re.redIAdd(re)).redIAdd(re),A=Y.redMul(q.redISub(W)).redISub(re),V=this.y.redAdd(this.y)}else{var ie=this.z.redSqr(),ae=this.y.redSqr(),ue=this.x.redMul(ae),ce=this.x.redSub(ie).redMul(this.x.redAdd(ie));ce=ce.redAdd(ce).redIAdd(ce);var pe=ue.redIAdd(ue),ve=(pe=pe.redIAdd(pe)).redAdd(pe);O=ce.redSqr().redISub(ve),V=this.y.redAdd(this.z).redSqr().redISub(ae).redISub(ie);var De=ae.redSqr();De=(De=(De=De.redIAdd(De)).redIAdd(De)).redIAdd(De),A=ce.redMul(pe.redISub(O)).redISub(De)}return this.curve.jpoint(O,A,V)},P.prototype._dbl=function(){var O=this.curve.a,A=this.x,V=this.y,U=this.z,K=U.redSqr().redSqr(),Q=A.redSqr(),q=V.redSqr(),Y=Q.redAdd(Q).redIAdd(Q).redIAdd(O.redMul(K)),W=A.redAdd(A),re=(W=W.redIAdd(W)).redMul(q),ie=Y.redSqr().redISub(re.redAdd(re)),ae=re.redISub(ie),ue=q.redSqr();ue=(ue=(ue=ue.redIAdd(ue)).redIAdd(ue)).redIAdd(ue);var ce=Y.redMul(ae).redISub(ue),pe=V.redAdd(V).redMul(U);return this.curve.jpoint(ie,ce,pe)},P.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var O=this.x.redSqr(),A=this.y.redSqr(),V=this.z.redSqr(),U=A.redSqr(),K=O.redAdd(O).redIAdd(O),Q=K.redSqr(),q=this.x.redAdd(A).redSqr().redISub(O).redISub(U),Y=(q=(q=(q=q.redIAdd(q)).redAdd(q).redIAdd(q)).redISub(Q)).redSqr(),W=U.redIAdd(U);W=(W=(W=W.redIAdd(W)).redIAdd(W)).redIAdd(W);var re=K.redIAdd(q).redSqr().redISub(Q).redISub(Y).redISub(W),ie=A.redMul(re);ie=(ie=ie.redIAdd(ie)).redIAdd(ie);var ae=this.x.redMul(Y).redISub(ie);ae=(ae=ae.redIAdd(ae)).redIAdd(ae);var ue=this.y.redMul(re.redMul(W.redISub(re)).redISub(q.redMul(Y)));ue=(ue=(ue=ue.redIAdd(ue)).redIAdd(ue)).redIAdd(ue);var ce=this.z.redAdd(q).redSqr().redISub(V).redISub(Y);return this.curve.jpoint(ae,ue,ce)},P.prototype.mul=function(O,A){return O=new _(O,A),this.curve._wnafMul(this,O)},P.prototype.eq=function(O){if("affine"===O.type)return this.eq(O.toJ());if(this===O)return!0;var A=this.z.redSqr(),V=O.z.redSqr();if(0!==this.x.redMul(V).redISub(O.x.redMul(A)).cmpn(0))return!1;var U=A.redMul(this.z),K=V.redMul(O.z);return 0===this.y.redMul(K).redISub(O.y.redMul(U)).cmpn(0)},P.prototype.eqXToP=function(O){var A=this.z.redSqr(),V=O.toRed(this.curve.red).redMul(A);if(0===this.x.cmp(V))return!0;for(var U=O.clone(),K=this.curve.redN.redMul(A);;){if(U.iadd(this.curve.n),U.cmp(this.curve.p)>=0)return!1;if(V.redIAdd(K),0===this.x.cmp(V))return!0}},P.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},P.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:($e,j,E)=>{"use strict";var P,g=j,_=E(52529),B=E(8729),b=E(3136).assert;function k(R){this.curve="short"===R.type?new B.short(R):"edwards"===R.type?new B.edwards(R):new B.mont(R),this.g=this.curve.g,this.n=this.curve.n,this.hash=R.hash,b(this.g.validate(),"Invalid curve"),b(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function S(R,O){Object.defineProperty(g,R,{configurable:!0,enumerable:!0,get:function(){var A=new k(O);return Object.defineProperty(g,R,{configurable:!0,enumerable:!0,value:A}),A}})}g.PresetCurve=k,S("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),S("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),S("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),S("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),S("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),S("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["9"]}),S("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{P=E(51416)}catch{P=void 0}S("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",P]})},29042:($e,j,E)=>{"use strict";var g=E(88723),_=E(33556),B=E(3136),H=E(23401),b=E(35294),k=B.assert,S=E(60541),P=E(40484);function R(O){if(!(this instanceof R))return new R(O);"string"==typeof O&&(k(Object.prototype.hasOwnProperty.call(H,O),"Unknown curve "+O),O=H[O]),O instanceof H.PresetCurve&&(O={curve:O}),this.curve=O.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=O.curve.g,this.g.precompute(O.curve.n.bitLength()+1),this.hash=O.hash||O.curve.hash}$e.exports=R,R.prototype.keyPair=function(A){return new S(this,A)},R.prototype.keyFromPrivate=function(A,V){return S.fromPrivate(this,A,V)},R.prototype.keyFromPublic=function(A,V){return S.fromPublic(this,A,V)},R.prototype.genKeyPair=function(A){A||(A={});for(var V=new _({hash:this.hash,pers:A.pers,persEnc:A.persEnc||"utf8",entropy:A.entropy||b(this.hash.hmacStrength),entropyEnc:A.entropy&&A.entropyEnc||"utf8",nonce:this.n.toArray()}),U=this.n.byteLength(),K=this.n.sub(new g(2));;){var Q=new g(V.generate(U));if(!(Q.cmp(K)>0))return Q.iaddn(1),this.keyFromPrivate(Q)}},R.prototype._truncateToN=function(A,V){var U=8*A.byteLength()-this.n.bitLength();return U>0&&(A=A.ushrn(U)),!V&&A.cmp(this.n)>=0?A.sub(this.n):A},R.prototype.sign=function(A,V,U,K){"object"==typeof U&&(K=U,U=null),K||(K={}),V=this.keyFromPrivate(V,U),A=this._truncateToN(new g(A,16));for(var Q=this.n.byteLength(),q=V.getPrivate().toArray("be",Q),Y=A.toArray("be",Q),W=new _({hash:this.hash,entropy:q,nonce:Y,pers:K.pers,persEnc:K.persEnc||"utf8"}),re=this.n.sub(new g(1)),ie=0;;ie++){var ae=K.k?K.k(ie):new g(W.generate(this.n.byteLength()));if(!((ae=this._truncateToN(ae,!0)).cmpn(1)<=0||ae.cmp(re)>=0)){var ue=this.g.mul(ae);if(!ue.isInfinity()){var ce=ue.getX(),pe=ce.umod(this.n);if(0!==pe.cmpn(0)){var ve=ae.invm(this.n).mul(pe.mul(V.getPrivate()).iadd(A));if(0!==(ve=ve.umod(this.n)).cmpn(0)){var De=(ue.getY().isOdd()?1:0)|(0!==ce.cmp(pe)?2:0);return K.canonical&&ve.cmp(this.nh)>0&&(ve=this.n.sub(ve),De^=1),new P({r:pe,s:ve,recoveryParam:De})}}}}}},R.prototype.verify=function(A,V,U,K){A=this._truncateToN(new g(A,16)),U=this.keyFromPublic(U,K);var Q=(V=new P(V,"hex")).r,q=V.s;if(Q.cmpn(1)<0||Q.cmp(this.n)>=0||q.cmpn(1)<0||q.cmp(this.n)>=0)return!1;var ie,Y=q.invm(this.n),W=Y.mul(A).umod(this.n),re=Y.mul(Q).umod(this.n);return this.curve._maxwellTrick?!(ie=this.g.jmulAdd(W,U.getPublic(),re)).isInfinity()&&ie.eqXToP(Q):!(ie=this.g.mulAdd(W,U.getPublic(),re)).isInfinity()&&0===ie.getX().umod(this.n).cmp(Q)},R.prototype.recoverPubKey=function(O,A,V,U){k((3&V)===V,"The recovery param is more than two bits"),A=new P(A,U);var K=this.n,Q=new g(O),q=A.r,Y=A.s,W=1&V,re=V>>1;if(q.cmp(this.curve.p.umod(this.curve.n))>=0&&re)throw new Error("Unable to find sencond key candinate");q=this.curve.pointFromX(re?q.add(this.curve.n):q,W);var ie=A.r.invm(K),ae=K.sub(Q).mul(ie).umod(K),ue=Y.mul(ie).umod(K);return this.g.mulAdd(ae,q,ue)},R.prototype.getKeyRecoveryParam=function(O,A,V,U){if(null!==(A=new P(A,U)).recoveryParam)return A.recoveryParam;for(var K=0;K<4;K++){var Q;try{Q=this.recoverPubKey(O,A,K)}catch{continue}if(Q.eq(V))return K}throw new Error("Unable to find valid recovery factor")}},60541:($e,j,E)=>{"use strict";var g=E(88723),B=E(3136).assert;function H(b,k){this.ec=b,this.priv=null,this.pub=null,k.priv&&this._importPrivate(k.priv,k.privEnc),k.pub&&this._importPublic(k.pub,k.pubEnc)}$e.exports=H,H.fromPublic=function(k,S,P){return S instanceof H?S:new H(k,{pub:S,pubEnc:P})},H.fromPrivate=function(k,S,P){return S instanceof H?S:new H(k,{priv:S,privEnc:P})},H.prototype.validate=function(){var k=this.getPublic();return k.isInfinity()?{result:!1,reason:"Invalid public key"}:k.validate()?k.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},H.prototype.getPublic=function(k,S){return"string"==typeof k&&(S=k,k=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),S?this.pub.encode(S,k):this.pub},H.prototype.getPrivate=function(k){return"hex"===k?this.priv.toString(16,2):this.priv},H.prototype._importPrivate=function(k,S){this.priv=new g(k,S||16),this.priv=this.priv.umod(this.ec.curve.n)},H.prototype._importPublic=function(k,S){if(k.x||k.y)return"mont"===this.ec.curve.type?B(k.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&B(k.x&&k.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(k.x,k.y));this.pub=this.ec.curve.decodePoint(k,S)},H.prototype.derive=function(k){return k.validate()||B(k.validate(),"public point not validated"),k.mul(this.priv).getX()},H.prototype.sign=function(k,S,P){return this.ec.sign(k,this,S,P)},H.prototype.verify=function(k,S){return this.ec.verify(k,S,this)},H.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:($e,j,E)=>{"use strict";var g=E(88723),_=E(3136),B=_.assert;function H(R,O){if(R instanceof H)return R;this._importDER(R,O)||(B(R.r&&R.s,"Signature without r or s"),this.r=new g(R.r,16),this.s=new g(R.s,16),this.recoveryParam=void 0===R.recoveryParam?null:R.recoveryParam)}function b(){this.place=0}function k(R,O){var A=R[O.place++];if(!(128&A))return A;var V=15&A;if(0===V||V>4)return!1;for(var U=0,K=0,Q=O.place;K<V;K++,Q++)U<<=8,U|=R[Q],U>>>=0;return!(U<=127)&&(O.place=Q,U)}function S(R){for(var O=0,A=R.length-1;!R[O]&&!(128&R[O+1])&&O<A;)O++;return 0===O?R:R.slice(O)}function P(R,O){if(O<128)R.push(O);else{var A=1+(Math.log(O)/Math.LN2>>>3);for(R.push(128|A);--A;)R.push(O>>>(A<<3)&255);R.push(O)}}$e.exports=H,H.prototype._importDER=function(O,A){O=_.toArray(O,A);var V=new b;if(48!==O[V.place++])return!1;var U=k(O,V);if(!1===U||U+V.place!==O.length||2!==O[V.place++])return!1;var K=k(O,V);if(!1===K)return!1;var Q=O.slice(V.place,K+V.place);if(V.place+=K,2!==O[V.place++])return!1;var q=k(O,V);if(!1===q||O.length!==q+V.place)return!1;var Y=O.slice(V.place,q+V.place);if(0===Q[0]){if(!(128&Q[1]))return!1;Q=Q.slice(1)}if(0===Y[0]){if(!(128&Y[1]))return!1;Y=Y.slice(1)}return this.r=new g(Q),this.s=new g(Y),this.recoveryParam=null,!0},H.prototype.toDER=function(O){var A=this.r.toArray(),V=this.s.toArray();for(128&A[0]&&(A=[0].concat(A)),128&V[0]&&(V=[0].concat(V)),A=S(A),V=S(V);!(V[0]||128&V[1]);)V=V.slice(1);var U=[2];P(U,A.length),(U=U.concat(A)).push(2),P(U,V.length);var K=U.concat(V),Q=[48];return P(Q,K.length),Q=Q.concat(K),_.encode(Q,O)}},83045:($e,j,E)=>{"use strict";var g=E(52529),_=E(23401),B=E(3136),H=B.assert,b=B.parseBytes,k=E(87222),S=E(5451);function P(R){if(H("ed25519"===R,"only tested with ed25519 so far"),!(this instanceof P))return new P(R);this.curve=R=_[R].curve,this.g=R.g,this.g.precompute(R.n.bitLength()+1),this.pointClass=R.point().constructor,this.encodingLength=Math.ceil(R.n.bitLength()/8),this.hash=g.sha512}$e.exports=P,P.prototype.sign=function(O,A){O=b(O);var V=this.keyFromSecret(A),U=this.hashInt(V.messagePrefix(),O),K=this.g.mul(U),Q=this.encodePoint(K),q=this.hashInt(Q,V.pubBytes(),O).mul(V.priv()),Y=U.add(q).umod(this.curve.n);return this.makeSignature({R:K,S:Y,Rencoded:Q})},P.prototype.verify=function(O,A,V){O=b(O),A=this.makeSignature(A);var U=this.keyFromPublic(V),K=this.hashInt(A.Rencoded(),U.pubBytes(),O),Q=this.g.mul(A.S());return A.R().add(U.pub().mul(K)).eq(Q)},P.prototype.hashInt=function(){for(var O=this.hash(),A=0;A<arguments.length;A++)O.update(arguments[A]);return B.intFromLE(O.digest()).umod(this.curve.n)},P.prototype.keyFromPublic=function(O){return k.fromPublic(this,O)},P.prototype.keyFromSecret=function(O){return k.fromSecret(this,O)},P.prototype.makeSignature=function(O){return O instanceof S?O:new S(this,O)},P.prototype.encodePoint=function(O){var A=O.getY().toArray("le",this.encodingLength);return A[this.encodingLength-1]|=O.getX().isOdd()?128:0,A},P.prototype.decodePoint=function(O){var A=(O=B.parseBytes(O)).length-1,V=O.slice(0,A).concat(-129&O[A]),U=!!(128&O[A]),K=B.intFromLE(V);return this.curve.pointFromY(K,U)},P.prototype.encodeInt=function(O){return O.toArray("le",this.encodingLength)},P.prototype.decodeInt=function(O){return B.intFromLE(O)},P.prototype.isPoint=function(O){return O instanceof this.pointClass}},87222:($e,j,E)=>{"use strict";var g=E(3136),_=g.assert,B=g.parseBytes,H=g.cachedProperty;function b(k,S){this.eddsa=k,this._secret=B(S.secret),k.isPoint(S.pub)?this._pub=S.pub:this._pubBytes=B(S.pub)}b.fromPublic=function(S,P){return P instanceof b?P:new b(S,{pub:P})},b.fromSecret=function(S,P){return P instanceof b?P:new b(S,{secret:P})},b.prototype.secret=function(){return this._secret},H(b,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),H(b,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),H(b,"privBytes",function(){var S=this.eddsa,P=this.hash(),R=S.encodingLength-1,O=P.slice(0,S.encodingLength);return O[0]&=248,O[R]&=127,O[R]|=64,O}),H(b,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),H(b,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),H(b,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),b.prototype.sign=function(S){return _(this._secret,"KeyPair can only verify"),this.eddsa.sign(S,this)},b.prototype.verify=function(S,P){return this.eddsa.verify(S,P,this)},b.prototype.getSecret=function(S){return _(this._secret,"KeyPair is public only"),g.encode(this.secret(),S)},b.prototype.getPublic=function(S){return g.encode(this.pubBytes(),S)},$e.exports=b},5451:($e,j,E)=>{"use strict";var g=E(88723),_=E(3136),B=_.assert,H=_.cachedProperty,b=_.parseBytes;function k(S,P){this.eddsa=S,"object"!=typeof P&&(P=b(P)),Array.isArray(P)&&(P={R:P.slice(0,S.encodingLength),S:P.slice(S.encodingLength)}),B(P.R&&P.S,"Signature without R or S"),S.isPoint(P.R)&&(this._R=P.R),P.S instanceof g&&(this._S=P.S),this._Rencoded=Array.isArray(P.R)?P.R:P.Rencoded,this._Sencoded=Array.isArray(P.S)?P.S:P.Sencoded}H(k,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),H(k,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),H(k,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),H(k,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),k.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},k.prototype.toHex=function(){return _.encode(this.toBytes(),"hex").toUpperCase()},$e.exports=k},51416:$e=>{$e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:($e,j,E)=>{"use strict";var g=j,_=E(88723),B=E(39210),H=E(21832);g.assert=B,g.toArray=H.toArray,g.zero2=H.zero2,g.toHex=H.toHex,g.encode=H.encode,g.getNAF=function b(O,A,V){var K,U=new Array(Math.max(O.bitLength(),V)+1);for(K=0;K<U.length;K+=1)U[K]=0;var Q=1<<A+1,q=O.clone();for(K=0;K<U.length;K++){var Y,W=q.andln(Q-1);q.isOdd()?q.isubn(Y=W>(Q>>1)-1?(Q>>1)-W:W):Y=0,U[K]=Y,q.iushrn(1)}return U},g.getJSF=function k(O,A){var V=[[],[]];O=O.clone(),A=A.clone();for(var Q,U=0,K=0;O.cmpn(-U)>0||A.cmpn(-K)>0;){var W,re,q=O.andln(3)+U&3,Y=A.andln(3)+K&3;3===q&&(q=-1),3===Y&&(Y=-1),W=1&q?3!=(Q=O.andln(7)+U&7)&&5!==Q||2!==Y?q:-q:0,V[0].push(W),re=1&Y?3!=(Q=A.andln(7)+K&7)&&5!==Q||2!==q?Y:-Y:0,V[1].push(re),2*U===W+1&&(U=1-U),2*K===re+1&&(K=1-K),O.iushrn(1),A.iushrn(1)}return V},g.cachedProperty=function S(O,A,V){var U="_"+A;O.prototype[A]=function(){return void 0!==this[U]?this[U]:this[U]=V.call(this)}},g.parseBytes=function P(O){return"string"==typeof O?g.toArray(O,"hex"):O},g.intFromLE=function R(O){return new _(O,"hex","le")}},88723:function($e,j,E){!function(g,_){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:_.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(79368).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,w=Math.min(C.length,d),I=s;I<w;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var w,I,L=0;if("be"===h)for(f=s.length-1,w=0;f>=0;f-=3)this.words[w]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);else if("le"===h)for(f=0,w=0;f<s.length;f+=3)this.words[w]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,w=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,w=1;w<=67108863;w*=d)f++;f--,w=w/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(w),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],w=0|s.words[0],I=f*w,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(w=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,w=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|w)).toString(16);h=0!=(w=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==w&&(h=w.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),w=h||Math.max(1,f);B(f<=w,"byte array longer than desired length"),B(w>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(w),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<w;a++)L[a]=0}else{for(a=0;a<w-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[w-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var w=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+w),w=d>>>26;for(;0!==w&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+w),w=d>>>26;if(this.length=h.length,0!==w)this.words[this.length]=w,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,w,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,w=s):(f=s,w=this);for(var I=0,L=0;L<w.length;L++)I=(d=(0|f.words[L])-(0|w.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,w=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ge=0|f[2],ge=8191&Ge,me=Ge>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,xt=0|f[7],Ne=8191&xt,ke=xt>>>13,pt=0|f[8],F=8191&pt,D=pt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|w[0],Ae=8191&Se,rt=Se>>>13,Ht=0|w[1],vt=8191&Ht,Ot=Ht>>>13,qt=0|w[2],mn=8191&qt,ln=qt>>>13,rr=0|w[3],Tn=8191&rr,rn=rr>>>13,Xt=0|w[4],dt=8191&Xt,it=Xt>>>13,Wt=0|w[5],Gt=8191&Wt,nn=Wt>>>13,Xn=0|w[6],ot=8191&Xn,ft=Xn>>>13,ut=0|w[7],Ke=8191&ut,We=ut>>>13,Bt=0|w[8],At=8191&Bt,fn=Bt>>>13,Un=0|w[9],wn=8191&Un,vn=Un>>>13;h.negative=s.negative^d.negative,h.length=19;var pr=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,rt))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,rt))+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,rt))+Math.imul(Me,Ae)|0,v=Math.imul(Me,rt);var nr=(L+(x=x+Math.imul(z,vt)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ot)|0)+Math.imul(ee,vt)|0))<<13)|0;L=((v=v+Math.imul(ee,Ot)|0)+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,rt))+Math.imul(me,Ae)|0,v=Math.imul(me,rt),x=x+Math.imul(we,vt)|0,a=(a=a+Math.imul(we,Ot)|0)+Math.imul(Me,vt)|0,v=v+Math.imul(Me,Ot)|0;var Bn=(L+(x=x+Math.imul(z,mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,mn)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,rt))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,rt),x=x+Math.imul(ge,vt)|0,a=(a=a+Math.imul(ge,Ot)|0)+Math.imul(me,vt)|0,v=v+Math.imul(me,Ot)|0,x=x+Math.imul(we,mn)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,mn)|0,v=v+Math.imul(Me,ln)|0;var Fn=(L+(x=x+Math.imul(z,Tn)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Tn)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,rt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,rt),x=x+Math.imul(xe,vt)|0,a=(a=a+Math.imul(xe,Ot)|0)+Math.imul(Ce,vt)|0,v=v+Math.imul(Ce,Ot)|0,x=x+Math.imul(ge,mn)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,mn)|0,v=v+Math.imul(me,ln)|0,x=x+Math.imul(we,Tn)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Tn)|0,v=v+Math.imul(Me,rn)|0;var qe=(L+(x=x+Math.imul(z,dt)|0)|0)+((8191&(a=(a=a+Math.imul(z,it)|0)+Math.imul(ee,dt)|0))<<13)|0;L=((v=v+Math.imul(ee,it)|0)+(a>>>13)|0)+(qe>>>26)|0,qe&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,rt))+Math.imul(_e,Ae)|0,v=Math.imul(_e,rt),x=x+Math.imul(he,vt)|0,a=(a=a+Math.imul(he,Ot)|0)+Math.imul(ne,vt)|0,v=v+Math.imul(ne,Ot)|0,x=x+Math.imul(xe,mn)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,mn)|0,v=v+Math.imul(Ce,ln)|0,x=x+Math.imul(ge,Tn)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Tn)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,dt)|0,a=(a=a+Math.imul(we,it)|0)+Math.imul(Me,dt)|0,v=v+Math.imul(Me,it)|0;var Oe=(L+(x=x+Math.imul(z,Gt)|0)|0)+((8191&(a=(a=a+Math.imul(z,nn)|0)+Math.imul(ee,Gt)|0))<<13)|0;L=((v=v+Math.imul(ee,nn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,rt))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,rt),x=x+Math.imul(de,vt)|0,a=(a=a+Math.imul(de,Ot)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,Ot)|0,x=x+Math.imul(he,mn)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,mn)|0,v=v+Math.imul(ne,ln)|0,x=x+Math.imul(xe,Tn)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Tn)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,dt)|0,a=(a=a+Math.imul(ge,it)|0)+Math.imul(me,dt)|0,v=v+Math.imul(me,it)|0,x=x+Math.imul(we,Gt)|0,a=(a=a+Math.imul(we,nn)|0)+Math.imul(Me,Gt)|0,v=v+Math.imul(Me,nn)|0;var Je=(L+(x=x+Math.imul(z,ot)|0)|0)+((8191&(a=(a=a+Math.imul(z,ft)|0)+Math.imul(ee,ot)|0))<<13)|0;L=((v=v+Math.imul(ee,ft)|0)+(a>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,rt))+Math.imul(ke,Ae)|0,v=Math.imul(ke,rt),x=x+Math.imul(He,vt)|0,a=(a=a+Math.imul(He,Ot)|0)+Math.imul(Ve,vt)|0,v=v+Math.imul(Ve,Ot)|0,x=x+Math.imul(de,mn)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,mn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(he,Tn)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Tn)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,dt)|0,a=(a=a+Math.imul(xe,it)|0)+Math.imul(Ce,dt)|0,v=v+Math.imul(Ce,it)|0,x=x+Math.imul(ge,Gt)|0,a=(a=a+Math.imul(ge,nn)|0)+Math.imul(me,Gt)|0,v=v+Math.imul(me,nn)|0,x=x+Math.imul(we,ot)|0,a=(a=a+Math.imul(we,ft)|0)+Math.imul(Me,ot)|0,v=v+Math.imul(Me,ft)|0;var Kt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,We)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,We)|0)+(a>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,rt))+Math.imul(D,Ae)|0,v=Math.imul(D,rt),x=x+Math.imul(Ne,vt)|0,a=(a=a+Math.imul(Ne,Ot)|0)+Math.imul(ke,vt)|0,v=v+Math.imul(ke,Ot)|0,x=x+Math.imul(He,mn)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,mn)|0,v=v+Math.imul(Ve,ln)|0,x=x+Math.imul(de,Tn)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Tn)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,dt)|0,a=(a=a+Math.imul(he,it)|0)+Math.imul(ne,dt)|0,v=v+Math.imul(ne,it)|0,x=x+Math.imul(xe,Gt)|0,a=(a=a+Math.imul(xe,nn)|0)+Math.imul(Ce,Gt)|0,v=v+Math.imul(Ce,nn)|0,x=x+Math.imul(ge,ot)|0,a=(a=a+Math.imul(ge,ft)|0)+Math.imul(me,ot)|0,v=v+Math.imul(me,ft)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,We)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,We)|0;var pn=(L+(x=x+Math.imul(z,At)|0)|0)+((8191&(a=(a=a+Math.imul(z,fn)|0)+Math.imul(ee,At)|0))<<13)|0;L=((v=v+Math.imul(ee,fn)|0)+(a>>>13)|0)+(pn>>>26)|0,pn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,rt))+Math.imul(fe,Ae)|0,v=Math.imul(fe,rt),x=x+Math.imul(F,vt)|0,a=(a=a+Math.imul(F,Ot)|0)+Math.imul(D,vt)|0,v=v+Math.imul(D,Ot)|0,x=x+Math.imul(Ne,mn)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,mn)|0,v=v+Math.imul(ke,ln)|0,x=x+Math.imul(He,Tn)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Tn)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,dt)|0,a=(a=a+Math.imul(de,it)|0)+Math.imul(_e,dt)|0,v=v+Math.imul(_e,it)|0,x=x+Math.imul(he,Gt)|0,a=(a=a+Math.imul(he,nn)|0)+Math.imul(ne,Gt)|0,v=v+Math.imul(ne,nn)|0,x=x+Math.imul(xe,ot)|0,a=(a=a+Math.imul(xe,ft)|0)+Math.imul(Ce,ot)|0,v=v+Math.imul(Ce,ft)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,We)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,We)|0,x=x+Math.imul(we,At)|0,a=(a=a+Math.imul(we,fn)|0)+Math.imul(Me,At)|0,v=v+Math.imul(Me,fn)|0;var jn=(L+(x=x+Math.imul(z,wn)|0)|0)+((8191&(a=(a=a+Math.imul(z,vn)|0)+Math.imul(ee,wn)|0))<<13)|0;L=((v=v+Math.imul(ee,vn)|0)+(a>>>13)|0)+(jn>>>26)|0,jn&=67108863,x=Math.imul(G,vt),a=(a=Math.imul(G,Ot))+Math.imul(fe,vt)|0,v=Math.imul(fe,Ot),x=x+Math.imul(F,mn)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,mn)|0,v=v+Math.imul(D,ln)|0,x=x+Math.imul(Ne,Tn)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Tn)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,dt)|0,a=(a=a+Math.imul(He,it)|0)+Math.imul(Ve,dt)|0,v=v+Math.imul(Ve,it)|0,x=x+Math.imul(de,Gt)|0,a=(a=a+Math.imul(de,nn)|0)+Math.imul(_e,Gt)|0,v=v+Math.imul(_e,nn)|0,x=x+Math.imul(he,ot)|0,a=(a=a+Math.imul(he,ft)|0)+Math.imul(ne,ot)|0,v=v+Math.imul(ne,ft)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,We)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,We)|0,x=x+Math.imul(ge,At)|0,a=(a=a+Math.imul(ge,fn)|0)+Math.imul(me,At)|0,v=v+Math.imul(me,fn)|0;var zn=(L+(x=x+Math.imul(we,wn)|0)|0)+((8191&(a=(a=a+Math.imul(we,vn)|0)+Math.imul(Me,wn)|0))<<13)|0;L=((v=v+Math.imul(Me,vn)|0)+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(G,mn),a=(a=Math.imul(G,ln))+Math.imul(fe,mn)|0,v=Math.imul(fe,ln),x=x+Math.imul(F,Tn)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Tn)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,dt)|0,a=(a=a+Math.imul(Ne,it)|0)+Math.imul(ke,dt)|0,v=v+Math.imul(ke,it)|0,x=x+Math.imul(He,Gt)|0,a=(a=a+Math.imul(He,nn)|0)+Math.imul(Ve,Gt)|0,v=v+Math.imul(Ve,nn)|0,x=x+Math.imul(de,ot)|0,a=(a=a+Math.imul(de,ft)|0)+Math.imul(_e,ot)|0,v=v+Math.imul(_e,ft)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,We)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,We)|0,x=x+Math.imul(xe,At)|0,a=(a=a+Math.imul(xe,fn)|0)+Math.imul(Ce,At)|0,v=v+Math.imul(Ce,fn)|0;var or=(L+(x=x+Math.imul(ge,wn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,vn)|0)+Math.imul(me,wn)|0))<<13)|0;L=((v=v+Math.imul(me,vn)|0)+(a>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(G,Tn),a=(a=Math.imul(G,rn))+Math.imul(fe,Tn)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,dt)|0,a=(a=a+Math.imul(F,it)|0)+Math.imul(D,dt)|0,v=v+Math.imul(D,it)|0,x=x+Math.imul(Ne,Gt)|0,a=(a=a+Math.imul(Ne,nn)|0)+Math.imul(ke,Gt)|0,v=v+Math.imul(ke,nn)|0,x=x+Math.imul(He,ot)|0,a=(a=a+Math.imul(He,ft)|0)+Math.imul(Ve,ot)|0,v=v+Math.imul(Ve,ft)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,We)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,We)|0,x=x+Math.imul(he,At)|0,a=(a=a+Math.imul(he,fn)|0)+Math.imul(ne,At)|0,v=v+Math.imul(ne,fn)|0;var yr=(L+(x=x+Math.imul(xe,wn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,vn)|0)+Math.imul(Ce,wn)|0))<<13)|0;L=((v=v+Math.imul(Ce,vn)|0)+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,x=Math.imul(G,dt),a=(a=Math.imul(G,it))+Math.imul(fe,dt)|0,v=Math.imul(fe,it),x=x+Math.imul(F,Gt)|0,a=(a=a+Math.imul(F,nn)|0)+Math.imul(D,Gt)|0,v=v+Math.imul(D,nn)|0,x=x+Math.imul(Ne,ot)|0,a=(a=a+Math.imul(Ne,ft)|0)+Math.imul(ke,ot)|0,v=v+Math.imul(ke,ft)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,We)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,We)|0,x=x+Math.imul(de,At)|0,a=(a=a+Math.imul(de,fn)|0)+Math.imul(_e,At)|0,v=v+Math.imul(_e,fn)|0;var Rr=(L+(x=x+Math.imul(he,wn)|0)|0)+((8191&(a=(a=a+Math.imul(he,vn)|0)+Math.imul(ne,wn)|0))<<13)|0;L=((v=v+Math.imul(ne,vn)|0)+(a>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,x=Math.imul(G,Gt),a=(a=Math.imul(G,nn))+Math.imul(fe,Gt)|0,v=Math.imul(fe,nn),x=x+Math.imul(F,ot)|0,a=(a=a+Math.imul(F,ft)|0)+Math.imul(D,ot)|0,v=v+Math.imul(D,ft)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,We)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,We)|0,x=x+Math.imul(He,At)|0,a=(a=a+Math.imul(He,fn)|0)+Math.imul(Ve,At)|0,v=v+Math.imul(Ve,fn)|0;var Ir=(L+(x=x+Math.imul(de,wn)|0)|0)+((8191&(a=(a=a+Math.imul(de,vn)|0)+Math.imul(_e,wn)|0))<<13)|0;L=((v=v+Math.imul(_e,vn)|0)+(a>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,x=Math.imul(G,ot),a=(a=Math.imul(G,ft))+Math.imul(fe,ot)|0,v=Math.imul(fe,ft),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,We)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,We)|0,x=x+Math.imul(Ne,At)|0,a=(a=a+Math.imul(Ne,fn)|0)+Math.imul(ke,At)|0,v=v+Math.imul(ke,fn)|0;var Lr=(L+(x=x+Math.imul(He,wn)|0)|0)+((8191&(a=(a=a+Math.imul(He,vn)|0)+Math.imul(Ve,wn)|0))<<13)|0;L=((v=v+Math.imul(Ve,vn)|0)+(a>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,We))+Math.imul(fe,Ke)|0,v=Math.imul(fe,We),x=x+Math.imul(F,At)|0,a=(a=a+Math.imul(F,fn)|0)+Math.imul(D,At)|0,v=v+Math.imul(D,fn)|0;var fr=(L+(x=x+Math.imul(Ne,wn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,vn)|0)+Math.imul(ke,wn)|0))<<13)|0;L=((v=v+Math.imul(ke,vn)|0)+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,x=Math.imul(G,At),a=(a=Math.imul(G,fn))+Math.imul(fe,At)|0,v=Math.imul(fe,fn);var en=(L+(x=x+Math.imul(F,wn)|0)|0)+((8191&(a=(a=a+Math.imul(F,vn)|0)+Math.imul(D,wn)|0))<<13)|0;L=((v=v+Math.imul(D,vn)|0)+(a>>>13)|0)+(en>>>26)|0,en&=67108863;var bn=(L+(x=Math.imul(G,wn))|0)+((8191&(a=(a=Math.imul(G,vn))+Math.imul(fe,wn)|0))<<13)|0;return L=((v=Math.imul(fe,vn))+(a>>>13)|0)+(bn>>>26)|0,bn&=67108863,I[0]=pr,I[1]=nr,I[2]=Bn,I[3]=Fn,I[4]=qe,I[5]=Oe,I[6]=Je,I[7]=Kt,I[8]=pn,I[9]=jn,I[10]=zn,I[11]=or,I[12]=yr,I[13]=Rr,I[14]=Ir,I[15]=Lr,I[16]=fr,I[17]=en,I[18]=bn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,w=0;w<d.length-1;w++){var I=f;f=0;for(var L=67108863&h,x=Math.min(w,s.length-1),a=Math.max(0,w-C.length+1);a<=x;a++){var ee=(0|C.words[w-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[w]=L,h=I,I=f}return 0!==h?d.words[w]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,w=0;w<d;w++)f|=(1&s)<<d-w-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,w,I){for(var L=0;L<I;L++)f[L]=d[s[L]],w[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,w,I){this.permute(I,s,d,h,f,w);for(var L=1;L<w;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<w;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ge=h[Z+le+L],ge=f[Z+le+L],me=z*Ge-ee*ge;ge=z*ge+ee*Ge,h[Z+le]=we+(Ge=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ge,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,w=0;for(h=h/2|0;h;h>>>=1)w++;return 1<<w+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var w=s[f];s[f]=s[h-f-1],s[h-f-1]=w,w=d[f],d[f]=-d[h-f-1],d[h-f-1]=-w}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var w=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&w,h=w<67108864?0:w/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var w=0,I=0;I<d;I++)h[2*I]=8191&(w+=0|s[I]),h[2*I+1]=8191&(w>>>=13),w>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===w),B(!(-8192&w))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),w=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,w),this.transform(v,I,Z,z,f,w);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,w),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,w=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=w>>>26,this.words[h]=67108863&w}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var w=h.sqr();f<d.length;f++,w=w.sqr())0!==d[f]&&(h=h.mul(w));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var w,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(w=0;w<this.length;w++){var L=this.words[w]&f;this.words[w]=(0|this.words[w])-L<<d|I,I=L>>>26-d}I&&(this.words[w]=I,this.length++)}if(0!==h){for(w=this.length-1;w>=0;w--)this.words[w+h]=this.words[w];for(w=0;w<h;w++)this.words[w]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var w=s%26,I=Math.min((s-w)/26,this.length),L=67108863^67108863>>>w<<w,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-w|Z>>>w,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var w;this._expand(s.length+h);var I,L=0;for(w=0;w<s.length;w++){I=(0|this.words[w+h])+L;var x=(0|s.words[w])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[w+h]=67108863&I}for(;w<this.length-h;w++)L=(I=(0|this.words[w+h])+L)>>26,this.words[w+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,w=0;w<this.length;w++)L=(I=-(0|this.words[w])+L)>>26,this.words[w]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),w=s,I=0|w.words[w.length-1];0!=(h=26-this._countBits(I))&&(w=w.ushln(h),f.iushln(h),I=0|w.words[w.length-1]);var a,x=f.length-w.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(w,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[w.length+z])+(0|f.words[w.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(w,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(w,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.iadd(s)),{div:f,mod:w}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.isub(s)),{div:I.div,mod:w}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,w,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),w=s.andln(1),I=h.cmp(f);return I<0||1===w&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||w.isOdd())&&(f.iadd(a),w.isub(v)),f.iushrn(1),w.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),w.isub(L)):(h.isub(d),I.isub(f),L.isub(w))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)w.isOdd()&&w.iadd(I),w.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(w)):(h.isub(d),w.isub(f))}return(Z=0===d.cmpn(1)?f:w).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var w=d.cmp(h);if(w<0){var I=d;d=h,h=I}else if(0===w||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var w=f,I=h;0!==w&&I<this.length;I++){var L=0|this.words[I];w=(L+=w)>>>26,this.words[I]=L&=67108863}return 0!==w&&(this.words[I]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],w=0|s.words[h];if(f!==w){f<w?d=-1:f>w&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),w=0;w<f;w++)d.words[w]=s.words[w];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,w=10;w<s.length;w++){var L=0|s.words[w];s.words[w-10]=(L&h)<<4|I>>>22,I=L}s.words[w-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,w=67108863&f;f>>>=26,s.words[h]=w,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),w=0;!f.isZero()&&0===f.andln(1);)w++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=w;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var w=2;w<f.length;w++)f[w]=this.mul(f[w-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),w=d.length-1;w>=0;w--){for(var v=d.words[w],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===w&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},44356:$e=>{"use strict";var g,j="object"==typeof Reflect?Reflect:null,E=j&&"function"==typeof j.apply?j.apply:function(ie,ae,ue){return Function.prototype.apply.call(ie,ae,ue)};g=j&&"function"==typeof j.ownKeys?j.ownKeys:Object.getOwnPropertySymbols?function(ie){return Object.getOwnPropertyNames(ie).concat(Object.getOwnPropertySymbols(ie))}:function(ie){return Object.getOwnPropertyNames(ie)};var B=Number.isNaN||function(ie){return ie!=ie};function H(){H.init.call(this)}$e.exports=H,$e.exports.once=function q(re,ie){return new Promise(function(ae,ue){function ce(ve){re.removeListener(ie,pe),ue(ve)}function pe(){"function"==typeof re.removeListener&&re.removeListener("error",ce),ae([].slice.call(arguments))}W(re,ie,pe,{once:!0}),"error"!==ie&&function Y(re,ie,ae){"function"==typeof re.on&&W(re,"error",ie,ae)}(re,ce,{once:!0})})},H.EventEmitter=H,H.prototype._events=void 0,H.prototype._eventsCount=0,H.prototype._maxListeners=void 0;var b=10;function k(re){if("function"!=typeof re)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof re)}function S(re){return void 0===re._maxListeners?H.defaultMaxListeners:re._maxListeners}function P(re,ie,ae,ue){var ce,pe,ve;if(k(ae),void 0===(pe=re._events)?(pe=re._events=Object.create(null),re._eventsCount=0):(void 0!==pe.newListener&&(re.emit("newListener",ie,ae.listener?ae.listener:ae),pe=re._events),ve=pe[ie]),void 0===ve)ve=pe[ie]=ae,++re._eventsCount;else if("function"==typeof ve?ve=pe[ie]=ue?[ae,ve]:[ve,ae]:ue?ve.unshift(ae):ve.push(ae),(ce=S(re))>0&&ve.length>ce&&!ve.warned){ve.warned=!0;var De=new Error("Possible EventEmitter memory leak detected. "+ve.length+" "+String(ie)+" listeners added. Use emitter.setMaxListeners() to increase limit");De.name="MaxListenersExceededWarning",De.emitter=re,De.type=ie,De.count=ve.length,function _(re){console&&console.warn&&console.warn(re)}(De)}return re}function R(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(re,ie,ae){var ue={fired:!1,wrapFn:void 0,target:re,type:ie,listener:ae},ce=R.bind(ue);return ce.listener=ae,ue.wrapFn=ce,ce}function A(re,ie,ae){var ue=re._events;if(void 0===ue)return[];var ce=ue[ie];return void 0===ce?[]:"function"==typeof ce?ae?[ce.listener||ce]:[ce]:ae?function Q(re){for(var ie=new Array(re.length),ae=0;ae<ie.length;++ae)ie[ae]=re[ae].listener||re[ae];return ie}(ce):U(ce,ce.length)}function V(re){var ie=this._events;if(void 0!==ie){var ae=ie[re];if("function"==typeof ae)return 1;if(void 0!==ae)return ae.length}return 0}function U(re,ie){for(var ae=new Array(ie),ue=0;ue<ie;++ue)ae[ue]=re[ue];return ae}function W(re,ie,ae,ue){if("function"==typeof re.on)ue.once?re.once(ie,ae):re.on(ie,ae);else{if("function"!=typeof re.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof re);re.addEventListener(ie,function ce(pe){ue.once&&re.removeEventListener(ie,ce),ae(pe)})}}Object.defineProperty(H,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(re){if("number"!=typeof re||re<0||B(re))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+re+".");b=re}}),H.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},H.prototype.setMaxListeners=function(ie){if("number"!=typeof ie||ie<0||B(ie))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ie+".");return this._maxListeners=ie,this},H.prototype.getMaxListeners=function(){return S(this)},H.prototype.emit=function(ie){for(var ae=[],ue=1;ue<arguments.length;ue++)ae.push(arguments[ue]);var ce="error"===ie,pe=this._events;if(void 0!==pe)ce=ce&&void 0===pe.error;else if(!ce)return!1;if(ce){var ve;if(ae.length>0&&(ve=ae[0]),ve instanceof Error)throw ve;var De=new Error("Unhandled error."+(ve?" ("+ve.message+")":""));throw De.context=ve,De}var C=pe[ie];if(void 0===C)return!1;if("function"==typeof C)E(C,this,ae);else{var s=C.length,d=U(C,s);for(ue=0;ue<s;++ue)E(d[ue],this,ae)}return!0},H.prototype.on=H.prototype.addListener=function(ie,ae){return P(this,ie,ae,!1)},H.prototype.prependListener=function(ie,ae){return P(this,ie,ae,!0)},H.prototype.once=function(ie,ae){return k(ae),this.on(ie,O(this,ie,ae)),this},H.prototype.prependOnceListener=function(ie,ae){return k(ae),this.prependListener(ie,O(this,ie,ae)),this},H.prototype.off=H.prototype.removeListener=function(ie,ae){var ue,ce,pe,ve,De;if(k(ae),void 0===(ce=this._events))return this;if(void 0===(ue=ce[ie]))return this;if(ue===ae||ue.listener===ae)0==--this._eventsCount?this._events=Object.create(null):(delete ce[ie],ce.removeListener&&this.emit("removeListener",ie,ue.listener||ae));else if("function"!=typeof ue){for(pe=-1,ve=ue.length-1;ve>=0;ve--)if(ue[ve]===ae||ue[ve].listener===ae){De=ue[ve].listener,pe=ve;break}if(pe<0)return this;0===pe?ue.shift():function K(re,ie){for(;ie+1<re.length;ie++)re[ie]=re[ie+1];re.pop()}(ue,pe),1===ue.length&&(ce[ie]=ue[0]),void 0!==ce.removeListener&&this.emit("removeListener",ie,De||ae)}return this},H.prototype.removeAllListeners=function(ie){var ae,ue,ce;if(void 0===(ue=this._events))return this;if(void 0===ue.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ue[ie]&&(0==--this._eventsCount?this._events=Object.create(null):delete ue[ie]),this;if(0===arguments.length){var ve,pe=Object.keys(ue);for(ce=0;ce<pe.length;++ce)"removeListener"!==(ve=pe[ce])&&this.removeAllListeners(ve);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ae=ue[ie]))this.removeListener(ie,ae);else if(void 0!==ae)for(ce=ae.length-1;ce>=0;ce--)this.removeListener(ie,ae[ce]);return this},H.prototype.listeners=function(ie){return A(this,ie,!0)},H.prototype.rawListeners=function(ie){return A(this,ie,!1)},H.listenerCount=function(re,ie){return"function"==typeof re.listenerCount?re.listenerCount(ie):V.call(re,ie)},H.prototype.listenerCount=V,H.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]}},18211:($e,j,E)=>{var g=E(27054).Buffer,_=E(34725);$e.exports=function B(H,b,k,S){if(g.isBuffer(H)||(H=g.from(H,"binary")),b&&(g.isBuffer(b)||(b=g.from(b,"binary")),8!==b.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var P=k/8,R=g.alloc(P),O=g.alloc(S||0),A=g.alloc(0);P>0||S>0;){var V=new _;V.update(A),V.update(H),b&&V.update(b),A=V.digest();var U=0;if(P>0){var K=R.length-P;U=Math.min(P,A.length),A.copy(R,K,0,U),P-=U}if(U<A.length&&S>0){var Q=O.length-S,q=Math.min(S,A.length-U);A.copy(O,Q,U,U+q),S-=q}}return A.fill(0),{key:R,iv:O}}},40362:$e=>{"use strict";$e.exports=function j(E,g){if(E===g)return!0;if(E&&g&&"object"==typeof E&&"object"==typeof g){if(E.constructor!==g.constructor)return!1;var _,B,H;if(Array.isArray(E)){if((_=E.length)!=g.length)return!1;for(B=_;0!=B--;)if(!j(E[B],g[B]))return!1;return!0}if(E.constructor===RegExp)return E.source===g.source&&E.flags===g.flags;if(E.valueOf!==Object.prototype.valueOf)return E.valueOf()===g.valueOf();if(E.toString!==Object.prototype.toString)return E.toString()===g.toString();if((_=(H=Object.keys(E)).length)!==Object.keys(g).length)return!1;for(B=_;0!=B--;)if(!Object.prototype.hasOwnProperty.call(g,H[B]))return!1;for(B=_;0!=B--;){var b=H[B];if(!j(E[b],g[b]))return!1}return!0}return E!=E&&g!=g}},13686:($e,j,E)=>{"use strict";var g=E(27054).Buffer,_=E(7045).Transform;function b(k){_.call(this),this._block=g.allocUnsafe(k),this._blockSize=k,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}E(71993)(b,_),b.prototype._transform=function(k,S,P){var R=null;try{this.update(k,S)}catch(O){R=O}P(R)},b.prototype._flush=function(k){var S=null;try{this.push(this.digest())}catch(P){S=P}k(S)},b.prototype.update=function(k,S){if(function H(k,S){if(!g.isBuffer(k)&&"string"!=typeof k)throw new TypeError(S+" must be a string or a buffer")}(k,"Data"),this._finalized)throw new Error("Digest already called");g.isBuffer(k)||(k=g.from(k,S));for(var P=this._block,R=0;this._blockOffset+k.length-R>=this._blockSize;){for(var O=this._blockOffset;O<this._blockSize;)P[O++]=k[R++];this._update(),this._blockOffset=0}for(;R<k.length;)P[this._blockOffset++]=k[R++];for(var A=0,V=8*k.length;V>0;++A)this._length[A]+=V,(V=this._length[A]/4294967296|0)>0&&(this._length[A]-=4294967296*V);return this},b.prototype._update=function(){throw new Error("_update is not implemented")},b.prototype.digest=function(k){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var S=this._digest();void 0!==k&&(S=S.toString(k)),this._block.fill(0),this._blockOffset=0;for(var P=0;P<4;++P)this._length[P]=0;return S},b.prototype._digest=function(){throw new Error("_digest is not implemented")},$e.exports=b},52529:($e,j,E)=>{var g=j;g.utils=E(68283),g.common=E(12901),g.sha=E(78528),g.ripemd=E(15283),g.hmac=E(37163),g.sha1=g.sha.sha1,g.sha256=g.sha.sha256,g.sha224=g.sha.sha224,g.sha384=g.sha.sha384,g.sha512=g.sha.sha512,g.ripemd160=g.ripemd.ripemd160},12901:($e,j,E)=>{"use strict";var g=E(68283),_=E(39210);function B(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}j.BlockHash=B,B.prototype.update=function(b,k){if(b=g.toArray(b,k),this.pending=this.pending?this.pending.concat(b):b,this.pendingTotal+=b.length,this.pending.length>=this._delta8){var S=(b=this.pending).length%this._delta8;this.pending=b.slice(b.length-S,b.length),0===this.pending.length&&(this.pending=null),b=g.join32(b,0,b.length-S,this.endian);for(var P=0;P<b.length;P+=this._delta32)this._update(b,P,P+this._delta32)}return this},B.prototype.digest=function(b){return this.update(this._pad()),_(null===this.pending),this._digest(b)},B.prototype._pad=function(){var b=this.pendingTotal,k=this._delta8,S=k-(b+this.padLength)%k,P=new Array(S+this.padLength);P[0]=128;for(var R=1;R<S;R++)P[R]=0;if(b<<=3,"big"===this.endian){for(var O=8;O<this.padLength;O++)P[R++]=0;P[R++]=0,P[R++]=0,P[R++]=0,P[R++]=0,P[R++]=b>>>24&255,P[R++]=b>>>16&255,P[R++]=b>>>8&255,P[R++]=255&b}else for(P[R++]=255&b,P[R++]=b>>>8&255,P[R++]=b>>>16&255,P[R++]=b>>>24&255,P[R++]=0,P[R++]=0,P[R++]=0,P[R++]=0,O=8;O<this.padLength;O++)P[R++]=0;return P}},37163:($e,j,E)=>{"use strict";var g=E(68283),_=E(39210);function B(H,b,k){if(!(this instanceof B))return new B(H,b,k);this.Hash=H,this.blockSize=H.blockSize/8,this.outSize=H.outSize/8,this.inner=null,this.outer=null,this._init(g.toArray(b,k))}$e.exports=B,B.prototype._init=function(b){b.length>this.blockSize&&(b=(new this.Hash).update(b).digest()),_(b.length<=this.blockSize);for(var k=b.length;k<this.blockSize;k++)b.push(0);for(k=0;k<b.length;k++)b[k]^=54;for(this.inner=(new this.Hash).update(b),k=0;k<b.length;k++)b[k]^=106;this.outer=(new this.Hash).update(b)},B.prototype.update=function(b,k){return this.inner.update(b,k),this},B.prototype.digest=function(b){return this.outer.update(this.inner.digest()),this.outer.digest(b)}},15283:($e,j,E)=>{"use strict";var g=E(68283),_=E(12901),B=g.rotl32,H=g.sum32,b=g.sum32_3,k=g.sum32_4,S=_.BlockHash;function P(){if(!(this instanceof P))return new P;S.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function R(q,Y,W,re){return q<=15?Y^W^re:q<=31?Y&W|~Y&re:q<=47?(Y|~W)^re:q<=63?Y&re|W&~re:Y^(W|~re)}function A(q){return q<=15?1352829926:q<=31?1548603684:q<=47?1836072691:q<=63?2053994217:0}g.inherits(P,S),j.ripemd160=P,P.blockSize=512,P.outSize=160,P.hmacStrength=192,P.padLength=64,P.prototype._update=function(Y,W){for(var re=this.h[0],ie=this.h[1],ae=this.h[2],ue=this.h[3],ce=this.h[4],pe=re,ve=ie,De=ae,C=ue,s=ce,d=0;d<80;d++){var h=H(B(k(re,R(d,ie,ae,ue),Y[V[d]+W],(q=d)<=15?0:q<=31?1518500249:q<=47?1859775393:q<=63?2400959708:2840853838),K[d]),ce);re=ce,ce=ue,ue=B(ae,10),ae=ie,ie=h,h=H(B(k(pe,R(79-d,ve,De,C),Y[U[d]+W],A(d)),Q[d]),s),pe=s,s=C,C=B(De,10),De=ve,ve=h}var q;h=b(this.h[1],ae,C),this.h[1]=b(this.h[2],ue,s),this.h[2]=b(this.h[3],ce,pe),this.h[3]=b(this.h[4],re,ve),this.h[4]=b(this.h[0],ie,De),this.h[0]=h},P.prototype._digest=function(Y){return"hex"===Y?g.toHex32(this.h,"little"):g.split32(this.h,"little")};var V=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],U=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],K=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Q=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:($e,j,E)=>{"use strict";j.sha1=E(33468),j.sha224=E(5563),j.sha256=E(27138),j.sha384=E(93898),j.sha512=E(10827)},33468:($e,j,E)=>{"use strict";var g=E(68283),_=E(12901),B=E(95542),H=g.rotl32,b=g.sum32,k=g.sum32_5,S=B.ft_1,P=_.BlockHash,R=[1518500249,1859775393,2400959708,3395469782];function O(){if(!(this instanceof O))return new O;P.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}g.inherits(O,P),$e.exports=O,O.blockSize=512,O.outSize=160,O.hmacStrength=80,O.padLength=64,O.prototype._update=function(V,U){for(var K=this.W,Q=0;Q<16;Q++)K[Q]=V[U+Q];for(;Q<K.length;Q++)K[Q]=H(K[Q-3]^K[Q-8]^K[Q-14]^K[Q-16],1);var q=this.h[0],Y=this.h[1],W=this.h[2],re=this.h[3],ie=this.h[4];for(Q=0;Q<K.length;Q++){var ae=~~(Q/20),ue=k(H(q,5),S(ae,Y,W,re),ie,K[Q],R[ae]);ie=re,re=W,W=H(Y,30),Y=q,q=ue}this.h[0]=b(this.h[0],q),this.h[1]=b(this.h[1],Y),this.h[2]=b(this.h[2],W),this.h[3]=b(this.h[3],re),this.h[4]=b(this.h[4],ie)},O.prototype._digest=function(V){return"hex"===V?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},5563:($e,j,E)=>{"use strict";var g=E(68283),_=E(27138);function B(){if(!(this instanceof B))return new B;_.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}g.inherits(B,_),$e.exports=B,B.blockSize=512,B.outSize=224,B.hmacStrength=192,B.padLength=64,B.prototype._digest=function(b){return"hex"===b?g.toHex32(this.h.slice(0,7),"big"):g.split32(this.h.slice(0,7),"big")}},27138:($e,j,E)=>{"use strict";var g=E(68283),_=E(12901),B=E(95542),H=E(39210),b=g.sum32,k=g.sum32_4,S=g.sum32_5,P=B.ch32,R=B.maj32,O=B.s0_256,A=B.s1_256,V=B.g0_256,U=B.g1_256,K=_.BlockHash,Q=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function q(){if(!(this instanceof q))return new q;K.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Q,this.W=new Array(64)}g.inherits(q,K),$e.exports=q,q.blockSize=512,q.outSize=256,q.hmacStrength=192,q.padLength=64,q.prototype._update=function(W,re){for(var ie=this.W,ae=0;ae<16;ae++)ie[ae]=W[re+ae];for(;ae<ie.length;ae++)ie[ae]=k(U(ie[ae-2]),ie[ae-7],V(ie[ae-15]),ie[ae-16]);var ue=this.h[0],ce=this.h[1],pe=this.h[2],ve=this.h[3],De=this.h[4],C=this.h[5],s=this.h[6],d=this.h[7];for(H(this.k.length===ie.length),ae=0;ae<ie.length;ae++){var h=S(d,A(De),P(De,C,s),this.k[ae],ie[ae]),f=b(O(ue),R(ue,ce,pe));d=s,s=C,C=De,De=b(ve,h),ve=pe,pe=ce,ce=ue,ue=b(h,f)}this.h[0]=b(this.h[0],ue),this.h[1]=b(this.h[1],ce),this.h[2]=b(this.h[2],pe),this.h[3]=b(this.h[3],ve),this.h[4]=b(this.h[4],De),this.h[5]=b(this.h[5],C),this.h[6]=b(this.h[6],s),this.h[7]=b(this.h[7],d)},q.prototype._digest=function(W){return"hex"===W?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},93898:($e,j,E)=>{"use strict";var g=E(68283),_=E(10827);function B(){if(!(this instanceof B))return new B;_.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}g.inherits(B,_),$e.exports=B,B.blockSize=1024,B.outSize=384,B.hmacStrength=192,B.padLength=128,B.prototype._digest=function(b){return"hex"===b?g.toHex32(this.h.slice(0,12),"big"):g.split32(this.h.slice(0,12),"big")}},10827:($e,j,E)=>{"use strict";var g=E(68283),_=E(12901),B=E(39210),H=g.rotr64_hi,b=g.rotr64_lo,k=g.shr64_hi,S=g.shr64_lo,P=g.sum64,R=g.sum64_hi,O=g.sum64_lo,A=g.sum64_4_hi,V=g.sum64_4_lo,U=g.sum64_5_hi,K=g.sum64_5_lo,Q=_.BlockHash,q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(){if(!(this instanceof Y))return new Y;Q.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=q,this.W=new Array(160)}function W(h,f,w,I,L){var x=h&w^~h&L;return x<0&&(x+=4294967296),x}function re(h,f,w,I,L,x){var a=f&I^~f&x;return a<0&&(a+=4294967296),a}function ie(h,f,w,I,L){var x=h&w^h&L^w&L;return x<0&&(x+=4294967296),x}function ae(h,f,w,I,L,x){var a=f&I^f&x^I&x;return a<0&&(a+=4294967296),a}function ue(h,f){var x=H(h,f,28)^H(f,h,2)^H(f,h,7);return x<0&&(x+=4294967296),x}function ce(h,f){var x=b(h,f,28)^b(f,h,2)^b(f,h,7);return x<0&&(x+=4294967296),x}function pe(h,f){var x=H(h,f,14)^H(h,f,18)^H(f,h,9);return x<0&&(x+=4294967296),x}function ve(h,f){var x=b(h,f,14)^b(h,f,18)^b(f,h,9);return x<0&&(x+=4294967296),x}function De(h,f){var x=H(h,f,1)^H(h,f,8)^k(h,f,7);return x<0&&(x+=4294967296),x}function C(h,f){var x=b(h,f,1)^b(h,f,8)^S(h,f,7);return x<0&&(x+=4294967296),x}function s(h,f){var x=H(h,f,19)^H(f,h,29)^k(h,f,6);return x<0&&(x+=4294967296),x}function d(h,f){var x=b(h,f,19)^b(f,h,29)^S(h,f,6);return x<0&&(x+=4294967296),x}g.inherits(Y,Q),$e.exports=Y,Y.blockSize=1024,Y.outSize=512,Y.hmacStrength=192,Y.padLength=128,Y.prototype._prepareBlock=function(f,w){for(var I=this.W,L=0;L<32;L++)I[L]=f[w+L];for(;L<I.length;L+=2){var x=s(I[L-4],I[L-3]),a=d(I[L-4],I[L-3]),v=I[L-14],Z=I[L-13],z=De(I[L-30],I[L-29]),ee=C(I[L-30],I[L-29]),le=I[L-32],we=I[L-31];I[L]=A(x,a,v,Z,z,ee,le,we),I[L+1]=V(x,a,v,Z,z,ee,le,we)}},Y.prototype._update=function(f,w){this._prepareBlock(f,w);var I=this.W,L=this.h[0],x=this.h[1],a=this.h[2],v=this.h[3],Z=this.h[4],z=this.h[5],ee=this.h[6],le=this.h[7],we=this.h[8],Me=this.h[9],Ge=this.h[10],ge=this.h[11],me=this.h[12],Ue=this.h[13],xe=this.h[14],Ce=this.h[15];B(this.k.length===I.length);for(var be=0;be<I.length;be+=2){var he=xe,ne=Ce,te=pe(we,Me),de=ve(we,Me),_e=W(we,0,Ge,0,me),Ie=re(0,Me,0,ge,0,Ue),He=this.k[be],Ve=this.k[be+1],xt=I[be],Ne=I[be+1],ke=U(he,ne,te,de,_e,Ie,He,Ve,xt,Ne),pt=K(he,ne,te,de,_e,Ie,He,Ve,xt,Ne);he=ue(L,x),ne=ce(L,x),te=ie(L,0,a,0,Z),de=ae(0,x,0,v,0,z);var F=R(he,ne,te,de),D=O(he,ne,te,de);xe=me,Ce=Ue,me=Ge,Ue=ge,Ge=we,ge=Me,we=R(ee,le,ke,pt),Me=O(le,le,ke,pt),ee=Z,le=z,Z=a,z=v,a=L,v=x,L=R(ke,pt,F,D),x=O(ke,pt,F,D)}P(this.h,0,L,x),P(this.h,2,a,v),P(this.h,4,Z,z),P(this.h,6,ee,le),P(this.h,8,we,Me),P(this.h,10,Ge,ge),P(this.h,12,me,Ue),P(this.h,14,xe,Ce)},Y.prototype._digest=function(f){return"hex"===f?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},95542:($e,j,E)=>{"use strict";var _=E(68283).rotr32;function H(A,V,U){return A&V^~A&U}function b(A,V,U){return A&V^A&U^V&U}function k(A,V,U){return A^V^U}j.ft_1=function B(A,V,U,K){return 0===A?H(V,U,K):1===A||3===A?k(V,U,K):2===A?b(V,U,K):void 0},j.ch32=H,j.maj32=b,j.p32=k,j.s0_256=function S(A){return _(A,2)^_(A,13)^_(A,22)},j.s1_256=function P(A){return _(A,6)^_(A,11)^_(A,25)},j.g0_256=function R(A){return _(A,7)^_(A,18)^A>>>3},j.g1_256=function O(A){return _(A,17)^_(A,19)^A>>>10}},68283:($e,j,E)=>{"use strict";var g=E(39210),_=E(71993);function B(d,h){return!(55296!=(64512&d.charCodeAt(h))||h<0||h+1>=d.length)&&56320==(64512&d.charCodeAt(h+1))}function k(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function P(d){return 1===d.length?"0"+d:d}function R(d){return 7===d.length?"0"+d:6===d.length?"00"+d:5===d.length?"000"+d:4===d.length?"0000"+d:3===d.length?"00000"+d:2===d.length?"000000"+d:1===d.length?"0000000"+d:d}j.inherits=_,j.toArray=function H(d,h){if(Array.isArray(d))return d.slice();if(!d)return[];var f=[];if("string"==typeof d)if(h){if("hex"===h)for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),I=0;I<d.length;I+=2)f.push(parseInt(d[I]+d[I+1],16))}else for(var w=0,I=0;I<d.length;I++){var L=d.charCodeAt(I);L<128?f[w++]=L:L<2048?(f[w++]=L>>6|192,f[w++]=63&L|128):B(d,I)?(L=65536+((1023&L)<<10)+(1023&d.charCodeAt(++I)),f[w++]=L>>18|240,f[w++]=L>>12&63|128,f[w++]=L>>6&63|128,f[w++]=63&L|128):(f[w++]=L>>12|224,f[w++]=L>>6&63|128,f[w++]=63&L|128)}else for(I=0;I<d.length;I++)f[I]=0|d[I];return f},j.toHex=function b(d){for(var h="",f=0;f<d.length;f++)h+=P(d[f].toString(16));return h},j.htonl=k,j.toHex32=function S(d,h){for(var f="",w=0;w<d.length;w++){var I=d[w];"little"===h&&(I=k(I)),f+=R(I.toString(16))}return f},j.zero2=P,j.zero8=R,j.join32=function O(d,h,f,w){var I=f-h;g(I%4==0);for(var L=new Array(I/4),x=0,a=h;x<L.length;x++,a+=4)L[x]=("big"===w?d[a]<<24|d[a+1]<<16|d[a+2]<<8|d[a+3]:d[a+3]<<24|d[a+2]<<16|d[a+1]<<8|d[a])>>>0;return L},j.split32=function A(d,h){for(var f=new Array(4*d.length),w=0,I=0;w<d.length;w++,I+=4){var L=d[w];"big"===h?(f[I]=L>>>24,f[I+1]=L>>>16&255,f[I+2]=L>>>8&255,f[I+3]=255&L):(f[I+3]=L>>>24,f[I+2]=L>>>16&255,f[I+1]=L>>>8&255,f[I]=255&L)}return f},j.rotr32=function V(d,h){return d>>>h|d<<32-h},j.rotl32=function U(d,h){return d<<h|d>>>32-h},j.sum32=function K(d,h){return d+h>>>0},j.sum32_3=function Q(d,h,f){return d+h+f>>>0},j.sum32_4=function q(d,h,f,w){return d+h+f+w>>>0},j.sum32_5=function Y(d,h,f,w,I){return d+h+f+w+I>>>0},j.sum64=function W(d,h,f,w){var x=w+d[h+1]>>>0;d[h]=(x<w?1:0)+f+d[h]>>>0,d[h+1]=x},j.sum64_hi=function re(d,h,f,w){return(h+w>>>0<h?1:0)+d+f>>>0},j.sum64_lo=function ie(d,h,f,w){return h+w>>>0},j.sum64_4_hi=function ae(d,h,f,w,I,L,x,a){var v=0,Z=h;return v+=(Z=Z+w>>>0)<h?1:0,v+=(Z=Z+L>>>0)<L?1:0,d+f+I+x+(v+=(Z=Z+a>>>0)<a?1:0)>>>0},j.sum64_4_lo=function ue(d,h,f,w,I,L,x,a){return h+w+L+a>>>0},j.sum64_5_hi=function ce(d,h,f,w,I,L,x,a,v,Z){var z=0,ee=h;return z+=(ee=ee+w>>>0)<h?1:0,z+=(ee=ee+L>>>0)<L?1:0,z+=(ee=ee+a>>>0)<a?1:0,d+f+I+x+v+(z+=(ee=ee+Z>>>0)<Z?1:0)>>>0},j.sum64_5_lo=function pe(d,h,f,w,I,L,x,a,v,Z){return h+w+L+a+Z>>>0},j.rotr64_hi=function ve(d,h,f){return(h<<32-f|d>>>f)>>>0},j.rotr64_lo=function De(d,h,f){return(d<<32-f|h>>>f)>>>0},j.shr64_hi=function C(d,h,f){return d>>>f},j.shr64_lo=function s(d,h,f){return(d<<32-f|h>>>f)>>>0}},33556:($e,j,E)=>{"use strict";var g=E(52529),_=E(21832),B=E(39210);function H(b){if(!(this instanceof H))return new H(b);this.hash=b.hash,this.predResist=!!b.predResist,this.outLen=this.hash.outSize,this.minEntropy=b.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var k=_.toArray(b.entropy,b.entropyEnc||"hex"),S=_.toArray(b.nonce,b.nonceEnc||"hex"),P=_.toArray(b.pers,b.persEnc||"hex");B(k.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(k,S,P)}$e.exports=H,H.prototype._init=function(k,S,P){var R=k.concat(S).concat(P);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var O=0;O<this.V.length;O++)this.K[O]=0,this.V[O]=1;this._update(R),this._reseed=1,this.reseedInterval=281474976710656},H.prototype._hmac=function(){return new g.hmac(this.hash,this.K)},H.prototype._update=function(k){var S=this._hmac().update(this.V).update([0]);k&&(S=S.update(k)),this.K=S.digest(),this.V=this._hmac().update(this.V).digest(),k&&(this.K=this._hmac().update(this.V).update([1]).update(k).digest(),this.V=this._hmac().update(this.V).digest())},H.prototype.reseed=function(k,S,P,R){"string"!=typeof S&&(R=P,P=S,S=null),k=_.toArray(k,S),P=_.toArray(P,R),B(k.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(k.concat(P||[])),this._reseed=1},H.prototype.generate=function(k,S,P,R){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof S&&(R=P,P=S,S=null),P&&(P=_.toArray(P,R||"hex"),this._update(P));for(var O=[];O.length<k;)this.V=this._hmac().update(this.V).digest(),O=O.concat(this.V);var A=O.slice(0,k);return this._update(P),this._reseed++,_.encode(A,S)}},22020:($e,j)=>{j.read=function(E,g,_,B,H){var b,k,S=8*H-B-1,P=(1<<S)-1,R=P>>1,O=-7,A=_?H-1:0,V=_?-1:1,U=E[g+A];for(A+=V,b=U&(1<<-O)-1,U>>=-O,O+=S;O>0;b=256*b+E[g+A],A+=V,O-=8);for(k=b&(1<<-O)-1,b>>=-O,O+=B;O>0;k=256*k+E[g+A],A+=V,O-=8);if(0===b)b=1-R;else{if(b===P)return k?NaN:1/0*(U?-1:1);k+=Math.pow(2,B),b-=R}return(U?-1:1)*k*Math.pow(2,b-B)},j.write=function(E,g,_,B,H,b){var k,S,P,R=8*b-H-1,O=(1<<R)-1,A=O>>1,V=23===H?Math.pow(2,-24)-Math.pow(2,-77):0,U=B?0:b-1,K=B?1:-1,Q=g<0||0===g&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(S=isNaN(g)?1:0,k=O):(k=Math.floor(Math.log(g)/Math.LN2),g*(P=Math.pow(2,-k))<1&&(k--,P*=2),(g+=k+A>=1?V/P:V*Math.pow(2,1-A))*P>=2&&(k++,P/=2),k+A>=O?(S=0,k=O):k+A>=1?(S=(g*P-1)*Math.pow(2,H),k+=A):(S=g*Math.pow(2,A-1)*Math.pow(2,H),k=0));H>=8;E[_+U]=255&S,U+=K,S/=256,H-=8);for(k=k<<H|S,R+=H;R>0;E[_+U]=255&k,U+=K,k/=256,R-=8);E[_+U-K]|=128*Q}},71993:$e=>{$e.exports="function"==typeof Object.create?function(E,g){g&&(E.super_=g,E.prototype=Object.create(g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}))}:function(E,g){if(g){E.super_=g;var _=function(){};_.prototype=g.prototype,E.prototype=new _,E.prototype.constructor=E}}},42853:$e=>{"use strict";function j(g,_){for(const B in _)Object.defineProperty(g,B,{value:_[B],enumerable:!0,configurable:!0});return g}$e.exports=function E(g,_,B){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");B||(B={}),"object"==typeof _&&(B=_,_=""),_&&(B.code=_);try{return j(g,B)}catch{B.message=g.message,B.stack=g.stack;const b=function(){};return b.prototype=Object.create(Object.getPrototypeOf(g)),j(new b,B)}}},5014:$e=>{"use strict";function j(g,_){for(const B in _)Object.defineProperty(g,B,{value:_[B],enumerable:!0,configurable:!0});return g}$e.exports=function E(g,_,B){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");B||(B={}),"object"==typeof _&&(B=_,_=""),_&&(B.code=_);try{return j(g,B)}catch{B.message=g.message,B.stack=g.stack;const b=function(){};return b.prototype=Object.create(Object.getPrototypeOf(g)),j(new b,B)}}},3087:$e=>{"use strict";function j(g,_){for(const B in _)Object.defineProperty(g,B,{value:_[B],enumerable:!0,configurable:!0});return g}$e.exports=function E(g,_,B){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");B||(B={}),"object"==typeof _&&(B=_,_=""),_&&(B.code=_);try{return j(g,B)}catch{B.message=g.message,B.stack=g.stack;const b=function(){};return b.prototype=Object.create(Object.getPrototypeOf(g)),j(new b,B)}}},20053:$e=>{var j={}.toString;$e.exports=Array.isArray||function(E){return"[object Array]"==j.call(E)}},89994:function($e){$e.exports=function(){"use strict";var j=Math.imul,E=Math.clz32;function g(ce){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(ce)}function B(ce,pe){for(var ve,De=0;De<pe.length;De++)(ve=pe[De]).enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(ce,ve.key,ve)}function k(ce){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(ce)}function S(ce,pe){return(S=Object.setPrototypeOf||function(ve,De){return ve.__proto__=De,ve})(ce,pe)}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(){return(R=P()?Reflect.construct:function(ce,pe,ve){var De=[null];De.push.apply(De,pe);var s=new(Function.bind.apply(ce,De));return ve&&S(s,ve.prototype),s}).apply(null,arguments)}function A(ce){var pe="function"==typeof Map?new Map:void 0;return A=function(ve){function De(){return R(ve,arguments,k(this).constructor)}if(null===ve||!function O(ce){return-1!==Function.toString.call(ce).indexOf("[native code]")}(ve))return ve;if("function"!=typeof ve)throw new TypeError("Super expression must either be null or a function");if(typeof pe<"u"){if(pe.has(ve))return pe.get(ve);pe.set(ve,De)}return De.prototype=Object.create(ve.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}),S(De,ve)},A(ce)}function V(ce){if(void 0===ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function K(ce){var pe=P();return function(){var ve,De=k(ce);if(pe){var C=k(this).constructor;ve=Reflect.construct(De,arguments,C)}else ve=De.apply(this,arguments);return function U(ce,pe){if(pe&&("object"==typeof pe||"function"==typeof pe))return pe;if(void 0!==pe)throw new TypeError("Derived constructors may only return object or undefined");return V(ce)}(this,ve)}}function Q(ce,pe){return function q(ce){if(Array.isArray(ce))return ce}(ce)||function Y(ce,pe){var ve=null==ce?null:typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(null!=ve){var De,C,s=[],d=!0,h=!1;try{for(ve=ve.call(ce);!(d=(De=ve.next()).done)&&(s.push(De.value),!pe||s.length!==pe);d=!0);}catch(f){h=!0,C=f}finally{try{d||null==ve.return||ve.return()}finally{if(h)throw C}}return s}}(ce,pe)||W(ce,pe)||function ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(ce,pe){if(ce){if("string"==typeof ce)return re(ce,pe);var ve=Object.prototype.toString.call(ce).slice(8,-1);return"Object"===ve&&ce.constructor&&(ve=ce.constructor.name),"Map"===ve||"Set"===ve?Array.from(ce):"Arguments"===ve||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?re(ce,pe):void 0}}function re(ce,pe){(null==pe||pe>ce.length)&&(pe=ce.length);for(var ve=0,De=Array(pe);ve<pe;ve++)De[ve]=ce[ve];return De}var ue=function(ce){var pe=Math.abs,ve=Math.max,De=Math.floor;function C(d,h){var f;if(function _(ce,pe){if(!(ce instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,C),(f=s.call(this,d)).sign=h,Object.setPrototypeOf(V(f),C.prototype),d>C.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return f}!function b(ce,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(pe&&pe.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),pe&&S(ce,pe)}(C,ce);var s=K(C);return function H(ce,pe,ve){return pe&&B(ce.prototype,pe),ve&&B(ce,ve),Object.defineProperty(ce,"prototype",{writable:!1}),ce}(C,[{key:"toDebugString",value:function(){var d,h=["BigInt["],f=function ae(ce,pe){var ve=typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(!ve){if(Array.isArray(ce)||(ve=W(ce))||pe&&ce&&"number"==typeof ce.length){ve&&(ce=ve);var De=0,C=function(){};return{s:C,n:function(){return De>=ce.length?{done:!0}:{done:!1,value:ce[De++]}},e:function(f){throw f},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,d=!0,h=!1;return{s:function(){ve=ve.call(ce)},n:function(){var f=ve.next();return d=f.done,f},e:function(f){h=!0,s=f},f:function(){try{d||null==ve.return||ve.return()}finally{if(h)throw s}}}}(this);try{for(f.s();!(d=f.n()).done;){var w=d.value;h.push((w&&(w>>>0).toString(16))+", ")}}catch(I){f.e(I)}finally{f.f()}return h.push("]"),h.join("")}},{key:"toString",value:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>d||36<d)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":d&d-1?C.__toStringGeneric(this,d,!1):C.__toStringBasePowerOfTwo(this,d)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var d=new C(this.length,this.sign),h=0;h<this.length;h++)d[h]=this[h];return d}},{key:"__trim",value:function(){for(var d=this.length,h=this[d-1];0===h;)h=this[--d-1],this.pop();return 0===d&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var d=0;d<this.length;d++)this[d]=0}},{key:"__clzmsd",value:function(){return C.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(d,h,f){f>this.length&&(f=this.length);for(var w=32767&d,I=d>>>15,L=0,x=h,a=0;a<f;a++){var v=this.__digit(a),Z=32767&v,z=v>>>15,ee=C.__imul(Z,w),le=C.__imul(Z,I),we=C.__imul(z,w),Ge=x+ee+L;L=Ge>>>30,Ge&=1073741823,L+=(Ge+=((32767&le)<<15)+((32767&we)<<15))>>>30,x=C.__imul(z,I)+(le>>>15)+(we>>>15),this.__setDigit(a,1073741823&Ge)}if(0!==L||0!==x)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(d,h,f){for(var w,I=0,L=0;L<f;L++)I=(w=this.__halfDigit(h+L)+d.__halfDigit(L)+I)>>>15,this.__setHalfDigit(h+L,32767&w);return I}},{key:"__inplaceSub",value:function(d,h,f){var w=0;if(1&h){for(var I=this.__digit(h>>=1),L=32767&I,x=0;x<f-1>>>1;x++){var a=d.__digit(x),v=(I>>>15)-(32767&a)-w;w=1&v>>>15,this.__setDigit(h+x,(32767&v)<<15|32767&L),w=1&(L=(32767&(I=this.__digit(h+x+1)))-(a>>>15)-w)>>>15}var Z=d.__digit(x),z=(I>>>15)-(32767&Z)-w;if(w=1&z>>>15,this.__setDigit(h+x,(32767&z)<<15|32767&L),h+x+1>=this.length)throw new RangeError("out of bounds");!(1&f)&&(w=1&(L=(32767&(I=this.__digit(h+x+1)))-(Z>>>15)-w)>>>15,this.__setDigit(h+d.length,1073709056&I|32767&L))}else{h>>=1;for(var ee=0;ee<d.length-1;ee++){var le=this.__digit(h+ee),we=d.__digit(ee),Me=(32767&le)-(32767&we)-w,Ge=(le>>>15)-(we>>>15)-(w=1&Me>>>15);w=1&Ge>>>15,this.__setDigit(h+ee,(32767&Ge)<<15|32767&Me)}var ge=this.__digit(h+ee),me=d.__digit(ee),Ue=(32767&ge)-(32767&me)-w;w=1&Ue>>>15;var xe=0;!(1&f)&&(w=1&(xe=(ge>>>15)-(me>>>15)-w)>>>15),this.__setDigit(h+ee,(32767&xe)<<15|32767&Ue)}return w}},{key:"__inplaceRightShift",value:function(d){if(0!==d){for(var h,f=this.__digit(0)>>>d,w=this.length-1,I=0;I<w;I++)h=this.__digit(I+1),this.__setDigit(I,1073741823&h<<30-d|f),f=h>>>d;this.__setDigit(w,f)}}},{key:"__digit",value:function(d){return this[d]}},{key:"__unsignedDigit",value:function(d){return this[d]>>>0}},{key:"__setDigit",value:function(d,h){this[d]=0|h}},{key:"__setDigitGrow",value:function(d,h){this[d]=0|h}},{key:"__halfDigitLength",value:function(){var d=this.length;return 32767>=this.__unsignedDigit(d-1)?2*d-1:2*d}},{key:"__halfDigit",value:function(d){return 32767&this[d>>>1]>>>15*(1&d)}},{key:"__setHalfDigit",value:function(d,h){var f=d>>>1,w=this.__digit(f);this.__setDigit(f,1&d?32767&w|h<<15:1073709056&w|32767&h)}}],[{key:"BigInt",value:function(d){var h=Number.isFinite;if("number"==typeof d){if(0===d)return C.__zero();if(C.__isOneDigitInt(d))return 0>d?C.__oneDigit(-d,!0):C.__oneDigit(d,!1);if(!h(d)||De(d)!==d)throw new RangeError("The number "+d+" cannot be converted to BigInt because it is not an integer");return C.__fromDouble(d)}if("string"==typeof d){var f=C.__fromString(d);if(null===f)throw new SyntaxError("Cannot convert "+d+" to a BigInt");return f}if("boolean"==typeof d)return!0===d?C.__oneDigit(1,!1):C.__zero();if("object"===g(d)){if(d.constructor===C)return d;var w=C.__toPrimitive(d);return C.BigInt(w)}throw new TypeError("Cannot convert "+d+" to a BigInt")}},{key:"toNumber",value:function(d){var h=d.length;if(0===h)return 0;if(1===h){var f=d.__unsignedDigit(0);return d.sign?-f:f}var w=d.__digit(h-1),I=C.__clz30(w),L=30*h-I;if(1024<L)return d.sign?-1/0:1/0;var x=L-1,a=w,v=h-1,Z=I+3,z=32===Z?0:a<<Z;z>>>=12;var ee=Z-12,le=12<=Z?0:a<<20+Z,we=20+Z;for(0<ee&&0<v&&(v--,z|=(a=d.__digit(v))>>>30-ee,le=a<<ee+2,we=ee+2);0<we&&0<v;)v--,a=d.__digit(v),le|=30<=we?a<<we-30:a>>>30-we,we-=30;var Me=C.__decideRounding(d,we,v,a);return 1!==Me&&(0!==Me||1&~le)||0!=(le=le+1>>>0)||!(++z>>>20!=0&&(z=0,1023<++x))?(C.__kBitConversionInts[1]=(d.sign?-2147483648:0)|(x=x+1023<<20)|z,C.__kBitConversionInts[0]=le,C.__kBitConversionDouble[0]):d.sign?-1/0:1/0}},{key:"unaryMinus",value:function(d){if(0===d.length)return d;var h=d.__copy();return h.sign=!d.sign,h}},{key:"bitwiseNot",value:function(d){return d.sign?C.__absoluteSubOne(d).__trim():C.__absoluteAddOne(d,!0)}},{key:"exponentiate",value:function(d,h){if(h.sign)throw new RangeError("Exponent must be positive");if(0===h.length)return C.__oneDigit(1,!1);if(0===d.length)return d;if(1===d.length&&1===d.__digit(0))return!d.sign||1&h.__digit(0)?d:C.unaryMinus(d);if(1<h.length)throw new RangeError("BigInt too big");var f=h.__unsignedDigit(0);if(1===f)return d;if(f>=C.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===d.length&&2===d.__digit(0)){var w=1+(0|f/30),L=new C(w,d.sign&&!!(1&f));return L.__initializeDigits(),L.__setDigit(w-1,1<<f%30),L}var a=null,v=d;for(1&f&&(a=d),f>>=1;0!==f;f>>=1)v=C.multiply(v,v),1&f&&(a=null===a?v:C.multiply(a,v));return a}},{key:"multiply",value:function(d,h){if(0===d.length)return d;if(0===h.length)return h;var f=d.length+h.length;30<=d.__clzmsd()+h.__clzmsd()&&f--;var w=new C(f,d.sign!==h.sign);w.__initializeDigits();for(var I=0;I<d.length;I++)C.__multiplyAccumulate(h,d.__digit(I),w,I);return w.__trim()}},{key:"divide",value:function(d,h){if(0===h.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(d,h))return C.__zero();var f,w=d.sign!==h.sign,I=h.__unsignedDigit(0);if(1===h.length&&32767>=I){if(1===I)return w===d.sign?d:C.unaryMinus(d);f=C.__absoluteDivSmall(d,I,null)}else f=C.__absoluteDivLarge(d,h,!0,!1);return f.sign=w,f.__trim()}},{key:"remainder",value:function(h,f){if(0===f.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(h,f))return h;var w=f.__unsignedDigit(0);if(1===f.length&&32767>=w){if(1===w)return C.__zero();var I=C.__absoluteModSmall(h,w);return 0===I?C.__zero():C.__oneDigit(I,h.sign)}var L=C.__absoluteDivLarge(h,f,!1,!0);return L.sign=h.sign,L.__trim()}},{key:"add",value:function(d,h){var f=d.sign;return f===h.sign?C.__absoluteAdd(d,h,f):0<=C.__absoluteCompare(d,h)?C.__absoluteSub(d,h,f):C.__absoluteSub(h,d,!f)}},{key:"subtract",value:function(d,h){var f=d.sign;return f===h.sign?0<=C.__absoluteCompare(d,h)?C.__absoluteSub(d,h,f):C.__absoluteSub(h,d,!f):C.__absoluteAdd(d,h,f)}},{key:"leftShift",value:function(d,h){return 0===h.length||0===d.length?d:h.sign?C.__rightShiftByAbsolute(d,h):C.__leftShiftByAbsolute(d,h)}},{key:"signedRightShift",value:function(d,h){return 0===h.length||0===d.length?d:h.sign?C.__leftShiftByAbsolute(d,h):C.__rightShiftByAbsolute(d,h)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(d,h){return 0>C.__compareToBigInt(d,h)}},{key:"lessThanOrEqual",value:function(d,h){return 0>=C.__compareToBigInt(d,h)}},{key:"greaterThan",value:function(d,h){return 0<C.__compareToBigInt(d,h)}},{key:"greaterThanOrEqual",value:function(d,h){return 0<=C.__compareToBigInt(d,h)}},{key:"equal",value:function(d,h){if(d.sign!==h.sign||d.length!==h.length)return!1;for(var f=0;f<d.length;f++)if(d.__digit(f)!==h.__digit(f))return!1;return!0}},{key:"notEqual",value:function(d,h){return!C.equal(d,h)}},{key:"bitwiseAnd",value:function(d,h){if(!d.sign&&!h.sign)return C.__absoluteAnd(d,h).__trim();if(d.sign&&h.sign){var f=ve(d.length,h.length)+1,w=C.__absoluteSubOne(d,f),I=C.__absoluteSubOne(h);return w=C.__absoluteOr(w,I,w),C.__absoluteAddOne(w,!0,w).__trim()}if(d.sign){var L=[h,d];d=L[0],h=L[1]}return C.__absoluteAndNot(d,C.__absoluteSubOne(h)).__trim()}},{key:"bitwiseXor",value:function(d,h){if(!d.sign&&!h.sign)return C.__absoluteXor(d,h).__trim();if(d.sign&&h.sign){var f=ve(d.length,h.length),w=C.__absoluteSubOne(d,f),I=C.__absoluteSubOne(h);return C.__absoluteXor(w,I,w).__trim()}var L=ve(d.length,h.length)+1;if(d.sign){var x=[h,d];d=x[0],h=x[1]}var a=C.__absoluteSubOne(h,L);return a=C.__absoluteXor(a,d,a),C.__absoluteAddOne(a,!0,a).__trim()}},{key:"bitwiseOr",value:function(d,h){var f=ve(d.length,h.length);if(!d.sign&&!h.sign)return C.__absoluteOr(d,h).__trim();if(d.sign&&h.sign){var w=C.__absoluteSubOne(d,f),I=C.__absoluteSubOne(h);return w=C.__absoluteAnd(w,I,w),C.__absoluteAddOne(w,!0,w).__trim()}if(d.sign){var L=[h,d];d=L[0],h=L[1]}var x=C.__absoluteSubOne(h,f);return x=C.__absoluteAndNot(x,d,x),C.__absoluteAddOne(x,!0,x).__trim()}},{key:"asIntN",value:function(d,h){if(0===h.length)return h;if(0>(d=De(d)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===d)return C.__zero();if(d>=C.__kMaxLengthBits)return h;var f=0|(d+29)/30;if(h.length<f)return h;var w=h.__unsignedDigit(f-1),I=1<<(d-1)%30;if(h.length===f&&w<I)return h;if((w&I)!==I)return C.__truncateToNBits(d,h);if(!h.sign)return C.__truncateAndSubFromPowerOfTwo(d,h,!0);if(!(w&I-1)){for(var L=f-2;0<=L;L--)if(0!==h.__digit(L))return C.__truncateAndSubFromPowerOfTwo(d,h,!1);return h.length===f&&w===I?h:C.__truncateToNBits(d,h)}return C.__truncateAndSubFromPowerOfTwo(d,h,!1)}},{key:"asUintN",value:function(d,h){if(0===h.length)return h;if(0>(d=De(d)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===d)return C.__zero();if(h.sign){if(d>C.__kMaxLengthBits)throw new RangeError("BigInt too big");return C.__truncateAndSubFromPowerOfTwo(d,h,!1)}if(d>=C.__kMaxLengthBits)return h;var f=0|(d+29)/30;if(h.length<f)return h;var w=d%30;if(h.length==f){if(0===w)return h;if(!(h.__digit(f-1)>>>w))return h}return C.__truncateToNBits(d,h)}},{key:"ADD",value:function(d,h){if(d=C.__toPrimitive(d),h=C.__toPrimitive(h),"string"==typeof d)return"string"!=typeof h&&(h=h.toString()),d+h;if("string"==typeof h)return d.toString()+h;if(d=C.__toNumeric(d),h=C.__toNumeric(h),C.__isBigInt(d)&&C.__isBigInt(h))return C.add(d,h);if("number"==typeof d&&"number"==typeof h)return d+h;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(d,h){return C.__compare(d,h,0)}},{key:"LE",value:function(d,h){return C.__compare(d,h,1)}},{key:"GT",value:function(d,h){return C.__compare(d,h,2)}},{key:"GE",value:function(d,h){return C.__compare(d,h,3)}},{key:"EQ",value:function(d,h){for(;;){if(C.__isBigInt(d))return C.__isBigInt(h)?C.equal(d,h):C.EQ(h,d);if("number"==typeof d){if(C.__isBigInt(h))return C.__equalToNumber(h,d);if("object"!==g(h))return d==h;h=C.__toPrimitive(h)}else if("string"==typeof d){if(C.__isBigInt(h))return null!==(d=C.__fromString(d))&&C.equal(d,h);if("object"!==g(h))return d==h;h=C.__toPrimitive(h)}else if("boolean"==typeof d){if(C.__isBigInt(h))return C.__equalToNumber(h,+d);if("object"!==g(h))return d==h;h=C.__toPrimitive(h)}else if("symbol"===g(d)){if(C.__isBigInt(h))return!1;if("object"!==g(h))return d==h;h=C.__toPrimitive(h)}else{if("object"!==g(d))return d==h;if("object"===g(h)&&h.constructor!==C)return d==h;d=C.__toPrimitive(d)}}}},{key:"NE",value:function(d,h){return!C.EQ(d,h)}},{key:"DataViewGetBigInt64",value:function(d,h){return C.asIntN(64,C.DataViewGetBigUint64(d,h,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]&&arguments[2],I=Q(f?[4,0]:[0,4],2),x=I[1],a=d.getUint32(h+I[0],f),v=d.getUint32(h+x,f),Z=new C(3,!1);return Z.__setDigit(0,1073741823&v),Z.__setDigit(1,(268435455&a)<<2|v>>>30),Z.__setDigit(2,a>>>28),Z.__trim()}},{key:"DataViewSetBigInt64",value:function(d,h,f){C.DataViewSetBigUint64(d,h,f,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(d,h,f){var w=3<arguments.length&&void 0!==arguments[3]&&arguments[3],I=0,L=0;if(0<(f=C.asUintN(64,f)).length&&(L=f.__digit(0),1<f.length)){var x=f.__digit(1);L|=x<<30,I=x>>>2,2<f.length&&(I|=f.__digit(2)<<28)}var v=Q(w?[4,0]:[0,4],2),z=v[1];d.setUint32(h+v[0],I,w),d.setUint32(h+z,L,w)}},{key:"__zero",value:function(){return new C(0,!1)}},{key:"__oneDigit",value:function(d,h){var f=new C(1,h);return f.__setDigit(0,d),f}},{key:"__decideRounding",value:function(d,h,f,w){if(0<h)return-1;var I;if(0>h)I=-h-1;else{if(0===f)return-1;f--,w=d.__digit(f),I=29}var L=1<<I;if(!(w&L))return-1;if(w&(L-=1))return 1;for(;0<f;)if(f--,0!==d.__digit(f))return 1;return 0}},{key:"__fromDouble",value:function(d){C.__kBitConversionDouble[0]=d;var h,w=(2047&C.__kBitConversionInts[1]>>>20)-1023,I=1+(0|w/30),L=new C(I,0>d),x=1048575&C.__kBitConversionInts[1]|1048576,a=C.__kBitConversionInts[0],Z=w%30,z=0;if(Z<20){var ee=20-Z;z=ee+32,h=x>>>ee,x=x<<32-ee|a>>>ee,a<<=32-ee}else if(20===Z)z=32,h=x,x=a,a=0;else{var le=Z-20;z=32-le,h=x<<le|a>>>32-le,x=a<<le,a=0}L.__setDigit(I-1,h);for(var we=I-2;0<=we;we--)0<z?(z-=30,h=x>>>2,x=x<<30|a>>>2,a<<=30):h=0,L.__setDigit(we,h);return L.__trim()}},{key:"__isWhitespace",value:function(d){return 13>=d&&9<=d||(159>=d?32==d:131071>=d?160==d||5760==d:196607>=d?10>=(d&=131071)||40==d||41==d||47==d||95==d||4096==d:65279==d)}},{key:"__fromString",value:function(d){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=0,w=d.length,I=0;if(I===w)return C.__zero();for(var L=d.charCodeAt(I);C.__isWhitespace(L);){if(++I===w)return C.__zero();L=d.charCodeAt(I)}if(43===L){if(++I===w)return null;L=d.charCodeAt(I),f=1}else if(45===L){if(++I===w)return null;L=d.charCodeAt(I),f=-1}if(0===h){if(h=10,48===L){if(++I===w)return C.__zero();if(88===(L=d.charCodeAt(I))||120===L){if(h=16,++I===w)return null;L=d.charCodeAt(I)}else if(79===L||111===L){if(h=8,++I===w)return null;L=d.charCodeAt(I)}else if(66===L||98===L){if(h=2,++I===w)return null;L=d.charCodeAt(I)}}}else if(16===h&&48===L){if(++I===w)return C.__zero();if(88===(L=d.charCodeAt(I))||120===L){if(++I===w)return null;L=d.charCodeAt(I)}}if(0!==f&&10!==h)return null;for(;48===L;){if(++I===w)return C.__zero();L=d.charCodeAt(I)}var x=w-I,a=C.__kMaxBitsPerChar[h],v=C.__kBitsPerCharTableMultiplier-1;if(x>1073741824/a)return null;var z=new C(0|(29+(a*x+v>>>C.__kBitsPerCharTableShift))/30,!1),ee=10>h?h:10,le=10<h?h-10:0;if(h&h-1){z.__initializeDigits();var xe=!1,Ce=0;do{for(var be,he=0,ne=1;;){if(be=void 0,L-48>>>0<ee)be=L-48;else{if(!((32|L)-97>>>0<le)){xe=!0;break}be=(32|L)-87}var te=ne*h;if(1073741823<te)break;if(ne=te,he=he*h+be,Ce++,++I===w){xe=!0;break}L=d.charCodeAt(I)}z.__inplaceMultiplyAdd(ne,he,0|(a*Ce+(v=30*C.__kBitsPerCharTableMultiplier-1)>>>C.__kBitsPerCharTableShift)/30)}while(!xe)}else{a>>=C.__kBitsPerCharTableShift;var we=[],Me=[],Ge=!1;do{for(var ge,me=0,Ue=0;;){if(ge=void 0,L-48>>>0<ee)ge=L-48;else{if(!((32|L)-97>>>0<le)){Ge=!0;break}ge=(32|L)-87}if(Ue+=a,me=me<<a|ge,++I===w){Ge=!0;break}if(L=d.charCodeAt(I),30<Ue+a)break}we.push(me),Me.push(Ue)}while(!Ge);C.__fillFromParts(z,we,Me)}if(I!==w){if(!C.__isWhitespace(L))return null;for(I++;I<w;I++)if(L=d.charCodeAt(I),!C.__isWhitespace(L))return null}return z.sign=-1===f,z.__trim()}},{key:"__fillFromParts",value:function(d,h,f){for(var w=0,I=0,L=0,x=h.length-1;0<=x;x--){var a=h[x],v=f[x];I|=a<<L,30===(L+=v)?(d.__setDigit(w++,I),L=0,I=0):30<L&&(d.__setDigit(w++,1073741823&I),I=a>>>v-(L-=30))}if(0!==I){if(w>=d.length)throw new Error("implementation bug");d.__setDigit(w++,I)}for(;w<d.length;w++)d.__setDigit(w,0)}},{key:"__toStringBasePowerOfTwo",value:function(d,h){var f=d.length,w=h-1,I=w=(15&(w=(51&(w=(85&w>>>1)+(85&w))>>>2)+(51&w))>>>4)+(15&w),L=h-1,x=d.__digit(f-1),v=0|(30*f-C.__clz30(x)+I-1)/I;if(d.sign&&v++,268435456<v)throw new Error("string too long");for(var Z=Array(v),z=v-1,ee=0,le=0,we=0;we<f-1;we++){var Me=d.__digit(we);Z[z--]=C.__kConversionChars[(ee|Me<<le)&L];var ge=I-le;for(ee=Me>>>ge,le=30-ge;le>=I;)Z[z--]=C.__kConversionChars[ee&L],ee>>>=I,le-=I}for(Z[z--]=C.__kConversionChars[(ee|x<<le)&L],ee=x>>>I-le;0!==ee;)Z[z--]=C.__kConversionChars[ee&L],ee>>>=I;if(d.sign&&(Z[z--]="-"),-1!==z)throw new Error("implementation bug");return Z.join("")}},{key:"__toStringGeneric",value:function(d,h,f){var w=d.length;if(0===w)return"";if(1===w){var I=d.__unsignedDigit(0).toString(h);return!1===f&&d.sign&&(I="-"+I),I}var Z,z,L=30*w-C.__clz30(d.__digit(w-1)),a=C.__kMaxBitsPerChar[h]-1,v=L*C.__kBitsPerCharTableMultiplier,ee=1+(v=0|(v+=a-1)/a)>>1,le=C.exponentiate(C.__oneDigit(h,!1),C.__oneDigit(ee,!1)),we=le.__unsignedDigit(0);if(1===le.length&&32767>=we){(Z=new C(d.length,!1)).__initializeDigits();for(var Me,Ge=0,ge=2*d.length-1;0<=ge;ge--)Me=Ge<<15|d.__halfDigit(ge),Z.__setHalfDigit(ge,0|Me/we),Ge=0|Me%we;z=Ge.toString(h)}else{var me=C.__absoluteDivLarge(d,le,!0,!0);Z=me.quotient;var Ue=me.remainder.__trim();z=C.__toStringGeneric(Ue,h,!0)}Z.__trim();for(var xe=C.__toStringGeneric(Z,h,!0);z.length<ee;)z="0"+z;return!1===f&&d.sign&&(xe="-"+xe),xe+z}},{key:"__unequalSign",value:function(d){return d?-1:1}},{key:"__absoluteGreater",value:function(d){return d?-1:1}},{key:"__absoluteLess",value:function(d){return d?1:-1}},{key:"__compareToBigInt",value:function(d,h){var f=d.sign;if(f!==h.sign)return C.__unequalSign(f);var w=C.__absoluteCompare(d,h);return 0<w?C.__absoluteGreater(f):0>w?C.__absoluteLess(f):0}},{key:"__compareToNumber",value:function(d,h){if(C.__isOneDigitInt(h)){var f=d.sign,w=0>h;if(f!==w)return C.__unequalSign(f);if(0===d.length){if(w)throw new Error("implementation bug");return 0===h?0:-1}if(1<d.length)return C.__absoluteGreater(f);var I=pe(h),L=d.__unsignedDigit(0);return L>I?C.__absoluteGreater(f):L<I?C.__absoluteLess(f):0}return C.__compareToDouble(d,h)}},{key:"__compareToDouble",value:function(d,h){if(h!=h)return h;if(h===1/0)return-1;if(h===-1/0)return 1;var f=d.sign;if(f!==0>h)return C.__unequalSign(f);if(0===h)throw new Error("implementation bug: should be handled elsewhere");if(0===d.length)return-1;C.__kBitConversionDouble[0]=h;var w=2047&C.__kBitConversionInts[1]>>>20;if(2047==w)throw new Error("implementation bug: handled elsewhere");var I=w-1023;if(0>I)return C.__absoluteGreater(f);var L=d.length,x=d.__digit(L-1),a=C.__clz30(x),v=30*L-a,Z=I+1;if(v<Z)return C.__absoluteLess(f);if(v>Z)return C.__absoluteGreater(f);var z=1048576|1048575&C.__kBitConversionInts[1],ee=C.__kBitConversionInts[0],we=29-a;if(we!==(0|(v-1)%30))throw new Error("implementation bug");var Me,Ge=0;if(we<20){var ge=20-we;Ge=ge+32,Me=z>>>ge,z=z<<32-ge|ee>>>ge,ee<<=32-ge}else if(20===we)Ge=32,Me=z,z=ee,ee=0;else{var me=we-20;Ge=32-me,Me=z<<me|ee>>>32-me,z=ee<<me,ee=0}if((x>>>=0)>(Me>>>=0))return C.__absoluteGreater(f);if(x<Me)return C.__absoluteLess(f);for(var Ue=L-2;0<=Ue;Ue--){0<Ge?(Ge-=30,Me=z>>>2,z=z<<30|ee>>>2,ee<<=30):Me=0;var xe=d.__unsignedDigit(Ue);if(xe>Me)return C.__absoluteGreater(f);if(xe<Me)return C.__absoluteLess(f)}if(0!==z||0!==ee){if(0===Ge)throw new Error("implementation bug");return C.__absoluteLess(f)}return 0}},{key:"__equalToNumber",value:function(d,h){return C.__isOneDigitInt(h)?0===h?0===d.length:1===d.length&&d.sign===0>h&&d.__unsignedDigit(0)===pe(h):0===C.__compareToDouble(d,h)}},{key:"__comparisonResultToBool",value:function(d,h){return 0===h?0>d:1===h?0>=d:2===h?0<d:3===h?0<=d:void 0}},{key:"__compare",value:function(d,h,f){if(d=C.__toPrimitive(d),h=C.__toPrimitive(h),"string"==typeof d&&"string"==typeof h)switch(f){case 0:return d<h;case 1:return d<=h;case 2:return d>h;case 3:return d>=h}if(C.__isBigInt(d)&&"string"==typeof h)return null!==(h=C.__fromString(h))&&C.__comparisonResultToBool(C.__compareToBigInt(d,h),f);if("string"==typeof d&&C.__isBigInt(h))return null!==(d=C.__fromString(d))&&C.__comparisonResultToBool(C.__compareToBigInt(d,h),f);if(d=C.__toNumeric(d),h=C.__toNumeric(h),C.__isBigInt(d)){if(C.__isBigInt(h))return C.__comparisonResultToBool(C.__compareToBigInt(d,h),f);if("number"!=typeof h)throw new Error("implementation bug");return C.__comparisonResultToBool(C.__compareToNumber(d,h),f)}if("number"!=typeof d)throw new Error("implementation bug");if(C.__isBigInt(h))return C.__comparisonResultToBool(C.__compareToNumber(h,d),2^f);if("number"!=typeof h)throw new Error("implementation bug");return 0===f?d<h:1===f?d<=h:2===f?d>h:3===f?d>=h:void 0}},{key:"__absoluteAdd",value:function(d,h,f){if(d.length<h.length)return C.__absoluteAdd(h,d,f);if(0===d.length)return d;if(0===h.length)return d.sign===f?d:C.unaryMinus(d);var w=d.length;(0===d.__clzmsd()||h.length===d.length&&0===h.__clzmsd())&&w++;for(var I,L=new C(w,f),x=0,a=0;a<h.length;a++)x=(I=d.__digit(a)+h.__digit(a)+x)>>>30,L.__setDigit(a,1073741823&I);for(;a<d.length;a++){var v=d.__digit(a)+x;x=v>>>30,L.__setDigit(a,1073741823&v)}return a<L.length&&L.__setDigit(a,x),L.__trim()}},{key:"__absoluteSub",value:function(d,h,f){if(0===d.length)return d;if(0===h.length)return d.sign===f?d:C.unaryMinus(d);for(var w,I=new C(d.length,f),L=0,x=0;x<h.length;x++)L=1&(w=d.__digit(x)-h.__digit(x)-L)>>>30,I.__setDigit(x,1073741823&w);for(;x<d.length;x++){var a=d.__digit(x)-L;L=1&a>>>30,I.__setDigit(x,1073741823&a)}return I.__trim()}},{key:"__absoluteAddOne",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,w=d.length;null===f?f=new C(w,h):f.sign=h;for(var I,L=1,x=0;x<w;x++)L=(I=d.__digit(x)+L)>>>30,f.__setDigit(x,1073741823&I);return 0!==L&&f.__setDigitGrow(w,1),f}},{key:"__absoluteSubOne",value:function(d,h){for(var w,f=d.length,I=new C(h=h||f,!1),L=1,x=0;x<f;x++)L=1&(w=d.__digit(x)-L)>>>30,I.__setDigit(x,1073741823&w);if(0!==L)throw new Error("implementation bug");for(var a=f;a<h;a++)I.__setDigit(a,0);return I}},{key:"__absoluteAnd",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,w=d.length,I=h.length,L=I;if(w<I){L=w;var x=d,a=w;d=h,w=I,h=x,I=a}var v=L;null===f?f=new C(v,!1):v=f.length;for(var Z=0;Z<L;Z++)f.__setDigit(Z,d.__digit(Z)&h.__digit(Z));for(;Z<v;Z++)f.__setDigit(Z,0);return f}},{key:"__absoluteAndNot",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,w=d.length,I=h.length,L=I;w<I&&(L=w);var x=w;null===f?f=new C(x,!1):x=f.length;for(var a=0;a<L;a++)f.__setDigit(a,d.__digit(a)&~h.__digit(a));for(;a<w;a++)f.__setDigit(a,d.__digit(a));for(;a<x;a++)f.__setDigit(a,0);return f}},{key:"__absoluteOr",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,w=d.length,I=h.length,L=I;if(w<I){L=w;var x=d,a=w;d=h,w=I,h=x,I=a}var v=w;null===f?f=new C(v,!1):v=f.length;for(var Z=0;Z<L;Z++)f.__setDigit(Z,d.__digit(Z)|h.__digit(Z));for(;Z<w;Z++)f.__setDigit(Z,d.__digit(Z));for(;Z<v;Z++)f.__setDigit(Z,0);return f}},{key:"__absoluteXor",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,w=d.length,I=h.length,L=I;if(w<I){L=w;var x=d,a=w;d=h,w=I,h=x,I=a}var v=w;null===f?f=new C(v,!1):v=f.length;for(var Z=0;Z<L;Z++)f.__setDigit(Z,d.__digit(Z)^h.__digit(Z));for(;Z<w;Z++)f.__setDigit(Z,d.__digit(Z));for(;Z<v;Z++)f.__setDigit(Z,0);return f}},{key:"__absoluteCompare",value:function(d,h){var f=d.length-h.length;if(0!=f)return f;for(var w=d.length-1;0<=w&&d.__digit(w)===h.__digit(w);)w--;return 0>w?0:d.__unsignedDigit(w)>h.__unsignedDigit(w)?1:-1}},{key:"__multiplyAccumulate",value:function(d,h,f,w){if(0!==h){for(var I=32767&h,L=h>>>15,x=0,a=0,v=0;v<d.length;v++,w++){var Z=f.__digit(w),z=d.__digit(v),ee=32767&z,le=z>>>15,we=C.__imul(ee,I),Me=C.__imul(ee,L),Ge=C.__imul(le,I);x=(Z+=a+we+x)>>>30,Z&=1073741823,x+=(Z+=((32767&Me)<<15)+((32767&Ge)<<15))>>>30,a=C.__imul(le,L)+(Me>>>15)+(Ge>>>15),f.__setDigit(w,1073741823&Z)}for(;0!==x||0!==a;w++){var me=f.__digit(w);me+=x+a,a=0,x=me>>>30,f.__setDigit(w,1073741823&me)}}}},{key:"__internalMultiplyAdd",value:function(d,h,f,w,I){for(var L=f,x=0,a=0;a<w;a++){var v=d.__digit(a),Z=C.__imul(32767&v,h),z=C.__imul(v>>>15,h),ee=Z+((32767&z)<<15)+x+L;L=ee>>>30,x=z>>>15,I.__setDigit(a,1073741823&ee)}if(I.length>w)for(I.__setDigit(w++,L+x);w<I.length;)I.__setDigit(w++,0);else if(L+x!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===f&&(f=new C(d.length,!1));for(var w=0,I=2*d.length-1;0<=I;I-=2){var L=(w<<15|d.__halfDigit(I))>>>0,x=0|L/h;w=0|(L=((w=0|L%h)<<15|d.__halfDigit(I-1))>>>0)%h,f.__setDigit(I>>>1,x<<15|L/h)}return f}},{key:"__absoluteModSmall",value:function(d,h){for(var w=0,I=2*d.length-1;0<=I;I--)w=0|((w<<15|d.__halfDigit(I))>>>0)%h;return w}},{key:"__absoluteDivLarge",value:function(d,h,f,w){var I=h.__halfDigitLength(),L=h.length,x=d.__halfDigitLength()-I,a=null;f&&(a=new C(x+2>>>1,!1)).__initializeDigits();var v=new C(I+2>>>1,!1);v.__initializeDigits();var Z=C.__clz15(h.__halfDigit(I-1));0<Z&&(h=C.__specialLeftShift(h,Z,0));for(var z=C.__specialLeftShift(d,Z,1),ee=h.__halfDigit(I-1),le=0,we=x;0<=we;we--){var Me=32767,Ge=z.__halfDigit(we+I);if(Ge!==ee){var ge=(Ge<<15|z.__halfDigit(we+I-1))>>>0;Me=0|ge/ee;for(var me=0|ge%ee,Ue=h.__halfDigit(I-2),xe=z.__halfDigit(we+I-2);C.__imul(Me,Ue)>>>0>(me<<16|xe)>>>0&&(Me--,!(32767<(me+=ee))););}C.__internalMultiplyAdd(h,Me,0,L,v);var Ce=z.__inplaceSub(v,we,I+1);0!==Ce&&(Ce=z.__inplaceAdd(h,we,I),z.__setHalfDigit(we+I,32767&z.__halfDigit(we+I)+Ce),Me--),f&&(1&we?le=Me<<15:a.__setDigit(we>>>1,le|Me))}if(w)return z.__inplaceRightShift(Z),f?{quotient:a,remainder:z}:z;if(f)return a;throw new Error("unreachable")}},{key:"__clz15",value:function(d){return C.__clz30(d)-15}},{key:"__specialLeftShift",value:function(d,h,f){var w=d.length,I=new C(w+f,!1);if(0===h){for(var L=0;L<w;L++)I.__setDigit(L,d.__digit(L));return 0<f&&I.__setDigit(w,0),I}for(var x,a=0,v=0;v<w;v++)x=d.__digit(v),I.__setDigit(v,1073741823&x<<h|a),a=x>>>30-h;return 0<f&&I.__setDigit(w,a),I}},{key:"__leftShiftByAbsolute",value:function(d,h){var f=C.__toShiftAmount(h);if(0>f)throw new RangeError("BigInt too big");var w=0|f/30,I=f%30,L=d.length,x=0!==I&&d.__digit(L-1)>>>30-I!=0,a=L+w+(x?1:0),v=new C(a,d.sign);if(0===I){for(var Z=0;Z<w;Z++)v.__setDigit(Z,0);for(;Z<a;Z++)v.__setDigit(Z,d.__digit(Z-w))}else{for(var z=0,ee=0;ee<w;ee++)v.__setDigit(ee,0);for(var le,we=0;we<L;we++)le=d.__digit(we),v.__setDigit(we+w,1073741823&le<<I|z),z=le>>>30-I;if(x)v.__setDigit(L+w,z);else if(0!==z)throw new Error("implementation bug")}return v.__trim()}},{key:"__rightShiftByAbsolute",value:function(d,h){var f=d.length,w=d.sign,I=C.__toShiftAmount(h);if(0>I)return C.__rightShiftByMaximum(w);var L=0|I/30,x=I%30,a=f-L;if(0>=a)return C.__rightShiftByMaximum(w);var v=!1;if(w)if(d.__digit(L)&(1<<x)-1)v=!0;else for(var Z=0;Z<L;Z++)if(0!==d.__digit(Z)){v=!0;break}v&&0===x&&!~d.__digit(f-1)&&a++;var ee=new C(a,w);if(0===x){ee.__setDigit(a-1,0);for(var le=L;le<f;le++)ee.__setDigit(le-L,d.__digit(le))}else{for(var we,Me=d.__digit(L)>>>x,Ge=f-L-1,ge=0;ge<Ge;ge++)we=d.__digit(ge+L+1),ee.__setDigit(ge,1073741823&we<<30-x|Me),Me=we>>>x;ee.__setDigit(Ge,Me)}return v&&(ee=C.__absoluteAddOne(ee,!0,ee)),ee.__trim()}},{key:"__rightShiftByMaximum",value:function(d){return d?C.__oneDigit(1,!0):C.__zero()}},{key:"__toShiftAmount",value:function(d){if(1<d.length)return-1;var h=d.__unsignedDigit(0);return h>C.__kMaxLengthBits?-1:h}},{key:"__toPrimitive",value:function(d){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==g(d)||d.constructor===C)return d;if(typeof Symbol<"u"&&"symbol"===g(Symbol.toPrimitive)){var f=d[Symbol.toPrimitive];if(f){var w=f(h);if("object"!==g(w))return w;throw new TypeError("Cannot convert object to primitive value")}}var I=d.valueOf;if(I){var L=I.call(d);if("object"!==g(L))return L}var x=d.toString;if(x){var a=x.call(d);if("object"!==g(a))return a}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(d){return C.__isBigInt(d)?d:+d}},{key:"__isBigInt",value:function(d){return"object"===g(d)&&null!==d&&d.constructor===C}},{key:"__truncateToNBits",value:function(d,h){for(var f=0|(d+29)/30,w=new C(f,h.sign),I=f-1,L=0;L<I;L++)w.__setDigit(L,h.__digit(L));var x=h.__digit(I);if(d%30!=0){var a=32-d%30;x=x<<a>>>a}return w.__setDigit(I,x),w.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(d,h,f){for(var I,w=Math.min,L=0|(d+29)/30,x=new C(L,f),a=0,v=L-1,Z=0,z=w(v,h.length);a<z;a++)Z=1&(I=0-h.__digit(a)-Z)>>>30,x.__setDigit(a,1073741823&I);for(;a<v;a++)x.__setDigit(a,1073741823&-Z);var ee,le=v<h.length?h.__digit(v):0,we=d%30;if(0===we)ee=0-le-Z,ee&=1073741823;else{var Me=32-we,Ge=1<<32-Me;ee=Ge-(le=le<<Me>>>Me)-Z,ee&=Ge-1}return x.__setDigit(v,ee),x.__trim()}},{key:"__digitPow",value:function(d,h){for(var f=1;0<h;)1&h&&(f*=d),h>>>=1,d*=d;return f}},{key:"__isOneDigitInt",value:function(d){return(1073741823&d)===d}}]),C}(A(Array));return ue.__kMaxLength=33554432,ue.__kMaxLengthBits=ue.__kMaxLength<<5,ue.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],ue.__kBitsPerCharTableShift=5,ue.__kBitsPerCharTableMultiplier=1<<ue.__kBitsPerCharTableShift,ue.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ue.__kBitConversionBuffer=new ArrayBuffer(8),ue.__kBitConversionDouble=new Float64Array(ue.__kBitConversionBuffer),ue.__kBitConversionInts=new Int32Array(ue.__kBitConversionBuffer),ue.__clz30=E?function(ce){return E(ce)-2}:function(ce){var pe=Math.LN2,ve=Math.log;return 0===ce?30:0|29-(0|ve(ce>>>0)/pe)},ue.__imul=j||function(ce,pe){return 0|ce*pe},ue}()},44331:$e=>{"use strict";var j=$e.exports=function(_,B,H){"function"==typeof B&&(H=B,B={}),E(B,"function"==typeof(H=B.cb||H)?H:H.pre||function(){},H.post||function(){},_,"",_)};function E(_,B,H,b,k,S,P,R,O,A){if(b&&"object"==typeof b&&!Array.isArray(b)){for(var V in B(b,k,S,P,R,O,A),b){var U=b[V];if(Array.isArray(U)){if(V in j.arrayKeywords)for(var K=0;K<U.length;K++)E(_,B,H,U[K],k+"/"+V+"/"+K,S,k,V,b,K)}else if(V in j.propsKeywords){if(U&&"object"==typeof U)for(var Q in U)E(_,B,H,U[Q],k+"/"+V+"/"+g(Q),S,k,V,b,Q)}else(V in j.keywords||_.allKeys&&!(V in j.skipKeywords))&&E(_,B,H,U,k+"/"+V,S,k,V,b)}H(b,k,S,P,R,O,A)}}function g(_){return _.replace(/~/g,"~0").replace(/\//g,"~1")}j.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},j.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},j.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},j.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:($e,j)=>{"use strict";j.supports=function(...g){const _=g.reduce((B,H)=>Object.assign(B,H),{});return Object.assign(_,{snapshots:_.snapshots||!1,permanence:_.permanence||!1,seek:_.seek||!1,clear:_.clear||!1,getMany:_.getMany||!1,keyIterator:_.keyIterator||!1,valueIterator:_.valueIterator||!1,iteratorNextv:_.iteratorNextv||!1,iteratorAll:_.iteratorAll||!1,status:_.status||!1,createIfMissing:_.createIfMissing||!1,errorIfExists:_.errorIfExists||!1,deferredOpen:_.deferredOpen||!1,promises:_.promises||!1,streams:_.streams||!1,encodings:Object.assign({},_.encodings),events:Object.assign({},_.events),additionalMethods:Object.assign({},_.additionalMethods)})}},25006:($e,j,E)=>{"use strict";const g=E(61747),_=E(40080),{Encoding:B}=E(15045),{BufferFormat:H,ViewFormat:b,UTF8Format:k}=E(48262),S=Symbol("formats"),P=Symbol("encodings"),R=new Set(["buffer","view","utf8"]);j.Transcoder=class O{constructor(Y){if(!Array.isArray(Y))throw new TypeError("The first argument 'formats' must be an array");if(!Y.every(W=>R.has(W)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[P]=new Map,this[S]=new Set(Y);for(const W in _)try{this.encoding(W)}catch(re){if("LEVEL_ENCODING_NOT_SUPPORTED"!==re.code)throw re}}encodings(){return Array.from(new Set(this[P].values()))}encoding(Y){let W=this[P].get(Y);if(void 0===W){if("string"==typeof Y&&""!==Y){if(W=K[Y],!W)throw new g(`Encoding '${Y}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof Y||null===Y)throw new TypeError("First argument 'encoding' must be a string or object");W=function A(q){if(q instanceof B)return q;const W=q.name||("type"in q&&"string"==typeof q.type?q.type:void 0)||"anonymous-"+Q++;switch(function V(q){return"format"in q&&void 0!==q.format?q.format:"buffer"in q&&"boolean"==typeof q.buffer?q.buffer?"buffer":"utf8":"code"in q&&Number.isInteger(q.code)?"view":"buffer"}(q)){case"view":return new b({...q,name:W});case"utf8":return new k({...q,name:W});case"buffer":return new H({...q,name:W});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(Y)}const{name:re,format:ie}=W;if(!this[S].has(ie))if(this[S].has("view"))W=W.createViewTranscoder();else if(this[S].has("buffer"))W=W.createBufferTranscoder();else{if(!this[S].has("utf8"))throw new g(`Encoding '${re}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});W=W.createUTF8Transcoder()}for(const ae of[Y,re,W.name,W.commonName])this[P].set(ae,W)}return W}};const U={binary:_.buffer,"utf-8":_.utf8},K={..._,...U};let Q=0},15045:($e,j,E)=>{"use strict";const g=E(61747),_=new Set(["buffer","view","utf8"]);j.Encoding=class B{constructor(b){if(this.encode=b.encode||this.encode,this.decode=b.decode||this.decode,this.name=b.name||this.name,this.format=b.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!_.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");b.createViewTranscoder&&(this.createViewTranscoder=b.createViewTranscoder),b.createBufferTranscoder&&(this.createBufferTranscoder=b.createBufferTranscoder),b.createUTF8Transcoder&&(this.createUTF8Transcoder=b.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new g(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new g(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new g(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:($e,j,E)=>{"use strict";const{Buffer:g}=E(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:_,textDecoder:B}=E(33619)(),{BufferFormat:H,ViewFormat:b,UTF8Format:k}=E(48262),S=P=>P;j.utf8=new k({encode:function(P){return g.isBuffer(P)?P.toString("utf8"):ArrayBuffer.isView(P)?B.decode(P):String(P)},decode:S,name:"utf8",createViewTranscoder(){return new b({encode:function(P){return ArrayBuffer.isView(P)?P:_.encode(P)},decode:function(P){return B.decode(P)},name:`${this.name}+view`})},createBufferTranscoder(){return new H({encode:function(P){return g.isBuffer(P)?P:ArrayBuffer.isView(P)?g.from(P.buffer,P.byteOffset,P.byteLength):g.from(String(P),"utf8")},decode:function(P){return P.toString("utf8")},name:`${this.name}+buffer`})}}),j.json=new k({encode:JSON.stringify,decode:JSON.parse,name:"json"}),j.buffer=new H({encode:function(P){return g.isBuffer(P)?P:ArrayBuffer.isView(P)?g.from(P.buffer,P.byteOffset,P.byteLength):g.from(String(P),"utf8")},decode:S,name:"buffer",createViewTranscoder(){return new b({encode:function(P){return ArrayBuffer.isView(P)?P:g.from(String(P),"utf8")},decode:function(P){return g.from(P.buffer,P.byteOffset,P.byteLength)},name:`${this.name}+view`})}}),j.view=new b({encode:function(P){return ArrayBuffer.isView(P)?P:_.encode(P)},decode:S,name:"view",createBufferTranscoder(){return new H({encode:function(P){return g.isBuffer(P)?P:ArrayBuffer.isView(P)?g.from(P.buffer,P.byteOffset,P.byteLength):g.from(String(P),"utf8")},decode:S,name:`${this.name}+buffer`})}}),j.hex=new H({encode:function(P){return g.isBuffer(P)?P:g.from(String(P),"hex")},decode:function(P){return P.toString("hex")},name:"hex"}),j.base64=new H({encode:function(P){return g.isBuffer(P)?P:g.from(String(P),"base64")},decode:function(P){return P.toString("base64")},name:"base64"})},48262:($e,j,E)=>{"use strict";const{Buffer:g}=E(484)||{},{Encoding:_}=E(15045),B=E(33619);class H extends _{constructor(P){super({...P,format:"buffer"})}createViewTranscoder(){return new b({encode:this.encode,decode:P=>this.decode(g.from(P.buffer,P.byteOffset,P.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class b extends _{constructor(P){super({...P,format:"view"})}createBufferTranscoder(){return new H({encode:P=>{const R=this.encode(P);return g.from(R.buffer,R.byteOffset,R.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}j.BufferFormat=H,j.ViewFormat=b,j.UTF8Format=class k extends _{constructor(P){super({...P,format:"utf8"})}createBufferTranscoder(){return new H({encode:P=>g.from(this.encode(P),"utf8"),decode:P=>this.decode(P.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:P,textDecoder:R}=B();return new b({encode:O=>P.encode(this.encode(O)),decode:O=>this.decode(R.decode(O)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:$e=>{"use strict";let j=null;$e.exports=function(){return null===j&&(j={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),j}},484:($e,j,E)=>{"use strict";const g=E(13981),_=E(22020),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function W(F){return+F!=F&&(F=0),S.alloc(+F)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function k(F){if(F>H)throw new RangeError('The value "'+F+'" is invalid for option "size"');const D=new Uint8Array(F);return Object.setPrototypeOf(D,S.prototype),D}function S(F,D,M){if("number"==typeof F){if("string"==typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return A(F)}return P(F,D,M)}function P(F,D,M){if("string"==typeof F)return function V(F,D){if(("string"!=typeof D||""===D)&&(D="utf8"),!S.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const M=0|re(F,D);let G=k(M);const fe=G.write(F,D);return fe!==M&&(G=G.slice(0,fe)),G}(F,D);if(ArrayBuffer.isView(F))return function K(F){if(Ve(F,Uint8Array)){const D=new Uint8Array(F);return Q(D.buffer,D.byteOffset,D.byteLength)}return U(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ve(F,ArrayBuffer)||F&&Ve(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ve(F,SharedArrayBuffer)||F&&Ve(F.buffer,SharedArrayBuffer)))return Q(F,D,M);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const G=F.valueOf&&F.valueOf();if(null!=G&&G!==F)return S.from(G,D,M);const fe=function q(F){if(S.isBuffer(F)){const D=0|Y(F.length),M=k(D);return 0===M.length||F.copy(M,0,0,D),M}return void 0!==F.length?"number"!=typeof F.length||xt(F.length)?k(0):U(F):"Buffer"===F.type&&Array.isArray(F.data)?U(F.data):void 0}(F);if(fe)return fe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return S.from(F[Symbol.toPrimitive]("string"),D,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function R(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function A(F){return R(F),k(F<0?0:0|Y(F))}function U(F){const D=F.length<0?0:0|Y(F.length),M=k(D);for(let G=0;G<D;G+=1)M[G]=255&F[G];return M}function Q(F,D,M){if(D<0||F.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<D+(M||0))throw new RangeError('"length" is outside of buffer bounds');let G;return G=void 0===D&&void 0===M?new Uint8Array(F):void 0===M?new Uint8Array(F,D):new Uint8Array(F,D,M),Object.setPrototypeOf(G,S.prototype),G}function Y(F){if(F>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|F}function re(F,D){if(S.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ve(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const M=F.length,G=arguments.length>2&&!0===arguments[2];if(!G&&0===M)return 0;let fe=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return te(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Ie(F).length;default:if(fe)return G?-1:te(F).length;D=(""+D).toLowerCase(),fe=!0}}function ie(F,D,M){let G=!1;if((void 0===D||D<0)&&(D=0),D>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(D>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return x(this,D,M);case"utf8":case"utf-8":return h(this,D,M);case"ascii":return I(this,D,M);case"latin1":case"binary":return L(this,D,M);case"base64":return d(this,D,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,D,M);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),G=!0}}function ae(F,D,M){const G=F[D];F[D]=F[M],F[M]=G}function ue(F,D,M,G,fe){if(0===F.length)return-1;if("string"==typeof M?(G=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),xt(M=+M)&&(M=fe?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(fe)return-1;M=F.length-1}else if(M<0){if(!fe)return-1;M=0}if("string"==typeof D&&(D=S.from(D,G)),S.isBuffer(D))return 0===D.length?-1:ce(F,D,M,G,fe);if("number"==typeof D)return D&=255,"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(F,D,M):Uint8Array.prototype.lastIndexOf.call(F,D,M):ce(F,[D],M,G,fe);throw new TypeError("val must be string, number or Buffer")}function ce(F,D,M,G,fe){let vt,Se=1,Ae=F.length,rt=D.length;if(void 0!==G&&("ucs2"===(G=String(G).toLowerCase())||"ucs-2"===G||"utf16le"===G||"utf-16le"===G)){if(F.length<2||D.length<2)return-1;Se=2,Ae/=2,rt/=2,M/=2}function Ht(Ot,qt){return 1===Se?Ot[qt]:Ot.readUInt16BE(qt*Se)}if(fe){let Ot=-1;for(vt=M;vt<Ae;vt++)if(Ht(F,vt)===Ht(D,-1===Ot?0:vt-Ot)){if(-1===Ot&&(Ot=vt),vt-Ot+1===rt)return Ot*Se}else-1!==Ot&&(vt-=vt-Ot),Ot=-1}else for(M+rt>Ae&&(M=Ae-rt),vt=M;vt>=0;vt--){let Ot=!0;for(let qt=0;qt<rt;qt++)if(Ht(F,vt+qt)!==Ht(D,qt)){Ot=!1;break}if(Ot)return vt}return-1}function pe(F,D,M,G){M=Number(M)||0;const fe=F.length-M;G?(G=Number(G))>fe&&(G=fe):G=fe;const Se=D.length;let Ae;for(G>Se/2&&(G=Se/2),Ae=0;Ae<G;++Ae){const rt=parseInt(D.substr(2*Ae,2),16);if(xt(rt))return Ae;F[M+Ae]=rt}return Ae}function ve(F,D,M,G){return He(te(D,F.length-M),F,M,G)}function De(F,D,M,G){return He(function de(F){const D=[];for(let M=0;M<F.length;++M)D.push(255&F.charCodeAt(M));return D}(D),F,M,G)}function C(F,D,M,G){return He(Ie(D),F,M,G)}function s(F,D,M,G){return He(function _e(F,D){let M,G,fe;const Se=[];for(let Ae=0;Ae<F.length&&!((D-=2)<0);++Ae)M=F.charCodeAt(Ae),G=M>>8,fe=M%256,Se.push(fe),Se.push(G);return Se}(D,F.length-M),F,M,G)}function d(F,D,M){return g.fromByteArray(0===D&&M===F.length?F:F.slice(D,M))}function h(F,D,M){M=Math.min(F.length,M);const G=[];let fe=D;for(;fe<M;){const Se=F[fe];let Ae=null,rt=Se>239?4:Se>223?3:Se>191?2:1;if(fe+rt<=M){let Ht,vt,Ot,qt;switch(rt){case 1:Se<128&&(Ae=Se);break;case 2:Ht=F[fe+1],128==(192&Ht)&&(qt=(31&Se)<<6|63&Ht,qt>127&&(Ae=qt));break;case 3:Ht=F[fe+1],vt=F[fe+2],128==(192&Ht)&&128==(192&vt)&&(qt=(15&Se)<<12|(63&Ht)<<6|63&vt,qt>2047&&(qt<55296||qt>57343)&&(Ae=qt));break;case 4:Ht=F[fe+1],vt=F[fe+2],Ot=F[fe+3],128==(192&Ht)&&128==(192&vt)&&128==(192&Ot)&&(qt=(15&Se)<<18|(63&Ht)<<12|(63&vt)<<6|63&Ot,qt>65535&&qt<1114112&&(Ae=qt))}}null===Ae?(Ae=65533,rt=1):Ae>65535&&(Ae-=65536,G.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),G.push(Ae),fe+=rt}return function w(F){const D=F.length;if(D<=f)return String.fromCharCode.apply(String,F);let M="",G=0;for(;G<D;)M+=String.fromCharCode.apply(String,F.slice(G,G+=f));return M}(G)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function b(){try{const F=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(F,D),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(F,D,M){return P(F,D,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(F,D,M){return function O(F,D,M){return R(F),F<=0?k(F):void 0!==D?"string"==typeof M?k(F).fill(D,M):k(F).fill(D):k(F)}(F,D,M)},S.allocUnsafe=function(F){return A(F)},S.allocUnsafeSlow=function(F){return A(F)},S.isBuffer=function(D){return null!=D&&!0===D._isBuffer&&D!==S.prototype},S.compare=function(D,M){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),Ve(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(D)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===M)return 0;let G=D.length,fe=M.length;for(let Se=0,Ae=Math.min(G,fe);Se<Ae;++Se)if(D[Se]!==M[Se]){G=D[Se],fe=M[Se];break}return G<fe?-1:fe<G?1:0},S.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(D,M){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return S.alloc(0);let G;if(void 0===M)for(M=0,G=0;G<D.length;++G)M+=D[G].length;const fe=S.allocUnsafe(M);let Se=0;for(G=0;G<D.length;++G){let Ae=D[G];if(Ve(Ae,Uint8Array))Se+Ae.length>fe.length?(S.isBuffer(Ae)||(Ae=S.from(Ae)),Ae.copy(fe,Se)):Uint8Array.prototype.set.call(fe,Ae,Se);else{if(!S.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(fe,Se)}Se+=Ae.length}return fe},S.byteLength=re,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<D;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<D;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<D;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const D=this.length;return 0===D?"":0===arguments.length?h(this,0,D):ie.apply(this,arguments)},S.prototype.equals=function(D){if(!S.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===S.compare(this,D)},S.prototype.inspect=function(){let D="";const M=j.INSPECT_MAX_BYTES;return D=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(D+=" ... "),"<Buffer "+D+">"},B&&(S.prototype[B]=S.prototype.inspect),S.prototype.compare=function(D,M,G,fe,Se){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),!S.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(void 0===M&&(M=0),void 0===G&&(G=D?D.length:0),void 0===fe&&(fe=0),void 0===Se&&(Se=this.length),M<0||G>D.length||fe<0||Se>this.length)throw new RangeError("out of range index");if(fe>=Se&&M>=G)return 0;if(fe>=Se)return-1;if(M>=G)return 1;if(this===D)return 0;let Ae=(Se>>>=0)-(fe>>>=0),rt=(G>>>=0)-(M>>>=0);const Ht=Math.min(Ae,rt),vt=this.slice(fe,Se),Ot=D.slice(M,G);for(let qt=0;qt<Ht;++qt)if(vt[qt]!==Ot[qt]){Ae=vt[qt],rt=Ot[qt];break}return Ae<rt?-1:rt<Ae?1:0},S.prototype.includes=function(D,M,G){return-1!==this.indexOf(D,M,G)},S.prototype.indexOf=function(D,M,G){return ue(this,D,M,G,!0)},S.prototype.lastIndexOf=function(D,M,G){return ue(this,D,M,G,!1)},S.prototype.write=function(D,M,G,fe){if(void 0===M)fe="utf8",G=this.length,M=0;else if(void 0===G&&"string"==typeof M)fe=M,G=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(G)?(G>>>=0,void 0===fe&&(fe="utf8")):(fe=G,G=void 0)}const Se=this.length-M;if((void 0===G||G>Se)&&(G=Se),D.length>0&&(G<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ae=!1;for(;;)switch(fe){case"hex":return pe(this,D,M,G);case"utf8":case"utf-8":return ve(this,D,M,G);case"ascii":case"latin1":case"binary":return De(this,D,M,G);case"base64":return C(this,D,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,D,M,G);default:if(Ae)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ae=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const f=4096;function I(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(127&F[fe]);return G}function L(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(F[fe]);return G}function x(F,D,M){const G=F.length;(!D||D<0)&&(D=0),(!M||M<0||M>G)&&(M=G);let fe="";for(let Se=D;Se<M;++Se)fe+=Ne[F[Se]];return fe}function a(F,D,M){const G=F.slice(D,M);let fe="";for(let Se=0;Se<G.length-1;Se+=2)fe+=String.fromCharCode(G[Se]+256*G[Se+1]);return fe}function v(F,D,M){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+D>M)throw new RangeError("Trying to access beyond buffer length")}function Z(F,D,M,G,fe,Se){if(!S.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>fe||D<Se)throw new RangeError('"value" argument is out of bounds');if(M+G>F.length)throw new RangeError("Index out of range")}function z(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,M}function ee(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M+7]=Se,Se>>=8,F[M+6]=Se,Se>>=8,F[M+5]=Se,Se>>=8,F[M+4]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M+3]=Ae,Ae>>=8,F[M+2]=Ae,Ae>>=8,F[M+1]=Ae,Ae>>=8,F[M]=Ae,M+8}function le(F,D,M,G,fe,Se){if(M+G>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function we(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,4),_.write(F,D,M,G,23,4),M+4}function Me(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,8),_.write(F,D,M,G,52,8),M+8}S.prototype.slice=function(D,M){const G=this.length;(D=~~D)<0?(D+=G)<0&&(D=0):D>G&&(D=G),(M=void 0===M?G:~~M)<0?(M+=G)<0&&(M=0):M>G&&(M=G),M<D&&(M=D);const fe=this.subarray(D,M);return Object.setPrototypeOf(fe,S.prototype),fe},S.prototype.readUintLE=S.prototype.readUIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return fe},S.prototype.readUintBE=S.prototype.readUIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D+--M],Se=1;for(;M>0&&(Se*=256);)fe+=this[D+--M]*Se;return fe},S.prototype.readUint8=S.prototype.readUInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),this[D]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]|this[D+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]<<8|this[D+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},S.prototype.readBigUInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M+256*this[++D]+65536*this[++D]+this[++D]*2**24,Se=this[++D]+256*this[++D]+65536*this[++D]+G*2**24;return BigInt(fe)+(BigInt(Se)<<BigInt(32))}),S.prototype.readBigUInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M*2**24+65536*this[++D]+256*this[++D]+this[++D],Se=this[++D]*2**24+65536*this[++D]+256*this[++D]+G;return(BigInt(fe)<<BigInt(32))+BigInt(Se)}),S.prototype.readIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return Se*=128,fe>=Se&&(fe-=Math.pow(2,8*M)),fe},S.prototype.readIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=M,Se=1,Ae=this[D+--fe];for(;fe>0&&(Se*=256);)Ae+=this[D+--fe]*Se;return Se*=128,Ae>=Se&&(Ae-=Math.pow(2,8*M)),Ae},S.prototype.readInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},S.prototype.readInt16LE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D]|this[D+1]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt16BE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D+1]|this[D]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},S.prototype.readInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},S.prototype.readBigInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];return(void 0===M||void 0===G)&&be(D,this.length-8),(BigInt(this[D+4]+256*this[D+5]+65536*this[D+6]+(G<<24))<<BigInt(32))+BigInt(M+256*this[++D]+65536*this[++D]+this[++D]*2**24)}),S.prototype.readBigInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=(M<<24)+65536*this[++D]+256*this[++D]+this[++D];return(BigInt(fe)<<BigInt(32))+BigInt(this[++D]*2**24+65536*this[++D]+256*this[++D]+G)}),S.prototype.readFloatLE=function(D,M){return D>>>=0,M||v(D,4,this.length),_.read(this,D,!0,23,4)},S.prototype.readFloatBE=function(D,M){return D>>>=0,M||v(D,4,this.length),_.read(this,D,!1,23,4)},S.prototype.readDoubleLE=function(D,M){return D>>>=0,M||v(D,8,this.length),_.read(this,D,!0,52,8)},S.prototype.readDoubleBE=function(D,M){return D>>>=0,M||v(D,8,this.length),_.read(this,D,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=1,Ae=0;for(this[M]=255&D;++Ae<G&&(Se*=256);)this[M+Ae]=D/Se&255;return M+G},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=G-1,Ae=1;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)this[M+Se]=D/Ae&255;return M+G},S.prototype.writeUint8=S.prototype.writeUInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,255,0),this[M]=255&D,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigUInt64LE=ke(function(D,M=0){return z(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ke(function(D,M=0){return ee(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Ht=Math.pow(2,8*G-1);Z(this,D,M,G,Ht-1,-Ht)}let Se=0,Ae=1,rt=0;for(this[M]=255&D;++Se<G&&(Ae*=256);)D<0&&0===rt&&0!==this[M+Se-1]&&(rt=1),this[M+Se]=(D/Ae|0)-rt&255;return M+G},S.prototype.writeIntBE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Ht=Math.pow(2,8*G-1);Z(this,D,M,G,Ht-1,-Ht)}let Se=G-1,Ae=1,rt=0;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)D<0&&0===rt&&0!==this[M+Se+1]&&(rt=1),this[M+Se]=(D/Ae|0)-rt&255;return M+G},S.prototype.writeInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,127,-128),D<0&&(D=255+D+1),this[M]=255&D,M+1},S.prototype.writeInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24,M+4},S.prototype.writeInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigInt64LE=ke(function(D,M=0){return z(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ke(function(D,M=0){return ee(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(D,M,G){return we(this,D,M,!0,G)},S.prototype.writeFloatBE=function(D,M,G){return we(this,D,M,!1,G)},S.prototype.writeDoubleLE=function(D,M,G){return Me(this,D,M,!0,G)},S.prototype.writeDoubleBE=function(D,M,G){return Me(this,D,M,!1,G)},S.prototype.copy=function(D,M,G,fe){if(!S.isBuffer(D))throw new TypeError("argument should be a Buffer");if(G||(G=0),!fe&&0!==fe&&(fe=this.length),M>=D.length&&(M=D.length),M||(M=0),fe>0&&fe<G&&(fe=G),fe===G||0===D.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),D.length-M<fe-G&&(fe=D.length-M+G);const Se=fe-G;return this===D&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,G,fe):Uint8Array.prototype.set.call(D,this.subarray(G,fe),M),Se},S.prototype.fill=function(D,M,G,fe){if("string"==typeof D){if("string"==typeof M?(fe=M,M=0,G=this.length):"string"==typeof G&&(fe=G,G=this.length),void 0!==fe&&"string"!=typeof fe)throw new TypeError("encoding must be a string");if("string"==typeof fe&&!S.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(1===D.length){const Ae=D.charCodeAt(0);("utf8"===fe&&Ae<128||"latin1"===fe)&&(D=Ae)}}else"number"==typeof D?D&=255:"boolean"==typeof D&&(D=Number(D));if(M<0||this.length<M||this.length<G)throw new RangeError("Out of range index");if(G<=M)return this;let Se;if(M>>>=0,G=void 0===G?this.length:G>>>0,D||(D=0),"number"==typeof D)for(Se=M;Se<G;++Se)this[Se]=D;else{const Ae=S.isBuffer(D)?D:S.from(D,fe),rt=Ae.length;if(0===rt)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Se=0;Se<G-M;++Se)this[Se+M]=Ae[Se%rt]}return this};const Ge={};function ge(F,D,M){Ge[F]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function me(F){let D="",M=F.length;const G="-"===F[0]?1:0;for(;M>=G+4;M-=3)D=`_${F.slice(M-3,M)}${D}`;return`${F.slice(0,M)}${D}`}function xe(F,D,M,G,fe,Se){if(F>M||F<D){const Ae="bigint"==typeof D?"n":"";let rt;throw rt=Se>3?0===D||D===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(Se+1)}${Ae}`:`>= -(2${Ae} ** ${8*(Se+1)-1}${Ae}) and < 2 ** ${8*(Se+1)-1}${Ae}`:`>= ${D}${Ae} and <= ${M}${Ae}`,new Ge.ERR_OUT_OF_RANGE("value",rt,F)}!function Ue(F,D,M){Ce(D,"offset"),(void 0===F[D]||void 0===F[D+M])&&be(D,F.length-(M+1))}(G,fe,Se)}function Ce(F,D){if("number"!=typeof F)throw new Ge.ERR_INVALID_ARG_TYPE(D,"number",F)}function be(F,D,M){throw Math.floor(F)!==F?(Ce(F,M),new Ge.ERR_OUT_OF_RANGE(M||"offset","an integer",F)):D<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${D}`,F)}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(F,D){return`The "${F}" argument must be of type number. Received type ${typeof D}`},TypeError),ge("ERR_OUT_OF_RANGE",function(F,D,M){let G=`The value of "${F}" is out of range.`,fe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?fe=me(String(M)):"bigint"==typeof M&&(fe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(fe=me(fe)),fe+="n"),G+=` It must be ${D}. Received ${fe}`,G},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function te(F,D){let M;D=D||1/0;const G=F.length;let fe=null;const Se=[];for(let Ae=0;Ae<G;++Ae){if(M=F.charCodeAt(Ae),M>55295&&M<57344){if(!fe){if(M>56319){(D-=3)>-1&&Se.push(239,191,189);continue}if(Ae+1===G){(D-=3)>-1&&Se.push(239,191,189);continue}fe=M;continue}if(M<56320){(D-=3)>-1&&Se.push(239,191,189),fe=M;continue}M=65536+(fe-55296<<10|M-56320)}else fe&&(D-=3)>-1&&Se.push(239,191,189);if(fe=null,M<128){if((D-=1)<0)break;Se.push(M)}else if(M<2048){if((D-=2)<0)break;Se.push(M>>6|192,63&M|128)}else if(M<65536){if((D-=3)<0)break;Se.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;Se.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return Se}function Ie(F){return g.toByteArray(function ne(F){if((F=(F=F.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function He(F,D,M,G){let fe;for(fe=0;fe<G&&!(fe+M>=D.length||fe>=F.length);++fe)D[fe+M]=F[fe];return fe}function Ve(F,D){return F instanceof D||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===D.name}function xt(F){return F!=F}const Ne=function(){const F="0123456789abcdef",D=new Array(256);for(let M=0;M<16;++M){const G=16*M;for(let fe=0;fe<16;++fe)D[G+fe]=F[M]+F[fe]}return D}();function ke(F){return typeof BigInt>"u"?pt:F}function pt(){throw new Error("BigInt not supported")}},54626:($e,j,E)=>{j.Level=E(23963).BrowserLevel},8516:($e,j,E)=>{var g=E(81464);$e.exports=g.Symbol},61057:($e,j,E)=>{var g=E(8516),_=E(8488),B=E(53327),k=g?g.toStringTag:void 0;$e.exports=function S(P){return null==P?void 0===P?"[object Undefined]":"[object Null]":k&&k in Object(P)?_(P):B(P)}},78657:$e=>{var j="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;$e.exports=j},46902:($e,j,E)=>{var _=E(72852)(Object.getPrototypeOf,Object);$e.exports=_},8488:($e,j,E)=>{var g=E(8516),_=Object.prototype,B=_.hasOwnProperty,H=_.toString,b=g?g.toStringTag:void 0;$e.exports=function k(S){var P=B.call(S,b),R=S[b];try{S[b]=void 0;var O=!0}catch{}var A=H.call(S);return O&&(P?S[b]=R:delete S[b]),A}},53327:$e=>{var E=Object.prototype.toString;$e.exports=function g(_){return E.call(_)}},72852:$e=>{$e.exports=function j(E,g){return function(_){return E(g(_))}}},81464:($e,j,E)=>{var g=E(78657),_="object"==typeof self&&self&&self.Object===Object&&self,B=g||_||Function("return this")();$e.exports=B},57433:$e=>{$e.exports=function j(E){return null!=E&&"object"==typeof E}},49970:($e,j,E)=>{var g=E(61057),_=E(46902),B=E(57433),S=Function.prototype.toString,P=Object.prototype.hasOwnProperty,R=S.call(Object);$e.exports=function O(A){if(!B(A)||"[object Object]"!=g(A))return!1;var V=_(A);if(null===V)return!0;var U=P.call(V,"constructor")&&V.constructor;return"function"==typeof U&&U instanceof U&&S.call(U)==R}},34725:($e,j,E)=>{"use strict";var g=E(71993),_=E(13686),B=E(27054).Buffer,H=new Array(16);function b(){_.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function k(A,V){return A<<V|A>>>32-V}function S(A,V,U,K,Q,q,Y){return k(A+(V&U|~V&K)+Q+q|0,Y)+V|0}function P(A,V,U,K,Q,q,Y){return k(A+(V&K|U&~K)+Q+q|0,Y)+V|0}function R(A,V,U,K,Q,q,Y){return k(A+(V^U^K)+Q+q|0,Y)+V|0}function O(A,V,U,K,Q,q,Y){return k(A+(U^(V|~K))+Q+q|0,Y)+V|0}g(b,_),b.prototype._update=function(){for(var A=H,V=0;V<16;++V)A[V]=this._block.readInt32LE(4*V);var U=this._a,K=this._b,Q=this._c,q=this._d;U=S(U,K,Q,q,A[0],3614090360,7),q=S(q,U,K,Q,A[1],3905402710,12),Q=S(Q,q,U,K,A[2],606105819,17),K=S(K,Q,q,U,A[3],3250441966,22),U=S(U,K,Q,q,A[4],4118548399,7),q=S(q,U,K,Q,A[5],1200080426,12),Q=S(Q,q,U,K,A[6],2821735955,17),K=S(K,Q,q,U,A[7],4249261313,22),U=S(U,K,Q,q,A[8],1770035416,7),q=S(q,U,K,Q,A[9],2336552879,12),Q=S(Q,q,U,K,A[10],4294925233,17),K=S(K,Q,q,U,A[11],2304563134,22),U=S(U,K,Q,q,A[12],1804603682,7),q=S(q,U,K,Q,A[13],4254626195,12),Q=S(Q,q,U,K,A[14],2792965006,17),U=P(U,K=S(K,Q,q,U,A[15],1236535329,22),Q,q,A[1],4129170786,5),q=P(q,U,K,Q,A[6],3225465664,9),Q=P(Q,q,U,K,A[11],643717713,14),K=P(K,Q,q,U,A[0],3921069994,20),U=P(U,K,Q,q,A[5],3593408605,5),q=P(q,U,K,Q,A[10],38016083,9),Q=P(Q,q,U,K,A[15],3634488961,14),K=P(K,Q,q,U,A[4],3889429448,20),U=P(U,K,Q,q,A[9],568446438,5),q=P(q,U,K,Q,A[14],3275163606,9),Q=P(Q,q,U,K,A[3],4107603335,14),K=P(K,Q,q,U,A[8],1163531501,20),U=P(U,K,Q,q,A[13],2850285829,5),q=P(q,U,K,Q,A[2],4243563512,9),Q=P(Q,q,U,K,A[7],1735328473,14),U=R(U,K=P(K,Q,q,U,A[12],2368359562,20),Q,q,A[5],4294588738,4),q=R(q,U,K,Q,A[8],2272392833,11),Q=R(Q,q,U,K,A[11],1839030562,16),K=R(K,Q,q,U,A[14],4259657740,23),U=R(U,K,Q,q,A[1],2763975236,4),q=R(q,U,K,Q,A[4],1272893353,11),Q=R(Q,q,U,K,A[7],4139469664,16),K=R(K,Q,q,U,A[10],3200236656,23),U=R(U,K,Q,q,A[13],681279174,4),q=R(q,U,K,Q,A[0],3936430074,11),Q=R(Q,q,U,K,A[3],3572445317,16),K=R(K,Q,q,U,A[6],76029189,23),U=R(U,K,Q,q,A[9],3654602809,4),q=R(q,U,K,Q,A[12],3873151461,11),Q=R(Q,q,U,K,A[15],530742520,16),U=O(U,K=R(K,Q,q,U,A[2],3299628645,23),Q,q,A[0],4096336452,6),q=O(q,U,K,Q,A[7],1126891415,10),Q=O(Q,q,U,K,A[14],2878612391,15),K=O(K,Q,q,U,A[5],4237533241,21),U=O(U,K,Q,q,A[12],1700485571,6),q=O(q,U,K,Q,A[3],2399980690,10),Q=O(Q,q,U,K,A[10],4293915773,15),K=O(K,Q,q,U,A[1],2240044497,21),U=O(U,K,Q,q,A[8],1873313359,6),q=O(q,U,K,Q,A[15],4264355552,10),Q=O(Q,q,U,K,A[6],2734768916,15),K=O(K,Q,q,U,A[13],1309151649,21),U=O(U,K,Q,q,A[4],4149444226,6),q=O(q,U,K,Q,A[11],3174756917,10),Q=O(Q,q,U,K,A[2],718787259,15),K=O(K,Q,q,U,A[9],3951481745,21),this._a=this._a+U|0,this._b=this._b+K|0,this._c=this._c+Q|0,this._d=this._d+q|0},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=B.allocUnsafe(16);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A},$e.exports=b},53459:($e,j,E)=>{var g=E(57223),_=E(35294);function B(H){this.rand=H||new _.Rand}$e.exports=B,B.create=function(b){return new B(b)},B.prototype._randbelow=function(b){var k=b.bitLength(),S=Math.ceil(k/8);do{var P=new g(this.rand.generate(S))}while(P.cmp(b)>=0);return P},B.prototype._randrange=function(b,k){var S=k.sub(b);return b.add(this._randbelow(S))},B.prototype.test=function(b,k,S){var P=b.bitLength(),R=g.mont(b),O=new g(1).toRed(R);k||(k=Math.max(1,P/48|0));for(var A=b.subn(1),V=0;!A.testn(V);V++);for(var U=b.shrn(V),K=A.toRed(R);k>0;k--){var q=this._randrange(new g(2),A);S&&S(q);var Y=q.toRed(R).redPow(U);if(0!==Y.cmp(O)&&0!==Y.cmp(K)){for(var W=1;W<V;W++){if(0===(Y=Y.redSqr()).cmp(O))return!1;if(0===Y.cmp(K))break}if(W===V)return!1}}return!0},B.prototype.getDivisor=function(b,k){var S=b.bitLength(),P=g.mont(b),R=new g(1).toRed(P);k||(k=Math.max(1,S/48|0));for(var O=b.subn(1),A=0;!O.testn(A);A++);for(var V=b.shrn(A),U=O.toRed(P);k>0;k--){var K=this._randrange(new g(2),O),Q=b.gcd(K);if(0!==Q.cmpn(1))return Q;var q=K.toRed(P).redPow(V);if(0!==q.cmp(R)&&0!==q.cmp(U)){for(var Y=1;Y<A;Y++){if(0===(q=q.redSqr()).cmp(R))return q.fromRed().subn(1).gcd(b);if(0===q.cmp(U))break}if(Y===A)return(q=q.redSqr()).fromRed().subn(1).gcd(b)}}return!1}},57223:function($e,j,E){!function(g,_){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:_.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(64688).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,w=Math.min(C.length,d),I=s;I<w;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var w,I,L=0;if("be"===h)for(f=s.length-1,w=0;f>=0;f-=3)this.words[w]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);else if("le"===h)for(f=0,w=0;f<s.length;f+=3)this.words[w]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,w=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,w=1;w<=67108863;w*=d)f++;f--,w=w/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(w),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],w=0|s.words[0],I=f*w,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(w=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,w=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|w)).toString(16);h=0!=(w=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==w&&(h=w.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),w=h||Math.max(1,f);B(f<=w,"byte array longer than desired length"),B(w>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(w),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<w;a++)L[a]=0}else{for(a=0;a<w-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[w-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var w=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+w),w=d>>>26;for(;0!==w&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+w),w=d>>>26;if(this.length=h.length,0!==w)this.words[this.length]=w,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,w,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,w=s):(f=s,w=this);for(var I=0,L=0;L<w.length;L++)I=(d=(0|f.words[L])-(0|w.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,w=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ge=0|f[2],ge=8191&Ge,me=Ge>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,xt=0|f[7],Ne=8191&xt,ke=xt>>>13,pt=0|f[8],F=8191&pt,D=pt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|w[0],Ae=8191&Se,rt=Se>>>13,Ht=0|w[1],vt=8191&Ht,Ot=Ht>>>13,qt=0|w[2],mn=8191&qt,ln=qt>>>13,rr=0|w[3],Tn=8191&rr,rn=rr>>>13,Xt=0|w[4],dt=8191&Xt,it=Xt>>>13,Wt=0|w[5],Gt=8191&Wt,nn=Wt>>>13,Xn=0|w[6],ot=8191&Xn,ft=Xn>>>13,ut=0|w[7],Ke=8191&ut,We=ut>>>13,Bt=0|w[8],At=8191&Bt,fn=Bt>>>13,Un=0|w[9],wn=8191&Un,vn=Un>>>13;h.negative=s.negative^d.negative,h.length=19;var pr=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,rt))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,rt))+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,rt))+Math.imul(Me,Ae)|0,v=Math.imul(Me,rt);var nr=(L+(x=x+Math.imul(z,vt)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ot)|0)+Math.imul(ee,vt)|0))<<13)|0;L=((v=v+Math.imul(ee,Ot)|0)+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,rt))+Math.imul(me,Ae)|0,v=Math.imul(me,rt),x=x+Math.imul(we,vt)|0,a=(a=a+Math.imul(we,Ot)|0)+Math.imul(Me,vt)|0,v=v+Math.imul(Me,Ot)|0;var Bn=(L+(x=x+Math.imul(z,mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,mn)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,rt))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,rt),x=x+Math.imul(ge,vt)|0,a=(a=a+Math.imul(ge,Ot)|0)+Math.imul(me,vt)|0,v=v+Math.imul(me,Ot)|0,x=x+Math.imul(we,mn)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,mn)|0,v=v+Math.imul(Me,ln)|0;var Fn=(L+(x=x+Math.imul(z,Tn)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Tn)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,rt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,rt),x=x+Math.imul(xe,vt)|0,a=(a=a+Math.imul(xe,Ot)|0)+Math.imul(Ce,vt)|0,v=v+Math.imul(Ce,Ot)|0,x=x+Math.imul(ge,mn)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,mn)|0,v=v+Math.imul(me,ln)|0,x=x+Math.imul(we,Tn)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Tn)|0,v=v+Math.imul(Me,rn)|0;var qe=(L+(x=x+Math.imul(z,dt)|0)|0)+((8191&(a=(a=a+Math.imul(z,it)|0)+Math.imul(ee,dt)|0))<<13)|0;L=((v=v+Math.imul(ee,it)|0)+(a>>>13)|0)+(qe>>>26)|0,qe&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,rt))+Math.imul(_e,Ae)|0,v=Math.imul(_e,rt),x=x+Math.imul(he,vt)|0,a=(a=a+Math.imul(he,Ot)|0)+Math.imul(ne,vt)|0,v=v+Math.imul(ne,Ot)|0,x=x+Math.imul(xe,mn)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,mn)|0,v=v+Math.imul(Ce,ln)|0,x=x+Math.imul(ge,Tn)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Tn)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,dt)|0,a=(a=a+Math.imul(we,it)|0)+Math.imul(Me,dt)|0,v=v+Math.imul(Me,it)|0;var Oe=(L+(x=x+Math.imul(z,Gt)|0)|0)+((8191&(a=(a=a+Math.imul(z,nn)|0)+Math.imul(ee,Gt)|0))<<13)|0;L=((v=v+Math.imul(ee,nn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,rt))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,rt),x=x+Math.imul(de,vt)|0,a=(a=a+Math.imul(de,Ot)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,Ot)|0,x=x+Math.imul(he,mn)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,mn)|0,v=v+Math.imul(ne,ln)|0,x=x+Math.imul(xe,Tn)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Tn)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,dt)|0,a=(a=a+Math.imul(ge,it)|0)+Math.imul(me,dt)|0,v=v+Math.imul(me,it)|0,x=x+Math.imul(we,Gt)|0,a=(a=a+Math.imul(we,nn)|0)+Math.imul(Me,Gt)|0,v=v+Math.imul(Me,nn)|0;var Je=(L+(x=x+Math.imul(z,ot)|0)|0)+((8191&(a=(a=a+Math.imul(z,ft)|0)+Math.imul(ee,ot)|0))<<13)|0;L=((v=v+Math.imul(ee,ft)|0)+(a>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,rt))+Math.imul(ke,Ae)|0,v=Math.imul(ke,rt),x=x+Math.imul(He,vt)|0,a=(a=a+Math.imul(He,Ot)|0)+Math.imul(Ve,vt)|0,v=v+Math.imul(Ve,Ot)|0,x=x+Math.imul(de,mn)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,mn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(he,Tn)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Tn)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,dt)|0,a=(a=a+Math.imul(xe,it)|0)+Math.imul(Ce,dt)|0,v=v+Math.imul(Ce,it)|0,x=x+Math.imul(ge,Gt)|0,a=(a=a+Math.imul(ge,nn)|0)+Math.imul(me,Gt)|0,v=v+Math.imul(me,nn)|0,x=x+Math.imul(we,ot)|0,a=(a=a+Math.imul(we,ft)|0)+Math.imul(Me,ot)|0,v=v+Math.imul(Me,ft)|0;var Kt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,We)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,We)|0)+(a>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,rt))+Math.imul(D,Ae)|0,v=Math.imul(D,rt),x=x+Math.imul(Ne,vt)|0,a=(a=a+Math.imul(Ne,Ot)|0)+Math.imul(ke,vt)|0,v=v+Math.imul(ke,Ot)|0,x=x+Math.imul(He,mn)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,mn)|0,v=v+Math.imul(Ve,ln)|0,x=x+Math.imul(de,Tn)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Tn)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,dt)|0,a=(a=a+Math.imul(he,it)|0)+Math.imul(ne,dt)|0,v=v+Math.imul(ne,it)|0,x=x+Math.imul(xe,Gt)|0,a=(a=a+Math.imul(xe,nn)|0)+Math.imul(Ce,Gt)|0,v=v+Math.imul(Ce,nn)|0,x=x+Math.imul(ge,ot)|0,a=(a=a+Math.imul(ge,ft)|0)+Math.imul(me,ot)|0,v=v+Math.imul(me,ft)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,We)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,We)|0;var pn=(L+(x=x+Math.imul(z,At)|0)|0)+((8191&(a=(a=a+Math.imul(z,fn)|0)+Math.imul(ee,At)|0))<<13)|0;L=((v=v+Math.imul(ee,fn)|0)+(a>>>13)|0)+(pn>>>26)|0,pn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,rt))+Math.imul(fe,Ae)|0,v=Math.imul(fe,rt),x=x+Math.imul(F,vt)|0,a=(a=a+Math.imul(F,Ot)|0)+Math.imul(D,vt)|0,v=v+Math.imul(D,Ot)|0,x=x+Math.imul(Ne,mn)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,mn)|0,v=v+Math.imul(ke,ln)|0,x=x+Math.imul(He,Tn)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Tn)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,dt)|0,a=(a=a+Math.imul(de,it)|0)+Math.imul(_e,dt)|0,v=v+Math.imul(_e,it)|0,x=x+Math.imul(he,Gt)|0,a=(a=a+Math.imul(he,nn)|0)+Math.imul(ne,Gt)|0,v=v+Math.imul(ne,nn)|0,x=x+Math.imul(xe,ot)|0,a=(a=a+Math.imul(xe,ft)|0)+Math.imul(Ce,ot)|0,v=v+Math.imul(Ce,ft)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,We)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,We)|0,x=x+Math.imul(we,At)|0,a=(a=a+Math.imul(we,fn)|0)+Math.imul(Me,At)|0,v=v+Math.imul(Me,fn)|0;var jn=(L+(x=x+Math.imul(z,wn)|0)|0)+((8191&(a=(a=a+Math.imul(z,vn)|0)+Math.imul(ee,wn)|0))<<13)|0;L=((v=v+Math.imul(ee,vn)|0)+(a>>>13)|0)+(jn>>>26)|0,jn&=67108863,x=Math.imul(G,vt),a=(a=Math.imul(G,Ot))+Math.imul(fe,vt)|0,v=Math.imul(fe,Ot),x=x+Math.imul(F,mn)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,mn)|0,v=v+Math.imul(D,ln)|0,x=x+Math.imul(Ne,Tn)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Tn)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,dt)|0,a=(a=a+Math.imul(He,it)|0)+Math.imul(Ve,dt)|0,v=v+Math.imul(Ve,it)|0,x=x+Math.imul(de,Gt)|0,a=(a=a+Math.imul(de,nn)|0)+Math.imul(_e,Gt)|0,v=v+Math.imul(_e,nn)|0,x=x+Math.imul(he,ot)|0,a=(a=a+Math.imul(he,ft)|0)+Math.imul(ne,ot)|0,v=v+Math.imul(ne,ft)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,We)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,We)|0,x=x+Math.imul(ge,At)|0,a=(a=a+Math.imul(ge,fn)|0)+Math.imul(me,At)|0,v=v+Math.imul(me,fn)|0;var zn=(L+(x=x+Math.imul(we,wn)|0)|0)+((8191&(a=(a=a+Math.imul(we,vn)|0)+Math.imul(Me,wn)|0))<<13)|0;L=((v=v+Math.imul(Me,vn)|0)+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(G,mn),a=(a=Math.imul(G,ln))+Math.imul(fe,mn)|0,v=Math.imul(fe,ln),x=x+Math.imul(F,Tn)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Tn)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,dt)|0,a=(a=a+Math.imul(Ne,it)|0)+Math.imul(ke,dt)|0,v=v+Math.imul(ke,it)|0,x=x+Math.imul(He,Gt)|0,a=(a=a+Math.imul(He,nn)|0)+Math.imul(Ve,Gt)|0,v=v+Math.imul(Ve,nn)|0,x=x+Math.imul(de,ot)|0,a=(a=a+Math.imul(de,ft)|0)+Math.imul(_e,ot)|0,v=v+Math.imul(_e,ft)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,We)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,We)|0,x=x+Math.imul(xe,At)|0,a=(a=a+Math.imul(xe,fn)|0)+Math.imul(Ce,At)|0,v=v+Math.imul(Ce,fn)|0;var or=(L+(x=x+Math.imul(ge,wn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,vn)|0)+Math.imul(me,wn)|0))<<13)|0;L=((v=v+Math.imul(me,vn)|0)+(a>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(G,Tn),a=(a=Math.imul(G,rn))+Math.imul(fe,Tn)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,dt)|0,a=(a=a+Math.imul(F,it)|0)+Math.imul(D,dt)|0,v=v+Math.imul(D,it)|0,x=x+Math.imul(Ne,Gt)|0,a=(a=a+Math.imul(Ne,nn)|0)+Math.imul(ke,Gt)|0,v=v+Math.imul(ke,nn)|0,x=x+Math.imul(He,ot)|0,a=(a=a+Math.imul(He,ft)|0)+Math.imul(Ve,ot)|0,v=v+Math.imul(Ve,ft)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,We)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,We)|0,x=x+Math.imul(he,At)|0,a=(a=a+Math.imul(he,fn)|0)+Math.imul(ne,At)|0,v=v+Math.imul(ne,fn)|0;var yr=(L+(x=x+Math.imul(xe,wn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,vn)|0)+Math.imul(Ce,wn)|0))<<13)|0;L=((v=v+Math.imul(Ce,vn)|0)+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,x=Math.imul(G,dt),a=(a=Math.imul(G,it))+Math.imul(fe,dt)|0,v=Math.imul(fe,it),x=x+Math.imul(F,Gt)|0,a=(a=a+Math.imul(F,nn)|0)+Math.imul(D,Gt)|0,v=v+Math.imul(D,nn)|0,x=x+Math.imul(Ne,ot)|0,a=(a=a+Math.imul(Ne,ft)|0)+Math.imul(ke,ot)|0,v=v+Math.imul(ke,ft)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,We)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,We)|0,x=x+Math.imul(de,At)|0,a=(a=a+Math.imul(de,fn)|0)+Math.imul(_e,At)|0,v=v+Math.imul(_e,fn)|0;var Rr=(L+(x=x+Math.imul(he,wn)|0)|0)+((8191&(a=(a=a+Math.imul(he,vn)|0)+Math.imul(ne,wn)|0))<<13)|0;L=((v=v+Math.imul(ne,vn)|0)+(a>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,x=Math.imul(G,Gt),a=(a=Math.imul(G,nn))+Math.imul(fe,Gt)|0,v=Math.imul(fe,nn),x=x+Math.imul(F,ot)|0,a=(a=a+Math.imul(F,ft)|0)+Math.imul(D,ot)|0,v=v+Math.imul(D,ft)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,We)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,We)|0,x=x+Math.imul(He,At)|0,a=(a=a+Math.imul(He,fn)|0)+Math.imul(Ve,At)|0,v=v+Math.imul(Ve,fn)|0;var Ir=(L+(x=x+Math.imul(de,wn)|0)|0)+((8191&(a=(a=a+Math.imul(de,vn)|0)+Math.imul(_e,wn)|0))<<13)|0;L=((v=v+Math.imul(_e,vn)|0)+(a>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,x=Math.imul(G,ot),a=(a=Math.imul(G,ft))+Math.imul(fe,ot)|0,v=Math.imul(fe,ft),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,We)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,We)|0,x=x+Math.imul(Ne,At)|0,a=(a=a+Math.imul(Ne,fn)|0)+Math.imul(ke,At)|0,v=v+Math.imul(ke,fn)|0;var Lr=(L+(x=x+Math.imul(He,wn)|0)|0)+((8191&(a=(a=a+Math.imul(He,vn)|0)+Math.imul(Ve,wn)|0))<<13)|0;L=((v=v+Math.imul(Ve,vn)|0)+(a>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,We))+Math.imul(fe,Ke)|0,v=Math.imul(fe,We),x=x+Math.imul(F,At)|0,a=(a=a+Math.imul(F,fn)|0)+Math.imul(D,At)|0,v=v+Math.imul(D,fn)|0;var fr=(L+(x=x+Math.imul(Ne,wn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,vn)|0)+Math.imul(ke,wn)|0))<<13)|0;L=((v=v+Math.imul(ke,vn)|0)+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,x=Math.imul(G,At),a=(a=Math.imul(G,fn))+Math.imul(fe,At)|0,v=Math.imul(fe,fn);var en=(L+(x=x+Math.imul(F,wn)|0)|0)+((8191&(a=(a=a+Math.imul(F,vn)|0)+Math.imul(D,wn)|0))<<13)|0;L=((v=v+Math.imul(D,vn)|0)+(a>>>13)|0)+(en>>>26)|0,en&=67108863;var bn=(L+(x=Math.imul(G,wn))|0)+((8191&(a=(a=Math.imul(G,vn))+Math.imul(fe,wn)|0))<<13)|0;return L=((v=Math.imul(fe,vn))+(a>>>13)|0)+(bn>>>26)|0,bn&=67108863,I[0]=pr,I[1]=nr,I[2]=Bn,I[3]=Fn,I[4]=qe,I[5]=Oe,I[6]=Je,I[7]=Kt,I[8]=pn,I[9]=jn,I[10]=zn,I[11]=or,I[12]=yr,I[13]=Rr,I[14]=Ir,I[15]=Lr,I[16]=fr,I[17]=en,I[18]=bn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,w=0;w<d.length-1;w++){var I=f;f=0;for(var L=67108863&h,x=Math.min(w,s.length-1),a=Math.max(0,w-C.length+1);a<=x;a++){var ee=(0|C.words[w-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[w]=L,h=I,I=f}return 0!==h?d.words[w]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,w=0;w<d;w++)f|=(1&s)<<d-w-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,w,I){for(var L=0;L<I;L++)f[L]=d[s[L]],w[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,w,I){this.permute(I,s,d,h,f,w);for(var L=1;L<w;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<w;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ge=h[Z+le+L],ge=f[Z+le+L],me=z*Ge-ee*ge;ge=z*ge+ee*Ge,h[Z+le]=we+(Ge=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ge,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,w=0;for(h=h/2|0;h;h>>>=1)w++;return 1<<w+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var w=s[f];s[f]=s[h-f-1],s[h-f-1]=w,w=d[f],d[f]=-d[h-f-1],d[h-f-1]=-w}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var w=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&w,h=w<67108864?0:w/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var w=0,I=0;I<d;I++)h[2*I]=8191&(w+=0|s[I]),h[2*I+1]=8191&(w>>>=13),w>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===w),B(!(-8192&w))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),w=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,w),this.transform(v,I,Z,z,f,w);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,w),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,w=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=w>>>26,this.words[h]=67108863&w}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var w=h.sqr();f<d.length;f++,w=w.sqr())0!==d[f]&&(h=h.mul(w));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var w,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(w=0;w<this.length;w++){var L=this.words[w]&f;this.words[w]=(0|this.words[w])-L<<d|I,I=L>>>26-d}I&&(this.words[w]=I,this.length++)}if(0!==h){for(w=this.length-1;w>=0;w--)this.words[w+h]=this.words[w];for(w=0;w<h;w++)this.words[w]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var w=s%26,I=Math.min((s-w)/26,this.length),L=67108863^67108863>>>w<<w,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-w|Z>>>w,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var w;this._expand(s.length+h);var I,L=0;for(w=0;w<s.length;w++){I=(0|this.words[w+h])+L;var x=(0|s.words[w])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[w+h]=67108863&I}for(;w<this.length-h;w++)L=(I=(0|this.words[w+h])+L)>>26,this.words[w+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,w=0;w<this.length;w++)L=(I=-(0|this.words[w])+L)>>26,this.words[w]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),w=s,I=0|w.words[w.length-1];0!=(h=26-this._countBits(I))&&(w=w.ushln(h),f.iushln(h),I=0|w.words[w.length-1]);var a,x=f.length-w.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(w,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[w.length+z])+(0|f.words[w.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(w,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(w,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.iadd(s)),{div:f,mod:w}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.isub(s)),{div:I.div,mod:w}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,w,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),w=s.andln(1),I=h.cmp(f);return I<0||1===w&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||w.isOdd())&&(f.iadd(a),w.isub(v)),f.iushrn(1),w.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),w.isub(L)):(h.isub(d),I.isub(f),L.isub(w))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)w.isOdd()&&w.iadd(I),w.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(w)):(h.isub(d),w.isub(f))}return(Z=0===d.cmpn(1)?f:w).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var w=d.cmp(h);if(w<0){var I=d;d=h,h=I}else if(0===w||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var w=f,I=h;0!==w&&I<this.length;I++){var L=0|this.words[I];w=(L+=w)>>>26,this.words[I]=L&=67108863}return 0!==w&&(this.words[I]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],w=0|s.words[h];if(f!==w){f<w?d=-1:f>w&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),w=0;w<f;w++)d.words[w]=s.words[w];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,w=10;w<s.length;w++){var L=0|s.words[w];s.words[w-10]=(L&h)<<4|I>>>22,I=L}s.words[w-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,w=67108863&f;f>>>=26,s.words[h]=w,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),w=0;!f.isZero()&&0===f.andln(1);)w++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=w;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var w=2;w<f.length;w++)f[w]=this.mul(f[w-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),w=d.length-1;w>=0;w--){for(var v=d.words[w],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===w&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},39210:$e=>{function j(E,g){if(!E)throw new Error(g||"Assertion failed")}$e.exports=j,j.equal=function(g,_,B){if(g!=_)throw new Error(B||"Assertion failed: "+g+" != "+_)}},21832:($e,j)=>{"use strict";var E=j;function _(H){return 1===H.length?"0"+H:H}function B(H){for(var b="",k=0;k<H.length;k++)b+=_(H[k].toString(16));return b}E.toArray=function g(H,b){if(Array.isArray(H))return H.slice();if(!H)return[];var k=[];if("string"!=typeof H){for(var S=0;S<H.length;S++)k[S]=0|H[S];return k}if("hex"===b)for((H=H.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(H="0"+H),S=0;S<H.length;S+=2)k.push(parseInt(H[S]+H[S+1],16));else for(S=0;S<H.length;S++){var P=H.charCodeAt(S),R=P>>8,O=255&P;R?k.push(R,O):k.push(O)}return k},E.zero2=_,E.toHex=B,E.encode=function(b,k){return"hex"===k?B(b):b}},61747:$e=>{"use strict";$e.exports=class extends Error{constructor(E,g){super(E||""),"object"==typeof g&&null!==g&&(g.code&&(this.code=String(g.code)),g.expected&&(this.expected=!0),g.transient&&(this.transient=!0),g.cause&&(this.cause=g.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:($e,j,E)=>{$e.exports=E(3116)},3116:function($e,j){!function(E,g){"use strict";var _={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function B(U){if(!Array.isArray(U)&&!ArrayBuffer.isView(U))return!1;for(var K=0;K<U.length;K++)if(!Number.isInteger(U[K])||U[K]<0||U[K]>255)return!1;return!0}function H(U,K){return(65535&U)*K+(((U>>>16)*K&65535)<<16)}function b(U,K){return U<<K|U>>>32-K}function k(U){return U=H(U^=U>>>16,2246822507),(U=H(U^=U>>>13,3266489909))^U>>>16}function S(U,K){var Q=[0,0,0,0];return Q[3]+=(U=[U[0]>>>16,65535&U[0],U[1]>>>16,65535&U[1]])[3]+(K=[K[0]>>>16,65535&K[0],K[1]>>>16,65535&K[1]])[3],Q[2]+=Q[3]>>>16,Q[3]&=65535,Q[2]+=U[2]+K[2],Q[1]+=Q[2]>>>16,Q[2]&=65535,Q[1]+=U[1]+K[1],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[0]+=U[0]+K[0],Q[0]&=65535,[Q[0]<<16|Q[1],Q[2]<<16|Q[3]]}function P(U,K){var Q=[0,0,0,0];return Q[3]+=(U=[U[0]>>>16,65535&U[0],U[1]>>>16,65535&U[1]])[3]*(K=[K[0]>>>16,65535&K[0],K[1]>>>16,65535&K[1]])[3],Q[2]+=Q[3]>>>16,Q[3]&=65535,Q[2]+=U[2]*K[3],Q[1]+=Q[2]>>>16,Q[2]&=65535,Q[2]+=U[3]*K[2],Q[1]+=Q[2]>>>16,Q[2]&=65535,Q[1]+=U[1]*K[3],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[1]+=U[2]*K[2],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[1]+=U[3]*K[1],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[0]+=U[0]*K[3]+U[1]*K[2]+U[2]*K[1]+U[3]*K[0],Q[0]&=65535,[Q[0]<<16|Q[1],Q[2]<<16|Q[3]]}function R(U,K){return 32==(K%=64)?[U[1],U[0]]:K<32?[U[0]<<K|U[1]>>>32-K,U[1]<<K|U[0]>>>32-K]:[U[1]<<(K-=32)|U[0]>>>32-K,U[0]<<K|U[1]>>>32-K]}function O(U,K){return 0==(K%=64)?U:K<32?[U[0]<<K|U[1]>>>32-K,U[1]<<K]:[U[1]<<K-32,0]}function A(U,K){return[U[0]^K[0],U[1]^K[1]]}function V(U){return U=A(U,[0,U[0]>>>1]),U=A(U=P(U,[4283543511,3981806797]),[0,U[0]>>>1]),A(U=P(U,[3301882366,444984403]),[0,U[0]>>>1])}_.x86.hash32=function(U,K){if(_.inputValidation&&!B(U))return g;for(var Q=U.length%4,q=U.length-Q,Y=K=K||0,W=0,re=3432918353,ie=461845907,ae=0;ae<q;ae+=4)W=H(W=U[ae]|U[ae+1]<<8|U[ae+2]<<16|U[ae+3]<<24,re),W=H(W=b(W,15),ie),Y=H(Y=b(Y^=W,13),5)+3864292196;switch(W=0,Q){case 3:W^=U[ae+2]<<16;case 2:W^=U[ae+1]<<8;case 1:W=H(W^=U[ae],re),Y^=W=H(W=b(W,15),ie)}return(Y=k(Y^=U.length))>>>0},_.x86.hash128=function(U,K){if(_.inputValidation&&!B(U))return g;for(var Q=U.length%16,q=U.length-Q,Y=K=K||0,W=K,re=K,ie=K,ae=0,ue=0,ce=0,pe=0,ve=597399067,De=2869860233,C=951274213,s=2716044179,d=0;d<q;d+=16)ue=U[d+4]|U[d+5]<<8|U[d+6]<<16|U[d+7]<<24,ce=U[d+8]|U[d+9]<<8|U[d+10]<<16|U[d+11]<<24,pe=U[d+12]|U[d+13]<<8|U[d+14]<<16|U[d+15]<<24,ae=b(ae=H(ae=U[d]|U[d+1]<<8|U[d+2]<<16|U[d+3]<<24,ve),15),Y=b(Y^=ae=H(ae,De),19),Y=H(Y+=W,5)+1444728091,ue=b(ue=H(ue,De),16),W=b(W^=ue=H(ue,C),17),W=H(W+=re,5)+197830471,ce=b(ce=H(ce,C),17),re=b(re^=ce=H(ce,s),15),re=H(re+=ie,5)+2530024501,pe=b(pe=H(pe,s),18),ie=b(ie^=pe=H(pe,ve),13),ie=H(ie+=Y,5)+850148119;switch(ae=0,ue=0,ce=0,pe=0,Q){case 15:pe^=U[d+14]<<16;case 14:pe^=U[d+13]<<8;case 13:pe=H(pe^=U[d+12],s),ie^=pe=H(pe=b(pe,18),ve);case 12:ce^=U[d+11]<<24;case 11:ce^=U[d+10]<<16;case 10:ce^=U[d+9]<<8;case 9:ce=H(ce^=U[d+8],C),re^=ce=H(ce=b(ce,17),s);case 8:ue^=U[d+7]<<24;case 7:ue^=U[d+6]<<16;case 6:ue^=U[d+5]<<8;case 5:ue=H(ue^=U[d+4],De),W^=ue=H(ue=b(ue,16),C);case 4:ae^=U[d+3]<<24;case 3:ae^=U[d+2]<<16;case 2:ae^=U[d+1]<<8;case 1:ae=H(ae^=U[d],ve),Y^=ae=H(ae=b(ae,15),De)}return Y^=U.length,Y+=W^=U.length,Y+=re^=U.length,W+=Y+=ie^=U.length,re+=Y,ie+=Y,Y=k(Y),Y+=W=k(W),Y+=re=k(re),W+=Y+=ie=k(ie),re+=Y,ie+=Y,("00000000"+(Y>>>0).toString(16)).slice(-8)+("00000000"+(W>>>0).toString(16)).slice(-8)+("00000000"+(re>>>0).toString(16)).slice(-8)+("00000000"+(ie>>>0).toString(16)).slice(-8)},_.x64.hash128=function(U,K){if(_.inputValidation&&!B(U))return g;for(var Q=U.length%16,q=U.length-Q,Y=[0,K=K||0],W=[0,K],re=[0,0],ie=[0,0],ae=[2277735313,289559509],ue=[1291169091,658871167],ce=0;ce<q;ce+=16)ie=[U[ce+12]|U[ce+13]<<8|U[ce+14]<<16|U[ce+15]<<24,U[ce+8]|U[ce+9]<<8|U[ce+10]<<16|U[ce+11]<<24],re=R(re=P(re=[U[ce+4]|U[ce+5]<<8|U[ce+6]<<16|U[ce+7]<<24,U[ce]|U[ce+1]<<8|U[ce+2]<<16|U[ce+3]<<24],ae),31),Y=S(Y=R(Y=A(Y,re=P(re,ue)),27),W),Y=S(P(Y,[0,5]),[0,1390208809]),ie=R(ie=P(ie,ue),33),W=S(W=R(W=A(W,ie=P(ie,ae)),31),Y),W=S(P(W,[0,5]),[0,944331445]);switch(re=[0,0],ie=[0,0],Q){case 15:ie=A(ie,O([0,U[ce+14]],48));case 14:ie=A(ie,O([0,U[ce+13]],40));case 13:ie=A(ie,O([0,U[ce+12]],32));case 12:ie=A(ie,O([0,U[ce+11]],24));case 11:ie=A(ie,O([0,U[ce+10]],16));case 10:ie=A(ie,O([0,U[ce+9]],8));case 9:ie=P(ie=A(ie,[0,U[ce+8]]),ue),W=A(W,ie=P(ie=R(ie,33),ae));case 8:re=A(re,O([0,U[ce+7]],56));case 7:re=A(re,O([0,U[ce+6]],48));case 6:re=A(re,O([0,U[ce+5]],40));case 5:re=A(re,O([0,U[ce+4]],32));case 4:re=A(re,O([0,U[ce+3]],24));case 3:re=A(re,O([0,U[ce+2]],16));case 2:re=A(re,O([0,U[ce+1]],8));case 1:re=P(re=A(re,[0,U[ce]]),ae),Y=A(Y,re=P(re=R(re,31),ue))}return Y=S(Y=A(Y,[0,U.length]),W=A(W,[0,U.length])),W=S(W,Y),Y=S(Y=V(Y),W=V(W)),W=S(W,Y),("00000000"+(Y[0]>>>0).toString(16)).slice(-8)+("00000000"+(Y[1]>>>0).toString(16)).slice(-8)+("00000000"+(W[0]>>>0).toString(16)).slice(-8)+("00000000"+(W[1]>>>0).toString(16)).slice(-8)},$e.exports&&(j=$e.exports=_),j.murmurHash3=_}()},50233:$e=>{"use strict";var j=Object.prototype.hasOwnProperty,E="~";function g(){}function _(k,S,P){this.fn=k,this.context=S,this.once=P||!1}function B(k,S,P,R,O){if("function"!=typeof P)throw new TypeError("The listener must be a function");var A=new _(P,R||k,O),V=E?E+S:S;return k._events[V]?k._events[V].fn?k._events[V]=[k._events[V],A]:k._events[V].push(A):(k._events[V]=A,k._eventsCount++),k}function H(k,S){0==--k._eventsCount?k._events=new g:delete k._events[S]}function b(){this._events=new g,this._eventsCount=0}Object.create&&(g.prototype=Object.create(null),(new g).__proto__||(E=!1)),b.prototype.eventNames=function(){var P,R,S=[];if(0===this._eventsCount)return S;for(R in P=this._events)j.call(P,R)&&S.push(E?R.slice(1):R);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(P)):S},b.prototype.listeners=function(S){var R=this._events[E?E+S:S];if(!R)return[];if(R.fn)return[R.fn];for(var O=0,A=R.length,V=new Array(A);O<A;O++)V[O]=R[O].fn;return V},b.prototype.listenerCount=function(S){var R=this._events[E?E+S:S];return R?R.fn?1:R.length:0},b.prototype.emit=function(S,P,R,O,A,V){var U=E?E+S:S;if(!this._events[U])return!1;var q,Y,K=this._events[U],Q=arguments.length;if(K.fn){switch(K.once&&this.removeListener(S,K.fn,void 0,!0),Q){case 1:return K.fn.call(K.context),!0;case 2:return K.fn.call(K.context,P),!0;case 3:return K.fn.call(K.context,P,R),!0;case 4:return K.fn.call(K.context,P,R,O),!0;case 5:return K.fn.call(K.context,P,R,O,A),!0;case 6:return K.fn.call(K.context,P,R,O,A,V),!0}for(Y=1,q=new Array(Q-1);Y<Q;Y++)q[Y-1]=arguments[Y];K.fn.apply(K.context,q)}else{var re,W=K.length;for(Y=0;Y<W;Y++)switch(K[Y].once&&this.removeListener(S,K[Y].fn,void 0,!0),Q){case 1:K[Y].fn.call(K[Y].context);break;case 2:K[Y].fn.call(K[Y].context,P);break;case 3:K[Y].fn.call(K[Y].context,P,R);break;case 4:K[Y].fn.call(K[Y].context,P,R,O);break;default:if(!q)for(re=1,q=new Array(Q-1);re<Q;re++)q[re-1]=arguments[re];K[Y].fn.apply(K[Y].context,q)}}return!0},b.prototype.on=function(S,P,R){return B(this,S,P,R,!1)},b.prototype.once=function(S,P,R){return B(this,S,P,R,!0)},b.prototype.removeListener=function(S,P,R,O){var A=E?E+S:S;if(!this._events[A])return this;if(!P)return H(this,A),this;var V=this._events[A];if(V.fn)V.fn===P&&(!O||V.once)&&(!R||V.context===R)&&H(this,A);else{for(var U=0,K=[],Q=V.length;U<Q;U++)(V[U].fn!==P||O&&!V[U].once||R&&V[U].context!==R)&&K.push(V[U]);K.length?this._events[A]=1===K.length?K[0]:K:H(this,A)}return this},b.prototype.removeAllListeners=function(S){var P;return S?this._events[P=E?E+S:S]&&H(this,P):(this._events=new g,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=E,b.EventEmitter=b,$e.exports=b},83138:($e,j,E)=>{"use strict";var g=E(49609);j.certificate=E(94772);var _=g.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});j.RSAPrivateKey=_;var B=g.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});j.RSAPublicKey=B;var H=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),b=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())});j.PublicKey=b;var k=g.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(H),this.key("subjectPrivateKey").octstr())});j.PrivateKey=k;var S=g.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});j.EncryptedPrivateKey=S;var P=g.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});j.DSAPrivateKey=P,j.DSAparam=g.define("DSAparam",function(){this.int()});var R=g.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),O=g.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(R),this.key("publicKey").optional().explicit(1).bitstr())});j.ECPrivateKey=O,j.signature=g.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:($e,j,E)=>{"use strict";var g=E(49609),_=g.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),B=g.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),H=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),b=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())}),k=g.define("RelativeDistinguishedName",function(){this.setof(B)}),S=g.define("RDNSequence",function(){this.seqof(k)}),P=g.define("Name",function(){this.choice({rdnSequence:this.use(S)})}),R=g.define("Validity",function(){this.seq().obj(this.key("notBefore").use(_),this.key("notAfter").use(_))}),O=g.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),A=g.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(H),this.key("issuer").use(P),this.key("validity").use(R),this.key("subject").use(P),this.key("subjectPublicKeyInfo").use(b),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(O).optional())}),V=g.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(A),this.key("signatureAlgorithm").use(H),this.key("signatureValue").bitstr())});$e.exports=V},89472:($e,j,E)=>{"use strict";var g=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,_=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,B=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,H=E(18211),b=E(43388),k=E(27054).Buffer;$e.exports=function(S,P){var A,R=S.toString(),O=R.match(g);if(O){var U="aes"+O[1],K=k.from(O[2],"hex"),Q=k.from(O[3].replace(/[\r\n]/g,""),"base64"),q=H(P,K.slice(0,8),parseInt(O[1],10)).key,Y=[],W=b.createDecipheriv(U,q,K);Y.push(W.update(Q)),Y.push(W.final()),A=k.concat(Y)}else{var V=R.match(B);A=k.from(V[2].replace(/[\r\n]/g,""),"base64")}return{tag:R.match(_)[1],data:A}}},65667:($e,j,E)=>{"use strict";var g=E(83138),_=E(15579),B=E(89472),H=E(43388),b=E(93397),k=E(27054).Buffer;function P(R){var O;"object"==typeof R&&!k.isBuffer(R)&&(O=R.passphrase,R=R.key),"string"==typeof R&&(R=k.from(R));var K,Q,A=B(R,O),V=A.tag,U=A.data;switch(V){case"CERTIFICATE":Q=g.certificate.decode(U,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Q||(Q=g.PublicKey.decode(U,"der")),K=Q.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return g.RSAPublicKey.decode(Q.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Q.subjectPrivateKey=Q.subjectPublicKey,{type:"ec",data:Q};case"1.2.840.10040.4.1":return Q.algorithm.params.pub_key=g.DSAparam.decode(Q.subjectPublicKey.data,"der"),{type:"dsa",data:Q.algorithm.params};default:throw new Error("unknown key id "+K)}case"ENCRYPTED PRIVATE KEY":U=function S(R,O){var A=R.algorithm.decrypt.kde.kdeparams.salt,V=parseInt(R.algorithm.decrypt.kde.kdeparams.iters.toString(),10),U=_[R.algorithm.decrypt.cipher.algo.join(".")],K=R.algorithm.decrypt.cipher.iv,Q=R.subjectPrivateKey,q=parseInt(U.split("-")[1],10)/8,Y=b.pbkdf2Sync(O,A,V,q,"sha1"),W=H.createDecipheriv(U,Y,K),re=[];return re.push(W.update(Q)),re.push(W.final()),k.concat(re)}(U=g.EncryptedPrivateKey.decode(U,"der"),O);case"PRIVATE KEY":switch(K=(Q=g.PrivateKey.decode(U,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return g.RSAPrivateKey.decode(Q.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Q.algorithm.curve,privateKey:g.ECPrivateKey.decode(Q.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Q.algorithm.params.priv_key=g.DSAparam.decode(Q.subjectPrivateKey,"der"),{type:"dsa",params:Q.algorithm.params};default:throw new Error("unknown key id "+K)}case"RSA PUBLIC KEY":return g.RSAPublicKey.decode(U,"der");case"RSA PRIVATE KEY":return g.RSAPrivateKey.decode(U,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:g.DSAPrivateKey.decode(U,"der")};case"EC PRIVATE KEY":return{curve:(U=g.ECPrivateKey.decode(U,"der")).parameters.value,privateKey:U.privateKey};default:throw new Error("unknown key type "+V)}}P.signature=g.signature,$e.exports=P},93397:($e,j,E)=>{j.pbkdf2=E(82685),j.pbkdf2Sync=E(59111)},82685:($e,j,E)=>{var k,A,g=E(27054).Buffer,_=E(86111),B=E(45392),H=E(59111),b=E(76643),S=globalThis.crypto&&globalThis.crypto.subtle,P={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},R=[];function V(){return A||(A=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function U(Q,q,Y,W,re){return S.importKey("raw",Q,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ie){return S.deriveBits({name:"PBKDF2",salt:q,iterations:Y,hash:{name:re}},ie,W<<3)}).then(function(ie){return g.from(ie)})}$e.exports=function(Q,q,Y,W,re,ie){"function"==typeof re&&(ie=re,re=void 0);var ae=P[(re=re||"sha1").toLowerCase()];if(ae&&"function"==typeof globalThis.Promise){if(_(Y,W),Q=b(Q,B,"Password"),q=b(q,B,"Salt"),"function"!=typeof ie)throw new Error("No callback provided to pbkdf2");!function K(Q,q){Q.then(function(Y){V()(function(){q(null,Y)})},function(Y){V()(function(){q(Y)})})}(function O(Q){if(globalThis.process&&!globalThis.process.browser||!S||!S.importKey||!S.deriveBits)return Promise.resolve(!1);if(void 0!==R[Q])return R[Q];var q=U(k=k||g.alloc(8),k,10,128,Q).then(function(){return!0}).catch(function(){return!1});return R[Q]=q,q}(ae).then(function(ue){return ue?U(Q,q,Y,W,ae):H(Q,q,Y,W,re)}),ie)}else V()(function(){var ue;try{ue=H(Q,q,Y,W,re)}catch(ce){return ie(ce)}ie(null,ue)})}},45392:($e,j,E)=>{var _,g=E(40573);_=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(g.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",$e.exports=_},86111:$e=>{var j=Math.pow(2,30)-1;$e.exports=function(E,g){if("number"!=typeof E)throw new TypeError("Iterations not a number");if(E<0)throw new TypeError("Bad iterations");if("number"!=typeof g)throw new TypeError("Key length not a number");if(g<0||g>j||g!=g)throw new TypeError("Bad key length")}},59111:($e,j,E)=>{var g=E(83407),_=E(36636),B=E(25443),H=E(27054).Buffer,b=E(86111),k=E(45392),S=E(76643),P=H.alloc(128),R={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function O(U,K,Q){var q=function A(U){return"rmd160"===U||"ripemd160"===U?function Q(q){return(new _).update(q).digest()}:"md5"===U?g:function K(q){return B(U).update(q).digest()}}(U),Y="sha512"===U||"sha384"===U?128:64;K.length>Y?K=q(K):K.length<Y&&(K=H.concat([K,P],Y));for(var W=H.allocUnsafe(Y+R[U]),re=H.allocUnsafe(Y+R[U]),ie=0;ie<Y;ie++)W[ie]=54^K[ie],re[ie]=92^K[ie];var ae=H.allocUnsafe(Y+Q+4);W.copy(ae,0,0,Y),this.ipad1=ae,this.ipad2=W,this.opad=re,this.alg=U,this.blocksize=Y,this.hash=q,this.size=R[U]}O.prototype.run=function(U,K){return U.copy(K,this.blocksize),this.hash(K).copy(this.opad,this.blocksize),this.hash(this.opad)},$e.exports=function V(U,K,Q,q,Y){b(Q,q);var W=new O(Y=Y||"sha1",U=S(U,k,"Password"),(K=S(K,k,"Salt")).length),re=H.allocUnsafe(q),ie=H.allocUnsafe(K.length+4);K.copy(ie,0,0,K.length);for(var ae=0,ue=R[Y],ce=Math.ceil(q/ue),pe=1;pe<=ce;pe++){ie.writeUInt32BE(pe,K.length);for(var ve=W.run(ie,W.ipad1),De=ve,C=1;C<Q;C++){De=W.run(De,W.ipad2);for(var s=0;s<ue;s++)ve[s]^=De[s]}ve.copy(re,ae),ae+=ue}return re}},76643:($e,j,E)=>{var g=E(27054).Buffer;$e.exports=function(_,B,H){if(g.isBuffer(_))return _;if("string"==typeof _)return g.from(_,B);if(ArrayBuffer.isView(_))return g.from(_.buffer);throw new TypeError(H+" must be a string, a Buffer, a typed array or a DataView")}},9656:($e,j,E)=>{"use strict";var g=E(40573);$e.exports=typeof g>"u"||!g.version||0===g.version.indexOf("v0.")||0===g.version.indexOf("v1.")&&0!==g.version.indexOf("v1.8.")?{nextTick:function _(B,H,b,k){if("function"!=typeof B)throw new TypeError('"callback" argument must be a function');var P,R,S=arguments.length;switch(S){case 0:case 1:return g.nextTick(B);case 2:return g.nextTick(function(){B.call(null,H)});case 3:return g.nextTick(function(){B.call(null,H,b)});case 4:return g.nextTick(function(){B.call(null,H,b,k)});default:for(P=new Array(S-1),R=0;R<P.length;)P[R++]=arguments[R];return g.nextTick(function(){B.apply(null,P)})}}}:g},40573:$e=>{var E,g,j=$e.exports={};function _(){throw new Error("setTimeout has not been defined")}function B(){throw new Error("clearTimeout has not been defined")}function H(K){if(E===setTimeout)return setTimeout(K,0);if((E===_||!E)&&setTimeout)return E=setTimeout,setTimeout(K,0);try{return E(K,0)}catch{try{return E.call(null,K,0)}catch{return E.call(this,K,0)}}}!function(){try{E="function"==typeof setTimeout?setTimeout:_}catch{E=_}try{g="function"==typeof clearTimeout?clearTimeout:B}catch{g=B}}();var P,k=[],S=!1,R=-1;function O(){!S||!P||(S=!1,P.length?k=P.concat(k):R=-1,k.length&&A())}function A(){if(!S){var K=H(O);S=!0;for(var Q=k.length;Q;){for(P=k,k=[];++R<Q;)P&&P[R].run();R=-1,Q=k.length}P=null,S=!1,function b(K){if(g===clearTimeout)return clearTimeout(K);if((g===B||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(K);try{return g(K)}catch{try{return g.call(null,K)}catch{return g.call(this,K)}}}(K)}}function V(K,Q){this.fun=K,this.array=Q}function U(){}j.nextTick=function(K){var Q=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)Q[q-1]=arguments[q];k.push(new V(K,Q)),1===k.length&&!S&&H(A)},V.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=U,j.addListener=U,j.once=U,j.off=U,j.removeListener=U,j.removeAllListeners=U,j.emit=U,j.prependListener=U,j.prependOnceListener=U,j.listeners=function(K){return[]},j.binding=function(K){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(K){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},52965:($e,j,E)=>{j.publicEncrypt=E(87267),j.privateDecrypt=E(98613),j.privateEncrypt=function(_,B){return j.publicEncrypt(_,B,!0)},j.publicDecrypt=function(_,B){return j.privateDecrypt(_,B,!0)}},30715:($e,j,E)=>{var g=E(67211),_=E(27054).Buffer;function B(H){var b=_.allocUnsafe(4);return b.writeUInt32BE(H,0),b}$e.exports=function(H,b){for(var P,k=_.alloc(0),S=0;k.length<b;)P=B(S++),k=_.concat([k,g("sha1").update(H).update(P).digest()]);return k.slice(0,b)}},16508:function($e,j,E){!function(g,_){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:_.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(51069).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,w=Math.min(C.length,d),I=s;I<w;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var w,I,L=0;if("be"===h)for(f=s.length-1,w=0;f>=0;f-=3)this.words[w]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);else if("le"===h)for(f=0,w=0;f<s.length;f+=3)this.words[w]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[w+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,w++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,w=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<w,this.words[I]|=67108863&L,w>=18?(w-=18,this.words[I+=1]|=L>>>26):w+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,w=1;w<=67108863;w*=d)f++;f--,w=w/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(w),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],w=0|s.words[0],I=f*w,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(w=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,w=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|w)).toString(16);h=0!=(w=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==w&&(h=w.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),w=h||Math.max(1,f);B(f<=w,"byte array longer than desired length"),B(w>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(w),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<w;a++)L[a]=0}else{for(a=0;a<w-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[w-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var w=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+w),w=d>>>26;for(;0!==w&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+w),w=d>>>26;if(this.length=h.length,0!==w)this.words[this.length]=w,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,w,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,w=s):(f=s,w=this);for(var I=0,L=0;L<w.length;L++)I=(d=(0|f.words[L])-(0|w.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,w=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ge=0|f[2],ge=8191&Ge,me=Ge>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,xt=0|f[7],Ne=8191&xt,ke=xt>>>13,pt=0|f[8],F=8191&pt,D=pt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|w[0],Ae=8191&Se,rt=Se>>>13,Ht=0|w[1],vt=8191&Ht,Ot=Ht>>>13,qt=0|w[2],mn=8191&qt,ln=qt>>>13,rr=0|w[3],Tn=8191&rr,rn=rr>>>13,Xt=0|w[4],dt=8191&Xt,it=Xt>>>13,Wt=0|w[5],Gt=8191&Wt,nn=Wt>>>13,Xn=0|w[6],ot=8191&Xn,ft=Xn>>>13,ut=0|w[7],Ke=8191&ut,We=ut>>>13,Bt=0|w[8],At=8191&Bt,fn=Bt>>>13,Un=0|w[9],wn=8191&Un,vn=Un>>>13;h.negative=s.negative^d.negative,h.length=19;var pr=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,rt))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,rt))+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,rt))+Math.imul(Me,Ae)|0,v=Math.imul(Me,rt);var nr=(L+(x=x+Math.imul(z,vt)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ot)|0)+Math.imul(ee,vt)|0))<<13)|0;L=((v=v+Math.imul(ee,Ot)|0)+(a>>>13)|0)+(nr>>>26)|0,nr&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,rt))+Math.imul(me,Ae)|0,v=Math.imul(me,rt),x=x+Math.imul(we,vt)|0,a=(a=a+Math.imul(we,Ot)|0)+Math.imul(Me,vt)|0,v=v+Math.imul(Me,Ot)|0;var Bn=(L+(x=x+Math.imul(z,mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,mn)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,rt))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,rt),x=x+Math.imul(ge,vt)|0,a=(a=a+Math.imul(ge,Ot)|0)+Math.imul(me,vt)|0,v=v+Math.imul(me,Ot)|0,x=x+Math.imul(we,mn)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,mn)|0,v=v+Math.imul(Me,ln)|0;var Fn=(L+(x=x+Math.imul(z,Tn)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Tn)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,rt))+Math.imul(ne,Ae)|0,v=Math.imul(ne,rt),x=x+Math.imul(xe,vt)|0,a=(a=a+Math.imul(xe,Ot)|0)+Math.imul(Ce,vt)|0,v=v+Math.imul(Ce,Ot)|0,x=x+Math.imul(ge,mn)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,mn)|0,v=v+Math.imul(me,ln)|0,x=x+Math.imul(we,Tn)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Tn)|0,v=v+Math.imul(Me,rn)|0;var qe=(L+(x=x+Math.imul(z,dt)|0)|0)+((8191&(a=(a=a+Math.imul(z,it)|0)+Math.imul(ee,dt)|0))<<13)|0;L=((v=v+Math.imul(ee,it)|0)+(a>>>13)|0)+(qe>>>26)|0,qe&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,rt))+Math.imul(_e,Ae)|0,v=Math.imul(_e,rt),x=x+Math.imul(he,vt)|0,a=(a=a+Math.imul(he,Ot)|0)+Math.imul(ne,vt)|0,v=v+Math.imul(ne,Ot)|0,x=x+Math.imul(xe,mn)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,mn)|0,v=v+Math.imul(Ce,ln)|0,x=x+Math.imul(ge,Tn)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Tn)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,dt)|0,a=(a=a+Math.imul(we,it)|0)+Math.imul(Me,dt)|0,v=v+Math.imul(Me,it)|0;var Oe=(L+(x=x+Math.imul(z,Gt)|0)|0)+((8191&(a=(a=a+Math.imul(z,nn)|0)+Math.imul(ee,Gt)|0))<<13)|0;L=((v=v+Math.imul(ee,nn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,rt))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,rt),x=x+Math.imul(de,vt)|0,a=(a=a+Math.imul(de,Ot)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,Ot)|0,x=x+Math.imul(he,mn)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,mn)|0,v=v+Math.imul(ne,ln)|0,x=x+Math.imul(xe,Tn)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Tn)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,dt)|0,a=(a=a+Math.imul(ge,it)|0)+Math.imul(me,dt)|0,v=v+Math.imul(me,it)|0,x=x+Math.imul(we,Gt)|0,a=(a=a+Math.imul(we,nn)|0)+Math.imul(Me,Gt)|0,v=v+Math.imul(Me,nn)|0;var Je=(L+(x=x+Math.imul(z,ot)|0)|0)+((8191&(a=(a=a+Math.imul(z,ft)|0)+Math.imul(ee,ot)|0))<<13)|0;L=((v=v+Math.imul(ee,ft)|0)+(a>>>13)|0)+(Je>>>26)|0,Je&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,rt))+Math.imul(ke,Ae)|0,v=Math.imul(ke,rt),x=x+Math.imul(He,vt)|0,a=(a=a+Math.imul(He,Ot)|0)+Math.imul(Ve,vt)|0,v=v+Math.imul(Ve,Ot)|0,x=x+Math.imul(de,mn)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,mn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(he,Tn)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Tn)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,dt)|0,a=(a=a+Math.imul(xe,it)|0)+Math.imul(Ce,dt)|0,v=v+Math.imul(Ce,it)|0,x=x+Math.imul(ge,Gt)|0,a=(a=a+Math.imul(ge,nn)|0)+Math.imul(me,Gt)|0,v=v+Math.imul(me,nn)|0,x=x+Math.imul(we,ot)|0,a=(a=a+Math.imul(we,ft)|0)+Math.imul(Me,ot)|0,v=v+Math.imul(Me,ft)|0;var Kt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,We)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,We)|0)+(a>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,rt))+Math.imul(D,Ae)|0,v=Math.imul(D,rt),x=x+Math.imul(Ne,vt)|0,a=(a=a+Math.imul(Ne,Ot)|0)+Math.imul(ke,vt)|0,v=v+Math.imul(ke,Ot)|0,x=x+Math.imul(He,mn)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,mn)|0,v=v+Math.imul(Ve,ln)|0,x=x+Math.imul(de,Tn)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Tn)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,dt)|0,a=(a=a+Math.imul(he,it)|0)+Math.imul(ne,dt)|0,v=v+Math.imul(ne,it)|0,x=x+Math.imul(xe,Gt)|0,a=(a=a+Math.imul(xe,nn)|0)+Math.imul(Ce,Gt)|0,v=v+Math.imul(Ce,nn)|0,x=x+Math.imul(ge,ot)|0,a=(a=a+Math.imul(ge,ft)|0)+Math.imul(me,ot)|0,v=v+Math.imul(me,ft)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,We)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,We)|0;var pn=(L+(x=x+Math.imul(z,At)|0)|0)+((8191&(a=(a=a+Math.imul(z,fn)|0)+Math.imul(ee,At)|0))<<13)|0;L=((v=v+Math.imul(ee,fn)|0)+(a>>>13)|0)+(pn>>>26)|0,pn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,rt))+Math.imul(fe,Ae)|0,v=Math.imul(fe,rt),x=x+Math.imul(F,vt)|0,a=(a=a+Math.imul(F,Ot)|0)+Math.imul(D,vt)|0,v=v+Math.imul(D,Ot)|0,x=x+Math.imul(Ne,mn)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,mn)|0,v=v+Math.imul(ke,ln)|0,x=x+Math.imul(He,Tn)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Tn)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,dt)|0,a=(a=a+Math.imul(de,it)|0)+Math.imul(_e,dt)|0,v=v+Math.imul(_e,it)|0,x=x+Math.imul(he,Gt)|0,a=(a=a+Math.imul(he,nn)|0)+Math.imul(ne,Gt)|0,v=v+Math.imul(ne,nn)|0,x=x+Math.imul(xe,ot)|0,a=(a=a+Math.imul(xe,ft)|0)+Math.imul(Ce,ot)|0,v=v+Math.imul(Ce,ft)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,We)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,We)|0,x=x+Math.imul(we,At)|0,a=(a=a+Math.imul(we,fn)|0)+Math.imul(Me,At)|0,v=v+Math.imul(Me,fn)|0;var jn=(L+(x=x+Math.imul(z,wn)|0)|0)+((8191&(a=(a=a+Math.imul(z,vn)|0)+Math.imul(ee,wn)|0))<<13)|0;L=((v=v+Math.imul(ee,vn)|0)+(a>>>13)|0)+(jn>>>26)|0,jn&=67108863,x=Math.imul(G,vt),a=(a=Math.imul(G,Ot))+Math.imul(fe,vt)|0,v=Math.imul(fe,Ot),x=x+Math.imul(F,mn)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,mn)|0,v=v+Math.imul(D,ln)|0,x=x+Math.imul(Ne,Tn)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Tn)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,dt)|0,a=(a=a+Math.imul(He,it)|0)+Math.imul(Ve,dt)|0,v=v+Math.imul(Ve,it)|0,x=x+Math.imul(de,Gt)|0,a=(a=a+Math.imul(de,nn)|0)+Math.imul(_e,Gt)|0,v=v+Math.imul(_e,nn)|0,x=x+Math.imul(he,ot)|0,a=(a=a+Math.imul(he,ft)|0)+Math.imul(ne,ot)|0,v=v+Math.imul(ne,ft)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,We)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,We)|0,x=x+Math.imul(ge,At)|0,a=(a=a+Math.imul(ge,fn)|0)+Math.imul(me,At)|0,v=v+Math.imul(me,fn)|0;var zn=(L+(x=x+Math.imul(we,wn)|0)|0)+((8191&(a=(a=a+Math.imul(we,vn)|0)+Math.imul(Me,wn)|0))<<13)|0;L=((v=v+Math.imul(Me,vn)|0)+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(G,mn),a=(a=Math.imul(G,ln))+Math.imul(fe,mn)|0,v=Math.imul(fe,ln),x=x+Math.imul(F,Tn)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Tn)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,dt)|0,a=(a=a+Math.imul(Ne,it)|0)+Math.imul(ke,dt)|0,v=v+Math.imul(ke,it)|0,x=x+Math.imul(He,Gt)|0,a=(a=a+Math.imul(He,nn)|0)+Math.imul(Ve,Gt)|0,v=v+Math.imul(Ve,nn)|0,x=x+Math.imul(de,ot)|0,a=(a=a+Math.imul(de,ft)|0)+Math.imul(_e,ot)|0,v=v+Math.imul(_e,ft)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,We)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,We)|0,x=x+Math.imul(xe,At)|0,a=(a=a+Math.imul(xe,fn)|0)+Math.imul(Ce,At)|0,v=v+Math.imul(Ce,fn)|0;var or=(L+(x=x+Math.imul(ge,wn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,vn)|0)+Math.imul(me,wn)|0))<<13)|0;L=((v=v+Math.imul(me,vn)|0)+(a>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(G,Tn),a=(a=Math.imul(G,rn))+Math.imul(fe,Tn)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,dt)|0,a=(a=a+Math.imul(F,it)|0)+Math.imul(D,dt)|0,v=v+Math.imul(D,it)|0,x=x+Math.imul(Ne,Gt)|0,a=(a=a+Math.imul(Ne,nn)|0)+Math.imul(ke,Gt)|0,v=v+Math.imul(ke,nn)|0,x=x+Math.imul(He,ot)|0,a=(a=a+Math.imul(He,ft)|0)+Math.imul(Ve,ot)|0,v=v+Math.imul(Ve,ft)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,We)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,We)|0,x=x+Math.imul(he,At)|0,a=(a=a+Math.imul(he,fn)|0)+Math.imul(ne,At)|0,v=v+Math.imul(ne,fn)|0;var yr=(L+(x=x+Math.imul(xe,wn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,vn)|0)+Math.imul(Ce,wn)|0))<<13)|0;L=((v=v+Math.imul(Ce,vn)|0)+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,x=Math.imul(G,dt),a=(a=Math.imul(G,it))+Math.imul(fe,dt)|0,v=Math.imul(fe,it),x=x+Math.imul(F,Gt)|0,a=(a=a+Math.imul(F,nn)|0)+Math.imul(D,Gt)|0,v=v+Math.imul(D,nn)|0,x=x+Math.imul(Ne,ot)|0,a=(a=a+Math.imul(Ne,ft)|0)+Math.imul(ke,ot)|0,v=v+Math.imul(ke,ft)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,We)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,We)|0,x=x+Math.imul(de,At)|0,a=(a=a+Math.imul(de,fn)|0)+Math.imul(_e,At)|0,v=v+Math.imul(_e,fn)|0;var Rr=(L+(x=x+Math.imul(he,wn)|0)|0)+((8191&(a=(a=a+Math.imul(he,vn)|0)+Math.imul(ne,wn)|0))<<13)|0;L=((v=v+Math.imul(ne,vn)|0)+(a>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,x=Math.imul(G,Gt),a=(a=Math.imul(G,nn))+Math.imul(fe,Gt)|0,v=Math.imul(fe,nn),x=x+Math.imul(F,ot)|0,a=(a=a+Math.imul(F,ft)|0)+Math.imul(D,ot)|0,v=v+Math.imul(D,ft)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,We)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,We)|0,x=x+Math.imul(He,At)|0,a=(a=a+Math.imul(He,fn)|0)+Math.imul(Ve,At)|0,v=v+Math.imul(Ve,fn)|0;var Ir=(L+(x=x+Math.imul(de,wn)|0)|0)+((8191&(a=(a=a+Math.imul(de,vn)|0)+Math.imul(_e,wn)|0))<<13)|0;L=((v=v+Math.imul(_e,vn)|0)+(a>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,x=Math.imul(G,ot),a=(a=Math.imul(G,ft))+Math.imul(fe,ot)|0,v=Math.imul(fe,ft),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,We)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,We)|0,x=x+Math.imul(Ne,At)|0,a=(a=a+Math.imul(Ne,fn)|0)+Math.imul(ke,At)|0,v=v+Math.imul(ke,fn)|0;var Lr=(L+(x=x+Math.imul(He,wn)|0)|0)+((8191&(a=(a=a+Math.imul(He,vn)|0)+Math.imul(Ve,wn)|0))<<13)|0;L=((v=v+Math.imul(Ve,vn)|0)+(a>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,We))+Math.imul(fe,Ke)|0,v=Math.imul(fe,We),x=x+Math.imul(F,At)|0,a=(a=a+Math.imul(F,fn)|0)+Math.imul(D,At)|0,v=v+Math.imul(D,fn)|0;var fr=(L+(x=x+Math.imul(Ne,wn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,vn)|0)+Math.imul(ke,wn)|0))<<13)|0;L=((v=v+Math.imul(ke,vn)|0)+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,x=Math.imul(G,At),a=(a=Math.imul(G,fn))+Math.imul(fe,At)|0,v=Math.imul(fe,fn);var en=(L+(x=x+Math.imul(F,wn)|0)|0)+((8191&(a=(a=a+Math.imul(F,vn)|0)+Math.imul(D,wn)|0))<<13)|0;L=((v=v+Math.imul(D,vn)|0)+(a>>>13)|0)+(en>>>26)|0,en&=67108863;var bn=(L+(x=Math.imul(G,wn))|0)+((8191&(a=(a=Math.imul(G,vn))+Math.imul(fe,wn)|0))<<13)|0;return L=((v=Math.imul(fe,vn))+(a>>>13)|0)+(bn>>>26)|0,bn&=67108863,I[0]=pr,I[1]=nr,I[2]=Bn,I[3]=Fn,I[4]=qe,I[5]=Oe,I[6]=Je,I[7]=Kt,I[8]=pn,I[9]=jn,I[10]=zn,I[11]=or,I[12]=yr,I[13]=Rr,I[14]=Ir,I[15]=Lr,I[16]=fr,I[17]=en,I[18]=bn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,w=0;w<d.length-1;w++){var I=f;f=0;for(var L=67108863&h,x=Math.min(w,s.length-1),a=Math.max(0,w-C.length+1);a<=x;a++){var ee=(0|C.words[w-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[w]=L,h=I,I=f}return 0!==h?d.words[w]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,w=0;w<d;w++)f|=(1&s)<<d-w-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,w,I){for(var L=0;L<I;L++)f[L]=d[s[L]],w[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,w,I){this.permute(I,s,d,h,f,w);for(var L=1;L<w;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<w;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ge=h[Z+le+L],ge=f[Z+le+L],me=z*Ge-ee*ge;ge=z*ge+ee*Ge,h[Z+le]=we+(Ge=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ge,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,w=0;for(h=h/2|0;h;h>>>=1)w++;return 1<<w+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var w=s[f];s[f]=s[h-f-1],s[h-f-1]=w,w=d[f],d[f]=-d[h-f-1],d[h-f-1]=-w}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var w=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&w,h=w<67108864?0:w/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var w=0,I=0;I<d;I++)h[2*I]=8191&(w+=0|s[I]),h[2*I+1]=8191&(w>>>=13),w>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===w),B(!(-8192&w))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),w=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,w),this.transform(v,I,Z,z,f,w);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,w),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,w=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=w>>>26,this.words[h]=67108863&w}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var w=h.sqr();f<d.length;f++,w=w.sqr())0!==d[f]&&(h=h.mul(w));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var w,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(w=0;w<this.length;w++){var L=this.words[w]&f;this.words[w]=(0|this.words[w])-L<<d|I,I=L>>>26-d}I&&(this.words[w]=I,this.length++)}if(0!==h){for(w=this.length-1;w>=0;w--)this.words[w+h]=this.words[w];for(w=0;w<h;w++)this.words[w]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var w=s%26,I=Math.min((s-w)/26,this.length),L=67108863^67108863>>>w<<w,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-w|Z>>>w,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var w;this._expand(s.length+h);var I,L=0;for(w=0;w<s.length;w++){I=(0|this.words[w+h])+L;var x=(0|s.words[w])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[w+h]=67108863&I}for(;w<this.length-h;w++)L=(I=(0|this.words[w+h])+L)>>26,this.words[w+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,w=0;w<this.length;w++)L=(I=-(0|this.words[w])+L)>>26,this.words[w]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),w=s,I=0|w.words[w.length-1];0!=(h=26-this._countBits(I))&&(w=w.ushln(h),f.iushln(h),I=0|w.words[w.length-1]);var a,x=f.length-w.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(w,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[w.length+z])+(0|f.words[w.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(w,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(w,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.iadd(s)),{div:f,mod:w}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(w=I.mod.neg(),h&&0!==w.negative&&w.isub(s)),{div:I.div,mod:w}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,w,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),w=s.andln(1),I=h.cmp(f);return I<0||1===w&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||w.isOdd())&&(f.iadd(a),w.isub(v)),f.iushrn(1),w.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),w.isub(L)):(h.isub(d),I.isub(f),L.isub(w))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),w=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)w.isOdd()&&w.iadd(I),w.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(w)):(h.isub(d),w.isub(f))}return(Z=0===d.cmpn(1)?f:w).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var w=d.cmp(h);if(w<0){var I=d;d=h,h=I}else if(0===w||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var w=f,I=h;0!==w&&I<this.length;I++){var L=0|this.words[I];w=(L+=w)>>>26,this.words[I]=L&=67108863}return 0!==w&&(this.words[I]=w,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],w=0|s.words[h];if(f!==w){f<w?d=-1:f>w&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),w=0;w<f;w++)d.words[w]=s.words[w];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,w=10;w<s.length;w++){var L=0|s.words[w];s.words[w-10]=(L&h)<<4|I>>>22,I=L}s.words[w-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,w=67108863&f;f>>>=26,s.words[h]=w,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),w=0;!f.isZero()&&0===f.andln(1);)w++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=w;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var w=2;w<f.length;w++)f[w]=this.mul(f[w-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),w=d.length-1;w>=0;w--){for(var v=d.words[w],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===w&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=h.isub(f).iushrn(this.shift),I=w;return w.cmp(this.m)>=0?I=w.isub(this.m):w.cmpn(0)<0&&(I=w.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},98613:($e,j,E)=>{var g=E(65667),_=E(30715),B=E(37196),H=E(16508),b=E(14105),k=E(67211),S=E(10568),P=E(27054).Buffer;$e.exports=function(U,K,Q){var q;q=U.padding?U.padding:Q?1:4;var re,Y=g(U),W=Y.modulus.byteLength();if(K.length>W||new H(K).cmp(Y.modulus)>=0)throw new Error("decryption error");re=Q?S(new H(K),Y):b(K,Y);var ie=P.alloc(W-re.length);if(re=P.concat([ie,re],W),4===q)return function R(V,U){var K=V.modulus.byteLength(),Q=k("sha1").update(P.alloc(0)).digest(),q=Q.length;if(0!==U[0])throw new Error("decryption error");var Y=U.slice(1,q+1),W=U.slice(q+1),re=B(Y,_(W,q)),ie=B(W,_(re,K-q-1));if(function A(V,U){V=P.from(V),U=P.from(U);var K=0,Q=V.length;V.length!==U.length&&(K++,Q=Math.min(V.length,U.length));for(var q=-1;++q<Q;)K+=V[q]^U[q];return K}(Q,ie.slice(0,q)))throw new Error("decryption error");for(var ae=q;0===ie[ae];)ae++;if(1!==ie[ae++])throw new Error("decryption error");return ie.slice(ae)}(Y,re);if(1===q)return function O(V,U,K){for(var Q=U.slice(0,2),q=2,Y=0;0!==U[q++];)if(q>=U.length){Y++;break}var W=U.slice(2,q-1);if(("0002"!==Q.toString("hex")&&!K||"0001"!==Q.toString("hex")&&K)&&Y++,W.length<8&&Y++,Y)throw new Error("decryption error");return U.slice(q)}(0,re,Q);if(3===q)return re;throw new Error("unknown padding")}},87267:($e,j,E)=>{var g=E(65667),_=E(3342),B=E(67211),H=E(30715),b=E(37196),k=E(16508),S=E(10568),P=E(14105),R=E(27054).Buffer;$e.exports=function(K,Q,q){var Y;Y=K.padding?K.padding:q?1:4;var re,W=g(K);if(4===Y)re=function O(U,K){var Q=U.modulus.byteLength(),q=K.length,Y=B("sha1").update(R.alloc(0)).digest(),W=Y.length,re=2*W;if(q>Q-re-2)throw new Error("message too long");var ie=R.alloc(Q-q-re-2),ae=Q-W-1,ue=_(W),ce=b(R.concat([Y,ie,R.alloc(1,1),K],ae),H(ue,ae)),pe=b(ue,H(ce,W));return new k(R.concat([R.alloc(1),pe,ce],Q))}(W,Q);else if(1===Y)re=function A(U,K,Q){var W,q=K.length,Y=U.modulus.byteLength();if(q>Y-11)throw new Error("message too long");return W=Q?R.alloc(Y-q-3,255):function V(U){for(var W,K=R.allocUnsafe(U),Q=0,q=_(2*U),Y=0;Q<U;)Y===q.length&&(q=_(2*U),Y=0),(W=q[Y++])&&(K[Q++]=W);return K}(Y-q-3),new k(R.concat([R.from([0,Q?1:2]),W,R.alloc(1),K],Y))}(W,Q,q);else{if(3!==Y)throw new Error("unknown padding");if((re=new k(Q)).cmp(W.modulus)>=0)throw new Error("data too long for modulus")}return q?P(re,W):S(re,W)}},10568:($e,j,E)=>{var g=E(16508),_=E(27054).Buffer;$e.exports=function B(H,b){return _.from(H.toRed(g.mont(b.modulus)).redPow(new g(b.publicExponent)).fromRed().toArray())}},37196:$e=>{$e.exports=function(E,g){for(var _=E.length,B=-1;++B<_;)E[B]^=g[B];return E}},24515:$e=>{let j;$e.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):E=>(j||(j=Promise.resolve())).then(E).catch(g=>setTimeout(()=>{throw g},0))},3342:($e,j,E)=>{"use strict";var g=E(40573),_=65536,b=E(27054).Buffer,k=globalThis.crypto||globalThis.msCrypto;$e.exports=k&&k.getRandomValues?function S(P,R){if(P>4294967295)throw new RangeError("requested too many random bytes");var O=b.allocUnsafe(P);if(P>0)if(P>_)for(var A=0;A<P;A+=_)k.getRandomValues(O.slice(A,A+_));else k.getRandomValues(O);return"function"==typeof R?g.nextTick(function(){R(null,O)}):O}:function H(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:($e,j,E)=>{"use strict";var g=E(40573);function _(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var B=E(27054),H=E(3342),b=B.Buffer,k=B.kMaxLength,S=globalThis.crypto||globalThis.msCrypto,P=Math.pow(2,32)-1;function R(K,Q){if("number"!=typeof K||K!=K)throw new TypeError("offset must be a number");if(K>P||K<0)throw new TypeError("offset must be a uint32");if(K>k||K>Q)throw new RangeError("offset out of range")}function O(K,Q,q){if("number"!=typeof K||K!=K)throw new TypeError("size must be a number");if(K>P||K<0)throw new TypeError("size must be a uint32");if(K+Q>q||K>k)throw new RangeError("buffer too small")}function V(K,Q,q,Y){if(g.browser){var re=new Uint8Array(K.buffer,Q,q);return S.getRandomValues(re),Y?void g.nextTick(function(){Y(null,K)}):K}if(!Y)return H(q).copy(K,Q),K;H(q,function(ae,ue){if(ae)return Y(ae);ue.copy(K,Q),Y(null,K)})}S&&S.getRandomValues||!g.browser?(j.randomFill=function A(K,Q,q,Y){if(!(b.isBuffer(K)||K instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof Q)Y=Q,Q=0,q=K.length;else if("function"==typeof q)Y=q,q=K.length-Q;else if("function"!=typeof Y)throw new TypeError('"cb" argument must be a function');return R(Q,K.length),O(q,Q,K.length),V(K,Q,q,Y)},j.randomFillSync=function U(K,Q,q){if(typeof Q>"u"&&(Q=0),!(b.isBuffer(K)||K instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return R(Q,K.length),void 0===q&&(q=K.length-Q),O(q,Q,K.length),V(K,Q,q)}):(j.randomFill=_,j.randomFillSync=_)},26113:$e=>{"use strict";var E={};function g(k,S,P){P||(P=Error);var O=function(A){function V(U,K,Q){return A.call(this,function R(A,V,U){return"string"==typeof S?S:S(A,V,U)}(U,K,Q))||this}return function j(k,S){k.prototype=Object.create(S.prototype),k.prototype.constructor=k,k.__proto__=S}(V,A),V}(P);O.prototype.name=P.name,O.prototype.code=k,E[k]=O}function _(k,S){if(Array.isArray(k)){var P=k.length;return k=k.map(function(R){return String(R)}),P>2?"one of ".concat(S," ").concat(k.slice(0,P-1).join(", "),", or ")+k[P-1]:2===P?"one of ".concat(S," ").concat(k[0]," or ").concat(k[1]):"of ".concat(S," ").concat(k[0])}return"of ".concat(S," ").concat(String(k))}g("ERR_INVALID_OPT_VALUE",function(k,S){return'The value "'+S+'" is invalid for option "'+k+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(k,S,P){var R,O;if("string"==typeof S&&function B(k,S,P){return k.substr(!P||P<0?0:+P,S.length)===S}(S,"not ")?(R="must not be",S=S.replace(/^not /,"")):R="must be",function H(k,S,P){return(void 0===P||P>k.length)&&(P=k.length),k.substring(P-S.length,P)===S}(k," argument"))O="The ".concat(k," ").concat(R," ").concat(_(S,"type"));else{var A=function b(k,S,P){return"number"!=typeof P&&(P=0),!(P+S.length>k.length)&&-1!==k.indexOf(S,P)}(k,".")?"property":"argument";O='The "'.concat(k,'" ').concat(A," ").concat(R," ").concat(_(S,"type"))}return O+". Received type ".concat(typeof P)},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(k){return"The "+k+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(k){return"Cannot call "+k+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(k){return"Unknown encoding: "+k},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),$e.exports.F=E},74075:($e,j,E)=>{"use strict";var g=E(40573),_=Object.keys||function(A){var V=[];for(var U in A)V.push(U);return V};$e.exports=P;var B=E(19609),H=E(47849);E(71993)(P,B);for(var b=_(H.prototype),k=0;k<b.length;k++){var S=b[k];P.prototype[S]||(P.prototype[S]=H.prototype[S])}function P(A){if(!(this instanceof P))return new P(A);B.call(this,A),H.call(this,A),this.allowHalfOpen=!0,A&&(!1===A.readable&&(this.readable=!1),!1===A.writable&&(this.writable=!1),!1===A.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",R)))}function R(){this._writableState.ended||g.nextTick(O,this)}function O(A){A.end()}Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(V){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=V,this._writableState.destroyed=V)}})},18823:($e,j,E)=>{"use strict";$e.exports=_;var g=E(2909);function _(B){if(!(this instanceof _))return new _(B);g.call(this,B)}E(71993)(_,g),_.prototype._transform=function(B,H,b){b(null,B)}},19609:($e,j,E)=>{"use strict";var _,g=E(40573);$e.exports=s,s.ReadableState=C,E(44356);var A,H=function(he,ne){return he.listeners(ne).length},b=E(18342),k=E(83838).Buffer,S=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},O=E(79838);A=O&&O.debuglog?O.debuglog("stream"):function(){};var ae,ue,ce,V=E(19588),U=E(21509),Q=E(42934).getHighWaterMark,q=E(26113).F,Y=q.ERR_INVALID_ARG_TYPE,W=q.ERR_STREAM_PUSH_AFTER_EOF,re=q.ERR_METHOD_NOT_IMPLEMENTED,ie=q.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;E(71993)(s,b);var pe=U.errorOrDestroy,ve=["error","close","destroy","pause","resume"];function C(be,he,ne){_=_||E(74075),"boolean"!=typeof ne&&(ne=he instanceof _),this.objectMode=!!(be=be||{}).objectMode,ne&&(this.objectMode=this.objectMode||!!be.readableObjectMode),this.highWaterMark=Q(this,be,"readableHighWaterMark",ne),this.buffer=new V,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==be.emitClose,this.autoDestroy=!!be.autoDestroy,this.destroyed=!1,this.defaultEncoding=be.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,be.encoding&&(ae||(ae=E(78454).StringDecoder),this.decoder=new ae(be.encoding),this.encoding=be.encoding)}function s(be){if(_=_||E(74075),!(this instanceof s))return new s(be);this._readableState=new C(be,this,this instanceof _),this.readable=!0,be&&("function"==typeof be.read&&(this._read=be.read),"function"==typeof be.destroy&&(this._destroy=be.destroy)),b.call(this)}function d(be,he,ne,te,de){A("readableAddChunk",he);var Ie,_e=be._readableState;if(null===he)_e.reading=!1,function x(be,he){if(A("onEofChunk"),!he.ended){if(he.decoder){var ne=he.decoder.end();ne&&ne.length&&(he.buffer.push(ne),he.length+=he.objectMode?1:ne.length)}he.ended=!0,he.sync?a(be):(he.needReadable=!1,he.emittedReadable||(he.emittedReadable=!0,v(be)))}}(be,_e);else if(de||(Ie=function f(be,he){var ne;return!function R(be){return k.isBuffer(be)||be instanceof S}(he)&&"string"!=typeof he&&void 0!==he&&!be.objectMode&&(ne=new Y("chunk",["string","Buffer","Uint8Array"],he)),ne}(_e,he)),Ie)pe(be,Ie);else if(_e.objectMode||he&&he.length>0)if("string"!=typeof he&&!_e.objectMode&&Object.getPrototypeOf(he)!==k.prototype&&(he=function P(be){return k.from(be)}(he)),te)_e.endEmitted?pe(be,new ie):h(be,_e,he,!0);else if(_e.ended)pe(be,new W);else{if(_e.destroyed)return!1;_e.reading=!1,_e.decoder&&!ne?(he=_e.decoder.write(he),_e.objectMode||0!==he.length?h(be,_e,he,!1):Z(be,_e)):h(be,_e,he,!1)}else te||(_e.reading=!1,Z(be,_e));return!_e.ended&&(_e.length<_e.highWaterMark||0===_e.length)}function h(be,he,ne,te){he.flowing&&0===he.length&&!he.sync?(he.awaitDrain=0,be.emit("data",ne)):(he.length+=he.objectMode?1:ne.length,te?he.buffer.unshift(ne):he.buffer.push(ne),he.needReadable&&a(be)),Z(be,he)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(he){this._readableState&&(this._readableState.destroyed=he)}}),s.prototype.destroy=U.destroy,s.prototype._undestroy=U.undestroy,s.prototype._destroy=function(be,he){he(be)},s.prototype.push=function(be,he){var te,ne=this._readableState;return ne.objectMode?te=!0:"string"==typeof be&&((he=he||ne.defaultEncoding)!==ne.encoding&&(be=k.from(be,he),he=""),te=!0),d(this,be,he,!1,te)},s.prototype.unshift=function(be){return d(this,be,null,!0,!1)},s.prototype.isPaused=function(){return!1===this._readableState.flowing},s.prototype.setEncoding=function(be){ae||(ae=E(78454).StringDecoder);var he=new ae(be);this._readableState.decoder=he,this._readableState.encoding=this._readableState.decoder.encoding;for(var ne=this._readableState.buffer.head,te="";null!==ne;)te+=he.write(ne.data),ne=ne.next;return this._readableState.buffer.clear(),""!==te&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};var w=1073741824;function L(be,he){return be<=0||0===he.length&&he.ended?0:he.objectMode?1:be!=be?he.flowing&&he.length?he.buffer.head.data.length:he.length:(be>he.highWaterMark&&(he.highWaterMark=function I(be){return be>=w?be=w:(be--,be|=be>>>1,be|=be>>>2,be|=be>>>4,be|=be>>>8,be|=be>>>16,be++),be}(be)),be<=he.length?be:he.ended?he.length:(he.needReadable=!0,0))}function a(be){var he=be._readableState;A("emitReadable",he.needReadable,he.emittedReadable),he.needReadable=!1,he.emittedReadable||(A("emitReadable",he.flowing),he.emittedReadable=!0,g.nextTick(v,be))}function v(be){var he=be._readableState;A("emitReadable_",he.destroyed,he.length,he.ended),!he.destroyed&&(he.length||he.ended)&&(be.emit("readable"),he.emittedReadable=!1),he.needReadable=!he.flowing&&!he.ended&&he.length<=he.highWaterMark,ge(be)}function Z(be,he){he.readingMore||(he.readingMore=!0,g.nextTick(z,be,he))}function z(be,he){for(;!he.reading&&!he.ended&&(he.length<he.highWaterMark||he.flowing&&0===he.length);){var ne=he.length;if(A("maybeReadMore read 0"),be.read(0),ne===he.length)break}he.readingMore=!1}function le(be){var he=be._readableState;he.readableListening=be.listenerCount("readable")>0,he.resumeScheduled&&!he.paused?he.flowing=!0:be.listenerCount("data")>0&&be.resume()}function we(be){A("readable nexttick read 0"),be.read(0)}function Ge(be,he){A("resume",he.reading),he.reading||be.read(0),he.resumeScheduled=!1,be.emit("resume"),ge(be),he.flowing&&!he.reading&&be.read(0)}function ge(be){var he=be._readableState;for(A("flow",he.flowing);he.flowing&&null!==be.read(););}function me(be,he){return 0===he.length?null:(he.objectMode?ne=he.buffer.shift():!be||be>=he.length?(ne=he.decoder?he.buffer.join(""):1===he.buffer.length?he.buffer.first():he.buffer.concat(he.length),he.buffer.clear()):ne=he.buffer.consume(be,he.decoder),ne);var ne}function Ue(be){var he=be._readableState;A("endReadable",he.endEmitted),he.endEmitted||(he.ended=!0,g.nextTick(xe,he,be))}function xe(be,he){if(A("endReadableNT",be.endEmitted,be.length),!be.endEmitted&&0===be.length&&(be.endEmitted=!0,he.readable=!1,he.emit("end"),be.autoDestroy)){var ne=he._writableState;(!ne||ne.autoDestroy&&ne.finished)&&he.destroy()}}function Ce(be,he){for(var ne=0,te=be.length;ne<te;ne++)if(be[ne]===he)return ne;return-1}s.prototype.read=function(be){A("read",be),be=parseInt(be,10);var he=this._readableState,ne=be;if(0!==be&&(he.emittedReadable=!1),0===be&&he.needReadable&&((0!==he.highWaterMark?he.length>=he.highWaterMark:he.length>0)||he.ended))return A("read: emitReadable",he.length,he.ended),0===he.length&&he.ended?Ue(this):a(this),null;if(0===(be=L(be,he))&&he.ended)return 0===he.length&&Ue(this),null;var de,te=he.needReadable;return A("need readable",te),(0===he.length||he.length-be<he.highWaterMark)&&A("length less than watermark",te=!0),he.ended||he.reading?A("reading or ended",te=!1):te&&(A("do read"),he.reading=!0,he.sync=!0,0===he.length&&(he.needReadable=!0),this._read(he.highWaterMark),he.sync=!1,he.reading||(be=L(ne,he))),null===(de=be>0?me(be,he):null)?(he.needReadable=he.length<=he.highWaterMark,be=0):(he.length-=be,he.awaitDrain=0),0===he.length&&(he.ended||(he.needReadable=!0),ne!==be&&he.ended&&Ue(this)),null!==de&&this.emit("data",de),de},s.prototype._read=function(be){pe(this,new re("_read()"))},s.prototype.pipe=function(be,he){var ne=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=be;break;case 1:te.pipes=[te.pipes,be];break;default:te.pipes.push(be)}te.pipesCount+=1,A("pipe count=%d opts=%j",te.pipesCount,he);var _e=he&&!1===he.end||be===g.stdout||be===g.stderr?M:He;function He(){A("onend"),be.end()}te.endEmitted?g.nextTick(_e):ne.once("end",_e),be.on("unpipe",function Ie(G,fe){A("onunpipe"),G===ne&&fe&&!1===fe.hasUnpiped&&(fe.hasUnpiped=!0,function Ne(){A("cleanup"),be.removeListener("close",F),be.removeListener("finish",D),be.removeListener("drain",Ve),be.removeListener("error",pt),be.removeListener("unpipe",Ie),ne.removeListener("end",He),ne.removeListener("end",M),ne.removeListener("data",ke),xt=!0,te.awaitDrain&&(!be._writableState||be._writableState.needDrain)&&Ve()}())});var Ve=function ee(be){return function(){var ne=be._readableState;A("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,0===ne.awaitDrain&&H(be,"data")&&(ne.flowing=!0,ge(be))}}(ne);be.on("drain",Ve);var xt=!1;function ke(G){A("ondata");var fe=be.write(G);A("dest.write",fe),!1===fe&&((1===te.pipesCount&&te.pipes===be||te.pipesCount>1&&-1!==Ce(te.pipes,be))&&!xt&&(A("false write response, pause",te.awaitDrain),te.awaitDrain++),ne.pause())}function pt(G){A("onerror",G),M(),be.removeListener("error",pt),0===H(be,"error")&&pe(be,G)}function F(){be.removeListener("finish",D),M()}function D(){A("onfinish"),be.removeListener("close",F),M()}function M(){A("unpipe"),ne.unpipe(be)}return ne.on("data",ke),function De(be,he,ne){if("function"==typeof be.prependListener)return be.prependListener(he,ne);be._events&&be._events[he]?Array.isArray(be._events[he])?be._events[he].unshift(ne):be._events[he]=[ne,be._events[he]]:be.on(he,ne)}(be,"error",pt),be.once("close",F),be.once("finish",D),be.emit("pipe",ne),te.flowing||(A("pipe resume"),ne.resume()),be},s.prototype.unpipe=function(be){var he=this._readableState,ne={hasUnpiped:!1};if(0===he.pipesCount)return this;if(1===he.pipesCount)return be&&be!==he.pipes||(be||(be=he.pipes),he.pipes=null,he.pipesCount=0,he.flowing=!1,be&&be.emit("unpipe",this,ne)),this;if(!be){var te=he.pipes,de=he.pipesCount;he.pipes=null,he.pipesCount=0,he.flowing=!1;for(var _e=0;_e<de;_e++)te[_e].emit("unpipe",this,{hasUnpiped:!1});return this}var Ie=Ce(he.pipes,be);return-1===Ie||(he.pipes.splice(Ie,1),he.pipesCount-=1,1===he.pipesCount&&(he.pipes=he.pipes[0]),be.emit("unpipe",this,ne)),this},s.prototype.addListener=s.prototype.on=function(be,he){var ne=b.prototype.on.call(this,be,he),te=this._readableState;return"data"===be?(te.readableListening=this.listenerCount("readable")>0,!1!==te.flowing&&this.resume()):"readable"===be&&!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,A("on readable",te.length,te.reading),te.length?a(this):te.reading||g.nextTick(we,this)),ne},s.prototype.removeListener=function(be,he){var ne=b.prototype.removeListener.call(this,be,he);return"readable"===be&&g.nextTick(le,this),ne},s.prototype.removeAllListeners=function(be){var he=b.prototype.removeAllListeners.apply(this,arguments);return("readable"===be||void 0===be)&&g.nextTick(le,this),he},s.prototype.resume=function(){var be=this._readableState;return be.flowing||(A("resume"),be.flowing=!be.readableListening,function Me(be,he){he.resumeScheduled||(he.resumeScheduled=!0,g.nextTick(Ge,be,he))}(this,be)),be.paused=!1,this},s.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},s.prototype.wrap=function(be){var he=this,ne=this._readableState,te=!1;for(var de in be.on("end",function(){if(A("wrapped end"),ne.decoder&&!ne.ended){var Ie=ne.decoder.end();Ie&&Ie.length&&he.push(Ie)}he.push(null)}),be.on("data",function(Ie){A("wrapped data"),ne.decoder&&(Ie=ne.decoder.write(Ie)),ne.objectMode&&null==Ie||!(ne.objectMode||Ie&&Ie.length)||he.push(Ie)||(te=!0,be.pause())}),be)void 0===this[de]&&"function"==typeof be[de]&&(this[de]=function(He){return function(){return be[He].apply(be,arguments)}}(de));for(var _e=0;_e<ve.length;_e++)be.on(ve[_e],this.emit.bind(this,ve[_e]));return this._read=function(Ie){A("wrapped _read",Ie),te&&(te=!1,be.resume())},this},"function"==typeof Symbol&&(s.prototype[Symbol.asyncIterator]=function(){return void 0===ue&&(ue=E(6320)),ue(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(he){this._readableState&&(this._readableState.flowing=he)}}),s._fromList=me,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(s.from=function(be,he){return void 0===ce&&(ce=E(87654)),ce(s,be,he)})},2909:($e,j,E)=>{"use strict";$e.exports=P;var g=E(26113).F,_=g.ERR_METHOD_NOT_IMPLEMENTED,B=g.ERR_MULTIPLE_CALLBACK,H=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=g.ERR_TRANSFORM_WITH_LENGTH_0,k=E(74075);function S(A,V){var U=this._transformState;U.transforming=!1;var K=U.writecb;if(null===K)return this.emit("error",new B);U.writechunk=null,U.writecb=null,null!=V&&this.push(V),K(A);var Q=this._readableState;Q.reading=!1,(Q.needReadable||Q.length<Q.highWaterMark)&&this._read(Q.highWaterMark)}function P(A){if(!(this instanceof P))return new P(A);k.call(this,A),this._transformState={afterTransform:S.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&("function"==typeof A.transform&&(this._transform=A.transform),"function"==typeof A.flush&&(this._flush=A.flush)),this.on("prefinish",R)}function R(){var A=this;"function"!=typeof this._flush||this._readableState.destroyed?O(this,null,null):this._flush(function(V,U){O(A,V,U)})}function O(A,V,U){if(V)return A.emit("error",V);if(null!=U&&A.push(U),A._writableState.length)throw new b;if(A._transformState.transforming)throw new H;return A.push(null)}E(71993)(P,k),P.prototype.push=function(A,V){return this._transformState.needTransform=!1,k.prototype.push.call(this,A,V)},P.prototype._transform=function(A,V,U){U(new _("_transform()"))},P.prototype._write=function(A,V,U){var K=this._transformState;if(K.writecb=U,K.writechunk=A,K.writeencoding=V,!K.transforming){var Q=this._readableState;(K.needTransform||Q.needReadable||Q.length<Q.highWaterMark)&&this._read(Q.highWaterMark)}},P.prototype._read=function(A){var V=this._transformState;null===V.writechunk||V.transforming?V.needTransform=!0:(V.transforming=!0,this._transform(V.writechunk,V.writeencoding,V.afterTransform))},P.prototype._destroy=function(A,V){k.prototype._destroy.call(this,A,function(U){V(U)})}},47849:($e,j,E)=>{"use strict";var H,g=E(40573);function B(ge){var me=this;this.next=null,this.entry=null,this.finish=function(){!function Ge(ge,me,Ue){var xe=ge.entry;for(ge.entry=null;xe;){var Ce=xe.callback;me.pendingcb--,Ce(Ue),xe=xe.next}me.corkedRequestsFree.next=ge}(me,ge)}}$e.exports=C,C.WritableState=ve;var De,b={deprecate:E(3398)},k=E(18342),S=E(83838).Buffer,P=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},A=E(21509),U=E(42934).getHighWaterMark,K=E(26113).F,Q=K.ERR_INVALID_ARG_TYPE,q=K.ERR_METHOD_NOT_IMPLEMENTED,Y=K.ERR_MULTIPLE_CALLBACK,W=K.ERR_STREAM_CANNOT_PIPE,re=K.ERR_STREAM_DESTROYED,ie=K.ERR_STREAM_NULL_VALUES,ae=K.ERR_STREAM_WRITE_AFTER_END,ue=K.ERR_UNKNOWN_ENCODING,ce=A.errorOrDestroy;function pe(){}function ve(ge,me,Ue){H=H||E(74075),"boolean"!=typeof Ue&&(Ue=me instanceof H),this.objectMode=!!(ge=ge||{}).objectMode,Ue&&(this.objectMode=this.objectMode||!!ge.writableObjectMode),this.highWaterMark=U(this,ge,"writableHighWaterMark",Ue),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ge.decodeStrings),this.defaultEncoding=ge.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ce){!function x(ge,me){var Ue=ge._writableState,xe=Ue.sync,Ce=Ue.writecb;if("function"!=typeof Ce)throw new Y;if(function L(ge){ge.writing=!1,ge.writecb=null,ge.length-=ge.writelen,ge.writelen=0}(Ue),me)!function I(ge,me,Ue,xe,Ce){--me.pendingcb,Ue?(g.nextTick(Ce,xe),g.nextTick(we,ge,me),ge._writableState.errorEmitted=!0,ce(ge,xe)):(Ce(xe),ge._writableState.errorEmitted=!0,ce(ge,xe),we(ge,me))}(ge,Ue,xe,me,Ce);else{var be=z(Ue)||ge.destroyed;!be&&!Ue.corked&&!Ue.bufferProcessing&&Ue.bufferedRequest&&Z(ge,Ue),xe?g.nextTick(a,ge,Ue,be,Ce):a(ge,Ue,be,Ce)}}(me,Ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==ge.emitClose,this.autoDestroy=!!ge.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new B(this)}function C(ge){var me=this instanceof(H=H||E(74075));if(!me&&!De.call(C,this))return new C(ge);this._writableState=new ve(ge,this,me),this.writable=!0,ge&&("function"==typeof ge.write&&(this._write=ge.write),"function"==typeof ge.writev&&(this._writev=ge.writev),"function"==typeof ge.destroy&&(this._destroy=ge.destroy),"function"==typeof ge.final&&(this._final=ge.final)),k.call(this)}function w(ge,me,Ue,xe,Ce,be,he){me.writelen=xe,me.writecb=he,me.writing=!0,me.sync=!0,me.destroyed?me.onwrite(new re("write")):Ue?ge._writev(Ce,me.onwrite):ge._write(Ce,be,me.onwrite),me.sync=!1}function a(ge,me,Ue,xe){Ue||function v(ge,me){0===me.length&&me.needDrain&&(me.needDrain=!1,ge.emit("drain"))}(ge,me),me.pendingcb--,xe(),we(ge,me)}function Z(ge,me){me.bufferProcessing=!0;var Ue=me.bufferedRequest;if(ge._writev&&Ue&&Ue.next){var Ce=new Array(me.bufferedRequestCount),be=me.corkedRequestsFree;be.entry=Ue;for(var he=0,ne=!0;Ue;)Ce[he]=Ue,Ue.isBuf||(ne=!1),Ue=Ue.next,he+=1;Ce.allBuffers=ne,w(ge,me,!0,me.length,Ce,"",be.finish),me.pendingcb++,me.lastBufferedRequest=null,be.next?(me.corkedRequestsFree=be.next,be.next=null):me.corkedRequestsFree=new B(me),me.bufferedRequestCount=0}else{for(;Ue;){var te=Ue.chunk;if(w(ge,me,!1,me.objectMode?1:te.length,te,Ue.encoding,Ue.callback),Ue=Ue.next,me.bufferedRequestCount--,me.writing)break}null===Ue&&(me.lastBufferedRequest=null)}me.bufferedRequest=Ue,me.bufferProcessing=!1}function z(ge){return ge.ending&&0===ge.length&&null===ge.bufferedRequest&&!ge.finished&&!ge.writing}function ee(ge,me){ge._final(function(Ue){me.pendingcb--,Ue&&ce(ge,Ue),me.prefinished=!0,ge.emit("prefinish"),we(ge,me)})}function we(ge,me){var Ue=z(me);if(Ue&&(function le(ge,me){!me.prefinished&&!me.finalCalled&&("function"!=typeof ge._final||me.destroyed?(me.prefinished=!0,ge.emit("prefinish")):(me.pendingcb++,me.finalCalled=!0,g.nextTick(ee,ge,me)))}(ge,me),0===me.pendingcb&&(me.finished=!0,ge.emit("finish"),me.autoDestroy))){var xe=ge._readableState;(!xe||xe.autoDestroy&&xe.endEmitted)&&ge.destroy()}return Ue}E(71993)(C,k),ve.prototype.getBuffer=function(){for(var me=this.bufferedRequest,Ue=[];me;)Ue.push(me),me=me.next;return Ue},function(){try{Object.defineProperty(ve.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(De=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(me){return!!De.call(this,me)||this===C&&me&&me._writableState instanceof ve}})):De=function(me){return me instanceof this},C.prototype.pipe=function(){ce(this,new W)},C.prototype.write=function(ge,me,Ue){var xe=this._writableState,Ce=!1,be=!xe.objectMode&&function O(ge){return S.isBuffer(ge)||ge instanceof P}(ge);return be&&!S.isBuffer(ge)&&(ge=function R(ge){return S.from(ge)}(ge)),"function"==typeof me&&(Ue=me,me=null),be?me="buffer":me||(me=xe.defaultEncoding),"function"!=typeof Ue&&(Ue=pe),xe.ending?function s(ge,me){var Ue=new ae;ce(ge,Ue),g.nextTick(me,Ue)}(this,Ue):(be||function d(ge,me,Ue,xe){var Ce;return null===Ue?Ce=new ie:"string"!=typeof Ue&&!me.objectMode&&(Ce=new Q("chunk",["string","Buffer"],Ue)),!Ce||(ce(ge,Ce),g.nextTick(xe,Ce),!1)}(this,xe,ge,Ue))&&(xe.pendingcb++,Ce=function f(ge,me,Ue,xe,Ce,be){if(!Ue){var he=function h(ge,me,Ue){return!ge.objectMode&&!1!==ge.decodeStrings&&"string"==typeof me&&(me=S.from(me,Ue)),me}(me,xe,Ce);xe!==he&&(Ue=!0,Ce="buffer",xe=he)}var ne=me.objectMode?1:xe.length;me.length+=ne;var te=me.length<me.highWaterMark;if(te||(me.needDrain=!0),me.writing||me.corked){var de=me.lastBufferedRequest;me.lastBufferedRequest={chunk:xe,encoding:Ce,isBuf:Ue,callback:be,next:null},de?de.next=me.lastBufferedRequest:me.bufferedRequest=me.lastBufferedRequest,me.bufferedRequestCount+=1}else w(ge,me,!1,ne,xe,Ce,be);return te}(this,xe,be,ge,me,Ue)),Ce},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var ge=this._writableState;ge.corked&&(ge.corked--,!ge.writing&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&Z(this,ge))},C.prototype.setDefaultEncoding=function(me){if("string"==typeof me&&(me=me.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((me+"").toLowerCase())>-1))throw new ue(me);return this._writableState.defaultEncoding=me,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(ge,me,Ue){Ue(new q("_write()"))},C.prototype._writev=null,C.prototype.end=function(ge,me,Ue){var xe=this._writableState;return"function"==typeof ge?(Ue=ge,ge=null,me=null):"function"==typeof me&&(Ue=me,me=null),null!=ge&&this.write(ge,me),xe.corked&&(xe.corked=1,this.uncork()),xe.ending||function Me(ge,me,Ue){me.ending=!0,we(ge,me),Ue&&(me.finished?g.nextTick(Ue):ge.once("finish",Ue)),me.ended=!0,ge.writable=!1}(this,xe,Ue),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(me){this._writableState&&(this._writableState.destroyed=me)}}),C.prototype.destroy=A.destroy,C.prototype._undestroy=A.undestroy,C.prototype._destroy=function(ge,me){me(ge)}},6320:($e,j,E)=>{"use strict";var _,g=E(40573);function B(ae,ue,ce){return ue=function H(ae){var ue=function b(ae,ue){if("object"!=typeof ae||null===ae)return ae;var ce=ae[Symbol.toPrimitive];if(void 0!==ce){var pe=ce.call(ae,ue||"default");if("object"!=typeof pe)return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ue?String:Number)(ae)}(ae,"string");return"symbol"==typeof ue?ue:String(ue)}(ue),ue in ae?Object.defineProperty(ae,ue,{value:ce,enumerable:!0,configurable:!0,writable:!0}):ae[ue]=ce,ae}var k=E(33139),S=Symbol("lastResolve"),P=Symbol("lastReject"),R=Symbol("error"),O=Symbol("ended"),A=Symbol("lastPromise"),V=Symbol("handlePromise"),U=Symbol("stream");function K(ae,ue){return{value:ae,done:ue}}function Q(ae){var ue=ae[S];if(null!==ue){var ce=ae[U].read();null!==ce&&(ae[A]=null,ae[S]=null,ae[P]=null,ue(K(ce,!1)))}}function q(ae){g.nextTick(Q,ae)}var W=Object.getPrototypeOf(function(){}),re=Object.setPrototypeOf((B(_={get stream(){return this[U]},next:function(){var ue=this,ce=this[R];if(null!==ce)return Promise.reject(ce);if(this[O])return Promise.resolve(K(void 0,!0));if(this[U].destroyed)return new Promise(function(C,s){g.nextTick(function(){ue[R]?s(ue[R]):C(K(void 0,!0))})});var ve,pe=this[A];if(pe)ve=new Promise(function Y(ae,ue){return function(ce,pe){ae.then(function(){ue[O]?ce(K(void 0,!0)):ue[V](ce,pe)},pe)}}(pe,this));else{var De=this[U].read();if(null!==De)return Promise.resolve(K(De,!1));ve=new Promise(this[V])}return this[A]=ve,ve}},Symbol.asyncIterator,function(){return this}),B(_,"return",function(){var ue=this;return new Promise(function(ce,pe){ue[U].destroy(null,function(ve){ve?pe(ve):ce(K(void 0,!0))})})}),_),W);$e.exports=function(ue){var ce,pe=Object.create(re,(B(ce={},U,{value:ue,writable:!0}),B(ce,S,{value:null,writable:!0}),B(ce,P,{value:null,writable:!0}),B(ce,R,{value:null,writable:!0}),B(ce,O,{value:ue._readableState.endEmitted,writable:!0}),B(ce,V,{value:function(De,C){var s=pe[U].read();s?(pe[A]=null,pe[S]=null,pe[P]=null,De(K(s,!1))):(pe[S]=De,pe[P]=C)},writable:!0}),ce));return pe[A]=null,k(ue,function(ve){if(ve&&"ERR_STREAM_PREMATURE_CLOSE"!==ve.code){var De=pe[P];return null!==De&&(pe[A]=null,pe[S]=null,pe[P]=null,De(ve)),void(pe[R]=ve)}var C=pe[S];null!==C&&(pe[A]=null,pe[S]=null,pe[P]=null,C(K(void 0,!0))),pe[O]=!0}),ue.on("readable",q.bind(null,pe)),pe}},19588:($e,j,E)=>{"use strict";function g(Q,q){var Y=Object.keys(Q);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Q);q&&(W=W.filter(function(re){return Object.getOwnPropertyDescriptor(Q,re).enumerable})),Y.push.apply(Y,W)}return Y}function _(Q){for(var q=1;q<arguments.length;q++){var Y=null!=arguments[q]?arguments[q]:{};q%2?g(Object(Y),!0).forEach(function(W){B(Q,W,Y[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(Y)):g(Object(Y)).forEach(function(W){Object.defineProperty(Q,W,Object.getOwnPropertyDescriptor(Y,W))})}return Q}function B(Q,q,Y){return(q=S(q))in Q?Object.defineProperty(Q,q,{value:Y,enumerable:!0,configurable:!0,writable:!0}):Q[q]=Y,Q}function b(Q,q){for(var Y=0;Y<q.length;Y++){var W=q[Y];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Q,S(W.key),W)}}function S(Q){var q=function P(Q,q){if("object"!=typeof Q||null===Q)return Q;var Y=Q[Symbol.toPrimitive];if(void 0!==Y){var W=Y.call(Q,q||"default");if("object"!=typeof W)return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===q?String:Number)(Q)}(Q,"string");return"symbol"==typeof q?q:String(q)}var O=E(83838).Buffer,V=E(15340).inspect,U=V&&V.custom||"inspect";function K(Q,q,Y){O.prototype.copy.call(Q,q,Y)}$e.exports=function(){function Q(){(function H(Q,q){if(!(Q instanceof q))throw new TypeError("Cannot call a class as a function")})(this,Q),this.head=null,this.tail=null,this.length=0}return function k(Q,q,Y){q&&b(Q.prototype,q),Y&&b(Q,Y),Object.defineProperty(Q,"prototype",{writable:!1})}(Q,[{key:"push",value:function(Y){var W={data:Y,next:null};this.length>0?this.tail.next=W:this.head=W,this.tail=W,++this.length}},{key:"unshift",value:function(Y){var W={data:Y,next:this.head};0===this.length&&(this.tail=W),this.head=W,++this.length}},{key:"shift",value:function(){if(0!==this.length){var Y=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,Y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Y){if(0===this.length)return"";for(var W=this.head,re=""+W.data;W=W.next;)re+=Y+W.data;return re}},{key:"concat",value:function(Y){if(0===this.length)return O.alloc(0);for(var W=O.allocUnsafe(Y>>>0),re=this.head,ie=0;re;)K(re.data,W,ie),ie+=re.data.length,re=re.next;return W}},{key:"consume",value:function(Y,W){var re;return Y<this.head.data.length?(re=this.head.data.slice(0,Y),this.head.data=this.head.data.slice(Y)):re=Y===this.head.data.length?this.shift():W?this._getString(Y):this._getBuffer(Y),re}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Y){var W=this.head,re=1,ie=W.data;for(Y-=ie.length;W=W.next;){var ae=W.data,ue=Y>ae.length?ae.length:Y;if(ie+=ue===ae.length?ae:ae.slice(0,Y),0==(Y-=ue)){ue===ae.length?(++re,this.head=W.next?W.next:this.tail=null):(this.head=W,W.data=ae.slice(ue));break}++re}return this.length-=re,ie}},{key:"_getBuffer",value:function(Y){var W=O.allocUnsafe(Y),re=this.head,ie=1;for(re.data.copy(W),Y-=re.data.length;re=re.next;){var ae=re.data,ue=Y>ae.length?ae.length:Y;if(ae.copy(W,W.length-Y,0,ue),0==(Y-=ue)){ue===ae.length?(++ie,this.head=re.next?re.next:this.tail=null):(this.head=re,re.data=ae.slice(ue));break}++ie}return this.length-=ie,W}},{key:U,value:function(Y,W){return V(this,_(_({},W),{},{depth:0,customInspect:!1}))}}]),Q}()},21509:($e,j,E)=>{"use strict";var g=E(40573);function B(P,R){k(P,R),H(P)}function H(P){P._writableState&&!P._writableState.emitClose||P._readableState&&!P._readableState.emitClose||P.emit("close")}function k(P,R){P.emit("error",R)}$e.exports={destroy:function _(P,R){var O=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(R?R(P):P&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(k,this,P)):g.nextTick(k,this,P)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(U){!R&&U?O._writableState?O._writableState.errorEmitted?g.nextTick(H,O):(O._writableState.errorEmitted=!0,g.nextTick(B,O,U)):g.nextTick(B,O,U):R?(g.nextTick(H,O),R(U)):g.nextTick(H,O)}),this)},undestroy:function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function S(P,R){var O=P._readableState,A=P._writableState;O&&O.autoDestroy||A&&A.autoDestroy?P.destroy(R):P.emit("error",R)}}},33139:($e,j,E)=>{"use strict";var g=E(26113).F.ERR_STREAM_PREMATURE_CLOSE;function B(){}$e.exports=function b(k,S,P){if("function"==typeof S)return b(k,null,S);S||(S={}),P=function _(k){var S=!1;return function(){if(!S){S=!0;for(var P=arguments.length,R=new Array(P),O=0;O<P;O++)R[O]=arguments[O];k.apply(this,R)}}}(P||B);var R=S.readable||!1!==S.readable&&k.readable,O=S.writable||!1!==S.writable&&k.writable,A=function(){k.writable||U()},V=k._writableState&&k._writableState.finished,U=function(){O=!1,V=!0,R||P.call(k)},K=k._readableState&&k._readableState.endEmitted,Q=function(){R=!1,K=!0,O||P.call(k)},q=function(ie){P.call(k,ie)},Y=function(){var ie;return R&&!K?((!k._readableState||!k._readableState.ended)&&(ie=new g),P.call(k,ie)):O&&!V?((!k._writableState||!k._writableState.ended)&&(ie=new g),P.call(k,ie)):void 0},W=function(){k.req.on("finish",U)};return function H(k){return k.setHeader&&"function"==typeof k.abort}(k)?(k.on("complete",U),k.on("abort",Y),k.req?W():k.on("request",W)):O&&!k._writableState&&(k.on("end",A),k.on("close",A)),k.on("end",Q),k.on("finish",U),!1!==S.error&&k.on("error",q),k.on("close",Y),function(){k.removeListener("complete",U),k.removeListener("abort",Y),k.removeListener("request",W),k.req&&k.req.removeListener("finish",U),k.removeListener("end",A),k.removeListener("close",A),k.removeListener("finish",U),k.removeListener("end",Q),k.removeListener("error",q),k.removeListener("close",Y)}}},87654:$e=>{$e.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:($e,j,E)=>{"use strict";var g,B=E(26113).F,H=B.ERR_MISSING_ARGS,b=B.ERR_STREAM_DESTROYED;function k(U){if(U)throw U}function R(U){U()}function O(U,K){return U.pipe(K)}$e.exports=function V(){for(var U=arguments.length,K=new Array(U),Q=0;Q<U;Q++)K[Q]=arguments[Q];var q=function A(U){return U.length&&"function"==typeof U[U.length-1]?U.pop():k}(K);if(Array.isArray(K[0])&&(K=K[0]),K.length<2)throw new H("streams");var Y,W=K.map(function(re,ie){var ae=ie<K.length-1;return function P(U,K,Q,q){q=function _(U){var K=!1;return function(){K||(K=!0,U.apply(void 0,arguments))}}(q);var Y=!1;U.on("close",function(){Y=!0}),void 0===g&&(g=E(33139)),g(U,{readable:K,writable:Q},function(re){if(re)return q(re);Y=!0,q()});var W=!1;return function(re){if(!Y&&!W){if(W=!0,function S(U){return U.setHeader&&"function"==typeof U.abort}(U))return U.abort();if("function"==typeof U.destroy)return U.destroy();q(re||new b("pipe"))}}}(re,ae,ie>0,function(ce){Y||(Y=ce),ce&&W.forEach(R),!ae&&(W.forEach(R),q(Y))})});return K.reduce(O)}},42934:($e,j,E)=>{"use strict";var g=E(26113).F.ERR_INVALID_OPT_VALUE;$e.exports={getHighWaterMark:function B(H,b,k,S){var P=function _(H,b,k){return null!=H.highWaterMark?H.highWaterMark:b?H[k]:null}(b,S,k);if(null!=P){if(!isFinite(P)||Math.floor(P)!==P||P<0)throw new g(S?k:"highWaterMark",P);return Math.floor(P)}return H.objectMode?16:16384}}},18342:($e,j,E)=>{$e.exports=E(44356).EventEmitter},5942:($e,j,E)=>{(j=$e.exports=E(19609)).Stream=j,j.Readable=j,j.Writable=E(47849),j.Duplex=E(74075),j.Transform=E(2909),j.PassThrough=E(18823),j.finished=E(33139),j.pipeline=E(96249)},85493:($e,j,E)=>{"use strict";var _=E(29293).default;j.s=void 0;const B=E(5942);j.s=class H extends B.Readable{constructor(k){super(),this.bytesRead=0,this.released=!1,this.reader=k.getReader()}_read(){var k=this;return _(function*(){if(k.released)return void k.push(null);k.pendingRead=k.reader.read();const S=yield k.pendingRead;delete k.pendingRead,S.done||k.released?k.push(null):(k.bytesRead+=S.value.length,k.push(S.value))})()}waitForReadToComplete(){var k=this;return _(function*(){k.pendingRead&&(yield k.pendingRead)})()}close(){var k=this;return _(function*(){yield k.syncAndRelease()})()}syncAndRelease(){var k=this;return _(function*(){k.released=!0,yield k.waitForReadToComplete(),yield k.reader.releaseLock()})()}}},36636:($e,j,E)=>{"use strict";var g=E(83838).Buffer,_=E(71993),B=E(13686),H=new Array(16),b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],S=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],P=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],R=[0,1518500249,1859775393,2400959708,2840853838],O=[1352829926,1548603684,1836072691,2053994217,0];function A(){B.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function V(W,re){return W<<re|W>>>32-re}function U(W,re,ie,ae,ue,ce,pe,ve){return V(W+(re^ie^ae)+ce+pe|0,ve)+ue|0}function K(W,re,ie,ae,ue,ce,pe,ve){return V(W+(re&ie|~re&ae)+ce+pe|0,ve)+ue|0}function Q(W,re,ie,ae,ue,ce,pe,ve){return V(W+((re|~ie)^ae)+ce+pe|0,ve)+ue|0}function q(W,re,ie,ae,ue,ce,pe,ve){return V(W+(re&ae|ie&~ae)+ce+pe|0,ve)+ue|0}function Y(W,re,ie,ae,ue,ce,pe,ve){return V(W+(re^(ie|~ae))+ce+pe|0,ve)+ue|0}_(A,B),A.prototype._update=function(){for(var W=H,re=0;re<16;++re)W[re]=this._block.readInt32LE(4*re);for(var ie=0|this._a,ae=0|this._b,ue=0|this._c,ce=0|this._d,pe=0|this._e,ve=0|this._a,De=0|this._b,C=0|this._c,s=0|this._d,d=0|this._e,h=0;h<80;h+=1){var f,w;h<16?(f=U(ie,ae,ue,ce,pe,W[b[h]],R[0],S[h]),w=Y(ve,De,C,s,d,W[k[h]],O[0],P[h])):h<32?(f=K(ie,ae,ue,ce,pe,W[b[h]],R[1],S[h]),w=q(ve,De,C,s,d,W[k[h]],O[1],P[h])):h<48?(f=Q(ie,ae,ue,ce,pe,W[b[h]],R[2],S[h]),w=Q(ve,De,C,s,d,W[k[h]],O[2],P[h])):h<64?(f=q(ie,ae,ue,ce,pe,W[b[h]],R[3],S[h]),w=K(ve,De,C,s,d,W[k[h]],O[3],P[h])):(f=Y(ie,ae,ue,ce,pe,W[b[h]],R[4],S[h]),w=U(ve,De,C,s,d,W[k[h]],O[4],P[h])),ie=pe,pe=ce,ce=V(ue,10),ue=ae,ae=f,ve=d,d=s,s=V(C,10),C=De,De=w}var I=this._b+ue+s|0;this._b=this._c+ce+d|0,this._c=this._d+pe+ve|0,this._d=this._e+ie+De|0,this._e=this._a+ae+C|0,this._a=I},A.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var W=g.alloc?g.alloc(20):new g(20);return W.writeInt32LE(this._a,0),W.writeInt32LE(this._b,4),W.writeInt32LE(this._c,8),W.writeInt32LE(this._d,12),W.writeInt32LE(this._e,16),W},$e.exports=A},81725:($e,j,E)=>{$e.exports=function _(B,H,b){if("number"!=typeof H)throw new Error("second argument must be a Number");let k,S,P,R,O,V,A=!0;function U(Q){function q(){b&&b(Q,k),b=null}A?g(q):q()}function K(Q,q,Y){if(k[Q]=Y,q&&(O=!0),0==--P||q)U(q);else if(!O&&V<S){let W;R?(W=R[V],V+=1,B[W](function(re,ie){K(W,re,ie)})):(W=V,V+=1,B[W](function(re,ie){K(W,re,ie)}))}}Array.isArray(B)?(k=[],P=S=B.length):(R=Object.keys(B),k={},P=S=R.length),V=H,P?R?R.some(function(Q,q){return B[Q](function(Y,W){K(Q,Y,W)}),q===H-1}):B.some(function(Q,q){return Q(function(Y,W){K(q,Y,W)}),q===H-1}):U(null),A=!1};const g=E(24515)},84412:($e,j,E)=>{"use strict";E.d(j,{t:()=>_});var g=E(21413);class _ extends g.B{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const b=super._subscribe(H);return!b.closed&&H.next(this._value),b}getValue(){const{hasError:H,thrownError:b,_value:k}=this;if(H)throw b;return this._throwIfClosed(),k}next(H){super.next(this._value=H)}}},71985:($e,j,E)=>{"use strict";E.d(j,{c:()=>P});var g=E(47707),_=E(18359),B=E(3494),H=E(71203),b=E(41026),k=E(98071),S=E(49786);let P=(()=>{class V{constructor(K){K&&(this._subscribe=K)}lift(K){const Q=new V;return Q.source=this,Q.operator=K,Q}subscribe(K,Q,q){const Y=function A(V){return V&&V instanceof g.vU||function O(V){return V&&(0,k.T)(V.next)&&(0,k.T)(V.error)&&(0,k.T)(V.complete)}(V)&&(0,_.Uv)(V)}(K)?K:new g.Ms(K,Q,q);return(0,S.Y)(()=>{const{operator:W,source:re}=this;Y.add(W?W.call(Y,re):re?this._subscribe(Y):this._trySubscribe(Y))}),Y}_trySubscribe(K){try{return this._subscribe(K)}catch(Q){K.error(Q)}}forEach(K,Q){return new(Q=R(Q))((q,Y)=>{const W=new g.Ms({next:re=>{try{K(re)}catch(ie){Y(ie),W.unsubscribe()}},error:Y,complete:q});this.subscribe(W)})}_subscribe(K){var Q;return null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(K)}[B.s](){return this}pipe(...K){return(0,H.m)(K)(this)}toPromise(K){return new(K=R(K))((Q,q)=>{let Y;this.subscribe(W=>Y=W,W=>q(W),()=>Q(Y))})}}return V.create=U=>new V(U),V})();function R(V){var U;return null!==(U=V??b.$.Promise)&&void 0!==U?U:Promise}},92771:($e,j,E)=>{"use strict";E.d(j,{m:()=>B});var g=E(21413),_=E(86129);class B extends g.B{constructor(b=1/0,k=1/0,S=_.U){super(),this._bufferSize=b,this._windowTime=k,this._timestampProvider=S,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=k===1/0,this._bufferSize=Math.max(1,b),this._windowTime=Math.max(1,k)}next(b){const{isStopped:k,_buffer:S,_infiniteTimeWindow:P,_timestampProvider:R,_windowTime:O}=this;k||(S.push(b),!P&&S.push(R.now()+O)),this._trimBuffer(),super.next(b)}_subscribe(b){this._throwIfClosed(),this._trimBuffer();const k=this._innerSubscribe(b),{_infiniteTimeWindow:S,_buffer:P}=this,R=P.slice();for(let O=0;O<R.length&&!b.closed;O+=S?1:2)b.next(R[O]);return this._checkFinalizedStatuses(b),k}_trimBuffer(){const{_bufferSize:b,_timestampProvider:k,_buffer:S,_infiniteTimeWindow:P}=this,R=(P?1:2)*b;if(b<1/0&&R<S.length&&S.splice(0,S.length-R),!P){const O=k.now();let A=0;for(let V=1;V<S.length&&S[V]<=O;V+=2)A=V;A&&S.splice(0,A+1)}}}},21413:($e,j,E)=>{"use strict";E.d(j,{B:()=>S});var g=E(71985),_=E(18359);const H=(0,E(81853).L)(R=>function(){R(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var b=E(57908),k=E(49786);let S=(()=>{class R extends g.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(A){const V=new P(this,this);return V.operator=A,V}_throwIfClosed(){if(this.closed)throw new H}next(A){(0,k.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const V of this.currentObservers)V.next(A)}})}error(A){(0,k.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=A;const{observers:V}=this;for(;V.length;)V.shift().error(A)}})}complete(){(0,k.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:A}=this;for(;A.length;)A.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var A;return(null===(A=this.observers)||void 0===A?void 0:A.length)>0}_trySubscribe(A){return this._throwIfClosed(),super._trySubscribe(A)}_subscribe(A){return this._throwIfClosed(),this._checkFinalizedStatuses(A),this._innerSubscribe(A)}_innerSubscribe(A){const{hasError:V,isStopped:U,observers:K}=this;return V||U?_.Kn:(this.currentObservers=null,K.push(A),new _.yU(()=>{this.currentObservers=null,(0,b.o)(K,A)}))}_checkFinalizedStatuses(A){const{hasError:V,thrownError:U,isStopped:K}=this;V?A.error(U):K&&A.complete()}asObservable(){const A=new g.c;return A.source=this,A}}return R.create=(O,A)=>new P(O,A),R})();class P extends S{constructor(O,A){super(),this.destination=O,this.source=A}next(O){var A,V;null===(V=null===(A=this.destination)||void 0===A?void 0:A.next)||void 0===V||V.call(A,O)}error(O){var A,V;null===(V=null===(A=this.destination)||void 0===A?void 0:A.error)||void 0===V||V.call(A,O)}complete(){var O,A;null===(A=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===A||A.call(O)}_subscribe(O){var A,V;return null!==(V=null===(A=this.source)||void 0===A?void 0:A.subscribe(O))&&void 0!==V?V:_.Kn}}},47707:($e,j,E)=>{"use strict";E.d(j,{Ms:()=>q,vU:()=>V});var g=E(98071),_=E(18359),B=E(41026),H=E(45334),b=E(85343);const k=R("C",void 0,void 0);function R(ae,ue,ce){return{kind:ae,value:ue,error:ce}}var O=E(19270),A=E(49786);class V extends _.yU{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,_.Uv)(ue)&&ue.add(this)):this.destination=ie}static create(ue,ce,pe){return new q(ue,ce,pe)}next(ue){this.isStopped?re(function P(ae){return R("N",ae,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?re(function S(ae){return R("E",void 0,ae)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?re(k,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const U=Function.prototype.bind;function K(ae,ue){return U.call(ae,ue)}class Q{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:ce}=this;if(ce.next)try{ce.next(ue)}catch(pe){Y(pe)}}error(ue){const{partialObserver:ce}=this;if(ce.error)try{ce.error(ue)}catch(pe){Y(pe)}else Y(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(ce){Y(ce)}}}class q extends V{constructor(ue,ce,pe){let ve;if(super(),(0,g.T)(ue)||!ue)ve={next:ue??void 0,error:ce??void 0,complete:pe??void 0};else{let De;this&&B.$.useDeprecatedNextContext?(De=Object.create(ue),De.unsubscribe=()=>this.unsubscribe(),ve={next:ue.next&&K(ue.next,De),error:ue.error&&K(ue.error,De),complete:ue.complete&&K(ue.complete,De)}):ve=ue}this.destination=new Q(ve)}}function Y(ae){B.$.useDeprecatedSynchronousErrorHandling?(0,A.l)(ae):(0,H.m)(ae)}function re(ae,ue){const{onStoppedNotification:ce}=B.$;ce&&O.f.setTimeout(()=>ce(ae,ue))}const ie={closed:!0,next:b.l,error:function W(ae){throw ae},complete:b.l}},18359:($e,j,E)=>{"use strict";E.d(j,{Kn:()=>k,yU:()=>b,Uv:()=>S});var g=E(98071);const B=(0,E(81853).L)(R=>function(A){R(this),this.message=A?`${A.length} errors occurred during unsubscription:\n${A.map((V,U)=>`${U+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=A});var H=E(57908);class b{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:A}=this;if(A)if(this._parentage=null,Array.isArray(A))for(const K of A)K.remove(this);else A.remove(this);const{initialTeardown:V}=this;if((0,g.T)(V))try{V()}catch(K){O=K instanceof B?K.errors:[K]}const{_finalizers:U}=this;if(U){this._finalizers=null;for(const K of U)try{P(K)}catch(Q){O=O??[],Q instanceof B?O=[...O,...Q.errors]:O.push(Q)}}if(O)throw new B(O)}}add(O){var A;if(O&&O!==this)if(this.closed)P(O);else{if(O instanceof b){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._finalizers=null!==(A=this._finalizers)&&void 0!==A?A:[]).push(O)}}_hasParent(O){const{_parentage:A}=this;return A===O||Array.isArray(A)&&A.includes(O)}_addParent(O){const{_parentage:A}=this;this._parentage=Array.isArray(A)?(A.push(O),A):A?[A,O]:O}_removeParent(O){const{_parentage:A}=this;A===O?this._parentage=null:Array.isArray(A)&&(0,H.o)(A,O)}remove(O){const{_finalizers:A}=this;A&&(0,H.o)(A,O),O instanceof b&&O._removeParent(this)}}b.EMPTY=(()=>{const R=new b;return R.closed=!0,R})();const k=b.EMPTY;function S(R){return R instanceof b||R&&"closed"in R&&(0,g.T)(R.remove)&&(0,g.T)(R.add)&&(0,g.T)(R.unsubscribe)}function P(R){(0,g.T)(R)?R():R.unsubscribe()}},41026:($e,j,E)=>{"use strict";E.d(j,{$:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:($e,j,E)=>{"use strict";E.d(j,{G:()=>k});var g=E(71985),_=E(18359),B=E(99898),H=E(54360),b=E(39974);class k extends g.c{constructor(P,R){super(),this.source=P,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,b.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new _.yU;const R=this.getSubject();P.add(this.source.subscribe((0,H._)(R,void 0,()=>{this._teardown(),R.complete()},O=>{this._teardown(),R.error(O)},()=>this._teardown()))),P.closed&&(this._connection=null,P=_.yU.EMPTY)}return P}refCount(){return(0,B.B)()(this)}}},84572:($e,j,E)=>{"use strict";E.d(j,{z:()=>O});var g=E(71985),_=E(93073),B=E(86648),H=E(33669),b=E(6450),k=E(9326),S=E(58496),P=E(54360),R=E(45225);function O(...U){const K=(0,k.lI)(U),Q=(0,k.ms)(U),{args:q,keys:Y}=(0,_.D)(U);if(0===q.length)return(0,B.H)([],K);const W=new g.c(function A(U,K,Q=H.D){return q=>{V(K,()=>{const{length:Y}=U,W=new Array(Y);let re=Y,ie=Y;for(let ae=0;ae<Y;ae++)V(K,()=>{const ue=(0,B.H)(U[ae],K);let ce=!1;ue.subscribe((0,P._)(q,pe=>{W[ae]=pe,ce||(ce=!0,ie--),ie||q.next(Q(W.slice()))},()=>{--re||q.complete()}))},q)},q)}}(q,K,Y?re=>(0,S.e)(Y,re):H.D));return Q?W.pipe((0,b.I)(Q)):W}function V(U,K,Q){U?(0,R.N)(Q,U,K):K()}},28793:($e,j,E)=>{"use strict";E.d(j,{x:()=>b});var g=E(26365),B=E(9326),H=E(86648);function b(...k){return function _(){return(0,g.U)(1)}()((0,H.H)(k,(0,B.lI)(k)))}},59030:($e,j,E)=>{"use strict";E.d(j,{v:()=>B});var g=E(71985),_=E(58750);function B(H){return new g.c(b=>{(0,_.Tg)(H()).subscribe(b)})}},983:($e,j,E)=>{"use strict";E.d(j,{w:()=>_});const _=new(E(71985).c)(b=>b.complete())},27468:($e,j,E)=>{"use strict";E.d(j,{p:()=>P});var g=E(71985),_=E(93073),B=E(58750),H=E(9326),b=E(54360),k=E(6450),S=E(58496);function P(...R){const O=(0,H.ms)(R),{args:A,keys:V}=(0,_.D)(R),U=new g.c(K=>{const{length:Q}=A;if(!Q)return void K.complete();const q=new Array(Q);let Y=Q,W=Q;for(let re=0;re<Q;re++){let ie=!1;(0,B.Tg)(A[re]).subscribe((0,b._)(K,ae=>{ie||(ie=!0,W--),q[re]=ae},()=>Y--,void 0,()=>{(!Y||!ie)&&(W||K.next(V?(0,S.e)(V,q):q),K.complete())}))}});return O?U.pipe((0,k.I)(O)):U}},86648:($e,j,E)=>{"use strict";E.d(j,{H:()=>pe});var g=E(58750),_=E(45225),B=E(39974),H=E(54360);function b(ve,De=0){return(0,B.N)((C,s)=>{C.subscribe((0,H._)(s,d=>(0,_.N)(s,ve,()=>s.next(d),De),()=>(0,_.N)(s,ve,()=>s.complete(),De),d=>(0,_.N)(s,ve,()=>s.error(d),De)))})}function k(ve,De=0){return(0,B.N)((C,s)=>{s.add(ve.schedule(()=>C.subscribe(s),De))})}var R=E(71985),A=E(4761),V=E(98071);function K(ve,De){if(!ve)throw new Error("Iterable cannot be null");return new R.c(C=>{(0,_.N)(C,De,()=>{const s=ve[Symbol.asyncIterator]();(0,_.N)(C,De,()=>{s.next().then(d=>{d.done?C.complete():C.next(d.value)})},0,!0)})})}var Q=E(55055),q=E(59858),Y=E(47441),W=E(85397),re=E(37953),ie=E(50591),ae=E(15196);function pe(ve,De){return De?function ce(ve,De){if(null!=ve){if((0,Q.l)(ve))return function S(ve,De){return(0,g.Tg)(ve).pipe(k(De),b(De))}(ve,De);if((0,Y.X)(ve))return function O(ve,De){return new R.c(C=>{let s=0;return De.schedule(function(){s===ve.length?C.complete():(C.next(ve[s++]),C.closed||this.schedule())})})}(ve,De);if((0,q.y)(ve))return function P(ve,De){return(0,g.Tg)(ve).pipe(k(De),b(De))}(ve,De);if((0,re.T)(ve))return K(ve,De);if((0,W.x)(ve))return function U(ve,De){return new R.c(C=>{let s;return(0,_.N)(C,De,()=>{s=ve[A.l](),(0,_.N)(C,De,()=>{let d,h;try{({value:d,done:h}=s.next())}catch(f){return void C.error(f)}h?C.complete():C.next(d)},0,!0)}),()=>(0,V.T)(s?.return)&&s.return()})}(ve,De);if((0,ae.U)(ve))return function ue(ve,De){return K((0,ae.C)(ve),De)}(ve,De)}throw(0,ie.L)(ve)}(ve,De):(0,g.Tg)(ve)}},33726:($e,j,E)=>{"use strict";E.d(j,{R:()=>O});var g=E(58750),_=E(71985),B=E(31397),H=E(47441),b=E(98071),k=E(6450);const S=["addListener","removeListener"],P=["addEventListener","removeEventListener"],R=["on","off"];function O(Q,q,Y,W){if((0,b.T)(Y)&&(W=Y,Y=void 0),W)return O(Q,q,Y).pipe((0,k.I)(W));const[re,ie]=function K(Q){return(0,b.T)(Q.addEventListener)&&(0,b.T)(Q.removeEventListener)}(Q)?P.map(ae=>ue=>Q[ae](q,ue,Y)):function V(Q){return(0,b.T)(Q.addListener)&&(0,b.T)(Q.removeListener)}(Q)?S.map(A(Q,q)):function U(Q){return(0,b.T)(Q.on)&&(0,b.T)(Q.off)}(Q)?R.map(A(Q,q)):[];if(!re&&(0,H.X)(Q))return(0,B.Z)(ae=>O(ae,q,Y))((0,g.Tg)(Q));if(!re)throw new TypeError("Invalid event target");return new _.c(ae=>{const ue=(...ce)=>ae.next(1<ce.length?ce:ce[0]);return re(ue),()=>ie(ue)})}function A(Q,q){return Y=>W=>Q[Y](q,W)}},58750:($e,j,E)=>{"use strict";E.d(j,{Tg:()=>U});var g=E(31635),_=E(47441),B=E(59858),H=E(71985),b=E(55055),k=E(37953),S=E(50591),P=E(85397),R=E(15196),O=E(98071),A=E(45334),V=E(3494);function U(ae){if(ae instanceof H.c)return ae;if(null!=ae){if((0,b.l)(ae))return function K(ae){return new H.c(ue=>{const ce=ae[V.s]();if((0,O.T)(ce.subscribe))return ce.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,_.X)(ae))return function Q(ae){return new H.c(ue=>{for(let ce=0;ce<ae.length&&!ue.closed;ce++)ue.next(ae[ce]);ue.complete()})}(ae);if((0,B.y)(ae))return function q(ae){return new H.c(ue=>{ae.then(ce=>{ue.closed||(ue.next(ce),ue.complete())},ce=>ue.error(ce)).then(null,A.m)})}(ae);if((0,k.T)(ae))return W(ae);if((0,P.x)(ae))return function Y(ae){return new H.c(ue=>{for(const ce of ae)if(ue.next(ce),ue.closed)return;ue.complete()})}(ae);if((0,R.U)(ae))return function re(ae){return W((0,R.C)(ae))}(ae)}throw(0,S.L)(ae)}function W(ae){return new H.c(ue=>{(function ie(ae,ue){var ce,pe,ve,De;return(0,g.sH)(this,void 0,void 0,function*(){try{for(ce=(0,g.xN)(ae);!(pe=yield ce.next()).done;)if(ue.next(pe.value),ue.closed)return}catch(C){ve={error:C}}finally{try{pe&&!pe.done&&(De=ce.return)&&(yield De.call(ce))}finally{if(ve)throw ve.error}}ue.complete()})})(ae,ue).catch(ce=>ue.error(ce))})}},57786:($e,j,E)=>{"use strict";E.d(j,{h:()=>k});var g=E(26365),_=E(58750),B=E(983),H=E(9326),b=E(86648);function k(...S){const P=(0,H.lI)(S),R=(0,H.R0)(S,1/0),O=S;return O.length?1===O.length?(0,_.Tg)(O[0]):(0,g.U)(R)((0,b.H)(O,P)):B.w}},7673:($e,j,E)=>{"use strict";E.d(j,{of:()=>B});var g=E(9326),_=E(86648);function B(...H){const b=(0,g.lI)(H);return(0,_.H)(H,b)}},18810:($e,j,E)=>{"use strict";E.d(j,{$:()=>B});var g=E(71985),_=E(98071);function B(H,b){const k=(0,_.T)(H)?H:()=>H,S=P=>P.error(k());return new g.c(b?P=>b.schedule(S,0,P):S)}},41584:($e,j,E)=>{"use strict";E.d(j,{O:()=>b});var g=E(71985),_=E(43236),B=E(79470);function b(k=0,S,P=_.b){let R=-1;return null!=S&&((0,B.m)(S)?P=S:R=S),new g.c(O=>{let A=function H(k){return k instanceof Date&&!isNaN(k)}(k)?+k-P.now():k;A<0&&(A=0);let V=0;return P.schedule(function(){O.closed||(O.next(V++),0<=R?this.schedule(void 0,R):O.complete())},A)})}},54360:($e,j,E)=>{"use strict";E.d(j,{_:()=>_});var g=E(47707);function _(H,b,k,S,P){return new B(H,b,k,S,P)}class B extends g.vU{constructor(b,k,S,P,R,O){super(b),this.onFinalize=R,this.shouldUnsubscribe=O,this._next=k?function(A){try{k(A)}catch(V){b.error(V)}}:super._next,this._error=P?function(A){try{P(A)}catch(V){b.error(V)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch(A){b.error(A)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:k}=this;super.unsubscribe(),!k&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}},99437:($e,j,E)=>{"use strict";E.d(j,{W:()=>H});var g=E(58750),_=E(54360),B=E(39974);function H(b){return(0,B.N)((k,S)=>{let O,P=null,R=!1;P=k.subscribe((0,_._)(S,void 0,void 0,A=>{O=(0,g.Tg)(b(A,H(b)(k))),P?(P.unsubscribe(),P=null,O.subscribe(S)):R=!0})),R&&(P.unsubscribe(),P=null,O.subscribe(S))})}},70274:($e,j,E)=>{"use strict";E.d(j,{H:()=>B});var g=E(31397),_=E(98071);function B(H,b){return(0,_.T)(b)?(0,g.Z)(H,b,1):(0,g.Z)(H,1)}},70152:($e,j,E)=>{"use strict";E.d(j,{B:()=>H});var g=E(43236),_=E(39974),B=E(54360);function H(b,k=g.E){return(0,_.N)((S,P)=>{let R=null,O=null,A=null;const V=()=>{if(R){R.unsubscribe(),R=null;const K=O;O=null,P.next(K)}};function U(){const K=A+b,Q=k.now();if(Q<K)return R=this.schedule(void 0,K-Q),void P.add(R);V()}S.subscribe((0,B._)(P,K=>{O=K,A=k.now(),R||(R=k.schedule(U,b),P.add(R))},()=>{V(),P.complete()},void 0,()=>{O=R=null}))})}},91986:($e,j,E)=>{"use strict";E.d(j,{c:()=>U});var g=E(43236),_=E(28793),B=E(96697),H=E(39974),b=E(54360),k=E(85343),P=E(73703),R=E(31397),O=E(58750);function A(K,Q){return Q?q=>(0,_.x)(Q.pipe((0,B.s)(1),function S(){return(0,H.N)((K,Q)=>{K.subscribe((0,b._)(Q,k.l))})}()),q.pipe(A(K))):(0,R.Z)((q,Y)=>(0,O.Tg)(K(q,Y)).pipe((0,B.s)(1),(0,P.u)(q)))}var V=E(41584);function U(K,Q=g.E){const q=(0,V.O)(K,Q);return A(()=>q)}},23294:($e,j,E)=>{"use strict";E.d(j,{F:()=>H});var g=E(33669),_=E(39974),B=E(54360);function H(k,S=g.D){return k=k??b,(0,_.N)((P,R)=>{let O,A=!0;P.subscribe((0,B._)(R,V=>{const U=S(V);(A||!k(O,U))&&(A=!1,O=U,R.next(V))}))})}function b(k,S){return k===S}},5964:($e,j,E)=>{"use strict";E.d(j,{p:()=>B});var g=E(39974),_=E(54360);function B(H,b){return(0,g.N)((k,S)=>{let P=0;k.subscribe((0,_._)(S,R=>H.call(b,R,P++)&&S.next(R)))})}},70980:($e,j,E)=>{"use strict";E.d(j,{j:()=>_});var g=E(39974);function _(B){return(0,g.N)((H,b)=>{try{H.subscribe(b)}finally{b.add(B)}})}},96354:($e,j,E)=>{"use strict";E.d(j,{T:()=>B});var g=E(39974),_=E(54360);function B(H,b){return(0,g.N)((k,S)=>{let P=0;k.subscribe((0,_._)(S,R=>{S.next(H.call(b,R,P++))}))})}},73703:($e,j,E)=>{"use strict";E.d(j,{u:()=>_});var g=E(96354);function _(B){return(0,g.T)(()=>B)}},26365:($e,j,E)=>{"use strict";E.d(j,{U:()=>B});var g=E(31397),_=E(33669);function B(H=1/0){return(0,g.Z)(_.D,H)}},31397:($e,j,E)=>{"use strict";E.d(j,{Z:()=>P});var g=E(96354),_=E(58750),B=E(39974),H=E(45225),b=E(54360),S=E(98071);function P(R,O,A=1/0){return(0,S.T)(O)?P((V,U)=>(0,g.T)((K,Q)=>O(V,K,U,Q))((0,_.Tg)(R(V,U))),A):("number"==typeof O&&(A=O),(0,B.N)((V,U)=>function k(R,O,A,V,U,K,Q,q){const Y=[];let W=0,re=0,ie=!1;const ae=()=>{ie&&!Y.length&&!W&&O.complete()},ue=pe=>W<V?ce(pe):Y.push(pe),ce=pe=>{K&&O.next(pe),W++;let ve=!1;(0,_.Tg)(A(pe,re++)).subscribe((0,b._)(O,De=>{U?.(De),K?ue(De):O.next(De)},()=>{ve=!0},void 0,()=>{if(ve)try{for(W--;Y.length&&W<V;){const De=Y.shift();Q?(0,H.N)(O,Q,()=>ce(De)):ce(De)}ae()}catch(De){O.error(De)}}))};return R.subscribe((0,b._)(O,ue,()=>{ie=!0,ae()})),()=>{q?.()}}(V,U,R,A)))}},99898:($e,j,E)=>{"use strict";E.d(j,{B:()=>B});var g=E(39974),_=E(54360);function B(){return(0,g.N)((H,b)=>{let k=null;H._refCount++;const S=(0,_._)(b,void 0,void 0,void 0,()=>{if(!H||H._refCount<=0||0<--H._refCount)return void(k=null);const P=H._connection,R=k;k=null,P&&(!R||P===R)&&P.unsubscribe(),b.unsubscribe()});H.subscribe(S),S.closed||(k=H.connect())})}},97647:($e,j,E)=>{"use strict";E.d(j,{u:()=>b});var g=E(58750),_=E(21413),B=E(47707),H=E(39974);function b(S={}){const{connector:P=(()=>new _.B),resetOnError:R=!0,resetOnComplete:O=!0,resetOnRefCountZero:A=!0}=S;return V=>{let U,K,Q,q=0,Y=!1,W=!1;const re=()=>{K?.unsubscribe(),K=void 0},ie=()=>{re(),U=Q=void 0,Y=W=!1},ae=()=>{const ue=U;ie(),ue?.unsubscribe()};return(0,H.N)((ue,ce)=>{q++,!W&&!Y&&re();const pe=Q=Q??P();ce.add(()=>{q--,0===q&&!W&&!Y&&(K=k(ae,A))}),pe.subscribe(ce),!U&&q>0&&(U=new B.Ms({next:ve=>pe.next(ve),error:ve=>{W=!0,re(),K=k(ie,R,ve),pe.error(ve)},complete:()=>{Y=!0,re(),K=k(ie,O),pe.complete()}}),(0,g.Tg)(ue).subscribe(U))})(V)}}function k(S,P,...R){if(!0===P)return void S();if(!1===P)return;const O=new B.Ms({next:()=>{O.unsubscribe(),S()}});return(0,g.Tg)(P(...R)).subscribe(O)}},44668:($e,j,E)=>{"use strict";E.d(j,{t:()=>B});var g=E(92771),_=E(97647);function B(H,b,k){let S,P=!1;return H&&"object"==typeof H?({bufferSize:S=1/0,windowTime:b=1/0,refCount:P=!1,scheduler:k}=H):S=H??1/0,(0,_.u)({connector:()=>new g.m(S,b,k),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:P})}},65245:($e,j,E)=>{"use strict";E.d(j,{i:()=>_});var g=E(5964);function _(B){return(0,g.p)((H,b)=>B<=b)}},99172:($e,j,E)=>{"use strict";E.d(j,{Z:()=>H});var g=E(28793),_=E(9326),B=E(39974);function H(...b){const k=(0,_.lI)(b);return(0,B.N)((S,P)=>{(k?(0,g.x)(b,S,k):(0,g.x)(b,S)).subscribe(P)})}},25558:($e,j,E)=>{"use strict";E.d(j,{n:()=>H});var g=E(58750),_=E(39974),B=E(54360);function H(b,k){return(0,_.N)((S,P)=>{let R=null,O=0,A=!1;const V=()=>A&&!R&&P.complete();S.subscribe((0,B._)(P,U=>{R?.unsubscribe();let K=0;const Q=O++;(0,g.Tg)(b(U,Q)).subscribe(R=(0,B._)(P,q=>P.next(k?k(U,q,Q,K++):q),()=>{R=null,V()}))},()=>{A=!0,V()}))})}},96697:($e,j,E)=>{"use strict";E.d(j,{s:()=>H});var g=E(983),_=E(39974),B=E(54360);function H(b){return b<=0?()=>g.w:(0,_.N)((k,S)=>{let P=0;k.subscribe((0,B._)(S,R=>{++P<=b&&(S.next(R),b<=P&&S.complete())}))})}},56977:($e,j,E)=>{"use strict";E.d(j,{Q:()=>b});var g=E(39974),_=E(54360),B=E(58750),H=E(85343);function b(k){return(0,g.N)((S,P)=>{(0,B.Tg)(k).subscribe((0,_._)(P,()=>P.complete(),H.l)),!P.closed&&S.subscribe(P)})}},88141:($e,j,E)=>{"use strict";E.d(j,{M:()=>b});var g=E(98071),_=E(39974),B=E(54360),H=E(33669);function b(k,S,P){const R=(0,g.T)(k)||S||P?{next:k,error:S,complete:P}:k;return R?(0,_.N)((O,A)=>{var V;null===(V=R.subscribe)||void 0===V||V.call(R);let U=!0;O.subscribe((0,B._)(A,K=>{var Q;null===(Q=R.next)||void 0===Q||Q.call(R,K),A.next(K)},()=>{var K;U=!1,null===(K=R.complete)||void 0===K||K.call(R),A.complete()},K=>{var Q;U=!1,null===(Q=R.error)||void 0===Q||Q.call(R,K),A.error(K)},()=>{var K,Q;U&&(null===(K=R.unsubscribe)||void 0===K||K.call(R)),null===(Q=R.finalize)||void 0===Q||Q.call(R)}))}):H.D}},96780:($e,j,E)=>{"use strict";E.d(j,{R:()=>b});var g=E(18359);class _ extends g.yU{constructor(S,P){super()}schedule(S,P=0){return this}}const B={setInterval(k,S,...P){const{delegate:R}=B;return R?.setInterval?R.setInterval(k,S,...P):setInterval(k,S,...P)},clearInterval(k){const{delegate:S}=B;return(S?.clearInterval||clearInterval)(k)},delegate:void 0};var H=E(57908);class b extends _{constructor(S,P){super(S,P),this.scheduler=S,this.work=P,this.pending=!1}schedule(S,P=0){var R;if(this.closed)return this;this.state=S;const O=this.id,A=this.scheduler;return null!=O&&(this.id=this.recycleAsyncId(A,O,P)),this.pending=!0,this.delay=P,this.id=null!==(R=this.id)&&void 0!==R?R:this.requestAsyncId(A,this.id,P),this}requestAsyncId(S,P,R=0){return B.setInterval(S.flush.bind(S,this),R)}recycleAsyncId(S,P,R=0){if(null!=R&&this.delay===R&&!1===this.pending)return P;null!=P&&B.clearInterval(P)}execute(S,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const R=this._execute(S,P);if(R)return R;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,P){let O,R=!1;try{this.work(S)}catch(A){R=!0,O=A||new Error("Scheduled action threw falsy error")}if(R)return this.unsubscribe(),O}unsubscribe(){if(!this.closed){const{id:S,scheduler:P}=this,{actions:R}=P;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.o)(R,this),null!=S&&(this.id=this.recycleAsyncId(P,S,null)),this.delay=null,super.unsubscribe()}}}},39687:($e,j,E)=>{"use strict";E.d(j,{q:()=>B});var g=E(86129);class _{constructor(b,k=_.now){this.schedulerActionCtor=b,this.now=k}schedule(b,k=0,S){return new this.schedulerActionCtor(this,b).schedule(S,k)}}_.now=g.U.now;class B extends _{constructor(b,k=_.now){super(b,k),this.actions=[],this._active=!1}flush(b){const{actions:k}=this;if(this._active)return void k.push(b);let S;this._active=!0;do{if(S=b.execute(b.state,b.delay))break}while(b=k.shift());if(this._active=!1,S){for(;b=k.shift();)b.unsubscribe();throw S}}}},30536:($e,j,E)=>{"use strict";E.d(j,{X:()=>S});var g=E(96780),_=E(18359);const B={schedule(R){let O=requestAnimationFrame,A=cancelAnimationFrame;const{delegate:V}=B;V&&(O=V.requestAnimationFrame,A=V.cancelAnimationFrame);const U=O(K=>{A=void 0,R(K)});return new _.yU(()=>A?.(U))},requestAnimationFrame(...R){const{delegate:O}=B;return(O?.requestAnimationFrame||requestAnimationFrame)(...R)},cancelAnimationFrame(...R){const{delegate:O}=B;return(O?.cancelAnimationFrame||cancelAnimationFrame)(...R)},delegate:void 0};var b=E(39687);const S=new class k extends b.q{flush(O){this._active=!0;const A=this._scheduled;this._scheduled=void 0;const{actions:V}=this;let U;O=O||V.shift();do{if(U=O.execute(O.state,O.delay))break}while((O=V[0])&&O.id===A&&V.shift());if(this._active=!1,U){for(;(O=V[0])&&O.id===A&&V.shift();)O.unsubscribe();throw U}}}(class H extends g.R{constructor(O,A){super(O,A),this.scheduler=O,this.work=A}requestAsyncId(O,A,V=0){return null!==V&&V>0?super.requestAsyncId(O,A,V):(O.actions.push(this),O._scheduled||(O._scheduled=B.requestAnimationFrame(()=>O.flush(void 0))))}recycleAsyncId(O,A,V=0){var U;if(null!=V?V>0:this.delay>0)return super.recycleAsyncId(O,A,V);const{actions:K}=O;null!=A&&(null===(U=K[K.length-1])||void 0===U?void 0:U.id)!==A&&(B.cancelAnimationFrame(A),O._scheduled=void 0)}})},25007:($e,j,E)=>{"use strict";E.d(j,{$:()=>K});var g=E(96780);let B,_=1;const H={};function b(q){return q in H&&(delete H[q],!0)}const k={setImmediate(q){const Y=_++;return H[Y]=!0,B||(B=Promise.resolve()),B.then(()=>b(Y)&&q()),Y},clearImmediate(q){b(q)}},{setImmediate:P,clearImmediate:R}=k,O={setImmediate(...q){const{delegate:Y}=O;return(Y?.setImmediate||P)(...q)},clearImmediate(q){const{delegate:Y}=O;return(Y?.clearImmediate||R)(q)},delegate:void 0};var V=E(39687);const K=new class U extends V.q{flush(Y){this._active=!0;const W=this._scheduled;this._scheduled=void 0;const{actions:re}=this;let ie;Y=Y||re.shift();do{if(ie=Y.execute(Y.state,Y.delay))break}while((Y=re[0])&&Y.id===W&&re.shift());if(this._active=!1,ie){for(;(Y=re[0])&&Y.id===W&&re.shift();)Y.unsubscribe();throw ie}}}(class A extends g.R{constructor(Y,W){super(Y,W),this.scheduler=Y,this.work=W}requestAsyncId(Y,W,re=0){return null!==re&&re>0?super.requestAsyncId(Y,W,re):(Y.actions.push(this),Y._scheduled||(Y._scheduled=O.setImmediate(Y.flush.bind(Y,void 0))))}recycleAsyncId(Y,W,re=0){var ie;if(null!=re?re>0:this.delay>0)return super.recycleAsyncId(Y,W,re);const{actions:ae}=Y;null!=W&&(null===(ie=ae[ae.length-1])||void 0===ie?void 0:ie.id)!==W&&(O.clearImmediate(W),Y._scheduled===W&&(Y._scheduled=void 0))}})},43236:($e,j,E)=>{"use strict";E.d(j,{E:()=>B,b:()=>H});var g=E(96780);const B=new(E(39687).q)(g.R),H=B},86129:($e,j,E)=>{"use strict";E.d(j,{U:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},19270:($e,j,E)=>{"use strict";E.d(j,{f:()=>g});const g={setTimeout(_,B,...H){const{delegate:b}=g;return b?.setTimeout?b.setTimeout(_,B,...H):setTimeout(_,B,...H)},clearTimeout(_){const{delegate:B}=g;return(B?.clearTimeout||clearTimeout)(_)},delegate:void 0}},4761:($e,j,E)=>{"use strict";E.d(j,{l:()=>_});const _=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:($e,j,E)=>{"use strict";E.d(j,{s:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:($e,j,E)=>{"use strict";E.d(j,{R0:()=>k,lI:()=>b,ms:()=>H});var g=E(98071),_=E(79470);function B(S){return S[S.length-1]}function H(S){return(0,g.T)(B(S))?S.pop():void 0}function b(S){return(0,_.m)(B(S))?S.pop():void 0}function k(S,P){return"number"==typeof B(S)?S.pop():P}},93073:($e,j,E)=>{"use strict";E.d(j,{D:()=>b});const{isArray:g}=Array,{getPrototypeOf:_,prototype:B,keys:H}=Object;function b(S){if(1===S.length){const P=S[0];if(g(P))return{args:P,keys:null};if(function k(S){return S&&"object"==typeof S&&_(S)===B}(P)){const R=H(P);return{args:R.map(O=>P[O]),keys:R}}}return{args:S,keys:null}}},57908:($e,j,E)=>{"use strict";function g(_,B){if(_){const H=_.indexOf(B);0<=H&&_.splice(H,1)}}E.d(j,{o:()=>g})},81853:($e,j,E)=>{"use strict";function g(_){const H=_(b=>{Error.call(b),b.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}E.d(j,{L:()=>g})},58496:($e,j,E)=>{"use strict";function g(_,B){return _.reduce((H,b,k)=>(H[b]=B[k],H),{})}E.d(j,{e:()=>g})},49786:($e,j,E)=>{"use strict";E.d(j,{Y:()=>B,l:()=>H});var g=E(41026);let _=null;function B(b){if(g.$.useDeprecatedSynchronousErrorHandling){const k=!_;if(k&&(_={errorThrown:!1,error:null}),b(),k){const{errorThrown:S,error:P}=_;if(_=null,S)throw P}}else b()}function H(b){g.$.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=b)}},45225:($e,j,E)=>{"use strict";function g(_,B,H,b=0,k=!1){const S=B.schedule(function(){H(),k?_.add(this.schedule(null,b)):this.unsubscribe()},b);if(_.add(S),!k)return S}E.d(j,{N:()=>g})},33669:($e,j,E)=>{"use strict";function g(_){return _}E.d(j,{D:()=>g})},47441:($e,j,E)=>{"use strict";E.d(j,{X:()=>g});const g=_=>_&&"number"==typeof _.length&&"function"!=typeof _},37953:($e,j,E)=>{"use strict";E.d(j,{T:()=>_});var g=E(98071);function _(B){return Symbol.asyncIterator&&(0,g.T)(B?.[Symbol.asyncIterator])}},98071:($e,j,E)=>{"use strict";function g(_){return"function"==typeof _}E.d(j,{T:()=>g})},55055:($e,j,E)=>{"use strict";E.d(j,{l:()=>B});var g=E(3494),_=E(98071);function B(H){return(0,_.T)(H[g.s])}},85397:($e,j,E)=>{"use strict";E.d(j,{x:()=>B});var g=E(4761),_=E(98071);function B(H){return(0,_.T)(H?.[g.l])}},74402:($e,j,E)=>{"use strict";E.d(j,{A:()=>B});var g=E(71985),_=E(98071);function B(H){return!!H&&(H instanceof g.c||(0,_.T)(H.lift)&&(0,_.T)(H.subscribe))}},59858:($e,j,E)=>{"use strict";E.d(j,{y:()=>_});var g=E(98071);function _(B){return(0,g.T)(B?.then)}},15196:($e,j,E)=>{"use strict";E.d(j,{C:()=>B,U:()=>H});var g=E(31635),_=E(98071);function B(b){return(0,g.AQ)(this,arguments,function*(){const S=b.getReader();try{for(;;){const{value:P,done:R}=yield(0,g.N3)(S.read());if(R)return yield(0,g.N3)(void 0);yield yield(0,g.N3)(P)}}finally{S.releaseLock()}})}function H(b){return(0,_.T)(b?.getReader)}},79470:($e,j,E)=>{"use strict";E.d(j,{m:()=>_});var g=E(98071);function _(B){return B&&(0,g.T)(B.schedule)}},39974:($e,j,E)=>{"use strict";E.d(j,{N:()=>B,S:()=>_});var g=E(98071);function _(H){return(0,g.T)(H?.lift)}function B(H){return b=>{if(_(b))return b.lift(function(k){try{return H(k,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:($e,j,E)=>{"use strict";E.d(j,{I:()=>H});var g=E(96354);const{isArray:_}=Array;function H(b){return(0,g.T)(k=>function B(b,k){return _(k)?b(...k):b(k)}(b,k))}},85343:($e,j,E)=>{"use strict";function g(){}E.d(j,{l:()=>g})},71203:($e,j,E)=>{"use strict";E.d(j,{F:()=>_,m:()=>B});var g=E(33669);function _(...H){return B(H)}function B(H){return 0===H.length?g.D:1===H.length?H[0]:function(k){return H.reduce((S,P)=>P(S),k)}}},45334:($e,j,E)=>{"use strict";E.d(j,{m:()=>B});var g=E(41026),_=E(19270);function B(H){_.f.setTimeout(()=>{const{onUnhandledError:b}=g.$;if(!b)throw H;b(H)})}},50591:($e,j,E)=>{"use strict";function g(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(j,{L:()=>g})},27054:($e,j,E)=>{var g=E(83838),_=g.Buffer;function B(b,k){for(var S in b)k[S]=b[S]}function H(b,k,S){return _(b,k,S)}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?$e.exports=g:(B(g,j),j.Buffer=H),H.prototype=Object.create(_.prototype),B(_,H),H.from=function(b,k,S){if("number"==typeof b)throw new TypeError("Argument must not be a number");return _(b,k,S)},H.alloc=function(b,k,S){if("number"!=typeof b)throw new TypeError("Argument must be a number");var P=_(b);return void 0!==k?"string"==typeof S?P.fill(k,S):P.fill(k):P.fill(0),P},H.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return _(b)},H.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return g.SlowBuffer(b)}},70463:($e,j,E)=>{var g=E(27054).Buffer;function _(B,H){this._block=g.alloc(B),this._finalSize=H,this._blockSize=B,this._len=0}_.prototype.update=function(B,H){"string"==typeof B&&(B=g.from(B,H=H||"utf8"));for(var b=this._block,k=this._blockSize,S=B.length,P=this._len,R=0;R<S;){for(var O=P%k,A=Math.min(S-R,k-O),V=0;V<A;V++)b[O+V]=B[R+V];R+=A,(P+=A)%k==0&&this._update(b)}return this._len+=S,this},_.prototype.digest=function(B){var H=this._len%this._blockSize;this._block[H]=128,this._block.fill(0,H+1),H>=this._finalSize&&(this._update(this._block),this._block.fill(0));var b=8*this._len;if(b<=4294967295)this._block.writeUInt32BE(b,this._blockSize-4);else{var k=(4294967295&b)>>>0;this._block.writeUInt32BE((b-k)/4294967296,this._blockSize-8),this._block.writeUInt32BE(k,this._blockSize-4)}this._update(this._block);var P=this._hash();return B?P.toString(B):P},_.prototype._update=function(){throw new Error("_update must be implemented by subclass")},$e.exports=_},25443:($e,j,E)=>{var g=$e.exports=function(B){B=B.toLowerCase();var H=g[B];if(!H)throw new Error(B+" is not supported (we accept pull requests)");return new H};g.sha=E(48585),g.sha1=E(21270),g.sha224=E(42709),g.sha256=E(32148),g.sha384=E(51856),g.sha512=E(3121)},48585:($e,j,E)=>{var g=E(71993),_=E(70463),B=E(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function k(){this.init(),this._w=b,_.call(this,64,56)}function S(O){return O<<5|O>>>27}function P(O){return O<<30|O>>>2}function R(O,A,V,U){return 0===O?A&V|~A&U:2===O?A&V|A&U|V&U:A^V^U}g(k,_),k.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},k.prototype._update=function(O){for(var A=this._w,V=0|this._a,U=0|this._b,K=0|this._c,Q=0|this._d,q=0|this._e,Y=0;Y<16;++Y)A[Y]=O.readInt32BE(4*Y);for(;Y<80;++Y)A[Y]=A[Y-3]^A[Y-8]^A[Y-14]^A[Y-16];for(var W=0;W<80;++W){var re=~~(W/20),ie=S(V)+R(re,U,K,Q)+q+A[W]+H[re]|0;q=Q,Q=K,K=P(U),U=V,V=ie}this._a=V+this._a|0,this._b=U+this._b|0,this._c=K+this._c|0,this._d=Q+this._d|0,this._e=q+this._e|0},k.prototype._hash=function(){var O=B.allocUnsafe(20);return O.writeInt32BE(0|this._a,0),O.writeInt32BE(0|this._b,4),O.writeInt32BE(0|this._c,8),O.writeInt32BE(0|this._d,12),O.writeInt32BE(0|this._e,16),O},$e.exports=k},21270:($e,j,E)=>{var g=E(71993),_=E(70463),B=E(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function k(){this.init(),this._w=b,_.call(this,64,56)}function S(A){return A<<1|A>>>31}function P(A){return A<<5|A>>>27}function R(A){return A<<30|A>>>2}function O(A,V,U,K){return 0===A?V&U|~V&K:2===A?V&U|V&K|U&K:V^U^K}g(k,_),k.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},k.prototype._update=function(A){for(var V=this._w,U=0|this._a,K=0|this._b,Q=0|this._c,q=0|this._d,Y=0|this._e,W=0;W<16;++W)V[W]=A.readInt32BE(4*W);for(;W<80;++W)V[W]=S(V[W-3]^V[W-8]^V[W-14]^V[W-16]);for(var re=0;re<80;++re){var ie=~~(re/20),ae=P(U)+O(ie,K,Q,q)+Y+V[re]+H[ie]|0;Y=q,q=Q,Q=R(K),K=U,U=ae}this._a=U+this._a|0,this._b=K+this._b|0,this._c=Q+this._c|0,this._d=q+this._d|0,this._e=Y+this._e|0},k.prototype._hash=function(){var A=B.allocUnsafe(20);return A.writeInt32BE(0|this._a,0),A.writeInt32BE(0|this._b,4),A.writeInt32BE(0|this._c,8),A.writeInt32BE(0|this._d,12),A.writeInt32BE(0|this._e,16),A},$e.exports=k},42709:($e,j,E)=>{var g=E(71993),_=E(32148),B=E(70463),H=E(27054).Buffer,b=new Array(64);function k(){this.init(),this._w=b,B.call(this,64,56)}g(k,_),k.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},k.prototype._hash=function(){var S=H.allocUnsafe(28);return S.writeInt32BE(this._a,0),S.writeInt32BE(this._b,4),S.writeInt32BE(this._c,8),S.writeInt32BE(this._d,12),S.writeInt32BE(this._e,16),S.writeInt32BE(this._f,20),S.writeInt32BE(this._g,24),S},$e.exports=k},32148:($e,j,E)=>{var g=E(71993),_=E(70463),B=E(27054).Buffer,H=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],b=new Array(64);function k(){this.init(),this._w=b,_.call(this,64,56)}function S(U,K,Q){return Q^U&(K^Q)}function P(U,K,Q){return U&K|Q&(U|K)}function R(U){return(U>>>2|U<<30)^(U>>>13|U<<19)^(U>>>22|U<<10)}function O(U){return(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7)}function A(U){return(U>>>7|U<<25)^(U>>>18|U<<14)^U>>>3}function V(U){return(U>>>17|U<<15)^(U>>>19|U<<13)^U>>>10}g(k,_),k.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},k.prototype._update=function(U){for(var K=this._w,Q=0|this._a,q=0|this._b,Y=0|this._c,W=0|this._d,re=0|this._e,ie=0|this._f,ae=0|this._g,ue=0|this._h,ce=0;ce<16;++ce)K[ce]=U.readInt32BE(4*ce);for(;ce<64;++ce)K[ce]=V(K[ce-2])+K[ce-7]+A(K[ce-15])+K[ce-16]|0;for(var pe=0;pe<64;++pe){var ve=ue+O(re)+S(re,ie,ae)+H[pe]+K[pe]|0,De=R(Q)+P(Q,q,Y)|0;ue=ae,ae=ie,ie=re,re=W+ve|0,W=Y,Y=q,q=Q,Q=ve+De|0}this._a=Q+this._a|0,this._b=q+this._b|0,this._c=Y+this._c|0,this._d=W+this._d|0,this._e=re+this._e|0,this._f=ie+this._f|0,this._g=ae+this._g|0,this._h=ue+this._h|0},k.prototype._hash=function(){var U=B.allocUnsafe(32);return U.writeInt32BE(this._a,0),U.writeInt32BE(this._b,4),U.writeInt32BE(this._c,8),U.writeInt32BE(this._d,12),U.writeInt32BE(this._e,16),U.writeInt32BE(this._f,20),U.writeInt32BE(this._g,24),U.writeInt32BE(this._h,28),U},$e.exports=k},51856:($e,j,E)=>{var g=E(71993),_=E(3121),B=E(70463),H=E(27054).Buffer,b=new Array(160);function k(){this.init(),this._w=b,B.call(this,128,112)}g(k,_),k.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},k.prototype._hash=function(){var S=H.allocUnsafe(48);function P(R,O,A){S.writeInt32BE(R,A),S.writeInt32BE(O,A+4)}return P(this._ah,this._al,0),P(this._bh,this._bl,8),P(this._ch,this._cl,16),P(this._dh,this._dl,24),P(this._eh,this._el,32),P(this._fh,this._fl,40),S},$e.exports=k},3121:($e,j,E)=>{var g=E(71993),_=E(70463),B=E(27054).Buffer,H=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],b=new Array(160);function k(){this.init(),this._w=b,_.call(this,128,112)}function S(q,Y,W){return W^q&(Y^W)}function P(q,Y,W){return q&Y|W&(q|Y)}function R(q,Y){return(q>>>28|Y<<4)^(Y>>>2|q<<30)^(Y>>>7|q<<25)}function O(q,Y){return(q>>>14|Y<<18)^(q>>>18|Y<<14)^(Y>>>9|q<<23)}function A(q,Y){return(q>>>1|Y<<31)^(q>>>8|Y<<24)^q>>>7}function V(q,Y){return(q>>>1|Y<<31)^(q>>>8|Y<<24)^(q>>>7|Y<<25)}function U(q,Y){return(q>>>19|Y<<13)^(Y>>>29|q<<3)^q>>>6}function K(q,Y){return(q>>>19|Y<<13)^(Y>>>29|q<<3)^(q>>>6|Y<<26)}function Q(q,Y){return q>>>0<Y>>>0?1:0}g(k,_),k.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},k.prototype._update=function(q){for(var Y=this._w,W=0|this._ah,re=0|this._bh,ie=0|this._ch,ae=0|this._dh,ue=0|this._eh,ce=0|this._fh,pe=0|this._gh,ve=0|this._hh,De=0|this._al,C=0|this._bl,s=0|this._cl,d=0|this._dl,h=0|this._el,f=0|this._fl,w=0|this._gl,I=0|this._hl,L=0;L<32;L+=2)Y[L]=q.readInt32BE(4*L),Y[L+1]=q.readInt32BE(4*L+4);for(;L<160;L+=2){var x=Y[L-30],a=Y[L-30+1],v=A(x,a),Z=V(a,x),z=U(x=Y[L-4],a=Y[L-4+1]),ee=K(a,x),Me=Y[L-32],Ge=Y[L-32+1],ge=Z+Y[L-14+1]|0,me=v+Y[L-14]+Q(ge,Z)|0;me=(me=me+z+Q(ge=ge+ee|0,ee)|0)+Me+Q(ge=ge+Ge|0,Ge)|0,Y[L]=me,Y[L+1]=ge}for(var Ue=0;Ue<160;Ue+=2){me=Y[Ue],ge=Y[Ue+1];var xe=P(W,re,ie),Ce=P(De,C,s),be=R(W,De),he=R(De,W),ne=O(ue,h),te=O(h,ue),de=H[Ue],_e=H[Ue+1],Ie=S(ue,ce,pe),He=S(h,f,w),Ve=I+te|0,xt=ve+ne+Q(Ve,I)|0;xt=(xt=(xt=xt+Ie+Q(Ve=Ve+He|0,He)|0)+de+Q(Ve=Ve+_e|0,_e)|0)+me+Q(Ve=Ve+ge|0,ge)|0;var Ne=he+Ce|0,ke=be+xe+Q(Ne,he)|0;ve=pe,I=w,pe=ce,w=f,ce=ue,f=h,ue=ae+xt+Q(h=d+Ve|0,d)|0,ae=ie,d=s,ie=re,s=C,re=W,C=De,W=xt+ke+Q(De=Ve+Ne|0,Ve)|0}this._al=this._al+De|0,this._bl=this._bl+C|0,this._cl=this._cl+s|0,this._dl=this._dl+d|0,this._el=this._el+h|0,this._fl=this._fl+f|0,this._gl=this._gl+w|0,this._hl=this._hl+I|0,this._ah=this._ah+W+Q(this._al,De)|0,this._bh=this._bh+re+Q(this._bl,C)|0,this._ch=this._ch+ie+Q(this._cl,s)|0,this._dh=this._dh+ae+Q(this._dl,d)|0,this._eh=this._eh+ue+Q(this._el,h)|0,this._fh=this._fh+ce+Q(this._fl,f)|0,this._gh=this._gh+pe+Q(this._gl,w)|0,this._hh=this._hh+ve+Q(this._hl,I)|0},k.prototype._hash=function(){var q=B.allocUnsafe(64);function Y(W,re,ie){q.writeInt32BE(W,ie),q.writeInt32BE(re,ie+4)}return Y(this._ah,this._al,0),Y(this._bh,this._bl,8),Y(this._ch,this._cl,16),Y(this._dh,this._dl,24),Y(this._eh,this._el,32),Y(this._fh,this._fl,40),Y(this._gh,this._gl,48),Y(this._hh,this._hl,56),q},$e.exports=k},18876:$e=>{"use strict";function E(H,b){return H+g(b)}function g(H){let b=H;return b-=b>>1&1431655765,b=(858993459&b)+(b>>2&858993459),16843009*(b+(b>>4)&252645135)>>24}function _(H,b){return H[0]-b[0]}function B(H){return H[1]}$e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(b,k){let S=this._internalPositionFor(b,!1);if(void 0===k)-1!==S&&(this._unsetInternalPos(S),this._unsetBit(b),this._changedLength=!0,this._changedData=!0);else{let P=!1;-1===S?(S=this._data.length,this._setBit(b),this._changedData=!0):P=!0,this._setInternalPos(S,b,k,P),this._changedLength=!0}}unset(b){this.set(b,void 0)}get(b){this._sortData();const k=this._internalPositionFor(b,!0);if(-1!==k)return this._data[k][1]}push(b){return this.set(this.length,b),this.length}get length(){if(this._sortData(),this._changedLength){const b=this._data[this._data.length-1];this._length=b?b[0]+1:0,this._changedLength=!1}return this._length}forEach(b){let k=0;for(;k<this.length;)b(this.get(k),k,this),k++}map(b){let k=0,S=new Array(this.length);for(;k<this.length;)S[k]=b(this.get(k),k,this),k++;return S}reduce(b,k){let S=0,P=k;for(;S<this.length;)P=b(P,this.get(S),S),S++;return P}find(b){let S,P,k=0;for(;k<this.length&&!S;)P=this.get(k),S=b(P),k++;return S?P:void 0}_internalPositionFor(b,k){const S=this._bytePosFor(b,k);if(S>=this._bitArrays.length)return-1;const P=this._bitArrays[S],R=b-7*S;return(P&1<<R)>0?this._bitArrays.slice(0,S).reduce(E,0)+g(P&~(4294967295<<R+1))-1:-1}_bytePosFor(b,k){const S=Math.floor(b/7),P=S+1;for(;!k&&this._bitArrays.length<P;)this._bitArrays.push(0);return S}_setBit(b){const k=this._bytePosFor(b,!1);this._bitArrays[k]|=1<<b-7*k}_unsetBit(b){const k=this._bytePosFor(b,!1);this._bitArrays[k]&=~(1<<b-7*k)}_setInternalPos(b,k,S,P){const R=this._data,O=[k,S];if(P)this._sortData(),R[b]=O;else{if(R.length)if(R[R.length-1][0]>=k)R.push(O);else if(R[0][0]<=k)R.unshift(O);else{const A=Math.round(R.length/2);this._data=R.slice(0,A).concat(O).concat(R.slice(A))}else this._data.push(O);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(b){this._data.splice(b,1)}_sortData(){this._changedData&&this._data.sort(_),this._changedData=!1}bitField(){const b=[];let R,k=8,S=0,P=0;const O=this._bitArrays.slice();for(;O.length||S;){0===S&&(R=O.shift(),S=7);const V=Math.min(S,k);P|=(R&~(255<<V))<<8-k,R>>>=V,S-=V,k-=V,(!k||!S&&!O.length)&&(b.push(P),P=0,k=8)}for(var A=b.length-1;A>0&&0===b[A];A--)b.pop();return b}compactArray(){return this._sortData(),this._data.map(B)}}},7045:($e,j,E)=>{$e.exports=B;var g=E(44356).EventEmitter;function B(){g.call(this)}E(71993)(B,g),B.Readable=E(19609),B.Writable=E(47849),B.Duplex=E(74075),B.Transform=E(2909),B.PassThrough=E(18823),B.finished=E(33139),B.pipeline=E(96249),B.Stream=B,B.prototype.pipe=function(H,b){var k=this;function S(K){H.writable&&!1===H.write(K)&&k.pause&&k.pause()}function P(){k.readable&&k.resume&&k.resume()}k.on("data",S),H.on("drain",P),!H._isStdio&&(!b||!1!==b.end)&&(k.on("end",O),k.on("close",A));var R=!1;function O(){R||(R=!0,H.end())}function A(){R||(R=!0,"function"==typeof H.destroy&&H.destroy())}function V(K){if(U(),0===g.listenerCount(this,"error"))throw K}function U(){k.removeListener("data",S),H.removeListener("drain",P),k.removeListener("end",O),k.removeListener("close",A),k.removeListener("error",V),H.removeListener("error",V),k.removeListener("end",U),k.removeListener("close",U),H.removeListener("close",U)}return k.on("error",V),H.on("error",V),k.on("end",U),k.on("close",U),H.on("close",U),H.emit("pipe",k),H}},78454:($e,j,E)=>{"use strict";var g=E(27054).Buffer,_=g.isEncoding||function(W){switch((W=""+W)&&W.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function b(W){var re;switch(this.encoding=function H(W){var re=function B(W){if(!W)return"utf8";for(var re;;)switch(W){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return W;default:if(re)return;W=(""+W).toLowerCase(),re=!0}}(W);if("string"!=typeof re&&(g.isEncoding===_||!_(W)))throw new Error("Unknown encoding: "+W);return re||W}(W),this.encoding){case"utf16le":this.text=V,this.end=U,re=4;break;case"utf8":this.fillLast=R,re=4;break;case"base64":this.text=K,this.end=Q,re=3;break;default:return this.write=q,void(this.end=Y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(re)}function k(W){return W<=127?0:W>>5==6?2:W>>4==14?3:W>>3==30?4:W>>6==2?-1:-2}function R(W){var re=this.lastTotal-this.lastNeed,ie=function P(W,re,ie){if(128!=(192&re[0]))return W.lastNeed=0,"\ufffd";if(W.lastNeed>1&&re.length>1){if(128!=(192&re[1]))return W.lastNeed=1,"\ufffd";if(W.lastNeed>2&&re.length>2&&128!=(192&re[2]))return W.lastNeed=2,"\ufffd"}}(this,W);return void 0!==ie?ie:this.lastNeed<=W.length?(W.copy(this.lastChar,re,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(W.copy(this.lastChar,re,0,W.length),void(this.lastNeed-=W.length))}function V(W,re){if((W.length-re)%2==0){var ie=W.toString("utf16le",re);if(ie){var ae=ie.charCodeAt(ie.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=W[W.length-2],this.lastChar[1]=W[W.length-1],ie.slice(0,-1)}return ie}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=W[W.length-1],W.toString("utf16le",re,W.length-1)}function U(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):re}function K(W,re){var ie=(W.length-re)%3;return 0===ie?W.toString("base64",re):(this.lastNeed=3-ie,this.lastTotal=3,1===ie?this.lastChar[0]=W[W.length-1]:(this.lastChar[0]=W[W.length-2],this.lastChar[1]=W[W.length-1]),W.toString("base64",re,W.length-ie))}function Q(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+this.lastChar.toString("base64",0,3-this.lastNeed):re}function q(W){return W.toString(this.encoding)}function Y(W){return W&&W.length?this.write(W):""}j.StringDecoder=b,b.prototype.write=function(W){if(0===W.length)return"";var re,ie;if(this.lastNeed){if(void 0===(re=this.fillLast(W)))return"";ie=this.lastNeed,this.lastNeed=0}else ie=0;return ie<W.length?re?re+this.text(W,ie):this.text(W,ie):re||""},b.prototype.end=function A(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+"\ufffd":re},b.prototype.text=function O(W,re){var ie=function S(W,re,ie){var ae=re.length-1;if(ae<ie)return 0;var ue=k(re[ae]);return ue>=0?(ue>0&&(W.lastNeed=ue-1),ue):--ae<ie||-2===ue?0:(ue=k(re[ae]))>=0?(ue>0&&(W.lastNeed=ue-2),ue):--ae<ie||-2===ue?0:(ue=k(re[ae]))>=0?(ue>0&&(2===ue?ue=0:W.lastNeed=ue-3),ue):0}(this,W,re);if(!this.lastNeed)return W.toString("utf8",re);this.lastTotal=ie;var ae=W.length-(ie-this.lastNeed);return W.copy(this.lastChar,0,ae),W.toString("utf8",re,ae)},b.prototype.fillLast=function(W){if(this.lastNeed<=W.length)return W.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);W.copy(this.lastChar,this.lastTotal-this.lastNeed,0,W.length),this.lastNeed-=W.length}},95568:function($e,j){!function(E){"use strict";function g(){for(var ut=arguments.length,Ke=Array(ut),We=0;We<ut;We++)Ke[We]=arguments[We];if(Ke.length>1){Ke[0]=Ke[0].slice(0,-1);for(var Bt=Ke.length-1,At=1;At<Bt;++At)Ke[At]=Ke[At].slice(1,-1);return Ke[Bt]=Ke[Bt].slice(1),Ke.join("")}return Ke[0]}function _(ut){return"(?:"+ut+")"}function B(ut){return void 0===ut?"undefined":null===ut?"null":Object.prototype.toString.call(ut).split(" ").pop().split("]").shift().toLowerCase()}function H(ut){return ut.toUpperCase()}function S(ut){var Ke="[A-Za-z]",Bt="[0-9]",fn=g(Bt,"[A-Fa-f]"),vn=_(_("%[EFef]"+fn+"%"+fn+fn+"%"+fn+fn)+"|"+_("%[89A-Fa-f]"+fn+"%"+fn+fn)+"|"+_("%"+fn+fn)),nr="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Bn=g("[\\:\\/\\?\\#\\[\\]\\@]",nr),qe=ut?"[\\uE000-\\uF8FF]":"[]",Oe=g(Ke,Bt,"[\\-\\.\\_\\~]",ut?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Je=_(Ke+g(Ke,Bt,"[\\+\\-\\.]")+"*"),Kt=_(_(vn+"|"+g(Oe,nr,"[\\:]"))+"*"),jn=(_(_("25[0-5]")+"|"+_("2[0-4]"+Bt)+"|"+_("1"+Bt+Bt)+"|"+_("[1-9]"+Bt)+"|"+Bt),_(_("25[0-5]")+"|"+_("2[0-4]"+Bt)+"|"+_("1"+Bt+Bt)+"|"+_("0?[1-9]"+Bt)+"|0?0?"+Bt)),zn=_(jn+"\\."+jn+"\\."+jn+"\\."+jn),or=_(fn+"{1,4}"),yr=_(_(or+"\\:"+or)+"|"+zn),Rr=_(_(or+"\\:")+"{6}"+yr),Ir=_("\\:\\:"+_(or+"\\:")+"{5}"+yr),Lr=_(_(or)+"?\\:\\:"+_(or+"\\:")+"{4}"+yr),fr=_(_(_(or+"\\:")+"{0,1}"+or)+"?\\:\\:"+_(or+"\\:")+"{3}"+yr),en=_(_(_(or+"\\:")+"{0,2}"+or)+"?\\:\\:"+_(or+"\\:")+"{2}"+yr),bn=_(_(_(or+"\\:")+"{0,3}"+or)+"?\\:\\:"+or+"\\:"+yr),Ft=_(_(_(or+"\\:")+"{0,4}"+or)+"?\\:\\:"+yr),_n=_(_(_(or+"\\:")+"{0,5}"+or)+"?\\:\\:"+or),Ut=_(_(_(or+"\\:")+"{0,6}"+or)+"?\\:\\:"),gn=_([Rr,Ir,Lr,fr,en,bn,Ft,_n,Ut].join("|")),Sn=_(_(Oe+"|"+vn)+"+"),ar=(_(gn+"\\%25"+Sn),_(gn+_("\\%25|\\%(?!"+fn+"{2})")+Sn)),oi=_("[vV]"+fn+"+\\."+g(Oe,nr,"[\\:]")+"+"),_i=_("\\["+_(ar+"|"+gn+"|"+oi)+"\\]"),Oi=_(_(vn+"|"+g(Oe,nr))+"*"),Fr=_(_i+"|"+zn+"(?!"+Oi+")|"+Oi),ci=_(Bt+"*"),_o=_(_(Kt+"@")+"?"+Fr+_("\\:"+ci)+"?"),Ii=_(vn+"|"+g(Oe,nr,"[\\:\\@]")),tn=_(Ii+"*"),dn=_(Ii+"+"),It=_(_(vn+"|"+g(Oe,nr,"[\\@]"))+"+"),wt=_(_("\\/"+tn)+"*"),sn=_("\\/"+_(dn+wt)+"?"),Yt=_(It+wt),an=_(dn+wt),xn="(?!"+Ii+")",Rn=(_(wt+"|"+sn+"|"+Yt+"|"+an+"|"+xn),_(_(Ii+"|"+g("[\\/\\?]",qe))+"*")),yn=_(_(Ii+"|[\\/\\?]")+"*"),$n=_(_("\\/\\/"+_o+wt)+"|"+sn+"|"+an+"|"+xn),Jt=_(Je+"\\:"+$n+_("\\?"+Rn)+"?"+_("\\#"+yn)+"?"),ct=_(_("\\/\\/"+_o+wt)+"|"+sn+"|"+Yt+"|"+xn),Et=_(ct+_("\\?"+Rn)+"?"+_("\\#"+yn)+"?");return _(Jt+"|"+Et),_(Je+"\\:"+$n+_("\\?"+Rn)+"?"),_(_("\\/\\/("+_("("+Kt+")@")+"?("+Fr+")"+_("\\:("+ci+")")+"?)")+"?("+wt+"|"+sn+"|"+an+"|"+xn+")"),_("\\?("+Rn+")"),_("\\#("+yn+")"),_(_("\\/\\/("+_("("+Kt+")@")+"?("+Fr+")"+_("\\:("+ci+")")+"?)")+"?("+wt+"|"+sn+"|"+Yt+"|"+xn+")"),_("\\?("+Rn+")"),_("\\#("+yn+")"),_(_("\\/\\/("+_("("+Kt+")@")+"?("+Fr+")"+_("\\:("+ci+")")+"?)")+"?("+wt+"|"+sn+"|"+an+"|"+xn+")"),_("\\?("+Rn+")"),_("\\#("+yn+")"),_("("+Kt+")@"),_("\\:("+ci+")"),{NOT_SCHEME:new RegExp(g("[^]",Ke,Bt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(g("[^\\%\\:]",Oe,nr),"g"),NOT_HOST:new RegExp(g("[^\\%\\[\\]\\:]",Oe,nr),"g"),NOT_PATH:new RegExp(g("[^\\%\\/\\:\\@]",Oe,nr),"g"),NOT_PATH_NOSCHEME:new RegExp(g("[^\\%\\/\\@]",Oe,nr),"g"),NOT_QUERY:new RegExp(g("[^\\%]",Oe,nr,"[\\:\\@\\/\\?]",qe),"g"),NOT_FRAGMENT:new RegExp(g("[^\\%]",Oe,nr,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(g("[^]",Oe,nr),"g"),UNRESERVED:new RegExp(Oe,"g"),OTHER_CHARS:new RegExp(g("[^\\%]",Oe,Bn),"g"),PCT_ENCODED:new RegExp(vn,"g"),IPV4ADDRESS:new RegExp("^("+zn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+gn+")"+_(_("\\%25|\\%(?!"+fn+"{2})")+"("+Sn+")")+"?\\]?$")}}var P=S(!1),R=S(!0),O=function(){return function(Ke,We){if(Array.isArray(Ke))return Ke;if(Symbol.iterator in Object(Ke))return function ut(Ke,We){var Bt=[],At=!0,fn=!1,Un=void 0;try{for(var vn,wn=Ke[Symbol.iterator]();!(At=(vn=wn.next()).done)&&(Bt.push(vn.value),!We||Bt.length!==We);At=!0);}catch(pr){fn=!0,Un=pr}finally{try{!At&&wn.return&&wn.return()}finally{if(fn)throw Un}}return Bt}(Ke,We);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),V=2147483647,U=36,ae=/^xn--/,ue=/[^\0-\x7E]/,ce=/[\x2E\u3002\uFF0E\uFF61]/g,pe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},De=Math.floor,C=String.fromCharCode;function s(ut){throw new RangeError(pe[ut])}function h(ut,Ke){var We=ut.split("@"),Bt="";return We.length>1&&(Bt=We[0]+"@",ut=We[1]),Bt+function d(ut,Ke){for(var We=[],Bt=ut.length;Bt--;)We[Bt]=Ke(ut[Bt]);return We}((ut=ut.replace(ce,".")).split("."),Ke).join(".")}function f(ut){for(var Ke=[],We=0,Bt=ut.length;We<Bt;){var At=ut.charCodeAt(We++);if(At>=55296&&At<=56319&&We<Bt){var fn=ut.charCodeAt(We++);56320==(64512&fn)?Ke.push(((1023&At)<<10)+(1023&fn)+65536):(Ke.push(At),We--)}else Ke.push(At)}return Ke}var I=function(Ke){return Ke-48<10?Ke-22:Ke-65<26?Ke-65:Ke-97<26?Ke-97:U},L=function(Ke,We){return Ke+22+75*(Ke<26)-((0!=We)<<5)},x=function(Ke,We,Bt){var At=0;for(Ke=Bt?De(Ke/700):Ke>>1,Ke+=De(Ke/We);Ke>455;At+=U)Ke=De(Ke/35);return De(At+36*Ke/(Ke+38))},a=function(Ke){var We=[],Bt=Ke.length,At=0,fn=128,Un=72,wn=Ke.lastIndexOf("-");wn<0&&(wn=0);for(var vn=0;vn<wn;++vn)Ke.charCodeAt(vn)>=128&&s("not-basic"),We.push(Ke.charCodeAt(vn));for(var pr=wn>0?wn+1:0;pr<Bt;){for(var nr=At,Bn=1,Fn=U;;Fn+=U){pr>=Bt&&s("invalid-input");var qe=I(Ke.charCodeAt(pr++));(qe>=U||qe>De((V-At)/Bn))&&s("overflow"),At+=qe*Bn;var Oe=Fn<=Un?1:Fn>=Un+26?26:Fn-Un;if(qe<Oe)break;var Je=U-Oe;Bn>De(V/Je)&&s("overflow"),Bn*=Je}var Kt=We.length+1;Un=x(At-nr,Kt,0==nr),De(At/Kt)>V-fn&&s("overflow"),fn+=De(At/Kt),At%=Kt,We.splice(At++,0,fn)}return String.fromCodePoint.apply(String,We)},v=function(Ke){var We=[],Bt=(Ke=f(Ke)).length,At=128,fn=0,Un=72,wn=!0,vn=!1,pr=void 0;try{for(var Bn,nr=Ke[Symbol.iterator]();!(wn=(Bn=nr.next()).done);wn=!0){var Fn=Bn.value;Fn<128&&We.push(C(Fn))}}catch(ar){vn=!0,pr=ar}finally{try{!wn&&nr.return&&nr.return()}finally{if(vn)throw pr}}var qe=We.length,Oe=qe;for(qe&&We.push("-");Oe<Bt;){var Je=V,Kt=!0,pn=!1,jn=void 0;try{for(var or,zn=Ke[Symbol.iterator]();!(Kt=(or=zn.next()).done);Kt=!0){var yr=or.value;yr>=At&&yr<Je&&(Je=yr)}}catch(ar){pn=!0,jn=ar}finally{try{!Kt&&zn.return&&zn.return()}finally{if(pn)throw jn}}var Rr=Oe+1;Je-At>De((V-fn)/Rr)&&s("overflow"),fn+=(Je-At)*Rr,At=Je;var Ir=!0,Lr=!1,fr=void 0;try{for(var bn,en=Ke[Symbol.iterator]();!(Ir=(bn=en.next()).done);Ir=!0){var Ft=bn.value;if(Ft<At&&++fn>V&&s("overflow"),Ft==At){for(var _n=fn,Ut=U;;Ut+=U){var gn=Ut<=Un?1:Ut>=Un+26?26:Ut-Un;if(_n<gn)break;var Sn=_n-gn,ur=U-gn;We.push(C(L(gn+Sn%ur,0))),_n=De(Sn/ur)}We.push(C(L(_n,0))),Un=x(fn,Rr,Oe==qe),fn=0,++Oe}}}catch(ar){Lr=!0,fr=ar}finally{try{!Ir&&en.return&&en.return()}finally{if(Lr)throw fr}}++fn,++At}return We.join("")},ee={version:"2.1.0",ucs2:{decode:f,encode:function(Ke){return String.fromCodePoint.apply(String,function(ut){if(Array.isArray(ut)){for(var Ke=0,We=Array(ut.length);Ke<ut.length;Ke++)We[Ke]=ut[Ke];return We}return Array.from(ut)}(Ke))}},decode:a,encode:v,toASCII:function(Ke){return h(Ke,function(We){return ue.test(We)?"xn--"+v(We):We})},toUnicode:function(Ke){return h(Ke,function(We){return ae.test(We)?a(We.slice(4).toLowerCase()):We})}},le={};function we(ut){var Ke=ut.charCodeAt(0);return Ke<16?"%0"+Ke.toString(16).toUpperCase():Ke<128?"%"+Ke.toString(16).toUpperCase():Ke<2048?"%"+(Ke>>6|192).toString(16).toUpperCase()+"%"+(63&Ke|128).toString(16).toUpperCase():"%"+(Ke>>12|224).toString(16).toUpperCase()+"%"+(Ke>>6&63|128).toString(16).toUpperCase()+"%"+(63&Ke|128).toString(16).toUpperCase()}function Me(ut){for(var Ke="",We=0,Bt=ut.length;We<Bt;){var At=parseInt(ut.substr(We+1,2),16);if(At<128)Ke+=String.fromCharCode(At),We+=3;else if(At>=194&&At<224){if(Bt-We>=6){var fn=parseInt(ut.substr(We+4,2),16);Ke+=String.fromCharCode((31&At)<<6|63&fn)}else Ke+=ut.substr(We,6);We+=6}else if(At>=224){if(Bt-We>=9){var Un=parseInt(ut.substr(We+4,2),16),wn=parseInt(ut.substr(We+7,2),16);Ke+=String.fromCharCode((15&At)<<12|(63&Un)<<6|63&wn)}else Ke+=ut.substr(We,9);We+=9}else Ke+=ut.substr(We,3),We+=3}return Ke}function Ge(ut,Ke){function We(Bt){var At=Me(Bt);return At.match(Ke.UNRESERVED)?At:Bt}return ut.scheme&&(ut.scheme=String(ut.scheme).replace(Ke.PCT_ENCODED,We).toLowerCase().replace(Ke.NOT_SCHEME,"")),void 0!==ut.userinfo&&(ut.userinfo=String(ut.userinfo).replace(Ke.PCT_ENCODED,We).replace(Ke.NOT_USERINFO,we).replace(Ke.PCT_ENCODED,H)),void 0!==ut.host&&(ut.host=String(ut.host).replace(Ke.PCT_ENCODED,We).toLowerCase().replace(Ke.NOT_HOST,we).replace(Ke.PCT_ENCODED,H)),void 0!==ut.path&&(ut.path=String(ut.path).replace(Ke.PCT_ENCODED,We).replace(ut.scheme?Ke.NOT_PATH:Ke.NOT_PATH_NOSCHEME,we).replace(Ke.PCT_ENCODED,H)),void 0!==ut.query&&(ut.query=String(ut.query).replace(Ke.PCT_ENCODED,We).replace(Ke.NOT_QUERY,we).replace(Ke.PCT_ENCODED,H)),void 0!==ut.fragment&&(ut.fragment=String(ut.fragment).replace(Ke.PCT_ENCODED,We).replace(Ke.NOT_FRAGMENT,we).replace(Ke.PCT_ENCODED,H)),ut}function ge(ut){return ut.replace(/^0*(.*)/,"$1")||"0"}function me(ut,Ke){var We=ut.match(Ke.IPV4ADDRESS)||[],At=O(We,2)[1];return At?At.split(".").map(ge).join("."):ut}function Ue(ut,Ke){var We=ut.match(Ke.IPV6ADDRESS)||[],Bt=O(We,3),At=Bt[1],fn=Bt[2];if(At){for(var Un=At.toLowerCase().split("::").reverse(),wn=O(Un,2),vn=wn[0],pr=wn[1],nr=pr?pr.split(":").map(ge):[],Bn=vn.split(":").map(ge),Fn=Ke.IPV4ADDRESS.test(Bn[Bn.length-1]),qe=Fn?7:8,Oe=Bn.length-qe,Je=Array(qe),Kt=0;Kt<qe;++Kt)Je[Kt]=nr[Kt]||Bn[Oe+Kt]||"";Fn&&(Je[qe-1]=me(Je[qe-1],Ke));var jn=Je.reduce(function(Rr,Ir,Lr){if(!Ir||"0"===Ir){var fr=Rr[Rr.length-1];fr&&fr.index+fr.length===Lr?fr.length++:Rr.push({index:Lr,length:1})}return Rr},[]).sort(function(Rr,Ir){return Ir.length-Rr.length})[0],zn=void 0;if(jn&&jn.length>1){var or=Je.slice(0,jn.index),yr=Je.slice(jn.index+jn.length);zn=or.join(":")+"::"+yr.join(":")}else zn=Je.join(":");return fn&&(zn+="%"+fn),zn}return ut}var xe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ce=void 0==="".match(/(){0}/)[1];function be(ut){var Ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},We={},Bt=!1!==Ke.iri?R:P;"suffix"===Ke.reference&&(ut=(Ke.scheme?Ke.scheme+":":"")+"//"+ut);var At=ut.match(xe);if(At){Ce?(We.scheme=At[1],We.userinfo=At[3],We.host=At[4],We.port=parseInt(At[5],10),We.path=At[6]||"",We.query=At[7],We.fragment=At[8],isNaN(We.port)&&(We.port=At[5])):(We.scheme=At[1]||void 0,We.userinfo=-1!==ut.indexOf("@")?At[3]:void 0,We.host=-1!==ut.indexOf("//")?At[4]:void 0,We.port=parseInt(At[5],10),We.path=At[6]||"",We.query=-1!==ut.indexOf("?")?At[7]:void 0,We.fragment=-1!==ut.indexOf("#")?At[8]:void 0,isNaN(We.port)&&(We.port=ut.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?At[4]:void 0)),We.host&&(We.host=Ue(me(We.host,Bt),Bt)),We.reference=void 0!==We.scheme||void 0!==We.userinfo||void 0!==We.host||void 0!==We.port||We.path||void 0!==We.query?void 0===We.scheme?"relative":void 0===We.fragment?"absolute":"uri":"same-document",Ke.reference&&"suffix"!==Ke.reference&&Ke.reference!==We.reference&&(We.error=We.error||"URI is not a "+Ke.reference+" reference.");var fn=le[(Ke.scheme||We.scheme||"").toLowerCase()];if(Ke.unicodeSupport||fn&&fn.unicodeSupport)Ge(We,Bt);else{if(We.host&&(Ke.domainHost||fn&&fn.domainHost))try{We.host=ee.toASCII(We.host.replace(Bt.PCT_ENCODED,Me).toLowerCase())}catch(Un){We.error=We.error||"Host's domain name can not be converted to ASCII via punycode: "+Un}Ge(We,P)}fn&&fn.parse&&fn.parse(We,Ke)}else We.error=We.error||"URI can not be parsed.";return We}var ne=/^\.\.?\//,te=/^\/\.(\/|$)/,de=/^\/\.\.(\/|$)/,_e=/^\/?(?:.|\n)*?(?=\/|$)/;function Ie(ut){for(var Ke=[];ut.length;)if(ut.match(ne))ut=ut.replace(ne,"");else if(ut.match(te))ut=ut.replace(te,"/");else if(ut.match(de))ut=ut.replace(de,"/"),Ke.pop();else if("."===ut||".."===ut)ut="";else{var We=ut.match(_e);if(!We)throw new Error("Unexpected dot segment condition");var Bt=We[0];ut=ut.slice(Bt.length),Ke.push(Bt)}return Ke.join("")}function He(ut){var Ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},We=Ke.iri?R:P,Bt=[],At=le[(Ke.scheme||ut.scheme||"").toLowerCase()];if(At&&At.serialize&&At.serialize(ut,Ke),ut.host&&!We.IPV6ADDRESS.test(ut.host)&&(Ke.domainHost||At&&At.domainHost))try{ut.host=Ke.iri?ee.toUnicode(ut.host):ee.toASCII(ut.host.replace(We.PCT_ENCODED,Me).toLowerCase())}catch(wn){ut.error=ut.error||"Host's domain name can not be converted to "+(Ke.iri?"Unicode":"ASCII")+" via punycode: "+wn}Ge(ut,We),"suffix"!==Ke.reference&&ut.scheme&&(Bt.push(ut.scheme),Bt.push(":"));var fn=function he(ut,Ke){var We=!1!==Ke.iri?R:P,Bt=[];return void 0!==ut.userinfo&&(Bt.push(ut.userinfo),Bt.push("@")),void 0!==ut.host&&Bt.push(Ue(me(String(ut.host),We),We).replace(We.IPV6ADDRESS,function(At,fn,Un){return"["+fn+(Un?"%25"+Un:"")+"]"})),("number"==typeof ut.port||"string"==typeof ut.port)&&(Bt.push(":"),Bt.push(String(ut.port))),Bt.length?Bt.join(""):void 0}(ut,Ke);if(void 0!==fn&&("suffix"!==Ke.reference&&Bt.push("//"),Bt.push(fn),ut.path&&"/"!==ut.path.charAt(0)&&Bt.push("/")),void 0!==ut.path){var Un=ut.path;!Ke.absolutePath&&(!At||!At.absolutePath)&&(Un=Ie(Un)),void 0===fn&&(Un=Un.replace(/^\/\//,"/%2F")),Bt.push(Un)}return void 0!==ut.query&&(Bt.push("?"),Bt.push(ut.query)),void 0!==ut.fragment&&(Bt.push("#"),Bt.push(ut.fragment)),Bt.join("")}function Ve(ut,Ke){var We=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},At={};return arguments[3]||(ut=be(He(ut,We),We),Ke=be(He(Ke,We),We)),!(We=We||{}).tolerant&&Ke.scheme?(At.scheme=Ke.scheme,At.userinfo=Ke.userinfo,At.host=Ke.host,At.port=Ke.port,At.path=Ie(Ke.path||""),At.query=Ke.query):(void 0!==Ke.userinfo||void 0!==Ke.host||void 0!==Ke.port?(At.userinfo=Ke.userinfo,At.host=Ke.host,At.port=Ke.port,At.path=Ie(Ke.path||""),At.query=Ke.query):(Ke.path?("/"===Ke.path.charAt(0)?At.path=Ie(Ke.path):(At.path=void 0===ut.userinfo&&void 0===ut.host&&void 0===ut.port||ut.path?ut.path?ut.path.slice(0,ut.path.lastIndexOf("/")+1)+Ke.path:Ke.path:"/"+Ke.path,At.path=Ie(At.path)),At.query=Ke.query):(At.path=ut.path,At.query=void 0!==Ke.query?Ke.query:ut.query),At.userinfo=ut.userinfo,At.host=ut.host,At.port=ut.port),At.scheme=ut.scheme),At.fragment=Ke.fragment,At}function F(ut,Ke){return ut&&ut.toString().replace(Ke&&Ke.iri?R.PCT_ENCODED:P.PCT_ENCODED,Me)}var D={scheme:"http",domainHost:!0,parse:function(Ke,We){return Ke.host||(Ke.error=Ke.error||"HTTP URIs must have a host."),Ke},serialize:function(Ke,We){var Bt="https"===String(Ke.scheme).toLowerCase();return(Ke.port===(Bt?443:80)||""===Ke.port)&&(Ke.port=void 0),Ke.path||(Ke.path="/"),Ke}},M={scheme:"https",domainHost:D.domainHost,parse:D.parse,serialize:D.serialize};function G(ut){return"boolean"==typeof ut.secure?ut.secure:"wss"===String(ut.scheme).toLowerCase()}var fe={scheme:"ws",domainHost:!0,parse:function(Ke,We){var Bt=Ke;return Bt.secure=G(Bt),Bt.resourceName=(Bt.path||"/")+(Bt.query?"?"+Bt.query:""),Bt.path=void 0,Bt.query=void 0,Bt},serialize:function(Ke,We){if((Ke.port===(G(Ke)?443:80)||""===Ke.port)&&(Ke.port=void 0),"boolean"==typeof Ke.secure&&(Ke.scheme=Ke.secure?"wss":"ws",Ke.secure=void 0),Ke.resourceName){var Bt=Ke.resourceName.split("?"),At=O(Bt,2),fn=At[0],Un=At[1];Ke.path=fn&&"/"!==fn?fn:void 0,Ke.query=Un,Ke.resourceName=void 0}return Ke.fragment=void 0,Ke}},Se={scheme:"wss",domainHost:fe.domainHost,parse:fe.parse,serialize:fe.serialize},Ae={},Ht="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",vt="[0-9A-Fa-f]",Ot=_(_("%[EFef]"+vt+"%"+vt+vt+"%"+vt+vt)+"|"+_("%[89A-Fa-f]"+vt+"%"+vt+vt)+"|"+_("%"+vt+vt)),ln=g("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Tn=new RegExp(Ht,"g"),rn=new RegExp(Ot,"g"),Xt=new RegExp(g("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ln),"g"),dt=new RegExp(g("[^]",Ht,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),it=dt;function Wt(ut){var Ke=Me(ut);return Ke.match(Tn)?Ke:ut}var Gt={scheme:"mailto",parse:function(Ke,We){var Bt=Ke,At=Bt.to=Bt.path?Bt.path.split(","):[];if(Bt.path=void 0,Bt.query){for(var fn=!1,Un={},wn=Bt.query.split("&"),vn=0,pr=wn.length;vn<pr;++vn){var nr=wn[vn].split("=");switch(nr[0]){case"to":for(var Bn=nr[1].split(","),Fn=0,qe=Bn.length;Fn<qe;++Fn)At.push(Bn[Fn]);break;case"subject":Bt.subject=F(nr[1],We);break;case"body":Bt.body=F(nr[1],We);break;default:fn=!0,Un[F(nr[0],We)]=F(nr[1],We)}}fn&&(Bt.headers=Un)}Bt.query=void 0;for(var Oe=0,Je=At.length;Oe<Je;++Oe){var Kt=At[Oe].split("@");if(Kt[0]=F(Kt[0]),We.unicodeSupport)Kt[1]=F(Kt[1],We).toLowerCase();else try{Kt[1]=ee.toASCII(F(Kt[1],We).toLowerCase())}catch(pn){Bt.error=Bt.error||"Email address's domain name can not be converted to ASCII via punycode: "+pn}At[Oe]=Kt.join("@")}return Bt},serialize:function(Ke,We){var Bt=Ke,At=function b(ut){return null!=ut?ut instanceof Array?ut:"number"!=typeof ut.length||ut.split||ut.setInterval||ut.call?[ut]:Array.prototype.slice.call(ut):[]}(Ke.to);if(At){for(var fn=0,Un=At.length;fn<Un;++fn){var wn=String(At[fn]),vn=wn.lastIndexOf("@"),pr=wn.slice(0,vn).replace(rn,Wt).replace(rn,H).replace(Xt,we),nr=wn.slice(vn+1);try{nr=We.iri?ee.toUnicode(nr):ee.toASCII(F(nr,We).toLowerCase())}catch(Oe){Bt.error=Bt.error||"Email address's domain name can not be converted to "+(We.iri?"Unicode":"ASCII")+" via punycode: "+Oe}At[fn]=pr+"@"+nr}Bt.path=At.join(",")}var Bn=Ke.headers=Ke.headers||{};Ke.subject&&(Bn.subject=Ke.subject),Ke.body&&(Bn.body=Ke.body);var Fn=[];for(var qe in Bn)Bn[qe]!==Ae[qe]&&Fn.push(qe.replace(rn,Wt).replace(rn,H).replace(dt,we)+"="+Bn[qe].replace(rn,Wt).replace(rn,H).replace(it,we));return Fn.length&&(Bt.query=Fn.join("&")),Bt}},nn=/^([^\:]+)\:(.*)/,Xn={scheme:"urn",parse:function(Ke,We){var Bt=Ke.path&&Ke.path.match(nn),At=Ke;if(Bt){var fn=We.scheme||At.scheme||"urn",Un=Bt[1].toLowerCase(),wn=Bt[2],pr=le[fn+":"+(We.nid||Un)];At.nid=Un,At.nss=wn,At.path=void 0,pr&&(At=pr.parse(At,We))}else At.error=At.error||"URN can not be parsed.";return At},serialize:function(Ke,We){var At=Ke.nid,Un=le[(We.scheme||Ke.scheme||"urn")+":"+(We.nid||At)];Un&&(Ke=Un.serialize(Ke,We));var wn=Ke;return wn.path=(At||We.nid)+":"+Ke.nss,wn}},ot=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ft={scheme:"urn:uuid",parse:function(Ke,We){var Bt=Ke;return Bt.uuid=Bt.nss,Bt.nss=void 0,!We.tolerant&&(!Bt.uuid||!Bt.uuid.match(ot))&&(Bt.error=Bt.error||"UUID is not valid."),Bt},serialize:function(Ke,We){var Bt=Ke;return Bt.nss=(Ke.uuid||"").toLowerCase(),Bt}};le[D.scheme]=D,le[M.scheme]=M,le[fe.scheme]=fe,le[Se.scheme]=Se,le[Gt.scheme]=Gt,le[Xn.scheme]=Xn,le[ft.scheme]=ft,E.SCHEMES=le,E.pctEncChar=we,E.pctDecChars=Me,E.parse=be,E.removeDotSegments=Ie,E.serialize=He,E.resolveComponents=Ve,E.resolve=function xt(ut,Ke,We){var Bt=function k(ut,Ke){var We=ut;if(Ke)for(var Bt in Ke)We[Bt]=Ke[Bt];return We}({scheme:"null"},We);return He(Ve(be(ut,Bt),be(Ke,Bt),Bt,!0),Bt)},E.normalize=function Ne(ut,Ke){return"string"==typeof ut?ut=He(be(ut,Ke),Ke):"object"===B(ut)&&(ut=be(He(ut,Ke),Ke)),ut},E.equal=function ke(ut,Ke,We){return"string"==typeof ut?ut=He(be(ut,We),We):"object"===B(ut)&&(ut=He(ut,We)),"string"==typeof Ke?Ke=He(be(Ke,We),We):"object"===B(Ke)&&(Ke=He(Ke,We)),ut===Ke},E.escapeComponent=function pt(ut,Ke){return ut&&ut.toString().replace(Ke&&Ke.iri?R.ESCAPE:P.ESCAPE,we)},E.unescapeComponent=F,Object.defineProperty(E,"__esModule",{value:!0})}(j)},3398:$e=>{function E(g){try{if(!globalThis.localStorage)return!1}catch{return!1}var _=globalThis.localStorage[g];return null!=_&&"true"===String(_).toLowerCase()}$e.exports=function j(g,_){if(E("noDeprecation"))return g;var B=!1;return function H(){if(!B){if(E("throwDeprecation"))throw new Error(_);E("traceDeprecation")?console.trace(_):console.warn(_),B=!0}return g.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},67490:($e,j,E)=>{var g=E(25172);function _(B){var H,b;function k(P,R){try{var O=B[P](R),A=O.value,V=A instanceof g;Promise.resolve(V?A.v:A).then(function(U){if(V){var K="return"===P?"return":"next";if(!A.k||U.done)return k(K,U);U=B[K](U).value}S(O.done?"return":"normal",U)},function(U){k("throw",U)})}catch(U){S("throw",U)}}function S(P,R){switch(P){case"return":H.resolve({value:R,done:!0});break;case"throw":H.reject(R);break;default:H.resolve({value:R,done:!1})}(H=H.next)?k(H.key,H.arg):b=null}this._invoke=function(P,R){return new Promise(function(O,A){var V={key:P,arg:R,resolve:O,reject:A,next:null};b?b=b.next=V:(H=b=V,k(P,R))})},"function"!=typeof B.return&&(this.return=void 0)}_.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_.prototype.next=function(B){return this._invoke("next",B)},_.prototype.throw=function(B){return this._invoke("throw",B)},_.prototype.return=function(B){return this._invoke("return",B)},$e.exports=_,$e.exports.__esModule=!0,$e.exports.default=$e.exports},25172:$e=>{$e.exports=function j(E,g){this.v=E,this.k=g},$e.exports.__esModule=!0,$e.exports.default=$e.exports},93513:($e,j,E)=>{var g=E(25172);$e.exports=function _(B){var H={},b=!1;function k(S,P){return b=!0,P=new Promise(function(R){R(B[S](P))}),{done:!1,value:new g(P,1)}}return H[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},H.next=function(S){return b?(b=!1,S):k("next",S)},"function"==typeof B.throw&&(H.throw=function(S){if(b)throw b=!1,S;return k("throw",S)}),"function"==typeof B.return&&(H.return=function(S){return b?(b=!1,S):k("return",S)}),H},$e.exports.__esModule=!0,$e.exports.default=$e.exports},82881:$e=>{function E(g){function _(B){if(Object(B)!==B)return Promise.reject(new TypeError(B+" is not an object."));var H=B.done;return Promise.resolve(B.value).then(function(b){return{value:b,done:H}})}return(E=function(H){this.s=H,this.n=H.next}).prototype={s:null,n:null,next:function(){return _(this.n.apply(this.s,arguments))},return:function(H){var b=this.s.return;return void 0===b?Promise.resolve({value:H,done:!0}):_(b.apply(this.s,arguments))},throw:function(H){var b=this.s.return;return void 0===b?Promise.reject(H):_(b.apply(this.s,arguments))}},new E(g)}$e.exports=function j(g){var _,B,H,b=2;for(typeof Symbol<"u"&&(B=Symbol.asyncIterator,H=Symbol.iterator);b--;){if(B&&null!=(_=g[B]))return _.call(g);if(H&&null!=(_=g[H]))return new E(_.call(g));B="@@asyncIterator",H="@@iterator"}throw new TypeError("Object is not async iterable")},$e.exports.__esModule=!0,$e.exports.default=$e.exports},29293:$e=>{function j(g,_,B,H,b,k,S){try{var P=g[k](S),R=P.value}catch(O){return void B(O)}P.done?_(R):Promise.resolve(R).then(H,b)}$e.exports=function E(g){return function(){var _=this,B=arguments;return new Promise(function(H,b){var k=g.apply(_,B);function S(R){j(k,H,b,S,P,"next",R)}function P(R){j(k,H,b,S,P,"throw",R)}S(void 0)})}},$e.exports.__esModule=!0,$e.exports.default=$e.exports},53344:($e,j,E)=>{var g=E(25172);$e.exports=function _(B){return new g(B,0)},$e.exports.__esModule=!0,$e.exports.default=$e.exports},42958:($e,j,E)=>{var g=E(67490);$e.exports=function _(B){return function(){return new g(B.apply(this,arguments))}},$e.exports.__esModule=!0,$e.exports.default=$e.exports},49969:($e,j,E)=>{"use strict";E.d(j,{FX:()=>De,If:()=>g,K2:()=>k,MA:()=>V,P:()=>K,hZ:()=>B,i0:()=>H,i7:()=>R,iF:()=>S,kY:()=>O,kp:()=>_,sf:()=>pe,ui:()=>ve,wk:()=>P});var g=function(C){return C[C.State=0]="State",C[C.Transition=1]="Transition",C[C.Sequence=2]="Sequence",C[C.Group=3]="Group",C[C.Animate=4]="Animate",C[C.Keyframes=5]="Keyframes",C[C.Style=6]="Style",C[C.Trigger=7]="Trigger",C[C.Reference=8]="Reference",C[C.AnimateChild=9]="AnimateChild",C[C.AnimateRef=10]="AnimateRef",C[C.Query=11]="Query",C[C.Stagger=12]="Stagger",C}(g||{});const _="*";function B(C,s){return{type:g.Trigger,name:C,definitions:s,options:{}}}function H(C,s=null){return{type:g.Animate,styles:s,timings:C}}function k(C,s=null){return{type:g.Sequence,steps:C,options:s}}function S(C){return{type:g.Style,styles:C,offset:null}}function P(C,s,d){return{type:g.State,name:C,styles:s,options:d}}function R(C){return{type:g.Keyframes,steps:C}}function O(C,s,d=null){return{type:g.Transition,expr:C,animation:s,options:d}}function V(C=null){return{type:g.AnimateChild,options:C}}function K(C,s,d=null){return{type:g.Query,selector:C,animation:s,options:d}}class pe{constructor(s=0,d=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=s+d}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(s){this._position=this.totalTime?s*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(s){const d="start"==s?this._onStartFns:this._onDoneFns;d.forEach(h=>h()),d.length=0}}class ve{constructor(s){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=s;let d=0,h=0,f=0;const w=this.players.length;0==w?queueMicrotask(()=>this._onFinish()):this.players.forEach(I=>{I.onDone(()=>{++d==w&&this._onFinish()}),I.onDestroy(()=>{++h==w&&this._onDestroy()}),I.onStart(()=>{++f==w&&this._onStart()})}),this.totalTime=this.players.reduce((I,L)=>Math.max(I,L.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this.players.forEach(s=>s.init())}onStart(s){this._onStartFns.push(s)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(s=>s()),this._onStartFns=[])}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(s=>s.play())}pause(){this.players.forEach(s=>s.pause())}restart(){this.players.forEach(s=>s.restart())}finish(){this._onFinish(),this.players.forEach(s=>s.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(s=>s.destroy()),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this.players.forEach(s=>s.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(s){const d=s*this.totalTime;this.players.forEach(h=>{const f=h.totalTime?Math.min(1,d/h.totalTime):1;h.setPosition(f)})}getPosition(){const s=this.players.reduce((d,h)=>null===d||h.totalTime>d.totalTime?h:d,null);return null!=s?s.getPosition():0}beforeDestroy(){this.players.forEach(s=>{s.beforeDestroy&&s.beforeDestroy()})}triggerCallback(s){const d="start"==s?this._onStartFns:this._onDoneFns;d.forEach(h=>h()),d.length=0}}const De="!"},18617:($e,j,E)=>{"use strict";E.d(j,{Ae:()=>ue,Ai:()=>fe,Au:()=>w,Bu:()=>I,FN:()=>vt,GX:()=>Ce,Pd:()=>rn,Q_:()=>Tn,Z7:()=>x,_G:()=>Ie,px:()=>ae,vR:()=>Ot,vr:()=>s,w6:()=>He});var g=E(60177),_=E(93953),B=E(36860),H=E(21413),b=E(18359),k=E(84412),S=E(7673),P=E(67336),R=E(88141),O=E(70152),A=E(5964),V=E(96354),U=E(96697),K=E(65245),Q=E(23294),q=E(56977),Y=E(72318),W=E(14085),re=E(99327);const ie=" ";function ae(Xt,dt,it){const Wt=ce(Xt,dt);it=it.trim(),!Wt.some(Gt=>Gt.trim()===it)&&(Wt.push(it),Xt.setAttribute(dt,Wt.join(ie)))}function ue(Xt,dt,it){const Wt=ce(Xt,dt);it=it.trim();const Gt=Wt.filter(nn=>nn!==it);Gt.length?Xt.setAttribute(dt,Gt.join(ie)):Xt.removeAttribute(dt)}function ce(Xt,dt){return Xt.getAttribute(dt)?.match(/\S+/g)??[]}const ve="cdk-describedby-message",De="cdk-describedby-host";let C=0,s=(()=>{class Xt{constructor(it,Wt){this._platform=Wt,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+C++,this._document=it,this._id=(0,_.WQX)(_.sZ2)+"-"+C++}describe(it,Wt,Gt){if(!this._canBeDescribed(it,Wt))return;const nn=d(Wt,Gt);"string"!=typeof Wt?(h(Wt,this._id),this._messageRegistry.set(nn,{messageElement:Wt,referenceCount:0})):this._messageRegistry.has(nn)||this._createMessageElement(Wt,Gt),this._isElementDescribedByMessage(it,nn)||this._addMessageReference(it,nn)}removeDescription(it,Wt,Gt){if(!Wt||!this._isElementNode(it))return;const nn=d(Wt,Gt);if(this._isElementDescribedByMessage(it,nn)&&this._removeMessageReference(it,nn),"string"==typeof Wt){const Xn=this._messageRegistry.get(nn);Xn&&0===Xn.referenceCount&&this._deleteMessageElement(nn)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const it=this._document.querySelectorAll(`[${De}="${this._id}"]`);for(let Wt=0;Wt<it.length;Wt++)this._removeCdkDescribedByReferenceIds(it[Wt]),it[Wt].removeAttribute(De);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(it,Wt){const Gt=this._document.createElement("div");h(Gt,this._id),Gt.textContent=it,Wt&&Gt.setAttribute("role",Wt),this._createMessagesContainer(),this._messagesContainer.appendChild(Gt),this._messageRegistry.set(d(it,Wt),{messageElement:Gt,referenceCount:0})}_deleteMessageElement(it){this._messageRegistry.get(it)?.messageElement?.remove(),this._messageRegistry.delete(it)}_createMessagesContainer(){if(this._messagesContainer)return;const it="cdk-describedby-message-container",Wt=this._document.querySelectorAll(`.${it}[platform="server"]`);for(let nn=0;nn<Wt.length;nn++)Wt[nn].remove();const Gt=this._document.createElement("div");Gt.style.visibility="hidden",Gt.classList.add(it),Gt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Gt.setAttribute("platform","server"),this._document.body.appendChild(Gt),this._messagesContainer=Gt}_removeCdkDescribedByReferenceIds(it){const Wt=ce(it,"aria-describedby").filter(Gt=>0!=Gt.indexOf(ve));it.setAttribute("aria-describedby",Wt.join(" "))}_addMessageReference(it,Wt){const Gt=this._messageRegistry.get(Wt);ae(it,"aria-describedby",Gt.messageElement.id),it.setAttribute(De,this._id),Gt.referenceCount++}_removeMessageReference(it,Wt){const Gt=this._messageRegistry.get(Wt);Gt.referenceCount--,ue(it,"aria-describedby",Gt.messageElement.id),it.removeAttribute(De)}_isElementDescribedByMessage(it,Wt){const Gt=ce(it,"aria-describedby"),nn=this._messageRegistry.get(Wt),Xn=nn&&nn.messageElement.id;return!!Xn&&-1!=Gt.indexOf(Xn)}_canBeDescribed(it,Wt){if(!this._isElementNode(it))return!1;if(Wt&&"object"==typeof Wt)return!0;const Gt=null==Wt?"":`${Wt}`.trim(),nn=it.getAttribute("aria-label");return!(!Gt||nn&&nn.trim()===Gt)}_isElementNode(it){return it.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Wt){return new(Wt||Xt)(_.KVO(g.qQ),_.KVO(B.OD))};static#t=this.\u0275prov=_.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})();function d(Xt,dt){return"string"==typeof Xt?`${dt||""}/${Xt}`:Xt}function h(Xt,dt){Xt.id||(Xt.id=`${ve}-${dt}-${C++}`)}class f{constructor(dt,it){this._items=dt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new H.B,this._typeaheadSubscription=b.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Wt=>Wt.disabled,this._pressedLetters=[],this.tabOut=new H.B,this.change=new H.B,dt instanceof _.rOR?this._itemChangesSubscription=dt.changes.subscribe(Wt=>this._itemsChanged(Wt.toArray())):(0,_.Hps)(dt)&&(this._effectRef=(0,_.QZP)(()=>this._itemsChanged(dt()),{injector:it}))}skipPredicate(dt){return this._skipPredicateFn=dt,this}withWrap(dt=!0){return this._wrap=dt,this}withVerticalOrientation(dt=!0){return this._vertical=dt,this}withHorizontalOrientation(dt){return this._horizontal=dt,this}withAllowedModifierKeys(dt){return this._allowedModifierKeys=dt,this}withTypeAhead(dt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,R.M)(it=>this._pressedLetters.push(it)),(0,O.B)(dt),(0,A.p)(()=>this._pressedLetters.length>0),(0,V.T)(()=>this._pressedLetters.join(""))).subscribe(it=>{const Wt=this._getItemsArray();for(let Gt=1;Gt<Wt.length+1;Gt++){const nn=(this._activeItemIndex+Gt)%Wt.length,Xn=Wt[nn];if(!this._skipPredicateFn(Xn)&&0===Xn.getLabel().toUpperCase().trim().indexOf(it)){this.setActiveItem(nn);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(dt=!0){return this._homeAndEnd=dt,this}withPageUpDown(dt=!0,it=10){return this._pageUpAndDown={enabled:dt,delta:it},this}setActiveItem(dt){const it=this._activeItem;this.updateActiveItem(dt),this._activeItem!==it&&this.change.next(this._activeItemIndex)}onKeydown(dt){const it=dt.keyCode,Gt=["altKey","ctrlKey","metaKey","shiftKey"].every(nn=>!dt[nn]||this._allowedModifierKeys.indexOf(nn)>-1);switch(it){case P.wn:return void this.tabOut.next();case P.n6:if(this._vertical&&Gt){this.setNextItemActive();break}return;case P.i7:if(this._vertical&&Gt){this.setPreviousItemActive();break}return;case P.LE:if(this._horizontal&&Gt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case P.UQ:if(this._horizontal&&Gt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case P.yZ:if(this._homeAndEnd&&Gt){this.setFirstItemActive();break}return;case P.Kp:if(this._homeAndEnd&&Gt){this.setLastItemActive();break}return;case P.w_:if(this._pageUpAndDown.enabled&&Gt){const nn=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(nn>0?nn:0,1);break}return;case P.dB:if(this._pageUpAndDown.enabled&&Gt){const nn=this._activeItemIndex+this._pageUpAndDown.delta,Xn=this._getItemsArray().length;this._setActiveItemByIndex(nn<Xn?nn:Xn-1,-1);break}return;default:return void((Gt||(0,P.rp)(dt,"shiftKey"))&&(dt.key&&1===dt.key.length?this._letterKeyStream.next(dt.key.toLocaleUpperCase()):(it>=P.A&&it<=P.Z||it>=P.f2&&it<=P.bn)&&this._letterKeyStream.next(String.fromCharCode(it))))}this._pressedLetters=[],dt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(dt){const it=this._getItemsArray(),Wt="number"==typeof dt?dt:it.indexOf(dt);this._activeItem=it[Wt]??null,this._activeItemIndex=Wt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(dt){this._wrap?this._setActiveInWrapMode(dt):this._setActiveInDefaultMode(dt)}_setActiveInWrapMode(dt){const it=this._getItemsArray();for(let Wt=1;Wt<=it.length;Wt++){const Gt=(this._activeItemIndex+dt*Wt+it.length)%it.length;if(!this._skipPredicateFn(it[Gt]))return void this.setActiveItem(Gt)}}_setActiveInDefaultMode(dt){this._setActiveItemByIndex(this._activeItemIndex+dt,dt)}_setActiveItemByIndex(dt,it){const Wt=this._getItemsArray();if(Wt[dt]){for(;this._skipPredicateFn(Wt[dt]);)if(!Wt[dt+=it])return;this.setActiveItem(dt)}}_getItemsArray(){return(0,_.Hps)(this._items)?this._items():this._items instanceof _.rOR?this._items.toArray():this._items}_itemsChanged(dt){if(this._activeItem){const it=dt.indexOf(this._activeItem);it>-1&&it!==this._activeItemIndex&&(this._activeItemIndex=it)}}}class w extends f{setActiveItem(dt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(dt),this.activeItem&&this.activeItem.setActiveStyles()}}class I extends f{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(dt){return this._origin=dt,this}setActiveItem(dt){super.setActiveItem(dt),this.activeItem&&this.activeItem.focus(this._origin)}}let x=(()=>{class Xt{constructor(it){this._platform=it}isDisabled(it){return it.hasAttribute("disabled")}isVisible(it){return function v(Xt){return!!(Xt.offsetWidth||Xt.offsetHeight||"function"==typeof Xt.getClientRects&&Xt.getClientRects().length)}(it)&&"visible"===getComputedStyle(it).visibility}isTabbable(it){if(!this._platform.isBrowser)return!1;const Wt=function a(Xt){try{return Xt.frameElement}catch{return null}}(function Ue(Xt){return Xt.ownerDocument&&Xt.ownerDocument.defaultView||window}(it));if(Wt&&(-1===Ge(Wt)||!this.isVisible(Wt)))return!1;let Gt=it.nodeName.toLowerCase(),nn=Ge(it);return it.hasAttribute("contenteditable")?-1!==nn:!("iframe"===Gt||"object"===Gt||this._platform.WEBKIT&&this._platform.IOS&&!function ge(Xt){let dt=Xt.nodeName.toLowerCase(),it="input"===dt&&Xt.type;return"text"===it||"password"===it||"select"===dt||"textarea"===dt}(it))&&("audio"===Gt?!!it.hasAttribute("controls")&&-1!==nn:"video"===Gt?-1!==nn&&(null!==nn||this._platform.FIREFOX||it.hasAttribute("controls")):it.tabIndex>=0)}isFocusable(it,Wt){return function me(Xt){return!function z(Xt){return function le(Xt){return"input"==Xt.nodeName.toLowerCase()}(Xt)&&"hidden"==Xt.type}(Xt)&&(function Z(Xt){let dt=Xt.nodeName.toLowerCase();return"input"===dt||"select"===dt||"button"===dt||"textarea"===dt}(Xt)||function ee(Xt){return function we(Xt){return"a"==Xt.nodeName.toLowerCase()}(Xt)&&Xt.hasAttribute("href")}(Xt)||Xt.hasAttribute("contenteditable")||Me(Xt))}(it)&&!this.isDisabled(it)&&(Wt?.ignoreVisibility||this.isVisible(it))}static#e=this.\u0275fac=function(Wt){return new(Wt||Xt)(_.KVO(B.OD))};static#t=this.\u0275prov=_.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})();function Me(Xt){if(!Xt.hasAttribute("tabindex")||void 0===Xt.tabIndex)return!1;let dt=Xt.getAttribute("tabindex");return!(!dt||isNaN(parseInt(dt,10)))}function Ge(Xt){if(!Me(Xt))return null;const dt=parseInt(Xt.getAttribute("tabindex")||"",10);return isNaN(dt)?-1:dt}class xe{get enabled(){return this._enabled}set enabled(dt){this._enabled=dt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(dt,this._startAnchor),this._toggleAnchorTabIndex(dt,this._endAnchor))}constructor(dt,it,Wt,Gt,nn=!1,Xn){this._element=dt,this._checker=it,this._ngZone=Wt,this._document=Gt,this._injector=Xn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,nn||this.attachAnchors()}destroy(){const dt=this._startAnchor,it=this._endAnchor;dt&&(dt.removeEventListener("focus",this.startAnchorListener),dt.remove()),it&&(it.removeEventListener("focus",this.endAnchorListener),it.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(dt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusInitialElement(dt)))})}focusFirstTabbableElementWhenReady(dt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusFirstTabbableElement(dt)))})}focusLastTabbableElementWhenReady(dt){return new Promise(it=>{this._executeOnStable(()=>it(this.focusLastTabbableElement(dt)))})}_getRegionBoundary(dt){const it=this._element.querySelectorAll(`[cdk-focus-region-${dt}], [cdkFocusRegion${dt}], [cdk-focus-${dt}]`);return"start"==dt?it.length?it[0]:this._getFirstTabbableElement(this._element):it.length?it[it.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(dt){const it=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(it){if(!this._checker.isFocusable(it)){const Wt=this._getFirstTabbableElement(it);return Wt?.focus(dt),!!Wt}return it.focus(dt),!0}return this.focusFirstTabbableElement(dt)}focusFirstTabbableElement(dt){const it=this._getRegionBoundary("start");return it&&it.focus(dt),!!it}focusLastTabbableElement(dt){const it=this._getRegionBoundary("end");return it&&it.focus(dt),!!it}hasAttached(){return this._hasAttached}_getFirstTabbableElement(dt){if(this._checker.isFocusable(dt)&&this._checker.isTabbable(dt))return dt;const it=dt.children;for(let Wt=0;Wt<it.length;Wt++){const Gt=it[Wt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(it[Wt]):null;if(Gt)return Gt}return null}_getLastTabbableElement(dt){if(this._checker.isFocusable(dt)&&this._checker.isTabbable(dt))return dt;const it=dt.children;for(let Wt=it.length-1;Wt>=0;Wt--){const Gt=it[Wt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(it[Wt]):null;if(Gt)return Gt}return null}_createAnchor(){const dt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,dt),dt.classList.add("cdk-visually-hidden"),dt.classList.add("cdk-focus-trap-anchor"),dt.setAttribute("aria-hidden","true"),dt}_toggleAnchorTabIndex(dt,it){dt?it.setAttribute("tabindex","0"):it.removeAttribute("tabindex")}toggleAnchors(dt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(dt,this._startAnchor),this._toggleAnchorTabIndex(dt,this._endAnchor))}_executeOnStable(dt){this._ngZone.isStable?this._injector?(0,_.mal)(dt,{injector:this._injector}):dt():this._ngZone.onStable.pipe((0,U.s)(1)).subscribe(dt)}}let Ce=(()=>{class Xt{constructor(it,Wt,Gt){this._checker=it,this._ngZone=Wt,this._injector=(0,_.WQX)(_.zZn),this._document=Gt}create(it,Wt=!1){return new xe(it,this._checker,this._ngZone,this._document,Wt,this._injector)}static#e=this.\u0275fac=function(Wt){return new(Wt||Xt)(_.KVO(x),_.KVO(_.SKi),_.KVO(g.qQ))};static#t=this.\u0275prov=_.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})();function Ie(Xt){return 0===Xt.buttons||0===Xt.detail}function He(Xt){const dt=Xt.touches&&Xt.touches[0]||Xt.changedTouches&&Xt.changedTouches[0];return!(!dt||-1!==dt.identifier||null!=dt.radiusX&&1!==dt.radiusX||null!=dt.radiusY&&1!==dt.radiusY)}const Ve=new _.nKC("cdk-input-modality-detector-options"),xt={ignoreKeys:[P.A$,P.W3,P.eg,P.Ge,P.FX]},ke=(0,B.BQ)({passive:!0,capture:!0});let pt=(()=>{class Xt{get mostRecentModality(){return this._modality.value}constructor(it,Wt,Gt,nn){this._platform=it,this._mostRecentTarget=null,this._modality=new k.t(null),this._lastTouchMs=0,this._onKeydown=Xn=>{this._options?.ignoreKeys?.some(ot=>ot===Xn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,B.Fb)(Xn))},this._onMousedown=Xn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ie(Xn)?"keyboard":"mouse"),this._mostRecentTarget=(0,B.Fb)(Xn))},this._onTouchstart=Xn=>{He(Xn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,B.Fb)(Xn))},this._options={...xt,...nn},this.modalityDetected=this._modality.pipe((0,K.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Q.F)()),it.isBrowser&&Wt.runOutsideAngular(()=>{Gt.addEventListener("keydown",this._onKeydown,ke),Gt.addEventListener("mousedown",this._onMousedown,ke),Gt.addEventListener("touchstart",this._onTouchstart,ke)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ke),document.removeEventListener("mousedown",this._onMousedown,ke),document.removeEventListener("touchstart",this._onTouchstart,ke))}static#e=this.\u0275fac=function(Wt){return new(Wt||Xt)(_.KVO(B.OD),_.KVO(_.SKi),_.KVO(g.qQ),_.KVO(Ve,8))};static#t=this.\u0275prov=_.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})();const F=new _.nKC("liveAnnouncerElement",{providedIn:"root",factory:function D(){return null}}),M=new _.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let G=0,fe=(()=>{class Xt{constructor(it,Wt,Gt,nn){this._ngZone=Wt,this._defaultOptions=nn,this._document=Gt,this._liveElement=it||this._createLiveElement()}announce(it,...Wt){const Gt=this._defaultOptions;let nn,Xn;return 1===Wt.length&&"number"==typeof Wt[0]?Xn=Wt[0]:[nn,Xn]=Wt,this.clear(),clearTimeout(this._previousTimeout),nn||(nn=Gt&&Gt.politeness?Gt.politeness:"polite"),null==Xn&&Gt&&(Xn=Gt.duration),this._liveElement.setAttribute("aria-live",nn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(ot=>this._currentResolve=ot)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=it,"number"==typeof Xn&&(this._previousTimeout=setTimeout(()=>this.clear(),Xn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const it="cdk-live-announcer-element",Wt=this._document.getElementsByClassName(it),Gt=this._document.createElement("div");for(let nn=0;nn<Wt.length;nn++)Wt[nn].remove();return Gt.classList.add(it),Gt.classList.add("cdk-visually-hidden"),Gt.setAttribute("aria-atomic","true"),Gt.setAttribute("aria-live","polite"),Gt.id="cdk-live-announcer-"+G++,this._document.body.appendChild(Gt),Gt}_exposeAnnouncerToModals(it){const Wt=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Gt=0;Gt<Wt.length;Gt++){const nn=Wt[Gt],Xn=nn.getAttribute("aria-owns");Xn?-1===Xn.indexOf(it)&&nn.setAttribute("aria-owns",Xn+" "+it):nn.setAttribute("aria-owns",it)}}static#e=this.\u0275fac=function(Wt){return new(Wt||Xt)(_.KVO(F,8),_.KVO(_.SKi),_.KVO(g.qQ),_.KVO(M,8))};static#t=this.\u0275prov=_.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})();var Ae=function(Xt){return Xt[Xt.IMMEDIATE=0]="IMMEDIATE",Xt[Xt.EVENTUAL=1]="EVENTUAL",Xt}(Ae||{});const rt=new _.nKC("cdk-focus-monitor-default-options"),Ht=(0,B.BQ)({passive:!0,capture:!0});let vt=(()=>{class Xt{constructor(it,Wt,Gt,nn,Xn){this._ngZone=it,this._platform=Wt,this._inputModalityDetector=Gt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new H.B,this._rootNodeFocusAndBlurListener=ot=>{for(let ut=(0,B.Fb)(ot);ut;ut=ut.parentElement)"focus"===ot.type?this._onFocus(ot,ut):this._onBlur(ot,ut)},this._document=nn,this._detectionMode=Xn?.detectionMode||Ae.IMMEDIATE}monitor(it,Wt=!1){const Gt=(0,W.i8)(it);if(!this._platform.isBrowser||1!==Gt.nodeType)return(0,S.of)();const nn=(0,B.KT)(Gt)||this._getDocument(),Xn=this._elementInfo.get(Gt);if(Xn)return Wt&&(Xn.checkChildren=!0),Xn.subject;const ot={checkChildren:Wt,subject:new H.B,rootNode:nn};return this._elementInfo.set(Gt,ot),this._registerGlobalListeners(ot),ot.subject}stopMonitoring(it){const Wt=(0,W.i8)(it),Gt=this._elementInfo.get(Wt);Gt&&(Gt.subject.complete(),this._setClasses(Wt),this._elementInfo.delete(Wt),this._removeGlobalListeners(Gt))}focusVia(it,Wt,Gt){const nn=(0,W.i8)(it);nn===this._getDocument().activeElement?this._getClosestElementsInfo(nn).forEach(([ot,ft])=>this._originChanged(ot,Wt,ft)):(this._setOrigin(Wt),"function"==typeof nn.focus&&nn.focus(Gt))}ngOnDestroy(){this._elementInfo.forEach((it,Wt)=>this.stopMonitoring(Wt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(it){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(it)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:it&&this._isLastInteractionFromInputLabel(it)?"mouse":"program"}_shouldBeAttributedToTouch(it){return this._detectionMode===Ae.EVENTUAL||!!it?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(it,Wt){it.classList.toggle("cdk-focused",!!Wt),it.classList.toggle("cdk-touch-focused","touch"===Wt),it.classList.toggle("cdk-keyboard-focused","keyboard"===Wt),it.classList.toggle("cdk-mouse-focused","mouse"===Wt),it.classList.toggle("cdk-program-focused","program"===Wt)}_setOrigin(it,Wt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=it,this._originFromTouchInteraction="touch"===it&&Wt,this._detectionMode===Ae.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(it,Wt){const Gt=this._elementInfo.get(Wt),nn=(0,B.Fb)(it);!Gt||!Gt.checkChildren&&Wt!==nn||this._originChanged(Wt,this._getFocusOrigin(nn),Gt)}_onBlur(it,Wt){const Gt=this._elementInfo.get(Wt);!Gt||Gt.checkChildren&&it.relatedTarget instanceof Node&&Wt.contains(it.relatedTarget)||(this._setClasses(Wt),this._emitOrigin(Gt,null))}_emitOrigin(it,Wt){it.subject.observers.length&&this._ngZone.run(()=>it.subject.next(Wt))}_registerGlobalListeners(it){if(!this._platform.isBrowser)return;const Wt=it.rootNode,Gt=this._rootNodeFocusListenerCount.get(Wt)||0;Gt||this._ngZone.runOutsideAngular(()=>{Wt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ht),Wt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ht)}),this._rootNodeFocusListenerCount.set(Wt,Gt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,q.Q)(this._stopInputModalityDetector)).subscribe(nn=>{this._setOrigin(nn,!0)}))}_removeGlobalListeners(it){const Wt=it.rootNode;if(this._rootNodeFocusListenerCount.has(Wt)){const Gt=this._rootNodeFocusListenerCount.get(Wt);Gt>1?this._rootNodeFocusListenerCount.set(Wt,Gt-1):(Wt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ht),Wt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ht),this._rootNodeFocusListenerCount.delete(Wt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(it,Wt,Gt){this._setClasses(it,Wt),this._emitOrigin(Gt,Wt),this._lastFocusOrigin=Wt}_getClosestElementsInfo(it){const Wt=[];return this._elementInfo.forEach((Gt,nn)=>{(nn===it||Gt.checkChildren&&nn.contains(it))&&Wt.push([nn,Gt])}),Wt}_isLastInteractionFromInputLabel(it){const{_mostRecentTarget:Wt,mostRecentModality:Gt}=this._inputModalityDetector;if("mouse"!==Gt||!Wt||Wt===it||"INPUT"!==it.nodeName&&"TEXTAREA"!==it.nodeName||it.disabled)return!1;const nn=it.labels;if(nn)for(let Xn=0;Xn<nn.length;Xn++)if(nn[Xn].contains(Wt))return!0;return!1}static#e=this.\u0275fac=function(Wt){return new(Wt||Xt)(_.KVO(_.SKi),_.KVO(B.OD),_.KVO(pt),_.KVO(g.qQ,8),_.KVO(rt,8))};static#t=this.\u0275prov=_.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})(),Ot=(()=>{class Xt{constructor(it,Wt){this._elementRef=it,this._focusMonitor=Wt,this._focusOrigin=null,this.cdkFocusChange=new _.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const it=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(it,1===it.nodeType&&it.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Wt=>{this._focusOrigin=Wt,this.cdkFocusChange.emit(Wt)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(Wt){return new(Wt||Xt)(_.rXU(_.aKT),_.rXU(vt))};static#t=this.\u0275dir=_.FsC({type:Xt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return Xt})();var qt=function(Xt){return Xt[Xt.NONE=0]="NONE",Xt[Xt.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Xt[Xt.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Xt}(qt||{});const mn="cdk-high-contrast-black-on-white",ln="cdk-high-contrast-white-on-black",rr="cdk-high-contrast-active";let Tn=(()=>{class Xt{constructor(it,Wt){this._platform=it,this._document=Wt,this._breakpointSubscription=(0,_.WQX)(re.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return qt.NONE;const it=this._document.createElement("div");it.style.backgroundColor="rgb(1,2,3)",it.style.position="absolute",this._document.body.appendChild(it);const Wt=this._document.defaultView||window,Gt=Wt&&Wt.getComputedStyle?Wt.getComputedStyle(it):null,nn=(Gt&&Gt.backgroundColor||"").replace(/ /g,"");switch(it.remove(),nn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return qt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return qt.BLACK_ON_WHITE}return qt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const it=this._document.body.classList;it.remove(rr,mn,ln),this._hasCheckedHighContrastMode=!0;const Wt=this.getHighContrastMode();Wt===qt.BLACK_ON_WHITE?it.add(rr,mn):Wt===qt.WHITE_ON_BLACK&&it.add(rr,ln)}}static#e=this.\u0275fac=function(Wt){return new(Wt||Xt)(_.KVO(B.OD),_.KVO(g.qQ))};static#t=this.\u0275prov=_.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}return Xt})(),rn=(()=>{class Xt{constructor(it){it._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Wt){return new(Wt||Xt)(_.KVO(Tn))};static#t=this.\u0275mod=_.$C({type:Xt});static#n=this.\u0275inj=_.G2t({imports:[Y.w5]})}return Xt})()},28203:($e,j,E)=>{"use strict";E.d(j,{dS:()=>S,jI:()=>R});var g=E(93953),_=E(60177);const B=new g.nKC("cdk-dir-doc",{providedIn:"root",factory:function H(){return(0,g.WQX)(_.qQ)}}),b=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let S=(()=>{class O{constructor(V){this.value="ltr",this.change=new g.bkB,V&&(this.value=function k(O){const A=O?.toLowerCase()||"";return"auto"===A&&typeof navigator<"u"&&navigator?.language?b.test(navigator.language)?"rtl":"ltr":"rtl"===A?"rtl":"ltr"}((V.body?V.body.dir:null)||(V.documentElement?V.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(U){return new(U||O)(g.KVO(B,8))};static#t=this.\u0275prov=g.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),R=(()=>{class O{static#e=this.\u0275fac=function(U){return new(U||O)};static#t=this.\u0275mod=g.$C({type:O});static#n=this.\u0275inj=g.G2t({})}return O})()},14085:($e,j,E)=>{"use strict";E.d(j,{FG:()=>b,OE:()=>B,a1:()=>k,he:()=>_,i8:()=>S,o1:()=>H});var g=E(93953);function _(R){return null!=R&&"false"!=`${R}`}function B(R,O=0){return H(R)?Number(R):O}function H(R){return!isNaN(parseFloat(R))&&!isNaN(Number(R))}function b(R){return Array.isArray(R)?R:[R]}function k(R){return null==R?"":"string"==typeof R?R:`${R}px`}function S(R){return R instanceof g.aKT?R.nativeElement:R}},45024:($e,j,E)=>{"use strict";E.d(j,{CB:()=>U,DQ:()=>V,Q3:()=>R,qS:()=>k,sL:()=>O,xn:()=>A,y4:()=>S,zP:()=>Q});var g=E(30017),H=(E(74402),E(7673),E(21413)),b=E(93953);class k{}function S(q){return q&&"function"==typeof q.connect&&!(q instanceof g.G)}var R=function(q){return q[q.REPLACED=0]="REPLACED",q[q.INSERTED=1]="INSERTED",q[q.MOVED=2]="MOVED",q[q.REMOVED=3]="REMOVED",q}(R||{});const O=new b.nKC("_ViewRepeater");class A{applyChanges(Y,W,re,ie,ae){Y.forEachOperation((ue,ce,pe)=>{let ve,De;if(null==ue.previousIndex){const C=re(ue,ce,pe);ve=W.createEmbeddedView(C.templateRef,C.context,C.index),De=R.INSERTED}else null==pe?(W.remove(ce),De=R.REMOVED):(ve=W.get(ce),W.move(ve,pe),De=R.MOVED);ae&&ae({context:ve?.context,operation:De,record:ue})})}detach(){}}class V{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Y,W,re,ie,ae){Y.forEachOperation((ue,ce,pe)=>{let ve,De;null==ue.previousIndex?(ve=this._insertView(()=>re(ue,ce,pe),pe,W,ie(ue)),De=ve?R.INSERTED:R.REPLACED):null==pe?(this._detachAndCacheView(ce,W),De=R.REMOVED):(ve=this._moveView(ce,pe,W,ie(ue)),De=R.MOVED),ae&&ae({context:ve?.context,operation:De,record:ue})})}detach(){for(const Y of this._viewCache)Y.destroy();this._viewCache=[]}_insertView(Y,W,re,ie){const ae=this._insertViewFromCache(W,re);if(ae)return void(ae.context.$implicit=ie);const ue=Y();return re.createEmbeddedView(ue.templateRef,ue.context,ue.index)}_detachAndCacheView(Y,W){const re=W.detach(Y);this._maybeCacheView(re,W)}_moveView(Y,W,re,ie){const ae=re.get(Y);return re.move(ae,W),ae.context.$implicit=ie,ae}_maybeCacheView(Y,W){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Y);else{const re=W.indexOf(Y);-1===re?Y.destroy():W.remove(re)}}_insertViewFromCache(Y,W){const re=this._viewCache.pop();return re&&W.insert(re,Y),re||null}}class U{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(Y=!1,W,re=!0,ie){this._multiple=Y,this._emitChanges=re,this.compareWith=ie,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new H.B,W&&W.length&&(Y?W.forEach(ae=>this._markSelected(ae)):this._markSelected(W[0]),this._selectedToEmit.length=0)}select(...Y){this._verifyValueAssignment(Y),Y.forEach(re=>this._markSelected(re));const W=this._hasQueuedChanges();return this._emitChangeEvent(),W}deselect(...Y){this._verifyValueAssignment(Y),Y.forEach(re=>this._unmarkSelected(re));const W=this._hasQueuedChanges();return this._emitChangeEvent(),W}setSelection(...Y){this._verifyValueAssignment(Y);const W=this.selected,re=new Set(Y);Y.forEach(ae=>this._markSelected(ae)),W.filter(ae=>!re.has(this._getConcreteValue(ae,re))).forEach(ae=>this._unmarkSelected(ae));const ie=this._hasQueuedChanges();return this._emitChangeEvent(),ie}toggle(Y){return this.isSelected(Y)?this.deselect(Y):this.select(Y)}clear(Y=!0){this._unmarkAll();const W=this._hasQueuedChanges();return Y&&this._emitChangeEvent(),W}isSelected(Y){return this._selection.has(this._getConcreteValue(Y))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Y){this._multiple&&this.selected&&this._selected.sort(Y)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Y){Y=this._getConcreteValue(Y),this.isSelected(Y)||(this._multiple||this._unmarkAll(),this.isSelected(Y)||this._selection.add(Y),this._emitChanges&&this._selectedToEmit.push(Y))}_unmarkSelected(Y){Y=this._getConcreteValue(Y),this.isSelected(Y)&&(this._selection.delete(Y),this._emitChanges&&this._deselectedToEmit.push(Y))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Y=>this._unmarkSelected(Y))}_verifyValueAssignment(Y){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(Y,W){if(this.compareWith){W=W??this._selection;for(let re of W)if(this.compareWith(Y,re))return re;return Y}return Y}}let Q=(()=>{class q{constructor(){this._listeners=[]}notify(W,re){for(let ie of this._listeners)ie(W,re)}listen(W){return this._listeners.push(W),()=>{this._listeners=this._listeners.filter(re=>W!==re)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(re){return new(re||q)};static#t=this.\u0275prov=b.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})()},67336:($e,j,E)=>{"use strict";E.d(j,{A:()=>z,A$:()=>P,FX:()=>k,Fm:()=>b,Ge:()=>M,Kp:()=>Q,LE:()=>re,UQ:()=>Y,W3:()=>S,Z:()=>D,_f:()=>A,bn:()=>L,dB:()=>K,eg:()=>Ut,f2:()=>ve,i7:()=>W,n6:()=>ie,rp:()=>gn,t6:()=>V,w_:()=>U,wn:()=>B,yZ:()=>q});const B=9,b=13,k=16,S=17,P=18,A=27,V=32,U=33,K=34,Q=35,q=36,Y=37,W=38,re=39,ie=40,ve=48,L=57,z=65,D=90,M=91,Ut=224;function gn(Sn,...ur){return ur.length?ur.some(ar=>Sn[ar]):Sn.altKey||Sn.shiftKey||Sn.ctrlKey||Sn.metaKey}},99327:($e,j,E)=>{"use strict";E.d(j,{QP:()=>ie,Rp:()=>ue});var g=E(93953),_=E(14085),B=E(21413),H=E(84572),b=E(28793),k=E(71985),S=E(96697),P=E(65245),R=E(70152),O=E(96354),A=E(99172),V=E(56977),U=E(36860);const Q=new Set;let q,Y=(()=>{class ce{constructor(ve,De){this._platform=ve,this._nonce=De,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):re}matchMedia(ve){return(this._platform.WEBKIT||this._platform.BLINK)&&function W(ce,pe){if(!Q.has(ce))try{q||(q=document.createElement("style"),pe&&q.setAttribute("nonce",pe),q.setAttribute("type","text/css"),document.head.appendChild(q)),q.sheet&&(q.sheet.insertRule(`@media ${ce} {body{ }}`,0),Q.add(ce))}catch(ve){console.error(ve)}}(ve,this._nonce),this._matchMedia(ve)}static#e=this.\u0275fac=function(De){return new(De||ce)(g.KVO(U.OD),g.KVO(g.BIS,8))};static#t=this.\u0275prov=g.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();function re(ce){return{matches:"all"===ce||""===ce,media:ce,addListener:()=>{},removeListener:()=>{}}}let ie=(()=>{class ce{constructor(ve,De){this._mediaMatcher=ve,this._zone=De,this._queries=new Map,this._destroySubject=new B.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ve){return ae((0,_.FG)(ve)).some(C=>this._registerQuery(C).mql.matches)}observe(ve){const C=ae((0,_.FG)(ve)).map(d=>this._registerQuery(d).observable);let s=(0,H.z)(C);return s=(0,b.x)(s.pipe((0,S.s)(1)),s.pipe((0,P.i)(1),(0,R.B)(0))),s.pipe((0,O.T)(d=>{const h={matches:!1,breakpoints:{}};return d.forEach(({matches:f,query:w})=>{h.matches=h.matches||f,h.breakpoints[w]=f}),h}))}_registerQuery(ve){if(this._queries.has(ve))return this._queries.get(ve);const De=this._mediaMatcher.matchMedia(ve),s={observable:new k.c(d=>{const h=f=>this._zone.run(()=>d.next(f));return De.addListener(h),()=>{De.removeListener(h)}}).pipe((0,A.Z)(De),(0,O.T)(({matches:d})=>({query:ve,matches:d})),(0,V.Q)(this._destroySubject)),mql:De};return this._queries.set(ve,s),s}static#e=this.\u0275fac=function(De){return new(De||ce)(g.KVO(Y),g.KVO(g.SKi))};static#t=this.\u0275prov=g.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();function ae(ce){return ce.map(pe=>pe.split(",")).reduce((pe,ve)=>pe.concat(ve)).map(pe=>pe.trim())}const ue={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},72318:($e,j,E)=>{"use strict";E.d(j,{Wv:()=>A,w5:()=>V});var g=E(14085),_=E(93953),B=E(71985),H=E(21413),b=E(96354),k=E(5964),S=E(70152);let R=(()=>{class U{create(Q){return typeof MutationObserver>"u"?null:new MutationObserver(Q)}static#e=this.\u0275fac=function(q){return new(q||U)};static#t=this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),O=(()=>{class U{constructor(Q){this._mutationObserverFactory=Q,this._observedElements=new Map,this._ngZone=(0,_.WQX)(_.SKi)}ngOnDestroy(){this._observedElements.forEach((Q,q)=>this._cleanupObserver(q))}observe(Q){const q=(0,g.i8)(Q);return new B.c(Y=>{const re=this._observeElement(q).pipe((0,b.T)(ie=>ie.filter(ae=>!function P(U){if("characterData"===U.type&&U.target instanceof Comment)return!0;if("childList"===U.type){for(let K=0;K<U.addedNodes.length;K++)if(!(U.addedNodes[K]instanceof Comment))return!1;for(let K=0;K<U.removedNodes.length;K++)if(!(U.removedNodes[K]instanceof Comment))return!1;return!0}return!1}(ae))),(0,k.p)(ie=>!!ie.length)).subscribe(ie=>{this._ngZone.run(()=>{Y.next(ie)})});return()=>{re.unsubscribe(),this._unobserveElement(q)}})}_observeElement(Q){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(Q))this._observedElements.get(Q).count++;else{const q=new H.B,Y=this._mutationObserverFactory.create(W=>q.next(W));Y&&Y.observe(Q,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Q,{observer:Y,stream:q,count:1})}return this._observedElements.get(Q).stream})}_unobserveElement(Q){this._observedElements.has(Q)&&(this._observedElements.get(Q).count--,this._observedElements.get(Q).count||this._cleanupObserver(Q))}_cleanupObserver(Q){if(this._observedElements.has(Q)){const{observer:q,stream:Y}=this._observedElements.get(Q);q&&q.disconnect(),Y.complete(),this._observedElements.delete(Q)}}static#e=this.\u0275fac=function(q){return new(q||U)(_.KVO(R))};static#t=this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),A=(()=>{class U{get disabled(){return this._disabled}set disabled(Q){this._disabled=Q,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Q){this._debounce=(0,g.OE)(Q),this._subscribe()}constructor(Q,q){this._contentObserver=Q,this._elementRef=q,this.event=new _.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Q=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?Q.pipe((0,S.B)(this.debounce)):Q).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(q){return new(q||U)(_.rXU(O),_.rXU(_.aKT))};static#t=this.\u0275dir=_.FsC({type:U,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",_.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[_.GFd]})}return U})(),V=(()=>{class U{static#e=this.\u0275fac=function(q){return new(q||U)};static#t=this.\u0275mod=_.$C({type:U});static#n=this.\u0275inj=_.G2t({providers:[R]})}return U})()},98170:($e,j,E)=>{"use strict";E.d(j,{a:()=>R});var g=E(93953),_=E(21413),B=E(71985),H=E(5964),b=E(44668),k=E(56977);class P{constructor(A){this._box=A,this._destroyed=new _.B,this._resizeSubject=new _.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(V=>this._resizeSubject.next(V)))}observe(A){return this._elementObservables.has(A)||this._elementObservables.set(A,new B.c(V=>{const U=this._resizeSubject.subscribe(V);return this._resizeObserver?.observe(A,{box:this._box}),()=>{this._resizeObserver?.unobserve(A),U.unsubscribe(),this._elementObservables.delete(A)}}).pipe((0,H.p)(V=>V.some(U=>U.target===A)),(0,b.t)({bufferSize:1,refCount:!0}),(0,k.Q)(this._destroyed))),this._elementObservables.get(A)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let R=(()=>{class O{constructor(){this._observers=new Map,this._ngZone=(0,g.WQX)(g.SKi)}ngOnDestroy(){for(const[,V]of this._observers)V.destroy();this._observers.clear()}observe(V,U){const K=U?.box||"content-box";return this._observers.has(K)||this._observers.set(K,new P(K)),this._observers.get(K).observe(V)}static#e=this.\u0275fac=function(U){return new(U||O)};static#t=this.\u0275prov=g.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},66969:($e,j,E)=>{"use strict";E.d(j,{WB:()=>_e,$Q:()=>de,hJ:()=>he,rR:()=>De,z_:()=>Ve});var g=E(67333),_=E(60177),B=E(93953),H=E(14085),b=E(36860),k=E(5964),S=E(56977),P=E(39974),R=E(54360),A=E(28203),V=E(76939),U=E(21413),K=E(18359),Q=E(57786),q=E(67336);const Y=(0,b.CZ)();class W{constructor(ke,pt){this._viewportRuler=ke,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=pt}attach(){}enable(){if(this._canBeEnabled()){const ke=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ke.style.left||"",this._previousHTMLStyles.top=ke.style.top||"",ke.style.left=(0,H.a1)(-this._previousScrollPosition.left),ke.style.top=(0,H.a1)(-this._previousScrollPosition.top),ke.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ke=this._document.documentElement,F=ke.style,D=this._document.body.style,M=F.scrollBehavior||"",G=D.scrollBehavior||"";this._isEnabled=!1,F.left=this._previousHTMLStyles.left,F.top=this._previousHTMLStyles.top,ke.classList.remove("cdk-global-scrollblock"),Y&&(F.scrollBehavior=D.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Y&&(F.scrollBehavior=M,D.scrollBehavior=G)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const pt=this._document.body,F=this._viewportRuler.getViewportSize();return pt.scrollHeight>F.height||pt.scrollWidth>F.width}}class ie{constructor(ke,pt,F,D){this._scrollDispatcher=ke,this._ngZone=pt,this._viewportRuler=F,this._config=D,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ke){this._overlayRef=ke}enable(){if(this._scrollSubscription)return;const ke=this._scrollDispatcher.scrolled(0).pipe((0,k.p)(pt=>!pt||!this._overlayRef.overlayElement.contains(pt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ke.subscribe(()=>{const pt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(pt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ke.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ae{enable(){}disable(){}attach(){}}function ue(Ne,ke){return ke.some(pt=>Ne.bottom<pt.top||Ne.top>pt.bottom||Ne.right<pt.left||Ne.left>pt.right)}function ce(Ne,ke){return ke.some(pt=>Ne.top<pt.top||Ne.bottom>pt.bottom||Ne.left<pt.left||Ne.right>pt.right)}class pe{constructor(ke,pt,F,D){this._scrollDispatcher=ke,this._viewportRuler=pt,this._ngZone=F,this._config=D,this._scrollSubscription=null}attach(ke){this._overlayRef=ke}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const pt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:F,height:D}=this._viewportRuler.getViewportSize();ue(pt,[{width:F,height:D,bottom:D,right:F,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ve=(()=>{class Ne{constructor(pt,F,D,M){this._scrollDispatcher=pt,this._viewportRuler=F,this._ngZone=D,this.noop=()=>new ae,this.close=G=>new ie(this._scrollDispatcher,this._ngZone,this._viewportRuler,G),this.block=()=>new W(this._viewportRuler,this._document),this.reposition=G=>new pe(this._scrollDispatcher,this._viewportRuler,this._ngZone,G),this._document=M}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(g.R),B.KVO(g.Xj),B.KVO(B.SKi),B.KVO(_.qQ))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();class De{constructor(ke){if(this.scrollStrategy=new ae,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ke){const pt=Object.keys(ke);for(const F of pt)void 0!==ke[F]&&(this[F]=ke[F])}}}class d{constructor(ke,pt){this.connectionPair=ke,this.scrollableViewProperties=pt}}let w=(()=>{class Ne{constructor(pt){this._attachedOverlays=[],this._document=pt}ngOnDestroy(){this.detach()}add(pt){this.remove(pt),this._attachedOverlays.push(pt)}remove(pt){const F=this._attachedOverlays.indexOf(pt);F>-1&&this._attachedOverlays.splice(F,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(_.qQ))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})(),I=(()=>{class Ne extends w{constructor(pt,F){super(pt),this._ngZone=F,this._keydownListener=D=>{const M=this._attachedOverlays;for(let G=M.length-1;G>-1;G--)if(M[G]._keydownEvents.observers.length>0){const fe=M[G]._keydownEvents;this._ngZone?this._ngZone.run(()=>fe.next(D)):fe.next(D);break}}}add(pt){super.add(pt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(_.qQ),B.KVO(B.SKi,8))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})(),L=(()=>{class Ne extends w{constructor(pt,F,D){super(pt),this._platform=F,this._ngZone=D,this._cursorStyleIsSet=!1,this._pointerDownListener=M=>{this._pointerDownEventTarget=(0,b.Fb)(M)},this._clickListener=M=>{const G=(0,b.Fb)(M),fe="click"===M.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:G;this._pointerDownEventTarget=null;const Se=this._attachedOverlays.slice();for(let Ae=Se.length-1;Ae>-1;Ae--){const rt=Se[Ae];if(rt._outsidePointerEvents.observers.length<1||!rt.hasAttached())continue;if(x(rt.overlayElement,G)||x(rt.overlayElement,fe))break;const Ht=rt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Ht.next(M)):Ht.next(M)}}}add(pt){if(super.add(pt),!this._isAttached){const F=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(F)):this._addEventListeners(F),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=F.style.cursor,F.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const pt=this._document.body;pt.removeEventListener("pointerdown",this._pointerDownListener,!0),pt.removeEventListener("click",this._clickListener,!0),pt.removeEventListener("auxclick",this._clickListener,!0),pt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(pt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(pt){pt.addEventListener("pointerdown",this._pointerDownListener,!0),pt.addEventListener("click",this._clickListener,!0),pt.addEventListener("auxclick",this._clickListener,!0),pt.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(_.qQ),B.KVO(b.OD),B.KVO(B.SKi,8))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();function x(Ne,ke){const pt=typeof ShadowRoot<"u"&&ShadowRoot;let F=ke;for(;F;){if(F===Ne)return!0;F=pt&&F instanceof ShadowRoot?F.host:F.parentNode}return!1}let a=(()=>{class Ne{constructor(pt,F){this._platform=F,this._document=pt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const pt="cdk-overlay-container";if(this._platform.isBrowser||(0,b.v8)()){const D=this._document.querySelectorAll(`.${pt}[platform="server"], .${pt}[platform="test"]`);for(let M=0;M<D.length;M++)D[M].remove()}const F=this._document.createElement("div");F.classList.add(pt),(0,b.v8)()?F.setAttribute("platform","test"):this._platform.isBrowser||F.setAttribute("platform","server"),this._document.body.appendChild(F),this._containerElement=F}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(_.qQ),B.KVO(b.OD))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();class v{constructor(ke,pt,F,D,M,G,fe,Se,Ae,rt=!1,Ht){this._portalOutlet=ke,this._host=pt,this._pane=F,this._config=D,this._ngZone=M,this._keyboardDispatcher=G,this._document=fe,this._location=Se,this._outsideClickDispatcher=Ae,this._animationsDisabled=rt,this._injector=Ht,this._backdropElement=null,this._backdropClick=new U.B,this._attachments=new U.B,this._detachments=new U.B,this._locationChanges=K.yU.EMPTY,this._backdropClickHandler=vt=>this._backdropClick.next(vt),this._backdropTransitionendHandler=vt=>{this._disposeBackdrop(vt.target)},this._keydownEvents=new U.B,this._outsidePointerEvents=new U.B,this._renders=new U.B,D.scrollStrategy&&(this._scrollStrategy=D.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=D.positionStrategy,this._afterRenderRef=(0,B.O8t)(()=>(0,B.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ke){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const pt=this._portalOutlet.attach(ke);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,B.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof pt?.onDestroy&&pt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),pt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ke=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ke}dispose(){const ke=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ke&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ke){ke!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ke,this.hasAttached()&&(ke.attach(this),this.updatePosition()))}updateSize(ke){this._config={...this._config,...ke},this._updateElementSize()}setDirection(ke){this._config={...this._config,direction:ke},this._updateElementDirection()}addPanelClass(ke){this._pane&&this._toggleClasses(this._pane,ke,!0)}removePanelClass(ke){this._pane&&this._toggleClasses(this._pane,ke,!1)}getDirection(){const ke=this._config.direction;return ke?"string"==typeof ke?ke:ke.value:"ltr"}updateScrollStrategy(ke){ke!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ke,this.hasAttached()&&(ke.attach(this),ke.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ke=this._pane.style;ke.width=(0,H.a1)(this._config.width),ke.height=(0,H.a1)(this._config.height),ke.minWidth=(0,H.a1)(this._config.minWidth),ke.minHeight=(0,H.a1)(this._config.minHeight),ke.maxWidth=(0,H.a1)(this._config.maxWidth),ke.maxHeight=(0,H.a1)(this._config.maxHeight)}_togglePointerEvents(ke){this._pane.style.pointerEvents=ke?"":"none"}_attachBackdrop(){const ke="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ke)})}):this._backdropElement.classList.add(ke)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ke=this._backdropElement;if(ke){if(this._animationsDisabled)return void this._disposeBackdrop(ke);ke.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ke.addEventListener("transitionend",this._backdropTransitionendHandler)}),ke.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ke)},500))}}_toggleClasses(ke,pt,F){const D=(0,H.FG)(pt||[]).filter(M=>!!M);D.length&&(F?ke.classList.add(...D):ke.classList.remove(...D))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const ke=this._renders.pipe((0,S.Q)((0,Q.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ke.unsubscribe())})})}_disposeScrollStrategy(){const ke=this._scrollStrategy;ke&&(ke.disable(),ke.detach&&ke.detach())}_disposeBackdrop(ke){ke&&(ke.removeEventListener("click",this._backdropClickHandler),ke.removeEventListener("transitionend",this._backdropTransitionendHandler),ke.remove(),this._backdropElement===ke&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Z="cdk-overlay-connected-position-bounding-box",z=/([A-Za-z%]+)$/;class ee{get positions(){return this._preferredPositions}constructor(ke,pt,F,D,M){this._viewportRuler=pt,this._document=F,this._platform=D,this._overlayContainer=M,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.B,this._resizeSubscription=K.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ke)}attach(ke){this._validatePositions(),ke.hostElement.classList.add(Z),this._overlayRef=ke,this._boundingBox=ke.hostElement,this._pane=ke.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ke=this._originRect,pt=this._overlayRect,F=this._viewportRect,D=this._containerRect,M=[];let G;for(let fe of this._preferredPositions){let Se=this._getOriginPoint(ke,D,fe),Ae=this._getOverlayPoint(Se,pt,fe),rt=this._getOverlayFit(Ae,pt,F,fe);if(rt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(fe,Se);this._canFitWithFlexibleDimensions(rt,Ae,F)?M.push({position:fe,origin:Se,overlayRect:pt,boundingBoxRect:this._calculateBoundingBoxRect(Se,fe)}):(!G||G.overlayFit.visibleArea<rt.visibleArea)&&(G={overlayFit:rt,overlayPoint:Ae,originPoint:Se,position:fe,overlayRect:pt})}if(M.length){let fe=null,Se=-1;for(const Ae of M){const rt=Ae.boundingBoxRect.width*Ae.boundingBoxRect.height*(Ae.position.weight||1);rt>Se&&(Se=rt,fe=Ae)}return this._isPushed=!1,void this._applyPosition(fe.position,fe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(G.position,G.originPoint);this._applyPosition(G.position,G.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&le(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Z),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ke=this._lastPosition;if(ke){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const pt=this._getOriginPoint(this._originRect,this._containerRect,ke);this._applyPosition(ke,pt)}else this.apply()}withScrollableContainers(ke){return this._scrollables=ke,this}withPositions(ke){return this._preferredPositions=ke,-1===ke.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ke){return this._viewportMargin=ke,this}withFlexibleDimensions(ke=!0){return this._hasFlexibleDimensions=ke,this}withGrowAfterOpen(ke=!0){return this._growAfterOpen=ke,this}withPush(ke=!0){return this._canPush=ke,this}withLockedPosition(ke=!0){return this._positionLocked=ke,this}setOrigin(ke){return this._origin=ke,this}withDefaultOffsetX(ke){return this._offsetX=ke,this}withDefaultOffsetY(ke){return this._offsetY=ke,this}withTransformOriginOn(ke){return this._transformOriginSelector=ke,this}_getOriginPoint(ke,pt,F){let D,M;if("center"==F.originX)D=ke.left+ke.width/2;else{const G=this._isRtl()?ke.right:ke.left,fe=this._isRtl()?ke.left:ke.right;D="start"==F.originX?G:fe}return pt.left<0&&(D-=pt.left),M="center"==F.originY?ke.top+ke.height/2:"top"==F.originY?ke.top:ke.bottom,pt.top<0&&(M-=pt.top),{x:D,y:M}}_getOverlayPoint(ke,pt,F){let D,M;return D="center"==F.overlayX?-pt.width/2:"start"===F.overlayX?this._isRtl()?-pt.width:0:this._isRtl()?0:-pt.width,M="center"==F.overlayY?-pt.height/2:"top"==F.overlayY?0:-pt.height,{x:ke.x+D,y:ke.y+M}}_getOverlayFit(ke,pt,F,D){const M=Me(pt);let{x:G,y:fe}=ke,Se=this._getOffset(D,"x"),Ae=this._getOffset(D,"y");Se&&(G+=Se),Ae&&(fe+=Ae);let vt=0-fe,Ot=fe+M.height-F.height,qt=this._subtractOverflows(M.width,0-G,G+M.width-F.width),mn=this._subtractOverflows(M.height,vt,Ot),ln=qt*mn;return{visibleArea:ln,isCompletelyWithinViewport:M.width*M.height===ln,fitsInViewportVertically:mn===M.height,fitsInViewportHorizontally:qt==M.width}}_canFitWithFlexibleDimensions(ke,pt,F){if(this._hasFlexibleDimensions){const D=F.bottom-pt.y,M=F.right-pt.x,G=we(this._overlayRef.getConfig().minHeight),fe=we(this._overlayRef.getConfig().minWidth);return(ke.fitsInViewportVertically||null!=G&&G<=D)&&(ke.fitsInViewportHorizontally||null!=fe&&fe<=M)}return!1}_pushOverlayOnScreen(ke,pt,F){if(this._previousPushAmount&&this._positionLocked)return{x:ke.x+this._previousPushAmount.x,y:ke.y+this._previousPushAmount.y};const D=Me(pt),M=this._viewportRect,G=Math.max(ke.x+D.width-M.width,0),fe=Math.max(ke.y+D.height-M.height,0),Se=Math.max(M.top-F.top-ke.y,0),Ae=Math.max(M.left-F.left-ke.x,0);let rt=0,Ht=0;return rt=D.width<=M.width?Ae||-G:ke.x<this._viewportMargin?M.left-F.left-ke.x:0,Ht=D.height<=M.height?Se||-fe:ke.y<this._viewportMargin?M.top-F.top-ke.y:0,this._previousPushAmount={x:rt,y:Ht},{x:ke.x+rt,y:ke.y+Ht}}_applyPosition(ke,pt){if(this._setTransformOrigin(ke),this._setOverlayElementStyles(pt,ke),this._setBoundingBoxStyles(pt,ke),ke.panelClass&&this._addPanelClasses(ke.panelClass),this._positionChanges.observers.length){const F=this._getScrollVisibility();if(ke!==this._lastPosition||!this._lastScrollVisibility||!function Ge(Ne,ke){return Ne===ke||Ne.isOriginClipped===ke.isOriginClipped&&Ne.isOriginOutsideView===ke.isOriginOutsideView&&Ne.isOverlayClipped===ke.isOverlayClipped&&Ne.isOverlayOutsideView===ke.isOverlayOutsideView}(this._lastScrollVisibility,F)){const D=new d(ke,F);this._positionChanges.next(D)}this._lastScrollVisibility=F}this._lastPosition=ke,this._isInitialRender=!1}_setTransformOrigin(ke){if(!this._transformOriginSelector)return;const pt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let F,D=ke.overlayY;F="center"===ke.overlayX?"center":this._isRtl()?"start"===ke.overlayX?"right":"left":"start"===ke.overlayX?"left":"right";for(let M=0;M<pt.length;M++)pt[M].style.transformOrigin=`${F} ${D}`}_calculateBoundingBoxRect(ke,pt){const F=this._viewportRect,D=this._isRtl();let M,G,fe,rt,Ht,vt;if("top"===pt.overlayY)G=ke.y,M=F.height-G+this._viewportMargin;else if("bottom"===pt.overlayY)fe=F.height-ke.y+2*this._viewportMargin,M=F.height-fe+this._viewportMargin;else{const Ot=Math.min(F.bottom-ke.y+F.top,ke.y),qt=this._lastBoundingBoxSize.height;M=2*Ot,G=ke.y-Ot,M>qt&&!this._isInitialRender&&!this._growAfterOpen&&(G=ke.y-qt/2)}if("end"===pt.overlayX&&!D||"start"===pt.overlayX&&D)vt=F.width-ke.x+2*this._viewportMargin,rt=ke.x-this._viewportMargin;else if("start"===pt.overlayX&&!D||"end"===pt.overlayX&&D)Ht=ke.x,rt=F.right-ke.x;else{const Ot=Math.min(F.right-ke.x+F.left,ke.x),qt=this._lastBoundingBoxSize.width;rt=2*Ot,Ht=ke.x-Ot,rt>qt&&!this._isInitialRender&&!this._growAfterOpen&&(Ht=ke.x-qt/2)}return{top:G,left:Ht,bottom:fe,right:vt,width:rt,height:M}}_setBoundingBoxStyles(ke,pt){const F=this._calculateBoundingBoxRect(ke,pt);!this._isInitialRender&&!this._growAfterOpen&&(F.height=Math.min(F.height,this._lastBoundingBoxSize.height),F.width=Math.min(F.width,this._lastBoundingBoxSize.width));const D={};if(this._hasExactPosition())D.top=D.left="0",D.bottom=D.right=D.maxHeight=D.maxWidth="",D.width=D.height="100%";else{const M=this._overlayRef.getConfig().maxHeight,G=this._overlayRef.getConfig().maxWidth;D.height=(0,H.a1)(F.height),D.top=(0,H.a1)(F.top),D.bottom=(0,H.a1)(F.bottom),D.width=(0,H.a1)(F.width),D.left=(0,H.a1)(F.left),D.right=(0,H.a1)(F.right),D.alignItems="center"===pt.overlayX?"center":"end"===pt.overlayX?"flex-end":"flex-start",D.justifyContent="center"===pt.overlayY?"center":"bottom"===pt.overlayY?"flex-end":"flex-start",M&&(D.maxHeight=(0,H.a1)(M)),G&&(D.maxWidth=(0,H.a1)(G))}this._lastBoundingBoxSize=F,le(this._boundingBox.style,D)}_resetBoundingBoxStyles(){le(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){le(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ke,pt){const F={},D=this._hasExactPosition(),M=this._hasFlexibleDimensions,G=this._overlayRef.getConfig();if(D){const rt=this._viewportRuler.getViewportScrollPosition();le(F,this._getExactOverlayY(pt,ke,rt)),le(F,this._getExactOverlayX(pt,ke,rt))}else F.position="static";let fe="",Se=this._getOffset(pt,"x"),Ae=this._getOffset(pt,"y");Se&&(fe+=`translateX(${Se}px) `),Ae&&(fe+=`translateY(${Ae}px)`),F.transform=fe.trim(),G.maxHeight&&(D?F.maxHeight=(0,H.a1)(G.maxHeight):M&&(F.maxHeight="")),G.maxWidth&&(D?F.maxWidth=(0,H.a1)(G.maxWidth):M&&(F.maxWidth="")),le(this._pane.style,F)}_getExactOverlayY(ke,pt,F){let D={top:"",bottom:""},M=this._getOverlayPoint(pt,this._overlayRect,ke);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,F)),"bottom"===ke.overlayY?D.bottom=this._document.documentElement.clientHeight-(M.y+this._overlayRect.height)+"px":D.top=(0,H.a1)(M.y),D}_getExactOverlayX(ke,pt,F){let G,D={left:"",right:""},M=this._getOverlayPoint(pt,this._overlayRect,ke);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,F)),G=this._isRtl()?"end"===ke.overlayX?"left":"right":"end"===ke.overlayX?"right":"left","right"===G?D.right=this._document.documentElement.clientWidth-(M.x+this._overlayRect.width)+"px":D.left=(0,H.a1)(M.x),D}_getScrollVisibility(){const ke=this._getOriginRect(),pt=this._pane.getBoundingClientRect(),F=this._scrollables.map(D=>D.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ce(ke,F),isOriginOutsideView:ue(ke,F),isOverlayClipped:ce(pt,F),isOverlayOutsideView:ue(pt,F)}}_subtractOverflows(ke,...pt){return pt.reduce((F,D)=>F-Math.max(D,0),ke)}_getNarrowedViewportRect(){const ke=this._document.documentElement.clientWidth,pt=this._document.documentElement.clientHeight,F=this._viewportRuler.getViewportScrollPosition();return{top:F.top+this._viewportMargin,left:F.left+this._viewportMargin,right:F.left+ke-this._viewportMargin,bottom:F.top+pt-this._viewportMargin,width:ke-2*this._viewportMargin,height:pt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ke,pt){return"x"===pt?null==ke.offsetX?this._offsetX:ke.offsetX:null==ke.offsetY?this._offsetY:ke.offsetY}_validatePositions(){}_addPanelClasses(ke){this._pane&&(0,H.FG)(ke).forEach(pt=>{""!==pt&&-1===this._appliedPanelClasses.indexOf(pt)&&(this._appliedPanelClasses.push(pt),this._pane.classList.add(pt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ke=>{this._pane.classList.remove(ke)}),this._appliedPanelClasses=[])}_getOriginRect(){const ke=this._origin;if(ke instanceof B.aKT)return ke.nativeElement.getBoundingClientRect();if(ke instanceof Element)return ke.getBoundingClientRect();const pt=ke.width||0,F=ke.height||0;return{top:ke.y,bottom:ke.y+F,left:ke.x,right:ke.x+pt,height:F,width:pt}}}function le(Ne,ke){for(let pt in ke)ke.hasOwnProperty(pt)&&(Ne[pt]=ke[pt]);return Ne}function we(Ne){if("number"!=typeof Ne&&null!=Ne){const[ke,pt]=Ne.split(z);return pt&&"px"!==pt?null:parseFloat(ke)}return Ne||null}function Me(Ne){return{top:Math.floor(Ne.top),right:Math.floor(Ne.right),bottom:Math.floor(Ne.bottom),left:Math.floor(Ne.left),width:Math.floor(Ne.width),height:Math.floor(Ne.height)}}const Ue="cdk-global-overlay-wrapper";class xe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ke){const pt=ke.getConfig();this._overlayRef=ke,this._width&&!pt.width&&ke.updateSize({width:this._width}),this._height&&!pt.height&&ke.updateSize({height:this._height}),ke.hostElement.classList.add(Ue),this._isDisposed=!1}top(ke=""){return this._bottomOffset="",this._topOffset=ke,this._alignItems="flex-start",this}left(ke=""){return this._xOffset=ke,this._xPosition="left",this}bottom(ke=""){return this._topOffset="",this._bottomOffset=ke,this._alignItems="flex-end",this}right(ke=""){return this._xOffset=ke,this._xPosition="right",this}start(ke=""){return this._xOffset=ke,this._xPosition="start",this}end(ke=""){return this._xOffset=ke,this._xPosition="end",this}width(ke=""){return this._overlayRef?this._overlayRef.updateSize({width:ke}):this._width=ke,this}height(ke=""){return this._overlayRef?this._overlayRef.updateSize({height:ke}):this._height=ke,this}centerHorizontally(ke=""){return this.left(ke),this._xPosition="center",this}centerVertically(ke=""){return this.top(ke),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ke=this._overlayRef.overlayElement.style,pt=this._overlayRef.hostElement.style,F=this._overlayRef.getConfig(),{width:D,height:M,maxWidth:G,maxHeight:fe}=F,Se=!("100%"!==D&&"100vw"!==D||G&&"100%"!==G&&"100vw"!==G),Ae=!("100%"!==M&&"100vh"!==M||fe&&"100%"!==fe&&"100vh"!==fe),rt=this._xPosition,Ht=this._xOffset,vt="rtl"===this._overlayRef.getConfig().direction;let Ot="",qt="",mn="";Se?mn="flex-start":"center"===rt?(mn="center",vt?qt=Ht:Ot=Ht):vt?"left"===rt||"end"===rt?(mn="flex-end",Ot=Ht):("right"===rt||"start"===rt)&&(mn="flex-start",qt=Ht):"left"===rt||"start"===rt?(mn="flex-start",Ot=Ht):("right"===rt||"end"===rt)&&(mn="flex-end",qt=Ht),ke.position=this._cssPosition,ke.marginLeft=Se?"0":Ot,ke.marginTop=Ae?"0":this._topOffset,ke.marginBottom=this._bottomOffset,ke.marginRight=Se?"0":qt,pt.justifyContent=mn,pt.alignItems=Ae?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ke=this._overlayRef.overlayElement.style,pt=this._overlayRef.hostElement,F=pt.style;pt.classList.remove(Ue),F.justifyContent=F.alignItems=ke.marginTop=ke.marginBottom=ke.marginLeft=ke.marginRight=ke.position="",this._overlayRef=null,this._isDisposed=!0}}let Ce=(()=>{class Ne{constructor(pt,F,D,M){this._viewportRuler=pt,this._document=F,this._platform=D,this._overlayContainer=M}global(){return new xe}flexibleConnectedTo(pt){return new ee(pt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(g.Xj),B.KVO(_.qQ),B.KVO(b.OD),B.KVO(a))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})(),be=0,he=(()=>{class Ne{constructor(pt,F,D,M,G,fe,Se,Ae,rt,Ht,vt,Ot){this.scrollStrategies=pt,this._overlayContainer=F,this._componentFactoryResolver=D,this._positionBuilder=M,this._keyboardDispatcher=G,this._injector=fe,this._ngZone=Se,this._document=Ae,this._directionality=rt,this._location=Ht,this._outsideClickDispatcher=vt,this._animationsModuleType=Ot}create(pt){const F=this._createHostElement(),D=this._createPaneElement(F),M=this._createPortalOutlet(D),G=new De(pt);return G.direction=G.direction||this._directionality.value,new v(M,F,D,G,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(B.uvJ))}position(){return this._positionBuilder}_createPaneElement(pt){const F=this._document.createElement("div");return F.id="cdk-overlay-"+be++,F.classList.add("cdk-overlay-pane"),pt.appendChild(F),F}_createHostElement(){const pt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(pt),pt}_createPortalOutlet(pt){return this._appRef||(this._appRef=this._injector.get(B.o8S)),new V.aI(pt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(ve),B.KVO(a),B.KVO(B.OM3),B.KVO(Ce),B.KVO(I),B.KVO(B.zZn),B.KVO(B.SKi),B.KVO(_.qQ),B.KVO(A.dS),B.KVO(_.aZ),B.KVO(L),B.KVO(B.bc$,8))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();const ne=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],te=new B.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const Ne=(0,B.WQX)(he);return()=>Ne.scrollStrategies.reposition()}});let de=(()=>{class Ne{constructor(pt){this.elementRef=pt}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.rXU(B.aKT))};static#t=this.\u0275dir=B.FsC({type:Ne,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Ne})(),_e=(()=>{class Ne{get offsetX(){return this._offsetX}set offsetX(pt){this._offsetX=pt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(pt){this._offsetY=pt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(pt){this._disposeOnNavigation=pt}constructor(pt,F,D,M,G){this._overlay=pt,this._dir=G,this._backdropSubscription=K.yU.EMPTY,this._attachSubscription=K.yU.EMPTY,this._detachSubscription=K.yU.EMPTY,this._positionSubscription=K.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,B.WQX)(B.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new B.bkB,this.positionChange=new B.bkB,this.attach=new B.bkB,this.detach=new B.bkB,this.overlayKeydown=new B.bkB,this.overlayOutsideClick=new B.bkB,this._templatePortal=new V.VA(F,D),this._scrollStrategyFactory=M,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(pt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),pt.origin&&this.open&&this._position.apply()),pt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ne);const pt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=pt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=pt.detachments().subscribe(()=>this.detach.emit()),pt.keydownEvents().subscribe(F=>{this.overlayKeydown.next(F),F.keyCode===q._f&&!this.disableClose&&!(0,q.rp)(F)&&(F.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(F=>{const D=this._getOriginElement(),M=(0,b.Fb)(F);(!D||D!==M&&!D.contains(M))&&this.overlayOutsideClick.next(F)})}_buildConfig(){const pt=this._position=this.positionStrategy||this._createPositionStrategy(),F=new De({direction:this._dir,positionStrategy:pt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(F.width=this.width),(this.height||0===this.height)&&(F.height=this.height),(this.minWidth||0===this.minWidth)&&(F.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(F.minHeight=this.minHeight),this.backdropClass&&(F.backdropClass=this.backdropClass),this.panelClass&&(F.panelClass=this.panelClass),F}_updatePositionStrategy(pt){const F=this.positions.map(D=>({originX:D.originX,originY:D.originY,overlayX:D.overlayX,overlayY:D.overlayY,offsetX:D.offsetX||this.offsetX,offsetY:D.offsetY||this.offsetY,panelClass:D.panelClass||void 0}));return pt.setOrigin(this._getOrigin()).withPositions(F).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const pt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(pt),pt}_getOrigin(){return this.origin instanceof de?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof de?this.origin.elementRef.nativeElement:this.origin instanceof B.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(pt=>{this.backdropClick.emit(pt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function O(Ne,ke=!1){return(0,P.N)((pt,F)=>{let D=0;pt.subscribe((0,R._)(F,M=>{const G=Ne(M,D++);(G||ke)&&F.next(M),!G&&F.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(pt=>{this._ngZone.run(()=>this.positionChange.emit(pt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.rXU(he),B.rXU(B.C4Q),B.rXU(B.c1b),B.rXU(te),B.rXU(A.dS,8))};static#t=this.\u0275dir=B.FsC({type:Ne,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",B.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",B.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",B.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",B.L39],push:[2,"cdkConnectedOverlayPush","push",B.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",B.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[B.GFd,B.OA$]})}return Ne})();const He={provide:te,deps:[he],useFactory:function Ie(Ne){return()=>Ne.scrollStrategies.reposition()}};let Ve=(()=>{class Ne{static#e=this.\u0275fac=function(F){return new(F||Ne)};static#t=this.\u0275mod=B.$C({type:Ne});static#n=this.\u0275inj=B.G2t({providers:[he,He],imports:[A.jI,V.jc,g.E9,g.E9]})}return Ne})()},36860:($e,j,E)=>{"use strict";E.d(j,{BD:()=>q,BQ:()=>A,CZ:()=>Q,Fb:()=>ae,KT:()=>re,MU:()=>P,OD:()=>H,r5:()=>V,v8:()=>ue,vc:()=>ie});var g=E(93953),_=E(60177);let B;try{B=typeof Intl<"u"&&Intl.v8BreakIterator}catch{B=!1}let k,H=(()=>{class ce{constructor(ve){this._platformId=ve,this.isBrowser=this._platformId?(0,_.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!B)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(De){return new(De||ce)(g.KVO(g.Agw))};static#t=this.\u0275prov=g.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const S=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function P(){if(k)return k;if("object"!=typeof document||!document)return k=new Set(S),k;let ce=document.createElement("input");return k=new Set(S.filter(pe=>(ce.setAttribute("type",pe),ce.type===pe))),k}let R;function A(ce){return function O(){if(null==R&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>R=!0}))}finally{R=R||!1}return R}()?ce:!!ce.capture}var V=function(ce){return ce[ce.NORMAL=0]="NORMAL",ce[ce.NEGATED=1]="NEGATED",ce[ce.INVERTED=2]="INVERTED",ce}(V||{});let U,K,Y;function Q(){if(null==K){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return K=!1,K;if("scrollBehavior"in document.documentElement.style)K=!0;else{const ce=Element.prototype.scrollTo;K=!!ce&&!/\{\s*\[native code\]\s*\}/.test(ce.toString())}}return K}function q(){if("object"!=typeof document||!document)return V.NORMAL;if(null==U){const ce=document.createElement("div"),pe=ce.style;ce.dir="rtl",pe.width="1px",pe.overflow="auto",pe.visibility="hidden",pe.pointerEvents="none",pe.position="absolute";const ve=document.createElement("div"),De=ve.style;De.width="2px",De.height="1px",ce.appendChild(ve),document.body.appendChild(ce),U=V.NORMAL,0===ce.scrollLeft&&(ce.scrollLeft=1,U=0===ce.scrollLeft?V.NEGATED:V.INVERTED),ce.remove()}return U}function re(ce){if(function W(){if(null==Y){const ce=typeof document<"u"?document.head:null;Y=!(!ce||!ce.createShadowRoot&&!ce.attachShadow)}return Y}()){const pe=ce.getRootNode?ce.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&pe instanceof ShadowRoot)return pe}return null}function ie(){let ce=typeof document<"u"&&document?document.activeElement:null;for(;ce&&ce.shadowRoot;){const pe=ce.shadowRoot.activeElement;if(pe===ce)break;ce=pe}return ce}function ae(ce){return ce.composedPath?ce.composedPath()[0]:ce.target}function ue(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:($e,j,E)=>{"use strict";E.d(j,{A8:()=>O,I3:()=>re,VA:()=>A,aI:()=>Q,bV:()=>Y,jc:()=>ae,lb:()=>U});var g=E(93953),_=E(60177);class R{attach(pe){return this._attachedHost=pe,pe.attach(this)}detach(){let pe=this._attachedHost;null!=pe&&(this._attachedHost=null,pe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(pe){this._attachedHost=pe}}class O extends R{constructor(pe,ve,De,C,s){super(),this.component=pe,this.viewContainerRef=ve,this.injector=De,this.componentFactoryResolver=C,this.projectableNodes=s}}class A extends R{constructor(pe,ve,De,C){super(),this.templateRef=pe,this.viewContainerRef=ve,this.context=De,this.injector=C}get origin(){return this.templateRef.elementRef}attach(pe,ve=this.context){return this.context=ve,super.attach(pe)}detach(){return this.context=void 0,super.detach()}}class V extends R{constructor(pe){super(),this.element=pe instanceof g.aKT?pe.nativeElement:pe}}class U{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(pe){return pe instanceof O?(this._attachedPortal=pe,this.attachComponentPortal(pe)):pe instanceof A?(this._attachedPortal=pe,this.attachTemplatePortal(pe)):this.attachDomPortal&&pe instanceof V?(this._attachedPortal=pe,this.attachDomPortal(pe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(pe){this._disposeFn=pe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Q extends U{constructor(pe,ve,De,C,s){super(),this.outletElement=pe,this._componentFactoryResolver=ve,this._appRef=De,this._defaultInjector=C,this.attachDomPortal=d=>{const h=d.element,f=this._document.createComment("dom-portal");h.parentNode.insertBefore(f,h),this.outletElement.appendChild(h),this._attachedPortal=d,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(h,f)})},this._document=s}attachComponentPortal(pe){const De=(pe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(pe.component);let C;return pe.viewContainerRef?(C=pe.viewContainerRef.createComponent(De,pe.viewContainerRef.length,pe.injector||pe.viewContainerRef.injector,pe.projectableNodes||void 0),this.setDisposeFn(()=>C.destroy())):(C=De.create(pe.injector||this._defaultInjector||g.zZn.NULL),this._appRef.attachView(C.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(C.hostView),C.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(C)),this._attachedPortal=pe,C}attachTemplatePortal(pe){let ve=pe.viewContainerRef,De=ve.createEmbeddedView(pe.templateRef,pe.context,{injector:pe.injector});return De.rootNodes.forEach(C=>this.outletElement.appendChild(C)),De.detectChanges(),this.setDisposeFn(()=>{let C=ve.indexOf(De);-1!==C&&ve.remove(C)}),this._attachedPortal=pe,De}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(pe){return pe.hostView.rootNodes[0]}}let Y=(()=>{class ce extends A{constructor(ve,De){super(ve,De)}static#e=this.\u0275fac=function(De){return new(De||ce)(g.rXU(g.C4Q),g.rXU(g.c1b))};static#t=this.\u0275dir=g.FsC({type:ce,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[g.Vt3]})}return ce})(),re=(()=>{class ce extends U{constructor(ve,De,C){super(),this._componentFactoryResolver=ve,this._viewContainerRef=De,this._isInitialized=!1,this.attached=new g.bkB,this.attachDomPortal=s=>{const d=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),d.parentNode.insertBefore(h,d),this._getRootNode().appendChild(d),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(d,h)})},this._document=C}get portal(){return this._attachedPortal}set portal(ve){this.hasAttached()&&!ve&&!this._isInitialized||(this.hasAttached()&&super.detach(),ve&&super.attach(ve),this._attachedPortal=ve||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(ve){ve.setAttachedHost(this);const De=null!=ve.viewContainerRef?ve.viewContainerRef:this._viewContainerRef,s=(ve.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ve.component),d=De.createComponent(s,De.length,ve.injector||De.injector,ve.projectableNodes||void 0);return De!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=ve,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(ve){ve.setAttachedHost(this);const De=this._viewContainerRef.createEmbeddedView(ve.templateRef,ve.context,{injector:ve.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ve,this._attachedRef=De,this.attached.emit(De),De}_getRootNode(){const ve=this._viewContainerRef.element.nativeElement;return ve.nodeType===ve.ELEMENT_NODE?ve:ve.parentNode}static#e=this.\u0275fac=function(De){return new(De||ce)(g.rXU(g.OM3),g.rXU(g.c1b),g.rXU(_.qQ))};static#t=this.\u0275dir=g.FsC({type:ce,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[g.Vt3]})}return ce})(),ae=(()=>{class ce{static#e=this.\u0275fac=function(De){return new(De||ce)};static#t=this.\u0275mod=g.$C({type:ce});static#n=this.\u0275inj=g.G2t({})}return ce})()},67333:($e,j,E)=>{"use strict";E.d(j,{uv:()=>d,Gj:()=>le,R:()=>s,E9:()=>we,Xj:()=>f});var g=E(14085),_=E(93953),B=E(21413),H=E(7673),b=E(71985),k=E(33726),R=(E(30536),E(25007),E(43236)),O=E(39974),A=E(58750),V=E(54360),K=E(41584);function Q(Me,Ge=R.E){return function U(Me){return(0,O.N)((Ge,ge)=>{let me=!1,Ue=null,xe=null,Ce=!1;const be=()=>{if(xe?.unsubscribe(),xe=null,me){me=!1;const ne=Ue;Ue=null,ge.next(ne)}Ce&&ge.complete()},he=()=>{xe=null,Ce&&ge.complete()};Ge.subscribe((0,V._)(ge,ne=>{me=!0,Ue=ne,xe||(0,A.Tg)(Me(ne)).subscribe(xe=(0,V._)(ge,be,he))},()=>{Ce=!0,(!me||!xe||xe.closed)&&ge.complete()}))})}(()=>(0,K.O)(Me,Ge))}var q=E(5964),Y=E(56977),W=E(36860),re=E(60177),ie=E(28203);let s=(()=>{class Me{constructor(ge,me,Ue){this._ngZone=ge,this._platform=me,this._scrolled=new B.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ue}register(ge){this.scrollContainers.has(ge)||this.scrollContainers.set(ge,ge.elementScrolled().subscribe(()=>this._scrolled.next(ge)))}deregister(ge){const me=this.scrollContainers.get(ge);me&&(me.unsubscribe(),this.scrollContainers.delete(ge))}scrolled(ge=20){return this._platform.isBrowser?new b.c(me=>{this._globalSubscription||this._addGlobalListener();const Ue=ge>0?this._scrolled.pipe(Q(ge)).subscribe(me):this._scrolled.subscribe(me);return this._scrolledCount++,()=>{Ue.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,H.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ge,me)=>this.deregister(me)),this._scrolled.complete()}ancestorScrolled(ge,me){const Ue=this.getAncestorScrollContainers(ge);return this.scrolled(me).pipe((0,q.p)(xe=>!xe||Ue.indexOf(xe)>-1))}getAncestorScrollContainers(ge){const me=[];return this.scrollContainers.forEach((Ue,xe)=>{this._scrollableContainsElement(xe,ge)&&me.push(xe)}),me}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ge,me){let Ue=(0,g.i8)(me),xe=ge.getElementRef().nativeElement;do{if(Ue==xe)return!0}while(Ue=Ue.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ge=this._getWindow();return(0,k.R)(ge.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(me){return new(me||Me)(_.KVO(_.SKi),_.KVO(W.OD),_.KVO(re.qQ,8))};static#t=this.\u0275prov=_.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})(),d=(()=>{class Me{constructor(ge,me,Ue,xe){this.elementRef=ge,this.scrollDispatcher=me,this.ngZone=Ue,this.dir=xe,this._destroyed=new B.B,this._elementScrolled=new b.c(Ce=>this.ngZone.runOutsideAngular(()=>(0,k.R)(this.elementRef.nativeElement,"scroll").pipe((0,Y.Q)(this._destroyed)).subscribe(Ce)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ge){const me=this.elementRef.nativeElement,Ue=this.dir&&"rtl"==this.dir.value;null==ge.left&&(ge.left=Ue?ge.end:ge.start),null==ge.right&&(ge.right=Ue?ge.start:ge.end),null!=ge.bottom&&(ge.top=me.scrollHeight-me.clientHeight-ge.bottom),Ue&&(0,W.BD)()!=W.r5.NORMAL?(null!=ge.left&&(ge.right=me.scrollWidth-me.clientWidth-ge.left),(0,W.BD)()==W.r5.INVERTED?ge.left=ge.right:(0,W.BD)()==W.r5.NEGATED&&(ge.left=ge.right?-ge.right:ge.right)):null!=ge.right&&(ge.left=me.scrollWidth-me.clientWidth-ge.right),this._applyScrollToOptions(ge)}_applyScrollToOptions(ge){const me=this.elementRef.nativeElement;(0,W.CZ)()?me.scrollTo(ge):(null!=ge.top&&(me.scrollTop=ge.top),null!=ge.left&&(me.scrollLeft=ge.left))}measureScrollOffset(ge){const me="left",xe=this.elementRef.nativeElement;if("top"==ge)return xe.scrollTop;if("bottom"==ge)return xe.scrollHeight-xe.clientHeight-xe.scrollTop;const Ce=this.dir&&"rtl"==this.dir.value;return"start"==ge?ge=Ce?"right":me:"end"==ge&&(ge=Ce?me:"right"),Ce&&(0,W.BD)()==W.r5.INVERTED?ge==me?xe.scrollWidth-xe.clientWidth-xe.scrollLeft:xe.scrollLeft:Ce&&(0,W.BD)()==W.r5.NEGATED?ge==me?xe.scrollLeft+xe.scrollWidth-xe.clientWidth:-xe.scrollLeft:ge==me?xe.scrollLeft:xe.scrollWidth-xe.clientWidth-xe.scrollLeft}static#e=this.\u0275fac=function(me){return new(me||Me)(_.rXU(_.aKT),_.rXU(s),_.rXU(_.SKi),_.rXU(ie.dS,8))};static#t=this.\u0275dir=_.FsC({type:Me,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Me})(),f=(()=>{class Me{constructor(ge,me,Ue){this._platform=ge,this._change=new B.B,this._changeListener=xe=>{this._change.next(xe)},this._document=Ue,me.runOutsideAngular(()=>{if(ge.isBrowser){const xe=this._getWindow();xe.addEventListener("resize",this._changeListener),xe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ge=this._getWindow();ge.removeEventListener("resize",this._changeListener),ge.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ge={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ge}getViewportRect(){const ge=this.getViewportScrollPosition(),{width:me,height:Ue}=this.getViewportSize();return{top:ge.top,left:ge.left,bottom:ge.top+Ue,right:ge.left+me,height:Ue,width:me}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ge=this._document,me=this._getWindow(),Ue=ge.documentElement,xe=Ue.getBoundingClientRect();return{top:-xe.top||ge.body.scrollTop||me.scrollY||Ue.scrollTop||0,left:-xe.left||ge.body.scrollLeft||me.scrollX||Ue.scrollLeft||0}}change(ge=20){return ge>0?this._change.pipe(Q(ge)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ge=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ge.innerWidth,height:ge.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(me){return new(me||Me)(_.KVO(W.OD),_.KVO(_.SKi),_.KVO(re.qQ,8))};static#t=this.\u0275prov=_.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})(),le=(()=>{class Me{static#e=this.\u0275fac=function(me){return new(me||Me)};static#t=this.\u0275mod=_.$C({type:Me});static#n=this.\u0275inj=_.G2t({})}return Me})(),we=(()=>{class Me{static#e=this.\u0275fac=function(me){return new(me||Me)};static#t=this.\u0275mod=_.$C({type:Me});static#n=this.\u0275inj=_.G2t({imports:[ie.jI,le,ie.jI,le]})}return Me})()},60177:($e,j,E)=>{"use strict";E.d(j,{AJ:()=>so,Jj:()=>Rn,MD:()=>Vr,N0:()=>$i,QT:()=>B,Sm:()=>q,Sq:()=>Ft,T3:()=>It,UE:()=>Nr,VF:()=>b,Vy:()=>zr,Xr:()=>wr,YU:()=>Lr,ZD:()=>H,_b:()=>yr,aZ:()=>W,bT:()=>gn,fw:()=>Y,hb:()=>K,hj:()=>R,qQ:()=>S,vh:()=>et});var g=E(93953);let _=null;function B(){return _}function H(Xe){_??=Xe}class b{}const S=new g.nKC("");let P=(()=>{class Xe{historyGo(ht){throw new Error("")}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)};static#t=this.\u0275prov=g.jDH({token:Xe,factory:()=>(0,g.WQX)(O),providedIn:"platform"})}return Xe})();const R=new g.nKC("");let O=(()=>{class Xe extends P{constructor(){super(),this._doc=(0,g.WQX)(S),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(ht){const Nt=B().getGlobalEventTarget(this._doc,"window");return Nt.addEventListener("popstate",ht,!1),()=>Nt.removeEventListener("popstate",ht)}onHashChange(ht){const Nt=B().getGlobalEventTarget(this._doc,"window");return Nt.addEventListener("hashchange",ht,!1),()=>Nt.removeEventListener("hashchange",ht)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ht){this._location.pathname=ht}pushState(ht,Nt,En){this._history.pushState(ht,Nt,En)}replaceState(ht,Nt,En){this._history.replaceState(ht,Nt,En)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ht=0){this._history.go(ht)}getState(){return this._history.state}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)};static#t=this.\u0275prov=g.jDH({token:Xe,factory:()=>new Xe,providedIn:"platform"})}return Xe})();function A(Xe,Lt){if(0==Xe.length)return Lt;if(0==Lt.length)return Xe;let ht=0;return Xe.endsWith("/")&&ht++,Lt.startsWith("/")&&ht++,2==ht?Xe+Lt.substring(1):1==ht?Xe+Lt:Xe+"/"+Lt}function V(Xe){const Lt=Xe.match(/#|\?|$/),ht=Lt&&Lt.index||Xe.length;return Xe.slice(0,ht-("/"===Xe[ht-1]?1:0))+Xe.slice(ht)}function U(Xe){return Xe&&"?"!==Xe[0]?"?"+Xe:Xe}let K=(()=>{class Xe{historyGo(ht){throw new Error("")}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)};static#t=this.\u0275prov=g.jDH({token:Xe,factory:()=>(0,g.WQX)(q),providedIn:"root"})}return Xe})();const Q=new g.nKC("");let q=(()=>{class Xe extends K{constructor(ht,Nt){super(),this._platformLocation=ht,this._removeListenerFns=[],this._baseHref=Nt??this._platformLocation.getBaseHrefFromDOM()??(0,g.WQX)(S).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ht){this._removeListenerFns.push(this._platformLocation.onPopState(ht),this._platformLocation.onHashChange(ht))}getBaseHref(){return this._baseHref}prepareExternalUrl(ht){return A(this._baseHref,ht)}path(ht=!1){const Nt=this._platformLocation.pathname+U(this._platformLocation.search),En=this._platformLocation.hash;return En&&ht?`${Nt}${En}`:Nt}pushState(ht,Nt,En,Ln){const mr=this.prepareExternalUrl(En+U(Ln));this._platformLocation.pushState(ht,Nt,mr)}replaceState(ht,Nt,En,Ln){const mr=this.prepareExternalUrl(En+U(Ln));this._platformLocation.replaceState(ht,Nt,mr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ht=0){this._platformLocation.historyGo?.(ht)}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)(g.KVO(P),g.KVO(Q,8))};static#t=this.\u0275prov=g.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})(),Y=(()=>{class Xe extends K{constructor(ht,Nt){super(),this._platformLocation=ht,this._baseHref="",this._removeListenerFns=[],null!=Nt&&(this._baseHref=Nt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ht){this._removeListenerFns.push(this._platformLocation.onPopState(ht),this._platformLocation.onHashChange(ht))}getBaseHref(){return this._baseHref}path(ht=!1){const Nt=this._platformLocation.hash??"#";return Nt.length>0?Nt.substring(1):Nt}prepareExternalUrl(ht){const Nt=A(this._baseHref,ht);return Nt.length>0?"#"+Nt:Nt}pushState(ht,Nt,En,Ln){let mr=this.prepareExternalUrl(En+U(Ln));0==mr.length&&(mr=this._platformLocation.pathname),this._platformLocation.pushState(ht,Nt,mr)}replaceState(ht,Nt,En,Ln){let mr=this.prepareExternalUrl(En+U(Ln));0==mr.length&&(mr=this._platformLocation.pathname),this._platformLocation.replaceState(ht,Nt,mr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ht=0){this._platformLocation.historyGo?.(ht)}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)(g.KVO(P),g.KVO(Q,8))};static#t=this.\u0275prov=g.jDH({token:Xe,factory:Xe.\u0275fac})}return Xe})(),W=(()=>{class Xe{constructor(ht){this._subject=new g.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ht;const Nt=this._locationStrategy.getBaseHref();this._basePath=function ue(Xe){if(new RegExp("^(https?:)?//").test(Xe)){const[,ht]=Xe.split(/\/\/[^\/]+/);return ht}return Xe}(V(ae(Nt))),this._locationStrategy.onPopState(En=>{this._subject.emit({url:this.path(!0),pop:!0,state:En.state,type:En.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ht=!1){return this.normalize(this._locationStrategy.path(ht))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ht,Nt=""){return this.path()==this.normalize(ht+U(Nt))}normalize(ht){return Xe.stripTrailingSlash(function ie(Xe,Lt){if(!Xe||!Lt.startsWith(Xe))return Lt;const ht=Lt.substring(Xe.length);return""===ht||["/",";","?","#"].includes(ht[0])?ht:Lt}(this._basePath,ae(ht)))}prepareExternalUrl(ht){return ht&&"/"!==ht[0]&&(ht="/"+ht),this._locationStrategy.prepareExternalUrl(ht)}go(ht,Nt="",En=null){this._locationStrategy.pushState(En,"",ht,Nt),this._notifyUrlChangeListeners(this.prepareExternalUrl(ht+U(Nt)),En)}replaceState(ht,Nt="",En=null){this._locationStrategy.replaceState(En,"",ht,Nt),this._notifyUrlChangeListeners(this.prepareExternalUrl(ht+U(Nt)),En)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ht=0){this._locationStrategy.historyGo?.(ht)}onUrlChange(ht){return this._urlChangeListeners.push(ht),this._urlChangeSubscription??=this.subscribe(Nt=>{this._notifyUrlChangeListeners(Nt.url,Nt.state)}),()=>{const Nt=this._urlChangeListeners.indexOf(ht);this._urlChangeListeners.splice(Nt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ht="",Nt){this._urlChangeListeners.forEach(En=>En(ht,Nt))}subscribe(ht,Nt,En){return this._subject.subscribe({next:ht,error:Nt,complete:En})}static#e=this.normalizeQueryParams=U;static#t=this.joinWithSlash=A;static#n=this.stripTrailingSlash=V;static#f=this.\u0275fac=function(Nt){return new(Nt||Xe)(g.KVO(K))};static#D=this.\u0275prov=g.jDH({token:Xe,factory:()=>function re(){return new W((0,g.KVO)(K))}(),providedIn:"root"})}return Xe})();function ae(Xe){return Xe.replace(/\/index.html$/,"")}var De=function(Xe){return Xe[Xe.Format=0]="Format",Xe[Xe.Standalone=1]="Standalone",Xe}(De||{}),C=function(Xe){return Xe[Xe.Narrow=0]="Narrow",Xe[Xe.Abbreviated=1]="Abbreviated",Xe[Xe.Wide=2]="Wide",Xe[Xe.Short=3]="Short",Xe}(C||{}),s=function(Xe){return Xe[Xe.Short=0]="Short",Xe[Xe.Medium=1]="Medium",Xe[Xe.Long=2]="Long",Xe[Xe.Full=3]="Full",Xe}(s||{});const d={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Z(Xe,Lt){return ne((0,g.H5H)(Xe)[g.KH2.DateFormat],Lt)}function z(Xe,Lt){return ne((0,g.H5H)(Xe)[g.KH2.TimeFormat],Lt)}function ee(Xe,Lt){return ne((0,g.H5H)(Xe)[g.KH2.DateTimeFormat],Lt)}function le(Xe,Lt){const ht=(0,g.H5H)(Xe),Nt=ht[g.KH2.NumberSymbols][Lt];if(typeof Nt>"u"){if(Lt===d.CurrencyDecimal)return ht[g.KH2.NumberSymbols][d.Decimal];if(Lt===d.CurrencyGroup)return ht[g.KH2.NumberSymbols][d.Group]}return Nt}function xe(Xe){if(!Xe[g.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${Xe[g.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ne(Xe,Lt){for(let ht=Lt;ht>-1;ht--)if(typeof Xe[ht]<"u")return Xe[ht];throw new Error("Locale data API: locale data undefined")}function te(Xe){const[Lt,ht]=Xe.split(":");return{hours:+Lt,minutes:+ht}}const He=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ve={},xt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ne=function(Xe){return Xe[Xe.Short=0]="Short",Xe[Xe.ShortGMT=1]="ShortGMT",Xe[Xe.Long=2]="Long",Xe[Xe.Extended=3]="Extended",Xe}(Ne||{}),ke=function(Xe){return Xe[Xe.FullYear=0]="FullYear",Xe[Xe.Month=1]="Month",Xe[Xe.Date=2]="Date",Xe[Xe.Hours=3]="Hours",Xe[Xe.Minutes=4]="Minutes",Xe[Xe.Seconds=5]="Seconds",Xe[Xe.FractionalSeconds=6]="FractionalSeconds",Xe[Xe.Day=7]="Day",Xe}(ke||{}),pt=function(Xe){return Xe[Xe.DayPeriods=0]="DayPeriods",Xe[Xe.Days=1]="Days",Xe[Xe.Months=2]="Months",Xe[Xe.Eras=3]="Eras",Xe}(pt||{});function F(Xe,Lt,ht,Nt){let En=function nn(Xe){if(ot(Xe))return Xe;if("number"==typeof Xe&&!isNaN(Xe))return new Date(Xe);if("string"==typeof Xe){if(Xe=Xe.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Xe)){const[En,Ln=1,mr=1]=Xe.split("-").map(qr=>+qr);return D(En,Ln-1,mr)}const ht=parseFloat(Xe);if(!isNaN(Xe-ht))return new Date(ht);let Nt;if(Nt=Xe.match(He))return function Xn(Xe){const Lt=new Date(0);let ht=0,Nt=0;const En=Xe[8]?Lt.setUTCFullYear:Lt.setFullYear,Ln=Xe[8]?Lt.setUTCHours:Lt.setHours;Xe[9]&&(ht=Number(Xe[9]+Xe[10]),Nt=Number(Xe[9]+Xe[11])),En.call(Lt,Number(Xe[1]),Number(Xe[2])-1,Number(Xe[3]));const mr=Number(Xe[4]||0)-ht,qr=Number(Xe[5]||0)-Nt,Ni=Number(Xe[6]||0),Ho=Math.floor(1e3*parseFloat("0."+(Xe[7]||0)));return Ln.call(Lt,mr,qr,Ni,Ho),Lt}(Nt)}const Lt=new Date(Xe);if(!ot(Lt))throw new Error(`Unable to convert "${Xe}" into a date`);return Lt}(Xe);Lt=M(ht,Lt)||Lt;let qr,mr=[];for(;Lt;){if(qr=xt.exec(Lt),!qr){mr.push(Lt);break}{mr=mr.concat(qr.slice(1));const Ro=mr.pop();if(!Ro)break;Lt=Ro}}let Ni=En.getTimezoneOffset();Nt&&(Ni=it(Nt,Ni),En=function Gt(Xe,Lt,ht){const Nt=ht?-1:1,En=Xe.getTimezoneOffset();return function Wt(Xe,Lt){return(Xe=new Date(Xe.getTime())).setMinutes(Xe.getMinutes()+Lt),Xe}(Xe,Nt*(it(Lt,En)-En))}(En,Nt,!0));let Ho="";return mr.forEach(Ro=>{const ni=function dt(Xe){if(Xt[Xe])return Xt[Xe];let Lt;switch(Xe){case"G":case"GG":case"GGG":Lt=Ht(pt.Eras,C.Abbreviated);break;case"GGGG":Lt=Ht(pt.Eras,C.Wide);break;case"GGGGG":Lt=Ht(pt.Eras,C.Narrow);break;case"y":Lt=Ae(ke.FullYear,1,0,!1,!0);break;case"yy":Lt=Ae(ke.FullYear,2,0,!0,!0);break;case"yyy":Lt=Ae(ke.FullYear,3,0,!1,!0);break;case"yyyy":Lt=Ae(ke.FullYear,4,0,!1,!0);break;case"Y":Lt=rn(1);break;case"YY":Lt=rn(2,!0);break;case"YYY":Lt=rn(3);break;case"YYYY":Lt=rn(4);break;case"M":case"L":Lt=Ae(ke.Month,1,1);break;case"MM":case"LL":Lt=Ae(ke.Month,2,1);break;case"MMM":Lt=Ht(pt.Months,C.Abbreviated);break;case"MMMM":Lt=Ht(pt.Months,C.Wide);break;case"MMMMM":Lt=Ht(pt.Months,C.Narrow);break;case"LLL":Lt=Ht(pt.Months,C.Abbreviated,De.Standalone);break;case"LLLL":Lt=Ht(pt.Months,C.Wide,De.Standalone);break;case"LLLLL":Lt=Ht(pt.Months,C.Narrow,De.Standalone);break;case"w":Lt=Tn(1);break;case"ww":Lt=Tn(2);break;case"W":Lt=Tn(1,!0);break;case"d":Lt=Ae(ke.Date,1);break;case"dd":Lt=Ae(ke.Date,2);break;case"c":case"cc":Lt=Ae(ke.Day,1);break;case"ccc":Lt=Ht(pt.Days,C.Abbreviated,De.Standalone);break;case"cccc":Lt=Ht(pt.Days,C.Wide,De.Standalone);break;case"ccccc":Lt=Ht(pt.Days,C.Narrow,De.Standalone);break;case"cccccc":Lt=Ht(pt.Days,C.Short,De.Standalone);break;case"E":case"EE":case"EEE":Lt=Ht(pt.Days,C.Abbreviated);break;case"EEEE":Lt=Ht(pt.Days,C.Wide);break;case"EEEEE":Lt=Ht(pt.Days,C.Narrow);break;case"EEEEEE":Lt=Ht(pt.Days,C.Short);break;case"a":case"aa":case"aaa":Lt=Ht(pt.DayPeriods,C.Abbreviated);break;case"aaaa":Lt=Ht(pt.DayPeriods,C.Wide);break;case"aaaaa":Lt=Ht(pt.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":Lt=Ht(pt.DayPeriods,C.Abbreviated,De.Standalone,!0);break;case"bbbb":Lt=Ht(pt.DayPeriods,C.Wide,De.Standalone,!0);break;case"bbbbb":Lt=Ht(pt.DayPeriods,C.Narrow,De.Standalone,!0);break;case"B":case"BB":case"BBB":Lt=Ht(pt.DayPeriods,C.Abbreviated,De.Format,!0);break;case"BBBB":Lt=Ht(pt.DayPeriods,C.Wide,De.Format,!0);break;case"BBBBB":Lt=Ht(pt.DayPeriods,C.Narrow,De.Format,!0);break;case"h":Lt=Ae(ke.Hours,1,-12);break;case"hh":Lt=Ae(ke.Hours,2,-12);break;case"H":Lt=Ae(ke.Hours,1);break;case"HH":Lt=Ae(ke.Hours,2);break;case"m":Lt=Ae(ke.Minutes,1);break;case"mm":Lt=Ae(ke.Minutes,2);break;case"s":Lt=Ae(ke.Seconds,1);break;case"ss":Lt=Ae(ke.Seconds,2);break;case"S":Lt=Ae(ke.FractionalSeconds,1);break;case"SS":Lt=Ae(ke.FractionalSeconds,2);break;case"SSS":Lt=Ae(ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Lt=Ot(Ne.Short);break;case"ZZZZZ":Lt=Ot(Ne.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Lt=Ot(Ne.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Lt=Ot(Ne.Long);break;default:return null}return Xt[Xe]=Lt,Lt}(Ro);Ho+=ni?ni(En,ht,Ni):"''"===Ro?"'":Ro.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ho}function D(Xe,Lt,ht){const Nt=new Date(0);return Nt.setFullYear(Xe,Lt,ht),Nt.setHours(0,0,0),Nt}function M(Xe,Lt){const ht=function f(Xe){return(0,g.H5H)(Xe)[g.KH2.LocaleId]}(Xe);if(Ve[ht]??={},Ve[ht][Lt])return Ve[ht][Lt];let Nt="";switch(Lt){case"shortDate":Nt=Z(Xe,s.Short);break;case"mediumDate":Nt=Z(Xe,s.Medium);break;case"longDate":Nt=Z(Xe,s.Long);break;case"fullDate":Nt=Z(Xe,s.Full);break;case"shortTime":Nt=z(Xe,s.Short);break;case"mediumTime":Nt=z(Xe,s.Medium);break;case"longTime":Nt=z(Xe,s.Long);break;case"fullTime":Nt=z(Xe,s.Full);break;case"short":const En=M(Xe,"shortTime"),Ln=M(Xe,"shortDate");Nt=G(ee(Xe,s.Short),[En,Ln]);break;case"medium":const mr=M(Xe,"mediumTime"),qr=M(Xe,"mediumDate");Nt=G(ee(Xe,s.Medium),[mr,qr]);break;case"long":const Ni=M(Xe,"longTime"),Ho=M(Xe,"longDate");Nt=G(ee(Xe,s.Long),[Ni,Ho]);break;case"full":const Ro=M(Xe,"fullTime"),ni=M(Xe,"fullDate");Nt=G(ee(Xe,s.Full),[Ro,ni])}return Nt&&(Ve[ht][Lt]=Nt),Nt}function G(Xe,Lt){return Lt&&(Xe=Xe.replace(/\{([^}]+)}/g,function(ht,Nt){return null!=Lt&&Nt in Lt?Lt[Nt]:ht})),Xe}function fe(Xe,Lt,ht="-",Nt,En){let Ln="";(Xe<0||En&&Xe<=0)&&(En?Xe=1-Xe:(Xe=-Xe,Ln=ht));let mr=String(Xe);for(;mr.length<Lt;)mr="0"+mr;return Nt&&(mr=mr.slice(mr.length-Lt)),Ln+mr}function Ae(Xe,Lt,ht=0,Nt=!1,En=!1){return function(Ln,mr){let qr=function rt(Xe,Lt){switch(Xe){case ke.FullYear:return Lt.getFullYear();case ke.Month:return Lt.getMonth();case ke.Date:return Lt.getDate();case ke.Hours:return Lt.getHours();case ke.Minutes:return Lt.getMinutes();case ke.Seconds:return Lt.getSeconds();case ke.FractionalSeconds:return Lt.getMilliseconds();case ke.Day:return Lt.getDay();default:throw new Error(`Unknown DateType value "${Xe}".`)}}(Xe,Ln);if((ht>0||qr>-ht)&&(qr+=ht),Xe===ke.Hours)0===qr&&-12===ht&&(qr=12);else if(Xe===ke.FractionalSeconds)return function Se(Xe,Lt){return fe(Xe,3).substring(0,Lt)}(qr,Lt);const Ni=le(mr,d.MinusSign);return fe(qr,Lt,Ni,Nt,En)}}function Ht(Xe,Lt,ht=De.Format,Nt=!1){return function(En,Ln){return function vt(Xe,Lt,ht,Nt,En,Ln){switch(ht){case pt.Months:return function L(Xe,Lt,ht){const Nt=(0,g.H5H)(Xe),Ln=ne([Nt[g.KH2.MonthsFormat],Nt[g.KH2.MonthsStandalone]],Lt);return ne(Ln,ht)}(Lt,En,Nt)[Xe.getMonth()];case pt.Days:return function I(Xe,Lt,ht){const Nt=(0,g.H5H)(Xe),Ln=ne([Nt[g.KH2.DaysFormat],Nt[g.KH2.DaysStandalone]],Lt);return ne(Ln,ht)}(Lt,En,Nt)[Xe.getDay()];case pt.DayPeriods:const mr=Xe.getHours(),qr=Xe.getMinutes();if(Ln){const Ho=function Ce(Xe){const Lt=(0,g.H5H)(Xe);return xe(Lt),(Lt[g.KH2.ExtraData][2]||[]).map(Nt=>"string"==typeof Nt?te(Nt):[te(Nt[0]),te(Nt[1])])}(Lt),Ro=function be(Xe,Lt,ht){const Nt=(0,g.H5H)(Xe);xe(Nt);const Ln=ne([Nt[g.KH2.ExtraData][0],Nt[g.KH2.ExtraData][1]],Lt)||[];return ne(Ln,ht)||[]}(Lt,En,Nt),ni=Ho.findIndex(Us=>{if(Array.isArray(Us)){const[Wo,To]=Us,cc=mr>=Wo.hours&&qr>=Wo.minutes,yd=mr<To.hours||mr===To.hours&&qr<To.minutes;if(Wo.hours<To.hours){if(cc&&yd)return!0}else if(cc||yd)return!0}else if(Us.hours===mr&&Us.minutes===qr)return!0;return!1});if(-1!==ni)return Ro[ni]}return function w(Xe,Lt,ht){const Nt=(0,g.H5H)(Xe),Ln=ne([Nt[g.KH2.DayPeriodsFormat],Nt[g.KH2.DayPeriodsStandalone]],Lt);return ne(Ln,ht)}(Lt,En,Nt)[mr<12?0:1];case pt.Eras:return function x(Xe,Lt){return ne((0,g.H5H)(Xe)[g.KH2.Eras],Lt)}(Lt,Nt)[Xe.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ht}`)}}(En,Ln,Xe,Lt,ht,Nt)}}function Ot(Xe){return function(Lt,ht,Nt){const En=-1*Nt,Ln=le(ht,d.MinusSign),mr=En>0?Math.floor(En/60):Math.ceil(En/60);switch(Xe){case Ne.Short:return(En>=0?"+":"")+fe(mr,2,Ln)+fe(Math.abs(En%60),2,Ln);case Ne.ShortGMT:return"GMT"+(En>=0?"+":"")+fe(mr,1,Ln);case Ne.Long:return"GMT"+(En>=0?"+":"")+fe(mr,2,Ln)+":"+fe(Math.abs(En%60),2,Ln);case Ne.Extended:return 0===Nt?"Z":(En>=0?"+":"")+fe(mr,2,Ln)+":"+fe(Math.abs(En%60),2,Ln);default:throw new Error(`Unknown zone width "${Xe}"`)}}}const qt=0,mn=4;function rr(Xe){const Lt=Xe.getDay(),ht=0===Lt?-3:mn-Lt;return D(Xe.getFullYear(),Xe.getMonth(),Xe.getDate()+ht)}function Tn(Xe,Lt=!1){return function(ht,Nt){let En;if(Lt){const Ln=new Date(ht.getFullYear(),ht.getMonth(),1).getDay()-1,mr=ht.getDate();En=1+Math.floor((mr+Ln)/7)}else{const Ln=rr(ht),mr=function ln(Xe){const Lt=D(Xe,qt,1).getDay();return D(Xe,0,1+(Lt<=mn?mn:mn+7)-Lt)}(Ln.getFullYear()),qr=Ln.getTime()-mr.getTime();En=1+Math.round(qr/6048e5)}return fe(En,Xe,le(Nt,d.MinusSign))}}function rn(Xe,Lt=!1){return function(ht,Nt){return fe(rr(ht).getFullYear(),Xe,le(Nt,d.MinusSign),Lt)}}const Xt={};function it(Xe,Lt){Xe=Xe.replace(/:/g,"");const ht=Date.parse("Jan 01, 1970 00:00:00 "+Xe)/6e4;return isNaN(ht)?Lt:ht}function ot(Xe){return Xe instanceof Date&&!isNaN(Xe.valueOf())}function yr(Xe,Lt){Lt=encodeURIComponent(Lt);for(const ht of Xe.split(";")){const Nt=ht.indexOf("="),[En,Ln]=-1==Nt?[ht,""]:[ht.slice(0,Nt),ht.slice(Nt+1)];if(En.trim()===Lt)return decodeURIComponent(Ln)}return null}const Rr=/\s+/,Ir=[];let Lr=(()=>{class Xe{constructor(ht,Nt){this._ngEl=ht,this._renderer=Nt,this.initialClasses=Ir,this.stateMap=new Map}set klass(ht){this.initialClasses=null!=ht?ht.trim().split(Rr):Ir}set ngClass(ht){this.rawClass="string"==typeof ht?ht.trim().split(Rr):ht}ngDoCheck(){for(const Nt of this.initialClasses)this._updateState(Nt,!0);const ht=this.rawClass;if(Array.isArray(ht)||ht instanceof Set)for(const Nt of ht)this._updateState(Nt,!0);else if(null!=ht)for(const Nt of Object.keys(ht))this._updateState(Nt,!!ht[Nt]);this._applyStateDiff()}_updateState(ht,Nt){const En=this.stateMap.get(ht);void 0!==En?(En.enabled!==Nt&&(En.changed=!0,En.enabled=Nt),En.touched=!0):this.stateMap.set(ht,{enabled:Nt,changed:!0,touched:!0})}_applyStateDiff(){for(const ht of this.stateMap){const Nt=ht[0],En=ht[1];En.changed?(this._toggleClass(Nt,En.enabled),En.changed=!1):En.touched||(En.enabled&&this._toggleClass(Nt,!1),this.stateMap.delete(Nt)),En.touched=!1}}_toggleClass(ht,Nt){(ht=ht.trim()).length>0&&ht.split(Rr).forEach(En=>{Nt?this._renderer.addClass(this._ngEl.nativeElement,En):this._renderer.removeClass(this._ngEl.nativeElement,En)})}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)(g.rXU(g.aKT),g.rXU(g.sFG))};static#t=this.\u0275dir=g.FsC({type:Xe,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return Xe})();class bn{constructor(Lt,ht,Nt,En){this.$implicit=Lt,this.ngForOf=ht,this.index=Nt,this.count=En}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ft=(()=>{class Xe{set ngForOf(ht){this._ngForOf=ht,this._ngForOfDirty=!0}set ngForTrackBy(ht){this._trackByFn=ht}get ngForTrackBy(){return this._trackByFn}constructor(ht,Nt,En){this._viewContainer=ht,this._template=Nt,this._differs=En,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ht){ht&&(this._template=ht)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ht=this._ngForOf;!this._differ&&ht&&(this._differ=this._differs.find(ht).create(this.ngForTrackBy))}if(this._differ){const ht=this._differ.diff(this._ngForOf);ht&&this._applyChanges(ht)}}_applyChanges(ht){const Nt=this._viewContainer;ht.forEachOperation((En,Ln,mr)=>{if(null==En.previousIndex)Nt.createEmbeddedView(this._template,new bn(En.item,this._ngForOf,-1,-1),null===mr?void 0:mr);else if(null==mr)Nt.remove(null===Ln?void 0:Ln);else if(null!==Ln){const qr=Nt.get(Ln);Nt.move(qr,mr),_n(qr,En)}});for(let En=0,Ln=Nt.length;En<Ln;En++){const qr=Nt.get(En).context;qr.index=En,qr.count=Ln,qr.ngForOf=this._ngForOf}ht.forEachIdentityChange(En=>{_n(Nt.get(En.currentIndex),En)})}static ngTemplateContextGuard(ht,Nt){return!0}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)(g.rXU(g.c1b),g.rXU(g.C4Q),g.rXU(g._q3))};static#t=this.\u0275dir=g.FsC({type:Xe,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return Xe})();function _n(Xe,Lt){Xe.context.$implicit=Lt.item}let gn=(()=>{class Xe{constructor(ht,Nt){this._viewContainer=ht,this._context=new Sn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Nt}set ngIf(ht){this._context.$implicit=this._context.ngIf=ht,this._updateView()}set ngIfThen(ht){ur("ngIfThen",ht),this._thenTemplateRef=ht,this._thenViewRef=null,this._updateView()}set ngIfElse(ht){ur("ngIfElse",ht),this._elseTemplateRef=ht,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ht,Nt){return!0}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)(g.rXU(g.c1b),g.rXU(g.C4Q))};static#t=this.\u0275dir=g.FsC({type:Xe,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return Xe})();class Sn{constructor(){this.$implicit=null,this.ngIf=null}}function ur(Xe,Lt){if(Lt&&!Lt.createEmbeddedView)throw new Error(`${Xe} must be a TemplateRef, but received '${(0,g.Tbb)(Lt)}'.`)}let It=(()=>{class Xe{constructor(ht){this._viewContainerRef=ht,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ht){if(this._shouldRecreateView(ht)){const Nt=this._viewContainerRef;if(this._viewRef&&Nt.remove(Nt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const En=this._createContextForwardProxy();this._viewRef=Nt.createEmbeddedView(this.ngTemplateOutlet,En,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ht){return!!ht.ngTemplateOutlet||!!ht.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ht,Nt,En)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Nt,En),get:(ht,Nt,En)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Nt,En)}})}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)(g.rXU(g.c1b))};static#t=this.\u0275dir=g.FsC({type:Xe,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.OA$]})}return Xe})();function sn(Xe,Lt){return new g.wOt(2100,!1)}class Yt{createSubscription(Lt,ht){return(0,g.O8t)(()=>Lt.subscribe({next:ht,error:Nt=>{throw Nt}}))}dispose(Lt){(0,g.O8t)(()=>Lt.unsubscribe())}}class an{createSubscription(Lt,ht){return Lt.then(ht,Nt=>{throw Nt})}dispose(Lt){}}const xn=new an,Wn=new Yt;let Rn=(()=>{class Xe{constructor(ht){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=ht}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(ht){if(!this._obj){if(ht)try{this.markForCheckOnValueUpdate=!1,this._subscribe(ht)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return ht!==this._obj?(this._dispose(),this.transform(ht)):this._latestValue}_subscribe(ht){this._obj=ht,this._strategy=this._selectStrategy(ht),this._subscription=this._strategy.createSubscription(ht,Nt=>this._updateLatestValue(ht,Nt))}_selectStrategy(ht){if((0,g.jNT)(ht))return xn;if((0,g.zjR)(ht))return Wn;throw sn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ht,Nt){ht===this._obj&&(this._latestValue=Nt,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)(g.rXU(g.gRc,16))};static#t=this.\u0275pipe=g.EJ8({name:"async",type:Xe,pure:!1,standalone:!0})}return Xe})();const kt=new g.nKC(""),Qe=new g.nKC("");let et=(()=>{class Xe{constructor(ht,Nt,En){this.locale=ht,this.defaultTimezone=Nt,this.defaultOptions=En}transform(ht,Nt,En,Ln){if(null==ht||""===ht||ht!=ht)return null;try{return F(ht,Nt??this.defaultOptions?.dateFormat??"mediumDate",Ln||this.locale,En??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(mr){throw sn()}}static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)(g.rXU(g.xe9,16),g.rXU(kt,24),g.rXU(Qe,24))};static#t=this.\u0275pipe=g.EJ8({name:"date",type:Xe,pure:!0,standalone:!0})}return Xe})(),Vr=(()=>{class Xe{static#e=this.\u0275fac=function(Nt){return new(Nt||Xe)};static#t=this.\u0275mod=g.$C({type:Xe});static#n=this.\u0275inj=g.G2t({})}return Xe})();const so="browser",Kr="server";function Nr(Xe){return Xe===so}function zr(Xe){return Xe===Kr}let wr=(()=>{class Xe{static#e=this.\u0275prov=(0,g.jDH)({token:Xe,providedIn:"root",factory:()=>Nr((0,g.WQX)(g.Agw))?new ri((0,g.WQX)(S),window):new co})}return Xe})();class ri{constructor(Lt,ht){this.document=Lt,this.window=ht,this.offset=()=>[0,0]}setOffset(Lt){this.offset=Array.isArray(Lt)?()=>Lt:Lt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Lt){this.window.scrollTo(Lt[0],Lt[1])}scrollToAnchor(Lt){const ht=function Yi(Xe,Lt){const ht=Xe.getElementById(Lt)||Xe.getElementsByName(Lt)[0];if(ht)return ht;if("function"==typeof Xe.createTreeWalker&&Xe.body&&"function"==typeof Xe.body.attachShadow){const Nt=Xe.createTreeWalker(Xe.body,NodeFilter.SHOW_ELEMENT);let En=Nt.currentNode;for(;En;){const Ln=En.shadowRoot;if(Ln){const mr=Ln.getElementById(Lt)||Ln.querySelector(`[name="${Lt}"]`);if(mr)return mr}En=Nt.nextNode()}}return null}(this.document,Lt);ht&&(this.scrollToElement(ht),ht.focus())}setHistoryScrollRestoration(Lt){this.window.history.scrollRestoration=Lt}scrollToElement(Lt){const ht=Lt.getBoundingClientRect(),Nt=ht.left+this.window.pageXOffset,En=ht.top+this.window.pageYOffset,Ln=this.offset();this.window.scrollTo(Nt-Ln[0],En-Ln[1])}}class co{setOffset(Lt){}getScrollPosition(){return[0,0]}scrollToPosition(Lt){}scrollToAnchor(Lt){}setHistoryScrollRestoration(Lt){}}class $i{}},21626:($e,j,E)=>{"use strict";E.d(j,{Qq:()=>ee,q1:()=>fn});var g=E(10467),_=E(93953),B=E(7673),H=E(71985),b=E(86648),k=E(70274),S=E(5964),P=E(96354),R=E(70980),O=E(25558),A=E(60177);class V{}class U{}class K{constructor(bn){this.normalizedNames=new Map,this.lazyUpdate=null,bn?"string"==typeof bn?this.lazyInit=()=>{this.headers=new Map,bn.split("\n").forEach(Ft=>{const _n=Ft.indexOf(":");if(_n>0){const Ut=Ft.slice(0,_n),gn=Ut.toLowerCase(),Sn=Ft.slice(_n+1).trim();this.maybeSetNormalizedName(Ut,gn),this.headers.has(gn)?this.headers.get(gn).push(Sn):this.headers.set(gn,[Sn])}})}:typeof Headers<"u"&&bn instanceof Headers?(this.headers=new Map,bn.forEach((Ft,_n)=>{this.setHeaderEntries(_n,Ft)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(bn).forEach(([Ft,_n])=>{this.setHeaderEntries(Ft,_n)})}:this.headers=new Map}has(bn){return this.init(),this.headers.has(bn.toLowerCase())}get(bn){this.init();const Ft=this.headers.get(bn.toLowerCase());return Ft&&Ft.length>0?Ft[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(bn){return this.init(),this.headers.get(bn.toLowerCase())||null}append(bn,Ft){return this.clone({name:bn,value:Ft,op:"a"})}set(bn,Ft){return this.clone({name:bn,value:Ft,op:"s"})}delete(bn,Ft){return this.clone({name:bn,value:Ft,op:"d"})}maybeSetNormalizedName(bn,Ft){this.normalizedNames.has(Ft)||this.normalizedNames.set(Ft,bn)}init(){this.lazyInit&&(this.lazyInit instanceof K?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(bn=>this.applyUpdate(bn)),this.lazyUpdate=null))}copyFrom(bn){bn.init(),Array.from(bn.headers.keys()).forEach(Ft=>{this.headers.set(Ft,bn.headers.get(Ft)),this.normalizedNames.set(Ft,bn.normalizedNames.get(Ft))})}clone(bn){const Ft=new K;return Ft.lazyInit=this.lazyInit&&this.lazyInit instanceof K?this.lazyInit:this,Ft.lazyUpdate=(this.lazyUpdate||[]).concat([bn]),Ft}applyUpdate(bn){const Ft=bn.name.toLowerCase();switch(bn.op){case"a":case"s":let _n=bn.value;if("string"==typeof _n&&(_n=[_n]),0===_n.length)return;this.maybeSetNormalizedName(bn.name,Ft);const Ut=("a"===bn.op?this.headers.get(Ft):void 0)||[];Ut.push(..._n),this.headers.set(Ft,Ut);break;case"d":const gn=bn.value;if(gn){let Sn=this.headers.get(Ft);if(!Sn)return;Sn=Sn.filter(ur=>-1===gn.indexOf(ur)),0===Sn.length?(this.headers.delete(Ft),this.normalizedNames.delete(Ft)):this.headers.set(Ft,Sn)}else this.headers.delete(Ft),this.normalizedNames.delete(Ft)}}setHeaderEntries(bn,Ft){const _n=(Array.isArray(Ft)?Ft:[Ft]).map(gn=>gn.toString()),Ut=bn.toLowerCase();this.headers.set(Ut,_n),this.maybeSetNormalizedName(bn,Ut)}forEach(bn){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ft=>bn(this.normalizedNames.get(Ft),this.headers.get(Ft)))}}class q{encodeKey(bn){return ie(bn)}encodeValue(bn){return ie(bn)}decodeKey(bn){return decodeURIComponent(bn)}decodeValue(bn){return decodeURIComponent(bn)}}const W=/%(\d[a-f0-9])/gi,re={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ie(en){return encodeURIComponent(en).replace(W,(bn,Ft)=>re[Ft]??bn)}function ae(en){return`${en}`}class ue{constructor(bn={}){if(this.updates=null,this.cloneFrom=null,this.encoder=bn.encoder||new q,bn.fromString){if(bn.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Y(en,bn){const Ft=new Map;return en.length>0&&en.replace(/^\?/,"").split("&").forEach(Ut=>{const gn=Ut.indexOf("="),[Sn,ur]=-1==gn?[bn.decodeKey(Ut),""]:[bn.decodeKey(Ut.slice(0,gn)),bn.decodeValue(Ut.slice(gn+1))],ar=Ft.get(Sn)||[];ar.push(ur),Ft.set(Sn,ar)}),Ft}(bn.fromString,this.encoder)}else bn.fromObject?(this.map=new Map,Object.keys(bn.fromObject).forEach(Ft=>{const _n=bn.fromObject[Ft],Ut=Array.isArray(_n)?_n.map(ae):[ae(_n)];this.map.set(Ft,Ut)})):this.map=null}has(bn){return this.init(),this.map.has(bn)}get(bn){this.init();const Ft=this.map.get(bn);return Ft?Ft[0]:null}getAll(bn){return this.init(),this.map.get(bn)||null}keys(){return this.init(),Array.from(this.map.keys())}append(bn,Ft){return this.clone({param:bn,value:Ft,op:"a"})}appendAll(bn){const Ft=[];return Object.keys(bn).forEach(_n=>{const Ut=bn[_n];Array.isArray(Ut)?Ut.forEach(gn=>{Ft.push({param:_n,value:gn,op:"a"})}):Ft.push({param:_n,value:Ut,op:"a"})}),this.clone(Ft)}set(bn,Ft){return this.clone({param:bn,value:Ft,op:"s"})}delete(bn,Ft){return this.clone({param:bn,value:Ft,op:"d"})}toString(){return this.init(),this.keys().map(bn=>{const Ft=this.encoder.encodeKey(bn);return this.map.get(bn).map(_n=>Ft+"="+this.encoder.encodeValue(_n)).join("&")}).filter(bn=>""!==bn).join("&")}clone(bn){const Ft=new ue({encoder:this.encoder});return Ft.cloneFrom=this.cloneFrom||this,Ft.updates=(this.updates||[]).concat(bn),Ft}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(bn=>this.map.set(bn,this.cloneFrom.map.get(bn))),this.updates.forEach(bn=>{switch(bn.op){case"a":case"s":const Ft=("a"===bn.op?this.map.get(bn.param):void 0)||[];Ft.push(ae(bn.value)),this.map.set(bn.param,Ft);break;case"d":if(void 0===bn.value){this.map.delete(bn.param);break}{let _n=this.map.get(bn.param)||[];const Ut=_n.indexOf(ae(bn.value));-1!==Ut&&_n.splice(Ut,1),_n.length>0?this.map.set(bn.param,_n):this.map.delete(bn.param)}}}),this.cloneFrom=this.updates=null)}}class pe{constructor(){this.map=new Map}set(bn,Ft){return this.map.set(bn,Ft),this}get(bn){return this.map.has(bn)||this.map.set(bn,bn.defaultValue()),this.map.get(bn)}delete(bn){return this.map.delete(bn),this}has(bn){return this.map.has(bn)}keys(){return this.map.keys()}}function De(en){return typeof ArrayBuffer<"u"&&en instanceof ArrayBuffer}function C(en){return typeof Blob<"u"&&en instanceof Blob}function s(en){return typeof FormData<"u"&&en instanceof FormData}class h{constructor(bn,Ft,_n,Ut){let gn;if(this.url=Ft,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=bn.toUpperCase(),function ve(en){switch(en){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ut?(this.body=void 0!==_n?_n:null,gn=Ut):gn=_n,gn&&(this.reportProgress=!!gn.reportProgress,this.withCredentials=!!gn.withCredentials,gn.responseType&&(this.responseType=gn.responseType),gn.headers&&(this.headers=gn.headers),gn.context&&(this.context=gn.context),gn.params&&(this.params=gn.params),this.transferCache=gn.transferCache),this.headers??=new K,this.context??=new pe,this.params){const Sn=this.params.toString();if(0===Sn.length)this.urlWithParams=Ft;else{const ur=Ft.indexOf("?");this.urlWithParams=Ft+(-1===ur?"?":ur<Ft.length-1?"&":"")+Sn}}else this.params=new ue,this.urlWithParams=Ft}serializeBody(){return null===this.body?null:"string"==typeof this.body||De(this.body)||C(this.body)||s(this.body)||function d(en){return typeof URLSearchParams<"u"&&en instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||s(this.body)?null:C(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(bn={}){const Ft=bn.method||this.method,_n=bn.url||this.url,Ut=bn.responseType||this.responseType,gn=bn.transferCache??this.transferCache,Sn=void 0!==bn.body?bn.body:this.body,ur=bn.withCredentials??this.withCredentials,ar=bn.reportProgress??this.reportProgress;let oi=bn.headers||this.headers,_i=bn.params||this.params;const Oi=bn.context??this.context;return void 0!==bn.setHeaders&&(oi=Object.keys(bn.setHeaders).reduce((Fr,ci)=>Fr.set(ci,bn.setHeaders[ci]),oi)),bn.setParams&&(_i=Object.keys(bn.setParams).reduce((Fr,ci)=>Fr.set(ci,bn.setParams[ci]),_i)),new h(Ft,_n,Sn,{params:_i,headers:oi,context:Oi,reportProgress:ar,responseType:Ut,withCredentials:ur,transferCache:gn})}}var f=function(en){return en[en.Sent=0]="Sent",en[en.UploadProgress=1]="UploadProgress",en[en.ResponseHeader=2]="ResponseHeader",en[en.DownloadProgress=3]="DownloadProgress",en[en.Response=4]="Response",en[en.User=5]="User",en}(f||{});class w{constructor(bn,Ft=200,_n="OK"){this.headers=bn.headers||new K,this.status=void 0!==bn.status?bn.status:Ft,this.statusText=bn.statusText||_n,this.url=bn.url||null,this.ok=this.status>=200&&this.status<300}}class I extends w{constructor(bn={}){super(bn),this.type=f.ResponseHeader}clone(bn={}){return new I({headers:bn.headers||this.headers,status:void 0!==bn.status?bn.status:this.status,statusText:bn.statusText||this.statusText,url:bn.url||this.url||void 0})}}class L extends w{constructor(bn={}){super(bn),this.type=f.Response,this.body=void 0!==bn.body?bn.body:null}clone(bn={}){return new L({body:void 0!==bn.body?bn.body:this.body,headers:bn.headers||this.headers,status:void 0!==bn.status?bn.status:this.status,statusText:bn.statusText||this.statusText,url:bn.url||this.url||void 0})}}class x extends w{constructor(bn){super(bn,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${bn.url||"(unknown url)"}`:`Http failure response for ${bn.url||"(unknown url)"}: ${bn.status} ${bn.statusText}`,this.error=bn.error||null}}function z(en,bn){return{body:bn,headers:en.headers,context:en.context,observe:en.observe,params:en.params,reportProgress:en.reportProgress,responseType:en.responseType,withCredentials:en.withCredentials,transferCache:en.transferCache}}let ee=(()=>{class en{constructor(Ft){this.handler=Ft}request(Ft,_n,Ut={}){let gn;if(Ft instanceof h)gn=Ft;else{let ar,oi;ar=Ut.headers instanceof K?Ut.headers:new K(Ut.headers),Ut.params&&(oi=Ut.params instanceof ue?Ut.params:new ue({fromObject:Ut.params})),gn=new h(Ft,_n,void 0!==Ut.body?Ut.body:null,{headers:ar,context:Ut.context,params:oi,reportProgress:Ut.reportProgress,responseType:Ut.responseType||"json",withCredentials:Ut.withCredentials,transferCache:Ut.transferCache})}const Sn=(0,B.of)(gn).pipe((0,k.H)(ar=>this.handler.handle(ar)));if(Ft instanceof h||"events"===Ut.observe)return Sn;const ur=Sn.pipe((0,S.p)(ar=>ar instanceof L));switch(Ut.observe||"body"){case"body":switch(gn.responseType){case"arraybuffer":return ur.pipe((0,P.T)(ar=>{if(null!==ar.body&&!(ar.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ar.body}));case"blob":return ur.pipe((0,P.T)(ar=>{if(null!==ar.body&&!(ar.body instanceof Blob))throw new Error("Response is not a Blob.");return ar.body}));case"text":return ur.pipe((0,P.T)(ar=>{if(null!==ar.body&&"string"!=typeof ar.body)throw new Error("Response is not a string.");return ar.body}));default:return ur.pipe((0,P.T)(ar=>ar.body))}case"response":return ur;default:throw new Error(`Unreachable: unhandled observe type ${Ut.observe}}`)}}delete(Ft,_n={}){return this.request("DELETE",Ft,_n)}get(Ft,_n={}){return this.request("GET",Ft,_n)}head(Ft,_n={}){return this.request("HEAD",Ft,_n)}jsonp(Ft,_n){return this.request("JSONP",Ft,{params:(new ue).append(_n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ft,_n={}){return this.request("OPTIONS",Ft,_n)}patch(Ft,_n,Ut={}){return this.request("PATCH",Ft,z(Ut,_n))}post(Ft,_n,Ut={}){return this.request("POST",Ft,z(Ut,_n))}put(Ft,_n,Ut={}){return this.request("PUT",Ft,z(Ut,_n))}static#e=this.\u0275fac=function(_n){return new(_n||en)(_.KVO(V))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac})}return en})();const le=/^\)\]\}',?\n/;function Me(en){if(en.url)return en.url;const bn="X-Request-URL".toLocaleLowerCase();return en.headers.get(bn)}let Ge=(()=>{class en{constructor(){this.fetchImpl=(0,_.WQX)(ge,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,_.WQX)(_.SKi)}handle(Ft){return new H.c(_n=>{const Ut=new AbortController;return this.doRequest(Ft,Ut.signal,_n).then(me,gn=>_n.error(new x({error:gn}))),()=>Ut.abort()})}doRequest(Ft,_n,Ut){var gn=this;return(0,g.A)(function*(){const Sn=gn.createRequestInit(Ft);let ur;try{const _o=gn.fetchImpl(Ft.urlWithParams,{signal:_n,...Sn});(function Ue(en){en.then(me,me)})(_o),Ut.next({type:f.Sent}),ur=yield _o}catch(_o){return void Ut.error(new x({error:_o,status:_o.status??0,statusText:_o.statusText,url:Ft.urlWithParams,headers:_o.headers}))}const ar=new K(ur.headers),oi=ur.statusText,_i=Me(ur)??Ft.urlWithParams;let Oi=ur.status,Fr=null;if(Ft.reportProgress&&Ut.next(new I({headers:ar,status:Oi,statusText:oi,url:_i})),ur.body){const _o=ur.headers.get("content-length"),Ii=[],tn=ur.body.getReader();let It,wt,dn=0;const sn=typeof Zone<"u"&&Zone.current;yield gn.ngZone.runOutsideAngular((0,g.A)(function*(){for(;;){const{done:an,value:xn}=yield tn.read();if(an)break;if(Ii.push(xn),dn+=xn.length,Ft.reportProgress){wt="text"===Ft.responseType?(wt??"")+(It??=new TextDecoder).decode(xn,{stream:!0}):void 0;const Wn=()=>Ut.next({type:f.DownloadProgress,total:_o?+_o:void 0,loaded:dn,partialText:wt});sn?sn.run(Wn):Wn()}}}));const Yt=gn.concatChunks(Ii,dn);try{const an=ur.headers.get("Content-Type")??"";Fr=gn.parseBody(Ft,Yt,an)}catch(an){return void Ut.error(new x({error:an,headers:new K(ur.headers),status:ur.status,statusText:ur.statusText,url:Me(ur)??Ft.urlWithParams}))}}0===Oi&&(Oi=Fr?200:0),Oi>=200&&Oi<300?(Ut.next(new L({body:Fr,headers:ar,status:Oi,statusText:oi,url:_i})),Ut.complete()):Ut.error(new x({error:Fr,headers:ar,status:Oi,statusText:oi,url:_i}))})()}parseBody(Ft,_n,Ut){switch(Ft.responseType){case"json":const gn=(new TextDecoder).decode(_n).replace(le,"");return""===gn?null:JSON.parse(gn);case"text":return(new TextDecoder).decode(_n);case"blob":return new Blob([_n],{type:Ut});case"arraybuffer":return _n.buffer}}createRequestInit(Ft){const _n={},Ut=Ft.withCredentials?"include":void 0;if(Ft.headers.forEach((gn,Sn)=>_n[gn]=Sn.join(",")),_n.Accept??="application/json, text/plain, */*",!_n["Content-Type"]){const gn=Ft.detectContentTypeHeader();null!==gn&&(_n["Content-Type"]=gn)}return{body:Ft.serializeBody(),method:Ft.method,headers:_n,credentials:Ut}}concatChunks(Ft,_n){const Ut=new Uint8Array(_n);let gn=0;for(const Sn of Ft)Ut.set(Sn,gn),gn+=Sn.length;return Ut}static#e=this.\u0275fac=function(_n){return new(_n||en)};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac})}return en})();class ge{}function me(){}function xe(en,bn){return bn(en)}function Ce(en,bn){return(Ft,_n)=>bn.intercept(Ft,{handle:Ut=>en(Ut,_n)})}const he=new _.nKC(""),ne=new _.nKC(""),te=new _.nKC(""),de=new _.nKC("",{providedIn:"root",factory:()=>!0});function _e(){let en=null;return(bn,Ft)=>{null===en&&(en=((0,_.WQX)(he,{optional:!0})??[]).reduceRight(Ce,xe));const _n=(0,_.WQX)(_.TgB);if((0,_.WQX)(de)){const gn=_n.add();return en(bn,Ft).pipe((0,R.j)(()=>_n.remove(gn)))}return en(bn,Ft)}}let Ve=(()=>{class en extends V{constructor(Ft,_n){super(),this.backend=Ft,this.injector=_n,this.chain=null,this.pendingTasks=(0,_.WQX)(_.TgB),this.contributeToStability=(0,_.WQX)(de)}handle(Ft){if(null===this.chain){const _n=Array.from(new Set([...this.injector.get(ne),...this.injector.get(te,[])]));this.chain=_n.reduceRight((Ut,gn)=>function be(en,bn,Ft){return(_n,Ut)=>(0,_.N4e)(Ft,()=>bn(_n,gn=>en(gn,Ut)))}(Ut,gn,this.injector),xe)}if(this.contributeToStability){const _n=this.pendingTasks.add();return this.chain(Ft,Ut=>this.backend.handle(Ut)).pipe((0,R.j)(()=>this.pendingTasks.remove(_n)))}return this.chain(Ft,_n=>this.backend.handle(_n))}static#e=this.\u0275fac=function(_n){return new(_n||en)(_.KVO(U),_.KVO(_.uvJ))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac})}return en})();const rt=/^\)\]\}',?\n/;let vt=(()=>{class en{constructor(Ft){this.xhrFactory=Ft}handle(Ft){if("JSONP"===Ft.method)throw new _.wOt(-2800,!1);const _n=this.xhrFactory;return(_n.\u0275loadImpl?(0,b.H)(_n.\u0275loadImpl()):(0,B.of)(null)).pipe((0,O.n)(()=>new H.c(gn=>{const Sn=_n.build();if(Sn.open(Ft.method,Ft.urlWithParams),Ft.withCredentials&&(Sn.withCredentials=!0),Ft.headers.forEach((Ii,tn)=>Sn.setRequestHeader(Ii,tn.join(","))),Ft.headers.has("Accept")||Sn.setRequestHeader("Accept","application/json, text/plain, */*"),!Ft.headers.has("Content-Type")){const Ii=Ft.detectContentTypeHeader();null!==Ii&&Sn.setRequestHeader("Content-Type",Ii)}if(Ft.responseType){const Ii=Ft.responseType.toLowerCase();Sn.responseType="json"!==Ii?Ii:"text"}const ur=Ft.serializeBody();let ar=null;const oi=()=>{if(null!==ar)return ar;const Ii=Sn.statusText||"OK",tn=new K(Sn.getAllResponseHeaders()),dn=function Ht(en){return"responseURL"in en&&en.responseURL?en.responseURL:/^X-Request-URL:/m.test(en.getAllResponseHeaders())?en.getResponseHeader("X-Request-URL"):null}(Sn)||Ft.url;return ar=new I({headers:tn,status:Sn.status,statusText:Ii,url:dn}),ar},_i=()=>{let{headers:Ii,status:tn,statusText:dn,url:It}=oi(),wt=null;204!==tn&&(wt=typeof Sn.response>"u"?Sn.responseText:Sn.response),0===tn&&(tn=wt?200:0);let sn=tn>=200&&tn<300;if("json"===Ft.responseType&&"string"==typeof wt){const Yt=wt;wt=wt.replace(rt,"");try{wt=""!==wt?JSON.parse(wt):null}catch(an){wt=Yt,sn&&(sn=!1,wt={error:an,text:wt})}}sn?(gn.next(new L({body:wt,headers:Ii,status:tn,statusText:dn,url:It||void 0})),gn.complete()):gn.error(new x({error:wt,headers:Ii,status:tn,statusText:dn,url:It||void 0}))},Oi=Ii=>{const{url:tn}=oi(),dn=new x({error:Ii,status:Sn.status||0,statusText:Sn.statusText||"Unknown Error",url:tn||void 0});gn.error(dn)};let Fr=!1;const ci=Ii=>{Fr||(gn.next(oi()),Fr=!0);let tn={type:f.DownloadProgress,loaded:Ii.loaded};Ii.lengthComputable&&(tn.total=Ii.total),"text"===Ft.responseType&&Sn.responseText&&(tn.partialText=Sn.responseText),gn.next(tn)},_o=Ii=>{let tn={type:f.UploadProgress,loaded:Ii.loaded};Ii.lengthComputable&&(tn.total=Ii.total),gn.next(tn)};return Sn.addEventListener("load",_i),Sn.addEventListener("error",Oi),Sn.addEventListener("timeout",Oi),Sn.addEventListener("abort",Oi),Ft.reportProgress&&(Sn.addEventListener("progress",ci),null!==ur&&Sn.upload&&Sn.upload.addEventListener("progress",_o)),Sn.send(ur),gn.next({type:f.Sent}),()=>{Sn.removeEventListener("error",Oi),Sn.removeEventListener("abort",Oi),Sn.removeEventListener("load",_i),Sn.removeEventListener("timeout",Oi),Ft.reportProgress&&(Sn.removeEventListener("progress",ci),null!==ur&&Sn.upload&&Sn.upload.removeEventListener("progress",_o)),Sn.readyState!==Sn.DONE&&Sn.abort()}})))}static#e=this.\u0275fac=function(_n){return new(_n||en)(_.KVO(A.N0))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac})}return en})();const Ot=new _.nKC(""),mn=new _.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rr=new _.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Tn{}let rn=(()=>{class en{constructor(Ft,_n,Ut){this.doc=Ft,this.platform=_n,this.cookieName=Ut,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ft=this.doc.cookie||"";return Ft!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,A._b)(Ft,this.cookieName),this.lastCookieString=Ft),this.lastToken}static#e=this.\u0275fac=function(_n){return new(_n||en)(_.KVO(A.qQ),_.KVO(_.Agw),_.KVO(mn))};static#t=this.\u0275prov=_.jDH({token:en,factory:en.\u0275fac})}return en})();function Xt(en,bn){const Ft=en.url.toLowerCase();if(!(0,_.WQX)(Ot)||"GET"===en.method||"HEAD"===en.method||Ft.startsWith("http://")||Ft.startsWith("https://"))return bn(en);const _n=(0,_.WQX)(Tn).getToken(),Ut=(0,_.WQX)(rr);return null!=_n&&!en.headers.has(Ut)&&(en=en.clone({headers:en.headers.set(Ut,_n)})),bn(en)}var it=function(en){return en[en.Interceptors=0]="Interceptors",en[en.LegacyInterceptors=1]="LegacyInterceptors",en[en.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",en[en.NoXsrfProtection=3]="NoXsrfProtection",en[en.JsonpSupport=4]="JsonpSupport",en[en.RequestsMadeViaParent=5]="RequestsMadeViaParent",en[en.Fetch=6]="Fetch",en}(it||{});function Gt(...en){const bn=[ee,vt,Ve,{provide:V,useExisting:Ve},{provide:U,useFactory:()=>(0,_.WQX)(Ge,{optional:!0})??(0,_.WQX)(vt)},{provide:ne,useValue:Xt,multi:!0},{provide:Ot,useValue:!0},{provide:Tn,useClass:rn}];for(const Ft of en)bn.push(...Ft.\u0275providers);return(0,_.EmA)(bn)}const Xn=new _.nKC("");function ot(){return function Wt(en,bn){return{\u0275kind:en,\u0275providers:bn}}(it.LegacyInterceptors,[{provide:Xn,useFactory:_e},{provide:ne,useExisting:Xn,multi:!0}])}let fn=(()=>{class en{static#e=this.\u0275fac=function(_n){return new(_n||en)};static#t=this.\u0275mod=_.$C({type:en});static#n=this.\u0275inj=_.G2t({providers:[Gt(ot())]})}return en})()},93953:($e,j,E)=>{"use strict";function g(i,c){return Object.is(i,c)}E.d(j,{bc$:()=>X3,iLQ:()=>A_,sZ2:()=>Sb,hnV:()=>ZT,wjH:()=>wf,o8S:()=>pl,BIS:()=>j8,gRc:()=>Ax,Ql9:()=>sk,OM3:()=>o0,Ocv:()=>jf,Z63:()=>uu,aKT:()=>lh,uvJ:()=>Jd,zcH:()=>Rl,bkB:()=>nl,$GK:()=>Lt,nKC:()=>Gi,zZn:()=>Fa,_q3:()=>jx,MKu:()=>$f,xe9:()=>Ku,Co$:()=>wI,Vns:()=>vh,SKi:()=>Ps,Xx1:()=>Kh,Agw:()=>ap,PLl:()=>Y3,rOR:()=>Y1,sFG:()=>zD,_9s:()=>vw,czy:()=>zm,WPN:()=>lp,kdw:()=>xg,C4Q:()=>e0,NYb:()=>HT,giA:()=>WT,RxE:()=>rc,c1b:()=>ph,gXe:()=>Ml,mal:()=>bw,Tzd:()=>eE,L39:()=>OA,EWP:()=>NA,a0P:()=>wR,Ol2:()=>ja,w6W:()=>d5,QZP:()=>zk,Rfq:()=>zo,WQX:()=>ti,naY:()=>F_,Hps:()=>to,QuC:()=>hu,EmA:()=>pu,geq:()=>Yn,Udg:()=>sc,Jn2:()=>nR,HJs:()=>_R,N4e:()=>sf,vPA:()=>Sw,O8t:()=>q_,An2:()=>_p,H3F:()=>vx,H8p:()=>mM,KH2:()=>kf,TgB:()=>ip,wOt:()=>Sr,WHO:()=>VT,e01:()=>zT,lNU:()=>ui,h9k:()=>sy,$MX:()=>Bb,ZF7:()=>Fm,Kcf:()=>dC,e5t:()=>hC,UyX:()=>uC,cWb:()=>lC,osQ:()=>fC,H5H:()=>Yl,Zy3:()=>Do,mq5:()=>Mh,JZv:()=>ss,TL3:()=>Rk,LfX:()=>wl,plB:()=>hh,jNT:()=>_x,zjR:()=>Ex,ngT:()=>ks,TL$:()=>Z3,Tbb:()=>Cs,rcV:()=>yf,Vt3:()=>Tw,GFd:()=>fE,OA$:()=>vu,Jv_:()=>rs,aNF:()=>Jp,R7$:()=>VC,BMQ:()=>xc,HbH:()=>_E,ZvI:()=>Gl,AVh:()=>Zy,vxM:()=>o_,wni:()=>pT,VBU:()=>Vn,FsC:()=>Od,jDH:()=>bi,G2t:()=>Xf,$C:()=>Xi,EJ8:()=>Yo,rXU:()=>Zm,nrm:()=>a_,eu8:()=>c_,bVm:()=>ev,qex:()=>Qy,k0s:()=>Lu,j41:()=>qy,RV6:()=>dd,xGo:()=>V1,Mr5:()=>U0,pXf:()=>oT,KVO:()=>fo,kS0:()=>tl,QTQ:()=>aD,bIt:()=>av,lsd:()=>J0,joV:()=>U1,qSk:()=>L1,XpG:()=>dT,nI1:()=>Ch,bMT:()=>Li,i5U:()=>Ui,SdG:()=>fT,NAR:()=>uT,Y8G:()=>ls,FS9:()=>Yp,lJ4:()=>uv,eq3:()=>Th,l_i:()=>cx,mGM:()=>Dh,sdS:()=>m_,Dyx:()=>zp,Z7z:()=>AE,fX1:()=>Xy,Vm6:()=>xh,Njj:()=>kM,eBV:()=>CM,B4B:()=>Fb,n$t:()=>KS,xc7:()=>Xw,Kam:()=>WE,zvX:()=>tv,DNE:()=>Ow,C5r:()=>F5,EFF:()=>Nf,JRh:()=>nx,SpI:()=>y_,DH7:()=>sx,mxI:()=>Ih,R50:()=>ox,GBs:()=>JE});let _=null,B=!1,H=1;const b=Symbol("SIGNAL");function k(i){const c=_;return _=i,c}const O={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function A(i){if(B)throw new Error("");if(null===_)return;_.consumerOnSignalRead(i);const c=_.nextProducerIndex++;pe(_),c<_.producerNode.length&&_.producerNode[c]!==i&&ce(_)&&ue(_.producerNode[c],_.producerIndexOfThis[c]),_.producerNode[c]!==i&&(_.producerNode[c]=i,_.producerIndexOfThis[c]=ce(_)?ae(i,_,c):0),_.producerLastReadVersion[c]=i.version}function U(i){if((!ce(i)||i.dirty)&&(i.dirty||i.lastCleanEpoch!==H)){if(!i.producerMustRecompute(i)&&!re(i))return i.dirty=!1,void(i.lastCleanEpoch=H);i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=H}}function K(i){if(void 0===i.liveConsumerNode)return;const c=B;B=!0;try{for(const m of i.liveConsumerNode)m.dirty||q(m)}finally{B=c}}function Q(){return!1!==_?.consumerAllowSignalWrites}function q(i){i.dirty=!0,K(i),i.consumerMarkedDirty?.(i)}function Y(i){return i&&(i.nextProducerIndex=0),k(i)}function W(i,c){if(k(c),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(ce(i))for(let m=i.nextProducerIndex;m<i.producerNode.length;m++)ue(i.producerNode[m],i.producerIndexOfThis[m]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function re(i){pe(i);for(let c=0;c<i.producerNode.length;c++){const m=i.producerNode[c],T=i.producerLastReadVersion[c];if(T!==m.version||(U(m),T!==m.version))return!0}return!1}function ie(i){if(pe(i),ce(i))for(let c=0;c<i.producerNode.length;c++)ue(i.producerNode[c],i.producerIndexOfThis[c]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function ae(i,c,m){if(ve(i),0===i.liveConsumerNode.length&&De(i))for(let T=0;T<i.producerNode.length;T++)i.producerIndexOfThis[T]=ae(i.producerNode[T],i,T);return i.liveConsumerIndexOfThis.push(m),i.liveConsumerNode.push(c)-1}function ue(i,c){if(ve(i),1===i.liveConsumerNode.length&&De(i))for(let T=0;T<i.producerNode.length;T++)ue(i.producerNode[T],i.producerIndexOfThis[T]);const m=i.liveConsumerNode.length-1;if(i.liveConsumerNode[c]=i.liveConsumerNode[m],i.liveConsumerIndexOfThis[c]=i.liveConsumerIndexOfThis[m],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,c<i.liveConsumerNode.length){const T=i.liveConsumerIndexOfThis[c],$=i.liveConsumerNode[c];pe($),$.producerIndexOfThis[T]=c}}function ce(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function pe(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function ve(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function De(i){return void 0!==i.producerNode}const s=Symbol("UNSET"),d=Symbol("COMPUTING"),h=Symbol("ERRORED"),f={...O,value:s,dirty:!0,error:null,equal:g,producerMustRecompute:i=>i.value===s||i.value===d,producerRecomputeValue(i){if(i.value===d)throw new Error("Detected cycle in computations.");const c=i.value;i.value=d;const m=Y(i);let T;try{T=i.computation()}catch($){T=h,i.error=$}finally{W(i,m)}c!==s&&c!==h&&T!==h&&i.equal(c,T)?i.value=c:(i.value=T,i.version++)}};let I=function w(){throw new Error};function L(){I()}let a=null;function ee(i,c){Q()||L(),i.equal(i.value,c)||(i.value=c,function Me(i){i.version++,function V(){H++}(),K(i),a?.()}(i))}const we={...O,equal:g,value:void 0};const ge=()=>{},me={...O,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{null!==i.schedule&&i.schedule(i.ref)},hasRun:!1,cleanupFn:ge};var xe=E(84412),Ce=E(21413),be=E(18359),he=E(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const ui="https://g.co/ng/security#xss";class Sr extends Error{constructor(c,m){super(Do(c,m)),this.code=c}}function Do(i,c){return`NG0${Math.abs(i)}${c?": "+c:""}`}const Io=Symbol("InputSignalNode#UNSET"),Da={...we,transformFn:void 0,applyValueToInputSignal(i,c){ee(i,c)}};function da(i){return{toString:i}.toString()}const La="__parameters__";function au(i,c,m){return da(()=>{const T=function Zd(i){return function(...m){if(i){const T=i(...m);for(const $ in T)this[$]=T[$]}}}(c);function $(...se){if(this instanceof $)return T.apply(this,se),this;const ye=new $(...se);return Te.annotation=ye,Te;function Te(Ze,bt,Rt){const un=Ze.hasOwnProperty(La)?Ze[La]:Object.defineProperty(Ze,La,{value:[]})[La];for(;un.length<=Rt;)un.push(null);return(un[Rt]=un[Rt]||[]).push(ye),Ze}}return m&&($.prototype=Object.create(m.prototype)),$.prototype.ngMetadataName=i,$.annotationCls=$,$})}const ss=globalThis;function yo(i){for(let c in i)if(i[c]===yo)return c;throw Error("Could not find renamed property on target object.")}function la(i,c){for(const m in c)c.hasOwnProperty(m)&&!i.hasOwnProperty(m)&&(i[m]=c[m])}function Cs(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Cs).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const c=i.toString();if(null==c)return""+c;const m=c.indexOf("\n");return-1===m?c:c.substring(0,m)}function Yf(i,c){return null==i||""===i?null===c?"":c:null==c||""===c?i:i+" "+c}const du=yo({__forward_ref__:yo});function zo(i){return i.__forward_ref__=zo,i.toString=function(){return Cs(this())},i}function Mi(i){return Ad(i)?i():i}function Ad(i){return"function"==typeof i&&i.hasOwnProperty(du)&&i.__forward_ref__===zo}function at(i,c,m){i!=c&&function ki(i,c,m,T){throw new Error(`ASSERTION ERROR: ${i}`+(null==T?"":` [Expected=> ${m} ${T} ${c} <=Actual]`))}(m,i,c,"==")}function bi(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xf(i){return{providers:i.providers||[],imports:i.imports||[]}}function Jf(i){return um(i,Gc)||um(i,ys)}function wl(i){return null!==Jf(i)}function um(i,c){return i.hasOwnProperty(c)?i[c]:null}function _l(i){return i&&(i.hasOwnProperty(qf)||i.hasOwnProperty(c1))?i[qf]:null}const Gc=yo({\u0275prov:yo}),qf=yo({\u0275inj:yo}),ys=yo({ngInjectableDef:yo}),c1=yo({ngInjectorDef:yo});class Gi{constructor(c,m){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof m?this.__NG_ELEMENT_ID__=m:void 0!==m&&(this.\u0275prov=bi({token:this,providedIn:m.providedIn||"root",factory:m.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qu(i){return i&&!!i.\u0275providers}const $s=yo({\u0275cmp:yo}),jh=yo({\u0275dir:yo}),ef=yo({\u0275pipe:yo}),eh=yo({\u0275mod:yo}),kd=yo({\u0275fac:yo}),th=yo({__NG_ELEMENT_ID__:yo}),Nv=yo({__NG_ENV_ID__:yo});function gr(i){return"string"==typeof i?i:null==i?"":String(i)}function Xe(i,c){throw new Sr(-201,!1)}var Lt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Lt||{});let ht;function Nt(){return ht}function En(i){const c=ht;return ht=i,c}function Ln(i,c,m){const T=Jf(i);return T&&"root"==T.providedIn?void 0===T.value?T.value=T.factory():T.value:m&Lt.Optional?null:void 0!==c?c:void Xe()}const Ni={},Ho="__NG_DI_FLAG__",Ro="ngTempTokenPath",Us=/\n/gm,To="__source";let cc;function ha(i){const c=cc;return cc=i,c}function Pc(i,c=Lt.Default){if(void 0===cc)throw new Sr(-203,!1);return null===cc?Ln(i,void 0,c):cc.get(i,c&Lt.Optional?null:void 0,c)}function fo(i,c=Lt.Default){return(Nt()||Pc)(Mi(i),c)}function ti(i,c=Lt.Default){return fo(i,lu(c))}function lu(i){return typeof i>"u"||"number"==typeof i?i:(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Ks(i){const c=[];for(let m=0;m<i.length;m++){const T=Mi(i[m]);if(Array.isArray(T)){if(0===T.length)throw new Sr(900,!1);let $,se=Lt.Default;for(let ye=0;ye<T.length;ye++){const Te=T[ye],Ze=Bv(Te);"number"==typeof Ze?-1===Ze?$=Te.token:se|=Ze:$=Te}c.push(fo($,se))}else c.push(fo(T))}return c}function $h(i,c){return i[Ho]=c,i.prototype[Ho]=c,i}function Bv(i){return i[Ho]}const Kh=$h(au("Optional"),8),xg=$h(au("SkipSelf"),4);function Yd(i,c){return i.hasOwnProperty(kd)?i[kd]:null}function ih(i,c){i.forEach(m=>Array.isArray(m)?ih(m,c):c(m))}function Xd(i,c,m){c>=i.length?i.push(m):i.splice(c,0,m)}function Mg(i,c){return c>=i.length-1?i.pop():i.splice(c,1)[0]}function Rc(i,c,m){let T=Aa(i,c);return T>=0?i[1|T]=m:(T=~T,function Ta(i,c,m,T){let $=i.length;if($==c)i.push(m,T);else if(1===$)i.push(T,i[0]),i[0]=m;else{for($--,i.push(i[$-1],i[$]);$>c;)i[$]=i[$-2],$--;i[c]=m,i[c+1]=T}}(i,T,c,m)),T}function xl(i,c){const m=Aa(i,c);if(m>=0)return i[1|m]}function Aa(i,c){return function Fv(i,c,m){let T=0,$=i.length>>m;for(;$!==T;){const se=T+($-T>>1),ye=i[se<<m];if(c===ye)return se<<m;ye>c?$=se:T=se+1}return~($<<m)}(i,c,1)}const za={},Fo=[],uu=new Gi(""),zh=new Gi("",-1),Sg=new Gi("");class Dg{get(c,m=Ni){if(m===Ni){const T=new Error(`NullInjectorError: No provider for ${Cs(c)}!`);throw T.name="NullInjectorError",T}return m}}var tf=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(tf||{}),Ml=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Ml||{}),Hh=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(Hh||{});function jv(i,c,m){let T=i.length;for(;;){const $=i.indexOf(c,m);if(-1===$)return $;if(0===$||i.charCodeAt($-1)<=32){const se=c.length;if($+se===T||i.charCodeAt($+se)<=32)return $}m=$+1}}function fu(i,c,m){let T=0;for(;T<m.length;){const $=m[T];if("number"==typeof $){if(0!==$)break;T++;const se=m[T++],ye=m[T++],Te=m[T++];i.setAttribute(c,ye,Te,se)}else{const se=$,ye=m[++T];$v(se)?i.setProperty(c,se,ye):i.setAttribute(c,se,ye),T++}}return T}function Ig(i){return 3===i||4===i||6===i}function $v(i){return 64===i.charCodeAt(0)}function Wh(i,c){if(null!==c&&0!==c.length)if(null===i||0===i.length)i=c.slice();else{let m=-1;for(let T=0;T<c.length;T++){const $=c[T];"number"==typeof $?m=$:0===m||Tg(i,m,$,null,-1===m||2===m?c[++T]:null)}}return i}function Tg(i,c,m,T,$){let se=0,ye=i.length;if(-1===c)ye=-1;else for(;se<i.length;){const Te=i[se++];if("number"==typeof Te){if(Te===c){ye=-1;break}if(Te>c){ye=se-1;break}}}for(;se<i.length;){const Te=i[se];if("number"==typeof Te)break;if(Te===m){if(null===T)return void(null!==$&&(i[se+1]=$));if(T===i[se+1])return void(i[se+2]=$)}se++,null!==T&&se++,null!==$&&se++}-1!==ye&&(i.splice(ye,0,c),se=ye+1),i.splice(se++,0,m),null!==T&&i.splice(se++,0,T),null!==$&&i.splice(se++,0,$)}const Gh="ng-template";function Mo(i,c,m,T){let $=0;if(T){for(;$<c.length&&"string"==typeof c[$];$+=2)if("class"===c[$]&&-1!==jv(c[$+1].toLowerCase(),m,0))return!0}else if(ra(i))return!1;if($=c.indexOf(1,$),$>-1){let se;for(;++$<c.length&&"string"==typeof(se=c[$]);)if(se.toLowerCase()===m)return!0}return!1}function ra(i){return 4===i.type&&i.value!==Gh}function dM(i,c,m){return c===(4!==i.type||m?i.value:Gh)}function lM(i,c,m){let T=4;const $=i.attrs,se=null!==$?function tt(i){for(let c=0;c<i.length;c++)if(Ig(i[c]))return c;return i.length}($):0;let ye=!1;for(let Te=0;Te<c.length;Te++){const Ze=c[Te];if("number"!=typeof Ze){if(!ye)if(4&T){if(T=2|1&T,""!==Ze&&!dM(i,Ze,m)||""===Ze&&1===c.length){if(Rd(T))return!1;ye=!0}}else if(8&T){if(null===$||!Mo(i,$,Ze,m)){if(Rd(T))return!1;ye=!0}}else{const bt=c[++Te],Rt=lc(Ze,$,ra(i),m);if(-1===Rt){if(Rd(T))return!1;ye=!0;continue}if(""!==bt){let un;if(un=Rt>se?"":$[Rt+1].toLowerCase(),2&T&&bt!==un){if(Rd(T))return!1;ye=!0}}}}else{if(!ye&&!Rd(T)&&!Rd(Ze))return!1;if(ye&&Rd(Ze))continue;ye=!1,T=Ze|1&T}}return Rd(T)||ye}function Rd(i){return!(1&i)}function lc(i,c,m,T){if(null===c)return-1;let $=0;if(T||!m){let se=!1;for(;$<c.length;){const ye=c[$];if(ye===i)return $;if(3===ye||6===ye)se=!0;else{if(1===ye||2===ye){let Te=c[++$];for(;"string"==typeof Te;)Te=c[++$];continue}if(4===ye)break;if(0===ye){$+=4;continue}}$+=se?1:2}return-1}return function ze(i,c){let m=i.indexOf(4);if(m>-1)for(m++;m<i.length;){const T=i[m];if("number"==typeof T)return-1;if(T===c)return m;m++}return-1}(c,i)}function h1(i,c,m=!1){for(let T=0;T<c.length;T++)if(lM(i,c[T],m))return!0;return!1}function st(i,c){e:for(let m=0;m<c.length;m++){const T=c[m];if(i.length===T.length){for(let $=0;$<i.length;$++)if(i[$]!==T[$])continue e;return!0}}return!1}function Dt(i,c){return i?":not("+c.trim()+")":c}function on(i){let c=i[0],m=1,T=2,$="",se=!1;for(;m<i.length;){let ye=i[m];if("string"==typeof ye)if(2&T){const Te=i[++m];$+="["+ye+(Te.length>0?'="'+Te+'"':"")+"]"}else 8&T?$+="."+ye:4&T&&($+=" "+ye);else""!==$&&!Rd(ye)&&(c+=Dt(se,$),$=""),T=ye,se=se||!Rd(T);m++}return""!==$&&(c+=Dt(se,$)),c}function Vn(i){return da(()=>{const c=uM(i),m={...c,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===tf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Ml.Emulated,styles:i.styles||Fo,_:null,schemas:i.schemas||null,tView:null,id:""};fM(m);const T=i.dependencies;return m.directiveDefs=Kv(T,!1),m.pipeDefs=Kv(T,!0),m.id=function Si(i){let c=0;const m=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const $ of m)c=Math.imul(31,c)+$.charCodeAt(0)|0;return c+=2147483648,"c"+c}(m),m})}function Cr(i){return Bi(i)||Go(i)}function Pi(i){return null!==i}function Xi(i){return da(()=>({type:i.type,bootstrap:i.bootstrap||Fo,declarations:i.declarations||Fo,imports:i.imports||Fo,exports:i.exports||Fo,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ho(i,c){if(null==i)return za;const m={};for(const T in i)if(i.hasOwnProperty(T)){const $=i[T];let se,ye,Te=Hh.None;Array.isArray($)?(Te=$[0],se=$[1],ye=$[2]??se):(se=$,ye=$),c?(m[se]=Te!==Hh.None?[T,Te]:T,c[se]=ye):m[se]=T}return m}function Od(i){return da(()=>{const c=uM(i);return fM(c),c})}function Yo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Bi(i){return i[$s]||null}function Go(i){return i[jh]||null}function Zo(i){return i[ef]||null}function hu(i){const c=Bi(i)||Go(i)||Zo(i);return null!==c&&c.standalone}function pa(i,c){const m=i[eh]||null;if(!m&&!0===c)throw new Error(`Type ${Cs(i)} does not have '\u0275mod' property.`);return m}function uM(i){const c={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:i.inputs||za,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Fo,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ho(i.inputs,c),outputs:ho(i.outputs),debugInfo:null}}function fM(i){i.features?.forEach(c=>c(i))}function Kv(i,c){if(!i)return null;const m=c?Zo:Cr;return()=>("function"==typeof i?i():i).map(T=>m(T)).filter(Pi)}function pu(i){return{\u0275providers:i}}function QA(...i){return{\u0275providers:p1(0,i),\u0275fromNgModule:!0}}function p1(i,...c){const m=[],T=new Set;let $;const se=ye=>{m.push(ye)};return ih(c,ye=>{const Te=ye;Cg(Te,se,[],T)&&($||=[],$.push(Te))}),void 0!==$&&Ag($,se),m}function Ag(i,c){for(let m=0;m<i.length;m++){const{ngModule:T,providers:$}=i[m];m1($,se=>{c(se,T)})}}function Cg(i,c,m,T){if(!(i=Mi(i)))return!1;let $=null,se=_l(i);const ye=!se&&Bi(i);if(se||ye){if(ye&&!ye.standalone)return!1;$=i}else{const Ze=i.ngModule;if(se=_l(Ze),!se)return!1;$=Ze}const Te=T.has($);if(ye){if(Te)return!1;if(T.add($),ye.dependencies){const Ze="function"==typeof ye.dependencies?ye.dependencies():ye.dependencies;for(const bt of Ze)Cg(bt,c,m,T)}}else{if(!se)return!1;{if(null!=se.imports&&!Te){let bt;T.add($);try{ih(se.imports,Rt=>{Cg(Rt,c,m,T)&&(bt||=[],bt.push(Rt))})}finally{}void 0!==bt&&Ag(bt,c)}if(!Te){const bt=Yd($)||(()=>new $);c({provide:$,useFactory:bt,deps:Fo},$),c({provide:Sg,useValue:$,multi:!0},$),c({provide:uu,useValue:()=>fo($),multi:!0},$)}const Ze=se.providers;if(null!=Ze&&!Te){const bt=i;m1(Ze,Rt=>{c(Rt,bt)})}}}return $!==i&&void 0!==i.providers}function m1(i,c){for(let m of i)Qu(m)&&(m=m.\u0275providers),Array.isArray(m)?m1(m,c):c(m)}const nf=yo({provide:String,useValue:yo});function kg(i){return null!==i&&"object"==typeof i&&nf in i}function pm(i){return"function"==typeof i}const mM=new Gi(""),Vv={},gM={};let zv;function Pg(){return void 0===zv&&(zv=new Dg),zv}class Jd{}class mm extends Jd{get destroyed(){return this._destroyed}constructor(c,m,T,$){super(),this.parent=m,this.source=T,this.scopes=$,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rf(c,ye=>this.processProvider(ye)),this.records.set(zh,Sl(void 0,this)),$.has("environment")&&this.records.set(Jd,Sl(void 0,this));const se=this.records.get(mM);null!=se&&"string"==typeof se.value&&this.scopes.add(se.value),this.injectorDefTypes=new Set(this.get(Sg,Fo,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const c=k(null);try{for(const T of this._ngOnDestroyHooks)T.ngOnDestroy();const m=this._onDestroyHooks;this._onDestroyHooks=[];for(const T of m)T()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(c)}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const m=ha(this),T=En(void 0);try{return c()}finally{ha(m),En(T)}}get(c,m=Ni,T=Lt.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(Nv))return c[Nv](this);T=lu(T);const se=ha(this),ye=En(void 0);try{if(!(T&Lt.SkipSelf)){let Ze=this.records.get(c);if(void 0===Ze){const bt=function Yh(i){return"function"==typeof i||"object"==typeof i&&i instanceof Gi}(c)&&Jf(c);Ze=bt&&this.injectableDefInScope(bt)?Sl(Hv(c),Vv):null,this.records.set(c,Ze)}if(null!=Ze)return this.hydrate(c,Ze)}return(T&Lt.Self?Pg():this.parent).get(c,m=T&Lt.Optional&&m===Ni?null:m)}catch(Te){if("NullInjectorError"===Te.name){if((Te[Ro]=Te[Ro]||[]).unshift(Cs(c)),se)throw Te;return function Hs(i,c,m,T){const $=i[Ro];throw c[To]&&$.unshift(c[To]),i.message=function Lv(i,c,m,T=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let $=Cs(c);if(Array.isArray(c))$=c.map(Cs).join(" -> ");else if("object"==typeof c){let se=[];for(let ye in c)if(c.hasOwnProperty(ye)){let Te=c[ye];se.push(ye+":"+("string"==typeof Te?JSON.stringify(Te):Cs(Te)))}$=`{${se.join(", ")}}`}return`${m}${T?"("+T+")":""}[${$}]: ${i.replace(Us,"\n  ")}`}("\n"+i.message,$,m,T),i.ngTokenPath=$,i[Ro]=null,i}(Te,c,"R3InjectorError",this.source)}throw Te}finally{En(ye),ha(se)}}resolveInjectorInitializers(){const c=k(null),m=ha(this),T=En(void 0);try{const se=this.get(uu,Fo,Lt.Self);for(const ye of se)ye()}finally{ha(m),En(T),k(c)}}toString(){const c=[],m=this.records;for(const T of m.keys())c.push(Cs(T));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Sr(205,!1)}processProvider(c){let m=pm(c=Mi(c))?c:Mi(c&&c.provide);const T=function yM(i){return kg(i)?Sl(void 0,i.useValue):Sl(gm(i),Vv)}(c);if(!pm(c)&&!0===c.multi){let $=this.records.get(m);$||($=Sl(void 0,Vv,!0),$.factory=()=>Ks($.multi),this.records.set(m,$)),m=c,$.multi.push(c)}this.records.set(m,T)}hydrate(c,m){const T=k(null);try{return m.value===Vv&&(m.value=gM,m.value=m.factory()),"object"==typeof m.value&&m.value&&function Zh(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(m.value)&&this._ngOnDestroyHooks.add(m.value),m.value}finally{k(T)}}injectableDefInScope(c){if(!c.providedIn)return!1;const m=Mi(c.providedIn);return"string"==typeof m?"any"===m||this.scopes.has(m):this.injectorDefTypes.has(m)}removeOnDestroy(c){const m=this._onDestroyHooks.indexOf(c);-1!==m&&this._onDestroyHooks.splice(m,1)}}function Hv(i){const c=Jf(i),m=null!==c?c.factory:Yd(i);if(null!==m)return m;if(i instanceof Gi)throw new Sr(204,!1);if(i instanceof Function)return function Oo(i){if(i.length>0)throw new Sr(204,!1);const m=function a1(i){return i&&(i[Gc]||i[ys])||null}(i);return null!==m?()=>m.factory(i):()=>new i}(i);throw new Sr(204,!1)}function gm(i,c,m){let T;if(pm(i)){const $=Mi(i);return Yd($)||Hv($)}if(kg(i))T=()=>Mi(i.useValue);else if(function pM(i){return!(!i||!i.useFactory)}(i))T=()=>i.useFactory(...Ks(i.deps||[]));else if(function hM(i){return!(!i||!i.useExisting)}(i))T=()=>fo(Mi(i.useExisting));else{const $=Mi(i&&(i.useClass||i.provide));if(!function uc(i){return!!i.deps}(i))return Yd($)||Hv($);T=()=>new $(...Ks(i.deps))}return T}function Sl(i,c,m=!1){return{factory:i,value:c,multi:m?[]:void 0}}function rf(i,c){for(const m of i)Array.isArray(m)?rf(m,c):m&&Qu(m)?rf(m.\u0275providers,c):c(m)}function sf(i,c){i instanceof mm&&i.assertNotDestroyed();const T=ha(i),$=En(void 0);try{return c()}finally{ha(T),En($)}}function vM(){return void 0!==Nt()||null!=function yd(){return cc}()}function Wv(i){if(!vM())throw new Sr(-203,!1)}const Ws=0,Or=1,wi=2,ia=3,Dl=4,ma=5,Jc=6,vm=7,Fs=8,Ca=9,mu=10,eo=11,gu=12,_M=13,bm=14,Gs=15,Jh=16,wm=17,af=18,oh=19,qh=20,sh=21,Zv=22,qd=23,Ri=25,b1=1,Qd=7,_m=9,ga=10;var Xv=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(Xv||{});function Ha(i){return Array.isArray(i)&&"object"==typeof i[b1]}function Wa(i){return Array.isArray(i)&&!0===i[b1]}function w1(i){return!!(4&i.flags)}function Qh(i){return i.componentOffset>-1}function Jv(i){return!(1&~i.flags)}function Il(i){return!!i.template}function Bg(i){return!!(512&i[wi])}class qv{constructor(c,m,T){this.previousValue=c,this.currentValue=m,this.firstChange=T}isFirstChange(){return this.firstChange}}function cf(i,c,m,T){null!==c?c.applyValueToInputSignal(c,T):i[m]=T}function vu(){return Ug}function Ug(i){return i.type.prototype.ngOnChanges&&(i.setInput=f3),u3}function u3(){const i=IM(this),c=i?.current;if(c){const m=i.previous;if(m===za)i.previous=c;else for(let T in c)m[T]=c[T];i.current=null,this.ngOnChanges(c)}}function f3(i,c,m,T,$){const se=this.declaredInputs[T],ye=IM(i)||function h3(i,c){return i[M1]=c}(i,{previous:za,current:null}),Te=ye.current||(ye.current={}),Ze=ye.previous,bt=Ze[se];Te[se]=new qv(bt&&bt.currentValue,m,Ze===za),cf(i,c,$,m)}vu.ngInherit=!0;const M1="__ngSimpleChanges__";function IM(i){return i[M1]||null}const vd=function(i,c,m){},Fg="svg";function ts(i){for(;Array.isArray(i);)i=i[Ws];return i}function jg(i,c){return ts(c[i])}function qc(i,c){return ts(c[i.index])}function $g(i,c){return i.data[c]}function Em(i,c){return i[c]}function Nd(i,c){const m=c[i];return Ha(m)?m:m[Ws]}function AM(i){return!(128&~i[wi])}function bd(i,c){return null==c?null:i[c]}function y3(i){i[wm]=0}function v3(i){1024&i[wi]||(i[wi]|=1024,AM(i)&&Qv(i))}function Kg(i){return!!(9216&i[wi]||i[qd]?.dirty)}function D1(i){i[mu].changeDetectionScheduler?.notify(7),64&i[wi]&&(i[wi]|=1024),Kg(i)&&Qv(i)}function Qv(i){i[mu].changeDetectionScheduler?.notify(0);let c=bu(i);for(;null!==c&&!(8192&c[wi])&&(c[wi]|=8192,AM(c));)c=bu(c)}function Vg(i,c){if(!(256&~i[wi]))throw new Sr(911,!1);null===i[sh]&&(i[sh]=[]),i[sh].push(c)}function bu(i){const c=i[ia];return Wa(c)?c[ia]:c}const Ji={lFrame:N1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let wu=!1;function w3(){return Ji.bindingsEnabled}function xm(){return null!==Ji.skipHydrationRootTNode}function lr(){return Ji.lFrame.lView}function So(){return Ji.lFrame.tView}function CM(i){return Ji.lFrame.contextLView=i,i[Fs]}function kM(i){return Ji.lFrame.contextLView=null,i}function hs(){let i=C1();for(;null!==i&&64===i.type;)i=i.parent;return i}function C1(){return Ji.lFrame.currentTNode}function zg(){const i=Ji.lFrame,c=i.currentTNode;return i.isParent?c:c.parent}function _u(i,c){const m=Ji.lFrame;m.currentTNode=i,m.isParent=c}function tb(){return Ji.lFrame.isParent}function Hg(){Ji.lFrame.isParent=!1}function RM(){return wu}function OM(i){wu=i}function Qc(){const i=Ji.lFrame;let c=i.bindingRootIndex;return-1===c&&(c=i.bindingRootIndex=i.tView.bindingStartIndex),c}function Cl(){return Ji.lFrame.bindingIndex++}function lf(i){const c=Ji.lFrame,m=c.bindingIndex;return c.bindingIndex=c.bindingIndex+i,m}function Wg(i){Ji.lFrame.inI18n=i}function k1(i,c){const m=Ji.lFrame;m.bindingIndex=m.bindingRootIndex=i,Mm(c)}function Mm(i){Ji.lFrame.currentDirectiveIndex=i}function P1(i){const c=Ji.lFrame.currentDirectiveIndex;return-1===c?null:i[c]}function R1(){return Ji.lFrame.currentQueryIndex}function rb(i){Ji.lFrame.currentQueryIndex=i}function O1(i){const c=i[Or];return 2===c.type?c.declTNode:1===c.type?i[ma]:null}function ib(i,c,m){if(m&Lt.SkipSelf){let $=c,se=i;for(;!($=$.parent,null!==$||m&Lt.Host||($=O1(se),null===$||(se=se[bm],10&$.type))););if(null===$)return!1;c=$,i=se}const T=Ji.lFrame=x3();return T.currentTNode=c,T.lView=i,!0}function BM(i){const c=x3(),m=i[Or];Ji.lFrame=c,c.currentTNode=m.firstChild,c.lView=i,c.tView=m,c.contextLView=i,c.bindingIndex=m.bindingStartIndex,c.inI18n=!1}function x3(){const i=Ji.lFrame,c=null===i?null:i.child;return null===c?N1(i):c}function N1(i){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=c),c}function ob(){const i=Ji.lFrame;return Ji.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ka=ob;function B1(){const i=ob();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Oc(){return Ji.lFrame.selectedIndex}function kl(i){Ji.lFrame.selectedIndex=i}function js(){const i=Ji.lFrame;return $g(i.tView,i.selectedIndex)}function L1(){Ji.lFrame.currentNamespace=Fg}function U1(){!function D3(){Ji.lFrame.currentNamespace=null}()}let UM=!0;function Gg(){return UM}function Eu(i){UM=i}function sb(i,c){for(let m=c.directiveStart,T=c.directiveEnd;m<T;m++){const se=i.data[m].type.prototype,{ngAfterContentInit:ye,ngAfterContentChecked:Te,ngAfterViewInit:Ze,ngAfterViewChecked:bt,ngOnDestroy:Rt}=se;ye&&(i.contentHooks??=[]).push(-m,ye),Te&&((i.contentHooks??=[]).push(m,Te),(i.contentCheckHooks??=[]).push(m,Te)),Ze&&(i.viewHooks??=[]).push(-m,Ze),bt&&((i.viewHooks??=[]).push(m,bt),(i.viewCheckHooks??=[]).push(m,bt)),null!=Rt&&(i.destroyHooks??=[]).push(m,Rt)}}function tp(i,c,m){el(i,c,3,m)}function ab(i,c,m,T){(3&i[wi])===m&&el(i,c,m,T)}function cb(i,c){let m=i[wi];(3&m)===c&&(m&=16383,m+=1,i[wi]=m)}function el(i,c,m,T){const se=T??-1,ye=c.length-1;let Te=0;for(let Ze=void 0!==T?65535&i[wm]:0;Ze<ye;Ze++)if("number"==typeof c[Ze+1]){if(Te=c[Ze],null!=T&&Te>=T)break}else c[Ze]<0&&(i[wm]+=65536),(Te<se||-1==se)&&(db(i,m,c,Ze),i[wm]=(4294901760&i[wm])+Ze+2),Ze++}function uf(i,c){vd(4,i,c);const m=k(null);try{c.call(i)}finally{k(m),vd(5,i,c)}}function db(i,c,m,T){const $=m[T]<0,se=m[T+1],Te=i[$?-m[T]:m[T]];$?i[wi]>>14<i[wm]>>16&&(3&i[wi])===c&&(i[wi]+=16384,uf(Te,se)):uf(Te,se)}const oa=-1;class ch{constructor(c,m,T){this.factory=c,this.resolving=!1,this.canSeeViewProviders=m,this.injectImpl=T}}const Sm={};class np{constructor(c,m){this.injector=c,this.parentInjector=m}get(c,m,T){T=lu(T);const $=this.injector.get(c,Sm,T);return $!==Sm||m===Sm?$:this.parentInjector.get(c,m,T)}}function j1(i){return i!==oa}function Yg(i){return 32767&i}function Dm(i,c){let m=function $M(i){return i>>16}(i),T=c;for(;m>0;)T=T[bm],m--;return T}let xu=!0;function Im(i){const c=xu;return xu=i,c}const $1=255,KM=5;let VM=0;const Pl={};function Mu(i,c){const m=zM(i,c);if(-1!==m)return m;const T=c[Or];T.firstCreatePass&&(i.injectorIndex=c.length,K1(T.data,i),K1(c,null),K1(T.blueprint,null));const $=fb(i,c),se=i.injectorIndex;if(j1($)){const ye=Yg($),Te=Dm($,c),Ze=Te[Or].data;for(let bt=0;bt<8;bt++)c[se+bt]=Te[ye+bt]|Ze[ye+bt]}return c[se+8]=$,se}function K1(i,c){i.push(0,0,0,0,0,0,0,0,c)}function zM(i,c){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===c[i.injectorIndex+8]?-1:i.injectorIndex}function fb(i,c){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let m=0,T=null,$=c;for(;null!==$;){if(T=YM($),null===T)return oa;if(m++,$=$[bm],-1!==T.injectorIndex)return T.injectorIndex|m<<16}return oa}function HM(i,c,m){!function ub(i,c,m){let T;"string"==typeof m?T=m.charCodeAt(0)||0:m.hasOwnProperty(th)&&(T=m[th]),null==T&&(T=m[th]=VM++);const $=T&$1;c.data[i+($>>KM)]|=1<<$}(i,c,m)}function WM(i,c,m){if(m&Lt.Optional||void 0!==i)return i;Xe()}function hb(i,c,m,T){if(m&Lt.Optional&&void 0===T&&(T=null),!(m&(Lt.Self|Lt.Host))){const $=i[Ca],se=En(void 0);try{return $?$.get(c,T,m&Lt.Optional):Ln(c,T,m&Lt.Optional)}finally{En(se)}}return WM(T,0,m)}function I3(i,c,m,T=Lt.Default,$){if(null!==i){if(2048&c[wi]&&!(T&Lt.Self)){const ye=function k3(i,c,m,T,$){let se=i,ye=c;for(;null!==se&&null!==ye&&2048&ye[wi]&&!(512&ye[wi]);){const Te=T3(se,ye,m,T|Lt.Self,Pl);if(Te!==Pl)return Te;let Ze=se.parent;if(!Ze){const bt=ye[qh];if(bt){const Rt=bt.get(m,Pl,T);if(Rt!==Pl)return Rt}Ze=YM(ye),ye=ye[bm]}se=Ze}return $}(i,c,m,T,Pl);if(ye!==Pl)return ye}const se=T3(i,c,m,T,Pl);if(se!==Pl)return se}return hb(c,m,T,$)}function T3(i,c,m,T,$){const se=function A3(i){if("string"==typeof i)return i.charCodeAt(0)||0;const c=i.hasOwnProperty(th)?i[th]:void 0;return"number"==typeof c?c>=0?c&$1:C3:c}(m);if("function"==typeof se){if(!ib(c,i,T))return T&Lt.Host?WM($,0,T):hb(c,m,T,$);try{let ye;if(ye=se(T),null!=ye||T&Lt.Optional)return ye;Xe()}finally{ka()}}else if("number"==typeof se){let ye=null,Te=zM(i,c),Ze=oa,bt=T&Lt.Host?c[Gs][ma]:null;for((-1===Te||T&Lt.SkipSelf)&&(Ze=-1===Te?fb(i,c):c[Te+8],Ze!==oa&&ZM(T,!1)?(ye=c[Or],Te=Yg(Ze),c=Dm(Ze,c)):Te=-1);-1!==Te;){const Rt=c[Or];if(GM(se,Te,Rt.data)){const un=S8(Te,c,m,ye,T,bt);if(un!==Pl)return un}Ze=c[Te+8],Ze!==oa&&ZM(T,c[Or].data[Te+8]===bt)&&GM(se,Te,c)?(ye=Rt,Te=Yg(Ze),c=Dm(Ze,c)):Te=-1}}return $}function S8(i,c,m,T,$,se){const ye=c[Or],Te=ye.data[i+8],Rt=pb(Te,ye,m,null==T?Qh(Te)&&xu:T!=ye&&!!(3&Te.type),$&Lt.Host&&se===Te);return null!==Rt?rp(c,ye,Rt,Te):Pl}function pb(i,c,m,T,$){const se=i.providerIndexes,ye=c.data,Te=1048575&se,Ze=i.directiveStart,Rt=se>>20,An=$?Te+Rt:i.directiveEnd;for(let On=T?Te:Te+Rt;On<An;On++){const Hn=ye[On];if(On<Ze&&m===Hn||On>=Ze&&Hn.type===m)return On}if($){const On=ye[Ze];if(On&&Il(On)&&On.type===m)return Ze}return null}function rp(i,c,m,T){let $=i[m];const se=c.data;if(function jM(i){return i instanceof ch}($)){const ye=$;ye.resolving&&function na(i,c){throw c&&c.join(" > "),new Sr(-200,i)}(function pi(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():gr(i)}(se[m]));const Te=Im(ye.canSeeViewProviders);ye.resolving=!0;const bt=ye.injectImpl?En(ye.injectImpl):null;ib(i,T,Lt.Default);try{$=i[m]=ye.factory(void 0,se,i,T),c.firstCreatePass&&m>=T.directiveStart&&function FM(i,c,m){const{ngOnChanges:T,ngOnInit:$,ngDoCheck:se}=c.type.prototype;if(T){const ye=Ug(c);(m.preOrderHooks??=[]).push(i,ye),(m.preOrderCheckHooks??=[]).push(i,ye)}$&&(m.preOrderHooks??=[]).push(0-i,$),se&&((m.preOrderHooks??=[]).push(i,se),(m.preOrderCheckHooks??=[]).push(i,se))}(m,se[m],c)}finally{null!==bt&&En(bt),Im(Te),ye.resolving=!1,ka()}}return $}function GM(i,c,m){return!!(m[c+(i>>KM)]&1<<i)}function ZM(i,c){return!(i&Lt.Self||i&Lt.Host&&c)}class Pa{constructor(c,m){this._tNode=c,this._lView=m}get(c,m,T){return I3(this._tNode,this._lView,c,lu(T),m)}}function C3(){return new Pa(hs(),lr())}function V1(i){return da(()=>{const c=i.prototype.constructor,m=c[kd]||mb(c),T=Object.prototype;let $=Object.getPrototypeOf(i.prototype).constructor;for(;$&&$!==T;){const se=$[kd]||mb($);if(se&&se!==m)return se;$=Object.getPrototypeOf($)}return se=>new se})}function mb(i){return Ad(i)?()=>{const c=mb(Mi(i));return c&&c()}:Yd(i)}function YM(i){const c=i[Or],m=c.type;return 2===m?c.declTNode:1===m?i[ma]:null}function tl(i){return function M8(i,c){if("class"===c)return i.classes;if("style"===c)return i.styles;const m=i.attrs;if(m){const T=m.length;let $=0;for(;$<T;){const se=m[$];if(Ig(se))break;if(0===se)$+=2;else if("number"==typeof se)for($++;$<T&&"string"==typeof m[$];)$++;else{if(se===c)return m[$+1];$+=2}}}return null}(hs(),i)}function qM(i,c=null,m=null,T){const $=QM(i,c,m,T);return $.resolveInjectorInitializers(),$}function QM(i,c=null,m=null,T,$=new Set){const se=[m||Fo,QA(i)];return T=T||("object"==typeof i?void 0:Cs(i)),new mm(se,c||Pg(),T||null,$)}class Fa{static#e=this.THROW_IF_NOT_FOUND=Ni;static#t=this.NULL=new Dg;static create(c,m){if(Array.isArray(c))return qM({name:""},m,c,"");{const T=c.name??"";return qM({name:T},c.parent,c.providers,T)}}static#n=this.\u0275prov=bi({token:Fa,providedIn:"any",factory:()=>fo(zh)});static#f=this.__NG_ELEMENT_ID__=-1}new Gi("").__NG_ELEMENT_ID__=i=>{const c=hs();if(null===c)throw new Sr(204,!1);if(2&c.type)return c.value;if(i&Lt.Optional)return null;throw new Sr(204,!1)};function H1(i){return i.ngOriginalError}class Rl{constructor(){this._console=console}handleError(c){const m=this._findOriginalError(c);this._console.error("ERROR",c),m&&this._console.error("ORIGINAL ERROR",m)}_findOriginalError(c){let m=c&&H1(c);for(;m&&H1(m);)m=H1(m);return m||null}}const eS=new Gi("",{providedIn:"root",factory:()=>ti(Rl).handleError.bind(void 0)});let Cm=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=j3;static#t=this.__NG_ENV_ID__=m=>m}return i})();class F3 extends Cm{constructor(c){super(),this._lView=c}onDestroy(c){return Vg(this._lView,c),()=>function I1(i,c){if(null===i[sh])return;const m=i[sh].indexOf(c);-1!==m&&i[sh].splice(m,1)}(this._lView,c)}}function j3(){return new F3(lr())}class tS{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=ti(Rl,{optional:!0}),this.destroyRef=ti(Cm),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(c){if(this.destroyed)throw new Sr(953,!1);return(this.listeners??=[]).push(c),{unsubscribe:()=>{const m=this.listeners?.indexOf(c);void 0!==m&&-1!==m&&this.listeners?.splice(m,1)}}}emit(c){if(this.destroyed)throw new Sr(953,!1);if(null===this.listeners)return;const m=k(null);try{for(const T of this.listeners)try{T(c)}catch($){this.errorHandler?.handleError($)}}finally{k(m)}}}function G1(){return ff(hs(),lr())}function ff(i,c){return new lh(qc(i,c))}let lh=(()=>{class i{constructor(m){this.nativeElement=m}static#e=this.__NG_ELEMENT_ID__=G1}return i})();function nS(i){return i instanceof lh?i.nativeElement:i}let ip=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const m=this.taskId++;return this.pendingTasks.add(m),m}remove(m){this.pendingTasks.delete(m),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=bi({token:i,providedIn:"root",factory:()=>new i})}return i})();const nl=class Z1 extends Ce.B{constructor(c=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=c,vM()&&(this.destroyRef=ti(Cm,{optional:!0})??void 0,this.pendingTasks=ti(ip,{optional:!0})??void 0)}emit(c){const m=k(null);try{super.next(c)}finally{k(m)}}subscribe(c,m,T){let $=c,se=m||(()=>null),ye=T;if(c&&"object"==typeof c){const Ze=c;$=Ze.next?.bind(Ze),se=Ze.error?.bind(Ze),ye=Ze.complete?.bind(Ze)}this.__isAsync&&(se=this.wrapInTimeout(se),$&&($=this.wrapInTimeout($)),ye&&(ye=this.wrapInTimeout(ye)));const Te=super.subscribe({next:$,error:se,complete:ye});return c instanceof be.yU&&c.add(Te),Te}wrapInTimeout(c){return m=>{const T=this.pendingTasks?.add();setTimeout(()=>{c(m),void 0!==T&&this.pendingTasks?.remove(T)})}}};function L8(){return this._results[Symbol.iterator]()}class Y1{static#e=Symbol.iterator;get changes(){return this._changes??=new nl}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const m=Y1.prototype;m[Symbol.iterator]||(m[Symbol.iterator]=L8)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,m){return this._results.reduce(c,m)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,m){this.dirty=!1;const T=function Xc(i){return i.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function l1(i,c,m){if(i.length!==c.length)return!1;for(let T=0;T<i.length;T++){let $=i[T],se=c[T];if(m&&($=m($),se=m(se)),se!==$)return!1}return!0}(this._results,T,m))&&(this._results=T,this.length=T.length,this.last=T[this.length-1],this.first=T[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(c){this._onDirty=c}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function vb(i){return!(128&~i.flags)}const op=new Map;let $3=0;const Xg="__ngContext__";function Nc(i,c){Ha(c)?(i[Xg]=c[oh],function K3(i){op.set(i[oh],i)}(c)):i[Xg]=c}function hf(i){return pS(i[gu])}function e2(i){return pS(i[Dl])}function pS(i){for(;null!==i&&!Wa(i);)i=i[Dl];return i}let Mb;function Z3(i){Mb=i}function mf(){if(void 0!==Mb)return Mb;if(typeof document<"u")return document;throw new Sr(210,!1)}const Sb=new Gi("",{providedIn:"root",factory:()=>F8}),F8="ng",Y3=new Gi(""),ap=new Gi("",{providedIn:"platform",factory:()=>"unknown"}),X3=new Gi(""),j8=new Gi("",{providedIn:"root",factory:()=>mf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ty=()=>null;function _S(i,c,m=!1){return ty(i,c,m)}const TS=new Gi("",{providedIn:"root",factory:()=>!1});let Ob,Nb;function Su(i){return function u2(){if(void 0===Ob&&(Ob=null,ss.trustedTypes))try{Ob=ss.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ob}()?.createHTML(i)||i}function kS(i){return function f2(){if(void 0===Nb&&(Nb=null,ss.trustedTypes))try{Nb=ss.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Nb}()?.createScriptURL(i)||i}class dp{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ui})`}}class iC extends dp{getTypeName(){return"HTML"}}class gf extends dp{getTypeName(){return"Style"}}class oC extends dp{getTypeName(){return"Script"}}class sC extends dp{getTypeName(){return"URL"}}class aC extends dp{getTypeName(){return"ResourceURL"}}function yf(i){return i instanceof dp?i.changingThisBreaksApplicationSecurity:i}function Fm(i,c){const m=function cC(i){return i instanceof dp&&i.getTypeName()||null}(i);if(null!=m&&m!==c){if("ResourceURL"===m&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${m} (see ${ui})`)}return m===c}function dC(i){return new iC(i)}function lC(i){return new gf(i)}function uC(i){return new oC(i)}function fC(i){return new sC(i)}function hC(i){return new aC(i)}function PS(i){const c=new mC(i);return function gC(){try{return!!(new window.DOMParser).parseFromString(Su(""),"text/html")}catch{return!1}}()?new pC(c):c}class pC{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const m=(new window.DOMParser).parseFromString(Su(c),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(c):(m.removeChild(m.firstChild),m)}catch{return null}}}class mC{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const m=this.inertDocument.createElement("template");return m.innerHTML=Su(c),m}}const yC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bb(i){return(i=String(i)).match(yC)?i:"unsafe:"+i}function vf(i){const c={};for(const m of i.split(","))c[m]=!0;return c}function jm(...i){const c={};for(const m of i)for(const T in m)m.hasOwnProperty(T)&&(c[T]=!0);return c}const RS=vf("area,br,col,hr,img,wbr"),OS=vf("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),NS=vf("rp,rt"),Lb=jm(RS,jm(OS,vf("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jm(NS,vf("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jm(NS,OS)),iy=vf("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),BS=jm(iy,vf("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vf("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bC=vf("script,style,template");class wC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let m=c.firstChild,T=!0,$=[];for(;m;)if(m.nodeType===Node.ELEMENT_NODE?T=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,T&&m.firstChild)$.push(m),m=xC(m);else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let se=EC(m);if(se){m=se;break}m=$.pop()}return this.buf.join("")}startElement(c){const m=LS(c).toLowerCase();if(!Lb.hasOwnProperty(m))return this.sanitizedSomething=!0,!bC.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const T=c.attributes;for(let $=0;$<T.length;$++){const se=T.item($),ye=se.name,Te=ye.toLowerCase();if(!BS.hasOwnProperty(Te)){this.sanitizedSomething=!0;continue}let Ze=se.value;iy[Te]&&(Ze=Bb(Ze)),this.buf.push(" ",ye,'="',oy(Ze),'"')}return this.buf.push(">"),!0}endElement(c){const m=LS(c).toLowerCase();Lb.hasOwnProperty(m)&&!RS.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(c){this.buf.push(oy(c))}}function EC(i){const c=i.nextSibling;if(c&&i!==c.previousSibling)throw US(c);return c}function xC(i){const c=i.firstChild;if(c&&function _C(i,c){return(i.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(i,c))throw US(c);return c}function LS(i){const c=i.nodeName;return"string"==typeof c?c:"FORM"}function US(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`)}const MC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SC=/([^\#-~ |!])/g;function oy(i){return i.replace(/&/g,"&amp;").replace(MC,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(SC,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $m;function sy(i,c){let m=null;try{$m=$m||PS(i);let T=c?String(c):"";m=$m.getInertBodyElement(T);let $=5,se=T;do{if(0===$)throw new Error("Failed to sanitize html because the input is unstable");$--,T=se,se=m.innerHTML,m=$m.getInertBodyElement(T)}while(T!==se);return Su((new wC).sanitizeChildren(Km(m)||m))}finally{if(m){const T=Km(m)||m;for(;T.firstChild;)T.removeChild(T.firstChild)}}}function Km(i){return"content"in i&&function Ub(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var lp=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(lp||{});function Fb(i){const c=ay();return c?c.sanitize(lp.URL,i)||"":Fm(i,"URL")?yf(i):Bb(gr(i))}function FS(i){const c=ay();if(c)return kS(c.sanitize(lp.RESOURCE_URL,i)||"");if(Fm(i,"ResourceURL"))return kS(yf(i));throw new Sr(904,!1)}function KS(i,c,m){return function $S(i,c){return"src"===c&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===c&&("base"===i||"link"===i)?FS:Fb}(c,m)(i)}function ay(){const i=lr();return i&&i[mu].sanitizer}const p2=/^>|^->|<!--|-->|--!>|<!-$/g,tP=/(<|>)/g,nP="\u200b$1\u200b";function rd(i){return i instanceof Function?i():i}function wd(i){return"browser"===(i??ti(Fa)).get(ap)}var zm=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(zm||{});let zb;function w2(i,c){return zb(i,c)}function ly(i,c,m,T,$){if(null!=T){let se,ye=!1;Wa(T)?se=T:Ha(T)&&(ye=!0,T=T[Ws]);const Te=ts(T);0===i&&null!==m?null==$?Gb(c,m,Te):fp(c,m,Te,$||null,!0):1===i&&null!==m?fp(c,m,Te,$||null,!0):2===i?function Wm(i,c,m){const T=Zb(i,c);T&&function jC(i,c,m,T){i.removeChild(c,m,T)}(i,T,c,m)}(c,Te,ye):3===i&&c.destroyNode(Te),null!=se&&function KC(i,c,m,T,$){const se=m[Qd];se!==ts(m)&&ly(c,i,T,se,$);for(let Te=ga;Te<m.length;Te++){const Ze=m[Te];Gm(Ze[Or],Ze,i,c,T,se)}}(c,i,se,m,$)}}function rl(i,c){return i.createText(c)}function Hb(i,c){return i.createComment(function m2(i){return i.replace(p2,c=>c.replace(tP,nP))}(c))}function fy(i,c,m){return i.createElement(c,m)}function E2(i,c){c[mu].changeDetectionScheduler?.notify(8),Gm(i,c,c[eo],2,null,null)}function XS(i,c){const m=i[_m],T=c[ia];(Ha(T)||c[Gs]!==T[ia][Gs])&&(i[wi]|=Xv.HasTransplantedViews),null===m?i[_m]=[c]:m.push(c)}function up(i,c){const m=i[_m],T=m.indexOf(c);m.splice(T,1)}function hy(i,c){if(i.length<=ga)return;const m=ga+c,T=i[m];if(T){const $=T[Jh];null!==$&&$!==i&&up($,T),c>0&&(i[m-1][Dl]=T[Dl]);const se=Mg(i,ga+c);!function UC(i,c){E2(i,c),c[Ws]=null,c[ma]=null}(T[Or],T);const ye=se[af];null!==ye&&ye.detachView(se[Or]),T[ia]=null,T[Dl]=null,T[wi]&=-129}return T}function Wb(i,c){if(!(256&c[wi])){const m=c[eo];m.destroyNode&&Gm(i,c,m,3,null,null),function Nl(i){let c=i[gu];if(!c)return _d(i[Or],i);for(;c;){let m=null;if(Ha(c))m=c[gu];else{const T=c[ga];T&&(m=T)}if(!m){for(;c&&!c[Dl]&&c!==i;)Ha(c)&&_d(c[Or],c),c=c[ia];null===c&&(c=i),Ha(c)&&_d(c[Or],c),m=c&&c[Dl]}c=m}}(c)}}function _d(i,c){if(256&c[wi])return;const m=k(null);try{c[wi]&=-129,c[wi]|=256,c[qd]&&ie(c[qd]),function FC(i,c){let m;if(null!=i&&null!=(m=i.destroyHooks))for(let T=0;T<m.length;T+=2){const $=c[m[T]];if(!($ instanceof ch)){const se=m[T+1];if(Array.isArray(se))for(let ye=0;ye<se.length;ye+=2){const Te=$[se[ye]],Ze=se[ye+1];vd(4,Te,Ze);try{Ze.call(Te)}finally{vd(5,Te,Ze)}}else{vd(4,$,se);try{se.call($)}finally{vd(5,$,se)}}}}}(i,c),function Hm(i,c){const m=i.cleanup,T=c[vm];if(null!==m)for(let se=0;se<m.length-1;se+=2)if("string"==typeof m[se]){const ye=m[se+3];ye>=0?T[ye]():T[-ye].unsubscribe(),se+=2}else m[se].call(T[m[se+1]]);null!==T&&(c[vm]=null);const $=c[sh];if(null!==$){c[sh]=null;for(let se=0;se<$.length;se++)(0,$[se])()}}(i,c),1===c[Or].type&&c[eo].destroy();const T=c[Jh];if(null!==T&&Wa(c[ia])){T!==c[ia]&&up(T,c);const $=c[af];null!==$&&$.detachView(i)}!function J1(i){op.delete(i[oh])}(c)}finally{k(m)}}function il(i,c,m){return JS(i,c.parent,m)}function JS(i,c,m){let T=c;for(;null!==T&&40&T.type;)T=(c=T).parent;if(null===T)return m[Ws];{const{componentOffset:$}=T;if($>-1){const{encapsulation:se}=i.data[T.directiveStart+$];if(se===Ml.None||se===Ml.Emulated)return null}return qc(T,m)}}function fp(i,c,m,T,$){i.insertBefore(c,m,T,$)}function Gb(i,c,m){i.appendChild(c,m)}function M2(i,c,m,T,$){null!==T?fp(i,c,m,T,$):Gb(i,c,m)}function Zb(i,c){return i.parentNode(c)}function qS(i,c,m){return eD(i,c,m)}function QS(i,c,m){return 40&i.type?qc(i,m):null}let S2,eD=QS;function tD(i,c){eD=i,S2=c}function Yb(i,c,m,T){const $=il(i,T,c),se=c[eo],Te=qS(T.parent||c[ma],T,c);if(null!=$)if(Array.isArray(m))for(let Ze=0;Ze<m.length;Ze++)M2(se,$,m[Ze],Te,!1);else M2(se,$,m,Te,!1);void 0!==S2&&S2(se,T,c,m,$)}function py(i,c){if(null!==c){const m=c.type;if(3&m)return qc(c,i);if(4&m)return rD(-1,i[c.index]);if(8&m){const T=c.child;if(null!==T)return py(i,T);{const $=i[c.index];return Wa($)?rD(-1,$):ts($)}}if(32&m)return w2(c,i)()||ts(i[c.index]);{const T=nD(i,c);return null!==T?Array.isArray(T)?T[0]:py(bu(i[Gs]),T):py(i,c.next)}}return null}function nD(i,c){return null!==c?i[Gs][ma].projection[c.projection]:null}function rD(i,c){const m=ga+i+1;if(m<c.length){const T=c[m],$=T[Or].firstChild;if(null!==$)return py(T,$)}return c[Qd]}function hp(i,c,m,T,$,se,ye){for(;null!=m;){const Te=T[m.index],Ze=m.type;if(ye&&0===c&&(Te&&Nc(ts(Te),T),m.flags|=2),32&~m.flags)if(8&Ze)hp(i,c,m.child,T,$,se,!1),ly(c,i,$,Te,se);else if(32&Ze){const bt=w2(m,T);let Rt;for(;Rt=bt();)ly(c,i,$,Rt,se);ly(c,i,$,Te,se)}else 16&Ze?Xb(i,c,T,m,$,se):ly(c,i,$,Te,se);m=ye?m.projectionNext:m.next}}function Gm(i,c,m,T,$,se){hp(m,T,i.firstChild,c,$,se,!1)}function Xb(i,c,m,T,$,se){const ye=m[Gs],Ze=ye[ma].projection[T.projection];if(Array.isArray(Ze))for(let bt=0;bt<Ze.length;bt++)ly(c,i,$,Ze[bt],se);else{let bt=Ze;const Rt=ye[ia];vb(T)&&(bt.flags|=128),hp(i,c,bt,Rt,$,se,!0)}}function sD(i,c,m){""===m?i.removeAttribute(c,"class"):i.setAttribute(c,"class",m)}function Jb(i,c,m){const{mergedAttrs:T,classes:$,styles:se}=m;null!==T&&fu(i,c,T),null!==$&&sD(i,c,$),null!==se&&function oD(i,c,m){i.setAttribute(c,"style",m)}(i,c,se)}const uo={};function VC(i=1){zC(So(),lr(),Oc()+i,!1)}function zC(i,c,m,T){if(!T)if(3&~c[wi]){const se=i.preOrderHooks;null!==se&&ab(c,se,0,m)}else{const se=i.preOrderCheckHooks;null!==se&&tp(c,se,m)}kl(m)}function Zm(i,c=Lt.Default){const m=lr();return null===m?fo(i,c):I3(hs(),m,Mi(i),c)}function aD(){throw new Error("invalid")}function cD(i,c,m,T,$,se){const ye=k(null);try{let Te=null;$&Hh.SignalBased&&(Te=c[T][b]),null!==Te&&void 0!==Te.transformFn&&(se=Te.transformFn(se)),$&Hh.HasDecoratorInputTransform&&(se=i.inputTransforms[T].call(c,se)),null!==i.setInput?i.setInput(c,Te,se,m,T):cf(c,Te,T,se)}finally{k(ye)}}function qb(i,c,m,T,$,se,ye,Te,Ze,bt,Rt){const un=c.blueprint.slice();return un[Ws]=$,un[wi]=204|T,(null!==bt||i&&2048&i[wi])&&(un[wi]|=2048),y3(un),un[ia]=un[bm]=i,un[Fs]=m,un[mu]=ye||i&&i[mu],un[eo]=Te||i&&i[eo],un[Ca]=Ze||i&&i[Ca]||null,un[ma]=se,un[oh]=function iS(){return $3++}(),un[Jc]=Rt,un[qh]=bt,un[Gs]=2==c.type?i[Gs]:un,un}function Ym(i,c,m,T,$){let se=i.data[c];if(null===se)se=I2(i,c,m,T,$),function E3(){return Ji.lFrame.inI18n}()&&(se.flags|=32);else if(64&se.type){se.type=m,se.value=T,se.attrs=$;const ye=zg();se.injectorIndex=null===ye?-1:ye.injectorIndex}return _u(se,!0),se}function I2(i,c,m,T,$){const se=C1(),ye=tb(),Ze=i.data[c]=function pP(i,c,m,T,$,se){let ye=c?c.injectorIndex:-1,Te=0;return xm()&&(Te|=128),{type:m,index:T,insertBeforeIndex:null,injectorIndex:ye,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Te,providerIndexes:0,value:$,attrs:se,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ye?se:se&&se.parent,m,c,T,$);return null===i.firstChild&&(i.firstChild=Ze),null!==se&&(ye?null==se.child&&null!==Ze.parent&&(se.child=Ze):null===se.next&&(se.next=Ze,Ze.prev=se)),Ze}function Xm(i,c,m,T){if(0===m)return-1;const $=c.length;for(let se=0;se<m;se++)c.push(T),i.blueprint.push(T),i.data.push(null);return $}function dD(i,c,m,T,$){const se=Oc(),ye=2&T;try{kl(-1),ye&&c.length>Ri&&zC(i,c,Ri,!1),vd(ye?2:0,$),m(T,$)}finally{kl(se),vd(ye?3:1,$)}}function Qb(i,c,m){if(w1(c)){const T=k(null);try{const se=c.directiveEnd;for(let ye=c.directiveStart;ye<se;ye++){const Te=i.data[ye];Te.contentQueries&&Te.contentQueries(1,m[ye],ye)}}finally{k(T)}}}function ew(i,c,m){w3()&&(function A2(i,c,m,T){const $=m.directiveStart,se=m.directiveEnd;Qh(m)&&function i6(i,c,m){const T=qc(c,i),$=lD(m);let ye=16;m.signals?ye=4096:m.onPush&&(ye=64);const Te=pp(i,qb(i,$,null,ye,T,c,null,i[mu].rendererFactory.createRenderer(T,m),null,null,null));i[c.index]=Te}(c,m,i.data[$+m.componentOffset]),i.firstCreatePass||Mu(m,c),Nc(T,c);const ye=m.initialInputs;for(let Te=$;Te<se;Te++){const Ze=i.data[Te],bt=rp(c,i,Te,m);Nc(bt,c),null!==ye&&o6(0,Te-$,bt,Ze,0,ye),Il(Ze)&&(Nd(m.index,c)[Fs]=rp(c,i,Te,m))}}(i,c,m,qc(m,c)),!(64&~m.flags)&&hD(i,c,m))}function T2(i,c,m=qc){const T=c.localNames;if(null!==T){let $=c.index+1;for(let se=0;se<T.length;se+=2){const ye=T[se+1],Te=-1===ye?m(c,i):i[ye];i[$++]=Te}}}function lD(i){const c=i.tView;return null===c||c.incompleteFirstPass?i.tView=Bl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):c}function Bl(i,c,m,T,$,se,ye,Te,Ze,bt,Rt){const un=Ri+T,An=un+$,On=function tw(i,c){const m=[];for(let T=0;T<c;T++)m.push(T<i?null:uo);return m}(un,An),Hn="function"==typeof bt?bt():bt;return On[Or]={type:i,blueprint:On,template:m,queries:null,viewQuery:Te,declTNode:c,data:On.slice().fill(null,un),bindingStartIndex:un,expandoStartIndex:An,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof se?se():se,pipeRegistry:"function"==typeof ye?ye():ye,firstChild:null,schemas:Ze,consts:Hn,incompleteFirstPass:!1,ssrId:Rt}}let WC=()=>null;function GC(i,c,m,T,$){for(let se in c){if(!c.hasOwnProperty(se))continue;const ye=c[se];if(void 0===ye)continue;T??={};let Te,Ze=Hh.None;Array.isArray(ye)?(Te=ye[0],Ze=ye[1]):Te=ye;let bt=se;if(null!==$){if(!$.hasOwnProperty(se))continue;bt=$[se]}0===i?bf(T,m,bt,Te,Ze):bf(T,m,bt,Te)}return T}function bf(i,c,m,T,$){let se;i.hasOwnProperty(m)?(se=i[m]).push(c,T):se=i[m]=[c,T],void 0!==$&&se.push($)}function id(i,c,m,T,$,se,ye,Te){const Ze=qc(c,m);let Rt,bt=c.inputs;!Te&&null!=bt&&(Rt=bt[T])?(mD(i,m,Rt,T,$),Qh(c)&&function YC(i,c){const m=Nd(c,i);16&m[wi]||(m[wi]|=64)}(m,c.index)):3&c.type&&(T=function ZC(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(T),$=null!=ye?ye($,c.value||"",T):$,se.setProperty(Ze,T,$))}function nw(i,c,m,T){if(w3()){const $=null===T?null:{"":-1},se=function QC(i,c){const m=i.directiveRegistry;let T=null,$=null;if(m)for(let se=0;se<m.length;se++){const ye=m[se];if(h1(c,ye.selectors,!1))if(T||(T=[]),Il(ye))if(null!==ye.findHostDirectiveDefs){const Te=[];$=$||new Map,ye.findHostDirectiveDefs(ye,Te,$),T.unshift(...Te,ye),C2(i,c,Te.length)}else T.unshift(ye),C2(i,c,0);else $=$||new Map,ye.findHostDirectiveDefs?.(ye,T,$),T.push(ye)}return null===T?null:[T,$]}(i,m);let ye,Te;null===se?ye=Te=null:[ye,Te]=se,null!==ye&&uD(i,c,m,ye,$,Te),$&&function e6(i,c,m){if(c){const T=i.localNames=[];for(let $=0;$<c.length;$+=2){const se=m[c[$+1]];if(null==se)throw new Sr(-301,!1);T.push(c[$],se)}}}(m,T,$)}m.mergedAttrs=Wh(m.mergedAttrs,m.attrs)}function uD(i,c,m,T,$,se){for(let bt=0;bt<T.length;bt++)HM(Mu(m,c),i,T[bt].type);!function n6(i,c,m){i.flags|=1,i.directiveStart=c,i.directiveEnd=c+m,i.providerIndexes=c}(m,i.data.length,T.length);for(let bt=0;bt<T.length;bt++){const Rt=T[bt];Rt.providersResolver&&Rt.providersResolver(Rt)}let ye=!1,Te=!1,Ze=Xm(i,c,T.length,null);for(let bt=0;bt<T.length;bt++){const Rt=T[bt];m.mergedAttrs=Wh(m.mergedAttrs,Rt.hostAttrs),r6(i,m,c,Ze,Rt),t6(Ze,Rt,$),null!==Rt.contentQueries&&(m.flags|=4),(null!==Rt.hostBindings||null!==Rt.hostAttrs||0!==Rt.hostVars)&&(m.flags|=64);const un=Rt.type.prototype;!ye&&(un.ngOnChanges||un.ngOnInit||un.ngDoCheck)&&((i.preOrderHooks??=[]).push(m.index),ye=!0),!Te&&(un.ngOnChanges||un.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(m.index),Te=!0),Ze++}!function mP(i,c,m){const $=c.directiveEnd,se=i.data,ye=c.attrs,Te=[];let Ze=null,bt=null;for(let Rt=c.directiveStart;Rt<$;Rt++){const un=se[Rt],An=m?m.get(un):null,Hn=An?An.outputs:null;Ze=GC(0,un.inputs,Rt,Ze,An?An.inputs:null),bt=GC(1,un.outputs,Rt,bt,Hn);const cr=null===Ze||null===ye||ra(c)?null:rw(Ze,Rt,ye);Te.push(cr)}null!==Ze&&(Ze.hasOwnProperty("class")&&(c.flags|=8),Ze.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=Te,c.inputs=Ze,c.outputs=bt}(i,m,se)}function hD(i,c,m){const T=m.directiveStart,$=m.directiveEnd,se=m.index,ye=function nb(){return Ji.lFrame.currentDirectiveIndex}();try{kl(se);for(let Te=T;Te<$;Te++){const Ze=i.data[Te],bt=c[Te];Mm(Te),(null!==Ze.hostBindings||0!==Ze.hostVars||null!==Ze.hostAttrs)&&qC(Ze,bt)}}finally{kl(-1),Mm(ye)}}function qC(i,c){null!==i.hostBindings&&i.hostBindings(1,c)}function C2(i,c,m){c.componentOffset=m,(i.components??=[]).push(c.index)}function t6(i,c,m){if(m){if(c.exportAs)for(let T=0;T<c.exportAs.length;T++)m[c.exportAs[T]]=i;Il(c)&&(m[""]=i)}}function r6(i,c,m,T,$){i.data[T]=$;const se=$.factory||($.factory=Yd($.type)),ye=new ch(se,Il($),Zm);i.blueprint[T]=ye,m[T]=ye,function JC(i,c,m,T,$){const se=$.hostBindings;if(se){let ye=i.hostBindingOpCodes;null===ye&&(ye=i.hostBindingOpCodes=[]);const Te=~c.index;(function fD(i){let c=i.length;for(;c>0;){const m=i[--c];if("number"==typeof m&&m<0)return m}return 0})(ye)!=Te&&ye.push(Te),ye.push(m,T,se)}}(i,c,T,Xm(i,m,$.hostVars,uo),$)}function Du(i,c,m,T,$,se){const ye=qc(i,c);!function k2(i,c,m,T,$,se,ye){if(null==se)i.removeAttribute(c,$,m);else{const Te=null==ye?gr(se):ye(se,T||"",$);i.setAttribute(c,$,Te,m)}}(c[eo],ye,se,i.value,m,T,$)}function o6(i,c,m,T,$,se){const ye=se[c];if(null!==ye)for(let Te=0;Te<ye.length;)cD(T,m,ye[Te++],ye[Te++],ye[Te++],ye[Te++])}function rw(i,c,m){let T=null,$=0;for(;$<m.length;){const se=m[$];if(0!==se)if(5!==se){if("number"==typeof se)break;if(i.hasOwnProperty(se)){null===T&&(T=[]);const ye=i[se];for(let Te=0;Te<ye.length;Te+=3)if(ye[Te]===c){T.push(se,ye[Te+1],ye[Te+2],m[$+1]);break}}$+=2}else $+=2;else $+=4}return T}function iw(i,c,m,T){return[i,!0,0,c,null,T,null,m,null,null]}function my(i,c){const m=i.contentQueries;if(null!==m){const T=k(null);try{for(let $=0;$<m.length;$+=2){const ye=m[$+1];if(-1!==ye){const Te=i.data[ye];rb(m[$]),Te.contentQueries(2,c[ye],ye)}}}finally{k(T)}}}function pp(i,c){return i[gu]?i[_M][Dl]=c:i[gu]=c,i[_M]=c,c}function gy(i,c,m){rb(0);const T=k(null);try{c(i,m)}finally{k(T)}}function pD(i){return i[vm]??=[]}function ow(i){return i.cleanup??=[]}function sw(i,c,m){return(null===i||Il(i))&&(m=function ep(i){for(;Array.isArray(i);){if("object"==typeof i[b1])return i;i=i[Ws]}return null}(m[c.index])),m[eo]}function P2(i,c){const m=i[Ca],T=m?m.get(Rl,null):null;T&&T.handleError(c)}function mD(i,c,m,T,$){for(let se=0;se<m.length;){const ye=m[se++],Te=m[se++],Ze=m[se++];cD(i.data[ye],c[ye],T,Te,Ze,$)}}function R2(i,c){const m=Nd(c,i),T=m[Or];!function hc(i,c){for(let m=c.length;m<i.blueprint.length;m++)c.push(i.blueprint[m])}(T,m);const $=m[Ws];null!==$&&null===m[Jc]&&(m[Jc]=_S($,m[Ca])),O2(T,m,m[Fs])}function O2(i,c,m){BM(c);try{const T=i.viewQuery;null!==T&&gy(1,T,m);const $=i.template;null!==$&&dD(i,c,$,1,m),i.firstCreatePass&&(i.firstCreatePass=!1),c[af]?.finishViewCreation(i),i.staticContentQueries&&my(i,c),i.staticViewQueries&&gy(2,i.viewQuery,m);const se=i.components;null!==se&&function s6(i,c){for(let m=0;m<c.length;m++)R2(i,c[m])}(c,se)}catch(T){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),T}finally{c[wi]&=-5,B1()}}function Jm(i,c,m,T){const $=k(null);try{const se=c.tView,Ze=qb(i,se,m,4096&i[wi]?4096:16,null,c,null,null,T?.injector??null,T?.embeddedViewInjector??null,T?.dehydratedView??null);Ze[Jh]=i[c.index];const Rt=i[af];return null!==Rt&&(Ze[af]=Rt.createEmbeddedView(se)),O2(se,Ze,m),Ze}finally{k($)}}function qm(i,c){const m=ga+c;if(m<i.length)return i[m]}function mp(i,c){return!c||null===c.firstChild||vb(i)}function gp(i,c,m,T=!0){const $=c[Or];if(function x2(i,c,m,T){const $=ga+T,se=m.length;T>0&&(m[$-1][Dl]=c),T<se-ga?(c[Dl]=m[$],Xd(m,ga+T,c)):(m.push(c),c[Dl]=null),c[ia]=m;const ye=c[Jh];null!==ye&&m!==ye&&XS(ye,c);const Te=c[af];null!==Te&&Te.insertView(i),D1(c),c[wi]|=128}($,c,i,m),T){const ye=rD(m,i),Te=c[eo],Ze=Zb(Te,i[Qd]);null!==Ze&&function YS(i,c,m,T,$,se){T[Ws]=$,T[ma]=c,Gm(i,T,m,1,$,se)}($,i[ma],Te,c,Ze,ye)}const se=c[Jc];null!==se&&null!==se.firstChild&&(se.firstChild=null)}function N2(i,c){const m=hy(i,c);return void 0!==m&&Wb(m[Or],m),m}function yp(i,c,m,T,$=!1){for(;null!==m;){const se=c[m.index];null!==se&&T.push(ts(se)),Wa(se)&&gD(se,T);const ye=m.type;if(8&ye)yp(i,c,m.child,T);else if(32&ye){const Te=w2(m,c);let Ze;for(;Ze=Te();)T.push(Ze)}else if(16&ye){const Te=nD(c,m);if(Array.isArray(Te))T.push(...Te);else{const Ze=bu(c[Gs]);yp(Ze[Or],Ze,Te,T,!0)}}m=$?m.projectionNext:m.next}return T}function gD(i,c){for(let m=ga;m<i.length;m++){const T=i[m],$=T[Or].firstChild;null!==$&&yp(T[Or],T,$,c)}i[Qd]!==i[Ws]&&c.push(i[Qd])}let aw=[];const bP={...O,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Qv(i.lView)},consumerOnSignalRead(){this.lView[qd]=this}},d6={...O,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{let c=bu(i.lView);for(;c&&!l6(c[Or]);)c=bu(c);c&&v3(c)},consumerOnSignalRead(){this.lView[qd]=this}};function l6(i){return 2!==i.type}const wP=100;function cw(i,c=!0,m=0){const T=i[mu],$=T.rendererFactory;$.begin?.();try{!function Qm(i,c){const m=RM();try{OM(!0),B2(i,c);let T=0;for(;Kg(i);){if(T===wP)throw new Sr(103,!1);T++,B2(i,1)}}finally{OM(m)}}(i,m)}catch(ye){throw c&&P2(i,ye),ye}finally{$.end?.(),T.inlineEffectRunner?.flush()}}function f6(i,c,m,T){const $=c[wi];if(!(256&~$))return;c[mu].inlineEffectRunner?.flush(),BM(c);let Te=!0,Ze=null,bt=null;l6(i)?(bt=function a6(i){return i[qd]??function vP(i){const c=aw.pop()??Object.create(bP);return c.lView=i,c}(i)}(c),Ze=Y(bt)):null===function S(){return _}()?(Te=!1,bt=function c6(i){const c=i[qd]??Object.create(d6);return c.lView=i,c}(c),Ze=Y(bt)):c[qd]&&(ie(c[qd]),c[qd]=null);try{y3(c),function NM(i){return Ji.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==m&&dD(i,c,m,2,T);const Rt=!(3&~$);if(Rt){const On=i.preOrderCheckHooks;null!==On&&tp(c,On,null)}else{const On=i.preOrderHooks;null!==On&&ab(c,On,0,null),cb(c,0)}if(function h6(i){for(let c=hf(i);null!==c;c=e2(c)){if(!(c[wi]&Xv.HasTransplantedViews))continue;const m=c[_m];for(let T=0;T<m.length;T++)v3(m[T])}}(c),vD(c,0),null!==i.contentQueries&&my(i,c),Rt){const On=i.contentCheckHooks;null!==On&&tp(c,On)}else{const On=i.contentHooks;null!==On&&ab(c,On,1),cb(c,1)}!function HC(i,c){const m=i.hostBindingOpCodes;if(null!==m)try{for(let T=0;T<m.length;T++){const $=m[T];if($<0)kl(~$);else{const se=$,ye=m[++T],Te=m[++T];k1(ye,se),Te(2,c[se])}}}finally{kl(-1)}}(i,c);const un=i.components;null!==un&&wD(c,un,0);const An=i.viewQuery;if(null!==An&&gy(2,An,T),Rt){const On=i.viewCheckHooks;null!==On&&tp(c,On)}else{const On=i.viewHooks;null!==On&&ab(c,On,2),cb(c,2)}if(!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),c[Zv]){for(const On of c[Zv])On();c[Zv]=null}c[wi]&=-73}catch(Rt){throw Qv(c),Rt}finally{null!==bt&&(W(bt,Ze),Te&&function yD(i){i.lView[qd]!==i&&(i.lView=null,aw.push(i))}(bt)),B1()}}function vD(i,c){for(let m=hf(i);null!==m;m=e2(m))for(let T=ga;T<m.length;T++)bD(m[T],c)}function p6(i,c,m){bD(Nd(c,i),m)}function bD(i,c){AM(i)&&B2(i,c)}function B2(i,c){const T=i[Or],$=i[wi],se=i[qd];let ye=!!(0===c&&16&$);if(ye||=!!(64&$&&0===c),ye||=!!(1024&$),ye||=!(!se?.dirty||!re(se)),ye||=!1,se&&(se.dirty=!1),i[wi]&=-9217,ye)f6(T,i,T.template,i[Fs]);else if(8192&$){vD(i,1);const Te=T.components;null!==Te&&wD(i,Te,1)}}function wD(i,c,m){for(let T=0;T<c.length;T++)p6(i,c[T],m)}function yy(i,c){const m=RM()?64:1088;for(i[mu].changeDetectionScheduler?.notify(c);i;){i[wi]|=m;const T=bu(i);if(Bg(i)&&!T)return i;i=T}return null}class vy{get rootNodes(){const c=this._lView,m=c[Or];return yp(m,c,m.firstChild,[])}constructor(c,m,T=!0){this._lView=c,this._cdRefInjectingView=m,this.notifyErrorHandler=T,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fs]}set context(c){this._lView[Fs]=c}get destroyed(){return!(256&~this._lView[wi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[ia];if(Wa(c)){const m=c[8],T=m?m.indexOf(this):-1;T>-1&&(hy(c,T),Mg(m,T))}this._attachedToViewContainer=!1}Wb(this._lView[Or],this._lView)}onDestroy(c){Vg(this._lView,c)}markForCheck(){yy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[wi]&=-129}reattach(){D1(this._lView),this._lView[wi]|=128}detectChanges(){this._lView[wi]|=1024,cw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Sr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const c=Bg(this._lView),m=this._lView[Jh];null!==m&&!c&&up(m,this._lView),E2(this._lView[Or],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Sr(902,!1);this._appRef=c;const m=Bg(this._lView),T=this._lView[Jh];null!==T&&!m&&XS(T,this._lView),D1(this._lView)}}let e0=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=by}return i})();const m6=e0,dw=class extends m6{constructor(c,m,T){super(),this._declarationLView=c,this._declarationTContainer=m,this.elementRef=T}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,m){return this.createEmbeddedViewImpl(c,m)}createEmbeddedViewImpl(c,m,T){const $=Jm(this._declarationLView,this._declarationTContainer,c,{embeddedViewInjector:m,dehydratedView:T});return new vy($)}};function by(){return lw(hs(),lr())}function lw(i,c){return 4&i.type?new dw(c,i,ff(i,c)):null}function xD(i,c,m){const T=c.insertBeforeIndex,$=Array.isArray(T)?T[0]:T;return null===$?QS(i,0,m):ts(m[$])}function MD(i,c,m,T,$){const se=c.insertBeforeIndex;if(Array.isArray(se)){let ye=T,Te=null;if(3&c.type||(Te=ye,ye=$),null!==ye&&-1===c.componentOffset)for(let Ze=1;Ze<se.length;Ze++)fp(i,ye,m[se[Ze]],Te,!1)}}function Tu(i,c){if(i.push(c),i.length>1)for(let m=i.length-2;m>=0;m--){const T=i[m];SD(T)||M6(T,c)&&null===S6(T)&&D6(T,c.index)}}function SD(i){return!(64&i.type)}function M6(i,c){return SD(c)||i.index>c.index}function S6(i){const c=i.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function D6(i,c){const m=i.insertBeforeIndex;Array.isArray(m)?m[0]=c:(tD(xD,MD),i.insertBeforeIndex=c)}function A6(i,c,m){const T=I2(i,m,64,null,null);return Tu(c,T),T}let OD=()=>{},W2=()=>null;function wp(i,c){return W2(i,c)}class _p{}const Sy=new Gi("",{providedIn:"root",factory:()=>!1}),jD=new Gi("");class $D{}class KD{}class IP{resolveComponentFactory(c){throw function VD(i){const c=Error(`No component factory found for ${Cs(i)}.`);return c.ngComponent=i,c}(c)}}class o0{static#e=this.NULL=new IP}class vw{}let zD=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Z2(){const i=lr(),m=Nd(hs().index,i);return(Ha(m)?m:i)[eo]}()}return i})(),TP=(()=>{class i{static#e=this.\u0275prov=bi({token:i,providedIn:"root",factory:()=>null})}return i})();const HD=new Set;function ks(i){HD.has(i)||(HD.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function WD(i){let c=!0;return setTimeout(()=>{c&&(c=!1,i())}),"function"==typeof ss.requestAnimationFrame&&ss.requestAnimationFrame(()=>{c&&(c=!1,i())}),()=>{c=!1}}function GD(i){let c=!0;return queueMicrotask(()=>{c&&i()}),()=>{c=!1}}function ZD(...i){}class Ps{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:m=!1,shouldCoalesceRunChangeDetection:T=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nl(!1),this.onMicrotaskEmpty=new nl(!1),this.onStable=new nl(!1),this.onError=new nl(!1),typeof Zone>"u")throw new Sr(908,!1);Zone.assertZonePatched();const $=this;$._nesting=0,$._outer=$._inner=Zone.current,Zone.TaskTrackingZoneSpec&&($._inner=$._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&($._inner=$._inner.fork(Zone.longStackTraceZoneSpec)),$.shouldCoalesceEventChangeDetection=!T&&m,$.shouldCoalesceRunChangeDetection=T,$.callbackScheduled=!1,function Y6(i){const c=()=>{!function Z6(i){i.isCheckStableRunning||i.callbackScheduled||(i.callbackScheduled=!0,Zone.root.run(()=>{WD(()=>{i.callbackScheduled=!1,X2(i),i.isCheckStableRunning=!0,Y2(i),i.isCheckStableRunning=!1})}),X2(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(m,T,$,se,ye,Te)=>{if(function JD(i){return QD(i,"__ignore_ng_zone__")}(Te))return m.invokeTask($,se,ye,Te);try{return YD(i),m.invokeTask($,se,ye,Te)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===se.type||i.shouldCoalesceRunChangeDetection)&&c(),XD(i)}},onInvoke:(m,T,$,se,ye,Te,Ze)=>{try{return YD(i),m.invoke($,se,ye,Te,Ze)}finally{i.shouldCoalesceRunChangeDetection&&!i.callbackScheduled&&!function qD(i){return QD(i,"__scheduler_tick__")}(Te)&&c(),XD(i)}},onHasTask:(m,T,$,se)=>{m.hasTask($,se),T===$&&("microTask"==se.change?(i._hasPendingMicrotasks=se.microTask,X2(i),Y2(i)):"macroTask"==se.change&&(i.hasPendingMacrotasks=se.macroTask))},onHandleError:(m,T,$,se)=>(m.handleError($,se),i.runOutsideAngular(()=>i.onError.emit(se)),!1)})}($)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ps.isInAngularZone())throw new Sr(909,!1)}static assertNotInAngularZone(){if(Ps.isInAngularZone())throw new Sr(909,!1)}run(c,m,T){return this._inner.run(c,m,T)}runTask(c,m,T,$){const se=this._inner,ye=se.scheduleEventTask("NgZoneEvent: "+$,c,CP,ZD,ZD);try{return se.runTask(ye,m,T)}finally{se.cancelTask(ye)}}runGuarded(c,m,T){return this._inner.runGuarded(c,m,T)}runOutsideAngular(c){return this._outer.run(c)}}const CP={};function Y2(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function X2(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&!0===i.callbackScheduled)}function YD(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function XD(i){i._nesting--,Y2(i)}class J2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nl,this.onMicrotaskEmpty=new nl,this.onStable=new nl,this.onError=new nl}run(c,m,T){return c.apply(m,T)}runGuarded(c,m,T){return c.apply(m,T)}runOutsideAngular(c){return c()}runTask(c,m,T,$){return c.apply(m,T)}}function QD(i,c){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0]?.data?.[c]}var wf=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(wf||{});const eI={destroy(){}};function eE(i,c){!c&&Wv();const m=c?.injector??ti(Fa);if(!wd(m))return eI;ks("NgAfterRender");const T=m.get(s0),$=T.handler??=new tE,se=c?.phase??wf.MixedReadWrite,ye=()=>{$.unregister(Ze),Te()},Te=m.get(Cm).onDestroy(ye),Ze=sf(m,()=>new tI(se,i));return $.register(Ze),{destroy:ye}}function bw(i,c){!c&&Wv();const m=c?.injector??ti(Fa);if(!wd(m))return eI;ks("NgAfterNextRender");const T=m.get(s0),$=T.handler??=new tE,se=c?.phase??wf.MixedReadWrite,ye=()=>{$.unregister(Ze),Te()},Te=m.get(Cm).onDestroy(ye),Ze=sf(m,()=>new tI(se,()=>{ye(),i()}));return $.register(Ze),{destroy:ye}}class tI{constructor(c,m){this.phase=c,this.callbackFn=m,this.zone=ti(Ps),this.errorHandler=ti(Rl,{optional:!0}),ti(_p,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(c){this.errorHandler?.handleError(c)}}}class tE{constructor(){this.executingCallbacks=!1,this.buckets={[wf.EarlyRead]:new Set,[wf.Write]:new Set,[wf.MixedReadWrite]:new Set,[wf.Read]:new Set},this.deferredCallbacks=new Set}register(c){(this.executingCallbacks?this.deferredCallbacks:this.buckets[c.phase]).add(c)}unregister(c){this.buckets[c.phase].delete(c),this.deferredCallbacks.delete(c)}execute(){this.executingCallbacks=!0;for(const c of Object.values(this.buckets))for(const m of c)m.invoke();this.executingCallbacks=!1;for(const c of this.deferredCallbacks)this.buckets[c.phase].add(c);this.deferredCallbacks.clear()}destroy(){for(const c of Object.values(this.buckets))c.clear();this.deferredCallbacks.clear()}}let s0=(()=>{class i{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const m=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const T of m)T()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=bi({token:i,providedIn:"root",factory:()=>new i})}return i})();function hh(i){return!!pa(i)}function c0(i,c,m){let T=m?i.styles:null,$=m?i.classes:null,se=0;if(null!==c)for(let ye=0;ye<c.length;ye++){const Te=c[ye];"number"==typeof Te?se=Te:1==se?$=Yf($,Te):2==se&&(T=Yf(T,Te+": "+c[++ye]+";"))}m?i.styles=T:i.stylesWithoutHost=T,m?i.classes=$:i.classesWithoutHost=$}class J6 extends o0{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const m=Bi(c);return new xp(m,this.ngModule)}}function ww(i){const c=[];for(const m in i){if(!i.hasOwnProperty(m))continue;const T=i[m];void 0!==T&&c.push({propName:Array.isArray(T)?T[0]:T,templateName:m})}return c}class xp extends KD{get inputs(){const c=this.componentDef,m=c.inputTransforms,T=ww(c.inputs);if(null!==m)for(const $ of T)m.hasOwnProperty($.propName)&&($.transform=m[$.propName]);return T}get outputs(){return ww(this.componentDef.outputs)}constructor(c,m){super(),this.componentDef=c,this.ngModule=m,this.componentType=c.type,this.selector=function Mn(i){return i.map(on).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!m}create(c,m,T,$){const se=k(null);try{let ye=($=$||this.ngModule)instanceof Jd?$:$?.injector;ye&&null!==this.componentDef.getStandaloneInjector&&(ye=this.componentDef.getStandaloneInjector(ye)||ye);const Te=ye?new np(c,ye):c,Ze=Te.get(vw,null);if(null===Ze)throw new Sr(407,!1);const bt=Te.get(TP,null),An={rendererFactory:Ze,sanitizer:bt,inlineEffectRunner:null,afterRenderEventManager:Te.get(s0,null),changeDetectionScheduler:Te.get(_p,null)},On=Ze.createRenderer(null,this.componentDef),Hn=this.componentDef.selectors[0][0]||"div",cr=T?function dP(i,c,m,T){const se=T.get(TS,!1)||m===Ml.ShadowDom,ye=i.selectRootElement(c,se);return function lP(i){WC(i)}(ye),ye}(On,T,this.componentDef.encapsulation,Te):fy(On,Hn,function kP(i){const c=i.toLowerCase();return"svg"===c?Fg:"math"===c?"math":null}(Hn));let Tr=512;this.componentDef.signals?Tr|=4096:this.componentDef.onPush||(Tr|=16);let Pr=null;null!==cr&&(Pr=_S(cr,Te,!0));const hr=Bl(0,null,null,1,0,null,null,null,null,null,null),fi=qb(null,hr,null,Tr,null,null,An,On,Te,null,Pr);let $o,Uo;BM(fi);try{const Ba=this.componentDef;let ea,Lh=null;Ba.findHostDirectiveDefs?(ea=[],Lh=new Map,Ba.findHostDirectiveDefs(Ba,ea,Lh),ea.push(Ba)):ea=[Ba];const Q_=function rE(i,c){const m=i[Or],T=Ri;return i[T]=c,Ym(m,T,2,"#host",null)}(fi,cr),Hf=function iE(i,c,m,T,$,se,ye){const Te=$[Or];!function oI(i,c,m,T){for(const $ of i)c.mergedAttrs=Wh(c.mergedAttrs,$.hostAttrs);null!==c.mergedAttrs&&(c0(c,c.mergedAttrs,!0),null!==m&&Jb(T,m,c))}(T,i,c,ye);let Ze=null;null!==c&&(Ze=_S(c,$[Ca]));const bt=se.rendererFactory.createRenderer(c,m);let Rt=16;m.signals?Rt=4096:m.onPush&&(Rt=64);const un=qb($,lD(m),null,Rt,$[i.index],i,se,bt,null,null,Ze);return Te.firstCreatePass&&C2(Te,i,T.length-1),pp($,un),$[i.index]=un}(Q_,cr,Ba,ea,fi,An,On);Uo=$g(hr,Ri),cr&&function aI(i,c,m,T){if(T)fu(i,m,["ng-version","18.0.4"]);else{const{attrs:$,classes:se}=function Qn(i){const c=[],m=[];let T=1,$=2;for(;T<i.length;){let se=i[T];if("string"==typeof se)2===$?""!==se&&c.push(se,i[++T]):8===$&&m.push(se);else{if(!Rd($))break;$=se}T++}return{attrs:c,classes:m}}(c.selectors[0]);$&&fu(i,m,$),se&&se.length>0&&sD(i,m,se.join(" "))}}(On,Ba,cr,T),void 0!==m&&function gc(i,c,m){const T=i.projection=[];for(let $=0;$<c.length;$++){const se=m[$];T.push(null!=se?Array.from(se):null)}}(Uo,this.ngContentSelectors,m),$o=function sI(i,c,m,T,$,se){const ye=hs(),Te=$[Or],Ze=qc(ye,$);uD(Te,$,ye,m,null,T);for(let Rt=0;Rt<m.length;Rt++)Nc(rp($,Te,ye.directiveStart+Rt,ye),$);hD(Te,$,ye),Ze&&Nc(Ze,$);const bt=rp($,Te,ye.directiveStart+ye.componentOffset,ye);if(i[Fs]=$[Fs]=bt,null!==se)for(const Rt of se)Rt(bt,c);return Qb(Te,ye,$),bt}(Hf,Ba,ea,Lh,fi,[cI]),O2(hr,fi,null)}finally{B1()}return new PP(this.componentType,$o,ff(Uo,fi),fi,Uo)}finally{k(se)}}}class PP extends $D{constructor(c,m,T,$,se){super(),this.location=T,this._rootLView=$,this._tNode=se,this.previousInputValues=null,this.instance=m,this.hostView=this.changeDetectorRef=new vy($,void 0,!1),this.componentType=c}setInput(c,m){const T=this._tNode.inputs;let $;if(null!==T&&($=T[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),m))return;const se=this._rootLView;mD(se[Or],se,$,c,m),this.previousInputValues.set(c,m),yy(Nd(this._tNode.index,se),1)}}get injector(){return new Pa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function cI(){const i=hs();sb(lr()[Or],i)}let ph=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=Ay}return i})();function Ay(){return l0(hs(),lr())}const _w=ph,d0=class extends _w{constructor(c,m,T){super(),this._lContainer=c,this._hostTNode=m,this._hostLView=T}get element(){return ff(this._hostTNode,this._hostLView)}get injector(){return new Pa(this._hostTNode,this._hostLView)}get parentInjector(){const c=fb(this._hostTNode,this._hostLView);if(j1(c)){const m=Dm(c,this._hostLView),T=Yg(c);return new Pa(m[Or].data[T+8],m)}return new Pa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const m=Ew(this._lContainer);return null!==m&&m[c]||null}get length(){return this._lContainer.length-ga}createEmbeddedView(c,m,T){let $,se;"number"==typeof T?$=T:null!=T&&($=T.index,se=T.injector);const ye=wp(this._lContainer,c.ssrId),Te=c.createEmbeddedViewImpl(m||{},se,ye);return this.insertImpl(Te,$,mp(this._hostTNode,ye)),Te}createComponent(c,m,T,$,se){const ye=c&&!function Rg(i){return"function"==typeof i}(c);let Te;if(ye)Te=m;else{const Hn=m||{};Te=Hn.index,T=Hn.injector,$=Hn.projectableNodes,se=Hn.environmentInjector||Hn.ngModuleRef}const Ze=ye?c:new xp(Bi(c)),bt=T||this.parentInjector;if(!se&&null==Ze.ngModule){const cr=(ye?bt:this.parentInjector).get(Jd,null);cr&&(se=cr)}const Rt=Bi(Ze.componentType??{}),un=wp(this._lContainer,Rt?.id??null),On=Ze.create(bt,$,un?.firstChild??null,se);return this.insertImpl(On.hostView,Te,mp(this._hostTNode,un)),On}insert(c,m){return this.insertImpl(c,m,!0)}insertImpl(c,m,T){const $=c._lView;if(function g3(i){return Wa(i[ia])}($)){const Te=this.indexOf(c);if(-1!==Te)this.detach(Te);else{const Ze=$[ia],bt=new d0(Ze,Ze[ma],Ze[ia]);bt.detach(bt.indexOf(c))}}const se=this._adjustIndex(m),ye=this._lContainer;return gp(ye,$,se,T),c.attachToViewContainerRef(),Xd(xw(ye),se,c),c}move(c,m){return this.insert(c,m)}indexOf(c){const m=Ew(this._lContainer);return null!==m?m.indexOf(c):-1}remove(c){const m=this._adjustIndex(c,-1),T=hy(this._lContainer,m);T&&(Mg(xw(this._lContainer),m),Wb(T[Or],T))}detach(c){const m=this._adjustIndex(c,-1),T=hy(this._lContainer,m);return T&&null!=Mg(xw(this._lContainer),m)?new vy(T):null}_adjustIndex(c,m=0){return c??this.length+m}};function Ew(i){return i[8]}function xw(i){return i[8]||(i[8]=[])}function l0(i,c){let m;const T=c[i.index];return Wa(T)?m=T:(m=iw(T,c,null,i),c[i.index]=m,pp(c,m)),q6(m,c,i,T),new d0(m,i,c)}let q6=function Ld(i,c,m,T){if(i[Qd])return;let $;$=8&m.type?ts(T):function Mp(i,c){const m=i[eo],T=m.createComment(""),$=qc(c,i);return fp(m,Zb(m,$),T,function $C(i,c){return i.nextSibling(c)}(m,$),!1),T}(c,m),i[Qd]=$},oE=()=>!1;class aE{constructor(c){this.queryList=c,this.matches=null}clone(){return new aE(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lc{constructor(c=[]){this.queries=c}createEmbeddedView(c){const m=c.queries;if(null!==m){const T=null!==c.contentQueries?c.contentQueries[0]:m.length,$=[];for(let se=0;se<T;se++){const ye=m.getByIndex(se);$.push(this.queries[ye.indexInDeclarationView].clone())}return new Lc($)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}finishViewCreation(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let m=0;m<this.queries.length;m++)null!==Py(c,m).matches&&this.queries[m].setDirty()}}class Ll{constructor(c,m,T=null){this.flags=m,this.read=T,this.predicate="string"==typeof c?function ky(i){return i.split(",").map(c=>c.trim())}(c):c}}class kr{constructor(c=[]){this.queries=c}elementStart(c,m){for(let T=0;T<this.queries.length;T++)this.queries[T].elementStart(c,m)}elementEnd(c){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(c)}embeddedTView(c){let m=null;for(let T=0;T<this.length;T++){const $=null!==m?m.length:0,se=this.getByIndex(T).embeddedTView(c,$);se&&(se.indexInDeclarationView=T,null!==m?m.push(se):m=[se])}return null!==m?new kr(m):null}template(c,m){for(let T=0;T<this.queries.length;T++)this.queries[T].template(c,m)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class cE{constructor(c,m=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=m}elementStart(c,m){this.isApplyingToNode(m)&&this.matchTNode(c,m)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,m){this.elementStart(c,m)}embeddedTView(c,m){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,m),new cE(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1&~this.metadata.flags){const m=this._declarationNodeIndex;let T=c.parent;for(;null!==T&&8&T.type&&T.index!==m;)T=T.parent;return m===(null!==T?T.index:-1)}return this._appliesToNextNode}matchTNode(c,m){const T=this.metadata.predicate;if(Array.isArray(T))for(let $=0;$<T.length;$++){const se=T[$];this.matchTNodeWithReadOption(c,m,Ul(m,se)),this.matchTNodeWithReadOption(c,m,pb(m,c,se,!1,!1))}else T===e0?4&m.type&&this.matchTNodeWithReadOption(c,m,-1):this.matchTNodeWithReadOption(c,m,pb(m,c,T,!1,!1))}matchTNodeWithReadOption(c,m,T){if(null!==T){const $=this.metadata.read;if(null!==$)if($===lh||$===ph||$===e0&&4&m.type)this.addMatch(m.index,-2);else{const se=pb(m,c,$,!1,!1);null!==se&&this.addMatch(m.index,se)}else this.addMatch(m.index,T)}}addMatch(c,m){null===this.matches?this.matches=[c,m]:this.matches.push(c,m)}}function Ul(i,c){const m=i.localNames;if(null!==m)for(let T=0;T<m.length;T+=2)if(m[T]===c)return m[T+1];return null}function Q6(i,c,m,T){return-1===m?function Ud(i,c){return 11&i.type?ff(i,c):4&i.type?lw(i,c):null}(c,i):-2===m?function od(i,c,m){return m===lh?ff(c,i):m===e0?lw(c,i):m===ph?l0(c,i):void 0}(i,c,T):rp(i,i[Or],m,c)}function dI(i,c,m,T){const $=c[af].queries[T];if(null===$.matches){const se=i.data,ye=m.matches,Te=[];for(let Ze=0;null!==ye&&Ze<ye.length;Ze+=2){const bt=ye[Ze];Te.push(bt<0?null:Q6(c,se[bt],ye[Ze+1],m.metadata.read))}$.matches=Te}return $.matches}function Ki(i,c,m,T){const $=i.queries.getByIndex(m),se=$.matches;if(null!==se){const ye=dI(i,c,$,m);for(let Te=0;Te<se.length;Te+=2){const Ze=se[Te];if(Ze>0)T.push(ye[Te/2]);else{const bt=se[Te+1],Rt=c[-Ze];for(let un=ga;un<Rt.length;un++){const An=Rt[un];An[Jh]===An[ia]&&Ki(An[Or],An,bt,T)}if(null!==Rt[_m]){const un=Rt[_m];for(let An=0;An<un.length;An++){const On=un[An];Ki(On[Or],On,bt,T)}}}}}return T}function mh(i,c,m){const T=new Y1(!(4&~m));return function hP(i,c,m,T){const $=pD(c);$.push(m),i.firstCreatePass&&ow(i).push(T,$.length-1)}(i,c,T,T.destroy),(c[af]??=new Lc).queries.push(new aE(T))-1}function dE(i,c,m){null===i.queries&&(i.queries=new kr),i.queries.track(new cE(c,m))}function Py(i,c){return i.queries.getByIndex(c)}function lI(i,c){const m=i[Or],T=Py(m,c);return T.crossesNgTemplate?Ki(m,i,c,[]):dI(m,i,T,c)}function to(i){return"function"==typeof i&&void 0!==i[b]}function Sw(i,c){ks("NgSignals");const m=function v(i){const c=Object.create(we);c.value=i;const m=()=>(A(c),c.value);return m[b]=c,m}(i),T=m[b];return c?.equal&&(T.equal=c.equal),m.set=$=>ee(T,$),m.update=$=>function le(i,c){Q()||L(),ee(i,c(i.value))}(T,$),m.asReadonly=Ry.bind(m),m}function Ry(){const i=this[b];if(void 0===i.readonlyFn){const c=()=>this();c[b]=i,i.readonlyFn=c}return i.readonlyFn}function Uc(i){return to(i)&&"function"==typeof i.set}function zi(i){const c=Object.create(Da),m=new tS;function T(){return A(c),Hi(c.value),c.value}return c.value=i,T[b]=c,T.asReadonly=Ry.bind(T),T.set=$=>{c.equal(c.value,$)||(ee(c,$),m.emit($))},T.update=$=>{Hi(c.value),T.set($(c.value))},T.subscribe=m.subscribe.bind(m),T.destroyRef=m.destroyRef,T}function Hi(i){if(i===Io)throw new Sr(952,!1)}function Wi(i){return zi(i)}const Yn=(Wi.required=function Zi(){return zi(Io)},Wi);function Tw(i){let c=function h0(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),m=!0;const T=[i];for(;c;){let $;if(Il(i))$=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Sr(903,!1);$=c.\u0275dir}if($){if(m){T.push($);const ye=i;ye.inputs=Cw(i.inputs),ye.inputTransforms=Cw(i.inputTransforms),ye.declaredInputs=Cw(i.declaredInputs),ye.outputs=Cw(i.outputs);const Te=$.hostBindings;Te&&yI(i,Te);const Ze=$.viewQuery,bt=$.contentQueries;if(Ze&&mI(i,Ze),bt&&gI(i,bt),Aw(i,$),la(i.outputs,$.outputs),Il($)&&$.data.animation){const Rt=i.data;Rt.animation=(Rt.animation||[]).concat($.data.animation)}}const se=$.features;if(se)for(let ye=0;ye<se.length;ye++){const Te=se[ye];Te&&Te.ngInherit&&Te(i),Te===Tw&&(m=!1)}}c=Object.getPrototypeOf(c)}!function uE(i){let c=0,m=null;for(let T=i.length-1;T>=0;T--){const $=i[T];$.hostVars=c+=$.hostVars,$.hostAttrs=Wh($.hostAttrs,m=Wh(m,$.hostAttrs))}}(T)}function Aw(i,c){for(const m in c.inputs){if(!c.inputs.hasOwnProperty(m)||i.inputs.hasOwnProperty(m))continue;const T=c.inputs[m];if(void 0!==T&&(i.inputs[m]=T,i.declaredInputs[m]=c.declaredInputs[m],null!==c.inputTransforms)){const $=Array.isArray(T)?T[0]:T;if(!c.inputTransforms.hasOwnProperty($))continue;i.inputTransforms??={},i.inputTransforms[$]=c.inputTransforms[$]}}}function Cw(i){return i===za?{}:i===Fo?[]:i}function mI(i,c){const m=i.viewQuery;i.viewQuery=m?(T,$)=>{c(T,$),m(T,$)}:c}function gI(i,c){const m=i.contentQueries;i.contentQueries=m?(T,$,se)=>{c(T,$,se),m(T,$,se)}:c}function yI(i,c){const m=i.hostBindings;i.hostBindings=m?(T,$)=>{c(T,$),m(T,$)}:c}function fE(i){const c=i.inputConfig,m={};for(const T in c)if(c.hasOwnProperty(T)){const $=c[T];Array.isArray($)&&$[3]&&(m[T]=$[3])}i.inputTransforms=m}class vh{}class wI{}function d5(i,c){return new _c(i,c??null,[])}class _c extends vh{constructor(c,m,T){super(),this._parent=m,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new J6(this);const $=pa(c);this._bootstrapComponents=rd($.bootstrap),this._r3Injector=QM(c,m,[{provide:vh,useValue:this},{provide:o0,useValue:this.componentFactoryResolver},...T],Cs(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class bh extends wI{constructor(c){super(),this.moduleType=c}create(c){return new _c(this.moduleType,c,[])}}class Oy extends vh{constructor(c){super(),this.componentFactoryResolver=new J6(this),this.instance=null;const m=new mm([...c.providers,{provide:vh,useValue:this},{provide:o0,useValue:this.componentFactoryResolver}],c.parent||Pg(),c.debugName,new Set(["environment"]));this.injector=m,c.runEnvironmentInitializers&&m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function ja(i,c,m=null){return new Oy({providers:i,parent:c,debugName:m,runEnvironmentInitializers:!0}).injector}function Rw(i){return!!p0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function p0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Bo(i,c,m){return i[c]=m}function cs(i,c,m){return!Object.is(i[c],m)&&(i[c]=m,!0)}function m0(i,c,m,T,$,se,ye,Te,Ze,bt){const Rt=m+Ri,un=c.firstCreatePass?function h5(i,c,m,T,$,se,ye,Te,Ze){const bt=c.consts,Rt=Ym(c,i,4,ye||null,Te||null);nw(c,m,Rt,bd(bt,Ze)),sb(c,Rt);const un=Rt.tView=Bl(2,Rt,T,$,se,c.directiveRegistry,c.pipeRegistry,null,c.schemas,bt,null);return null!==c.queries&&(c.queries.template(c,Rt),un.queries=c.queries.embeddedTView(Rt)),Rt}(Rt,c,i,T,$,se,ye,Te,Ze):c.data[Rt];_u(un,!1);const An=$l(c,i,un,m);Gg()&&Yb(c,i,An,un),Nc(An,i);const On=iw(An,i,An,un);return i[Rt]=On,pp(i,On),function Cy(i,c,m){return oE(i,c,m)}(On,un,i),Jv(un)&&ew(c,i,un),null!=Ze&&T2(i,un,bt),un}function Ow(i,c,m,T,$,se,ye,Te){const Ze=lr(),bt=So();return m0(Ze,bt,i,c,m,T,$,bd(bt.consts,se),ye,Te),Ow}let $l=function g0(i,c,m,T){return Eu(!0),c[eo].createComment("")};function xc(i,c,m,T){const $=lr();return cs($,Cl(),c)&&(So(),Du(js(),$,i,c,m,T)),xc}function Pu(i,c,m,T){return cs(i,Cl(),m)?c+gr(m)+T:uo}function C0(i,c){return i<<17|c<<2}function Ou(i){return i>>17&32767}function k0(i){return 2|i}function Nu(i){return(131068&i)>>2}function P0(i,c){return-131069&i|c<<2}function $p(i){return 1|i}function vE(i,c,m,T){const $=i[m+1],se=null===c;let ye=T?Ou($):Nu($),Te=!1;for(;0!==ye&&(!1===Te||se);){const bt=i[ye+1];Mf(i[ye],c)&&(Te=!0,i[ye+1]=T?$p(bt):k0(bt)),ye=T?Ou(bt):Nu(bt)}Te&&(i[m+1]=T?k0($):$p($))}function Mf(i,c){return null===i||null==c||(Array.isArray(i)?i[1]:i)===c||!(!Array.isArray(i)||"string"!=typeof c)&&Aa(i,c)>=0}const zs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kp(i){return i.substring(zs.key,zs.keyEnd)}function bE(i,c){const m=zs.textEnd;return m===c?-1:(c=zs.keyEnd=function wE(i,c,m){for(;c<m&&i.charCodeAt(c)>32;)c++;return c}(i,zs.key=c,m),zc(i,c,m))}function zc(i,c,m){for(;c<m&&i.charCodeAt(c)<=32;)c++;return c}function ls(i,c,m){const T=lr();return cs(T,Cl(),c)&&id(So(),js(),T,i,c,T[eo],m,!1),ls}function O0(i,c,m,T,$){const ye=$?"class":"style";mD(i,m,c.inputs[ye],ye,T)}function Xw(i,c,m){return cl(i,c,m,!1),Xw}function Zy(i,c){return cl(i,c,null,!0),Zy}function _E(i){Hc(CI,Wl,i,!0)}function Wl(i,c){for(let m=function Wy(i){return function Yw(i){zs.key=0,zs.keyEnd=0,zs.value=0,zs.valueEnd=0,zs.textEnd=i.length}(i),bE(i,zc(i,0,zs.textEnd))}(c);m>=0;m=bE(c,m))Rc(i,Kp(c),!0)}function cl(i,c,m,T){const $=lr(),se=So(),ye=lf(2);se.firstUpdatePass&&Jw(se,i,ye,T),c!==uo&&cs($,ye,c)&&If(se,se.data[Oc()],$,$[eo],i,$[ye+1]=function e_(i,c){return null==i||""===i||("string"==typeof c?i+=c:"object"==typeof i&&(i=Cs(yf(i)))),i}(c,m),T,ye)}function Hc(i,c,m,T){const $=So(),se=lf(2);$.firstUpdatePass&&Jw($,null,se,T);const ye=lr();if(m!==uo&&cs(ye,se,m)){const Te=$.data[Oc()];if(ME(Te,T)&&!Sf($,se)){let Ze=T?Te.classesWithoutHost:Te.stylesWithoutHost;null!==Ze&&(m=Yf(Ze,m||"")),O0($,Te,ye,m,T)}else!function xE(i,c,m,T,$,se,ye,Te){$===uo&&($=Fo);let Ze=0,bt=0,Rt=0<$.length?$[0]:null,un=0<se.length?se[0]:null;for(;null!==Rt||null!==un;){const An=Ze<$.length?$[Ze+1]:void 0,On=bt<se.length?se[bt+1]:void 0;let cr,Hn=null;Rt===un?(Ze+=2,bt+=2,An!==On&&(Hn=un,cr=On)):null===un||null!==Rt&&Rt<un?(Ze+=2,Hn=Rt):(bt+=2,Hn=un,cr=On),null!==Hn&&If(i,c,m,T,Hn,cr,ye,Te),Rt=Ze<$.length?$[Ze]:null,un=bt<se.length?se[bt]:null}}($,Te,ye,ye[eo],ye[se+1],ye[se+1]=function AI(i,c,m){if(null==m||""===m)return Fo;const T=[],$=yf(m);if(Array.isArray($))for(let se=0;se<$.length;se++)i(T,$[se],!0);else if("object"==typeof $)for(const se in $)$.hasOwnProperty(se)&&i(T,se,$[se]);else"string"==typeof $&&c(T,$);return T}(i,c,m),T,se)}}function Sf(i,c){return c>=i.expandoStartIndex}function Jw(i,c,m,T){const $=i.data;if(null===$[m+1]){const se=$[Oc()],ye=Sf(i,m);ME(se,T)&&null===c&&!ye&&(c=!1),c=function Df(i,c,m,T){const $=P1(i);let se=T?c.residualClasses:c.residualStyles;if(null===$)0===(T?c.classBindings:c.styleBindings)&&(m=N0(m=Qw(null,i,c,m,T),c.attrs,T),se=null);else{const ye=c.directiveStylingLast;if(-1===ye||i[ye]!==$)if(m=Qw($,i,c,m,T),null===se){let Ze=function qw(i,c,m){const T=m?c.classBindings:c.styleBindings;if(0!==Nu(T))return i[Ou(T)]}(i,c,T);void 0!==Ze&&Array.isArray(Ze)&&(Ze=Qw(null,i,c,Ze[1],T),Ze=N0(Ze,c.attrs,T),function TI(i,c,m,T){i[Ou(m?c.classBindings:c.styleBindings)]=T}(i,c,T,Ze))}else se=function Eh(i,c,m){let T;const $=c.directiveEnd;for(let se=1+c.directiveStylingLast;se<$;se++)T=N0(T,i[se].hostAttrs,m);return N0(T,c.attrs,m)}(i,c,T)}return void 0!==se&&(T?c.residualClasses=se:c.residualStyles=se),m}($,se,c,T),function Hy(i,c,m,T,$,se){let ye=se?c.classBindings:c.styleBindings,Te=Ou(ye),Ze=Nu(ye);i[T]=m;let Rt,bt=!1;if(Array.isArray(m)?(Rt=m[1],(null===Rt||Aa(m,Rt)>0)&&(bt=!0)):Rt=m,$)if(0!==Ze){const An=Ou(i[Te+1]);i[T+1]=C0(An,Te),0!==An&&(i[An+1]=P0(i[An+1],T)),i[Te+1]=function Gw(i,c){return 131071&i|c<<17}(i[Te+1],T)}else i[T+1]=C0(Te,0),0!==Te&&(i[Te+1]=P0(i[Te+1],T)),Te=T;else i[T+1]=C0(Ze,0),0===Te?Te=T:i[Ze+1]=P0(i[Ze+1],T),Ze=T;bt&&(i[T+1]=k0(i[T+1])),vE(i,Rt,T,!0),vE(i,Rt,T,!1),function Zw(i,c,m,T,$){const se=$?i.residualClasses:i.residualStyles;null!=se&&"string"==typeof c&&Aa(se,c)>=0&&(m[T+1]=$p(m[T+1]))}(c,Rt,i,T,se),ye=C0(Te,Ze),se?c.classBindings=ye:c.styleBindings=ye}($,se,c,m,ye,T)}}function Qw(i,c,m,T,$){let se=null;const ye=m.directiveEnd;let Te=m.directiveStylingLast;for(-1===Te?Te=m.directiveStart:Te++;Te<ye&&(se=c[Te],T=N0(T,se.hostAttrs,$),se!==i);)Te++;return null!==i&&(m.directiveStylingLast=Te),T}function N0(i,c,m){const T=m?1:2;let $=-1;if(null!==c)for(let se=0;se<c.length;se++){const ye=c[se];"number"==typeof ye?$=ye:$===T&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Rc(i,ye,!!m||c[++se]))}return void 0===i?null:i}function CI(i,c,m){const T=String(c);""!==T&&!T.includes(" ")&&Rc(i,T,m)}function If(i,c,m,T,$,se,ye,Te){if(!(3&c.type))return;const Ze=i.data,bt=Ze[Te+1],Rt=function cd(i){return!(1&~i)}(bt)?Bu(Ze,c,m,$,Nu(bt),ye):void 0;B0(Rt)||(B0(se)||function yE(i){return!(2&~i)}(bt)&&(se=Bu(Ze,null,m,$,Te,ye)),function cP(i,c,m,T,$){if(c)$?i.addClass(m,T):i.removeClass(m,T);else{let se=-1===T.indexOf("-")?void 0:zm.DashCase;null==$?i.removeStyle(m,T,se):("string"==typeof $&&$.endsWith("!important")&&($=$.slice(0,-10),se|=zm.Important),i.setStyle(m,T,$,se))}}(T,ye,jg(Oc(),m),$,se))}function Bu(i,c,m,T,$,se){const ye=null===c;let Te;for(;$>0;){const Ze=i[$],bt=Array.isArray(Ze),Rt=bt?Ze[1]:Ze,un=null===Rt;let An=m[$+1];An===uo&&(An=un?Fo:void 0);let On=un?xl(An,T):Rt===T?An:void 0;if(bt&&!B0(On)&&(On=xl(Ze,T)),B0(On)&&(Te=On,ye))return Te;const Hn=i[$+1];$=ye?Ou(Hn):Nu(Hn)}if(null!==c){let Ze=se?c.residualClasses:c.residualStyles;null!=Ze&&(Te=xl(Ze,T))}return Te}function B0(i){return void 0!==i}function ME(i,c){return!!(i.flags&(c?8:16))}function Gl(i,c,m){Hc(Rc,Wl,Pu(lr(),i,c,m),!0)}class PI{destroy(c){}updateValue(c,m){}swap(c,m){const T=Math.min(c,m),$=Math.max(c,m),se=this.detach($);if($-T>1){const ye=this.detach(T);this.attach(T,se),this.attach($,ye)}else this.attach(T,se)}move(c,m){this.attach(m,this.detach(c))}}function i_(i,c,m,T,$){return i===m&&Object.is(c,T)?1:Object.is($(i,c),$(m,T))?-1:0}function _a(i,c,m,T){return!(void 0===c||!c.has(T)||(i.attach(m,c.get(T)),c.delete(T),0))}function Zl(i,c,m,T,$){if(_a(i,c,T,m(T,$)))i.updateValue(T,$);else{const se=i.create(T,$);i.attach(T,se)}}function IE(i,c,m,T){const $=new Set;for(let se=c;se<=m;se++)$.add(T(se,i.at(se)));return $}class Yy{constructor(){this.kvMap=new Map,this._vMap=void 0}has(c){return this.kvMap.has(c)}delete(c){if(!this.has(c))return!1;const m=this.kvMap.get(c);return void 0!==this._vMap&&this._vMap.has(m)?(this.kvMap.set(c,this._vMap.get(m)),this._vMap.delete(m)):this.kvMap.delete(c),!0}get(c){return this.kvMap.get(c)}set(c,m){if(this.kvMap.has(c)){let T=this.kvMap.get(c);void 0===this._vMap&&(this._vMap=new Map);const $=this._vMap;for(;$.has(T);)T=$.get(T);$.set(T,m)}else this.kvMap.set(c,m)}forEach(c){for(let[m,T]of this.kvMap)if(c(T,m),void 0!==this._vMap){const $=this._vMap;for(;$.has(T);)T=$.get(T),c(T,m)}}}function o_(i,c){ks("NgControlFlow");const m=lr(),T=Cl(),$=m[T]!==uo?m[T]:-1,se=-1!==$?Jy(m,Ri+$):void 0;if(cs(m,T,i)){const Te=k(null);try{if(void 0!==se&&N2(se,0),-1!==i){const Ze=Ri+i,bt=Jy(m,Ze),Rt=s_(m[Or],Ze),un=wp(bt,Rt.tView.ssrId);gp(bt,Jm(m,Rt,c,{dehydratedView:un}),0,mp(Rt,un))}}finally{k(Te)}}else if(void 0!==se){const Te=qm(se,0);void 0!==Te&&(Te[Fs]=c)}}class OI{constructor(c,m,T){this.lContainer=c,this.$implicit=m,this.$index=T}get $count(){return this.lContainer.length-ga}}function xh(i){return i}function Xy(i,c){return c}class TE{constructor(c,m,T){this.hasEmptyBlock=c,this.trackByFn=m,this.liveCollection=T}}function AE(i,c,m,T,$,se,ye,Te,Ze,bt,Rt,un,An){ks("NgControlFlow");const On=lr(),Hn=So(),cr=void 0!==Ze,Tr=lr(),Pr=Te?ye.bind(Tr[Gs][Fs]):ye,hr=new TE(cr,Pr);Tr[Ri+i]=hr,m0(On,Hn,i+1,c,m,T,$,bd(Hn.consts,se)),cr&&m0(On,Hn,i+2,Ze,bt,Rt,un,bd(Hn.consts,An))}class LI extends PI{constructor(c,m,T){super(),this.lContainer=c,this.hostLView=m,this.templateTNode=T,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ga}at(c){return this.getLView(c)[Fs].$implicit}attach(c,m){const T=m[Jc];this.needsIndexUpdate||=c!==this.length,gp(this.lContainer,m,c,mp(this.templateTNode,T))}detach(c){return this.needsIndexUpdate||=c!==this.length-1,function UI(i,c){return hy(i,c)}(this.lContainer,c)}create(c,m){const T=wp(this.lContainer,this.templateTNode.tView.ssrId),$=Jm(this.hostLView,this.templateTNode,new OI(this.lContainer,m,c),{dehydratedView:T});return this.operationsCounter?.recordCreate(),$}destroy(c){Wb(c[Or],c),this.operationsCounter?.recordDestroy()}updateValue(c,m){this.getLView(c)[Fs].$implicit=m}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let c=0;c<this.length;c++)this.getLView(c)[Fs].$index=c}getLView(c){return function FI(i,c){return qm(i,c)}(this.lContainer,c)}}function zp(i){const c=k(null),m=Oc();try{const T=lr(),$=T[Or],se=T[m],ye=m+1,Te=Jy(T,ye);if(void 0===se.liveCollection){const bt=s_($,ye);se.liveCollection=new LI(Te,T,bt)}else se.liveCollection.reset();const Ze=se.liveCollection;if(function RI(i,c,m){let T,$,se=0,ye=i.length-1;if(Array.isArray(c)){let Ze=c.length-1;for(;se<=ye&&se<=Ze;){const bt=i.at(se),Rt=c[se],un=i_(se,bt,se,Rt,m);if(0!==un){un<0&&i.updateValue(se,Rt),se++;continue}const An=i.at(ye),On=c[Ze],Hn=i_(ye,An,Ze,On,m);if(0!==Hn){Hn<0&&i.updateValue(ye,On),ye--,Ze--;continue}const cr=m(se,bt),Tr=m(ye,An),Pr=m(se,Rt);if(Object.is(Pr,Tr)){const hr=m(Ze,On);Object.is(hr,cr)?(i.swap(se,ye),i.updateValue(ye,On),Ze--,ye--):i.move(ye,se),i.updateValue(se,Rt),se++}else if(T??=new Yy,$??=IE(i,se,ye,m),_a(i,T,se,Pr))i.updateValue(se,Rt),se++,ye++;else if($.has(Pr))T.set(cr,i.detach(se)),ye--;else{const hr=i.create(se,c[se]);i.attach(se,hr),se++,ye++}}for(;se<=Ze;)Zl(i,T,m,se,c[se]),se++}else if(null!=c){const Ze=c[Symbol.iterator]();let bt=Ze.next();for(;!bt.done&&se<=ye;){const Rt=i.at(se),un=bt.value,An=i_(se,Rt,se,un,m);if(0!==An)An<0&&i.updateValue(se,un),se++,bt=Ze.next();else{T??=new Yy,$??=IE(i,se,ye,m);const On=m(se,un);if(_a(i,T,se,On))i.updateValue(se,un),se++,ye++,bt=Ze.next();else if($.has(On)){const Hn=m(se,Rt);T.set(Hn,i.detach(se)),ye--}else i.attach(se,i.create(se,un)),se++,ye++,bt=Ze.next()}}for(;!bt.done;)Zl(i,T,m,i.length,bt.value),bt=Ze.next()}for(;se<=ye;)i.destroy(i.detach(ye--));T?.forEach(Ze=>{i.destroy(Ze)})}(Ze,i,se.trackByFn),Ze.updateIndexes(),se.hasEmptyBlock){const bt=Cl(),Rt=0===Ze.length;if(cs(T,bt,Rt)){const un=m+2,An=Jy(T,un);if(Rt){const On=s_($,un),Hn=wp(An,On.tView.ssrId);gp(An,Jm(T,On,void 0,{dehydratedView:Hn}),0,mp(On,Hn))}else N2(An,0)}}}finally{k(c)}}function Jy(i,c){return i[c]}function s_(i,c){return $g(i,c)}function qy(i,c,m,T){const $=lr(),se=So(),ye=Ri+i,Te=$[eo],Ze=se.firstCreatePass?function jI(i,c,m,T,$,se){const ye=c.consts,Ze=Ym(c,i,2,T,bd(ye,$));return nw(c,m,Ze,bd(ye,se)),null!==Ze.attrs&&c0(Ze,Ze.attrs,!1),null!==Ze.mergedAttrs&&c0(Ze,Ze.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,Ze),Ze}(ye,se,$,c,m,T):se.data[ye],bt=CE(se,$,Ze,Te,c,i);$[ye]=bt;const Rt=Jv(Ze);return _u(Ze,!0),Jb(Te,bt,Ze),!function sd(i){return!(32&~i.flags)}(Ze)&&Gg()&&Yb(se,$,bt,Ze),0===function m8(){return Ji.lFrame.elementDepthCount}()&&Nc(bt,$),function g8(){Ji.lFrame.elementDepthCount++}(),Rt&&(ew(se,$,Ze),Qb(se,Ze,$)),null!==T&&T2($,Ze),qy}function Lu(){let i=hs();tb()?Hg():(i=i.parent,_u(i,!1));const c=i;(function v8(i){return Ji.skipHydrationRootTNode===i})(c)&&function _8(){Ji.skipHydrationRootTNode=null}(),function y8(){Ji.lFrame.elementDepthCount--}();const m=So();return m.firstCreatePass&&(sb(m,i),w1(i)&&m.queries.elementEnd(i)),null!=c.classesWithoutHost&&function di(i){return!!(8&i.flags)}(c)&&O0(m,c,lr(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Zg(i){return!!(16&i.flags)}(c)&&O0(m,c,lr(),c.stylesWithoutHost,!1),Lu}function a_(i,c,m,T){return qy(i,c,m,T),Lu(),a_}let CE=(i,c,m,T,$,se)=>(Eu(!0),fy(T,$,function LM(){return Ji.lFrame.currentNamespace}()));function Qy(i,c,m){const T=lr(),$=So(),se=i+Ri,ye=$.firstCreatePass?function Fd(i,c,m,T,$){const se=c.consts,ye=bd(se,T),Te=Ym(c,i,8,"ng-container",ye);return null!==ye&&c0(Te,ye,!0),nw(c,m,Te,bd(se,$)),null!==c.queries&&c.queries.elementStart(c,Te),Te}(se,$,T,c,m):$.data[se];_u(ye,!0);const Te=RE($,T,ye,i);return T[se]=Te,Gg()&&Yb($,T,Te,ye),Nc(Te,T),Jv(ye)&&(ew($,T,ye),Qb($,ye,T)),null!=m&&T2(T,ye),Qy}function ev(){let i=hs();const c=So();return tb()?Hg():(i=i.parent,_u(i,!1)),c.firstCreatePass&&(sb(c,i),w1(i)&&c.queries.elementEnd(i)),ev}function c_(i,c,m){return Qy(i,c,m),ev(),c_}let RE=(i,c,m,T)=>(Eu(!0),Hb(c[eo],""));function dd(){return lr()}function U0(i,c,m){const T=lr();return cs(T,Cl(),c)&&id(So(),js(),T,i,c,T[eo],m,!0),U0}function tv(i,c,m){const T=lr();if(cs(T,Cl(),c)){const se=So(),ye=js();id(se,ye,T,i,c,sw(P1(se.data),ye,T),m,!0)}return tv}const Af=void 0;var ec=["en",[["a","p"],["AM","PM"],Af],[["AM","PM"],Af,Af],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Af,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Af,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Af,"{1} 'at' {0}",Af],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function d_(i){const m=Math.floor(Math.abs(i)),T=i.toString().replace(/^[^.]*\.?/,"").length;return 1===m&&0===T?1:5}];let Hp={};function Yl(i){const c=function nv(i){return i.toLowerCase().replace(/_/g,"-")}(i);let m=Gp(c);if(m)return m;const T=c.split("-")[0];if(m=Gp(T),m)return m;if("en"===T)return ec;throw new Sr(701,!1)}function Mh(i){return Yl(i)[kf.PluralCase]}function Gp(i){return i in Hp||(Hp[i]=ss.ng&&ss.ng.common&&ss.ng.common.locales&&ss.ng.common.locales[i]),Hp[i]}var kf=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(kf||{});const ll="en-US",Pf={marker:"element"},Xl={marker:"ICU"};var Ea=function(i){return i[i.SHIFT=2]="SHIFT",i[i.APPEND_EAGERLY=1]="APPEND_EAGERLY",i[i.COMMENT=2]="COMMENT",i}(Ea||{});let Uu=ll;let $0=(i,c,m,T)=>(Eu(!0),function NE(i,c,m){const T=i[eo];switch(m){case Node.COMMENT_NODE:return Hb(T,c);case Node.TEXT_NODE:return rl(T,c);case Node.ELEMENT_NODE:return fy(T,c,null)}}(i,m,T));function Rf(){const i=[];let m,T,c=-1;function se(Te,Ze){c=0;const bt=function fw(i,c){const m=c[i.currentCaseLViewIndex];return null===m?m:m<0?~m:m}(Te,Ze);T=null!==bt?Te.remove[bt]:Fo}function ye(){if(c<T.length){const Te=T[c++];return Te>0?m[Te]:(i.push(c,T),se(m[Or].data[~Te],m),ye())}return 0===i.length?null:(T=i.pop(),c=i.pop(),ye())}return function $(Te,Ze){for(m=Ze;i.length;)i.pop();return se(Te.value,Ze),ye}}const ul=/\ufffd(\d+):?\d*\ufffd/gi,y5=/\ufffd(\d+)\ufffd/,ZI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ov="\ufffd",v5=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,b5=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,w5=/\uE500/g;function FE(i,c,m,T,$,se,ye){const Te=Xm(i,T,1,null);let Ze=Te<<Ea.SHIFT,bt=zg();c===bt&&(bt=null),null===bt&&(Ze|=Ea.APPEND_EAGERLY),ye&&(Ze|=Ea.COMMENT,function _2(i){void 0===zb&&(zb=i())}(Rf)),$.push(Ze,null===se?"":se);const Rt=I2(i,Te,ye?32:1,null===se?"":se,null);Tu(m,Rt);const un=Rt.index;return _u(Rt,!1),null!==bt&&c!==bt&&function T6(i,c){let m=i.insertBeforeIndex;null===m?(tD(xD,MD),m=i.insertBeforeIndex=[null,c]):(at(Array.isArray(m),!0,"Expecting array here"),m.push(c))}(bt,un),Rt}function G0(i,c,m,T,$,se,ye,Te){const Ze=Te.match(ul),Rt=FE(c,m,T,ye,$,Ze?null:Te,!1).index;Ze&&Wc(se,Te,Rt,null,0,null),i.push({kind:0,index:Rt})}function Wc(i,c,m,T,$,se){const ye=i.length,Te=ye+1;i.push(null,null);const Ze=ye+2,bt=c.split(ul);let Rt=0;for(let un=0;un<bt.length;un++){const An=bt[un];if(1&un){const On=$+parseInt(An,10);i.push(-1-On),Rt|=JI(On)}else""!==An&&i.push(An)}return i.push(m<<2|(T?1:0)),T&&i.push(T,se),i[ye]=Rt,i[Te]=i.length-Ze,Rt}function JI(i){return 1<<Math.min(i,31)}function qI(i){let c,se,m="",T=0,$=!1;for(;null!==(c=v5.exec(i));)$?c[0]===`${ov}/*${se}${ov}`&&(T=c.index,$=!1):(m+=i.substring(T,c.index+c[0].length),se=c[1],$=!0);return m+=i.slice(T),m}function QI(i,c,m,T,$,se,ye){let Te=0;const Ze={type:se.type,currentCaseLViewIndex:Xm(c,m,1,null),anchorIdx:ye,cases:[],create:[],remove:[],update:[]};(function eT(i,c,m){i.push(JI(c.mainBinding),2,-1-c.mainBinding,m<<2|2)})(T,se,ye),function I6(i,c,m){const T=i.data[c];null===T?i.data[c]=m:T.value=m}(c,ye,Ze);const bt=se.values,Rt=[];for(let un=0;un<bt.length;un++){const An=bt[un],On=[];for(let cr=0;cr<An.length;cr++){const Tr=An[cr];if("string"!=typeof Tr){const Pr=On.push(Tr)-1;An[cr]=`\x3c!--\ufffd${Pr}\ufffd--\x3e`}}const Hn=[];Rt.push(Hn),Te=jE(Hn,c,Ze,m,T,$,se.cases[un],An.join(""),On)|Te}Te&&function xs(i,c,m){i.push(c,1,m<<2|3)}(T,Te,ye),i.push({kind:3,index:ye,cases:Rt,currentCaseLViewIndex:Ze.currentCaseLViewIndex})}function E5(i){const c=[],m=[];let T=1,$=0;const se=sv(i=i.replace(ZI,function(ye,Te,Ze){return T="select"===Ze?0:1,$=parseInt(Te.slice(1),10),""}));for(let ye=0;ye<se.length;){let Te=se[ye++].trim();1===T&&(Te=Te.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Te.length&&c.push(Te);const Ze=sv(se[ye++]);c.length>m.length&&m.push(Ze)}return{type:T,mainBinding:$,cases:c,values:m}}function sv(i){if(!i)return[];let c=0;const m=[],T=[],$=/[{}]/g;let se;for($.lastIndex=0;se=$.exec(i);){const Te=se.index;if("}"==se[0]){if(m.pop(),0==m.length){const Ze=i.substring(c,Te);ZI.test(Ze)?T.push(E5(Ze)):T.push(Ze),c=Te+1}}else{if(0==m.length){const Ze=i.substring(c,Te);T.push(Ze),c=Te+1}m.push("{")}}const ye=i.substring(c);return T.push(ye),T}function jE(i,c,m,T,$,se,ye,Te,Ze){const bt=[],Rt=[],un=[];m.cases.push(ye),m.create.push(bt),m.remove.push(Rt),m.update.push(un);const On=PS(mf()).getInertBodyElement(Te),Hn=Km(On)||On;return Hn?$E(i,c,m,T,$,bt,Rt,un,Hn,se,Ze,0):0}function $E(i,c,m,T,$,se,ye,Te,Ze,bt,Rt,un){let An=0,On=Ze.firstChild;for(;On;){const Hn=Xm(c,T,1,null);switch(On.nodeType){case Node.ELEMENT_NODE:const cr=On,Tr=cr.tagName.toLowerCase();if(Lb.hasOwnProperty(Tr)){Ms(se,Pf,Tr,bt,Hn),c.data[Hn]=Tr;const $o=cr.attributes;for(let Ba=0;Ba<$o.length;Ba++){const ea=$o.item(Ba),Lh=ea.name.toLowerCase();ea.value.match(ul)?BS.hasOwnProperty(Lh)&&Wc(Te,ea.value,Hn,ea.name,0,iy[Lh]?Bb:null):VE(se,Hn,ea)}const Uo={kind:1,index:Hn,children:[]};i.push(Uo),An=$E(Uo.children,c,m,T,$,se,ye,Te,On,Hn,Rt,un+1)|An,KE(ye,Hn,un)}break;case Node.TEXT_NODE:const Pr=On.textContent||"",hr=Pr.match(ul);Ms(se,null,hr?"":Pr,bt,Hn),KE(ye,Hn,un),hr&&(An=Wc(Te,Pr,Hn,null,0,null)|An),i.push({kind:0,index:Hn});break;case Node.COMMENT_NODE:const fi=y5.exec(On.textContent||"");if(fi){const Uo=Rt[parseInt(fi[1],10)];Ms(se,Xl,"",bt,Hn),QI(i,c,T,$,bt,Uo,Hn),tc(ye,Hn,un)}}On=On.nextSibling}return An}function KE(i,c,m){0===m&&i.push(c)}function tc(i,c,m){0===m&&(i.push(~c),i.push(c))}function Ms(i,c,m,T,$){null!==c&&i.push(c),i.push(m,$,function C6(i,c,m){return i|c<<17|m<<1}(0,T,$))}function VE(i,c,m){i.push(c<<1|1,m.name,m.value)}function rT(i,c,m=-1){const T=So(),$=lr(),se=Ri+i,ye=bd(T.consts,c),Te=zg();T.firstCreatePass&&function W0(i,c,m,T,$,se){const ye=zg(),Te=[],Ze=[],bt=[[]],Rt=[[]];$=function _5(i,c){if(function AD(i){return-1===i}(c))return qI(i);{const m=i.indexOf(`:${c}${ov}`)+2+c.toString().length,T=i.search(new RegExp(`${ov}\\/\\*\\d+:${c}${ov}`));return qI(i.substring(m,T))}}($,se);const un=function UE(i){return i.replace(w5," ")}($).split(b5);for(let An=0;An<un.length;An++){let On=un[An];if(1&An){const Hn=47===On.charCodeAt(0),cr=On.charCodeAt(Hn?1:0),Tr=Ri+Number.parseInt(On.substring(Hn?2:1));if(Hn)bt.shift(),Rt.shift(),_u(zg(),!1);else{const Pr=A6(i,bt[0],Tr);bt.unshift([]),_u(Pr,!0);const hr={kind:2,index:Tr,children:[],type:35===cr?0:1};Rt[0].push(hr),Rt.unshift(hr.children)}}else{const Hn=sv(On);for(let cr=0;cr<Hn.length;cr++){let Tr=Hn[cr];if(1&cr){const Pr=Tr;if("object"!=typeof Pr)throw new Error(`Unable to parse ICU expression in "${$}" message.`);const fi=FE(i,ye,bt[0],m,Te,"",!0).index;QI(Rt[0],i,m,Ze,c,Pr,fi)}else""!==Tr&&G0(Rt[0],i,ye,bt[0],Te,Ze,m,Tr)}}}i.data[T]={create:Te,update:Ze,ast:Rt[0]}}(T,null===Te?0:Te.index,$,se,ye,m),2===T.type?$[Gs][wi]|=32:$[wi]|=32;const Ze=T.data[se],Rt=JS(T,Te===$[ma]?null:Te,$),un=Te&&8&Te.type?$[Te.index]:null;(function U6(i,c,m,T){OD(i,c,m,T)})($,se,Te,m),function K0(i,c,m,T){const $=i[eo];for(let se=0;se<c.length;se++){const ye=c[se++],bt=(ye&Ea.APPEND_EAGERLY)===Ea.APPEND_EAGERLY,Rt=ye>>>Ea.SHIFT;let un=i[Rt],An=!1;null===un&&(un=i[Rt]=$0(i,Rt,c[se],(ye&Ea.COMMENT)===Ea.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),An=Gg()),bt&&null!==m&&An&&fp($,m,un,T,!1)}}($,Ze.create,Rt,un),Wg(!0)}function oT(i,c,m){rT(i,c,m),function iT(){Wg(!1)}()}let HE=(i,c,m)=>{};function av(i,c,m,T){const $=lr(),se=So(),ye=hs();return GE(se,$,$[eo],ye,i,c,T),av}function WE(i,c){const m=hs(),T=lr(),$=So();return GE($,T,sw(P1($.data),m,T),m,i,c),WE}function GE(i,c,m,T,$,se,ye){const Te=Jv(T),bt=i.firstCreatePass&&ow(i),Rt=c[Fs],un=pD(c);let An=!0;if(3&T.type||ye){const cr=qc(T,c),Tr=ye?ye(cr):cr,Pr=un.length,hr=ye?$o=>ye(ts($o[T.index])):T.index;let fi=null;if(!ye&&Te&&(fi=function I5(i,c,m,T){const $=i.cleanup;if(null!=$)for(let se=0;se<$.length-1;se+=2){const ye=$[se];if(ye===m&&$[se+1]===T){const Te=c[vm],Ze=$[se+2];return Te.length>Ze?Te[Ze]:null}"string"==typeof ye&&(se+=2)}return null}(i,c,$,T.index)),null!==fi)(fi.__ngLastListenerFn__||fi).__ngNextListenerFn__=se,fi.__ngLastListenerFn__=se,An=!1;else{se=cT(T,c,Rt,se),HE(cr,$,se);const $o=m.listen(Tr,$,se);un.push(se,$o),bt&&bt.push($,hr,Pr,Pr+1)}}else se=cT(T,c,Rt,se);const On=T.outputs;let Hn;if(An&&null!==On&&(Hn=On[$])){const cr=Hn.length;if(cr)for(let Tr=0;Tr<cr;Tr+=2){const Uo=c[Hn[Tr]][Hn[Tr+1]].subscribe(se),Ba=un.length;un.push(se,Uo),bt&&bt.push($,T.index,Ba,-(Ba+1))}}}function aT(i,c,m,T){const $=k(null);try{return vd(6,c,m),!1!==m(T)}catch(se){return P2(i,se),!1}finally{vd(7,c,m),k($)}}function cT(i,c,m,T){return function $(se){if(se===Function)return T;yy(i.componentOffset>-1?Nd(i.index,c):c,5);let Te=aT(c,m,T,se),Ze=$.__ngNextListenerFn__;for(;Ze;)Te=aT(c,m,Ze,se)&&Te,Ze=Ze.__ngNextListenerFn__;return Te}}function dT(i=1){return function M3(i){return(Ji.lFrame.contextLView=function b3(i,c){for(;i>0;)c=c[bm],i--;return c}(i,Ji.lFrame.contextLView))[Fs]}(i)}function lT(i,c){let m=null;const T=function je(i){const c=i.attrs;if(null!=c){const m=c.indexOf(5);if(!(1&m))return c[m+1]}return null}(i);for(let $=0;$<c.length;$++){const se=c[$];if("*"!==se){if(null===T?h1(i,se,!0):st(T,se))return $}else m=$}return m}function uT(i){const c=lr()[Gs][ma];if(!c.projection){const T=c.projection=function Uv(i,c){const m=[];for(let T=0;T<i;T++)m.push(c);return m}(i?i.length:1,null),$=T.slice();let se=c.child;for(;null!==se;){const ye=i?lT(se,i):0;null!==ye&&($[ye]?$[ye].projectionNext=se:T[ye]=se,$[ye]=se),se=se.next}}}function fT(i,c=0,m,T,$,se){const ye=lr(),Te=So(),Ze=T?i+1:null;null!==Ze&&m0(ye,Te,Ze,T,$,se,null,m);const bt=Ym(Te,Ri+i,16,null,m||null);null===bt.projection&&(bt.projection=c),Hg();const un=!ye[Jc]||xm();null===ye[Gs][ma].projection[bt.projection]&&null!==Ze?function T5(i,c,m){const T=Ri+m,$=c.data[T],se=i[T],ye=wp(se,$.tView.ssrId);gp(se,Jm(i,$,void 0,{dehydratedView:ye}),0,mp($,ye))}(ye,Te,Ze):un&&32&~bt.flags&&function D2(i,c,m){Xb(c[eo],0,c,m,il(i,m,c),qS(m.parent||c[ma],m,c))}(Te,ye,bt)}function Yp(i,c,m){return Xp(i,"",c,"",m),Yp}function Xp(i,c,m,T,$){const se=lr(),ye=Pu(se,c,m,T);return ye!==uo&&id(So(),js(),se,i,ye,se[eo],$,!1),Xp}function pT(i,c,m,T){!function Dp(i,c,m,T){const $=So();if($.firstCreatePass){const se=hs();dE($,new Ll(c,m,T),se.index),function e5(i,c){const m=i.contentQueries||(i.contentQueries=[]);c!==(m.length?m[m.length-1]:-1)&&m.push(i.queries.length-1,c)}($,i),!(2&~m)&&($.staticContentQueries=!0)}return mh($,lr(),m)}(i,c,m,T)}function JE(i,c,m){!function Sp(i,c,m){const T=So();return T.firstCreatePass&&(dE(T,new Ll(i,c,m),-1),!(2&~c)&&(T.staticViewQueries=!0)),mh(T,lr(),c)}(i,c,m)}function Dh(i){const c=lr(),m=So(),T=R1();rb(T+1);const $=Py(m,T);if(i.dirty&&function p8(i){return!(4&~i[wi])}(c)===!(2&~$.metadata.flags)){if(null===$.matches)i.reset([]);else{const se=lI(c,T);i.reset(se,nS),i.notifyOnChanges()}return!0}return!1}function J0(){return function si(i,c){return i[af].queries[c].queryList}(lr(),R1())}function m_(i){return Em(function _3(){return Ji.lFrame.contextLView}(),Ri+i)}function Nf(i,c=""){const m=lr(),T=So(),$=i+Ri,se=T.firstCreatePass?Ym(T,$,1,c,null):T.data[$],ye=tx(T,m,se,c,i);m[$]=ye,Gg()&&Yb(T,m,ye,se),_u(se,!1)}let tx=(i,c,m,T,$)=>(Eu(!0),rl(c[eo],T));function nx(i){return y_("",i,""),nx}function y_(i,c,m){const T=lr(),$=Pu(T,i,c,m);return $!==uo&&function Iu(i,c,m){const T=jg(c,i);!function uy(i,c,m){i.setValue(c,m)}(i[eo],T,m)}(T,Oc(),$),y_}function ox(i,c,m){Uc(c)&&(c=c());const T=lr();return cs(T,Cl(),c)&&id(So(),js(),T,i,c,T[eo],m,!1),ox}function sx(i,c){const m=Uc(i);return m&&i.set(c),m}function Ih(i,c){const m=lr(),T=So(),$=hs();return GE(T,m,m[eo],$,i,c),Ih}function Ma(i,c,m,T,$){if(i=Mi(i),Array.isArray(i))for(let se=0;se<i.length;se++)Ma(i[se],c,m,T,$);else{const se=So(),ye=lr(),Te=hs();let Ze=pm(i)?i:Mi(i.provide);const bt=gm(i),Rt=1048575&Te.providerIndexes,un=Te.directiveStart,An=Te.providerIndexes>>20;if(pm(i)||!i.multi){const On=new ch(bt,$,Zm),Hn=ld(Ze,c,$?Rt:Rt+An,un);-1===Hn?(HM(Mu(Te,ye),se,Ze),b_(se,i,c.length),c.push(Ze),Te.directiveStart++,Te.directiveEnd++,$&&(Te.providerIndexes+=1048576),m.push(On),ye.push(On)):(m[Hn]=On,ye[Hn]=On)}else{const On=ld(Ze,c,Rt+An,un),Hn=ld(Ze,c,Rt,Rt+An),Tr=Hn>=0&&m[Hn];if($&&!Tr||!$&&!(On>=0&&m[On])){HM(Mu(Te,ye),se,Ze);const Pr=function w_(i,c,m,T,$){const se=new ch(i,m,Zm);return se.multi=[],se.index=c,se.componentProviders=0,xT(se,$,T&&!m),se}($?B5:N5,m.length,$,T,bt);!$&&Tr&&(m[Hn].providerFactory=Pr),b_(se,i,c.length,0),c.push(Ze),Te.directiveStart++,Te.directiveEnd++,$&&(Te.providerIndexes+=1048576),m.push(Pr),ye.push(Pr)}else b_(se,i,On>-1?On:Hn,xT(m[$?Hn:On],bt,!$&&T));!$&&T&&Tr&&m[Hn].componentProviders++}}}function b_(i,c,m,T){const $=pm(c),se=function l8(i){return!!i.useClass}(c);if($||se){const Ze=(se?Mi(c.useClass):c).prototype.ngOnDestroy;if(Ze){const bt=i.destroyHooks||(i.destroyHooks=[]);if(!$&&c.multi){const Rt=bt.indexOf(m);-1===Rt?bt.push(m,[T,Ze]):bt[Rt+1].push(T,Ze)}else bt.push(m,Ze)}}}function xT(i,c,m){return m&&i.componentProviders++,i.multi.push(c)-1}function ld(i,c,m,T){for(let $=m;$<T;$++)if(c[$]===i)return $;return-1}function N5(i,c,m,T){return dv(this.multi,[])}function B5(i,c,m,T){const $=this.multi;let se;if(this.providerFactory){const ye=this.providerFactory.componentProviders,Te=rp(m,m[Or],this.providerFactory.index,T);se=Te.slice(0,ye),dv($,se);for(let Ze=ye;Ze<Te.length;Ze++)se.push(Te[Ze])}else se=[],dv($,se);return se}function dv(i,c){for(let m=0;m<i.length;m++)c.push((0,i[m])());return c}function rs(i,c=[]){return m=>{m.providersResolver=(T,$)=>function rg(i,c,m){const T=So();if(T.firstCreatePass){const $=Il(i);Ma(m,T.data,T.blueprint,$,!0),Ma(c,T.data,T.blueprint,$,!1)}}(T,$?$(i):i,c)}}let ax=(()=>{class i{constructor(m){this._injector=m,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(m){if(!m.standalone)return null;if(!this.cachedInjectors.has(m)){const T=p1(0,m.type),$=T.length>0?ja([T],this._injector,`Standalone[${m.type.name}]`):null;this.cachedInjectors.set(m,$)}return this.cachedInjectors.get(m)}ngOnDestroy(){try{for(const m of this.cachedInjectors.values())null!==m&&m.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=bi({token:i,providedIn:"environment",factory:()=>new i(fo(Jd))})}return i})();function Jp(i){ks("NgStandalone"),i.getStandaloneInjector=c=>c.get(ax).getOrCreateStandaloneInjector(i)}function uv(i,c,m){const T=Qc()+i,$=lr();return $[T]===uo?Bo($,T,m?c.call(m):c()):function Cu(i,c){return i[c]}($,T)}function Th(i,c,m,T){return E_(lr(),Qc(),i,c,m,T)}function cx(i,c,m,T,$){return ig(lr(),Qc(),i,c,m,T,$)}function qp(i,c){const m=i[c];return m===uo?void 0:m}function E_(i,c,m,T,$,se){const ye=c+m;return cs(i,ye,$)?Bo(i,ye+1,se?T.call(se,$):T($)):qp(i,ye+1)}function ig(i,c,m,T,$,se,ye){const Te=c+m;return function wh(i,c,m,T){const $=cs(i,c,m);return cs(i,c+1,T)||$}(i,Te,$,se)?Bo(i,Te+2,ye?T.call(ye,$,se):T($,se)):qp(i,Te+2)}function Ch(i,c){const m=So();let T;const $=i+Ri;m.firstCreatePass?(T=function x_(i,c){if(c)for(let m=c.length-1;m>=0;m--){const T=c[m];if(i===T.name)return T}}(c,m.pipeRegistry),m.data[$]=T,T.onDestroy&&(m.destroyHooks??=[]).push($,T.onDestroy)):T=m.data[$];const se=T.factory||(T.factory=Yd(T.type)),Te=En(Zm);try{const Ze=Im(!1),bt=se();return Im(Ze),function k5(i,c,m,T){m>=i.data.length&&(i.data[m]=null,i.blueprint[m]=null),c[m]=T}(m,lr(),$,bt),bt}finally{En(Te)}}function Li(i,c,m){const T=i+Ri,$=lr(),se=Em($,T);return ud($,T)?E_($,Qc(),c,se.transform,m,se):se.transform(m)}function Ui(i,c,m,T){const $=i+Ri,se=lr(),ye=Em(se,$);return ud(se,$)?ig(se,Qc(),c,ye.transform,m,T,ye):ye.transform(m,T)}function ud(i,c){return i[Or].data[c].pure}function F5(i,c){return lw(i,c)}class rc{constructor(c){this.full=c;const m=c.split(".");this.major=m[0],this.minor=m[1],this.patch=m.slice(2).join(".")}}let vx=(()=>{class i{log(m){console.log(m)}warn(m){console.warn(m)}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=bi({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const VT=new Gi(""),zT=new Gi("");let wx,HT=(()=>{class i{constructor(m,T,$){this._ngZone=m,this.registry=T,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,wx||(function GT(i){wx=i}($),$.addToWindow(T)),this._watchAngularEvents(),m.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb()}});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(T=>!T.updateCb||!T.updateCb(m)||(clearTimeout(T.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,T,$){let se=-1;T&&T>0&&(se=setTimeout(()=>{this._callbacks=this._callbacks.filter(ye=>ye.timeoutId!==se),m()},T)),this._callbacks.push({doneCb:m,timeoutId:se,updateCb:$})}whenStable(m,T,$){if($&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,T,$),this._runCallbacksIfReady()}registerApplication(m){this.registry.registerApplication(m,this)}unregisterApplication(m){this.registry.unregisterApplication(m)}findProviders(m,T,$){return[]}static#e=this.\u0275fac=function(T){return new(T||i)(fo(Ps),fo(WT),fo(zT))};static#t=this.\u0275prov=bi({token:i,factory:i.\u0275fac})}return i})(),WT=(()=>{class i{constructor(){this._applications=new Map}registerApplication(m,T){this._applications.set(m,T)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,T=!0){return wx?.findTestabilityInTree(this,m,T)??null}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=bi({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function _x(i){return!!i&&"function"==typeof i.then}function Ex(i){return!!i&&"function"==typeof i.subscribe}const ZT=new Gi("");let xx=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((m,T)=>{this.resolve=m,this.reject=T}),this.appInits=ti(ZT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const m=[];for(const $ of this.appInits){const se=$();if(_x(se))m.push(se);else if(Ex(se)){const ye=new Promise((Te,Ze)=>{se.subscribe({complete:Te,error:Ze})});m.push(ye)}}const T=()=>{this.done=!0,this.resolve()};Promise.all(m).then(()=>{T()}).catch($=>{this.reject($)}),0===m.length&&T(),this.initialized=!0}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=bi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const A_=new Gi("");let pl=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ti(eS),this.afterRenderEffectManager=ti(s0),this.zonelessEnabled=ti(Sy),this.externalTestViews=new Set,this.beforeRender=new Ce.B,this.afterTick=new Ce.B,this.componentTypes=[],this.components=[],this.isStable=ti(ip).hasPendingTasks.pipe((0,he.T)(m=>!m)),this._injector=ti(Jd)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(m,T){const $=m instanceof KD;if(!this._injector.get(xx).done)throw!$&&hu(m),new Sr(405,!1);let ye;ye=$?m:this._injector.get(o0).resolveComponentFactory(m),this.componentTypes.push(ye.componentType);const Te=function Mx(i){return i.isBoundToModule}(ye)?void 0:this._injector.get(vh),bt=ye.create(Fa.NULL,[],T||ye.selector,Te),Rt=bt.location.nativeElement,un=bt.injector.get(VT,null);return un?.registerApplication(Rt),bt.onDestroy(()=>{this.detachView(bt.hostView),lg(this.components,bt),un?.unregisterApplication(Rt)}),this._loadComponent(bt),bt}tick(){this._tick(!0)}_tick(m){if(this._runningTick)throw new Sr(101,!1);const T=k(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(m)}catch($){this.internalErrorHandler($)}finally{this._runningTick=!1,k(T),this.afterTick.next()}}detectChangesInAttachedViews(m){let T=null;this._injector.destroyed||(T=this._injector.get(vw,null,{optional:!0}));let $=0;const se=this.afterRenderEffectManager;for(;$<10;){const ye=0===$;if(m||!ye){this.beforeRender.next(ye);for(let{_lView:Te,notifyErrorHandler:Ze}of this._views)eR(Te,Ze,ye,this.zonelessEnabled)}else T?.begin?.(),T?.end?.();if($++,se.executeInternalCallbacks(),!this.allViews.some(({_lView:Te})=>Kg(Te))&&(se.execute(),!this.allViews.some(({_lView:Te})=>Kg(Te))))break}}attachView(m){const T=m;this._views.push(T),T.attachToAppRef(this)}detachView(m){const T=m;lg(this._views,T),T.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView),this.tick(),this.components.push(m);const T=this._injector.get(A_,[]);[...this._bootstrapListeners,...T].forEach($=>$(m))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(m=>m()),this._views.slice().forEach(m=>m.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(m){return this._destroyListeners.push(m),()=>lg(this._destroyListeners,m)}destroy(){if(this._destroyed)throw new Sr(406,!1);const m=this._injector;m.destroy&&!m.destroyed&&m.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=bi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function lg(i,c){const m=i.indexOf(c);m>-1&&i.splice(m,1)}function eR(i,c,m,T){(m||Kg(i))&&cw(i,c,m&&!T?0:1)}class XT{constructor(c,m){this.ngModuleFactory=c,this.componentFactories=m}}let sk=(()=>{class i{compileModuleSync(m){return new bh(m)}compileModuleAsync(m){return Promise.resolve(this.compileModuleSync(m))}compileModuleAndAllComponentsSync(m){const T=this.compileModuleSync(m),se=rd(pa(m).declarations).reduce((ye,Te)=>{const Ze=Bi(Te);return Ze&&ye.push(new xp(Ze)),ye},[]);return new XT(T,se)}compileModuleAndAllComponentsAsync(m){return Promise.resolve(this.compileModuleAndAllComponentsSync(m))}clearCache(){}clearCacheFor(m){}getModuleId(m){}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=bi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),qT=(()=>{class i{constructor(){this.zone=ti(Ps),this.changeDetectionScheduler=ti(_p),this.applicationRef=ti(pl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=bi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const QT=new Gi("",{factory:()=>!1});function _v({ngZoneFactory:i,ignoreChangesOutsideZone:c}){return i??=()=>new Ps(Dx()),[{provide:Ps,useFactory:i},{provide:uu,multi:!0,useFactory:()=>{const m=ti(qT,{optional:!0});return()=>m.initialize()}},{provide:uu,multi:!0,useFactory:()=>{const m=ti(dk);return()=>{m.initialize()}}},{provide:eS,useFactory:ck},!0===c?{provide:jD,useValue:!0}:[]]}function ck(){const i=ti(Ps),c=ti(Rl);return m=>i.runOutsideAngular(()=>c.handleError(m))}function nR(i){const c=i?.ignoreChangesOutsideZone,m=_v({ngZoneFactory:()=>{const T=Dx(i);return T.shouldCoalesceEventChangeDetection&&ks("NgZone_CoalesceEvent"),new Ps(T)},ignoreChangesOutsideZone:c});return pu([{provide:QT,useValue:!0},{provide:Sy,useValue:!1},m])}function Dx(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}let dk=(()=>{class i{constructor(){this.subscription=new be.yU,this.initialized=!1,this.zone=ti(Ps),this.pendingTasks=ti(ip)}initialize(){if(this.initialized)return;this.initialized=!0;let m=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(m=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{null!==m&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(m),m=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ps.assertInAngularZone(),m??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=bi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ug=(()=>{class i{constructor(){this.appRef=ti(pl),this.taskService=ti(ip),this.ngZone=ti(Ps),this.zonelessEnabled=ti(Sy),this.disableScheduling=ti(jD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new be.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof J2||!this.zoneIsDefined)}notify(m){if(!this.zonelessEnabled&&5===m)return;switch(m){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const T=this.useMicrotaskScheduler?GD:WD;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=T(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=T(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ps.isInAngularZone())}tick(m){if(this.runningTick||this.appRef.destroyed)return;const T=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(m)},void 0,this.schedulerTickApplyArgs)}catch($){throw this.taskService.remove(T),$}finally{this.cleanup()}this.useMicrotaskScheduler=!0,GD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(T)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const m=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(m)}}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=bi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Ku=new Gi("",{providedIn:"root",factory:()=>ti(Ku,Lt.Optional|Lt.SkipSelf)||function fk(){return typeof $localize<"u"&&$localize.locale||ll}()}),jf=new Gi("",{providedIn:"root",factory:()=>"USD"}),li=new Gi("");let ml=null;function F_(){return!1}let Ax=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=j_}return i})();function j_(i){return function Cx(i,c,m){if(Qh(i)&&!m){const T=Nd(i.index,c);return new vy(T,T)}return 47&i.type?new vy(c[Gs],c):null}(hs(),lr(),!(16&~i))}class oA{constructor(){}supports(c){return Rw(c)}create(c){return new Ek(c)}}const _k=(i,c)=>c;class Ek{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||_k}forEachItem(c){let m;for(m=this._itHead;null!==m;m=m._next)c(m)}forEachOperation(c){let m=this._itHead,T=this._removalsHead,$=0,se=null;for(;m||T;){const ye=!T||m&&m.currentIndex<V_(T,$,se)?m:T,Te=V_(ye,$,se),Ze=ye.currentIndex;if(ye===T)$--,T=T._nextRemoved;else if(m=m._next,null==ye.previousIndex)$++;else{se||(se=[]);const bt=Te-$,Rt=Ze-$;if(bt!=Rt){for(let An=0;An<bt;An++){const On=An<se.length?se[An]:se[An]=0,Hn=On+An;Rt<=Hn&&Hn<bt&&(se[An]=On+1)}se[ye.previousIndex]=Rt-bt}}Te!==Ze&&c(ye,Te,Ze)}}forEachPreviousItem(c){let m;for(m=this._previousItHead;null!==m;m=m._nextPrevious)c(m)}forEachAddedItem(c){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)c(m)}forEachMovedItem(c){let m;for(m=this._movesHead;null!==m;m=m._nextMoved)c(m)}forEachRemovedItem(c){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)c(m)}forEachIdentityChange(c){let m;for(m=this._identityChangesHead;null!==m;m=m._nextIdentityChange)c(m)}diff(c){if(null==c&&(c=[]),!Rw(c))throw new Sr(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let $,se,ye,m=this._itHead,T=!1;if(Array.isArray(c)){this.length=c.length;for(let Te=0;Te<this.length;Te++)se=c[Te],ye=this._trackByFn(Te,se),null!==m&&Object.is(m.trackById,ye)?(T&&(m=this._verifyReinsertion(m,se,ye,Te)),Object.is(m.item,se)||this._addIdentityChange(m,se)):(m=this._mismatch(m,se,ye,Te),T=!0),m=m._next}else $=0,function u5(i,c){if(Array.isArray(i))for(let m=0;m<i.length;m++)c(i[m]);else{const m=i[Symbol.iterator]();let T;for(;!(T=m.next()).done;)c(T.value)}}(c,Te=>{ye=this._trackByFn($,Te),null!==m&&Object.is(m.trackById,ye)?(T&&(m=this._verifyReinsertion(m,Te,ye,$)),Object.is(m.item,Te)||this._addIdentityChange(m,Te)):(m=this._mismatch(m,Te,ye,$),T=!0),m=m._next,$++}),this.length=$;return this._truncate(m),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,m,T,$){let se;return null===c?se=this._itTail:(se=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(T,null))?(Object.is(c.item,m)||this._addIdentityChange(c,m),this._reinsertAfter(c,se,$)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(T,$))?(Object.is(c.item,m)||this._addIdentityChange(c,m),this._moveAfter(c,se,$)):c=this._addAfter(new xk(m,T),se,$),c}_verifyReinsertion(c,m,T,$){let se=null===this._unlinkedRecords?null:this._unlinkedRecords.get(T,null);return null!==se?c=this._reinsertAfter(se,c._prev,$):c.currentIndex!=$&&(c.currentIndex=$,this._addToMoves(c,$)),c}_truncate(c){for(;null!==c;){const m=c._next;this._addToRemovals(this._unlink(c)),c=m}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,m,T){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const $=c._prevRemoved,se=c._nextRemoved;return null===$?this._removalsHead=se:$._nextRemoved=se,null===se?this._removalsTail=$:se._prevRemoved=$,this._insertAfter(c,m,T),this._addToMoves(c,T),c}_moveAfter(c,m,T){return this._unlink(c),this._insertAfter(c,m,T),this._addToMoves(c,T),c}_addAfter(c,m,T){return this._insertAfter(c,m,T),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,m,T){const $=null===m?this._itHead:m._next;return c._next=$,c._prev=m,null===$?this._itTail=c:$._prev=c,null===m?this._itHead=c:m._next=c,null===this._linkedRecords&&(this._linkedRecords=new Ux),this._linkedRecords.put(c),c.currentIndex=T,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const m=c._prev,T=c._next;return null===m?this._itHead=T:m._next=T,null===T?this._itTail=m:T._prev=m,c}_addToMoves(c,m){return c.previousIndex===m||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ux),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,m){return c.item=m,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class xk{constructor(c,m){this.item=c,this.trackById=m,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lx{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,m){let T;for(T=this._head;null!==T;T=T._nextDup)if((null===m||m<=T.currentIndex)&&Object.is(T.trackById,c))return T;return null}remove(c){const m=c._prevDup,T=c._nextDup;return null===m?this._head=T:m._nextDup=T,null===T?this._tail=m:T._prevDup=m,null===this._head}}class Ux{constructor(){this.map=new Map}put(c){const m=c.trackById;let T=this.map.get(m);T||(T=new Lx,this.map.set(m,T)),T.add(c)}get(c,m){const $=this.map.get(c);return $?$.get(c,m):null}remove(c){const m=c.trackById;return this.map.get(m).remove(c)&&this.map.delete(m),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function V_(i,c,m){const T=i.previousIndex;if(null===T)return T;let $=0;return m&&T<m.length&&($=m[T]),T+c+$}class Mk{constructor(){}supports(c){return c instanceof Map||p0(c)}create(){return new Fx}}class Fx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let m;for(m=this._mapHead;null!==m;m=m._next)c(m)}forEachPreviousItem(c){let m;for(m=this._previousMapHead;null!==m;m=m._nextPrevious)c(m)}forEachChangedItem(c){let m;for(m=this._changesHead;null!==m;m=m._nextChanged)c(m)}forEachAddedItem(c){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)c(m)}forEachRemovedItem(c){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)c(m)}diff(c){if(c){if(!(c instanceof Map||p0(c)))throw new Sr(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let m=this._mapHead;if(this._appendAfter=null,this._forEach(c,(T,$)=>{if(m&&m.key===$)this._maybeAddToChanges(m,T),this._appendAfter=m,m=m._next;else{const se=this._getOrCreateRecordForKey($,T);m=this._insertBeforeOrAppend(m,se)}}),m){m._prev&&(m._prev._next=null),this._removalsHead=m;for(let T=m;null!==T;T=T._nextRemoved)T===this._mapHead&&(this._mapHead=null),this._records.delete(T.key),T._nextRemoved=T._next,T.previousValue=T.currentValue,T.currentValue=null,T._prev=null,T._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,m){if(c){const T=c._prev;return m._next=c,m._prev=T,c._prev=m,T&&(T._next=m),c===this._mapHead&&(this._mapHead=m),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=m,m._prev=this._appendAfter):this._mapHead=m,this._appendAfter=m,null}_getOrCreateRecordForKey(c,m){if(this._records.has(c)){const $=this._records.get(c);this._maybeAddToChanges($,m);const se=$._prev,ye=$._next;return se&&(se._next=ye),ye&&(ye._prev=se),$._next=null,$._prev=null,$}const T=new Oh(c);return this._records.set(c,T),T.currentValue=m,this._addToAdditions(T),T}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,m){Object.is(m,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=m,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,m){c instanceof Map?c.forEach(m):Object.keys(c).forEach(T=>m(c[T],T))}}class Oh{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sA(){return new jx([new oA])}let jx=(()=>{class i{static#e=this.\u0275prov=bi({token:i,providedIn:"root",factory:sA});constructor(m){this.factories=m}static create(m,T){if(null!=T){const $=T.factories.slice();m=m.concat($)}return new i(m)}static extend(m){return{provide:i,useFactory:T=>i.create(m,T||sA()),deps:[[i,new xg,new Kh]]}}find(m){const T=this.factories.find($=>$.supports(m));if(null!=T)return T;throw new Sr(901,!1)}}return i})();function pg(){return new $f([new Mk])}let $f=(()=>{class i{static#e=this.\u0275prov=bi({token:i,providedIn:"root",factory:pg});constructor(m){this.factories=m}static create(m,T){if(T){const $=T.factories.slice();m=m.concat($)}return new i(m)}static extend(m){return{provide:i,useFactory:T=>i.create(m,T||pg()),deps:[[i,new xg,new Kh]]}}find(m){const T=this.factories.find($=>$.supports(m));if(T)return T;throw new Sr(901,!1)}}return i})();function Rk(i){try{const{rootComponent:c,appProviders:m,platformProviders:T}=i,$=function zd(i=[]){if(ml)return ml;const c=function hg(i=[],c){return Fa.create({name:c,providers:[{provide:mM,useValue:"platform"},{provide:li,useValue:new Set([()=>ml=null])},...i]})}(i);return ml=c,function YT(){!function x(i){I=i}(()=>{throw new Sr(600,!1)})}(),function Ev(i){i.get(Y3,null)?.forEach(m=>m())}(c),c}(T),se=[_v({}),{provide:_p,useExisting:ug},...m||[]],Te=new Oy({providers:se,parent:$,debugName:"",runEnvironmentInitializers:!1}).injector,Ze=Te.get(Ps);return Ze.run(()=>{Te.resolveInjectorInitializers();const bt=Te.get(Rl,null);let Rt;Ze.runOutsideAngular(()=>{Rt=Ze.onError.subscribe({next:On=>{bt.handleError(On)}})});const un=()=>Te.destroy(),An=$.get(li);return An.add(un),Te.onDestroy(()=>{Rt.unsubscribe(),An.delete(un)}),function k_(i,c,m){try{const T=m();return _x(T)?T.catch($=>{throw c.runOutsideAngular(()=>i.handleError($)),$}):T}catch(T){throw c.runOutsideAngular(()=>i.handleError(T)),T}}(bt,Ze,()=>{const On=Te.get(xx);return On.runInitializers(),On.donePromise.then(()=>{!function Jl(i){"string"==typeof i&&(Uu=i.toLowerCase().replace(/_/g,"-"))}(Te.get(Ku,ll)||ll);const cr=Te.get(pl);return void 0!==c&&cr.bootstrap(c),cr})})})}catch(c){return Promise.reject(c)}}function OA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function sc(i,c=NaN){return isNaN(parseFloat(i))||isNaN(Number(i))?c:Number(i)}function NA(i,c){ks("NgSignals");const m=function C(i){const c=Object.create(f);c.computation=i;const m=()=>{if(U(c),A(c),c.value===h)throw c.error;return c.value};return m[b]=c,m}(i);return c?.equal&&(m[b].equal=c.equal),m}function q_(i){const c=k(null);try{return i()}finally{k(c)}}const zf=new Gi("",{providedIn:"root",factory:()=>ti(Na)});let Na=(()=>{class i{static#e=this.\u0275prov=bi({token:i,providedIn:"root",factory:()=>new Jx})}return i})();class Jx{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ti(ip),this.taskId=null}scheduleEffect(c){if(this.enqueue(c),null===this.taskId){const m=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(m),this.taskId=null})}}enqueue(c){const m=c.creationZone;this.queues.has(m)||this.queues.set(m,new Set);const T=this.queues.get(m);T.has(c)||(this.queuedEffectCount++,T.add(c))}flush(){for(;this.queuedEffectCount>0;)for(const[c,m]of this.queues)null===c?this.flushQueue(m):c.run(()=>this.flushQueue(m))}flushQueue(c){for(const m of c)c.delete(m),this.queuedEffectCount--,m.run()}}class am{constructor(c,m,T,$,se,ye){this.scheduler=c,this.effectFn=m,this.creationZone=T,this.injector=se,this.watcher=function Ge(i,c,m){const T=Object.create(me);m&&(T.consumerAllowSignalWrites=!0),T.fn=i,T.schedule=c;const $=Ze=>{T.cleanupFn=Ze};return T.ref={notify:()=>q(T),run:()=>{if(null===T.fn)return;if(function P(){return B}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(T.dirty=!1,T.hasRun&&!re(T))return;T.hasRun=!0;const Ze=Y(T);try{T.cleanupFn(),T.cleanupFn=ge,T.fn($)}finally{W(T,Ze)}},cleanup:()=>T.cleanupFn(),destroy:()=>function ye(Ze){(function se(Ze){return null===Ze.fn&&null===Ze.schedule})(Ze)||(ie(Ze),Ze.cleanupFn(),Ze.fn=null,Ze.schedule=null,Ze.cleanupFn=ge)}(T),[b]:T},T.ref}(Te=>this.runEffect(Te),()=>this.schedule(),ye),this.unregisterOnDestroy=$?.onDestroy(()=>this.destroy())}runEffect(c){try{this.effectFn(c)}catch(m){this.injector.get(Rl,null,{optional:!0})?.handleError(m)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function zk(i,c){ks("NgSignals"),!c?.injector&&Wv();const m=c?.injector??ti(Fa),T=!0!==c?.manualCleanup?m.get(Cm):null,$=new am(m.get(zf),i,typeof Zone>"u"?null:Zone.current,T,m,c?.allowSignalWrites??!1),se=m.get(Ax,null,{optional:!0});return se&&8&se._lView[wi]?(se._lView[Zv]??=[]).push($.watcher.notify):$.watcher.notify(),$}function wR(i,c){const m=Bi(i),T=c.elementInjector||Pg();return new xp(m).create(T,c.projectableNodes,c.hostElement,c.environmentInjector)}function _R(i){const c=Bi(i);if(!c)return null;const m=new xp(c);return{get selector(){return m.selector},get type(){return m.componentType},get inputs(){return m.inputs},get outputs(){return m.outputs},get ngContentSelectors(){return m.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},89417:($e,j,E)=>{"use strict";E.d(j,{BC:()=>de,JD:()=>Vr,MJ:()=>Ii,Q0:()=>Et,X1:()=>qu,YN:()=>Ua,cV:()=>Fr,cb:()=>_e,cz:()=>W,j4:()=>hn,k0:()=>ae,kq:()=>R,l_:()=>jt,me:()=>Q,ok:()=>du,qT:()=>Jt,tU:()=>Zd,vO:()=>be,vS:()=>$n,xq:()=>Cc});var g=E(93953),_=E(60177),B=E(86648),H=E(27468),b=E(21413),k=E(96354);let S=(()=>{class Pt{constructor(at,Qt){this._renderer=at,this._elementRef=Qt,this.onChange=Nn=>{},this.onTouched=()=>{}}setProperty(at,Qt){this._renderer.setProperty(this._elementRef.nativeElement,at,Qt)}registerOnTouched(at){this.onTouched=at}registerOnChange(at){this.onChange=at}setDisabledState(at){this.setProperty("disabled",at)}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)(g.rXU(g.sFG),g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:Pt})}return Pt})(),P=(()=>{class Pt extends S{static#e=this.\u0275fac=(()=>{let at;return function(Nn){return(at||(at=g.xGo(Pt)))(Nn||Pt)}})();static#t=this.\u0275dir=g.FsC({type:Pt,features:[g.Vt3]})}return Pt})();const R=new g.nKC(""),V={provide:R,useExisting:(0,g.Rfq)(()=>Q),multi:!0},K=new g.nKC("");let Q=(()=>{class Pt extends S{constructor(at,Qt,Nn){super(at,Qt),this._compositionMode=Nn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function U(){const Pt=(0,_.QT)()?(0,_.QT)().getUserAgent():"";return/android (\d+)/.test(Pt.toLowerCase())}())}writeValue(at){this.setProperty("value",at??"")}_handleInput(at){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(at)}_compositionStart(){this._composing=!0}_compositionEnd(at){this._composing=!1,this._compositionMode&&this.onChange(at)}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)(g.rXU(g.sFG),g.rXU(g.aKT),g.rXU(K,8))};static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Qt,Nn){1&Qt&&g.bIt("input",function(lo){return Nn._handleInput(lo.target.value)})("blur",function(){return Nn.onTouched()})("compositionstart",function(){return Nn._compositionStart()})("compositionend",function(lo){return Nn._compositionEnd(lo.target.value)})},features:[g.Jv_([V]),g.Vt3]})}return Pt})();function q(Pt){return null==Pt||("string"==typeof Pt||Array.isArray(Pt))&&0===Pt.length}function Y(Pt){return null!=Pt&&"number"==typeof Pt.length}const W=new g.nKC(""),re=new g.nKC(""),ie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(Ct){return function ue(Pt){return Ct=>{if(q(Ct.value)||q(Pt))return null;const at=parseFloat(Ct.value);return!isNaN(at)&&at<Pt?{min:{min:Pt,actual:Ct.value}}:null}}(Ct)}static max(Ct){return function ce(Pt){return Ct=>{if(q(Ct.value)||q(Pt))return null;const at=parseFloat(Ct.value);return!isNaN(at)&&at>Pt?{max:{max:Pt,actual:Ct.value}}:null}}(Ct)}static required(Ct){return pe(Ct)}static requiredTrue(Ct){return ve(Ct)}static email(Ct){return function De(Pt){return q(Pt.value)||ie.test(Pt.value)?null:{email:!0}}(Ct)}static minLength(Ct){return function C(Pt){return Ct=>q(Ct.value)||!Y(Ct.value)?null:Ct.value.length<Pt?{minlength:{requiredLength:Pt,actualLength:Ct.value.length}}:null}(Ct)}static maxLength(Ct){return s(Ct)}static pattern(Ct){return function d(Pt){if(!Pt)return h;let Ct,at;return"string"==typeof Pt?(at="","^"!==Pt.charAt(0)&&(at+="^"),at+=Pt,"$"!==Pt.charAt(Pt.length-1)&&(at+="$"),Ct=new RegExp(at)):(at=Pt.toString(),Ct=Pt),Qt=>{if(q(Qt.value))return null;const Nn=Qt.value;return Ct.test(Nn)?null:{pattern:{requiredPattern:at,actualValue:Nn}}}}(Ct)}static nullValidator(Ct){return null}static compose(Ct){return v(Ct)}static composeAsync(Ct){return z(Ct)}}function pe(Pt){return q(Pt.value)?{required:!0}:null}function ve(Pt){return!0===Pt.value?null:{required:!0}}function s(Pt){return Ct=>Y(Ct.value)&&Ct.value.length>Pt?{maxlength:{requiredLength:Pt,actualLength:Ct.value.length}}:null}function h(Pt){return null}function f(Pt){return null!=Pt}function w(Pt){return(0,g.jNT)(Pt)?(0,B.H)(Pt):Pt}function I(Pt){let Ct={};return Pt.forEach(at=>{Ct=null!=at?{...Ct,...at}:Ct}),0===Object.keys(Ct).length?null:Ct}function L(Pt,Ct){return Ct.map(at=>at(Pt))}function a(Pt){return Pt.map(Ct=>function x(Pt){return!Pt.validate}(Ct)?Ct:at=>Ct.validate(at))}function v(Pt){if(!Pt)return null;const Ct=Pt.filter(f);return 0==Ct.length?null:function(at){return I(L(at,Ct))}}function Z(Pt){return null!=Pt?v(a(Pt)):null}function z(Pt){if(!Pt)return null;const Ct=Pt.filter(f);return 0==Ct.length?null:function(at){const Qt=L(at,Ct).map(w);return(0,H.p)(Qt).pipe((0,k.T)(I))}}function ee(Pt){return null!=Pt?z(a(Pt)):null}function le(Pt,Ct){return null===Pt?[Ct]:Array.isArray(Pt)?[...Pt,Ct]:[Pt,Ct]}function we(Pt){return Pt._rawValidators}function Me(Pt){return Pt._rawAsyncValidators}function Ge(Pt){return Pt?Array.isArray(Pt)?Pt:[Pt]:[]}function ge(Pt,Ct){return Array.isArray(Pt)?Pt.includes(Ct):Pt===Ct}function me(Pt,Ct){const at=Ge(Ct);return Ge(Pt).forEach(Nn=>{ge(at,Nn)||at.push(Nn)}),at}function Ue(Pt,Ct){return Ge(Ct).filter(at=>!ge(Pt,at))}class xe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ct){this._rawValidators=Ct||[],this._composedValidatorFn=Z(this._rawValidators)}_setAsyncValidators(Ct){this._rawAsyncValidators=Ct||[],this._composedAsyncValidatorFn=ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ct){this._onDestroyCallbacks.push(Ct)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ct=>Ct()),this._onDestroyCallbacks=[]}reset(Ct=void 0){this.control&&this.control.reset(Ct)}hasError(Ct,at){return!!this.control&&this.control.hasError(Ct,at)}getError(Ct,at){return this.control?this.control.getError(Ct,at):null}}class Ce extends xe{get formDirective(){return null}get path(){return null}}class be extends xe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class he{constructor(Ct){this._cd=Ct}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let de=(()=>{class Pt extends he{constructor(at){super(at)}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)(g.rXU(be,2))};static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Qt,Nn){2&Qt&&g.AVh("ng-untouched",Nn.isUntouched)("ng-touched",Nn.isTouched)("ng-pristine",Nn.isPristine)("ng-dirty",Nn.isDirty)("ng-valid",Nn.isValid)("ng-invalid",Nn.isInvalid)("ng-pending",Nn.isPending)},features:[g.Vt3]})}return Pt})(),_e=(()=>{class Pt extends he{constructor(at){super(at)}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)(g.rXU(Ce,10))};static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Qt,Nn){2&Qt&&g.AVh("ng-untouched",Nn.isUntouched)("ng-touched",Nn.isTouched)("ng-pristine",Nn.isPristine)("ng-dirty",Nn.isDirty)("ng-valid",Nn.isValid)("ng-invalid",Nn.isInvalid)("ng-pending",Nn.isPending)("ng-submitted",Nn.isSubmitted)},features:[g.Vt3]})}return Pt})();const qt="VALID",mn="INVALID",ln="PENDING",rr="DISABLED";class Tn{}class rn extends Tn{constructor(Ct,at){super(),this.value=Ct,this.source=at}}class Xt extends Tn{constructor(Ct,at){super(),this.pristine=Ct,this.source=at}}class dt extends Tn{constructor(Ct,at){super(),this.touched=Ct,this.source=at}}class it extends Tn{constructor(Ct,at){super(),this.status=Ct,this.source=at}}class Wt extends Tn{constructor(Ct){super(),this.source=Ct}}class Gt extends Tn{constructor(Ct){super(),this.source=Ct}}function nn(Pt){return(ut(Pt)?Pt.validators:Pt)||null}function ot(Pt,Ct){return(ut(Ct)?Ct.asyncValidators:Pt)||null}function ut(Pt){return null!=Pt&&!Array.isArray(Pt)&&"object"==typeof Pt}function Ke(Pt,Ct,at){const Qt=Pt.controls;if(!(Ct?Object.keys(Qt):Qt).length)throw new g.wOt(1e3,"");if(!Qt[at])throw new g.wOt(1001,"")}function We(Pt,Ct,at){Pt._forEachChild((Qt,Nn)=>{if(void 0===at[Nn])throw new g.wOt(1002,"")})}class Bt{constructor(Ct,at){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new b.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Ct),this._assignAsyncValidators(at)}get validator(){return this._composedValidatorFn}set validator(Ct){this._rawValidators=this._composedValidatorFn=Ct}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ct){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ct}get parent(){return this._parent}get valid(){return this.status===qt}get invalid(){return this.status===mn}get pending(){return this.status==ln}get disabled(){return this.status===rr}get enabled(){return this.status!==rr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ct){this._assignValidators(Ct)}setAsyncValidators(Ct){this._assignAsyncValidators(Ct)}addValidators(Ct){this.setValidators(me(Ct,this._rawValidators))}addAsyncValidators(Ct){this.setAsyncValidators(me(Ct,this._rawAsyncValidators))}removeValidators(Ct){this.setValidators(Ue(Ct,this._rawValidators))}removeAsyncValidators(Ct){this.setAsyncValidators(Ue(Ct,this._rawAsyncValidators))}hasValidator(Ct){return ge(this._rawValidators,Ct)}hasAsyncValidator(Ct){return ge(this._rawAsyncValidators,Ct)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ct={}){const at=!1===this.touched;this.touched=!0;const Qt=Ct.sourceControl??this;this._parent&&!Ct.onlySelf&&this._parent.markAsTouched({...Ct,sourceControl:Qt}),at&&!1!==Ct.emitEvent&&this._events.next(new dt(!0,Qt))}markAllAsTouched(Ct={}){this.markAsTouched({onlySelf:!0,emitEvent:Ct.emitEvent,sourceControl:this}),this._forEachChild(at=>at.markAllAsTouched(Ct))}markAsUntouched(Ct={}){const at=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Qt=Ct.sourceControl??this;this._forEachChild(Nn=>{Nn.markAsUntouched({onlySelf:!0,emitEvent:Ct.emitEvent,sourceControl:Qt})}),this._parent&&!Ct.onlySelf&&this._parent._updateTouched(Ct,Qt),at&&!1!==Ct.emitEvent&&this._events.next(new dt(!1,Qt))}markAsDirty(Ct={}){const at=!0===this.pristine;this.pristine=!1;const Qt=Ct.sourceControl??this;this._parent&&!Ct.onlySelf&&this._parent.markAsDirty({...Ct,sourceControl:Qt}),at&&!1!==Ct.emitEvent&&this._events.next(new Xt(!1,Qt))}markAsPristine(Ct={}){const at=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Qt=Ct.sourceControl??this;this._forEachChild(Nn=>{Nn.markAsPristine({onlySelf:!0,emitEvent:Ct.emitEvent})}),this._parent&&!Ct.onlySelf&&this._parent._updatePristine(Ct,Qt),at&&!1!==Ct.emitEvent&&this._events.next(new Xt(!0,Qt))}markAsPending(Ct={}){this.status=ln;const at=Ct.sourceControl??this;!1!==Ct.emitEvent&&(this._events.next(new it(this.status,at)),this.statusChanges.emit(this.status)),this._parent&&!Ct.onlySelf&&this._parent.markAsPending({...Ct,sourceControl:at})}disable(Ct={}){const at=this._parentMarkedDirty(Ct.onlySelf);this.status=rr,this.errors=null,this._forEachChild(Nn=>{Nn.disable({...Ct,onlySelf:!0})}),this._updateValue();const Qt=Ct.sourceControl??this;!1!==Ct.emitEvent&&(this._events.next(new rn(this.value,Qt)),this._events.next(new it(this.status,Qt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ct,skipPristineCheck:at},this),this._onDisabledChange.forEach(Nn=>Nn(!0))}enable(Ct={}){const at=this._parentMarkedDirty(Ct.onlySelf);this.status=qt,this._forEachChild(Qt=>{Qt.enable({...Ct,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ct.emitEvent}),this._updateAncestors({...Ct,skipPristineCheck:at},this),this._onDisabledChange.forEach(Qt=>Qt(!1))}_updateAncestors(Ct,at){this._parent&&!Ct.onlySelf&&(this._parent.updateValueAndValidity(Ct),Ct.skipPristineCheck||this._parent._updatePristine({},at),this._parent._updateTouched({},at))}setParent(Ct){this._parent=Ct}getRawValue(){return this.value}updateValueAndValidity(Ct={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Qt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qt||this.status===ln)&&this._runAsyncValidator(Qt,Ct.emitEvent)}const at=Ct.sourceControl??this;!1!==Ct.emitEvent&&(this._events.next(new rn(this.value,at)),this._events.next(new it(this.status,at)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ct.onlySelf&&this._parent.updateValueAndValidity({...Ct,sourceControl:at})}_updateTreeValidity(Ct={emitEvent:!0}){this._forEachChild(at=>at._updateTreeValidity(Ct)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ct.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rr:qt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ct,at){if(this.asyncValidator){this.status=ln,this._hasOwnPendingAsyncValidator={emitEvent:!1!==at};const Qt=w(this.asyncValidator(this));this._asyncValidationSubscription=Qt.subscribe(Nn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Nn,{emitEvent:at,shouldHaveEmitted:Ct})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Ct=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Ct}return!1}setErrors(Ct,at={}){this.errors=Ct,this._updateControlsErrors(!1!==at.emitEvent,this,at.shouldHaveEmitted)}get(Ct){let at=Ct;return null==at||(Array.isArray(at)||(at=at.split(".")),0===at.length)?null:at.reduce((Qt,Nn)=>Qt&&Qt._find(Nn),this)}getError(Ct,at){const Qt=at?this.get(at):this;return Qt&&Qt.errors?Qt.errors[Ct]:null}hasError(Ct,at){return!!this.getError(Ct,at)}get root(){let Ct=this;for(;Ct._parent;)Ct=Ct._parent;return Ct}_updateControlsErrors(Ct,at,Qt){this.status=this._calculateStatus(),Ct&&this.statusChanges.emit(this.status),(Ct||Qt)&&this._events.next(new it(this.status,at)),this._parent&&this._parent._updateControlsErrors(Ct,at,Qt)}_initObservables(){this.valueChanges=new g.bkB,this.statusChanges=new g.bkB}_calculateStatus(){return this._allControlsDisabled()?rr:this.errors?mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ln)?ln:this._anyControlsHaveStatus(mn)?mn:qt}_anyControlsHaveStatus(Ct){return this._anyControls(at=>at.status===Ct)}_anyControlsDirty(){return this._anyControls(Ct=>Ct.dirty)}_anyControlsTouched(){return this._anyControls(Ct=>Ct.touched)}_updatePristine(Ct,at){const Qt=!this._anyControlsDirty(),Nn=this.pristine!==Qt;this.pristine=Qt,this._parent&&!Ct.onlySelf&&this._parent._updatePristine(Ct,at),Nn&&this._events.next(new Xt(this.pristine,at))}_updateTouched(Ct={},at){this.touched=this._anyControlsTouched(),this._events.next(new dt(this.touched,at)),this._parent&&!Ct.onlySelf&&this._parent._updateTouched(Ct,at)}_registerOnCollectionChange(Ct){this._onCollectionChange=Ct}_setUpdateStrategy(Ct){ut(Ct)&&null!=Ct.updateOn&&(this._updateOn=Ct.updateOn)}_parentMarkedDirty(Ct){return!Ct&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ct){return null}_assignValidators(Ct){this._rawValidators=Array.isArray(Ct)?Ct.slice():Ct,this._composedValidatorFn=function Xn(Pt){return Array.isArray(Pt)?Z(Pt):Pt||null}(this._rawValidators)}_assignAsyncValidators(Ct){this._rawAsyncValidators=Array.isArray(Ct)?Ct.slice():Ct,this._composedAsyncValidatorFn=function ft(Pt){return Array.isArray(Pt)?ee(Pt):Pt||null}(this._rawAsyncValidators)}}class At extends Bt{constructor(Ct,at,Qt){super(nn(at),ot(Qt,at)),this.controls=Ct,this._initObservables(),this._setUpdateStrategy(at),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ct,at){return this.controls[Ct]?this.controls[Ct]:(this.controls[Ct]=at,at.setParent(this),at._registerOnCollectionChange(this._onCollectionChange),at)}addControl(Ct,at,Qt={}){this.registerControl(Ct,at),this.updateValueAndValidity({emitEvent:Qt.emitEvent}),this._onCollectionChange()}removeControl(Ct,at={}){this.controls[Ct]&&this.controls[Ct]._registerOnCollectionChange(()=>{}),delete this.controls[Ct],this.updateValueAndValidity({emitEvent:at.emitEvent}),this._onCollectionChange()}setControl(Ct,at,Qt={}){this.controls[Ct]&&this.controls[Ct]._registerOnCollectionChange(()=>{}),delete this.controls[Ct],at&&this.registerControl(Ct,at),this.updateValueAndValidity({emitEvent:Qt.emitEvent}),this._onCollectionChange()}contains(Ct){return this.controls.hasOwnProperty(Ct)&&this.controls[Ct].enabled}setValue(Ct,at={}){We(this,0,Ct),Object.keys(Ct).forEach(Qt=>{Ke(this,!0,Qt),this.controls[Qt].setValue(Ct[Qt],{onlySelf:!0,emitEvent:at.emitEvent})}),this.updateValueAndValidity(at)}patchValue(Ct,at={}){null!=Ct&&(Object.keys(Ct).forEach(Qt=>{const Nn=this.controls[Qt];Nn&&Nn.patchValue(Ct[Qt],{onlySelf:!0,emitEvent:at.emitEvent})}),this.updateValueAndValidity(at))}reset(Ct={},at={}){this._forEachChild((Qt,Nn)=>{Qt.reset(Ct?Ct[Nn]:null,{onlySelf:!0,emitEvent:at.emitEvent})}),this._updatePristine(at,this),this._updateTouched(at,this),this.updateValueAndValidity(at)}getRawValue(){return this._reduceChildren({},(Ct,at,Qt)=>(Ct[Qt]=at.getRawValue(),Ct))}_syncPendingControls(){let Ct=this._reduceChildren(!1,(at,Qt)=>!!Qt._syncPendingControls()||at);return Ct&&this.updateValueAndValidity({onlySelf:!0}),Ct}_forEachChild(Ct){Object.keys(this.controls).forEach(at=>{const Qt=this.controls[at];Qt&&Ct(Qt,at)})}_setUpControls(){this._forEachChild(Ct=>{Ct.setParent(this),Ct._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ct){for(const[at,Qt]of Object.entries(this.controls))if(this.contains(at)&&Ct(Qt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(at,Qt,Nn)=>((Qt.enabled||this.disabled)&&(at[Nn]=Qt.value),at))}_reduceChildren(Ct,at){let Qt=Ct;return this._forEachChild((Nn,Jr)=>{Qt=at(Qt,Nn,Jr)}),Qt}_allControlsDisabled(){for(const Ct of Object.keys(this.controls))if(this.controls[Ct].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ct){return this.controls.hasOwnProperty(Ct)?this.controls[Ct]:null}}class vn extends At{}const nr=new g.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Bn}),Bn="always";function Fn(Pt,Ct){return[...Ct.path,Pt]}function qe(Pt,Ct,at=Bn){pn(Pt,Ct),Ct.valueAccessor.writeValue(Pt.value),(Pt.disabled||"always"===at)&&Ct.valueAccessor.setDisabledState?.(Pt.disabled),function zn(Pt,Ct){Ct.valueAccessor.registerOnChange(at=>{Pt._pendingValue=at,Pt._pendingChange=!0,Pt._pendingDirty=!0,"change"===Pt.updateOn&&yr(Pt,Ct)})}(Pt,Ct),function Rr(Pt,Ct){const at=(Qt,Nn)=>{Ct.valueAccessor.writeValue(Qt),Nn&&Ct.viewToModelUpdate(Qt)};Pt.registerOnChange(at),Ct._registerOnDestroy(()=>{Pt._unregisterOnChange(at)})}(Pt,Ct),function or(Pt,Ct){Ct.valueAccessor.registerOnTouched(()=>{Pt._pendingTouched=!0,"blur"===Pt.updateOn&&Pt._pendingChange&&yr(Pt,Ct),"submit"!==Pt.updateOn&&Pt.markAsTouched()})}(Pt,Ct),function Kt(Pt,Ct){if(Ct.valueAccessor.setDisabledState){const at=Qt=>{Ct.valueAccessor.setDisabledState(Qt)};Pt.registerOnDisabledChange(at),Ct._registerOnDestroy(()=>{Pt._unregisterOnDisabledChange(at)})}}(Pt,Ct)}function Oe(Pt,Ct,at=!0){const Qt=()=>{};Ct.valueAccessor&&(Ct.valueAccessor.registerOnChange(Qt),Ct.valueAccessor.registerOnTouched(Qt)),jn(Pt,Ct),Pt&&(Ct._invokeOnDestroyCallbacks(),Pt._registerOnCollectionChange(()=>{}))}function Je(Pt,Ct){Pt.forEach(at=>{at.registerOnValidatorChange&&at.registerOnValidatorChange(Ct)})}function pn(Pt,Ct){const at=we(Pt);null!==Ct.validator?Pt.setValidators(le(at,Ct.validator)):"function"==typeof at&&Pt.setValidators([at]);const Qt=Me(Pt);null!==Ct.asyncValidator?Pt.setAsyncValidators(le(Qt,Ct.asyncValidator)):"function"==typeof Qt&&Pt.setAsyncValidators([Qt]);const Nn=()=>Pt.updateValueAndValidity();Je(Ct._rawValidators,Nn),Je(Ct._rawAsyncValidators,Nn)}function jn(Pt,Ct){let at=!1;if(null!==Pt){if(null!==Ct.validator){const Nn=we(Pt);if(Array.isArray(Nn)&&Nn.length>0){const Jr=Nn.filter(lo=>lo!==Ct.validator);Jr.length!==Nn.length&&(at=!0,Pt.setValidators(Jr))}}if(null!==Ct.asyncValidator){const Nn=Me(Pt);if(Array.isArray(Nn)&&Nn.length>0){const Jr=Nn.filter(lo=>lo!==Ct.asyncValidator);Jr.length!==Nn.length&&(at=!0,Pt.setAsyncValidators(Jr))}}}const Qt=()=>{};return Je(Ct._rawValidators,Qt),Je(Ct._rawAsyncValidators,Qt),at}function yr(Pt,Ct){Pt._pendingDirty&&Pt.markAsDirty(),Pt.setValue(Pt._pendingValue,{emitModelToViewChange:!1}),Ct.viewToModelUpdate(Pt._pendingValue),Pt._pendingChange=!1}function Ir(Pt,Ct){pn(Pt,Ct)}function Ut(Pt,Ct){if(!Pt.hasOwnProperty("model"))return!1;const at=Pt.model;return!!at.isFirstChange()||!Object.is(Ct,at.currentValue)}function Sn(Pt,Ct){Pt._syncPendingControls(),Ct.forEach(at=>{const Qt=at.control;"submit"===Qt.updateOn&&Qt._pendingChange&&(at.viewToModelUpdate(Qt._pendingValue),Qt._pendingChange=!1)})}function ur(Pt,Ct){if(!Ct)return null;let at,Qt,Nn;return Array.isArray(Ct),Ct.forEach(Jr=>{Jr.constructor===Q?at=Jr:function gn(Pt){return Object.getPrototypeOf(Pt.constructor)===P}(Jr)?Qt=Jr:Nn=Jr}),Nn||Qt||at||null}const _i={provide:Ce,useExisting:(0,g.Rfq)(()=>Fr)},Oi=Promise.resolve();let Fr=(()=>{class Pt extends Ce{constructor(at,Qt,Nn){super(),this.callSetDisabledState=Nn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.bkB,this.form=new At({},Z(at),ee(Qt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(at){Oi.then(()=>{const Qt=this._findContainer(at.path);at.control=Qt.registerControl(at.name,at.control),qe(at.control,at,this.callSetDisabledState),at.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(at)})}getControl(at){return this.form.get(at.path)}removeControl(at){Oi.then(()=>{const Qt=this._findContainer(at.path);Qt&&Qt.removeControl(at.name),this._directives.delete(at)})}addFormGroup(at){Oi.then(()=>{const Qt=this._findContainer(at.path),Nn=new At({});Ir(Nn,at),Qt.registerControl(at.name,Nn),Nn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(at){Oi.then(()=>{const Qt=this._findContainer(at.path);Qt&&Qt.removeControl(at.name)})}getFormGroup(at){return this.form.get(at.path)}updateModel(at,Qt){Oi.then(()=>{this.form.get(at.path).setValue(Qt)})}setValue(at){this.control.setValue(at)}onSubmit(at){return this.submitted=!0,Sn(this.form,this._directives),this.ngSubmit.emit(at),"dialog"===at?.target?.method}onReset(){this.resetForm()}resetForm(at=void 0){this.form.reset(at),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(at){return at.pop(),at.length?this.form.get(at):this.form}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)(g.rXU(W,10),g.rXU(re,10),g.rXU(nr,8))};static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Qt,Nn){1&Qt&&g.bIt("submit",function(lo){return Nn.onSubmit(lo)})("reset",function(){return Nn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g.Jv_([_i]),g.Vt3]})}return Pt})();function ci(Pt,Ct){const at=Pt.indexOf(Ct);at>-1&&Pt.splice(at,1)}function _o(Pt){return"object"==typeof Pt&&null!==Pt&&2===Object.keys(Pt).length&&"value"in Pt&&"disabled"in Pt}const Ii=class extends Bt{constructor(Ct=null,at,Qt){super(nn(at),ot(Qt,at)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ct),this._setUpdateStrategy(at),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ut(at)&&(at.nonNullable||at.initialValueIsDefault)&&(this.defaultValue=_o(Ct)?Ct.value:Ct)}setValue(Ct,at={}){this.value=this._pendingValue=Ct,this._onChange.length&&!1!==at.emitModelToViewChange&&this._onChange.forEach(Qt=>Qt(this.value,!1!==at.emitViewToModelChange)),this.updateValueAndValidity(at)}patchValue(Ct,at={}){this.setValue(Ct,at)}reset(Ct=this.defaultValue,at={}){this._applyFormState(Ct),this.markAsPristine(at),this.markAsUntouched(at),this.setValue(this.value,at),this._pendingChange=!1}_updateValue(){}_anyControls(Ct){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ct){this._onChange.push(Ct)}_unregisterOnChange(Ct){ci(this._onChange,Ct)}registerOnDisabledChange(Ct){this._onDisabledChange.push(Ct)}_unregisterOnDisabledChange(Ct){ci(this._onDisabledChange,Ct)}_forEachChild(Ct){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ct){_o(Ct)?(this.value=this._pendingValue=Ct.value,Ct.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ct}},Rn={provide:be,useExisting:(0,g.Rfq)(()=>$n)},yn=Promise.resolve();let $n=(()=>{class Pt extends be{constructor(at,Qt,Nn,Jr,lo,ac){super(),this._changeDetectorRef=lo,this.callSetDisabledState=ac,this.control=new Ii,this._registered=!1,this.name="",this.update=new g.bkB,this._parent=at,this._setValidators(Qt),this._setAsyncValidators(Nn),this.valueAccessor=ur(0,Jr)}ngOnChanges(at){if(this._checkForErrors(),!this._registered||"name"in at){if(this._registered&&(this._checkName(),this.formDirective)){const Qt=at.name.previousValue;this.formDirective.removeControl({name:Qt,path:this._getPath(Qt)})}this._setUpControl()}"isDisabled"in at&&this._updateDisabled(at),Ut(at,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(at){this.viewModel=at,this.update.emit(at)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(at){yn.then(()=>{this.control.setValue(at,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(at){const Qt=at.isDisabled.currentValue,Nn=0!==Qt&&(0,g.L39)(Qt);yn.then(()=>{Nn&&!this.control.disabled?this.control.disable():!Nn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(at){return this._parent?Fn(at,this._parent):[at]}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)(g.rXU(Ce,9),g.rXU(W,10),g.rXU(re,10),g.rXU(R,10),g.rXU(g.gRc,8),g.rXU(nr,8))};static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g.Jv_([Rn]),g.Vt3,g.OA$]})}return Pt})(),Jt=(()=>{class Pt{static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)};static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Pt})();const ct={provide:R,useExisting:(0,g.Rfq)(()=>Et),multi:!0};let Et=(()=>{class Pt extends P{writeValue(at){this.setProperty("value",at??"")}registerOnChange(at){this.onChange=Qt=>{at(""==Qt?null:parseFloat(Qt))}}static#e=this.\u0275fac=(()=>{let at;return function(Nn){return(at||(at=g.xGo(Pt)))(Nn||Pt)}})();static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Qt,Nn){1&Qt&&g.bIt("input",function(lo){return Nn.onChange(lo.target.value)})("blur",function(){return Nn.onTouched()})},features:[g.Jv_([ct]),g.Vt3]})}return Pt})();const lt=new g.nKC(""),nt={provide:be,useExisting:(0,g.Rfq)(()=>jt)};let jt=(()=>{class Pt extends be{set isDisabled(at){}static#e=this._ngModelWarningSentOnce=!1;constructor(at,Qt,Nn,Jr,lo){super(),this._ngModelWarningConfig=Jr,this.callSetDisabledState=lo,this.update=new g.bkB,this._ngModelWarningSent=!1,this._setValidators(at),this._setAsyncValidators(Qt),this.valueAccessor=ur(0,Nn)}ngOnChanges(at){if(this._isControlChanged(at)){const Qt=at.form.previousValue;Qt&&Oe(Qt,this,!1),qe(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Ut(at,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Oe(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(at){this.viewModel=at,this.update.emit(at)}_isControlChanged(at){return at.hasOwnProperty("form")}static#t=this.\u0275fac=function(Qt){return new(Qt||Pt)(g.rXU(W,10),g.rXU(re,10),g.rXU(R,10),g.rXU(lt,8),g.rXU(nr,8))};static#n=this.\u0275dir=g.FsC({type:Pt,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[g.Jv_([nt]),g.Vt3,g.OA$]})}return Pt})();const In={provide:Ce,useExisting:(0,g.Rfq)(()=>hn)};let hn=(()=>{class Pt extends Ce{constructor(at,Qt,Nn){super(),this.callSetDisabledState=Nn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.bkB,this._setValidators(at),this._setAsyncValidators(Qt)}ngOnChanges(at){this._checkFormPresent(),at.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(at){const Qt=this.form.get(at.path);return qe(Qt,at,this.callSetDisabledState),Qt.updateValueAndValidity({emitEvent:!1}),this.directives.push(at),Qt}getControl(at){return this.form.get(at.path)}removeControl(at){Oe(at.control||null,at,!1),function ar(Pt,Ct){const at=Pt.indexOf(Ct);at>-1&&Pt.splice(at,1)}(this.directives,at)}addFormGroup(at){this._setUpFormContainer(at)}removeFormGroup(at){this._cleanUpFormContainer(at)}getFormGroup(at){return this.form.get(at.path)}addFormArray(at){this._setUpFormContainer(at)}removeFormArray(at){this._cleanUpFormContainer(at)}getFormArray(at){return this.form.get(at.path)}updateModel(at,Qt){this.form.get(at.path).setValue(Qt)}onSubmit(at){return this.submitted=!0,Sn(this.form,this.directives),this.ngSubmit.emit(at),this.form._events.next(new Wt(this.control)),"dialog"===at?.target?.method}onReset(){this.resetForm()}resetForm(at=void 0){this.form.reset(at),this.submitted=!1,this.form._events.next(new Gt(this.form))}_updateDomValue(){this.directives.forEach(at=>{const Qt=at.control,Nn=this.form.get(at.path);Qt!==Nn&&(Oe(Qt||null,at),(Pt=>Pt instanceof Ii)(Nn)&&(qe(Nn,at,this.callSetDisabledState),at.control=Nn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(at){const Qt=this.form.get(at.path);Ir(Qt,at),Qt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(at){if(this.form){const Qt=this.form.get(at.path);Qt&&function Lr(Pt,Ct){return jn(Pt,Ct)}(Qt,at)&&Qt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pn(this.form,this),this._oldForm&&jn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)(g.rXU(W,10),g.rXU(re,10),g.rXU(nr,8))};static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["","formGroup",""]],hostBindings:function(Qt,Nn){1&Qt&&g.bIt("submit",function(lo){return Nn.onSubmit(lo)})("reset",function(){return Nn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g.Jv_([In]),g.Vt3,g.OA$]})}return Pt})();const Br={provide:be,useExisting:(0,g.Rfq)(()=>Vr)};let Vr=(()=>{class Pt extends be{set isDisabled(at){}static#e=this._ngModelWarningSentOnce=!1;constructor(at,Qt,Nn,Jr,lo){super(),this._ngModelWarningConfig=lo,this._added=!1,this.name=null,this.update=new g.bkB,this._ngModelWarningSent=!1,this._parent=at,this._setValidators(Qt),this._setAsyncValidators(Nn),this.valueAccessor=ur(0,Jr)}ngOnChanges(at){this._added||this._setUpControl(),Ut(at,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(at){this.viewModel=at,this.update.emit(at)}get path(){return Fn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Qt){return new(Qt||Pt)(g.rXU(Ce,13),g.rXU(W,10),g.rXU(re,10),g.rXU(R,10),g.rXU(lt,8))};static#n=this.\u0275dir=g.FsC({type:Pt,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[g.Jv_([Br]),g.Vt3,g.OA$]})}return Pt})();let Po=(()=>{class Pt{constructor(){this._validator=h}ngOnChanges(at){if(this.inputName in at){const Qt=this.normalizeInput(at[this.inputName].currentValue);this._enabled=this.enabled(Qt),this._validator=this._enabled?this.createValidator(Qt):h,this._onChange&&this._onChange()}}validate(at){return this._validator(at)}registerOnValidatorChange(at){this._onChange=at}enabled(at){return null!=at}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)};static#t=this.\u0275dir=g.FsC({type:Pt,features:[g.OA$]})}return Pt})();const Da={provide:W,useExisting:(0,g.Rfq)(()=>Ac),multi:!0},vl={provide:W,useExisting:(0,g.Rfq)(()=>Cc),multi:!0};let Ac=(()=>{class Pt extends Po{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.L39,this.createValidator=at=>pe}enabled(at){return at}static#e=this.\u0275fac=(()=>{let at;return function(Nn){return(at||(at=g.xGo(Pt)))(Nn||Pt)}})();static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Qt,Nn){2&Qt&&g.BMQ("required",Nn._enabled?"":null)},inputs:{required:"required"},features:[g.Jv_([Da]),g.Vt3]})}return Pt})(),Cc=(()=>{class Pt extends Ac{constructor(){super(...arguments),this.createValidator=at=>ve}static#e=this.\u0275fac=(()=>{let at;return function(Nn){return(at||(at=g.xGo(Pt)))(Nn||Pt)}})();static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Qt,Nn){2&Qt&&g.BMQ("required",Nn._enabled?"":null)},features:[g.Jv_([vl]),g.Vt3]})}return Pt})();const Zf={provide:W,useExisting:(0,g.Rfq)(()=>Zd),multi:!0};let Zd=(()=>{class Pt extends Po{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=at=>function xo(Pt){return"number"==typeof Pt?Pt:parseInt(Pt,10)}(at),this.createValidator=at=>s(at)}static#e=this.\u0275fac=(()=>{let at;return function(Nn){return(at||(at=g.xGo(Pt)))(Nn||Pt)}})();static#t=this.\u0275dir=g.FsC({type:Pt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Qt,Nn){2&Qt&&g.BMQ("maxlength",Nn._enabled?Nn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[g.Jv_([Zf]),g.Vt3]})}return Pt})(),yo=(()=>{class Pt{static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)};static#t=this.\u0275mod=g.$C({type:Pt});static#n=this.\u0275inj=g.G2t({})}return Pt})();class la extends Bt{constructor(Ct,at,Qt){super(nn(at),ot(Qt,at)),this.controls=Ct,this._initObservables(),this._setUpdateStrategy(at),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ct){return this.controls[this._adjustIndex(Ct)]}push(Ct,at={}){this.controls.push(Ct),this._registerControl(Ct),this.updateValueAndValidity({emitEvent:at.emitEvent}),this._onCollectionChange()}insert(Ct,at,Qt={}){this.controls.splice(Ct,0,at),this._registerControl(at),this.updateValueAndValidity({emitEvent:Qt.emitEvent})}removeAt(Ct,at={}){let Qt=this._adjustIndex(Ct);Qt<0&&(Qt=0),this.controls[Qt]&&this.controls[Qt]._registerOnCollectionChange(()=>{}),this.controls.splice(Qt,1),this.updateValueAndValidity({emitEvent:at.emitEvent})}setControl(Ct,at,Qt={}){let Nn=this._adjustIndex(Ct);Nn<0&&(Nn=0),this.controls[Nn]&&this.controls[Nn]._registerOnCollectionChange(()=>{}),this.controls.splice(Nn,1),at&&(this.controls.splice(Nn,0,at),this._registerControl(at)),this.updateValueAndValidity({emitEvent:Qt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ct,at={}){We(this,0,Ct),Ct.forEach((Qt,Nn)=>{Ke(this,!1,Nn),this.at(Nn).setValue(Qt,{onlySelf:!0,emitEvent:at.emitEvent})}),this.updateValueAndValidity(at)}patchValue(Ct,at={}){null!=Ct&&(Ct.forEach((Qt,Nn)=>{this.at(Nn)&&this.at(Nn).patchValue(Qt,{onlySelf:!0,emitEvent:at.emitEvent})}),this.updateValueAndValidity(at))}reset(Ct=[],at={}){this._forEachChild((Qt,Nn)=>{Qt.reset(Ct[Nn],{onlySelf:!0,emitEvent:at.emitEvent})}),this._updatePristine(at,this),this._updateTouched(at,this),this.updateValueAndValidity(at)}getRawValue(){return this.controls.map(Ct=>Ct.getRawValue())}clear(Ct={}){this.controls.length<1||(this._forEachChild(at=>at._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ct.emitEvent}))}_adjustIndex(Ct){return Ct<0?Ct+this.length:Ct}_syncPendingControls(){let Ct=this.controls.reduce((at,Qt)=>!!Qt._syncPendingControls()||at,!1);return Ct&&this.updateValueAndValidity({onlySelf:!0}),Ct}_forEachChild(Ct){this.controls.forEach((at,Qt)=>{Ct(at,Qt)})}_updateValue(){this.value=this.controls.filter(Ct=>Ct.enabled||this.disabled).map(Ct=>Ct.value)}_anyControls(Ct){return this.controls.some(at=>at.enabled&&Ct(at))}_setUpControls(){this._forEachChild(Ct=>this._registerControl(Ct))}_allControlsDisabled(){for(const Ct of this.controls)if(Ct.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ct){Ct.setParent(this),Ct._registerOnCollectionChange(this._onCollectionChange)}_find(Ct){return this.at(Ct)??null}}function cu(Pt){return!!Pt&&(void 0!==Pt.asyncValidators||void 0!==Pt.validators||void 0!==Pt.updateOn)}let du=(()=>{class Pt{constructor(){this.useNonNullable=!1}get nonNullable(){const at=new Pt;return at.useNonNullable=!0,at}group(at,Qt=null){const Nn=this._reduceControls(at);let Jr={};return cu(Qt)?Jr=Qt:null!==Qt&&(Jr.validators=Qt.validator,Jr.asyncValidators=Qt.asyncValidator),new At(Nn,Jr)}record(at,Qt=null){const Nn=this._reduceControls(at);return new vn(Nn,Qt)}control(at,Qt,Nn){let Jr={};return this.useNonNullable?(cu(Qt)?Jr=Qt:(Jr.validators=Qt,Jr.asyncValidators=Nn),new Ii(at,{...Jr,nonNullable:!0})):new Ii(at,Qt,Nn)}array(at,Qt,Nn){const Jr=at.map(lo=>this._createControl(lo));return new la(Jr,Qt,Nn)}_reduceControls(at){const Qt={};return Object.keys(at).forEach(Nn=>{Qt[Nn]=this._createControl(at[Nn])}),Qt}_createControl(at){return at instanceof Ii||at instanceof Bt?at:Array.isArray(at)?this.control(at[0],at.length>1?at[1]:null,at.length>2?at[2]:null):this.control(at)}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)};static#t=this.\u0275prov=g.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})(),Ua=(()=>{class Pt{static withConfig(at){return{ngModule:Pt,providers:[{provide:nr,useValue:at.callSetDisabledState??Bn}]}}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)};static#t=this.\u0275mod=g.$C({type:Pt});static#n=this.\u0275inj=g.G2t({imports:[yo]})}return Pt})(),qu=(()=>{class Pt{static withConfig(at){return{ngModule:Pt,providers:[{provide:lt,useValue:at.warnOnNgModelWithFormControl??"always"},{provide:nr,useValue:at.callSetDisabledState??Bn}]}}static#e=this.\u0275fac=function(Qt){return new(Qt||Pt)};static#t=this.\u0275mod=g.$C({type:Pt});static#n=this.\u0275inj=g.G2t({imports:[yo]})}return Pt})()},94073:()=>{"use strict";const $e=":";Error;const le=function(Ge,...ge){if(le.translate){const Ue=le.translate(Ge,ge);Ge=Ue[0],ge=Ue[1]}let me=Me(Ge[0],Ge.raw[0]);for(let Ue=1;Ue<Ge.length;Ue++)me+=ge[Ue-1]+Me(Ge[Ue],Ge.raw[Ue]);return me},we=":";function Me(Ge,ge){return ge.charAt(0)===we?Ge.substring(function h(Ge,ge){for(let me=1,Ue=1;me<Ge.length;me++,Ue++)if("\\"===ge[Ue])Ue++;else if(Ge[me]===$e)return me;throw new Error(`Unterminated $localize metadata block in "${ge}".`)}(Ge,ge)+1):Ge}globalThis.$localize=le},88834:($e,j,E)=>{"use strict";E.d(j,{$z:()=>ue,Hl:()=>I,It:()=>ce,iY:()=>f,pQ:()=>w});var g=E(36860),_=E(93953),B=E(18617),H=E(86600);const b=["mat-button",""],k=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],S=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],R=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",U=["mat-icon-button",""],K=["*"],q=new _.nKC("MAT_BUTTON_CONFIG"),W=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let re=(()=>{class L{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(a){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,a)}get disableRipple(){return this._disableRipple}set disableRipple(a){this._disableRipple=a,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(a){this._disabled=a,this._updateRippleDisabled()}constructor(a,v,Z,z){this._elementRef=a,this._platform=v,this._ngZone=Z,this._animationMode=z,this._focusMonitor=(0,_.WQX)(B.FN),this._rippleLoader=(0,_.WQX)(H.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const ee=(0,_.WQX)(q,{optional:!0}),le=a.nativeElement,we=le.classList;this.disabledInteractive=ee?.disabledInteractive??!1,this._rippleLoader?.configureRipple(le,{className:"mat-mdc-button-ripple"});for(const{attribute:Me,mdcClasses:Ge}of W)le.hasAttribute(Me)&&we.add(...Ge)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(a="program",v){a?this._focusMonitor.focusVia(this._elementRef.nativeElement,a,v):this._elementRef.nativeElement.focus(v)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(v){_.QTQ()};static#t=this.\u0275dir=_.FsC({type:L,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",_.L39],disabled:[2,"disabled","disabled",_.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",_.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",_.L39]},features:[_.GFd]})}return L})(),ae=(()=>{class L extends re{constructor(a,v,Z,z){super(a,v,Z,z),this._haltDisabledEvents=ee=>{this.disabled&&(ee.preventDefault(),ee.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(v){_.QTQ()};static#t=this.\u0275dir=_.FsC({type:L,inputs:{tabIndex:[2,"tabIndex","tabIndex",a=>null==a?void 0:(0,_.Udg)(a)]},features:[_.GFd,_.Vt3]})}return L})(),ue=(()=>{class L extends re{constructor(a,v,Z,z){super(a,v,Z,z)}static#e=this.\u0275fac=function(v){return new(v||L)(_.rXU(_.aKT),_.rXU(g.OD),_.rXU(_.SKi),_.rXU(_.bc$,8))};static#t=this.\u0275cmp=_.VBU({type:L,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(v,Z){2&v&&(_.BMQ("disabled",Z._getDisabledAttribute())("aria-disabled",Z._getAriaDisabled()),_.HbH(Z.color?"mat-"+Z.color:""),_.AVh("mat-mdc-button-disabled",Z.disabled)("mat-mdc-button-disabled-interactive",Z.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Z._animationMode)("mat-unthemed",!Z.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[_.Vt3,_.aNF],attrs:b,ngContentSelectors:S,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,Z){1&v&&(_.NAR(k),_.nrm(0,"span",0),_.SdG(1),_.j41(2,"span",1),_.SdG(3,1),_.k0s(),_.SdG(4,2),_.nrm(5,"span",2)(6,"span",3)),2&v&&_.AVh("mdc-button__ripple",!Z._isFab)("mdc-fab__ripple",Z._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return L})(),ce=(()=>{class L extends ae{constructor(a,v,Z,z){super(a,v,Z,z)}static#e=this.\u0275fac=function(v){return new(v||L)(_.rXU(_.aKT),_.rXU(g.OD),_.rXU(_.SKi),_.rXU(_.bc$,8))};static#t=this.\u0275cmp=_.VBU({type:L,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(v,Z){2&v&&(_.BMQ("disabled",Z._getDisabledAttribute())("tabindex",Z.disabled&&!Z.disabledInteractive?-1:Z.tabIndex)("aria-disabled",Z._getDisabledAttribute()),_.HbH(Z.color?"mat-"+Z.color:""),_.AVh("mat-mdc-button-disabled",Z.disabled)("mat-mdc-button-disabled-interactive",Z.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Z._animationMode)("mat-unthemed",!Z.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[_.Vt3,_.aNF],attrs:b,ngContentSelectors:S,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,Z){1&v&&(_.NAR(k),_.nrm(0,"span",0),_.SdG(1),_.j41(2,"span",1),_.SdG(3,1),_.k0s(),_.SdG(4,2),_.nrm(5,"span",2)(6,"span",3)),2&v&&_.AVh("mdc-button__ripple",!Z._isFab)("mdc-fab__ripple",Z._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',R],encapsulation:2,changeDetection:0})}return L})(),f=(()=>{class L extends re{constructor(a,v,Z,z){super(a,v,Z,z),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(v){return new(v||L)(_.rXU(_.aKT),_.rXU(g.OD),_.rXU(_.SKi),_.rXU(_.bc$,8))};static#t=this.\u0275cmp=_.VBU({type:L,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(v,Z){2&v&&(_.BMQ("disabled",Z._getDisabledAttribute())("aria-disabled",Z._getAriaDisabled()),_.HbH(Z.color?"mat-"+Z.color:""),_.AVh("mat-mdc-button-disabled",Z.disabled)("mat-mdc-button-disabled-interactive",Z.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Z._animationMode)("mat-unthemed",!Z.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[_.Vt3,_.aNF],attrs:U,ngContentSelectors:K,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,Z){1&v&&(_.NAR(),_.nrm(0,"span",0),_.SdG(1),_.nrm(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',R],encapsulation:2,changeDetection:0})}return L})(),w=(()=>{class L extends ae{constructor(a,v,Z,z){super(a,v,Z,z)}static#e=this.\u0275fac=function(v){return new(v||L)(_.rXU(_.aKT),_.rXU(g.OD),_.rXU(_.SKi),_.rXU(_.bc$,8))};static#t=this.\u0275cmp=_.VBU({type:L,selectors:[["a","mat-icon-button",""]],hostVars:15,hostBindings:function(v,Z){2&v&&(_.BMQ("disabled",Z._getDisabledAttribute())("tabindex",Z.disabled&&!Z.disabledInteractive?-1:Z.tabIndex)("aria-disabled",Z._getDisabledAttribute()),_.HbH(Z.color?"mat-"+Z.color:""),_.AVh("mat-mdc-button-disabled",Z.disabled)("mat-mdc-button-disabled-interactive",Z.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Z._animationMode)("mat-unthemed",!Z.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[_.Vt3,_.aNF],attrs:U,ngContentSelectors:K,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,Z){1&v&&(_.NAR(),_.nrm(0,"span",0),_.SdG(1),_.nrm(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',R],encapsulation:2,changeDetection:0})}return L})(),I=(()=>{class L{static#e=this.\u0275fac=function(v){return new(v||L)};static#t=this.\u0275mod=_.$C({type:L});static#n=this.\u0275inj=_.G2t({imports:[H.yE,H.pZ,H.yE]})}return L})()},86600:($e,j,E)=>{"use strict";E.d(j,{r5:()=>ae,ed:()=>ue,es:()=>xe,QC:()=>Ht,is:()=>Ae,$E:()=>D,yE:()=>ve,Np:()=>ne,wT:()=>mn,Sy:()=>Tn,wg:()=>fe,O5:()=>Se,r6:()=>M,Ej:()=>nn,pZ:()=>G,ug:()=>pt,X0:()=>I,tO:()=>Xn,jb:()=>ln,TL:()=>rr});var g=E(93953),_=E(18617),B=E(28203),b=E(60177),k=E(36860),S=E(14085),P=E(21413),R=E(67336);const V=["text"],U=[[["mat-icon"]],"*"],K=["mat-icon","*"];function Q(ot,ft){if(1&ot&&g.nrm(0,"mat-pseudo-checkbox",1),2&ot){const ut=g.XpG();g.Y8G("disabled",ut.disabled)("state",ut.selected?"checked":"unchecked")}}function q(ot,ft){if(1&ot&&g.nrm(0,"mat-pseudo-checkbox",3),2&ot){const ut=g.XpG();g.Y8G("disabled",ut.disabled)}}function Y(ot,ft){if(1&ot&&(g.j41(0,"span",4),g.EFF(1),g.k0s()),2&ot){const ut=g.XpG();g.R7$(),g.SpI("(",ut.group.label,")")}}const W=["mat-internal-form-field",""],re=["*"];let ae=(()=>{class ot{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return ot})(),ue=(()=>{class ot{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return ot})();const pe=new g.nKC("mat-sanity-checks",{providedIn:"root",factory:function ce(){return!0}});let ve=(()=>{class ot{constructor(ut,Ke,We){this._sanityChecks=Ke,this._document=We,this._hasDoneGlobalChecks=!1,ut._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ut){return!(0,k.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ut])}static#e=this.\u0275fac=function(Ke){return new(Ke||ot)(g.KVO(_.Q_),g.KVO(pe,8),g.KVO(b.qQ))};static#t=this.\u0275mod=g.$C({type:ot});static#n=this.\u0275inj=g.G2t({imports:[B.jI,B.jI]})}return ot})();class I{constructor(ft,ut,Ke,We,Bt){this._defaultMatcher=ft,this.ngControl=ut,this._parentFormGroup=Ke,this._parentForm=We,this._stateChanges=Bt,this.errorState=!1}updateErrorState(){const ft=this.errorState,ut=this._parentFormGroup||this._parentForm,Ke=this.matcher||this._defaultMatcher,We=this.ngControl?this.ngControl.control:null,Bt=Ke?.isErrorState(We,ut)??!1;Bt!==ft&&(this.errorState=Bt,this._stateChanges.next())}}let xe=(()=>{class ot{isErrorState(ut,Ke){return!!(ut&&ut.invalid&&(ut.touched||Ke&&Ke.submitted))}static#e=this.\u0275fac=function(Ke){return new(Ke||ot)};static#t=this.\u0275prov=g.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),ne=(()=>{class ot{static#e=this.\u0275fac=function(Ke){return new(Ke||ot)};static#t=this.\u0275mod=g.$C({type:ot});static#n=this.\u0275inj=g.G2t({imports:[ve,ve]})}return ot})();var te=function(ot){return ot[ot.FADING_IN=0]="FADING_IN",ot[ot.VISIBLE=1]="VISIBLE",ot[ot.FADING_OUT=2]="FADING_OUT",ot[ot.HIDDEN=3]="HIDDEN",ot}(te||{});class de{constructor(ft,ut,Ke,We=!1){this._renderer=ft,this.element=ut,this.config=Ke,this._animationForciblyDisabledThroughCss=We,this.state=te.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const _e=(0,k.BQ)({passive:!0,capture:!0});class Ie{constructor(){this._events=new Map,this._delegateEventHandler=ft=>{const ut=(0,k.Fb)(ft);ut&&this._events.get(ft.type)?.forEach((Ke,We)=>{(We===ut||We.contains(ut))&&Ke.forEach(Bt=>Bt.handleEvent(ft))})}}addHandler(ft,ut,Ke,We){const Bt=this._events.get(ut);if(Bt){const At=Bt.get(Ke);At?At.add(We):Bt.set(Ke,new Set([We]))}else this._events.set(ut,new Map([[Ke,new Set([We])]])),ft.runOutsideAngular(()=>{document.addEventListener(ut,this._delegateEventHandler,_e)})}removeHandler(ft,ut,Ke){const We=this._events.get(ft);if(!We)return;const Bt=We.get(ut);Bt&&(Bt.delete(Ke),0===Bt.size&&We.delete(ut),0===We.size&&(this._events.delete(ft),document.removeEventListener(ft,this._delegateEventHandler,_e)))}}const He={enterDuration:225,exitDuration:150},xt=(0,k.BQ)({passive:!0,capture:!0}),Ne=["mousedown","touchstart"],ke=["mouseup","mouseleave","touchend","touchcancel"];class pt{static#e=this._eventManager=new Ie;constructor(ft,ut,Ke,We){this._target=ft,this._ngZone=ut,this._platform=We,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,We.isBrowser&&(this._containerElement=(0,S.i8)(Ke))}fadeInRipple(ft,ut,Ke={}){const We=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Bt={...He,...Ke.animation};Ke.centered&&(ft=We.left+We.width/2,ut=We.top+We.height/2);const At=Ke.radius||function F(ot,ft,ut){const Ke=Math.max(Math.abs(ot-ut.left),Math.abs(ot-ut.right)),We=Math.max(Math.abs(ft-ut.top),Math.abs(ft-ut.bottom));return Math.sqrt(Ke*Ke+We*We)}(ft,ut,We),fn=ft-We.left,Un=ut-We.top,wn=Bt.enterDuration,vn=document.createElement("div");vn.classList.add("mat-ripple-element"),vn.style.left=fn-At+"px",vn.style.top=Un-At+"px",vn.style.height=2*At+"px",vn.style.width=2*At+"px",null!=Ke.color&&(vn.style.backgroundColor=Ke.color),vn.style.transitionDuration=`${wn}ms`,this._containerElement.appendChild(vn);const pr=window.getComputedStyle(vn),Bn=pr.transitionDuration,Fn="none"===pr.transitionProperty||"0s"===Bn||"0s, 0s"===Bn||0===We.width&&0===We.height,qe=new de(this,vn,Ke,Fn);vn.style.transform="scale3d(1, 1, 1)",qe.state=te.FADING_IN,Ke.persistent||(this._mostRecentTransientRipple=qe);let Oe=null;return!Fn&&(wn||Bt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Je=()=>this._finishRippleTransition(qe),Kt=()=>this._destroyRipple(qe);vn.addEventListener("transitionend",Je),vn.addEventListener("transitioncancel",Kt),Oe={onTransitionEnd:Je,onTransitionCancel:Kt}}),this._activeRipples.set(qe,Oe),(Fn||!wn)&&this._finishRippleTransition(qe),qe}fadeOutRipple(ft){if(ft.state===te.FADING_OUT||ft.state===te.HIDDEN)return;const ut=ft.element,Ke={...He,...ft.config.animation};ut.style.transitionDuration=`${Ke.exitDuration}ms`,ut.style.opacity="0",ft.state=te.FADING_OUT,(ft._animationForciblyDisabledThroughCss||!Ke.exitDuration)&&this._finishRippleTransition(ft)}fadeOutAll(){this._getActiveRipples().forEach(ft=>ft.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ft=>{ft.config.persistent||ft.fadeOut()})}setupTriggerEvents(ft){const ut=(0,S.i8)(ft);!this._platform.isBrowser||!ut||ut===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ut,Ne.forEach(Ke=>{pt._eventManager.addHandler(this._ngZone,Ke,ut,this)}))}handleEvent(ft){"mousedown"===ft.type?this._onMousedown(ft):"touchstart"===ft.type?this._onTouchStart(ft):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ke.forEach(ut=>{this._triggerElement.addEventListener(ut,this,xt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ft){ft.state===te.FADING_IN?this._startFadeOutTransition(ft):ft.state===te.FADING_OUT&&this._destroyRipple(ft)}_startFadeOutTransition(ft){const ut=ft===this._mostRecentTransientRipple,{persistent:Ke}=ft.config;ft.state=te.VISIBLE,!Ke&&(!ut||!this._isPointerDown)&&ft.fadeOut()}_destroyRipple(ft){const ut=this._activeRipples.get(ft)??null;this._activeRipples.delete(ft),this._activeRipples.size||(this._containerRect=null),ft===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ft.state=te.HIDDEN,null!==ut&&(ft.element.removeEventListener("transitionend",ut.onTransitionEnd),ft.element.removeEventListener("transitioncancel",ut.onTransitionCancel)),ft.element.remove()}_onMousedown(ft){const ut=(0,_._G)(ft),Ke=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ut&&!Ke&&(this._isPointerDown=!0,this.fadeInRipple(ft.clientX,ft.clientY,this._target.rippleConfig))}_onTouchStart(ft){if(!this._target.rippleDisabled&&!(0,_.w6)(ft)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ut=ft.changedTouches;if(ut)for(let Ke=0;Ke<ut.length;Ke++)this.fadeInRipple(ut[Ke].clientX,ut[Ke].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ft=>{!ft.config.persistent&&(ft.state===te.VISIBLE||ft.config.terminateOnPointerUp&&ft.state===te.FADING_IN)&&ft.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ft=this._triggerElement;ft&&(Ne.forEach(ut=>pt._eventManager.removeHandler(ut,ft,this)),this._pointerUpEventsRegistered&&(ke.forEach(ut=>ft.removeEventListener(ut,this,xt)),this._pointerUpEventsRegistered=!1))}}const D=new g.nKC("mat-ripple-global-options");let M=(()=>{class ot{get disabled(){return this._disabled}set disabled(ut){ut&&this.fadeOutAllNonPersistent(),this._disabled=ut,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ut){this._trigger=ut,this._setupTriggerEventsIfEnabled()}constructor(ut,Ke,We,Bt,At){this._elementRef=ut,this._animationMode=At,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Bt||{},this._rippleRenderer=new pt(this,Ke,ut,We)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ut,Ke=0,We){return"number"==typeof ut?this._rippleRenderer.fadeInRipple(ut,Ke,{...this.rippleConfig,...We}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ut})}static#e=this.\u0275fac=function(Ke){return new(Ke||ot)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(k.OD),g.rXU(D,8),g.rXU(g.bc$,8))};static#t=this.\u0275dir=g.FsC({type:ot,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ke,We){2&Ke&&g.AVh("mat-ripple-unbounded",We.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return ot})(),G=(()=>{class ot{static#e=this.\u0275fac=function(Ke){return new(Ke||ot)};static#t=this.\u0275mod=g.$C({type:ot});static#n=this.\u0275inj=g.G2t({imports:[ve,ve]})}return ot})(),fe=(()=>{class ot{constructor(ut){this._animationMode=ut,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Ke){return new(Ke||ot)(g.rXU(g.bc$,8))};static#t=this.\u0275cmp=g.VBU({type:ot,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Ke,We){2&Ke&&g.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===We.state)("mat-pseudo-checkbox-checked","checked"===We.state)("mat-pseudo-checkbox-disabled",We.disabled)("mat-pseudo-checkbox-minimal","minimal"===We.appearance)("mat-pseudo-checkbox-full","full"===We.appearance)("_mat-animation-noopable","NoopAnimations"===We._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[g.aNF],decls:0,vars:0,template:function(Ke,We){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return ot})(),Se=(()=>{class ot{static#e=this.\u0275fac=function(Ke){return new(Ke||ot)};static#t=this.\u0275mod=g.$C({type:ot});static#n=this.\u0275inj=g.G2t({imports:[ve]})}return ot})();const Ae=new g.nKC("MAT_OPTION_PARENT_COMPONENT"),Ht=new g.nKC("MatOptgroup");let Ot=0;class qt{constructor(ft,ut=!1){this.source=ft,this.isUserInput=ut}}let mn=(()=>{class ot{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(ut){this._disabled=ut}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(ut,Ke,We,Bt){this._element=ut,this._changeDetectorRef=Ke,this._parent=We,this.group=Bt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ot++,this.onSelectionChange=new g.bkB,this._stateChanges=new P.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(ut=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),ut&&this._emitSelectionChangeEvent())}deselect(ut=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),ut&&this._emitSelectionChangeEvent())}focus(ut,Ke){const We=this._getHostElement();"function"==typeof We.focus&&We.focus(Ke)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(ut){(ut.keyCode===R.Fm||ut.keyCode===R.t6)&&!(0,R.rp)(ut)&&(this._selectViaInteraction(),ut.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const ut=this.viewValue;ut!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=ut)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(ut=!1){this.onSelectionChange.emit(new qt(this,ut))}static#e=this.\u0275fac=function(Ke){return new(Ke||ot)(g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(Ae,8),g.rXU(Ht,8))};static#t=this.\u0275cmp=g.VBU({type:ot,selectors:[["mat-option"]],viewQuery:function(Ke,We){if(1&Ke&&g.GBs(V,7),2&Ke){let Bt;g.mGM(Bt=g.lsd())&&(We._text=Bt.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Ke,We){1&Ke&&g.bIt("click",function(){return We._selectViaInteraction()})("keydown",function(At){return We._handleKeydown(At)}),2&Ke&&(g.Mr5("id",We.id),g.BMQ("aria-selected",We.selected)("aria-disabled",We.disabled.toString()),g.AVh("mdc-list-item--selected",We.selected)("mat-mdc-option-multiple",We.multiple)("mat-mdc-option-active",We.active)("mdc-list-item--disabled",We.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",g.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:K,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Ke,We){1&Ke&&(g.NAR(U),g.DNE(0,Q,1,2,"mat-pseudo-checkbox",1),g.SdG(1),g.j41(2,"span",2,0),g.SdG(4,1),g.k0s(),g.DNE(5,q,1,1,"mat-pseudo-checkbox",3)(6,Y,2,1,"span",4),g.nrm(7,"div",5)),2&Ke&&(g.vxM(We.multiple?0:-1),g.R7$(5),g.vxM(We.multiple||!We.selected||We.hideSingleSelectionIndicator?-1:5),g.R7$(),g.vxM(We.group&&We.group._inert?6:-1),g.R7$(),g.Y8G("matRippleTrigger",We._getHostElement())("matRippleDisabled",We.disabled||We.disableRipple))},dependencies:[fe,M],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ot})();function ln(ot,ft,ut){if(ut.length){let Ke=ft.toArray(),We=ut.toArray(),Bt=0;for(let At=0;At<ot+1;At++)Ke[At].group&&Ke[At].group===We[Bt]&&Bt++;return Bt}return 0}function rr(ot,ft,ut,Ke){return ot<ut?ot:ot+ft>ut+Ke?Math.max(0,ot-Ke+ft):ut}let Tn=(()=>{class ot{static#e=this.\u0275fac=function(Ke){return new(Ke||ot)};static#t=this.\u0275mod=g.$C({type:ot});static#n=this.\u0275inj=g.G2t({imports:[G,ve,Se]})}return ot})();const rn={capture:!0},Xt=["focus","mousedown","mouseenter","touchstart"],dt="mat-ripple-loader-uninitialized",it="mat-ripple-loader-class-name",Wt="mat-ripple-loader-centered",Gt="mat-ripple-loader-disabled";let nn=(()=>{class ot{constructor(){this._document=(0,g.WQX)(b.qQ,{optional:!0}),this._animationMode=(0,g.WQX)(g.bc$,{optional:!0}),this._globalRippleOptions=(0,g.WQX)(D,{optional:!0}),this._platform=(0,g.WQX)(k.OD),this._ngZone=(0,g.WQX)(g.SKi),this._hosts=new Map,this._onInteraction=ut=>{const Ke=(0,k.Fb)(ut);if(Ke instanceof HTMLElement){const We=Ke.closest(`[${dt}="${this._globalRippleOptions?.namespace??""}"]`);We&&this._createRipple(We)}},this._ngZone.runOutsideAngular(()=>{for(const ut of Xt)this._document?.addEventListener(ut,this._onInteraction,rn)})}ngOnDestroy(){const ut=this._hosts.keys();for(const Ke of ut)this.destroyRipple(Ke);for(const Ke of Xt)this._document?.removeEventListener(Ke,this._onInteraction,rn)}configureRipple(ut,Ke){ut.setAttribute(dt,this._globalRippleOptions?.namespace??""),(Ke.className||!ut.hasAttribute(it))&&ut.setAttribute(it,Ke.className||""),Ke.centered&&ut.setAttribute(Wt,""),Ke.disabled&&ut.setAttribute(Gt,"")}getRipple(ut){return this._hosts.get(ut)||this._createRipple(ut)}setDisabled(ut,Ke){const We=this._hosts.get(ut);We?We.disabled=Ke:Ke?ut.setAttribute(Gt,""):ut.removeAttribute(Gt)}_createRipple(ut){if(!this._document)return;const Ke=this._hosts.get(ut);if(Ke)return Ke;ut.querySelector(".mat-ripple")?.remove();const We=this._document.createElement("span");We.classList.add("mat-ripple",ut.getAttribute(it)),ut.append(We);const Bt=new M(new g.aKT(We),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Bt._isInitialized=!0,Bt.trigger=ut,Bt.centered=ut.hasAttribute(Wt),Bt.disabled=ut.hasAttribute(Gt),this.attachRipple(ut,Bt),Bt}attachRipple(ut,Ke){ut.removeAttribute(dt),this._hosts.set(ut,Ke)}destroyRipple(ut){const Ke=this._hosts.get(ut);Ke&&(Ke.ngOnDestroy(),this._hosts.delete(ut))}static#e=this.\u0275fac=function(Ke){return new(Ke||ot)};static#t=this.\u0275prov=g.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),Xn=(()=>{class ot{static#e=this.\u0275fac=function(Ke){return new(Ke||ot)};static#t=this.\u0275cmp=g.VBU({type:ot,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Ke,We){2&Ke&&g.AVh("mdc-form-field--align-end","before"===We.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[g.aNF],attrs:W,ngContentSelectors:re,decls:1,vars:0,template:function(Ke,We){1&Ke&&(g.NAR(),g.SdG(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}return ot})()},71997:($e,j,E)=>{"use strict";E.d(j,{q:()=>H,w:()=>b});var g=E(93953),_=E(14085),B=E(86600);let H=(()=>{class k{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(P){this._vertical=(0,_.he)(P)}get inset(){return this._inset}set inset(P){this._inset=(0,_.he)(P)}static#e=this.\u0275fac=function(R){return new(R||k)};static#t=this.\u0275cmp=g.VBU({type:k,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(R,O){2&R&&(g.BMQ("aria-orientation",O.vertical?"vertical":"horizontal"),g.AVh("mat-divider-vertical",O.vertical)("mat-divider-horizontal",!O.vertical)("mat-divider-inset",O.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[g.aNF],decls:0,vars:0,template:function(R,O){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return k})(),b=(()=>{class k{static#e=this.\u0275fac=function(R){return new(R||k)};static#t=this.\u0275mod=g.$C({type:k});static#n=this.\u0275inj=g.G2t({imports:[B.yE,B.yE]})}return k})()},53719:($e,j,E)=>{"use strict";E.d(j,{MV:()=>Ge,RG:()=>Ae,TL:()=>we,nJ:()=>z,qT:()=>He,rl:()=>Se,xb:()=>ke,yw:()=>xe});var g=E(93953),_=E(28203),B=E(14085),H=E(36860),b=E(60177),k=E(18359),S=E(21413),P=E(57786),R=E(56977),O=E(98170),A=E(49969),V=E(72318),U=E(86600);const K=["notch"],Q=["matFormFieldNotchedOutline",""],q=["*"],Y=["textField"],W=["iconPrefixContainer"],re=["textPrefixContainer"],ie=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ae=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function ue(rt,Ht){1&rt&&g.nrm(0,"span",19)}function ce(rt,Ht){if(1&rt&&(g.j41(0,"label",18),g.SdG(1,1),g.DNE(2,ue,1,0,"span",19),g.k0s()),2&rt){const vt=g.XpG(2);g.Y8G("floating",vt._shouldLabelFloat())("monitorResize",vt._hasOutline())("id",vt._labelId),g.BMQ("for",vt._control.disableAutomaticLabeling?null:vt._control.id),g.R7$(2),g.vxM(!vt.hideRequiredMarker&&vt._control.required?2:-1)}}function pe(rt,Ht){if(1&rt&&g.DNE(0,ce,3,5,"label",18),2&rt){const vt=g.XpG();g.vxM(vt._hasFloatingLabel()?0:-1)}}function ve(rt,Ht){1&rt&&g.nrm(0,"div",5)}function De(rt,Ht){}function C(rt,Ht){if(1&rt&&g.DNE(0,De,0,0,"ng-template",11),2&rt){g.XpG(2);const vt=g.sdS(1);g.Y8G("ngTemplateOutlet",vt)}}function s(rt,Ht){if(1&rt&&(g.j41(0,"div",7),g.DNE(1,C,1,1,null,11),g.k0s()),2&rt){const vt=g.XpG();g.Y8G("matFormFieldNotchedOutlineOpen",vt._shouldLabelFloat()),g.R7$(),g.vxM(vt._forceDisplayInfixLabel()?-1:1)}}function d(rt,Ht){1&rt&&(g.j41(0,"div",8,2),g.SdG(2,2),g.k0s())}function h(rt,Ht){1&rt&&(g.j41(0,"div",9,3),g.SdG(2,3),g.k0s())}function f(rt,Ht){}function w(rt,Ht){if(1&rt&&g.DNE(0,f,0,0,"ng-template",11),2&rt){g.XpG();const vt=g.sdS(1);g.Y8G("ngTemplateOutlet",vt)}}function I(rt,Ht){1&rt&&(g.j41(0,"div",12),g.SdG(1,4),g.k0s())}function L(rt,Ht){1&rt&&(g.j41(0,"div",13),g.SdG(1,5),g.k0s())}function x(rt,Ht){1&rt&&g.nrm(0,"div",14)}function a(rt,Ht){if(1&rt&&(g.j41(0,"div",16),g.SdG(1,6),g.k0s()),2&rt){const vt=g.XpG();g.Y8G("@transitionMessages",vt._subscriptAnimationState)}}function v(rt,Ht){if(1&rt&&(g.j41(0,"mat-hint",20),g.EFF(1),g.k0s()),2&rt){const vt=g.XpG(2);g.Y8G("id",vt._hintLabelId),g.R7$(),g.JRh(vt.hintLabel)}}function Z(rt,Ht){if(1&rt&&(g.j41(0,"div",17),g.DNE(1,v,2,2,"mat-hint",20),g.SdG(2,7),g.nrm(3,"div",21),g.SdG(4,8),g.k0s()),2&rt){const vt=g.XpG();g.Y8G("@transitionMessages",vt._subscriptAnimationState),g.R7$(),g.vxM(vt.hintLabel?1:-1)}}let z=(()=>{class rt{static#e=this.\u0275fac=function(Ot){return new(Ot||rt)};static#t=this.\u0275dir=g.FsC({type:rt,selectors:[["mat-label"]],standalone:!0})}return rt})(),ee=0;const le=new g.nKC("MatError");let we=(()=>{class rt{constructor(vt,Ot){this.id="mat-mdc-error-"+ee++,vt||Ot.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Ot){return new(Ot||rt)(g.kS0("aria-live"),g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:rt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Ot,qt){2&Ot&&g.Mr5("id",qt.id)},inputs:{id:"id"},standalone:!0,features:[g.Jv_([{provide:le,useExisting:rt}])]})}return rt})(),Me=0,Ge=(()=>{class rt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Me++}static#e=this.\u0275fac=function(Ot){return new(Ot||rt)};static#t=this.\u0275dir=g.FsC({type:rt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Ot,qt){2&Ot&&(g.Mr5("id",qt.id),g.BMQ("align",null),g.AVh("mat-mdc-form-field-hint-end","end"===qt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return rt})();const ge=new g.nKC("MatPrefix"),Ue=new g.nKC("MatSuffix");let xe=(()=>{class rt{constructor(){this._isText=!1}set _isTextSelector(vt){this._isText=!0}static#e=this.\u0275fac=function(Ot){return new(Ot||rt)};static#t=this.\u0275dir=g.FsC({type:rt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[g.Jv_([{provide:Ue,useExisting:rt}])]})}return rt})();const Ce=new g.nKC("FloatingLabelParent");let be=(()=>{class rt{get floating(){return this._floating}set floating(vt){this._floating=vt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(vt){this._monitorResize=vt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(vt){this._elementRef=vt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,g.WQX)(O.a),this._ngZone=(0,g.WQX)(g.SKi),this._parent=(0,g.WQX)(Ce),this._resizeSubscription=new k.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function he(rt){if(null!==rt.offsetParent)return rt.scrollWidth;const vt=rt.cloneNode(!0);vt.style.setProperty("position","absolute"),vt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(vt);const Ot=vt.scrollWidth;return vt.remove(),Ot}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Ot){return new(Ot||rt)(g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:rt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Ot,qt){2&Ot&&g.AVh("mdc-floating-label--float-above",qt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return rt})();const ne="mdc-line-ripple--active",te="mdc-line-ripple--deactivating";let de=(()=>{class rt{constructor(vt,Ot){this._elementRef=vt,this._handleTransitionEnd=qt=>{const mn=this._elementRef.nativeElement.classList,ln=mn.contains(te);"opacity"===qt.propertyName&&ln&&mn.remove(ne,te)},Ot.runOutsideAngular(()=>{vt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const vt=this._elementRef.nativeElement.classList;vt.remove(te),vt.add(ne)}deactivate(){this._elementRef.nativeElement.classList.add(te)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Ot){return new(Ot||rt)(g.rXU(g.aKT),g.rXU(g.SKi))};static#t=this.\u0275dir=g.FsC({type:rt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return rt})(),_e=(()=>{class rt{constructor(vt,Ot){this._elementRef=vt,this._ngZone=Ot,this.open=!1}ngAfterViewInit(){const vt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");vt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(vt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>vt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(vt){this._notch.nativeElement.style.width=this.open&&vt?`calc(${vt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Ot){return new(Ot||rt)(g.rXU(g.aKT),g.rXU(g.SKi))};static#t=this.\u0275cmp=g.VBU({type:rt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Ot,qt){if(1&Ot&&g.GBs(K,5),2&Ot){let mn;g.mGM(mn=g.lsd())&&(qt._notch=mn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Ot,qt){2&Ot&&g.AVh("mdc-notched-outline--notched",qt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[g.aNF],attrs:Q,ngContentSelectors:q,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(Ot,qt){1&Ot&&(g.NAR(),g.nrm(0,"div",1),g.j41(1,"div",2,0),g.SdG(3),g.k0s(),g.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return rt})();const Ie={transitionMessages:(0,A.hZ)("transitionMessages",[(0,A.wk)("enter",(0,A.iF)({opacity:1,transform:"translateY(0%)"})),(0,A.kY)("void => enter",[(0,A.iF)({opacity:0,transform:"translateY(-5px)"}),(0,A.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let He=(()=>{class rt{static#e=this.\u0275fac=function(Ot){return new(Ot||rt)};static#t=this.\u0275dir=g.FsC({type:rt})}return rt})();const ke=new g.nKC("MatFormField"),pt=new g.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let F=0;const D="fill",G="fixed";let Se=(()=>{class rt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(vt){this._hideRequiredMarker=(0,B.he)(vt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(vt){vt!==this._floatLabel&&(this._floatLabel=vt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(vt){const Ot=this._appearance;this._appearance=vt||this._defaults?.appearance||D,"outline"===this._appearance&&this._appearance!==Ot&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||G}set subscriptSizing(vt){this._subscriptSizing=vt||this._defaults?.subscriptSizing||G}get hintLabel(){return this._hintLabel}set hintLabel(vt){this._hintLabel=vt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(vt){this._explicitFormFieldControl=vt}constructor(vt,Ot,qt,mn,ln,rr,Tn,rn){this._elementRef=vt,this._changeDetectorRef=Ot,this._dir=mn,this._platform=ln,this._defaults=rr,this._animationMode=Tn,this._hideRequiredMarker=!1,this.color="primary",this._appearance=D,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+F++,this._hintLabelId="mat-mdc-hint-"+F++,this._subscriptAnimationState="",this._destroyed=new S.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,g.WQX)(g.zZn),rr&&(rr.appearance&&(this.appearance=rr.appearance),this._hideRequiredMarker=!!rr?.hideRequiredMarker,rr.color&&(this.color=rr.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const vt=this._control;vt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${vt.controlType}`),vt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),vt.ngControl&&vt.ngControl.valueChanges&&vt.ngControl.valueChanges.pipe((0,R.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(vt=>!vt._isText),this._hasTextPrefix=!!this._prefixChildren.find(vt=>vt._isText),this._hasIconSuffix=!!this._suffixChildren.find(vt=>!vt._isText),this._hasTextSuffix=!!this._suffixChildren.find(vt=>vt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,P.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,g.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,R.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(vt){const Ot=this._control?this._control.ngControl:null;return Ot&&Ot[vt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let vt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&vt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ot=this._hintChildren?this._hintChildren.find(mn=>"start"===mn.align):null,qt=this._hintChildren?this._hintChildren.find(mn=>"end"===mn.align):null;Ot?vt.push(Ot.id):this._hintLabel&&vt.push(this._hintLabelId),qt&&vt.push(qt.id)}else this._errorChildren&&vt.push(...this._errorChildren.map(Ot=>Ot.id));this._control.setDescribedByIds(vt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const vt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(vt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Ot=this._iconPrefixContainer?.nativeElement,qt=this._textPrefixContainer?.nativeElement,mn=Ot?.getBoundingClientRect().width??0,ln=qt?.getBoundingClientRect().width??0;vt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${mn+ln}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const vt=this._elementRef.nativeElement;if(vt.getRootNode){const Ot=vt.getRootNode();return Ot&&Ot!==vt}return document.documentElement.contains(vt)}static#e=this.\u0275fac=function(Ot){return new(Ot||rt)(g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(g.SKi),g.rXU(_.dS),g.rXU(H.OD),g.rXU(pt,8),g.rXU(g.bc$,8),g.rXU(b.qQ))};static#t=this.\u0275cmp=g.VBU({type:rt,selectors:[["mat-form-field"]],contentQueries:function(Ot,qt,mn){if(1&Ot&&(g.wni(mn,z,5),g.wni(mn,z,7),g.wni(mn,He,5),g.wni(mn,ge,5),g.wni(mn,Ue,5),g.wni(mn,le,5),g.wni(mn,Ge,5)),2&Ot){let ln;g.mGM(ln=g.lsd())&&(qt._labelChildNonStatic=ln.first),g.mGM(ln=g.lsd())&&(qt._labelChildStatic=ln.first),g.mGM(ln=g.lsd())&&(qt._formFieldControl=ln.first),g.mGM(ln=g.lsd())&&(qt._prefixChildren=ln),g.mGM(ln=g.lsd())&&(qt._suffixChildren=ln),g.mGM(ln=g.lsd())&&(qt._errorChildren=ln),g.mGM(ln=g.lsd())&&(qt._hintChildren=ln)}},viewQuery:function(Ot,qt){if(1&Ot&&(g.GBs(Y,5),g.GBs(W,5),g.GBs(re,5),g.GBs(be,5),g.GBs(_e,5),g.GBs(de,5)),2&Ot){let mn;g.mGM(mn=g.lsd())&&(qt._textField=mn.first),g.mGM(mn=g.lsd())&&(qt._iconPrefixContainer=mn.first),g.mGM(mn=g.lsd())&&(qt._textPrefixContainer=mn.first),g.mGM(mn=g.lsd())&&(qt._floatingLabel=mn.first),g.mGM(mn=g.lsd())&&(qt._notchedOutline=mn.first),g.mGM(mn=g.lsd())&&(qt._lineRipple=mn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Ot,qt){2&Ot&&g.AVh("mat-mdc-form-field-label-always-float",qt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",qt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",qt._hasIconSuffix)("mat-form-field-invalid",qt._control.errorState)("mat-form-field-disabled",qt._control.disabled)("mat-form-field-autofilled",qt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===qt._animationMode)("mat-form-field-appearance-fill","fill"==qt.appearance)("mat-form-field-appearance-outline","outline"==qt.appearance)("mat-form-field-hide-placeholder",qt._hasFloatingLabel()&&!qt._shouldLabelFloat())("mat-focused",qt._control.focused)("mat-primary","accent"!==qt.color&&"warn"!==qt.color)("mat-accent","accent"===qt.color)("mat-warn","warn"===qt.color)("ng-untouched",qt._shouldForward("untouched"))("ng-touched",qt._shouldForward("touched"))("ng-pristine",qt._shouldForward("pristine"))("ng-dirty",qt._shouldForward("dirty"))("ng-valid",qt._shouldForward("valid"))("ng-invalid",qt._shouldForward("invalid"))("ng-pending",qt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[g.Jv_([{provide:ke,useExisting:rt},{provide:Ce,useExisting:rt}]),g.aNF],ngContentSelectors:ae,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Ot,qt){if(1&Ot){const mn=g.RV6();g.NAR(ie),g.DNE(0,pe,1,1,"ng-template",null,0,g.C5r),g.j41(2,"div",4,1),g.bIt("click",function(rr){return g.eBV(mn),g.Njj(qt._control.onContainerClick(rr))}),g.DNE(4,ve,1,0,"div",5),g.j41(5,"div",6),g.DNE(6,s,2,2,"div",7)(7,d,3,0,"div",8)(8,h,3,0,"div",9),g.j41(9,"div",10),g.DNE(10,w,1,1,null,11),g.SdG(11),g.k0s(),g.DNE(12,I,2,0,"div",12)(13,L,2,0,"div",13),g.k0s(),g.DNE(14,x,1,0,"div",14),g.k0s(),g.j41(15,"div",15),g.DNE(16,a,2,1,"div",16)(17,Z,5,2,"div",17),g.k0s()}if(2&Ot){let mn;g.R7$(2),g.AVh("mdc-text-field--filled",!qt._hasOutline())("mdc-text-field--outlined",qt._hasOutline())("mdc-text-field--no-label",!qt._hasFloatingLabel())("mdc-text-field--disabled",qt._control.disabled)("mdc-text-field--invalid",qt._control.errorState),g.R7$(2),g.vxM(qt._hasOutline()||qt._control.disabled?-1:4),g.R7$(2),g.vxM(qt._hasOutline()?6:-1),g.R7$(),g.vxM(qt._hasIconPrefix?7:-1),g.R7$(),g.vxM(qt._hasTextPrefix?8:-1),g.R7$(2),g.vxM(!qt._hasOutline()||qt._forceDisplayInfixLabel()?10:-1),g.R7$(2),g.vxM(qt._hasTextSuffix?12:-1),g.R7$(),g.vxM(qt._hasIconSuffix?13:-1),g.R7$(),g.vxM(qt._hasOutline()?-1:14),g.R7$(),g.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===qt.subscriptSizing),g.R7$(),g.vxM("error"===(mn=qt._getDisplayedMessages())?16:"hint"===mn?17:-1)}},dependencies:[be,_e,b.T3,de,Ge],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ie.transitionMessages]},changeDetection:0})}return rt})(),Ae=(()=>{class rt{static#e=this.\u0275fac=function(Ot){return new(Ot||rt)};static#t=this.\u0275mod=g.$C({type:rt});static#n=this.\u0275inj=g.G2t({imports:[U.yE,b.MD,V.w5,U.yE]})}return rt})()},99213:($e,j,E)=>{"use strict";E.d(j,{An:()=>v,m_:()=>Z});var g=E(93953),_=E(86600),B=E(60177),H=E(7673),b=E(18810),k=E(27468),S=E(18359),P=E(88141),R=E(96354),O=E(99437),A=E(70980),V=E(97647),U=E(96697),K=E(21626),Q=E(345);const q=["*"];let Y;function re(z){return function W(){if(void 0===Y&&(Y=null,typeof window<"u")){const z=window;void 0!==z.trustedTypes&&(Y=z.trustedTypes.createPolicy("angular#components",{createHTML:ee=>ee}))}return Y}()?.createHTML(z)||z}function ie(z){return Error(`Unable to find icon with the name "${z}"`)}function ue(z){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${z}".`)}function ce(z){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${z}".`)}class pe{constructor(ee,le,we){this.url=ee,this.svgText=le,this.options=we}}let ve=(()=>{class z{constructor(le,we,Me,Ge){this._httpClient=le,this._sanitizer=we,this._errorHandler=Ge,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Me}addSvgIcon(le,we,Me){return this.addSvgIconInNamespace("",le,we,Me)}addSvgIconLiteral(le,we,Me){return this.addSvgIconLiteralInNamespace("",le,we,Me)}addSvgIconInNamespace(le,we,Me,Ge){return this._addSvgIconConfig(le,we,new pe(Me,null,Ge))}addSvgIconResolver(le){return this._resolvers.push(le),this}addSvgIconLiteralInNamespace(le,we,Me,Ge){const ge=this._sanitizer.sanitize(g.WPN.HTML,Me);if(!ge)throw ce(Me);const me=re(ge);return this._addSvgIconConfig(le,we,new pe("",me,Ge))}addSvgIconSet(le,we){return this.addSvgIconSetInNamespace("",le,we)}addSvgIconSetLiteral(le,we){return this.addSvgIconSetLiteralInNamespace("",le,we)}addSvgIconSetInNamespace(le,we,Me){return this._addSvgIconSetConfig(le,new pe(we,null,Me))}addSvgIconSetLiteralInNamespace(le,we,Me){const Ge=this._sanitizer.sanitize(g.WPN.HTML,we);if(!Ge)throw ce(we);const ge=re(Ge);return this._addSvgIconSetConfig(le,new pe("",ge,Me))}registerFontClassAlias(le,we=le){return this._fontCssClassesByAlias.set(le,we),this}classNameForFontAlias(le){return this._fontCssClassesByAlias.get(le)||le}setDefaultFontSetClass(...le){return this._defaultFontSetClass=le,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(le){const we=this._sanitizer.sanitize(g.WPN.RESOURCE_URL,le);if(!we)throw ue(le);const Me=this._cachedIconsByUrl.get(we);return Me?(0,H.of)(s(Me)):this._loadSvgIconFromConfig(new pe(le,null)).pipe((0,P.M)(Ge=>this._cachedIconsByUrl.set(we,Ge)),(0,R.T)(Ge=>s(Ge)))}getNamedSvgIcon(le,we=""){const Me=d(we,le);let Ge=this._svgIconConfigs.get(Me);if(Ge)return this._getSvgFromConfig(Ge);if(Ge=this._getIconConfigFromResolvers(we,le),Ge)return this._svgIconConfigs.set(Me,Ge),this._getSvgFromConfig(Ge);const ge=this._iconSetConfigs.get(we);return ge?this._getSvgFromIconSetConfigs(le,ge):(0,b.$)(ie(Me))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(le){return le.svgText?(0,H.of)(s(this._svgElementFromConfig(le))):this._loadSvgIconFromConfig(le).pipe((0,R.T)(we=>s(we)))}_getSvgFromIconSetConfigs(le,we){const Me=this._extractIconWithNameFromAnySet(le,we);if(Me)return(0,H.of)(Me);const Ge=we.filter(ge=>!ge.svgText).map(ge=>this._loadSvgIconSetFromConfig(ge).pipe((0,O.W)(me=>{const xe=`Loading icon set URL: ${this._sanitizer.sanitize(g.WPN.RESOURCE_URL,ge.url)} failed: ${me.message}`;return this._errorHandler.handleError(new Error(xe)),(0,H.of)(null)})));return(0,k.p)(Ge).pipe((0,R.T)(()=>{const ge=this._extractIconWithNameFromAnySet(le,we);if(!ge)throw ie(le);return ge}))}_extractIconWithNameFromAnySet(le,we){for(let Me=we.length-1;Me>=0;Me--){const Ge=we[Me];if(Ge.svgText&&Ge.svgText.toString().indexOf(le)>-1){const ge=this._svgElementFromConfig(Ge),me=this._extractSvgIconFromSet(ge,le,Ge.options);if(me)return me}}return null}_loadSvgIconFromConfig(le){return this._fetchIcon(le).pipe((0,P.M)(we=>le.svgText=we),(0,R.T)(()=>this._svgElementFromConfig(le)))}_loadSvgIconSetFromConfig(le){return le.svgText?(0,H.of)(null):this._fetchIcon(le).pipe((0,P.M)(we=>le.svgText=we))}_extractSvgIconFromSet(le,we,Me){const Ge=le.querySelector(`[id="${we}"]`);if(!Ge)return null;const ge=Ge.cloneNode(!0);if(ge.removeAttribute("id"),"svg"===ge.nodeName.toLowerCase())return this._setSvgAttributes(ge,Me);if("symbol"===ge.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ge),Me);const me=this._svgElementFromString(re("<svg></svg>"));return me.appendChild(ge),this._setSvgAttributes(me,Me)}_svgElementFromString(le){const we=this._document.createElement("DIV");we.innerHTML=le;const Me=we.querySelector("svg");if(!Me)throw Error("<svg> tag not found");return Me}_toSvgElement(le){const we=this._svgElementFromString(re("<svg></svg>")),Me=le.attributes;for(let Ge=0;Ge<Me.length;Ge++){const{name:ge,value:me}=Me[Ge];"id"!==ge&&we.setAttribute(ge,me)}for(let Ge=0;Ge<le.childNodes.length;Ge++)le.childNodes[Ge].nodeType===this._document.ELEMENT_NODE&&we.appendChild(le.childNodes[Ge].cloneNode(!0));return we}_setSvgAttributes(le,we){return le.setAttribute("fit",""),le.setAttribute("height","100%"),le.setAttribute("width","100%"),le.setAttribute("preserveAspectRatio","xMidYMid meet"),le.setAttribute("focusable","false"),we&&we.viewBox&&le.setAttribute("viewBox",we.viewBox),le}_fetchIcon(le){const{url:we,options:Me}=le,Ge=Me?.withCredentials??!1;if(!this._httpClient)throw function ae(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==we)throw Error(`Cannot fetch icon from URL "${we}".`);const ge=this._sanitizer.sanitize(g.WPN.RESOURCE_URL,we);if(!ge)throw ue(we);const me=this._inProgressUrlFetches.get(ge);if(me)return me;const Ue=this._httpClient.get(ge,{responseType:"text",withCredentials:Ge}).pipe((0,R.T)(xe=>re(xe)),(0,A.j)(()=>this._inProgressUrlFetches.delete(ge)),(0,V.u)());return this._inProgressUrlFetches.set(ge,Ue),Ue}_addSvgIconConfig(le,we,Me){return this._svgIconConfigs.set(d(le,we),Me),this}_addSvgIconSetConfig(le,we){const Me=this._iconSetConfigs.get(le);return Me?Me.push(we):this._iconSetConfigs.set(le,[we]),this}_svgElementFromConfig(le){if(!le.svgElement){const we=this._svgElementFromString(le.svgText);this._setSvgAttributes(we,le.options),le.svgElement=we}return le.svgElement}_getIconConfigFromResolvers(le,we){for(let Me=0;Me<this._resolvers.length;Me++){const Ge=this._resolvers[Me](we,le);if(Ge)return h(Ge)?new pe(Ge.url,null,Ge.options):new pe(Ge,null)}}static#e=this.\u0275fac=function(we){return new(we||z)(g.KVO(K.Qq,8),g.KVO(Q.up),g.KVO(B.qQ,8),g.KVO(g.zcH))};static#t=this.\u0275prov=g.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();function s(z){return z.cloneNode(!0)}function d(z,ee){return z+":"+ee}function h(z){return!(!z.url||!z.options)}const f=new g.nKC("MAT_ICON_DEFAULT_OPTIONS"),w=new g.nKC("mat-icon-location",{providedIn:"root",factory:function I(){const z=(0,g.WQX)(B.qQ),ee=z?z.location:null;return{getPathname:()=>ee?ee.pathname+ee.search:""}}}),L=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],x=L.map(z=>`[${z}]`).join(", "),a=/^url\(['"]?#(.*?)['"]?\)$/;let v=(()=>{class z{get color(){return this._color||this._defaultColor}set color(le){this._color=le}get svgIcon(){return this._svgIcon}set svgIcon(le){le!==this._svgIcon&&(le?this._updateSvgIcon(le):this._svgIcon&&this._clearSvgElement(),this._svgIcon=le)}get fontSet(){return this._fontSet}set fontSet(le){const we=this._cleanupFontValue(le);we!==this._fontSet&&(this._fontSet=we,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(le){const we=this._cleanupFontValue(le);we!==this._fontIcon&&(this._fontIcon=we,this._updateFontIconClasses())}constructor(le,we,Me,Ge,ge,me){this._elementRef=le,this._iconRegistry=we,this._location=Ge,this._errorHandler=ge,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=S.yU.EMPTY,me&&(me.color&&(this.color=this._defaultColor=me.color),me.fontSet&&(this.fontSet=me.fontSet)),Me||le.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(le){if(!le)return["",""];const we=le.split(":");switch(we.length){case 1:return["",we[0]];case 2:return we;default:throw Error(`Invalid icon name: "${le}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const le=this._elementsWithExternalReferences;if(le&&le.size){const we=this._location.getPathname();we!==this._previousPath&&(this._previousPath=we,this._prependPathToReferences(we))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(le){this._clearSvgElement();const we=this._location.getPathname();this._previousPath=we,this._cacheChildrenWithExternalReferences(le),this._prependPathToReferences(we),this._elementRef.nativeElement.appendChild(le)}_clearSvgElement(){const le=this._elementRef.nativeElement;let we=le.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();we--;){const Me=le.childNodes[we];(1!==Me.nodeType||"svg"===Me.nodeName.toLowerCase())&&Me.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const le=this._elementRef.nativeElement,we=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Me=>Me.length>0);this._previousFontSetClass.forEach(Me=>le.classList.remove(Me)),we.forEach(Me=>le.classList.add(Me)),this._previousFontSetClass=we,this.fontIcon!==this._previousFontIconClass&&!we.includes("mat-ligature-font")&&(this._previousFontIconClass&&le.classList.remove(this._previousFontIconClass),this.fontIcon&&le.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(le){return"string"==typeof le?le.trim().split(" ")[0]:le}_prependPathToReferences(le){const we=this._elementsWithExternalReferences;we&&we.forEach((Me,Ge)=>{Me.forEach(ge=>{Ge.setAttribute(ge.name,`url('${le}#${ge.value}')`)})})}_cacheChildrenWithExternalReferences(le){const we=le.querySelectorAll(x),Me=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ge=0;Ge<we.length;Ge++)L.forEach(ge=>{const me=we[Ge],Ue=me.getAttribute(ge),xe=Ue?Ue.match(a):null;if(xe){let Ce=Me.get(me);Ce||(Ce=[],Me.set(me,Ce)),Ce.push({name:ge,value:xe[1]})}})}_updateSvgIcon(le){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),le){const[we,Me]=this._splitIconName(le);we&&(this._svgNamespace=we),Me&&(this._svgName=Me),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Me,we).pipe((0,U.s)(1)).subscribe(Ge=>this._setSvgElement(Ge),Ge=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${we}:${Me}! ${Ge.message}`))})}}static#e=this.\u0275fac=function(we){return new(we||z)(g.rXU(g.aKT),g.rXU(ve),g.kS0("aria-hidden"),g.rXU(w),g.rXU(g.zcH),g.rXU(f,8))};static#t=this.\u0275cmp=g.VBU({type:z,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(we,Me){2&we&&(g.BMQ("data-mat-icon-type",Me._usingFontIcon()?"font":"svg")("data-mat-icon-name",Me._svgName||Me.fontIcon)("data-mat-icon-namespace",Me._svgNamespace||Me.fontSet)("fontIcon",Me._usingFontIcon()?Me.fontIcon:null),g.HbH(Me.color?"mat-"+Me.color:""),g.AVh("mat-icon-inline",Me.inline)("mat-icon-no-color","primary"!==Me.color&&"accent"!==Me.color&&"warn"!==Me.color))},inputs:{color:"color",inline:[2,"inline","inline",g.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(we,Me){1&we&&(g.NAR(),g.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return z})(),Z=(()=>{class z{static#e=this.\u0275fac=function(we){return new(we||z)};static#t=this.\u0275mod=g.$C({type:z});static#n=this.\u0275inj=g.G2t({imports:[_.yE,_.yE]})}return z})()},99631:($e,j,E)=>{"use strict";E.d(j,{fg:()=>W,fS:()=>re});var g=E(14085),_=E(36860),B=E(93953),H=E(983),b=E(21413);const k=(0,_.BQ)({passive:!0});let S=(()=>{class ie{constructor(ue,ce){this._platform=ue,this._ngZone=ce,this._monitoredElements=new Map}monitor(ue){if(!this._platform.isBrowser)return H.w;const ce=(0,g.i8)(ue),pe=this._monitoredElements.get(ce);if(pe)return pe.subject;const ve=new b.B,De="cdk-text-field-autofilled",C=s=>{"cdk-text-field-autofill-start"!==s.animationName||ce.classList.contains(De)?"cdk-text-field-autofill-end"===s.animationName&&ce.classList.contains(De)&&(ce.classList.remove(De),this._ngZone.run(()=>ve.next({target:s.target,isAutofilled:!1}))):(ce.classList.add(De),this._ngZone.run(()=>ve.next({target:s.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ce.addEventListener("animationstart",C,k),ce.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ce,{subject:ve,unlisten:()=>{ce.removeEventListener("animationstart",C,k)}}),ve}stopMonitoring(ue){const ce=(0,g.i8)(ue),pe=this._monitoredElements.get(ce);pe&&(pe.unlisten(),pe.subject.complete(),ce.classList.remove("cdk-text-field-autofill-monitored"),ce.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ce))}ngOnDestroy(){this._monitoredElements.forEach((ue,ce)=>this.stopMonitoring(ce))}static#e=this.\u0275fac=function(ce){return new(ce||ie)(B.KVO(_.OD),B.KVO(B.SKi))};static#t=this.\u0275prov=B.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})(),O=(()=>{class ie{static#e=this.\u0275fac=function(ce){return new(ce||ie)};static#t=this.\u0275mod=B.$C({type:ie});static#n=this.\u0275inj=B.G2t({})}return ie})();var A=E(89417),V=E(86600),U=E(53719);const Q=new B.nKC("MAT_INPUT_VALUE_ACCESSOR"),q=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Y=0,W=(()=>{class ie{get disabled(){return this._disabled}set disabled(ue){this._disabled=(0,g.he)(ue),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(ue){this._id=ue||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(A.k0.required)??!1}set required(ue){this._required=(0,g.he)(ue)}get type(){return this._type}set type(ue){this._type=ue||"text",this._validateType(),!this._isTextarea&&(0,_.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ue){this._errorStateTracker.matcher=ue}get value(){return this._inputValueAccessor.value}set value(ue){ue!==this.value&&(this._inputValueAccessor.value=ue,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(ue){this._readonly=(0,g.he)(ue)}get errorState(){return this._errorStateTracker.errorState}set errorState(ue){this._errorStateTracker.errorState=ue}constructor(ue,ce,pe,ve,De,C,s,d,h,f){this._elementRef=ue,this._platform=ce,this.ngControl=pe,this._autofillMonitor=d,this._formField=f,this._uid="mat-input-"+Y++,this.focused=!1,this.stateChanges=new b.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(L=>(0,_.MU)().has(L)),this._iOSKeyupListener=L=>{const x=L.target;!x.value&&0===x.selectionStart&&0===x.selectionEnd&&(x.setSelectionRange(1,1),x.setSelectionRange(0,0))};const w=this._elementRef.nativeElement,I=w.nodeName.toLowerCase();this._inputValueAccessor=s||w,this._previousNativeValue=this.value,this.id=this.id,ce.IOS&&h.runOutsideAngular(()=>{ue.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new V.X0(C,pe,De,ve,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===I,this._isTextarea="textarea"===I,this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=w.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(ue=>{this.autofilled=ue.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(ue){this._elementRef.nativeElement.focus(ue)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(ue){ue!==this.focused&&(this.focused=ue,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const ue=this._elementRef.nativeElement.value;this._previousNativeValue!==ue&&(this._previousNativeValue=ue,this.stateChanges.next())}_dirtyCheckPlaceholder(){const ue=this._getPlaceholder();if(ue!==this._previousPlaceholder){const ce=this._elementRef.nativeElement;this._previousPlaceholder=ue,ue?ce.setAttribute("placeholder",ue):ce.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){q.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let ue=this._elementRef.nativeElement.validity;return ue&&ue.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const ue=this._elementRef.nativeElement,ce=ue.options[0];return this.focused||ue.multiple||!this.empty||!!(ue.selectedIndex>-1&&ce&&ce.label)}return this.focused||!this.empty}setDescribedByIds(ue){ue.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ue.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const ue=this._elementRef.nativeElement;return this._isNativeSelect&&(ue.multiple||ue.size>1)}static#e=this.\u0275fac=function(ce){return new(ce||ie)(B.rXU(B.aKT),B.rXU(_.OD),B.rXU(A.vO,10),B.rXU(A.cV,8),B.rXU(A.j4,8),B.rXU(V.es),B.rXU(Q,10),B.rXU(S),B.rXU(B.SKi),B.rXU(U.xb,8))};static#t=this.\u0275dir=B.FsC({type:ie,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(ce,pe){1&ce&&B.bIt("focus",function(){return pe._focusChanged(!0)})("blur",function(){return pe._focusChanged(!1)})("input",function(){return pe._onInput()}),2&ce&&(B.Mr5("id",pe.id)("disabled",pe.disabled)("required",pe.required),B.BMQ("name",pe.name||null)("readonly",pe.readonly&&!pe._isNativeSelect||null)("aria-invalid",pe.empty&&pe.required?null:pe.errorState)("aria-required",pe.required)("id",pe.id),B.AVh("mat-input-server",pe._isServer)("mat-mdc-form-field-textarea-control",pe._isInFormField&&pe._isTextarea)("mat-mdc-form-field-input-control",pe._isInFormField)("mdc-text-field__input",pe._isInFormField)("mat-mdc-native-select-inline",pe._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[B.Jv_([{provide:U.qT,useExisting:ie}]),B.OA$]})}return ie})(),re=(()=>{class ie{static#e=this.\u0275fac=function(ce){return new(ce||ie)};static#t=this.\u0275mod=B.$C({type:ie});static#n=this.\u0275inj=B.G2t({imports:[V.yE,U.RG,U.RG,O,V.yE]})}return ie})()},3902:($e,j,E)=>{"use strict";E.d(j,{C_:()=>le,EI:()=>Ie,Fg:()=>pt,YE:()=>te,ZV:()=>ge,_L:()=>Ve,jt:()=>ne,yE:()=>ee,zi:()=>Ge});var g=E(93953),_=E(14085),B=E(36860),H=E(86600),b=E(18359),k=E(57786),P=(E(21413),E(72318)),R=E(60177),O=E(71997);E(18617),E(45024),E(67336),E(89417),E(56977);const q=["*"],Y='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',W=["unscopedContent"],re=["text"],ie=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ae=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],z=new g.nKC("ListOption");let ee=(()=>{class F{constructor(M){this._elementRef=M}static#e=this.\u0275fac=function(G){return new(G||F)(g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return F})(),le=(()=>{class F{constructor(M){this._elementRef=M}static#e=this.\u0275fac=function(G){return new(G||F)(g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return F})(),we=(()=>{class F{static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return F})(),Me=(()=>{class F{constructor(M){this._listOption=M}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(G){return new(G||F)(g.rXU(z,8))};static#t=this.\u0275dir=g.FsC({type:F,hostVars:4,hostBindings:function(G,fe){2&G&&g.AVh("mdc-list-item__start",fe._isAlignedAtStart())("mdc-list-item__end",!fe._isAlignedAtStart())},standalone:!0})}return F})(),Ge=(()=>{class F extends Me{static#e=this.\u0275fac=(()=>{let M;return function(fe){return(M||(M=g.xGo(F)))(fe||F)}})();static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[g.Vt3]})}return F})(),ge=(()=>{class F extends Me{static#e=this.\u0275fac=(()=>{let M;return function(fe){return(M||(M=g.xGo(F)))(fe||F)}})();static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[g.Vt3]})}return F})();const me=new g.nKC("MAT_LIST_CONFIG");let Ue=(()=>{class F{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,g.WQX)(me,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(M){this._disableRipple=(0,_.he)(M)}get disabled(){return this._disabled}set disabled(M){this._disabled=(0,_.he)(M)}static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275dir=g.FsC({type:F,hostVars:1,hostBindings:function(G,fe){2&G&&g.BMQ("aria-disabled",fe.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return F})(),xe=(()=>{class F{set lines(M){this._explicitLines=(0,_.OE)(M,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(M){this._disableRipple=(0,_.he)(M)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(M){this._disabled=(0,_.he)(M)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(M,G,fe,Se,Ae,rt){this._elementRef=M,this._ngZone=G,this._listBase=fe,this._platform=Se,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new b.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=Ae||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===rt,fe&&!fe._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new H.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,k.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(M){if(!this._lines||!this._titles||!this._unscopedContent)return;M&&this._checkDomForUnscopedTextContent();const G=this._explicitLines??this._inferLinesFromContent(),fe=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",G<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",G<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===G),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===G),this._hasUnscopedTextContent){const Se=0===this._titles.length&&1===G;fe.classList.toggle("mdc-list-item__primary-text",Se),fe.classList.toggle("mdc-list-item__secondary-text",!Se)}else fe.classList.remove("mdc-list-item__primary-text"),fe.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let M=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(M+=1),M}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(M=>M.nodeType!==M.COMMENT_NODE).some(M=>!(!M.textContent||!M.textContent.trim()))}static#e=this.\u0275fac=function(G){return new(G||F)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(Ue,8),g.rXU(B.OD),g.rXU(H.$E,8),g.rXU(g.bc$,8))};static#t=this.\u0275dir=g.FsC({type:F,contentQueries:function(G,fe,Se){if(1&G&&(g.wni(Se,Ge,4),g.wni(Se,ge,4)),2&G){let Ae;g.mGM(Ae=g.lsd())&&(fe._avatars=Ae),g.mGM(Ae=g.lsd())&&(fe._icons=Ae)}},hostVars:4,hostBindings:function(G,fe){2&G&&(g.BMQ("aria-disabled",fe.disabled)("disabled",fe._isButtonElement&&fe.disabled||null),g.AVh("mdc-list-item--disabled",fe.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return F})(),ne=(()=>{class F extends Ue{static#e=this.\u0275fac=(()=>{let M;return function(fe){return(M||(M=g.xGo(F)))(fe||F)}})();static#t=this.\u0275cmp=g.VBU({type:F,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[g.Jv_([{provide:Ue,useExisting:F}]),g.Vt3,g.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(G,fe){1&G&&(g.NAR(),g.SdG(0))},styles:[Y],encapsulation:2,changeDetection:0})}return F})(),te=(()=>{class F extends xe{get activated(){return this._activated}set activated(M){this._activated=(0,_.he)(M)}constructor(M,G,fe,Se,Ae,rt){super(M,G,fe,Se,Ae,rt),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(G){return new(G||F)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(Ue,8),g.rXU(B.OD),g.rXU(H.$E,8),g.rXU(g.bc$,8))};static#t=this.\u0275cmp=g.VBU({type:F,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(G,fe,Se){if(1&G&&(g.wni(Se,le,5),g.wni(Se,ee,5),g.wni(Se,we,5)),2&G){let Ae;g.mGM(Ae=g.lsd())&&(fe._lines=Ae),g.mGM(Ae=g.lsd())&&(fe._titles=Ae),g.mGM(Ae=g.lsd())&&(fe._meta=Ae)}},viewQuery:function(G,fe){if(1&G&&(g.GBs(W,5),g.GBs(re,5)),2&G){let Se;g.mGM(Se=g.lsd())&&(fe._unscopedContent=Se.first),g.mGM(Se=g.lsd())&&(fe._itemText=Se.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(G,fe){2&G&&(g.BMQ("aria-current",fe._getAriaCurrent()),g.AVh("mdc-list-item--activated",fe.activated)("mdc-list-item--with-leading-avatar",0!==fe._avatars.length)("mdc-list-item--with-leading-icon",0!==fe._icons.length)("mdc-list-item--with-trailing-meta",0!==fe._meta.length)("_mat-animation-noopable",fe._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[g.Vt3,g.aNF],ngContentSelectors:ae,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(G,fe){if(1&G){const Se=g.RV6();g.NAR(ie),g.SdG(0),g.j41(1,"span",1),g.SdG(2,1),g.SdG(3,2),g.j41(4,"span",2,0),g.bIt("cdkObserveContent",function(){return g.eBV(Se),g.Njj(fe._updateItemLines(!0))}),g.SdG(6,3),g.k0s()(),g.SdG(7,4),g.SdG(8,5),g.nrm(9,"div",3)}},dependencies:[P.Wv],encapsulation:2,changeDetection:0})}return F})(),Ie=(()=>{class F{static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return F})(),Ve=(()=>{class F extends Ue{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let M;return function(fe){return(M||(M=g.xGo(F)))(fe||F)}})();static#t=this.\u0275cmp=g.VBU({type:F,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[g.Jv_([{provide:Ue,useExisting:F}]),g.Vt3,g.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(G,fe){1&G&&(g.NAR(),g.SdG(0))},styles:[Y],encapsulation:2,changeDetection:0})}return F})(),pt=(()=>{class F{static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275mod=g.$C({type:F});static#n=this.\u0275inj=g.G2t({imports:[P.w5,R.MD,H.yE,H.pZ,H.O5,O.w]})}return F})()},59115:($e,j,E)=>{"use strict";E.d(j,{Cn:()=>Ce,Cp:()=>xe,fb:()=>h,kk:()=>we});var g=E(93953),_=E(18617),B=E(67336),H=E(21413),b=E(57786),k=E(18359),S=E(7673),P=E(25007),R=E(99172),O=E(25558),A=E(56977),V=E(5964),U=E(96697),K=E(91986),Q=E(60177),q=E(86600),Y=E(76939),W=E(49969),re=E(28203),ie=E(66969),ae=E(36860),ue=E(67333);const ce=["mat-menu-item",""],pe=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],ve=["mat-icon, [matMenuItemIcon]","*"];function De(be,he){1&be&&(g.qSk(),g.j41(0,"svg",2),g.nrm(1,"polygon",3),g.k0s())}const C=["*"];function s(be,he){if(1&be){const ne=g.RV6();g.j41(0,"div",0),g.bIt("keydown",function(de){g.eBV(ne);const _e=g.XpG();return g.Njj(_e._handleKeydown(de))})("click",function(){g.eBV(ne);const de=g.XpG();return g.Njj(de.closed.emit("click"))})("@transformMenu.start",function(de){g.eBV(ne);const _e=g.XpG();return g.Njj(_e._onAnimationStart(de))})("@transformMenu.done",function(de){g.eBV(ne);const _e=g.XpG();return g.Njj(_e._onAnimationDone(de))}),g.j41(1,"div",1),g.SdG(2),g.k0s()()}if(2&be){const ne=g.XpG();g.HbH(ne._classList),g.Y8G("id",ne.panelId)("@transformMenu",ne._panelAnimationState),g.BMQ("aria-label",ne.ariaLabel||null)("aria-labelledby",ne.ariaLabelledby||null)("aria-describedby",ne.ariaDescribedby||null)}}const d=new g.nKC("MAT_MENU_PANEL");let h=(()=>{class be{constructor(ne,te,de,_e,Ie){this._elementRef=ne,this._document=te,this._focusMonitor=de,this._parentMenu=_e,this._changeDetectorRef=Ie,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new H.B,this._focused=new H.B,this._highlighted=!1,this._triggersSubmenu=!1,_e?.addItem?.(this)}focus(ne,te){this._focusMonitor&&ne?this._focusMonitor.focusVia(this._getHostElement(),ne,te):this._getHostElement().focus(te),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ne){this.disabled&&(ne.preventDefault(),ne.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const ne=this._elementRef.nativeElement.cloneNode(!0),te=ne.querySelectorAll("mat-icon, .material-icons");for(let de=0;de<te.length;de++)te[de].remove();return ne.textContent?.trim()||""}_setHighlighted(ne){this._highlighted=ne,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(ne){this._triggersSubmenu=ne,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(te){return new(te||be)(g.rXU(g.aKT),g.rXU(Q.qQ),g.rXU(_.FN),g.rXU(d,8),g.rXU(g.gRc))};static#t=this.\u0275cmp=g.VBU({type:be,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(te,de){1&te&&g.bIt("click",function(Ie){return de._checkDisabled(Ie)})("mouseenter",function(){return de._handleMouseEnter()}),2&te&&(g.BMQ("role",de.role)("tabindex",de._getTabIndex())("aria-disabled",de.disabled)("disabled",de.disabled||null),g.AVh("mat-mdc-menu-item-highlighted",de._highlighted)("mat-mdc-menu-item-submenu-trigger",de._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",g.L39],disableRipple:[2,"disableRipple","disableRipple",g.L39]},exportAs:["matMenuItem"],standalone:!0,features:[g.GFd,g.aNF],attrs:ce,ngContentSelectors:ve,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(te,de){1&te&&(g.NAR(pe),g.SdG(0),g.j41(1,"span",0),g.SdG(2,1),g.k0s(),g.nrm(3,"div",1),g.DNE(4,De,2,0,":svg:svg",2)),2&te&&(g.R7$(3),g.Y8G("matRippleDisabled",de.disableRipple||de.disabled)("matRippleTrigger",de._getHostElement()),g.R7$(),g.vxM(de._triggersSubmenu?4:-1))},dependencies:[q.r6],encapsulation:2,changeDetection:0})}return be})();const L=new g.nKC("MatMenuContent"),a={transformMenu:(0,W.hZ)("transformMenu",[(0,W.wk)("void",(0,W.iF)({opacity:0,transform:"scale(0.8)"})),(0,W.kY)("void => enter",(0,W.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,W.iF)({opacity:1,transform:"scale(1)"}))),(0,W.kY)("* => void",(0,W.i0)("100ms 25ms linear",(0,W.iF)({opacity:0})))]),fadeInItems:(0,W.hZ)("fadeInItems",[(0,W.wk)("showing",(0,W.iF)({opacity:1})),(0,W.kY)("void => *",[(0,W.iF)({opacity:0}),(0,W.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let z=0;const ee=new g.nKC("mat-menu-default-options",{providedIn:"root",factory:function le(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let we=(()=>{class be{get xPosition(){return this._xPosition}set xPosition(ne){this._xPosition=ne,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ne){this._yPosition=ne,this.setPositionClasses()}set panelClass(ne){const te=this._previousPanelClass,de={...this._classList};te&&te.length&&te.split(" ").forEach(_e=>{de[_e]=!1}),this._previousPanelClass=ne,ne&&ne.length&&(ne.split(" ").forEach(_e=>{de[_e]=!0}),this._elementRef.nativeElement.className=""),this._classList=de}get classList(){return this.panelClass}set classList(ne){this.panelClass=ne}constructor(ne,te,de,_e){this._elementRef=ne,this._changeDetectorRef=_e,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new g.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new H.B,this.closed=new g.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+z++,this._injector=(0,g.WQX)(g.zZn),this.overlayPanelClass=de.overlayPanelClass||"",this._xPosition=de.xPosition,this._yPosition=de.yPosition,this.backdropClass=de.backdropClass,this.overlapTrigger=de.overlapTrigger,this.hasBackdrop=de.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new _.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,R.Z)(this._directDescendantItems),(0,O.n)(ne=>(0,b.h)(...ne.map(te=>te._focused)))).subscribe(ne=>this._keyManager.updateActiveItem(ne)),this._directDescendantItems.changes.subscribe(ne=>{const te=this._keyManager;if("enter"===this._panelAnimationState&&te.activeItem?._hasFocus()){const de=ne.toArray(),_e=Math.max(0,Math.min(de.length-1,te.activeItemIndex||0));de[_e]&&!de[_e].disabled?te.setActiveItem(_e):te.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,R.Z)(this._directDescendantItems),(0,O.n)(te=>(0,b.h)(...te.map(de=>de._hovered))))}addItem(ne){}removeItem(ne){}_handleKeydown(ne){const te=ne.keyCode,de=this._keyManager;switch(te){case B._f:(0,B.rp)(ne)||(ne.preventDefault(),this.closed.emit("keydown"));break;case B.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case B.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(te===B.i7||te===B.n6)&&de.setFocusOrigin("keyboard"),void de.onKeydown(ne)}ne.stopPropagation()}focusFirstItem(ne="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,g.mal)(()=>{let te=null;if(this._directDescendantItems.length&&(te=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!te||!te.contains(document.activeElement)){const de=this._keyManager;de.setFocusOrigin(ne).setFirstItemActive(),!de.activeItem&&te&&te.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ne){if(null===this._baseElevation){const He=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(He)}const te=Math.min(this._baseElevation+ne,24),de=`${this._elevationPrefix}${te}`,_e=Object.keys(this._classList).find(Ie=>Ie.startsWith(this._elevationPrefix));if(!_e||_e===this._previousElevation){const Ie={...this._classList};this._previousElevation&&(Ie[this._previousElevation]=!1),Ie[de]=!0,this._previousElevation=de,this._classList=Ie}}setPositionClasses(ne=this.xPosition,te=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===ne,"mat-menu-after":"after"===ne,"mat-menu-above":"above"===te,"mat-menu-below":"below"===te},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ne){this._animationDone.next(ne),this._isAnimating=!1}_onAnimationStart(ne){this._isAnimating=!0,"enter"===ne.toState&&0===this._keyManager.activeItemIndex&&(ne.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,R.Z)(this._allItems)).subscribe(ne=>{this._directDescendantItems.reset(ne.filter(te=>te._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(te){return new(te||be)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(ee),g.rXU(g.gRc))};static#t=this.\u0275cmp=g.VBU({type:be,selectors:[["mat-menu"]],contentQueries:function(te,de,_e){if(1&te&&(g.wni(_e,L,5),g.wni(_e,h,5),g.wni(_e,h,4)),2&te){let Ie;g.mGM(Ie=g.lsd())&&(de.lazyContent=Ie.first),g.mGM(Ie=g.lsd())&&(de._allItems=Ie),g.mGM(Ie=g.lsd())&&(de.items=Ie)}},viewQuery:function(te,de){if(1&te&&g.GBs(g.C4Q,5),2&te){let _e;g.mGM(_e=g.lsd())&&(de.templateRef=_e.first)}},hostVars:3,hostBindings:function(te,de){2&te&&g.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",g.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",ne=>null==ne?null:(0,g.L39)(ne)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[g.Jv_([{provide:d,useExisting:be}]),g.GFd,g.aNF],ngContentSelectors:C,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(te,de){1&te&&(g.NAR(),g.DNE(0,s,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[a.transformMenu,a.fadeInItems]},changeDetection:0})}return be})();const Me=new g.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const be=(0,g.WQX)(ie.hJ);return()=>be.scrollStrategies.reposition()}}),ge={provide:Me,deps:[ie.hJ],useFactory:function Ge(be){return()=>be.scrollStrategies.reposition()}},me=(0,ae.BQ)({passive:!0});let xe=(()=>{class be{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ne){this.menu=ne}get menu(){return this._menu}set menu(ne){ne!==this._menu&&(this._menu=ne,this._menuCloseSubscription.unsubscribe(),ne&&(this._menuCloseSubscription=ne.close.subscribe(te=>{this._destroyMenu(te),("click"===te||"tab"===te)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(te)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(ne,te,de,_e,Ie,He,Ve,xt,Ne){this._overlay=ne,this._element=te,this._viewContainerRef=de,this._menuItemInstance=He,this._dir=Ve,this._focusMonitor=xt,this._ngZone=Ne,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=k.yU.EMPTY,this._hoverSubscription=k.yU.EMPTY,this._menuCloseSubscription=k.yU.EMPTY,this._changeDetectorRef=(0,g.WQX)(g.gRc),this._handleTouchStart=ke=>{(0,_.w6)(ke)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new g.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new g.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=_e,this._parentMaterialMenu=Ie instanceof we?Ie:void 0,te.nativeElement.addEventListener("touchstart",this._handleTouchStart,me)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,me),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ne=this.menu;if(this._menuOpen||!ne)return;const te=this._createOverlay(ne),de=te.getConfig(),_e=de.positionStrategy;this._setPosition(ne,_e),de.hasBackdrop=null==ne.hasBackdrop?!this.triggersSubmenu():ne.hasBackdrop,te.attach(this._getPortal(ne)),ne.lazyContent&&ne.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ne),ne instanceof we&&(ne._startAnimation(),ne._directDescendantItems.changes.pipe((0,A.Q)(ne.close)).subscribe(()=>{_e.withLockedPosition(!1).reapplyLastPosition(),_e.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(ne,te){this._focusMonitor&&ne?this._focusMonitor.focusVia(this._element,ne,te):this._element.nativeElement.focus(te)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(ne){if(!this._overlayRef||!this.menuOpen)return;const te=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ne||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,te instanceof we?(te._resetAnimation(),te.lazyContent?te._animationDone.pipe((0,V.p)(de=>"void"===de.toState),(0,U.s)(1),(0,A.Q)(te.lazyContent._attached)).subscribe({next:()=>te.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),te?.lazyContent?.detach())}_initMenu(ne){ne.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ne.direction=this.dir,this._setMenuElevation(ne),ne.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ne){if(ne.setElevation){let te=0,de=ne.parentMenu;for(;de;)te++,de=de.parentMenu;ne.setElevation(te)}}_setIsMenuOpen(ne){ne!==this._menuOpen&&(this._menuOpen=ne,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ne),this._changeDetectorRef.markForCheck())}_createOverlay(ne){if(!this._overlayRef){const te=this._getOverlayConfig(ne);this._subscribeToPositions(ne,te.positionStrategy),this._overlayRef=this._overlay.create(te),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ne){return new ie.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ne.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ne.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ne,te){ne.setPositionClasses&&te.positionChanges.subscribe(de=>{const _e="start"===de.connectionPair.overlayX?"after":"before",Ie="top"===de.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ne.setPositionClasses(_e,Ie)):ne.setPositionClasses(_e,Ie)})}_setPosition(ne,te){let[de,_e]="before"===ne.xPosition?["end","start"]:["start","end"],[Ie,He]="above"===ne.yPosition?["bottom","top"]:["top","bottom"],[Ve,xt]=[Ie,He],[Ne,ke]=[de,_e],pt=0;if(this.triggersSubmenu()){if(ke=de="before"===ne.xPosition?"start":"end",_e=Ne="end"===de?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const F=this._parentMaterialMenu.items.first;this._parentInnerPadding=F?F._getHostElement().offsetTop:0}pt="bottom"===Ie?this._parentInnerPadding:-this._parentInnerPadding}}else ne.overlapTrigger||(Ve="top"===Ie?"bottom":"top",xt="top"===He?"bottom":"top");te.withPositions([{originX:de,originY:Ve,overlayX:Ne,overlayY:Ie,offsetY:pt},{originX:_e,originY:Ve,overlayX:ke,overlayY:Ie,offsetY:pt},{originX:de,originY:xt,overlayX:Ne,overlayY:He,offsetY:-pt},{originX:_e,originY:xt,overlayX:ke,overlayY:He,offsetY:-pt}])}_menuClosingActions(){const ne=this._overlayRef.backdropClick(),te=this._overlayRef.detachments(),de=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,S.of)(),_e=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,V.p)(Ie=>Ie!==this._menuItemInstance),(0,V.p)(()=>this._menuOpen)):(0,S.of)();return(0,b.h)(ne,de,_e,te)}_handleMousedown(ne){(0,_._G)(ne)||(this._openedBy=0===ne.button?"mouse":void 0,this.triggersSubmenu()&&ne.preventDefault())}_handleKeydown(ne){const te=ne.keyCode;(te===B.Fm||te===B.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(te===B.LE&&"ltr"===this.dir||te===B.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ne){this.triggersSubmenu()?(ne.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,V.p)(ne=>ne===this._menuItemInstance&&!ne.disabled),(0,K.c)(0,P.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof we&&this.menu._isAnimating?this.menu._animationDone.pipe((0,U.s)(1),(0,K.c)(0,P.$),(0,A.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ne){return(!this._portal||this._portal.templateRef!==ne.templateRef)&&(this._portal=new Y.VA(ne.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(te){return new(te||be)(g.rXU(ie.hJ),g.rXU(g.aKT),g.rXU(g.c1b),g.rXU(Me),g.rXU(d,8),g.rXU(h,10),g.rXU(re.dS,8),g.rXU(_.FN),g.rXU(g.SKi))};static#t=this.\u0275dir=g.FsC({type:be,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(te,de){1&te&&g.bIt("click",function(Ie){return de._handleClick(Ie)})("mousedown",function(Ie){return de._handleMousedown(Ie)})("keydown",function(Ie){return de._handleKeydown(Ie)}),2&te&&g.BMQ("aria-haspopup",de.menu?"menu":null)("aria-expanded",de.menuOpen)("aria-controls",de.menuOpen?de.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return be})(),Ce=(()=>{class be{static#e=this.\u0275fac=function(te){return new(te||be)};static#t=this.\u0275mod=g.$C({type:be});static#n=this.\u0275inj=g.G2t({providers:[ge],imports:[Q.MD,q.pZ,q.yE,ie.z_,ue.Gj,q.yE]})}return be})()},9183:($e,j,E)=>{"use strict";E.d(j,{D6:()=>V,LG:()=>O});var g=E(93953),_=E(60177),B=E(86600);const H=["determinateSpinner"];function b(U,K){if(1&U&&(g.qSk(),g.j41(0,"svg",11),g.nrm(1,"circle",12),g.k0s()),2&U){const Q=g.XpG();g.BMQ("viewBox",Q._viewBox()),g.R7$(),g.xc7("stroke-dasharray",Q._strokeCircumference(),"px")("stroke-dashoffset",Q._strokeCircumference()/2,"px")("stroke-width",Q._circleStrokeWidth(),"%"),g.BMQ("r",Q._circleRadius())}}const k=new g.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function S(){return{diameter:P}}}),P=100;let O=(()=>{class U{get color(){return this._color||this._defaultColor}set color(Q){this._color=Q}constructor(Q,q,Y){this._elementRef=Q,this._defaultColor="primary",this._value=0,this._diameter=P,this._noopAnimations="NoopAnimations"===q&&!!Y&&!Y._forceAnimations,this.mode="mat-spinner"===Q.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",Y&&(Y.color&&(this.color=this._defaultColor=Y.color),Y.diameter&&(this.diameter=Y.diameter),Y.strokeWidth&&(this.strokeWidth=Y.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(Q){this._value=Math.max(0,Math.min(100,Q||0))}get diameter(){return this._diameter}set diameter(Q){this._diameter=Q||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(Q){this._strokeWidth=Q||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const Q=2*this._circleRadius()+this.strokeWidth;return`0 0 ${Q} ${Q}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(q){return new(q||U)(g.rXU(g.aKT),g.rXU(g.bc$,8),g.rXU(k))};static#t=this.\u0275cmp=g.VBU({type:U,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(q,Y){if(1&q&&g.GBs(H,5),2&q){let W;g.mGM(W=g.lsd())&&(Y._determinateCircle=W.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(q,Y){2&q&&(g.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===Y.mode?Y.value:null)("mode",Y.mode),g.HbH("mat-"+Y.color),g.xc7("width",Y.diameter,"px")("height",Y.diameter,"px")("--mdc-circular-progress-size",Y.diameter+"px")("--mdc-circular-progress-active-indicator-width",Y.diameter+"px"),g.AVh("_mat-animation-noopable",Y._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===Y.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",g.Udg],diameter:[2,"diameter","diameter",g.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",g.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[g.GFd,g.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(q,Y){if(1&q&&(g.DNE(0,b,2,8,"ng-template",null,0,g.C5r),g.j41(2,"div",2,1),g.qSk(),g.j41(4,"svg",3),g.nrm(5,"circle",4),g.k0s()(),g.joV(),g.j41(6,"div",5)(7,"div",6)(8,"div",7),g.eu8(9,8),g.k0s(),g.j41(10,"div",9),g.eu8(11,8),g.k0s(),g.j41(12,"div",10),g.eu8(13,8),g.k0s()()()),2&q){const W=g.sdS(1);g.R7$(4),g.BMQ("viewBox",Y._viewBox()),g.R7$(),g.xc7("stroke-dasharray",Y._strokeCircumference(),"px")("stroke-dashoffset",Y._strokeDashOffset(),"px")("stroke-width",Y._circleStrokeWidth(),"%"),g.BMQ("r",Y._circleRadius()),g.R7$(4),g.Y8G("ngTemplateOutlet",W),g.R7$(2),g.Y8G("ngTemplateOutlet",W),g.R7$(2),g.Y8G("ngTemplateOutlet",W)}},dependencies:[_.T3],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return U})(),V=(()=>{class U{static#e=this.\u0275fac=function(q){return new(q||U)};static#t=this.\u0275mod=g.$C({type:U});static#n=this.\u0275inj=g.G2t({imports:[_.MD,B.yE]})}return U})()},55911:($e,j,E)=>{"use strict";E.d(j,{KQ:()=>P,s5:()=>O});var g=E(93953),_=E(86600),B=E(36860),H=E(60177);const b=["*",[["mat-toolbar-row"]]],k=["*","mat-toolbar-row"];let S=(()=>{class A{static#e=this.\u0275fac=function(K){return new(K||A)};static#t=this.\u0275dir=g.FsC({type:A,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return A})(),P=(()=>{class A{constructor(U,K,Q){this._elementRef=U,this._platform=K,this._document=Q}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(K){return new(K||A)(g.rXU(g.aKT),g.rXU(B.OD),g.rXU(H.qQ))};static#t=this.\u0275cmp=g.VBU({type:A,selectors:[["mat-toolbar"]],contentQueries:function(K,Q,q){if(1&K&&g.wni(q,S,5),2&K){let Y;g.mGM(Y=g.lsd())&&(Q._toolbarRows=Y)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(K,Q){2&K&&(g.HbH(Q.color?"mat-"+Q.color:""),g.AVh("mat-toolbar-multiple-rows",Q._toolbarRows.length>0)("mat-toolbar-single-row",0===Q._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[g.aNF],ngContentSelectors:k,decls:2,vars:0,template:function(K,Q){1&K&&(g.NAR(b),g.SdG(0),g.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return A})(),O=(()=>{class A{static#e=this.\u0275fac=function(K){return new(K||A)};static#t=this.\u0275mod=g.$C({type:A});static#n=this.\u0275inj=g.G2t({imports:[_.yE,_.yE]})}return A})()},345:($e,j,E)=>{"use strict";E.d(j,{B7:()=>ve,B8:()=>Z,hE:()=>te,up:()=>Se});var g=E(60177),_=E(93953);class B extends g.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends B{static makeCurrent(){(0,g.ZD)(new H)}onAndCancel(Xt,dt,it){return Xt.addEventListener(dt,it),()=>{Xt.removeEventListener(dt,it)}}dispatchEvent(Xt,dt){Xt.dispatchEvent(dt)}remove(Xt){Xt.parentNode&&Xt.parentNode.removeChild(Xt)}createElement(Xt,dt){return(dt=dt||this.getDefaultDocument()).createElement(Xt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Xt){return Xt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Xt){return Xt instanceof DocumentFragment}getGlobalEventTarget(Xt,dt){return"window"===dt?window:"document"===dt?Xt:"body"===dt?Xt.body:null}getBaseHref(Xt){const dt=function k(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==dt?null:function S(rn){return new URL(rn,document.baseURI).pathname}(dt)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(Xt){return(0,g._b)(document.cookie,Xt)}}let b=null,R=(()=>{class rn{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(it){return new(it||rn)};static#t=this.\u0275prov=_.jDH({token:rn,factory:rn.\u0275fac})}return rn})();const O=new _.nKC("");let A=(()=>{class rn{constructor(dt,it){this._zone=it,this._eventNameToPlugin=new Map,dt.forEach(Wt=>{Wt.manager=this}),this._plugins=dt.slice().reverse()}addEventListener(dt,it,Wt){return this._findPluginFor(it).addEventListener(dt,it,Wt)}getZone(){return this._zone}_findPluginFor(dt){let it=this._eventNameToPlugin.get(dt);if(it)return it;if(it=this._plugins.find(Gt=>Gt.supports(dt)),!it)throw new _.wOt(5101,!1);return this._eventNameToPlugin.set(dt,it),it}static#e=this.\u0275fac=function(it){return new(it||rn)(_.KVO(O),_.KVO(_.SKi))};static#t=this.\u0275prov=_.jDH({token:rn,factory:rn.\u0275fac})}return rn})();class V{constructor(Xt){this._doc=Xt}}const U="ng-app-id";let K=(()=>{class rn{constructor(dt,it,Wt,Gt={}){this.doc=dt,this.appId=it,this.nonce=Wt,this.platformId=Gt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.Vy)(Gt),this.resetHostNodes()}addStyles(dt){for(const it of dt)1===this.changeUsageCount(it,1)&&this.onStyleAdded(it)}removeStyles(dt){for(const it of dt)this.changeUsageCount(it,-1)<=0&&this.onStyleRemoved(it)}ngOnDestroy(){const dt=this.styleNodesInDOM;dt&&(dt.forEach(it=>it.remove()),dt.clear());for(const it of this.getAllStyles())this.onStyleRemoved(it);this.resetHostNodes()}addHost(dt){this.hostNodes.add(dt);for(const it of this.getAllStyles())this.addStyleToHost(dt,it)}removeHost(dt){this.hostNodes.delete(dt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(dt){for(const it of this.hostNodes)this.addStyleToHost(it,dt)}onStyleRemoved(dt){const it=this.styleRef;it.get(dt)?.elements?.forEach(Wt=>Wt.remove()),it.delete(dt)}collectServerRenderedStyles(){const dt=this.doc.head?.querySelectorAll(`style[${U}="${this.appId}"]`);if(dt?.length){const it=new Map;return dt.forEach(Wt=>{null!=Wt.textContent&&it.set(Wt.textContent,Wt)}),it}return null}changeUsageCount(dt,it){const Wt=this.styleRef;if(Wt.has(dt)){const Gt=Wt.get(dt);return Gt.usage+=it,Gt.usage}return Wt.set(dt,{usage:it,elements:[]}),it}getStyleElement(dt,it){const Wt=this.styleNodesInDOM,Gt=Wt?.get(it);if(Gt?.parentNode===dt)return Wt.delete(it),Gt.removeAttribute(U),Gt;{const nn=this.doc.createElement("style");return this.nonce&&nn.setAttribute("nonce",this.nonce),nn.textContent=it,this.platformIsServer&&nn.setAttribute(U,this.appId),dt.appendChild(nn),nn}}addStyleToHost(dt,it){const Wt=this.getStyleElement(dt,it),Gt=this.styleRef,nn=Gt.get(it)?.elements;nn?nn.push(Wt):Gt.set(it,{elements:[Wt],usage:1})}resetHostNodes(){const dt=this.hostNodes;dt.clear(),dt.add(this.doc.head)}static#e=this.\u0275fac=function(it){return new(it||rn)(_.KVO(g.qQ),_.KVO(_.sZ2),_.KVO(_.BIS,8),_.KVO(_.Agw))};static#t=this.\u0275prov=_.jDH({token:rn,factory:rn.\u0275fac})}return rn})();const Q={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},q=/%COMP%/g,Y="%COMP%",W=`_nghost-${Y}`,re=`_ngcontent-${Y}`,ae=new _.nKC("",{providedIn:"root",factory:()=>!0});function pe(rn,Xt){return Xt.map(dt=>dt.replace(q,rn))}let ve=(()=>{class rn{constructor(dt,it,Wt,Gt,nn,Xn,ot,ft=null){this.eventManager=dt,this.sharedStylesHost=it,this.appId=Wt,this.removeStylesOnCompDestroy=Gt,this.doc=nn,this.platformId=Xn,this.ngZone=ot,this.nonce=ft,this.rendererByCompId=new Map,this.platformIsServer=(0,g.Vy)(Xn),this.defaultRenderer=new De(dt,nn,ot,this.platformIsServer)}createRenderer(dt,it){if(!dt||!it)return this.defaultRenderer;this.platformIsServer&&it.encapsulation===_.gXe.ShadowDom&&(it={...it,encapsulation:_.gXe.Emulated});const Wt=this.getOrCreateRenderer(dt,it);return Wt instanceof w?Wt.applyToHost(dt):Wt instanceof f&&Wt.applyStyles(),Wt}getOrCreateRenderer(dt,it){const Wt=this.rendererByCompId;let Gt=Wt.get(it.id);if(!Gt){const nn=this.doc,Xn=this.ngZone,ot=this.eventManager,ft=this.sharedStylesHost,ut=this.removeStylesOnCompDestroy,Ke=this.platformIsServer;switch(it.encapsulation){case _.gXe.Emulated:Gt=new w(ot,ft,it,this.appId,ut,nn,Xn,Ke);break;case _.gXe.ShadowDom:return new h(ot,ft,dt,it,nn,Xn,this.nonce,Ke);default:Gt=new f(ot,ft,it,ut,nn,Xn,Ke)}Wt.set(it.id,Gt)}return Gt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(it){return new(it||rn)(_.KVO(A),_.KVO(K),_.KVO(_.sZ2),_.KVO(ae),_.KVO(g.qQ),_.KVO(_.Agw),_.KVO(_.SKi),_.KVO(_.BIS))};static#t=this.\u0275prov=_.jDH({token:rn,factory:rn.\u0275fac})}return rn})();class De{constructor(Xt,dt,it,Wt){this.eventManager=Xt,this.doc=dt,this.ngZone=it,this.platformIsServer=Wt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Xt,dt){return dt?this.doc.createElementNS(Q[dt]||dt,Xt):this.doc.createElement(Xt)}createComment(Xt){return this.doc.createComment(Xt)}createText(Xt){return this.doc.createTextNode(Xt)}appendChild(Xt,dt){(d(Xt)?Xt.content:Xt).appendChild(dt)}insertBefore(Xt,dt,it){Xt&&(d(Xt)?Xt.content:Xt).insertBefore(dt,it)}removeChild(Xt,dt){Xt&&Xt.removeChild(dt)}selectRootElement(Xt,dt){let it="string"==typeof Xt?this.doc.querySelector(Xt):Xt;if(!it)throw new _.wOt(-5104,!1);return dt||(it.textContent=""),it}parentNode(Xt){return Xt.parentNode}nextSibling(Xt){return Xt.nextSibling}setAttribute(Xt,dt,it,Wt){if(Wt){dt=Wt+":"+dt;const Gt=Q[Wt];Gt?Xt.setAttributeNS(Gt,dt,it):Xt.setAttribute(dt,it)}else Xt.setAttribute(dt,it)}removeAttribute(Xt,dt,it){if(it){const Wt=Q[it];Wt?Xt.removeAttributeNS(Wt,dt):Xt.removeAttribute(`${it}:${dt}`)}else Xt.removeAttribute(dt)}addClass(Xt,dt){Xt.classList.add(dt)}removeClass(Xt,dt){Xt.classList.remove(dt)}setStyle(Xt,dt,it,Wt){Wt&(_.czy.DashCase|_.czy.Important)?Xt.style.setProperty(dt,it,Wt&_.czy.Important?"important":""):Xt.style[dt]=it}removeStyle(Xt,dt,it){it&_.czy.DashCase?Xt.style.removeProperty(dt):Xt.style[dt]=""}setProperty(Xt,dt,it){null!=Xt&&(Xt[dt]=it)}setValue(Xt,dt){Xt.nodeValue=dt}listen(Xt,dt,it){if("string"==typeof Xt&&!(Xt=(0,g.QT)().getGlobalEventTarget(this.doc,Xt)))throw new Error(`Unsupported event target ${Xt} for event ${dt}`);return this.eventManager.addEventListener(Xt,dt,this.decoratePreventDefault(it))}decoratePreventDefault(Xt){return dt=>{if("__ngUnwrap__"===dt)return Xt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Xt(dt)):Xt(dt))&&dt.preventDefault()}}}function d(rn){return"TEMPLATE"===rn.tagName&&void 0!==rn.content}class h extends De{constructor(Xt,dt,it,Wt,Gt,nn,Xn,ot){super(Xt,Gt,nn,ot),this.sharedStylesHost=dt,this.hostEl=it,this.shadowRoot=it.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ft=pe(Wt.id,Wt.styles);for(const ut of ft){const Ke=document.createElement("style");Xn&&Ke.setAttribute("nonce",Xn),Ke.textContent=ut,this.shadowRoot.appendChild(Ke)}}nodeOrShadowRoot(Xt){return Xt===this.hostEl?this.shadowRoot:Xt}appendChild(Xt,dt){return super.appendChild(this.nodeOrShadowRoot(Xt),dt)}insertBefore(Xt,dt,it){return super.insertBefore(this.nodeOrShadowRoot(Xt),dt,it)}removeChild(Xt,dt){return super.removeChild(this.nodeOrShadowRoot(Xt),dt)}parentNode(Xt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Xt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class f extends De{constructor(Xt,dt,it,Wt,Gt,nn,Xn,ot){super(Xt,Gt,nn,Xn),this.sharedStylesHost=dt,this.removeStylesOnCompDestroy=Wt,this.styles=ot?pe(ot,it.styles):it.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class w extends f{constructor(Xt,dt,it,Wt,Gt,nn,Xn,ot){const ft=Wt+"-"+it.id;super(Xt,dt,it,Gt,nn,Xn,ot,ft),this.contentAttr=function ue(rn){return re.replace(q,rn)}(ft),this.hostAttr=function ce(rn){return W.replace(q,rn)}(ft)}applyToHost(Xt){this.applyStyles(),this.setAttribute(Xt,this.hostAttr,"")}createElement(Xt,dt){const it=super.createElement(Xt,dt);return super.setAttribute(it,this.contentAttr,""),it}}let I=(()=>{class rn extends V{constructor(dt){super(dt)}supports(dt){return!0}addEventListener(dt,it,Wt){return dt.addEventListener(it,Wt,!1),()=>this.removeEventListener(dt,it,Wt)}removeEventListener(dt,it,Wt){return dt.removeEventListener(it,Wt)}static#e=this.\u0275fac=function(it){return new(it||rn)(_.KVO(g.qQ))};static#t=this.\u0275prov=_.jDH({token:rn,factory:rn.\u0275fac})}return rn})();const L=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},a={alt:rn=>rn.altKey,control:rn=>rn.ctrlKey,meta:rn=>rn.metaKey,shift:rn=>rn.shiftKey};let v=(()=>{class rn extends V{constructor(dt){super(dt)}supports(dt){return null!=rn.parseEventName(dt)}addEventListener(dt,it,Wt){const Gt=rn.parseEventName(it),nn=rn.eventCallback(Gt.fullKey,Wt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.QT)().onAndCancel(dt,Gt.domEventName,nn))}static parseEventName(dt){const it=dt.toLowerCase().split("."),Wt=it.shift();if(0===it.length||"keydown"!==Wt&&"keyup"!==Wt)return null;const Gt=rn._normalizeKey(it.pop());let nn="",Xn=it.indexOf("code");if(Xn>-1&&(it.splice(Xn,1),nn="code."),L.forEach(ft=>{const ut=it.indexOf(ft);ut>-1&&(it.splice(ut,1),nn+=ft+".")}),nn+=Gt,0!=it.length||0===Gt.length)return null;const ot={};return ot.domEventName=Wt,ot.fullKey=nn,ot}static matchEventFullKeyCode(dt,it){let Wt=x[dt.key]||dt.key,Gt="";return it.indexOf("code.")>-1&&(Wt=dt.code,Gt="code."),!(null==Wt||!Wt)&&(Wt=Wt.toLowerCase()," "===Wt?Wt="space":"."===Wt&&(Wt="dot"),L.forEach(nn=>{nn!==Wt&&(0,a[nn])(dt)&&(Gt+=nn+".")}),Gt+=Wt,Gt===it)}static eventCallback(dt,it,Wt){return Gt=>{rn.matchEventFullKeyCode(Gt,dt)&&Wt.runGuarded(()=>it(Gt))}}static _normalizeKey(dt){return"esc"===dt?"escape":dt}static#e=this.\u0275fac=function(it){return new(it||rn)(_.KVO(g.qQ))};static#t=this.\u0275prov=_.jDH({token:rn,factory:rn.\u0275fac})}return rn})();function Z(rn,Xt){return(0,_.TL3)({rootComponent:rn,...ee(Xt)})}function ee(rn){return{appProviders:[...Ce,...rn?.providers??[]],platformProviders:ge}}const ge=[{provide:_.Agw,useValue:g.AJ},{provide:_.PLl,useValue:function we(){H.makeCurrent()},multi:!0},{provide:g.qQ,useFactory:function Ge(){return(0,_.TL$)(document),document},deps:[]}],Ce=[{provide:_.H8p,useValue:"root"},{provide:_.zcH,useFactory:function Me(){return new _.zcH},deps:[]},{provide:O,useClass:I,multi:!0,deps:[g.qQ,_.SKi,_.Agw]},{provide:O,useClass:v,multi:!0,deps:[g.qQ]},ve,K,A,{provide:_._9s,useExisting:ve},{provide:g.N0,useClass:R,deps:[]},[]];let te=(()=>{class rn{constructor(dt){this._doc=dt}getTitle(){return this._doc.title}setTitle(dt){this._doc.title=dt||""}static#e=this.\u0275fac=function(it){return new(it||rn)(_.KVO(g.qQ))};static#t=this.\u0275prov=_.jDH({token:rn,factory:rn.\u0275fac,providedIn:"root"})}return rn})(),Se=(()=>{class rn{static#e=this.\u0275fac=function(it){return new(it||rn)};static#t=this.\u0275prov=_.jDH({token:rn,factory:function(it){let Wt=null;return Wt=it?new(it||rn):_.KVO(Ae),Wt},providedIn:"root"})}return rn})(),Ae=(()=>{class rn extends Se{constructor(dt){super(),this._doc=dt}sanitize(dt,it){if(null==it)return null;switch(dt){case _.WPN.NONE:return it;case _.WPN.HTML:return(0,_.ZF7)(it,"HTML")?(0,_.rcV)(it):(0,_.h9k)(this._doc,String(it)).toString();case _.WPN.STYLE:return(0,_.ZF7)(it,"Style")?(0,_.rcV)(it):it;case _.WPN.SCRIPT:if((0,_.ZF7)(it,"Script"))return(0,_.rcV)(it);throw new _.wOt(5200,!1);case _.WPN.URL:return(0,_.ZF7)(it,"URL")?(0,_.rcV)(it):(0,_.$MX)(String(it));case _.WPN.RESOURCE_URL:if((0,_.ZF7)(it,"ResourceURL"))return(0,_.rcV)(it);throw new _.wOt(5201,!1);default:throw new _.wOt(5202,!1)}}bypassSecurityTrustHtml(dt){return(0,_.Kcf)(dt)}bypassSecurityTrustStyle(dt){return(0,_.cWb)(dt)}bypassSecurityTrustScript(dt){return(0,_.UyX)(dt)}bypassSecurityTrustUrl(dt){return(0,_.osQ)(dt)}bypassSecurityTrustResourceUrl(dt){return(0,_.e5t)(dt)}static#e=this.\u0275fac=function(it){return new(it||rn)(_.KVO(g.qQ))};static#t=this.\u0275prov=_.jDH({token:rn,factory:rn.\u0275fac,providedIn:"root"})}return rn})()},18498:($e,j,E)=>{"use strict";E.d(j,{nX:()=>nt,wF:()=>ur,Z:()=>Sn,Ix:()=>Ks,Wk:()=>Hs,wQ:()=>Lv,iI:()=>jv,n3:()=>Br,lh:()=>Xc});var g=E(10467),_=E(93953),B=E(74402),H=E(86648),b=E(7673),k=E(84412),S=E(84572);const R=(0,E(81853).L)(je=>function(){je(this),this.name="EmptyError",this.message="no elements in sequence"});var O=E(28793),A=E(59030),V=E(71203),U=E(18810),K=E(983),Q=E(30017),q=E(21413),Y=E(18359),W=E(60177),re=E(96354),ie=E(25558),ae=E(96697),ue=E(99172),ce=E(5964),pe=E(31397),ve=E(39974),De=E(54360);function C(je){return(0,ve.N)((tt,ze)=>{let st=!1;tt.subscribe((0,De._)(ze,Dt=>{st=!0,ze.next(Dt)},()=>{st||ze.next(je),ze.complete()}))})}function s(je=d){return(0,ve.N)((tt,ze)=>{let st=!1;tt.subscribe((0,De._)(ze,Dt=>{st=!0,ze.next(Dt)},()=>st?ze.complete():ze.error(je())))})}function d(){return new R}var h=E(33669);function f(je,tt){const ze=arguments.length>=2;return st=>st.pipe(je?(0,ce.p)((Dt,on)=>je(Dt,on,st)):h.D,(0,ae.s)(1),ze?C(tt):s(()=>new R))}var w=E(70274),I=E(88141),L=E(99437);function v(je){return je<=0?()=>K.w:(0,ve.N)((tt,ze)=>{let st=[];tt.subscribe((0,De._)(ze,Dt=>{st.push(Dt),je<st.length&&st.shift()},()=>{for(const Dt of st)ze.next(Dt);ze.complete()},void 0,()=>{st=null}))})}var z=E(73703),ee=E(70980),le=E(99898),we=E(56977),Me=E(26365),Ge=E(345);const ge="primary",me=Symbol("RouteTitle");class Ue{constructor(tt){this.params=tt||{}}has(tt){return Object.prototype.hasOwnProperty.call(this.params,tt)}get(tt){if(this.has(tt)){const ze=this.params[tt];return Array.isArray(ze)?ze[0]:ze}return null}getAll(tt){if(this.has(tt)){const ze=this.params[tt];return Array.isArray(ze)?ze:[ze]}return[]}get keys(){return Object.keys(this.params)}}function xe(je){return new Ue(je)}function Ce(je,tt,ze){const st=ze.path.split("/");if(st.length>je.length||"full"===ze.pathMatch&&(tt.hasChildren()||st.length<je.length))return null;const Dt={};for(let on=0;on<st.length;on++){const Mn=st[on],Qn=je[on];if(":"===Mn[0])Dt[Mn.substring(1)]=Qn;else if(Mn!==Qn.path)return null}return{consumed:je.slice(0,st.length),posParams:Dt}}function he(je,tt){const ze=je?ne(je):void 0,st=tt?ne(tt):void 0;if(!ze||!st||ze.length!=st.length)return!1;let Dt;for(let on=0;on<ze.length;on++)if(Dt=ze[on],!te(je[Dt],tt[Dt]))return!1;return!0}function ne(je){return[...Object.keys(je),...Object.getOwnPropertySymbols(je)]}function te(je,tt){if(Array.isArray(je)&&Array.isArray(tt)){if(je.length!==tt.length)return!1;const ze=[...je].sort(),st=[...tt].sort();return ze.every((Dt,on)=>st[on]===Dt)}return je===tt}function de(je){return je.length>0?je[je.length-1]:null}function _e(je){return(0,B.A)(je)?je:(0,_.jNT)(je)?(0,H.H)(Promise.resolve(je)):(0,b.of)(je)}const Ie={exact:function Ne(je,tt,ze){if(!Ae(je.segments,tt.segments)||!D(je.segments,tt.segments,ze)||je.numberOfChildren!==tt.numberOfChildren)return!1;for(const st in tt.children)if(!je.children[st]||!Ne(je.children[st],tt.children[st],ze))return!1;return!0},subset:pt},He={exact:function xt(je,tt){return he(je,tt)},subset:function ke(je,tt){return Object.keys(tt).length<=Object.keys(je).length&&Object.keys(tt).every(ze=>te(je[ze],tt[ze]))},ignored:()=>!0};function Ve(je,tt,ze){return Ie[ze.paths](je.root,tt.root,ze.matrixParams)&&He[ze.queryParams](je.queryParams,tt.queryParams)&&!("exact"===ze.fragment&&je.fragment!==tt.fragment)}function pt(je,tt,ze){return F(je,tt,tt.segments,ze)}function F(je,tt,ze,st){if(je.segments.length>ze.length){const Dt=je.segments.slice(0,ze.length);return!(!Ae(Dt,ze)||tt.hasChildren()||!D(Dt,ze,st))}if(je.segments.length===ze.length){if(!Ae(je.segments,ze)||!D(je.segments,ze,st))return!1;for(const Dt in tt.children)if(!je.children[Dt]||!pt(je.children[Dt],tt.children[Dt],st))return!1;return!0}{const Dt=ze.slice(0,je.segments.length),on=ze.slice(je.segments.length);return!!(Ae(je.segments,Dt)&&D(je.segments,Dt,st)&&je.children[ge])&&F(je.children[ge],tt,on,st)}}function D(je,tt,ze){return tt.every((st,Dt)=>He[ze](je[Dt].parameters,st.parameters))}class M{constructor(tt=new G([],{}),ze={},st=null){this.root=tt,this.queryParams=ze,this.fragment=st}get queryParamMap(){return this._queryParamMap??=xe(this.queryParams),this._queryParamMap}toString(){return Ot.serialize(this)}}class G{constructor(tt,ze){this.segments=tt,this.children=ze,this.parent=null,Object.values(ze).forEach(st=>st.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qt(this)}}class fe{constructor(tt,ze){this.path=tt,this.parameters=ze}get parameterMap(){return this._parameterMap??=xe(this.parameters),this._parameterMap}toString(){return it(this)}}function Ae(je,tt){return je.length===tt.length&&je.every((ze,st)=>ze.path===tt[st].path)}let Ht=(()=>{class je{static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275prov=_.jDH({token:je,factory:()=>new vt,providedIn:"root"})}return je})();class vt{parse(tt){const ze=new At(tt);return new M(ze.parseRootSegment(),ze.parseQueryParams(),ze.parseFragment())}serialize(tt){const ze=`/${mn(tt.root,!0)}`,st=function Gt(je){const tt=Object.entries(je).map(([ze,st])=>Array.isArray(st)?st.map(Dt=>`${rr(ze)}=${rr(Dt)}`).join("&"):`${rr(ze)}=${rr(st)}`).filter(ze=>ze);return tt.length?`?${tt.join("&")}`:""}(tt.queryParams);return`${ze}${st}${"string"==typeof tt.fragment?`#${function Tn(je){return encodeURI(je)}(tt.fragment)}`:""}`}}const Ot=new vt;function qt(je){return je.segments.map(tt=>it(tt)).join("/")}function mn(je,tt){if(!je.hasChildren())return qt(je);if(tt){const ze=je.children[ge]?mn(je.children[ge],!1):"",st=[];return Object.entries(je.children).forEach(([Dt,on])=>{Dt!==ge&&st.push(`${Dt}:${mn(on,!1)}`)}),st.length>0?`${ze}(${st.join("//")})`:ze}{const ze=function rt(je,tt){let ze=[];return Object.entries(je.children).forEach(([st,Dt])=>{st===ge&&(ze=ze.concat(tt(Dt,st)))}),Object.entries(je.children).forEach(([st,Dt])=>{st!==ge&&(ze=ze.concat(tt(Dt,st)))}),ze}(je,(st,Dt)=>Dt===ge?[mn(je.children[ge],!1)]:[`${Dt}:${mn(st,!1)}`]);return 1===Object.keys(je.children).length&&null!=je.children[ge]?`${qt(je)}/${ze[0]}`:`${qt(je)}/(${ze.join("//")})`}}function ln(je){return encodeURIComponent(je).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rr(je){return ln(je).replace(/%3B/gi,";")}function rn(je){return ln(je).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xt(je){return decodeURIComponent(je)}function dt(je){return Xt(je.replace(/\+/g,"%20"))}function it(je){return`${rn(je.path)}${function Wt(je){return Object.entries(je).map(([tt,ze])=>`;${rn(tt)}=${rn(ze)}`).join("")}(je.parameters)}`}const nn=/^[^\/()?;#]+/;function Xn(je){const tt=je.match(nn);return tt?tt[0]:""}const ot=/^[^\/()?;=#]+/,ut=/^[^=?&#]+/,We=/^[^&#]+/;class At{constructor(tt){this.url=tt,this.remaining=tt}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new G([],{}):new G([],this.parseChildren())}parseQueryParams(){const tt={};if(this.consumeOptional("?"))do{this.parseQueryParam(tt)}while(this.consumeOptional("&"));return tt}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const tt=[];for(this.peekStartsWith("(")||tt.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),tt.push(this.parseSegment());let ze={};this.peekStartsWith("/(")&&(this.capture("/"),ze=this.parseParens(!0));let st={};return this.peekStartsWith("(")&&(st=this.parseParens(!1)),(tt.length>0||Object.keys(ze).length>0)&&(st[ge]=new G(tt,ze)),st}parseSegment(){const tt=Xn(this.remaining);if(""===tt&&this.peekStartsWith(";"))throw new _.wOt(4009,!1);return this.capture(tt),new fe(Xt(tt),this.parseMatrixParams())}parseMatrixParams(){const tt={};for(;this.consumeOptional(";");)this.parseParam(tt);return tt}parseParam(tt){const ze=function ft(je){const tt=je.match(ot);return tt?tt[0]:""}(this.remaining);if(!ze)return;this.capture(ze);let st="";if(this.consumeOptional("=")){const Dt=Xn(this.remaining);Dt&&(st=Dt,this.capture(st))}tt[Xt(ze)]=Xt(st)}parseQueryParam(tt){const ze=function Ke(je){const tt=je.match(ut);return tt?tt[0]:""}(this.remaining);if(!ze)return;this.capture(ze);let st="";if(this.consumeOptional("=")){const Mn=function Bt(je){const tt=je.match(We);return tt?tt[0]:""}(this.remaining);Mn&&(st=Mn,this.capture(st))}const Dt=dt(ze),on=dt(st);if(tt.hasOwnProperty(Dt)){let Mn=tt[Dt];Array.isArray(Mn)||(Mn=[Mn],tt[Dt]=Mn),Mn.push(on)}else tt[Dt]=on}parseParens(tt){const ze={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const st=Xn(this.remaining),Dt=this.remaining[st.length];if("/"!==Dt&&")"!==Dt&&";"!==Dt)throw new _.wOt(4010,!1);let on;st.indexOf(":")>-1?(on=st.slice(0,st.indexOf(":")),this.capture(on),this.capture(":")):tt&&(on=ge);const Mn=this.parseChildren();ze[on]=1===Object.keys(Mn).length?Mn[ge]:new G([],Mn),this.consumeOptional("//")}return ze}peekStartsWith(tt){return this.remaining.startsWith(tt)}consumeOptional(tt){return!!this.peekStartsWith(tt)&&(this.remaining=this.remaining.substring(tt.length),!0)}capture(tt){if(!this.consumeOptional(tt))throw new _.wOt(4011,!1)}}function fn(je){return je.segments.length>0?new G([],{[ge]:je}):je}function Un(je){const tt={};for(const[st,Dt]of Object.entries(je.children)){const on=Un(Dt);if(st===ge&&0===on.segments.length&&on.hasChildren())for(const[Mn,Qn]of Object.entries(on.children))tt[Mn]=Qn;else(on.segments.length>0||on.hasChildren())&&(tt[st]=on)}return function wn(je){if(1===je.numberOfChildren&&je.children[ge]){const tt=je.children[ge];return new G(je.segments.concat(tt.segments),tt.children)}return je}(new G(je.segments,tt))}function vn(je){return je instanceof M}function nr(je){let tt;const Dt=fn(function ze(on){const Mn={};for(const Vn of on.children){const Cr=ze(Vn);Mn[Vn.outlet]=Cr}const Qn=new G(on.url,Mn);return on===je&&(tt=Qn),Qn}(je.root));return tt??Dt}function Bn(je,tt,ze,st){let Dt=je;for(;Dt.parent;)Dt=Dt.parent;if(0===tt.length)return Oe(Dt,Dt,Dt,ze,st);const on=function pn(je){if("string"==typeof je[0]&&1===je.length&&"/"===je[0])return new Kt(!0,0,je);let tt=0,ze=!1;const st=je.reduce((Dt,on,Mn)=>{if("object"==typeof on&&null!=on){if(on.outlets){const Qn={};return Object.entries(on.outlets).forEach(([Vn,Cr])=>{Qn[Vn]="string"==typeof Cr?Cr.split("/"):Cr}),[...Dt,{outlets:Qn}]}if(on.segmentPath)return[...Dt,on.segmentPath]}return"string"!=typeof on?[...Dt,on]:0===Mn?(on.split("/").forEach((Qn,Vn)=>{0==Vn&&"."===Qn||(0==Vn&&""===Qn?ze=!0:".."===Qn?tt++:""!=Qn&&Dt.push(Qn))}),Dt):[...Dt,on]},[]);return new Kt(ze,tt,st)}(tt);if(on.toRoot())return Oe(Dt,Dt,new G([],{}),ze,st);const Mn=function zn(je,tt,ze){if(je.isAbsolute)return new jn(tt,!0,0);if(!ze)return new jn(tt,!1,NaN);if(null===ze.parent)return new jn(ze,!0,0);const st=Fn(je.commands[0])?0:1;return function or(je,tt,ze){let st=je,Dt=tt,on=ze;for(;on>Dt;){if(on-=Dt,st=st.parent,!st)throw new _.wOt(4005,!1);Dt=st.segments.length}return new jn(st,!1,Dt-on)}(ze,ze.segments.length-1+st,je.numberOfDoubleDots)}(on,Dt,je),Qn=Mn.processChildren?Ir(Mn.segmentGroup,Mn.index,on.commands):Rr(Mn.segmentGroup,Mn.index,on.commands);return Oe(Dt,Mn.segmentGroup,Qn,ze,st)}function Fn(je){return"object"==typeof je&&null!=je&&!je.outlets&&!je.segmentPath}function qe(je){return"object"==typeof je&&null!=je&&je.outlets}function Oe(je,tt,ze,st,Dt){let Mn,on={};st&&Object.entries(st).forEach(([Vn,Cr])=>{on[Vn]=Array.isArray(Cr)?Cr.map(Pi=>`${Pi}`):`${Cr}`}),Mn=je===tt?ze:Je(je,tt,ze);const Qn=fn(Un(Mn));return new M(Qn,on,Dt)}function Je(je,tt,ze){const st={};return Object.entries(je.children).forEach(([Dt,on])=>{st[Dt]=on===tt?ze:Je(on,tt,ze)}),new G(je.segments,st)}class Kt{constructor(tt,ze,st){if(this.isAbsolute=tt,this.numberOfDoubleDots=ze,this.commands=st,tt&&st.length>0&&Fn(st[0]))throw new _.wOt(4003,!1);const Dt=st.find(qe);if(Dt&&Dt!==de(st))throw new _.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jn{constructor(tt,ze,st){this.segmentGroup=tt,this.processChildren=ze,this.index=st}}function Rr(je,tt,ze){if(je??=new G([],{}),0===je.segments.length&&je.hasChildren())return Ir(je,tt,ze);const st=function Lr(je,tt,ze){let st=0,Dt=tt;const on={match:!1,pathIndex:0,commandIndex:0};for(;Dt<je.segments.length;){if(st>=ze.length)return on;const Mn=je.segments[Dt],Qn=ze[st];if(qe(Qn))break;const Vn=`${Qn}`,Cr=st<ze.length-1?ze[st+1]:null;if(Dt>0&&void 0===Vn)break;if(Vn&&Cr&&"object"==typeof Cr&&void 0===Cr.outlets){if(!Ft(Vn,Cr,Mn))return on;st+=2}else{if(!Ft(Vn,{},Mn))return on;st++}Dt++}return{match:!0,pathIndex:Dt,commandIndex:st}}(je,tt,ze),Dt=ze.slice(st.commandIndex);if(st.match&&st.pathIndex<je.segments.length){const on=new G(je.segments.slice(0,st.pathIndex),{});return on.children[ge]=new G(je.segments.slice(st.pathIndex),je.children),Ir(on,0,Dt)}return st.match&&0===Dt.length?new G(je.segments,{}):st.match&&!je.hasChildren()?fr(je,tt,ze):st.match?Ir(je,0,Dt):fr(je,tt,ze)}function Ir(je,tt,ze){if(0===ze.length)return new G(je.segments,{});{const st=function yr(je){return qe(je[0])?je[0].outlets:{[ge]:je}}(ze),Dt={};if(Object.keys(st).some(on=>on!==ge)&&je.children[ge]&&1===je.numberOfChildren&&0===je.children[ge].segments.length){const on=Ir(je.children[ge],tt,ze);return new G(je.segments,on.children)}return Object.entries(st).forEach(([on,Mn])=>{"string"==typeof Mn&&(Mn=[Mn]),null!==Mn&&(Dt[on]=Rr(je.children[on],tt,Mn))}),Object.entries(je.children).forEach(([on,Mn])=>{void 0===st[on]&&(Dt[on]=Mn)}),new G(je.segments,Dt)}}function fr(je,tt,ze){const st=je.segments.slice(0,tt);let Dt=0;for(;Dt<ze.length;){const on=ze[Dt];if(qe(on)){const Vn=en(on.outlets);return new G(st,Vn)}if(0===Dt&&Fn(ze[0])){st.push(new fe(je.segments[tt].path,bn(ze[0]))),Dt++;continue}const Mn=qe(on)?on.outlets[ge]:`${on}`,Qn=Dt<ze.length-1?ze[Dt+1]:null;Mn&&Qn&&Fn(Qn)?(st.push(new fe(Mn,bn(Qn))),Dt+=2):(st.push(new fe(Mn,{})),Dt++)}return new G(st,{})}function en(je){const tt={};return Object.entries(je).forEach(([ze,st])=>{"string"==typeof st&&(st=[st]),null!==st&&(tt[ze]=fr(new G([],{}),0,st))}),tt}function bn(je){const tt={};return Object.entries(je).forEach(([ze,st])=>tt[ze]=`${st}`),tt}function Ft(je,tt,ze){return je==ze.path&&he(tt,ze.parameters)}const _n="imperative";var Ut=function(je){return je[je.NavigationStart=0]="NavigationStart",je[je.NavigationEnd=1]="NavigationEnd",je[je.NavigationCancel=2]="NavigationCancel",je[je.NavigationError=3]="NavigationError",je[je.RoutesRecognized=4]="RoutesRecognized",je[je.ResolveStart=5]="ResolveStart",je[je.ResolveEnd=6]="ResolveEnd",je[je.GuardsCheckStart=7]="GuardsCheckStart",je[je.GuardsCheckEnd=8]="GuardsCheckEnd",je[je.RouteConfigLoadStart=9]="RouteConfigLoadStart",je[je.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",je[je.ChildActivationStart=11]="ChildActivationStart",je[je.ChildActivationEnd=12]="ChildActivationEnd",je[je.ActivationStart=13]="ActivationStart",je[je.ActivationEnd=14]="ActivationEnd",je[je.Scroll=15]="Scroll",je[je.NavigationSkipped=16]="NavigationSkipped",je}(Ut||{});class gn{constructor(tt,ze){this.id=tt,this.url=ze}}class Sn extends gn{constructor(tt,ze,st="imperative",Dt=null){super(tt,ze),this.type=Ut.NavigationStart,this.navigationTrigger=st,this.restoredState=Dt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ur extends gn{constructor(tt,ze,st){super(tt,ze),this.urlAfterRedirects=st,this.type=Ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ar=function(je){return je[je.Redirect=0]="Redirect",je[je.SupersededByNewNavigation=1]="SupersededByNewNavigation",je[je.NoDataFromResolver=2]="NoDataFromResolver",je[je.GuardRejected=3]="GuardRejected",je}(ar||{}),oi=function(je){return je[je.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",je[je.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",je}(oi||{});class _i extends gn{constructor(tt,ze,st,Dt){super(tt,ze),this.reason=st,this.code=Dt,this.type=Ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oi extends gn{constructor(tt,ze,st,Dt){super(tt,ze),this.reason=st,this.code=Dt,this.type=Ut.NavigationSkipped}}class Fr extends gn{constructor(tt,ze,st,Dt){super(tt,ze),this.error=st,this.target=Dt,this.type=Ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ci extends gn{constructor(tt,ze,st,Dt){super(tt,ze),this.urlAfterRedirects=st,this.state=Dt,this.type=Ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o extends gn{constructor(tt,ze,st,Dt){super(tt,ze),this.urlAfterRedirects=st,this.state=Dt,this.type=Ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ii extends gn{constructor(tt,ze,st,Dt,on){super(tt,ze),this.urlAfterRedirects=st,this.state=Dt,this.shouldActivate=on,this.type=Ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tn extends gn{constructor(tt,ze,st,Dt){super(tt,ze),this.urlAfterRedirects=st,this.state=Dt,this.type=Ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends gn{constructor(tt,ze,st,Dt){super(tt,ze),this.urlAfterRedirects=st,this.state=Dt,this.type=Ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class It{constructor(tt){this.route=tt,this.type=Ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wt{constructor(tt){this.route=tt,this.type=Ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sn{constructor(tt){this.snapshot=tt,this.type=Ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{constructor(tt){this.snapshot=tt,this.type=Ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(tt){this.snapshot=tt,this.type=Ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(tt){this.snapshot=tt,this.type=Ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wn{constructor(tt,ze,st){this.routerEvent=tt,this.position=ze,this.anchor=st,this.type=Ut.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Rn{}class yn{constructor(tt,ze){this.url=tt,this.navigationBehaviorOptions=ze}}class Jt{constructor(tt){this.injector=tt,this.outlet=null,this.route=null,this.children=new ct(this.injector),this.attachRef=null}}let ct=(()=>{class je{constructor(ze){this.parentInjector=ze,this.contexts=new Map}onChildOutletCreated(ze,st){const Dt=this.getOrCreateContext(ze);Dt.outlet=st,this.contexts.set(ze,Dt)}onChildOutletDestroyed(ze){const st=this.getContext(ze);st&&(st.outlet=null,st.attachRef=null)}onOutletDeactivated(){const ze=this.contexts;return this.contexts=new Map,ze}onOutletReAttached(ze){this.contexts=ze}getOrCreateContext(ze){let st=this.getContext(ze);return st||(st=new Jt(this.parentInjector),this.contexts.set(ze,st)),st}getContext(ze){return this.contexts.get(ze)||null}static#e=this.\u0275fac=function(st){return new(st||je)(_.KVO(_.uvJ))};static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();class Et{constructor(tt){this._root=tt}get root(){return this._root.value}parent(tt){const ze=this.pathFromRoot(tt);return ze.length>1?ze[ze.length-2]:null}children(tt){const ze=kt(tt,this._root);return ze?ze.children.map(st=>st.value):[]}firstChild(tt){const ze=kt(tt,this._root);return ze&&ze.children.length>0?ze.children[0].value:null}siblings(tt){const ze=Qe(tt,this._root);return ze.length<2?[]:ze[ze.length-2].children.map(Dt=>Dt.value).filter(Dt=>Dt!==tt)}pathFromRoot(tt){return Qe(tt,this._root).map(ze=>ze.value)}}function kt(je,tt){if(je===tt.value)return tt;for(const ze of tt.children){const st=kt(je,ze);if(st)return st}return null}function Qe(je,tt){if(je===tt.value)return[tt];for(const ze of tt.children){const st=Qe(je,ze);if(st.length)return st.unshift(tt),st}return[]}class et{constructor(tt,ze){this.value=tt,this.children=ze}toString(){return`TreeNode(${this.value})`}}function Be(je){const tt={};return je&&je.children.forEach(ze=>tt[ze.value.outlet]=ze),tt}class Fe extends Et{constructor(tt,ze){super(tt),this.snapshot=ze,Vt(this,tt)}toString(){return this.snapshot.toString()}}function _t(je){const tt=function lt(je){const on=new In([],{},{},"",{},ge,je,null,{});return new hn("",new et(on,[]))}(je),ze=new k.t([new fe("",{})]),st=new k.t({}),Dt=new k.t({}),on=new k.t({}),Mn=new k.t(""),Qn=new nt(ze,st,on,Mn,Dt,ge,je,tt.root);return Qn.snapshot=tt.root,new Fe(new et(Qn,[]),tt)}class nt{constructor(tt,ze,st,Dt,on,Mn,Qn,Vn){this.urlSubject=tt,this.paramsSubject=ze,this.queryParamsSubject=st,this.fragmentSubject=Dt,this.dataSubject=on,this.outlet=Mn,this.component=Qn,this._futureSnapshot=Vn,this.title=this.dataSubject?.pipe((0,re.T)(Cr=>Cr[me]))??(0,b.of)(void 0),this.url=tt,this.params=ze,this.queryParams=st,this.fragment=Dt,this.data=on}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,re.T)(tt=>xe(tt))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,re.T)(tt=>xe(tt))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jt(je,tt,ze="emptyOnly"){let st;const{routeConfig:Dt}=je;return st=null===tt||"always"!==ze&&""!==Dt?.path&&(tt.component||tt.routeConfig?.loadComponent)?{params:{...je.params},data:{...je.data},resolve:{...je.data,...je._resolvedData??{}}}:{params:{...tt.params,...je.params},data:{...tt.data,...je.data},resolve:{...je.data,...tt.data,...Dt?.data,...je._resolvedData}},Dt&&jr(Dt)&&(st.resolve[me]=Dt.title),st}class In{get title(){return this.data?.[me]}constructor(tt,ze,st,Dt,on,Mn,Qn,Vn,Cr){this.url=tt,this.params=ze,this.queryParams=st,this.fragment=Dt,this.data=on,this.outlet=Mn,this.component=Qn,this.routeConfig=Vn,this._resolve=Cr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xe(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(st=>st.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hn extends Et{constructor(tt,ze){super(ze),this.url=tt,Vt(this,ze)}toString(){return Dn(this._root)}}function Vt(je,tt){tt.value._routerState=je,tt.children.forEach(ze=>Vt(je,ze))}function Dn(je){const tt=je.children.length>0?` { ${je.children.map(Dn).join(", ")} } `:"";return`${je.value}${tt}`}function sr(je){if(je.snapshot){const tt=je.snapshot,ze=je._futureSnapshot;je.snapshot=ze,he(tt.queryParams,ze.queryParams)||je.queryParamsSubject.next(ze.queryParams),tt.fragment!==ze.fragment&&je.fragmentSubject.next(ze.fragment),he(tt.params,ze.params)||je.paramsSubject.next(ze.params),function be(je,tt){if(je.length!==tt.length)return!1;for(let ze=0;ze<je.length;++ze)if(!he(je[ze],tt[ze]))return!1;return!0}(tt.url,ze.url)||je.urlSubject.next(ze.url),he(tt.data,ze.data)||je.dataSubject.next(ze.data)}else je.snapshot=je._futureSnapshot,je.dataSubject.next(je._futureSnapshot.data)}function _r(je,tt){const ze=he(je.params,tt.params)&&function Se(je,tt){return Ae(je,tt)&&je.every((ze,st)=>he(ze.parameters,tt[st].parameters))}(je.url,tt.url);return ze&&!(!je.parent!=!tt.parent)&&(!je.parent||_r(je.parent,tt.parent))}function jr(je){return"string"==typeof je.title||null===je.title}let Br=(()=>{class je{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new _.bkB,this.deactivateEvents=new _.bkB,this.attachEvents=new _.bkB,this.detachEvents=new _.bkB,this.parentContexts=(0,_.WQX)(ct),this.location=(0,_.WQX)(_.c1b),this.changeDetector=(0,_.WQX)(_.gRc),this.inputBinder=(0,_.WQX)(so,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(ze){if(ze.name){const{firstChange:st,previousValue:Dt}=ze.name;if(st)return;this.isTrackedInParentContexts(Dt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Dt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(ze){return this.parentContexts.getContext(ze)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const ze=this.parentContexts.getContext(this.name);ze?.route&&(ze.attachRef?this.attach(ze.attachRef,ze.route):this.activateWith(ze.route,ze.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.wOt(4012,!1);this.location.detach();const ze=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ze.instance),ze}attach(ze,st){this.activated=ze,this._activatedRoute=st,this.location.insert(ze.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(ze.instance)}deactivate(){if(this.activated){const ze=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ze)}}activateWith(ze,st){if(this.isActivated)throw new _.wOt(4013,!1);this._activatedRoute=ze;const Dt=this.location,Mn=ze.snapshot.component,Qn=this.parentContexts.getOrCreateContext(this.name).children,Vn=new Vr(ze,Qn,Dt.injector);this.activated=Dt.createComponent(Mn,{index:Dt.length,injector:Vn,environmentInjector:st}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275dir=_.FsC({type:je,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.OA$]})}return je})();class Vr{__ngOutletInjector(tt){return new Vr(this.route,this.childContexts,tt)}constructor(tt,ze,st){this.route=tt,this.childContexts=ze,this.parent=st}get(tt,ze){return tt===nt?this.route:tt===ct?this.childContexts:this.parent.get(tt,ze)}}const so=new _.nKC("");let Kr=(()=>{class je{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ze){this.unsubscribeFromRouteData(ze),this.subscribeToRouteData(ze)}unsubscribeFromRouteData(ze){this.outletDataSubscriptions.get(ze)?.unsubscribe(),this.outletDataSubscriptions.delete(ze)}subscribeToRouteData(ze){const{activatedRoute:st}=ze,Dt=(0,S.z)([st.queryParams,st.params,st.data]).pipe((0,ie.n)(([on,Mn,Qn],Vn)=>(Qn={...on,...Mn,...Qn},0===Vn?(0,b.of)(Qn):Promise.resolve(Qn)))).subscribe(on=>{if(!ze.isActivated||!ze.activatedComponentRef||ze.activatedRoute!==st||null===st.component)return void this.unsubscribeFromRouteData(ze);const Mn=(0,_.HJs)(st.component);if(Mn)for(const{templateName:Qn}of Mn.inputs)ze.activatedComponentRef.setInput(Qn,on[Qn]);else this.unsubscribeFromRouteData(ze)});this.outletDataSubscriptions.set(ze,Dt)}static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac})}return je})();function zr(je,tt,ze){if(ze&&je.shouldReuseRoute(tt.value,ze.value.snapshot)){const st=ze.value;st._futureSnapshot=tt.value;const Dt=function Qr(je,tt,ze){return tt.children.map(st=>{for(const Dt of ze.children)if(je.shouldReuseRoute(st.value,Dt.value.snapshot))return zr(je,st,Dt);return zr(je,st)})}(je,tt,ze);return new et(st,Dt)}{if(je.shouldAttach(tt.value)){const on=je.retrieve(tt.value);if(null!==on){const Mn=on.route;return Mn.value._futureSnapshot=tt.value,Mn.children=tt.children.map(Qn=>zr(je,Qn)),Mn}}const st=function wr(je){return new nt(new k.t(je.url),new k.t(je.params),new k.t(je.queryParams),new k.t(je.fragment),new k.t(je.data),je.outlet,je.component,je)}(tt.value),Dt=tt.children.map(on=>zr(je,on));return new et(st,Dt)}}class ri{constructor(tt,ze){this.redirectTo=tt,this.navigationBehaviorOptions=ze}}const Yi="ngNavigationCancelingError";function co(je,tt){const{redirectTo:ze,navigationBehaviorOptions:st}=vn(tt)?{redirectTo:tt,navigationBehaviorOptions:void 0}:tt,Dt=$i(!1,ar.Redirect);return Dt.url=ze,Dt.navigationBehaviorOptions=st,Dt}function $i(je,tt){const ze=new Error(`NavigationCancelingError: ${je||""}`);return ze[Yi]=!0,ze.cancellationCode=tt,ze}function xo(je){return!!je&&je[Yi]}let xi=(()=>{class je{static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275cmp=_.VBU({type:je,selectors:[["ng-component"]],standalone:!0,features:[_.aNF],decls:1,vars:0,template:function(st,Dt){1&st&&_.nrm(0,"router-outlet")},dependencies:[Br],encapsulation:2})}return je})();function da(je){const tt=je.children&&je.children.map(da),ze=tt?{...je,children:tt}:{...je};return!ze.component&&!ze.loadComponent&&(tt||ze.loadChildren)&&ze.outlet&&ze.outlet!==ge&&(ze.component=xi),ze}function gs(je){return je.outlet||ge}function Va(je){if(!je)return null;if(je.routeConfig?._injector)return je.routeConfig._injector;for(let tt=je.parent;tt;tt=tt.parent){const ze=tt.routeConfig;if(ze?._loadedInjector)return ze._loadedInjector;if(ze?._injector)return ze._injector}return null}class au{constructor(tt,ze,st,Dt,on){this.routeReuseStrategy=tt,this.futureState=ze,this.currState=st,this.forwardEvent=Dt,this.inputBindingEnabled=on}activate(tt){const ze=this.futureState._root,st=this.currState?this.currState._root:null;this.deactivateChildRoutes(ze,st,tt),sr(this.futureState.root),this.activateChildRoutes(ze,st,tt)}deactivateChildRoutes(tt,ze,st){const Dt=Be(ze);tt.children.forEach(on=>{const Mn=on.value.outlet;this.deactivateRoutes(on,Dt[Mn],st),delete Dt[Mn]}),Object.values(Dt).forEach(on=>{this.deactivateRouteAndItsChildren(on,st)})}deactivateRoutes(tt,ze,st){const Dt=tt.value,on=ze?ze.value:null;if(Dt===on)if(Dt.component){const Mn=st.getContext(Dt.outlet);Mn&&this.deactivateChildRoutes(tt,ze,Mn.children)}else this.deactivateChildRoutes(tt,ze,st);else on&&this.deactivateRouteAndItsChildren(ze,st)}deactivateRouteAndItsChildren(tt,ze){tt.value.component&&this.routeReuseStrategy.shouldDetach(tt.value.snapshot)?this.detachAndStoreRouteSubtree(tt,ze):this.deactivateRouteAndOutlet(tt,ze)}detachAndStoreRouteSubtree(tt,ze){const st=ze.getContext(tt.value.outlet),Dt=st&&tt.value.component?st.children:ze,on=Be(tt);for(const Mn of Object.values(on))this.deactivateRouteAndItsChildren(Mn,Dt);if(st&&st.outlet){const Mn=st.outlet.detach(),Qn=st.children.onOutletDeactivated();this.routeReuseStrategy.store(tt.value.snapshot,{componentRef:Mn,route:tt,contexts:Qn})}}deactivateRouteAndOutlet(tt,ze){const st=ze.getContext(tt.value.outlet),Dt=st&&tt.value.component?st.children:ze,on=Be(tt);for(const Mn of Object.values(on))this.deactivateRouteAndItsChildren(Mn,Dt);st&&(st.outlet&&(st.outlet.deactivate(),st.children.onOutletDeactivated()),st.attachRef=null,st.route=null)}activateChildRoutes(tt,ze,st){const Dt=Be(ze);tt.children.forEach(on=>{this.activateRoutes(on,Dt[on.value.outlet],st),this.forwardEvent(new xn(on.value.snapshot))}),tt.children.length&&this.forwardEvent(new Yt(tt.value.snapshot))}activateRoutes(tt,ze,st){const Dt=tt.value,on=ze?ze.value:null;if(sr(Dt),Dt===on)if(Dt.component){const Mn=st.getOrCreateContext(Dt.outlet);this.activateChildRoutes(tt,ze,Mn.children)}else this.activateChildRoutes(tt,ze,st);else if(Dt.component){const Mn=st.getOrCreateContext(Dt.outlet);if(this.routeReuseStrategy.shouldAttach(Dt.snapshot)){const Qn=this.routeReuseStrategy.retrieve(Dt.snapshot);this.routeReuseStrategy.store(Dt.snapshot,null),Mn.children.onOutletReAttached(Qn.contexts),Mn.attachRef=Qn.componentRef,Mn.route=Qn.route.value,Mn.outlet&&Mn.outlet.attach(Qn.componentRef,Qn.route.value),sr(Qn.route.value),this.activateChildRoutes(tt,null,Mn.children)}else{const Qn=Va(Dt.snapshot);Mn.attachRef=null,Mn.route=Dt,Mn.injector=Qn??Mn.injector,Mn.outlet&&Mn.outlet.activateWith(Dt,Mn.injector),this.activateChildRoutes(tt,null,Mn.children)}}else this.activateChildRoutes(tt,null,st)}}class Ju{constructor(tt){this.path=tt,this.route=this.path[this.path.length-1]}}class ss{constructor(tt,ze){this.component=tt,this.route=ze}}function _g(je,tt,ze){const st=je._root;return la(st,tt?tt._root:null,ze,[st.value])}function yo(je,tt){const ze=Symbol(),st=tt.get(je,ze);return st===ze?"function"!=typeof je||(0,_.LfX)(je)?tt.get(je):je:st}function la(je,tt,ze,st,Dt={canDeactivateChecks:[],canActivateChecks:[]}){const on=Be(tt);return je.children.forEach(Mn=>{(function Cs(je,tt,ze,st,Dt={canDeactivateChecks:[],canActivateChecks:[]}){const on=je.value,Mn=tt?tt.value:null,Qn=ze?ze.getContext(je.value.outlet):null;if(Mn&&on.routeConfig===Mn.routeConfig){const Vn=function Yf(je,tt,ze){if("function"==typeof ze)return ze(je,tt);switch(ze){case"pathParamsChange":return!Ae(je.url,tt.url);case"pathParamsOrQueryParamsChange":return!Ae(je.url,tt.url)||!he(je.queryParams,tt.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_r(je,tt)||!he(je.queryParams,tt.queryParams);default:return!_r(je,tt)}}(Mn,on,on.routeConfig.runGuardsAndResolvers);Vn?Dt.canActivateChecks.push(new Ju(st)):(on.data=Mn.data,on._resolvedData=Mn._resolvedData),la(je,tt,on.component?Qn?Qn.children:null:ze,st,Dt),Vn&&Qn&&Qn.outlet&&Qn.outlet.isActivated&&Dt.canDeactivateChecks.push(new ss(Qn.outlet.component,Mn))}else Mn&&cu(tt,Qn,Dt),Dt.canActivateChecks.push(new Ju(st)),la(je,null,on.component?Qn?Qn.children:null:ze,st,Dt)})(Mn,on[Mn.value.outlet],ze,st.concat([Mn.value]),Dt),delete on[Mn.value.outlet]}),Object.entries(on).forEach(([Mn,Qn])=>cu(Qn,ze.getContext(Mn),Dt)),Dt}function cu(je,tt,ze){const st=Be(je),Dt=je.value;Object.entries(st).forEach(([on,Mn])=>{cu(Mn,Dt.component?tt?tt.children.getContext(on):null:tt,ze)}),ze.canDeactivateChecks.push(new ss(Dt.component&&tt&&tt.outlet&&tt.outlet.isActivated?tt.outlet.component:null,Dt))}function du(je){return"function"==typeof je}function Ct(je){return je instanceof R||"EmptyError"===je?.name}const at=Symbol("INITIAL_VALUE");function Qt(){return(0,ie.n)(je=>(0,S.z)(je.map(tt=>tt.pipe((0,ae.s)(1),(0,ue.Z)(at)))).pipe((0,re.T)(tt=>{for(const ze of tt)if(!0!==ze){if(ze===at)return at;if(!1===ze||Nn(ze))return ze}return!0}),(0,ce.p)(tt=>tt!==at),(0,ae.s)(1)))}function Nn(je){return vn(je)||je instanceof ri}function Rv(je){return(0,V.F)((0,I.M)(tt=>{if("boolean"!=typeof tt)throw co(0,tt)}),(0,re.T)(tt=>!0===tt))}class gd{constructor(tt){this.segmentGroup=tt||null}}class vo extends Error{constructor(tt){super(),this.urlTree=tt}}function bi(je){return(0,U.$)(new gd(je))}class wl{constructor(tt,ze){this.urlSerializer=tt,this.urlTree=ze}lineralizeSegments(tt,ze){let st=[],Dt=ze.root;for(;;){if(st=st.concat(Dt.segments),0===Dt.numberOfChildren)return(0,b.of)(st);if(Dt.numberOfChildren>1||!Dt.children[ge])return(0,U.$)(new _.wOt(4e3,!1));Dt=Dt.children[ge]}}applyRedirectCommands(tt,ze,st,Dt,on){if("string"!=typeof ze){const Qn=ze,{queryParams:Vn,fragment:Cr,routeConfig:Pi,url:Xi,outlet:ho,params:Od,data:Yo,title:Bi}=Dt,Go=(0,_.N4e)(on,()=>Qn({params:Od,data:Yo,queryParams:Vn,fragment:Cr,routeConfig:Pi,url:Xi,outlet:ho,title:Bi}));if(Go instanceof M)throw new vo(Go);ze=Go}const Mn=this.applyRedirectCreateUrlTree(ze,this.urlSerializer.parse(ze),tt,st);if("/"===ze[0])throw new vo(Mn);return Mn}applyRedirectCreateUrlTree(tt,ze,st,Dt){const on=this.createSegmentGroup(tt,ze.root,st,Dt);return new M(on,this.createQueryParams(ze.queryParams,this.urlTree.queryParams),ze.fragment)}createQueryParams(tt,ze){const st={};return Object.entries(tt).forEach(([Dt,on])=>{if("string"==typeof on&&":"===on[0]){const Qn=on.substring(1);st[Dt]=ze[Qn]}else st[Dt]=on}),st}createSegmentGroup(tt,ze,st,Dt){const on=this.createSegments(tt,ze.segments,st,Dt);let Mn={};return Object.entries(ze.children).forEach(([Qn,Vn])=>{Mn[Qn]=this.createSegmentGroup(tt,Vn,st,Dt)}),new G(on,Mn)}createSegments(tt,ze,st,Dt){return ze.map(on=>":"===on.path[0]?this.findPosParam(tt,on,Dt):this.findOrReturn(on,st))}findPosParam(tt,ze,st){const Dt=st[ze.path.substring(1)];if(!Dt)throw new _.wOt(4001,!1);return Dt}findOrReturn(tt,ze){let st=0;for(const Dt of ze){if(Dt.path===tt.path)return ze.splice(st),Dt;st++}return tt}}const um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a1(je,tt,ze,st,Dt){const on=_l(je,tt,ze);return on.matched?(st=function Po(je,tt){return je.providers&&!je._injector&&(je._injector=(0,_.Ol2)(je.providers,tt,`Route: ${je.path}`)),je._injector??tt}(tt,st),function s1(je,tt,ze,st){const Dt=tt.canMatch;if(!Dt||0===Dt.length)return(0,b.of)(!0);const on=Dt.map(Mn=>{const Qn=yo(Mn,je);return _e(function Pt(je){return je&&du(je.canMatch)}(Qn)?Qn.canMatch(tt,ze):(0,_.N4e)(je,()=>Qn(tt,ze)))});return(0,b.of)(on).pipe(Qt(),Rv())}(st,tt,ze).pipe((0,re.T)(Mn=>!0===Mn?on:{...um}))):(0,b.of)(on)}function _l(je,tt,ze){if("**"===tt.path)return function Gc(je){return{matched:!0,parameters:je.length>0?de(je).parameters:{},consumedSegments:je,remainingSegments:[],positionalParamSegments:{}}}(ze);if(""===tt.path)return"full"===tt.pathMatch&&(je.hasChildren()||ze.length>0)?{...um}:{matched:!0,consumedSegments:[],remainingSegments:ze,parameters:{},positionalParamSegments:{}};const Dt=(tt.matcher||Ce)(ze,je,tt);if(!Dt)return{...um};const on={};Object.entries(Dt.posParams??{}).forEach(([Qn,Vn])=>{on[Qn]=Vn.path});const Mn=Dt.consumed.length>0?{...on,...Dt.consumed[Dt.consumed.length-1].parameters}:on;return{matched:!0,consumedSegments:Dt.consumed,remainingSegments:ze.slice(Dt.consumed.length),parameters:Mn,positionalParamSegments:Dt.posParams??{}}}function qf(je,tt,ze,st){return ze.length>0&&function Gi(je,tt,ze){return ze.some(st=>Qf(je,tt,st)&&gs(st)!==ge)}(je,ze,st)?{segmentGroup:new G(tt,c1(st,new G(ze,je.children))),slicedSegments:[]}:0===ze.length&&function Zc(je,tt,ze){return ze.some(st=>Qf(je,tt,st))}(je,ze,st)?{segmentGroup:new G(je.segments,ys(je,ze,st,je.children)),slicedSegments:ze}:{segmentGroup:new G(je.segments,je.children),slicedSegments:ze}}function ys(je,tt,ze,st){const Dt={};for(const on of ze)if(Qf(je,tt,on)&&!st[gs(on)]){const Mn=new G([],{});Dt[gs(on)]=Mn}return{...st,...Dt}}function c1(je,tt){const ze={};ze[ge]=tt;for(const st of je)if(""===st.path&&gs(st)!==ge){const Dt=new G([],{});ze[gs(st)]=Dt}return ze}function Qf(je,tt,ze){return(!(je.hasChildren()||tt.length>0)||"full"!==ze.pathMatch)&&""===ze.path}class Fh{}class Ia{constructor(tt,ze,st,Dt,on,Mn,Qn){this.injector=tt,this.configLoader=ze,this.rootComponentType=st,this.config=Dt,this.urlTree=on,this.paramsInheritanceStrategy=Mn,this.urlSerializer=Qn,this.applyRedirects=new wl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(tt){return new _.wOt(4002,`'${tt.segmentGroup}'`)}recognize(){const tt=qf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(tt).pipe((0,re.T)(({children:ze,rootSnapshot:st})=>{const Dt=new et(st,ze),on=new hn("",Dt),Mn=function pr(je,tt,ze=null,st=null){return Bn(nr(je),tt,ze,st)}(st,[],this.urlTree.queryParams,this.urlTree.fragment);return Mn.queryParams=this.urlTree.queryParams,on.url=this.urlSerializer.serialize(Mn),{state:on,tree:Mn}}))}match(tt){const ze=new In([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,tt,ge,ze).pipe((0,re.T)(st=>({children:st,rootSnapshot:ze})),(0,L.W)(st=>{if(st instanceof vo)return this.urlTree=st.urlTree,this.match(st.urlTree.root);throw st instanceof gd?this.noMatchError(st):st}))}processSegmentGroup(tt,ze,st,Dt,on){return 0===st.segments.length&&st.hasChildren()?this.processChildren(tt,ze,st,on):this.processSegment(tt,ze,st,st.segments,Dt,!0,on).pipe((0,re.T)(Mn=>Mn instanceof et?[Mn]:[]))}processChildren(tt,ze,st,Dt){const on=[];for(const Mn of Object.keys(st.children))"primary"===Mn?on.unshift(Mn):on.push(Mn);return(0,H.H)(on).pipe((0,w.H)(Mn=>{const Qn=st.children[Mn],Vn=function La(je,tt){const ze=je.filter(st=>gs(st)===tt);return ze.push(...je.filter(st=>gs(st)!==tt)),ze}(ze,Mn);return this.processSegmentGroup(tt,Vn,Qn,Mn,Dt)}),function a(je,tt){return(0,ve.N)(function x(je,tt,ze,st,Dt){return(on,Mn)=>{let Qn=ze,Vn=tt,Cr=0;on.subscribe((0,De._)(Mn,Pi=>{const Xi=Cr++;Vn=Qn?je(Vn,Pi,Xi):(Qn=!0,Pi),st&&Mn.next(Vn)},Dt&&(()=>{Qn&&Mn.next(Vn),Mn.complete()})))}}(je,tt,arguments.length>=2,!0))}((Mn,Qn)=>(Mn.push(...Qn),Mn)),C(null),function Z(je,tt){const ze=arguments.length>=2;return st=>st.pipe(je?(0,ce.p)((Dt,on)=>je(Dt,on,st)):h.D,v(1),ze?C(tt):s(()=>new R))}(),(0,pe.Z)(Mn=>{if(null===Mn)return bi(st);const Qn=Qu(Mn);return function Ov(je){je.sort((tt,ze)=>tt.value.outlet===ge?-1:ze.value.outlet===ge?1:tt.value.outlet.localeCompare(ze.value.outlet))}(Qn),(0,b.of)(Qn)}))}processSegment(tt,ze,st,Dt,on,Mn,Qn){return(0,H.H)(ze).pipe((0,w.H)(Vn=>this.processSegmentAgainstRoute(Vn._injector??tt,ze,Vn,st,Dt,on,Mn,Qn).pipe((0,L.W)(Cr=>{if(Cr instanceof gd)return(0,b.of)(null);throw Cr}))),f(Vn=>!!Vn),(0,L.W)(Vn=>{if(Ct(Vn))return function No(je,tt,ze){return 0===tt.length&&!je.children[ze]}(st,Dt,on)?(0,b.of)(new Fh):bi(st);throw Vn}))}processSegmentAgainstRoute(tt,ze,st,Dt,on,Mn,Qn,Vn){return function fm(je,tt,ze,st){return!!(gs(je)===st||st!==ge&&Qf(tt,ze,je))&&_l(tt,je,ze).matched}(st,Dt,on,Mn)?void 0===st.redirectTo?this.matchSegmentAgainstRoute(tt,Dt,st,on,Mn,Vn):this.allowRedirects&&Qn?this.expandSegmentAgainstRouteUsingRedirect(tt,Dt,ze,st,on,Mn,Vn):bi(Dt):bi(Dt)}expandSegmentAgainstRouteUsingRedirect(tt,ze,st,Dt,on,Mn,Qn){const{matched:Vn,parameters:Cr,consumedSegments:Pi,positionalParamSegments:Xi,remainingSegments:ho}=_l(ze,Dt,on);if(!Vn)return bi(ze);"string"==typeof Dt.redirectTo&&"/"===Dt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Od=new In(on,Cr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jh(Dt),gs(Dt),Dt.component??Dt._loadedComponent??null,Dt,ef(Dt)),Yo=jt(Od,Qn,this.paramsInheritanceStrategy);Od.params=Object.freeze(Yo.params),Od.data=Object.freeze(Yo.data);const Bi=this.applyRedirects.applyRedirectCommands(Pi,Dt.redirectTo,Xi,Od,tt);return this.applyRedirects.lineralizeSegments(Dt,Bi).pipe((0,pe.Z)(Go=>this.processSegment(tt,st,ze,Go.concat(ho),Mn,!1,Qn)))}matchSegmentAgainstRoute(tt,ze,st,Dt,on,Mn){const Qn=a1(ze,st,Dt,tt);return"**"===st.path&&(ze.children={}),Qn.pipe((0,ie.n)(Vn=>Vn.matched?this.getChildConfig(tt=st._injector??tt,st,Dt).pipe((0,ie.n)(({routes:Cr})=>{const Pi=st._loadedInjector??tt,{parameters:Xi,consumedSegments:ho,remainingSegments:Od}=Vn,Yo=new In(ho,Xi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jh(st),gs(st),st.component??st._loadedComponent??null,st,ef(st)),Bi=jt(Yo,Mn,this.paramsInheritanceStrategy);Yo.params=Object.freeze(Bi.params),Yo.data=Object.freeze(Bi.data);const{segmentGroup:Go,slicedSegments:Zo}=qf(ze,ho,Od,Cr);if(0===Zo.length&&Go.hasChildren())return this.processChildren(Pi,Cr,Go,Yo).pipe((0,re.T)(pa=>new et(Yo,pa)));if(0===Cr.length&&0===Zo.length)return(0,b.of)(new et(Yo,[]));const hu=gs(st)===on;return this.processSegment(Pi,Cr,Go,Zo,hu?ge:on,!0,Yo).pipe((0,re.T)(pa=>new et(Yo,pa instanceof et?[pa]:[])))})):bi(ze)))}getChildConfig(tt,ze,st){return ze.children?(0,b.of)({routes:ze.children,injector:tt}):ze.loadChildren?void 0!==ze._loadedRoutes?(0,b.of)({routes:ze._loadedRoutes,injector:ze._loadedInjector}):function Pv(je,tt,ze,st){const Dt=tt.canLoad;if(void 0===Dt||0===Dt.length)return(0,b.of)(!0);const on=Dt.map(Mn=>{const Qn=yo(Mn,je);return _e(function Mi(je){return je&&du(je.canLoad)}(Qn)?Qn.canLoad(tt,ze):(0,_.N4e)(je,()=>Qn(tt,ze)))});return(0,b.of)(on).pipe(Qt(),Rv())}(tt,ze,st).pipe((0,pe.Z)(Dt=>Dt?this.configLoader.loadChildren(tt,ze).pipe((0,I.M)(on=>{ze._loadedRoutes=on.routes,ze._loadedInjector=on.injector})):function Jf(je){return(0,U.$)($i(!1,ar.GuardRejected))}())):(0,b.of)({routes:[],injector:tt})}}function d1(je){const tt=je.value.routeConfig;return tt&&""===tt.path}function Qu(je){const tt=[],ze=new Set;for(const st of je){if(!d1(st)){tt.push(st);continue}const Dt=tt.find(on=>st.value.routeConfig===on.value.routeConfig);void 0!==Dt?(Dt.children.push(...st.children),ze.add(Dt)):tt.push(st)}for(const st of ze){const Dt=Qu(st.children);tt.push(new et(st.value,Dt))}return tt.filter(st=>!ze.has(st))}function jh(je){return je.data||{}}function ef(je){return je.resolve||{}}function th(je){const tt=je.children.map(ze=>th(ze)).flat();return[je,...tt]}function Eg(je){return(0,ie.n)(tt=>{const ze=je(tt);return ze?(0,H.H)(ze).pipe((0,re.T)(()=>tt)):(0,b.of)(tt)})}let hm=(()=>{class je{buildTitle(ze){let st,Dt=ze.root;for(;void 0!==Dt;)st=this.getResolvedTitleForRoute(Dt)??st,Dt=Dt.children.find(on=>on.outlet===ge);return st}getResolvedTitleForRoute(ze){return ze.data[me]}static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275prov=_.jDH({token:je,factory:()=>(0,_.WQX)(na),providedIn:"root"})}return je})(),na=(()=>{class je extends hm{constructor(ze){super(),this.title=ze}updateTitle(ze){const st=this.buildTitle(ze);void 0!==st&&this.title.setTitle(st)}static#e=this.\u0275fac=function(st){return new(st||je)(_.KVO(Ge.hE))};static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();const nh=new _.nKC("",{providedIn:"root",factory:()=>({})}),rh=new _.nKC("");let Xe=(()=>{class je{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.WQX)(_.Ql9)}loadComponent(ze){if(this.componentLoaders.get(ze))return this.componentLoaders.get(ze);if(ze._loadedComponent)return(0,b.of)(ze._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ze);const st=_e(ze.loadComponent()).pipe((0,re.T)(Nt),(0,I.M)(on=>{this.onLoadEndListener&&this.onLoadEndListener(ze),ze._loadedComponent=on}),(0,ee.j)(()=>{this.componentLoaders.delete(ze)})),Dt=new Q.G(st,()=>new q.B).pipe((0,le.B)());return this.componentLoaders.set(ze,Dt),Dt}loadChildren(ze,st){if(this.childrenLoaders.get(st))return this.childrenLoaders.get(st);if(st._loadedRoutes)return(0,b.of)({routes:st._loadedRoutes,injector:st._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(st);const on=function Lt(je,tt,ze,st){return _e(je.loadChildren()).pipe((0,re.T)(Nt),(0,pe.Z)(Dt=>Dt instanceof _.Co$||Array.isArray(Dt)?(0,b.of)(Dt):(0,H.H)(tt.compileModuleAsync(Dt))),(0,re.T)(Dt=>{st&&st(je);let on,Mn,Qn=!1;return Array.isArray(Dt)?(Mn=Dt,!0):(on=Dt.create(ze).injector,Mn=on.get(rh,[],{optional:!0,self:!0}).flat()),{routes:Mn.map(da),injector:on}}))}(st,this.compiler,ze,this.onLoadEndListener).pipe((0,ee.j)(()=>{this.childrenLoaders.delete(st)})),Mn=new Q.G(on,()=>new q.B).pipe((0,le.B)());return this.childrenLoaders.set(st,Mn),Mn}static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();function Nt(je){return function ht(je){return je&&"object"==typeof je&&"default"in je}(je)?je.default:je}let En=(()=>{class je{static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275prov=_.jDH({token:je,factory:()=>(0,_.WQX)(Ln),providedIn:"root"})}return je})(),Ln=(()=>{class je{shouldProcessUrl(ze){return!0}extract(ze){return ze}merge(ze,st){return ze}static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();const mr=new _.nKC(""),qr=new _.nKC("");function Ni(je,tt,ze){const st=je.get(qr),Dt=je.get(W.qQ);return je.get(_.SKi).runOutsideAngular(()=>{if(!Dt.startViewTransition||st.skipNextTransition)return st.skipNextTransition=!1,new Promise(Cr=>setTimeout(Cr));let on;const Mn=new Promise(Cr=>{on=Cr}),Qn=Dt.startViewTransition(()=>(on(),function Ho(je){return new Promise(tt=>{(0,_.mal)(()=>setTimeout(tt),{injector:je,phase:_.wjH.Read})})}(je))),{onViewTransitionCreated:Vn}=st;return Vn&&(0,_.N4e)(je,()=>Vn({transition:Qn,from:tt,to:ze})),Mn})}const Ro=new _.nKC("");let ni=(()=>{class je{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q.B,this.transitionAbortSubject=new q.B,this.configLoader=(0,_.WQX)(Xe),this.environmentInjector=(0,_.WQX)(_.uvJ),this.urlSerializer=(0,_.WQX)(Ht),this.rootContexts=(0,_.WQX)(ct),this.location=(0,_.WQX)(W.aZ),this.inputBindingEnabled=null!==(0,_.WQX)(so,{optional:!0}),this.titleStrategy=(0,_.WQX)(hm),this.options=(0,_.WQX)(nh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,_.WQX)(En),this.createViewTransition=(0,_.WQX)(mr,{optional:!0}),this.navigationErrorHandler=(0,_.WQX)(Ro,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,b.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Dt=>this.events.next(new wt(Dt)),this.configLoader.onLoadStartListener=Dt=>this.events.next(new It(Dt))}complete(){this.transitions?.complete()}handleNavigationRequest(ze){const st=++this.navigationId;this.transitions?.next({...this.transitions.value,...ze,id:st})}setupNavigations(ze,st,Dt){return this.transitions=new k.t({id:0,currentUrlTree:st,currentRawUrl:st,extractedUrl:this.urlHandlingStrategy.extract(st),urlAfterRedirects:this.urlHandlingStrategy.extract(st),rawUrl:st,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:_n,restoredState:null,currentSnapshot:Dt.snapshot,targetSnapshot:null,currentRouterState:Dt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ce.p)(on=>0!==on.id),(0,re.T)(on=>({...on,extractedUrl:this.urlHandlingStrategy.extract(on.rawUrl)})),(0,ie.n)(on=>{let Mn=!1,Qn=!1;return(0,b.of)(on).pipe((0,ie.n)(Vn=>{if(this.navigationId>on.id)return this.cancelNavigationTransition(on,"",ar.SupersededByNewNavigation),K.w;this.currentTransition=on,this.currentNavigation={id:Vn.id,initialUrl:Vn.rawUrl,extractedUrl:Vn.extractedUrl,trigger:Vn.source,extras:Vn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Cr=!ze.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Cr&&"reload"!==(Vn.extras.onSameUrlNavigation??ze.onSameUrlNavigation)){const Xi="";return this.events.next(new Oi(Vn.id,this.urlSerializer.serialize(Vn.rawUrl),Xi,oi.IgnoredSameUrlNavigation)),Vn.resolve(!1),K.w}if(this.urlHandlingStrategy.shouldProcessUrl(Vn.rawUrl))return(0,b.of)(Vn).pipe((0,ie.n)(Xi=>{const ho=this.transitions?.getValue();return this.events.next(new Sn(Xi.id,this.urlSerializer.serialize(Xi.extractedUrl),Xi.source,Xi.restoredState)),ho!==this.transitions?.getValue()?K.w:Promise.resolve(Xi)}),function eh(je,tt,ze,st,Dt,on){return(0,pe.Z)(Mn=>function Gr(je,tt,ze,st,Dt,on,Mn="emptyOnly"){return new Ia(je,tt,ze,st,Dt,Mn,on).recognize()}(je,tt,ze,st,Mn.extractedUrl,Dt,on).pipe((0,re.T)(({state:Qn,tree:Vn})=>({...Mn,targetSnapshot:Qn,urlAfterRedirects:Vn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,ze.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,I.M)(Xi=>{on.targetSnapshot=Xi.targetSnapshot,on.urlAfterRedirects=Xi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Xi.urlAfterRedirects};const ho=new ci(Xi.id,this.urlSerializer.serialize(Xi.extractedUrl),this.urlSerializer.serialize(Xi.urlAfterRedirects),Xi.targetSnapshot);this.events.next(ho)}));if(Cr&&this.urlHandlingStrategy.shouldProcessUrl(Vn.currentRawUrl)){const{id:Xi,extractedUrl:ho,source:Od,restoredState:Yo,extras:Bi}=Vn,Go=new Sn(Xi,this.urlSerializer.serialize(ho),Od,Yo);this.events.next(Go);const Zo=_t(this.rootComponentType).snapshot;return this.currentTransition=on={...Vn,targetSnapshot:Zo,urlAfterRedirects:ho,extras:{...Bi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ho,(0,b.of)(on)}{const Xi="";return this.events.next(new Oi(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),Xi,oi.IgnoredByUrlHandlingStrategy)),Vn.resolve(!1),K.w}}),(0,I.M)(Vn=>{const Cr=new _o(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects),Vn.targetSnapshot);this.events.next(Cr)}),(0,re.T)(Vn=>(this.currentTransition=on={...Vn,guards:_g(Vn.targetSnapshot,Vn.currentSnapshot,this.rootContexts)},on)),function Jr(je,tt){return(0,pe.Z)(ze=>{const{targetSnapshot:st,currentSnapshot:Dt,guards:{canActivateChecks:on,canDeactivateChecks:Mn}}=ze;return 0===Mn.length&&0===on.length?(0,b.of)({...ze,guardsResult:!0}):function lo(je,tt,ze,st){return(0,H.H)(je).pipe((0,pe.Z)(Dt=>function ki(je,tt,ze,st,Dt){const on=tt&&tt.routeConfig?tt.routeConfig.canDeactivate:null;if(!on||0===on.length)return(0,b.of)(!0);const Mn=on.map(Qn=>{const Vn=Va(tt)??Dt,Cr=yo(Qn,Vn);return _e(function qu(je){return je&&du(je.canDeactivate)}(Cr)?Cr.canDeactivate(je,tt,ze,st):(0,_.N4e)(Vn,()=>Cr(je,tt,ze,st))).pipe(f())});return(0,b.of)(Mn).pipe(Qt())}(Dt.component,Dt.route,ze,tt,st)),f(Dt=>!0!==Dt,!0))}(Mn,st,Dt,je).pipe((0,pe.Z)(Qn=>Qn&&function zo(je){return"boolean"==typeof je}(Qn)?function ac(je,tt,ze,st){return(0,H.H)(tt).pipe((0,w.H)(Dt=>(0,O.x)(function bl(je,tt){return null!==je&&tt&&tt(new sn(je)),(0,b.of)(!0)}(Dt.route.parent,st),function Cd(je,tt){return null!==je&&tt&&tt(new an(je)),(0,b.of)(!0)}(Dt.route,st),function kc(je,tt,ze){const st=tt[tt.length-1],on=tt.slice(0,tt.length-1).reverse().map(Mn=>function Uh(je){const tt=je.routeConfig?je.routeConfig.canActivateChild:null;return tt&&0!==tt.length?{node:je,guards:tt}:null}(Mn)).filter(Mn=>null!==Mn).map(Mn=>(0,A.v)(()=>{const Qn=Mn.guards.map(Vn=>{const Cr=Va(Mn.node)??ze,Pi=yo(Vn,Cr);return _e(function Ua(je){return je&&du(je.canActivateChild)}(Pi)?Pi.canActivateChild(st,je):(0,_.N4e)(Cr,()=>Pi(st,je))).pipe(f())});return(0,b.of)(Qn).pipe(Qt())}));return(0,b.of)(on).pipe(Qt())}(je,Dt.path,ze),function kv(je,tt,ze){const st=tt.routeConfig?tt.routeConfig.canActivate:null;if(!st||0===st.length)return(0,b.of)(!0);const Dt=st.map(on=>(0,A.v)(()=>{const Mn=Va(tt)??ze,Qn=yo(on,Mn);return _e(function Ad(je){return je&&du(je.canActivate)}(Qn)?Qn.canActivate(tt,je):(0,_.N4e)(Mn,()=>Qn(tt,je))).pipe(f())}));return(0,b.of)(Dt).pipe(Qt())}(je,Dt.route,ze))),f(Dt=>!0!==Dt,!0))}(st,on,je,tt):(0,b.of)(Qn)),(0,re.T)(Qn=>({...ze,guardsResult:Qn})))})}(this.environmentInjector,Vn=>this.events.next(Vn)),(0,I.M)(Vn=>{if(on.guardsResult=Vn.guardsResult,Vn.guardsResult&&"boolean"!=typeof Vn.guardsResult)throw co(0,Vn.guardsResult);const Cr=new Ii(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects),Vn.targetSnapshot,!!Vn.guardsResult);this.events.next(Cr)}),(0,ce.p)(Vn=>!!Vn.guardsResult||(this.cancelNavigationTransition(Vn,"",ar.GuardRejected),!1)),Eg(Vn=>{if(Vn.guards.canActivateChecks.length)return(0,b.of)(Vn).pipe((0,I.M)(Cr=>{const Pi=new tn(Cr.id,this.urlSerializer.serialize(Cr.extractedUrl),this.urlSerializer.serialize(Cr.urlAfterRedirects),Cr.targetSnapshot);this.events.next(Pi)}),(0,ie.n)(Cr=>{let Pi=!1;return(0,b.of)(Cr).pipe(function kd(je,tt){return(0,pe.Z)(ze=>{const{targetSnapshot:st,guards:{canActivateChecks:Dt}}=ze;if(!Dt.length)return(0,b.of)(ze);const on=new Set(Dt.map(Vn=>Vn.route)),Mn=new Set;for(const Vn of on)if(!Mn.has(Vn))for(const Cr of th(Vn))Mn.add(Cr);let Qn=0;return(0,H.H)(Mn).pipe((0,w.H)(Vn=>on.has(Vn)?function Nv(je,tt,ze,st){const Dt=je.routeConfig,on=je._resolve;return void 0!==Dt?.title&&!jr(Dt)&&(on[me]=Dt.title),function gr(je,tt,ze,st){const Dt=ne(je);if(0===Dt.length)return(0,b.of)({});const on={};return(0,H.H)(Dt).pipe((0,pe.Z)(Mn=>function pi(je,tt,ze,st){const Dt=Va(tt)??st,on=yo(je,Dt);return _e(on.resolve?on.resolve(tt,ze):(0,_.N4e)(Dt,()=>on(tt,ze)))}(je[Mn],tt,ze,st).pipe(f(),(0,I.M)(Qn=>{if(Qn instanceof ri)throw co(new vt,Qn);on[Mn]=Qn}))),v(1),(0,z.u)(on),(0,L.W)(Mn=>Ct(Mn)?K.w:(0,U.$)(Mn)))}(on,je,tt,st).pipe((0,re.T)(Mn=>(je._resolvedData=Mn,je.data=jt(je,je.parent,ze).resolve,null)))}(Vn,st,je,tt):(Vn.data=jt(Vn,Vn.parent,je).resolve,(0,b.of)(void 0))),(0,I.M)(()=>Qn++),v(1),(0,pe.Z)(Vn=>Qn===Mn.size?(0,b.of)(ze):K.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,I.M)({next:()=>Pi=!0,complete:()=>{Pi||this.cancelNavigationTransition(Cr,"",ar.NoDataFromResolver)}}))}),(0,I.M)(Cr=>{const Pi=new dn(Cr.id,this.urlSerializer.serialize(Cr.extractedUrl),this.urlSerializer.serialize(Cr.urlAfterRedirects),Cr.targetSnapshot);this.events.next(Pi)}))}),Eg(Vn=>{const Cr=Pi=>{const Xi=[];Pi.routeConfig?.loadComponent&&!Pi.routeConfig._loadedComponent&&Xi.push(this.configLoader.loadComponent(Pi.routeConfig).pipe((0,I.M)(ho=>{Pi.component=ho}),(0,re.T)(()=>{})));for(const ho of Pi.children)Xi.push(...Cr(ho));return Xi};return(0,S.z)(Cr(Vn.targetSnapshot.root)).pipe(C(null),(0,ae.s)(1))}),Eg(()=>this.afterPreactivation()),(0,ie.n)(()=>{const{currentSnapshot:Vn,targetSnapshot:Cr}=on,Pi=this.createViewTransition?.(this.environmentInjector,Vn.root,Cr.root);return Pi?(0,H.H)(Pi).pipe((0,re.T)(()=>on)):(0,b.of)(on)}),(0,re.T)(Vn=>{const Cr=function Nr(je,tt,ze){const st=zr(je,tt._root,ze?ze._root:void 0);return new Fe(st,tt)}(ze.routeReuseStrategy,Vn.targetSnapshot,Vn.currentRouterState);return this.currentTransition=on={...Vn,targetRouterState:Cr},this.currentNavigation.targetRouterState=Cr,on}),(0,I.M)(()=>{this.events.next(new Rn)}),((je,tt,ze,st)=>(0,re.T)(Dt=>(new au(tt,Dt.targetRouterState,Dt.currentRouterState,ze,st).activate(je),Dt)))(this.rootContexts,ze.routeReuseStrategy,Vn=>this.events.next(Vn),this.inputBindingEnabled),(0,ae.s)(1),(0,I.M)({next:Vn=>{Mn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ur(Vn.id,this.urlSerializer.serialize(Vn.extractedUrl),this.urlSerializer.serialize(Vn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Vn.targetRouterState.snapshot),Vn.resolve(!0)},complete:()=>{Mn=!0}}),(0,we.Q)(this.transitionAbortSubject.pipe((0,I.M)(Vn=>{throw Vn}))),(0,ee.j)(()=>{!Mn&&!Qn&&this.cancelNavigationTransition(on,"",ar.SupersededByNewNavigation),this.currentTransition?.id===on.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,L.W)(Vn=>{if(Qn=!0,xo(Vn))this.events.next(new _i(on.id,this.urlSerializer.serialize(on.extractedUrl),Vn.message,Vn.cancellationCode)),function Eo(je){return xo(je)&&vn(je.url)}(Vn)?this.events.next(new yn(Vn.url,Vn.navigationBehaviorOptions)):on.resolve(!1);else{const Cr=new Fr(on.id,this.urlSerializer.serialize(on.extractedUrl),Vn,on.targetSnapshot??void 0);try{const Pi=(0,_.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Cr));if(Pi instanceof ri){const{message:Xi,cancellationCode:ho}=co(0,Pi);this.events.next(new _i(on.id,this.urlSerializer.serialize(on.extractedUrl),Xi,ho)),this.events.next(new yn(Pi.redirectTo,Pi.navigationBehaviorOptions))}else{this.events.next(Cr);const Xi=ze.errorHandler(Vn);on.resolve(!!Xi)}}catch(Pi){this.options.resolveNavigationPromiseOnError?on.resolve(!1):on.reject(Pi)}}return K.w}))}))}cancelNavigationTransition(ze,st,Dt){const on=new _i(ze.id,this.urlSerializer.serialize(ze.extractedUrl),st,Dt);this.events.next(on),ze.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();function Us(je){return je!==_n}let Wo=(()=>{class je{static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275prov=_.jDH({token:je,factory:()=>(0,_.WQX)(cc),providedIn:"root"})}return je})();class To{shouldDetach(tt){return!1}store(tt,ze){}shouldAttach(tt){return!1}retrieve(tt){return null}shouldReuseRoute(tt,ze){return tt.routeConfig===ze.routeConfig}}let cc=(()=>{class je extends To{static#e=this.\u0275fac=(()=>{let ze;return function(Dt){return(ze||(ze=_.xGo(je)))(Dt||je)}})();static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})(),yd=(()=>{class je{static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275prov=_.jDH({token:je,factory:()=>(0,_.WQX)(ha),providedIn:"root"})}return je})(),ha=(()=>{class je extends yd{constructor(){super(...arguments),this.location=(0,_.WQX)(W.aZ),this.urlSerializer=(0,_.WQX)(Ht),this.options=(0,_.WQX)(nh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,_.WQX)(En),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new M,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_t(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(ze){return this.location.subscribe(st=>{"popstate"===st.type&&ze(st.url,st.state)})}handleRouterEvent(ze,st){if(ze instanceof Sn)this.stateMemento=this.createStateMemento();else if(ze instanceof Oi)this.rawUrlTree=st.initialUrl;else if(ze instanceof ci){if("eager"===this.urlUpdateStrategy&&!st.extras.skipLocationChange){const Dt=this.urlHandlingStrategy.merge(st.finalUrl,st.initialUrl);this.setBrowserUrl(Dt,st)}}else ze instanceof Rn?(this.currentUrlTree=st.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(st.finalUrl,st.initialUrl),this.routerState=st.targetRouterState,"deferred"===this.urlUpdateStrategy&&(st.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,st))):ze instanceof _i&&(ze.code===ar.GuardRejected||ze.code===ar.NoDataFromResolver)?this.restoreHistory(st):ze instanceof Fr?this.restoreHistory(st,!0):ze instanceof ur&&(this.lastSuccessfulId=ze.id,this.currentPageId=this.browserPageId)}setBrowserUrl(ze,st){const Dt=this.urlSerializer.serialize(ze);if(this.location.isCurrentPathEqualTo(Dt)||st.extras.replaceUrl){const Mn={...st.extras.state,...this.generateNgRouterState(st.id,this.browserPageId)};this.location.replaceState(Dt,"",Mn)}else{const on={...st.extras.state,...this.generateNgRouterState(st.id,this.browserPageId+1)};this.location.go(Dt,"",on)}}restoreHistory(ze,st=!1){if("computed"===this.canceledNavigationResolution){const on=this.currentPageId-this.browserPageId;0!==on?this.location.historyGo(on):this.currentUrlTree===ze.finalUrl&&0===on&&(this.resetState(ze),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(st&&this.resetState(ze),this.resetUrlToCurrentUrlTree())}resetState(ze){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ze.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(ze,st){return"computed"===this.canceledNavigationResolution?{navigationId:ze,\u0275routerPageId:st}:{navigationId:ze}}static#e=this.\u0275fac=(()=>{let ze;return function(Dt){return(ze||(ze=_.xGo(je)))(Dt||je)}})();static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();var Pc=function(je){return je[je.COMPLETE=0]="COMPLETE",je[je.FAILED=1]="FAILED",je[je.REDIRECTING=2]="REDIRECTING",je}(Pc||{});function fo(je,tt){je.events.pipe((0,ce.p)(ze=>ze instanceof ur||ze instanceof _i||ze instanceof Fr||ze instanceof Oi),(0,re.T)(ze=>ze instanceof ur||ze instanceof Oi?Pc.COMPLETE:ze instanceof _i&&(ze.code===ar.Redirect||ze.code===ar.SupersededByNewNavigation)?Pc.REDIRECTING:Pc.FAILED),(0,ce.p)(ze=>ze!==Pc.REDIRECTING),(0,ae.s)(1)).subscribe(()=>{tt()})}function Pd(je){throw je}const ti={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ks=(()=>{class je{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,_.WQX)(_.H3F),this.stateManager=(0,_.WQX)(yd),this.options=(0,_.WQX)(nh,{optional:!0})||{},this.pendingTasks=(0,_.WQX)(_.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,_.WQX)(ni),this.urlSerializer=(0,_.WQX)(Ht),this.location=(0,_.WQX)(W.aZ),this.urlHandlingStrategy=(0,_.WQX)(En),this._events=new q.B,this.errorHandler=this.options.errorHandler||Pd,this.navigated=!1,this.routeReuseStrategy=(0,_.WQX)(Wo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,_.WQX)(rh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,_.WQX)(so,{optional:!0}),this.eventsSubscription=new Y.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ze=>{this.console.warn(ze)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const ze=this.navigationTransitions.events.subscribe(st=>{try{const Dt=this.navigationTransitions.currentTransition,on=this.navigationTransitions.currentNavigation;if(null!==Dt&&null!==on)if(this.stateManager.handleRouterEvent(st,on),st instanceof _i&&st.code!==ar.Redirect&&st.code!==ar.SupersededByNewNavigation)this.navigated=!0;else if(st instanceof ur)this.navigated=!0;else if(st instanceof yn){const Mn=st.navigationBehaviorOptions,Qn=this.urlHandlingStrategy.merge(st.url,Dt.currentRawUrl),Vn={info:Dt.extras.info,skipLocationChange:Dt.extras.skipLocationChange,replaceUrl:Dt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Us(Dt.source),...Mn};this.scheduleNavigation(Qn,_n,null,Vn,{resolve:Dt.resolve,reject:Dt.reject,promise:Dt.promise})}(function Bv(je){return!(je instanceof Rn||je instanceof yn)})(st)&&this._events.next(st)}catch(Dt){this.navigationTransitions.transitionAbortSubject.next(Dt)}});this.eventsSubscription.add(ze)}resetRootComponentType(ze){this.routerState.root.component=ze,this.navigationTransitions.rootComponentType=ze}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_n,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((ze,st)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(ze,"popstate",st)},0)})}navigateToSyncWithBrowser(ze,st,Dt){const on={replaceUrl:!0},Mn=Dt?.navigationId?Dt:null;if(Dt){const Vn={...Dt};delete Vn.navigationId,delete Vn.\u0275routerPageId,0!==Object.keys(Vn).length&&(on.state=Vn)}const Qn=this.parseUrl(ze);this.scheduleNavigation(Qn,st,Mn,on)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(ze){this.config=ze.map(da),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(ze,st={}){const{relativeTo:Dt,queryParams:on,fragment:Mn,queryParamsHandling:Qn,preserveFragment:Vn}=st,Cr=Vn?this.currentUrlTree.fragment:Mn;let Xi,Pi=null;switch(Qn){case"merge":Pi={...this.currentUrlTree.queryParams,...on};break;case"preserve":Pi=this.currentUrlTree.queryParams;break;default:Pi=on||null}null!==Pi&&(Pi=this.removeEmptyProps(Pi));try{Xi=nr(Dt?Dt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof ze[0]||"/"!==ze[0][0])&&(ze=[]),Xi=this.currentUrlTree.root}return Bn(Xi,ze,Pi,Cr??null)}navigateByUrl(ze,st={skipLocationChange:!1}){const Dt=vn(ze)?ze:this.parseUrl(ze),on=this.urlHandlingStrategy.merge(Dt,this.rawUrlTree);return this.scheduleNavigation(on,_n,null,st)}navigate(ze,st={skipLocationChange:!1}){return function $h(je){for(let tt=0;tt<je.length;tt++)if(null==je[tt])throw new _.wOt(4008,!1)}(ze),this.navigateByUrl(this.createUrlTree(ze,st),st)}serializeUrl(ze){return this.urlSerializer.serialize(ze)}parseUrl(ze){try{return this.urlSerializer.parse(ze)}catch{return this.urlSerializer.parse("/")}}isActive(ze,st){let Dt;if(Dt=!0===st?{...ti}:!1===st?{...lu}:st,vn(ze))return Ve(this.currentUrlTree,ze,Dt);const on=this.parseUrl(ze);return Ve(this.currentUrlTree,on,Dt)}removeEmptyProps(ze){return Object.entries(ze).reduce((st,[Dt,on])=>(null!=on&&(st[Dt]=on),st),{})}scheduleNavigation(ze,st,Dt,on,Mn){if(this.disposed)return Promise.resolve(!1);let Qn,Vn,Cr;Mn?(Qn=Mn.resolve,Vn=Mn.reject,Cr=Mn.promise):Cr=new Promise((Xi,ho)=>{Qn=Xi,Vn=ho});const Pi=this.pendingTasks.add();return fo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Pi))}),this.navigationTransitions.handleNavigationRequest({source:st,restoredState:Dt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:ze,extras:on,resolve:Qn,reject:Vn,promise:Cr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Cr.catch(Xi=>Promise.reject(Xi))}static#e=this.\u0275fac=function(st){return new(st||je)};static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})(),Hs=(()=>{class je{constructor(ze,st,Dt,on,Mn,Qn){this.router=ze,this.route=st,this.tabIndexAttribute=Dt,this.renderer=on,this.el=Mn,this.locationStrategy=Qn,this.href=null,this.commands=null,this.onChanges=new q.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Vn=Mn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Vn||"area"===Vn,this.isAnchorElement?this.subscription=ze.events.subscribe(Cr=>{Cr instanceof ur&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(ze){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ze)}ngOnChanges(ze){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(ze){null!=ze?(this.commands=Array.isArray(ze)?ze:[ze],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(ze,st,Dt,on,Mn){const Qn=this.urlTree;return!!(null===Qn||this.isAnchorElement&&(0!==ze||st||Dt||on||Mn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Qn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const ze=this.urlTree;this.href=null!==ze&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(ze)):null;const st=null===this.href?null:(0,_.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",st)}applyAttributeValue(ze,st){const Dt=this.renderer,on=this.el.nativeElement;null!==st?Dt.setAttribute(on,ze,st):Dt.removeAttribute(on,ze)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(st){return new(st||je)(_.rXU(Ks),_.rXU(nt),_.kS0("tabindex"),_.rXU(_.sFG),_.rXU(_.aKT),_.rXU(W.hb))};static#t=this.\u0275dir=_.FsC({type:je,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(st,Dt){1&st&&_.bIt("click",function(Mn){return Dt.onClick(Mn.button,Mn.ctrlKey,Mn.shiftKey,Mn.altKey,Mn.metaKey)}),2&st&&_.BMQ("target",Dt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_.L39],replaceUrl:[2,"replaceUrl","replaceUrl",_.L39],routerLink:"routerLink"},standalone:!0,features:[_.GFd,_.OA$]})}return je})(),Lv=(()=>{class je{get isActive(){return this._isActive}constructor(ze,st,Dt,on,Mn){this.router=ze,this.element=st,this.renderer=Dt,this.cdr=on,this.link=Mn,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new _.bkB,this.routerEventsSubscription=ze.events.subscribe(Qn=>{Qn instanceof ur&&this.update()})}ngAfterContentInit(){(0,b.of)(this.links.changes,(0,b.of)(null)).pipe((0,Me.U)()).subscribe(ze=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const ze=[...this.links.toArray(),this.link].filter(st=>!!st).map(st=>st.onChanges);this.linkInputChangesSubscription=(0,H.H)(ze).pipe((0,Me.U)()).subscribe(st=>{this._isActive!==this.isLinkActive(this.router)(st)&&this.update()})}set routerLinkActive(ze){const st=Array.isArray(ze)?ze:ze.split(" ");this.classes=st.filter(Dt=>!!Dt)}ngOnChanges(ze){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const ze=this.hasActiveLinks();this.classes.forEach(st=>{ze?this.renderer.addClass(this.element.nativeElement,st):this.renderer.removeClass(this.element.nativeElement,st)}),ze&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==ze&&(this._isActive=ze,this.cdr.markForCheck(),this.isActiveChange.emit(ze))})}isLinkActive(ze){const st=function dc(je){return!!je.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Dt=>{const on=Dt.urlTree;return!!on&&ze.isActive(on,st)}}hasActiveLinks(){const ze=this.isLinkActive(this.router);return this.link&&ze(this.link)||this.links.some(ze)}static#e=this.\u0275fac=function(st){return new(st||je)(_.rXU(Ks),_.rXU(_.aKT),_.rXU(_.sFG),_.rXU(_.gRc),_.rXU(Hs,8))};static#t=this.\u0275dir=_.FsC({type:je,selectors:[["","routerLinkActive",""]],contentQueries:function(st,Dt,on){if(1&st&&_.wni(on,Hs,5),2&st){let Mn;_.mGM(Mn=_.lsd())&&(Dt.links=Mn)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_.OA$]})}return je})();class Kh{}let cM=(()=>{class je{constructor(ze,st,Dt,on,Mn){this.router=ze,this.injector=Dt,this.preloadingStrategy=on,this.loader=Mn}setUpPreloading(){this.subscription=this.router.events.pipe((0,ce.p)(ze=>ze instanceof ur),(0,w.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ze,st){const Dt=[];for(const on of st){on.providers&&!on._injector&&(on._injector=(0,_.Ol2)(on.providers,ze,`Route: ${on.path}`));const Mn=on._injector??ze,Qn=on._loadedInjector??Mn;(on.loadChildren&&!on._loadedRoutes&&void 0===on.canLoad||on.loadComponent&&!on._loadedComponent)&&Dt.push(this.preloadConfig(Mn,on)),(on.children||on._loadedRoutes)&&Dt.push(this.processRoutes(Qn,on.children??on._loadedRoutes))}return(0,H.H)(Dt).pipe((0,Me.U)())}preloadConfig(ze,st){return this.preloadingStrategy.preload(st,()=>{let Dt;Dt=st.loadChildren&&void 0===st.canLoad?this.loader.loadChildren(ze,st):(0,b.of)(null);const on=Dt.pipe((0,pe.Z)(Mn=>null===Mn?(0,b.of)(void 0):(st._loadedRoutes=Mn.routes,st._loadedInjector=Mn.injector,this.processRoutes(Mn.injector??ze,Mn.routes))));if(st.loadComponent&&!st._loadedComponent){const Mn=this.loader.loadComponent(st);return(0,H.H)([on,Mn]).pipe((0,Me.U)())}return on})}static#e=this.\u0275fac=function(st){return new(st||je)(_.KVO(Ks),_.KVO(_.Ql9),_.KVO(_.uvJ),_.KVO(Kh),_.KVO(Xe))};static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();const Yd=new _.nKC("");let l1=(()=>{class je{constructor(ze,st,Dt,on,Mn={}){this.urlSerializer=ze,this.transitions=st,this.viewportScroller=Dt,this.zone=on,this.options=Mn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,_.WQX)(_.uvJ),Mn.scrollPositionRestoration||="disabled",Mn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ze=>{ze instanceof Sn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ze.navigationTrigger,this.restoredId=ze.restoredState?ze.restoredState.navigationId:0):ze instanceof ur?(this.lastId=ze.id,this.scheduleScrollEvent(ze,this.urlSerializer.parse(ze.urlAfterRedirects).fragment)):ze instanceof Oi&&ze.code===oi.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ze,this.urlSerializer.parse(ze.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ze=>{ze instanceof Wn&&(ze.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ze.position):ze.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ze.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ze,st){var Dt=this;this.zone.runOutsideAngular((0,g.A)(function*(){yield new Promise(on=>{setTimeout(()=>{on()}),(0,_.mal)(()=>{on()},{injector:Dt.environmentInjector})}),Dt.zone.run(()=>{Dt.transitions.events.next(new Wn(ze,"popstate"===Dt.lastSource?Dt.store[Dt.restoredId]:null,st))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(st){_.QTQ()};static#t=this.\u0275prov=_.jDH({token:je,factory:je.\u0275fac})}return je})();function Xc(je,...tt){return(0,_.EmA)([{provide:rh,multi:!0,useValue:je},[],{provide:nt,useFactory:ih,deps:[Ks]},{provide:_.iLQ,multi:!0,useFactory:Ta},tt.map(ze=>ze.\u0275providers)])}function ih(je){return je.routerState.root}function Xd(je,tt){return{\u0275kind:je,\u0275providers:tt}}function Ta(){const je=(0,_.WQX)(_.zZn);return tt=>{const ze=je.get(_.o8S);if(tt!==ze.components[0])return;const st=je.get(Ks),Dt=je.get(f1);1===je.get(Rc)&&st.initialNavigation(),je.get(Fv,null,_.$GK.Optional)?.setUpPreloading(),je.get(Yd,null,_.$GK.Optional)?.init(),st.resetRootComponentType(ze.componentTypes[0]),Dt.closed||(Dt.next(),Dt.complete(),Dt.unsubscribe())}}const f1=new _.nKC("",{factory:()=>new q.B}),Rc=new _.nKC("",{providedIn:"root",factory:()=>1}),Fv=new _.nKC("");function za(je){return Xd(0,[{provide:Fv,useExisting:cM},{provide:Kh,useExisting:je}])}function Dg(je){return Xd(9,[{provide:mr,useValue:Ni},{provide:qr,useValue:{skipNextTransition:!!je?.skipInitialTransition,...je}}])}const Ml=new _.nKC("ROUTER_FORROOT_GUARD"),Hh=[W.aZ,{provide:Ht,useClass:vt},Ks,ct,{provide:nt,useFactory:ih,deps:[Ks]},Xe,[]];let jv=(()=>{class je{constructor(ze){}static forRoot(ze,st){return{ngModule:je,providers:[Hh,[],{provide:rh,multi:!0,useValue:ze},{provide:Ml,useFactory:Wh,deps:[[Ks,new _.Xx1,new _.kdw]]},{provide:nh,useValue:st||{}},st?.useHash?{provide:W.hb,useClass:W.fw}:{provide:W.hb,useClass:W.Sm},{provide:Yd,useFactory:()=>{const je=(0,_.WQX)(W.Xr),tt=(0,_.WQX)(_.SKi),ze=(0,_.WQX)(nh),st=(0,_.WQX)(ni),Dt=(0,_.WQX)(Ht);return ze.scrollOffset&&je.setOffset(ze.scrollOffset),new l1(Dt,st,je,tt,ze)}},st?.preloadingStrategy?za(st.preloadingStrategy).\u0275providers:[],st?.initialNavigation?Tg(st):[],st?.bindToComponentInputs?Xd(8,[Kr,{provide:so,useExisting:Kr}]).\u0275providers:[],st?.enableViewTransitions?Dg().\u0275providers:[],[{provide:Gh,useFactory:Ta},{provide:_.iLQ,multi:!0,useExisting:Gh}]]}}static forChild(ze){return{ngModule:je,providers:[{provide:rh,multi:!0,useValue:ze}]}}static#e=this.\u0275fac=function(st){return new(st||je)(_.KVO(Ml,8))};static#t=this.\u0275mod=_.$C({type:je});static#n=this.\u0275inj=_.G2t({})}return je})();function Wh(je){return"guarded"}function Tg(je){return["disabled"===je.initialNavigation?Xd(3,[{provide:_.hnV,multi:!0,useFactory:()=>{const tt=(0,_.WQX)(Ks);return()=>{tt.setUpLocationChangeListener()}}},{provide:Rc,useValue:2}]).\u0275providers:[],"enabledBlocking"===je.initialNavigation?Xd(2,[{provide:Rc,useValue:0},{provide:_.hnV,multi:!0,deps:[_.zZn],useFactory:tt=>{const ze=tt.get(W.hj,Promise.resolve());return()=>ze.then(()=>new Promise(st=>{const Dt=tt.get(Ks),on=tt.get(f1);fo(Dt,()=>{st(!0)}),tt.get(ni).afterPreactivation=()=>(st(!0),on.closed?(0,b.of)(void 0):on),Dt.initialNavigation()}))}}]).\u0275providers:[]]}const Gh=new _.nKC("")},52039:($e,j,E)=>{"use strict";E.d(j,{oU:()=>rn,Q2:()=>rr});class _ extends Error{constructor(We,Bt){super(`${We}: ${Bt}`),this.code=We,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class A{constructor(We,Bt,At){this.name=We,this.prefix=Bt,this.baseEncode=At}encode(We){if(We instanceof Uint8Array)return`${this.prefix}${this.baseEncode(We)}`;throw Error("Unknown type, must be binary type")}}class V{constructor(We,Bt,At){if(this.name=We,this.prefix=Bt,void 0===Bt.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Bt.codePointAt(0),this.baseDecode=At}decode(We){if("string"==typeof We){if(We.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(We)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(We.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(We){return K(this,We)}}class U{constructor(We){this.decoders=We}or(We){return K(this,We)}decode(We){const At=this.decoders[We[0]];if(At)return At.decode(We);throw RangeError(`Unable to decode multibase string ${JSON.stringify(We)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const K=(Ke,We)=>new U({...Ke.decoders||{[Ke.prefix]:Ke},...We.decoders||{[We.prefix]:We}});class Q{constructor(We,Bt,At,fn){this.name=We,this.prefix=Bt,this.baseEncode=At,this.baseDecode=fn,this.encoder=new A(We,Bt,At),this.decoder=new V(We,Bt,fn)}encode(We){return this.encoder.encode(We)}decode(We){return this.decoder.decode(We)}}const ie=({name:Ke,prefix:We,bitsPerChar:Bt,alphabet:At})=>(({name:Ke,prefix:We,encode:Bt,decode:At})=>new Q(Ke,We,Bt,At))({prefix:We,name:Ke,encode:fn=>((Ke,We,Bt)=>{const At="="===We[We.length-1],fn=(1<<Bt)-1;let Un="",wn=0,vn=0;for(let pr=0;pr<Ke.length;++pr)for(vn=vn<<8|Ke[pr],wn+=8;wn>Bt;)wn-=Bt,Un+=We[fn&vn>>wn];if(wn&&(Un+=We[fn&vn<<Bt-wn]),At)for(;Un.length*Bt&7;)Un+="=";return Un})(fn,At,Bt),decode:fn=>((Ke,We,Bt,At)=>{const fn={};for(let Bn=0;Bn<We.length;++Bn)fn[We[Bn]]=Bn;let Un=Ke.length;for(;"="===Ke[Un-1];)--Un;const wn=new Uint8Array(Un*Bt/8|0);let vn=0,pr=0,nr=0;for(let Bn=0;Bn<Un;++Bn){const Fn=fn[Ke[Bn]];if(void 0===Fn)throw new SyntaxError(`Non-${At} character`);pr=pr<<Bt|Fn,vn+=Bt,vn>=8&&(vn-=8,wn[nr++]=255&pr>>vn)}if(vn>=Bt||255&pr<<8-vn)throw new SyntaxError("Unexpected end of data");return wn})(fn,At,Bt,Ke)}),ce=(ie({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ie({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ie({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));ie({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class ve{static encode(We){return ce.baseEncode(We)}static decodeAsBytes(We,Bt){if(!ve.isBase64UrlString(We))throw new _("EncodedStringIncorrectEncoding",`Given ${Bt} must be base64url string.`);return ce.baseDecode(We)}static decodeAsString(We,Bt){const At=ve.decodeAsBytes(We,Bt);return ve.bytesToString(At)}static isBase64UrlString(We){return/^[A-Za-z0-9_-]+$/.test(We)}static stringToBytes(We){return(new TextEncoder).encode(We)}static bytesToString(We){return(new TextDecoder).decode(We)}}var De=E(95568),C=function(Ke){return Ke.Public="public",Ke.Private="private",Ke}(C||{});const s=C;class d{static validateEs256kOperationKey(We,Bt){const At=new Set(["kty","crv","x","y"]);Bt===s.Private&&At.add("d");for(const fn in We)if(!At.has(fn))throw new _("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${fn}'.`);if("secp256k1"!==We.crv)throw new _("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${We.crv}.'`);if("EC"!==We.kty)throw new _("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${We.kty}.'`);if(43!==We.x.length)throw new _("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==We.y.length)throw new _("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(Bt===s.Private&&(void 0===We.d||43!==We.d.length))throw new _("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(We){if(We.length>50)throw new _("IdTooLong",`Key ID length ${We.length} exceed max allowed length of 50.`);if(!ve.isBase64UrlString(We))throw new _("IdNotUsingBase64UrlCharacterSet",`Key ID '${We}' is not a Base64URL string.`)}static validatePublicKeyPurposes(We){if(void 0===We)return;const Bt=new Set;for(const At of We){if(Bt.has(At))throw new _("PublicKeyPurposeDuplicated",`Public key purpose '${At}' already specified.`);Bt.add(At)}}}const f=(()=>{class Ke{}return Ke.hashAlgorithmInMultihashCode=18,Ke.maxCanonicalizedDeltaSizeInBytes=1e3,Ke})();var w=E(28846);class I{static canonicalizeAsBytes(We){const Bt=I.removeAllUndefinedProperties(We),At=w(Bt);return ve.stringToBytes(At)}static removeAllUndefinedProperties(We){for(const Bt in We)"object"==typeof We[Bt]?I.removeAllUndefinedProperties(We[Bt]):void 0===We[Bt]&&delete We[Bt];return We}}var x=128,v=-128,Z=Math.pow(2,31),le=128,we=127,Ge=Math.pow(2,7),ge=Math.pow(2,14),me=Math.pow(2,21),Ue=Math.pow(2,28),xe=Math.pow(2,35),Ce=Math.pow(2,42),be=Math.pow(2,49),he=Math.pow(2,56),ne=Math.pow(2,63);const Ie={encode:function z(Ke,We,Bt){We=We||[];for(var At=Bt=Bt||0;Ke>=Z;)We[Bt++]=255&Ke|x,Ke/=128;for(;Ke&v;)We[Bt++]=255&Ke|x,Ke>>>=7;return We[Bt]=0|Ke,z.bytes=Bt-At+1,We},decode:function Me(Ke,At){var wn,Bt=0,fn=0,Un=At=At||0,vn=Ke.length;do{if(Un>=vn)throw Me.bytes=0,new RangeError("Could not decode varint");wn=Ke[Un++],Bt+=fn<28?(wn&we)<<fn:(wn&we)*Math.pow(2,fn),fn+=7}while(wn>=le);return Me.bytes=Un-At,Bt},encodingLength:function(Ke){return Ke<Ge?1:Ke<ge?2:Ke<me?3:Ke<Ue?4:Ke<xe?5:Ke<Ce?6:Ke<be?7:Ke<he?8:Ke<ne?9:10}},He=(Ke,We=0)=>[Ie.decode(Ke,We),Ie.decode.bytes],Ve=(Ke,We,Bt=0)=>(Ie.encode(Ke,We,Bt),We),xt=Ke=>Ie.encodingLength(Ke),Ne=(Ke,We)=>{const Bt=We.byteLength,At=xt(Ke),fn=At+xt(Bt),Un=new Uint8Array(fn+Bt);return Ve(Ke,Un,0),Ve(Bt,Un,At),Un.set(We,fn),new F(Ke,Bt,We,Un)};class F{constructor(We,Bt,At,fn){this.code=We,this.size=Bt,this.digest=At,this.bytes=fn}}var D=E(10467);const M=({name:Ke,code:We,encode:Bt})=>new G(Ke,We,Bt);class G{constructor(We,Bt,At){this.name=We,this.code=Bt,this.encode=At}digest(We){if(We instanceof Uint8Array){const Bt=this.encode(We);return Bt instanceof Uint8Array?Ne(this.code,Bt):Bt.then(At=>Ne(this.code,At))}throw Error("Unknown type, must be binary type")}}const fe=Ke=>function(){var We=(0,D.A)(function*(Bt){return new Uint8Array(yield crypto.subtle.digest(Ke,Bt))});return function(Bt){return We.apply(this,arguments)}}(),Se=M({name:"sha2-256",code:18,encode:fe("SHA-256")});M({name:"sha2-512",code:19,encode:fe("SHA-512")});var rt=function(Ke,We,Bt,At){return new(Bt||(Bt=Promise))(function(Un,wn){function vn(Bn){try{nr(At.next(Bn))}catch(Fn){wn(Fn)}}function pr(Bn){try{nr(At.throw(Bn))}catch(Fn){wn(Fn)}}function nr(Bn){Bn.done?Un(Bn.value):function fn(Un){return Un instanceof Bt?Un:new Bt(function(wn){wn(Un)})}(Bn.value).then(vn,pr)}nr((At=At.apply(Ke,We||[])).next())})};class Ht{static hash(We,Bt){return rt(this,void 0,void 0,function*(){let At;if(18!==Bt)throw new _("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Bt} is not supported.`);return At=(yield Se.digest(We)).bytes,At})}static hashAsNonMultihashBytes(We,Bt){return rt(this,void 0,void 0,function*(){let At;if(18!==Bt)throw new _("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Bt} is not supported.`);return At=yield Se.encode(We),At})}static canonicalizeThenHashThenEncode(We,Bt){return rt(this,void 0,void 0,function*(){const At=I.canonicalizeAsBytes(We);return yield Ht.hashThenEncode(At,Bt)})}static canonicalizeThenDoubleHashThenEncode(We,Bt){return rt(this,void 0,void 0,function*(){const At=I.canonicalizeAsBytes(We),fn=yield Ht.hashAsNonMultihashBytes(At,Bt);return yield Ht.hashThenEncode(fn,Bt)})}static hashThenEncode(We,Bt){return rt(this,void 0,void 0,function*(){const At=yield Ht.hash(We,Bt);return ve.encode(At)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(We,Bt){let At;const fn=ve.decodeAsBytes(We,Bt);try{At=(Ke=>{const We=(Ke=>{if(Ke instanceof Uint8Array&&"Uint8Array"===Ke.constructor.name)return Ke;if(Ke instanceof ArrayBuffer)return new Uint8Array(Ke);if(ArrayBuffer.isView(Ke))return new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength);throw new Error("Unknown type, must be binary type")})(Ke),[Bt,At]=He(We),[fn,Un]=He(We.subarray(At)),wn=We.subarray(At+Un);if(wn.byteLength!==fn)throw new Error("Incorrect length");return new F(Bt,fn,wn,We)})(fn)}catch{throw new _("MultihashStringNotAMultihash",`Given ${Bt} string '${We}' is not a multihash after decoding.`)}const Un=f.hashAlgorithmInMultihashCode;if(Un!==At.code)throw new _("MultihashUnsupportedHashAlgorithm",`Given ${Bt} uses unsupported multihash algorithm with code ${At.code}, should use ${Un} or change IonSdkConfig to desired hashing algorithm.`)}}var vt=function(Ke){return Ke.Create="create",Ke.Update="update",Ke.Deactivate="deactivate",Ke.Recover="recover",Ke}(vt||{});const Ot=vt;var qt=function(Ke){return Ke.Replace="replace",Ke.AddPublicKeys="add-public-keys",Ke.RemovePublicKeys="remove-public-keys",Ke.AddServices="add-services",Ke.RemoveServices="remove-services",Ke}(qt||{});const mn=qt;var ln=function(Ke,We,Bt,At){return new(Bt||(Bt=Promise))(function(Un,wn){function vn(Bn){try{nr(At.next(Bn))}catch(Fn){wn(Fn)}}function pr(Bn){try{nr(At.throw(Bn))}catch(Fn){wn(Fn)}}function nr(Bn){Bn.done?Un(Bn.value):function fn(Un){return Un instanceof Bt?Un:new Bt(function(wn){wn(Un)})}(Bn.value).then(vn,pr)}nr((At=At.apply(Ke,We||[])).next())})};class rr{static createCreateRequest(We){return ln(this,void 0,void 0,function*(){const Bt=We.recoveryKey,At=We.updateKey,fn=We.document.publicKeys,Un=We.document.services;d.validateEs256kOperationKey(Bt,s.Public),d.validateEs256kOperationKey(At,s.Public),rr.validateDidDocumentKeys(fn),rr.validateServices(Un);const wn=f.hashAlgorithmInMultihashCode,vn=[{action:mn.Replace,document:We.document}],pr={updateCommitment:yield Ht.canonicalizeThenDoubleHashThenEncode(At,wn),patches:vn};rr.validateDeltaSize(pr);const Bn={deltaHash:yield Ht.canonicalizeThenHashThenEncode(pr,wn),recoveryCommitment:yield Ht.canonicalizeThenDoubleHashThenEncode(Bt,wn)};return{type:Ot.Create,suffixData:Bn,delta:pr}})}static createDeactivateRequest(We){return ln(this,void 0,void 0,function*(){rr.validateDidSuffix(We.didSuffix),d.validateEs256kOperationKey(We.recoveryPublicKey,s.Public);const Bt=f.hashAlgorithmInMultihashCode,At=yield Ht.canonicalizeThenHashThenEncode(We.recoveryPublicKey,Bt),fn={didSuffix:We.didSuffix,recoveryKey:We.recoveryPublicKey},Un=yield We.signer.sign({alg:"ES256K"},fn);return{type:Ot.Deactivate,didSuffix:We.didSuffix,revealValue:At,signedData:Un}})}static createRecoverRequest(We){return ln(this,void 0,void 0,function*(){rr.validateDidSuffix(We.didSuffix),d.validateEs256kOperationKey(We.recoveryPublicKey,s.Public),d.validateEs256kOperationKey(We.nextRecoveryPublicKey,s.Public),d.validateEs256kOperationKey(We.nextUpdatePublicKey,s.Public),rr.validateDidDocumentKeys(We.document.publicKeys),rr.validateServices(We.document.services);const Bt=f.hashAlgorithmInMultihashCode,At=yield Ht.canonicalizeThenHashThenEncode(We.recoveryPublicKey,Bt),wn={patches:[{action:mn.Replace,document:We.document}],updateCommitment:yield Ht.canonicalizeThenDoubleHashThenEncode(We.nextUpdatePublicKey,Bt)},vn=yield Ht.canonicalizeThenHashThenEncode(wn,Bt),nr={recoveryCommitment:yield Ht.canonicalizeThenDoubleHashThenEncode(We.nextRecoveryPublicKey,Bt),recoveryKey:We.recoveryPublicKey,deltaHash:vn},Bn=yield We.signer.sign({alg:"ES256K"},nr);return{type:Ot.Recover,didSuffix:We.didSuffix,revealValue:At,delta:wn,signedData:Bn}})}static createUpdateRequest(We){return ln(this,void 0,void 0,function*(){if(rr.validateDidSuffix(We.didSuffix),d.validateEs256kOperationKey(We.updatePublicKey,s.Public),d.validateEs256kOperationKey(We.nextUpdatePublicKey,s.Public),rr.validateServices(We.servicesToAdd),rr.validateDidDocumentKeys(We.publicKeysToAdd),void 0!==We.idsOfServicesToRemove)for(const Je of We.idsOfServicesToRemove)d.validateId(Je);if(void 0!==We.idsOfPublicKeysToRemove)for(const Je of We.idsOfPublicKeysToRemove)d.validateId(Je);const Bt=[],At=We.servicesToAdd;void 0!==At&&At.length>0&&Bt.push({action:mn.AddServices,services:At});const fn=We.idsOfServicesToRemove;void 0!==fn&&fn.length>0&&Bt.push({action:mn.RemoveServices,ids:fn});const Un=We.publicKeysToAdd;void 0!==Un&&Un.length>0&&Bt.push({action:mn.AddPublicKeys,publicKeys:Un});const wn=We.idsOfPublicKeysToRemove;void 0!==wn&&wn.length>0&&Bt.push({action:mn.RemovePublicKeys,ids:wn});const vn=f.hashAlgorithmInMultihashCode,pr=yield Ht.canonicalizeThenHashThenEncode(We.updatePublicKey,vn),Bn={patches:Bt,updateCommitment:yield Ht.canonicalizeThenDoubleHashThenEncode(We.nextUpdatePublicKey,vn)},Fn=yield Ht.canonicalizeThenHashThenEncode(Bn,vn),qe={updateKey:We.updatePublicKey,deltaHash:Fn},Oe=yield We.signer.sign({alg:"ES256K"},qe);return{type:Ot.Update,didSuffix:We.didSuffix,revealValue:pr,delta:Bn,signedData:Oe}})}static validateDidSuffix(We){Ht.validateEncodedHashComputedUsingSupportedHashAlgorithm(We,"didSuffix")}static validateDidDocumentKeys(We){if(void 0===We)return;const Bt=new Set;for(const At of We){if(Array.isArray(At.publicKeyJwk))throw new _("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(d.validateId(At.id),Bt.has(At.id))throw new _("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${At.id}' already exists.`);Bt.add(At.id),d.validatePublicKeyPurposes(At.purposes)}}static validateServices(We){if(void 0!==We&&0!==We.length){const Bt=new Set;for(const At of We){if(rr.validateService(At),Bt.has(At.id))throw new _("DidDocumentServiceIdDuplicated","Service id has to be unique");Bt.add(At.id)}}}static validateService(We){if(d.validateId(We.id),We.type.length>30)throw new _("ServiceTypeTooLong",`Service endpoint type length ${We.type.length} exceeds max allowed length of 30.`);if(Array.isArray(We.serviceEndpoint))throw new _("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof We.serviceEndpoint&&void 0!==De.parse(We.serviceEndpoint).error)throw new _("ServiceEndpointStringNotValidUri",`Service endpoint string '${We.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(We){const Bt=I.canonicalizeAsBytes(We);if(Bt.length>f.maxCanonicalizedDeltaSizeInBytes)throw new _("DeltaExceedsMaximumSize",`Delta of ${Bt.length} bytes exceeded limit of ${f.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var Tn=function(Ke,We,Bt,At){return new(Bt||(Bt=Promise))(function(Un,wn){function vn(Bn){try{nr(At.next(Bn))}catch(Fn){wn(Fn)}}function pr(Bn){try{nr(At.throw(Bn))}catch(Fn){wn(Fn)}}function nr(Bn){Bn.done?Un(Bn.value):function fn(Un){return Un instanceof Bt?Un:new Bt(function(wn){wn(Un)})}(Bn.value).then(vn,pr)}nr((At=At.apply(Ke,We||[])).next())})};class rn{static createLongFormDid(We){return Tn(this,void 0,void 0,function*(){const Bt=yield rr.createCreateRequest(We),At=yield rn.computeDidUniqueSuffix(Bt.suffixData);let fn;fn=void 0===f.network||"mainnet"===f.network?`did:ion:${At}`:`did:ion:${f.network}:${At}`;const wn=I.canonicalizeAsBytes({suffixData:Bt.suffixData,delta:Bt.delta});return`${fn}:${ve.encode(wn)}`})}static computeDidUniqueSuffix(We){return Tn(this,void 0,void 0,function*(){const Bt=I.canonicalizeAsBytes(We),At=yield Ht.hash(Bt,f.hashAlgorithmInMultihashCode);return ve.encode(At)})}}E(63741),E(68464)},49402:($e,j,E)=>{"use strict";E.d(j,{hB:()=>Wt,D4:()=>Un,lF:()=>fn});const g=/^(\d{1,3}\.){3,3}\d{1,3}$/,B=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,b={name:"v4",size:4,isFormat:qe=>g.test(qe),encode(qe,Oe,Je){Je=~~Je,Oe=Oe||new Uint8Array(Je+4);const Kt=qe.length;let pn=0;for(let jn=0;jn<Kt;){const zn=qe.charCodeAt(jn++);46===zn?(Oe[Je++]=pn,pn=0):pn=10*pn+(zn-48)}return Oe[Je]=pn,Oe},decode:(qe,Oe)=>(Oe=~~Oe,`${qe[Oe++]}.${qe[Oe++]}.${qe[Oe++]}.${qe[Oe]}`)},k={name:"v6",size:16,isFormat:qe=>qe.length>0&&B.test(qe),encode(qe,Oe,Je){let Kt=16+(Je=~~Je),pn=-1,jn=0,zn=0,or=!0,yr=!1;Oe=Oe||new Uint8Array(Je+16);for(let Rr=0;Rr<qe.length;Rr++){let Ir=qe.charCodeAt(Rr);58===Ir?(or?-1!==pn?(Je<Kt&&(Oe[Je]=0),Je<Kt-1&&(Oe[Je+1]=0),Je+=2):Je<Kt&&(pn=Je):(!0===yr?(Je<Kt&&(Oe[Je]=zn),Je++):(Je<Kt&&(Oe[Je]=jn>>8),Je<Kt-1&&(Oe[Je+1]=255&jn),Je+=2),jn=0,zn=0),or=!0,yr=!1):46===Ir?(Je<Kt&&(Oe[Je]=zn),Je++,zn=0,jn=0,or=!1,yr=!0):(or=!1,Ir>=97?Ir-=87:Ir>=65?Ir-=55:(Ir-=48,zn=10*zn+Ir),jn=(jn<<4)+Ir)}if(!1===or)!0===yr?(Je<Kt&&(Oe[Je]=zn),Je++):(Je<Kt&&(Oe[Je]=jn>>8),Je<Kt-1&&(Oe[Je+1]=255&jn),Je+=2);else if(0===pn)Je<Kt&&(Oe[Je]=0),Je<Kt-1&&(Oe[Je+1]=0),Je+=2;else if(-1!==pn){Je+=2;for(let Rr=Math.min(Je-1,Kt-1);Rr>=pn+2;Rr--)Oe[Rr]=Oe[Rr-2];Oe[pn]=0,Oe[pn+1]=0,pn=Je}if(pn!==Je&&-1!==pn)for(Je>Kt-2&&(Je=Kt-2);Kt>pn;)Oe[--Kt]=Je<Kt&&Je>pn?Oe[--Je]:0;else for(;Je<Kt;)Oe[Je++]=0;return Oe},decode(qe,Oe){Oe=~~Oe;let Je="";for(let Kt=0;Kt<16;Kt+=2)0!==Kt&&(Je+=":"),Je+=(qe[Oe+Kt]<<8|qe[Oe+Kt+1]).toString(16);return Je.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function P(qe){if(b.isFormat(qe))return b.size;if(k.isFormat(qe))return k.size;throw Error(`Invalid ip address: ${qe}`)}function V(qe){switch(qe){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+qe}function U(qe){switch(qe.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return qe.toUpperCase().startsWith("UNKNOWN_")?parseInt(qe.slice(8)):0}function K(qe){switch(qe){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+qe}function q(qe){switch(qe){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+qe}function W(qe){switch(qe){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+qe}function re(qe){switch(qe.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function ae(qe){if("number"==typeof qe)return qe;if(!qe)return-1;switch(qe.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const Oe=qe.match(/_(\d+)$/);return Oe?parseInt(Oe[1],10):-1}const ue=55296,ce=56320;function ve(qe){let Oe=0;const Je=qe.length;for(let Kt=0;Kt<Je;Kt+=1){const pn=qe.charCodeAt(Kt);if(pn<=127)Oe+=1;else if(pn<=2047)Oe+=2;else if((63488&pn)!==ue)Oe+=3;else{const jn=Kt+1;jn===Je||pn>=ce||(64512&qe.charCodeAt(jn))!==ce?Oe+=3:(Kt=jn,Oe+=4)}}return Oe}function De(qe,Oe,Je){const Kt=qe.length;null==Je&&(Je=0),void 0===Oe&&(Oe=new Uint8Array(ve(qe)+Je));let pn=Je;for(let jn=0;jn<Kt;jn+=1){let zn=qe.charCodeAt(jn);if(zn<=127)Oe[pn++]=zn;else if(zn<=2047)Oe[pn++]=192|(1984&zn)>>6,Oe[pn++]=128|63&zn;else if((63488&zn)!==ue)Oe[pn++]=224|(61440&zn)>>12,Oe[pn++]=128|(4032&zn)>>6,Oe[pn++]=128|63&zn;else{const or=jn+1;if(or===Kt||zn>=ce)Oe[pn++]=239,Oe[pn++]=191,Oe[pn++]=189;else{const yr=qe.charCodeAt(or);(64512&yr)!==ce?(Oe[pn++]=239,Oe[pn++]=191,Oe[pn++]=189):(jn=or,zn=65536|(1023&zn)<<10|1023&yr,Oe[pn++]=240|(1835008&zn)>>18,Oe[pn++]=128|(258048&zn)>>12,Oe[pn++]=128|(4032&zn)>>6,Oe[pn++]=128|63&zn)}}}return De.bytes=pn-Je,Oe}function C(qe,Oe,Je){let Kt="";null==Oe&&(Oe=0),null==Je&&(Je=qe.length);for(let pn=Oe;pn<Je;){const jn=qe[pn++];let zn;jn<=128?zn=jn:jn>191&&jn<224?zn=(31&jn)<<6|63&qe[pn++]:jn>239&&jn<365?(zn=((7&jn)<<18|(63&qe[pn++])<<12|(63&qe[pn++])<<6|63&qe[pn++])-65536,Kt+=String.fromCharCode(ue|zn>>10&1023),zn=ce|1023&zn):zn=(15&jn)<<12|(63&qe[pn++])<<6|63&qe[pn++],Kt+=String.fromCharCode(zn)}return C.bytes=Je-Oe,Kt}De.bytes=0,C.bytes=0;const s=qe=>qe instanceof Uint8Array;function d(qe){return"string"==typeof qe?ve(qe):qe.byteLength}function h(qe){return qe instanceof Uint8Array?qe:Array.isArray(qe)?new Uint8Array(qe):De(qe)}function f(qe,Oe,Je){if("string"!=typeof Oe)throw new Error("unknown input type");return De(Oe,qe,Je),De.bytes}const w={},I=new Array(255);for(let qe=0;qe<=15;qe+=1){const Oe=qe.toString(16),Je=Oe.toUpperCase();for(let Kt=0;Kt<=15;Kt+=1){const pn=Kt.toString(16),jn=pn.toUpperCase(),zn=qe<<4|Kt,or=`${Oe}${pn}`;I[zn]=or,w[or]=zn,w[`${Je}${pn}`]=zn,w[`${Oe}${jn}`]=zn,w[`${Je}${jn}`]=zn}}function x(qe){return qe.length>>>1}const v=Math.pow(2,24),Z=Math.pow(2,16),z=Math.pow(2,8),ee=(qe,Oe)=>qe[Oe]*v+qe[Oe+1]*Z+qe[Oe+2]*z+qe[Oe+3],le=(qe,Oe)=>qe[Oe]<<8|qe[Oe+1],we=(qe,Oe,Je)=>(qe[Je+3]=Oe=+Oe,qe[Je+2]=Oe>>>=8,qe[Je+1]=Oe>>>=8,qe[Je]=Oe>>>=8,Je+4),Me=(qe,Oe,Je)=>(qe[Je]=Oe>>8,qe[Je+1]=255&Oe,Je+2);function Ge(qe,Oe,Je,Kt,pn){return Je<0&&(Kt-=Je,Je=0),Kt<0&&(Kt=0),pn<0?new Uint8Array(0):Je>=Oe.length||Kt>=pn?0:function ge(qe,Oe,Je,Kt,pn){pn-Kt>Oe.length-Je&&(pn=Kt+Oe.length-Je);let jn=pn-Kt;const zn=qe.length-Kt;return jn>zn&&(jn=zn),(0!==Kt||pn<qe.length)&&(qe=new Uint8Array(qe.buffer,qe.byteOffset+Kt,jn)),Oe.set(qe,Je),jn}(qe,Oe,Je,Kt,pn)}function ne({bytes:qe=0,encode:Oe,decode:Je,encodingLength:Kt}){return Oe.bytes=qe,Je.bytes=qe,{encode:Oe,decode:Je,encodingLength:Kt||(()=>qe)}}const te=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(te.encodingLength(qe))),Je||(Je=0);const Kt=Je,pn=qe.replace(/^\.|\.$/gm,"");if(pn.length){const jn=pn.split(".");for(let zn=0;zn<jn.length;zn++){const or=f(Oe,jn[zn],Je+1);Oe[Je]=or,Je+=or+1}}return Oe[Je++]=0,te.encode.bytes=Je-Kt,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=[];let Kt=Oe,pn=0,jn=0,zn=!1;for(;;){if(Oe>=qe.length)throw new Error("Cannot decode name (buffer overflow)");const or=qe[Oe++];if(jn+=zn?0:1,0===or)break;if(192&or){if(192&~or)throw new Error("Cannot decode name (bad label)");{if(Oe+1>qe.length)throw new Error("Cannot decode name (buffer overflow)");const yr=le(qe,Oe-1)-49152;if(yr>=Kt)throw new Error("Cannot decode name (bad pointer)");Oe=yr,Kt=yr,jn+=zn?0:1,zn=!0}}else{if(Oe+or>qe.length)throw new Error("Cannot decode name (buffer overflow)");if(pn+=or+1,pn>254)throw new Error("Cannot decode name (name too long)");Je.push(C(qe,Oe,Oe+or)),Oe+=or,jn+=zn?0:or}}return te.decode.bytes=jn,0===Je.length?".":Je.join(".")},encodingLength:qe=>"."===qe||".."===qe?1:d(qe.replace(/^\.|\.$/gm,""))+2}),de=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(de.encodingLength(qe))),Je||(Je=0);const Kt=f(Oe,qe,Je+1);return Oe[Je]=Kt,de.encode.bytes=Kt+1,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=qe[Oe],Kt=C(qe,Oe+1,Oe+1+Je);return de.decode.bytes=Je+1,Kt},encodingLength:qe=>d(qe)+1}),_e=ne({bytes:12,encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(_e.encodingLength(qe))),Je||(Je=0);const Kt=32767&(qe.flags||0),pn="response"===qe.type?32768:0;return Me(Oe,qe.id||0,Je),Me(Oe,Kt|pn,Je+2),Me(Oe,qe.questions.length,Je+4),Me(Oe,qe.answers.length,Je+6),Me(Oe,qe.authorities.length,Je+8),Me(Oe,qe.additionals.length,Je+10),Oe},decode(qe,Oe){if(Oe||(Oe=0),qe.length<12)throw new Error("Header must be 12 bytes");const Je=le(qe,Oe+2);return{id:le(qe,Oe),type:32768&Je?"response":"query",flags:32767&Je,flag_qr:1==(Je>>15&1),opcode:q(Je>>11&15),flag_aa:1==(Je>>10&1),flag_tc:1==(Je>>9&1),flag_rd:1==(Je>>8&1),flag_ra:1==(Je>>7&1),flag_z:1==(Je>>6&1),flag_ad:1==(Je>>5&1),flag_cd:1==(Je>>4&1),rcode:K(15&Je),questions:new Array(le(qe,Oe+4)),answers:new Array(le(qe,Oe+6)),authorities:new Array(le(qe,Oe+8)),additionals:new Array(le(qe,Oe+10))}},encodingLength:()=>12}),Ie=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(Ie.encodingLength(qe))),Je||(Je=0);const Kt=qe.length;return Me(Oe,Kt,Je),Ge(qe,Oe,Je+2,0,Kt),Ie.encode.bytes=Kt+2,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=le(qe,Oe),Kt=qe.slice(Oe+2,Oe+2+Je);return Ie.decode.bytes=Je+2,Kt},encodingLength:qe=>qe.length+2}),He=ne({encode:(qe,Oe,Je)=>(Oe||(Oe=new Uint8Array(He.encodingLength(qe))),Je||(Je=0),te.encode(qe,Oe,Je+2),Me(Oe,te.encode.bytes,Je),He.encode.bytes=te.encode.bytes+2,Oe),decode(qe,Oe){Oe||(Oe=0);const Je=le(qe,Oe),Kt=te.decode(qe,Oe+2);return He.decode.bytes=Je+2,Kt},encodingLength:qe=>te.encodingLength(qe)+2}),Ve=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(Ve.encodingLength(qe))),Je||(Je=0);const Kt=Je;return te.encode(qe.mname,Oe,Je+=2),te.encode(qe.rname,Oe,Je+=te.encode.bytes),we(Oe,qe.serial||0,Je+=te.encode.bytes),we(Oe,qe.refresh||0,Je+=4),we(Oe,qe.retry||0,Je+=4),we(Oe,qe.expire||0,Je+=4),we(Oe,qe.minimum||0,Je+=4),Me(Oe,(Je+=4)-Kt-2,Kt),Ve.encode.bytes=Je-Kt,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={};return Kt.mname=te.decode(qe,Oe+=2),Kt.rname=te.decode(qe,Oe+=te.decode.bytes),Kt.serial=ee(qe,Oe+=te.decode.bytes),Kt.refresh=ee(qe,Oe+=4),Kt.retry=ee(qe,Oe+=4),Kt.expire=ee(qe,Oe+=4),Kt.minimum=ee(qe,Oe+=4),Ve.decode.bytes=(Oe+=4)-Je,Kt},encodingLength:qe=>22+te.encodingLength(qe.mname)+te.encodingLength(qe.rname)}),xt=ne({encode(qe,Oe,Je){Array.isArray(qe)||(qe=[qe]);for(let pn=0;pn<qe.length;pn++)if("string"==typeof qe[pn]&&(qe[pn]=h(qe[pn])),!s(qe[pn]))throw new Error("Must be a Buffer");Oe||(Oe=new Uint8Array(xt.encodingLength(qe))),Je||(Je=0);const Kt=Je;return Je+=2,qe.forEach(function(pn){Oe[Je++]=pn.length,Ge(pn,Oe,Je,0,pn.length),Je+=pn.length}),Me(Oe,Je-Kt-2,Kt),xt.encode.bytes=Je-Kt,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe;let Kt=le(qe,Oe);Oe+=2;const pn=[];for(;Kt>0;){const jn=qe[Oe++];if(--Kt,Kt<jn)throw new Error("Buffer overflow");pn.push(qe.slice(Oe,Oe+jn)),Oe+=jn,Kt-=jn}return xt.decode.bytes=Oe-Je,pn},encodingLength(qe){Array.isArray(qe)||(qe=[qe]);let Oe=2;return qe.forEach(function(Je){Oe+="string"==typeof Je?d(Je)+1:Je.length+1}),Oe}}),Ne=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(Ne.encodingLength(qe))),Je||(Je=0),"string"==typeof qe&&(qe=h(qe)),qe||(qe=new Uint8Array(0));const Kt=Je,pn=qe.length;return Ge(qe,Oe,Je+=2,0,pn),Me(Oe,(Je+=pn)-Kt-2,Kt),Ne.encode.bytes=Je-Kt,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt=le(qe,Oe),pn=qe.slice(Oe+=2,Oe+Kt);return Ne.decode.bytes=(Oe+=Kt)-Je,pn},encodingLength:qe=>qe?(s(qe)?qe.length:d(qe))+2:2}),ke=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(ke.encodingLength(qe))),Je||(Je=0);const Kt=Je;return de.encode(qe.cpu,Oe,Je+=2),de.encode(qe.os,Oe,Je+=de.encode.bytes),Me(Oe,(Je+=de.encode.bytes)-Kt-2,Kt),ke.encode.bytes=Je-Kt,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={};return Kt.cpu=de.decode(qe,Oe+=2),Kt.os=de.decode(qe,Oe+=de.decode.bytes),ke.decode.bytes=(Oe+=de.decode.bytes)-Je,Kt},encodingLength:qe=>de.encodingLength(qe.cpu)+de.encodingLength(qe.os)+2}),pt=ne({encode:(qe,Oe,Je)=>(Oe||(Oe=new Uint8Array(pt.encodingLength(qe))),Je||(Je=0),te.encode(qe,Oe,Je+2),Me(Oe,te.encode.bytes,Je),pt.encode.bytes=te.encode.bytes+2,Oe),decode(qe,Oe){Oe||(Oe=0);const Je=te.decode(qe,Oe+2);return pt.decode.bytes=te.decode.bytes+2,Je},encodingLength:qe=>te.encodingLength(qe)+2}),F=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(F.encodingLength(qe))),Je||(Je=0),Me(Oe,qe.priority||0,Je+2),Me(Oe,qe.weight||0,Je+4),Me(Oe,qe.port||0,Je+6),te.encode(qe.target,Oe,Je+8);const Kt=te.encode.bytes+6;return Me(Oe,Kt,Je),F.encode.bytes=Kt+2,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=le(qe,Oe),Kt={};return Kt.priority=le(qe,Oe+2),Kt.weight=le(qe,Oe+4),Kt.port=le(qe,Oe+6),Kt.target=te.decode(qe,Oe+8),F.decode.bytes=Je+2,Kt},encodingLength:qe=>8+te.encodingLength(qe.target)}),D=ne({encode(qe,Oe,Je){const Kt=D.encodingLength(qe);return Oe||(Oe=new Uint8Array(D.encodingLength(qe))),Je||(Je=0),qe.issuerCritical&&(qe.flags=D.ISSUER_CRITICAL),Me(Oe,Kt-2,Je),Oe[Je+=2]=qe.flags||0,de.encode(qe.tag,Oe,Je+=1),f(Oe,qe.value,Je+=de.encode.bytes),Je+=d(qe.value),D.encode.bytes=Kt,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=le(qe,Oe),Kt=Oe+=2,pn={};return pn.flags=qe[Oe],pn.tag=de.decode(qe,Oe+=1),pn.value=C(qe,Oe+=de.decode.bytes,Kt+Je),pn.issuerCritical=!!(pn.flags&D.ISSUER_CRITICAL),D.decode.bytes=Je+2,pn},encodingLength:qe=>de.encodingLength(qe.tag)+de.encodingLength(qe.value)+2});D.ISSUER_CRITICAL=128;const M=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(M.encodingLength(qe))),Je||(Je=0);const Kt=Je;return Me(Oe,qe.preference||0,Je+=2),te.encode(qe.exchange,Oe,Je+=2),Me(Oe,(Je+=te.encode.bytes)-Kt-2,Kt),M.encode.bytes=Je-Kt,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={};return Kt.preference=le(qe,Oe+=2),Kt.exchange=te.decode(qe,Oe+=2),M.decode.bytes=(Oe+=te.decode.bytes)-Je,Kt},encodingLength:qe=>4+te.encodingLength(qe.exchange)}),G=ne({encode:(qe,Oe,Je)=>(Oe||(Oe=new Uint8Array(G.encodingLength(qe))),Je||(Je=0),Me(Oe,4,Je),b.encode(qe,Oe,Je+=2),Oe),decode:(qe,Oe)=>(Oe||(Oe=0),b.decode(qe,Oe+=2)),bytes:6}),fe=ne({encode:(qe,Oe,Je)=>(Oe||(Oe=new Uint8Array(fe.encodingLength(qe))),Je||(Je=0),Me(Oe,16,Je),k.encode(qe,Oe,Je+=2),fe.encode.bytes=18,Oe),decode(qe,Oe){Oe||(Oe=0);const Je=k.decode(qe,Oe+=2);return fe.decode.bytes=18,Je},bytes:18}),Se=qe=>new Uint8Array(qe),Ae=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(Ae.encodingLength(qe))),Je||(Je=0);const Kt=Je,pn=ae(qe.code);if(Me(Oe,pn,Je),Je+=2,qe.data)Me(Oe,qe.data.length,Je),Ge(qe.data,Oe,Je+=2),Je+=qe.data.length;else switch(pn){case 8:{const jn=qe.sourcePrefixLength||0,zn=qe.family||function R(qe){return P(qe)===b.size?1:2}(qe.ip),or=function O(qe,Oe,Je){Je=~~Je;const Kt=P(qe);return"function"==typeof Oe&&(Oe=Oe(Je+Kt)),Kt===b.size?b.encode(qe,Oe,Je):k.encode(qe,Oe,Je)}(qe.ip,Se),yr=Math.ceil(jn/8);Me(Oe,yr+4,Je),Me(Oe,zn,Je+=2),Je+=2,Oe[Je++]=jn,Oe[Je++]=qe.scopePrefixLength||0,Ge(or,Oe,Je,0,yr),Je+=yr}break;case 11:qe.timeout?(Me(Oe,2,Je),Me(Oe,qe.timeout,Je+=2),Je+=2):(Me(Oe,0,Je),Je+=2);break;case 12:{const jn=qe.length||0;Me(Oe,jn,Je),Oe.fill(0,Je+=2,Je+jn),Je+=jn}break;case 14:Me(Oe,2*qe.tags.length,Je),Je+=2;for(const zn of qe.tags)Me(Oe,zn,Je),Je+=2;break;default:throw new Error(`Unknown roption code: ${qe.code}`)}return Ae.encode.bytes=Je-Kt,Oe},decode(qe,Oe){Oe||(Oe=0);const Je={};Je.code=le(qe,Oe),Je.type=function ie(qe){switch(qe){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return qe<0?null:`OPTION_${qe}`}(Je.code);const Kt=le(qe,Oe+=2);switch(Je.data=qe.slice(Oe+=2,Oe+Kt),Je.code){case 8:Je.family=le(qe,Oe),Oe+=2,Je.sourcePrefixLength=qe[Oe++],Je.scopePrefixLength=qe[Oe++];{const pn=new Uint8Array(1===Je.family?4:16);Ge(qe,pn,0,Oe,Oe+Kt-4),Je.ip=function A(qe,Oe,Je){if(Oe=~~Oe,(Je=Je||qe.length-Oe)===b.size)return b.decode(qe,Oe,Je);if(Je===k.size)return k.decode(qe,Oe,Je);throw Error(`Invalid buffer size needs to be ${b.size} for v4 or ${k.size} for v6.`)}(pn)}break;case 11:Kt>0&&(Je.timeout=le(qe,Oe),Oe+=2);break;case 14:Je.tags=[];for(let pn=0;pn<Kt;pn+=2)Je.tags.push(le(qe,Oe)),Oe+=2}return Ae.decode.bytes=Kt+4,Je},encodingLength(qe){if(qe.data)return qe.data.length+4;switch(ae(qe.code)){case 8:return Math.ceil((qe.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof qe.timeout?6:4;case 12:return qe.length+4;case 14:return 4+2*qe.tags.length}throw new Error(`Unknown roption code: ${qe.code}`)}}),rt=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(rt.encodingLength(qe))),Je||(Je=0);const Kt=Je,pn=nr(qe,Ae);return Me(Oe,pn,Je),Je=Bn(qe,Ae,Oe,Je+2),rt.encode.bytes=Je-Kt,Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt=[];let pn=le(qe,Oe);Oe+=2;let jn=0;for(;pn>0;)Kt[jn++]=Ae.decode(qe,Oe),Oe+=Ae.decode.bytes,pn-=Ae.decode.bytes;return rt.decode.bytes=Oe-Je,Kt},encodingLength:qe=>2+nr(qe||[],Ae)}),Ht=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(Ht.encodingLength(qe))),Je||(Je=0);const Kt=Je,pn=qe.key;if(!s(pn))throw new Error("Key must be a Buffer");return Me(Oe,qe.flags,Je+=2),Oe[Je+=2]=Ht.PROTOCOL_DNSSEC,Oe[Je+=1]=qe.algorithm,Ge(pn,Oe,Je+=1,0,pn.length),Ht.encode.bytes=(Je+=pn.length)-Kt,Me(Oe,Ht.encode.bytes-2,Kt),Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={},pn=le(qe,Oe);if(Kt.flags=le(qe,Oe+=2),qe[Oe+=2]!==Ht.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return Kt.algorithm=qe[Oe+=1],Kt.key=qe.slice(Oe+=1,Je+pn+2),Ht.decode.bytes=(Oe+=Kt.key.length)-Je,Kt},encodingLength:qe=>6+d(qe.key)});Ht.PROTOCOL_DNSSEC=3,Ht.ZONE_KEY=128,Ht.SECURE_ENTRYPOINT=32768;const vt=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(vt.encodingLength(qe))),Je||(Je=0);const Kt=Je,pn=qe.signature;if(!s(pn))throw new Error("Signature must be a Buffer");return Je+=2,Me(Oe,U(qe.typeCovered),Je),Oe[Je+=2]=qe.algorithm,Oe[Je+=1]=qe.labels,we(Oe,qe.originalTTL,Je+=1),we(Oe,qe.expiration,Je+=4),we(Oe,qe.inception,Je+=4),Me(Oe,qe.keyTag,Je+=4),te.encode(qe.signersName,Oe,Je+=2),Ge(pn,Oe,Je+=te.encode.bytes,0,pn.length),vt.encode.bytes=(Je+=pn.length)-Kt,Me(Oe,vt.encode.bytes-2,Kt),Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={},pn=le(qe,Oe);return Kt.typeCovered=V(le(qe,Oe+=2)),Kt.algorithm=qe[Oe+=2],Kt.labels=qe[Oe+=1],Kt.originalTTL=ee(qe,Oe+=1),Kt.expiration=ee(qe,Oe+=4),Kt.inception=ee(qe,Oe+=4),Kt.keyTag=le(qe,Oe+=4),Kt.signersName=te.decode(qe,Oe+=2),Kt.signature=qe.slice(Oe+=te.decode.bytes,Je+pn+2),vt.decode.bytes=(Oe+=Kt.signature.length)-Je,Kt},encodingLength:qe=>20+te.encodingLength(qe.signersName)+d(qe.signature)}),Ot=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(Ot.encodingLength(qe))),Je||(Je=0);const Kt=Je;return te.encode(qe.mbox||".",Oe,Je+=2),te.encode(qe.txt||".",Oe,Je+=te.encode.bytes),Ot.encode.bytes=(Je+=te.encode.bytes)-Kt,Me(Oe,Ot.encode.bytes-2,Kt),Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={};return Kt.mbox=te.decode(qe,Oe+=2)||".",Kt.txt=te.decode(qe,Oe+=te.decode.bytes)||".",Ot.decode.bytes=(Oe+=te.decode.bytes)-Je,Kt},encodingLength:qe=>2+te.encodingLength(qe.mbox||".")+te.encodingLength(qe.txt||".")}),qt=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(qt.encodingLength(qe))),Je||(Je=0);const Kt=Je,pn=[];for(let jn=0;jn<qe.length;jn++){const zn=U(qe[jn]);void 0===pn[zn>>8]&&(pn[zn>>8]=[]),pn[zn>>8][zn>>3&31]|=1<<7-(7&zn)}for(let jn=0;jn<pn.length;jn++)if(void 0!==pn[jn]){const zn=h(pn[jn]);Oe[Je]=jn,Oe[Je+=1]=zn.length,Ge(zn,Oe,Je+=1,0,zn.length),Je+=zn.length}return qt.encode.bytes=Je-Kt,Oe},decode(qe,Oe,Je){Oe||(Oe=0);const Kt=Oe,pn=[];for(;Oe-Kt<Je;){const jn=qe[Oe],zn=qe[Oe+=1];Oe+=1;for(let or=0;or<zn;or++){const yr=qe[Oe+or];for(let Rr=0;Rr<8;Rr++)if(yr&1<<7-Rr){const Ir=V(jn<<8|or<<3|Rr);pn.push(Ir)}}Oe+=zn}return qt.decode.bytes=Oe-Kt,pn},encodingLength(qe){const Oe=[];for(let Kt=0;Kt<qe.length;Kt++){const pn=U(qe[Kt]);Oe[pn>>8]=Math.max(Oe[pn>>8]||0,255&pn)}let Je=0;for(let Kt=0;Kt<Oe.length;Kt++)void 0!==Oe[Kt]&&(Je+=2+Math.ceil((Oe[Kt]+1)/8));return Je}}),mn=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(mn.encodingLength(qe))),Je||(Je=0);const Kt=Je;return te.encode(qe.nextDomain,Oe,Je+=2),qt.encode(qe.rrtypes,Oe,Je+=te.encode.bytes),mn.encode.bytes=(Je+=qt.encode.bytes)-Kt,Me(Oe,mn.encode.bytes-2,Kt),Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={},pn=le(qe,Oe);return Kt.nextDomain=te.decode(qe,Oe+=2),Kt.rrtypes=qt.decode(qe,Oe+=te.decode.bytes,pn-(Oe-Je)),mn.decode.bytes=(Oe+=qt.decode.bytes)-Je,Kt},encodingLength:qe=>2+te.encodingLength(qe.nextDomain)+qt.encodingLength(qe.rrtypes)}),ln=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(ln.encodingLength(qe))),Je||(Je=0);const Kt=Je,pn=qe.salt;if(!s(pn))throw new Error("salt must be a Buffer");const jn=qe.nextDomain;if(!s(jn))throw new Error("nextDomain must be a Buffer");return Oe[Je+=2]=qe.algorithm,Oe[Je+=1]=qe.flags,Me(Oe,qe.iterations,Je+=1),Oe[Je+=2]=pn.length,Ge(pn,Oe,Je+=1,0,pn.length),Oe[Je+=pn.length]=jn.length,Ge(jn,Oe,Je+=1,0,jn.length),qt.encode(qe.rrtypes,Oe,Je+=jn.length),ln.encode.bytes=(Je+=qt.encode.bytes)-Kt,Me(Oe,ln.encode.bytes-2,Kt),Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={},pn=le(qe,Oe);Kt.algorithm=qe[Oe+=2],Kt.flags=qe[Oe+=1],Kt.iterations=le(qe,Oe+=1);const jn=qe[Oe+=2];Kt.salt=qe.slice(Oe+=1,Oe+jn);const zn=qe[Oe+=jn];return Kt.nextDomain=qe.slice(Oe+=1,Oe+zn),Kt.rrtypes=qt.decode(qe,Oe+=zn,pn-(Oe-Je)),ln.decode.bytes=(Oe+=qt.decode.bytes)-Je,Kt},encodingLength:qe=>8+qe.salt.length+qe.nextDomain.length+qt.encodingLength(qe.rrtypes)}),rr=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(rr.encodingLength(qe))),Je||(Je=0);const Kt=Je,pn=qe.digest;if(!s(pn))throw new Error("Digest must be a Buffer");return Me(Oe,qe.keyTag,Je+=2),Oe[Je+=2]=qe.algorithm,Oe[Je+=1]=qe.digestType,Ge(pn,Oe,Je+=1,0,pn.length),rr.encode.bytes=(Je+=pn.length)-Kt,Me(Oe,rr.encode.bytes-2,Kt),Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={},pn=le(qe,Oe);return Kt.keyTag=le(qe,Oe+=2),Kt.algorithm=qe[Oe+=2],Kt.digestType=qe[Oe+=1],Kt.digest=qe.slice(Oe+=1,Je+pn+2),rr.decode.bytes=(Oe+=Kt.digest.length)-Je,Kt},encodingLength:qe=>6+d(qe.digest)}),Tn=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(Tn.encodingLength(qe))),Je||(Je=0);const Kt=Je;Oe[Je+=2]=qe.algorithm,Oe[Je+=1]=qe.hash,Je+=1;const pn=x(qe.fingerprint),jn=rn(qe.hash);if(pn!==jn)throw new Error(`Invalid length of fingerprint "${qe.fingerprint}" for hashType=${qe.hash}: ${pn} != ${jn}`);return function a(qe,Oe,Je,Kt){let pn=0;for(;Je<Kt;){const jn=Oe.substr(pn,2),zn=w[jn];if(void 0===zn)return;qe[Je++]=zn,pn+=2}}(Oe,qe.fingerprint,Je,Je+=pn),Tn.encode.bytes=Je-Kt,Me(Oe,Tn.encode.bytes-2,Kt),Oe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={};Kt.algorithm=qe[Oe+=2],Kt.hash=qe[Oe+=1],Oe+=1;const pn=rn(Kt.hash);return Kt.fingerprint=function L(qe,Oe,Je){let Kt="";for(let pn=Oe;pn<Je;){const jn=qe[pn++];Kt+=I[jn]}return Kt}(qe,Oe,Oe+pn),Tn.decode.bytes=(Oe+=pn)-Je,Kt},encodingLength:qe=>4+x(qe.fingerprint)});function rn(qe){if(1===qe)return 20;if(2===qe)return 32;throw new Error(`Invalid hashType=${qe}, supported=1,2`)}function Xt(qe){switch(qe.toUpperCase()){case"A":return G;case"PTR":case"CNAME":case"DNAME":return pt;case"TXT":return xt;case"NULL":return Ne;case"AAAA":return fe;case"SRV":return F;case"HINFO":return ke;case"CAA":return D;case"NS":return He;case"SOA":return Ve;case"MX":return M;case"OPT":return rt;case"DNSKEY":return Ht;case"RRSIG":return vt;case"RP":return Ot;case"NSEC":return mn;case"NSEC3":return ln;case"SSHFP":return Tn;case"DS":return rr}return Ie}Tn.getFingerprintLengthForHashType=rn;const dt=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(dt.encodingLength(qe))),Je||(Je=0);const Kt=Je;if(te.encode(qe.name,Oe,Je),Je+=te.encode.bytes,Me(Oe,U(qe.type),Je),"OPT"===qe.type.toUpperCase()){if("."!==qe.name)throw new Error("OPT name must be root.");Me(Oe,qe.udpPayloadSize||4096,Je+2),Oe[Je+4]=qe.extendedRcode||0,Oe[Je+5]=qe.ednsVersion||0,Me(Oe,qe.flags||0,Je+6),rt.encode(qe.options||[],Oe,Je+=8),Je+=rt.encode.bytes}else{let pn=re(void 0===qe.class?"IN":qe.class);qe.flush&&(pn|=32768),Me(Oe,pn,Je+2),we(Oe,qe.ttl||0,Je+4),Je+=8;const jn=Xt(qe.type);jn.encode(qe.data,Oe,Je),Je+=jn.encode.bytes}return dt.encode.bytes=Je-Kt,Oe},decode(qe,Oe){Oe||(Oe=0);const Je={},Kt=Oe;if(Je.name=te.decode(qe,Oe),Je.type=V(le(qe,Oe+=te.decode.bytes)),"OPT"===Je.type)Je.udpPayloadSize=le(qe,Oe+2),Je.extendedRcode=qe[Oe+4],Je.ednsVersion=qe[Oe+5],Je.flags=le(qe,Oe+6),Je.flag_do=1==(Je.flags>>15&1),Je.options=rt.decode(qe,Oe+8),Oe+=8+rt.decode.bytes;else{const pn=le(qe,Oe+2);Je.ttl=ee(qe,Oe+4),Je.class=W(-32769&pn),Je.flush=!!(32768&pn);const jn=Xt(Je.type);Je.data=jn.decode(qe,Oe+8),Oe+=8+jn.decode.bytes}return dt.decode.bytes=Oe-Kt,Je},encodingLength(qe){const Oe=null!=qe.data?qe.data:qe.options;return te.encodingLength(qe.name)+8+Xt(qe.type).encodingLength(Oe)}}),it=ne({encode(qe,Oe,Je){Oe||(Oe=new Uint8Array(it.encodingLength(qe))),Je||(Je=0);const Kt=Je;return te.encode(qe.name,Oe,Je),Je+=te.encode.bytes,Me(Oe,U(qe.type),Je),Je+=2,Me(Oe,re(void 0===qe.class?"IN":qe.class),Je),it.encode.bytes=(Je+=2)-Kt,qe},decode(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt={};return Kt.name=te.decode(qe,Oe),Kt.type=V(le(qe,Oe+=te.decode.bytes)),Kt.class=W(le(qe,Oe+=2)),Oe+=2,!!(32768&Kt.class)&&(Kt.class&=-32769),it.decode.bytes=Oe-Je,Kt},encodingLength:qe=>te.encodingLength(qe.name)+4}),Wt=1024,Ke={encode:function(qe,Oe,Je){const Kt=!Oe;Kt&&(Oe=new Uint8Array(wn(qe))),Je||(Je=0);const pn=Je;return qe.questions||(qe.questions=[]),qe.answers||(qe.answers=[]),qe.authorities||(qe.authorities=[]),qe.additionals||(qe.additionals=[]),_e.encode(qe,Oe,Je),Je=Bn(qe.questions,it,Oe,Je+=_e.encode.bytes),Je=Bn(qe.answers,dt,Oe,Je),Je=Bn(qe.authorities,dt,Oe,Je),Je=Bn(qe.additionals,dt,Oe,Je),Ke.encode.bytes=Je-pn,Kt&&fn.bytes!==Oe.length?Oe.slice(0,fn.bytes):Oe},decode:function(qe,Oe){Oe||(Oe=0);const Je=Oe,Kt=_e.decode(qe,Oe);return Oe=Fn(Kt.questions,it,qe,Oe+=_e.decode.bytes),Oe=Fn(Kt.answers,dt,qe,Oe),Oe=Fn(Kt.authorities,dt,qe,Oe),Oe=Fn(Kt.additionals,dt,qe,Oe),Ke.decode.bytes=Oe-Je,Kt},encodingLength:function(qe){return _e.encodingLength(qe)+nr(qe.questions||[],it)+nr(qe.answers||[],dt)+nr(qe.authorities||[],dt)+nr(qe.additionals||[],dt)}};function We(qe,Oe){if(qe.questions)throw new Error("Only one .question object expected instead of a .questions array!");const Je=Object.assign({type:Oe},qe);return Je.question&&(Je.questions=[Je.question],delete Je.question),Je}Ke.encode.bytes=0,Ke.decode.bytes=0;const Bt={encode:function(qe,Oe,Je){return Oe=Ke.encode(We(qe,"query"),Oe,Je),Bt.encode.bytes=Ke.encode.bytes,Oe},decode:function(qe,Oe){const Je=Ke.decode(qe,Oe);return Bt.decode.bytes=Ke.decode.bytes,Je.questions&&(Je.question=Je.questions[0],delete Je.questions),Je},encodingLength:function(qe){return Ke.encodingLength(We(qe,"query"))}};Bt.encode.bytes=0,Bt.decode.bytes=0;const At={encode:function(qe,Oe,Je){return Oe=Ke.encode(We(qe,"response"),Oe,Je),At.encode.bytes=Ke.encode.bytes,Oe},decode:function(qe,Oe){const Je=Ke.decode(qe,Oe);return At.decode.bytes=Ke.decode.bytes,Je.questions&&(Je.question=Je.questions[0],delete Je.questions),Je},encodingLength:function(qe){return Ke.encodingLength(We(qe,"response"))}};At.encode.bytes=0,At.decode.bytes=0;const fn=Ke.encode,Un=Ke.decode,wn=Ke.encodingLength;function nr(qe,Oe){let Je=0;for(let Kt=0;Kt<qe.length;Kt++)Je+=Oe.encodingLength(qe[Kt]);return Je}function Bn(qe,Oe,Je,Kt){for(let pn=0;pn<qe.length;pn++)Oe.encode(qe[pn],Je,Kt),Kt+=Oe.encode.bytes;return Kt}function Fn(qe,Oe,Je,Kt){for(let pn=0;pn<qe.length;pn++)qe[pn]=Oe.decode(Je,Kt),Kt+=Oe.decode.bytes;return Kt}},34931:($e,j,E)=>{"use strict";function g(O){if(!Number.isSafeInteger(O)||O<0)throw new Error(`wrong positive integer: ${O}`)}function _(O){if("boolean"!=typeof O)throw new Error(`boolean expected, not ${O}`)}function H(O,...A){if(!function B(O){return null!=O&&"object"==typeof O&&(O instanceof Uint8Array||"Uint8Array"===O.constructor.name)}(O))throw new Error("Uint8Array expected");if(A.length>0&&!A.includes(O.length))throw new Error(`Uint8Array expected of length ${A}, not of length=${O.length}`)}function k(O,A=!0){if(O.destroyed)throw new Error("Hash instance has been destroyed");if(A&&O.finished)throw new Error("Hash#digest() has already been called")}function S(O,A){H(O);const V=A.outputLen;if(O.length<V)throw new Error(`digestInto() expects output buffer of length at least ${V}`)}E.d(j,{CG:()=>S,ai:()=>g,ee:()=>H,lc:()=>_,t2:()=>k})},25953:($e,j,E)=>{"use strict";E.d(j,{AI:()=>W,DH:()=>B,O8:()=>b,ZJ:()=>ie,ex:()=>ve,qj:()=>pe,qn:()=>C,tY:()=>ce,zp:()=>s});const B=h=>new Uint32Array(h.buffer,h.byteOffset,Math.floor(h.byteLength/4));function H(h){return h instanceof Uint8Array||null!=h&&"object"==typeof h&&"Uint8Array"===h.constructor.name}const b=h=>new DataView(h.buffer,h.byteOffset,h.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function W(h){if("string"!=typeof h)throw new Error("utf8ToBytes expected string, got "+typeof h);return new Uint8Array((new TextEncoder).encode(h))}function ie(h){if("string"==typeof h)h=W(h);else{if(!H(h))throw new Error("expected Uint8Array, got "+typeof h);h=h.slice()}return h}const ue=h=>"[object Object]"===Object.prototype.toString.call(h)&&h.constructor===Object;function ce(h,f){if(void 0!==f&&("object"!=typeof f||!ue(f)))throw new Error("options must be object or undefined");return Object.assign(h,f)}function pe(h,f){if(!H(h))throw new Error("Uint8Array expected");if("number"==typeof f&&h.length!==f)throw new Error(`Uint8Array length ${f} expected`)}function ve(h,f){if(h.length!==f.length)return!1;let w=0;for(let I=0;I<h.length;I++)w|=h[I]^f[I];return 0===w}const C=(h,f)=>(Object.assign(f,h),f);function s(h,f,w,I){if("function"==typeof h.setBigUint64)return h.setBigUint64(f,w,I);const L=BigInt(32),x=BigInt(4294967295),a=Number(w>>L&x),v=Number(w&x),z=I?0:4;h.setUint32(f+(I?4:0),a,I),h.setUint32(f+z,v,I)}},91879:($e,j,E)=>{"use strict";E.d(j,{NZ:()=>b});const g="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function b(){if(g&&"object"==typeof g.subtle&&null!=g.subtle)return g.subtle;throw new Error("crypto.subtle must be defined")}E(25953),E(34931)},2716:($e,j,E)=>{"use strict";E.d(j,{s:()=>ae});var g=E(75781),_=E(62953),B=E(35765),H=E(91006),b=E(7184);const{bytesToNumberBE:S,hexToBytes:P}=H,R={Err:class extends Error{constructor(ce=""){super(ce)}},_parseInt(ue){const{Err:ce}=R;if(ue.length<2||2!==ue[0])throw new ce("Invalid signature integer tag");const pe=ue[1],ve=ue.subarray(2,pe+2);if(!pe||ve.length!==pe)throw new ce("Invalid signature integer: wrong length");if(128&ve[0])throw new ce("Invalid signature integer: negative");if(0===ve[0]&&!(128&ve[1]))throw new ce("Invalid signature integer: unnecessary leading zero");return{d:S(ve),l:ue.subarray(pe+2)}},toSig(ue){const{Err:ce}=R,pe="string"==typeof ue?P(ue):ue;if(!H.aY(pe))throw new Error("ui8a expected");let ve=pe.length;if(ve<2||48!=pe[0])throw new ce("Invalid signature tag");if(pe[1]!==ve-2)throw new ce("Invalid signature: incorrect length");const{d:De,l:C}=R._parseInt(pe.subarray(2)),{d:s,l:d}=R._parseInt(C);if(d.length)throw new ce("Invalid signature: left bytes after parsing");return{r:De,s}},hexFromSig(ue){const ce=f=>8&Number.parseInt(f[0],16)?"00"+f:f,pe=f=>{const w=f.toString(16);return 1&w.length?`0${w}`:w},ve=ce(pe(ue.s)),De=ce(pe(ue.r)),C=ve.length/2,s=De.length/2,d=pe(C),h=pe(s);return`30${pe(s+C+4)}02${h}${De}02${d}${ve}`}},O=BigInt(0),A=BigInt(1),U=(BigInt(2),BigInt(3));function Y(ue){const ce=function q(ue){const ce=(0,b.h)(ue);return H.Q5(ce,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ce})}(ue),{Fp:pe,n:ve}=ce,De=pe.BYTES+1,C=2*pe.BYTES+1;function d(te){return B.zi(te,ve)}function h(te){return B.B8(te,ve)}const{ProjectivePoint:f,normPrivateKeyToScalar:w,weierstrassEquation:I,isWithinCurveOrder:L}=function Q(ue){const ce=function k(ue){const ce=(0,b.h)(ue);H.Q5(ce,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:pe,Fp:ve,a:De}=ce;if(pe){if(!ve.eql(De,ve.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof pe||"bigint"!=typeof pe.beta||"function"!=typeof pe.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ce})}(ue),{Fp:pe}=ce,ve=ce.toBytes||((a,v,Z)=>{const z=v.toAffine();return H.Id(Uint8Array.from([4]),pe.toBytes(z.x),pe.toBytes(z.y))}),De=ce.fromBytes||(a=>{const v=a.subarray(1);return{x:pe.fromBytes(v.subarray(0,pe.BYTES)),y:pe.fromBytes(v.subarray(pe.BYTES,2*pe.BYTES))}});function C(a){const{a:v,b:Z}=ce,z=pe.sqr(a),ee=pe.mul(z,a);return pe.add(pe.add(ee,pe.mul(a,v)),Z)}if(!pe.eql(pe.sqr(ce.Gy),C(ce.Gx)))throw new Error("bad generator point: equation left != right");function s(a){return"bigint"==typeof a&&O<a&&a<ce.n}function d(a){if(!s(a))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function h(a){const{allowedPrivateKeyLengths:v,nByteLength:Z,wrapPrivateKey:z,n:ee}=ce;if(v&&"bigint"!=typeof a){if(H.aY(a)&&(a=H.My(a)),"string"!=typeof a||!v.includes(a.length))throw new Error("Invalid key");a=a.padStart(2*Z,"0")}let le;try{le="bigint"==typeof a?a:H.bytesToNumberBE((0,H.qj)("private key",a,Z))}catch{throw new Error(`private key must be ${Z} bytes, hex or bigint, not ${typeof a}`)}return z&&(le=B.zi(le,ee)),d(le),le}const f=new Map;function w(a){if(!(a instanceof I))throw new Error("ProjectivePoint expected")}class I{constructor(v,Z,z){if(this.px=v,this.py=Z,this.pz=z,null==v||!pe.isValid(v))throw new Error("x required");if(null==Z||!pe.isValid(Z))throw new Error("y required");if(null==z||!pe.isValid(z))throw new Error("z required")}static fromAffine(v){const{x:Z,y:z}=v||{};if(!v||!pe.isValid(Z)||!pe.isValid(z))throw new Error("invalid affine point");if(v instanceof I)throw new Error("projective point not allowed");const ee=le=>pe.eql(le,pe.ZERO);return ee(Z)&&ee(z)?I.ZERO:new I(Z,z,pe.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const Z=pe.invertBatch(v.map(z=>z.pz));return v.map((z,ee)=>z.toAffine(Z[ee])).map(I.fromAffine)}static fromHex(v){const Z=I.fromAffine(De((0,H.qj)("pointHex",v)));return Z.assertValidity(),Z}static fromPrivateKey(v){return I.BASE.multiply(h(v))}_setWindowSize(v){this._WINDOW_SIZE=v,f.delete(this)}assertValidity(){if(this.is0()){if(ce.allowInfinityPoint&&!pe.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:Z}=this.toAffine();if(!pe.isValid(v)||!pe.isValid(Z))throw new Error("bad point: x or y not FE");const z=pe.sqr(Z),ee=C(v);if(!pe.eql(z,ee))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(pe.isOdd)return!pe.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){w(v);const{px:Z,py:z,pz:ee}=this,{px:le,py:we,pz:Me}=v,Ge=pe.eql(pe.mul(Z,Me),pe.mul(le,ee)),ge=pe.eql(pe.mul(z,Me),pe.mul(we,ee));return Ge&&ge}negate(){return new I(this.px,pe.neg(this.py),this.pz)}double(){const{a:v,b:Z}=ce,z=pe.mul(Z,U),{px:ee,py:le,pz:we}=this;let Me=pe.ZERO,Ge=pe.ZERO,ge=pe.ZERO,me=pe.mul(ee,ee),Ue=pe.mul(le,le),xe=pe.mul(we,we),Ce=pe.mul(ee,le);return Ce=pe.add(Ce,Ce),ge=pe.mul(ee,we),ge=pe.add(ge,ge),Me=pe.mul(v,ge),Ge=pe.mul(z,xe),Ge=pe.add(Me,Ge),Me=pe.sub(Ue,Ge),Ge=pe.add(Ue,Ge),Ge=pe.mul(Me,Ge),Me=pe.mul(Ce,Me),ge=pe.mul(z,ge),xe=pe.mul(v,xe),Ce=pe.sub(me,xe),Ce=pe.mul(v,Ce),Ce=pe.add(Ce,ge),ge=pe.add(me,me),me=pe.add(ge,me),me=pe.add(me,xe),me=pe.mul(me,Ce),Ge=pe.add(Ge,me),xe=pe.mul(le,we),xe=pe.add(xe,xe),me=pe.mul(xe,Ce),Me=pe.sub(Me,me),ge=pe.mul(xe,Ue),ge=pe.add(ge,ge),ge=pe.add(ge,ge),new I(Me,Ge,ge)}add(v){w(v);const{px:Z,py:z,pz:ee}=this,{px:le,py:we,pz:Me}=v;let Ge=pe.ZERO,ge=pe.ZERO,me=pe.ZERO;const Ue=ce.a,xe=pe.mul(ce.b,U);let Ce=pe.mul(Z,le),be=pe.mul(z,we),he=pe.mul(ee,Me),ne=pe.add(Z,z),te=pe.add(le,we);ne=pe.mul(ne,te),te=pe.add(Ce,be),ne=pe.sub(ne,te),te=pe.add(Z,ee);let de=pe.add(le,Me);return te=pe.mul(te,de),de=pe.add(Ce,he),te=pe.sub(te,de),de=pe.add(z,ee),Ge=pe.add(we,Me),de=pe.mul(de,Ge),Ge=pe.add(be,he),de=pe.sub(de,Ge),me=pe.mul(Ue,te),Ge=pe.mul(xe,he),me=pe.add(Ge,me),Ge=pe.sub(be,me),me=pe.add(be,me),ge=pe.mul(Ge,me),be=pe.add(Ce,Ce),be=pe.add(be,Ce),he=pe.mul(Ue,he),te=pe.mul(xe,te),be=pe.add(be,he),he=pe.sub(Ce,he),he=pe.mul(Ue,he),te=pe.add(te,he),Ce=pe.mul(be,te),ge=pe.add(ge,Ce),Ce=pe.mul(de,te),Ge=pe.mul(ne,Ge),Ge=pe.sub(Ge,Ce),Ce=pe.mul(ne,be),me=pe.mul(de,me),me=pe.add(me,Ce),new I(Ge,ge,me)}subtract(v){return this.add(v.negate())}is0(){return this.equals(I.ZERO)}wNAF(v){return x.wNAFCached(this,f,v,Z=>{const z=pe.invertBatch(Z.map(ee=>ee.pz));return Z.map((ee,le)=>ee.toAffine(z[le])).map(I.fromAffine)})}multiplyUnsafe(v){const Z=I.ZERO;if(v===O)return Z;if(d(v),v===A)return this;const{endo:z}=ce;if(!z)return x.unsafeLadder(this,v);let{k1neg:ee,k1:le,k2neg:we,k2:Me}=z.splitScalar(v),Ge=Z,ge=Z,me=this;for(;le>O||Me>O;)le&A&&(Ge=Ge.add(me)),Me&A&&(ge=ge.add(me)),me=me.double(),le>>=A,Me>>=A;return ee&&(Ge=Ge.negate()),we&&(ge=ge.negate()),ge=new I(pe.mul(ge.px,z.beta),ge.py,ge.pz),Ge.add(ge)}multiply(v){d(v);let z,ee,Z=v;const{endo:le}=ce;if(le){const{k1neg:we,k1:Me,k2neg:Ge,k2:ge}=le.splitScalar(Z);let{p:me,f:Ue}=this.wNAF(Me),{p:xe,f:Ce}=this.wNAF(ge);me=x.constTimeNegate(we,me),xe=x.constTimeNegate(Ge,xe),xe=new I(pe.mul(xe.px,le.beta),xe.py,xe.pz),z=me.add(xe),ee=Ue.add(Ce)}else{const{p:we,f:Me}=this.wNAF(Z);z=we,ee=Me}return I.normalizeZ([z,ee])[0]}multiplyAndAddUnsafe(v,Z,z){const ee=I.BASE,le=(Me,Ge)=>Ge!==O&&Ge!==A&&Me.equals(ee)?Me.multiply(Ge):Me.multiplyUnsafe(Ge),we=le(this,Z).add(le(v,z));return we.is0()?void 0:we}toAffine(v){const{px:Z,py:z,pz:ee}=this,le=this.is0();null==v&&(v=le?pe.ONE:pe.inv(ee));const we=pe.mul(Z,v),Me=pe.mul(z,v),Ge=pe.mul(ee,v);if(le)return{x:pe.ZERO,y:pe.ZERO};if(!pe.eql(Ge,pe.ONE))throw new Error("invZ was invalid");return{x:we,y:Me}}isTorsionFree(){const{h:v,isTorsionFree:Z}=ce;if(v===A)return!0;if(Z)return Z(I,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:Z}=ce;return v===A?this:Z?Z(I,this):this.multiplyUnsafe(ce.h)}toRawBytes(v=!0){return this.assertValidity(),ve(I,this,v)}toHex(v=!0){return H.My(this.toRawBytes(v))}}I.BASE=new I(ce.Gx,ce.Gy,pe.ONE),I.ZERO=new I(pe.ZERO,pe.ONE,pe.ZERO);const L=ce.nBitLength,x=(0,b.A)(I,ce.endo?Math.ceil(L/2):L);return{CURVE:ce,ProjectivePoint:I,normPrivateKeyToScalar:h,weierstrassEquation:C,isWithinCurveOrder:s}}({...ce,toBytes(te,de,_e){const Ie=de.toAffine(),He=pe.toBytes(Ie.x),Ve=H.Id;return _e?Ve(Uint8Array.from([de.hasEvenY()?2:3]),He):Ve(Uint8Array.from([4]),He,pe.toBytes(Ie.y))},fromBytes(te){const de=te.length,_e=te[0],Ie=te.subarray(1);if(de!==De||2!==_e&&3!==_e){if(de===C&&4===_e)return{x:pe.fromBytes(Ie.subarray(0,pe.BYTES)),y:pe.fromBytes(Ie.subarray(pe.BYTES,2*pe.BYTES))};throw new Error(`Point of length ${de} was invalid. Expected ${De} compressed bytes or ${C} uncompressed bytes`)}{const He=H.bytesToNumberBE(Ie);if(!function s(te){return O<te&&te<pe.ORDER}(He))throw new Error("Point is not on curve");const Ve=I(He);let xt=pe.sqrt(Ve);return!(1&~_e)!=((xt&A)===A)&&(xt=pe.neg(xt)),{x:He,y:xt}}}}),x=te=>H.My(H.lq(te,ce.nByteLength));function a(te){return te>ve>>A}const Z=(te,de,_e)=>H.bytesToNumberBE(te.slice(de,_e));class z{constructor(de,_e,Ie){this.r=de,this.s=_e,this.recovery=Ie,this.assertValidity()}static fromCompact(de){const _e=ce.nByteLength;return de=(0,H.qj)("compactSignature",de,2*_e),new z(Z(de,0,_e),Z(de,_e,2*_e))}static fromDER(de){const{r:_e,s:Ie}=R.toSig((0,H.qj)("DER",de));return new z(_e,Ie)}assertValidity(){if(!L(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!L(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(de){return new z(this.r,this.s,de)}recoverPublicKey(de){const{r:_e,s:Ie,recovery:He}=this,Ve=ge((0,H.qj)("msgHash",de));if(null==He||![0,1,2,3].includes(He))throw new Error("recovery id invalid");const xt=2===He||3===He?_e+ce.n:_e;if(xt>=pe.ORDER)throw new Error("recovery id 2 or 3 invalid");const ke=f.fromHex((1&He?"03":"02")+x(xt)),pt=h(xt),F=d(-Ve*pt),D=d(Ie*pt),M=f.BASE.multiplyAndAddUnsafe(ke,F,D);if(!M)throw new Error("point at infinify");return M.assertValidity(),M}hasHighS(){return a(this.s)}normalizeS(){return this.hasHighS()?new z(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return H.hexToBytes(this.toDERHex())}toDERHex(){return R.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return H.hexToBytes(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const ee={isValidPrivateKey(te){try{return w(te),!0}catch{return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{const te=B.Tp(ce.n);return B.qy(ce.randomBytes(te),ce.n)},precompute:(te=8,de=f.BASE)=>(de._setWindowSize(te),de.multiply(BigInt(3)),de)};function we(te){const de=H.aY(te),_e="string"==typeof te,Ie=(de||_e)&&te.length;return de?Ie===De||Ie===C:_e?Ie===2*De||Ie===2*C:te instanceof f}const Ge=ce.bits2int||function(te){const de=H.bytesToNumberBE(te),_e=8*te.length-ce.nBitLength;return _e>0?de>>BigInt(_e):de},ge=ce.bits2int_modN||function(te){return d(Ge(te))},me=H.OG(ce.nBitLength);function Ue(te){if("bigint"!=typeof te)throw new Error("bigint expected");if(!(O<=te&&te<me))throw new Error(`bigint expected < 2^${ce.nBitLength}`);return H.lq(te,ce.nByteLength)}const Ce={lowS:ce.lowS,prehash:!1},be={lowS:ce.lowS,prehash:!1};return f.BASE._setWindowSize(8),{CURVE:ce,getPublicKey:function le(te,de=!0){return f.fromPrivateKey(te).toRawBytes(de)},getSharedSecret:function Me(te,de,_e=!0){if(we(te))throw new Error("first arg must be private key");if(!we(de))throw new Error("second arg must be public key");return f.fromHex(de).multiply(w(te)).toRawBytes(_e)},sign:function he(te,de,_e=Ce){const{seed:Ie,k2sig:He}=function xe(te,de,_e=Ce){if(["recovered","canonical"].some(fe=>fe in _e))throw new Error("sign() legacy options not supported");const{hash:Ie,randomBytes:He}=ce;let{lowS:Ve,prehash:xt,extraEntropy:Ne}=_e;null==Ve&&(Ve=!0),te=(0,H.qj)("msgHash",te),xt&&(te=(0,H.qj)("prehashed msgHash",Ie(te)));const ke=ge(te),pt=w(de),F=[Ue(pt),Ue(ke)];if(null!=Ne){const fe=!0===Ne?He(pe.BYTES):Ne;F.push((0,H.qj)("extraEntropy",fe))}const D=H.Id(...F),M=ke;return{seed:D,k2sig:function G(fe){const Se=Ge(fe);if(!L(Se))return;const Ae=h(Se),rt=f.BASE.multiply(Se).toAffine(),Ht=d(rt.x);if(Ht===O)return;const vt=d(Ae*d(M+Ht*pt));if(vt===O)return;let Ot=(rt.x===Ht?0:2)|Number(rt.y&A),qt=vt;return Ve&&a(vt)&&(qt=function v(te){return a(te)?d(-te):te}(vt),Ot^=1),new z(Ht,qt,Ot)}}}(te,de,_e);return H.fg(ce.hash.outputLen,ce.nByteLength,ce.hmac)(Ie,He)},verify:function ne(te,de,_e,Ie=be){const He=te;if(de=(0,H.qj)("msgHash",de),_e=(0,H.qj)("publicKey",_e),"strict"in Ie)throw new Error("options.strict was renamed to lowS");const{lowS:Ve,prehash:xt}=Ie;let Ne,ke;try{if("string"==typeof He||H.aY(He))try{Ne=z.fromDER(He)}catch(rt){if(!(rt instanceof R.Err))throw rt;Ne=z.fromCompact(He)}else{if("object"!=typeof He||"bigint"!=typeof He.r||"bigint"!=typeof He.s)throw new Error("PARSE");{const{r:rt,s:Ht}=He;Ne=new z(rt,Ht)}}ke=f.fromHex(_e)}catch(rt){if("PARSE"===rt.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ve&&Ne.hasHighS())return!1;xt&&(de=ce.hash(de));const{r:pt,s:F}=Ne,D=ge(de),M=h(F),G=d(D*M),fe=d(pt*M),Se=f.BASE.multiplyAndAddUnsafe(ke,G,fe)?.toAffine();return!!Se&&d(Se.x)===pt},ProjectivePoint:f,Signature:z,utils:ee}}function ie(ue){return{hash:ue,hmac:(ce,...pe)=>(0,g.w)(ue,ce,(0,_.Id)(...pe)),randomBytes:_.po}}function ae(ue,ce){const pe=ve=>Y({...ue,...ie(ve)});return Object.freeze({...pe(ce),create:pe})}BigInt(4)},7184:($e,j,E)=>{"use strict";E.d(j,{A:()=>b,h:()=>k});var g=E(35765),_=E(91006);const B=BigInt(0),H=BigInt(1);function b(S,P){const R=(A,V)=>{const U=V.negate();return A?U:V},O=A=>({windows:Math.ceil(P/A)+1,windowSize:2**(A-1)});return{constTimeNegate:R,unsafeLadder(A,V){let U=S.ZERO,K=A;for(;V>B;)V&H&&(U=U.add(K)),K=K.double(),V>>=H;return U},precomputeWindow(A,V){const{windows:U,windowSize:K}=O(V),Q=[];let q=A,Y=q;for(let W=0;W<U;W++){Y=q,Q.push(Y);for(let re=1;re<K;re++)Y=Y.add(q),Q.push(Y);q=Y.double()}return Q},wNAF(A,V,U){const{windows:K,windowSize:Q}=O(A);let q=S.ZERO,Y=S.BASE;const W=BigInt(2**A-1),re=2**A,ie=BigInt(A);for(let ae=0;ae<K;ae++){const ue=ae*Q;let ce=Number(U&W);U>>=ie,ce>Q&&(ce-=re,U+=H);const pe=ue,ve=ue+Math.abs(ce)-1,C=ce<0;0===ce?Y=Y.add(R(ae%2!=0,V[pe])):q=q.add(R(C,V[ve]))}return{p:q,f:Y}},wNAFCached(A,V,U,K){const Q=A._WINDOW_SIZE||1;let q=V.get(A);return q||(q=this.precomputeWindow(A,Q),1!==Q&&V.set(A,K(q))),this.wNAF(Q,q,U)}}}function k(S){return(0,g.jr)(S.Fp),(0,_.Q5)(S,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,g.LH)(S.n,S.nBitLength),...S,p:S.Fp.ORDER})}},35765:($e,j,E)=>{"use strict";E.d(j,{B8:()=>K,D0:()=>ve,LH:()=>pe,Tp:()=>h,Tv:()=>C,dQ:()=>Y,jr:()=>re,n7:()=>V,qy:()=>f,zH:()=>U,zi:()=>A});var g=E(91006);const _=BigInt(0),B=BigInt(1),H=BigInt(2),b=BigInt(3),k=BigInt(4),S=BigInt(5),P=BigInt(8);function A(w,I){const L=w%I;return L>=_?L:I+L}function V(w,I,L){if(L<=_||I<_)throw new Error("Expected power/modulo > 0");if(L===B)return _;let x=B;for(;I>_;)I&B&&(x=x*w%L),w=w*w%L,I>>=B;return x}function U(w,I,L){let x=w;for(;I-- >_;)x*=x,x%=L;return x}function K(w,I){if(w===_||I<=_)throw new Error(`invert: expected positive integers, got n=${w} mod=${I}`);let L=A(w,I),x=I,a=_,v=B,Z=B,z=_;for(;L!==_;){const le=x/L,we=x%L,Me=a-Z*le,Ge=v-z*le;x=L,L=we,a=Z,v=z,Z=Me,z=Ge}if(x!==B)throw new Error("invert: does not exist");return A(a,I)}BigInt(9),BigInt(16);const Y=(w,I)=>(A(w,I)&B)===B,W=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function re(w){const L=W.reduce((x,a)=>(x[a]="function",x),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,g.Q5)(w,L)}function pe(w,I){const L=void 0!==I?I:w.toString(2).length;return{nBitLength:L,nByteLength:Math.ceil(L/8)}}function ve(w,I,L=!1,x={}){if(w<=_)throw new Error(`Expected Field ORDER > 0, got ${w}`);const{nBitLength:a,nByteLength:v}=pe(w,I);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const Z=function q(w){if(w%k===b){const I=(w+B)/k;return function(x,a){const v=x.pow(a,I);if(!x.eql(x.sqr(v),a))throw new Error("Cannot find square root");return v}}if(w%P===S){const I=(w-S)/P;return function(x,a){const v=x.mul(a,H),Z=x.pow(v,I),z=x.mul(a,Z),ee=x.mul(x.mul(z,H),Z),le=x.mul(z,x.sub(ee,x.ONE));if(!x.eql(x.sqr(le),a))throw new Error("Cannot find square root");return le}}return function Q(w){const I=(w-B)/H;let L,x,a;for(L=w-B,x=0;L%H===_;L/=H,x++);for(a=H;a<w&&V(a,I,w)!==w-B;a++);if(1===x){const Z=(w+B)/k;return function(ee,le){const we=ee.pow(le,Z);if(!ee.eql(ee.sqr(we),le))throw new Error("Cannot find square root");return we}}const v=(L+B)/H;return function(z,ee){if(z.pow(ee,I)===z.neg(z.ONE))throw new Error("Cannot find square root");let le=x,we=z.pow(z.mul(z.ONE,a),L),Me=z.pow(ee,v),Ge=z.pow(ee,L);for(;!z.eql(Ge,z.ONE);){if(z.eql(Ge,z.ZERO))return z.ZERO;let ge=1;for(let Ue=z.sqr(Ge);ge<le&&!z.eql(Ue,z.ONE);ge++)Ue=z.sqr(Ue);const me=z.pow(we,B<<BigInt(le-ge-1));we=z.sqr(me),Me=z.mul(Me,me),Ge=z.mul(Ge,we),le=ge}return Me}}(w)}(w),z=Object.freeze({ORDER:w,BITS:a,BYTES:v,MASK:(0,g.OG)(a),ZERO:_,ONE:B,create:ee=>A(ee,w),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return _<=ee&&ee<w},is0:ee=>ee===_,isOdd:ee=>(ee&B)===B,neg:ee=>A(-ee,w),eql:(ee,le)=>ee===le,sqr:ee=>A(ee*ee,w),add:(ee,le)=>A(ee+le,w),sub:(ee,le)=>A(ee-le,w),mul:(ee,le)=>A(ee*le,w),pow:(ee,le)=>function ie(w,I,L){if(L<_)throw new Error("Expected power > 0");if(L===_)return w.ONE;if(L===B)return I;let x=w.ONE,a=I;for(;L>_;)L&B&&(x=w.mul(x,a)),a=w.sqr(a),L>>=B;return x}(z,ee,le),div:(ee,le)=>A(ee*K(le,w),w),sqrN:ee=>ee*ee,addN:(ee,le)=>ee+le,subN:(ee,le)=>ee-le,mulN:(ee,le)=>ee*le,inv:ee=>K(ee,w),sqrt:x.sqrt||(ee=>Z(z,ee)),invertBatch:ee=>function ae(w,I){const L=new Array(I.length),x=I.reduce((v,Z,z)=>w.is0(Z)?v:(L[z]=v,w.mul(v,Z)),w.ONE),a=w.inv(x);return I.reduceRight((v,Z,z)=>w.is0(Z)?v:(L[z]=w.mul(v,L[z]),w.mul(v,Z)),a),L}(z,ee),cmov:(ee,le,we)=>we?le:ee,toBytes:ee=>L?(0,g.z)(ee,v):(0,g.lq)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return L?(0,g.lX)(ee):(0,g.bytesToNumberBE)(ee)}});return Object.freeze(z)}function C(w,I){if(!w.isOdd)throw new Error("Field doesn't have isOdd");const L=w.sqrt(I);return w.isOdd(L)?w.neg(L):L}function d(w){if("bigint"!=typeof w)throw new Error("field order must be bigint");const I=w.toString(2).length;return Math.ceil(I/8)}function h(w){const I=d(w);return I+Math.ceil(I/2)}function f(w,I,L=!1){const x=w.length,a=d(I),v=h(I);if(x<16||x<v||x>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${x}`);const z=A(L?(0,g.bytesToNumberBE)(w):(0,g.lX)(w),I-B)+B;return L?(0,g.z)(z,a):(0,g.lq)(z,a)}},91006:($e,j,E)=>{"use strict";E.d(j,{Id:()=>W,My:()=>k,OG:()=>pe,Q5:()=>d,aY:()=>H,bytesToNumberBE:()=>V,fg:()=>C,hexToBytes:()=>A,lX:()=>U,lq:()=>K,qj:()=>Y,z:()=>Q}),BigInt(0);const _=BigInt(1),B=BigInt(2);function H(h){return h instanceof Uint8Array||null!=h&&"object"==typeof h&&"Uint8Array"===h.constructor.name}const b=Array.from({length:256},(h,f)=>f.toString(16).padStart(2,"0"));function k(h){if(!H(h))throw new Error("Uint8Array expected");let f="";for(let w=0;w<h.length;w++)f+=b[h[w]];return f}function P(h){if("string"!=typeof h)throw new Error("hex string expected, got "+typeof h);return BigInt(""===h?"0":`0x${h}`)}const R={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function O(h){return h>=R._0&&h<=R._9?h-R._0:h>=R._A&&h<=R._F?h-(R._A-10):h>=R._a&&h<=R._f?h-(R._a-10):void 0}function A(h){if("string"!=typeof h)throw new Error("hex string expected, got "+typeof h);const f=h.length,w=f/2;if(f%2)throw new Error("padded hex string expected, got unpadded hex of length "+f);const I=new Uint8Array(w);for(let L=0,x=0;L<w;L++,x+=2){const a=O(h.charCodeAt(x)),v=O(h.charCodeAt(x+1));if(void 0===a||void 0===v)throw new Error('hex string expected, got non-hex character "'+(h[x]+h[x+1])+'" at index '+x);I[L]=16*a+v}return I}function V(h){return P(k(h))}function U(h){if(!H(h))throw new Error("Uint8Array expected");return P(k(Uint8Array.from(h).reverse()))}function K(h,f){return A(h.toString(16).padStart(2*f,"0"))}function Q(h,f){return K(h,f).reverse()}function Y(h,f,w){let I;if("string"==typeof f)try{I=A(f)}catch(x){throw new Error(`${h} must be valid hex string, got "${f}". Cause: ${x}`)}else{if(!H(f))throw new Error(`${h} must be hex string or Uint8Array`);I=Uint8Array.from(f)}const L=I.length;if("number"==typeof w&&L!==w)throw new Error(`${h} expected ${w} bytes, got ${L}`);return I}function W(...h){let f=0;for(let L=0;L<h.length;L++){const x=h[L];if(!H(x))throw new Error("Uint8Array expected");f+=x.length}let w=new Uint8Array(f),I=0;for(let L=0;L<h.length;L++){const x=h[L];w.set(x,I),I+=x.length}return w}const pe=h=>(B<<BigInt(h-1))-_,ve=h=>new Uint8Array(h),De=h=>Uint8Array.from(h);function C(h,f,w){if("number"!=typeof h||h<2)throw new Error("hashLen must be a number");if("number"!=typeof f||f<2)throw new Error("qByteLen must be a number");if("function"!=typeof w)throw new Error("hmacFn must be a function");let I=ve(h),L=ve(h),x=0;const a=()=>{I.fill(1),L.fill(0),x=0},v=(...le)=>w(L,I,...le),Z=(le=ve())=>{L=v(De([0]),le),I=v(),0!==le.length&&(L=v(De([1]),le),I=v())},z=()=>{if(x++>=1e3)throw new Error("drbg: tried 1000 values");let le=0;const we=[];for(;le<f;){I=v();const Me=I.slice();we.push(Me),le+=I.length}return W(...we)};return(le,we)=>{let Me;for(a(),Z(le);!(Me=we(z()));)Z();return a(),Me}}const s={bigint:h=>"bigint"==typeof h,function:h=>"function"==typeof h,boolean:h=>"boolean"==typeof h,string:h=>"string"==typeof h,stringOrUint8Array:h=>"string"==typeof h||H(h),isSafeInteger:h=>Number.isSafeInteger(h),array:h=>Array.isArray(h),field:(h,f)=>f.Fp.isValid(h),hash:h=>"function"==typeof h&&Number.isSafeInteger(h.outputLen)};function d(h,f,w={}){const I=(L,x,a)=>{const v=s[x];if("function"!=typeof v)throw new Error(`Invalid validator "${x}", expected function`);const Z=h[L];if(!(a&&void 0===Z||v(Z,h)))throw new Error(`Invalid param ${String(L)}=${Z} (${typeof Z}), expected ${x}`)};for(const[L,x]of Object.entries(f))I(L,x,!1);for(const[L,x]of Object.entries(w))I(L,x,!0);return h}},86295:($e,j,E)=>{"use strict";E.d(j,{ev:()=>I,OA:()=>ee,GU:()=>Z,TU:()=>v});var g=E(25431),_=E(62953),B=E(35765),H=E(91006),b=E(7184);const k=BigInt(0),S=BigInt(1),P=BigInt(2),R=BigInt(8),O={zip215:!0};function V(G){const fe=function A(G){const fe=(0,b.h)(G);return H.Q5(G,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...fe})}(G),{Fp:Se,n:Ae,prehash:rt,hash:Ht,randomBytes:vt,nByteLength:Ot,h:qt}=fe,mn=P<<BigInt(8*Ot)-S,ln=Se.create,rr=fe.uvRatio||((Bn,Fn)=>{try{return{isValid:!0,value:Se.sqrt(Bn*Se.inv(Fn))}}catch{return{isValid:!1,value:k}}}),Tn=fe.adjustScalarBytes||(Bn=>Bn),rn=fe.domain||((Bn,Fn,qe)=>{if(Fn.length||qe)throw new Error("Contexts/pre-hash are not supported");return Bn}),Xt=Bn=>"bigint"==typeof Bn&&k<Bn,dt=(Bn,Fn)=>Xt(Bn)&&Xt(Fn)&&Bn<Fn,it=Bn=>Bn===k||dt(Bn,mn);function Wt(Bn,Fn){if(dt(Bn,Fn))return Bn;throw new Error(`Expected valid scalar < ${Fn}, got ${typeof Bn} ${Bn}`)}function Gt(Bn){return Bn===k?Bn:Wt(Bn,Ae)}const nn=new Map;function Xn(Bn){if(!(Bn instanceof ot))throw new Error("ExtendedPoint expected")}class ot{constructor(Fn,qe,Oe,Je){if(this.ex=Fn,this.ey=qe,this.ez=Oe,this.et=Je,!it(Fn))throw new Error("x required");if(!it(qe))throw new Error("y required");if(!it(Oe))throw new Error("z required");if(!it(Je))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Fn){if(Fn instanceof ot)throw new Error("extended point not allowed");const{x:qe,y:Oe}=Fn||{};if(!it(qe)||!it(Oe))throw new Error("invalid affine point");return new ot(qe,Oe,S,ln(qe*Oe))}static normalizeZ(Fn){const qe=Se.invertBatch(Fn.map(Oe=>Oe.ez));return Fn.map((Oe,Je)=>Oe.toAffine(qe[Je])).map(ot.fromAffine)}_setWindowSize(Fn){this._WINDOW_SIZE=Fn,nn.delete(this)}assertValidity(){const{a:Fn,d:qe}=fe;if(this.is0())throw new Error("bad point: ZERO");const{ex:Oe,ey:Je,ez:Kt,et:pn}=this,jn=ln(Oe*Oe),zn=ln(Je*Je),or=ln(Kt*Kt),yr=ln(or*or),Rr=ln(jn*Fn);if(ln(or*ln(Rr+zn))!==ln(yr+ln(qe*ln(jn*zn))))throw new Error("bad point: equation left != right (1)");if(ln(Oe*Je)!==ln(Kt*pn))throw new Error("bad point: equation left != right (2)")}equals(Fn){Xn(Fn);const{ex:qe,ey:Oe,ez:Je}=this,{ex:Kt,ey:pn,ez:jn}=Fn,zn=ln(qe*jn),or=ln(Kt*Je),yr=ln(Oe*jn),Rr=ln(pn*Je);return zn===or&&yr===Rr}is0(){return this.equals(ot.ZERO)}negate(){return new ot(ln(-this.ex),this.ey,this.ez,ln(-this.et))}double(){const{a:Fn}=fe,{ex:qe,ey:Oe,ez:Je}=this,Kt=ln(qe*qe),pn=ln(Oe*Oe),jn=ln(P*ln(Je*Je)),zn=ln(Fn*Kt),or=qe+Oe,yr=ln(ln(or*or)-Kt-pn),Rr=zn+pn,Ir=Rr-jn,Lr=zn-pn,fr=ln(yr*Ir),en=ln(Rr*Lr),bn=ln(yr*Lr),Ft=ln(Ir*Rr);return new ot(fr,en,Ft,bn)}add(Fn){Xn(Fn);const{a:qe,d:Oe}=fe,{ex:Je,ey:Kt,ez:pn,et:jn}=this,{ex:zn,ey:or,ez:yr,et:Rr}=Fn;if(qe===BigInt(-1)){const oi=ln((Kt-Je)*(or+zn)),_i=ln((Kt+Je)*(or-zn)),Oi=ln(_i-oi);if(Oi===k)return this.double();const Fr=ln(pn*P*Rr),ci=ln(jn*P*yr),_o=ci+Fr,Ii=_i+oi,tn=ci-Fr,dn=ln(_o*Oi),It=ln(Ii*tn),wt=ln(_o*tn),sn=ln(Oi*Ii);return new ot(dn,It,sn,wt)}const Ir=ln(Je*zn),Lr=ln(Kt*or),fr=ln(jn*Oe*Rr),en=ln(pn*yr),bn=ln((Je+Kt)*(zn+or)-Ir-Lr),Ft=en-fr,_n=en+fr,Ut=ln(Lr-qe*Ir),gn=ln(bn*Ft),Sn=ln(_n*Ut),ur=ln(bn*Ut),ar=ln(Ft*_n);return new ot(gn,Sn,ar,ur)}subtract(Fn){return this.add(Fn.negate())}wNAF(Fn){return Ke.wNAFCached(this,nn,Fn,ot.normalizeZ)}multiply(Fn){const{p:qe,f:Oe}=this.wNAF(Wt(Fn,Ae));return ot.normalizeZ([qe,Oe])[0]}multiplyUnsafe(Fn){let qe=Gt(Fn);return qe===k?ut:this.equals(ut)||qe===S?this:this.equals(ft)?this.wNAF(qe).p:Ke.unsafeLadder(this,qe)}isSmallOrder(){return this.multiplyUnsafe(qt).is0()}isTorsionFree(){return Ke.unsafeLadder(this,Ae).is0()}toAffine(Fn){const{ex:qe,ey:Oe,ez:Je}=this,Kt=this.is0();null==Fn&&(Fn=Kt?R:Se.inv(Je));const pn=ln(qe*Fn),jn=ln(Oe*Fn),zn=ln(Je*Fn);if(Kt)return{x:k,y:S};if(zn!==S)throw new Error("invZ was invalid");return{x:pn,y:jn}}clearCofactor(){const{h:Fn}=fe;return Fn===S?this:this.multiplyUnsafe(Fn)}static fromHex(Fn,qe=!1){const{d:Oe,a:Je}=fe,Kt=Se.BYTES,pn=(Fn=(0,H.qj)("pointHex",Fn,Kt)).slice(),jn=Fn[Kt-1];pn[Kt-1]=-129&jn;const zn=H.lX(pn);zn===k||Wt(zn,qe?mn:Se.ORDER);const or=ln(zn*zn),yr=ln(or-S),Rr=ln(Oe*or-Je);let{isValid:Ir,value:Lr}=rr(yr,Rr);if(!Ir)throw new Error("Point.fromHex: invalid y coordinate");const fr=(Lr&S)===S,en=!!(128&jn);if(!qe&&Lr===k&&en)throw new Error("Point.fromHex: x=0 and x_0=1");return en!==fr&&(Lr=ln(-Lr)),ot.fromAffine({x:Lr,y:zn})}static fromPrivateKey(Fn){return At(Fn).point}toRawBytes(){const{x:Fn,y:qe}=this.toAffine(),Oe=H.z(qe,Se.BYTES);return Oe[Oe.length-1]|=Fn&S?128:0,Oe}toHex(){return H.My(this.toRawBytes())}}ot.BASE=new ot(fe.Gx,fe.Gy,S,ln(fe.Gx*fe.Gy)),ot.ZERO=new ot(k,S,S,k);const{BASE:ft,ZERO:ut}=ot,Ke=(0,b.A)(ot,8*Ot);function We(Bn){return(0,B.zi)(Bn,Ae)}function Bt(Bn){return We(H.lX(Bn))}function At(Bn){const Fn=Ot;Bn=(0,H.qj)("private key",Bn,Fn);const qe=(0,H.qj)("hashed private key",Ht(Bn),2*Fn),Oe=Tn(qe.slice(0,Fn)),Je=qe.slice(Fn,2*Fn),Kt=Bt(Oe),pn=ft.multiply(Kt),jn=pn.toRawBytes();return{head:Oe,prefix:Je,scalar:Kt,point:pn,pointBytes:jn}}function Un(Bn=new Uint8Array,...Fn){const qe=H.Id(...Fn);return Bt(Ht(rn(qe,(0,H.qj)("context",Bn),!!rt)))}const vn=O;return ft._setWindowSize(8),{CURVE:fe,getPublicKey:function fn(Bn){return At(Bn).pointBytes},sign:function wn(Bn,Fn,qe={}){Bn=(0,H.qj)("message",Bn),rt&&(Bn=rt(Bn));const{prefix:Oe,scalar:Je,pointBytes:Kt}=At(Fn),pn=Un(qe.context,Oe,Bn),jn=ft.multiply(pn).toRawBytes(),or=We(pn+Un(qe.context,jn,Kt,Bn)*Je);Gt(or);const yr=H.Id(jn,H.z(or,Se.BYTES));return(0,H.qj)("result",yr,2*Ot)},verify:function pr(Bn,Fn,qe,Oe=vn){const{context:Je,zip215:Kt}=Oe,pn=Se.BYTES;Bn=(0,H.qj)("signature",Bn,2*pn),Fn=(0,H.qj)("message",Fn),rt&&(Fn=rt(Fn));const jn=H.lX(Bn.slice(pn,2*pn));let zn,or,yr;try{zn=ot.fromHex(qe,Kt),or=ot.fromHex(Bn.slice(0,pn),Kt),yr=ft.multiplyUnsafe(jn)}catch{return!1}if(!Kt&&zn.isSmallOrder())return!1;const Rr=Un(Je,or.toRawBytes(),zn.toRawBytes(),Fn);return or.add(zn.multiplyUnsafe(Rr)).subtract(yr).clearCofactor().equals(ot.ZERO)},ExtendedPoint:ot,utils:{getExtendedPublicKey:At,randomPrivateKey:()=>vt(Se.BYTES),precompute:(Bn=8,Fn=ot.BASE)=>(Fn._setWindowSize(Bn),Fn.multiply(BigInt(3)),Fn)}}}const U=BigInt(0),K=BigInt(1),Y=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),W=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ie=(BigInt(0),BigInt(1)),ae=BigInt(2),ue=BigInt(5),ce=BigInt(10),pe=BigInt(20),ve=BigInt(40),De=BigInt(80);function C(G){const fe=Y,Ae=G*G%fe*G%fe,rt=(0,B.zH)(Ae,ae,fe)*Ae%fe,Ht=(0,B.zH)(rt,ie,fe)*G%fe,vt=(0,B.zH)(Ht,ue,fe)*Ht%fe,Ot=(0,B.zH)(vt,ce,fe)*vt%fe,qt=(0,B.zH)(Ot,pe,fe)*Ot%fe,mn=(0,B.zH)(qt,ve,fe)*qt%fe,ln=(0,B.zH)(mn,De,fe)*mn%fe,rr=(0,B.zH)(ln,De,fe)*mn%fe,Tn=(0,B.zH)(rr,ce,fe)*vt%fe;return{pow_p_5_8:(0,B.zH)(Tn,ae,fe)*G%fe,b2:Ae}}function s(G){return G[0]&=248,G[31]&=127,G[31]|=64,G}const f=(0,B.D0)(Y,void 0,!0),w={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:f,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:g.Zf,randomBytes:_.po,adjustScalarBytes:s,uvRatio:function d(G,fe){const Se=Y,Ae=(0,B.zi)(fe*fe*fe,Se),Ht=C(G*(0,B.zi)(Ae*Ae*fe,Se)).pow_p_5_8;let vt=(0,B.zi)(G*Ae*Ht,Se);const Ot=(0,B.zi)(fe*vt*vt,Se),qt=vt,mn=(0,B.zi)(vt*W,Se),ln=Ot===G,rr=Ot===(0,B.zi)(-G,Se),Tn=Ot===(0,B.zi)(-G*W,Se);return ln&&(vt=qt),(rr||Tn)&&(vt=mn),(0,B.dQ)(vt,Se)&&(vt=(0,B.zi)(-vt,Se)),{isValid:ln||rr,value:vt}}},I=V(w);const v=function q(G){const fe=function Q(G){return(0,H.Q5)(G,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...G})}(G),{P:Se}=fe,Ae=nn=>(0,B.zi)(nn,Se),rt=fe.montgomeryBits,Ht=Math.ceil(rt/8),vt=fe.nByteLength,Ot=fe.adjustScalarBytes||(nn=>nn),qt=fe.powPminus2||(nn=>(0,B.n7)(nn,Se-BigInt(2),Se));function mn(nn,Xn,ot){const ft=Ae(nn*(Xn-ot));return[Xn=Ae(Xn-ft),ot=Ae(ot+ft)]}function ln(nn){if("bigint"==typeof nn&&U<=nn&&nn<Se)return nn;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const rr=(fe.a-BigInt(2))/BigInt(4);function rn(nn){return(0,H.z)(Ae(nn),Ht)}function it(nn,Xn){const ot=function Xt(nn){const Xn=(0,H.qj)("u coordinate",nn,Ht);return 32===vt&&(Xn[31]&=127),(0,H.lX)(Xn)}(Xn),ft=function dt(nn){const Xn=(0,H.qj)("scalar",nn),ot=Xn.length;if(ot!==Ht&&ot!==vt)throw new Error(`Expected ${Ht} or ${vt} bytes, got ${ot}`);return(0,H.lX)(Ot(Xn))}(nn),ut=function Tn(nn,Xn){const ot=ln(nn),ft=ln(Xn),ut=ot;let Un,Ke=K,We=U,Bt=ot,At=K,fn=U;for(let vn=BigInt(rt-1);vn>=U;vn--){const pr=ft>>vn&K;fn^=pr,Un=mn(fn,Ke,Bt),Ke=Un[0],Bt=Un[1],Un=mn(fn,We,At),We=Un[0],At=Un[1],fn=pr;const nr=Ke+We,Bn=Ae(nr*nr),Fn=Ke-We,qe=Ae(Fn*Fn),Oe=Bn-qe,Je=Bt+At,pn=Ae((Bt-At)*nr),jn=Ae(Je*Fn),zn=pn+jn,or=pn-jn;Bt=Ae(zn*zn),At=Ae(ut*Ae(or*or)),Ke=Ae(Bn*qe),We=Ae(Oe*(Bn+Ae(rr*Oe)))}Un=mn(fn,Ke,Bt),Ke=Un[0],Bt=Un[1],Un=mn(fn,We,At),We=Un[0],At=Un[1];const wn=qt(We);return Ae(Ke*wn)}(ot,ft);if(ut===U)throw new Error("Invalid private or public key received");return rn(ut)}const Wt=rn(fe.Gu);function Gt(nn){return it(nn,Wt)}return{scalarMult:it,scalarMultBase:Gt,getSharedSecret:(nn,Xn)=>it(nn,Xn),getPublicKey:nn=>Gt(nn),utils:{randomPrivateKey:()=>fe.randomBytes(fe.nByteLength)},GuBytes:Wt}}({P:Y,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:G=>{const fe=Y,{pow_p_5_8:Se,b2:Ae}=C(G);return(0,B.zi)((0,B.zH)(Se,BigInt(3),fe)*Ae,fe)},adjustScalarBytes:s,randomBytes:_.po});function Z(G){const{y:fe}=I.ExtendedPoint.fromHex(G),Se=BigInt(1);return f.toBytes(f.create((Se+fe)*f.inv(Se-fe)))}function ee(G){const fe=w.hash(G.subarray(0,32));return w.adjustScalarBytes(fe).subarray(0,32)}const le=(f.ORDER+BigInt(3))/BigInt(8);f.pow(ae,le),f.sqrt(f.neg(f.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,B.Tv)(f,f.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:($e,j,E)=>{"use strict";E.d(j,{Ag:()=>P,s9:()=>S});var g=E(2716),_=E(47565);const H=(0,E(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),b=H.create(BigInt("-3")),k=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),S=(0,g.s)({a:b,b:k,Fp:H,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},_.s),P=S},63741:($e,j,E)=>{"use strict";E.d(j,{Rn:()=>a,Wp:()=>Ue,kv:()=>Me,wJ:()=>ee});var g=E(10467);const _=2n**255n-19n,B=2n**252n+27742317777372353535851937790883648493n,H=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,b=0x6666666666666666666666666666666666666666666666666666666666666658n,k={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:_,n:B,h:8,Gx:H,Gy:b},S=(he="")=>{throw new Error(he)},P=he=>"string"==typeof he,R=(he,ne)=>!(he instanceof Uint8Array)||"number"==typeof ne&&ne>0&&he.length!==ne?S("Uint8Array expected"):he,O=he=>new Uint8Array(he),A=(he,ne)=>R(P(he)?ie(he):O(he),ne),V=(he,ne=_)=>{let te=he%ne;return te>=0n?te:ne+te},U=he=>he instanceof Q?he:S("Point expected");let K;class Q{constructor(ne,te,de,_e){this.ex=ne,this.ey=te,this.ez=de,this.et=_e}static fromAffine(ne){return new Q(ne.x,ne.y,1n,V(ne.x*ne.y))}static fromHex(ne,te=!0){const{d:de}=k,_e=(ne=A(ne,32)).slice();_e[31]=-129&ne[31];const Ie=ue(_e);0n===Ie||(te&&!(0n<Ie&&Ie<_)&&S("bad y coord 1"),!te&&!(0n<Ie&&Ie<2n**256n)&&S("bad y coord 2"));const He=V(Ie*Ie),Ve=V(He-1n),xt=V(de*He+1n);let{isValid:Ne,value:ke}=s(Ve,xt);return Ne||S("bad y coordinate 3"),!!(128&ne[31])!=(1n===(1n&ke))&&(ke=V(-ke)),new Q(ke,Ie,1n,V(ke*Ie))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(ne){const{ex:te,ey:de,ez:_e}=this,{ex:Ie,ey:He,ez:Ve}=U(ne),xt=V(te*Ve),Ne=V(Ie*_e),ke=V(de*Ve),pt=V(He*_e);return xt===Ne&&ke===pt}is0(){return this.equals(Y)}negate(){return new Q(V(-this.ex),this.ey,this.ez,V(-this.et))}double(){const{ex:ne,ey:te,ez:de}=this,{a:_e}=k,Ie=V(ne*ne),He=V(te*te),Ve=V(2n*V(de*de)),xt=V(_e*Ie),Ne=ne+te,ke=V(V(Ne*Ne)-Ie-He),pt=xt+He,F=pt-Ve,D=xt-He,M=V(ke*F),G=V(pt*D),fe=V(ke*D),Se=V(F*pt);return new Q(M,G,Se,fe)}add(ne){const{ex:te,ey:de,ez:_e,et:Ie}=this,{ex:He,ey:Ve,ez:xt,et:Ne}=U(ne),{a:ke,d:pt}=k,F=V(te*He),D=V(de*Ve),M=V(Ie*pt*Ne),G=V(_e*xt),fe=V((te+de)*(He+Ve)-F-D),Se=V(G-M),Ae=V(G+M),rt=V(D-ke*F),Ht=V(fe*Se),vt=V(Ae*rt),Ot=V(fe*rt),qt=V(Se*Ae);return new Q(Ht,vt,qt,Ot)}mul(ne,te=!0){if(0n===ne)return!0===te?S("cannot multiply by 0"):Y;if("bigint"==typeof ne&&0n<ne&&ne<B||S("invalid scalar, must be < L"),!te&&this.is0()||1n===ne)return this;if(this.equals(q))return be(ne).p;let de=Y,_e=q;for(let Ie=this;ne>0n;Ie=Ie.double(),ne>>=1n)1n&ne?de=de.add(Ie):te&&(_e=_e.add(Ie));return de}multiply(ne){return this.mul(ne)}clearCofactor(){return this.mul(BigInt(k.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let ne=this.mul(B/2n,!1).double();return ne=ne.add(this),ne.is0()}toAffine(){const{ex:ne,ey:te,ez:de}=this;if(this.is0())return{x:0n,y:0n};const _e=pe(de);return 1n!==V(de*_e)&&S("invalid inverse"),{x:V(ne*_e),y:V(te*_e)}}toRawBytes(){const{x:ne,y:te}=this.toAffine(),de=ae(te);return de[31]|=1n&ne?128:0,de}toHex(){return re(this.toRawBytes())}}Q.BASE=new Q(H,b,1n,V(H*b)),Q.ZERO=new Q(0n,1n,1n,0n);const{BASE:q,ZERO:Y}=Q,W=(he,ne)=>he.toString(16).padStart(ne,"0"),re=he=>Array.from(he).map(ne=>W(ne,2)).join(""),ie=he=>{const ne=he.length;(!P(he)||ne%2)&&S("hex invalid 1");const te=O(ne/2);for(let de=0;de<te.length;de++){const _e=2*de,Ie=he.slice(_e,_e+2),He=Number.parseInt(Ie,16);(Number.isNaN(He)||He<0)&&S("hex invalid 2"),te[de]=He}return te},ae=he=>ie(W(he,64)).reverse(),ue=he=>BigInt("0x"+re(O(R(he)).reverse())),ce=(...he)=>{const ne=O(he.reduce((de,_e)=>de+R(_e).length,0));let te=0;return he.forEach(de=>{ne.set(de,te),te+=de.length}),ne},pe=(he,ne=_)=>{(0n===he||ne<=0n)&&S("no inverse n="+he+" mod="+ne);let te=V(he,ne),de=ne,_e=0n,Ie=1n,He=1n,Ve=0n;for(;0n!==te;){const xt=de/te,Ne=de%te,ke=_e-He*xt,pt=Ie-Ve*xt;de=te,te=Ne,_e=He,Ie=Ve,He=ke,Ve=pt}return 1n===de?V(_e,ne):S("no inverse")},ve=(he,ne)=>{let te=he;for(;ne-- >0n;)te*=te,te%=_;return te},C=19681161376707505956807079304988542015446066515923890162744021073123829784752n,s=(he,ne)=>{const te=V(ne*ne*ne),_e=(he=>{const te=he*he%_*he%_,de=ve(te,2n)*te%_,_e=ve(de,1n)*he%_,Ie=ve(_e,5n)*_e%_,He=ve(Ie,10n)*Ie%_,Ve=ve(He,20n)*He%_,xt=ve(Ve,40n)*Ve%_,Ne=ve(xt,80n)*xt%_,ke=ve(Ne,80n)*xt%_,pt=ve(ke,10n)*Ie%_;return{pow_p_5_8:ve(pt,2n)*he%_,b2:te}})(he*V(te*te*ne)).pow_p_5_8;let Ie=V(he*te*_e);const He=V(ne*Ie*Ie),Ve=Ie,xt=V(Ie*C),Ne=He===he,ke=He===V(-he),pt=He===V(-he*C);return Ne&&(Ie=Ve),(ke||pt)&&(Ie=xt),1n===(1n&V(Ie))&&(Ie=V(-Ie)),{isValid:Ne||ke,value:Ie}},d=he=>V(ue(he),B);let h;const f=(...he)=>me.sha512Async(...he),w=(...he)=>"function"==typeof h?h(...he):S("etc.sha512Sync not set"),I=he=>{const ne=he.slice(0,32);ne[0]&=248,ne[31]&=127,ne[31]|=64;const te=he.slice(32,64),de=d(ne),_e=q.mul(de),Ie=_e.toRawBytes();return{head:ne,prefix:te,scalar:de,point:_e,pointBytes:Ie}},L=he=>f(A(he,32)).then(I),a=he=>L(he).then(ne=>ne.pointBytes);function Z(he,ne){return he?f(ne.hashable).then(ne.finish):ne.finish(w(ne.hashable))}const ee=function(){var he=(0,g.A)(function*(ne,te){const de=A(ne),_e=yield L(te);return Z(!0,((he,ne,te)=>{const{pointBytes:de,scalar:_e}=he,Ie=d(ne),He=q.mul(Ie).toRawBytes();return{hashable:ce(He,de,te),finish:Ne=>{const ke=V(Ie+d(Ne)*_e,B);return R(ce(He,ae(ke)),64)}}})(_e,yield f(_e.prefix,de),de))});return function(te,de){return he.apply(this,arguments)}}(),Me=function(){var he=(0,g.A)(function*(ne,te,de){return Z(!0,((he,ne,te)=>{ne=A(ne),he=A(he,64);const de=Q.fromHex(te,!1),_e=Q.fromHex(he.slice(0,32),!1),Ie=ue(he.slice(32,64)),He=q.mul(Ie,!1);return{hashable:ce(_e.toRawBytes(),de.toRawBytes(),ne),finish:Ne=>{const ke=d(Ne);return _e.add(de.mul(ke,!1)).add(He.negate()).clearCofactor().is0()}}})(ne,te,de))});return function(te,de,_e){return he.apply(this,arguments)}}(),ge=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,me={bytesToHex:re,hexToBytes:ie,concatBytes:ce,mod:V,invert:pe,randomBytes:he=>{const ne=ge();return ne||S("crypto.getRandomValues must be defined"),ne.getRandomValues(O(he))},sha512Async:(he=(0,g.A)(function*(...ne){const te=ge();te||S("crypto.subtle or etc.sha512Async must be defined");const de=ce(...ne);return O(yield te.subtle.digest("SHA-512",de.buffer))}),function(){return he.apply(this,arguments)}),sha512Sync:void 0};var he;Object.defineProperties(me,{sha512Sync:{configurable:!1,get:()=>h,set(he){h||(h=he)}}});const Ue={getExtendedPublicKeyAsync:L,getExtendedPublicKey:he=>I(w(A(he,32))),randomPrivateKey:()=>me.randomBytes(32),precompute:(he=8,ne=q)=>(ne.multiply(3n),ne)},be=he=>{const ne=K||(K=(()=>{const he=[];let te=q,de=te;for(let _e=0;_e<33;_e++){de=te,he.push(de);for(let Ie=1;Ie<128;Ie++)de=de.add(te),he.push(de);te=de.double()}return he})()),te=(ke,pt)=>{let F=pt.negate();return ke?F:pt};let de=Y,_e=q;const Ve=BigInt(255),Ne=BigInt(8);for(let ke=0;ke<33;ke++){const pt=128*ke;let F=Number(he&Ve);he>>=Ne,F>128&&(F-=256,he+=1n);const D=pt,M=pt+Math.abs(F)-1,fe=F<0;0===F?_e=_e.add(te(ke%2!=0,ne[D])):de=de.add(te(fe,ne[M]))}return{p:de,f:_e}}},37099:($e,j,E)=>{"use strict";function g(O){if(!Number.isSafeInteger(O)||O<0)throw new Error(`Wrong positive integer: ${O}`)}function H(O,...A){if(!function B(O){return O instanceof Uint8Array||null!=O&&"object"==typeof O&&"Uint8Array"===O.constructor.name}(O))throw new Error("Expected Uint8Array");if(A.length>0&&!A.includes(O.length))throw new Error(`Expected Uint8Array of length ${A}, not of length=${O.length}`)}function b(O){if("function"!=typeof O||"function"!=typeof O.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");g(O.outputLen),g(O.blockLen)}function k(O,A=!0){if(O.destroyed)throw new Error("Hash instance has been destroyed");if(A&&O.finished)throw new Error("Hash#digest() has already been called")}function S(O,A){H(O);const V=A.outputLen;if(O.length<V)throw new Error(`digestInto() expects output buffer of length at least ${V}`)}E.d(j,{CG:()=>S,ai:()=>g,ee:()=>H,t2:()=>k,tW:()=>b})},36405:($e,j,E)=>{"use strict";E.d(j,{D:()=>H});var g=E(37099),_=E(62953);class H extends _.Vw{constructor(k,S,P,R){super(),this.blockLen=k,this.outputLen=S,this.padOffset=P,this.isLE=R,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(k),this.view=(0,_.O8)(this.buffer)}update(k){(0,g.t2)(this);const{view:S,buffer:P,blockLen:R}=this,O=(k=(0,_.ZJ)(k)).length;for(let A=0;A<O;){const V=Math.min(R-this.pos,O-A);if(V!==R)P.set(k.subarray(A,A+V),this.pos),this.pos+=V,A+=V,this.pos===R&&(this.process(S,0),this.pos=0);else{const U=(0,_.O8)(k);for(;R<=O-A;A+=R)this.process(U,A)}}return this.length+=k.length,this.roundClean(),this}digestInto(k){(0,g.t2)(this),(0,g.CG)(k,this),this.finished=!0;const{buffer:S,view:P,blockLen:R,isLE:O}=this;let{pos:A}=this;S[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>R-A&&(this.process(P,0),A=0);for(let q=A;q<R;q++)S[q]=0;(function B(b,k,S,P){if("function"==typeof b.setBigUint64)return b.setBigUint64(k,S,P);const R=BigInt(32),O=BigInt(4294967295),A=Number(S>>R&O),V=Number(S&O),K=P?0:4;b.setUint32(k+(P?4:0),A,P),b.setUint32(k+K,V,P)})(P,R-8,BigInt(8*this.length),O),this.process(P,0);const V=(0,_.O8)(k),U=this.outputLen;if(U%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const K=U/4,Q=this.get();if(K>Q.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<K;q++)V.setUint32(4*q,Q[q],O)}digest(){const{buffer:k,outputLen:S}=this;this.digestInto(k);const P=k.slice(0,S);return this.destroy(),P}_cloneInto(k){k||(k=new this.constructor),k.set(...this.get());const{blockLen:S,buffer:P,length:R,finished:O,destroyed:A,pos:V}=this;return k.length=R,k.pos=V,k.finished=O,k.destroyed=A,R%S&&k.buffer.set(P),k}}},86703:($e,j,E)=>{"use strict";E.d(j,{E:()=>g});const g="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:($e,j,E)=>{"use strict";E.d(j,{w:()=>H});var g=E(37099),_=E(62953);class B extends _.Vw{constructor(k,S){super(),this.finished=!1,this.destroyed=!1,(0,g.tW)(k);const P=(0,_.ZJ)(S);if(this.iHash=k.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const R=this.blockLen,O=new Uint8Array(R);O.set(P.length>R?k.create().update(P).digest():P);for(let A=0;A<O.length;A++)O[A]^=54;this.iHash.update(O),this.oHash=k.create();for(let A=0;A<O.length;A++)O[A]^=106;this.oHash.update(O),O.fill(0)}update(k){return(0,g.t2)(this),this.iHash.update(k),this}digestInto(k){(0,g.t2)(this),(0,g.ee)(k,this.outputLen),this.finished=!0,this.iHash.digestInto(k),this.oHash.update(k),this.oHash.digestInto(k),this.destroy()}digest(){const k=new Uint8Array(this.oHash.outputLen);return this.digestInto(k),k}_cloneInto(k){k||(k=Object.create(Object.getPrototypeOf(this),{}));const{oHash:S,iHash:P,finished:R,destroyed:O,blockLen:A,outputLen:V}=this;return k.finished=R,k.destroyed=O,k.blockLen=A,k.outputLen=V,k.oHash=S._cloneInto(k.oHash),k.iHash=P._cloneInto(k.iHash),k}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const H=(b,k,S)=>new B(b,k).update(S).digest();H.create=(b,k)=>new B(b,k)},47565:($e,j,E)=>{"use strict";E.d(j,{s:()=>O});var g=E(36405),_=E(62953);const B=(V,U,K)=>V&U^~V&K,H=(V,U,K)=>V&U^V&K^U&K,b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),k=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),S=new Uint32Array(64);class P extends g.D{constructor(){super(64,32,8,!1),this.A=0|k[0],this.B=0|k[1],this.C=0|k[2],this.D=0|k[3],this.E=0|k[4],this.F=0|k[5],this.G=0|k[6],this.H=0|k[7]}get(){const{A:U,B:K,C:Q,D:q,E:Y,F:W,G:re,H:ie}=this;return[U,K,Q,q,Y,W,re,ie]}set(U,K,Q,q,Y,W,re,ie){this.A=0|U,this.B=0|K,this.C=0|Q,this.D=0|q,this.E=0|Y,this.F=0|W,this.G=0|re,this.H=0|ie}process(U,K){for(let ce=0;ce<16;ce++,K+=4)S[ce]=U.getUint32(K,!1);for(let ce=16;ce<64;ce++){const pe=S[ce-15],ve=S[ce-2],De=(0,_.Ow)(pe,7)^(0,_.Ow)(pe,18)^pe>>>3,C=(0,_.Ow)(ve,17)^(0,_.Ow)(ve,19)^ve>>>10;S[ce]=C+S[ce-7]+De+S[ce-16]|0}let{A:Q,B:q,C:Y,D:W,E:re,F:ie,G:ae,H:ue}=this;for(let ce=0;ce<64;ce++){const ve=ue+((0,_.Ow)(re,6)^(0,_.Ow)(re,11)^(0,_.Ow)(re,25))+B(re,ie,ae)+b[ce]+S[ce]|0,C=((0,_.Ow)(Q,2)^(0,_.Ow)(Q,13)^(0,_.Ow)(Q,22))+H(Q,q,Y)|0;ue=ae,ae=ie,ie=re,re=W+ve|0,W=Y,Y=q,q=Q,Q=ve+C|0}Q=Q+this.A|0,q=q+this.B|0,Y=Y+this.C|0,W=W+this.D|0,re=re+this.E|0,ie=ie+this.F|0,ae=ae+this.G|0,ue=ue+this.H|0,this.set(Q,q,Y,W,re,ie,ae,ue)}roundClean(){S.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const O=(0,_.ld)(()=>new P)},25431:($e,j,E)=>{"use strict";E.d(j,{Zf:()=>v});var g=E(36405);const _=BigInt(2**32-1),B=BigInt(32);function H(le,we=!1){return we?{h:Number(le&_),l:Number(le>>B&_)}:{h:0|Number(le>>B&_),l:0|Number(le&_)}}const C_split=function b(le,we=!1){let Me=new Uint32Array(le.length),Ge=new Uint32Array(le.length);for(let ge=0;ge<le.length;ge++){const{h:me,l:Ue}=H(le[ge],we);[Me[ge],Ge[ge]]=[me,Ue]}return[Me,Ge]},C_shrSH=(le,we,Me)=>le>>>Me,C_shrSL=(le,we,Me)=>le<<32-Me|we>>>Me,C_rotrSH=(le,we,Me)=>le>>>Me|we<<32-Me,C_rotrSL=(le,we,Me)=>le<<32-Me|we>>>Me,C_rotrBH=(le,we,Me)=>le<<64-Me|we>>>Me-32,C_rotrBL=(le,we,Me)=>le>>>Me-32|we<<64-Me,C_add=function re(le,we,Me,Ge){const ge=(we>>>0)+(Ge>>>0);return{h:le+Me+(ge/2**32|0)|0,l:0|ge}},C_add3L=(le,we,Me)=>(le>>>0)+(we>>>0)+(Me>>>0),C_add3H=(le,we,Me,Ge)=>we+Me+Ge+(le/2**32|0)|0,C_add4L=(le,we,Me,Ge)=>(le>>>0)+(we>>>0)+(Me>>>0)+(Ge>>>0),C_add4H=(le,we,Me,Ge,ge)=>we+Me+Ge+ge+(le/2**32|0)|0,C_add5H=(le,we,Me,Ge,ge,me)=>we+Me+Ge+ge+me+(le/2**32|0)|0,C_add5L=(le,we,Me,Ge,ge)=>(le>>>0)+(we>>>0)+(Me>>>0)+(Ge>>>0)+(ge>>>0);var s=E(62953);const[d,h]=C_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(le=>BigInt(le))),f=new Uint32Array(80),w=new Uint32Array(80);class I extends g.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:we,Al:Me,Bh:Ge,Bl:ge,Ch:me,Cl:Ue,Dh:xe,Dl:Ce,Eh:be,El:he,Fh:ne,Fl:te,Gh:de,Gl:_e,Hh:Ie,Hl:He}=this;return[we,Me,Ge,ge,me,Ue,xe,Ce,be,he,ne,te,de,_e,Ie,He]}set(we,Me,Ge,ge,me,Ue,xe,Ce,be,he,ne,te,de,_e,Ie,He){this.Ah=0|we,this.Al=0|Me,this.Bh=0|Ge,this.Bl=0|ge,this.Ch=0|me,this.Cl=0|Ue,this.Dh=0|xe,this.Dl=0|Ce,this.Eh=0|be,this.El=0|he,this.Fh=0|ne,this.Fl=0|te,this.Gh=0|de,this.Gl=0|_e,this.Hh=0|Ie,this.Hl=0|He}process(we,Me){for(let Ne=0;Ne<16;Ne++,Me+=4)f[Ne]=we.getUint32(Me),w[Ne]=we.getUint32(Me+=4);for(let Ne=16;Ne<80;Ne++){const ke=0|f[Ne-15],pt=0|w[Ne-15],F=C_rotrSH(ke,pt,1)^C_rotrSH(ke,pt,8)^C_shrSH(ke,pt,7),D=C_rotrSL(ke,pt,1)^C_rotrSL(ke,pt,8)^C_shrSL(ke,pt,7),M=0|f[Ne-2],G=0|w[Ne-2],fe=C_rotrSH(M,G,19)^C_rotrBH(M,G,61)^C_shrSH(M,G,6),Se=C_rotrSL(M,G,19)^C_rotrBL(M,G,61)^C_shrSL(M,G,6),Ae=C_add4L(D,Se,w[Ne-7],w[Ne-16]),rt=C_add4H(Ae,F,fe,f[Ne-7],f[Ne-16]);f[Ne]=0|rt,w[Ne]=0|Ae}let{Ah:Ge,Al:ge,Bh:me,Bl:Ue,Ch:xe,Cl:Ce,Dh:be,Dl:he,Eh:ne,El:te,Fh:de,Fl:_e,Gh:Ie,Gl:He,Hh:Ve,Hl:xt}=this;for(let Ne=0;Ne<80;Ne++){const ke=C_rotrSH(ne,te,14)^C_rotrSH(ne,te,18)^C_rotrBH(ne,te,41),pt=C_rotrSL(ne,te,14)^C_rotrSL(ne,te,18)^C_rotrBL(ne,te,41),F=ne&de^~ne&Ie,M=C_add5L(xt,pt,te&_e^~te&He,h[Ne],w[Ne]),G=C_add5H(M,Ve,ke,F,d[Ne],f[Ne]),fe=0|M,Se=C_rotrSH(Ge,ge,28)^C_rotrBH(Ge,ge,34)^C_rotrBH(Ge,ge,39),Ae=C_rotrSL(Ge,ge,28)^C_rotrBL(Ge,ge,34)^C_rotrBL(Ge,ge,39),rt=Ge&me^Ge&xe^me&xe,Ht=ge&Ue^ge&Ce^Ue&Ce;Ve=0|Ie,xt=0|He,Ie=0|de,He=0|_e,de=0|ne,_e=0|te,({h:ne,l:te}=C_add(0|be,0|he,0|G,0|fe)),be=0|xe,he=0|Ce,xe=0|me,Ce=0|Ue,me=0|Ge,Ue=0|ge;const vt=C_add3L(fe,Ae,Ht);Ge=C_add3H(vt,G,Se,rt),ge=0|vt}({h:Ge,l:ge}=C_add(0|this.Ah,0|this.Al,0|Ge,0|ge)),({h:me,l:Ue}=C_add(0|this.Bh,0|this.Bl,0|me,0|Ue)),({h:xe,l:Ce}=C_add(0|this.Ch,0|this.Cl,0|xe,0|Ce)),({h:be,l:he}=C_add(0|this.Dh,0|this.Dl,0|be,0|he)),({h:ne,l:te}=C_add(0|this.Eh,0|this.El,0|ne,0|te)),({h:de,l:_e}=C_add(0|this.Fh,0|this.Fl,0|de,0|_e)),({h:Ie,l:He}=C_add(0|this.Gh,0|this.Gl,0|Ie,0|He)),({h:Ve,l:xt}=C_add(0|this.Hh,0|this.Hl,0|Ve,0|xt)),this.set(Ge,ge,me,Ue,xe,Ce,be,he,ne,te,de,_e,Ie,He,Ve,xt)}roundClean(){f.fill(0),w.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const v=(0,s.ld)(()=>new I)},62953:($e,j,E)=>{"use strict";E.d(j,{$h:()=>Q,AI:()=>Y,Id:()=>re,My:()=>O,O8:()=>k,Ow:()=>S,Vw:()=>ie,ZJ:()=>W,aT:()=>U,ld:()=>ce,po:()=>De,tY:()=>ue});var g=E(10467),_=E(86703);function b(C){return C instanceof Uint8Array||null!=C&&"object"==typeof C&&"Uint8Array"===C.constructor.name}const k=C=>new DataView(C.buffer,C.byteOffset,C.byteLength),S=(C,s)=>C<<32-s|C>>>s;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const R=Array.from({length:256},(C,s)=>s.toString(16).padStart(2,"0"));function O(C){if(!b(C))throw new Error("Uint8Array expected");let s="";for(let d=0;d<C.length;d++)s+=R[C[d]];return s}const A={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function V(C){return C>=A._0&&C<=A._9?C-A._0:C>=A._A&&C<=A._F?C-(A._A-10):C>=A._a&&C<=A._f?C-(A._a-10):void 0}function U(C){if("string"!=typeof C)throw new Error("hex string expected, got "+typeof C);const s=C.length,d=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const h=new Uint8Array(d);for(let f=0,w=0;f<d;f++,w+=2){const I=V(C.charCodeAt(w)),L=V(C.charCodeAt(w+1));if(void 0===I||void 0===L)throw new Error('hex string expected, got non-hex character "'+(C[w]+C[w+1])+'" at index '+w);h[f]=16*I+L}return h}const K=function(){var C=(0,g.A)(function*(){});return function(){return C.apply(this,arguments)}}();function Q(C,s,d){return q.apply(this,arguments)}function q(){return(q=(0,g.A)(function*(C,s,d){let h=Date.now();for(let f=0;f<C;f++){d(f);const w=Date.now()-h;w>=0&&w<s||(yield K(),h+=w)}})).apply(this,arguments)}function Y(C){if("string"!=typeof C)throw new Error("utf8ToBytes expected string, got "+typeof C);return new Uint8Array((new TextEncoder).encode(C))}function W(C){if("string"==typeof C&&(C=Y(C)),!b(C))throw new Error("expected Uint8Array, got "+typeof C);return C}function re(...C){let s=0;for(let h=0;h<C.length;h++){const f=C[h];if(!b(f))throw new Error("Uint8Array expected");s+=f.length}const d=new Uint8Array(s);for(let h=0,f=0;h<C.length;h++){const w=C[h];d.set(w,f),f+=w.length}return d}class ie{clone(){return this._cloneInto()}}const ae={}.toString;function ue(C,s){if(void 0!==s&&"[object Object]"!==ae.call(s))throw new Error("Options should be object or undefined");return Object.assign(C,s)}function ce(C){const s=h=>C().update(W(h)).digest(),d=C();return s.outputLen=d.outputLen,s.blockLen=d.blockLen,s.create=()=>C(),s}function De(C=32){if(_.E&&"function"==typeof _.E.getRandomValues)return _.E.getRandomValues(new Uint8Array(C));throw new Error("crypto.getRandomValues must be defined")}},68464:($e,j,E)=>{"use strict";E.d(j,{CB:()=>ae,MX:()=>be,Wp:()=>de,jn:()=>te,lG:()=>a,wJ:()=>Ue});var g=E(10467);const _=2n**256n,B=_-0x1000003d1n,H=_-0x14551231950b75fc4402da1732fc9bebfn,b=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,k=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,S={p:B,n:H,a:0n,b:7n,Gx:b,Gy:k},P=32,R=Ve=>W(W(Ve*Ve)*Ve+S.b),O=(Ve="")=>{throw new Error(Ve)},A=Ve=>"bigint"==typeof Ve,V=Ve=>"string"==typeof Ve,U=Ve=>A(Ve)&&0n<Ve&&Ve<B,K=Ve=>A(Ve)&&0n<Ve&&Ve<H,Q=(Ve,xt)=>!(Ve instanceof Uint8Array)||"number"==typeof xt&&xt>0&&Ve.length!==xt?O("Uint8Array expected"):Ve,q=Ve=>new Uint8Array(Ve),Y=(Ve,xt)=>Q(V(Ve)?De(Ve):q(Ve),xt),W=(Ve,xt=B)=>{let Ne=Ve%xt;return Ne>=0n?Ne:xt+Ne},re=Ve=>Ve instanceof ae?Ve:O("Point expected");let ie;class ae{constructor(xt,Ne,ke){this.px=xt,this.py=Ne,this.pz=ke}static fromAffine(xt){return new ae(xt.x,xt.y,1n)}static fromHex(xt){let Ne;const ke=(xt=Y(xt))[0],pt=xt.subarray(1),F=s(pt,0,P),D=xt.length;if(33===D&&[2,3].includes(ke)){U(F)||O("Point hex invalid: x not FE");let M=I(R(F));!(1&~ke)!=(1n===(1n&M))&&(M=W(-M)),Ne=new ae(F,M,1n)}return 65===D&&4===ke&&(Ne=new ae(F,s(pt,P,2*P),1n)),Ne?Ne.ok():O("Point is not on curve")}static fromPrivateKey(xt){return ue.mul(L(xt))}get x(){return this.aff().x}get y(){return this.aff().y}equals(xt){const{px:Ne,py:ke,pz:pt}=this,{px:F,py:D,pz:M}=re(xt),G=W(Ne*M),fe=W(F*pt),Se=W(ke*M),Ae=W(D*pt);return G===fe&&Se===Ae}negate(){return new ae(this.px,W(-this.py),this.pz)}double(){return this.add(this)}add(xt){const{px:Ne,py:ke,pz:pt}=this,{px:F,py:D,pz:M}=re(xt),{a:G,b:fe}=S;let Se=0n,Ae=0n,rt=0n;const Ht=W(3n*fe);let vt=W(Ne*F),Ot=W(ke*D),qt=W(pt*M),mn=W(Ne+ke),ln=W(F+D);mn=W(mn*ln),ln=W(vt+Ot),mn=W(mn-ln),ln=W(Ne+pt);let rr=W(F+M);return ln=W(ln*rr),rr=W(vt+qt),ln=W(ln-rr),rr=W(ke+pt),Se=W(D+M),rr=W(rr*Se),Se=W(Ot+qt),rr=W(rr-Se),rt=W(G*ln),Se=W(Ht*qt),rt=W(Se+rt),Se=W(Ot-rt),rt=W(Ot+rt),Ae=W(Se*rt),Ot=W(vt+vt),Ot=W(Ot+vt),qt=W(G*qt),ln=W(Ht*ln),Ot=W(Ot+qt),qt=W(vt-qt),qt=W(G*qt),ln=W(ln+qt),vt=W(Ot*ln),Ae=W(Ae+vt),vt=W(rr*ln),Se=W(mn*Se),Se=W(Se-vt),vt=W(mn*Ot),rt=W(rr*rt),rt=W(rt+vt),new ae(Se,Ae,rt)}mul(xt,Ne=!0){if(!Ne&&0n===xt)return ce;if(K(xt)||O("invalid scalar"),this.equals(ue))return He(xt).p;let ke=ce,pt=ue;for(let F=this;xt>0n;F=F.double(),xt>>=1n)1n&xt?ke=ke.add(F):Ne&&(pt=pt.add(F));return ke}mulAddQUns(xt,Ne,ke){return this.mul(Ne,!1).add(xt.mul(ke,!1)).ok()}toAffine(){const{px:xt,py:Ne,pz:ke}=this;if(this.equals(ce))return{x:0n,y:0n};if(1n===ke)return{x:xt,y:Ne};const pt=w(ke);return 1n!==W(ke*pt)&&O("invalid inverse"),{x:W(xt*pt),y:W(Ne*pt)}}assertValidity(){const{x:xt,y:Ne}=this.aff();return(!U(xt)||!U(Ne))&&O("Point invalid: x or y"),W(Ne*Ne)===R(xt)?this:O("Point invalid: not on curve")}multiply(xt){return this.mul(xt)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(xt=!0){const{x:Ne,y:ke}=this.aff();return(xt?0n===(1n&ke)?"02":"03":"04")+h(Ne)+(xt?"":h(ke))}toRawBytes(xt=!0){return De(this.toHex(xt))}}ae.BASE=new ae(b,k,1n),ae.ZERO=new ae(0n,1n,0n);const{BASE:ue,ZERO:ce}=ae,pe=(Ve,xt)=>Ve.toString(16).padStart(xt,"0"),ve=Ve=>Array.from(Ve).map(xt=>pe(xt,2)).join(""),De=Ve=>{const xt=Ve.length;(!V(Ve)||xt%2)&&O("hex invalid 1");const Ne=q(xt/2);for(let ke=0;ke<Ne.length;ke++){const pt=2*ke,F=Ve.slice(pt,pt+2),D=Number.parseInt(F,16);(Number.isNaN(D)||D<0)&&O("hex invalid 2"),Ne[ke]=D}return Ne},C=Ve=>BigInt("0x"+(ve(Ve)||"0")),s=(Ve,xt,Ne)=>C(Ve.slice(xt,Ne)),d=Ve=>A(Ve)&&Ve>=0n&&Ve<_?De(pe(Ve,2*P)):O("bigint expected"),h=Ve=>ve(d(Ve)),f=(...Ve)=>{const xt=q(Ve.reduce((ke,pt)=>ke+Q(pt).length,0));let Ne=0;return Ve.forEach(ke=>{xt.set(ke,Ne),Ne+=ke.length}),xt},w=(Ve,xt=B)=>{(0n===Ve||xt<=0n)&&O("no inverse n="+Ve+" mod="+xt);let Ne=W(Ve,xt),ke=xt,pt=0n,F=1n,D=1n,M=0n;for(;0n!==Ne;){const G=ke/Ne,fe=ke%Ne,Se=pt-D*G,Ae=F-M*G;ke=Ne,Ne=fe,pt=D,F=M,D=Se,M=Ae}return 1n===ke?W(pt,xt):O("no inverse")},I=Ve=>{let xt=1n;for(let Ne=Ve,ke=(B+1n)/4n;ke>0n;ke>>=1n)1n&ke&&(xt=xt*Ne%B),Ne=Ne*Ne%B;return W(xt*xt)===Ve?xt:O("sqrt invalid")},L=Ve=>(A(Ve)||(Ve=C(Y(Ve,P))),K(Ve)?Ve:O("private key out of range")),x=Ve=>Ve>H>>1n;function a(Ve,xt=!0){return ae.fromPrivateKey(Ve).toRawBytes(xt)}class v{constructor(xt,Ne,ke){this.r=xt,this.s=Ne,this.recovery=ke,this.assertValidity()}static fromCompact(xt){return xt=Y(xt,64),new v(s(xt,0,P),s(xt,P,2*P))}assertValidity(){return K(this.r)&&K(this.s)?this:O()}addRecoveryBit(xt){return new v(this.r,this.s,xt)}hasHighS(){return x(this.s)}recoverPublicKey(xt){const{r:Ne,s:ke,recovery:pt}=this;[0,1,2,3].includes(pt)||O("recovery id invalid");const F=z(Y(xt,32)),D=2===pt||3===pt?Ne+H:Ne;D>=B&&O("q.x invalid");const G=ae.fromHex((1&pt?"03":"02")+h(D)),fe=w(D,H),Se=W(-F*fe,H),Ae=W(ke*fe,H);return ue.mulAddQUns(G,Se,Ae)}toCompactRawBytes(){return De(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const Z=Ve=>{const xt=8*Ve.length-256,Ne=C(Ve);return xt>0?Ne>>BigInt(xt):Ne},z=Ve=>W(Z(Ve),H),ee=Ve=>d(Ve),le=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let we;const Me={lowS:!0},Ge={lowS:!0};function Ue(Ve,xt){return xe.apply(this,arguments)}function xe(){return(xe=(0,g.A)(function*(Ve,xt,Ne=Me){const{seed:ke,k2sig:pt}=function ge(Ve,xt,Ne=Me){["der","recovered","canonical"].some(Ae=>Ae in Ne)&&O("sign() legacy options not supported");let{lowS:ke}=Ne;null==ke&&(ke=!0);const pt=z(Y(Ve)),F=ee(pt),D=L(xt),M=[ee(D),F];let G=Ne.extraEntropy;if(G){!0===G&&(G=te.randomBytes(P));const Ae=Y(G);Ae.length!==P&&O(),M.push(Ae)}const fe=pt;return{seed:f(...M),k2sig:Ae=>{const rt=Z(Ae);if(!K(rt))return;const Ht=w(rt,H),vt=ue.mul(rt).aff(),Ot=W(vt.x,H);if(0n===Ot)return;const qt=W(Ht*W(fe+W(D*Ot,H),H),H);if(0n===qt)return;let mn=qt,ln=(vt.x===Ot?0:2)|Number(1n&vt.y);return ke&&x(qt)&&(mn=W(-qt,H),ln^=1),new v(Ot,mn,ln)}}}(Ve,xt,Ne);return function me(Ve){let xt=q(P),Ne=q(P),ke=0;const pt=()=>{xt.fill(1),Ne.fill(0),ke=0},F="drbg: tried 1000 values";if(Ve){const D=(...fe)=>te.hmacSha256Async(Ne,xt,...fe),M=function(){var fe=(0,g.A)(function*(Se=q()){Ne=yield D(q([0]),Se),xt=yield D(),0!==Se.length&&(Ne=yield D(q([1]),Se),xt=yield D())});return function(){return fe.apply(this,arguments)}}(),G=function(){var fe=(0,g.A)(function*(){return ke++>=1e3&&O(F),xt=yield D(),xt});return function(){return fe.apply(this,arguments)}}();return function(){var fe=(0,g.A)(function*(Se,Ae){let rt;for(pt(),yield M(Se);!(rt=Ae(yield G()));)yield M();return pt(),rt});return function(Se,Ae){return fe.apply(this,arguments)}}()}{const D=(...fe)=>{const Se=we;return Se||O("etc.hmacSha256Sync not set"),Se(Ne,xt,...fe)},M=(fe=q())=>{Ne=D(q([0]),fe),xt=D(),0!==fe.length&&(Ne=D(q([1]),fe),xt=D())},G=()=>(ke++>=1e3&&O(F),xt=D(),xt);return(fe,Se)=>{let Ae;for(pt(),M(fe);!(Ae=Se(G()));)M();return pt(),Ae}}}(!0)(ke,pt)})).apply(this,arguments)}function be(Ve,xt,Ne,ke=Ge){let F,D,M,{lowS:pt}=ke;null==pt&&(pt=!0),"strict"in ke&&O("verify() legacy options not supported");const G=Ve&&"object"==typeof Ve&&"r"in Ve;!G&&Y(Ve).length!==2*P&&O("signature must be 64 bytes");try{F=G?new v(Ve.r,Ve.s).assertValidity():v.fromCompact(Ve),D=z(Y(xt,P)),M=Ne instanceof ae?Ne.ok():ae.fromHex(Ne)}catch{return!1}if(!F)return!1;const{r:fe,s:Se}=F;if(pt&&x(Se))return!1;let Ae;try{const Ht=w(Se,H),vt=W(D*Ht,H),Ot=W(fe*Ht,H);Ae=ue.mulAddQUns(M,vt,Ot).aff()}catch{return!1}return!!Ae&&W(Ae.x,H)===fe}function ne(Ve){((Ve=Y(Ve)).length<P+8||Ve.length>1024)&&O("expected proper params");const Ne=W(C(Ve),H-1n)+1n;return d(Ne)}const te={hexToBytes:De,bytesToHex:ve,concatBytes:f,bytesToNumberBE:C,numberToBytesBE:d,mod:W,invert:w,hmacSha256Async:(Ve=(0,g.A)(function*(xt,...Ne){const ke=le();if(!ke)return O("etc.hmacSha256Async not set");const pt=ke.subtle,F=yield pt.importKey("raw",xt,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return q(yield pt.sign("HMAC",F,f(...Ne)))}),function(Ne){return Ve.apply(this,arguments)}),hmacSha256Sync:we,hashToPrivateKey:ne,randomBytes:Ve=>{const xt=le();return xt||O("crypto.getRandomValues must be defined"),xt.getRandomValues(q(Ve))}},de={normPrivateKeyToScalar:L,isValidPrivateKey:Ve=>{try{return!!L(Ve)}catch{return!1}},randomPrivateKey:()=>ne(te.randomBytes(P+8)),precompute:(Ve=8,xt=ue)=>(xt.multiply(3n),xt)};var Ve;Object.defineProperties(te,{hmacSha256Sync:{configurable:!1,get:()=>we,set(Ve){we||(we=Ve)}}});const He=Ve=>{const xt=ie||(ie=(()=>{const Ve=[];let Ne=ue,ke=Ne;for(let pt=0;pt<33;pt++){ke=Ne,Ve.push(ke);for(let F=1;F<128;F++)ke=ke.add(Ne),Ve.push(ke);Ne=ke.double()}return Ve})()),Ne=(Se,Ae)=>{let rt=Ae.negate();return Se?rt:Ae};let ke=ce,pt=ue;const M=BigInt(255),fe=BigInt(8);for(let Se=0;Se<33;Se++){const Ae=128*Se;let rt=Number(Ve&M);Ve>>=fe,rt>128&&(rt-=256,Ve+=1n);const Ht=Ae,vt=Ae+Math.abs(rt)-1,qt=rt<0;0===rt?pt=pt.add(Ne(Se%2!=0,xt[Ht])):ke=ke.add(Ne(qt,xt[vt]))}return{p:ke,f:pt}}},34604:($e,j,E)=>{"use strict";E.d(j,{DP:()=>vg,Bq:()=>vO,rr:()=>MO,yc:()=>i4,rM:()=>g4,B2:()=>BA,QZ:()=>mO,dk:()=>n4,nx:()=>Is,cW:()=>XO,TX:()=>e4,eP:()=>Av,qB:()=>v4,oN:()=>f4,X7:()=>EO,dK:()=>wO});var g={};E.r(g),E.d(g,{base10:()=>Bt});var _={};E.r(_),E.d(_,{base16:()=>At,base16upper:()=>fn});var B={};E.r(B),E.d(B,{base2:()=>Un});var H={};E.r(H),E.d(H,{base256emoji:()=>Fn});var b={};E.r(b),E.d(b,{base32:()=>qe,base32hex:()=>pn,base32hexpad:()=>zn,base32hexpadupper:()=>or,base32hexupper:()=>jn,base32pad:()=>Je,base32padupper:()=>Kt,base32upper:()=>Oe,base32z:()=>yr});var k={};E.r(k),E.d(k,{base36:()=>Rr,base36upper:()=>Ir});var S={};E.r(S),E.d(S,{base58btc:()=>Lr,base58flickr:()=>fr});var P={};E.r(P),E.d(P,{base64:()=>en,base64pad:()=>bn,base64url:()=>Ft,base64urlpad:()=>_n});var R={};E.r(R),E.d(R,{base8:()=>Ut});var O={};E.r(O),E.d(O,{identity:()=>gn});var A={};E.r(A),E.d(A,{code:()=>oi,decode:()=>Oi,encode:()=>_i,name:()=>ar});var V={};E.r(V),E.d(V,{code:()=>ci,decode:()=>Ii,encode:()=>_o,name:()=>Fr});var U={};E.r(U),E.d(U,{identity:()=>Kr});var K={};E.r(K),E.d(K,{sha256:()=>wr,sha512:()=>ri});var Q={};E.r(Q),E.d(Q,{Authorization:()=>ki,AuthorizationDelegatedGrant:()=>aM,AuthorizationOwner:()=>Ov,Definitions:()=>cc,EventsFilter:()=>Nt,EventsGet:()=>mr,EventsQuery:()=>Ho,EventsSubscribe:()=>Us,GeneralJwk:()=>Pc,GeneralJws:()=>Pd,GenericSignaturePayload:()=>Qn,JwkVerificationMethod:()=>ti,MessagesGet:()=>$h,NumberRangeFilter:()=>Lv,PaginationCursor:()=>Kh,PermissionGrantData:()=>xg,PermissionRequestData:()=>f1,PermissionRevocationData:()=>qA,PermissionsDefinitions:()=>Fo,PermissionsScopes:()=>Sg,ProtocolDefinition:()=>Ml,ProtocolRuleSet:()=>dM,ProtocolsConfigure:()=>lM,ProtocolsQuery:()=>h1,PublicJwk:()=>Mn,RecordsDelete:()=>d1,RecordsFilter:()=>on,RecordsQuery:()=>jh,RecordsRead:()=>ze,RecordsSubscribe:()=>Eg,RecordsWrite:()=>nh,RecordsWriteDataEncoded:()=>Lt,RecordsWriteSignaturePayload:()=>Pi,RecordsWriteUnidentified:()=>ht,StringRangeFilter:()=>Od});var q={};E.r(q),E.d(q,{code:()=>tp,decode:()=>cb,encode:()=>ab,name:()=>sb});var Y={};E.r(Y),E.d(Y,{code:()=>Eb,createLink:()=>_b,createNode:()=>pS,decode:()=>qg,encode:()=>pf,name:()=>gS,prepare:()=>hf,validate:()=>e2});var W={};E.r(W),E.d(W,{base10:()=>DS});var re={};E.r(re),E.d(re,{base16:()=>Pb,base16upper:()=>IS});var ie={};E.r(ie),E.d(ie,{base2:()=>TS});var ae={};E.r(ae),E.d(ae,{base256emoji:()=>u2});var ue={};E.r(ue),E.d(ue,{base32:()=>Su,base32hex:()=>Nb,base32hexpad:()=>AS,base32hexpadupper:()=>CS,base32hexupper:()=>f2,base32pad:()=>rC,base32padupper:()=>Y8,base32upper:()=>nC,base32z:()=>kS});var ce={};E.r(ce),E.d(ce,{base36:()=>dp,base36upper:()=>iC});var pe={};E.r(pe),E.d(pe,{base58btc:()=>gf,base58flickr:()=>oC});var ve={};E.r(ve),E.d(ve,{base64:()=>sC,base64pad:()=>aC,base64url:()=>yf,base64urlpad:()=>Fm});var De={};E.r(De),E.d(De,{base8:()=>cC});var C={};E.r(C),E.d(C,{identity:()=>dC});var s={};E.r(s),E.d(s,{code:()=>hC,decode:()=>pC,encode:()=>PS,name:()=>fC});var d={};E.r(d),E.d(d,{code:()=>gC,decode:()=>Bb,encode:()=>yC,name:()=>mC});var h={};E.r(h),E.d(h,{identity:()=>TC});var f={};E.r(f),E.d(f,{sha256:()=>eP,sha512:()=>ay});var w={};E.r(w),E.d(w,{code:()=>up,decode:()=>Wb,encode:()=>hy,name:()=>XS});var I={};E.r(I),E.d(I,{base10:()=>_P});var L={};E.r(L),E.d(L,{base16:()=>EP,base16upper:()=>g6});var x={};E.r(x),E.d(x,{base2:()=>y6});var a={};E.r(a),E.d(a,{base256emoji:()=>E6});var v={};E.r(v),E.d(v,{base32:()=>vp,base32hex:()=>_D,base32hexpad:()=>ED,base32hexpadupper:()=>x6,base32hexupper:()=>_y,base32pad:()=>U2,base32padupper:()=>uw,base32upper:()=>wy,base32z:()=>Ey});var Z={};E.r(Z),E.d(Z,{base36:()=>xD,base36upper:()=>MD});var z={};E.r(z),E.d(z,{base58btc:()=>Tu,base58flickr:()=>SD});var ee={};E.r(ee),E.d(ee,{base64:()=>M6,base64pad:()=>S6,base64url:()=>D6,base64urlpad:()=>xy});var le={};E.r(le),E.d(le,{base8:()=>I6});var we={};E.r(we),E.d(we,{identity:()=>T6});var Me={};E.r(Me),E.d(Me,{code:()=>ID,decode:()=>C6,encode:()=>TD,name:()=>DD});var Ge={};E.r(Ge),E.d(Ge,{code:()=>k6,decode:()=>R6,encode:()=>P6,name:()=>AD});var ge={};E.r(ge),E.d(ge,{identity:()=>V6});var me={};E.r(me),E.d(me,{sha256:()=>H6,sha512:()=>FD});var Ue=E(49970),xe=E(14725);const Ce=new TextEncoder,be=new TextDecoder;class he{static base64UrlToBytes(t){return xe.r0.baseDecode(t)}static base64UrlToObject(t){const n=xe.r0.baseDecode(t);return he.bytesToObject(n)}static bytesToBase64Url(t){return xe.r0.baseEncode(t)}static bytesToString(t){return be.decode(t)}static bytesToObject(t){const n=he.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return Ce.encode(n)}static stringToBase64Url(t){const n=Ce.encode(t);return xe.r0.baseEncode(n)}static stringToBytes(t){return Ce.encode(t)}}var ne=E(63741);class te extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var de=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.DidMethodNotSupported="DidMethodNotSupported",r.DidNotString="DidNotString",r.DidNotValid="DidNotValid",r.DidResolutionFailed="DidResolutionFailed",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.EventsSubscribeEventStreamUnimplemented="EventsSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessageGetInvalidCid="MessageGetInvalidCid",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeSchemaProhibitedProperties="PermissionsProtocolValidateScopeSchemaProhibitedProperties",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationQueryWithoutRole="ProtocolAuthorizationQueryWithoutRole",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureQueryNotAllowed="ProtocolsConfigureQueryNotAllowed",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeMissingProtocol="RecordsGrantAuthorizationScopeMissingProtocol",r.RecordsGrantAuthorizationScopeNotRecords="RecordsGrantAuthorizationScopeNotRecords",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsGrantAuthorizationScopeSchema="RecordsGrantAuthorizationScopeSchema",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable",r}(de||{}),_e=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function Ie(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new te(de.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function He(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:he.bytesToBase64Url(r)}}const Ve={sign:(r,t)=>_e(void 0,void 0,void 0,function*(){Ie(t);const n=he.base64UrlToBytes(t.d);return ne.wJ(r,n)}),verify:(r,t,n)=>_e(void 0,void 0,void 0,function*(){Ie(n);const o=he.base64UrlToBytes(n.x);return ne.kv(t,r,o)}),generateKeyPair:()=>_e(void 0,void 0,void 0,function*(){const r=ne.Wp.randomPrivateKey(),t=yield ne.Rn(r),n=he.bytesToBase64Url(r),o=He(t);return{publicJwk:o,privateJwk:Object.assign(Object.assign({},o),{d:n})}}),publicKeyToJwk:r=>_e(void 0,void 0,void 0,function*(){return He(r)})};var xt=E(68464),Ne=E(10467),ke=E(92059);const pt=r=>function(){var t=(0,Ne.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),F=(0,ke.H)({name:"sha2-256",code:18,encode:pt("SHA-256")});(0,ke.H)({name:"sha2-512",code:19,encode:pt("SHA-512")});var M=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class fe{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new te(de.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return M(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?xt.CB.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:he.bytesToBase64Url(n.subarray(1,33)),y:he.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return M(this,void 0,void 0,function*(){const n=yield fe.getPublicKey(t),o=yield fe.publicKeyToJwk(n);return o.d=he.bytesToBase64Url(t),o})}static publicJwkToBytes(t){const n=he.base64UrlToBytes(t.x),o=he.base64UrlToBytes(t.y);return xt.CB.fromAffine({x:xt.jn.bytesToNumberBE(n),y:xt.jn.bytesToNumberBE(o)}).toRawBytes(!0)}static privateJwkToBytes(t){return he.base64UrlToBytes(t.d)}static sign(t,n){return M(this,void 0,void 0,function*(){fe.validateKey(n);const o=yield F.encode(t),p=fe.privateJwkToBytes(n);return(yield xt.wJ(o,p)).toCompactRawBytes()})}static verify(t,n,o){return M(this,void 0,void 0,function*(){fe.validateKey(o);const p=fe.publicJwkToBytes(o),y=yield F.encode(t);return xt.MX(n,y,p)})}static generateKeyPair(){return M(this,void 0,void 0,function*(){const t=xt.Wp.randomPrivateKey(),n=xt.lG(t,!1),o=he.bytesToBase64Url(t),p=yield fe.publicKeyToJwk(n);return{publicJwk:p,privateJwk:Object.assign(Object.assign({},p),{d:o})}})}static generateKeyPairRaw(){return M(this,void 0,void 0,function*(){const t=xt.Wp.randomPrivateKey();return{publicKey:xt.lG(t,!0),privateKey:t}})}static getPublicKey(t){return M(this,void 0,void 0,function*(){return xt.lG(t,!0)})}static getPublicJwk(t){return M(this,void 0,void 0,function*(){return function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(t,["d"])})}}var Se=E(40499);function Ae(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const Tn=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class it{constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Wt{constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return nn(this,t)}}class Gt{constructor(t){this.decoders=t}or(t){return nn(this,t)}decode(t){const o=this.decoders[t[0]];if(o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const nn=(r,t)=>new Gt({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class Xn{constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new it(t,n,o),this.decoder=new Wt(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ot=({name:r,prefix:t,encode:n,decode:o})=>new Xn(r,t,n,o),ft=({prefix:r,name:t,alphabet:n})=>{const{encode:o,decode:p}=function rt(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ye=0;if(" "!==Pe[Ye]){for(var mt=0,St=0;Pe[Ye]===J;)mt++,Ye++;for(var gt=(Pe.length-Ye)*X+1>>>0,yt=new Uint8Array(gt);Pe[Ye];){var Tt=n[Pe.charCodeAt(Ye)];if(255===Tt)return;for(var zt=0,Zt=gt-1;(0!==Tt||zt<St)&&-1!==Zt;Zt--,zt++)yt[Zt]=(Tt+=u*yt[Zt]>>>0)%256>>>0,Tt=Tt/256>>>0;if(0!==Tt)throw new Error("Non-zero carry");St=zt,Ye++}if(" "!==Pe[Ye]){for(var cn=gt-St;cn!==gt&&0===yt[cn];)cn++;for(var $t=new Uint8Array(mt+(gt-cn)),kn=mt;cn!==gt;)$t[kn++]=yt[cn++];return $t}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ye=0,mt=0,St=0,gt=Pe.length;St!==gt&&0===Pe[St];)St++,Ye++;for(var yt=(gt-St)*N+1>>>0,Tt=new Uint8Array(yt);St!==gt;){for(var zt=Pe[St],Zt=0,cn=yt-1;(0!==zt||Zt<mt)&&-1!==cn;cn--,Zt++)Tt[cn]=(zt+=256*Tt[cn]>>>0)%u>>>0,zt=zt/u>>>0;if(0!==zt)throw new Error("Non-zero carry");mt=Zt,St++}for(var $t=yt-mt;$t!==yt&&0===Tt[$t];)$t++;for(var kn=J.repeat(Ye);$t<yt;++$t)kn+=r.charAt(Tt[$t]);return kn},decodeUnsafe:Ee,decode:function Le(Pe){var Ye=Ee(Pe);if(Ye)return Ye;throw new Error(`Non-${t} character`)}}}(n,t);return ot({prefix:r,name:t,encode:o,decode:y=>Tn(p(y))})},We=({name:r,prefix:t,bitsPerChar:n,alphabet:o})=>ot({prefix:t,name:r,encode:p=>((r,t,n)=>{const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y})(p,o,n),decode:p=>((r,t,n,o)=>{const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l})(p,o,n,r)}),Bt=ft({prefix:"9",name:"base10",alphabet:"0123456789"}),At=We({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fn=We({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Un=We({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),wn=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),vn=wn.reduce((r,t,n)=>(r[n]=t,r),[]),pr=wn.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),Fn=ot({prefix:"\u{1f680}",name:"base256emoji",encode:function nr(r){return r.reduce((t,n)=>t+vn[n],"")},decode:function Bn(r){const t=[];for(const n of r){const o=pr[n.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${n}`);t.push(o)}return new Uint8Array(t)}}),qe=We({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Oe=We({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Je=We({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Kt=We({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),pn=We({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),jn=We({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zn=We({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),or=We({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),yr=We({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Rr=ft({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ir=ft({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Lr=ft({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fr=ft({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),en=We({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),bn=We({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ft=We({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),_n=We({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ut=We({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),gn=ot({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),Sn=new TextEncoder,ur=new TextDecoder,ar="json",oi=512,_i=r=>Sn.encode(JSON.stringify(r)),Oi=r=>JSON.parse(ur.decode(r)),Fr="raw",ci=85,_o=r=>Tn(r),Ii=r=>Tn(r);var dn=128,wt=-128,sn=Math.pow(2,31),yn=Math.pow(2,7),$n=Math.pow(2,14),Jt=Math.pow(2,21),ct=Math.pow(2,28),Et=Math.pow(2,35),kt=Math.pow(2,42),Qe=Math.pow(2,49),et=Math.pow(2,56),Be=Math.pow(2,63);const nt_encode=function Yt(r,t,n){t=t||[];for(var o=n=n||0;r>=sn;)t[n++]=255&r|dn,r/=128;for(;r&wt;)t[n++]=255&r|dn,r>>>=7;return t[n]=0|r,Yt.bytes=n-o+1,t},nt_encodingLength=function(r){return r<yn?1:r<$n?2:r<Jt?3:r<ct?4:r<Et?5:r<kt?6:r<Qe?7:r<et?8:r<Be?9:10},In=(r,t,n=0)=>(nt_encode(r,t,n),t),hn=r=>nt_encodingLength(r),Vt=(r,t)=>{const n=t.byteLength,o=hn(r),p=o+hn(n),y=new Uint8Array(p+n);return In(r,y,0),In(n,y,o),y.set(t,p),new _r(r,n,t,y)};class _r{constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}const Vr=Tn,Kr={code:0,name:"identity",encode:Vr,digest:r=>Vt(0,Vr(r))},Nr=({name:r,code:t,encode:n})=>new zr(r,t,n);class zr{constructor(t,n,o){this.name=t,this.code=n,this.encode=o}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Vt(this.code,n):n.then(o=>Vt(this.code,o))}throw Error("Unknown type, must be binary type")}}const Qr=r=>function(){var t=(0,Ne.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),wr=Nr({name:"sha2-256",code:18,encode:Qr("SHA-256")}),ri=Nr({name:"sha2-512",code:19,encode:Qr("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Ac={...O,...B,...R,...g,..._,...b,...k,...S,...P,...H};function Va(r,t,n,o){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:o}}}const Zf=Va("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Zd=Va("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function La(r=0){return null!=globalThis.Buffer?.allocUnsafe?Ae(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),Ju={utf8:Zf,"utf-8":Zf,hex:Ac.base16,latin1:Zd,ascii:Zd,binary:Zd,...Ac};function ss(r,t="utf8"){const n=Ju[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):Ae(globalThis.Buffer.from(r,"utf-8"))}var Uh=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};const yo_toString=function _g(r,t="utf8"){const n=Ju[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(r).substring(1):globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8")};class la{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new te(de.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return Uh(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Se.s9.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:he.bytesToBase64Url(n.subarray(1,33)),y:he.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return he.base64UrlToBytes(t.d)}static sign(t,n){return Uh(this,void 0,void 0,function*(){la.validateKey(n);const o=yield F.encode(t),p=la.privateJwkToBytes(n);return Promise.resolve(Se.s9.sign(o,p).toCompactRawBytes())})}static verify(t,n,o){return Uh(this,void 0,void 0,function*(){let p;la.validateKey(o),p=64===n.length?Se.s9.Signature.fromCompact(n):Se.s9.Signature.fromDER(n);const y=yield F.encode(t),l=Se.s9.ProjectivePoint.fromAffine({x:la.bytesToBigInt(he.base64UrlToBytes(o.x)),y:la.bytesToBigInt(he.base64UrlToBytes(o.y))}).toRawBytes(!1);return Se.s9.verify(p,y,l)})}static generateKeyPair(){return Uh(this,void 0,void 0,function*(){const t=Se.s9.utils.randomPrivateKey(),n=Se.Ag.getPublicKey(t,!1),o=he.bytesToBase64Url(t),p=yield la.publicKeyToJwk(n);return{publicJwk:p,privateJwk:Object.assign(Object.assign({},p),{d:o})}})}static bytesToBigInt(t){return BigInt("0x"+yo_toString(t,"base16"))}}const Cs={Ed25519:Ve,secp256k1:{sign:fe.sign,verify:fe.verify,generateKeyPair:fe.generateKeyPair,publicKeyToJwk:fe.publicKeyToJwk},"P-256":{sign:la.sign,verify:la.verify,generateKeyPair:la.generateKeyPair,publicKeyToJwk:la.publicKeyToJwk}};class cu{constructor(t){var n,o;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new te(de.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new te(de.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(o=t.algorithm)&&void 0!==o?o:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=Cs[t.privateJwk.crv],!this.signatureAlgorithm)throw new te(de.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(Cs)}`)}sign(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class zo{static getKid(t){const{kid:n}=he.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=zo.getKid(t);return zo.extractDid(n)}static verifySignature(t,n,o){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const p=Cs[o.crv];if(!p)throw new te(de.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(Cs)}`);const y=he.stringToBytes(`${n.protected}.${t}`),l=he.base64UrlToBytes(n.signature);return yield p.verify(y,l,o)})}static decodePlainObjectPayload(t){let n;try{n=he.base64UrlToObject(t.payload)}catch{throw new te(de.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!Ue(n))throw new te(de.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(o=>zo.createSigner(o))}static createSigner(t){return new cu({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var Mi=E(40573);const Ad="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,Ua=new Set,qu="object"==typeof Mi&&Mi?Mi:{},Pt=(r,t,n,o)=>{"function"==typeof qu.emitWarning?qu.emitWarning(r,t,n,o):console.error(`[${n}] ${t}: ${r}`)};let Ct=globalThis.AbortController,at=globalThis.AbortSignal;if(typeof Ct>"u"){at=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(o,p){this._onabort.push(p)}},Ct=class{constructor(){t()}signal=new at;abort(o){if(!this.signal.aborted){this.signal.reason=o,this.signal.aborted=!0;for(const p of this.signal._onabort)p(o);this.signal.onabort?.(o)}}};let r="1"!==qu.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,Pt("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const Jr=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),lo=r=>Jr(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?ac:null:null;class ac extends Array{constructor(t){super(t),this.fill(0)}}class Cd{heap;length;static#e=!1;static create(t){const n=lo(t);if(!n)return[];Cd.#e=!0;const o=new Cd(t,n);return Cd.#e=!1,o}constructor(t,n){if(!Cd.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class bl{#e;#t;#n;#f;#D;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#g;#a;#o;#r;#u;#p;#l;#c;#y;#d;#E;#x;#v;#b;#S;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#l},get tail(){return t.#c},free:t.#y,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,o,p,y)=>t.#P(n,o,p,y),moveToTail:n=>t.#A(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#g}get size(){return this.#s}get fetchMethod(){return this.#D}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:o,ttlResolution:p=1,ttlAutopurge:y,updateAgeOnGet:l,updateAgeOnHas:u,allowStale:J,dispose:X,disposeAfter:N,noDisposeOnSet:oe,noUpdateTTL:Ee,maxSize:Le=0,maxEntrySize:Pe=0,sizeCalculation:Ye,fetchMethod:mt,noDeleteOnFetchRejection:St,noDeleteOnStaleGet:gt,allowStaleOnFetchRejection:yt,allowStaleOnFetchAbort:Tt,ignoreFetchAbort:zt}=t;if(0!==n&&!Jr(n))throw new TypeError("max option must be a nonnegative integer");const Zt=n?lo(n):Array;if(!Zt)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=Le,this.maxEntrySize=Pe||this.#t,this.sizeCalculation=Ye,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==mt&&"function"!=typeof mt)throw new TypeError("fetchMethod must be a function if specified");if(this.#D=mt,this.#S=!!mt,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new Zt(n),this.#p=new Zt(n),this.#l=0,this.#c=0,this.#y=Cd.create(n),this.#s=0,this.#g=0,"function"==typeof X&&(this.#n=X),"function"==typeof N?(this.#f=N,this.#d=[]):(this.#f=void 0,this.#d=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!oe,this.noUpdateTTL=!!Ee,this.noDeleteOnFetchRejection=!!St,this.allowStaleOnFetchRejection=!!yt,this.allowStaleOnFetchAbort=!!Tt,this.ignoreFetchAbort=!!zt,0!==this.maxEntrySize){if(0!==this.#t&&!Jr(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Jr(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!J,this.noDeleteOnStaleGet=!!gt,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!u,this.ttlResolution=Jr(p)||0===p?p:1,this.ttlAutopurge=!!y,this.ttl=o||0,this.ttl){if(!Jr(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#R()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const cn="LRU_CACHE_UNBOUNDED";!Ua.has(cn)&&(Ua.add(cn),Pt("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",cn,bl))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#R(){const t=new ac(this.#e),n=new ac(this.#e);this.#v=t,this.#x=n,this.#O=(y,l,u=Ad.now())=>{if(n[y]=0!==l?u:0,t[y]=l,0!==l&&this.ttlAutopurge){const J=setTimeout(()=>{this.#m(y)&&this.delete(this.#o[y])},l+1);J.unref&&J.unref()}},this.#I=y=>{n[y]=0!==t[y]?Ad.now():0},this.#M=(y,l)=>{if(t[l]){const u=t[l],J=n[l];y.ttl=u,y.start=J,y.now=o||p(),y.remainingTTL=u-(y.now-J)}};let o=0;const p=()=>{const y=Ad.now();if(this.ttlResolution>0){o=y;const l=setTimeout(()=>o=0,this.ttlResolution);l.unref&&l.unref()}return y};this.getRemainingTTL=y=>{const l=this.#a.get(y);if(void 0===l)return 0;const u=t[l],J=n[l];return 0===u||0===J?1/0:u-((o||p())-J)},this.#m=y=>0!==t[y]&&0!==n[y]&&(o||p())-n[y]>t[y]}#I=()=>{};#M=()=>{};#O=()=>{};#m=()=>!1;#U(){const t=new ac(this.#e);this.#g=0,this.#E=t,this.#T=n=>{this.#g-=t[n],t[n]=0},this.#N=(n,o,p,y)=>{if(this.#i(o))return 0;if(!Jr(p)){if(!y)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof y)throw new TypeError("sizeCalculation must be a function");if(p=y(o,n),!Jr(p))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return p},this.#C=(n,o,p)=>{if(t[n]=o,this.#t){const y=this.#t-t[n];for(;this.#g>y;)this.#k(!0)}this.#g+=t[n],p&&(p.entrySize=o,p.totalCalculatedSize=this.#g)}}#T=t=>{};#C=(t,n,o)=>{};#N=(t,n,o,p)=>{if(o||p)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#B(n)&&((t||!this.#m(n))&&(yield n),n!==this.#l);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#l;this.#B(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#B(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const o of this.#w()){const p=this.#r[o],y=this.#i(p)?p.__staleWhileFetching:p;if(void 0!==y&&t(y,this.#o[o],this))return this.get(this.#o[o],n)}}forEach(t,n=this){for(const o of this.#w()){const p=this.#r[o],y=this.#i(p)?p.__staleWhileFetching:p;void 0!==y&&t.call(n,y,this.#o[o],this)}}rforEach(t,n=this){for(const o of this.#_()){const p=this.#r[o],y=this.#i(p)?p.__staleWhileFetching:p;void 0!==y&&t.call(n,y,this.#o[o],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const o=this.#o[n],p=this.#r[n],y=this.#i(p)?p.__staleWhileFetching:p;if(void 0===y||void 0===o)continue;const l={value:y};if(this.#v&&this.#x){l.ttl=this.#v[n];const u=Ad.now()-this.#x[n];l.start=Math.floor(Date.now()-u)}this.#E&&(l.size=this.#E[n]),t.unshift([o,l])}return t}load(t){this.clear();for(const[n,o]of t){if(o.start){const p=Date.now()-o.start;o.start=Ad.now()-p}this.set(n,o.value,o)}}set(t,n,o={}){if(void 0===n)return this.delete(t),this;const{ttl:p=this.ttl,start:y,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:J}=o;let{noUpdateTTL:X=this.noUpdateTTL}=o;const N=this.#N(t,n,o.size||0,u);if(this.maxEntrySize&&N>this.maxEntrySize)return J&&(J.set="miss",J.maxEntrySizeExceeded=!0),this.delete(t),this;let oe=0===this.#s?void 0:this.#a.get(t);if(void 0===oe)oe=0===this.#s?this.#c:0!==this.#y.length?this.#y.pop():this.#s===this.#e?this.#k(!1):this.#s,this.#o[oe]=t,this.#r[oe]=n,this.#a.set(t,oe),this.#u[this.#c]=oe,this.#p[oe]=this.#c,this.#c=oe,this.#s++,this.#C(oe,N,J),J&&(J.set="add"),X=!1;else{this.#A(oe);const Ee=this.#r[oe];if(n!==Ee){if(this.#S&&this.#i(Ee)?Ee.__abortController.abort(new Error("replaced")):l||(this.#b&&this.#n?.(Ee,t,"set"),this.#h&&this.#d?.push([Ee,t,"set"])),this.#T(oe),this.#C(oe,N,J),this.#r[oe]=n,J){J.set="replace";const Le=Ee&&this.#i(Ee)?Ee.__staleWhileFetching:Ee;void 0!==Le&&(J.oldValue=Le)}}else J&&(J.set="update")}if(0!==p&&!this.#v&&this.#R(),this.#v&&(X||this.#O(oe,p,y),J&&this.#M(J,oe)),!l&&this.#h&&this.#d){const Ee=this.#d;let Le;for(;Le=Ee?.shift();)this.#f?.(...Le)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#l];if(this.#k(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#d){const t=this.#d;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#k(t){const n=this.#l,o=this.#o[n],p=this.#r[n];return this.#S&&this.#i(p)?p.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(p,o,"evict"),this.#h&&this.#d?.push([p,o,"evict"])),this.#T(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#y.push(n)),1===this.#s?(this.#l=this.#c=0,this.#y.length=0):this.#l=this.#u[n],this.#a.delete(o),this.#s--,n}has(t,n={}){const{updateAgeOnHas:o=this.updateAgeOnHas,status:p}=n,y=this.#a.get(t);if(void 0!==y){const l=this.#r[y];if(this.#i(l)&&void 0===l.__staleWhileFetching)return!1;if(!this.#m(y))return o&&this.#I(y),p&&(p.has="hit",this.#M(p,y)),!0;p&&(p.has="stale",this.#M(p,y))}else p&&(p.has="miss");return!1}peek(t,n={}){const{allowStale:o=this.allowStale}=n,p=this.#a.get(t);if(void 0!==p&&(o||!this.#m(p))){const y=this.#r[p];return this.#i(y)?y.__staleWhileFetching:y}}#P(t,n,o,p){const y=void 0===n?void 0:this.#r[n];if(this.#i(y))return y;const l=new Ct,{signal:u}=o;u?.addEventListener("abort",()=>l.abort(u.reason),{signal:l.signal});const J={signal:l.signal,options:o,context:p},X=(Ye,mt=!1)=>{const{aborted:St}=l.signal,gt=o.ignoreFetchAbort&&void 0!==Ye;return o.status&&(St&&!mt?(o.status.fetchAborted=!0,o.status.fetchError=l.signal.reason,gt&&(o.status.fetchAbortIgnored=!0)):o.status.fetchResolved=!0),!St||gt||mt?(this.#r[n]===Le&&(void 0===Ye?Le.__staleWhileFetching?this.#r[n]=Le.__staleWhileFetching:this.delete(t):(o.status&&(o.status.fetchUpdated=!0),this.set(t,Ye,J.options))),Ye):oe(l.signal.reason)},oe=Ye=>{const{aborted:mt}=l.signal,St=mt&&o.allowStaleOnFetchAbort,gt=St||o.allowStaleOnFetchRejection,Tt=Le;if(this.#r[n]===Le&&((gt||o.noDeleteOnFetchRejection)&&void 0!==Tt.__staleWhileFetching?St||(this.#r[n]=Tt.__staleWhileFetching):this.delete(t)),gt)return o.status&&void 0!==Tt.__staleWhileFetching&&(o.status.returnedStale=!0),Tt.__staleWhileFetching;if(Tt.__returned===Tt)throw Ye};o.status&&(o.status.fetchDispatched=!0);const Le=new Promise((Ye,mt)=>{const St=this.#D?.(t,y,J);St&&St instanceof Promise&&St.then(gt=>Ye(gt),mt),l.signal.addEventListener("abort",()=>{(!o.ignoreFetchAbort||o.allowStaleOnFetchAbort)&&(Ye(),o.allowStaleOnFetchAbort&&(Ye=gt=>X(gt,!0)))})}).then(X,Ye=>(o.status&&(o.status.fetchRejected=!0,o.status.fetchError=Ye),oe(Ye))),Pe=Object.assign(Le,{__abortController:l,__staleWhileFetching:y,__returned:void 0});return void 0===n?(this.set(t,Pe,{...J.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Pe,Pe}#i(t){if(!this.#S)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Ct}fetch(t,n={}){var o=this;return(0,Ne.A)(function*(){const{allowStale:p=o.allowStale,updateAgeOnGet:y=o.updateAgeOnGet,noDeleteOnStaleGet:l=o.noDeleteOnStaleGet,ttl:u=o.ttl,noDisposeOnSet:J=o.noDisposeOnSet,size:X=0,sizeCalculation:N=o.sizeCalculation,noUpdateTTL:oe=o.noUpdateTTL,noDeleteOnFetchRejection:Ee=o.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Le=o.allowStaleOnFetchRejection,ignoreFetchAbort:Pe=o.ignoreFetchAbort,allowStaleOnFetchAbort:Ye=o.allowStaleOnFetchAbort,context:mt,forceRefresh:St=!1,status:gt,signal:yt}=n;if(!o.#S)return gt&&(gt.fetch="get"),o.get(t,{allowStale:p,updateAgeOnGet:y,noDeleteOnStaleGet:l,status:gt});const Tt={allowStale:p,updateAgeOnGet:y,noDeleteOnStaleGet:l,ttl:u,noDisposeOnSet:J,size:X,sizeCalculation:N,noUpdateTTL:oe,noDeleteOnFetchRejection:Ee,allowStaleOnFetchRejection:Le,allowStaleOnFetchAbort:Ye,ignoreFetchAbort:Pe,status:gt,signal:yt};let zt=o.#a.get(t);if(void 0===zt){gt&&(gt.fetch="miss");const Zt=o.#P(t,zt,Tt,mt);return Zt.__returned=Zt}{const Zt=o.#r[zt];if(o.#i(Zt)){const tr=p&&void 0!==Zt.__staleWhileFetching;return gt&&(gt.fetch="inflight",tr&&(gt.returnedStale=!0)),tr?Zt.__staleWhileFetching:Zt.__returned=Zt}const cn=o.#m(zt);if(!St&&!cn)return gt&&(gt.fetch="hit"),o.#A(zt),y&&o.#I(zt),gt&&o.#M(gt,zt),Zt;const $t=o.#P(t,zt,Tt,mt),Jn=void 0!==$t.__staleWhileFetching&&p;return gt&&(gt.fetch=cn?"stale":"refresh",Jn&&cn&&(gt.returnedStale=!0)),Jn?$t.__staleWhileFetching:$t.__returned=$t}})()}get(t,n={}){const{allowStale:o=this.allowStale,updateAgeOnGet:p=this.updateAgeOnGet,noDeleteOnStaleGet:y=this.noDeleteOnStaleGet,status:l}=n,u=this.#a.get(t);if(void 0!==u){const J=this.#r[u],X=this.#i(J);return l&&this.#M(l,u),this.#m(u)?(l&&(l.get="stale"),X?(l&&o&&void 0!==J.__staleWhileFetching&&(l.returnedStale=!0),o?J.__staleWhileFetching:void 0):(y||this.delete(t),l&&o&&(l.returnedStale=!0),o?J:void 0)):(l&&(l.get="hit"),X?J.__staleWhileFetching:(this.#A(u),p&&this.#I(u),J))}l&&(l.get="miss")}#L(t,n){this.#p[n]=t,this.#u[t]=n}#A(t){t!==this.#c&&(t===this.#l?this.#l=this.#u[t]:this.#L(this.#p[t],this.#u[t]),this.#L(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const o=this.#a.get(t);if(void 0!==o)if(n=!0,1===this.#s)this.clear();else{this.#T(o);const p=this.#r[o];this.#i(p)?p.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(p,t,"delete"),this.#h&&this.#d?.push([p,t,"delete"])),this.#a.delete(t),this.#o[o]=void 0,this.#r[o]=void 0,o===this.#c?this.#c=this.#p[o]:o===this.#l?this.#l=this.#u[o]:(this.#u[this.#p[o]]=this.#u[o],this.#p[this.#u[o]]=this.#p[o]),this.#s--,this.#y.push(o)}}if(this.#h&&this.#d?.length){const o=this.#d;let p;for(;p=o?.shift();)this.#f?.(...p)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const o=this.#o[t];this.#b&&this.#n?.(n,o,"delete"),this.#h&&this.#d?.push([n,o,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#l=0,this.#c=0,this.#y.length=0,this.#g=0,this.#s=0,this.#h&&this.#d){const t=this.#d;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var kv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class kc{constructor(t){this.timeToLiveInSeconds=t,this.cache=new bl({max:1e5,ttl:1e3*t})}set(t,n){return kv(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return kv(this,void 0,void 0,function*(){return this.cache.get(t)})}}const ki=bi,gd=new RegExp("^[A-Za-z0-9_-]+$","u");function vo(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=vo.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return vo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ee=0;for(const Le in r)if("payload"!==Le&&"signatures"!==Le)return vo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties"}],!1;if(0===Ee){if(void 0!==r.payload){let Le=r.payload;const Pe=0;if("string"!=typeof Le)return vo.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Le))return vo.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var X=0===Pe}else X=!0;if(X)if(void 0!==r.signatures){let Le=r.signatures;const Pe=0;if(0===Pe){if(!Array.isArray(Le))return vo.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Le.length<1)return vo.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const mt=Le.length;for(let St=0;St<mt;St++){let gt=Le[St];const yt=0;if(0===yt){if(!gt||"object"!=typeof gt||Array.isArray(gt))return vo.errors=[{instancePath:t+"/signatures/"+St,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==gt.protected){let zt=gt.protected;const Zt=0;if("string"!=typeof zt)return vo.errors=[{instancePath:t+"/signatures/"+St+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(zt))return vo.errors=[{instancePath:t+"/signatures/"+St+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var oe=0===Zt}else oe=!0;if(oe)if(void 0!==gt.signature){let zt=gt.signature;const Zt=0;if("string"!=typeof zt)return vo.errors=[{instancePath:t+"/signatures/"+St+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(zt))return vo.errors=[{instancePath:t+"/signatures/"+St+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;oe=0===Zt}else oe=!0}if(0!==yt)break}}}X=0===Pe}else X=!0}}return vo.errors=null,!0}function bi(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=bi.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return bi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const X=u;for(const N in r)if("signature"!==N)return bi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:N},message:"must NOT have additional properties"}],!1;X===u&&void 0!==r.signature&&(vo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:p,dynamicAnchors:y})||(l=null===l?vo.errors:l.concat(vo.errors),u=l.length))}}return bi.errors=l,0===u}vo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},bi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const aM=Ia,wl={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},_l=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),Gc=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),qf=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),ys=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),Gi={validate:Yc};function Zc(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Zc.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Zc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const N=u;for(const oe in r)if("signature"!==oe&&"authorDelegatedGrant"!==oe&&"ownerSignature"!==oe&&"ownerDelegatedGrant"!==oe)return Zc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(N===u){let oe;if(void 0!==r.ownerSignature&&void 0===r.signature&&(oe="signature"))return Zc.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:oe,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const Ee=u;vo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:p,dynamicAnchors:y})||(l=null===l?vo.errors:l.concat(vo.errors),u=l.length);var X=Ee===u}else X=!0;if(X){if(void 0!==r.authorDelegatedGrant){const Ee=u;Gi.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:p,dynamicAnchors:y})||(l=null===l?Gi.validate.errors:l.concat(Gi.validate.errors),u=l.length),X=Ee===u}else X=!0;if(X){if(void 0!==r.ownerSignature){const Ee=u;vo(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:p,dynamicAnchors:y})||(l=null===l?vo.errors:l.concat(vo.errors),u=l.length),X=Ee===u}else X=!0;if(X)if(void 0!==r.ownerDelegatedGrant){const Ee=u;Gi.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:p,dynamicAnchors:y})||(l=null===l?Gi.validate.errors:l.concat(Gi.validate.errors),u=l.length),X=Ee===u}else X=!0}}}}}return Zc.errors=l,0===u}Zc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const fm={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function No(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=No.evaluated;J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0);const X=u,N=u;let oe=!1,Ee=null;const Le=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.crv&&(Gn="crv")||void 0===r.x&&(Gn="x")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:Gn},message:"must have required property '"+Gn+"'"};null===l?l=[Kn]:l.push(Kn),u++}else{if(void 0!==r.kty){const Kn=u;if("EC"!==r.kty){const qn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===l?l=[qn]:l.push(qn),u++}var Pe=Kn===u}else Pe=!0;if(Pe){if(void 0!==r.crv){const Kn=u;if("string"!=typeof r.crv){const Pn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}Pe=Kn===u}else Pe=!0;if(Pe){if(void 0!==r.x){const Kn=u;if("string"!=typeof r.x){const Pn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}Pe=Kn===u}else Pe=!0;if(Pe){if(void 0!==r.y){const Kn=u;if("string"!=typeof r.y){const Pn={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}Pe=Kn===u}else Pe=!0;if(Pe)if(void 0!==r.d){const Kn=u;if("string"!=typeof r.d){const Pn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}Pe=Kn===u}else Pe=!0}}}}}if(gt=Le===u){oe=!0,Ee=0;var Ye={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const mt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.crv&&(Gn="crv")||void 0===r.x&&(Gn="x")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:Gn},message:"must have required property '"+Gn+"'"};null===l?l=[Kn]:l.push(Kn),u++}else{if(void 0!==r.kty){const Kn=u;if("OKP"!==r.kty){const qn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===l?l=[qn]:l.push(qn),u++}var St=Kn===u}else St=!0;if(St){if(void 0!==r.crv){const Kn=u;if("string"!=typeof r.crv){const Pn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}St=Kn===u}else St=!0;if(St){if(void 0!==r.x){const Kn=u;if("string"!=typeof r.x){const Pn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}St=Kn===u}else St=!0;if(St)if(void 0!==r.d){const Kn=u;if("string"!=typeof r.d){const Pn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}St=Kn===u}else St=!0}}}}if((gt=mt===u)&&oe)oe=!1,Ee=[Ee,1];else{gt&&(oe=!0,Ee=1,!0!==Ye&&((Ye=Ye||{}).kty=!0,Ye.crv=!0,Ye.x=!0,Ye.d=!0));const Gn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let qn;if(void 0===r.n&&(qn="n")||void 0===r.e&&(qn="e")){const Pn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:qn},message:"must have required property '"+qn+"'"};null===l?l=[Pn]:l.push(Pn),u++}else{if(void 0!==r.kty){const Pn=u;if("RSA"!==r.kty){const br={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===l?l=[br]:l.push(br),u++}var yt=Pn===u}else yt=!0;if(yt){if(void 0!==r.n){const Pn=u;if("string"!=typeof r.n){const Wr={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Wr]:l.push(Wr),u++}yt=Pn===u}else yt=!0;if(yt){if(void 0!==r.e){const Pn=u;if("string"!=typeof r.e){const Wr={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Wr]:l.push(Wr),u++}yt=Pn===u}else yt=!0;if(yt){if(void 0!==r.d){const Pn=u;if("string"!=typeof r.d){const Wr={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Wr]:l.push(Wr),u++}yt=Pn===u}else yt=!0;if(yt){if(void 0!==r.p){const Pn=u;if("string"!=typeof r.p){const Wr={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Wr]:l.push(Wr),u++}yt=Pn===u}else yt=!0;if(yt){if(void 0!==r.q){const Pn=u;if("string"!=typeof r.q){const Wr={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Wr]:l.push(Wr),u++}yt=Pn===u}else yt=!0;if(yt){if(void 0!==r.dp){const Pn=u;if("string"!=typeof r.dp){const Wr={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Wr]:l.push(Wr),u++}yt=Pn===u}else yt=!0;if(yt){if(void 0!==r.dq){const Pn=u;if("string"!=typeof r.dq){const Wr={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Wr]:l.push(Wr),u++}yt=Pn===u}else yt=!0;if(yt){if(void 0!==r.qi){const Pn=u;if("string"!=typeof r.qi){const Wr={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Wr]:l.push(Wr),u++}yt=Pn===u}else yt=!0;if(yt)if(void 0!==r.oth){let Pn=r.oth;const br=u;if(!Pn||"object"!=typeof Pn||Array.isArray(Pn)){const Ar={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ar]:l.push(Ar),u++}yt=br===u}else yt=!0}}}}}}}}}}if((gt=Gn===u)&&oe)oe=!1,Ee=[Ee,2];else{gt&&(oe=!0,Ee=2,!0!==Ye&&((Ye=Ye||{}).kty=!0,Ye.n=!0,Ye.e=!0,Ye.d=!0,Ye.p=!0,Ye.q=!0,Ye.dp=!0,Ye.dq=!0,Ye.qi=!0,Ye.oth=!0));const qn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let br;if(void 0===r.k&&(br="k")){const Wr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:br},message:"must have required property '"+br+"'"};null===l?l=[Wr]:l.push(Wr),u++}else{if(void 0!==r.kty){const Wr=u;if("oct"!==r.kty){const Ar={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===l?l=[Ar]:l.push(Ar),u++}var Tt=Wr===u}else Tt=!0;if(Tt)if(void 0!==r.k){const Wr=u;if("string"!=typeof r.k){const ai={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[ai]:l.push(ai),u++}Tt=Wr===u}else Tt=!0}}var gt;(gt=qn===u)&&oe?(oe=!1,Ee=[Ee,3]):gt&&(oe=!0,Ee=3,!0!==Ye&&((Ye=Ye||{}).kty=!0,Ye.k=!0))}}if(!oe){const Gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:Ee},message:"must match exactly one schema in oneOf"};return null===l?l=[Gn]:l.push(Gn),u++,No.errors=l,!1}if(u=N,null!==l&&(N?l.length=N:l=null),u===X){if(!r||"object"!=typeof r||Array.isArray(r))return No.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Gn;if(void 0===r.kty&&(Gn="kty"))return No.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:Gn},message:"must have required property '"+Gn+"'"}],!1;if(!0!==Ye&&((Ye=Ye||{}).alg=!0,Ye.kid=!0,Ye.kty=!0,Ye.crv=!0,Ye.use=!0,Ye.key_ops=!0,Ye.x5u=!0,Ye.x5c=!0,Ye.x5t=!0,Ye["x5t#S256"]=!0),void 0!==r.alg){const Kn=u;if("string"!=typeof r.alg)return No.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.kid){const Kn=u;if("string"!=typeof r.kid)return No.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.kty){let Kn=r.kty;const qn=u;if("EC"!==Kn&&"RSA"!==Kn&&"oct"!==Kn&&"OKP"!==Kn)return No.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:fm.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;zt=qn===u}else zt=!0;if(zt){if(void 0!==r.crv){const Kn=u;if("string"!=typeof r.crv)return No.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.use){const Kn=u;if("string"!=typeof r.use)return No.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.key_ops){const Kn=u;if("string"!=typeof r.key_ops)return No.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.x5u){const Kn=u;if("string"!=typeof r.x5u)return No.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.x5c){const Kn=u;if("string"!=typeof r.x5c)return No.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.x5t){const Kn=u;if("string"!=typeof r.x5t)return No.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;zt=Kn===u}else zt=!0;if(zt)if(void 0!==r["x5t#S256"]){const Kn=u;if("string"!=typeof r["x5t#S256"])return No.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;zt=Kn===u}else zt=!0}}}}}}}}}}if(X===u){const Gn=u,Kn=u,qn=u;let Pn=!1;const br=u,Wr=u;let Ar=!1;const ai=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Dr;if(void 0===r.d&&(Dr="d")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}if(Ar=Ar||ai===u,Ar)u=Wr,null!==l&&(Wr?l.length=Wr:l=null);else{const Dr={};null===l?l=[Dr]:l.push(Dr),u++}if(u===br)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const Dr={};null===l?l=[Dr]:l.push(Dr),u++}}else{const Dr={};null===l?l=[Dr]:l.push(Dr),u++}var dr=br===u;if(Pn=Pn||dr,dr)var $t={kty:!0};const io=u,Cn=u;let hi=!1;const wo=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Dr;if(void 0===r.d&&(Dr="d")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}if(hi=hi||wo===u,hi)u=Cn,null!==l&&(Cn?l.length=Cn:l=null);else{const Dr={};null===l?l=[Dr]:l.push(Dr),u++}if(u===io)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const Dr={};null===l?l=[Dr]:l.push(Dr),u++}}else{const Dr={};null===l?l=[Dr]:l.push(Dr),u++}dr=io===u,Pn=Pn||dr,dr&&!0!==$t&&(($t=$t||{}).kty=!0);const Mr=u,er=u;let Er=!1;const ii=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Dr;if(void 0===r.d&&(Dr="d")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}var Jn=ii===u;Er=Er||Jn;const Fi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Dr;if(void 0===r.p&&(Dr="p")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}Jn=Fi===u,Er=Er||Jn;const ji=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Dr;if(void 0===r.q&&(Dr="q")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}Jn=ji===u,Er=Er||Jn;const mi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Dr;if(void 0===r.dp&&(Dr="dp")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}Jn=mi===u,Er=Er||Jn;const vi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Dr;if(void 0===r.dq&&(Dr="dq")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}Jn=vi===u,Er=Er||Jn;const Dc=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Dr;if(void 0===r.qi&&(Dr="qi")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}Jn=Dc===u,Er=Er||Jn;const Cv=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Dr;if(void 0===r.oth&&(Dr="oth")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}if(Jn=Cv===u,Er=Er||Jn,Er)u=er,null!==l&&(er?l.length=er:l=null);else{const Dr={};null===l?l=[Dr]:l.push(Dr),u++}if(u===Mr)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const Dr=u;if("RSA"!==r.kty){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}var tr=Dr===u}else tr=!0;if(tr)if(void 0!==r.oth){let Dr=r.oth;const Ai=u;if(!Dr||"object"!=typeof Dr||Array.isArray(Dr)){const gi={};null===l?l=[gi]:l.push(gi),u++}tr=Ai===u}else tr=!0}else{const Dr={};null===l?l=[Dr]:l.push(Dr),u++}if(dr=Mr===u,Pn=Pn||dr,dr&&!0!==$t&&(($t=$t||{}).kty=!0,$t.d=!0,$t.p=!0,$t.q=!0,$t.dp=!0,$t.dq=!0,$t.qi=!0,$t.oth=!0),Pn)u=qn,null!==l&&(qn?l.length=qn:l=null);else{const Dr={};null===l?l=[Dr]:l.push(Dr),u++}if(Kn===u)return No.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Gn,null!==l&&(Gn?l.length=Gn:l=null)}return No.errors=l,J.props=Ye,0===u}No.evaluated={dynamicProps:!0,dynamicItems:!1};const Fh=Object.prototype.hasOwnProperty;function Gr(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Gr.evaluated;J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0);const X=u;let N=!1;const oe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let io;if(void 0===r.contextId&&(io="contextId")){const Cn={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:io},message:"must have required property '"+io+"'"};null===l?l=[Cn]:l.push(Cn),u++}else if(void 0!==r.descriptor){let Cn=r.descriptor;if(u==u)if(Cn&&"object"==typeof Cn&&!Array.isArray(Cn)){let wo;if(void 0===Cn.protocol&&(wo="protocol")||void 0===Cn.protocolPath&&(wo="protocolPath")){const Mr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:wo},message:"must have required property '"+wo+"'"};null===l?l=[Mr]:l.push(Mr),u++}}else{const wo={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[wo]:l.push(wo),u++}}}var zt=oe===u;if(N=N||zt,zt)var Ee={descriptor:!0};const Le=u,Pe=u,Ye=u,mt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let io;if(void 0===r.contextId&&(io="contextId")){const Cn={};null===l?l=[Cn]:l.push(Cn),u++}}if(mt===u){const io={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[io]:l.push(io),u++}else u=Ye,null!==l&&(Ye?l.length=Ye:l=null);if(Pe===u){const io=u;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let hi=r.descriptor;if(!hi||"object"!=typeof hi||Array.isArray(hi)){const er={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[er]:l.push(er),u++}const wo=u,Mr=u;if(hi&&"object"==typeof hi&&!Array.isArray(hi)){let er;if(void 0===hi.protocol&&(er="protocol")){const Er={};null===l?l=[Er]:l.push(Er),u++}}if(Mr===u){const er={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[er]:l.push(er),u++}else u=wo,null!==l&&(wo?l.length=wo:l=null)}if(io===u&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Mr=r.descriptor;if(!Mr||"object"!=typeof Mr||Array.isArray(Mr)){const ii={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[ii]:l.push(ii),u++}const er=u,Er=u;if(Mr&&"object"==typeof Mr&&!Array.isArray(Mr)){let ii;if(void 0===Mr.protocolPath&&(ii="protocolPath")){const Fi={};null===l?l=[Fi]:l.push(Fi),u++}}if(Er===u){const ii={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[ii]:l.push(ii),u++}else u=er,null!==l&&(er?l.length=er:l=null)}}if(zt=Le===u,N=N||zt,zt&&!0!==Ee&&((Ee=Ee||{}).descriptor=!0),!N){const io={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===l?l=[io]:l.push(io),u++,Gr.errors=l,!1}if(u=X,null!==l&&(X?l.length=X:l=null),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Gr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let io;if(void 0===r.descriptor&&(io="descriptor"))return Gr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:io},message:"must have required property '"+io+"'"}],!1;if(!0!==Ee&&((Ee=Ee||{}).recordId=!0,Ee.contextId=!0,Ee.attestation=!0,Ee.authorization=!0,Ee.encryption=!0,Ee.descriptor=!0),void 0!==r.recordId){const Cn=u;if("string"!=typeof r.recordId)return Gr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Zt=Cn===u}else Zt=!0;if(Zt){if(void 0!==r.contextId){let Cn=r.contextId;const hi=u;if(u===hi){if("string"!=typeof Cn)return Gr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!_l.test(Cn))return Gr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}Zt=hi===u}else Zt=!0;if(Zt){if(void 0!==r.attestation){const Cn=u;vo(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:p,dynamicAnchors:y})||(l=null===l?vo.errors:l.concat(vo.errors),u=l.length),Zt=Cn===u}else Zt=!0;if(Zt){if(void 0!==r.authorization){const Cn=u;Zc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?Zc.errors:l.concat(Zc.errors),u=l.length),Zt=Cn===u}else Zt=!0;if(Zt){if(void 0!==r.encryption){let Cn=r.encryption;const hi=u;if(u===hi){if(!Cn||"object"!=typeof Cn||Array.isArray(Cn))return Gr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Mr;if(void 0===Cn.algorithm&&(Mr="algorithm")||void 0===Cn.initializationVector&&(Mr="initializationVector")||void 0===Cn.keyEncryption&&(Mr="keyEncryption"))return Gr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:Mr},message:"must have required property '"+Mr+"'"}],!1;{const er=u;for(const Er in Cn)if("algorithm"!==Er&&"initializationVector"!==Er&&"keyEncryption"!==Er)return Gr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Er},message:"must NOT have additional properties"}],!1;if(er===u){if(void 0!==Cn.algorithm){let Er=Cn.algorithm;const ii=u;if("string"!=typeof Er)return Gr.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==Er)return Gr.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:wl.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var cn=ii===u}else cn=!0;if(cn){if(void 0!==Cn.initializationVector){let Er=Cn.initializationVector;const ii=u;if(u==u){if("string"!=typeof Er)return Gr.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Er))return Gr.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}cn=ii===u}else cn=!0;if(cn)if(void 0!==Cn.keyEncryption){let Er=Cn.keyEncryption;const ii=u;if(u===ii){if(!Array.isArray(Er))return Gr.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Er.length<1)return Gr.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const ji=Er.length;for(let mi=0;mi<ji;mi++){let vi=Er[mi];const Dc=u;if(u===Dc){if(!vi||"object"!=typeof vi||Array.isArray(vi))return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Dr;if(void 0===vi.rootKeyId&&(Dr="rootKeyId")||void 0===vi.derivationScheme&&(Dr="derivationScheme")||void 0===vi.algorithm&&(Dr="algorithm")||void 0===vi.encryptedKey&&(Dr="encryptedKey")||void 0===vi.initializationVector&&(Dr="initializationVector")||void 0===vi.ephemeralPublicKey&&(Dr="ephemeralPublicKey")||void 0===vi.messageAuthenticationCode&&(Dr="messageAuthenticationCode"))return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:Dr},message:"must have required property '"+Dr+"'"}],!1;{const Ai=u;for(const Ci in vi)if("rootKeyId"!==Ci&&"derivationScheme"!==Ci&&"derivedPublicKey"!==Ci&&"algorithm"!==Ci&&"encryptedKey"!==Ci&&"initializationVector"!==Ci&&"ephemeralPublicKey"!==Ci&&"messageAuthenticationCode"!==Ci)return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ci},message:"must NOT have additional properties"}],!1;if(Ai===u){if(void 0!==vi.rootKeyId){const Ci=u;if("string"!=typeof vi.rootKeyId)return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var kn=Ci===u}else kn=!0;if(kn){if(void 0!==vi.derivationScheme){let Ci=vi.derivationScheme;const gi=u;if("string"!=typeof Ci)return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==Ci&&"protocolContext"!==Ci&&"protocolPath"!==Ci&&"schemas"!==Ci)return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:wl.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;kn=gi===u}else kn=!0;if(kn){if(void 0!==vi.derivedPublicKey){const Ci=u;No(vi.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+mi+"/derivedPublicKey",parentData:vi,parentDataProperty:"derivedPublicKey",rootData:p,dynamicAnchors:y})||(l=null===l?No.errors:l.concat(No.errors),u=l.length),kn=Ci===u}else kn=!0;if(kn){if(void 0!==vi.algorithm){let Ci=vi.algorithm;const gi=u;if("string"!=typeof Ci)return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==Ci)return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:wl.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;kn=gi===u}else kn=!0;if(kn){if(void 0!==vi.encryptedKey){let Ci=vi.encryptedKey;const gi=u;if(u==u){if("string"!=typeof Ci)return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Ci))return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}kn=gi===u}else kn=!0;if(kn){if(void 0!==vi.initializationVector){let Ci=vi.initializationVector;const gi=u;if(u==u){if("string"!=typeof Ci)return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Ci))return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}kn=gi===u}else kn=!0;if(kn){if(void 0!==vi.ephemeralPublicKey){const Ci=u;No(vi.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+mi+"/ephemeralPublicKey",parentData:vi,parentDataProperty:"ephemeralPublicKey",rootData:p,dynamicAnchors:y})||(l=null===l?No.errors:l.concat(No.errors),u=l.length),kn=Ci===u}else kn=!0;if(kn)if(void 0!==vi.messageAuthenticationCode){let Ci=vi.messageAuthenticationCode;const gi=u;if(u==u){if("string"!=typeof Ci)return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Ci))return Gr.errors=[{instancePath:t+"/encryption/keyEncryption/"+mi+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}kn=gi===u}else kn=!0}}}}}}}}}}if(Dc!==u)break}}}cn=ii===u}else cn=!0}}}}}Zt=hi===u}else Zt=!0;if(Zt)if(void 0!==r.descriptor){let Cn=r.descriptor;const hi=u,wo=u;let Mr=!1;const er=u;if(Cn&&"object"==typeof Cn&&!Array.isArray(Cn)){let Dr;if(void 0===Cn.published&&(Dr="published")||void 0===Cn.datePublished&&(Dr="datePublished")){const Ai={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:Dr},message:"must have required property '"+Dr+"'"};null===l?l=[Ai]:l.push(Ai),u++}else if(void 0!==Cn.published){let Ai=Cn.published;if("boolean"!=typeof Ai){const Ci={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Ci]:l.push(Ci),u++}if(!0!==Ai){const Ci={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:wl.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Ci]:l.push(Ci),u++}}}var Kn=er===u;if(Mr=Mr||Kn,Kn)var Jn={published:!0};const Er=u,ii=u,Fi=u;if(Cn&&"object"==typeof Cn&&!Array.isArray(Cn)){let Dr;if(void 0===Cn.datePublished&&(Dr="datePublished")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}if(Fi===u){const Dr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Dr]:l.push(Dr),u++}else u=ii,null!==l&&(ii?l.length=ii:l=null);if(u===Er&&Cn&&"object"==typeof Cn&&!Array.isArray(Cn)&&void 0!==Cn.published){let Dr=Cn.published;if("boolean"!=typeof Dr){const Ai={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Ai]:l.push(Ai),u++}if(!1!==Dr){const Ai={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:wl.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Ai]:l.push(Ai),u++}}Kn=Er===u,Mr=Mr||Kn,Kn&&!0!==Jn&&((Jn=Jn||{}).published=!0);const ji=u,mi=u,vi=u,Dc=u;if(Cn&&"object"==typeof Cn&&!Array.isArray(Cn)){let Dr;if(void 0===Cn.published&&(Dr="published")){const Ai={};null===l?l=[Ai]:l.push(Ai),u++}}if(Dc===u){const Dr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Dr]:l.push(Dr),u++}else u=vi,null!==l&&(vi?l.length=vi:l=null);if(mi===u){const Ai=u,Ci=u;if(Cn&&"object"==typeof Cn&&!Array.isArray(Cn)){let As;if(void 0===Cn.datePublished&&(As="datePublished")){const Td={};null===l?l=[Td]:l.push(Td),u++}}if(Ci===u){const As={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[As]:l.push(As),u++}else u=Ai,null!==l&&(Ai?l.length=Ai:l=null)}if(Kn=ji===u,Mr=Mr||Kn,!Mr){const Dr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===l?l=[Dr]:l.push(Dr),u++,Gr.errors=l,!1}if(u=wo,null!==l&&(wo?l.length=wo:l=null),u===hi){if(!Cn||"object"!=typeof Cn||Array.isArray(Cn))return Gr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Dr;if(void 0===Cn.interface&&(Dr="interface")||void 0===Cn.method&&(Dr="method")||void 0===Cn.dataCid&&(Dr="dataCid")||void 0===Cn.dataSize&&(Dr="dataSize")||void 0===Cn.dateCreated&&(Dr="dateCreated")||void 0===Cn.messageTimestamp&&(Dr="messageTimestamp")||void 0===Cn.dataFormat&&(Dr="dataFormat"))return Gr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Dr},message:"must have required property '"+Dr+"'"}],!1;{const Ai=u;for(const Ci in Cn)if(!Fh.call(wl.properties.descriptor.properties,Ci))return Gr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ci},message:"must NOT have additional properties"}],!1;if(Ai===u){let Ci;if(void 0!==Cn.parentId&&void 0===Cn.protocol&&(Ci="protocol"))return Gr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:Ci,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==Cn.interface){let gi=Cn.interface;const As=u;if("string"!=typeof gi)return Gr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==gi)return Gr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:wl.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var qn=As===u}else qn=!0;if(qn){if(void 0!==Cn.method){let gi=Cn.method;const As=u;if("string"!=typeof gi)return Gr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==gi)return Gr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:wl.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;qn=As===u}else qn=!0;if(qn){if(void 0!==Cn.recipient){let gi=Cn.recipient;const As=u;if(u==u){if("string"!=typeof gi)return Gr.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(gi))return Gr.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}qn=As===u}else qn=!0;if(qn){if(void 0!==Cn.protocol){const gi=u;if("string"!=typeof Cn.protocol)return Gr.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;qn=gi===u}else qn=!0;if(qn){if(void 0!==Cn.protocolPath){let gi=Cn.protocolPath;const As=u;if(u===As){if("string"!=typeof gi)return Gr.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qf.test(gi))return Gr.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}qn=As===u}else qn=!0;if(qn){if(void 0!==Cn.schema){const gi=u;if("string"!=typeof Cn.schema)return Gr.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;qn=gi===u}else qn=!0;if(qn){if(void 0!==Cn.tags){let gi=Cn.tags;const As=u;if(u===As){if(!gi||"object"!=typeof gi||Array.isArray(gi))return Gr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(gi).length>10)return Gr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(gi).length<1)return Gr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Ko in gi){let Vo=gi[Ko];const ta=u,qo=u;let Ei=!1,Qo=null;const Gd=u;if("string"!=typeof Vo){const Tc={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Tc]:l.push(Tc),u++}(Pn=Gd===u)&&(Ei=!0,Qo=0);const Ic=u;if("number"!=typeof Vo||!isFinite(Vo)){const Tc={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Tc]:l.push(Tc),u++}if((Pn=Ic===u)&&Ei)Ei=!1,Qo=[Qo,1];else{Pn&&(Ei=!0,Qo=1);const Tc=u;if("boolean"!=typeof Vo){const oM={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[oM]:l.push(oM),u++}if((Pn=Tc===u)&&Ei)Ei=!1,Qo=[Qo,2];else{Pn&&(Ei=!0,Qo=2);const oM=u;if(u===oM)if(Array.isArray(Vo))if(Vo.length>10){const su={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===l?l=[su]:l.push(su),u++}else if(Vo.length<1){const su={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[su]:l.push(su),u++}else{const su=Vo.length;for(let XA=0;XA<su;XA++){const Xu=u;if("string"!=typeof Vo[XA]){const sM={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+XA,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[sM]:l.push(sM),u++}if(Xu!==u)break}}else{const su={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[su]:l.push(su),u++}if((Pn=oM===u)&&Ei)Ei=!1,Qo=[Qo,3];else{if(Pn){Ei=!0,Qo=3;var Wr=!0}const su=u;if(u===su)if(Array.isArray(Vo))if(Vo.length>10){const Xu={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===l?l=[Xu]:l.push(Xu),u++}else if(Vo.length<1){const Xu={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Xu]:l.push(Xu),u++}else{const Xu=Vo.length;for(let JA=0;JA<Xu;JA++){let sM=Vo[JA];const b4=u;if("number"!=typeof sM||!isFinite(sM)){const iO={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+JA,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[iO]:l.push(iO),u++}if(b4!==u)break}}else{const Xu={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Xu]:l.push(Xu),u++}var Pn;(Pn=su===u)&&Ei?(Ei=!1,Qo=[Qo,4]):Pn&&(Ei=!0,Qo=4,!0!==Wr&&(Wr=!0))}}}if(!Ei){const Tc={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Qo},message:"must match exactly one schema in oneOf"};return null===l?l=[Tc]:l.push(Tc),u++,Gr.errors=l,!1}if(u=qo,null!==l&&(qo?l.length=qo:l=null),ta!==u)break}}qn=As===u}else qn=!0;if(qn){if(void 0!==Cn.parentId){const gi=u;if("string"!=typeof Cn.parentId)return Gr.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;qn=gi===u}else qn=!0;if(qn){if(void 0!==Cn.dataCid){const gi=u;if("string"!=typeof Cn.dataCid)return Gr.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;qn=gi===u}else qn=!0;if(qn){if(void 0!==Cn.dataSize){let gi=Cn.dataSize;const As=u;if("number"!=typeof gi||!isFinite(gi))return Gr.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;qn=As===u}else qn=!0;if(qn){if(void 0!==Cn.dateCreated){let gi=Cn.dateCreated;const As=u;if(u==u){if("string"!=typeof gi)return Gr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(gi))return Gr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}qn=As===u}else qn=!0;if(qn){if(void 0!==Cn.messageTimestamp){let gi=Cn.messageTimestamp;const As=u;if(u==u){if("string"!=typeof gi)return Gr.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(gi))return Gr.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}qn=As===u}else qn=!0;if(qn){if(void 0!==Cn.published){const gi=u;if("boolean"!=typeof Cn.published)return Gr.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;qn=gi===u}else qn=!0;if(qn){if(void 0!==Cn.datePublished){let gi=Cn.datePublished;const As=u;if(u==u){if("string"!=typeof gi)return Gr.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(gi))return Gr.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}qn=As===u}else qn=!0;if(qn)if(void 0!==Cn.dataFormat){const gi=u;if("string"!=typeof Cn.dataFormat)return Gr.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;qn=gi===u}else qn=!0}}}}}}}}}}}}}}}}}Zt=hi===u}else Zt=!0}}}}}}return Gr.errors=l,J.props=Ee,0===u}function Yc(r,{instancePath:t="",parentData:n,parentDataProperty:o,rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Yc.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),Gr(r,{instancePath:t,parentData:n,parentDataProperty:o,rootData:p,dynamicAnchors:y}))var X=Gr.evaluated.props;else l=null===l?Gr.errors:l.concat(Gr.errors),u=l.length;if(0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Yc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===r.recordId&&(oe="recordId")||void 0===r.authorization&&(oe="authorization")||void 0===r.encodedData&&(oe="encodedData"))return Yc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;if(!0!==X&&((X=X||{}).encodedData=!0),void 0!==r.encodedData){const Ee=u;if("string"!=typeof r.encodedData)return Yc.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=Ee===u}else N=!0;if(N&&!0!==X)for(const Ee in r)if(!X||!X[Ee])return Yc.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:Ee},message:"must NOT have unevaluated properties"}],!1}}return Yc.errors=l,0===u}function Ia(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Ia.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ia.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const N=u;for(const oe in r)if("signature"!==oe&&"authorDelegatedGrant"!==oe)return Ia.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(N===u){if(void 0!==r.signature){const oe=u;vo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:p,dynamicAnchors:y})||(l=null===l?vo.errors:l.concat(vo.errors),u=l.length);var X=oe===u}else X=!0;if(X)if(void 0!==r.authorDelegatedGrant){const oe=u;Yc(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:p,dynamicAnchors:y})||(l=null===l?Yc.errors:l.concat(Yc.errors),u=l.length),X=oe===u}else X=!0}}}return Ia.errors=l,0===u}Gr.evaluated={dynamicProps:!0,dynamicItems:!1},Yc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Ia.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ov=Zc,d1=$s,Qu={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function $s(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=$s.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return $s.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===r.authorization&&(oe="authorization")||void 0===r.descriptor&&(oe="descriptor"))return $s.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;{const Ee=u;for(const Le in r)if("authorization"!==Le&&"descriptor"!==Le)return $s.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties"}],!1;if(Ee===u){if(void 0!==r.authorization){const Le=u;Ia(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?Ia.errors:l.concat(Ia.errors),u=l.length);var X=Le===u}else X=!0;if(X)if(void 0!==r.descriptor){let Le=r.descriptor;const Pe=u;if(u===Pe){if(!Le||"object"!=typeof Le||Array.isArray(Le))return $s.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let mt;if(void 0===Le.interface&&(mt="interface")||void 0===Le.method&&(mt="method")||void 0===Le.messageTimestamp&&(mt="messageTimestamp")||void 0===Le.recordId&&(mt="recordId")||void 0===Le.prune&&(mt="prune"))return $s.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:mt},message:"must have required property '"+mt+"'"}],!1;{const St=u;for(const gt in Le)if("interface"!==gt&&"method"!==gt&&"messageTimestamp"!==gt&&"recordId"!==gt&&"prune"!==gt)return $s.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gt},message:"must NOT have additional properties"}],!1;if(St===u){if(void 0!==Le.interface){let gt=Le.interface;const yt=u;if("string"!=typeof gt)return $s.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==gt)return $s.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Qu.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=yt===u}else N=!0;if(N){if(void 0!==Le.method){let gt=Le.method;const yt=u;if("string"!=typeof gt)return $s.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==gt)return $s.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Qu.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=yt===u}else N=!0;if(N){if(void 0!==Le.messageTimestamp){let gt=Le.messageTimestamp;const yt=u;if(u==u){if("string"!=typeof gt)return $s.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(gt))return $s.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=yt===u}else N=!0;if(N){if(void 0!==Le.recordId){const gt=u;if("string"!=typeof Le.recordId)return $s.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;N=gt===u}else N=!0;if(N)if(void 0!==Le.prune){const gt=u;if("boolean"!=typeof Le.prune)return $s.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;N=gt===u}else N=!0}}}}}}}X=Pe===u}else X=!0}}}}return $s.errors=l,0===u}$s.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const jh=pi,ef={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},eh={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},kd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function gr(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=gr.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return gr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return gr.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const io=u;for(const Cn in r)if(!Fh.call(kd.properties,Cn))return gr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"}],!1;if(io===u){if(void 0!==r.datePublished){const Cn=u,hi=u;let wo=!1,Mr=null;const er=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ji;if(void 0===r.published&&(ji="published")){const mi={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:ji},message:"must have required property '"+ji+"'"};null===l?l=[mi]:l.push(mi),u++}else if(void 0!==r.published&&!0!==r.published){const mi={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:kd.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[mi]:l.push(mi),u++}}er===u&&(wo=!0,Mr=0);const Er=u,ii=u,Fi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ji;if(void 0===r.published&&(ji="published")){const mi={};null===l?l=[mi]:l.push(mi),u++}}var oe;if(Fi===u){const ji={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[ji]:l.push(ji),u++}else u=ii,null!==l&&(ii?l.length=ii:l=null);if((oe=Er===u)&&wo?(wo=!1,Mr=[Mr,1]):oe&&(wo=!0,Mr=1),!wo){const ji={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:Mr},message:"must match exactly one schema in oneOf"};return null===l?l=[ji]:l.push(ji),u++,gr.errors=l,!1}u=hi,null!==l&&(hi?l.length=hi:l=null);var Ee=Cn===u}else Ee=!0;if(Ee){if(void 0!==r.protocol){const Cn=u;if("string"!=typeof r.protocol)return gr.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Le=Cn===u}else Le=!0;if(Le){if(void 0!==r.protocolPath){const Cn=u;if("string"!=typeof r.protocolPath)return gr.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Cn===u}else Le=!0;if(Le){if(void 0!==r.author){let Cn=r.author;const hi=u;if(u==u){if("string"!=typeof Cn)return gr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(Cn))return gr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Le=hi===u}else Le=!0;if(Le){if(void 0!==r.attester){let Cn=r.attester;const hi=u;if(u==u){if("string"!=typeof Cn)return gr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(Cn))return gr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Le=hi===u}else Le=!0;if(Le){if(void 0!==r.recipient){let Cn=r.recipient;const hi=u;if(u==u){if("string"!=typeof Cn)return gr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(Cn))return gr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Le=hi===u}else Le=!0;if(Le){if(void 0!==r.contextId){const Cn=u;if("string"!=typeof r.contextId)return gr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Cn===u}else Le=!0;if(Le){if(void 0!==r.schema){const Cn=u;if("string"!=typeof r.schema)return gr.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Cn===u}else Le=!0;if(Le){if(void 0!==r.tags){let Cn=r.tags;const hi=u;if(u===hi){if(!Cn||"object"!=typeof Cn||Array.isArray(Cn))return gr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Cn).length<1)return gr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Mr in Cn){let er=Cn[Mr];const Er=u,ii=u;let Fi=!1,ji=null;const mi=u;if("string"!=typeof er){const Dc={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dc]:l.push(Dc),u++}(Pe=mi===u)&&(Fi=!0,ji=0);const vi=u;if("number"!=typeof er||!isFinite(er)){const Dc={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Dc]:l.push(Dc),u++}if((Pe=vi===u)&&Fi)Fi=!1,ji=[ji,1];else{Pe&&(Fi=!0,ji=1);const Dc=u;if("boolean"!=typeof er){const Dr={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Dr]:l.push(Dr),u++}if((Pe=Dc===u)&&Fi)Fi=!1,ji=[ji,2];else{Pe&&(Fi=!0,ji=2);const Dr=u;if(u===Dr)if(er&&"object"==typeof er&&!Array.isArray(er))if(Object.keys(er).length<1){const Ci={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[Ci]:l.push(Ci),u++}else{const Ci=u;for(const gi in er)if("startsWith"!==gi){const As={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gi},message:"must NOT have additional properties"};null===l?l=[As]:l.push(As),u++;break}if(Ci===u&&void 0!==er.startsWith&&"string"!=typeof er.startsWith){const gi={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[gi]:l.push(gi),u++}}else{const Ci={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ci]:l.push(Ci),u++}if((Pe=Dr===u)&&Fi)Fi=!1,ji=[ji,3];else{if(Pe){Fi=!0,ji=3;var Ye=!0}const Ci=u;if(u==u)if(er&&"object"==typeof er&&!Array.isArray(er))if(Object.keys(er).length<1){const Td={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[Td]:l.push(Td),u++}else{const Td=u;for(const Ko in er)if("gt"!==Ko&&"gte"!==Ko&&"lt"!==Ko&&"lte"!==Ko){const Vo={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ko},message:"must NOT have additional properties"};null===l?l=[Vo]:l.push(Vo),u++;break}if(Td===u){if(void 0!==er.gt){const Ko=u,Vo=u,ta=u;if(er&&"object"==typeof er&&!Array.isArray(er)){let qo;if(void 0===er.gte&&(qo="gte")){const Ei={};null===l?l=[Ei]:l.push(Ei),u++}}if(ta===u){const qo={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[qo]:l.push(qo),u++}else u=Vo,null!==l&&(Vo?l.length=Vo:l=null);var St=Ko===u}else St=!0;if(St){if(void 0!==er.gte){const Ko=u,Vo=u,ta=u;if(er&&"object"==typeof er&&!Array.isArray(er)){let Ei;if(void 0===er.gt&&(Ei="gt")){const Qo={};null===l?l=[Qo]:l.push(Qo),u++}}if(ta===u){const Ei={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ei]:l.push(Ei),u++}else u=Vo,null!==l&&(Vo?l.length=Vo:l=null);St=Ko===u}else St=!0;if(St){if(void 0!==er.lt){const Ko=u,Vo=u,ta=u;if(er&&"object"==typeof er&&!Array.isArray(er)){let Ei;if(void 0===er.lte&&(Ei="lte")){const Qo={};null===l?l=[Qo]:l.push(Qo),u++}}if(ta===u){const Ei={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ei]:l.push(Ei),u++}else u=Vo,null!==l&&(Vo?l.length=Vo:l=null);St=Ko===u}else St=!0;if(St){if(void 0!==er.lte){const Ko=u,Vo=u,ta=u;if(er&&"object"==typeof er&&!Array.isArray(er)){let Ei;if(void 0===er.lt&&(Ei="lt")){const Qo={};null===l?l=[Qo]:l.push(Qo),u++}}if(ta===u){const Ei={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ei]:l.push(Ei),u++}else u=Vo,null!==l&&(Vo?l.length=Vo:l=null);St=Ko===u}else St=!0;if(St){if(void 0!==er.gt){const Ko=u;if("string"!=typeof er.gt){const Vo={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Vo]:l.push(Vo),u++}var zt=Ko===u}else zt=!0;if(zt){if(void 0!==er.gte){const Ko=u;if("string"!=typeof er.gte){const ta={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[ta]:l.push(ta),u++}zt=Ko===u}else zt=!0;if(zt){if(void 0!==er.lt){const Ko=u;if("string"!=typeof er.lt){const ta={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[ta]:l.push(ta),u++}zt=Ko===u}else zt=!0;if(zt)if(void 0!==er.lte){const Ko=u;if("string"!=typeof er.lte){const ta={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[ta]:l.push(ta),u++}zt=Ko===u}else zt=!0}}}}}}}}else{const Td={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Td]:l.push(Td),u++}if((Pe=Ci===u)&&Fi)Fi=!1,ji=[ji,4];else{Pe&&(Fi=!0,ji=4,!0!==Ye&&(Ye=!0));const Td=u;if(u==u)if(er&&"object"==typeof er&&!Array.isArray(er))if(Object.keys(er).length<1){const ta={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[ta]:l.push(ta),u++}else{const ta=u;for(const qo in er)if("gt"!==qo&&"gte"!==qo&&"lt"!==qo&&"lte"!==qo){const Ei={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qo},message:"must NOT have additional properties"};null===l?l=[Ei]:l.push(Ei),u++;break}if(ta===u){if(void 0!==er.gt){const qo=u,Ei=u,Qo=u;if(er&&"object"==typeof er&&!Array.isArray(er)){let Gd;if(void 0===er.gte&&(Gd="gte")){const Ic={};null===l?l=[Ic]:l.push(Ic),u++}}if(Qo===u){const Gd={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Gd]:l.push(Gd),u++}else u=Ei,null!==l&&(Ei?l.length=Ei:l=null);var cn=qo===u}else cn=!0;if(cn){if(void 0!==er.gte){const qo=u,Ei=u,Qo=u;if(er&&"object"==typeof er&&!Array.isArray(er)){let Ic;if(void 0===er.gt&&(Ic="gt")){const Tc={};null===l?l=[Tc]:l.push(Tc),u++}}if(Qo===u){const Ic={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ic]:l.push(Ic),u++}else u=Ei,null!==l&&(Ei?l.length=Ei:l=null);cn=qo===u}else cn=!0;if(cn){if(void 0!==er.lt){const qo=u,Ei=u,Qo=u;if(er&&"object"==typeof er&&!Array.isArray(er)){let Ic;if(void 0===er.lte&&(Ic="lte")){const Tc={};null===l?l=[Tc]:l.push(Tc),u++}}if(Qo===u){const Ic={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ic]:l.push(Ic),u++}else u=Ei,null!==l&&(Ei?l.length=Ei:l=null);cn=qo===u}else cn=!0;if(cn){if(void 0!==er.lte){const qo=u,Ei=u,Qo=u;if(er&&"object"==typeof er&&!Array.isArray(er)){let Ic;if(void 0===er.lt&&(Ic="lt")){const Tc={};null===l?l=[Tc]:l.push(Tc),u++}}if(Qo===u){const Ic={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ic]:l.push(Ic),u++}else u=Ei,null!==l&&(Ei?l.length=Ei:l=null);cn=qo===u}else cn=!0;if(cn){if(void 0!==er.gt){let qo=er.gt;const Ei=u;if("number"!=typeof qo||!isFinite(qo)){const Qo={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Qo]:l.push(Qo),u++}var tr=Ei===u}else tr=!0;if(tr){if(void 0!==er.gte){let qo=er.gte;const Ei=u;if("number"!=typeof qo||!isFinite(qo)){const Gd={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Gd]:l.push(Gd),u++}tr=Ei===u}else tr=!0;if(tr){if(void 0!==er.lt){let qo=er.lt;const Ei=u;if("number"!=typeof qo||!isFinite(qo)){const Gd={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Gd]:l.push(Gd),u++}tr=Ei===u}else tr=!0;if(tr)if(void 0!==er.lte){let qo=er.lte;const Ei=u;if("number"!=typeof qo||!isFinite(qo)){const Gd={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Gd]:l.push(Gd),u++}tr=Ei===u}else tr=!0}}}}}}}}else{const ta={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[ta]:l.push(ta),u++}var Pe;(Pe=Td===u)&&Fi?(Fi=!1,ji=[ji,5]):Pe&&(Fi=!0,ji=5,!0!==Ye&&(Ye=!0))}}}}if(!Fi){const Dc={instancePath:t+"/tags/"+Mr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:ji},message:"must match exactly one schema in oneOf"};return null===l?l=[Dc]:l.push(Dc),u++,gr.errors=l,!1}if(u=ii,null!==l&&(ii?l.length=ii:l=null),Er!==u)break}}Le=hi===u}else Le=!0;if(Le){if(void 0!==r.recordId){const Cn=u;if("string"!=typeof r.recordId)return gr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Cn===u}else Le=!0;if(Le){if(void 0!==r.parentId){const Cn=u;if("string"!=typeof r.parentId)return gr.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Cn===u}else Le=!0;if(Le){if(void 0!==r.published){const Cn=u;if("boolean"!=typeof r.published)return gr.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Le=Cn===u}else Le=!0;if(Le){if(void 0!==r.dataFormat){const Cn=u;if("string"!=typeof r.dataFormat)return gr.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Cn===u}else Le=!0;if(Le){if(void 0!==r.dataSize){let Cn=r.dataSize;const hi=u;if(u==u){if(!Cn||"object"!=typeof Cn||Array.isArray(Cn))return gr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Cn).length<1)return gr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const er=u;for(const Er in Cn)if("gt"!==Er&&"gte"!==Er&&"lt"!==Er&&"lte"!==Er)return gr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Er},message:"must NOT have additional properties"}],!1;if(er===u){if(void 0!==Cn.gt){const Er=u,ii=u,Fi=u;if(Cn&&"object"==typeof Cn&&!Array.isArray(Cn)){let ji;if(void 0===Cn.gte&&(ji="gte")){const mi={};null===l?l=[mi]:l.push(mi),u++}}if(Fi===u)return gr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ii,null!==l&&(ii?l.length=ii:l=null);var Gn=Er===u}else Gn=!0;if(Gn){if(void 0!==Cn.gte){const Er=u,ii=u,Fi=u;if(Cn&&"object"==typeof Cn&&!Array.isArray(Cn)){let mi;if(void 0===Cn.gt&&(mi="gt")){const vi={};null===l?l=[vi]:l.push(vi),u++}}if(Fi===u)return gr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ii,null!==l&&(ii?l.length=ii:l=null),Gn=Er===u}else Gn=!0;if(Gn){if(void 0!==Cn.lt){const Er=u,ii=u,Fi=u;if(Cn&&"object"==typeof Cn&&!Array.isArray(Cn)){let mi;if(void 0===Cn.lte&&(mi="lte")){const vi={};null===l?l=[vi]:l.push(vi),u++}}if(Fi===u)return gr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ii,null!==l&&(ii?l.length=ii:l=null),Gn=Er===u}else Gn=!0;if(Gn){if(void 0!==Cn.lte){const Er=u,ii=u,Fi=u;if(Cn&&"object"==typeof Cn&&!Array.isArray(Cn)){let mi;if(void 0===Cn.lt&&(mi="lt")){const vi={};null===l?l=[vi]:l.push(vi),u++}}if(Fi===u)return gr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ii,null!==l&&(ii?l.length=ii:l=null),Gn=Er===u}else Gn=!0;if(Gn){if(void 0!==Cn.gt){let Er=Cn.gt;const ii=u;if("number"!=typeof Er||!isFinite(Er))return gr.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var br=ii===u}else br=!0;if(br){if(void 0!==Cn.gte){let Er=Cn.gte;const ii=u;if("number"!=typeof Er||!isFinite(Er))return gr.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;br=ii===u}else br=!0;if(br){if(void 0!==Cn.lt){let Er=Cn.lt;const ii=u;if("number"!=typeof Er||!isFinite(Er))return gr.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;br=ii===u}else br=!0;if(br)if(void 0!==Cn.lte){let Er=Cn.lte;const ii=u;if("number"!=typeof Er||!isFinite(Er))return gr.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;br=ii===u}else br=!0}}}}}}}}}Le=hi===u}else Le=!0;if(Le){if(void 0!==r.dataCid){const Cn=u;if("string"!=typeof r.dataCid)return gr.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Cn===u}else Le=!0;if(Le){if(void 0!==r.dateCreated){let Cn=r.dateCreated;const hi=u;if(u===hi){if(!Cn||"object"!=typeof Cn||Array.isArray(Cn))return gr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Cn).length<1)return gr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Mr=u;for(const er in Cn)if("from"!==er&&"to"!==er)return gr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:er},message:"must NOT have additional properties"}],!1;if(Mr===u){if(void 0!==Cn.from){let er=Cn.from;const Er=u;if(u==u){if("string"!=typeof er)return gr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(er))return gr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Wr=Er===u}else Wr=!0;if(Wr)if(void 0!==Cn.to){let er=Cn.to;const Er=u;if(u==u){if("string"!=typeof er)return gr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(er))return gr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Wr=Er===u}else Wr=!0}}}Le=hi===u}else Le=!0;if(Le){if(void 0!==r.datePublished){let Cn=r.datePublished;const hi=u;if(u===hi){if(!Cn||"object"!=typeof Cn||Array.isArray(Cn))return gr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Cn).length<1)return gr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Mr=u;for(const er in Cn)if("from"!==er&&"to"!==er)return gr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:er},message:"must NOT have additional properties"}],!1;if(Mr===u){if(void 0!==Cn.from){let er=Cn.from;const Er=u;if(u==u){if("string"!=typeof er)return gr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(er))return gr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Ar=Er===u}else Ar=!0;if(Ar)if(void 0!==Cn.to){let er=Cn.to;const Er=u;if(u==u){if("string"!=typeof er)return gr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(er))return gr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Ar=Er===u}else Ar=!0}}}Le=hi===u}else Le=!0;if(Le)if(void 0!==r.dateUpdated){let Cn=r.dateUpdated;const hi=u;if(u===hi){if(!Cn||"object"!=typeof Cn||Array.isArray(Cn))return gr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Cn).length<1)return gr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Mr=u;for(const er in Cn)if("from"!==er&&"to"!==er)return gr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:er},message:"must NOT have additional properties"}],!1;if(Mr===u){if(void 0!==Cn.from){let er=Cn.from;const Er=u;if(u==u){if("string"!=typeof er)return gr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(er))return gr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var ai=Er===u}else ai=!0;if(ai)if(void 0!==Cn.to){let er=Cn.to;const Er=u;if(u==u){if("string"!=typeof er)return gr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(er))return gr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}ai=Er===u}else ai=!0}}}Le=hi===u}else Le=!0}}}}}}}}}}}}}}}}}}}return gr.errors=l,0===u}function pi(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=pi.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return pi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Le;if(void 0===r.descriptor&&(Le="descriptor"))return pi.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Le},message:"must have required property '"+Le+"'"}],!1;{const Pe=u;for(const Ye in r)if("authorization"!==Ye&&"descriptor"!==Ye)return pi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ye},message:"must NOT have additional properties"}],!1;if(Pe===u){if(void 0!==r.authorization){const Ye=u;Ia(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?Ia.errors:l.concat(Ia.errors),u=l.length);var X=Ye===u}else X=!0;if(X)if(void 0!==r.descriptor){let Ye=r.descriptor;const mt=u;if(u===mt){if(!Ye||"object"!=typeof Ye||Array.isArray(Ye))return pi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let gt;if(void 0===Ye.interface&&(gt="interface")||void 0===Ye.method&&(gt="method")||void 0===Ye.messageTimestamp&&(gt="messageTimestamp")||void 0===Ye.filter&&(gt="filter"))return pi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:gt},message:"must have required property '"+gt+"'"}],!1;{const yt=u;for(const Tt in Ye)if("interface"!==Tt&&"method"!==Tt&&"messageTimestamp"!==Tt&&"filter"!==Tt&&"pagination"!==Tt&&"dateSort"!==Tt)return pi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tt},message:"must NOT have additional properties"}],!1;if(yt===u){if(void 0!==Ye.interface){let Tt=Ye.interface;const zt=u;if("string"!=typeof Tt)return pi.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Tt)return pi.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ef.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=zt===u}else N=!0;if(N){if(void 0!==Ye.method){let Tt=Ye.method;const zt=u;if("string"!=typeof Tt)return pi.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Tt)return pi.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ef.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=zt===u}else N=!0;if(N){if(void 0!==Ye.messageTimestamp){let Tt=Ye.messageTimestamp;const zt=u;if(u==u){if("string"!=typeof Tt)return pi.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(Tt))return pi.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=zt===u}else N=!0;if(N){if(void 0!==Ye.filter){const Tt=u;gr(Ye.filter,{instancePath:t+"/descriptor/filter",parentData:Ye,parentDataProperty:"filter",rootData:p,dynamicAnchors:y})||(l=null===l?gr.errors:l.concat(gr.errors),u=l.length),N=Tt===u}else N=!0;if(N){if(void 0!==Ye.pagination){let Tt=Ye.pagination;const zt=u;if(u===zt){if(!Tt||"object"!=typeof Tt||Array.isArray(Tt))return pi.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const cn=u;for(const $t in Tt)if("limit"!==$t&&"cursor"!==$t)return pi.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$t},message:"must NOT have additional properties"}],!1;if(cn===u){if(void 0!==Tt.limit){let $t=Tt.limit;const kn=u;if(u===kn){if("number"!=typeof $t||!isFinite($t))return pi.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if($t<1||isNaN($t))return pi.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var oe=kn===u}else oe=!0;if(oe)if(void 0!==Tt.cursor){let $t=Tt.cursor;const kn=u;if(u==u){if(!$t||"object"!=typeof $t||Array.isArray($t))return pi.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($t).length<1)return pi.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let dr;if(void 0===$t.messageCid&&(dr="messageCid")||void 0===$t.value&&(dr="value"))return pi.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:dr},message:"must have required property '"+dr+"'"}],!1;{const Zn=u;for(const Gn in $t)if("messageCid"!==Gn&&"value"!==Gn)return pi.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Gn},message:"must NOT have additional properties"}],!1;if(Zn===u){if(void 0!==$t.messageCid){const Gn=u;if("string"!=typeof $t.messageCid)return pi.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ee=Gn===u}else Ee=!0;if(Ee)if(void 0!==$t.value){let Gn=$t.value;const Kn=u;if("string"!=typeof Gn&&("number"!=typeof Gn||!isFinite(Gn)))return pi.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:eh.properties.value.type},message:"must be string,number"}],!1;Ee=Kn===u}else Ee=!0}}}}oe=kn===u}else oe=!0}}}N=zt===u}else N=!0;if(N)if(void 0!==Ye.dateSort){let Tt=Ye.dateSort;const zt=u;if("string"!=typeof Tt)return pi.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==Tt&&"createdDescending"!==Tt&&"publishedAscending"!==Tt&&"publishedDescending"!==Tt)return pi.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:ef.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;N=zt===u}else N=!0}}}}}}}}X=mt===u}else X=!0}}}}return pi.errors=l,0===u}gr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},pi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Eg=na,hm={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function na(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=na.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return na.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===r.descriptor&&(oe="descriptor"))return na.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;{const Ee=u;for(const Le in r)if("authorization"!==Le&&"descriptor"!==Le)return na.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties"}],!1;if(Ee===u){if(void 0!==r.authorization){const Le=u;Ia(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?Ia.errors:l.concat(Ia.errors),u=l.length);var X=Le===u}else X=!0;if(X)if(void 0!==r.descriptor){let Le=r.descriptor;const Pe=u;if(u===Pe){if(!Le||"object"!=typeof Le||Array.isArray(Le))return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let mt;if(void 0===Le.interface&&(mt="interface")||void 0===Le.method&&(mt="method")||void 0===Le.messageTimestamp&&(mt="messageTimestamp")||void 0===Le.filter&&(mt="filter"))return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:mt},message:"must have required property '"+mt+"'"}],!1;{const St=u;for(const gt in Le)if("interface"!==gt&&"method"!==gt&&"messageTimestamp"!==gt&&"filter"!==gt)return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gt},message:"must NOT have additional properties"}],!1;if(St===u){if(void 0!==Le.interface){let gt=Le.interface;const yt=u;if("string"!=typeof gt)return na.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==gt)return na.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:hm.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=yt===u}else N=!0;if(N){if(void 0!==Le.method){let gt=Le.method;const yt=u;if("string"!=typeof gt)return na.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==gt)return na.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:hm.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=yt===u}else N=!0;if(N){if(void 0!==Le.messageTimestamp){let gt=Le.messageTimestamp;const yt=u;if(u==u){if("string"!=typeof gt)return na.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(gt))return na.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=yt===u}else N=!0;if(N)if(void 0!==Le.filter){const gt=u;gr(Le.filter,{instancePath:t+"/descriptor/filter",parentData:Le,parentDataProperty:"filter",rootData:p,dynamicAnchors:y})||(l=null===l?gr.errors:l.concat(gr.errors),u=l.length),N=gt===u}else N=!0}}}}}}X=Pe===u}else X=!0}}}}return na.errors=l,0===u}na.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const nh=Xe;function Xe(r,{instancePath:t="",parentData:n,parentDataProperty:o,rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Xe.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),Gr(r,{instancePath:t,parentData:n,parentDataProperty:o,rootData:p,dynamicAnchors:y}))var X=Gr.evaluated.props;else l=null===l?Gr.errors:l.concat(Gr.errors),u=l.length;if(0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Xe.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.recordId&&(N="recordId")||void 0===r.authorization&&(N="authorization"))return Xe.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;if(!0!==X)for(const oe in r)if(!X||!X[oe])return Xe.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:oe},message:"must NOT have unevaluated properties"}],!1}}return Xe.errors=l,0===u}Xe.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Lt=Yc,ht=Gr,Nt=Ln,En={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Permissions","Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Grant","Revoke","Write"],type:"string"},protocol:{type:"string"},protocolPath:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Ln(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Ln.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ln.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Ln.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const cn=u;for(const $t in r)if(!Fh.call(En.properties,$t))return Ln.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$t},message:"must NOT have additional properties"}],!1;if(cn===u){if(void 0!==r.datePublished){const $t=u,kn=u;let Jn=!1,tr=null;const dr=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let qn;if(void 0===r.published&&(qn="published")){const Pn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:qn},message:"must have required property '"+qn+"'"};null===l?l=[Pn]:l.push(Pn),u++}else if(void 0!==r.published&&!0!==r.published){const Pn={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:En.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Pn]:l.push(Pn),u++}}dr===u&&(Jn=!0,tr=0);const Zn=u,Gn=u,Kn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let qn;if(void 0===r.published&&(qn="published")){const Pn={};null===l?l=[Pn]:l.push(Pn),u++}}var oe;if(Kn===u){const qn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[qn]:l.push(qn),u++}else u=Gn,null!==l&&(Gn?l.length=Gn:l=null);if((oe=Zn===u)&&Jn?(Jn=!1,tr=[tr,1]):oe&&(Jn=!0,tr=1),!Jn){const qn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:tr},message:"must match exactly one schema in oneOf"};return null===l?l=[qn]:l.push(qn),u++,Ln.errors=l,!1}u=kn,null!==l&&(kn?l.length=kn:l=null);var Ee=$t===u}else Ee=!0;if(Ee){if(void 0!==r.interface){let $t=r.interface;const kn=u;if("string"!=typeof $t)return Ln.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Permissions"!==$t&&"Protocols"!==$t&&"Records"!==$t)return Ln.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:En.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var Le=kn===u}else Le=!0;if(Le){if(void 0!==r.method){let $t=r.method;const kn=u;if("string"!=typeof $t)return Ln.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==$t&&"Delete"!==$t&&"Grant"!==$t&&"Revoke"!==$t&&"Write"!==$t)return Ln.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:En.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;Le=kn===u}else Le=!0;if(Le){if(void 0!==r.protocol){const $t=u;if("string"!=typeof r.protocol)return Ln.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=$t===u}else Le=!0;if(Le){if(void 0!==r.protocolPath){const $t=u;if("string"!=typeof r.protocolPath)return Ln.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=$t===u}else Le=!0;if(Le){if(void 0!==r.recipient){let $t=r.recipient;const kn=u;if(u==u){if("string"!=typeof $t)return Ln.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test($t))return Ln.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Le=kn===u}else Le=!0;if(Le){if(void 0!==r.contextId){const $t=u;if("string"!=typeof r.contextId)return Ln.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=$t===u}else Le=!0;if(Le){if(void 0!==r.schema){const $t=u;if("string"!=typeof r.schema)return Ln.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=$t===u}else Le=!0;if(Le){if(void 0!==r.recordId){const $t=u;if("string"!=typeof r.recordId)return Ln.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=$t===u}else Le=!0;if(Le){if(void 0!==r.parentId){const $t=u;if("string"!=typeof r.parentId)return Ln.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=$t===u}else Le=!0;if(Le){if(void 0!==r.dataFormat){const $t=u;if("string"!=typeof r.dataFormat)return Ln.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=$t===u}else Le=!0;if(Le){if(void 0!==r.dataSize){let $t=r.dataSize;const kn=u;if(u==u){if(!$t||"object"!=typeof $t||Array.isArray($t))return Ln.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($t).length<1)return Ln.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const dr=u;for(const Zn in $t)if("gt"!==Zn&&"gte"!==Zn&&"lt"!==Zn&&"lte"!==Zn)return Ln.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Zn},message:"must NOT have additional properties"}],!1;if(dr===u){if(void 0!==$t.gt){const Zn=u,Gn=u,Kn=u;if($t&&"object"==typeof $t&&!Array.isArray($t)){let qn;if(void 0===$t.gte&&(qn="gte")){const Pn={};null===l?l=[Pn]:l.push(Pn),u++}}if(Kn===u)return Ln.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Gn,null!==l&&(Gn?l.length=Gn:l=null);var Ye=Zn===u}else Ye=!0;if(Ye){if(void 0!==$t.gte){const Zn=u,Gn=u,Kn=u;if($t&&"object"==typeof $t&&!Array.isArray($t)){let Pn;if(void 0===$t.gt&&(Pn="gt")){const br={};null===l?l=[br]:l.push(br),u++}}if(Kn===u)return Ln.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Gn,null!==l&&(Gn?l.length=Gn:l=null),Ye=Zn===u}else Ye=!0;if(Ye){if(void 0!==$t.lt){const Zn=u,Gn=u,Kn=u;if($t&&"object"==typeof $t&&!Array.isArray($t)){let Pn;if(void 0===$t.lte&&(Pn="lte")){const br={};null===l?l=[br]:l.push(br),u++}}if(Kn===u)return Ln.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Gn,null!==l&&(Gn?l.length=Gn:l=null),Ye=Zn===u}else Ye=!0;if(Ye){if(void 0!==$t.lte){const Zn=u,Gn=u,Kn=u;if($t&&"object"==typeof $t&&!Array.isArray($t)){let Pn;if(void 0===$t.lt&&(Pn="lt")){const br={};null===l?l=[br]:l.push(br),u++}}if(Kn===u)return Ln.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Gn,null!==l&&(Gn?l.length=Gn:l=null),Ye=Zn===u}else Ye=!0;if(Ye){if(void 0!==$t.gt){let Zn=$t.gt;const Gn=u;if("number"!=typeof Zn||!isFinite(Zn))return Ln.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var yt=Gn===u}else yt=!0;if(yt){if(void 0!==$t.gte){let Zn=$t.gte;const Gn=u;if("number"!=typeof Zn||!isFinite(Zn))return Ln.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yt=Gn===u}else yt=!0;if(yt){if(void 0!==$t.lt){let Zn=$t.lt;const Gn=u;if("number"!=typeof Zn||!isFinite(Zn))return Ln.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yt=Gn===u}else yt=!0;if(yt)if(void 0!==$t.lte){let Zn=$t.lte;const Gn=u;if("number"!=typeof Zn||!isFinite(Zn))return Ln.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yt=Gn===u}else yt=!0}}}}}}}}}Le=kn===u}else Le=!0;if(Le){if(void 0!==r.dateCreated){let $t=r.dateCreated;const kn=u;if(u===kn){if(!$t||"object"!=typeof $t||Array.isArray($t))return Ln.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($t).length<1)return Ln.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const tr=u;for(const dr in $t)if("from"!==dr&&"to"!==dr)return Ln.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dr},message:"must NOT have additional properties"}],!1;if(tr===u){if(void 0!==$t.from){let dr=$t.from;const Zn=u;if(u==u){if("string"!=typeof dr)return Ln.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(dr))return Ln.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Tt=Zn===u}else Tt=!0;if(Tt)if(void 0!==$t.to){let dr=$t.to;const Zn=u;if(u==u){if("string"!=typeof dr)return Ln.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(dr))return Ln.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Tt=Zn===u}else Tt=!0}}}Le=kn===u}else Le=!0;if(Le){if(void 0!==r.datePublished){let $t=r.datePublished;const kn=u;if(u===kn){if(!$t||"object"!=typeof $t||Array.isArray($t))return Ln.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($t).length<1)return Ln.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const tr=u;for(const dr in $t)if("from"!==dr&&"to"!==dr)return Ln.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dr},message:"must NOT have additional properties"}],!1;if(tr===u){if(void 0!==$t.from){let dr=$t.from;const Zn=u;if(u==u){if("string"!=typeof dr)return Ln.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(dr))return Ln.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var zt=Zn===u}else zt=!0;if(zt)if(void 0!==$t.to){let dr=$t.to;const Zn=u;if(u==u){if("string"!=typeof dr)return Ln.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(dr))return Ln.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}zt=Zn===u}else zt=!0}}}Le=kn===u}else Le=!0;if(Le)if(void 0!==r.dateUpdated){let $t=r.dateUpdated;const kn=u;if(u===kn){if(!$t||"object"!=typeof $t||Array.isArray($t))return Ln.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($t).length<1)return Ln.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const tr=u;for(const dr in $t)if("from"!==dr&&"to"!==dr)return Ln.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dr},message:"must NOT have additional properties"}],!1;if(tr===u){if(void 0!==$t.from){let dr=$t.from;const Zn=u;if(u==u){if("string"!=typeof dr)return Ln.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(dr))return Ln.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Zt=Zn===u}else Zt=!0;if(Zt)if(void 0!==$t.to){let dr=$t.to;const Zn=u;if(u==u){if("string"!=typeof dr)return Ln.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(dr))return Ln.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Zt=Zn===u}else Zt=!0}}}Le=kn===u}else Le=!0}}}}}}}}}}}}}}}}return Ln.errors=l,0===u}Ln.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const mr=Ni,qr={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function Ni(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Ni.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ni.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ee;if(void 0===r.authorization&&(Ee="authorization")||void 0===r.descriptor&&(Ee="descriptor"))return Ni.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ee},message:"must have required property '"+Ee+"'"}],!1;{const Le=u;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return Ni.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Le===u){if(void 0!==r.authorization){const Pe=u;bi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?bi.errors:l.concat(bi.errors),u=l.length);var X=Pe===u}else X=!0;if(X)if(void 0!==r.descriptor){let Pe=r.descriptor;const Ye=u;if(u===Ye){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return Ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let St;if(void 0===Pe.interface&&(St="interface")||void 0===Pe.method&&(St="method")||void 0===Pe.messageTimestamp&&(St="messageTimestamp"))return Ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:St},message:"must have required property '"+St+"'"}],!1;{const gt=u;for(const yt in Pe)if("interface"!==yt&&"method"!==yt&&"messageTimestamp"!==yt&&"cursor"!==yt)return Ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:yt},message:"must NOT have additional properties"}],!1;if(gt===u){if(void 0!==Pe.interface){let yt=Pe.interface;const Tt=u;if("string"!=typeof yt)return Ni.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==yt)return Ni.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:qr.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=Tt===u}else N=!0;if(N){if(void 0!==Pe.method){let yt=Pe.method;const Tt=u;if("string"!=typeof yt)return Ni.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==yt)return Ni.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:qr.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=Tt===u}else N=!0;if(N){if(void 0!==Pe.messageTimestamp){const yt=u;if("string"!=typeof Pe.messageTimestamp)return Ni.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;N=yt===u}else N=!0;if(N)if(void 0!==Pe.cursor){let yt=Pe.cursor;const Tt=u;if(u==u){if(!yt||"object"!=typeof yt||Array.isArray(yt))return Ni.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(yt).length<1)return Ni.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let cn;if(void 0===yt.messageCid&&(cn="messageCid")||void 0===yt.value&&(cn="value"))return Ni.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:cn},message:"must have required property '"+cn+"'"}],!1;{const $t=u;for(const kn in yt)if("messageCid"!==kn&&"value"!==kn)return Ni.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:kn},message:"must NOT have additional properties"}],!1;if($t===u){if(void 0!==yt.messageCid){const kn=u;if("string"!=typeof yt.messageCid)return Ni.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var oe=kn===u}else oe=!0;if(oe)if(void 0!==yt.value){let kn=yt.value;const Jn=u;if("string"!=typeof kn&&("number"!=typeof kn||!isFinite(kn)))return Ni.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:eh.properties.value.type},message:"must be string,number"}],!1;oe=Jn===u}else oe=!0}}}}N=Tt===u}else N=!0}}}}}}X=Ye===u}else X=!0}}}}return Ni.errors=l,0===u}Ni.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ho=ni,Ro={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",minItems:1,items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function ni(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=ni.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return ni.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Le;if(void 0===r.authorization&&(Le="authorization")||void 0===r.descriptor&&(Le="descriptor"))return ni.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Le},message:"must have required property '"+Le+"'"}],!1;{const Pe=u;for(const Ye in r)if("authorization"!==Ye&&"descriptor"!==Ye)return ni.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ye},message:"must NOT have additional properties"}],!1;if(Pe===u){if(void 0!==r.authorization){const Ye=u;bi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?bi.errors:l.concat(bi.errors),u=l.length);var X=Ye===u}else X=!0;if(X)if(void 0!==r.descriptor){let Ye=r.descriptor;const mt=u;if(u===mt){if(!Ye||"object"!=typeof Ye||Array.isArray(Ye))return ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let gt;if(void 0===Ye.interface&&(gt="interface")||void 0===Ye.method&&(gt="method")||void 0===Ye.messageTimestamp&&(gt="messageTimestamp")||void 0===Ye.filters&&(gt="filters"))return ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:gt},message:"must have required property '"+gt+"'"}],!1;{const yt=u;for(const Tt in Ye)if("interface"!==Tt&&"method"!==Tt&&"messageTimestamp"!==Tt&&"filters"!==Tt&&"cursor"!==Tt)return ni.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tt},message:"must NOT have additional properties"}],!1;if(yt===u){if(void 0!==Ye.interface){let Tt=Ye.interface;const zt=u;if("string"!=typeof Tt)return ni.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==Tt)return ni.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ro.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=zt===u}else N=!0;if(N){if(void 0!==Ye.method){let Tt=Ye.method;const zt=u;if("string"!=typeof Tt)return ni.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Tt)return ni.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ro.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=zt===u}else N=!0;if(N){if(void 0!==Ye.messageTimestamp){let Tt=Ye.messageTimestamp;const zt=u;if(u==u){if("string"!=typeof Tt)return ni.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(Tt))return ni.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=zt===u}else N=!0;if(N){if(void 0!==Ye.filters){let Tt=Ye.filters;const zt=u;if(u===zt){if(!Array.isArray(Tt))return ni.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Tt.length<1)return ni.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const cn=Tt.length;for(let $t=0;$t<cn;$t++){const kn=u;if(Ln(Tt[$t],{instancePath:t+"/descriptor/filters/"+$t,parentData:Tt,parentDataProperty:$t,rootData:p,dynamicAnchors:y})||(l=null===l?Ln.errors:l.concat(Ln.errors),u=l.length),kn!==u)break}}}N=zt===u}else N=!0;if(N)if(void 0!==Ye.cursor){let Tt=Ye.cursor;const zt=u;if(u==u){if(!Tt||"object"!=typeof Tt||Array.isArray(Tt))return ni.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Tt).length<1)return ni.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let $t;if(void 0===Tt.messageCid&&($t="messageCid")||void 0===Tt.value&&($t="value"))return ni.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:$t},message:"must have required property '"+$t+"'"}],!1;{const kn=u;for(const Jn in Tt)if("messageCid"!==Jn&&"value"!==Jn)return ni.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Jn},message:"must NOT have additional properties"}],!1;if(kn===u){if(void 0!==Tt.messageCid){const Jn=u;if("string"!=typeof Tt.messageCid)return ni.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ee=Jn===u}else Ee=!0;if(Ee)if(void 0!==Tt.value){let Jn=Tt.value;const tr=u;if("string"!=typeof Jn&&("number"!=typeof Jn||!isFinite(Jn)))return ni.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:eh.properties.value.type},message:"must be string,number"}],!1;Ee=tr===u}else Ee=!0}}}}N=zt===u}else N=!0}}}}}}}X=mt===u}else X=!0}}}}return ni.errors=l,0===u}ni.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Us=To,Wo={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}}}}}};function To(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=To.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return To.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ee;if(void 0===r.descriptor&&(Ee="descriptor")||void 0===r.authorization&&(Ee="authorization"))return To.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ee},message:"must have required property '"+Ee+"'"}],!1;{const Le=u;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return To.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Le===u){if(void 0!==r.authorization){const Pe=u;bi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?bi.errors:l.concat(bi.errors),u=l.length);var X=Pe===u}else X=!0;if(X)if(void 0!==r.descriptor){let Pe=r.descriptor;const Ye=u;if(u===Ye){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return To.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let St;if(void 0===Pe.interface&&(St="interface")||void 0===Pe.method&&(St="method")||void 0===Pe.messageTimestamp&&(St="messageTimestamp")||void 0===Pe.filters&&(St="filters"))return To.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:St},message:"must have required property '"+St+"'"}],!1;{const gt=u;for(const yt in Pe)if("interface"!==yt&&"method"!==yt&&"messageTimestamp"!==yt&&"filters"!==yt)return To.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:yt},message:"must NOT have additional properties"}],!1;if(gt===u){if(void 0!==Pe.interface){let yt=Pe.interface;const Tt=u;if("string"!=typeof yt)return To.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==yt)return To.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Wo.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=Tt===u}else N=!0;if(N){if(void 0!==Pe.method){let yt=Pe.method;const Tt=u;if("string"!=typeof yt)return To.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==yt)return To.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Wo.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=Tt===u}else N=!0;if(N){if(void 0!==Pe.messageTimestamp){const yt=u;if("string"!=typeof Pe.messageTimestamp)return To.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;N=yt===u}else N=!0;if(N)if(void 0!==Pe.filters){let yt=Pe.filters;const Tt=u;if(u===Tt){if(!Array.isArray(yt))return To.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Zt=yt.length;for(let cn=0;cn<Zt;cn++){const $t=u;if(Ln(yt[cn],{instancePath:t+"/descriptor/filters/"+cn,parentData:yt,parentDataProperty:cn,rootData:p,dynamicAnchors:y})||(l=null===l?Ln.errors:l.concat(Ln.errors),u=l.length),$t!==u)break}}}N=Tt===u}else N=!0}}}}}}X=Ye===u}else X=!0}}}}return To.errors=l,0===u}To.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const cc=ha;function ha(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=ha.evaluated;return J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(ha.errors=null,!0):(ha.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}ha.evaluated={dynamicProps:!1,dynamicItems:!1};const Pc=fo;function fo(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=fo.evaluated;J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0);const X=u;let N=!1,oe=null;const Ee=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let zt;if(void 0===r.crv&&(zt="crv")||void 0===r.x&&(zt="x")){const Zt={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:zt},message:"must have required property '"+zt+"'"};null===l?l=[Zt]:l.push(Zt),u++}else{if(void 0!==r.kty){const Zt=u;if("EC"!==r.kty){const cn={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===l?l=[cn]:l.push(cn),u++}var Le=Zt===u}else Le=!0;if(Le){if(void 0!==r.crv){const Zt=u;if("string"!=typeof r.crv){const $t={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[$t]:l.push($t),u++}Le=Zt===u}else Le=!0;if(Le){if(void 0!==r.x){const Zt=u;if("string"!=typeof r.x){const $t={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[$t]:l.push($t),u++}Le=Zt===u}else Le=!0;if(Le){if(void 0!==r.y){const Zt=u;if("string"!=typeof r.y){const $t={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[$t]:l.push($t),u++}Le=Zt===u}else Le=!0;if(Le)if(void 0!==r.d){const Zt=u;if("string"!=typeof r.d){const $t={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[$t]:l.push($t),u++}Le=Zt===u}else Le=!0}}}}}if(St=Ee===u){N=!0,oe=0;var Pe={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const Ye=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let zt;if(void 0===r.crv&&(zt="crv")||void 0===r.x&&(zt="x")){const Zt={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:zt},message:"must have required property '"+zt+"'"};null===l?l=[Zt]:l.push(Zt),u++}else{if(void 0!==r.kty){const Zt=u;if("OKP"!==r.kty){const cn={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===l?l=[cn]:l.push(cn),u++}var mt=Zt===u}else mt=!0;if(mt){if(void 0!==r.crv){const Zt=u;if("string"!=typeof r.crv){const $t={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[$t]:l.push($t),u++}mt=Zt===u}else mt=!0;if(mt){if(void 0!==r.x){const Zt=u;if("string"!=typeof r.x){const $t={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[$t]:l.push($t),u++}mt=Zt===u}else mt=!0;if(mt)if(void 0!==r.d){const Zt=u;if("string"!=typeof r.d){const $t={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[$t]:l.push($t),u++}mt=Zt===u}else mt=!0}}}}if((St=Ye===u)&&N)N=!1,oe=[oe,1];else{St&&(N=!0,oe=1,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.crv=!0,Pe.x=!0,Pe.d=!0));const zt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let cn;if(void 0===r.n&&(cn="n")||void 0===r.e&&(cn="e")){const $t={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:cn},message:"must have required property '"+cn+"'"};null===l?l=[$t]:l.push($t),u++}else{if(void 0!==r.kty){const $t=u;if("RSA"!==r.kty){const kn={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===l?l=[kn]:l.push(kn),u++}var gt=$t===u}else gt=!0;if(gt){if(void 0!==r.n){const $t=u;if("string"!=typeof r.n){const Jn={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),u++}gt=$t===u}else gt=!0;if(gt){if(void 0!==r.e){const $t=u;if("string"!=typeof r.e){const Jn={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),u++}gt=$t===u}else gt=!0;if(gt){if(void 0!==r.d){const $t=u;if("string"!=typeof r.d){const Jn={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),u++}gt=$t===u}else gt=!0;if(gt){if(void 0!==r.p){const $t=u;if("string"!=typeof r.p){const Jn={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),u++}gt=$t===u}else gt=!0;if(gt){if(void 0!==r.q){const $t=u;if("string"!=typeof r.q){const Jn={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),u++}gt=$t===u}else gt=!0;if(gt){if(void 0!==r.dp){const $t=u;if("string"!=typeof r.dp){const Jn={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),u++}gt=$t===u}else gt=!0;if(gt){if(void 0!==r.dq){const $t=u;if("string"!=typeof r.dq){const Jn={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),u++}gt=$t===u}else gt=!0;if(gt){if(void 0!==r.qi){const $t=u;if("string"!=typeof r.qi){const Jn={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),u++}gt=$t===u}else gt=!0;if(gt)if(void 0!==r.oth){let $t=r.oth;const kn=u;if(!$t||"object"!=typeof $t||Array.isArray($t)){const tr={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0}}}}}}}}}}if((St=zt===u)&&N)N=!1,oe=[oe,2];else{St&&(N=!0,oe=2,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.n=!0,Pe.e=!0,Pe.d=!0,Pe.p=!0,Pe.q=!0,Pe.dp=!0,Pe.dq=!0,Pe.qi=!0,Pe.oth=!0));const cn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let kn;if(void 0===r.k&&(kn="k")){const Jn={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:kn},message:"must have required property '"+kn+"'"};null===l?l=[Jn]:l.push(Jn),u++}else{if(void 0!==r.kty){const Jn=u;if("oct"!==r.kty){const tr={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===l?l=[tr]:l.push(tr),u++}var yt=Jn===u}else yt=!0;if(yt)if(void 0!==r.k){const Jn=u;if("string"!=typeof r.k){const dr={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[dr]:l.push(dr),u++}yt=Jn===u}else yt=!0}}var St;(St=cn===u)&&N?(N=!1,oe=[oe,3]):St&&(N=!0,oe=3,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.k=!0))}}if(!N){const zt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:oe},message:"must match exactly one schema in oneOf"};return null===l?l=[zt]:l.push(zt),u++,fo.errors=l,!1}if(u=X,null!==l&&(X?l.length=X:l=null),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return fo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let zt;if(void 0===r.kty&&(zt="kty"))return fo.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:zt},message:"must have required property '"+zt+"'"}],!1;if(!0!==Pe&&((Pe=Pe||{}).alg=!0,Pe.kid=!0,Pe.kty=!0,Pe.crv=!0,Pe.use=!0,Pe.key_ops=!0,Pe.x5u=!0,Pe.x5c=!0,Pe.x5t=!0,Pe["x5t#S256"]=!0),void 0!==r.alg){const Zt=u;if("string"!=typeof r.alg)return fo.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Tt=Zt===u}else Tt=!0;if(Tt){if(void 0!==r.kid){const Zt=u;if("string"!=typeof r.kid)return fo.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Tt=Zt===u}else Tt=!0;if(Tt){if(void 0!==r.kty){let Zt=r.kty;const cn=u;if("EC"!==Zt&&"RSA"!==Zt&&"oct"!==Zt&&"OKP"!==Zt)return fo.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:fm.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Tt=cn===u}else Tt=!0;if(Tt){if(void 0!==r.crv){const Zt=u;if("string"!=typeof r.crv)return fo.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Tt=Zt===u}else Tt=!0;if(Tt){if(void 0!==r.use){const Zt=u;if("string"!=typeof r.use)return fo.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Tt=Zt===u}else Tt=!0;if(Tt){if(void 0!==r.key_ops){const Zt=u;if("string"!=typeof r.key_ops)return fo.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Tt=Zt===u}else Tt=!0;if(Tt){if(void 0!==r.x5u){const Zt=u;if("string"!=typeof r.x5u)return fo.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Tt=Zt===u}else Tt=!0;if(Tt){if(void 0!==r.x5c){const Zt=u;if("string"!=typeof r.x5c)return fo.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Tt=Zt===u}else Tt=!0;if(Tt){if(void 0!==r.x5t){const Zt=u;if("string"!=typeof r.x5t)return fo.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Tt=Zt===u}else Tt=!0;if(Tt)if(void 0!==r["x5t#S256"]){const Zt=u;if("string"!=typeof r["x5t#S256"])return fo.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Tt=Zt===u}else Tt=!0}}}}}}}}}}return fo.errors=l,J.props=Pe,0===u}fo.evaluated={dynamicProps:!0,dynamicItems:!1};const Pd=vo,ti=Ks,lu={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function Ks(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Ks.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ks.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.id&&(N="id")||void 0===r.type&&(N="type")||void 0===r.controller&&(N="controller")||void 0===r.publicKeyJwk&&(N="publicKeyJwk"))return Ks.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=u;for(const Ee in r)if("id"!==Ee&&"type"!==Ee&&"controller"!==Ee&&"publicKeyJwk"!==Ee)return Ks.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(oe===u){if(void 0!==r.id){const Ee=u;if("string"!=typeof r.id)return Ks.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=Ee===u}else X=!0;if(X){if(void 0!==r.type){let Ee=r.type;const Le=u;if("JsonWebKey"!==Ee&&"JsonWebKey2020"!==Ee)return Ks.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:lu.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;X=Le===u}else X=!0;if(X){if(void 0!==r.controller){let Ee=r.controller;const Le=u;if(u==u){if("string"!=typeof Ee)return Ks.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(Ee))return Ks.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}X=Le===u}else X=!0;if(X)if(void 0!==r.publicKeyJwk){const Ee=u;No(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:p,dynamicAnchors:y})||(l=null===l?No.errors:l.concat(No.errors),u=l.length),X=Ee===u}else X=!0}}}}}}return Ks.errors=l,0===u}Ks.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $h=Hs,Bv={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function Hs(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Hs.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Hs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ee;if(void 0===r.authorization&&(Ee="authorization")||void 0===r.descriptor&&(Ee="descriptor"))return Hs.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ee},message:"must have required property '"+Ee+"'"}],!1;{const Le=u;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return Hs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Le===u){if(void 0!==r.authorization){const Pe=u;bi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?bi.errors:l.concat(bi.errors),u=l.length);var X=Pe===u}else X=!0;if(X)if(void 0!==r.descriptor){let Pe=r.descriptor;const Ye=u;if(u===Ye){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let St;if(void 0===Pe.interface&&(St="interface")||void 0===Pe.method&&(St="method")||void 0===Pe.messageTimestamp&&(St="messageTimestamp"))return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:St},message:"must have required property '"+St+"'"}],!1;{const gt=u;for(const yt in Pe)if("interface"!==yt&&"method"!==yt&&"messageTimestamp"!==yt&&"messageCids"!==yt)return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:yt},message:"must NOT have additional properties"}],!1;if(gt===u){if(void 0!==Pe.interface){let yt=Pe.interface;const Tt=u;if("string"!=typeof yt)return Hs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==yt)return Hs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Bv.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=Tt===u}else N=!0;if(N){if(void 0!==Pe.method){let yt=Pe.method;const Tt=u;if("string"!=typeof yt)return Hs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==yt)return Hs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Bv.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=Tt===u}else N=!0;if(N){if(void 0!==Pe.messageTimestamp){let yt=Pe.messageTimestamp;const Tt=u;if(u==u){if("string"!=typeof yt)return Hs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(yt))return Hs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=Tt===u}else N=!0;if(N)if(void 0!==Pe.messageCids){let yt=Pe.messageCids;const Tt=u;if(u===Tt){if(!Array.isArray(yt))return Hs.errors=[{instancePath:t+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(yt.length<1)return Hs.errors=[{instancePath:t+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Zt=yt.length;for(let cn=0;cn<Zt;cn++){const $t=u;if("string"!=typeof yt[cn])return Hs.errors=[{instancePath:t+"/descriptor/messageCids/"+cn,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if($t!==u)break}}}N=Tt===u}else N=!0}}}}}}X=Ye===u}else X=!0}}}}return Hs.errors=l,0===u}Hs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Lv=dc;function dc(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=dc.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return dc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return dc.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ye=u;for(const mt in r)if("gt"!==mt&&"gte"!==mt&&"lt"!==mt&&"lte"!==mt)return dc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mt},message:"must NOT have additional properties"}],!1;if(Ye===u){if(void 0!==r.gt){const mt=u,St=u,gt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let yt;if(void 0===r.gte&&(yt="gte")){const Tt={};null===l?l=[Tt]:l.push(Tt),u++}}if(gt===u)return dc.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=St,null!==l&&(St?l.length=St:l=null);var N=mt===u}else N=!0;if(N){if(void 0!==r.gte){const mt=u,St=u,gt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Tt;if(void 0===r.gt&&(Tt="gt")){const zt={};null===l?l=[zt]:l.push(zt),u++}}if(gt===u)return dc.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=St,null!==l&&(St?l.length=St:l=null),N=mt===u}else N=!0;if(N){if(void 0!==r.lt){const mt=u,St=u,gt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Tt;if(void 0===r.lte&&(Tt="lte")){const zt={};null===l?l=[zt]:l.push(zt),u++}}if(gt===u)return dc.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=St,null!==l&&(St?l.length=St:l=null),N=mt===u}else N=!0;if(N){if(void 0!==r.lte){const mt=u,St=u,gt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Tt;if(void 0===r.lt&&(Tt="lt")){const zt={};null===l?l=[zt]:l.push(zt),u++}}if(gt===u)return dc.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=St,null!==l&&(St?l.length=St:l=null),N=mt===u}else N=!0;if(N){if(void 0!==r.gt){let mt=r.gt;const St=u;if("number"!=typeof mt||!isFinite(mt))return dc.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Pe=St===u}else Pe=!0;if(Pe){if(void 0!==r.gte){let mt=r.gte;const St=u;if("number"!=typeof mt||!isFinite(mt))return dc.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=St===u}else Pe=!0;if(Pe){if(void 0!==r.lt){let mt=r.lt;const St=u;if("number"!=typeof mt||!isFinite(mt))return dc.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=St===u}else Pe=!0;if(Pe)if(void 0!==r.lte){let mt=r.lte;const St=u;if("number"!=typeof mt||!isFinite(mt))return dc.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=St===u}else Pe=!0}}}}}}}}}return dc.errors=l,0===u}dc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Kh=El;function El(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=El.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return El.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return El.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let N;if(void 0===r.messageCid&&(N="messageCid")||void 0===r.value&&(N="value"))return El.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=0;for(const Ee in r)if("messageCid"!==Ee&&"value"!==Ee)return El.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(0===oe){if(void 0!==r.messageCid){const Ee=0;if("string"!=typeof r.messageCid)return El.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=0===Ee}else X=!0;if(X)if(void 0!==r.value){let Ee=r.value;const Le=0;if("string"!=typeof Ee&&("number"!=typeof Ee||!isFinite(Ee)))return El.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:eh.properties.value.type},message:"must be string,number"}],!1;X=0===Le}else X=!0}}}return El.errors=null,!0}El.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const xg=Ta,Yd={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function Vh(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Vh.evaluated;J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0);const X=u;let N=!1,oe=null;const Ee=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.interface){const $t=u;if("Protocols"!==r.interface){const kn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===l?l=[kn]:l.push(kn),u++}var Pe=$t===u}else Pe=!0;if(Pe)if(void 0!==r.method){const $t=u;if("Query"!==r.method){const Jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),u++}Pe=$t===u}else Pe=!0}else{const $t={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[$t]:l.push($t),u++}if(yt=Ee===u){N=!0,oe=0;var Ye={interface:!0,method:!0}}const mt=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let $t;if(void 0===r.interface&&($t="interface")||void 0===r.method&&($t="method")){const kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:$t},message:"must have required property '"+$t+"'"};null===l?l=[kn]:l.push(kn),u++}else{if(void 0!==r.interface){const kn=u;if("Records"!==r.interface){const Jn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),u++}var gt=kn===u}else gt=!0;if(gt){if(void 0!==r.method){const kn=u;if("Read"!==r.method){const tr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0;if(gt){if(void 0!==r.schema){const kn=u;if("string"!=typeof r.schema){const tr={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0;if(gt){if(void 0!==r.protocol){const kn=u;if("string"!=typeof r.protocol){const tr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0;if(gt){if(void 0!==r.contextId){const kn=u;if("string"!=typeof r.contextId){const tr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0;if(gt)if(void 0!==r.protocolPath){const kn=u;if("string"!=typeof r.protocolPath){const tr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0}}}}}}else{const $t={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[$t]:l.push($t),u++}if((yt=mt===u)&&N)N=!1,oe=[oe,1];else{yt&&(N=!0,oe=1,!0!==Ye&&((Ye=Ye||{}).interface=!0,Ye.method=!0,Ye.schema=!0,Ye.protocol=!0,Ye.contextId=!0,Ye.protocolPath=!0));const $t=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let tr;if(void 0===r.interface&&(tr="interface")||void 0===r.method&&(tr="method")){const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:tr},message:"must have required property '"+tr+"'"};null===l?l=[dr]:l.push(dr),u++}else{if(void 0!==r.interface){const dr=u;if("Records"!==r.interface){const Zn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Zn]:l.push(Zn),u++}var Tt=dr===u}else Tt=!0;if(Tt){if(void 0!==r.method){const dr=u;if("Delete"!==r.method){const Gn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===l?l=[Gn]:l.push(Gn),u++}Tt=dr===u}else Tt=!0;if(Tt){if(void 0!==r.protocol){const dr=u;if("string"!=typeof r.protocol){const Gn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Gn]:l.push(Gn),u++}Tt=dr===u}else Tt=!0;if(Tt)if(void 0!==r.schema){const dr=u;if("string"!=typeof r.schema){const Gn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Gn]:l.push(Gn),u++}Tt=dr===u}else Tt=!0}}}}else{const tr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[tr]:l.push(tr),u++}if((yt=$t===u)&&N)N=!1,oe=[oe,2];else{yt&&(N=!0,oe=2,!0!==Ye&&((Ye=Ye||{}).interface=!0,Ye.method=!0,Ye.protocol=!0,Ye.schema=!0));const tr=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.interface&&(Gn="interface")||void 0===r.method&&(Gn="method")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:Gn},message:"must have required property '"+Gn+"'"};null===l?l=[Kn]:l.push(Kn),u++}else{if(void 0!==r.interface){const Kn=u;if("Records"!==r.interface){const qn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[qn]:l.push(qn),u++}var zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.method){const Kn=u;if("Write"!==r.method){const Pn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===l?l=[Pn]:l.push(Pn),u++}zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.schema){const Kn=u;if("string"!=typeof r.schema){const Pn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.protocol){const Kn=u;if("string"!=typeof r.protocol){const Pn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.contextId){const Kn=u;if("string"!=typeof r.contextId){const Pn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}zt=Kn===u}else zt=!0;if(zt)if(void 0!==r.protocolPath){const Kn=u;if("string"!=typeof r.protocolPath){const Pn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}zt=Kn===u}else zt=!0}}}}}}else{const Gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Gn]:l.push(Gn),u++}if((yt=tr===u)&&N)N=!1,oe=[oe,3];else{yt&&(N=!0,oe=3,!0!==Ye&&((Ye=Ye||{}).interface=!0,Ye.method=!0,Ye.schema=!0,Ye.protocol=!0,Ye.contextId=!0,Ye.protocolPath=!0));const Gn=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Pn;if(void 0===r.interface&&(Pn="interface")||void 0===r.method&&(Pn="method")){const br={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:Pn},message:"must have required property '"+Pn+"'"};null===l?l=[br]:l.push(br),u++}else{if(void 0!==r.interface){const br=u;if("Records"!==r.interface){const Wr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Wr]:l.push(Wr),u++}var Zt=br===u}else Zt=!0;if(Zt){if(void 0!==r.method){const br=u;if("Query"!==r.method){const Ar={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Ar]:l.push(Ar),u++}Zt=br===u}else Zt=!0;if(Zt)if(void 0!==r.protocol){const br=u;if("string"!=typeof r.protocol){const Ar={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ar]:l.push(Ar),u++}Zt=br===u}else Zt=!0}}}else{const Pn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Pn]:l.push(Pn),u++}if((yt=Gn===u)&&N)N=!1,oe=[oe,4];else{yt&&(N=!0,oe=4,!0!==Ye&&((Ye=Ye||{}).interface=!0,Ye.method=!0,Ye.protocol=!0));const Pn=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Ar;if(void 0===r.interface&&(Ar="interface")||void 0===r.method&&(Ar="method")){const ai={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Ar},message:"must have required property '"+Ar+"'"};null===l?l=[ai]:l.push(ai),u++}else{if(void 0!==r.interface){const ai=u;if("Records"!==r.interface){const io={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[io]:l.push(io),u++}var cn=ai===u}else cn=!0;if(cn){if(void 0!==r.method){const ai=u;if("Subscribe"!==r.method){const Cn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===l?l=[Cn]:l.push(Cn),u++}cn=ai===u}else cn=!0;if(cn)if(void 0!==r.protocol){const ai=u;if("string"!=typeof r.protocol){const Cn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Cn]:l.push(Cn),u++}cn=ai===u}else cn=!0}}}else{const Ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ar]:l.push(Ar),u++}var yt;(yt=Pn===u)&&N?(N=!1,oe=[oe,5]):yt&&(N=!0,oe=5,!0!==Ye&&((Ye=Ye||{}).interface=!0,Ye.method=!0,Ye.protocol=!0))}}}}if(!N){const $t={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:oe},message:"must match exactly one schema in oneOf"};return null===l?l=[$t]:l.push($t),u++,Vh.errors=l,!1}return u=X,null!==l&&(X?l.length=X:l=null),Vh.errors=l,J.props=Ye,0===u}function Ta(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Ta.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ta.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.dateExpires&&(N="dateExpires")||void 0===r.scope&&(N="scope"))return Ta.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=u;for(const Ee in r)if("description"!==Ee&&"dateExpires"!==Ee&&"requestId"!==Ee&&"delegated"!==Ee&&"scope"!==Ee&&"conditions"!==Ee)return Ta.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(oe===u){if(void 0!==r.description){const Ee=u;if("string"!=typeof r.description)return Ta.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=Ee===u}else X=!0;if(X){if(void 0!==r.dateExpires){let Ee=r.dateExpires;const Le=u;if(u==u){if("string"!=typeof Ee)return Ta.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(Ee))return Ta.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}X=Le===u}else X=!0;if(X){if(void 0!==r.requestId){const Ee=u;if("string"!=typeof r.requestId)return Ta.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=Ee===u}else X=!0;if(X){if(void 0!==r.delegated){const Ee=u;if("boolean"!=typeof r.delegated)return Ta.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;X=Ee===u}else X=!0;if(X){if(void 0!==r.scope){const Ee=u;Vh(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:p,dynamicAnchors:y})||(l=null===l?Vh.errors:l.concat(Vh.errors),u=l.length),X=Ee===u}else X=!0;if(X)if(void 0!==r.conditions){let Ee=r.conditions;const Le=u;if(u==u){if(!Ee||"object"!=typeof Ee||Array.isArray(Ee))return Ta.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const mt=u;for(const St in Ee)if("publication"!==St)return Ta.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:St},message:"must NOT have additional properties"}],!1;if(mt===u&&void 0!==Ee.publication){let St=Ee.publication;if("string"!=typeof St)return Ta.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==St&&"Prohibited"!==St)return Ta.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Yd.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}X=Le===u}else X=!0}}}}}}}}return Ta.errors=l,0===u}Vh.evaluated={dynamicProps:!0,dynamicItems:!1},Ta.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const f1=Aa;function xl(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=xl.evaluated;J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0);const X=u;let N=!1,oe=null;const Ee=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.interface){const $t=u;if("Protocols"!==r.interface){const kn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===l?l=[kn]:l.push(kn),u++}var Pe=$t===u}else Pe=!0;if(Pe)if(void 0!==r.method){const $t=u;if("Query"!==r.method){const Jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),u++}Pe=$t===u}else Pe=!0}else{const $t={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[$t]:l.push($t),u++}if(yt=Ee===u){N=!0,oe=0;var Ye={interface:!0,method:!0}}const mt=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let $t;if(void 0===r.interface&&($t="interface")||void 0===r.method&&($t="method")){const kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:$t},message:"must have required property '"+$t+"'"};null===l?l=[kn]:l.push(kn),u++}else{if(void 0!==r.interface){const kn=u;if("Records"!==r.interface){const Jn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),u++}var gt=kn===u}else gt=!0;if(gt){if(void 0!==r.method){const kn=u;if("Read"!==r.method){const tr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0;if(gt){if(void 0!==r.schema){const kn=u;if("string"!=typeof r.schema){const tr={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0;if(gt){if(void 0!==r.protocol){const kn=u;if("string"!=typeof r.protocol){const tr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0;if(gt){if(void 0!==r.contextId){const kn=u;if("string"!=typeof r.contextId){const tr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0;if(gt)if(void 0!==r.protocolPath){const kn=u;if("string"!=typeof r.protocolPath){const tr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[tr]:l.push(tr),u++}gt=kn===u}else gt=!0}}}}}}else{const $t={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[$t]:l.push($t),u++}if((yt=mt===u)&&N)N=!1,oe=[oe,1];else{yt&&(N=!0,oe=1,!0!==Ye&&((Ye=Ye||{}).interface=!0,Ye.method=!0,Ye.schema=!0,Ye.protocol=!0,Ye.contextId=!0,Ye.protocolPath=!0));const $t=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let tr;if(void 0===r.interface&&(tr="interface")||void 0===r.method&&(tr="method")){const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:tr},message:"must have required property '"+tr+"'"};null===l?l=[dr]:l.push(dr),u++}else{if(void 0!==r.interface){const dr=u;if("Records"!==r.interface){const Zn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Zn]:l.push(Zn),u++}var Tt=dr===u}else Tt=!0;if(Tt){if(void 0!==r.method){const dr=u;if("Delete"!==r.method){const Gn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===l?l=[Gn]:l.push(Gn),u++}Tt=dr===u}else Tt=!0;if(Tt){if(void 0!==r.protocol){const dr=u;if("string"!=typeof r.protocol){const Gn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Gn]:l.push(Gn),u++}Tt=dr===u}else Tt=!0;if(Tt)if(void 0!==r.schema){const dr=u;if("string"!=typeof r.schema){const Gn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Gn]:l.push(Gn),u++}Tt=dr===u}else Tt=!0}}}}else{const tr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[tr]:l.push(tr),u++}if((yt=$t===u)&&N)N=!1,oe=[oe,2];else{yt&&(N=!0,oe=2,!0!==Ye&&((Ye=Ye||{}).interface=!0,Ye.method=!0,Ye.protocol=!0,Ye.schema=!0));const tr=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.interface&&(Gn="interface")||void 0===r.method&&(Gn="method")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:Gn},message:"must have required property '"+Gn+"'"};null===l?l=[Kn]:l.push(Kn),u++}else{if(void 0!==r.interface){const Kn=u;if("Records"!==r.interface){const qn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[qn]:l.push(qn),u++}var zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.method){const Kn=u;if("Write"!==r.method){const Pn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===l?l=[Pn]:l.push(Pn),u++}zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.schema){const Kn=u;if("string"!=typeof r.schema){const Pn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.protocol){const Kn=u;if("string"!=typeof r.protocol){const Pn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}zt=Kn===u}else zt=!0;if(zt){if(void 0!==r.contextId){const Kn=u;if("string"!=typeof r.contextId){const Pn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}zt=Kn===u}else zt=!0;if(zt)if(void 0!==r.protocolPath){const Kn=u;if("string"!=typeof r.protocolPath){const Pn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Pn]:l.push(Pn),u++}zt=Kn===u}else zt=!0}}}}}}else{const Gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Gn]:l.push(Gn),u++}if((yt=tr===u)&&N)N=!1,oe=[oe,3];else{yt&&(N=!0,oe=3,!0!==Ye&&((Ye=Ye||{}).interface=!0,Ye.method=!0,Ye.schema=!0,Ye.protocol=!0,Ye.contextId=!0,Ye.protocolPath=!0));const Gn=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Pn;if(void 0===r.interface&&(Pn="interface")||void 0===r.method&&(Pn="method")){const br={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:Pn},message:"must have required property '"+Pn+"'"};null===l?l=[br]:l.push(br),u++}else{if(void 0!==r.interface){const br=u;if("Records"!==r.interface){const Wr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Wr]:l.push(Wr),u++}var Zt=br===u}else Zt=!0;if(Zt){if(void 0!==r.method){const br=u;if("Query"!==r.method){const Ar={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Ar]:l.push(Ar),u++}Zt=br===u}else Zt=!0;if(Zt)if(void 0!==r.protocol){const br=u;if("string"!=typeof r.protocol){const Ar={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ar]:l.push(Ar),u++}Zt=br===u}else Zt=!0}}}else{const Pn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Pn]:l.push(Pn),u++}if((yt=Gn===u)&&N)N=!1,oe=[oe,4];else{yt&&(N=!0,oe=4,!0!==Ye&&((Ye=Ye||{}).interface=!0,Ye.method=!0,Ye.protocol=!0));const Pn=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Ar;if(void 0===r.interface&&(Ar="interface")||void 0===r.method&&(Ar="method")){const ai={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Ar},message:"must have required property '"+Ar+"'"};null===l?l=[ai]:l.push(ai),u++}else{if(void 0!==r.interface){const ai=u;if("Records"!==r.interface){const io={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[io]:l.push(io),u++}var cn=ai===u}else cn=!0;if(cn){if(void 0!==r.method){const ai=u;if("Subscribe"!==r.method){const Cn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===l?l=[Cn]:l.push(Cn),u++}cn=ai===u}else cn=!0;if(cn)if(void 0!==r.protocol){const ai=u;if("string"!=typeof r.protocol){const Cn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Cn]:l.push(Cn),u++}cn=ai===u}else cn=!0}}}else{const Ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ar]:l.push(Ar),u++}var yt;(yt=Pn===u)&&N?(N=!1,oe=[oe,5]):yt&&(N=!0,oe=5,!0!==Ye&&((Ye=Ye||{}).interface=!0,Ye.method=!0,Ye.protocol=!0))}}}}if(!N){const $t={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:oe},message:"must match exactly one schema in oneOf"};return null===l?l=[$t]:l.push($t),u++,xl.errors=l,!1}return u=X,null!==l&&(X?l.length=X:l=null),xl.errors=l,J.props=Ye,0===u}function Aa(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Aa.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Aa.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.delegated&&(N="delegated")||void 0===r.scope&&(N="scope"))return Aa.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=u;for(const Ee in r)if("description"!==Ee&&"delegated"!==Ee&&"scope"!==Ee&&"conditions"!==Ee)return Aa.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(oe===u){if(void 0!==r.description){const Ee=u;if("string"!=typeof r.description)return Aa.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=Ee===u}else X=!0;if(X){if(void 0!==r.delegated){const Ee=u;if("boolean"!=typeof r.delegated)return Aa.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;X=Ee===u}else X=!0;if(X){if(void 0!==r.scope){const Ee=u;xl(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:p,dynamicAnchors:y})||(l=null===l?xl.errors:l.concat(xl.errors),u=l.length),X=Ee===u}else X=!0;if(X)if(void 0!==r.conditions){let Ee=r.conditions;const Le=u;if(u==u){if(!Ee||"object"!=typeof Ee||Array.isArray(Ee))return Aa.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const mt=u;for(const St in Ee)if("publication"!==St)return Aa.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:St},message:"must NOT have additional properties"}],!1;if(mt===u&&void 0!==Ee.publication){let St=Ee.publication;if("string"!=typeof St)return Aa.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==St&&"Prohibited"!==St)return Aa.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Yd.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}X=Le===u}else X=!0}}}}}}return Aa.errors=l,0===u}xl.evaluated={dynamicProps:!0,dynamicItems:!1},Aa.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const qA=za;function za(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=za.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return za.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const X=0;for(const N in r)if("description"!==N)return za.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:N},message:"must NOT have additional properties"}],!1;if(0===X&&void 0!==r.description&&"string"!=typeof r.description)return za.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return za.errors=null,!0}za.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Fo=zh;function zh(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=zh.evaluated;return J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(zh.errors=null,!0):(zh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}zh.evaluated={dynamicProps:!1,dynamicItems:!1};const Sg=tf;function tf(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=tf.evaluated;return J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(tf.errors=null,!0):(tf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}tf.evaluated={dynamicProps:!1,dynamicItems:!1};const Ml=ra,jv=new RegExp(".*","u"),fu={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},Ig=new RegExp("^[^$].*$","u"),$v=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),Wh=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),Tg=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),Gh={validate:Mo};function Mo(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Mo.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Mo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const dr=u;for(const Zn in r)if("$encryption"!==Zn&&"$actions"!==Zn&&"$role"!==Zn&&"$size"!==Zn&&"$tags"!==Zn&&!Ig.test(Zn))return Mo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Zn},message:"must NOT have additional properties"}],!1;if(dr===u){if(void 0!==r.$encryption){let Zn=r.$encryption;const Gn=u;if(u===Gn){if(!Zn||"object"!=typeof Zn||Array.isArray(Zn))return Mo.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Kn;if(void 0===Zn.rootKeyId&&(Kn="rootKeyId")||void 0===Zn.publicKeyJwk&&(Kn="publicKeyJwk"))return Mo.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:Kn},message:"must have required property '"+Kn+"'"}],!1;{const qn=u;for(const Pn in Zn)if("rootKeyId"!==Pn&&"publicKeyJwk"!==Pn)return Mo.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"}],!1;if(qn===u){if(void 0!==Zn.rootKeyId){const Pn=u;if("string"!=typeof Zn.rootKeyId)return Mo.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=Pn===u}else X=!0;if(X)if(void 0!==Zn.publicKeyJwk){const Pn=u;No(Zn.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:Zn,parentDataProperty:"publicKeyJwk",rootData:p,dynamicAnchors:y})||(l=null===l?No.errors:l.concat(No.errors),u=l.length),X=Pn===u}else X=!0}}}}var N=Gn===u}else N=!0;if(N){if(void 0!==r.$actions){let Zn=r.$actions;const Gn=u;if(u===Gn){if(!Array.isArray(Zn))return Mo.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Zn.length<1)return Mo.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const qn=Zn.length;for(let Pn=0;Pn<qn;Pn++){let br=Zn[Pn];const Wr=u;if(!br||"object"!=typeof br||Array.isArray(br))return Mo.errors=[{instancePath:t+"/$actions/"+Pn,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const Ar=u;let ai=!1,io=null;const Cn=u;if(br&&"object"==typeof br&&!Array.isArray(br)){let Mr;if(void 0===br.who&&(Mr="who")||void 0===br.can&&(Mr="can")){const er={instancePath:t+"/$actions/"+Pn,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:Mr},message:"must have required property '"+Mr+"'"};null===l?l=[er]:l.push(er),u++}else{const er=u;for(const Er in br)if("who"!==Er&&"of"!==Er&&"can"!==Er){const ii={instancePath:t+"/$actions/"+Pn,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Er},message:"must NOT have additional properties"};null===l?l=[ii]:l.push(ii),u++;break}if(er===u){if(void 0!==br.who){let Er=br.who;const ii=u;if("string"!=typeof Er){const Fi={instancePath:t+"/$actions/"+Pn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Fi]:l.push(Fi),u++}if("anyone"!==Er&&"author"!==Er&&"recipient"!==Er){const Fi={instancePath:t+"/$actions/"+Pn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:fu.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===l?l=[Fi]:l.push(Fi),u++}var Ee=ii===u}else Ee=!0;if(Ee){if(void 0!==br.of){const Er=u;if("string"!=typeof br.of){const Fi={instancePath:t+"/$actions/"+Pn+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Fi]:l.push(Fi),u++}Ee=Er===u}else Ee=!0;if(Ee)if(void 0!==br.can){let Er=br.can;const ii=u;if(u===ii)if(Array.isArray(Er))if(Er.length<1){const ji={instancePath:t+"/$actions/"+Pn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[ji]:l.push(ji),u++}else{const ji=Er.length;for(let mi=0;mi<ji;mi++){let vi=Er[mi];const Dc=u;if("string"!=typeof vi){const Dr={instancePath:t+"/$actions/"+Pn+"/can/"+mi,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dr]:l.push(Dr),u++}if("co-delete"!==vi&&"co-prune"!==vi&&"co-update"!==vi&&"create"!==vi&&"delete"!==vi&&"prune"!==vi&&"read"!==vi&&"update"!==vi){const Dr={instancePath:t+"/$actions/"+Pn+"/can/"+mi,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:fu.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===l?l=[Dr]:l.push(Dr),u++}if(Dc!==u)break}}else{const ji={instancePath:t+"/$actions/"+Pn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[ji]:l.push(ji),u++}Ee=ii===u}else Ee=!0}}}}if(Cn===u){ai=!0,io=0;var Pe=!0}const hi=u;if(br&&"object"==typeof br&&!Array.isArray(br)){let Mr;if(void 0===br.role&&(Mr="role")||void 0===br.can&&(Mr="can")){const er={instancePath:t+"/$actions/"+Pn,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:Mr},message:"must have required property '"+Mr+"'"};null===l?l=[er]:l.push(er),u++}else{if(void 0!==br.role){const er=u;if("string"!=typeof br.role){const Er={instancePath:t+"/$actions/"+Pn+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Er]:l.push(Er),u++}var Ye=er===u}else Ye=!0;if(Ye)if(void 0!==br.can){let er=br.can;const Er=u;if(u===Er)if(Array.isArray(er))if(er.length<1){const Fi={instancePath:t+"/$actions/"+Pn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Fi]:l.push(Fi),u++}else{const Fi=er.length;for(let ji=0;ji<Fi;ji++){let mi=er[ji];const vi=u;if("string"!=typeof mi){const Cv={instancePath:t+"/$actions/"+Pn+"/can/"+ji,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Cv]:l.push(Cv),u++}if("co-delete"!==mi&&"co-update"!==mi&&"create"!==mi&&"delete"!==mi&&"query"!==mi&&"subscribe"!==mi&&"read"!==mi&&"update"!==mi){const Cv={instancePath:t+"/$actions/"+Pn+"/can/"+ji,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:fu.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===l?l=[Cv]:l.push(Cv),u++}if(vi!==u)break}}else{const Fi={instancePath:t+"/$actions/"+Pn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Fi]:l.push(Fi),u++}Ye=Er===u}else Ye=!0}}var St;if((St=hi===u)&&ai?(ai=!1,io=[io,1]):St&&(ai=!0,io=1,!0!==Pe&&((Pe=Pe||{}).role=!0,Pe.can=!0)),!ai){const Mr={instancePath:t+"/$actions/"+Pn,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:io},message:"must match exactly one schema in oneOf"};return null===l?l=[Mr]:l.push(Mr),u++,Mo.errors=l,!1}if(u=Ar,null!==l&&(Ar?l.length=Ar:l=null),Wr!==u)break}}}N=Gn===u}else N=!0;if(N){if(void 0!==r.$role){const Zn=u;if("boolean"!=typeof r.$role)return Mo.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;N=Zn===u}else N=!0;if(N){if(void 0!==r.$size){let Zn=r.$size;const Gn=u;if(u===Gn){if(!Zn||"object"!=typeof Zn||Array.isArray(Zn))return Mo.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const qn=u;for(const Pn in Zn)if("min"!==Pn&&"max"!==Pn)return Mo.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pn},message:"must NOT have additional properties"}],!1;if(qn===u){if(void 0!==Zn.min){let Pn=Zn.min;const br=u;if(u===br){if("number"!=typeof Pn||!isFinite(Pn))return Mo.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Pn<0||isNaN(Pn))return Mo.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var gt=br===u}else gt=!0;if(gt)if(void 0!==Zn.max){let Pn=Zn.max;const br=u;if(u===br){if("number"!=typeof Pn||!isFinite(Pn))return Mo.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Pn<0||isNaN(Pn))return Mo.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}gt=br===u}else gt=!0}}}N=Gn===u}else N=!0;if(N){if(void 0!==r.$tags){let Zn=r.$tags;const Gn=u;if(u===Gn){if(!Zn||"object"!=typeof Zn||Array.isArray(Zn))return Mo.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Zn).length<1)return Mo.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==Zn.$requiredTags){let qn=Zn.$requiredTags;const Pn=u;if(u===Pn){if(!Array.isArray(qn))return Mo.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const br=qn.length;for(let Wr=0;Wr<br;Wr++){const Ar=u;if("string"!=typeof qn[Wr])return Mo.errors=[{instancePath:t+"/$tags/$requiredTags/"+Wr,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Ar!==u)break}}}var Tt=Pn===u}else Tt=!0;if(Tt){if(void 0!==Zn.$allowUndefinedTags){const qn=u;if("boolean"!=typeof Zn.$allowUndefinedTags)return Mo.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Tt=qn===u}else Tt=!0;if(Tt){var zt={$requiredTags:!0,$allowUndefinedTags:!0};for(const qn in Zn)if($v.test(qn)){let Pn=Zn[qn];if(u==u){if(!Pn||"object"!=typeof Pn||Array.isArray(Pn))return Mo.errors=[{instancePath:t+"/$tags/"+qn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Wr=u;for(const Ar in Pn)if("type"!==Ar&&"items"!==Ar&&"contains"!==Ar&&!Wh.test(Ar))return Mo.errors=[{instancePath:t+"/$tags/"+qn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ar},message:"must NOT have additional properties"}],!1;if(Wr===u){if(void 0!==Pn.type){let Ar=Pn.type;const ai=u;if("string"!==Ar&&"number"!==Ar&&"integer"!==Ar&&"boolean"!==Ar&&"array"!==Ar)return Mo.errors=[{instancePath:t+"/$tags/"+qn.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:fu.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Zt=ai===u}else Zt=!0;if(Zt){if(void 0!==Pn.items){let Ar=Pn.items;const ai=u;if(u===ai){if(!Ar||"object"!=typeof Ar||Array.isArray(Ar))return Mo.errors=[{instancePath:t+"/$tags/"+qn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Ar.type){let Cn=Ar.type;const hi=u;if("string"!==Cn&&"number"!==Cn&&"integer"!==Cn)return Mo.errors=[{instancePath:t+"/$tags/"+qn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:fu.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var cn=hi===u}else cn=!0;if(cn){var $t={type:!0};for(const Cn in Ar)Tg.test(Cn)&&($t[Cn]=!0)}}Zt=ai===u}else Zt=!0;if(Zt)if(void 0!==Pn.contains){let Ar=Pn.contains;const ai=u;if(u===ai){if(!Ar||"object"!=typeof Ar||Array.isArray(Ar))return Mo.errors=[{instancePath:t+"/$tags/"+qn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Ar.type){let Cn=Ar.type;const hi=u;if("string"!==Cn&&"number"!==Cn&&"integer"!==Cn)return Mo.errors=[{instancePath:t+"/$tags/"+qn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:fu.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var kn=hi===u}else kn=!0;if(kn){var Jn={type:!0};for(const Cn in Ar)Tg.test(Cn)&&(Jn[Cn]=!0)}}Zt=ai===u}else Zt=!0}}}}zt[qn]=!0}}}}N=Gn===u}else N=!0;if(N)for(const Zn in r)if(Ig.test(Zn)){const Gn=u;if(Gh.validate(r[Zn],{instancePath:t+"/"+Zn.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:Zn,rootData:p,dynamicAnchors:y})||(l=null===l?Gh.validate.errors:l.concat(Gh.validate.errors),u=l.length),Gn!==u)break}}}}}}}}return Mo.errors=l,0===u}function ra(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=ra.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return ra.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pe;if(void 0===r.protocol&&(Pe="protocol")||void 0===r.published&&(Pe="published")||void 0===r.types&&(Pe="types")||void 0===r.structure&&(Pe="structure"))return ra.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Pe},message:"must have required property '"+Pe+"'"}],!1;{const Ye=u;for(const mt in r)if("protocol"!==mt&&"published"!==mt&&"types"!==mt&&"structure"!==mt)return ra.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mt},message:"must NOT have additional properties"}],!1;if(Ye===u){if(void 0!==r.protocol){const mt=u;if("string"!=typeof r.protocol)return ra.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=mt===u}else X=!0;if(X){if(void 0!==r.published){const mt=u;if("boolean"!=typeof r.published)return ra.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;X=mt===u}else X=!0;if(X){if(void 0!==r.types){let mt=r.types;const St=u;if(u===St){if(!mt||"object"!=typeof mt||Array.isArray(mt))return ra.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var N={};for(const yt in mt)if(jv.test(yt)){let Tt=mt[yt];if(u==u){if(!Tt||"object"!=typeof Tt||Array.isArray(Tt))return ra.errors=[{instancePath:t+"/types/"+yt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Zt=u;for(const cn in Tt)if("schema"!==cn&&"dataFormats"!==cn)return ra.errors=[{instancePath:t+"/types/"+yt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cn},message:"must NOT have additional properties"}],!1;if(Zt===u){if(void 0!==Tt.schema){const cn=u;if("string"!=typeof Tt.schema)return ra.errors=[{instancePath:t+"/types/"+yt.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var oe=cn===u}else oe=!0;if(oe)if(void 0!==Tt.dataFormats){let cn=Tt.dataFormats;const $t=u;if(u===$t){if(!Array.isArray(cn))return ra.errors=[{instancePath:t+"/types/"+yt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(cn.length<1)return ra.errors=[{instancePath:t+"/types/"+yt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Jn=cn.length;for(let tr=0;tr<Jn;tr++){const dr=u;if("string"!=typeof cn[tr])return ra.errors=[{instancePath:t+"/types/"+yt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+tr,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(dr!==u)break}}}oe=$t===u}else oe=!0}}}N[yt]=!0}}X=St===u}else X=!0;if(X)if(void 0!==r.structure){let mt=r.structure;const St=u;if(u===St){if(!mt||"object"!=typeof mt||Array.isArray(mt))return ra.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Le={};for(const yt in mt)jv.test(yt)&&(Mo(mt[yt],{instancePath:t+"/structure/"+yt.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:mt,parentDataProperty:yt,rootData:p,dynamicAnchors:y})||(l=null===l?Mo.errors:l.concat(Mo.errors),u=l.length),Le[yt]=!0)}X=St===u}else X=!0}}}}}}return ra.errors=l,0===u}Mo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},ra.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const dM=Mo,lM=lc,Rd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function lc(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=lc.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return lc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===r.authorization&&(oe="authorization")||void 0===r.descriptor&&(oe="descriptor"))return lc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;{const Ee=u;for(const Le in r)if("authorization"!==Le&&"descriptor"!==Le)return lc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties"}],!1;if(Ee===u){if(void 0!==r.authorization){const Le=u;bi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?bi.errors:l.concat(bi.errors),u=l.length);var X=Le===u}else X=!0;if(X)if(void 0!==r.descriptor){let Le=r.descriptor;const Pe=u;if(u===Pe){if(!Le||"object"!=typeof Le||Array.isArray(Le))return lc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let mt;if(void 0===Le.interface&&(mt="interface")||void 0===Le.method&&(mt="method")||void 0===Le.messageTimestamp&&(mt="messageTimestamp")||void 0===Le.definition&&(mt="definition"))return lc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:mt},message:"must have required property '"+mt+"'"}],!1;{const St=u;for(const gt in Le)if("interface"!==gt&&"method"!==gt&&"messageTimestamp"!==gt&&"definition"!==gt)return lc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gt},message:"must NOT have additional properties"}],!1;if(St===u){if(void 0!==Le.interface){let gt=Le.interface;const yt=u;if("string"!=typeof gt)return lc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==gt)return lc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Rd.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=yt===u}else N=!0;if(N){if(void 0!==Le.method){let gt=Le.method;const yt=u;if("string"!=typeof gt)return lc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==gt)return lc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Rd.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=yt===u}else N=!0;if(N){if(void 0!==Le.messageTimestamp){let gt=Le.messageTimestamp;const yt=u;if(u==u){if("string"!=typeof gt)return lc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(gt))return lc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=yt===u}else N=!0;if(N)if(void 0!==Le.definition){const gt=u;ra(Le.definition,{instancePath:t+"/descriptor/definition",parentData:Le,parentDataProperty:"definition",rootData:p,dynamicAnchors:y})||(l=null===l?ra.errors:l.concat(ra.errors),u=l.length),N=gt===u}else N=!0}}}}}}X=Pe===u}else X=!0}}}}return lc.errors=l,0===u}lc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const h1=tt,je={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function tt(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=tt.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return tt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ee;if(void 0===r.descriptor&&(Ee="descriptor"))return tt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ee},message:"must have required property '"+Ee+"'"}],!1;{const Le=u;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return tt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Le===u){if(void 0!==r.authorization){const Pe=u;bi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?bi.errors:l.concat(bi.errors),u=l.length);var X=Pe===u}else X=!0;if(X)if(void 0!==r.descriptor){let Pe=r.descriptor;const Ye=u;if(u===Ye){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return tt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let St;if(void 0===Pe.interface&&(St="interface")||void 0===Pe.method&&(St="method")||void 0===Pe.messageTimestamp&&(St="messageTimestamp"))return tt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:St},message:"must have required property '"+St+"'"}],!1;{const gt=u;for(const yt in Pe)if("interface"!==yt&&"method"!==yt&&"messageTimestamp"!==yt&&"filter"!==yt)return tt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:yt},message:"must NOT have additional properties"}],!1;if(gt===u){if(void 0!==Pe.interface){let yt=Pe.interface;const Tt=u;if("string"!=typeof yt)return tt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==yt)return tt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:je.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=Tt===u}else N=!0;if(N){if(void 0!==Pe.method){let yt=Pe.method;const Tt=u;if("string"!=typeof yt)return tt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==yt)return tt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:je.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=Tt===u}else N=!0;if(N){if(void 0!==Pe.messageTimestamp){let yt=Pe.messageTimestamp;const Tt=u;if(u==u){if("string"!=typeof yt)return tt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(yt))return tt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=Tt===u}else N=!0;if(N)if(void 0!==Pe.filter){let yt=Pe.filter;const Tt=u;if(u===Tt){if(!yt||"object"!=typeof yt||Array.isArray(yt))return tt.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(yt).length<1)return tt.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Zt=u;for(const cn in yt)if("protocol"!==cn&&"recipient"!==cn)return tt.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cn},message:"must NOT have additional properties"}],!1;if(Zt===u){if(void 0!==yt.protocol){const cn=u;if("string"!=typeof yt.protocol)return tt.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var oe=cn===u}else oe=!0;if(oe)if(void 0!==yt.recipient){let cn=yt.recipient;const $t=u;if(u==u){if("string"!=typeof cn)return tt.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(cn))return tt.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}oe=$t===u}else oe=!0}}}N=Tt===u}else N=!0}}}}}}X=Ye===u}else X=!0}}}}return tt.errors=l,0===u}tt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ze=Dt,st={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Dt(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Dt.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Dt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===r.descriptor&&(oe="descriptor"))return Dt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;{const Ee=u;for(const Le in r)if("authorization"!==Le&&"descriptor"!==Le)return Dt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties"}],!1;if(Ee===u){if(void 0!==r.authorization){const Le=u;Ia(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?Ia.errors:l.concat(Ia.errors),u=l.length);var X=Le===u}else X=!0;if(X)if(void 0!==r.descriptor){let Le=r.descriptor;const Pe=u;if(u===Pe){if(!Le||"object"!=typeof Le||Array.isArray(Le))return Dt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let mt;if(void 0===Le.interface&&(mt="interface")||void 0===Le.method&&(mt="method")||void 0===Le.messageTimestamp&&(mt="messageTimestamp")||void 0===Le.filter&&(mt="filter"))return Dt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:mt},message:"must have required property '"+mt+"'"}],!1;{const St=u;for(const gt in Le)if("interface"!==gt&&"method"!==gt&&"messageTimestamp"!==gt&&"filter"!==gt)return Dt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:gt},message:"must NOT have additional properties"}],!1;if(St===u){if(void 0!==Le.interface){let gt=Le.interface;const yt=u;if("string"!=typeof gt)return Dt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==gt)return Dt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:st.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=yt===u}else N=!0;if(N){if(void 0!==Le.method){let gt=Le.method;const yt=u;if("string"!=typeof gt)return Dt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==gt)return Dt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:st.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=yt===u}else N=!0;if(N){if(void 0!==Le.messageTimestamp){let gt=Le.messageTimestamp;const yt=u;if(u==u){if("string"!=typeof gt)return Dt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(gt))return Dt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=yt===u}else N=!0;if(N)if(void 0!==Le.filter){const gt=u;gr(Le.filter,{instancePath:t+"/descriptor/filter",parentData:Le,parentDataProperty:"filter",rootData:p,dynamicAnchors:y})||(l=null===l?gr.errors:l.concat(gr.errors),u=l.length),N=gt===u}else N=!0}}}}}}X=Pe===u}else X=!0}}}}return Dt.errors=l,0===u}Dt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const on=gr,Mn=No,Qn=Cr;function Cr(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=Cr.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Cr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.descriptorCid&&(N="descriptorCid"))return Cr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=0;for(const Ee in r)if("descriptorCid"!==Ee&&"delegatedGrantId"!==Ee&&"permissionGrantId"!==Ee&&"protocolRole"!==Ee)return Cr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(0===oe){if(void 0!==r.descriptorCid){const Ee=0;if("string"!=typeof r.descriptorCid)return Cr.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=0===Ee}else X=!0;if(X){if(void 0!==r.delegatedGrantId){const Ee=0;if("string"!=typeof r.delegatedGrantId)return Cr.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.permissionGrantId){const Ee=0;if("string"!=typeof r.permissionGrantId)return Cr.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X)if(void 0!==r.protocolRole){const Ee=0;if("string"!=typeof r.protocolRole)return Cr.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0}}}}}return Cr.errors=null,!0}Cr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Pi=ho;function ho(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=ho.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return ho.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.descriptorCid&&(N="descriptorCid")||void 0===r.recordId&&(N="recordId"))return ho.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=0;for(const Ee in r)if("descriptorCid"!==Ee&&"recordId"!==Ee&&"contextId"!==Ee&&"attestationCid"!==Ee&&"encryptionCid"!==Ee&&"delegatedGrantId"!==Ee&&"permissionGrantId"!==Ee&&"protocolRole"!==Ee)return ho.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(0===oe){if(void 0!==r.descriptorCid){const Ee=0;if("string"!=typeof r.descriptorCid)return ho.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=0===Ee}else X=!0;if(X){if(void 0!==r.recordId){const Ee=0;if("string"!=typeof r.recordId)return ho.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.contextId){const Ee=0;if("string"!=typeof r.contextId)return ho.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.attestationCid){const Ee=0;if("string"!=typeof r.attestationCid)return ho.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.encryptionCid){const Ee=0;if("string"!=typeof r.encryptionCid)return ho.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.delegatedGrantId){const Ee=0;if("string"!=typeof r.delegatedGrantId)return ho.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.permissionGrantId){const Ee=0;if("string"!=typeof r.permissionGrantId)return ho.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X)if(void 0!==r.protocolRole){const Ee=0;if("string"!=typeof r.protocolRole)return ho.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0}}}}}}}}}return ho.errors=null,!0}ho.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Od=Yo;function Yo(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Yo.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Yo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Yo.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ye=u;for(const mt in r)if("gt"!==mt&&"gte"!==mt&&"lt"!==mt&&"lte"!==mt)return Yo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mt},message:"must NOT have additional properties"}],!1;if(Ye===u){if(void 0!==r.gt){const mt=u,St=u,gt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let yt;if(void 0===r.gte&&(yt="gte")){const Tt={};null===l?l=[Tt]:l.push(Tt),u++}}if(gt===u)return Yo.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=St,null!==l&&(St?l.length=St:l=null);var N=mt===u}else N=!0;if(N){if(void 0!==r.gte){const mt=u,St=u,gt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Tt;if(void 0===r.gt&&(Tt="gt")){const zt={};null===l?l=[zt]:l.push(zt),u++}}if(gt===u)return Yo.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=St,null!==l&&(St?l.length=St:l=null),N=mt===u}else N=!0;if(N){if(void 0!==r.lt){const mt=u,St=u,gt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Tt;if(void 0===r.lte&&(Tt="lte")){const zt={};null===l?l=[zt]:l.push(zt),u++}}if(gt===u)return Yo.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=St,null!==l&&(St?l.length=St:l=null),N=mt===u}else N=!0;if(N){if(void 0!==r.lte){const mt=u,St=u,gt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Tt;if(void 0===r.lt&&(Tt="lt")){const zt={};null===l?l=[zt]:l.push(zt),u++}}if(gt===u)return Yo.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=St,null!==l&&(St?l.length=St:l=null),N=mt===u}else N=!0;if(N){if(void 0!==r.gt){const mt=u;if("string"!=typeof r.gt)return Yo.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Pe=mt===u}else Pe=!0;if(Pe){if(void 0!==r.gte){const mt=u;if("string"!=typeof r.gte)return Yo.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=mt===u}else Pe=!0;if(Pe){if(void 0!==r.lt){const mt=u;if("string"!=typeof r.lt)return Yo.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=mt===u}else Pe=!0;if(Pe)if(void 0!==r.lte){const mt=u;if("string"!=typeof r.lte)return Yo.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=mt===u}else Pe=!0}}}}}}}}}return Yo.errors=l,0===u}function Bi(r,t){const n=Q[r];if(!n)throw new te(de.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[o]=n.errors;let{instancePath:p,message:y,keyword:l}=o;if(p||(p=r),"additionalProperties"===l)throw new te(de.SchemaValidatorAdditionalPropertyNotAllowed,`${y}: ${p}: ${o.params.additionalProperty}`);if("unevaluatedProperties"===l)throw new te(de.SchemaValidatorUnevaluatedPropertyNotAllowed,`${y}: ${p}: ${o.params.unevaluatedProperty}`);throw new te(de.SchemaValidatorFailure,`${p}: ${y}`)}Yo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var Go=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Zo{constructor(t){this.cache=t||new kc(600)}static get singleton(){return void 0===Zo._singleton&&(Zo._singleton=new Zo),Zo._singleton}static verifySignatures(t,n){return Go(this,void 0,void 0,function*(){return yield Zo.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return Go(this,void 0,void 0,function*(){const o=[];for(const p of t.signatures){let y;const l=zo.getKid(p),u=`${p.protected}.${t.payload}.${p.signature}`,J=yield this.cache.get(u);if(void 0===J){const N=yield Zo.getPublicKey(l,n);y=yield zo.verifySignature(t.payload,p,N),yield this.cache.set(u,y)}else y=J;const X=zo.extractDid(l);if(!y)throw new te(de.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${X}`);o.push(X)}return{signers:o}})}static getPublicKey(t,n){return Go(this,void 0,void 0,function*(){const o=zo.extractDid(t),{didDocument:p}=yield n.resolve(o),{verificationMethod:y=[]}=p||{};let l;for(const J of y)if(t.endsWith(J.id)){l=J;break}if(!l)throw new te(de.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");Bi("JwkVerificationMethod",l);const{publicKeyJwk:u}=l;return u})}}const hu=["string","number","bigint","symbol"],pa=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class vr{constructor(t,n,o){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=o}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}vr.uint=new vr(0,"uint",!0),vr.negint=new vr(1,"negint",!0),vr.bytes=new vr(2,"bytes",!0),vr.string=new vr(3,"string",!0),vr.array=new vr(4,"array",!1),vr.map=new vr(5,"map",!1),vr.tag=new vr(6,"tag",!1),vr.float=new vr(7,"float",!0),vr.false=new vr(7,"false",!0),vr.true=new vr(7,"true",!0),vr.null=new vr(7,"null",!0),vr.undefined=new vr(7,"undefined",!0),vr.break=new vr(7,"break",!0);class Si{constructor(t,n,o){this.type=t,this.value=n,this.encodedLength=o,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const pu=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,QA=new TextDecoder,p1=new TextEncoder;function Ag(r){return pu&&globalThis.Buffer.isBuffer(r)}function Cg(r){return r instanceof Uint8Array?Ag(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const d8=pu?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):zv(r,t,n):(r,t,n)=>n-t>64?QA.decode(r.subarray(t,n)):zv(r,t,n),m1=pu?r=>r.length>64?globalThis.Buffer.from(r):gM(r):r=>r.length>64?p1.encode(r):gM(r),nf=r=>Uint8Array.from(r),kg=pu?(r,t,n)=>Ag(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),hM=pu?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),Cg(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let o=0;for(let p of r)o+p.length>n.length&&(p=p.subarray(0,n.length-o)),n.set(p,o),o+=p.length;return n},pM=pu?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function gM(r,t=1/0){let n;const o=r.length;let p=null;const y=[];for(let l=0;l<o;++l){if(n=r.charCodeAt(l),n>55295&&n<57344){if(!p){if(n>56319){(t-=3)>-1&&y.push(239,191,189);continue}if(l+1===o){(t-=3)>-1&&y.push(239,191,189);continue}p=n;continue}if(n<56320){(t-=3)>-1&&y.push(239,191,189),p=n;continue}n=65536+(p-55296<<10|n-56320)}else p&&(t-=3)>-1&&y.push(239,191,189);if(p=null,n<128){if((t-=1)<0)break;y.push(n)}else if(n<2048){if((t-=2)<0)break;y.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;y.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;y.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return y}function zv(r,t,n){const o=[];for(;t<n;){const p=r[t];let y=null,l=p>239?4:p>223?3:p>191?2:1;if(t+l<=n){let u,J,X,N;switch(l){case 1:p<128&&(y=p);break;case 2:u=r[t+1],128==(192&u)&&(N=(31&p)<<6|63&u,N>127&&(y=N));break;case 3:u=r[t+1],J=r[t+2],128==(192&u)&&128==(192&J)&&(N=(15&p)<<12|(63&u)<<6|63&J,N>2047&&(N<55296||N>57343)&&(y=N));break;case 4:u=r[t+1],J=r[t+2],X=r[t+3],128==(192&u)&&128==(192&J)&&128==(192&X)&&(N=(15&p)<<18|(63&u)<<12|(63&J)<<6|63&X,N>65535&&N<1114112&&(y=N))}}null===y?(y=65533,l=1):y>65535&&(y-=65536,o.push(y>>>10&1023|55296),y=56320|1023&y),o.push(y),t+=l}return function Jd(r){const t=r.length;if(t<=Pg)return String.fromCharCode.apply(String,r);let n="",o=0;for(;o<t;)n+=String.fromCharCode.apply(String,r.slice(o,o+=Pg));return n}(o)}const Pg=4096;class Hv{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const p=n.length-(this.maxCursor-this.cursor)-1;p<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,p),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=pM(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const o=this.chunks[0];t&&this.cursor>o.length/2?(n=this.cursor===o.length?o:o.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=kg(o,0,this.cursor)}else n=hM(this.chunks,this.cursor);return t&&this.reset(),n}}const Oo="CBOR decode error:",yM="CBOR encode error:",gm=[];function Sl(r,t,n){if(r.length-t<n)throw new Error(`${Oo} not enough data for type`)}gm[23]=1,gm[24]=2,gm[25]=3,gm[26]=5,gm[27]=9;const uc=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Zh(r,t,n){Sl(r,t,1);const o=r[t];if(!0===n.strict&&o<uc[0])throw new Error(`${Oo} integer encoded in more bytes than necessary (strict decode)`);return o}function Yh(r,t,n){Sl(r,t,2);const o=r[t]<<8|r[t+1];if(!0===n.strict&&o<uc[1])throw new Error(`${Oo} integer encoded in more bytes than necessary (strict decode)`);return o}function rf(r,t,n){Sl(r,t,4);const o=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&o<uc[2])throw new Error(`${Oo} integer encoded in more bytes than necessary (strict decode)`);return o}function sf(r,t,n){Sl(r,t,8);const p=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],y=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(p);if(!0===n.strict&&y<uc[3])throw new Error(`${Oo} integer encoded in more bytes than necessary (strict decode)`);if(y<=Number.MAX_SAFE_INTEGER)return Number(y);if(!0===n.allowBigInt)return y;throw new Error(`${Oo} integers outside of the safe integer range are not supported`)}function Xh(r,t){return as(r,0,t.value)}function as(r,t,n){if(n<uc[0]){const o=Number(n);r.push([t|o])}else if(n<uc[1]){const o=Number(n);r.push([24|t,o])}else if(n<uc[2]){const o=Number(n);r.push([25|t,o>>>8,255&o])}else if(n<uc[3]){const o=Number(n);r.push([26|t,o>>>24&255,o>>>16&255,o>>>8&255,255&o])}else{const o=BigInt(n);if(!(o<uc[4]))throw new Error(`${Oo} encountered BigInt larger than allowable range`);{const p=[27|t,0,0,0,0,0,0,0];let y=Number(o&BigInt(4294967295)),l=Number(o>>BigInt(32)&BigInt(4294967295));p[8]=255&y,y>>=8,p[7]=255&y,y>>=8,p[6]=255&y,y>>=8,p[5]=255&y,p[4]=255&l,l>>=8,p[3]=255&l,l>>=8,p[2]=255&l,l>>=8,p[1]=255&l,r.push(p)}}}Xh.encodedSize=function(t){return as.encodedSize(t.value)},as.encodedSize=function(t){return t<uc[0]?1:t<uc[1]?2:t<uc[2]?3:t<uc[3]?5:9},Xh.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const g1=BigInt(-1),wM=BigInt(1);function y1(r,t){const n=t.value;as(r,t.type.majorEncoded,"bigint"==typeof n?n*g1-wM:-1*n-1)}function Og(r,t,n,o){Sl(r,t,n+o);const p=kg(r,t+n,t+n+o);return new Si(vr.bytes,p,n+o)}function r3(r,t,n,o){return Og(r,t,1,n)}function wi(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===vr.string?m1(r.value):r.value),r.encodedBytes}function ia(r,t){const n=wi(t);as(r,t.type.majorEncoded,n.length),r.push(n)}function ma(r,t,n,o,p){const y=n+o;Sl(r,t,y);const l=new Si(vr.string,d8(r,t+n,t+y),y);return!0===p.retainStringBytes&&(l.byteValue=kg(r,t+n,t+y)),l}function Jc(r,t,n,o){return ma(r,t,1,n,o)}y1.encodedSize=function(t){const n=t.value,o="bigint"==typeof n?n*g1-wM:-1*n-1;return o<uc[0]?1:o<uc[1]?2:o<uc[2]?3:o<uc[3]?5:9},y1.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},ia.encodedSize=function(t){const n=wi(t);return as.encodedSize(n.length)+n.length},ia.compareTokens=function(t,n){return function Dl(r,t){return r.length<t.length?-1:r.length>t.length?1:function Vv(r,t){if(Ag(r)&&Ag(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(wi(t),wi(n))};const eo=ia;function gu(r,t,n,o){return new Si(vr.array,o,n)}function _M(r,t,n,o){return gu(0,0,1,n)}function oh(r,t){as(r,vr.array.majorEncoded,t.value)}function qh(r,t,n,o){return new Si(vr.map,o,n)}function sh(r,t,n,o){return qh(0,0,1,n)}function Qd(r,t){as(r,vr.map.majorEncoded,t.value)}function Yv(r,t,n,o){return new Si(vr.tag,n,1)}function Wa(r,t){as(r,vr.tag.majorEncoded,t.value)}oh.compareTokens=Xh.compareTokens,oh.encodedSize=function(t){return as.encodedSize(t.value)},Qd.compareTokens=Xh.compareTokens,Qd.encodedSize=function(t){return as.encodedSize(t.value)},Wa.compareTokens=Xh.compareTokens,Wa.encodedSize=function(t){return as.encodedSize(t.value)};function _1(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${Oo} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${Oo} Infinity values are not supported`)}return new Si(vr.float,r,t)}function Lg(r,t,n){const o=t.value;if(!1===o)r.push([20|vr.float.majorEncoded]);else if(!0===o)r.push([21|vr.float.majorEncoded]);else if(null===o)r.push([22|vr.float.majorEncoded]);else if(void 0===o)r.push([23|vr.float.majorEncoded]);else{let p,y=!1;(!n||!0!==n.float64)&&(a3(o),p=xM(yu,1),o===p||Number.isNaN(o)?(yu[0]=249,r.push(yu.slice(0,3)),y=!0):(c3(o),p=MM(yu,1),o===p&&(yu[0]=250,r.push(yu.slice(0,5)),y=!0))),y||(function u8(r){Tl.setFloat64(0,r,!1)}(o),p=d3(yu,1),yu[0]=251,r.push(yu.slice(0,9)))}}Lg.encodedSize=function(t,n){const o=t.value;if(!1===o||!0===o||null==o)return 1;if(!n||!0!==n.float64){a3(o);let p=xM(yu,1);if(o===p||Number.isNaN(o))return 3;if(c3(o),p=MM(yu,1),o===p)return 5}return 9};const s3=new ArrayBuffer(9),Tl=new DataView(s3,1),yu=new Uint8Array(s3,0);function a3(r){if(r===1/0)Tl.setUint16(0,31744,!1);else if(r===-1/0)Tl.setUint16(0,64512,!1);else if(Number.isNaN(r))Tl.setUint16(0,32256,!1);else{Tl.setFloat32(0,r);const t=Tl.getUint32(0),n=(2139095040&t)>>23,o=8388607&t;if(255===n)Tl.setUint16(0,31744,!1);else if(0===n)Tl.setUint16(0,(2147483648&r)>>16|o>>13,!1);else{const p=n-127;p<-24?Tl.setUint16(0,0):Tl.setUint16(0,p<-14?(2147483648&t)>>16|1<<24+p:(2147483648&t)>>16|p+15<<10|o>>13,!1)}}}function xM(r,t){if(r.length-t<2)throw new Error(`${Oo} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const o=n>>10&31,p=1023&n;let y;return y=0===o?p*2**-24:31!==o?(p+1024)*2**(o-25):0===p?1/0:NaN,32768&n?-y:y}function c3(r){Tl.setFloat32(0,r,!1)}function MM(r,t){if(r.length-t<4)throw new Error(`${Oo} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function d3(r,t){if(r.length-t<8)throw new Error(`${Oo} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function es(r,t,n){throw new Error(`${Oo} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function x1(r){return()=>{throw new Error(`${Oo} ${r}`)}}Lg.compareTokens=Xh.compareTokens;const Yr=[];for(let r=0;r<=23;r++)Yr[r]=es;Yr[24]=function vM(r,t,n,o){return new Si(vr.uint,Zh(r,t+1,o),2)},Yr[25]=function Wv(r,t,n,o){return new Si(vr.uint,Yh(r,t+1,o),3)},Yr[26]=function ym(r,t,n,o){return new Si(vr.uint,rf(r,t+1,o),5)},Yr[27]=function e3(r,t,n,o){return new Si(vr.uint,sf(r,t+1,o),9)},Yr[28]=es,Yr[29]=es,Yr[30]=es,Yr[31]=es;for(let r=32;r<=55;r++)Yr[r]=es;Yr[56]=function bM(r,t,n,o){return new Si(vr.negint,-1-Zh(r,t+1,o),2)},Yr[57]=function t3(r,t,n,o){return new Si(vr.negint,-1-Yh(r,t+1,o),3)},Yr[58]=function Rg(r,t,n,o){return new Si(vr.negint,-1-rf(r,t+1,o),5)},Yr[59]=function n3(r,t,n,o){const p=sf(r,t+1,o);if("bigint"!=typeof p){const y=-1-p;if(y>=Number.MIN_SAFE_INTEGER)return new Si(vr.negint,y,9)}if(!0!==o.allowBigInt)throw new Error(`${Oo} integers outside of the safe integer range are not supported`);return new Si(vr.negint,g1-BigInt(p),9)},Yr[60]=es,Yr[61]=es,Yr[62]=es,Yr[63]=es;for(let r=64;r<=87;r++)Yr[r]=r3;Yr[88]=function v1(r,t,n,o){return Og(r,t,2,Zh(r,t+1,o))},Yr[89]=function Gv(r,t,n,o){return Og(r,t,3,Yh(r,t+1,o))},Yr[90]=function Ws(r,t,n,o){return Og(r,t,5,rf(r,t+1,o))},Yr[91]=function Or(r,t,n,o){const p=sf(r,t+1,o);if("bigint"==typeof p)throw new Error(`${Oo} 64-bit integer bytes lengths not supported`);return Og(r,t,9,p)},Yr[92]=es,Yr[93]=es,Yr[94]=es,Yr[95]=x1("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)Yr[r]=Jc;Yr[120]=function vm(r,t,n,o){return ma(r,t,2,Zh(r,t+1,o),o)},Yr[121]=function Fs(r,t,n,o){return ma(r,t,3,Yh(r,t+1,o),o)},Yr[122]=function Ca(r,t,n,o){return ma(r,t,5,rf(r,t+1,o),o)},Yr[123]=function mu(r,t,n,o){const p=sf(r,t+1,o);if("bigint"==typeof p)throw new Error(`${Oo} 64-bit integer string lengths not supported`);return ma(r,t,9,p,o)},Yr[124]=es,Yr[125]=es,Yr[126]=es,Yr[127]=x1("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)Yr[r]=_M;Yr[152]=function bm(r,t,n,o){return gu(0,0,2,Zh(r,t+1,o))},Yr[153]=function Gs(r,t,n,o){return gu(0,0,3,Yh(r,t+1,o))},Yr[154]=function Jh(r,t,n,o){return gu(0,0,5,rf(r,t+1,o))},Yr[155]=function wm(r,t,n,o){const p=sf(r,t+1,o);if("bigint"==typeof p)throw new Error(`${Oo} 64-bit integer array lengths not supported`);return gu(0,0,9,p)},Yr[156]=es,Yr[157]=es,Yr[158]=es,Yr[159]=function af(r,t,n,o){if(!1===o.allowIndefinite)throw new Error(`${Oo} indefinite length items not allowed`);return gu(0,0,1,1/0)};for(let r=160;r<=183;r++)Yr[r]=sh;Yr[184]=function Zv(r,t,n,o){return qh(0,0,2,Zh(r,t+1,o))},Yr[185]=function qd(r,t,n,o){return qh(0,0,3,Yh(r,t+1,o))},Yr[186]=function Ri(r,t,n,o){return qh(0,0,5,rf(r,t+1,o))},Yr[187]=function b1(r,t,n,o){const p=sf(r,t+1,o);if("bigint"==typeof p)throw new Error(`${Oo} 64-bit integer map lengths not supported`);return qh(0,0,9,p)},Yr[188]=es,Yr[189]=es,Yr[190]=es,Yr[191]=function Ng(r,t,n,o){if(!1===o.allowIndefinite)throw new Error(`${Oo} indefinite length items not allowed`);return qh(0,0,1,1/0)};for(let r=192;r<=215;r++)Yr[r]=Yv;Yr[216]=function _m(r,t,n,o){return new Si(vr.tag,Zh(r,t+1,o),2)},Yr[217]=function ga(r,t,n,o){return new Si(vr.tag,Yh(r,t+1,o),3)},Yr[218]=function Xv(r,t,n,o){return new Si(vr.tag,rf(r,t+1,o),5)},Yr[219]=function Ha(r,t,n,o){return new Si(vr.tag,sf(r,t+1,o),9)},Yr[220]=es,Yr[221]=es,Yr[222]=es,Yr[223]=es;for(let r=224;r<=243;r++)Yr[r]=x1("simple values are not supported");Yr[244]=es,Yr[245]=es,Yr[246]=es,Yr[247]=function Bg(r,t,n,o){if(!1===o.allowUndefined)throw new Error(`${Oo} undefined values are not supported`);return!0===o.coerceUndefinedToNull?new Si(vr.null,null,1):new Si(vr.undefined,void 0,1)},Yr[248]=x1("simple values are not supported"),Yr[249]=function E1(r,t,n,o){return _1(xM(r,t+1),3,o)},Yr[250]=function EM(r,t,n,o){return _1(MM(r,t+1),5,o)},Yr[251]=function o3(r,t,n,o){return _1(d3(r,t+1),9,o)},Yr[252]=es,Yr[253]=es,Yr[254]=es,Yr[255]=function i3(r,t,n,o){if(!1===o.allowIndefinite)throw new Error(`${Oo} indefinite length items not allowed`);return new Si(vr.break,void 0,1)};const Al=[];for(let r=0;r<24;r++)Al[r]=new Si(vr.uint,r,1);for(let r=-1;r>=-24;r--)Al[31-r]=new Si(vr.negint,r,1);Al[64]=new Si(vr.bytes,new Uint8Array(0),1),Al[96]=new Si(vr.string,"",1),Al[128]=new Si(vr.array,0,1),Al[160]=new Si(vr.map,0,1),Al[244]=new Si(vr.false,!1,1),Al[245]=new Si(vr.true,!0,1),Al[246]=new Si(vr.null,null,1);const f8={float64:!1,mapSorter:function f3(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],o=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==o.type)return n.type.compare(o.type);const y=l3[n.type.major].compareTokens(n,o);return 0===y&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),y},quickEncodeToken:function SM(r){switch(r.type){case vr.false:return nf([244]);case vr.true:return nf([245]);case vr.null:return nf([246]);case vr.bytes:return r.value.length?void 0:nf([64]);case vr.string:return""===r.value?nf([96]):void 0;case vr.array:return 0===r.value?nf([128]):void 0;case vr.map:return 0===r.value?nf([160]):void 0;case vr.uint:return r.value<24?nf([Number(r.value)]):void 0;case vr.negint:if(r.value>=-24)return nf([31-Number(r.value)])}}},l3=function h8(){const r=[];return r[vr.uint.major]=Xh,r[vr.negint.major]=y1,r[vr.bytes.major]=ia,r[vr.string.major]=eo,r[vr.array.major]=oh,r[vr.map.major]=Qd,r[vr.tag.major]=Wa,r[vr.float.major]=Lg,r}(),DM=new Hv;class qv{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${yM} object contains circular references`);return new qv(n,t)}}const cf={null:new Si(vr.null,null),undefined:new Si(vr.undefined,void 0),true:new Si(vr.true,!0),false:new Si(vr.false,!1),emptyArray:new Si(vr.array,0),emptyMap:new Si(vr.map,0)},vu={number:(r,t,n,o)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new Si(r>=0?vr.uint:vr.negint,r):new Si(vr.float,r),bigint:(r,t,n,o)=>r>=BigInt(0)?new Si(vr.uint,r):new Si(vr.negint,r),Uint8Array:(r,t,n,o)=>new Si(vr.bytes,r),string:(r,t,n,o)=>new Si(vr.string,r),boolean:(r,t,n,o)=>r?cf.true:cf.false,null:(r,t,n,o)=>cf.null,undefined:(r,t,n,o)=>cf.undefined,ArrayBuffer:(r,t,n,o)=>new Si(vr.bytes,new Uint8Array(r)),DataView:(r,t,n,o)=>new Si(vr.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,o){if(!r.length)return!0===n.addBreakTokens?[cf.emptyArray,new Si(vr.break)]:cf.emptyArray;o=qv.createCheck(o,r);const p=[];let y=0;for(const l of r)p[y++]=Ug(l,n,o);return n.addBreakTokens?[new Si(vr.array,r.length),p,new Si(vr.break)]:[new Si(vr.array,r.length),p]},Object(r,t,n,o){const p="Object"!==t,y=p?r.keys():Object.keys(r),l=p?r.size:y.length;if(!l)return!0===n.addBreakTokens?[cf.emptyMap,new Si(vr.break)]:cf.emptyMap;o=qv.createCheck(o,r);const u=[];let J=0;for(const X of y)u[J++]=[Ug(X,n,o),Ug(p?r.get(X):r[X],n,o)];return function u3(r,t){t.mapSorter&&r.sort(t.mapSorter)}(u,n),n.addBreakTokens?[new Si(vr.map,l),u,new Si(vr.break)]:[new Si(vr.map,l),u]}};vu.Map=vu.Object,vu.Buffer=vu.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))vu[`${r}Array`]=vu.DataView;function Ug(r,t={},n){const o=function uM(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(hu.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function fM(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function Kv(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(pa.includes(t))return t}(r);return n||"Object"}(r),p=t&&t.typeEncoders&&t.typeEncoders[o]||vu[o];if("function"==typeof p){const l=p(r,o,t,n);if(null!=l)return l}const y=vu[o];if(!y)throw new Error(`${yM} unsupported type: ${o}`);return y(r,o,t,n)}function M1(r,t,n,o){if(Array.isArray(t))for(const p of t)M1(r,p,n,o);else n[t.type.major](r,t,o)}function IM(r,t,n){const o=Ug(r,n);if(!Array.isArray(o)&&n.quickEncodeToken){const p=n.quickEncodeToken(o);if(p)return p;const y=t[o.type.major];if(y.encodedSize){const l=y.encodedSize(o,n),u=new Hv(l);if(y(u,o,n),1!==u.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${o} was wrong`);return Cg(u.chunks[0])}}return DM.reset(),M1(DM,o,t,n),DM.toBytes(!0)}const S1={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class p3{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=Al[t];if(void 0===n){const o=Yr[t];if(!o)throw new Error(`${Oo} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=o(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const vd=Symbol.for("DONE"),Fg=Symbol.for("BREAK");function ep(r,t){if(r.done())return vd;const n=r.next();if(n.type===vr.break)return Fg;if(n.type.terminal)return n.value;if(n.type===vr.array)return function TM(r,t,n){const o=[];for(let p=0;p<r.value;p++){const y=ep(t,n);if(y===Fg){if(r.value===1/0)break;throw new Error(`${Oo} got unexpected break to lengthed array`)}if(y===vd)throw new Error(`${Oo} found array but not enough entries (got ${p}, expected ${r.value})`);o[p]=y}return o}(n,r,t);if(n.type===vr.map)return function ts(r,t,n){const o=!0===n.useMaps,p=o?void 0:{},y=o?new Map:void 0;for(let l=0;l<r.value;l++){const u=ep(t,n);if(u===Fg){if(r.value===1/0)break;throw new Error(`${Oo} got unexpected break to lengthed map`)}if(u===vd)throw new Error(`${Oo} found map but not enough entries (got ${l} [no key], expected ${r.value})`);if(!0!==o&&"string"!=typeof u)throw new Error(`${Oo} non-string keys not supported (got ${typeof u})`);if(!0===n.rejectDuplicateMapKeys&&(o&&y.has(u)||!o&&u in p))throw new Error(`${Oo} found repeat map key "${u}"`);const J=ep(t,n);if(J===vd)throw new Error(`${Oo} found map but not enough entries (got ${l} [no value], expected ${r.value})`);o?y.set(u,J):p[u]=J}return o?y:p}(n,r,t);if(n.type===vr.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const o=ep(r,t);return t.tags[n.value](o)}throw new Error(`${Oo} tag not supported (${n.value})`)}throw new Error("unsupported")}const bd=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class Kg{constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class D1{constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Vg(this,t)}}class Qv{constructor(t){this.decoders=t}or(t){return Vg(this,t)}decode(t){const o=this.decoders[t[0]];if(o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Vg=(r,t)=>new Qv({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class I1{constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new Kg(t,n,o),this.decoder=new D1(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const bu=({name:r,prefix:t,encode:n,decode:o})=>new I1(r,t,n,o),Ji=({prefix:r,name:t,alphabet:n})=>{const{encode:o,decode:p}=function qc(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ye=0;if(" "!==Pe[Ye]){for(var mt=0,St=0;Pe[Ye]===J;)mt++,Ye++;for(var gt=(Pe.length-Ye)*X+1>>>0,yt=new Uint8Array(gt);Pe[Ye];){var Tt=n[Pe.charCodeAt(Ye)];if(255===Tt)return;for(var zt=0,Zt=gt-1;(0!==Tt||zt<St)&&-1!==Zt;Zt--,zt++)yt[Zt]=(Tt+=u*yt[Zt]>>>0)%256>>>0,Tt=Tt/256>>>0;if(0!==Tt)throw new Error("Non-zero carry");St=zt,Ye++}if(" "!==Pe[Ye]){for(var cn=gt-St;cn!==gt&&0===yt[cn];)cn++;for(var $t=new Uint8Array(mt+(gt-cn)),kn=mt;cn!==gt;)$t[kn++]=yt[cn++];return $t}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ye=0,mt=0,St=0,gt=Pe.length;St!==gt&&0===Pe[St];)St++,Ye++;for(var yt=(gt-St)*N+1>>>0,Tt=new Uint8Array(yt);St!==gt;){for(var zt=Pe[St],Zt=0,cn=yt-1;(0!==zt||Zt<mt)&&-1!==cn;cn--,Zt++)Tt[cn]=(zt+=256*Tt[cn]>>>0)%u>>>0,zt=zt/u>>>0;if(0!==zt)throw new Error("Non-zero carry");mt=Zt,St++}for(var $t=yt-mt;$t!==yt&&0===Tt[$t];)$t++;for(var kn=J.repeat(Ye);$t<yt;++$t)kn+=r.charAt(Tt[$t]);return kn},decodeUnsafe:Ee,decode:function Le(Pe){var Ye=Ee(Pe);if(Ye)return Ye;throw new Error(`Non-${t} character`)}}}(n,t);return bu({prefix:r,name:t,encode:o,decode:y=>bd(p(y))})},wu=({name:r,prefix:t,bitsPerChar:n,alphabet:o})=>bu({prefix:t,name:r,encode:p=>((r,t,n)=>{const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y})(p,o,n),decode:p=>((r,t,n,o)=>{const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l})(p,o,n,r)}),A1=wu({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ah=(wu({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wu({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wu({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wu({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wu({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wu({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wu({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),wu({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ji({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));Ji({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var So=128,kM=-128,hs=Math.pow(2,31),_u=128,tb=127,_3=Math.pow(2,7),E8=Math.pow(2,14),x8=Math.pow(2,21),PM=Math.pow(2,28),RM=Math.pow(2,35),OM=Math.pow(2,42),Qc=Math.pow(2,49),df=Math.pow(2,56),NM=Math.pow(2,63);const Wg={encode:function C1(r,t,n){t=t||[];for(var o=n=n||0;r>=hs;)t[n++]=255&r|So,r/=128;for(;r&kM;)t[n++]=255&r|So,r>>>=7;return t[n]=0|r,C1.bytes=n-o+1,t},decode:function Hg(r,o){var l,n=0,p=0,y=o=o||0,u=r.length;do{if(y>=u)throw Hg.bytes=0,new RangeError("Could not decode varint");l=r[y++],n+=p<28?(l&tb)<<p:(l&tb)*Math.pow(2,p),p+=7}while(l>=_u);return Hg.bytes=y-o,n},encodingLength:function(r){return r<_3?1:r<E8?2:r<x8?3:r<PM?4:r<RM?5:r<OM?6:r<Qc?7:r<df?8:r<NM?9:10}},k1=(r,t=0)=>[Wg.decode(r,t),Wg.decode.bytes],nb=(r,t,n=0)=>(Wg.encode(r,t,n),t),Mm=r=>Wg.encodingLength(r);class O1{constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}const ib=(r,t)=>{const{bytes:n,version:o}=r;return 0===o?M3(n,ob(r),t||ah.encoder):Oc(n,ob(r),t||A1.encoder)},N1=new WeakMap,ob=r=>{const t=N1.get(r);if(null==t){const n=new Map;return N1.set(r,n),n}return t};class ka{constructor(t,n,o,p){this.code=n,this.version=t,this.multihash=o,this.bytes=p,this["/"]=p}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==kl)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==js)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ka.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,o=((r,t)=>{const n=t.byteLength,o=Mm(r),p=o+Mm(n),y=new Uint8Array(p+n);return nb(r,y,0),nb(n,y,o),y.set(t,p),new O1(r,n,t,y)})(t,n);return ka.createV1(this.code,o)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return ka.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return ib(this,t)}toJSON(){return{"/":ib(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof ka)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:o,code:p,multihash:y,bytes:l}=n;return new ka(o,p,y,l||L1(o,p,y.bytes))}if(!0===n[S3]){const{version:o,multihash:p,code:y}=n,l=(r=>{const t=bd(r),[n,o]=k1(t),[p,y]=k1(t.subarray(o)),l=t.subarray(o+y);if(l.byteLength!==p)throw new Error("Incorrect length");return new O1(n,p,l,t)})(p);return ka.create(o,y,l)}return null}static create(t,n,o){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(o.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==kl)throw new Error(`Version 0 CID must use dag-pb (code: ${kl}) block encoding`);return new ka(t,n,o,o.bytes);case 1:{const p=L1(t,n,o.bytes);return new ka(t,n,o,p)}default:throw new Error("Invalid version")}}static createV0(t){return ka.create(0,kl,t)}static createV1(t,n){return ka.create(1,t,n)}static decode(t){const[n,o]=ka.decodeFirst(t);if(o.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=ka.inspectBytes(t),o=n.size-n.multihashSize,p=bd(t.subarray(o,o+n.multihashSize));if(p.byteLength!==n.multihashSize)throw new Error("Incorrect length");const y=p.subarray(n.multihashSize-n.digestSize),l=new O1(n.multihashCode,n.digestSize,y,p);return[0===n.version?ka.createV0(l):ka.createV1(n.codec,l),t.subarray(n.size)]}static inspectBytes(t){let n=0;const o=()=>{const[oe,Ee]=k1(t.subarray(n));return n+=Ee,oe};let p=o(),y=kl;if(18===p?(p=0,n=0):y=o(),0!==p&&1!==p)throw new RangeError(`Invalid CID version ${p}`);const l=n,u=o(),J=o(),X=n+J;return{version:p,codec:y,multihashCode:u,digestSize:J,multihashSize:X-l,size:X}}static parse(t,n){const[o,p]=B1(t,n),y=ka.decode(p);if(0===y.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return ob(y).set(o,t),y}}const B1=(r,t)=>{switch(r[0]){case"Q":return[ah.prefix,(t||ah).decode(`${ah.prefix}${r}`)];case ah.prefix:return[ah.prefix,(t||ah).decode(r)];case A1.prefix:return[A1.prefix,(t||A1).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},M3=(r,t,n)=>{const{prefix:o}=n;if(o!==ah.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const p=t.get(o);if(null==p){const y=n.encode(r).slice(1);return t.set(o,y),y}return p},Oc=(r,t,n)=>{const{prefix:o}=n,p=t.get(o);if(null==p){const y=n.encode(r);return t.set(o,y),y}return p},kl=112,js=18,L1=(r,t,n)=>{const o=Mm(r),p=o+Mm(t),y=new Uint8Array(p+n.byteLength);return nb(r,y,0),nb(t,y,o),y.set(n,p),y},S3=Symbol.for("@ipld/js-cid/CID"),Gg={float64:!0,typeEncoders:{Object:function D3(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=ka.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Si(vr.tag,42),new Si(vr.bytes,n)]},undefined:function LM(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function UM(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},FM={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};FM.tags[42]=function Eu(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return ka.decode(r.subarray(1))};const sb="dag-cbor",tp=113,ab=r=>function h3(r,t){return t=Object.assign({},f8,t),IM(r,l3,t)}(r,Gg),cb=r=>function jg(r,t){if(!(r instanceof Uint8Array))throw new Error(`${Oo} data to decode must be a Uint8Array`);const n=(t=Object.assign({},S1,t)).tokenizer||new p3(r,t),o=ep(n,t);if(o===vd)throw new Error(`${Oo} did not find any content to decode`);if(o===Fg)throw new Error(`${Oo} got unexpected break`);if(!n.done())throw new Error(`${Oo} too many terminals, data makes no sense`);return o}(r,FM);var el=E(41405),uf=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},db=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}},oa=function(r){return this instanceof oa?(this.v=r,this):new oa(r)},ch=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,o=n.apply(r,t||[]),y=[];return p={},l("next"),l("throw"),l("return"),p[Symbol.asyncIterator]=function(){return this},p;function l(Ee){o[Ee]&&(p[Ee]=function(Le){return new Promise(function(Pe,Ye){y.push([Ee,Le,Pe,Ye])>1||u(Ee,Le)})})}function u(Ee,Le){try{!function J(Ee){Ee.value instanceof oa?Promise.resolve(Ee.value.v).then(X,N):oe(y[0][2],Ee)}(o[Ee](Le))}catch(Pe){oe(y[0][3],Pe)}}function X(Ee){u("next",Ee)}function N(Ee){u("throw",Ee)}function oe(Ee,Le){Ee(Le),y.shift(),y.length&&u(y[0][0],y[0][1])}};class jM{open(){return uf(this,void 0,void 0,function*(){})}close(){return uf(this,void 0,void 0,function*(){})}put(t,n,o){return uf(this,void 0,void 0,function*(){return t})}get(t,n){return uf(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return uf(this,void 0,void 0,function*(){return!1})}delete(t,n){return uf(this,void 0,void 0,function*(){})}isEmpty(t){return uf(this,void 0,void 0,function*(){return!0})}putMany(t,n){return ch(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=db(t);!(p=(N=yield oa(X.next())).done);J=!0){J=!1;const oe=N.value;yield oa(this.put(oe.cid,oe.block,n)),yield yield oa(oe.cid)}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield oa(l.call(X)))}finally{if(y)throw y.error}}})}getMany(t,n){return ch(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=db(t);!(p=(N=yield oa(X.next())).done);J=!0){J=!1;const oe=N.value;yield yield oa({cid:oe,block:yield oa(this.get(oe,n))})}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield oa(l.call(X)))}finally{if(y)throw y.error}}})}getAll(t){return ch(this,arguments,function*(){var o,p,y,l;const u=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var N,J=!0,X=db(u);!(o=(N=yield oa(X.next())).done);J=!0){l=N.value,J=!1;const[oe,Ee]=l;yield yield oa({cid:el.TO.decode(oe),block:Ee})}}catch(oe){p={error:oe}}finally{try{!J&&!o&&(y=X.return)&&(yield oa(y.call(X)))}finally{if(p)throw p.error}}})}deleteMany(t,n){return ch(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=db(t);!(p=(N=yield oa(X.next())).done);J=!0){J=!1;const oe=N.value;yield oa(this.delete(oe,n)),yield yield oa(oe)}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield oa(l.call(X)))}finally{if(y)throw y.error}}})}clear(){return uf(this,void 0,void 0,function*(){})}}var Bd=E(41861);function F1(r,t){this.v=r,this.k=t}function di(r){return new F1(r,0)}function Zg(r){var t,n;function o(y,l){try{var u=r[y](l),J=u.value,X=J instanceof F1;Promise.resolve(X?J.v:J).then(function(N){if(X){var oe="return"===y?"return":"next";if(!J.k||N.done)return o(oe,N);N=r[oe](N).value}p(u.done?"return":"normal",N)},function(N){o("throw",N)})}catch(N){p("throw",N)}}function p(y,l){switch(y){case"return":t.resolve({value:l,done:!0});break;case"throw":t.reject(l);break;default:t.resolve({value:l,done:!1})}(t=t.next)?o(t.key,t.arg):n=null}this._invoke=function(y,l){return new Promise(function(u,J){var X={key:y,arg:l,resolve:u,reject:J,next:null};n?n=n.next=X:(t=n=X,o(y,l))})},"function"!=typeof r.return&&(this.return=void 0)}function Xo(r){return function(){return new Zg(r.apply(this,arguments))}}function ko(r){var t,n,o,p=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,o=Symbol.iterator);p--;){if(n&&null!=(t=r[n]))return t.call(r);if(o&&null!=(t=r[o]))return new Sm(t.call(r));n="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}function Sm(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var o=n.done;return Promise.resolve(n.value).then(function(p){return{value:p,done:o}})}return(Sm=function(o){this.s=o,this.n=o.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(o){var p=this.s.return;return void 0===p?Promise.resolve({value:o,done:!0}):t(p.apply(this.s,arguments))},throw:function(o){var p=this.s.return;return void 0===p?Promise.reject(o):t(p.apply(this.s,arguments))}},new Sm(r)}Zg.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Zg.prototype.next=function(r){return this._invoke("next",r)},Zg.prototype.throw=function(r){return this._invoke("throw",r)},Zg.prototype.return=function(r){return this._invoke("return",r)};var np=E(5014);const $M=function Yg(r,t=1){return t=Number(t),function j1(r){return null!=r[Symbol.asyncIterator]}(r)?Xo(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var y,o=!1,p=!1;try{for(var u,l=ko(r);o=!(u=yield di(l.next())).done;o=!1)for(n.push(u.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(J){p=!0,y=J}finally{try{o&&null!=l.return&&(yield di(l.return()))}finally{if(p)throw y}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const o of r)for(n.push(o);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function Dm(r){return lb.apply(this,arguments)}function lb(){return lb=Xo(function*(r,t=1){var p,n=!1,o=!1;try{for(var l,y=ko($M(r,t));n=!(l=yield di(y.next())).done;n=!1){const J=l.value.map(function(){var X=(0,Ne.A)(function*(N){return N().then(oe=>({ok:!0,value:oe}),oe=>({ok:!1,err:oe}))});return function(N){return X.apply(this,arguments)}}());for(let X=0;X<J.length;X++){const N=yield di(J[X]);if(!N.ok)throw N.err;yield N.value}}}catch(u){o=!0,p=u}finally{try{n&&null!=y.return&&(yield di(y.return()))}finally{if(o)throw p}}}),lb.apply(this,arguments)}function xu(r=0){return new Uint8Array(r)}function Im(r=0){return new Uint8Array(r)}function $1(r,t){null==t&&(t=r.reduce((p,y)=>p+y.length,0));const n=Im(t);let o=0;for(const p of r)n.set(p,o),o+=p.length;return n}function KM(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const VM=Symbol.for("@achingbrain/uint8arraylist");function Pl(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const o of r){const p=n+o.byteLength;if(t<p)return{buf:o,index:t-n};n=p}throw new RangeError("index is out of bounds")}function ub(r){return!!r?.[VM]}class Mu{bufs;length;[VM]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const o of t)if(o instanceof Uint8Array)n+=o.byteLength,this.bufs.push(o);else{if(!ub(o))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=o.byteLength,this.bufs.push(...o.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const o of t.reverse())if(o instanceof Uint8Array)n+=o.byteLength,this.bufs.unshift(o);else{if(!ub(o))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=o.byteLength,this.bufs.unshift(...o.bufs)}this.length+=n}get(t){const n=Pl(this.bufs,t);return n.buf[n.index]}set(t,n){const o=Pl(this.bufs,t);o.buf[o.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let o=0;o<t.length;o++)this.set(n+o,t[o]);else{if(!ub(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let o=0;o<t.length;o++)this.set(n+o,t.get(o))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:o,length:p}=this._subList(t,n);return $1(o,p)}subarray(t,n){const{bufs:o,length:p}=this._subList(t,n);return 1===o.length?o[0]:$1(o,p)}sublist(t,n){const{bufs:o,length:p}=this._subList(t,n),y=new Mu;return y.length=p,y.bufs=[...o],y}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const o=[];let p=0;for(let y=0;y<this.bufs.length;y++){const l=this.bufs[y],u=p,J=u+l.byteLength;if(p=J,t>=J)continue;const X=t>=u&&t<J,N=n>u&&n<=J;if(X&&N){if(t===u&&n===J){o.push(l);break}const oe=t-u;o.push(l.subarray(oe,oe+(n-t)));break}if(X){if(0===t){o.push(l);continue}o.push(l.subarray(t-u))}else{if(N){if(n===J){o.push(l);break}o.push(l.subarray(0,n-u));break}o.push(l)}}return{bufs:o,length:n-t}}indexOf(t,n=0){if(!(ub(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const o=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const p=o.byteLength;if(0===p)throw new TypeError("search must be at least 1 byte long");const l=new Int32Array(256);for(let oe=0;oe<256;oe++)l[oe]=-1;for(let oe=0;oe<p;oe++)l[o[oe]]=oe;const u=l,J=this.byteLength-o.byteLength,X=o.byteLength-1;let N;for(let oe=n;oe<=J;oe+=N){N=0;for(let Ee=X;Ee>=0;Ee--){const Le=this.get(oe+Ee);if(o[Ee]!==Le){N=Math.max(1,Ee-u[Le]);break}}if(0===N)return oe}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const o=Im(1);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt8(0,n),this.write(o,t)}getInt16(t,n){const o=this.subarray(t,t+2);return new DataView(o.buffer,o.byteOffset,o.byteLength).getInt16(0,n)}setInt16(t,n,o){const p=xu(2);new DataView(p.buffer,p.byteOffset,p.byteLength).setInt16(0,n,o),this.write(p,t)}getInt32(t,n){const o=this.subarray(t,t+4);return new DataView(o.buffer,o.byteOffset,o.byteLength).getInt32(0,n)}setInt32(t,n,o){const p=xu(4);new DataView(p.buffer,p.byteOffset,p.byteLength).setInt32(0,n,o),this.write(p,t)}getBigInt64(t,n){const o=this.subarray(t,t+8);return new DataView(o.buffer,o.byteOffset,o.byteLength).getBigInt64(0,n)}setBigInt64(t,n,o){const p=xu(8);new DataView(p.buffer,p.byteOffset,p.byteLength).setBigInt64(0,n,o),this.write(p,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const o=Im(1);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint8(0,n),this.write(o,t)}getUint16(t,n){const o=this.subarray(t,t+2);return new DataView(o.buffer,o.byteOffset,o.byteLength).getUint16(0,n)}setUint16(t,n,o){const p=xu(2);new DataView(p.buffer,p.byteOffset,p.byteLength).setUint16(0,n,o),this.write(p,t)}getUint32(t,n){const o=this.subarray(t,t+4);return new DataView(o.buffer,o.byteOffset,o.byteLength).getUint32(0,n)}setUint32(t,n,o){const p=xu(4);new DataView(p.buffer,p.byteOffset,p.byteLength).setUint32(0,n,o),this.write(p,t)}getBigUint64(t,n){const o=this.subarray(t,t+8);return new DataView(o.buffer,o.byteOffset,o.byteLength).getBigUint64(0,n)}setBigUint64(t,n,o){const p=xu(8);new DataView(p.buffer,p.byteOffset,p.byteLength).setBigUint64(0,n,o),this.write(p,t)}getFloat32(t,n){const o=this.subarray(t,t+4);return new DataView(o.buffer,o.byteOffset,o.byteLength).getFloat32(0,n)}setFloat32(t,n,o){const p=xu(4);new DataView(p.buffer,p.byteOffset,p.byteLength).setFloat32(0,n,o),this.write(p,t)}getFloat64(t,n){const o=this.subarray(t,t+8);return new DataView(o.buffer,o.byteOffset,o.byteLength).getFloat64(0,n)}setFloat64(t,n,o){const p=xu(8);new DataView(p.buffer,p.byteOffset,p.byteLength).setFloat64(0,n,o),this.write(p,t)}equals(t){if(null==t||!(t instanceof Mu)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!KM(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const o=new Mu;return o.bufs=t,null==n&&(n=t.reduce((p,y)=>p+y.byteLength,0)),o.length=n,o}}const zM=(r={})=>{const t=r.chunkSize??262144;return function(){var n=Xo(function*(p){let y=new Mu,l=0,u=!1;var N,J=!1,X=!1;try{for(var Ee,oe=ko(p);J=!(Ee=yield di(oe.next())).done;J=!1){const Le=Ee.value;for(y.append(Le),l+=Le.length;l>=t;)if(yield y.slice(0,t),u=!0,t===y.length)y=new Mu,l=0;else{const Pe=new Mu;Pe.append(y.sublist(t)),y=Pe,l-=t}}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield di(oe.return()))}finally{if(X)throw N}}(!u||l>0)&&(yield y.subarray(0,l))});return function o(p){return n.apply(this,arguments)}}()};function hb(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class ZM{name;prefix;baseEncode;constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Tm{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Pa(this,t)}}class Am{decoders;constructor(t){this.decoders=t}or(t){return Pa(this,t)}decode(t){const o=this.decoders[t[0]];if(null!=o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Pa(r,t){return new Am({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class C3{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new ZM(t,n,o),this.decoder=new Tm(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function V1({name:r,prefix:t,encode:n,decode:o}){return new C3(r,t,n,o)}function mb({name:r,prefix:t,alphabet:n}){const{encode:o,decode:p}=function pb(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ye=0;if(" "!==Pe[Ye]){for(var mt=0,St=0;Pe[Ye]===J;)mt++,Ye++;for(var gt=(Pe.length-Ye)*X+1>>>0,yt=new Uint8Array(gt);Pe[Ye];){var Tt=n[Pe.charCodeAt(Ye)];if(255===Tt)return;for(var zt=0,Zt=gt-1;(0!==Tt||zt<St)&&-1!==Zt;Zt--,zt++)yt[Zt]=(Tt+=u*yt[Zt]>>>0)%256>>>0,Tt=Tt/256>>>0;if(0!==Tt)throw new Error("Non-zero carry");St=zt,Ye++}if(" "!==Pe[Ye]){for(var cn=gt-St;cn!==gt&&0===yt[cn];)cn++;for(var $t=new Uint8Array(mt+(gt-cn)),kn=mt;cn!==gt;)$t[kn++]=yt[cn++];return $t}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ye=0,mt=0,St=0,gt=Pe.length;St!==gt&&0===Pe[St];)St++,Ye++;for(var yt=(gt-St)*N+1>>>0,Tt=new Uint8Array(yt);St!==gt;){for(var zt=Pe[St],Zt=0,cn=yt-1;(0!==zt||Zt<mt)&&-1!==cn;cn--,Zt++)Tt[cn]=(zt+=256*Tt[cn]>>>0)%u>>>0,zt=zt/u>>>0;if(0!==zt)throw new Error("Non-zero carry");mt=Zt,St++}for(var $t=yt-mt;$t!==yt&&0===Tt[$t];)$t++;for(var kn=J.repeat(Ye);$t<yt;++$t)kn+=r.charAt(Tt[$t]);return kn},decodeUnsafe:Ee,decode:function Le(Pe){var Ye=Ee(Pe);if(Ye)return Ye;throw new Error(`Non-${t} character`)}}}(n,r);return V1({prefix:t,name:r,encode:o,decode:y=>hb(p(y))})}function tl({name:r,prefix:t,bitsPerChar:n,alphabet:o}){return V1({prefix:t,name:r,encode:p=>function YM(r,t,n){const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(0!==l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y}(p,o,n),decode:p=>function k3(r,t,n,o){const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l}(p,o,n,r)})}const gb=tl({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dh=(tl({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tl({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tl({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tl({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tl({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tl({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tl({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tl({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),mb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));mb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var JM=128,qM=-128,QM=Math.pow(2,31),L3=128,U3=127,k8=Math.pow(2,7),H1=Math.pow(2,14),Rl=Math.pow(2,21),eS=Math.pow(2,28),Cm=Math.pow(2,35),F3=Math.pow(2,42),j3=Math.pow(2,49),tS=Math.pow(2,56),P8=Math.pow(2,63);const W1={encode:function Fa(r,t,n){t=t||[];for(var o=n=n||0;r>=QM;)t[n++]=255&r|JM,r/=128;for(;r&qM;)t[n++]=255&r|JM,r>>>=7;return t[n]=0|r,Fa.bytes=n-o+1,t},decode:function yb(r,o){var l,n=0,p=0,y=o=o||0,u=r.length;do{if(y>=u)throw yb.bytes=0,new RangeError("Could not decode varint");l=r[y++],n+=p<28?(l&U3)<<p:(l&U3)*Math.pow(2,p),p+=7}while(l>=L3);return yb.bytes=y-o,n},encodingLength:function(r){return r<k8?1:r<H1?2:r<Rl?3:r<eS?4:r<Cm?5:r<F3?6:r<j3?7:r<tS?8:r<P8?9:10}};function G1(r,t=0){return[W1.decode(r,t),W1.decode.bytes]}function ff(r,t,n=0){return W1.encode(r,t,n),t}function lh(r){return W1.encodingLength(r)}class Z1{code;size;digest;bytes;constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}function nl(r,t){const{bytes:n,version:o}=r;return 0===o?function vb(r,t,n){const{prefix:o}=n;if(o!==dh.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const p=t.get(o);if(null==p){const y=n.encode(r).slice(1);return t.set(o,y),y}return p}(n,X1(r),t??dh.encoder):function bb(r,t,n){const{prefix:o}=n,p=t.get(o);if(null==p){const y=n.encode(r);return t.set(o,y),y}return p}(n,X1(r),t??gb.encoder)}const km=new WeakMap;function X1(r){const t=km.get(r);if(null==t){const n=new Map;return km.set(r,n),n}return t}class sa{code;version;multihash;bytes;"/";constructor(t,n,o,p){this.code=n,this.version=t,this.multihash=o,this.bytes=p,this["/"]=p}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==op)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==$3)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return sa.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,o=function nS(r,t){const n=t.byteLength,o=lh(r),p=o+lh(n),y=new Uint8Array(p+n);return ff(r,y,0),ff(n,y,o),y.set(t,p),new Z1(r,n,t,y)}(t,n);return sa.createV1(this.code,o)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return sa.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function B8(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function WM(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return nl(this,t)}toJSON(){return{"/":nl(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof sa)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:o,code:p,multihash:y,bytes:l}=n;return new sa(o,p,y,l??iS(o,p,y.bytes))}if(!0===n[K3]){const{version:o,multihash:p,code:y}=n,l=function ip(r){const t=hb(r),[n,o]=G1(t),[p,y]=G1(t.subarray(o)),l=t.subarray(o+y);if(l.byteLength!==p)throw new Error("Incorrect length");return new Z1(n,p,l,t)}(p);return sa.create(o,y,l)}return null}static create(t,n,o){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(o.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==op)throw new Error(`Version 0 CID must use dag-pb (code: ${op}) block encoding`);return new sa(t,n,o,o.bytes);case 1:{const p=iS(t,n,o.bytes);return new sa(t,n,o,p)}default:throw new Error("Invalid version")}}static createV0(t){return sa.create(0,op,t)}static createV1(t,n){return sa.create(1,t,n)}static decode(t){const[n,o]=sa.decodeFirst(t);if(0!==o.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=sa.inspectBytes(t),o=n.size-n.multihashSize,p=hb(t.subarray(o,o+n.multihashSize));if(p.byteLength!==n.multihashSize)throw new Error("Incorrect length");const y=p.subarray(n.multihashSize-n.digestSize),l=new Z1(n.multihashCode,n.digestSize,y,p);return[0===n.version?sa.createV0(l):sa.createV1(n.codec,l),t.subarray(n.size)]}static inspectBytes(t){let n=0;const o=()=>{const[oe,Ee]=G1(t.subarray(n));return n+=Ee,oe};let p=o(),y=op;if(18===p?(p=0,n=0):y=o(),0!==p&&1!==p)throw new RangeError(`Invalid CID version ${p}`);const l=n,u=o(),J=o(),X=n+J;return{version:p,codec:y,multihashCode:u,digestSize:J,multihashSize:X-l,size:X}}static parse(t,n){const[o,p]=function rS(r,t){switch(r[0]){case"Q":return[dh.prefix,(t??dh).decode(`${dh.prefix}${r}`)];case dh.prefix:return[dh.prefix,(t??dh).decode(r)];case gb.prefix:return[gb.prefix,(t??gb).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),y=sa.decode(p);if(0===y.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return X1(y).set(o,t),y}}const op=112,$3=18;function iS(r,t,n){const o=lh(r),p=o+lh(t),y=new Uint8Array(p+n.byteLength);return ff(r,y,0),ff(t,y,o),y.set(n,p),y}const K3=Symbol.for("@ipld/js-cid/CID"),oS=new TextDecoder;function J1(r,t){let n=0;for(let o=0;;o+=7){if(o>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const p=r[t++];if(n+=o<28?(127&p)<<o:(127&p)*2**o,p<128)break}return[n,t]}function wb(r,t){let n;[n,t]=J1(r,t);const o=t+n;if(n<0||o<0)throw new Error("protobuf: invalid length");if(o>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,o),o]}function ed(r,t){let n;return[n,t]=J1(r,t),[7&n,n>>3,t]}function q1(r){const t={},n=r.length;let o=0;for(;o<n;){let p,y;if([p,y,o]=ed(r,o),1===y){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==p)throw new Error(`protobuf: (PBLink) wrong wireType (${p}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,o]=wb(r,o)}else if(2===y){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==p)throw new Error(`protobuf: (PBLink) wrong wireType (${p}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let l;[l,o]=wb(r,o),t.Name=oS.decode(l)}else{if(3!==y)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${y}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==p)throw new Error(`protobuf: (PBLink) wrong wireType (${p}) for Tsize`);[t.Tsize,o]=J1(r,o)}}if(o>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const Xg=new TextEncoder,V3=2**32,U8=2**31;function Nc(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=Jg(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const o=Xg.encode(r.Name);n-=o.length,t.set(o,n),n=Jg(t,n,o.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=Jg(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function aS(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+sp(n)}if("string"==typeof r.Name){const n=Xg.encode(r.Name).length;t+=1+n+sp(n)}return"number"==typeof r.Tsize&&(t+=1+sp(r.Tsize)),t}function Jg(r,t,n){const o=t-=sp(n);for(;n>=U8;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,o}function sp(r){return r%2==0&&r++,Math.floor((function z3(r){let t=0;return r>=V3&&(r=Math.floor(r/V3),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+dS[r]}(r)+6)/7)}const dS=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],H3=["Data","Links"],lS=["Hash","Name","Tsize"],Q1=new TextEncoder;function uS(r,t){if(r===t)return 0;const n=r.Name?Q1.encode(r.Name):[],o=t.Name?Q1.encode(t.Name):[];let p=n.length,y=o.length;for(let l=0,u=Math.min(p,y);l<u;++l)if(n[l]!==o[l]){p=n[l],y=o[l];break}return p<y?-1:y<p?1:0}function fS(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function hS(r){if("object"==typeof r.asCID){const n=sa.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=sa.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=sa.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=sa.decode(r.Hash)))}catch(o){throw new TypeError(`Invalid DAG-PB form: ${o.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function hf(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=Q1.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map(hS),t.Links.sort(uS)}else t.Links=[];return t}function e2(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!fS(r,H3))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!fS(n,lS))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===uS(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function pS(r,t=[]){return hf({Data:r,Links:t})}function _b(r,t,n){return hS({Hash:n,Name:r,Tsize:t})}const gS="dag-pb",Eb=112;function pf(r){e2(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const o={};return n.Hash&&(o.Hash=n.Hash.bytes),void 0!==n.Name&&(o.Name=n.Name),void 0!==n.Tsize&&(o.Tsize=n.Tsize),o})),r.Data&&(t.Data=r.Data),function Pm(r){const t=function cS(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+sp(n)}if(r.Links)for(const n of r.Links){const o=aS(n);t+=1+o+sp(o)}return t}(r),n=new Uint8Array(t);let o=t;if(r.Data&&(o-=r.Data.length,n.set(r.Data,o),o=Jg(n,o,r.Data.length)-1,n[o]=10),r.Links)for(let p=r.Links.length-1;p>=0;p--){const y=Nc(r.Links[p],n.subarray(0,o));o-=y,o=Jg(n,o,y)-1,n[o]=18}return n}(t)}function qg(r){const t=function mS(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function sS(r){const t=r.length;let o,y,n=0,p=!1;for(;n<t;){let u,J;if([u,J,n]=ed(r,n),2!==u)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${u}`);if(1===J){if(y)throw new Error("protobuf: (PBNode) duplicate Data section");[y,n]=wb(r,n),o&&(p=!0)}else{if(2!==J)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${J}`);{if(p)throw new Error("protobuf: (PBNode) duplicate Links section");let X;o||(o=[]),[X,n]=wb(r,n),o.push(q1(X))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const l={};return y&&(l.Data=y),l.Links=o||[],l}(t),o={};return n.Data&&(o.Data=n.Data),n.Links&&(o.Links=n.Links.map(p=>{const y={};try{y.Hash=sa.decode(p.Hash)}catch{}if(!y.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==p.Name&&(y.Name=p.Name),void 0!==p.Tsize&&(y.Tsize=p.Tsize),y})),o}var yS=E(3087);const W3=Math.pow(2,7),G3=Math.pow(2,14),vS=Math.pow(2,21),bS=Math.pow(2,28),xb=Math.pow(2,35),t2=Math.pow(2,42),n2=Math.pow(2,49),ps=128,Bc=127;function Rm(r){if(r<W3)return 1;if(r<G3)return 2;if(r<vS)return 3;if(r<bS)return 4;if(r<xb)return 5;if(r<t2)return 6;if(r<n2)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function Mb(r,t,n=0){switch(Rm(r)){case 8:t[n++]=255&r|ps,r/=128;case 7:t[n++]=255&r|ps,r/=128;case 6:t[n++]=255&r|ps,r/=128;case 5:t[n++]=255&r|ps,r/=128;case 4:t[n++]=255&r|ps,r>>>=7;case 3:t[n++]=255&r|ps,r>>>=7;case 2:t[n++]=255&r|ps,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const ap=new Float32Array([-0]),td=new Uint8Array(ap.buffer);function X3(r,t,n){ap[0]=r,t[n]=td[0],t[n+1]=td[1],t[n+2]=td[2],t[n+3]=td[3]}const Db=new Float64Array([-0]),ns=new Uint8Array(Db.buffer);function Ib(r,t,n){Db[0]=r,t[n]=ns[0],t[n+1]=ns[1],t[n+2]=ns[2],t[n+3]=ns[3],t[n+4]=ns[4],t[n+5]=ns[5],t[n+6]=ns[6],t[n+7]=ns[7]}const Om=BigInt(Number.MAX_SAFE_INTEGER),Tb=BigInt(Number.MIN_SAFE_INTEGER);class Ga{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let o=~this.hi>>>0;return 0===n&&(o=o+1>>>0),-(n+4294967296*o)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let o=~this.hi>>>0;return 0===n&&(o=o+1>>>0),-(BigInt(n)+(BigInt(o)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return 0===o?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:o<128?9:10}static fromBigInt(t){if(0n===t)return Ol;if(t<Om&&t>Tb)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let o=t>>32n,p=t-(o<<32n);return n&&(o=0n|~o,p=0n|~p,++p>Qg&&(p=0n,++o>Qg&&(o=0n))),new Ga(Number(p),Number(o))}static fromNumber(t){if(0===t)return Ol;const n=t<0;n&&(t=-t);let o=t>>>0,p=(t-o)/4294967296>>>0;return n&&(p=~p>>>0,o=~o>>>0,++o>4294967295&&(o=0,++p>4294967295&&(p=0))),new Ga(o,p)}static from(t){return"number"==typeof t?Ga.fromNumber(t):"bigint"==typeof t?Ga.fromBigInt(t):"string"==typeof t?Ga.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new Ga(t.low>>>0,t.high>>>0):Ol}}const Ol=new Ga(0,0);Ol.toBigInt=function(){return 0n},Ol.zzEncode=Ol.zzDecode=function(){return this},Ol.length=function(){return 1};const Qg=4294967296n;function ey(r,t,n){const o=n;let p,y;for(let l=0;l<r.length;++l)p=r.charCodeAt(l),p<128?t[n++]=p:p<2048?(t[n++]=p>>6|192,t[n++]=63&p|128):55296==(64512&p)&&56320==(64512&(y=r.charCodeAt(l+1)))?(p=65536+((1023&p)<<10)+(1023&y),++l,t[n++]=p>>18|240,t[n++]=p>>12&63|128,t[n++]=p>>6&63|128,t[n++]=63&p|128):(t[n++]=p>>12|224,t[n++]=p>>6&63|128,t[n++]=63&p|128);return n-o}function nd(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function Bm(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class V8{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,nd(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw nd(this,4);return Bm(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw nd(this,4);return 0|Bm(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw nd(this,4);const t=function J3(r,t){return td[0]=r[t],td[1]=r[t+1],td[2]=r[t+2],td[3]=r[t+3],ap[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw nd(this,4);const t=function r2(r,t){return ns[0]=r[t],ns[1]=r[t+1],ns[2]=r[t+2],ns[3]=r[t+3],ns[4]=r[t+4],ns[5]=r[t+5],ns[6]=r[t+6],ns[7]=r[t+7],Db[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,o=this.pos+t;if(o>this.len)throw nd(this,t);return this.pos+=t,n===o?new Uint8Array(0):this.buf.subarray(n,o)}string(){const t=this.bytes();return function o2(r,t,n){if(n-t<1)return"";let p;const y=[];let u,l=0;for(;t<n;)u=r[t++],u<128?y[l++]=u:u>191&&u<224?y[l++]=(31&u)<<6|63&r[t++]:u>239&&u<365?(u=((7&u)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,y[l++]=55296+(u>>10),y[l++]=56320+(1023&u)):y[l++]=(15&u)<<12|(63&r[t++])<<6|63&r[t++],l>8191&&((p??(p=[])).push(String.fromCharCode.apply(String,y)),l=0);return null!=p?(l>0&&p.push(String.fromCharCode.apply(String,y.slice(0,l))),p.join("")):String.fromCharCode.apply(String,y.slice(0,l))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw nd(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw nd(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new Ga(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw nd(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw nd(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw nd(this,8);const t=Bm(this.buf,this.pos+=4),n=Bm(this.buf,this.pos+=4);return new Ga(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function mf(r,t){let n=r[t],o=0;if(o+=n&Bc,n<ps||(n=r[t+1],o+=(n&Bc)<<7,n<ps)||(n=r[t+2],o+=(n&Bc)<<14,n<ps)||(n=r[t+3],o+=(n&Bc)<<21,n<ps)||(n=r[t+4],o+=(n&Bc)*bS,n<ps)||(n=r[t+5],o+=(n&Bc)*xb,n<ps)||(n=r[t+6],o+=(n&Bc)*t2,n<ps)||(n=r[t+7],o+=(n&Bc)*n2,n<ps))return o;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=Rm(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function cp(r,t,n){const o=function s2(r){return new V8(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(o,void 0,n)}function ty(r=0){return new Uint8Array(r)}function Lm(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class ry{name;prefix;baseEncode;constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class eC{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Cb(this,t)}}class Ab{decoders;constructor(t){this.decoders=t}or(t){return Cb(this,t)}decode(t){const o=this.decoders[t[0]];if(null!=o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Cb(r,t){return new Ab({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class MS{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new ry(t,n,o),this.decoder=new eC(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function kb({name:r,prefix:t,encode:n,decode:o}){return new MS(r,t,n,o)}function Um({name:r,prefix:t,alphabet:n}){const{encode:o,decode:p}=function a2(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ye=0;if(" "!==Pe[Ye]){for(var mt=0,St=0;Pe[Ye]===J;)mt++,Ye++;for(var gt=(Pe.length-Ye)*X+1>>>0,yt=new Uint8Array(gt);Pe[Ye];){var Tt=n[Pe.charCodeAt(Ye)];if(255===Tt)return;for(var zt=0,Zt=gt-1;(0!==Tt||zt<St)&&-1!==Zt;Zt--,zt++)yt[Zt]=(Tt+=u*yt[Zt]>>>0)%256>>>0,Tt=Tt/256>>>0;if(0!==Tt)throw new Error("Non-zero carry");St=zt,Ye++}if(" "!==Pe[Ye]){for(var cn=gt-St;cn!==gt&&0===yt[cn];)cn++;for(var $t=new Uint8Array(mt+(gt-cn)),kn=mt;cn!==gt;)$t[kn++]=yt[cn++];return $t}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ye=0,mt=0,St=0,gt=Pe.length;St!==gt&&0===Pe[St];)St++,Ye++;for(var yt=(gt-St)*N+1>>>0,Tt=new Uint8Array(yt);St!==gt;){for(var zt=Pe[St],Zt=0,cn=yt-1;(0!==zt||Zt<mt)&&-1!==cn;cn--,Zt++)Tt[cn]=(zt+=256*Tt[cn]>>>0)%u>>>0,zt=zt/u>>>0;if(0!==zt)throw new Error("Non-zero carry");mt=Zt,St++}for(var $t=yt-mt;$t!==yt&&0===Tt[$t];)$t++;for(var kn=J.repeat(Ye);$t<yt;++$t)kn+=r.charAt(Tt[$t]);return kn},decodeUnsafe:Ee,decode:function Le(Pe){var Ye=Ee(Pe);if(Ye)return Ye;throw new Error(`Non-${t} character`)}}}(n,r);return kb({prefix:t,name:r,encode:o,decode:y=>Lm(p(y))})}function ya({name:r,prefix:t,bitsPerChar:n,alphabet:o}){return kb({prefix:t,name:r,encode:p=>function SS(r,t,n){const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(0!==l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y}(p,o,n),decode:p=>function c2(r,t,n,o){const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l}(p,o,n,r)})}const DS=Um({prefix:"9",name:"base10",alphabet:"0123456789"}),Pb=ya({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),IS=ya({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),TS=ya({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),d2=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Rb=d2.reduce((r,t,n)=>(r[n]=t,r),[]),l2=d2.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),u2=kb({prefix:"\u{1f680}",name:"base256emoji",encode:function tC(r){return r.reduce((t,n)=>t+Rb[n],"")},decode:function Ob(r){const t=[];for(const n of r){const o=l2[n.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${n}`);t.push(o)}return new Uint8Array(t)}}),Su=ya({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nC=ya({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rC=ya({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Y8=ya({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Nb=ya({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),f2=ya({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),AS=ya({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),CS=ya({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),kS=ya({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),dp=Um({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),iC=Um({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),gf=Um({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oC=Um({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),sC=ya({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),aC=ya({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yf=ya({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Fm=ya({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),cC=ya({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),dC=kb({prefix:"\0",name:"identity",encode:r=>function xS(r){return(new TextDecoder).decode(r)}(r),decode:r=>function ny(r){return(new TextEncoder).encode(r)}(r)}),lC=new TextEncoder,uC=new TextDecoder,fC="json",hC=512;function PS(r){return lC.encode(JSON.stringify(r))}function pC(r){return JSON.parse(uC.decode(r))}const mC="raw",gC=85;function yC(r){return Lm(r)}function Bb(r){return Lm(r)}var jm=128,OS=-128,NS=Math.pow(2,31),J8=128,Lb=127,q8=Math.pow(2,7),Q8=Math.pow(2,14),BS=Math.pow(2,21),bC=Math.pow(2,28),wC=Math.pow(2,35),_C=Math.pow(2,42),EC=Math.pow(2,49),xC=Math.pow(2,56),LS=Math.pow(2,63);const oy={encode:function vC(r,t,n){t=t||[];for(var o=n=n||0;r>=NS;)t[n++]=255&r|jm,r/=128;for(;r&OS;)t[n++]=255&r|jm,r>>>=7;return t[n]=0|r,vC.bytes=n-o+1,t},decode:function iy(r,o){var l,n=0,p=0,y=o=o||0,u=r.length;do{if(y>=u)throw iy.bytes=0,new RangeError("Could not decode varint");l=r[y++],n+=p<28?(l&Lb)<<p:(l&Lb)*Math.pow(2,p),p+=7}while(l>=J8);return iy.bytes=y-o,n},encodingLength:function(r){return r<q8?1:r<Q8?2:r<BS?3:r<bC?4:r<wC?5:r<_C?6:r<EC?7:r<xC?8:r<LS?9:10}};function sy(r,t,n=0){return oy.encode(r,t,n),t}function Km(r){return oy.encodingLength(r)}function Ub(r,t){const n=t.byteLength,o=Km(r),p=o+Km(n),y=new Uint8Array(p+n);return sy(r,y,0),sy(n,y,o),y.set(t,p),new h2(r,n,t,y)}class h2{code;size;digest;bytes;constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}const jS=Lm,TC={code:0,name:"identity",encode:jS,digest:function IC(r){return Ub(0,jS(r))}};function $S({name:r,code:t,encode:n}){return new KS(r,t,n)}class KS{name;code;encode;constructor(t,n,o){this.name=t,this.code=n,this.encode=o}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Ub(this.code,n):n.then(o=>Ub(this.code,o))}throw Error("Unknown type, must be binary type")}}function AC(r){return function(){var t=(0,Ne.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const eP=$S({name:"sha2-256",code:18,encode:AC("SHA-256")}),ay=$S({name:"sha2-512",code:19,encode:AC("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const jb={...C,...ie,...De,...W,...re,...ue,...ce,...pe,...ve,...ae};function OC(r,t,n,o){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:o}}}const NC=OC("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),VS=OC("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=ty((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),$b={utf8:NC,"utf-8":NC,hex:jb.base16,latin1:VS,ascii:VS,binary:VS,...jb};class Vm{fn;len;next;val;constructor(t,n,o){this.fn=t,this.len=n,this.next=void 0,this.val=o}}function Vb(){}class BC{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const LC=function v2(r){const t=r??8192,n=t>>>1;let o,p=t;return function(l){if(l<1||l>n)return ty(l);p+l>t&&(o=ty(t),p=0);const u=o.subarray(p,p+=l);return 7&p&&(p=1+(7|p)),u}}();class uh{len;head;tail;states;constructor(){this.len=0,this.head=new Vm(Vb,0,0),this.tail=this.head,this.states=null}_push(t,n,o){return this.tail=this.tail.next=new Vm(t,n,o),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new HS((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(b2,10,Ga.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=Ga.fromBigInt(t);return this._push(b2,n.length(),n)}uint64Number(t){return this._push(Mb,Rm(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=Ga.fromBigInt(t).zzEncode();return this._push(b2,n.length(),n)}sint64Number(t){const n=Ga.fromNumber(t).zzEncode();return this._push(b2,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(rd,1,t?1:0)}fixed32(t){return this._push(dy,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=Ga.fromBigInt(t);return this._push(dy,4,n.lo)._push(dy,4,n.hi)}fixed64Number(t){const n=Ga.fromNumber(t);return this._push(dy,4,n.lo)._push(dy,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(X3,4,t)}double(t){return this._push(Ib,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(rd,1,0):this.uint32(n)._push(oP,n,t)}string(t){const n=function Nm(r){let t=0,n=0;for(let o=0;o<r.length;++o)n=r.charCodeAt(o),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(o+1))?(++o,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(ey,n,t):this._push(rd,1,0)}fork(){return this.states=new BC(this),this.head=this.tail=new Vm(Vb,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Vm(Vb,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,o=this.len;return this.reset().uint32(o),0!==o&&(this.tail.next=t.next,this.tail=n,this.len+=o),this}finish(){let t=this.head.next;const n=function zS(r){return null!=globalThis.Buffer?ty(r):LC(r)}(this.len);let o=0;for(;null!=t;)t.fn(t.val,n,o),o+=t.len,t=t.next;return n}}function rd(r,t,n){t[n]=255&r}function wd(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class HS extends Vm{next;constructor(t,n){super(wd,t,n),this.next=void 0}}function b2(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function dy(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function oP(r,t,n){t.set(r,n)}function sP(r,t,n){t.set(r,n)}function WS(r,t,n){r.length<40?ey(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set(function Kb(r,t="utf8"){const n=$b[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}(r),n)}function ZS(r,t){const n=function GS(){return new uh}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(uh.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push(sP,t,r),this},uh.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(WS,t,r),this});var rl,uy,Hb,zm=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(zm||{});function zb(r,t,n,o){return{name:r,type:t,encode:n,decode:o}}function _2(r,t){return zb("message",zm.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var p;let n,o;(p=t=r.DataType||(r.DataType={})).Raw="Raw",p.Directory="Directory",p.File="File",p.Metadata="Metadata",p.Symlink="Symlink",p.HAMTShard="HAMTShard",function(p){p[p.Raw=0]="Raw",p[p.Directory=1]="Directory",p[p.File=2]="File",p[p.Metadata=3]="Metadata",p[p.Symlink=4]="Symlink",p[p.HAMTShard=5]="HAMTShard"}(n||(n={})),function(p){p.codec=()=>function w2(r){function t(p){if(null==r[p.toString()])throw new Error("Invalid enum value");return r[p]}return zb("enum",zm.VARINT,function(y,l){const u=t(y);l.int32(u)},function(y){return t(y.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==o&&(o=_2((p,y,l={})=>{if(!1!==l.lengthDelimited&&y.fork(),null!=p.Type&&(y.uint32(8),r.DataType.codec().encode(p.Type,y)),null!=p.Data&&(y.uint32(18),y.bytes(p.Data)),null!=p.filesize&&(y.uint32(24),y.uint64(p.filesize)),null!=p.blocksizes)for(const u of p.blocksizes)y.uint32(32),y.uint64(u);null!=p.hashType&&(y.uint32(40),y.uint64(p.hashType)),null!=p.fanout&&(y.uint32(48),y.uint64(p.fanout)),null!=p.mode&&(y.uint32(56),y.uint32(p.mode)),null!=p.mtime&&(y.uint32(66),uy.codec().encode(p.mtime,y)),!1!==l.lengthDelimited&&y.ldelim()},(p,y)=>{const l={blocksizes:[]},u=null==y?p.len:p.pos+y;for(;p.pos<u;){const J=p.uint32();switch(J>>>3){case 1:l.Type=r.DataType.codec().decode(p);break;case 2:l.Data=p.bytes();break;case 3:l.filesize=p.uint64();break;case 4:l.blocksizes.push(p.uint64());break;case 5:l.hashType=p.uint64();break;case 6:l.fanout=p.uint64();break;case 7:l.mode=p.uint32();break;case 8:l.mtime=uy.codec().decode(p,p.uint32());break;default:p.skipType(7&J)}}return l})),o),r.encode=p=>ZS(p,r.codec()),r.decode=p=>cp(p,r.codec())}(rl||(rl={})),function(r){let t;r.codec=()=>(null==t&&(t=_2((n,o,p={})=>{!1!==p.lengthDelimited&&o.fork(),null!=n.Seconds&&(o.uint32(8),o.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(o.uint32(21),o.fixed32(n.FractionalNanoseconds)),!1!==p.lengthDelimited&&o.ldelim()},(n,o)=>{const p={},y=null==o?n.len:n.pos+o;for(;n.pos<y;){const l=n.uint32();switch(l>>>3){case 1:p.Seconds=n.int64();break;case 2:p.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&l)}}return p})),t),r.encode=n=>ZS(n,r.codec()),r.decode=n=>cp(n,r.codec())}(uy||(uy={})),function(r){let t;r.codec=()=>(null==t&&(t=_2((n,o,p={})=>{!1!==p.lengthDelimited&&o.fork(),null!=n.MimeType&&(o.uint32(10),o.string(n.MimeType)),!1!==p.lengthDelimited&&o.ldelim()},(n,o)=>{const p={},y=null==o?n.len:n.pos+o;for(;n.pos<y;){const l=n.uint32();l>>>3==1?p.MimeType=n.string():n.skipType(7&l)}return p})),t),r.encode=n=>ZS(n,r.codec()),r.decode=n=>cp(n,r.codec())}(Hb||(Hb={}));const fy={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},UC=["directory","hamt-sharded-directory"],YS=parseInt("0644",8),E2=parseInt("0755",8);class Nl{static unmarshal(t){const n=rl.decode(t),o=new Nl({type:fy[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return o._originalMode=n.mode??0,o}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:o,blockSizes:p,hashType:y,fanout:l,mtime:u,mode:J}=t;if(null!=n&&!Object.values(fy).includes(n))throw yS(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=o,this.hashType=y,this.fanout=l,this.blockSizes=p??[],this._originalMode=0,this.mode=J,this.mtime=u}set mode(t){this._mode=null==t?this.isDirectory()?E2:YS:4095&t}get mode(){return this._mode}isDirectory(){return UC.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=rl.DataType.Raw;break;case"directory":t=rl.DataType.Directory;break;case"file":t=rl.DataType.File;break;case"metadata":t=rl.DataType.Metadata;break;case"symlink":t=rl.DataType.Symlink;break;case"hamt-sharded-directory":t=rl.DataType.HAMTShard;break;default:throw yS(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let o,p,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(o=4294963200&this._originalMode|(this.mode??0),o===YS&&!this.isDirectory()&&(o=void 0),o===E2&&this.isDirectory()&&(o=void 0)),null!=this.mtime&&(p={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),rl.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:o,mtime:p})}}var x2=E(52054);const XS="raw",up=85,hy=r=>(0,x2.au)(r),Wb=r=>(0,x2.au)(r);class _d extends Event{constructor(t,n){super(t),this.detail=n}}const Hm=function(){var r=(0,Ne.A)(function*(t,n,o){null==o.codec&&(o.codec=Y);const p=yield F.digest(t),y=Bd.TO.create(o.cidVersion,o.codec.code,p);return yield n.put(y,t,o),y});return function(n,o,p){return r.apply(this,arguments)}}();function FC(r){return function(){var t=Xo(function*(o,p){let y=0n;var J,l=!1,u=!1;try{for(var N,X=ko(o.content);l=!(N=yield di(X.next())).done;l=!1){let oe=N.value;yield(0,Ne.A)(function*(){let Ee;const Le={codec:Y,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(Le.codec=w,Le.cidVersion=1):(Ee=new Nl({type:r.leafType,data:oe}),oe=pf({Data:Ee.marshal(),Links:[]}));const Pe=yield Hm(oe,p,Le);return y+=BigInt(oe.byteLength),r.onProgress?.(new _d("unixfs:importer:progress:file:write",{bytesWritten:y,cid:Pe,path:o.path})),{cid:Pe,unixfs:Ee,size:BigInt(oe.length),block:oe}})}}catch(oe){u=!0,J=oe}finally{try{l&&null!=X.return&&(yield di(X.return()))}finally{if(u)throw J}}});return function n(o,p){return t.apply(this,arguments)}}()}function il(r){var t={},n=!1;function o(p,y){return n=!0,{done:!1,value:new F1(y=new Promise(function(l){l(r[p](y))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(p){return n?(n=!1,p):o("next",p)},"function"==typeof r.throw&&(t.throw=function(p){if(n)throw n=!1,p;return o("throw",p)}),"function"==typeof r.return&&(t.return=function(p){return n?(n=!1,p):o("return",p)}),t}const JS=function(){var r=(0,Ne.A)(function*(t,n,o){const p=new Nl({type:"directory",mtime:t.mtime,mode:t.mode}),y=pf(hf({Data:p.marshal()}));return{cid:yield Hm(y,n,o),path:t.path,unixfs:p,size:BigInt(y.length),originalPath:t.originalPath,block:y}});return function(n,o,p){return r.apply(this,arguments)}}();function Gb(){return(Gb=Xo(function*(r,t,n){let p,o=-1;var u,y=!1,l=!1;try{for(var X,J=ko(Dm(n.bufferImporter(r,t),n.blockWriteConcurrency));y=!(X=yield di(J.next())).done;y=!1){const N=X.value;o++,0!==o?(1===o&&null!=p&&(yield{...p,block:void 0,single:void 0},p=void 0),yield{...N,block:void 0}):p={...N,single:!0}}}catch(N){l=!0,u=N}finally{try{y&&null!=J.return&&(yield di(J.return()))}finally{if(l)throw u}}null!=p&&(yield p)})).apply(this,arguments)}function M2(r){return!0===r.single}const jC=(r,t,n)=>function(){var p=(0,Ne.A)(function*(y){if(1===y.length&&M2(y[0])&&n.reduceSingleLeafToSelf){const oe=y[0];let Ee=oe.block;return M2(oe)&&(void 0!==r.mtime||void 0!==r.mode)&&(oe.unixfs=new Nl({type:"file",mtime:r.mtime,mode:r.mode,data:oe.block}),Ee={Data:oe.unixfs.marshal(),Links:[]},oe.block=pf(hf(Ee)),oe.cid=yield Hm(oe.block,t,{...n,cidVersion:n.cidVersion}),oe.size=BigInt(oe.block.length)),n.onProgress?.(new _d("unixfs:importer:progress:file:layout",{cid:oe.cid,path:oe.originalPath})),{cid:oe.cid,path:r.path,unixfs:oe.unixfs,size:oe.size,originalPath:oe.originalPath}}const l=new Nl({type:"file",mtime:r.mtime,mode:r.mode}),u=y.filter(oe=>oe.cid.code===up&&oe.size>0||null!=oe.unixfs&&null==oe.unixfs.data&&oe.unixfs.fileSize()>0n||!!oe.unixfs?.data?.length).map(oe=>oe.cid.code===up?(l.addBlockSize(oe.size),{Name:"",Tsize:Number(oe.size),Hash:oe.cid}):(l.addBlockSize(null==oe.unixfs||null==oe.unixfs.data?oe.unixfs?.fileSize()??0n:BigInt(oe.unixfs.data.length)),{Name:"",Tsize:Number(oe.size),Hash:oe.cid})),J={Data:l.marshal(),Links:u},X=pf(hf(J)),N=yield Hm(X,t,n);return n.onProgress?.(new _d("unixfs:importer:progress:file:layout",{cid:N,path:r.originalPath})),{cid:N,path:r.path,unixfs:l,size:BigInt(X.length+J.Links.reduce((oe,Ee)=>oe+(Ee.Tsize??0),0)),originalPath:r.originalPath,block:X}});return function(l){return p.apply(this,arguments)}}(),aP=function(){var r=(0,Ne.A)(function*(t,n,o){return o.layout(function fp(r,t,n){return Gb.apply(this,arguments)}(t,n,o),jC(t,n,o))});return function(n,o,p){return r.apply(this,arguments)}}();function qS(r){try{if(r instanceof Uint8Array)return Xo(function*(){yield r})();if(function Zb(r){return Symbol.iterator in r}(r))return Xo(function*(){yield*il(ko(r))})();if(function $C(r){return Symbol.asyncIterator in r}(r))return r}catch{throw np(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw np(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function eD(r){return null!=r.content}const S2=()=>function(){var r=Xo(function*(n){var y,o=!1,p=!1;try{for(var u,l=ko(n);o=!(u=yield di(l.next())).done;o=!1){const J=u.value;if(void 0===J.length)throw np(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof J||J instanceof String)yield ss(J.toString());else if(Array.isArray(J))yield Uint8Array.from(J);else{if(!(J instanceof Uint8Array))throw np(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield J}}}catch(J){p=!0,y=J}finally{try{o&&null!=l.return&&(yield di(l.return()))}finally{if(p)throw y}}});return function t(n){return r.apply(this,arguments)}}(),tD=174;function Yb(r){const t=r?.maxChildrenPerNode??tD;return function(){var n=(0,Ne.A)(function*(p,y){const l=[];var X,u=!1,J=!1;try{for(var oe,N=ko($M(p,t));u=!(oe=yield N.next()).done;u=!1){const Ee=oe.value;l.push(yield y(Ee))}}catch(Ee){J=!0,X=Ee}finally{try{u&&null!=N.return&&(yield N.return())}finally{if(J)throw X}}return l.length>1?o(l,y):l[0]});function o(p,y){return n.apply(this,arguments)}return o}()}class hp{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const Gm=Bd.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),D2=Bd.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class Xb extends hp{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var o=this;return(0,Ne.A)(function*(){o.cid=void 0,o.size=void 0,o.nodeSize=void 0,o._children.set(t,n)})()}get(t){var n=this;return(0,Ne.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return Xo(function*(){for(const[n,o]of t._children.entries())yield{key:n,child:o}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?D2.bytes.byteLength:Gm.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return Xo(function*(){const o=[];for(const[Pe,Ye]of n._children.entries()){let mt=Ye;if(Ye instanceof hp){var l,p=!1,y=!1;try{for(var J,u=ko(Ye.flush(t));p=!(J=yield di(u.next())).done;p=!1){const St=J.value;mt=St,yield St}}catch(St){y=!0,l=St}finally{try{p&&null!=u.return&&(yield di(u.return()))}finally{if(y)throw l}}}null!=mt.size&&null!=mt.cid&&o.push({Name:Pe,Tsize:Number(mt.size),Hash:mt.cid})}const X=new Nl({type:"directory",mtime:n.mtime,mode:n.mode}),N={Data:X.marshal(),Links:o},oe=pf(hf(N)),Ee=yield di(Hm(oe,t,n.options)),Le=oe.length+N.Links.reduce((Pe,Ye)=>Pe+(null==Ye.Tsize?0:Ye.Tsize),0);n.cid=Ee,n.size=Le,yield{cid:Ee,unixfs:X,path:n.path,size:BigInt(Le)}})()}}const KC=new Uint8Array(0);function oD(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):KC}class qb{name;prefix;baseEncode;constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Ym{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Xm(this,t)}}class I2{decoders;constructor(t){this.decoders=t}or(t){return Xm(this,t)}decode(t){const o=this.decoders[t[0]];if(null!=o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Xm(r,t){return new I2({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class dD{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new qb(t,n,o),this.decoder=new Ym(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function Qb({name:r,prefix:t,encode:n,decode:o}){return new dD(r,t,n,o)}function ew({name:r,prefix:t,alphabet:n}){const{encode:o,decode:p}=function Zm(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ye=0;if(" "!==Pe[Ye]){for(var mt=0,St=0;Pe[Ye]===J;)mt++,Ye++;for(var gt=(Pe.length-Ye)*X+1>>>0,yt=new Uint8Array(gt);Pe[Ye];){var Tt=n[Pe.charCodeAt(Ye)];if(255===Tt)return;for(var zt=0,Zt=gt-1;(0!==Tt||zt<St)&&-1!==Zt;Zt--,zt++)yt[Zt]=(Tt+=u*yt[Zt]>>>0)%256>>>0,Tt=Tt/256>>>0;if(0!==Tt)throw new Error("Non-zero carry");St=zt,Ye++}if(" "!==Pe[Ye]){for(var cn=gt-St;cn!==gt&&0===yt[cn];)cn++;for(var $t=new Uint8Array(mt+(gt-cn)),kn=mt;cn!==gt;)$t[kn++]=yt[cn++];return $t}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ye=0,mt=0,St=0,gt=Pe.length;St!==gt&&0===Pe[St];)St++,Ye++;for(var yt=(gt-St)*N+1>>>0,Tt=new Uint8Array(yt);St!==gt;){for(var zt=Pe[St],Zt=0,cn=yt-1;(0!==zt||Zt<mt)&&-1!==cn;cn--,Zt++)Tt[cn]=(zt+=256*Tt[cn]>>>0)%u>>>0,zt=zt/u>>>0;if(0!==zt)throw new Error("Non-zero carry");mt=Zt,St++}for(var $t=yt-mt;$t!==yt&&0===Tt[$t];)$t++;for(var kn=J.repeat(Ye);$t<yt;++$t)kn+=r.charAt(Tt[$t]);return kn},decodeUnsafe:Ee,decode:function Le(Pe){var Ye=Ee(Pe);if(Ye)return Ye;throw new Error(`Non-${t} character`)}}}(n,r);return Qb({prefix:t,name:r,encode:o,decode:y=>function Jb(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(p(y))})}function Bl({name:r,prefix:t,bitsPerChar:n,alphabet:o}){return Qb({prefix:t,name:r,encode:p=>function lD(r,t,n){const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(0!==l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y}(p,o,n),decode:p=>function T2(r,t,n,o){const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l}(p,o,n,r)})}Bl({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Bl({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Bl({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Bl({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Bl({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Bl({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Bl({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Bl({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Bl({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ew({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ew({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var id=128,XC=-128,gP=Math.pow(2,31),JC=128,fD=127,hD=Math.pow(2,7),qC=Math.pow(2,14),QC=Math.pow(2,21),C2=Math.pow(2,28),e6=Math.pow(2,35),t6=Math.pow(2,42),n6=Math.pow(2,49),r6=Math.pow(2,56),i6=Math.pow(2,63);const rw={encode:function nw(r,t,n){t=t||[];for(var o=n=n||0;r>=gP;)t[n++]=255&r|id,r/=128;for(;r&XC;)t[n++]=255&r|id,r>>>=7;return t[n]=0|r,nw.bytes=n-o+1,t},decode:function A2(r,o){var l,n=0,p=0,y=o=o||0,u=r.length;do{if(y>=u)throw A2.bytes=0,new RangeError("Could not decode varint");l=r[y++],n+=p<28?(l&fD)<<p:(l&fD)*Math.pow(2,p),p+=7}while(l>=JC);return A2.bytes=y-o,n},encodingLength:function(r){return r<hD?1:r<qC?2:r<QC?3:r<C2?4:r<e6?5:r<t6?6:r<n6?7:r<r6?8:r<i6?9:10}};function my(r,t,n=0){return rw.encode(r,t,n),t}function pp(r){return rw.encodingLength(r)}function gy(r,t){const n=t.byteLength,o=pp(r),p=o+pp(n),y=new Uint8Array(p+n);return my(r,y,0),my(n,y,o),y.set(t,p),new ow(r,n,t,y)}class ow{code;size;digest;bytes;constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}function yp({name:r,code:t,encode:n}){return new gD(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class gD{name;code;encode;constructor(t,n,o){this.name=t,this.code=n,this.encode=o}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?gy(this.code,n):n.then(o=>gy(this.code,o))}throw Error("Unknown type, must be binary type")}}var aw=E(13026);yp({name:"murmur3-32",code:35,encode:r=>function a6(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(aw.x86.hash32(r))});const yD=yp({name:"murmur3-128",code:34,encode:r=>oD(aw.x64.hash128(r))});yp({name:"murmur3-x64-64",code:34,encode:r=>oD(aw.x64.hash128(r)).subarray(0,8)});var c6=E(18876);function Qm(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class wD{name;prefix;baseEncode;constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class yy{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return e0(this,t)}}class vy{decoders;constructor(t){this.decoders=t}or(t){return e0(this,t)}decode(t){const o=this.decoders[t[0]];if(null!=o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function e0(r,t){return new vy({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class m6{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new wD(t,n,o),this.decoder=new yy(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function dw({name:r,prefix:t,encode:n,decode:o}){return new m6(r,t,n,o)}function by({name:r,prefix:t,alphabet:n}){const{encode:o,decode:p}=function h6(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Ye=0;if(" "!==Pe[Ye]){for(var mt=0,St=0;Pe[Ye]===J;)mt++,Ye++;for(var gt=(Pe.length-Ye)*X+1>>>0,yt=new Uint8Array(gt);Pe[Ye];){var Tt=n[Pe.charCodeAt(Ye)];if(255===Tt)return;for(var zt=0,Zt=gt-1;(0!==Tt||zt<St)&&-1!==Zt;Zt--,zt++)yt[Zt]=(Tt+=u*yt[Zt]>>>0)%256>>>0,Tt=Tt/256>>>0;if(0!==Tt)throw new Error("Non-zero carry");St=zt,Ye++}if(" "!==Pe[Ye]){for(var cn=gt-St;cn!==gt&&0===yt[cn];)cn++;for(var $t=new Uint8Array(mt+(gt-cn)),kn=mt;cn!==gt;)$t[kn++]=yt[cn++];return $t}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Ye=0,mt=0,St=0,gt=Pe.length;St!==gt&&0===Pe[St];)St++,Ye++;for(var yt=(gt-St)*N+1>>>0,Tt=new Uint8Array(yt);St!==gt;){for(var zt=Pe[St],Zt=0,cn=yt-1;(0!==zt||Zt<mt)&&-1!==cn;cn--,Zt++)Tt[cn]=(zt+=256*Tt[cn]>>>0)%u>>>0,zt=zt/u>>>0;if(0!==zt)throw new Error("Non-zero carry");mt=Zt,St++}for(var $t=yt-mt;$t!==yt&&0===Tt[$t];)$t++;for(var kn=J.repeat(Ye);$t<yt;++$t)kn+=r.charAt(Tt[$t]);return kn},decodeUnsafe:Ee,decode:function Le(Pe){var Ye=Ee(Pe);if(Ye)return Ye;throw new Error(`Non-${t} character`)}}}(n,r);return dw({prefix:t,name:r,encode:o,decode:y=>Qm(p(y))})}function pc({name:r,prefix:t,bitsPerChar:n,alphabet:o}){return dw({prefix:t,name:r,encode:p=>function L2(r,t,n){const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(0!==l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y}(p,o,n),decode:p=>function lw(r,t,n,o){const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l}(p,o,n,r)})}const _P=by({prefix:"9",name:"base10",alphabet:"0123456789"}),EP=pc({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),g6=pc({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),y6=pc({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),v6=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),b6=v6.reduce((r,t,n)=>(r[n]=t,r),[]),xP=v6.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),E6=dw({prefix:"\u{1f680}",name:"base256emoji",encode:function w6(r){return r.reduce((t,n)=>t+b6[n],"")},decode:function _6(r){const t=[];for(const n of r){const o=xP[n.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${n}`);t.push(o)}return new Uint8Array(t)}}),vp=pc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wy=pc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),U2=pc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uw=pc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_D=pc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_y=pc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ED=pc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),x6=pc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ey=pc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),xD=by({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),MD=by({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Tu=by({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),SD=by({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),M6=pc({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),S6=pc({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),D6=pc({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xy=pc({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),I6=pc({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),T6=dw({prefix:"\0",name:"identity",encode:r=>function vD(r){return(new TextDecoder).decode(r)}(r),decode:r=>function f6(r){return(new TextEncoder).encode(r)}(r)}),A6=new TextEncoder,fw=new TextDecoder,DD="json",ID=512;function TD(r){return A6.encode(JSON.stringify(r))}function C6(r){return JSON.parse(fw.decode(r))}const AD="raw",k6=85;function P6(r){return Qm(r)}function R6(r){return Qm(r)}var hw=128,CD=-128,N6=Math.pow(2,31),MP=128,kD=127,F2=Math.pow(2,7),B6=Math.pow(2,14),PD=Math.pow(2,21),L6=Math.pow(2,28),RD=Math.pow(2,35),OD=Math.pow(2,42),ND=Math.pow(2,49),j2=Math.pow(2,56),U6=Math.pow(2,63);const gw={encode:function t0(r,t,n){t=t||[];for(var o=n=n||0;r>=N6;)t[n++]=255&r|hw,r/=128;for(;r&CD;)t[n++]=255&r|hw,r>>>=7;return t[n]=0|r,t0.bytes=n-o+1,t},decode:function mw(r,o){var l,n=0,p=0,y=o=o||0,u=r.length;do{if(y>=u)throw mw.bytes=0,new RangeError("Could not decode varint");l=r[y++],n+=p<28?(l&kD)<<p:(l&kD)*Math.pow(2,p),p+=7}while(l>=MP);return mw.bytes=y-o,n},encodingLength:function(r){return r<F2?1:r<B6?2:r<PD?3:r<L6?4:r<RD?5:r<OD?6:r<ND?7:r<j2?8:r<U6?9:10}};function n0(r,t,n=0){return gw.encode(r,t,n),t}function Au(r){return gw.encodingLength(r)}function fh(r,t){const n=t.byteLength,o=Au(r),p=o+Au(n),y=new Uint8Array(p+n);return n0(r,y,0),n0(n,y,o),y.set(t,p),new z2(r,n,t,y)}class z2{code;size;digest;bytes;constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}const LD=Qm,V6={code:0,name:"identity",encode:LD,digest:function K6(r){return fh(0,LD(r))}};function UD({name:r,code:t,encode:n}){return new z6(r,t,n)}class z6{name;code;encode;constructor(t,n,o){this.name=t,this.code=n,this.encode=o}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?fh(this.code,n):n.then(o=>fh(this.code,o))}throw Error("Unknown type, must be binary type")}}function H2(r){return function(){var t=(0,Ne.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const H6=UD({name:"sha2-256",code:18,encode:H2("SHA-256")}),FD=UD({name:"sha2-512",code:19,encode:H2("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const VD={...we,...x,...le,...I,...L,...v,...Z,...z,...ee,...a};function o0(r=0){return new Uint8Array(r)}function vw(r,t,n,o){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:o}}}const zD=vw("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Z2=vw("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=o0((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),AP={utf8:zD,"utf-8":zD,hex:VD.base16,latin1:Z2,ascii:Z2,binary:Z2,...VD};class ks{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,o=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=o,this._children=new c6,this.key=null}put(t,n){var o=this;return(0,Ne.A)(function*(){const p=yield o._findNewBucketAndPos(t);p.bucket._putAt(p,t,n)})()}get(t){var n=this;return(0,Ne.A)(function*(){const o=yield n._findChild(t);if(null!=o)return o.value})()}del(t){var n=this;return(0,Ne.A)(function*(){const o=yield n._findPlace(t),p=o.bucket._at(o.pos);null!=p&&p.key===t&&o.bucket._delAt(o.pos)})()}leafCount(){return this._children.compactArray().reduce((n,o)=>o instanceof ks?n+o.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof ks?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((p,y,l)=>(null!=y&&p.push(y instanceof ks?y.serialize(t,n):t(y,l)),p),[]))}asyncTransform(t,n){var o=this;return(0,Ne.A)(function*(){return G6(o,t,n)})()}toJSON(){return this.serialize(GD,ZD)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,Ne.A)(function*(){const o=yield n._findPlace(t),p=o.bucket._at(o.pos);if(!(p instanceof ks)&&null!=p&&p.key===t)return p})()}_findPlace(t){var n=this;return(0,Ne.A)(function*(){const o=n._options.hash("string"==typeof t?function HD(r,t="utf8"){const n=AP[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}(t):t),p=yield o.take(n._options.bits),y=n._children.get(p);return y instanceof ks?y._findPlace(o):{bucket:n,pos:p,hash:o,existingChild:y}})()}_findNewBucketAndPos(t){var n=this;return(0,Ne.A)(function*(){const o=yield n._findPlace(t);if(null!=o.existingChild&&o.existingChild.key!==t){const p=new ks(n._options,o.bucket,o.pos);o.bucket._putObjectAt(o.pos,p);const y=yield p._findPlace(o.existingChild.hash);return y.bucket._putAt(y,o.existingChild.key,o.existingChild.value),p._findNewBucketAndPos(o.hash)}return o})()}_putAt(t,n,o){this._putObjectAt(t.pos,{key:n,value:o,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(WD);if(null!=t&&!(t instanceof ks)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function WD(r){return!!r}function GD(r,t){return r.key}function ZD(r){return r}function G6(r,t,n){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,Ne.A)(function*(r,t,n){const o=[];for(const p of r._children.compactArray())if(p instanceof ks)yield G6(p,t,n);else{const y=yield t(p);o.push({bitField:r._children.bitField(),children:y})}return n(o)})).apply(this,arguments)}const Z6=[255,254,252,248,240,224,192,128],Y6=[1,3,7,15,31,63,127,255];class X2{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,o=0;for(;n>0&&this._haveBits();){const p=this._value[this._currentBytePos],y=this._currentBitPos+1,l=Math.min(y,n);o=(o<<l)+YD(p,y-l,l),n-=l,this._currentBitPos-=l,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return o}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function YD(r,t,n){const o=function XD(r,t){return Z6[r]&Y6[Math.min(t+r-1,7)]}(t,n);return(r&o)>>>t}function J2(r){return function t(n){return n instanceof JD?n:new JD(n,r)}}class JD{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,Ne.A)(function*(){let o=t;for(;n._availableBits<o;)yield n._produceMoreBits();let p=0;for(;o>0;){const y=n._buffers[n._currentBufferIndex],l=Math.min(y.availableBits(),o);p=(p<<l)+y.take(l),o-=l,n._availableBits-=l,0===y.availableBits()&&n._currentBufferIndex++}return p})()}untake(t){let n=t;for(;n>0;){const o=this._buffers[this._currentBufferIndex],p=Math.min(o.totalBits()-o.availableBits(),n);o.untake(p),n-=p,this._availableBits+=p,this._currentBufferIndex>0&&o.totalBits()===o.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,Ne.A)(function*(){t._depth++;const n=t._depth>0?function Y2(r,t){null==t&&(t=r.reduce((p,y)=>p+y.length,0));const n=o0(t);let o=0;for(const p of r)n.set(p,o),o+=p.length;return n}([t._value,Uint8Array.from([t._depth])]):t._value,o=yield t._hashFn(n),p=new X2(o);t._buffers.push(p),t._availableBits+=p.availableBits()})()}}function qD(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:J2(r.hashFn)};return new ks(t)}function QD(r){return q2.apply(this,arguments)}function q2(){return(q2=(0,Ne.A)(function*(r){return(yield yD.encode(r)).slice(0,8).reverse()})).apply(this,arguments)}const wf=BigInt(34),Q2=class eI extends hp{_bucket;constructor(t,n){super(t,n),this._bucket=qD({hashFn:QD,bits:8})}put(t,n){var o=this;return(0,Ne.A)(function*(){o.cid=void 0,o.size=void 0,o.nodeSize=void 0,yield o._bucket.put(t,n)})()}get(t){var n=this;return(0,Ne.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return Xo(function*(){var p,n=!1,o=!1;try{for(var l,y=ko(t._bucket.eachLeafSeries());n=!(l=yield di(y.next())).done;n=!1){const{key:u,value:J}=l.value;yield{key:u,child:J}}}catch(u){o=!0,p=u}finally{try{n&&null!=y.return&&(yield di(y.return()))}finally{if(o)throw p}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=tE(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return Xo(function*(){var y,o=!1,p=!1;try{for(var u,l=ko(eE(n._bucket,t,n,n.options));o=!(u=yield di(l.next())).done;o=!1)yield{...u.value,path:n.path}}catch(J){p=!0,y=J}finally{try{o&&null!=l.return&&(yield di(l.return()))}finally{if(p)throw y}}})()}};function eE(r,t,n,o){return bw.apply(this,arguments)}function bw(){return(bw=Xo(function*(r,t,n,o){const p=r._children,y=[];let l=0n;for(let cn=0;cn<p.length;cn++){const $t=p.get(cn);if(null==$t)continue;const kn=cn.toString(16).toUpperCase().padStart(2,"0");if($t instanceof ks){let Jn;var X,u=!1,J=!1;try{for(var oe,N=ko(eE($t,t,null,o));u=!(oe=yield di(N.next())).done;u=!1)Jn=oe.value}catch(tr){J=!0,X=tr}finally{try{u&&null!=N.return&&(yield di(N.return()))}finally{if(J)throw X}}if(null==Jn)throw new Error("Could not flush sharded directory, no subshard found");y.push({Name:kn,Tsize:Number(Jn.size),Hash:Jn.cid}),l+=Jn.size}else if(tI($t.value)){const Jn=$t.value;let tr;var Pe,Ee=!1,Le=!1;try{for(var mt,Ye=ko(Jn.flush(t));Ee=!(mt=yield di(Ye.next())).done;Ee=!1)tr=mt.value,yield tr}catch(Zn){Le=!0,Pe=Zn}finally{try{Ee&&null!=Ye.return&&(yield di(Ye.return()))}finally{if(Le)throw Pe}}if(null==tr)throw new Error("Did not flush dir");y.push({Name:kn+$t.key,Tsize:Number(tr.size),Hash:tr.cid}),l+=tr.size}else{const Jn=$t.value;if(null==Jn.cid)continue;const dr=Jn.size;y.push({Name:kn+$t.key,Tsize:Number(dr),Hash:Jn.cid}),l+=BigInt(dr??0)}}const St=Uint8Array.from(p.bitField().reverse()),gt=new Nl({type:"hamt-sharded-directory",data:St,fanout:BigInt(r.tableSize()),hashType:wf,mtime:n?.mtime,mode:n?.mode}),Tt=pf(hf({Data:gt.marshal(),Links:y})),zt=yield di(Hm(Tt,t,o)),Zt=BigInt(Tt.byteLength)+l;yield{cid:zt,unixfs:gt,size:Zt}})).apply(this,arguments)}function tI(r){return"function"==typeof r.flush}function tE(r,t,n){const o=r._children,p=[];for(let J=0;J<o.length;J++){const X=o.get(J);if(null==X)continue;const N=J.toString(16).toUpperCase().padStart(2,"0");if(X instanceof ks){const oe=tE(X,null,n);p.push({Name:N,Tsize:Number(oe),Hash:0===n.cidVersion?Gm:D2})}else if("function"==typeof X.value.flush){const Ee=X.value.nodeSize();p.push({Name:N+X.key,Tsize:Number(Ee),Hash:0===n.cidVersion?Gm:D2})}else{const oe=X.value;if(null==oe.cid)continue;p.push({Name:N+X.key,Tsize:Number(oe.size),Hash:oe.cid})}}const y=Uint8Array.from(o.bitField().reverse());return pf(hf({Data:new Nl({type:"hamt-sharded-directory",data:y,fanout:BigInt(r.tableSize()),hashType:wf,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:p})).length}function s0(r,t,n,o){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,Ne.A)(function*(r,t,n,o){let p=t;t instanceof Xb&&t.estimateNodeSize()>n&&(p=yield function hh(r,t){return a0.apply(this,arguments)}(t,o));const y=p.parent;if(null!=y){if(p!==t){if(null!=r&&(r.parent=p),null==p.parentKey)throw new Error("No parent key found");yield y.put(p.parentKey,p)}return s0(p,y,n,o)}return p}),Dy.apply(this,arguments)}function a0(){return(a0=(0,Ne.A)(function*(r,t){const n=new Q2({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var y,o=!1,p=!1;try{for(var u,l=ko(r.eachChildSeries());o=!(u=yield l.next()).done;o=!1){const{key:J,child:X}=u.value;yield n.put(J,X)}}catch(J){p=!0,y=J}finally{try{o&&null!=l.return&&(yield l.return())}finally{if(p)throw y}}return n})).apply(this,arguments)}const nI=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function Iy(r,t,n){return nE.apply(this,arguments)}function nE(){return(nE=(0,Ne.A)(function*(r,t,n){const o=nI(r.path??""),p=o.length-1;let y=t,l="";for(let u=0;u<o.length;u++){const J=o[u];l+=`${""!==l?"/":""}${J}`;const X=u===p;if(y.dirty=!0,y.cid=void 0,y.size=void 0,X)yield y.put(J,r),t=yield s0(null,y,n.shardSplitThresholdBytes,n);else{let N=yield y.get(J);(null==N||!(N instanceof hp))&&(N=new Xb({root:!1,dir:!0,parent:y,parentKey:J,path:l,dirty:!0,flat:!0,mtime:N?.unixfs?.mtime,mode:N?.unixfs?.mode},n)),yield y.put(J,N),y=N}}return t})).apply(this,arguments)}function rI(r,t){return Ty.apply(this,arguments)}function Ty(){return(Ty=Xo(function*(r,t){r instanceof hp?yield*il(ko(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)})).apply(this,arguments)}function ol(r,t){return Ep.apply(this,arguments)}function Ep(){return Ep=Xo(function*(r,t,n={}){let o;o=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const p=n.wrapWithDirectory??!1,y=n.shardSplitThresholdBytes??262144,l=n.cidVersion??1,u=n.rawLeaves??!0,J=n.leafType??"file",X=n.fileImportConcurrency??50,N=n.blockWriteConcurrency??10,oe=n.reduceSingleLeafToSelf??!0,Ee=n.chunker??zM(),Le=n.chunkValidator??S2(),Pe=n.dagBuilder??function QS(r){return function(){var t=Xo(function*(o,p){var u,y=!1,l=!1;try{for(var X,J=ko(o);y=!(X=yield di(J.next())).done;y=!1){const N=X.value;{let oe;if(null!=N.path&&(oe=N.path,N.path=N.path.split("/").filter(Ee=>null!=Ee&&"."!==Ee).join("/")),eD(N)){const Ee={path:N.path,mtime:N.mtime,mode:N.mode,content:Xo(function*(){let Le=0n;var mt,Pe=!1,Ye=!1;try{for(var gt,St=ko(r.chunker(r.chunkValidator(qS(N.content))));Pe=!(gt=yield di(St.next())).done;Pe=!1){const yt=gt.value;{const Tt=BigInt(yt.byteLength);Le+=Tt,r.onProgress?.(new _d("unixfs:importer:progress:file:read",{bytesRead:Le,chunkSize:Tt,path:N.path})),yield yt}}}catch(yt){Ye=!0,mt=yt}finally{try{Pe&&null!=St.return&&(yield di(St.return()))}finally{if(Ye)throw mt}}})(),originalPath:oe};yield(0,Ne.A)(function*(){return aP(Ee,p,r)})}else{if(null==N.path)throw new Error("Import candidate must have content or path or both");{const Ee={path:N.path,mtime:N.mtime,mode:N.mode,originalPath:oe};yield(0,Ne.A)(function*(){return JS(Ee,p,r)})}}}}}catch(N){l=!0,u=N}finally{try{y&&null!=J.return&&(yield di(J.return()))}finally{if(l)throw u}}});return function n(o,p){return t.apply(this,arguments)}}()}({chunker:Ee,chunkValidator:Le,wrapWithDirectory:p,layout:n.layout??Yb(),bufferImporter:n.bufferImporter??FC({cidVersion:l,rawLeaves:u,leafType:J,onProgress:n.onProgress}),blockWriteConcurrency:N,reduceSingleLeafToSelf:oe,cidVersion:l,onProgress:n.onProgress}),Ye=n.treeBuilder??function iI(r){return function(){var t=Xo(function*(o,p){let l,y=new Xb({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),u=!1;var N,J=!1,X=!1;try{for(var Ee,oe=ko(o);J=!(Ee=yield di(oe.next())).done;J=!1){const gt=Ee.value;{if(null==gt)continue;const yt=`${gt.originalPath??""}`.split("/")[0];null!=yt&&""!==yt&&(null==l?(l=yt,u=!0):l!==yt&&(u=!1)),y=yield di(Iy(gt,y,r)),(null==gt.unixfs||!gt.unixfs.isDirectory())&&(yield gt)}}}catch(gt){X=!0,N=gt}finally{try{J&&null!=oe.return&&(yield di(oe.return()))}finally{if(X)throw N}}if(r.wrapWithDirectory||u&&y.childCount()>1)yield*il(ko(rI(y,p)));else{var Ye,Le=!1,Pe=!1;try{for(var St,mt=ko(y.eachChildSeries());Le=!(St=yield di(mt.next())).done;Le=!1){const gt=St.value;null!=gt&&(yield*il(ko(rI(gt.child,p))))}}catch(gt){Pe=!0,Ye=gt}finally{try{Le&&null!=mt.return&&(yield di(mt.return()))}finally{if(Pe)throw Ye}}}});return function n(o,p){return t.apply(this,arguments)}}()}({wrapWithDirectory:p,shardSplitThresholdBytes:y,cidVersion:l,onProgress:n.onProgress});var gt,mt=!1,St=!1;try{for(var Tt,yt=ko(Ye(Dm(Pe(o,t),X),t));mt=!(Tt=yield di(yt.next())).done;mt=!1){const zt=Tt.value;yield{cid:zt.cid,path:zt.path,unixfs:zt.unixfs,size:zt.size}}}catch(zt){St=!0,gt=zt}finally{try{mt&&null!=yt.return&&(yield di(yt.return()))}finally{if(St)throw gt}}}),Ep.apply(this,arguments)}var iE=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},oI=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}};const sI={[F.code]:F},aI={[tp]:q};class gc{static computeCid(t,n=tp,o=F.code){return iE(this,void 0,void 0,function*(){const p=aI[n];if(!p)throw new te(de.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const y=sI[o];if(!y)throw new te(de.ComputeCidMultihashNotSupported,`multihash code [${o}] not supported`);const l=p.encode(t),u=yield y.digest(l);return(yield Bd.TO.createV1(p.code,u)).toString()})}static parseCid(t){const n=Bd.TO.parse(t).toV1();if(!aI[n.code])throw new te(de.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!sI[n.multihash.code])throw new te(de.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,o,p;return iE(this,void 0,void 0,function*(){const l=ol([{content:t}],new jM,{cidVersion:1});let u;try{for(var N,J=!0,X=oI(l);N=yield X.next(),!(n=N.done);J=!0)J=!1,u=N.value}catch(oe){o={error:oe}}finally{try{!J&&!n&&(p=X.return)&&(yield p.call(X))}finally{if(o)throw o.error}}return u?u.cid.toString():""})}static computeDagPbCidFromStream(t){var n,o,p;return iE(this,void 0,void 0,function*(){const l=ol([{content:t}],new jM,{cidVersion:1});let u;try{for(var N,J=!0,X=oI(l);N=yield X.next(),!(n=N.done);J=!0)J=!1,u=N.value}catch(oe){o={error:oe}}finally{try{!J&&!n&&(p=X.return)&&(yield p.call(X))}finally{if(o)throw o.error}}return u?u.cid.toString():""})}}var cI=E(91426),ph=E(63397),Ay=E(65797),_w=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};ph.VV.isEphemeralKeyCompressed=!0;class d0{static aes256CtrEncrypt(t,n,o){return _w(this,void 0,void 0,function*(){const p=cI.createCipheriv("aes-256-ctr",t,n),y=new Ay.Readable({read(){}});return o.on("data",l=>{const u=p.update(l);y.push(u)}),o.on("end",()=>{const l=p.final();y.push(l),y.push(null)}),o.on("error",l=>{y.emit("error",l)}),y})}static aes256CtrDecrypt(t,n,o){return _w(this,void 0,void 0,function*(){const p=cI.createDecipheriv("aes-256-ctr",t,n),y=new Ay.Readable({read(){}});return o.on("data",l=>{const u=p.update(l);y.push(u)}),o.on("end",()=>{const l=p.final();y.push(l),y.push(null)}),o.on("error",l=>{y.emit("error",l)}),y})}static eciesSecp256k1Encrypt(t,n){return _w(this,void 0,void 0,function*(){const o=Buffer.from(t),p=Buffer.from(n),y=ph.w(o,p);let l=0,u=d0.isEphemeralKeyCompressed?33:65;const J=y.subarray(l,u);l=u,u+=ph.VV.symmetricNonceLength;const X=y.subarray(l,u);l=u,u+=16;const N=y.subarray(l,u);return{ciphertext:y.subarray(u),ephemeralPublicKey:J,initializationVector:X,messageAuthenticationCode:N}})}static eciesSecp256k1Decrypt(t){return _w(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),o=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return ph.Yc(n,o)})}static get isEphemeralKeyCompressed(){return ph.VV.isEphemeralKeyCompressed}}var Ew=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(Ew||{}),xw=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class l0{constructor(t){this.jws=t}static create(t,n=[]){return xw(this,void 0,void 0,function*(){const o={payload:he.bytesToBase64Url(t),signatures:[]},p=new l0(o);for(const y of n)yield p.addSignature(y);return p})}addSignature(t){return xw(this,void 0,void 0,function*(){const o=JSON.stringify({kid:t.keyId,alg:t.algorithm}),p=he.stringToBase64Url(o),l=he.stringToBytes(`${p}.${this.jws.payload}`),u=yield t.sign(l),J=he.bytesToBase64Url(u);this.jws.signatures.push({protected:p,signature:J})})}getJws(){return this.jws}}const Mp="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var Cy=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},Ld=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(Ld||{});class u0{static derivePrivateKey(t,n){var o;return Cy(this,void 0,void 0,function*(){const p=fe.privateJwkToBytes(t.derivedPrivateKey),y=null!==(o=t.derivationPath)&&void 0!==o?o:[],l=yield u0.derivePrivateKeyBytes(p,n),u=yield fe.privateKeyToJwk(l);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...y,...n],derivedPrivateKey:u}})}static derivePublicKey(t,n){return Cy(this,void 0,void 0,function*(){const o=yield u0.derivePrivateKey(t,n);return yield fe.getPublicJwk(o.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return Cy(this,void 0,void 0,function*(){u0.validateKeyDerivationPath(n);let o=t;for(const p of n){const y=he.stringToBytes(p);o=yield u0.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:o,info:y,keyLengthInBytes:32})}return o})}static deriveKeyUsingHkdf(t){return Cy(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:o,info:p,keyLengthInBytes:y}=t,u=yield function oE(){if(Mp&&"object"==typeof Mp.subtle&&null!=Mp.subtle)return Mp.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",o,{name:"HKDF"},!1,["deriveBits"]),J=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:p},u,8*y);return new Uint8Array(J)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new te(de.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function sE(r,t){return r>t?1:r<t?-1:0}function Mw(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function Lc(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&Lc(r[t])})}var Ll=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class kr{static validateJsonSchema(t){Bi(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:zo.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return Ll(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield gc.computeCid(n)})}static compareCid(t,n){return Ll(this,void 0,void 0,function*(){return sE(yield kr.getCid(t),yield kr.getCid(n))})}static createAuthorization(t){return Ll(this,void 0,void 0,function*(){const{descriptor:n,signer:o,delegatedGrant:p,permissionGrantId:y,protocolRole:l}=t;let u;void 0!==p&&(u=yield kr.getCid(p));const X={signature:yield kr.createSignature(n,o,{delegatedGrantId:u,permissionGrantId:y,protocolRole:l})};return void 0!==p&&(X.authorDelegatedGrant=p),X})}static createSignature(t,n,o){return Ll(this,void 0,void 0,function*(){const p=yield gc.computeCid(t),y=Object.assign({descriptorCid:p},o);Lc(y);const l=he.objectToBytes(y);return(yield l0.create(l,[n])).getJws()})}static getNewestMessage(t){return Ll(this,void 0,void 0,function*(){let n;for(const o of t)(void 0===n||(yield kr.isNewer(o,n)))&&(n=o);return n})}static getOldestMessage(t){return Ll(this,void 0,void 0,function*(){let n;for(const o of t)(void 0===n||(yield kr.isOlder(o,n)))&&(n=o);return n})}static isNewer(t,n){return Ll(this,void 0,void 0,function*(){return(yield kr.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return Ll(this,void 0,void 0,function*(){return(yield kr.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return Ll(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:kr.compareCid(t,n)})}static validateSignatureStructure(t,n,o="GenericSignaturePayload"){return Ll(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new te(de.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const p=zo.decodePlainObjectPayload(t);Bi(o,p);const{descriptorCid:y}=p,l=yield gc.computeCid(n);if(y!==l)throw new te(de.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${y} does not match expected CID ${l}`);return p})}}class Ul{static parse(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new Ul(t)})}constructor(t){this.id=t.recordId,this.grantor=kr.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const o=he.base64UrlToObject(t.encodedData);this.dateExpires=o.dateExpires,this.delegated=o.delegated,this.description=o.description,this.requestId=o.requestId,this.scope=o.scope,this.conditions=o.conditions}}var Ud=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(Ud||{});class od{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const o of n)if(this.matchFilter(t,o))return!0;return!1}static matchFilter(t,n){for(const o in n){const p=n[o],y=t[o];if(void 0===y||!(Array.isArray(y)?this.matchAnyIndexValue(p,y):this.matchIndexValue(p,y)))return!1}return!0}static matchAnyIndexValue(t,n){for(const o of n)if(this.matchIndexValue(t,o))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const o of t)if(n===o)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class dI{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:o,attester:p,parentId:y,recipient:l,contextId:u,protocolPath:X,schema:N,protocol:oe}=t,Ee=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==o)return{recordId:o};if(void 0!==p)return{attester:p};if(void 0!==y)return{parentId:y};if(void 0!==l)return{recipient:l};if(void 0!==u)return{contextId:u};if(void 0!==X)return{protocolPath:X};if(void 0!==N)return{schema:N};if(void 0!==oe)return{protocol:oe};const Pe=Object.keys(Ee)[0],Ye={};return Ye[Pe]=t[Pe],Ye}}var Ki=function(r){return r.Events="Events",r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}(Ki||{}),si=function(r){return r.Configure="Configure",r.Create="Create",r.Get="Get",r.Grant="Grant",r.Query="Query",r.Read="Read",r.Request="Request",r.Revoke="Revoke",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(si||{});function mh(r){let t;try{t=Sp(r)}catch{t=void 0}if(r!==t)throw new te(de.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function Sp(r){return dE(r)}function Dp(r){let t;try{t=ky(r)}catch{t=void 0}if(r!==t)throw new te(de.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function ky(r){return dE(r)}function dE(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function e5(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new te(de.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var Py=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class to{static isRecordsWrite(t){return t.descriptor.interface===Ki.Records&&t.descriptor.method===si.Write}static getAuthor(t){let n;return n=kr.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,o){return Py(this,void 0,void 0,function*(){const{encryption:p}=t,y=p.keyEncryption.find(Ye=>Ye.rootKeyId===n.rootKeyId&&Ye.derivationScheme===n.derivationScheme);if(void 0===y)throw new te(de.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const l=to.constructKeyDerivationPath(y.derivationScheme,t),u=yield to.derivePrivateKey(n,l),J=he.base64UrlToBytes(y.encryptedKey),X=fe.publicJwkToBytes(y.ephemeralPublicKey),N=he.base64UrlToBytes(y.initializationVector),oe=he.base64UrlToBytes(y.messageAuthenticationCode),Ee=yield d0.eciesSecp256k1Decrypt({ciphertext:J,ephemeralPublicKey:X,initializationVector:N,messageAuthenticationCode:oe,privateKey:u}),Le=he.base64UrlToBytes(p.initializationVector);return yield d0.aes256CtrDecrypt(Ee,Le,o)})}static constructKeyDerivationPath(t,n){const o=n.descriptor,p=n.contextId;let y;return y=t===Ld.DataFormats?to.constructKeyDerivationPathUsingDataFormatsScheme(o.schema,o.dataFormat):t===Ld.ProtocolPath?to.constructKeyDerivationPathUsingProtocolPathScheme(o):t===Ld.ProtocolContext?to.constructKeyDerivationPathUsingProtocolContextScheme(p):to.constructKeyDerivationPathUsingSchemasScheme(o.schema),y}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[Ld.DataFormats,t,n]:[Ld.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new te(de.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[Ld.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new te(de.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[Ld.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new te(de.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[Ld.Schemas,t]}static derivePrivateKey(t,n){var o;return Py(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new te(de.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const p=null!==(o=t.derivationPath)&&void 0!==o?o:[];to.validateAncestorKeyAndDescentKeyDerivationPathsMatch(p,n);const y=n.slice(p.length),l=fe.privateJwkToBytes(t.derivedPrivateKey);return yield u0.derivePrivateKeyBytes(l,y)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let o=0;o<t.length;o++){const p=t[o],y=n[o];if(p!==y)throw new te(de.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${p}' mismatches against the descendant key derivation segment '${y}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,o;n=void 0===t.protocol?void 0:Sp(t.protocol),o=void 0===t.schema?void 0:ky(t.schema);const p=Object.assign(Object.assign({},t),{protocol:n,schema:o});return Lc(p),p}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const o in t)n[`tag.${o}`]=t[o];return n}static convertTagsFilter(t){const n={};for(const o in t){const p=t[o];n[`tag.${o}`]=this.isStartsWithFilter(p)?od.constructPrefixFilterAsRangeFilter(p.startsWith):p}return n}static convertFilter(t,n){const{tags:o}=t,p=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(t,["tags"]);let y={};void 0!==o&&(y=Object.assign({},this.convertTagsFilter(o)));const l=Object.assign(Object.assign({},p),y),{dateCreated:u,datePublished:J,dateUpdated:X,contextId:N}=t,oe=u?od.convertRangeCriterion(u):void 0;oe&&(l.dateCreated=oe);const Ee=J?od.convertRangeCriterion(J):void 0;Ee&&(l.published=!0,l.datePublished=Ee),!0!==l.published&&(n===Ud.PublishedAscending||n===Ud.PublishedDescending)&&(l.published=!0);const Le=X?od.convertRangeCriterion(X):void 0;Le&&(l.messageTimestamp=Le,delete l.dateUpdated);const Pe=N?od.constructPrefixFilterAsRangeFilter(N):void 0;return Pe&&(l.contextId=Pe),l}static validateDelegatedGrantReferentialIntegrity(t,n,o){var p,y;return Py(this,void 0,void 0,function*(){const l=void 0!==n?.delegatedGrantId,u=void 0!==(null===(p=t.authorization)||void 0===p?void 0:p.authorDelegatedGrant);if(l!==u)throw new te(de.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${l},          authorDelegatedGrant defined: ${u}`);if(u){const N=t.authorization.authorDelegatedGrant;if(!0!==(yield Ul.parse(N)).delegated)throw new te(de.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Ee=N.descriptor.recipient,Le=kr.getSigner(t);if(Ee!==Le)throw new te(de.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Ee} in author delegated grant must be the same as the signer ${Le} of the message signature.`);const Pe=yield kr.getCid(N);if(Pe!==n.delegatedGrantId)throw new te(de.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Pe} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const J=void 0!==o?.delegatedGrantId,X=void 0!==(null===(y=t.authorization)||void 0===y?void 0:y.ownerDelegatedGrant);if(J!==X)throw new te(de.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${J},          ownerDelegatedGrant defined: ${X}`);if(X){const N=t.authorization.ownerDelegatedGrant;if(!0!==(yield Ul.parse(N)).delegated)throw new te(de.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Ee=N.descriptor.recipient,Le=zo.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(Ee!==Le)throw new te(de.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Ee} in owner delegated grant must be the same as the signer ${Le} of the owner signature.`);const Pe=yield kr.getCid(N);if(Pe!==o.delegatedGrantId)throw new te(de.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Pe} must be the same as           the delegatedGrantId ${o.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var uI=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class gh{static performBaseValidation(t){return uI(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:o,expectedGrantee:p,permissionGrant:y,messageStore:l}=t,u=n.descriptor;gh.verifyExpectedGrantorAndGrantee(o,p,y);const J=o;yield gh.verifyGrantActive(J,u.messageTimestamp,y,l),yield gh.verifyGrantScopeInterfaceAndMethod(u.interface,u.method,y)})}static verifyExpectedGrantorAndGrantee(t,n,o){const p=o.grantee;if(n!==p)throw new te(de.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${p}, but need to be granted to ${n}`);const y=o.grantor;if(t!==y)throw new te(de.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${y}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,o,p){return uI(this,void 0,void 0,function*(){if(n<o.dateGranted)throw new te(de.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=o.dateExpires)throw new te(de.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const y={parentId:o.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:l}=yield p.query(t,[y]),u=yield kr.getOldestMessage(l);if(void 0!==u&&u.descriptor.messageTimestamp<=n)throw new te(de.GrantAuthorizationGrantRevoked,`Permission grant with CID ${o.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,o){return uI(this,void 0,void 0,function*(){if(t!==o.scope.interface)throw new te(de.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${o.id}`);if(n!==o.scope.method)throw new te(de.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${o.id}`)})}}var Sw=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(Sw||{}),Ry=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Uc{static authorizeWrite(t){return Ry(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:o,expectedGrantee:p,permissionGrant:y,messageStore:l}=t;yield gh.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:p,permissionGrant:y,messageStore:l}),Uc.verifyScope(n,y.scope),Uc.verifyConditions(n,y.conditions)})}static authorizeRead(t){return Ry(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:o,expectedGrantor:p,expectedGrantee:y,permissionGrant:l,messageStore:u}=t;yield gh.performBaseValidation({incomingMessage:n,expectedGrantor:p,expectedGrantee:y,permissionGrant:l,messageStore:u}),Uc.verifyScope(o,l.scope)})}static authorizeQueryOrSubscribe(t){return Ry(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:o,expectedGrantee:p,permissionGrant:y,messageStore:l}=t;yield gh.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:p,permissionGrant:y,messageStore:l});const J=y.scope.protocol,X=n.descriptor.filter.protocol;if(void 0!==J&&X!==J)throw new te(de.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${J} does not match protocol in message ${X}`)})}static authorizeDelete(t){return Ry(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:o,expectedGrantor:p,expectedGrantee:y,permissionGrant:l,messageStore:u}=t;yield gh.performBaseValidation({incomingMessage:n,expectedGrantor:p,expectedGrantee:y,permissionGrant:l,messageStore:u});const X=l.scope.protocol,N=o.descriptor.protocol;if(void 0!==X&&N!==X)throw new te(de.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${X} does not match protocol in record to delete ${N}`)})}static verifyScope(t,n){Uc.isUnrestrictedScope(n)||(void 0!==t.descriptor.protocol?Uc.verifyProtocolRecordScope(t,n):Uc.verifyFlatRecordScope(t,n))}static verifyProtocolRecordScope(t,n){if(void 0===n.protocol)throw new te(de.RecordsGrantAuthorizationScopeMissingProtocol,"Grant for protocol record must specify protocol in its scope");if(n.protocol!==t.descriptor.protocol)throw new te(de.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new te(de.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new te(de.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyFlatRecordScope(t,n){if(void 0!==n.schema&&n.schema!==t.descriptor.schema)throw new te(de.RecordsGrantAuthorizationScopeSchema,`Record does not have schema in permission grant scope with schema '${n.schema}'`)}static verifyConditions(t,n){if(n?.publication===Sw.Required&&!t.descriptor.published)throw new te(de.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===Sw.Prohibited&&t.descriptor.published)throw new te(de.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}static isUnrestrictedScope(t){return void 0===t.protocol&&void 0===t.schema}}var Mt=E(89994);const Dw={};function Fl(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const o=Object.getOwnPropertyDescriptor(r,n);o.configurable&&o.enumerable&&(o.enumerable=!1,Object.defineProperty(r,n,o))}for(const n of Object.getOwnPropertyNames(r.prototype)){const o=Object.getOwnPropertyDescriptor(r.prototype,n);o.configurable&&o.enumerable&&(o.enumerable=!1,Object.defineProperty(r.prototype,n,o))}vs(t,r),vs(`${t}.prototype`,r.prototype)}function vs(r,t){const n=`%${r}%`;if(void 0!==Dw[n])throw new Error(`intrinsic ${r} already exists`);Dw[n]=t}function xr(r){return Dw[r]}var fI,t5;const yi="slot-epochNanoSeconds",_f="slot-timezone-identifier",$r="slot-year",Hr="slot-month",Xr="slot-day",qi="slot-hour",Qi="slot-minute",zi="slot-second",Hi="slot-millisecond",Wi="slot-microsecond",Zi="slot-nanosecond",Yn="slot-calendar",n5="slot-date-brand",r5="slot-year-month-brand",i5="slot-month-day-brand",yc="slot-cached-instant",jo="slot-time-zone",Fc="slot-years",Ra="slot-months",va="slot-weeks",ba="slot-days",vc="slot-hours",jc="slot-minutes",Za="slot-seconds",bc="slot-milliseconds",$c="slot-microseconds",wc="slot-nanoseconds",Rs="slot-calendar-identifier",hI=new WeakMap,f0=Symbol.for("@@Temporal__GetSlots");(fI=globalThis)[f0]||(fI[f0]=function(t){return hI.get(t)});const Iw=globalThis[f0],lE=Symbol.for("@@Temporal__CreateSlots");(t5=globalThis)[lE]||(t5[lE]=function(t){hI.set(t,Object.create(null))});const jl=globalThis[lE];function Oa(r,...t){if(!r||"object"!=typeof r)return!1;const n=Iw(r);return!!n&&t.every(o=>o in n)}function Re(r,t){const n=Iw(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function no(r,t,n){const o=Iw(r);if(void 0===o)throw new TypeError("Missing slots for the given container");if(o[t])throw new TypeError(`${t} already has set`);o[t]=n}const pI=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,h0=new RegExp("(?:"+[`(?:${pI.source})(?:\\/(?:${pI.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),Tw=/(?:[+\u2212-]\d{6}|\d{4})/,Aw=/(?:0[1-9]|1[0-2])/,uE=/(?:0[1-9]|[12]\d|3[01])/,Cw=new RegExp(`(${Tw.source})(?:-(${Aw.source})-(${uE.source})|(${Aw.source})(${uE.source}))`),mI=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,gI=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,yI=new RegExp(`([zZ])|${gI.source}?`),yh=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,o5=new RegExp([`^${Cw.source}`,`(?:(?:T|\\s+)${mI.source}(?:${yI.source})?)?`,`(?:\\[!?(${h0.source})\\])?`,`((?:${yh.source})*)$`].join(""),"i"),s5=new RegExp([`^T?${mI.source}`,`(?:${yI.source})?`,`(?:\\[!?${h0.source}\\])?`,`((?:${yh.source})*)$`].join(""),"i"),a5=new RegExp(`^(${Tw.source})-?(${Aw.source})(?:\\[!?${h0.source}\\])?((?:${yh.source})*)$`),vI=new RegExp(`^(?:--)?(${Aw.source})-?(${uE.source})(?:\\[!?${h0.source}\\])?((?:${yh.source})*)$`),kw=/(\d+)(?:[.,](\d{1,9}))?/,c5=new RegExp(`(?:${kw.source}H)?(?:${kw.source}M)?(?:${kw.source}S)?`),RP=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${c5.source})?$`,"i"),bI=Array.prototype.includes,fE=Array.prototype.push,vh=globalThis.Intl.DateTimeFormat,wI=Math.min,d5=Math.max,bs=Math.abs,_c=Math.floor,bh=Math.sign,Ip=Math.trunc,Oy=Number.isNaN,ja=Number.isFinite,l5=Number,Pw=String,Rw=Number.MAX_SAFE_INTEGER,Ya=Object.create,u5=Object.getOwnPropertyDescriptor,p0=Reflect.apply,f5=Reflect.ownKeys,Bo=Mt.BigInt(0),Cu=Mt.BigInt(1),cs=Mt.BigInt(60),wh=Mt.BigInt(24),mo=Mt.BigInt(1e3),Vs=Mt.BigInt(1e6),sd=Mt.BigInt(1e9),h5=Mt.BigInt(-1),m0=Mt.multiply(Mt.BigInt(3600),sd),Ow=Mt.multiply(cs,sd),$l=Mt.multiply(m0,wh),g0=Mt.multiply(Mt.BigInt(-86400),Mt.BigInt(1e17)),y0=Mt.multiply(Mt.BigInt(86400),Mt.BigInt(1e17)),Nw=-271821,Zs=275760,Tp=Mt.multiply(Mt.BigInt(-388152),Mt.BigInt(1e13)),p5=Mt.multiply($l,Mt.BigInt(3660)),ua=Mt.multiply($l,Mt.BigInt(366)),v0=Mt.multiply($l,Mt.BigInt(14)),b0=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function Kc(r){return Mt.equal(r,Bo)}function go(r,t){const n=r[t];if(void 0!==n)return n}function ei(r,t,n){return p0(r,t,arguments.length>2?n:[])}function ds(r){return"object"==typeof r&&null!==r||"function"==typeof r}function Ap(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return l5(r)}function Ys(r){const t=Ap(r);if(Oy(t)||0===t)return 0;if(!ja(t))return t;const n=_c(bs(t));return 0===n?0:bh(t)*n}function Ec(r){if("number"!=typeof r||Oy(r)||!ja(r))return!1;const t=bs(r);return _c(t)===t}function $a(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return Pw(r)}function bo(r){const t=Ap(r);if(0===t)return 0;if(Oy(t)||!ja(t))throw new RangeError("invalid number value");const n=Ip(t);return 0===n?0:n}function Ny(r,t){const n=bo(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function Os(r){const t=Ap(r);if(!ja(t))throw new RangeError("infinity is out of range");if(!Ec(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function Xs(r,t){return{quotient:Mt.divide(r,t),remainder:Mt.remainder(r,t)}}function Vc(r){return Mt.lessThan(r,Bo)}function _I(r){return Kc(r)?0:Vc(r)?-1:1}function Kl(r){return Mt.lessThan(r,Bo)?Mt.multiply(r,h5):r}const Bw=new Map([["year",bo],["month",Ny],["monthCode",$a],["day",Ny],["hour",bo],["minute",bo],["second",bo],["millisecond",bo],["microsecond",bo],["nanosecond",bo],["years",Os],["months",Os],["weeks",Os],["days",Os],["hours",Os],["minutes",Os],["seconds",Os],["milliseconds",Os],["microseconds",Os],["nanoseconds",Os],["era",$a],["eraYear",Ys],["offset",$a]]),EI=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),w0=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],Lw=new Map(w0.map(r=>[r[0],r[1]])),OP=new Map(w0.map(([r,t])=>[t,r])),xI=w0.map(([,r])=>r),By=Array.from(Lw.keys()).sort(),Uw=new Map;function Fw(r){let t=Uw.get(r);return void 0===t&&(t=new vh("en-us",{timeZone:Pw(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Uw.set(r,t)),t}function Cp(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function kp(r,t,n,o){if(null==t)return;const p=f5(t);for(const y of p)if(!n.some(l=>Object.is(l,y))&&Object.prototype.propertyIsEnumerable.call(t,y)){const l=t[y];if(o&&o.some(u=>Object.is(u,l)))continue;r[y]=l}}function aa(r){return Oa(r,yi)&&!Oa(r,jo,Yn)}function Xa(r){return Oa(r,_f)}function ws(r){return Oa(r,Rs)}function _s(r){return Oa(r,Fc,Ra,ba,vc,jc,Za,bc,$c,wc)}function ao(r){return Oa(r,n5)}function Ns(r){return Oa(r,qi,Qi,zi,Hi,Wi,Zi)&&!Oa(r,$r,Hr,Xr)}function Vi(r){return Oa(r,$r,Hr,Xr,qi,Qi,zi,Hi,Wi,Zi)}function Ao(r){return Oa(r,r5)}function wa(r){return Oa(r,i5)}function Zr(r){return Oa(r,yi,jo,Yn)}function Pp(r){if(Oa(r,Yn)||Oa(r,jo))throw new TypeError("with() does not support a calendar or timeZone property");if(Ns(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function hE(r,t){return"never"===t?"":pE(Ja(r),t)}function pE(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function Vl(r){const t=o5.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const o=Ys(n),p=Ys(t[2]||t[4]),y=Ys(t[3]||t[5]),l=Ys(t[6]),u=void 0!==t[6],J=Ys(t[7]||t[10]);let X=Ys(t[8]||t[11]);60===X&&(X=59);const N=(t[9]||t[12])+"000000000",oe=Ys(N.slice(0,3)),Ee=Ys(N.slice(3,6)),Le=Ys(N.slice(6,9));let Pe,Ye=!1;if(t[13])Pe=void 0,Ye=!0;else if(t[14]&&t[15]){const Zt=t[17]||"00";let cn=t[18]||"0";if(Pe=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+cn){for(;cn.endsWith("0");)cn=cn.slice(0,-1);Pe+=`:${Zt}.${cn}`}else+Zt&&(Pe+=`:${Zt}`);"-00:00"===Pe&&(Pe="+00:00")}const mt=t[19],St=t[20];let gt;for(const[,yt,Tt,zt]of St.matchAll(yh))if("u-ca"===Tt)void 0===gt&&(gt=zt);else if("!"===yt)throw new RangeError(`Unrecognized annotation: !${Tt}=${zt}`);return o_(o,p,y,l,J,X,oe,Ee,Le),{year:o,month:p,day:y,hasTime:u,hour:l,minute:J,second:X,millisecond:oe,microsecond:Ee,nanosecond:Le,ianaName:mt,offset:Pe,z:Ye,calendar:gt}}function jw(r){const t=a5.exec(r);let n,o,p,y;if(t){let l=t[1];if("\u2212"===l[0]&&(l=`-${l.slice(1)}`),"-000000"===l)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=Ys(l),o=Ys(t[2]);const u=t[3];for(const[,J,X,N]of u.matchAll(yh))if("u-ca"===X)void 0===p&&(p=N);else if("!"===J)throw new RangeError(`Unrecognized annotation: !${X}=${N}`);if(void 0!==p&&"iso8601"!==p)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let l;if(({year:n,month:o,calendar:p,day:y,z:l}=Vl(r)),l)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:o,calendar:p,referenceISODay:y}}function mE(r){const t=vI.exec(r);let n,o,p,y;if(t){n=Ys(t[1]),o=Ys(t[2]);const l=t[3];for(const[,u,J,X]of l.matchAll(yh))if("u-ca"===J)void 0===p&&(p=X);else if("!"===u)throw new RangeError(`Unrecognized annotation: !${J}=${X}`);if(void 0!==p&&"iso8601"!==p)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let l;if(({month:n,day:o,calendar:p,year:y,z:l}=Vl(r)),l)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:o,calendar:p,referenceISOYear:y}}function $w(r,t,n,o){let p=r,y=t,l=n;switch(o){case"reject":Zl(p,y,l);break;case"constrain":({year:p,month:y,day:l}=RI(p,y,l))}return{year:p,month:y,day:l}}function _0(r,t,n,o,p,y,l){let u=r,J=t,X=n,N=o,oe=p,Ee=y;switch(l){case"reject":Yy(u,J,X,N,oe,Ee);break;case"constrain":({hour:u,minute:J,second:X,millisecond:N,microsecond:oe,nanosecond:Ee}=(Ye=J,mt=X,St=N,gt=oe,yt=Ee,{hour:Sd(u,0,23),minute:Sd(Ye,0,59),second:Sd(mt,0,59),millisecond:Sd(St,0,999),microsecond:Sd(gt,0,999),nanosecond:Sd(yt,0,999)}))}var Ye,mt,St,gt,yt;return{hour:u,minute:J,second:X,millisecond:N,microsecond:oe,nanosecond:Ee}}function Ef(r){if(!ds(r))return function(Pe){const Ye=RP.exec(Pe);if(!Ye)throw new RangeError(`invalid duration: ${Pe}`);if(Ye.slice(2).every(Pn=>void 0===Pn))throw new RangeError(`invalid duration: ${Pe}`);const mt="-"===Ye[1]||"\u2212"===Ye[1]?-1:1,St=void 0===Ye[2]?0:bo(Ye[2])*mt,gt=void 0===Ye[3]?0:bo(Ye[3])*mt,yt=void 0===Ye[4]?0:bo(Ye[4])*mt,Tt=void 0===Ye[5]?0:bo(Ye[5])*mt,zt=void 0===Ye[6]?0:bo(Ye[6])*mt,Zt=Ye[7],cn=Ye[8],$t=Ye[9],kn=Ye[10],Jn=Ye[11];let tr=0,dr=0,Zn=0;if(void 0!==Zt){if(cn??$t??kn??Jn)throw new RangeError("only the smallest unit can be fractional");Zn=3600*Ys((Zt+"000000000").slice(0,9))*mt}else if(tr=void 0===cn?0:bo(cn)*mt,void 0!==$t){if(kn??Jn)throw new RangeError("only the smallest unit can be fractional");Zn=60*Ys(($t+"000000000").slice(0,9))*mt}else dr=void 0===kn?0:bo(kn)*mt,void 0!==Jn&&(Zn=Ys((Jn+"000000000").slice(0,9))*mt);const Gn=Zn%1e3,Kn=Ip(Zn/1e3)%1e3,qn=Ip(Zn/1e6)%1e3;return dr+=Ip(Zn/1e9)%60,tr+=Ip(Zn/6e10),Xy(St,gt,yt,Tt,zt,tr,dr,qn,Kn,Gn),{years:St,months:gt,weeks:yt,days:Tt,hours:zt,minutes:tr,seconds:dr,milliseconds:qn,microseconds:Kn,nanoseconds:Gn}}($a(r));if(_s(r))return{years:Re(r,Fc),months:Re(r,Ra),weeks:Re(r,va),days:Re(r,ba),hours:Re(r,vc),minutes:Re(r,jc),seconds:Re(r,Za),milliseconds:Re(r,bc),microseconds:Re(r,$c),nanoseconds:Re(r,wc)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Pe){if(!ds(Pe))throw new TypeError("invalid duration-like");const Ye={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let mt=!1;for(const St of By){const gt=Pe[St];void 0!==gt&&(mt=!0,Ye[St]=Os(gt))}if(!mt)throw new TypeError("invalid duration-like");return Ye}(r);for(const Le of By){const Pe=n[Le];void 0!==Pe&&(t[Le]=Pe)}let{years:o,months:p,weeks:y,days:l,hours:u,minutes:J,seconds:X,milliseconds:N,microseconds:oe,nanoseconds:Ee}=t;return Xy(o,p,y,l,u,J,X,N,oe,Ee),{years:o,months:p,weeks:y,days:l,hours:u,minutes:J,seconds:X,milliseconds:N,microseconds:oe,nanoseconds:Ee}}function Js(r){return void 0===r?"constrain":Ea(r,"overflow",["constrain","reject"],"constrain")}function E0(r){return void 0===r?"compatible":Ea(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function zl(r,t){return Ea(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function Kw(r,t){return void 0===r?t:Ea(r,"offset",["prefer","use","ignore","reject"],t)}function Ly(r){return Ea(r,"calendarName",["auto","always","never","critical"],"auto")}function x0(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=Ap(t),!ja(t))throw new RangeError("roundingIncrement must be finite");const n=Ip(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function M0(r,t,n){const o=n?t:t-1;if(r>o)throw new RangeError(`roundingIncrement must be at least 1 and less than ${o}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function Uy(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==$a(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=_c(t);if(!ja(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function Fy(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const Rp=Symbol("~required~");function ad(r,t,n,o,p=[]){const y=[];for(const[,X,N]of w0)"datetime"!==n&&n!==N||y.push(X);y.push(...p);let l=o;l===Rp?l=void 0:void 0!==l&&y.push(l);const u=[...y];for(const X of y){const N=OP.get(X);void 0!==N&&u.push(N)}let J=Ea(r,t,u,l);if(void 0===J&&o===Rp)throw new RangeError(`${t} is required`);return Lw.has(J)?Lw.get(J):J}function Vw(r){const t=r.relativeTo;if(void 0===t)return t;let n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe="option",Ye=!1;if(ds(t)){if(Zr(t)||ao(t))return t;if(Vi(t))return Vp(t);oe=$p(t);const mt=Es(oe,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);mt.push("timeZone","offset");const St=ro(t,mt,[]),gt=Ya(null);gt.overflow="constrain",({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N}=S0(oe,St,gt)),Le=St.offset,void 0===Le&&(Pe="wall"),Ee=St.timeZone,void 0!==Ee&&(Ee=qa(Ee))}else{let mt,St;if(({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N,calendar:oe,ianaName:mt,offset:Le,z:St}=Vl($a(t))),mt)Ee=qa(mt),St?Pe="exact":Le||(Pe="wall"),Ye=!0;else if(St)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(oe||(oe="iso8601"),!Uu(oe))throw new RangeError(`invalid calendar identifier ${oe}`);oe=Jl(oe)}return void 0===Ee?xd(n,o,p,oe):qs(_h(n,o,p,y,l,u,J,X,N,Pe,"option"===Pe?Sf(Le):0,Ee,"compatible","reject",Ye),Ee,oe)}function gE(r,t,n,o,p,y,l,u,J,X){for(const[N,oe]of[["years",r],["months",t],["weeks",n],["days",o],["hours",p],["minutes",y],["seconds",l],["milliseconds",u],["microseconds",J],["nanoseconds",X]])if(0!==oe)return Lw.get(N);return"nanosecond"}function Op(r,t){return xI.indexOf(r)>xI.indexOf(t)?t:r}function ro(r,t,n,{emptySourceErrorMessage:o}={emptySourceErrorMessage:"no supported properties found"}){const p=Ya(null);let y=!1;t.sort();for(const l of t){let u=r[l];if(void 0!==u)y=!0,Bw.has(l)&&(u=Bw.get(l)(u)),p[l]=u;else if("partial"!==n){if(bI.call(n,l))throw new TypeError(`required property '${l}' missing or undefined`);u=EI.get(l),p[l]=u}}if("partial"===n&&!y)throw new TypeError(o);return p}function zw(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],o=ro(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),p={};for(const y of n){const l=u5(o,y);void 0!==l?p[y]=l.value:"complete"===t&&(p[y]=0)}return p}function Lo(r,t){let n=r;if(ds(n)){if(ao(n))return n;if(Zr(n)&&(Js(t),n=Md(Re(n,jo),Re(n,yc),Re(n,Yn))),Vi(n))return Js(t),xd(Re(n,$r),Re(n,Hr),Re(n,Xr),Re(n,Yn));const J=$p(n);return Mf(J,ro(n,Es(J,["day","month","monthCode","year"]),[]),t)}Js(t);let{year:o,month:p,day:y,calendar:l,z:u}=Vl($a(n));if(u)throw new RangeError("Z designator not supported for PlainDate");if(l||(l="iso8601"),!Uu(l))throw new RangeError(`invalid calendar identifier ${l}`);return l=Jl(l),xd(o,p,y,l)}function S0(r,t,n){let{hour:o,minute:p,second:y,millisecond:l,microsecond:u,nanosecond:J}=zw(t);const X=Js(n),N=Mf(r,t,n),oe=Re(N,$r),Ee=Re(N,Hr),Le=Re(N,Xr);return({hour:o,minute:p,second:y,millisecond:l,microsecond:u,nanosecond:J}=_0(o,p,y,l,u,J,X)),{year:oe,month:Ee,day:Le,hour:o,minute:p,second:y,millisecond:l,microsecond:u,nanosecond:J}}function Ed(r,t){let n,o,p,y,l,u,J,X,N,oe;if(ds(r)){if(Vi(r))return r;if(Zr(r))return Js(t),Md(Re(r,jo),Re(r,yc),Re(r,Yn));if(ao(r))return Js(t),xc(Re(r,$r),Re(r,Hr),Re(r,Xr),0,0,0,0,0,0,Re(r,Yn));oe=$p(r);const Ee=ro(r,Es(oe,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N}=S0(oe,Ee,t))}else{let Ee;if(Js(t),({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N,calendar:oe,z:Ee}=Vl($a(r))),Ee)throw new RangeError("Z designator not supported for PlainDateTime");if(o_(n,o,p,y,l,u,J,X,N),oe||(oe="iso8601"),!Uu(oe))throw new RangeError(`invalid calendar identifier ${oe}`);oe=Jl(oe)}return xc(n,o,p,y,l,u,J,X,N,oe)}function D0(r){if(_s(r))return r;let{years:t,months:n,weeks:o,days:p,hours:y,minutes:l,seconds:u,milliseconds:J,microseconds:X,nanoseconds:N}=Ef(r);return new(xr("%Temporal.Duration%"))(t,n,o,p,y,l,u,J,X,N)}function sl(r){if(aa(r))return r;if(Zr(r))return new(xr("%Temporal.Instant%"))(Re(r,yi));const t=function NP(r){let{year:t,month:n,day:o,hour:p,minute:y,second:l,millisecond:u,microsecond:J,nanosecond:X,offset:N,z:oe}=function(Ye){const mt=Vl(Ye);if(!mt.z&&!mt.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return mt}(r);if(!oe&&!N)throw new RangeError("Temporal.Instant requires a time zone offset");const Ee=oe?0:Sf(N);({year:t,month:n,day:o,hour:p,minute:y,second:l,millisecond:u,microsecond:J,nanosecond:X}=SE(t,n,o,p,y,l,u,J,X-Ee));const Le=Eh(t,n,o,p,y,l,u,J,X);if(null===Le)throw new RangeError("DateTime outside of supported range");return Le}($a(r));return new(xr("%Temporal.Instant%"))(t)}function MI(r,t){let n=r;if(ds(n)){if(wa(n))return n;let u,J;if(Oa(n,Yn))u=Re(n,Yn),J=!1;else{let N=n.calendar;J=void 0===N,void 0===N&&(N="iso8601"),u=cd(N)}const X=ro(n,Es(u,["day","month","monthCode","year"]),[]);return J&&void 0!==X.month&&void 0===X.monthCode&&void 0===X.year&&(X.year=1972),Kp(u,X,t)}Js(t);let{month:o,day:p,referenceISOYear:y,calendar:l}=mE($a(n));if(void 0===l&&(l="iso8601"),!Uu(l))throw new RangeError(`invalid calendar identifier ${l}`);return l=Jl(l),void 0===y?(Zl(1972,o,p),Pu(o,p,l)):Kp(l,Pu(o,p,l,y))}function ku(r,t="constrain"){let n,o,p,y,l,u,J=r;if(ds(J)){if(Ns(J))return J;if(Zr(J)&&(J=Md(Re(J,jo),Re(J,yc),Re(J,Yn))),Vi(J))return new(xr("%Temporal.PlainTime%"))(Re(J,qi),Re(J,Qi),Re(J,zi),Re(J,Hi),Re(J,Wi),Re(J,Zi));({hour:n,minute:o,second:p,millisecond:y,microsecond:l,nanosecond:u}=zw(J)),({hour:n,minute:o,second:p,millisecond:y,microsecond:l,nanosecond:u}=_0(n,o,p,y,l,u,t))}else({hour:n,minute:o,second:p,millisecond:y,microsecond:l,nanosecond:u}=function(N){const oe=s5.exec(N);let Ee,Le,Pe,Ye,mt,St,gt;if(oe){Ee=Ys(oe[1]),Le=Ys(oe[2]||oe[5]),Pe=Ys(oe[3]||oe[6]),60===Pe&&(Pe=59);const yt=(oe[4]||oe[7])+"000000000";Ye=Ys(yt.slice(0,3)),mt=Ys(yt.slice(3,6)),St=Ys(yt.slice(6,9)),gt=oe[14];for(const[,Tt,zt,Zt]of gt.matchAll(yh))if("u-ca"!==zt&&"!"===Tt)throw new RangeError(`Unrecognized annotation: !${zt}=${Zt}`);if(oe[8])throw new RangeError("Z designator not supported for PlainTime")}else{let yt,Tt;if(({hasTime:Tt,hour:Ee,minute:Le,second:Pe,millisecond:Ye,microsecond:mt,nanosecond:St,z:yt}=Vl(N)),!Tt)throw new RangeError(`time is missing in string: ${N}`);if(yt)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(N))return{hour:Ee,minute:Le,second:Pe,millisecond:Ye,microsecond:mt,nanosecond:St};try{const{month:yt,day:Tt}=mE(N);Zl(1972,yt,Tt)}catch{try{const{year:yt,month:Tt}=jw(N);Zl(yt,Tt,1)}catch{return{hour:Ee,minute:Le,second:Pe,millisecond:Ye,microsecond:mt,nanosecond:St}}}throw new RangeError(`invalid ISO 8601 time-only string ${N}; may need a T prefix`)}($a(J))),Yy(n,o,p,y,l,u);return new(xr("%Temporal.PlainTime%"))(n,o,p,y,l,u)}function I0(r,t){if(ds(r)){if(Ao(r))return r;const l=$p(r);return zs(l,ro(r,Es(l,["month","monthCode","year"]),[]),t)}Js(t);let{year:n,month:o,referenceISODay:p,calendar:y}=jw($a(r));if(void 0===y&&(y="iso8601"),!Uu(y))throw new RangeError(`invalid calendar identifier ${y}`);return y=Jl(y),void 0===p?(Zl(n,o,1),Ru(n,o,y)):zs(y,Ru(n,o,y,p))}function _h(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe){const Ye=new(xr("%Temporal.PlainDateTime%"))(r,t,n,o,p,y,l,u,J);if("wall"===X||"ignore"===Le)return Re(Qa(oe,Ye,Ee),yi);if("exact"===X||"use"===Le){const St=Eh(r,t,n,o,p,y,l,u,J);if(null===St)throw new RangeError("ZonedDateTime outside of supported range");return Mt.subtract(St,Mt.BigInt(N))}const mt=Gy(oe,Ye);for(const St of mt){const gt=zc(oe,St),yt=Mt.toNumber(dd(Mt.BigInt(gt),Ow,"halfExpand"));if(gt===N||Pe&&yt===N)return Re(St,yi)}if("reject"===Le){const St=qw(N),gt=Xa(oe)?Re(oe,_f):"time zone";throw new RangeError(`Offset ${St} is invalid for ${Ye.toString()} in ${gt}`)}return Re(DI(mt,oe,Ye,Ee),yi)}function Np(r,t){let n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe,Ye,mt=!1,St="option";if(ds(r)){if(Zr(r))return r;Le=$p(r);const yt=Es(Le,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);yt.push("timeZone","offset");const Tt=ro(r,yt,["timeZone"]);oe=qa(Tt.timeZone),Ee=Tt.offset,void 0===Ee&&(St="wall"),Pe=E0(t),Ye=Kw(t,"reject"),({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N}=S0(Le,Tt,t))}else{let yt,Tt;if(({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N,ianaName:yt,offset:Ee,z:Tt,calendar:Le}=function(Zt){const cn=Vl(Zt);if(!cn.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return cn}($a(r))),oe=qa(yt),Tt?St="exact":Ee||(St="wall"),Le||(Le="iso8601"),!Uu(Le))throw new RangeError(`invalid calendar identifier ${Le}`);Le=Jl(Le),mt=!0,Pe=E0(t),Ye=Kw(t,"reject"),Js(t)}let gt=0;return"option"===St&&(gt=Sf(Ee)),qs(_h(n,o,p,y,l,u,J,X,N,St,gt,oe,Pe,Ye,mt),oe,Le)}function Bp(r,t,n,o,p){Zl(t,n,o),IE(t,n,o),jl(r),no(r,$r,t),no(r,Hr,n),no(r,Xr,o),no(r,Yn,p),no(r,n5,!0)}function xd(r,t,n,o="iso8601"){const p=xr("%Temporal.PlainDate%"),y=Ya(p.prototype);return Bp(y,r,t,n,o),y}function Lp(r,t,n,o,p,y,l,u,J,X,N){o_(t,n,o,p,y,l,u,J,X),OI(t,n,o,p,y,l,u,J,X),jl(r),no(r,$r,t),no(r,Hr,n),no(r,Xr,o),no(r,qi,p),no(r,Qi,y),no(r,zi,l),no(r,Hi,u),no(r,Wi,J),no(r,Zi,X),no(r,Yn,N)}function xc(r,t,n,o,p,y,l,u,J,X="iso8601"){const N=xr("%Temporal.PlainDateTime%"),oe=Ya(N.prototype);return Lp(oe,r,t,n,o,p,y,l,u,J,X),oe}function Up(r,t,n,o,p){Zl(p,t,n),IE(p,t,n),jl(r),no(r,Hr,t),no(r,Xr,n),no(r,$r,p),no(r,Yn,o),no(r,i5,!0)}function Pu(r,t,n="iso8601",o=1972){const p=xr("%Temporal.PlainMonthDay%"),y=Ya(p.prototype);return Up(y,r,t,n,o),y}function Fp(r,t,n,o,p){var l,u;Zl(t,n,p),u=n,_a(l=t,Nw,Zs),l===Nw?_a(u,4,12):l===Zs&&_a(u,1,9),jl(r),no(r,$r,t),no(r,Hr,n),no(r,Xr,p),no(r,Yn,o),no(r,r5,!0)}function Ru(r,t,n="iso8601",o=1){const p=xr("%Temporal.PlainYearMonth%"),y=Ya(p.prototype);return Fp(y,r,t,n,o),y}function jp(r,t,n,o){xh(t),jl(r),no(r,yi,t),no(r,jo,n),no(r,Yn,o);const p=new(xr("%Temporal.Instant%"))(Re(r,yi));no(r,yc,p)}function qs(r,t,n="iso8601"){const o=xr("%Temporal.ZonedDateTime%"),p=Ya(o.prototype);return jp(p,r,t,n),p}function Es(r,t){if("string"==typeof r){const p=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.fields%"),p,[t])}const n=ei(go(r,"fields"),r,[t]),o=[];for(const p of n){if("string"!=typeof p)throw new TypeError("bad return from calendar.fields()");fE.call(o,p)}return o}function al(r,t,n){if("string"==typeof r){const p=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.mergeFields%"),p,[t,n])}const o=ei(go(r,"mergeFields"),r,[t,n]);if(!ds(o))throw new TypeError("bad return from calendar.mergeFields()");return o}function Qs(r,t,n,o,p){let y=p;if("string"==typeof r){const u=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.dateAdd%"),u,[t,n,o])}void 0===y&&(y=go(r,"dateAdd"));const l=p0(y,r,[t,n,o]);if(!ao(l))throw new TypeError("invalid result");return l}function xf(r,t,n,o,p){let y=p;if("string"==typeof r){const u=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.dateUntil%"),u,[t,n,o])}void 0===y&&(y=go(r,"dateUntil"));const l=p0(y,r,[t,n,o]);if(!_s(l))throw new TypeError("invalid result");return l}function jy(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.year%"),o,[t])}let n=ei(go(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!Ec(n))throw new RangeError("calendar year result must be an integer");return n}function $y(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.month%"),o,[t])}let n=ei(go(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function T0(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.monthCode%"),o,[t])}let n=ei(go(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function A0(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.day%"),o,[t])}const n=ei(go(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function Ky(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.era%"),o,[t])}let n=ei(go(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function Vy(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.eraYear%"),o,[t])}let n=ei(go(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!Ec(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function Hw(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.dayOfWeek%"),o,[t])}const n=ei(go(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function Ww(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.dayOfYear%"),o,[t])}const n=ei(go(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function C0(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.weekOfYear%"),o,[t])}const n=ei(go(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function Ou(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.yearOfWeek%"),o,[t])}const n=ei(go(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!Ec(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function yE(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.daysInWeek%"),o,[t])}const n=ei(go(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function Gw(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.daysInMonth%"),o,[t])}const n=ei(go(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function k0(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.daysInYear%"),o,[t])}const n=ei(go(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function Nu(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.monthsInYear%"),o,[t])}const n=ei(go(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function P0(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.inLeapYear%"),o,[t])}const n=ei(go(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function cd(r){if(ds(r)){if(Oa(r,Yn))return Re(r,Yn);if(!(ws(p=r)||"dateAdd"in p&&"dateFromFields"in p&&"dateUntil"in p&&"day"in p&&"dayOfWeek"in p&&"dayOfYear"in p&&"daysInMonth"in p&&"daysInWeek"in p&&"daysInYear"in p&&"fields"in p&&"id"in p&&"inLeapYear"in p&&"mergeFields"in p&&"month"in p&&"monthCode"in p&&"monthDayFromFields"in p&&"monthsInYear"in p&&"weekOfYear"in p&&"year"in p&&"yearMonthFromFields"in p&&"yearOfWeek"in p))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var p;const t=$a(r);if(Uu(t))return Jl(t);let n;try{({calendar:n}=Vl(t))}catch{try{({calendar:n}=jw(t))}catch{({calendar:n}=mE(t))}}if(n||(n="iso8601"),!Uu(n))throw new RangeError(`invalid calendar identifier ${n}`);return Jl(n)}function $p(r){if(Oa(r,Yn))return Re(r,Yn);const{calendar:t}=r;return void 0===t?"iso8601":cd(t)}function Ja(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function zy(r){return ds(r)?r:new(xr("%Temporal.Calendar%"))(r)}function Hy(r,t){return r===t||Ja(r)===Ja(t)}function Zw(r,t,n){if(r===t)return;const o=Ja(r),p=Ja(t);if(o!==p)throw new RangeError(`cannot ${n} of ${o} and ${p} calendars`)}function vE(r,t){if(r===t)return t;const n=Ja(r),o=Ja(t);if(n===o||"iso8601"===n)return t;if("iso8601"===o)return r;throw new RangeError("irreconcilable calendars")}function Mf(r,t,n,o){if("string"==typeof r){const y=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.dateFromFields%"),y,[t,n])}const p=ei(o??go(r,"dateFromFields"),r,[t,n]);if(!ao(p))throw new TypeError("invalid result");return p}function zs(r,t,n){if("string"==typeof r){const p=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.yearMonthFromFields%"),p,[t,n])}let o=ei(go(r,"yearMonthFromFields"),r,[t,n]);if(!Ao(o))throw new TypeError("invalid result");return o}function Kp(r,t,n){if("string"==typeof r){const p=new(xr("%Temporal.Calendar%"))(r);return ei(xr("%Temporal.Calendar.prototype.monthDayFromFields%"),p,[t,n])}let o=ei(go(r,"monthDayFromFields"),r,[t,n]);if(!wa(o))throw new TypeError("invalid result");return o}function qa(r){if(ds(r)){if(Zr(r))return Re(r,jo);if(!(Xa(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function m5(r){const{ianaName:t,offset:n,z:o}=function(y){if(new RegExp(`^${h0.source}$`,"i").test(y))return{ianaName:y};try{const l=Vl(y);if(l.z||l.offset||l.ianaName)return l}catch{}throw new RangeError(`Invalid time zone: ${y}`)}(r);return t?Jw(t):o?"UTC":qw(Sf(n))}($a(r))}function Wy(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function bE(r){return ds(r)?r:new(xr("%Temporal.TimeZone%"))(r)}function SI(r,t){return r===t||Wy(r)===Wy(t)}function Vp(r){return xd(Re(r,$r),Re(r,Hr),Re(r,Xr),Re(r,Yn))}function Yw(r){return new(xr("%Temporal.PlainTime%"))(Re(r,qi),Re(r,Qi),Re(r,zi),Re(r,Hi),Re(r,Wi),Re(r,Zi))}function zc(r,t,n){if("string"==typeof r){const p=new(xr("%Temporal.TimeZone%"))(r);return ei(xr("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),p,[t])}const o=ei(n??go(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof o)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Ec(o)||bs(o)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return o}function wE(r,t){return qw(zc(r,t))}function Md(r,t,n){const o=Re(t,yi),p=zc(r,t);let{year:y,month:l,day:u,hour:J,minute:X,second:N,millisecond:oe,microsecond:Ee,nanosecond:Le}=Qw(o);return({year:y,month:l,day:u,hour:J,minute:X,second:N,millisecond:oe,microsecond:Ee,nanosecond:Le}=SE(y,l,u,J,X,N,oe,Ee,Le+p)),xc(y,l,u,J,X,N,oe,Ee,Le,n)}function Qa(r,t,n){return DI(Gy(r,t),r,t,n)}function DI(r,t,n,o){const p=xr("%Temporal.Instant%"),y=r.length;if(1===y)return r[0];if(y)switch(o){case"compatible":case"earlier":return r[0];case"later":return r[y-1];case"reject":throw new RangeError("multiple instants found")}const l=Re(n,$r),u=Re(n,Hr),J=Re(n,Xr),X=Re(n,qi),N=Re(n,Qi),oe=Re(n,zi),Ee=Re(n,Hi),Le=Re(n,Wi),Pe=Re(n,Zi),Ye=Eh(l,u,J,X,N,oe,Ee,Le,Pe);if(null===Ye)throw new RangeError("DateTime outside of supported range");const mt=new p(Mt.subtract(Ye,$l)),St=new p(Mt.add(Ye,$l)),gt=zc(t,mt),yt=zc(t,St)-gt;switch(o){case"earlier":{const Tt=Re(n,Yn),zt=xr("%Temporal.PlainDateTime%"),Zt=PE(l,u,J,X,N,oe,Ee,Le,Pe,Tt,0,0,0,0,0,0,0,0,0,-yt,void 0);return Gy(t,new zt(Zt.year,Zt.month,Zt.day,Zt.hour,Zt.minute,Zt.second,Zt.millisecond,Zt.microsecond,Zt.nanosecond,Tt))[0]}case"compatible":case"later":{const Tt=Re(n,Yn),zt=xr("%Temporal.PlainDateTime%"),Zt=PE(l,u,J,X,N,oe,Ee,Le,Pe,Tt,0,0,0,0,0,0,0,0,0,yt,void 0),cn=Gy(t,new zt(Zt.year,Zt.month,Zt.day,Zt.hour,Zt.minute,Zt.second,Zt.millisecond,Zt.microsecond,Zt.nanosecond,Tt));return cn[cn.length-1]}case"reject":throw new RangeError("no such instant found")}}function Gy(r,t,n){if("string"==typeof r){const y=new(xr("%Temporal.TimeZone%"))(r);return ei(xr("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),y,[t])}const o=ei(n??go(r,"getPossibleInstantsFor"),r,[t]),p=[];for(const y of o){if(!aa(y))throw new TypeError("bad return from getPossibleInstantsFor");fE.call(p,y)}return p}function R0(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${bs(r)}`.slice(-6):`0000${r}`.slice(-4),t}function ls(r){return`00${r}`.slice(-2)}function O0(r,t,n,o,p){if("minute"===p)return"";const y=`:${ls(r)}`;let l,u=1e6*t+1e3*n+o;if("auto"===p){if(0===u)return y;for(l=`${u}`.padStart(9,"0");"0"===l[l.length-1];)l=l.slice(0,-1)}else{if(0===p)return y;l=`${u}`.padStart(9,"0").slice(0,p)}return`${y}.${l}`}function Xw(r,t,n){let o=t;void 0===o&&(o="UTC");const p=Md(o,r,"iso8601"),y=R0(Re(p,$r)),l=ls(Re(p,Hr)),u=ls(Re(p,Xr)),J=ls(Re(p,qi)),X=ls(Re(p,Qi)),N=O0(Re(p,zi),Re(p,Hi),Re(p,Wi),Re(p,Zi),n);let oe="Z";return void 0!==t&&(oe=TI(zc(o,r))),`${y}-${l}-${u}T${J}:${X}${N}${oe}`}function Zy(r,t="auto",n){function o(kn){return kn<=Rw?kn.toString(10):Mt.BigInt(kn).toString(10)}const p=Re(r,Fc),y=Re(r,Ra),l=Re(r,va),u=Re(r,ba),J=Re(r,vc),X=Re(r,jc);let N=Re(r,Za),oe=Re(r,bc),Ee=Re(r,$c),Le=Re(r,wc);const Pe=Gl(p,y,l,u,J,X,N,oe,Ee,Le);if(n){const{unit:kn,increment:Jn,roundingMode:tr}=n;({seconds:N,milliseconds:oe,microseconds:Ee,nanoseconds:Le}=Yl(0,0,0,0,0,0,N,oe,Ee,Le,Jn,kn,tr))}const Ye=[];p&&Ye.push(`${o(bs(p))}Y`),y&&Ye.push(`${o(bs(y))}M`),l&&Ye.push(`${o(bs(l))}W`),u&&Ye.push(`${o(bs(u))}D`);const mt=[];J&&mt.push(`${o(bs(J))}H`),X&&mt.push(`${o(bs(X))}M`);const St=[];let gt,yt,Tt,zt,Zt=L0(0,0,0,N,oe,Ee,Le,0);({quotient:Zt,remainder:gt}=Xs(Zt,mo)),({quotient:Zt,remainder:yt}=Xs(Zt,mo)),({quotient:zt,remainder:Tt}=Xs(Zt,mo));const cn=1e6*bs(Mt.toNumber(Tt))+1e3*bs(Mt.toNumber(yt))+bs(Mt.toNumber(gt));let $t;if("auto"===t){if(0!==cn)for($t=`${cn}`.padStart(9,"0");"0"===$t[$t.length-1];)$t=$t.slice(0,-1)}else 0!==t&&($t=`${cn}`.padStart(9,"0").slice(0,t));return $t&&St.unshift(".",$t),Mt.equal(zt,Bo)&&!St.length&&"auto"===t||St.unshift(Kl(zt).toString()),St.length&&mt.push(`${St.join("")}S`),mt.length&&mt.unshift("T"),Ye.length||mt.length?`${Pe<0?"-":""}P${Ye.join("")}${mt.join("")}`:"PT0S"}function Hl(r,t="auto"){return`${R0(Re(r,$r))}-${ls(Re(r,Hr))}-${ls(Re(r,Xr))}${hE(Re(r,Yn),t)}`}function II(r,t,n="auto",o){let p=Re(r,$r),y=Re(r,Hr),l=Re(r,Xr),u=Re(r,qi),J=Re(r,Qi),X=Re(r,zi),N=Re(r,Hi),oe=Re(r,Wi),Ee=Re(r,Zi);if(o){const{unit:Le,increment:Pe,roundingMode:Ye}=o;({year:p,month:y,day:l,hour:u,minute:J,second:X,millisecond:N,microsecond:oe,nanosecond:Ee}=tv(p,y,l,u,J,X,N,oe,Ee,Pe,Le,Ye))}return`${R0(p)}-${ls(y)}-${ls(l)}T${ls(u)}:${ls(J)}${O0(X,N,oe,Ee,t)}${hE(Re(r,Yn),n)}`}function _E(r,t="auto"){let n=`${ls(Re(r,Hr))}-${ls(Re(r,Xr))}`;const o=Ja(Re(r,Yn));("always"===t||"critical"===t||"iso8601"!==o)&&(n=`${R0(Re(r,$r))}-${n}`);const p=pE(o,t);return p&&(n+=p),n}function Wl(r,t="auto"){let n=`${R0(Re(r,$r))}-${ls(Re(r,Hr))}`;const o=Ja(Re(r,Yn));("always"===t||"critical"===t||"iso8601"!==o)&&(n+=`-${ls(Re(r,Xr))}`);const p=pE(o,t);return p&&(n+=p),n}function cl(r,t,n="auto",o="auto",p="auto",y){let l=Re(r,yc);if(y){const{unit:N,increment:oe,roundingMode:Ee}=y,Le=U0(Re(r,yi),oe,N,Ee);l=new(xr("%Temporal.Instant%"))(Le)}const u=Re(r,jo),J=Md(u,l,"iso8601");let X=`${R0(Re(J,$r))}-${ls(Re(J,Hr))}-${ls(Re(J,Xr))}T${ls(Re(J,qi))}:${ls(Re(J,Qi))}${O0(Re(J,zi),Re(J,Hi),Re(J,Wi),Re(J,Zi),t)}`;return"never"!==p&&(X+=TI(zc(u,l))),"never"!==o&&(X+=`[${"critical"===o?"!":""}${Wy(u)}]`),X+=hE(Re(r,Yn),n),X}function Hc(r){return VI.test(Pw(r))}function Sf(r){const t=VI.exec(Pw(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function Jw(r){return Hc(r)?qw(Sf(r)):Fw(Pw(r)).resolvedOptions().timeZone}function Df(r,t){const{year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N}=N0(r,t),oe=n%400,Ee=(n-oe)/400,Le=Mt.multiply(Mt.BigInt(146097),$l),Pe=Eh(oe,o,p,y,l,u,J,X,N),Ye=Mt.add(Pe,Mt.multiply(Le,Mt.BigInt(Ee)));return Mt.toNumber(Mt.subtract(Ye,t))}function qw(r){const t=r<0?"-":"+",n=bs(r),o=n%1e9,p=_c(n/1e9)%60,y=_c(n/6e10)%60,l=ls(_c(n/36e11)),u=ls(y),J=ls(p);let X="";if(o){let N=`${o}`.padStart(9,"0");for(;"0"===N[N.length-1];)N=N.slice(0,-1);X=`:${J}.${N}`}else p&&(X=`:${J}`);return`${t}${l}:${u}${X}`}function TI(r){let t=Mt.toNumber(dd(Mt.BigInt(r),Ow,"halfExpand"));const n=t<0?"-":"+";t=bs(t);const o=t/6e10%60;return`${n}${ls(_c(t/36e11))}:${ls(o)}`}function Eh(r,t,n,o,p,y,l,u,J){const X=new Date;X.setUTCHours(o,p,y,l),X.setUTCFullYear(r,t-1,n);const N=X.getTime();if(Oy(N))return null;let oe=Mt.multiply(Mt.BigInt(N),Vs);return oe=Mt.add(oe,Mt.multiply(Mt.BigInt(u),mo)),oe=Mt.add(oe,Mt.BigInt(J)),Mt.lessThan(oe,g0)||Mt.greaterThan(oe,y0)?null:oe}function Qw(r){const{quotient:t,remainder:n}=Xs(r,Vs);let o=Mt.toNumber(t),p=Mt.toNumber(n);p<0&&(p+=1e6,o-=1);const y=_c(p/1e3)%1e3,l=p%1e3,u=new Date(o);return{epochMilliseconds:o,year:u.getUTCFullYear(),month:u.getUTCMonth()+1,day:u.getUTCDate(),hour:u.getUTCHours(),minute:u.getUTCMinutes(),second:u.getUTCSeconds(),millisecond:u.getUTCMilliseconds(),microsecond:y,nanosecond:l}}function N0(r,t){const{epochMilliseconds:n,millisecond:o,microsecond:p,nanosecond:y}=Qw(t),{year:l,month:u,day:J,hour:X,minute:N,second:oe}=(Pe=n,function(St){const gt=St.split(/[^\w]+/);if(7!==gt.length)throw new RangeError(`expected 7 parts in "${St}`);const yt=+gt[0],Tt=+gt[1];let zt=+gt[2];const Zt=gt[3].toUpperCase();if("B"===Zt||"BC"===Zt)zt=1-zt;else if("A"!==Zt&&"AD"!==Zt)throw new RangeError(`Unknown era ${Zt} in "${St}`);let cn=+gt[4];24===cn&&(cn=0);const $t=+gt[5],kn=+gt[6];if(!(ja(zt)&&ja(yt)&&ja(Tt)&&ja(cn)&&ja($t)&&ja(kn)))throw new RangeError(`Invalid number in "${St}`);return{year:zt,month:yt,day:Tt,hour:cn,minute:$t,second:kn}}(Fw(r).format(new Date(Pe))));var Pe;return SE(l,u,J,X,N,oe,o,p,y)}function AI(r,t){return Mt.lessThan(r,t)?t:r}function EE(){return Mt.add(OE(),p5)}function CI(r,t){if(Mt.lessThan(t,Tp))return CI(r,Tp);const n=Mt.add(t,ua),o=AI(EE(),n);let p=AI(Tp,t);const y=Df(r,p);let l=p,u=y;for(;y===u&&Mt.lessThan(Mt.BigInt(p),o);){if(l=Mt.add(p,v0),Mt.greaterThan(l,y0))return null;u=Df(r,l),y===u&&(p=l)}return y===u?null:F0(J=>Df(r,J),p,l,y,u)}function xE(r,t){const n=EE(),o=Mt.greaterThan(t,n),p=o?Mt.subtract(t,ua):Tp;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const X=Re(sl("2088-01-01T00Z"),yi);if(Mt.lessThan(X,t))return xE(r,X)}let y=Mt.subtract(t,Cu);if(Mt.lessThan(y,Tp))return null;const l=Df(r,y);let u=y,J=l;for(;l===J&&Mt.greaterThan(y,p);){if(u=Mt.subtract(y,v0),Mt.lessThan(u,Tp))return null;J=Df(r,u),l===J&&(y=u)}if(l===J){if(o){const X=Mt.subtract(n,$l);return xE(r,X)}return null}return F0(X=>Df(r,X),u,y,J,l)}function If(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function Bu(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[If(r)?"leapyear":"standard"][t-1]}function B0(r,t,n){const o=t+(t<3?10:-2),p=r-(t<3?1:0),y=_c(p/100),l=p-100*y,u=(n+_c(2.6*o-.2)+(l+_c(l/4))+(_c(y/4)-2*y))%7;return u+(u<=0?7:0)}function e_(r,t,n){let o=n;for(let p=t-1;p>0;p--)o+=Bu(r,p);return o}function ME(r,t,n){const o=e_(r,t,n),p=B0(r,t,n)||7,y=B0(r,1,1),l=_c((o-p+10)/7);return l<1?5===y||6===y&&If(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===l&&(If(r)?366:365)-o<4-p?{week:1,year:r+1}:{week:l,year:r}}function Gl(r,t,n,o,p,y,l,u,J,X){for(const N of[r,t,n,o,p,y,l,u,J,X])if(0!==N)return N<0?-1:1;return 0}function t_(r,t){let n=r,o=t;if(!ja(n)||!ja(o))throw new RangeError("infinity is out of range");return o-=1,n+=_c(o/12),o%=12,o<0&&(o+=12),o+=1,{year:n,month:o}}function n_(r,t,n){let o=r,p=t,y=n;if(!ja(y))throw new RangeError("infinity is out of range");({year:o,month:p}=t_(o,p));const l=146097;if(bs(y)>l){const X=Ip(y/l);o+=400*X,y-=X*l}let u=0,J=p>2?o:o-1;for(;u=If(J)?366:365,y<-u;)o-=1,J-=1,y+=u;for(J+=1;u=If(J)?366:365,y>u;)o+=1,J+=1,y-=u;for(;y<1;)({year:o,month:p}=t_(o,p-1)),y+=Bu(o,p);for(;y>Bu(o,p);)y-=Bu(o,p),({year:o,month:p}=t_(o,p+1));return{year:o,month:p,day:y}}function SE(r,t,n,o,p,y,l,u,J){const{deltaDays:X,hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Ye}=Tf(o,p,y,l,u,J),{year:mt,month:St,day:gt}=n_(r,t,n+X);return{year:mt,month:St,day:gt,hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Ye}}function Tf(r,t,n,o,p,y){let l,u=Mt.BigInt(r),J=Mt.BigInt(t),X=Mt.BigInt(n),N=Mt.BigInt(o),oe=Mt.BigInt(p),Ee=Mt.BigInt(y);return({quotient:l,remainder:Ee}=Mh(Ee,mo)),oe=Mt.add(oe,l),({quotient:l,remainder:oe}=Mh(oe,mo)),N=Mt.add(N,l),({quotient:l,remainder:N}=Mh(N,mo)),X=Mt.add(X,l),({quotient:l,remainder:X}=Mh(X,cs)),J=Mt.add(J,l),({quotient:l,remainder:J}=Mh(J,cs)),u=Mt.add(u,l),({quotient:l,remainder:u}=Mh(u,wh)),{deltaDays:Mt.toNumber(l),hour:Mt.toNumber(u),minute:Mt.toNumber(J),second:Mt.toNumber(X),millisecond:Mt.toNumber(N),microsecond:Mt.toNumber(oe),nanosecond:Mt.toNumber(Ee)}}function L0(r,t,n,o,p,y,l,u){const J=Mt.BigInt(r);let X=Mt.BigInt(l);0!==r&&(X=Mt.subtract(Mt.BigInt(l),Mt.BigInt(u)));const N=Mt.add(Mt.BigInt(t),Mt.multiply(J,Mt.BigInt(24))),oe=Mt.add(Mt.BigInt(n),Mt.multiply(N,cs)),Ee=Mt.add(Mt.BigInt(o),Mt.multiply(oe,cs)),Le=Mt.add(Mt.BigInt(p),Mt.multiply(Ee,mo)),Pe=Mt.add(Mt.BigInt(y),Mt.multiply(Le,mo));return Mt.add(Mt.BigInt(X),Mt.multiply(Pe,mo))}function DE(r,t){const n=xr("%Temporal.Instant%"),o=bh(Mt.toNumber(r));let p=Mt.BigInt(r),y=864e11;if(0===o)return{days:0,nanoseconds:Bo,dayLengthNs:y};if(!Zr(t)){let yt;return({quotient:yt,remainder:p}=Xs(p,Mt.BigInt(y))),{days:Mt.toNumber(yt),nanoseconds:p,dayLengthNs:y}}const l=Re(t,yi),u=Re(t,yc),J=Mt.add(l,p),X=new n(J),N=Re(t,jo),oe=Re(t,Yn),Ee=Md(N,u,oe),Le=Md(N,X,oe);let{days:Pe}=BI(Re(Ee,$r),Re(Ee,Hr),Re(Ee,Xr),Re(Ee,qi),Re(Ee,Qi),Re(Ee,zi),Re(Ee,Hi),Re(Ee,Wi),Re(Ee,Zi),Re(Le,$r),Re(Le,Hr),Re(Le,Xr),Re(Le,qi),Re(Le,Qi),Re(Le,zi),Re(Le,Hi),Re(Le,Wi),Re(Le,Zi),oe,"day",Ya(null)),Ye=Fd(u,N,oe,0,0,0,Pe,0,0,0,0,0,0),mt=Mt.BigInt(Pe);if(1===o)for(;Mt.greaterThan(mt,Bo)&&Mt.greaterThan(Ye,J);)mt=Mt.subtract(mt,Cu),Ye=Fd(u,N,oe,0,0,0,Mt.toNumber(mt),0,0,0,0,0,0);p=Mt.subtract(J,Ye);let St=!1,gt=new n(Ye);do{const yt=Fd(gt,N,oe,0,0,0,o,0,0,0,0,0,0),Tt=Re(gt,yi);y=Mt.toNumber(Mt.subtract(yt,Tt)),St=Mt.greaterThanOrEqual(Mt.multiply(Mt.subtract(p,Mt.BigInt(y)),Mt.BigInt(o)),Bo),St&&(p=Mt.subtract(p,Mt.BigInt(y)),gt=new n(yt),mt=Mt.add(mt,Mt.BigInt(o)))}while(St);if(!Kc(mt)&&_I(mt)!==o)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!Kc(p)&&_I(p)!==o)throw Vc(p)&&1===o?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(Mt.greaterThanOrEqual(Kl(p),Kl(Mt.BigInt(y))))throw new Error("assert not reached");return{days:Mt.toNumber(mt),nanoseconds:p,dayLengthNs:bs(y)}}function dl(r,t,n,o,p,y,l,u,J){let X=kI(r,t,n,o,p,y,l,u,J);if("positive overflow"===X||"negative overflow"===X)throw new RangeError("Duration out of range");return X}function kI(r,t,n,o,p,y,l,u,J){let X,N,oe,Ee,Le,Pe,Ye=r;if(Zr(J)){const cn=Fd(Re(J,yc),Re(J,jo),Re(J,Yn),0,0,0,Ye,t,n,o,p,y,l),$t=Re(J,yi);X=Mt.subtract(cn,$t)}else X=L0(Ye,t,n,o,p,y,l,0);"year"===u||"month"===u||"week"===u||"day"===u?({days:Ye,nanoseconds:X}=DE(X,J)):Ye=0;const mt=Mt.lessThan(X,Bo)?-1:1;switch(X=Kl(X),N=oe=Ee=Le=Pe=Bo,u){case"year":case"month":case"week":case"day":case"hour":({quotient:N,remainder:X}=Xs(X,mo)),({quotient:oe,remainder:N}=Xs(N,mo)),({quotient:Ee,remainder:oe}=Xs(oe,mo)),({quotient:Le,remainder:Ee}=Xs(Ee,cs)),({quotient:Pe,remainder:Le}=Xs(Le,cs));break;case"minute":({quotient:N,remainder:X}=Xs(X,mo)),({quotient:oe,remainder:N}=Xs(N,mo)),({quotient:Ee,remainder:oe}=Xs(oe,mo)),({quotient:Le,remainder:Ee}=Xs(Ee,cs));break;case"second":({quotient:N,remainder:X}=Xs(X,mo)),({quotient:oe,remainder:N}=Xs(N,mo)),({quotient:Ee,remainder:oe}=Xs(oe,mo));break;case"millisecond":({quotient:N,remainder:X}=Xs(X,mo)),({quotient:oe,remainder:N}=Xs(N,mo));break;case"microsecond":({quotient:N,remainder:X}=Xs(X,mo));break;case"nanosecond":break;default:throw new Error("assert not reached")}const St=Mt.toNumber(Pe)*mt,gt=Mt.toNumber(Le)*mt,yt=Mt.toNumber(Ee)*mt,Tt=Mt.toNumber(oe)*mt,zt=Mt.toNumber(N)*mt,Zt=Mt.toNumber(X)*mt;for(const cn of[Ye,St,gt,yt,Tt,zt,Zt])if(!ja(cn))return 1===mt?"positive overflow":"negative overflow";return{days:Ye,hours:St,minutes:gt,seconds:yt,milliseconds:Tt,microseconds:zt,nanoseconds:Zt}}function r_(r,t,n,o,p,y){const l=xr("%Temporal.Duration%"),u=Gl(r,t,n,o,0,0,0,0,0,0);if(0===u)return{years:r,months:t,weeks:n,days:o};const J=Mt.BigInt(u);let X,N,oe=Mt.BigInt(r),Ee=Mt.BigInt(t),Le=Mt.BigInt(n),Pe=Mt.BigInt(o);y&&(N=Lo(y),X=Re(N,Yn));const Ye=new l(u),mt=new l(0,u),St=new l(0,0,u);switch(p){case"year":break;case"month":{if(!X)throw new RangeError("a starting point is required for months balancing");let gt,yt;for("string"!=typeof X&&(gt=go(X,"dateAdd"),yt=go(X,"dateUntil"));!Kc(oe);){const Tt=Qs(X,N,Ye,void 0,gt),zt=Ya(null);zt.largestUnit="month";const Zt=xf(X,N,Tt,zt,yt),cn=Mt.BigInt(Re(Zt,Ra));N=Tt,Ee=Mt.add(Ee,cn),oe=Mt.subtract(oe,J)}}break;case"week":{if(!X)throw new RangeError("a starting point is required for weeks balancing");const gt="string"!=typeof X?go(X,"dateAdd"):void 0;for(;!Kc(oe);){let yt;({relativeTo:N,days:yt}=ec(X,N,Ye,gt)),Pe=Mt.add(Pe,Mt.BigInt(yt)),oe=Mt.subtract(oe,J)}for(;!Kc(Ee);){let yt;({relativeTo:N,days:yt}=ec(X,N,mt,gt)),Pe=Mt.add(Pe,Mt.BigInt(yt)),Ee=Mt.subtract(Ee,J)}break}default:{if(Kc(oe)&&Kc(Ee)&&Kc(Le))break;if(!X)throw new RangeError("a starting point is required for balancing calendar units");const gt="string"!=typeof X?go(X,"dateAdd"):void 0;for(;!Kc(oe);){let yt;({relativeTo:N,days:yt}=ec(X,N,Ye,gt)),Pe=Mt.add(Pe,Mt.BigInt(yt)),oe=Mt.subtract(oe,J)}for(;!Kc(Ee);){let yt;({relativeTo:N,days:yt}=ec(X,N,mt,gt)),Pe=Mt.add(Pe,Mt.BigInt(yt)),Ee=Mt.subtract(Ee,J)}for(;!Kc(Le);){let yt;({relativeTo:N,days:yt}=ec(X,N,St,gt)),Pe=Mt.add(Pe,Mt.BigInt(yt)),Le=Mt.subtract(Le,J)}break}}return{years:Mt.toNumber(oe),months:Mt.toNumber(Ee),weeks:Mt.toNumber(Le),days:Mt.toNumber(Pe)}}function PI(r,t,n,o,p){if(Zr(r)){const y=Re(r,yc),l=Re(r,jo),u=Re(r,Yn),J=zc(l,y),X=Fd(y,l,u,t,n,o,p,0,0,0,0,0,0);return zc(l,new(xr("%Temporal.Instant%"))(X))-J}return 0}function i_(r){return new(xr("%Temporal.Duration%"))(-Re(r,Fc),-Re(r,Ra),-Re(r,va),-Re(r,ba),-Re(r,vc),-Re(r,jc),-Re(r,Za),-Re(r,bc),-Re(r,$c),-Re(r,wc))}function Sd(r,t,n){return wI(n,d5(t,r))}function RI(r,t,n){const o=Sd(t,1,12);return{year:r,month:o,day:Sd(n,1,Bu(r,o))}}function _a(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function Zl(r,t,n){_a(t,1,12),_a(n,1,Bu(r,t))}function IE(r,t,n){OI(r,t,n,12,0,0,0,0,0)}function Yy(r,t,n,o,p,y){_a(r,0,23),_a(t,0,59),_a(n,0,59),_a(o,0,999),_a(p,0,999),_a(y,0,999)}function o_(r,t,n,o,p,y,l,u,J){Zl(r,t,n),Yy(o,p,y,l,u,J)}function OI(r,t,n,o,p,y,l,u,J){if(_a(r,Nw,Zs),r===Nw&&null==Eh(r,t,n+1,o,p,y,l,u,J-1)||r===Zs&&null==Eh(r,t,n-1,o,p,y,l,u,J+1))throw new RangeError("DateTime outside of supported range")}function xh(r){if(Mt.lessThan(r,g0)||Mt.greaterThan(r,y0))throw new RangeError("Instant outside of supported range")}function Xy(r,t,n,o,p,y,l,u,J,X){const N=Gl(r,t,n,o,p,y,l,u,J,X);for(const oe of[r,t,n,o,p,y,l,u,J,X]){if(!ja(oe))throw new RangeError("infinite values not allowed as duration fields");const Ee=bh(oe);if(0!==Ee&&Ee!==N)throw new RangeError("mixed-sign values not allowed as duration fields")}}function TE(r,t,n,o,p,y,l){switch(l){case"year":case"month":{const u=-Wp(r,t,n,o,p,y);if(0===u)return{years:0,months:0,weeks:0,days:0};const J={year:r,month:t,day:n},X={year:o,month:p,day:y};let N=X.year-J.year,oe=Lu(r,t,n,N,0,0,0,"constrain"),Ee=-Wp(oe.year,oe.month,oe.day,o,p,y);if(0===Ee)return"year"===l?{years:N,months:0,weeks:0,days:0}:{years:0,months:12*N,weeks:0,days:0};let Le=X.month-J.month;if(Ee!==u&&(N-=u,Le+=12*u),oe=Lu(r,t,n,N,Le,0,0,"constrain"),Ee=-Wp(oe.year,oe.month,oe.day,o,p,y),0===Ee)return"year"===l?{years:N,months:Le,weeks:0,days:0}:{years:0,months:Le+12*N,weeks:0,days:0};Ee!==u&&(Le-=u,Le===-u&&(N-=u,Le=11*u),oe=Lu(r,t,n,N,Le,0,0,"constrain"));let Pe=0;return Pe=oe.month===X.month?X.day-oe.day:u<0?-oe.day-(Bu(X.year,X.month)-X.day):X.day+(Bu(oe.year,oe.month)-oe.day),"month"===l&&(Le+=12*N,N=0),{years:N,months:Le,weeks:0,days:Pe}}case"week":case"day":{let u,J,X;Wp(r,t,n,o,p,y)<0?(J={year:r,month:t,day:n},u={year:o,month:p,day:y},X=1):(J={year:o,month:p,day:y},u={year:r,month:t,day:n},X=-1);let N=e_(u.year,u.month,u.day)-e_(J.year,J.month,J.day);for(let Ee=J.year;Ee<u.year;++Ee)N+=If(Ee)?366:365;let oe=0;return"week"===l&&(oe=_c(N/7),N%=7),oe*=X,N*=X,{years:0,months:0,weeks:oe,days:N}}default:throw new Error("assert not reached")}}function AE(r,t,n,o,p,y,l,u,J,X,N,oe){let Ee=l-r,Le=u-t,Pe=J-n,Ye=X-o,mt=N-p,St=oe-y;const gt=Gl(0,0,0,0,Ee,Le,Pe,Ye,mt,St);Ee*=gt,Le*=gt,Pe*=gt,Ye*=gt,mt*=gt,St*=gt;let yt=0;if(({deltaDays:yt,hour:Ee,minute:Le,second:Pe,millisecond:Ye,microsecond:mt,nanosecond:St}=Tf(Ee,Le,Pe,Ye,mt,St)),0!=yt)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return Ee*=gt,Le*=gt,Pe*=gt,Ye*=gt,mt*=gt,St*=gt,{hours:Ee,minutes:Le,seconds:Pe,milliseconds:Ye,microseconds:mt,nanoseconds:St}}function NI(r,t,n,o,p,y){const l=Mt.subtract(t,r);let u=0,J=0,X=Mt.toNumber(Mt.remainder(l,mo)),N=Mt.toNumber(Mt.remainder(Mt.divide(l,mo),mo)),oe=Mt.toNumber(Mt.remainder(Mt.divide(l,Vs),mo)),Ee=Mt.toNumber(Mt.divide(l,sd));return({hours:u,minutes:J,seconds:Ee,milliseconds:oe,microseconds:N,nanoseconds:X}=Yl(0,0,0,0,0,0,Ee,oe,N,X,n,o,y)),dl(0,u,J,Ee,oe,N,X,p)}function BI(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe,Ye,mt,St,gt,yt,Tt){let zt=r,Zt=t,cn=n,{hours:$t,minutes:kn,seconds:Jn,milliseconds:tr,microseconds:dr,nanoseconds:Zn}=AE(o,p,y,l,u,J,Ee,Le,Pe,Ye,mt,St);const Gn=Gl(0,0,0,0,$t,kn,Jn,tr,dr,Zn);Wp(X,N,oe,zt,Zt,cn)===-Gn&&(({year:zt,month:Zt,day:cn}=n_(zt,Zt,cn-Gn)),({hours:$t,minutes:kn,seconds:Jn,milliseconds:tr,microseconds:dr,nanoseconds:Zn}=dl(-Gn,$t,kn,Jn,tr,dr,Zn,yt)));const Kn=xd(zt,Zt,cn,gt),qn=xd(X,N,oe,gt),Pn=Op("day",yt),br=Xl(Tt);br.largestUnit=Pn;let{years:Wr,months:Ar,weeks:ai,days:io}=xf(gt,Kn,qn,br);return({days:io,hours:$t,minutes:kn,seconds:Jn,milliseconds:tr,microseconds:dr,nanoseconds:Zn}=dl(io,$t,kn,Jn,tr,dr,Zn,yt)),{years:Wr,months:Ar,weeks:ai,days:io,hours:$t,minutes:kn,seconds:Jn,milliseconds:tr,microseconds:dr,nanoseconds:Zn}}function LI(r,t,n,o,p,y){const l=Mt.subtract(t,r);if(Mt.equal(l,Bo))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const u=xr("%Temporal.Instant%"),J=new u(r),X=new u(t),N=Md(n,J,o),oe=Md(n,X,o);let{years:Ee,months:Le,weeks:Pe,days:Ye}=BI(Re(N,$r),Re(N,Hr),Re(N,Xr),Re(N,qi),Re(N,Qi),Re(N,zi),Re(N,Hi),Re(N,Wi),Re(N,Zi),Re(oe,$r),Re(oe,Hr),Re(oe,Xr),Re(oe,qi),Re(oe,Qi),Re(oe,zi),Re(oe,Hi),Re(oe,Wi),Re(oe,Zi),o,p,y);const mt=Fd(J,n,o,Ee,Le,Pe,0,0,0,0,0,0,0);let St=Mt.subtract(t,mt);const gt=qs(mt,n,o);({nanoseconds:St,days:Ye}=DE(St,gt));const{hours:yt,minutes:Tt,seconds:zt,milliseconds:Zt,microseconds:cn,nanoseconds:$t}=dl(0,0,0,0,0,0,Mt.toNumber(St),"hour");return{years:Ee,months:Le,weeks:Pe,days:Ye,hours:yt,minutes:Tt,seconds:zt,milliseconds:Zt,microseconds:cn,nanoseconds:$t}}function zp(r,t,n,o,p,y){const l=w0.reduce((Le,Pe)=>{const Ye=Pe[0],mt=Pe[1];return"datetime"!==n&&Pe[2]!==n||o.includes(mt)||Le.push(mt,Ye),Le},[]);let u=ad(t,"largestUnit",n,"auto");if(o.includes(u))throw new RangeError(`largestUnit must be one of ${l.join(", ")}, not ${u}`);const J=x0(t);let X=zl(t,"trunc");"since"===r&&(X=function(Pe){switch(Pe){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Pe}}(X));const N=ad(t,"smallestUnit",n,p);if(o.includes(N))throw new RangeError(`smallestUnit must be one of ${l.join(", ")}, not ${N}`);const oe=Op(y,N);if("auto"===u&&(u=oe),Op(u,N)!==u)throw new RangeError(`largestUnit ${u} cannot be smaller than smallestUnit ${N}`);const Ee={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[N];return void 0!==Ee&&M0(J,Ee,!1),{largestUnit:u,roundingIncrement:J,roundingMode:X,smallestUnit:N}}function Jy(r,t,n,o){const p="since"===r?-1:1,y=sl(n),l=zp(r,Xl(o),"time",[],"nanosecond","second"),u=Re(t,yi),J=Re(y,yi);let{hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=NI(u,J,l.roundingIncrement,l.smallestUnit,l.largestUnit,l.roundingMode);return new(xr("%Temporal.Duration%"))(0,0,0,0,p*X,p*N,p*oe,p*Ee,p*Le,p*Pe)}function UI(r,t,n,o){const p="since"===r?-1:1,y=Lo(n),l=Re(t,Yn);Zw(l,Re(y,Yn),"compute difference between dates");const u=Xl(o),J=zp(r,u,"date",[],"day","day");u.largestUnit=J.largestUnit;let{years:X,months:N,weeks:oe,days:Ee}=xf(l,t,y,u);return"day"===J.smallestUnit&&1===J.roundingIncrement||({years:X,months:N,weeks:oe,days:Ee}=Yl(X,N,oe,Ee,0,0,0,0,0,0,J.roundingIncrement,J.smallestUnit,J.roundingMode,t)),new(xr("%Temporal.Duration%"))(p*X,p*N,p*oe,p*Ee,0,0,0,0,0,0)}function FI(r,t,n,o){const p="since"===r?-1:1,y=Ed(n),l=Re(t,Yn);Zw(l,Re(y,Yn),"compute difference between dates");const u=Xl(o),J=zp(r,u,"datetime",[],"nanosecond","day");let{years:X,months:N,weeks:oe,days:Ee,hours:Le,minutes:Pe,seconds:Ye,milliseconds:mt,microseconds:St,nanoseconds:gt}=BI(Re(t,$r),Re(t,Hr),Re(t,Xr),Re(t,qi),Re(t,Qi),Re(t,zi),Re(t,Hi),Re(t,Wi),Re(t,Zi),Re(y,$r),Re(y,Hr),Re(y,Xr),Re(y,qi),Re(y,Qi),Re(y,zi),Re(y,Hi),Re(y,Wi),Re(y,Zi),l,J.largestUnit,u);const yt=Vp(t);return({years:X,months:N,weeks:oe,days:Ee,hours:Le,minutes:Pe,seconds:Ye,milliseconds:mt,microseconds:St,nanoseconds:gt}=Yl(X,N,oe,Ee,Le,Pe,Ye,mt,St,gt,J.roundingIncrement,J.smallestUnit,J.roundingMode,yt)),({days:Ee,hours:Le,minutes:Pe,seconds:Ye,milliseconds:mt,microseconds:St,nanoseconds:gt}=dl(Ee,Le,Pe,Ye,mt,St,gt,J.largestUnit)),new(xr("%Temporal.Duration%"))(p*X,p*N,p*oe,p*Ee,p*Le,p*Pe,p*Ye,p*mt,p*St,p*gt)}function s_(r,t,n,o){const p="since"===r?-1:1,y=ku(n),l=zp(r,Xl(o),"time",[],"nanosecond","hour");let{hours:u,minutes:J,seconds:X,milliseconds:N,microseconds:oe,nanoseconds:Ee}=AE(Re(t,qi),Re(t,Qi),Re(t,zi),Re(t,Hi),Re(t,Wi),Re(t,Zi),Re(y,qi),Re(y,Qi),Re(y,zi),Re(y,Hi),Re(y,Wi),Re(y,Zi));return({hours:u,minutes:J,seconds:X,milliseconds:N,microseconds:oe,nanoseconds:Ee}=Yl(0,0,0,0,u,J,X,N,oe,Ee,l.roundingIncrement,l.smallestUnit,l.roundingMode)),({hours:u,minutes:J,seconds:X,milliseconds:N,microseconds:oe,nanoseconds:Ee}=dl(0,u,J,X,N,oe,Ee,l.largestUnit)),new(xr("%Temporal.Duration%"))(0,0,0,0,p*u,p*J,p*X,p*N,p*oe,p*Ee)}function jI(r,t,n,o){const p="since"===r?-1:1,y=I0(n),l=Re(t,Yn);Zw(l,Re(y,Yn),"compute difference between months");const u=Xl(o),J=zp(r,u,"date",["week","day"],"month","year");u.largestUnit=J.largestUnit;const X=Es(l,["monthCode","year"]),N=ro(t,X,[]);N.day=1;const oe=Mf(l,N),Ee=ro(y,X,[]);Ee.day=1;const Le=Mf(l,Ee);let{years:Pe,months:Ye}=xf(l,oe,Le,u);return"month"===J.smallestUnit&&1===J.roundingIncrement||({years:Pe,months:Ye}=Yl(Pe,Ye,0,0,0,0,0,0,0,0,J.roundingIncrement,J.smallestUnit,J.roundingMode,oe)),new(xr("%Temporal.Duration%"))(p*Pe,p*Ye,0,0,0,0,0,0,0,0)}function qy(r,t,n,o){const p="since"===r?-1:1,y=Np(n),l=Re(t,Yn);Zw(l,Re(y,Yn),"compute difference between dates");const u=Xl(o),J=zp(r,u,"datetime",[],"nanosecond","hour");u.largestUnit=J.largestUnit;const X=Re(t,yi),N=Re(y,yi);let oe,Ee,Le,Pe,Ye,mt,St,gt,yt,Tt;if("year"!==J.largestUnit&&"month"!==J.largestUnit&&"week"!==J.largestUnit&&"day"!==J.largestUnit)oe=0,Ee=0,Le=0,Pe=0,({hours:Ye,minutes:mt,seconds:St,milliseconds:gt,microseconds:yt,nanoseconds:Tt}=NI(X,N,J.roundingIncrement,J.smallestUnit,J.largestUnit,J.roundingMode));else{const zt=Re(t,jo);if(!SI(zt,Re(y,jo)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:oe,months:Ee,weeks:Le,days:Pe,hours:Ye,minutes:mt,seconds:St,milliseconds:gt,microseconds:yt,nanoseconds:Tt}=LI(X,N,zt,l,J.largestUnit,u)),({years:oe,months:Ee,weeks:Le,days:Pe,hours:Ye,minutes:mt,seconds:St,milliseconds:gt,microseconds:yt,nanoseconds:Tt}=Yl(oe,Ee,Le,Pe,Ye,mt,St,gt,yt,Tt,J.roundingIncrement,J.smallestUnit,J.roundingMode,t)),({years:oe,months:Ee,weeks:Le,days:Pe,hours:Ye,minutes:mt,seconds:St,milliseconds:gt,microseconds:yt,nanoseconds:Tt}=g5(oe,Ee,Le,Pe,Ye,mt,St,gt,yt,Tt,J.roundingIncrement,J.smallestUnit,J.roundingMode,t))}return new(xr("%Temporal.Duration%"))(p*oe,p*Ee,p*Le,p*Pe,p*Ye,p*mt,p*St,p*gt,p*yt,p*Tt)}function Lu(r,t,n,o,p,y,l,u){let J=r,X=t,N=n,oe=y,Ee=l;return J+=o,X+=p,({year:J,month:X}=t_(J,X)),({year:J,month:X,day:N}=$w(J,X,N,u)),Ee+=7*oe,N+=Ee,({year:J,month:X,day:N}=n_(J,X,N)),{year:J,month:X,day:N}}function a_(r,t,n,o,p,y,l,u,J,X,N,oe){let Ee=r,Le=t,Pe=n,Ye=o,mt=p,St=y;Ee+=l,Le+=u,Pe+=J,Ye+=X,mt+=N,St+=oe;let gt=0;return({deltaDays:gt,hour:Ee,minute:Le,second:Pe,millisecond:Ye,microsecond:mt,nanosecond:St}=Tf(Ee,Le,Pe,Ye,mt,St)),{deltaDays:gt,hour:Ee,minute:Le,second:Pe,millisecond:Ye,microsecond:mt,nanosecond:St}}function CE(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe,Ye,mt,St,gt,yt,Tt){const zt=Op(gE(r,t,n,o,p,y,l,u,J,X),gE(N,oe,Ee,Le,Pe,Ye,mt,St,gt,yt));let Zt,cn,$t,kn,Jn,tr,dr,Zn,Gn,Kn;if(Tt)if(ao(Tt)){const qn=xr("%Temporal.Duration%"),Pn=Re(Tt,Yn),br=new qn(r,t,n,o,0,0,0,0,0,0),Wr=new qn(N,oe,Ee,Le,0,0,0,0,0,0),Ar="string"!=typeof Pn?go(Pn,"dateAdd"):void 0,ai=Qs(Pn,Tt,br,void 0,Ar),io=Qs(Pn,ai,Wr,void 0,Ar),Cn=Op("day",zt),hi=Ya(null);hi.largestUnit=Cn,({years:Zt,months:cn,weeks:$t,days:kn}=xf(Pn,Tt,io,hi)),({days:kn,hours:Jn,minutes:tr,seconds:dr,milliseconds:Zn,microseconds:Gn,nanoseconds:Kn}=dl(kn,Mt.add(Mt.BigInt(p),Mt.BigInt(Pe)),Mt.add(Mt.BigInt(y),Mt.BigInt(Ye)),Mt.add(Mt.BigInt(l),Mt.BigInt(mt)),Mt.add(Mt.BigInt(u),Mt.BigInt(St)),Mt.add(Mt.BigInt(J),Mt.BigInt(gt)),Mt.add(Mt.BigInt(X),Mt.BigInt(yt)),zt))}else{const qn=xr("%Temporal.Instant%"),Pn=Re(Tt,jo),br=Re(Tt,Yn),Wr=Fd(Re(Tt,yc),Pn,br,r,t,n,o,p,y,l,u,J,X),Ar=Fd(new qn(Wr),Pn,br,N,oe,Ee,Le,Pe,Ye,mt,St,gt,yt);"year"!==zt&&"month"!==zt&&"week"!==zt&&"day"!==zt?(Zt=0,cn=0,$t=0,kn=0,({hours:Jn,minutes:tr,seconds:dr,milliseconds:Zn,microseconds:Gn,nanoseconds:Kn}=NI(Re(Tt,yi),Ar,1,"nanosecond",zt,"halfExpand"))):({years:Zt,months:cn,weeks:$t,days:kn,hours:Jn,minutes:tr,seconds:dr,milliseconds:Zn,microseconds:Gn,nanoseconds:Kn}=LI(Re(Tt,yi),Ar,Pn,br,zt,Ya(null)))}else{if("year"===zt||"month"===zt||"week"===zt)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");Zt=cn=$t=0,({days:kn,hours:Jn,minutes:tr,seconds:dr,milliseconds:Zn,microseconds:Gn,nanoseconds:Kn}=dl(o+Le,Mt.add(Mt.BigInt(p),Mt.BigInt(Pe)),Mt.add(Mt.BigInt(y),Mt.BigInt(Ye)),Mt.add(Mt.BigInt(l),Mt.BigInt(mt)),Mt.add(Mt.BigInt(u),Mt.BigInt(St)),Mt.add(Mt.BigInt(J),Mt.BigInt(gt)),Mt.add(Mt.BigInt(X),Mt.BigInt(yt)),zt))}return Xy(Zt,cn,$t,kn,Jn,tr,dr,Zn,Gn,Kn),{years:Zt,months:cn,weeks:$t,days:kn,hours:Jn,minutes:tr,seconds:dr,milliseconds:Zn,microseconds:Gn,nanoseconds:Kn}}function kE(r,t,n,o,p,y,l){let u=Bo;u=Mt.add(u,Mt.BigInt(l)),u=Mt.add(u,Mt.multiply(Mt.BigInt(y),mo)),u=Mt.add(u,Mt.multiply(Mt.BigInt(p),Vs)),u=Mt.add(u,Mt.multiply(Mt.BigInt(o),sd)),u=Mt.add(u,Mt.multiply(Mt.BigInt(n),Mt.BigInt(6e10))),u=Mt.add(u,Mt.multiply(Mt.BigInt(t),Mt.BigInt(36e11)));const J=Mt.add(r,u);return xh(J),J}function PE(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe,Ye,mt,St,gt,yt,Tt){let zt=Le,{deltaDays:Zt,hour:cn,minute:$t,second:kn,millisecond:Jn,microsecond:tr,nanosecond:dr}=a_(o,p,y,l,u,J,Pe,Ye,mt,St,gt,yt);zt+=Zt;const Zn=xr("%Temporal.Duration%"),Gn=Qs(X,xd(r,t,n,X),new Zn(N,oe,Ee,zt,0,0,0,0,0,0),Tt);return{year:Re(Gn,$r),month:Re(Gn,Hr),day:Re(Gn,Xr),hour:cn,minute:$t,second:kn,millisecond:Jn,microsecond:tr,nanosecond:dr}}function Fd(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le){const Pe=xr("%Temporal.Duration%");if(0===Gl(o,p,y,l,0,0,0,0,0,0))return kE(Re(r,yi),u,J,X,N,oe,Ee);const Ye=Md(t,r,n),mt=Qs(n,xd(Re(Ye,$r),Re(Ye,Hr),Re(Ye,Xr),n),new Pe(o,p,y,l,0,0,0,0,0,0),Le),St=xc(Re(mt,$r),Re(mt,Hr),Re(mt,Xr),Re(Ye,qi),Re(Ye,Qi),Re(Ye,zi),Re(Ye,Hi),Re(Ye,Wi),Re(Ye,Zi),n);return kE(Re(Qa(t,St,"compatible"),yi),u,J,X,N,oe,Ee)}function Qy(r,t,n,o){const p="subtract"===r?-1:1;let{years:y,months:l,weeks:u,days:J,hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=Ef(n);const Ye=Vw(po(o));return({years:y,months:l,weeks:u,days:J,hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=CE(Re(t,Fc),Re(t,Ra),Re(t,va),Re(t,ba),Re(t,vc),Re(t,jc),Re(t,Za),Re(t,bc),Re(t,$c),Re(t,wc),p*y,p*l,p*u,p*J,p*X,p*N,p*oe,p*Ee,p*Le,p*Pe,Ye)),new(xr("%Temporal.Duration%"))(y,l,u,J,X,N,oe,Ee,Le,Pe)}function ev(r,t,n){const o="subtract"===r?-1:1,{hours:p,minutes:y,seconds:l,milliseconds:u,microseconds:J,nanoseconds:X}=function(Ee,Le){let Pe=Ef(Ee);for(const Ye of["years","months","weeks","days"])if(0!==Pe[Ye])throw new RangeError(`Duration field ${Ye} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Pe}(n),N=kE(Re(t,yi),o*p,o*y,o*l,o*u,o*J,o*X);return new(xr("%Temporal.Instant%"))(N)}function c_(r,t,n,o){const p="subtract"===r?-1:1,{years:y,months:l,weeks:u,days:J,hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=Ef(n),Ye=po(o),mt=Re(t,Yn),{year:St,month:gt,day:yt,hour:Tt,minute:zt,second:Zt,millisecond:cn,microsecond:$t,nanosecond:kn}=PE(Re(t,$r),Re(t,Hr),Re(t,Xr),Re(t,qi),Re(t,Qi),Re(t,zi),Re(t,Hi),Re(t,Wi),Re(t,Zi),mt,p*y,p*l,p*u,p*J,p*X,p*N,p*oe,p*Ee,p*Le,p*Pe,Ye);return xc(St,gt,yt,Tt,zt,Zt,cn,$t,kn,mt)}function RE(r,t,n){const o="subtract"===r?-1:1,{hours:p,minutes:y,seconds:l,milliseconds:u,microseconds:J,nanoseconds:X}=Ef(n);let{hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Ye}=a_(Re(t,qi),Re(t,Qi),Re(t,zi),Re(t,Hi),Re(t,Wi),Re(t,Zi),o*p,o*y,o*l,o*u,o*J,o*X);return({hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Ye}=_0(N,oe,Ee,Le,Pe,Ye,"reject")),new(xr("%Temporal.PlainTime%"))(N,oe,Ee,Le,Pe,Ye)}function $I(r,t,n,o){let p=Ef(n);"subtract"===r&&(p={years:-p.years,months:-p.months,weeks:-p.weeks,days:-p.days,hours:-p.hours,minutes:-p.minutes,seconds:-p.seconds,milliseconds:-p.milliseconds,microseconds:-p.microseconds,nanoseconds:-p.nanoseconds});let{years:y,months:l,weeks:u,days:J,hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=p;({days:J}=dl(J,X,N,oe,Ee,Le,Pe,"day"));const Ye=po(o),mt=Re(t,Yn),St=Es(mt,["monthCode","year"]),gt=ro(t,St,[]),yt=Ya(null);kp(yt,gt,[]),gt.day=1;let Tt=Mf(mt,gt);const zt=Gl(y,l,u,J,0,0,0,0,0,0),Zt=go(mt,"dateAdd"),cn=xr("%Temporal.Duration%");if(zt<0){const Jn=Qs(mt,Tt,new cn(0,1,0,0,0,0,0,0,0,0),void 0,Zt),tr=Qs(mt,Jn,new cn(0,0,0,-1,0,0,0,0,0,0),void 0,Zt);yt.day=A0(mt,tr),Tt=Mf(mt,yt)}const $t=new cn(y,l,u,J,0,0,0,0,0,0),kn=Xl(Ye);return zs(mt,ro(Qs(mt,Tt,$t,Ye,Zt),St,[]),kn)}function KI(r,t,n,o){const p="subtract"===r?-1:1,{years:y,months:l,weeks:u,days:J,hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=Ef(n),Ye=po(o),mt=Re(t,jo),St=Re(t,Yn);return qs(Fd(Re(t,yc),mt,St,p*y,p*l,p*u,p*J,p*X,p*N,p*oe,p*Ee,p*Le,p*Pe,Ye),mt,St)}function dd(r,t,n){if(Mt.equal(t,Cu))return r;let{quotient:o,remainder:p}=Xs(r,t);if(Mt.equal(p,Bo))return r;const y=Mt.lessThan(p,Bo)?-1:1,l=Kl(Mt.multiply(p,Mt.BigInt(2))),u=Mt.equal(l,t),J=Mt.greaterThan(l,t);switch(n){case"ceil":y>0&&(o=Mt.add(o,Mt.BigInt(y)));break;case"floor":y<0&&(o=Mt.add(o,Mt.BigInt(y)));break;case"expand":o=Mt.add(o,Mt.BigInt(y));break;case"trunc":break;case"halfCeil":(J||u&&y>0)&&(o=Mt.add(o,Mt.BigInt(y)));break;case"halfFloor":(J||u&&y<0)&&(o=Mt.add(o,Mt.BigInt(y)));break;case"halfExpand":(J||u)&&(o=Mt.add(o,Mt.BigInt(y)));break;case"halfTrunc":J&&(o=Mt.add(o,Mt.BigInt(y)));break;case"halfEven":(J||u&&1===Mt.toNumber(Mt.remainder(Kl(o),Mt.BigInt(2))))&&(o=Mt.add(o,Mt.BigInt(y)))}return Mt.multiply(o,t)}function U0(r,t,n,o){let{remainder:p}=Mh(r,$l);const y=Mt.subtract(r,p),l=dd(p,Mt.BigInt(j0[n]*t),o);return Mt.add(y,l)}function tv(r,t,n,o,p,y,l,u,J,X,N,oe,Ee=864e11){const{deltaDays:Le,hour:Pe,minute:Ye,second:mt,millisecond:St,microsecond:gt,nanosecond:yt}=Af(o,p,y,l,u,J,X,N,oe,Ee),{year:Tt,month:zt,day:Zt}=n_(r,t,n+Le);return{year:Tt,month:zt,day:Zt,hour:Pe,minute:Ye,second:mt,millisecond:St,microsecond:gt,nanosecond:yt}}function Af(r,t,n,o,p,y,l,u,J,X=864e11){let N=Bo;switch(u){case"day":case"hour":N=Mt.BigInt(r);case"minute":N=Mt.add(Mt.multiply(N,cs),Mt.BigInt(t));case"second":N=Mt.add(Mt.multiply(N,cs),Mt.BigInt(n));case"millisecond":N=Mt.add(Mt.multiply(N,mo),Mt.BigInt(o));case"microsecond":N=Mt.add(Mt.multiply(N,mo),Mt.BigInt(p));case"nanosecond":N=Mt.add(Mt.multiply(N,mo),Mt.BigInt(y))}const oe="day"===u?X:j0[u],Ee=dd(N,Mt.BigInt(oe*l),J),Le=Mt.toNumber(Mt.divide(Ee,Mt.BigInt(oe)));switch(u){case"day":return{deltaDays:Le,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Tf(Le,0,0,0,0,0);case"minute":return Tf(r,Le,0,0,0,0);case"second":return Tf(r,t,Le,0,0,0);case"millisecond":return Tf(r,t,n,Le,0,0);case"microsecond":return Tf(r,t,n,o,Le,0);case"nanosecond":return Tf(r,t,n,o,p,Le);default:throw new Error(`Invalid unit ${u}`)}}function d_(r,t){return TE(Re(r,$r),Re(r,Hr),Re(r,Xr),Re(t,$r),Re(t,Hr),Re(t,Xr),"day").days}function ec(r,t,n,o){const p=Qs(r,t,n,void 0,o);return{relativeTo:p,days:d_(t,p)}}function Hp(r,t,n,o,p){const y=Re(r,jo),l=Re(r,Yn);return qs(Fd(Re(r,yc),y,l,t,n,o,p,0,0,0,0,0,0),y,l)}function g5(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le){let Pe=r,Ye=t,mt=n,St=o,gt=p,yt=y,Tt=l,zt=u,Zt=J,cn=X;if(!Zr(Le)||"year"===oe||"month"===oe||"week"===oe||"day"===oe||"nanosecond"===oe&&1===N)return{years:Pe,months:Ye,weeks:mt,days:St,hours:gt,minutes:yt,seconds:Tt,milliseconds:zt,microseconds:Zt,nanoseconds:cn};let $t=L0(0,gt,yt,Tt,zt,Zt,cn,0);const kn=bh(Mt.toNumber($t)),Jn=Re(Le,jo),tr=Re(Le,Yn),dr=Fd(Re(Le,yc),Jn,tr,Pe,Ye,mt,St,0,0,0,0,0,0),Zn=Fd(new(xr("%Temporal.Instant%"))(dr),Jn,tr,0,0,0,kn,0,0,0,0,0,0),Gn=Mt.subtract(Zn,dr);return Mt.greaterThanOrEqual(Mt.multiply(Mt.subtract($t,Gn),Mt.BigInt(kn)),Bo)&&(({years:Pe,months:Ye,weeks:mt,days:St}=CE(Pe,Ye,mt,St,0,0,0,0,0,0,0,0,0,kn,0,0,0,0,0,0,Le)),$t=U0(Mt.subtract($t,Gn),N,oe,Ee),({hours:gt,minutes:yt,seconds:Tt,milliseconds:zt,microseconds:Zt,nanoseconds:cn}=dl(0,0,0,0,0,0,Mt.toNumber($t),"hour"))),{years:Pe,months:Ye,weeks:mt,days:St,hours:gt,minutes:yt,seconds:Tt,milliseconds:zt,microseconds:Zt,nanoseconds:cn}}function Yl(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le){let Pe=r,Ye=t,mt=n,St=o,gt=p,yt=y,Tt=l,zt=u,Zt=J,cn=Mt.BigInt(X);const $t=xr("%Temporal.Duration%");let kn,Jn,tr,dr,Zn=Le;if(Zn){if(Zr(Zn))Jn=Zn,Zn=Lo(Zn);else if(!ao(Zn))throw new TypeError("starting point must be PlainDate or ZonedDateTime");kn=Re(Zn,Yn)}if("year"===oe||"month"===oe||"week"===oe||"day"===oe){let Gn,Kn,qn;cn=L0(0,gt,yt,Tt,zt,Zt,X,0),Jn&&(Gn=Hp(Jn,Pe,Ye,mt,St)),({days:Kn,nanoseconds:cn,dayLengthNs:qn}=DE(cn,Gn)),tr=Mt.BigInt(qn),St+=Kn,gt=yt=Tt=zt=Zt=0}switch(oe){case"year":{if(!kn)throw new RangeError("A starting point is required for years rounding");const Gn=new $t(Pe),Kn="string"!=typeof kn?go(kn,"dateAdd"):void 0,qn=Qs(kn,Zn,Gn,void 0,Kn),Pn=Qs(kn,Zn,new $t(Pe,Ye,mt),void 0,Kn);Zn=qn,St+=d_(qn,Pn);const br=Qs(kn,Zn,new $t(0,0,0,St),void 0,Kn),Wr=Ya(null);Wr.largestUnit="year";const Ar=xf(kn,Zn,br,Wr).years;Pe+=Ar;const ai=Zn;Zn=Qs(kn,Zn,new $t(Ar),void 0,Kn),St-=d_(ai,Zn);const io=new $t(St<0?-1:1);let{days:Cn}=ec(kn,Zn,io,Kn);Cn=bs(Cn);const hi=Mt.multiply(Mt.BigInt(Cn),tr);cn=Mt.add(Mt.add(Mt.multiply(hi,Mt.BigInt(Pe)),Mt.multiply(Mt.BigInt(St),tr)),cn);const wo=dd(cn,Mt.multiply(hi,Mt.BigInt(N)),Ee);dr=Cf(cn,hi),Pe=Mt.toNumber(Mt.divide(wo,hi)),cn=Bo,Ye=mt=St=0;break}case"month":{if(!kn)throw new RangeError("A starting point is required for months rounding");const Gn=new $t(Pe,Ye),Kn="string"!=typeof kn?go(kn,"dateAdd"):void 0,qn=Qs(kn,Zn,Gn,void 0,Kn),Pn=Qs(kn,Zn,new $t(Pe,Ye,mt),void 0,Kn);Zn=qn,St+=d_(qn,Pn);const br=bh(St),Wr=new $t(0,St<0?-1:1);let Ar;for(({relativeTo:Zn,days:Ar}=ec(kn,Zn,Wr,Kn));bs(St)>=bs(Ar);)Ye+=br,St-=Ar,({relativeTo:Zn,days:Ar}=ec(kn,Zn,Wr,Kn));Ar=bs(Ar);const ai=Mt.multiply(Mt.BigInt(Ar),tr);cn=Mt.add(Mt.add(Mt.multiply(ai,Mt.BigInt(Ye)),Mt.multiply(Mt.BigInt(St),tr)),cn);const io=dd(cn,Mt.multiply(ai,Mt.BigInt(N)),Ee);dr=Cf(cn,ai),Ye=Mt.toNumber(Mt.divide(io,ai)),cn=Bo,mt=St=0;break}case"week":{if(!kn)throw new RangeError("A starting point is required for weeks rounding");const Gn=bh(St),Kn=new $t(0,0,St<0?-1:1),qn="string"!=typeof kn?go(kn,"dateAdd"):void 0;let Pn;for(({relativeTo:Zn,days:Pn}=ec(kn,Zn,Kn,qn));bs(St)>=bs(Pn);)mt+=Gn,St-=Pn,({relativeTo:Zn,days:Pn}=ec(kn,Zn,Kn,qn));Pn=bs(Pn);const br=Mt.multiply(Mt.BigInt(Pn),tr);cn=Mt.add(Mt.add(Mt.multiply(br,Mt.BigInt(mt)),Mt.multiply(Mt.BigInt(St),tr)),cn);const Wr=dd(cn,Mt.multiply(br,Mt.BigInt(N)),Ee);dr=Cf(cn,br),mt=Mt.toNumber(Mt.divide(Wr,br)),cn=Bo,St=0;break}case"day":{const Gn=tr;cn=Mt.add(Mt.multiply(Gn,Mt.BigInt(St)),cn);const Kn=dd(cn,Mt.multiply(Gn,Mt.BigInt(N)),Ee);dr=Cf(cn,Gn),St=Mt.toNumber(Mt.divide(Kn,Gn)),cn=Bo;break}case"hour":{let Kn=Mt.multiply(Mt.BigInt(gt),Mt.BigInt(36e11));Kn=Mt.add(Kn,Mt.multiply(Mt.BigInt(yt),Mt.BigInt(6e10))),Kn=Mt.add(Kn,Mt.multiply(Mt.BigInt(Tt),sd)),Kn=Mt.add(Kn,Mt.multiply(Mt.BigInt(zt),Vs)),Kn=Mt.add(Kn,Mt.multiply(Mt.BigInt(Zt),mo)),Kn=Mt.add(Kn,cn),dr=Cf(Kn,Mt.BigInt(36e11));const qn=dd(Kn,Mt.BigInt(36e11*N),Ee);gt=Mt.toNumber(Mt.divide(qn,Mt.BigInt(36e11))),cn=Bo,yt=Tt=zt=Zt=0;break}case"minute":{let Kn=Mt.multiply(Mt.BigInt(yt),Mt.BigInt(6e10));Kn=Mt.add(Kn,Mt.multiply(Mt.BigInt(Tt),sd)),Kn=Mt.add(Kn,Mt.multiply(Mt.BigInt(zt),Vs)),Kn=Mt.add(Kn,Mt.multiply(Mt.BigInt(Zt),mo)),Kn=Mt.add(Kn,cn),dr=Cf(Kn,Mt.BigInt(6e10));const qn=dd(Kn,Mt.BigInt(6e10*N),Ee);yt=Mt.toNumber(Mt.divide(qn,Mt.BigInt(6e10))),cn=Bo,Tt=zt=Zt=0;break}case"second":{let Kn=Mt.multiply(Mt.BigInt(Tt),sd);Kn=Mt.add(Kn,Mt.multiply(Mt.BigInt(zt),Vs)),Kn=Mt.add(Kn,Mt.multiply(Mt.BigInt(Zt),mo)),Kn=Mt.add(Kn,cn),dr=Cf(Kn,Mt.BigInt(1e9));const qn=dd(Kn,Mt.BigInt(1e9*N),Ee);Tt=Mt.toNumber(Mt.divide(qn,Mt.BigInt(1e9))),cn=Bo,zt=Zt=0;break}case"millisecond":{let Kn=Mt.multiply(Mt.BigInt(zt),Vs);Kn=Mt.add(Kn,Mt.multiply(Mt.BigInt(Zt),mo)),Kn=Mt.add(Kn,cn),dr=Cf(Kn,Mt.BigInt(1e6));const qn=dd(Kn,Mt.BigInt(1e6*N),Ee);zt=Mt.toNumber(Mt.divide(qn,Mt.BigInt(1e6))),cn=Bo,Zt=0;break}case"microsecond":{let Kn=Mt.multiply(Mt.BigInt(Zt),mo);Kn=Mt.add(Kn,cn),dr=Cf(Kn,Mt.BigInt(1e3));const qn=dd(Kn,Mt.BigInt(1e3*N),Ee);Zt=Mt.toNumber(Mt.divide(qn,Mt.BigInt(1e3))),cn=Bo;break}case"nanosecond":dr=Mt.toNumber(cn),cn=dd(Mt.BigInt(cn),Mt.BigInt(N),Ee)}return{years:Pe,months:Ye,weeks:mt,days:St,hours:gt,minutes:yt,seconds:Tt,milliseconds:zt,microseconds:Zt,nanoseconds:Mt.toNumber(cn),total:dr}}function Wp(r,t,n,o,p,y){for(const[l,u]of[[r,o],[t,p],[n,y]])if(l!==u)return ll(l-u);return 0}function Mh(r,t){let{quotient:n,remainder:o}=Xs(r,t);return Mt.lessThan(o,Bo)&&(n=Mt.subtract(n,Cu),o=Mt.add(o,t)),{quotient:n,remainder:o}}function Gp(r,t){const{quotient:n,remainder:o}=Xs(r,t);return Kc(o)||!Vc(r)==!Vc(t)?n:Mt.subtract(n,Cu)}function Cf(r,t){const{quotient:n,remainder:o}=Xs(r,t);return Mt.toNumber(n)+Mt.toNumber(o)/Mt.toNumber(t)}function kf(r){const t=nv(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function nv(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=p0(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return Mt.BigInt("bigint"==typeof t?t.toString(10):t)}const OE=(()=>{let r=Mt.BigInt(Date.now()%1e6);return()=>{const t=Mt.BigInt(Date.now()),n=Mt.add(Mt.multiply(t,Vs),r);return r=Mt.remainder(t,Vs),Mt.greaterThan(n,y0)?y0:Mt.lessThan(n,g0)?g0:n}})();function Sh(){return(new vh).resolvedOptions().timeZone}function ll(r){return r<0?-1:r>0?1:r}function po(r){if(void 0===r)return Ya(null);if(ds(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function Pf(r,t){const n=Ya(null);return n[r]=t,n}function Xl(r){const t=Ya(null);return kp(t,po(r),[]),t}function Ea(r,t,n,o){let p=r[t];if(void 0!==p){if(p=$a(p),!n.includes(p))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${p}`);return p}return o}function Uu(r){return b0.includes(Jl(r))}function Jl(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const VI=new RegExp(`^${gI.source}$`);function F0(r,t,n,o=r(t),p=r(n)){let y=Mt.BigInt(t),l=Mt.BigInt(n),u=o,J=p;for(;Mt.greaterThan(Mt.subtract(l,y),Cu);){const X=Mt.divide(Mt.add(y,l),Mt.BigInt(2)),N=r(X);if(N===u)y=X,u=N;else{if(N!==J)throw new Error(`invalid state in bisection ${u} - ${N} - ${J}`);l=X,J=N}}return l}const j0={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},zI=Symbol("date"),HI=Symbol("ym"),NE=Symbol("md"),$0=Symbol("time"),WI=Symbol("datetime"),GI=Symbol("instant"),K0=Symbol("original"),Zp=Symbol("timezone"),jd=Symbol("calendar-id"),BE=Symbol("locale"),LE=Symbol("options"),V0=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),z0=globalThis.Intl.DateTimeFormat,Rf=Object.assign,BP=Object.prototype.hasOwnProperty,LP=Reflect.apply;function rv(r,t){let n=r[t];return"function"==typeof n&&(n=new z0(r[BE],n(r[LE])),r[t]=n),n}function H0(r,t={}){if(!(this instanceof H0))return new H0(r,t);const n=void 0!==t,o=n?Rf({},t):{},p=new z0(r,o),y=p.resolvedOptions();if(n){const l=Rf({},y);for(const u in l)LP(BP,o,[u])||delete l[u];this[LE]=l}else this[LE]=o;this[BE]=y.locale,this[K0]=p,this[Zp]=y.timeZone,this[jd]=y.calendar,this[zI]=v5,this[HI]=ZI,this[NE]=ov,this[$0]=y5,this[WI]=b5,this[GI]=w5}Object.defineProperty(H0,"name",{writable:!0,value:"DateTimeFormat"}),H0.supportedLocalesOf=function(r,t){return z0.supportedLocalesOf(r,t)};const l_={resolvedOptions:V0(function(){return this[K0].resolvedOptions()}),format:V0(function(t,...n){let{instant:o,formatter:p}=G0(t,this);return o&&p?p.format(o.epochMilliseconds):this[K0].format(t,...n)}),formatRange:V0(function(t,n){if(W0(t)||W0(n)){if(!FE(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:o,formatter:p}=G0(t,this),{instant:y,formatter:l}=G0(n,this);if(o&&y&&p&&l&&p===l)return p.formatRange(o.epochMilliseconds,y.epochMilliseconds)}return this[K0].formatRange(t,n)})};"formatToParts"in z0.prototype&&(l_.formatToParts=V0(function(t,...n){let{instant:o,formatter:p}=G0(t,this);return o&&p?p.formatToParts(o.epochMilliseconds):this[K0].formatToParts(t,...n)})),"formatRangeToParts"in z0.prototype&&(l_.formatRangeToParts=V0(function(t,n){if(W0(t)||W0(n)){if(!FE(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:o,formatter:p}=G0(t,this),{instant:y,formatter:l}=G0(n,this);if(o&&y&&p&&l&&p===l)return p.formatRangeToParts(o.epochMilliseconds,y.epochMilliseconds)}return this[K0].formatRangeToParts(t,n)})),H0.prototype=Object.create(z0.prototype,l_),Object.defineProperty(H0,"prototype",{writable:!1,enumerable:!1,configurable:!1});const ul=H0;function iv(r={},t={}){const n=Rf({},r);for(const o of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[o]=o in t?t[o]:n[o],!1!==n[o]&&void 0!==n[o]||delete n[o];return n}function y5(r){let t=iv(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return YI(t)||(t=Rf({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function ZI(r){let t=iv(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=Rf(t,{year:"numeric",month:"numeric"})),t}function ov(r){let t=iv(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=Rf({},t,{month:"numeric",day:"numeric"})),t}function v5(r){let t=iv(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return UE(t)||(t=Rf({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function b5(r){let t=iv(r,{timeZoneName:!1});return YI(t)||UE(t)||(t=Rf({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function w5(r){let t=r;return YI(t)||UE(t)||(t=Rf({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function UE(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function YI(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function W0(r){return ao(r)||Ns(r)||Vi(r)||Zr(r)||Ao(r)||wa(r)||aa(r)}function FE(r,t){return!(!W0(r)||!W0(t)||Ns(r)&&!Ns(t)||ao(r)&&!ao(t)||Vi(r)&&!Vi(t)||Zr(r)&&!Zr(t)||Ao(r)&&!Ao(t)||wa(r)&&!wa(t)||aa(r)&&!aa(t))}function G0(r,t){const n=xr("%Temporal.PlainDateTime%");if(Ns(r)){const o=new n(1970,1,1,Re(r,qi),Re(r,Qi),Re(r,zi),Re(r,Hi),Re(r,Wi),Re(r,Zi),t[jd]);return{instant:Qa(t[Zp],o,"compatible"),formatter:rv(t,$0)}}if(Ao(r)){const o=Re(r,$r),p=Re(r,Hr),y=Re(r,Xr),l=Ja(Re(r,Yn));if(l!==t[jd])throw new RangeError(`cannot format PlainYearMonth with calendar ${l} in locale with calendar ${t[jd]}`);const u=new n(o,p,y,12,0,0,0,0,0,l);return{instant:Qa(t[Zp],u,"compatible"),formatter:rv(t,HI)}}if(wa(r)){const o=Re(r,$r),p=Re(r,Hr),y=Re(r,Xr),l=Ja(Re(r,Yn));if(l!==t[jd])throw new RangeError(`cannot format PlainMonthDay with calendar ${l} in locale with calendar ${t[jd]}`);const u=new n(o,p,y,12,0,0,0,0,0,l);return{instant:Qa(t[Zp],u,"compatible"),formatter:rv(t,NE)}}if(ao(r)){const o=Re(r,$r),p=Re(r,Hr),y=Re(r,Xr),l=Ja(Re(r,Yn));if("iso8601"!==l&&l!==t[jd])throw new RangeError(`cannot format PlainDate with calendar ${l} in locale with calendar ${t[jd]}`);const u=new n(o,p,y,12,0,0,0,0,0,t[jd]);return{instant:Qa(t[Zp],u,"compatible"),formatter:rv(t,zI)}}if(Vi(r)){const o=Re(r,$r),p=Re(r,Hr),y=Re(r,Xr),l=Re(r,qi),u=Re(r,Qi),J=Re(r,zi),X=Re(r,Hi),N=Re(r,Wi),oe=Re(r,Zi),Ee=Ja(Re(r,Yn));if("iso8601"!==Ee&&Ee!==t[jd])throw new RangeError(`cannot format PlainDateTime with calendar ${Ee} in locale with calendar ${t[jd]}`);let Le=r;return"iso8601"===Ee&&(Le=new n(o,p,y,l,u,J,X,N,oe,t[jd])),{instant:Qa(t[Zp],Le,"compatible"),formatter:rv(t,WI)}}if(Zr(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return aa(r)?{instant:r,formatter:rv(t,GI)}:{}}Object.freeze({__proto__:null,DateTimeFormat:ul});class Wc{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=nv(t);xh(n),jl(this),no(this,yi,n)}get epochSeconds(){if(!aa(this))throw new TypeError("invalid receiver");const t=Re(this,yi);return Mt.toNumber(Gp(t,sd))}get epochMilliseconds(){if(!aa(this))throw new TypeError("invalid receiver");const t=Mt.BigInt(Re(this,yi));return Mt.toNumber(Gp(t,Vs))}get epochMicroseconds(){if(!aa(this))throw new TypeError("invalid receiver");return kf(Gp(Mt.BigInt(Re(this,yi)),mo))}get epochNanoseconds(){if(!aa(this))throw new TypeError("invalid receiver");return kf(Mt.BigInt(Re(this,yi)))}add(t){if(!aa(this))throw new TypeError("invalid receiver");return ev("add",this,t)}subtract(t){if(!aa(this))throw new TypeError("invalid receiver");return ev("subtract",this,t)}until(t,n){if(!aa(this))throw new TypeError("invalid receiver");return Jy("until",this,t,n)}since(t,n){if(!aa(this))throw new TypeError("invalid receiver");return Jy("since",this,t,n)}round(t){if(!aa(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pf("smallestUnit",t):po(t),o=x0(n),p=zl(n,"halfExpand"),y=ad(n,"smallestUnit","time",Rp);M0(o,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[y],!0);const l=U0(Re(this,yi),o,y,p);return new Wc(l)}equals(t){if(!aa(this))throw new TypeError("invalid receiver");const n=sl(t),o=Re(this,yi),p=Re(n,yi);return Mt.equal(Mt.BigInt(o),Mt.BigInt(p))}toString(t){if(!aa(this))throw new TypeError("invalid receiver");const n=po(t),o=Uy(n),p=zl(n,"trunc"),y=ad(n,"smallestUnit","time",void 0);if("hour"===y)throw new RangeError('smallestUnit must be a time unit other than "hour"');let l=n.timeZone;void 0!==l&&(l=qa(l));const{precision:u,unit:J,increment:X}=Fy(y,o),N=U0(Re(this,yi),X,J,p);return Xw(new Wc(N),l,u)}toJSON(){if(!aa(this))throw new TypeError("invalid receiver");return Xw(this,void 0,"auto")}toLocaleString(t,n){if(!aa(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!aa(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const o=cd(n),p=t.timeZone;if(void 0===p)throw new TypeError("missing timeZone property in toZonedDateTime");const y=qa(p);return qs(Re(this,yi),y,o)}toZonedDateTimeISO(t){if(!aa(this))throw new TypeError("invalid receiver");const n=qa(t);return qs(Re(this,yi),n,"iso8601")}static fromEpochSeconds(t){const n=Ap(t),o=Mt.multiply(Mt.BigInt(n),sd);return xh(o),new Wc(o)}static fromEpochMilliseconds(t){const n=Ap(t),o=Mt.multiply(Mt.BigInt(n),Vs);return xh(o),new Wc(o)}static fromEpochMicroseconds(t){const n=nv(t),o=Mt.multiply(n,mo);return xh(o),new Wc(o)}static fromEpochNanoseconds(t){const n=nv(t);return xh(n),new Wc(n)}static from(t){return aa(t)?new Wc(Re(t,yi)):sl(t)}static compare(t,n){const o=sl(t),p=sl(n),y=Re(o,yi),l=Re(p,yi);return Mt.lessThan(y,l)?-1:Mt.greaterThan(y,l)?1:0}}Fl(Wc,"Temporal.Instant");const XI=Array.prototype.includes,JI=Array.prototype.push,qI=globalThis.Intl.DateTimeFormat,_5=Array.prototype.sort,QI=Math.abs,E5=Math.floor,sv=Object.create,jE=Object.entries,$E=Set,KE=Reflect.ownKeys,tc=Set.prototype.add,eT=Set.prototype.values,xs={};class Ms{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=$a(t);if(!Uu(n))throw new RangeError(`invalid calendar identifier ${n}`);jl(this),no(this,Rs,Jl(n))}get id(){if(!ws(this))throw new TypeError("invalid receiver");return Re(this,Rs)}dateFromFields(t,n){if(!ws(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid fields");const o=po(n),p=Re(this,Rs);return xs[p].dateFromFields(t,o,p)}yearMonthFromFields(t,n){if(!ws(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid fields");const o=po(n),p=Re(this,Rs);return xs[p].yearMonthFromFields(t,o,p)}monthDayFromFields(t,n){if(!ws(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid fields");const o=po(n),p=Re(this,Rs);return xs[p].monthDayFromFields(t,o,p)}fields(t){if(!ws(this))throw new TypeError("invalid receiver");const n=[],o=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const p of t){if("string"!=typeof p)throw new TypeError("invalid fields");if(!o.has(p))throw new RangeError(`invalid field name ${p}`);o.delete(p),JI.call(n,p)}return xs[Re(this,Rs)].fields(n)}mergeFields(t,n){if(!ws(this))throw new TypeError("invalid receiver");const o=Cp(t),p=sv(null);kp(p,o,[],[void 0]);const y=Cp(n),l=sv(null);kp(l,y,[],[void 0]);const u=KE(l),J=xs[Re(this,Rs)].fieldKeysToIgnore(u),X=sv(null),N=KE(p);for(const oe of N){let Ee;Ee=ei(XI,J,[oe])?l[oe]:p[oe],void 0!==Ee&&(X[oe]=Ee)}return kp(X,l,[]),X}dateAdd(t,n,o){if(!ws(this))throw new TypeError("invalid receiver");const p=Lo(t),y=D0(n),l=Js(po(o)),{days:u}=dl(Re(y,ba),Re(y,vc),Re(y,jc),Re(y,Za),Re(y,bc),Re(y,$c),Re(y,wc),"day"),J=Re(this,Rs);return xs[J].dateAdd(p,Re(y,Fc),Re(y,Ra),Re(y,va),u,l,J)}dateUntil(t,n,o){if(!ws(this))throw new TypeError("invalid receiver");const p=Lo(t),y=Lo(n);let l=ad(po(o),"largestUnit","date","auto");"auto"===l&&(l="day");const{years:u,months:J,weeks:X,days:N}=xs[Re(this,Rs)].dateUntil(p,y,l);return new(xr("%Temporal.Duration%"))(u,J,X,N,0,0,0,0,0,0)}year(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].year(n)}month(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");if(wa(n))throw new TypeError("use monthCode on PlainMonthDay instead");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].month(n)}monthCode(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||wa(n)||(n=Lo(n)),xs[Re(this,Rs)].monthCode(n)}day(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return wa(n)||(n=Lo(n)),xs[Re(this,Rs)].day(n)}era(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].era(n)}eraYear(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].eraYear(n)}dayOfWeek(t){if(!ws(this))throw new TypeError("invalid receiver");const n=Lo(t);return xs[Re(this,Rs)].dayOfWeek(n)}dayOfYear(t){if(!ws(this))throw new TypeError("invalid receiver");const n=Lo(t);return xs[Re(this,Rs)].dayOfYear(n)}weekOfYear(t){if(!ws(this))throw new TypeError("invalid receiver");const n=Lo(t);return xs[Re(this,Rs)].weekOfYear(n)}yearOfWeek(t){if(!ws(this))throw new TypeError("invalid receiver");const n=Lo(t);return xs[Re(this,Rs)].yearOfWeek(n)}daysInWeek(t){if(!ws(this))throw new TypeError("invalid receiver");const n=Lo(t);return xs[Re(this,Rs)].daysInWeek(n)}daysInMonth(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].daysInMonth(n)}daysInYear(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].daysInYear(n)}monthsInYear(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].monthsInYear(n)}inLeapYear(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].inLeapYear(n)}toString(){if(!ws(this))throw new TypeError("invalid receiver");return Re(this,Rs)}toJSON(){if(!ws(this))throw new TypeError("invalid receiver");return Re(this,Rs)}static from(t){return zy(cd(t))}}function VE(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function Fu(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function u_(r,t,n=12){let{month:o,monthCode:p}=r;if(void 0===p){if(void 0===o)throw new TypeError("Either month or monthCode are required");"reject"===t&&_a(o,1,n),"constrain"===t&&(o=Sd(o,1,n)),p=Fu(o)}else{const y=VE(p);if(void 0!==o&&o!==y)throw new RangeError(`monthCode ${p} and month ${o} must match if both are present`);if(p!==Fu(y))throw new RangeError(`Invalid month code: ${p}`);if(o=y,o<1||o>n)throw new RangeError(`Invalid monthCode: ${p}`)}return{...r,month:o,monthCode:p}}Fl(Ms,"Temporal.Calendar"),vs("Temporal.Calendar.from",Ms.from),vs("Temporal.Calendar.prototype.dateAdd",Ms.prototype.dateAdd),vs("Temporal.Calendar.prototype.dateFromFields",Ms.prototype.dateFromFields),vs("Temporal.Calendar.prototype.dateUntil",Ms.prototype.dateUntil),vs("Temporal.Calendar.prototype.day",Ms.prototype.day),vs("Temporal.Calendar.prototype.dayOfWeek",Ms.prototype.dayOfWeek),vs("Temporal.Calendar.prototype.dayOfYear",Ms.prototype.dayOfYear),vs("Temporal.Calendar.prototype.daysInMonth",Ms.prototype.daysInMonth),vs("Temporal.Calendar.prototype.daysInWeek",Ms.prototype.daysInWeek),vs("Temporal.Calendar.prototype.daysInYear",Ms.prototype.daysInYear),vs("Temporal.Calendar.prototype.era",Ms.prototype.era),vs("Temporal.Calendar.prototype.eraYear",Ms.prototype.eraYear),vs("Temporal.Calendar.prototype.fields",Ms.prototype.fields),vs("Temporal.Calendar.prototype.inLeapYear",Ms.prototype.inLeapYear),vs("Temporal.Calendar.prototype.mergeFields",Ms.prototype.mergeFields),vs("Temporal.Calendar.prototype.month",Ms.prototype.month),vs("Temporal.Calendar.prototype.monthCode",Ms.prototype.monthCode),vs("Temporal.Calendar.prototype.monthDayFromFields",Ms.prototype.monthDayFromFields),vs("Temporal.Calendar.prototype.monthsInYear",Ms.prototype.monthsInYear),vs("Temporal.Calendar.prototype.weekOfYear",Ms.prototype.weekOfYear),vs("Temporal.Calendar.prototype.year",Ms.prototype.year),vs("Temporal.Calendar.prototype.yearMonthFromFields",Ms.prototype.yearMonthFromFields),vs("Temporal.Calendar.prototype.yearOfWeek",Ms.prototype.yearOfWeek),xs.iso8601={dateFromFields(r,t,n){let o=ro(r,["day","month","monthCode","year"],["year","day"]);const p=Js(t);o=u_(o);let{year:y,month:l,day:u}=o;return({year:y,month:l,day:u}=$w(y,l,u,p)),xd(y,l,u,n)},yearMonthFromFields(r,t,n){let o=ro(r,["month","monthCode","year"],["year"]);const p=Js(t);o=u_(o);let{year:y,month:l}=o;return({year:y,month:l}=function(J,X,N){let oe=J,Ee=X;switch(N){case"reject":Zl(oe,Ee,1);break;case"constrain":({year:oe,month:Ee}=RI(oe,Ee))}return{year:oe,month:Ee}}(y,l,p)),Ru(y,l,n,1)},monthDayFromFields(r,t,n){let o=ro(r,["day","month","monthCode","year"],["day"]);const p=Js(t);if(void 0!==o.month&&void 0===o.year&&void 0===o.monthCode)throw new TypeError("either year or monthCode required with month");const y=void 0===o.monthCode;o=u_(o);let{month:l,day:u,year:J}=o;return({month:l,day:u}=$w(y?J:1972,l,u,p)),Pu(l,u,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new $E;for(let n=0;n<r.length;n++){const o=r[n];ei(tc,t,[o]),"month"===o?ei(tc,t,["monthCode"]):"monthCode"===o&&ei(tc,t,["month"])}return[...ei(eT,t,[])]},dateAdd(r,t,n,o,p,y,l){let u=Re(r,$r),J=Re(r,Hr),X=Re(r,Xr);return({year:u,month:J,day:X}=Lu(u,J,X,t,n,o,p,y)),xd(u,J,X,l)},dateUntil:(r,t,n)=>TE(Re(r,$r),Re(r,Hr),Re(r,Xr),Re(t,$r),Re(t,Hr),Re(t,Xr),n),year:r=>Re(r,$r),era(){},eraYear(){},month:r=>Re(r,Hr),monthCode:r=>Fu(Re(r,Hr)),day:r=>Re(r,Xr),dayOfWeek:r=>B0(Re(r,$r),Re(r,Hr),Re(r,Xr)),dayOfYear:r=>e_(Re(r,$r),Re(r,Hr),Re(r,Xr)),weekOfYear:r=>ME(Re(r,$r),Re(r,Hr),Re(r,Xr)).week,yearOfWeek:r=>ME(Re(r,$r),Re(r,Hr),Re(r,Xr)).year,daysInWeek:()=>7,daysInMonth:r=>Bu(Re(r,$r),Re(r,Hr)),daysInYear(r){let t=r;return Oa(t,$r)||(t=Lo(t)),If(Re(t,$r))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return Oa(t,$r)||(t=Lo(t)),If(Re(t,$r))}};class Bs{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const o of t.map.entries()){if(++n>Bs.MAX_CACHE_ENTRIES)break;this.map.set(...o)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(Bs.objectMap.get(t))throw new RangeError("object already cached");Bs.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=Bs.objectMap.get(t);return n||(n=new Bs,Bs.objectMap.set(t,n)),n}}function tT({isoYear:r,isoMonth:t,isoDay:n}){return`${R0(r)}-${ls(t)}-${ls(n)}T00:00Z`}function zE(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}Bs.objectMap=new WeakMap,Bs.MAX_CACHE_ENTRIES=1e3;class Z0{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new qI(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:o,month:p,day:y}=t,l=JSON.stringify({func:"isoToCalendarDate",isoYear:o,isoMonth:p,isoDay:y,id:this.id}),u=n.get(l);if(u)return u;const J=this.getFormatter();let X,N;try{N=tT({isoYear:o,isoMonth:p,isoDay:y}),X=J.formatToParts(new Date(N))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:o,isoMonth:p,isoDay:y})}`)}const oe={};for(let{type:Le,value:Pe}of X){if("year"===Le&&(oe.eraYear=+Pe),"relatedYear"===Le&&(oe.eraYear=+Pe),"month"===Le){const Ye=/^([0-9]*)(.*?)$/.exec(Pe);if(!Ye||3!=Ye.length||!Ye[1]&&!Ye[2])throw new RangeError(`Unexpected month: ${Pe}`);if(oe.month=Ye[1]?+Ye[1]:1,oe.month<1)throw new RangeError(`Invalid month ${Pe} from ${N}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(oe.month>13)throw new RangeError(`Invalid month ${Pe} from ${N}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);Ye[2]&&(oe.monthExtra=Ye[2])}"day"===Le&&(oe.day=+Pe),this.hasEra&&"era"===Le&&null!=Pe&&""!==Pe&&(Pe=Pe.split(" (")[0],oe.era=Pe.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===oe.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:Le,eraYear:Pe}=this.reviseIntlEra(oe,t);oe.era=Le,oe.eraYear=Pe}this.checkIcuBugs&&this.checkIcuBugs(t);const Ee=this.adjustCalendarDate(oe,n,"constrain",!0);if(void 0===Ee.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===Ee.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===Ee.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(l,Ee),["constrain","reject"].forEach(Le=>{const Pe=JSON.stringify({func:"calendarToIsoDate",year:Ee.year,month:Ee.month,day:Ee.day,overflow:Le,id:this.id});n.set(Pe,t)}),Ee}validateCalendarDate(t){const{era:n,month:o,year:p,day:y,eraYear:l,monthCode:u,monthExtra:J}=t;if(void 0!==J)throw new RangeError("Unexpected `monthExtra` value");if(void 0===p&&void 0===l)throw new TypeError("year or eraYear is required");if(void 0===o&&void 0===u)throw new TypeError("month or monthCode is required");if(void 0===y)throw new RangeError("Missing day");if(void 0!==u){if("string"!=typeof u)throw new RangeError("monthCode must be a string, not "+typeof u);if(!/^M([01]?\d)(L?)$/.test(u))throw new RangeError(`Invalid monthCode: ${u}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==l&&void 0!==p&&l!==p)throw new RangeError(`eraYear ${l} does not match year ${p}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,o="constrain",p=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let y=t;if(this.validateCalendarDate(y),this.constantEra){const{year:X,eraYear:N}=y;y={...y,era:this.constantEra,year:void 0!==X?X:N,eraYear:void 0!==N?N:X}}const l=this.monthsInYear(y,n);let{month:u,monthCode:J}=y;return({month:u,monthCode:J}=u_(y,o,l)),{...y,month:u,monthCode:J}}regulateMonthDayNaive(t,n,o){const p=this.monthsInYear(t,o);let{month:y,day:l}=t;return"reject"===n?(_a(y,1,p),_a(l,1,this.maximumMonthLength(t))):(y=Sd(y,1,p),l=Sd(l,1,this.maximumMonthLength({...t,month:y}))),{...t,month:y,day:l}}calendarToIsoDate(t,n="constrain",o){const p=t;let y=this.adjustCalendarDate(t,o,n,!1);y=this.regulateMonthDayNaive(y,n,o);const{year:l,month:u,day:J}=y,X=JSON.stringify({func:"calendarToIsoDate",year:l,month:u,day:J,overflow:n,id:this.id});let N,oe=o.get(X);if(oe||void 0!==p.year&&void 0!==p.month&&void 0!==p.day&&(p.year!==y.year||p.month!==y.month||p.day!==y.day)&&(N=JSON.stringify({func:"calendarToIsoDate",year:p.year,month:p.month,day:p.day,overflow:n,id:this.id}),oe=o.get(N),oe))return oe;let Ee=this.estimateIsoDate({year:l,month:u,day:J});const Le=gt=>{let yt=this.addDaysIso(Ee,gt);if(y.day>this.minimumMonthLength(y)){let Tt=this.isoToCalendarDate(yt,o);for(;Tt.month!==u||Tt.year!==l;){if("reject"===n)throw new RangeError(`day ${J} does not exist in month ${u} of year ${l}`);yt=this.addDaysIso(yt,-1),Tt=this.isoToCalendarDate(yt,o)}}return yt};let Pe=0,Ye=this.isoToCalendarDate(Ee,o),mt=zE(y,Ye);0===mt.years&&0===mt.months&&0===mt.days||(Ee=this.addDaysIso(Ee,365*mt.years+30*mt.months+mt.days),Ye=this.isoToCalendarDate(Ee,o),mt=zE(y,Ye),0===mt.years&&0===mt.months?Ee=Le(mt.days):Pe=this.compareCalendarDates(y,Ye));let St=8;for(;Pe;){Ee=this.addDaysIso(Ee,Pe*St);const gt=Ye;Ye=this.isoToCalendarDate(Ee,o);const yt=Pe;if(Pe=this.compareCalendarDates(y,Ye),Pe)if(mt=zE(y,Ye),0===mt.years&&0===mt.months)Ee=Le(mt.days),Pe=0;else if(yt&&Pe!==yt)if(St>1)St/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...p})}`);this.compareCalendarDates(Ye,gt)>0&&(Ee=this.addDaysIso(Ee,-1)),Pe=0}}if(o.set(X,Ee),N&&o.set(N,Ee),void 0===y.year||void 0===y.month||void 0===y.day||void 0===y.monthCode||this.hasEra&&(void 0===y.era||void 0===y.eraYear))throw new RangeError("Unexpected missing property");return Ee}temporalToCalendarDate(t,n){const o={year:Re(t,$r),month:Re(t,Hr),day:Re(t,Xr)};return this.isoToCalendarDate(o,n)}compareCalendarDates(t,n){const o=ro(t,["day","month","year"],["day","month","year"]),p=ro(n,["day","month","year"],["day","month","year"]);return o.year!==p.year?ll(o.year-p.year):o.month!==p.month?ll(o.month-p.month):o.day!==p.day?ll(o.day-p.day):0}regulateDate(t,n="constrain",o){const p=this.calendarToIsoDate(t,n,o);return this.isoToCalendarDate(p,o)}addDaysIso(t,n){return Lu(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,o){const p=this.calendarToIsoDate(t,"constrain",o),y=this.addDaysIso(p,n);return this.isoToCalendarDate(y,o)}addMonthsCalendar(t,n,o,p){let y=t;const{day:l}=y;for(let u=0,J=QI(n);u<J;u++){const{month:X}=y,N=y,oe=n<0?-Math.max(l,this.daysInPreviousMonth(y,p)):this.daysInMonth(y,p),Ee=this.calendarToIsoDate(y,"constrain",p);let Le=this.addDaysIso(Ee,oe);if(y=this.isoToCalendarDate(Le,p),n>0){const Pe=this.monthsInYear(N,p);for(;y.month-1!=X%Pe;)Le=this.addDaysIso(Le,-1),y=this.isoToCalendarDate(Le,p)}y.day!==l&&(y=this.regulateDate({...y,day:l},"constrain",p))}if("reject"===o&&y.day!==l)throw new RangeError(`Day ${l} does not exist in resulting calendar month`);return y}addCalendar(t,{years:n=0,months:o=0,weeks:p=0,days:y=0},l,u){const{year:J,day:X,monthCode:N}=t,oe=this.adjustCalendarDate({year:J+n,monthCode:N,day:X},u),Ee=this.addMonthsCalendar(oe,o,l,u);return this.addDaysCalendar(Ee,y+7*p,u)}untilCalendar(t,n,o,p){let y=0,l=0,u=0,J=0;switch(o){case"day":y=this.calendarDaysUntil(t,n,p);break;case"week":{const X=this.calendarDaysUntil(t,n,p);y=X%7,l=(X-y)/7;break}case"month":case"year":{const X=this.compareCalendarDates(n,t);if(!X)return{years:0,months:0,weeks:0,days:0};const N=n.year-t.year;if("year"===o&&N){let Pe=0;n.monthCode>t.monthCode&&(Pe=1),n.monthCode<t.monthCode&&(Pe=-1),Pe||(Pe=Math.sign(n.day-t.day)),J=Pe*X<0?N-X:N}let Ee,Le=J?this.addCalendar(t,{years:J},"constrain",p):t;do{u+=X,Ee=Le,Le=this.addMonthsCalendar(Ee,X,"constrain",p),Le.day!==t.day&&(Le=this.regulateDate({...Le,day:t.day},"constrain",p))}while(this.compareCalendarDates(n,Le)*X>=0);u-=X,y=this.calendarDaysUntil(Ee,n,p);break}}return{years:J,months:u,weeks:l,days:y}}daysInMonth(t,n){const{day:o}=t,p=this.maximumMonthLength(t),y=this.minimumMonthLength(t);if(y===p)return y;const l=o<=p-y?p:y,u=this.calendarToIsoDate(t,"constrain",n),J=this.addDaysIso(u,l),X=this.isoToCalendarDate(J,n),N=this.addDaysIso(J,-X.day);return this.isoToCalendarDate(N,n).day}daysInPreviousMonth(t,n){const{day:o,month:p,year:y}=t;let l={year:p>1?y:y-1,month:p,day:1};const u=p>1?p-1:this.monthsInYear(l,n);l={...l,month:u};const J=this.minimumMonthLength(l),X=this.maximumMonthLength(l);if(J===X)return X;const N=this.calendarToIsoDate(t,"constrain",n),oe=this.addDaysIso(N,-o);return this.isoToCalendarDate(oe,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,o){const p=this.calendarToIsoDate(t,"constrain",o),y=this.calendarToIsoDate(n,"constrain",o);return this.isoDaysUntil(p,y)}isoDaysUntil(t,n){return TE(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,o){let p,y,l,u,J,{monthCode:X,day:N}=t;if(void 0===X){let{year:Le,era:Pe,eraYear:Ye}=t;if(void 0===Le&&(void 0===Pe||void 0===Ye))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:X,day:N}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,o),o))}const oe=this.isoToCalendarDate({year:1972,month:12,day:31},o),Ee=oe.monthCode>X||oe.monthCode===X&&oe.day>=N?oe.year:oe.year-1;for(let Le=0;Le<100;Le++){const Pe=this.adjustCalendarDate({day:N,monthCode:X,year:Ee-Le},o),Ye=this.calendarToIsoDate(Pe,"constrain",o),mt=this.isoToCalendarDate(Ye,o);if(({year:p,month:y,day:l}=Ye),mt.monthCode===X&&mt.day===N)return{month:y,day:l,year:p};"constrain"===n&&(void 0===u||mt.monthCode===u.monthCode&&mt.day>u.day)&&(u=mt,J=Ye)}if("constrain"===n&&void 0!==J)return J;throw new RangeError(`No recent ${this.id} year with monthCode ${X} and day ${N}`)}}class x5 extends Z0{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:o,year:p}=t,y=this.getMonthCode(p,o),l=jE(this.months).find(J=>J[1].monthCode===y);if(void 0===l)throw new RangeError(`unmatched Hebrew month: ${o}`);const u=l[1].days;return"number"==typeof u?u:u[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?Fu(5,!0):Fu(n<6?n:n-1):Fu(n)}adjustCalendarDate(t,n,o="constrain",p=!1){let{year:y,eraYear:l,month:u,monthCode:J,day:X,monthExtra:N}=t;if(void 0===y&&void 0!==l&&(y=l),void 0===l&&void 0!==y&&(l=y),p){if(N){const oe=this.months[N];if(!oe)throw new RangeError(`Unrecognized month from formatToParts: ${N}`);u=this.inLeapYear({year:y})?oe.leap:oe.regular}return J=this.getMonthCode(y,u),{year:y,month:u,day:X,era:void 0,eraYear:l,monthCode:J}}if(this.validateCalendarDate(t),void 0===u)if(J.endsWith("L")){if("M05L"!==J)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${J}`);if(u=6,!this.inLeapYear({year:y})){if("reject"===o)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${y} which is not a leap year`);u=6,J="M06"}}else{u=VE(J),this.inLeapYear({year:y})&&u>=6&&u++;const oe=this.monthsInYear({year:y});if(u<1||u>oe)throw new RangeError(`Invalid monthCode: ${J}`)}else if("reject"===o?(_a(u,1,this.monthsInYear({year:y})),_a(X,1,this.maximumMonthLength({year:y,month:u}))):(u=Sd(u,1,this.monthsInYear({year:y})),X=Sd(X,1,this.maximumMonthLength({year:y,month:u}))),void 0===J)J=this.getMonthCode(y,u);else if(this.getMonthCode(y,u)!==J)throw new RangeError(`monthCode ${J} doesn't correspond to month ${u} in Hebrew year ${y}`);return{...t,day:X,month:u,monthCode:J,year:y,eraYear:l}}}class Y0 extends Z0{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:E5(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class nT extends Y0{constructor(){super(...arguments),this.id="islamic"}}class rT extends Y0{constructor(){super(...arguments),this.id="islamic-umalqura"}}class iT extends Y0{constructor(){super(...arguments),this.id="islamic-tbla"}}class oT extends Y0{constructor(){super(...arguments),this.id="islamic-civil"}}class M5 extends Y0{constructor(){super(...arguments),this.id="islamic-rgsa"}}class sT extends Y0{constructor(){super(...arguments),this.id="islamicc"}}class S5 extends Z0{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return nT.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class D5 extends Z0{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return HE(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let o=this.months[n];if(void 0===o)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&o.leap&&(o=o.leap),o}estimateIsoDate(t){const n=this.adjustCalendarDate(t),o=this.getMonthInfo(n);return Lu(n.year+78+(o.nextYear?1:0),o.month,o.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function HE(r){return r%4==0&&(r%100!=0||r%400==0)}class X0 extends Z0{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:o,anchorEra:p}=function(l){let u,J=l;if(0===J.length)throw new RangeError("Invalid era data: eras are required");if(1===J.length&&J[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===J.length&&!J[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(J.filter(N=>null!=N.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");J.forEach(N=>{if(N.isAnchor||!N.anchorEpoch&&!N.reverseOf){if(u)throw new RangeError("Invalid era data: cannot have multiple anchor eras");u=N,N.anchorEpoch={year:N.hasYearZero?0:1}}else if(!N.name)throw new RangeError("If era name is blank, it must be the anchor era")}),J=J.filter(N=>N.name),J.forEach(N=>{const{reverseOf:oe}=N;if(oe){const Ee=J.find(Le=>Le.name===oe);if(void 0===Ee)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${oe}`);N.reverseOf=Ee,N.anchorEpoch=Ee.anchorEpoch,N.isoEpoch=Ee.isoEpoch}void 0===N.anchorEpoch.month&&(N.anchorEpoch.month=1),void 0===N.anchorEpoch.day&&(N.anchorEpoch.day=1)}),_5.call(J,(N,oe)=>{if(N.reverseOf)return 1;if(oe.reverseOf)return-1;if(!N.isoEpoch||!oe.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return oe.isoEpoch.year-N.isoEpoch.year});const X=J[J.length-1].reverseOf;if(X&&X!==J[J.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return J.forEach((N,oe)=>{N.genericName="era"+(J.length-1-oe)}),{eras:J,anchorEra:u||J[0]}}(n);this.anchorEra=p,this.eras=o}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return HE(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(u,J)=>{const X=t[u];if(null!=X&&X!=J)throw new RangeError(`Input ${u} ${X} doesn't match calculated value ${J}`)},o=u=>{let J;const X={...t,year:u},N=this.eras.find((oe,Ee)=>{if(Ee===this.eras.length-1){if(oe.reverseOf){if(u>0)throw new RangeError(`Signed year ${u} is invalid for era ${oe.name}`);return J=oe.anchorEpoch.year-u,!0}return J=u-oe.anchorEpoch.year+(oe.hasYearZero?0:1),!0}return this.compareCalendarDates(X,oe.anchorEpoch)>=0&&(J=u-oe.anchorEpoch.year+(oe.hasYearZero?0:1),!0)});if(!N)throw new RangeError(`Year ${u} was not matched by any era`);return{eraYear:J,era:N.name}};let{year:p,eraYear:y,era:l}=t;if(null!=p)({eraYear:y,era:l}=o(p)),n("era",l),n("eraYear",y);else{if(null==y)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const u=void 0===l?void 0:this.eras.find(J=>J.name===l||J.genericName===l);if(!u)throw new RangeError(`Era ${l} (ISO year ${y}) was not matched by any era`);if(y<1&&u.reverseOf)throw new RangeError(`Years in ${l} era must be positive, not ${p}`);p=u.reverseOf?u.anchorEpoch.year-y:y+u.anchorEpoch.year-(u.hasYearZero?0:1),n("year",p),({eraYear:y,era:l}=o(p))}}return{...t,year:p,eraYear:y,era:l}}adjustCalendarDate(t,n,o="constrain"){let p=t;const{month:y,monthCode:l}=p;return void 0===y&&(p={...p,month:VE(l)}),this.validateCalendarDate(p),p=this.completeEraYear(p),super.adjustCalendarDate(p,n,o)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:o,month:p,day:y}=n,{anchorEra:l}=this;return $w(o+l.isoEpoch.year-(l.hasYearZero?0:1),p,y,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Wp(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class av extends X0{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class WE extends av{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class I5 extends av{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class GE extends av{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class aT extends X0{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class cT extends X0{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class FP extends X0{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:o}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:o}}}class dT extends X0{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:o,eraYear:p}=t,{year:y}=n;return this.eras.find(l=>l.name===o)?{era:o,eraYear:p}:y<1?{era:"bce",eraYear:1-y}:{era:"ce",eraYear:y}}}class lT extends Z0{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const o=this.getMonthList(t.year,n);return 13===jE(o).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const o=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),p=n.get(o);if(p)return p;const y=this.getFormatter(),l=(mt,St)=>{const gt=tT({isoYear:mt,isoMonth:2,isoDay:1}),yt=new Date(gt);yt.setUTCDate(St+1);const Tt=y.formatToParts(yt),zt=Tt.find($t=>"month"===$t.type).value,Zt=+Tt.find($t=>"day"===$t.type).value;let cn=Tt.find($t=>"relatedYear"===$t.type);if(void 0===cn)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return cn=+cn.value,{calendarMonthString:zt,calendarDay:Zt,calendarYearToVerify:cn}};let u=17,{calendarMonthString:J,calendarDay:X,calendarYearToVerify:N}=l(t,u);"1"!==J&&(u+=29,({calendarMonthString:J,calendarDay:X}=l(t,u))),u-=X-5;const oe={};let Ee,Le,Pe=1,Ye=!1;do{({calendarMonthString:J,calendarDay:X,calendarYearToVerify:N}=l(t,u)),Ee&&(oe[Le].daysInMonth=Ee+30-X),N!==t?Ye=!0:(oe[J]={monthIndex:Pe++},u+=30),Ee=X,Le=J}while(!Ye);return oe[Le].daysInMonth=Ee+30-X,n.set(o,oe),oe}estimateIsoDate(t){const{year:n,month:o}=t;return{year:n,month:o>=12?12:o+1,day:1}}adjustCalendarDate(t,n,o="constrain",p=!1){let{year:y,month:l,monthExtra:u,day:J,monthCode:X,eraYear:N}=t;if(p){if(y=N,u&&"bis"!==u)throw new RangeError(`Unexpected leap month suffix: ${u}`);const oe=Fu(l,void 0!==u),Ee=`${l}${u||""}`,Le=this.getMonthList(y,n)[Ee];if(void 0===Le)throw new RangeError(`Unmatched month ${Ee} in Chinese year ${y}`);return l=Le.monthIndex,{year:y,month:l,day:J,era:void 0,eraYear:N,monthCode:oe}}if(this.validateCalendarDate(t),void 0===y&&(y=N),void 0===N&&(N=y),void 0===l){const oe=this.getMonthList(y,n);let Ee=X.replace("L","bis").slice(1);"0"===Ee[0]&&(Ee=Ee.slice(1));let Le=oe[Ee];if(l=Le&&Le.monthIndex,void 0===l&&X.endsWith("L")&&"M13L"!=X&&"constrain"===o){let Pe=X.slice(1,-1);"0"===Pe[0]&&(Pe=Pe.slice(1)),Le=oe[Pe],Le&&(l=Le.monthIndex,X=Fu(Pe))}if(void 0===l)throw new RangeError(`Unmatched month ${X} in Chinese year ${y}`)}else if(void 0===X){const oe=this.getMonthList(y,n),Ee=jE(oe),Le=Ee.length;"reject"===o?(_a(l,1,Le),_a(J,1,this.maximumMonthLength())):(l=Sd(l,1,Le),J=Sd(J,1,this.maximumMonthLength()));const Pe=Ee.find(([,Ye])=>Ye.monthIndex===l);if(void 0===Pe)throw new RangeError(`Invalid month ${l} in Chinese year ${y}`);X=Fu(Pe[0].replace("bis",""),-1!==Pe[0].indexOf("bis"))}else{const oe=this.getMonthList(y,n);let Ee=X.replace("L","bis").slice(1);"0"===Ee[0]&&(Ee=Ee.slice(1));const Le=oe[Ee];if(!Le)throw new RangeError(`Unmatched monthCode ${X} in Chinese year ${y}`);if(l!==Le.monthIndex)throw new RangeError(`monthCode ${X} doesn't correspond to month ${l} in Chinese year ${y}`)}return{...t,year:y,eraYear:N,month:l,monthCode:X,day:J}}}class uT extends lT{constructor(){super(...arguments),this.id="chinese"}}class fT extends lT{constructor(){super(...arguments),this.id="dangi"}}class T5{constructor(t){this.helper=t}dateFromFields(t,n,o){const p=new Bs,y=ro(t,this.fields(["day","month","monthCode","year"]),[]),l=Js(n),{year:u,month:J,day:X}=this.helper.calendarToIsoDate(y,l,p),N=xd(u,J,X,o);return p.setObject(N),N}yearMonthFromFields(t,n,o){const p=new Bs,y=ro(t,this.fields(["month","monthCode","year"]),[]),l=Js(n),{year:u,month:J,day:X}=this.helper.calendarToIsoDate({...y,day:1},l,p),N=Ru(u,J,o,X);return p.setObject(N),N}monthDayFromFields(t,n,o){const p=new Bs,y=ro(t,this.fields(["day","month","monthCode","year"]),[]),l=Js(n),{year:u,month:J,day:X}=this.helper.monthDayFromFields(y,l,p),N=Pu(J,X,o,u);return p.setObject(N),N}fields(t){let n=t;return XI.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new $E;for(let o=0;o<t.length;o++){const p=t[o];switch(ei(tc,n,[p]),p){case"era":ei(tc,n,["eraYear"]),ei(tc,n,["year"]);break;case"eraYear":ei(tc,n,["era"]),ei(tc,n,["year"]);break;case"year":ei(tc,n,["era"]),ei(tc,n,["eraYear"]);break;case"month":ei(tc,n,["monthCode"]),this.helper.erasBeginMidYear&&(ei(tc,n,["era"]),ei(tc,n,["eraYear"]));break;case"monthCode":ei(tc,n,["month"]),this.helper.erasBeginMidYear&&(ei(tc,n,["era"]),ei(tc,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(ei(tc,n,["era"]),ei(tc,n,["eraYear"]))}}return[...ei(eT,n,[])]}dateAdd(t,n,o,p,y,l,u){const J=Bs.getCacheForObject(t),X=this.helper.temporalToCalendarDate(t,J),N=this.helper.addCalendar(X,{years:n,months:o,weeks:p,days:y},l,J),oe=this.helper.calendarToIsoDate(N,"constrain",J),{year:Ee,month:Le,day:Pe}=oe,Ye=xd(Ee,Le,Pe,u);return new Bs(J).setObject(Ye),Ye}dateUntil(t,n,o){const p=Bs.getCacheForObject(t),y=Bs.getCacheForObject(n),l=this.helper.temporalToCalendarDate(t,p),u=this.helper.temporalToCalendarDate(n,y);return this.helper.untilCalendar(l,u,o,p)}year(t){const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return xs.iso8601.dayOfWeek(t)}dayOfYear(t){const n=Bs.getCacheForObject(t),o=this.helper.isoToCalendarDate(t,n),p=this.helper.startOfCalendarYear(o);return this.helper.calendarDaysUntil(p,o,n)+1}weekOfYear(t){return xs.iso8601.weekOfYear(t)}yearOfWeek(t){return xs.iso8601.yearOfWeek(t)}daysInWeek(t){return xs.iso8601.daysInWeek(t)}daysInMonth(t){const n=Bs.getCacheForObject(t),o=this.helper.temporalToCalendarDate(t,n),p=this.helper.maximumMonthLength(o);if(p===this.helper.minimumMonthLength(o))return p;const y=this.helper.startOfCalendarMonth(o),l=this.helper.addMonthsCalendar(y,1,"constrain",n);return this.helper.calendarDaysUntil(y,l,n)}daysInYear(t){let n=t;Oa(n,$r)||(n=Lo(n));const o=Bs.getCacheForObject(n),p=this.helper.temporalToCalendarDate(n,o),y=this.helper.startOfCalendarYear(p),l=this.helper.addCalendar(y,{years:1},"constrain",o);return this.helper.calendarDaysUntil(y,l,o)}monthsInYear(t){const n=Bs.getCacheForObject(t),o=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(o,n)}inLeapYear(t){let n=t;Oa(n,$r)||(n=Lo(n));const o=Bs.getCacheForObject(n),p=this.helper.temporalToCalendarDate(n,o);return this.helper.inLeapYear(p,o)}}for(const r of[x5,S5,GE,WE,I5,uT,fT,aT,D5,cT,FP,dT,nT,rT,iT,oT,M5,sT]){const t=new r;xs[t.id]=new T5(t)}class Yp{constructor(t,n,o,p="iso8601"){Bp(this,bo(t),bo(n),bo(o),cd(p))}get calendarId(){if(!ao(this))throw new TypeError("invalid receiver");return Ja(Re(this,Yn))}get era(){if(!ao(this))throw new TypeError("invalid receiver");return Ky(Re(this,Yn),this)}get eraYear(){if(!ao(this))throw new TypeError("invalid receiver");return Vy(Re(this,Yn),this)}get year(){if(!ao(this))throw new TypeError("invalid receiver");return jy(Re(this,Yn),this)}get month(){if(!ao(this))throw new TypeError("invalid receiver");return $y(Re(this,Yn),this)}get monthCode(){if(!ao(this))throw new TypeError("invalid receiver");return T0(Re(this,Yn),this)}get day(){if(!ao(this))throw new TypeError("invalid receiver");return A0(Re(this,Yn),this)}get dayOfWeek(){if(!ao(this))throw new TypeError("invalid receiver");return Hw(Re(this,Yn),this)}get dayOfYear(){if(!ao(this))throw new TypeError("invalid receiver");return Ww(Re(this,Yn),this)}get weekOfYear(){if(!ao(this))throw new TypeError("invalid receiver");return C0(Re(this,Yn),this)}get yearOfWeek(){if(!ao(this))throw new TypeError("invalid receiver");return Ou(Re(this,Yn),this)}get daysInWeek(){if(!ao(this))throw new TypeError("invalid receiver");return yE(Re(this,Yn),this)}get daysInMonth(){if(!ao(this))throw new TypeError("invalid receiver");return Gw(Re(this,Yn),this)}get daysInYear(){if(!ao(this))throw new TypeError("invalid receiver");return k0(Re(this,Yn),this)}get monthsInYear(){if(!ao(this))throw new TypeError("invalid receiver");return Nu(Re(this,Yn),this)}get inLeapYear(){if(!ao(this))throw new TypeError("invalid receiver");return P0(Re(this,Yn),this)}with(t,n){if(!ao(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");Pp(t);const o=po(n),p=Re(this,Yn),y=Es(p,["day","month","monthCode","year"]);let l=ro(this,y,[]);return l=al(p,l,ro(t,y,"partial")),l=ro(l,y,[]),Mf(p,l,o)}withCalendar(t){if(!ao(this))throw new TypeError("invalid receiver");const n=cd(t);return new Yp(Re(this,$r),Re(this,Hr),Re(this,Xr),n)}add(t,n){if(!ao(this))throw new TypeError("invalid receiver");const o=D0(t),p=po(n);return Qs(Re(this,Yn),this,o,p)}subtract(t,n){if(!ao(this))throw new TypeError("invalid receiver");const o=i_(D0(t)),p=po(n);return Qs(Re(this,Yn),this,o,p)}until(t,n){if(!ao(this))throw new TypeError("invalid receiver");return UI("until",this,t,n)}since(t,n){if(!ao(this))throw new TypeError("invalid receiver");return UI("since",this,t,n)}equals(t){if(!ao(this))throw new TypeError("invalid receiver");const n=Lo(t);for(const o of[$r,Hr,Xr])if(Re(this,o)!==Re(n,o))return!1;return Hy(Re(this,Yn),Re(n,Yn))}toString(t){if(!ao(this))throw new TypeError("invalid receiver");return Hl(this,Ly(po(t)))}toJSON(){if(!ao(this))throw new TypeError("invalid receiver");return Hl(this)}toLocaleString(t,n){if(!ao(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!ao(this))throw new TypeError("invalid receiver");const n=Re(this,$r),o=Re(this,Hr),p=Re(this,Xr),y=Re(this,Yn);if(void 0===t)return xc(n,o,p,0,0,0,0,0,0,y);const l=ku(t);return xc(n,o,p,Re(l,qi),Re(l,Qi),Re(l,zi),Re(l,Hi),Re(l,Wi),Re(l,Zi),y)}toZonedDateTime(t){if(!ao(this))throw new TypeError("invalid receiver");let n,o;if(ds(t))if(Xa(t))n=t;else{const Pe=t.timeZone;void 0===Pe?n=qa(t):(n=qa(Pe),o=t.plainTime)}else n=qa(t);const p=Re(this,$r),y=Re(this,Hr),l=Re(this,Xr),u=Re(this,Yn);let J=0,X=0,N=0,oe=0,Ee=0,Le=0;return void 0!==o&&(o=ku(o),J=Re(o,qi),X=Re(o,Qi),N=Re(o,zi),oe=Re(o,Hi),Ee=Re(o,Wi),Le=Re(o,Zi)),qs(Re(Qa(n,xc(p,y,l,J,X,N,oe,Ee,Le,u),"compatible"),yi),n,u)}toPlainYearMonth(){if(!ao(this))throw new TypeError("invalid receiver");const t=Re(this,Yn);return zs(t,ro(this,Es(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ao(this))throw new TypeError("invalid receiver");const t=Re(this,Yn);return Kp(t,ro(this,Es(t,["day","monthCode"]),[]))}getISOFields(){if(!ao(this))throw new TypeError("invalid receiver");return{calendar:Re(this,Yn),isoDay:Re(this,Xr),isoMonth:Re(this,Hr),isoYear:Re(this,$r)}}getCalendar(){if(!ao(this))throw new TypeError("invalid receiver");return zy(Re(this,Yn))}static from(t,n){const o=po(n);return ao(t)?(Js(o),xd(Re(t,$r),Re(t,Hr),Re(t,Xr),Re(t,Yn))):Lo(t,o)}static compare(t,n){const o=Lo(t),p=Lo(n);return Wp(Re(o,$r),Re(o,Hr),Re(o,Xr),Re(p,$r),Re(p,Hr),Re(p,Xr))}}Fl(Yp,"Temporal.PlainDate");class Xp{constructor(t,n,o,p=0,y=0,l=0,u=0,J=0,X=0,N="iso8601"){Lp(this,bo(t),bo(n),bo(o),void 0===p?0:bo(p),void 0===y?0:bo(y),void 0===l?0:bo(l),void 0===u?0:bo(u),void 0===J?0:bo(J),void 0===X?0:bo(X),cd(N))}get calendarId(){if(!Vi(this))throw new TypeError("invalid receiver");return Ja(Re(this,Yn))}get year(){if(!Vi(this))throw new TypeError("invalid receiver");return jy(Re(this,Yn),this)}get month(){if(!Vi(this))throw new TypeError("invalid receiver");return $y(Re(this,Yn),this)}get monthCode(){if(!Vi(this))throw new TypeError("invalid receiver");return T0(Re(this,Yn),this)}get day(){if(!Vi(this))throw new TypeError("invalid receiver");return A0(Re(this,Yn),this)}get hour(){if(!Vi(this))throw new TypeError("invalid receiver");return Re(this,qi)}get minute(){if(!Vi(this))throw new TypeError("invalid receiver");return Re(this,Qi)}get second(){if(!Vi(this))throw new TypeError("invalid receiver");return Re(this,zi)}get millisecond(){if(!Vi(this))throw new TypeError("invalid receiver");return Re(this,Hi)}get microsecond(){if(!Vi(this))throw new TypeError("invalid receiver");return Re(this,Wi)}get nanosecond(){if(!Vi(this))throw new TypeError("invalid receiver");return Re(this,Zi)}get era(){if(!Vi(this))throw new TypeError("invalid receiver");return Ky(Re(this,Yn),this)}get eraYear(){if(!Vi(this))throw new TypeError("invalid receiver");return Vy(Re(this,Yn),this)}get dayOfWeek(){if(!Vi(this))throw new TypeError("invalid receiver");return Hw(Re(this,Yn),this)}get dayOfYear(){if(!Vi(this))throw new TypeError("invalid receiver");return Ww(Re(this,Yn),this)}get weekOfYear(){if(!Vi(this))throw new TypeError("invalid receiver");return C0(Re(this,Yn),this)}get yearOfWeek(){if(!Vi(this))throw new TypeError("invalid receiver");return Ou(Re(this,Yn),this)}get daysInWeek(){if(!Vi(this))throw new TypeError("invalid receiver");return yE(Re(this,Yn),this)}get daysInYear(){if(!Vi(this))throw new TypeError("invalid receiver");return k0(Re(this,Yn),this)}get daysInMonth(){if(!Vi(this))throw new TypeError("invalid receiver");return Gw(Re(this,Yn),this)}get monthsInYear(){if(!Vi(this))throw new TypeError("invalid receiver");return Nu(Re(this,Yn),this)}get inLeapYear(){if(!Vi(this))throw new TypeError("invalid receiver");return P0(Re(this,Yn),this)}with(t,n){if(!Vi(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");Pp(t);const o=po(n),p=Re(this,Yn),y=Es(p,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let l=ro(this,y,[]);l=al(p,l,ro(t,y,"partial")),l=ro(l,y,[]);const{year:u,month:J,day:X,hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Ye}=S0(p,l,o);return xc(u,J,X,N,oe,Ee,Le,Pe,Ye,p)}withPlainTime(t){if(!Vi(this))throw new TypeError("invalid receiver");const n=Re(this,$r),o=Re(this,Hr),p=Re(this,Xr),y=Re(this,Yn);if(void 0===t)return xc(n,o,p,0,0,0,0,0,0,y);const l=ku(t);return xc(n,o,p,Re(l,qi),Re(l,Qi),Re(l,zi),Re(l,Hi),Re(l,Wi),Re(l,Zi),y)}withPlainDate(t){if(!Vi(this))throw new TypeError("invalid receiver");const n=Lo(t),o=Re(n,$r),p=Re(n,Hr),y=Re(n,Xr);let l=Re(n,Yn);const u=Re(this,qi),J=Re(this,Qi),X=Re(this,zi),N=Re(this,Hi),oe=Re(this,Wi),Ee=Re(this,Zi);return l=vE(Re(this,Yn),l),xc(o,p,y,u,J,X,N,oe,Ee,l)}withCalendar(t){if(!Vi(this))throw new TypeError("invalid receiver");const n=cd(t);return new Xp(Re(this,$r),Re(this,Hr),Re(this,Xr),Re(this,qi),Re(this,Qi),Re(this,zi),Re(this,Hi),Re(this,Wi),Re(this,Zi),n)}add(t,n){if(!Vi(this))throw new TypeError("invalid receiver");return c_("add",this,t,n)}subtract(t,n){if(!Vi(this))throw new TypeError("invalid receiver");return c_("subtract",this,t,n)}until(t,n){if(!Vi(this))throw new TypeError("invalid receiver");return FI("until",this,t,n)}since(t,n){if(!Vi(this))throw new TypeError("invalid receiver");return FI("since",this,t,n)}round(t){if(!Vi(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pf("smallestUnit",t):po(t),o=x0(n),p=zl(n,"halfExpand"),y=ad(n,"smallestUnit","time",Rp,["day"]),l={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[y];M0(o,l,1===l);let u=Re(this,$r),J=Re(this,Hr),X=Re(this,Xr),N=Re(this,qi),oe=Re(this,Qi),Ee=Re(this,zi),Le=Re(this,Hi),Pe=Re(this,Wi),Ye=Re(this,Zi);return({year:u,month:J,day:X,hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Ye}=tv(u,J,X,N,oe,Ee,Le,Pe,Ye,o,y,p)),xc(u,J,X,N,oe,Ee,Le,Pe,Ye,Re(this,Yn))}equals(t){if(!Vi(this))throw new TypeError("invalid receiver");const n=Ed(t);for(const o of[$r,Hr,Xr,qi,Qi,zi,Hi,Wi,Zi])if(Re(this,o)!==Re(n,o))return!1;return Hy(Re(this,Yn),Re(n,Yn))}toString(t){if(!Vi(this))throw new TypeError("invalid receiver");const n=po(t),o=Ly(n),p=Uy(n),y=zl(n,"trunc"),l=ad(n,"smallestUnit","time",void 0);if("hour"===l)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:u,unit:J,increment:X}=Fy(l,p);return II(this,u,o,{unit:J,increment:X,roundingMode:y})}toJSON(){if(!Vi(this))throw new TypeError("invalid receiver");return II(this,"auto")}toLocaleString(t,n){if(!Vi(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!Vi(this))throw new TypeError("invalid receiver");const o=qa(t);return qs(Re(Qa(o,this,E0(po(n))),yi),o,Re(this,Yn))}toPlainDate(){if(!Vi(this))throw new TypeError("invalid receiver");return Vp(this)}toPlainYearMonth(){if(!Vi(this))throw new TypeError("invalid receiver");const t=Re(this,Yn);return zs(t,ro(this,Es(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Vi(this))throw new TypeError("invalid receiver");const t=Re(this,Yn);return Kp(t,ro(this,Es(t,["day","monthCode"]),[]))}toPlainTime(){if(!Vi(this))throw new TypeError("invalid receiver");return Yw(this)}getISOFields(){if(!Vi(this))throw new TypeError("invalid receiver");return{calendar:Re(this,Yn),isoDay:Re(this,Xr),isoHour:Re(this,qi),isoMicrosecond:Re(this,Wi),isoMillisecond:Re(this,Hi),isoMinute:Re(this,Qi),isoMonth:Re(this,Hr),isoNanosecond:Re(this,Zi),isoSecond:Re(this,zi),isoYear:Re(this,$r)}}getCalendar(){if(!Vi(this))throw new TypeError("invalid receiver");return zy(Re(this,Yn))}static from(t,n){const o=po(n);return Vi(t)?(Js(o),xc(Re(t,$r),Re(t,Hr),Re(t,Xr),Re(t,qi),Re(t,Qi),Re(t,zi),Re(t,Hi),Re(t,Wi),Re(t,Zi),Re(t,Yn))):Ed(t,o)}static compare(t,n){const o=Ed(t),p=Ed(n);for(const y of[$r,Hr,Xr,qi,Qi,zi,Hi,Wi,Zi]){const l=Re(o,y),u=Re(p,y);if(l!==u)return ll(l-u)}return 0}}Fl(Xp,"Temporal.PlainDateTime");class Of{constructor(t=0,n=0,o=0,p=0,y=0,l=0,u=0,J=0,X=0,N=0){const oe=void 0===t?0:Os(t),Ee=void 0===n?0:Os(n),Le=void 0===o?0:Os(o),Pe=void 0===p?0:Os(p),Ye=void 0===y?0:Os(y),mt=void 0===l?0:Os(l),St=void 0===u?0:Os(u),gt=void 0===J?0:Os(J),yt=void 0===X?0:Os(X),Tt=void 0===N?0:Os(N);Xy(oe,Ee,Le,Pe,Ye,mt,St,gt,yt,Tt),jl(this),no(this,Fc,oe),no(this,Ra,Ee),no(this,va,Le),no(this,ba,Pe),no(this,vc,Ye),no(this,jc,mt),no(this,Za,St),no(this,bc,gt),no(this,$c,yt),no(this,wc,Tt)}get years(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,Fc)}get months(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,Ra)}get weeks(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,va)}get days(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,ba)}get hours(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,vc)}get minutes(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,jc)}get seconds(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,Za)}get milliseconds(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,bc)}get microseconds(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,$c)}get nanoseconds(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,wc)}get sign(){if(!_s(this))throw new TypeError("invalid receiver");return Gl(Re(this,Fc),Re(this,Ra),Re(this,va),Re(this,ba),Re(this,vc),Re(this,jc),Re(this,Za),Re(this,bc),Re(this,$c),Re(this,wc))}get blank(){if(!_s(this))throw new TypeError("invalid receiver");return 0===Gl(Re(this,Fc),Re(this,Ra),Re(this,va),Re(this,ba),Re(this,vc),Re(this,jc),Re(this,Za),Re(this,bc),Re(this,$c),Re(this,wc))}with(t){if(!_s(this))throw new TypeError("invalid receiver");const n=ro(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:o=Re(this,Fc),months:p=Re(this,Ra),weeks:y=Re(this,va),days:l=Re(this,ba),hours:u=Re(this,vc),minutes:J=Re(this,jc),seconds:X=Re(this,Za),milliseconds:N=Re(this,bc),microseconds:oe=Re(this,$c),nanoseconds:Ee=Re(this,wc)}=n;return new Of(o,p,y,l,u,J,X,N,oe,Ee)}negated(){if(!_s(this))throw new TypeError("invalid receiver");return i_(this)}abs(){if(!_s(this))throw new TypeError("invalid receiver");return new Of(Math.abs(Re(this,Fc)),Math.abs(Re(this,Ra)),Math.abs(Re(this,va)),Math.abs(Re(this,ba)),Math.abs(Re(this,vc)),Math.abs(Re(this,jc)),Math.abs(Re(this,Za)),Math.abs(Re(this,bc)),Math.abs(Re(this,$c)),Math.abs(Re(this,wc)))}add(t,n){if(!_s(this))throw new TypeError("invalid receiver");return Qy("add",this,t,n)}subtract(t,n){if(!_s(this))throw new TypeError("invalid receiver");return Qy("subtract",this,t,n)}round(t){if(!_s(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=Re(this,Fc),o=Re(this,Ra),p=Re(this,va),y=Re(this,ba),l=Re(this,vc),u=Re(this,jc),J=Re(this,Za),X=Re(this,bc),N=Re(this,$c),oe=Re(this,wc),Ee=gE(n,o,p,y,l,u,J,X,N,oe);const Le="string"==typeof t?Pf("smallestUnit",t):po(t);let Pe=ad(Le,"largestUnit","datetime",void 0,["auto"]),Ye=Vw(Le);const mt=x0(Le),St=zl(Le,"halfExpand");let gt=ad(Le,"smallestUnit","datetime",void 0),yt=!0;gt||(yt=!1,gt="nanosecond"),Ee=Op(Ee,gt);let Tt=!0;if(Pe||(Tt=!1,Pe=Ee),"auto"===Pe&&(Pe=Ee),!yt&&!Tt)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Op(Pe,gt)!==Pe)throw new RangeError(`largestUnit ${Pe} cannot be smaller than smallestUnit ${gt}`);const zt={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[gt];return void 0!==zt&&M0(mt,zt,!1),({years:n,months:o,weeks:p,days:y}=r_(n,o,p,y,Pe,Ye)),({years:n,months:o,weeks:p,days:y,hours:l,minutes:u,seconds:J,milliseconds:X,microseconds:N,nanoseconds:oe}=Yl(n,o,p,y,l,u,J,X,N,oe,mt,gt,St,Ye)),({years:n,months:o,weeks:p,days:y,hours:l,minutes:u,seconds:J,milliseconds:X,microseconds:N,nanoseconds:oe}=g5(n,o,p,y,l,u,J,X,N,oe,mt,gt,St,Ye)),({days:y,hours:l,minutes:u,seconds:J,milliseconds:X,microseconds:N,nanoseconds:oe}=dl(y,l,u,J,X,N,oe,Pe,Ye)),({years:n,months:o,weeks:p,days:y}=function(cn,$t,kn,Jn,tr,dr){const Zn=xr("%Temporal.Duration%"),Gn=Gl(cn,$t,kn,Jn,0,0,0,0,0,0);if(0===Gn)return{years:cn,months:$t,weeks:kn,days:Jn};const Kn=Mt.BigInt(Gn);let qn,Pn,br=Mt.BigInt(cn),Wr=Mt.BigInt($t),Ar=Mt.BigInt(kn),ai=Mt.BigInt(Jn);dr&&(Pn=Lo(dr),qn=Re(Pn,Yn));const io=new Zn(Gn),Cn=new Zn(0,Gn),hi=new Zn(0,0,Gn);switch(tr){case"year":{if(!qn)throw new RangeError("a starting point is required for years balancing");const wo="string"!=typeof qn?go(qn,"dateAdd"):void 0;let Mr,er,Er;for(({relativeTo:Mr,days:er}=ec(qn,Pn,io,wo));Mt.greaterThanOrEqual(Kl(ai),Mt.BigInt(bs(er)));)ai=Mt.subtract(ai,Mt.BigInt(er)),br=Mt.add(br,Kn),Pn=Mr,({relativeTo:Mr,days:er}=ec(qn,Pn,io,wo));for(({relativeTo:Mr,days:Er}=ec(qn,Pn,Cn,wo));Mt.greaterThanOrEqual(Kl(ai),Mt.BigInt(bs(Er)));)ai=Mt.subtract(ai,Mt.BigInt(Er)),Wr=Mt.add(Wr,Kn),Pn=Mr,({relativeTo:Mr,days:Er}=ec(qn,Pn,Cn,wo));Mr=Qs(qn,Pn,io,void 0,wo);const ii="string"!=typeof qn?go(qn,"dateUntil"):void 0,Fi=Ya(null);Fi.largestUnit="month";let ji=xf(qn,Pn,Mr,Fi,ii),mi=Re(ji,Ra);for(;Mt.greaterThanOrEqual(Kl(Wr),Mt.BigInt(bs(mi)));){Wr=Mt.subtract(Wr,Mt.BigInt(mi)),br=Mt.add(br,Kn),Pn=Mr,Mr=Qs(qn,Pn,io,void 0,wo);const vi=Ya(null);vi.largestUnit="month",ji=xf(qn,Pn,Mr,vi,ii),mi=Re(ji,Ra)}break}case"month":{if(!qn)throw new RangeError("a starting point is required for months balancing");const wo="string"!=typeof qn?go(qn,"dateAdd"):void 0;let Mr,er;for(({relativeTo:Mr,days:er}=ec(qn,Pn,Cn,wo));Mt.greaterThanOrEqual(Kl(ai),Mt.BigInt(bs(er)));)ai=Mt.subtract(ai,Mt.BigInt(er)),Wr=Mt.add(Wr,Kn),Pn=Mr,({relativeTo:Mr,days:er}=ec(qn,Pn,Cn,wo));break}case"week":{if(!qn)throw new RangeError("a starting point is required for weeks balancing");const wo="string"!=typeof qn?go(qn,"dateAdd"):void 0;let Mr,er;for(({relativeTo:Mr,days:er}=ec(qn,Pn,hi,wo));Mt.greaterThanOrEqual(Kl(ai),Mt.BigInt(bs(er)));)ai=Mt.subtract(ai,Mt.BigInt(er)),Ar=Mt.add(Ar,Kn),Pn=Mr,({relativeTo:Mr,days:er}=ec(qn,Pn,hi,wo));break}}return{years:Mt.toNumber(br),months:Mt.toNumber(Wr),weeks:Mt.toNumber(Ar),days:Mt.toNumber(ai)}}(n,o,p,y,Pe,Ye)),new Of(n,o,p,y,l,u,J,X,N,oe)}total(t){if(!_s(this))throw new TypeError("invalid receiver");let n=Re(this,Fc),o=Re(this,Ra),p=Re(this,va),y=Re(this,ba),l=Re(this,vc),u=Re(this,jc),J=Re(this,Za),X=Re(this,bc),N=Re(this,$c),oe=Re(this,wc);if(void 0===t)throw new TypeError("options argument is required");const Ee="string"==typeof t?Pf("unit",t):po(t),Le=Vw(Ee),Pe=ad(Ee,"unit","datetime",Rp);let Ye;({years:n,months:o,weeks:p,days:y}=r_(n,o,p,y,Pe,Le)),Zr(Le)&&(Ye=Hp(Le,n,o,p,0));let mt=kI(y,l,u,J,X,N,oe,Pe,Ye);if("positive overflow"===mt)return 1/0;if("negative overflow"===mt)return-1/0;({days:y,hours:l,minutes:u,seconds:J,milliseconds:X,microseconds:N,nanoseconds:oe}=mt);const{total:St}=Yl(n,o,p,y,l,u,J,X,N,oe,1,Pe,"trunc",Le);return St}toString(t){if(!_s(this))throw new TypeError("invalid receiver");const n=po(t),o=Uy(n),p=zl(n,"trunc"),y=ad(n,"smallestUnit","time",void 0);if("hour"===y||"minute"===y)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:l,unit:u,increment:J}=Fy(y,o);return Zy(this,l,{unit:u,increment:J,roundingMode:p})}toJSON(){if(!_s(this))throw new TypeError("invalid receiver");return Zy(this)}toLocaleString(t,n){if(!_s(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),Zy(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return _s(t)?new Of(Re(t,Fc),Re(t,Ra),Re(t,va),Re(t,ba),Re(t,vc),Re(t,jc),Re(t,Za),Re(t,bc),Re(t,$c),Re(t,wc)):D0(t)}static compare(t,n,o){const p=D0(t),y=D0(n),l=Vw(po(o)),u=Re(p,Fc),J=Re(p,Ra),X=Re(p,va);let N=Re(p,ba);const oe=Re(p,vc),Ee=Re(p,jc),Le=Re(p,Za),Pe=Re(p,bc),Ye=Re(p,$c);let mt=Re(p,wc);const St=Re(y,Fc),gt=Re(y,Ra),yt=Re(y,va);let Tt=Re(y,ba);const zt=Re(y,vc),Zt=Re(y,jc),cn=Re(y,Za),$t=Re(y,bc),kn=Re(y,$c);let Jn=Re(y,wc);const tr=PI(l,u,J,X,N),dr=PI(l,St,gt,yt,Tt);0===u&&0===St&&0===J&&0===gt&&0===X&&0===yt||(({days:N}=r_(u,J,X,N,"day",l)),({days:Tt}=r_(St,gt,yt,Tt,"day",l)));const Zn=L0(N,oe,Ee,Le,Pe,Ye,mt,tr),Gn=L0(Tt,zt,Zt,cn,$t,kn,Jn,dr);return ll(Mt.toNumber(Mt.subtract(Zn,Gn)))}}Fl(Of,"Temporal.Duration");const hT=Object.create;class f_{constructor(t,n,o="iso8601",p=1972){Up(this,bo(t),bo(n),cd(o),bo(p))}get monthCode(){if(!wa(this))throw new TypeError("invalid receiver");return T0(Re(this,Yn),this)}get day(){if(!wa(this))throw new TypeError("invalid receiver");return A0(Re(this,Yn),this)}get calendarId(){if(!wa(this))throw new TypeError("invalid receiver");return Ja(Re(this,Yn))}with(t,n){if(!wa(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");Pp(t);const o=po(n),p=Re(this,Yn),y=Es(p,["day","month","monthCode","year"]);let l=ro(this,y,[]);return l=al(p,l,ro(t,y,"partial")),l=ro(l,y,[]),Kp(p,l,o)}equals(t){if(!wa(this))throw new TypeError("invalid receiver");const n=MI(t);for(const o of[Hr,Xr,$r])if(Re(this,o)!==Re(n,o))return!1;return Hy(Re(this,Yn),Re(n,Yn))}toString(t){if(!wa(this))throw new TypeError("invalid receiver");return _E(this,Ly(po(t)))}toJSON(){if(!wa(this))throw new TypeError("invalid receiver");return _E(this)}toLocaleString(t,n){if(!wa(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!wa(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("argument should be an object");const n=Re(this,Yn),o=Es(n,["day","monthCode"]),p=ro(this,o,[]),y=Es(n,["year"]);let l=al(n,p,ro(t,y,[]));l=ro(l,[...new Set([...o,...y])],[]);const u=hT(null);return u.overflow="reject",Mf(n,l,u)}getISOFields(){if(!wa(this))throw new TypeError("invalid receiver");return{calendar:Re(this,Yn),isoDay:Re(this,Xr),isoMonth:Re(this,Hr),isoYear:Re(this,$r)}}getCalendar(){if(!wa(this))throw new TypeError("invalid receiver");return zy(Re(this,Yn))}static from(t,n){const o=po(n);return wa(t)?(Js(o),Pu(Re(t,Hr),Re(t,Xr),Re(t,Yn),Re(t,$r))):MI(t,o)}}Fl(f_,"Temporal.PlainMonthDay");const h_=()=>new(xr("%Temporal.Instant%"))(OE()),ZE=(r,t=Sh())=>{const n=qa(t),o=cd(r);return Md(n,h_(),o)},p_=(r=Sh())=>Md(qa(r),h_(),"iso8601"),YE=(r,t=Sh())=>{const n=qa(t),o=cd(r);return qs(OE(),n,o)},XE={instant:h_,plainDateTime:ZE,plainDateTimeISO:p_,plainDate:(r,t=Sh())=>Vp(ZE(r,t)),plainDateISO:(r=Sh())=>Vp(p_(r)),plainTimeISO:(r=Sh())=>Yw(p_(r)),timeZoneId:()=>Sh(),zonedDateTime:YE,zonedDateTimeISO:(r=Sh())=>YE("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(XE,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const pT=Object.assign;function JE(r,t,n){let o=Re(r,qi),p=Re(r,Qi),y=Re(r,zi),l=Re(r,Hi),u=Re(r,Wi),J=Re(r,Zi);if(n){const{unit:X,increment:N,roundingMode:oe}=n;({hour:o,minute:p,second:y,millisecond:l,microsecond:u,nanosecond:J}=Af(o,p,y,l,u,J,N,X,oe))}return`${ls(o)}:${ls(p)}${O0(y,l,u,J,t)}`}class Dh{constructor(t=0,n=0,o=0,p=0,y=0,l=0){const u=void 0===t?0:bo(t),J=void 0===n?0:bo(n),X=void 0===o?0:bo(o),N=void 0===p?0:bo(p),oe=void 0===y?0:bo(y),Ee=void 0===l?0:bo(l);Yy(u,J,X,N,oe,Ee),jl(this),no(this,qi,u),no(this,Qi,J),no(this,zi,X),no(this,Hi,N),no(this,Wi,oe),no(this,Zi,Ee)}get hour(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,qi)}get minute(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,Qi)}get second(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,zi)}get millisecond(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,Hi)}get microsecond(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,Wi)}get nanosecond(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,Zi)}with(t,n){if(!Ns(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");Pp(t);const o=Js(po(n)),p=zw(t,"partial"),y=zw(this);let{hour:l,minute:u,second:J,millisecond:X,microsecond:N,nanosecond:oe}=pT(y,p);return({hour:l,minute:u,second:J,millisecond:X,microsecond:N,nanosecond:oe}=_0(l,u,J,X,N,oe,o)),new Dh(l,u,J,X,N,oe)}add(t){if(!Ns(this))throw new TypeError("invalid receiver");return RE("add",this,t)}subtract(t){if(!Ns(this))throw new TypeError("invalid receiver");return RE("subtract",this,t)}until(t,n){if(!Ns(this))throw new TypeError("invalid receiver");return s_("until",this,t,n)}since(t,n){if(!Ns(this))throw new TypeError("invalid receiver");return s_("since",this,t,n)}round(t){if(!Ns(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pf("smallestUnit",t):po(t),o=x0(n),p=zl(n,"halfExpand"),y=ad(n,"smallestUnit","time",Rp);M0(o,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[y],!1);let l=Re(this,qi),u=Re(this,Qi),J=Re(this,zi),X=Re(this,Hi),N=Re(this,Wi),oe=Re(this,Zi);return({hour:l,minute:u,second:J,millisecond:X,microsecond:N,nanosecond:oe}=Af(l,u,J,X,N,oe,o,y,p)),new Dh(l,u,J,X,N,oe)}equals(t){if(!Ns(this))throw new TypeError("invalid receiver");const n=ku(t);for(const o of[qi,Qi,zi,Hi,Wi,Zi])if(Re(this,o)!==Re(n,o))return!1;return!0}toString(t){if(!Ns(this))throw new TypeError("invalid receiver");const n=po(t),o=Uy(n),p=zl(n,"trunc"),y=ad(n,"smallestUnit","time",void 0);if("hour"===y)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:l,unit:u,increment:J}=Fy(y,o);return JE(this,l,{unit:u,increment:J,roundingMode:p})}toJSON(){if(!Ns(this))throw new TypeError("invalid receiver");return JE(this,"auto")}toLocaleString(t,n){if(!Ns(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!Ns(this))throw new TypeError("invalid receiver");const n=Lo(t),o=Re(n,$r),p=Re(n,Hr),y=Re(n,Xr),l=Re(n,Yn);return xc(o,p,y,Re(this,qi),Re(this,Qi),Re(this,zi),Re(this,Hi),Re(this,Wi),Re(this,Zi),l)}toZonedDateTime(t){if(!Ns(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const o=Lo(n),p=t.timeZone;if(void 0===p)throw new TypeError("missing timeZone property");const y=qa(p),l=Re(o,$r),u=Re(o,Hr),J=Re(o,Xr),X=Re(o,Yn),N=Re(this,qi),oe=Re(this,Qi),Ee=Re(this,zi),Le=Re(this,Hi),Pe=Re(this,Wi),Ye=Re(this,Zi);return qs(Re(Qa(y,new(xr("%Temporal.PlainDateTime%"))(l,u,J,N,oe,Ee,Le,Pe,Ye,X),"compatible"),yi),y,X)}getISOFields(){if(!Ns(this))throw new TypeError("invalid receiver");return{isoHour:Re(this,qi),isoMicrosecond:Re(this,Wi),isoMillisecond:Re(this,Hi),isoMinute:Re(this,Qi),isoNanosecond:Re(this,Zi),isoSecond:Re(this,zi)}}static from(t,n){const o=Js(po(n));return Ns(t)?new Dh(Re(t,qi),Re(t,Qi),Re(t,zi),Re(t,Hi),Re(t,Wi),Re(t,Zi)):ku(t,o)}static compare(t,n){const o=ku(t),p=ku(n);for(const y of[qi,Qi,zi,Hi,Wi,Zi]){const l=Re(o,y),u=Re(p,y);if(l!==u)return ll(l-u)}return 0}}Fl(Dh,"Temporal.PlainTime");class J0{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=Jw(t);jl(this),no(this,_f,n)}get id(){if(!Xa(this))throw new TypeError("invalid receiver");return Re(this,_f)}getOffsetNanosecondsFor(t){if(!Xa(this))throw new TypeError("invalid receiver");const n=sl(t),o=Re(this,_f);return Hc(o)?Sf(o):Df(o,Re(n,yi))}getOffsetStringFor(t){if(!Xa(this))throw new TypeError("invalid receiver");return wE(this,sl(t))}getPlainDateTimeFor(t,n="iso8601"){if(!Xa(this))throw new TypeError("invalid receiver");return Md(this,sl(t),cd(n))}getInstantFor(t,n){if(!Xa(this))throw new TypeError("invalid receiver");return Qa(this,Ed(t),E0(po(n)))}getPossibleInstantsFor(t){if(!Xa(this))throw new TypeError("invalid receiver");const n=Ed(t),o=xr("%Temporal.Instant%"),p=Re(this,_f);if(Hc(p)){const l=Eh(Re(n,$r),Re(n,Hr),Re(n,Xr),Re(n,qi),Re(n,Qi),Re(n,zi),Re(n,Hi),Re(n,Wi),Re(n,Zi));if(null===l)throw new RangeError("DateTime outside of supported range");const u=Sf(p);return[new o(Mt.subtract(l,Mt.BigInt(u)))]}return function(u,J,X,N,oe,Ee,Le,Pe,Ye,mt){const St=Eh(J,X,N,oe,Ee,Le,Pe,Ye,mt);if(null===St)throw new RangeError("DateTime outside of supported range");let gt=Mt.subtract(St,$l);Mt.lessThan(gt,g0)&&(gt=St);let yt=Mt.add(St,$l);Mt.greaterThan(yt,y0)&&(yt=St);const Tt=Df(u,gt),zt=Df(u,yt);return(Tt===zt?[Tt]:[Tt,zt]).map(Zt=>{const cn=Mt.subtract(St,Mt.BigInt(Zt)),$t=N0(u,cn);if(J===$t.year&&X===$t.month&&N===$t.day&&oe===$t.hour&&Ee===$t.minute&&Le===$t.second&&Pe===$t.millisecond&&Ye===$t.microsecond&&mt===$t.nanosecond)return cn}).filter(Zt=>void 0!==Zt)}(p,Re(n,$r),Re(n,Hr),Re(n,Xr),Re(n,qi),Re(n,Qi),Re(n,zi),Re(n,Hi),Re(n,Wi),Re(n,Zi)).map(l=>new o(l))}getNextTransition(t){if(!Xa(this))throw new TypeError("invalid receiver");const n=sl(t),o=Re(this,_f);if(Hc(o)||"UTC"===o)return null;let p=Re(n,yi);const y=xr("%Temporal.Instant%");return p=CI(o,p),null===p?null:new y(p)}getPreviousTransition(t){if(!Xa(this))throw new TypeError("invalid receiver");const n=sl(t),o=Re(this,_f);if(Hc(o)||"UTC"===o)return null;let p=Re(n,yi);const y=xr("%Temporal.Instant%");return p=xE(o,p),null===p?null:new y(p)}toString(){if(!Xa(this))throw new TypeError("invalid receiver");return Re(this,_f)}toJSON(){if(!Xa(this))throw new TypeError("invalid receiver");return Re(this,_f)}static from(t){return bE(qa(t))}}Fl(J0,"Temporal.TimeZone"),vs("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",J0.prototype.getOffsetNanosecondsFor),vs("Temporal.TimeZone.prototype.getPossibleInstantsFor",J0.prototype.getPossibleInstantsFor);const A5=Object.create;class qE{constructor(t,n,o="iso8601",p=1){Fp(this,bo(t),bo(n),cd(o),bo(p))}get year(){if(!Ao(this))throw new TypeError("invalid receiver");return jy(Re(this,Yn),this)}get month(){if(!Ao(this))throw new TypeError("invalid receiver");return $y(Re(this,Yn),this)}get monthCode(){if(!Ao(this))throw new TypeError("invalid receiver");return T0(Re(this,Yn),this)}get calendarId(){if(!Ao(this))throw new TypeError("invalid receiver");return Ja(Re(this,Yn))}get era(){if(!Ao(this))throw new TypeError("invalid receiver");return Ky(Re(this,Yn),this)}get eraYear(){if(!Ao(this))throw new TypeError("invalid receiver");return Vy(Re(this,Yn),this)}get daysInMonth(){if(!Ao(this))throw new TypeError("invalid receiver");return Gw(Re(this,Yn),this)}get daysInYear(){if(!Ao(this))throw new TypeError("invalid receiver");return k0(Re(this,Yn),this)}get monthsInYear(){if(!Ao(this))throw new TypeError("invalid receiver");return Nu(Re(this,Yn),this)}get inLeapYear(){if(!Ao(this))throw new TypeError("invalid receiver");return P0(Re(this,Yn),this)}with(t,n){if(!Ao(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");Pp(t);const o=po(n),p=Re(this,Yn),y=Es(p,["month","monthCode","year"]);let l=ro(this,y,[]);return l=al(p,l,ro(t,y,"partial")),l=ro(l,y,[]),zs(p,l,o)}add(t,n){if(!Ao(this))throw new TypeError("invalid receiver");return $I("add",this,t,n)}subtract(t,n){if(!Ao(this))throw new TypeError("invalid receiver");return $I("subtract",this,t,n)}until(t,n){if(!Ao(this))throw new TypeError("invalid receiver");return jI("until",this,t,n)}since(t,n){if(!Ao(this))throw new TypeError("invalid receiver");return jI("since",this,t,n)}equals(t){if(!Ao(this))throw new TypeError("invalid receiver");const n=I0(t);for(const o of[$r,Hr,Xr])if(Re(this,o)!==Re(n,o))return!1;return Hy(Re(this,Yn),Re(n,Yn))}toString(t){if(!Ao(this))throw new TypeError("invalid receiver");return Wl(this,Ly(po(t)))}toJSON(){if(!Ao(this))throw new TypeError("invalid receiver");return Wl(this)}toLocaleString(t,n){if(!Ao(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!Ao(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("argument should be an object");const n=Re(this,Yn),o=Es(n,["monthCode","year"]),p=ro(this,o,[]),y=Es(n,["day"]);let l=al(n,p,ro(t,y,[]));l=ro(l,[...new Set([...o,...y])],[]);const u=A5(null);return u.overflow="reject",Mf(n,l,u)}getISOFields(){if(!Ao(this))throw new TypeError("invalid receiver");return{calendar:Re(this,Yn),isoDay:Re(this,Xr),isoMonth:Re(this,Hr),isoYear:Re(this,$r)}}getCalendar(){if(!Ao(this))throw new TypeError("invalid receiver");return zy(Re(this,Yn))}static from(t,n){const o=po(n);return Ao(t)?(Js(o),Ru(Re(t,$r),Re(t,Hr),Re(t,Yn),Re(t,Xr))):I0(t,o)}static compare(t,n){const o=I0(t),p=I0(n);return Wp(Re(o,$r),Re(o,Hr),Re(o,Xr),Re(p,$r),Re(p,Hr),Re(p,Xr))}}Fl(qE,"Temporal.PlainYearMonth");const C5=ul.prototype.resolvedOptions,k5=Object.create;class m_{constructor(t,n,o="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");jp(this,nv(t),qa(n),cd(o))}get calendarId(){if(!Zr(this))throw new TypeError("invalid receiver");return Ja(Re(this,Yn))}get timeZoneId(){if(!Zr(this))throw new TypeError("invalid receiver");return Wy(Re(this,jo))}get year(){if(!Zr(this))throw new TypeError("invalid receiver");return jy(Re(this,Yn),us(this))}get month(){if(!Zr(this))throw new TypeError("invalid receiver");return $y(Re(this,Yn),us(this))}get monthCode(){if(!Zr(this))throw new TypeError("invalid receiver");return T0(Re(this,Yn),us(this))}get day(){if(!Zr(this))throw new TypeError("invalid receiver");return A0(Re(this,Yn),us(this))}get hour(){if(!Zr(this))throw new TypeError("invalid receiver");return Re(us(this),qi)}get minute(){if(!Zr(this))throw new TypeError("invalid receiver");return Re(us(this),Qi)}get second(){if(!Zr(this))throw new TypeError("invalid receiver");return Re(us(this),zi)}get millisecond(){if(!Zr(this))throw new TypeError("invalid receiver");return Re(us(this),Hi)}get microsecond(){if(!Zr(this))throw new TypeError("invalid receiver");return Re(us(this),Wi)}get nanosecond(){if(!Zr(this))throw new TypeError("invalid receiver");return Re(us(this),Zi)}get era(){if(!Zr(this))throw new TypeError("invalid receiver");return Ky(Re(this,Yn),us(this))}get eraYear(){if(!Zr(this))throw new TypeError("invalid receiver");return Vy(Re(this,Yn),us(this))}get epochSeconds(){if(!Zr(this))throw new TypeError("invalid receiver");const t=Re(this,yi);return Mt.toNumber(Gp(t,sd))}get epochMilliseconds(){if(!Zr(this))throw new TypeError("invalid receiver");const t=Re(this,yi);return Mt.toNumber(Gp(t,Vs))}get epochMicroseconds(){if(!Zr(this))throw new TypeError("invalid receiver");return kf(Gp(Re(this,yi),mo))}get epochNanoseconds(){if(!Zr(this))throw new TypeError("invalid receiver");return kf(Re(this,yi))}get dayOfWeek(){if(!Zr(this))throw new TypeError("invalid receiver");return Hw(Re(this,Yn),us(this))}get dayOfYear(){if(!Zr(this))throw new TypeError("invalid receiver");return Ww(Re(this,Yn),us(this))}get weekOfYear(){if(!Zr(this))throw new TypeError("invalid receiver");return C0(Re(this,Yn),us(this))}get yearOfWeek(){if(!Zr(this))throw new TypeError("invalid receiver");return Ou(Re(this,Yn),us(this))}get hoursInDay(){if(!Zr(this))throw new TypeError("invalid receiver");const t=us(this),n=xr("%Temporal.PlainDateTime%"),o=Re(t,$r),p=Re(t,Hr),y=Re(t,Xr),l=new n(o,p,y,0,0,0,0,0,0),u=Lu(o,p,y,0,0,0,1,"reject"),J=new n(u.year,u.month,u.day,0,0,0,0,0,0),X=Re(this,jo),N=Re(Qa(X,l,"compatible"),yi),oe=Re(Qa(X,J,"compatible"),yi);return Cf(Mt.subtract(oe,N),m0)}get daysInWeek(){if(!Zr(this))throw new TypeError("invalid receiver");return yE(Re(this,Yn),us(this))}get daysInMonth(){if(!Zr(this))throw new TypeError("invalid receiver");return Gw(Re(this,Yn),us(this))}get daysInYear(){if(!Zr(this))throw new TypeError("invalid receiver");return k0(Re(this,Yn),us(this))}get monthsInYear(){if(!Zr(this))throw new TypeError("invalid receiver");return Nu(Re(this,Yn),us(this))}get inLeapYear(){if(!Zr(this))throw new TypeError("invalid receiver");return P0(Re(this,Yn),us(this))}get offset(){if(!Zr(this))throw new TypeError("invalid receiver");return wE(Re(this,jo),Re(this,yc))}get offsetNanoseconds(){if(!Zr(this))throw new TypeError("invalid receiver");return zc(Re(this,jo),Re(this,yc))}with(t,n){if(!Zr(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid zoned-date-time-like");Pp(t);const o=po(n),p=Re(this,Yn);let y=Es(p,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);y.push("offset");let l=ro(this,y,["offset"]);l=al(p,l,ro(t,y,"partial")),l=ro(l,y,["offset"]);const u=E0(o),J=Kw(o,"prefer");let{year:X,month:N,day:oe,hour:Ee,minute:Le,second:Pe,millisecond:Ye,microsecond:mt,nanosecond:St}=S0(p,l,o);const gt=Sf(l.offset),yt=Re(this,jo);return qs(_h(X,N,oe,Ee,Le,Pe,Ye,mt,St,"option",gt,yt,u,J,!1),yt,p)}withPlainDate(t){if(!Zr(this))throw new TypeError("invalid receiver");const n=Lo(t),o=Re(n,$r),p=Re(n,Hr),y=Re(n,Xr);let l=Re(n,Yn);const u=us(this),J=Re(u,qi),X=Re(u,Qi),N=Re(u,zi),oe=Re(u,Hi),Ee=Re(u,Wi),Le=Re(u,Zi);l=vE(Re(this,Yn),l);const Pe=Re(this,jo);return qs(Re(Qa(Pe,new(xr("%Temporal.PlainDateTime%"))(o,p,y,J,X,N,oe,Ee,Le,l),"compatible"),yi),Pe,l)}withPlainTime(t){if(!Zr(this))throw new TypeError("invalid receiver");const n=xr("%Temporal.PlainTime%"),o=void 0===t?new n:ku(t),p=us(this),y=Re(p,$r),l=Re(p,Hr),u=Re(p,Xr),J=Re(this,Yn),X=Re(o,qi),N=Re(o,Qi),oe=Re(o,zi),Ee=Re(o,Hi),Le=Re(o,Wi),Pe=Re(o,Zi),Ye=Re(this,jo);return qs(Re(Qa(Ye,new(xr("%Temporal.PlainDateTime%"))(y,l,u,X,N,oe,Ee,Le,Pe,J),"compatible"),yi),Ye,J)}withTimeZone(t){if(!Zr(this))throw new TypeError("invalid receiver");const n=qa(t);return qs(Re(this,yi),n,Re(this,Yn))}withCalendar(t){if(!Zr(this))throw new TypeError("invalid receiver");const n=cd(t);return qs(Re(this,yi),Re(this,jo),n)}add(t,n){if(!Zr(this))throw new TypeError("invalid receiver");return KI("add",this,t,n)}subtract(t,n){if(!Zr(this))throw new TypeError("invalid receiver");return KI("subtract",this,t,n)}until(t,n){if(!Zr(this))throw new TypeError("invalid receiver");return qy("until",this,t,n)}since(t,n){if(!Zr(this))throw new TypeError("invalid receiver");return qy("since",this,t,n)}round(t){if(!Zr(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pf("smallestUnit",t):po(t),o=x0(n),p=zl(n,"halfExpand"),y=ad(n,"smallestUnit","time",Rp,["day"]),l={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[y];M0(o,l,1===l);const u=us(this);let J=Re(u,$r),X=Re(u,Hr),N=Re(u,Xr),oe=Re(u,qi),Ee=Re(u,Qi),Le=Re(u,zi),Pe=Re(u,Hi),Ye=Re(u,Wi),mt=Re(u,Zi);const St=xr("%Temporal.PlainDateTime%"),gt=Re(this,jo),yt=Re(this,Yn),Tt=Qa(gt,new St(Re(u,$r),Re(u,Hr),Re(u,Xr),0,0,0,0,0,0),"compatible"),zt=Fd(Tt,gt,yt,0,0,0,1,0,0,0,0,0,0),Zt=Mt.subtract(zt,Mt.BigInt(Re(Tt,yi)));if(Mt.lessThanOrEqual(Zt,Bo))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:J,month:X,day:N,hour:oe,minute:Ee,second:Le,millisecond:Pe,microsecond:Ye,nanosecond:mt}=tv(J,X,N,oe,Ee,Le,Pe,Ye,mt,o,y,p,Mt.toNumber(Zt))),qs(_h(J,X,N,oe,Ee,Le,Pe,Ye,mt,"option",zc(gt,Re(this,yc)),gt,"compatible","prefer",!1),gt,Re(this,Yn))}equals(t){if(!Zr(this))throw new TypeError("invalid receiver");const n=Np(t),o=Re(this,yi),p=Re(n,yi);return!!Mt.equal(Mt.BigInt(o),Mt.BigInt(p))&&!!SI(Re(this,jo),Re(n,jo))&&Hy(Re(this,Yn),Re(n,Yn))}toString(t){if(!Zr(this))throw new TypeError("invalid receiver");const n=po(t),o=Ly(n),p=Uy(n),y=Ea(n,"offset",["auto","never"],"auto"),l=zl(n,"trunc"),u=ad(n,"smallestUnit","time",void 0);if("hour"===u)throw new RangeError('smallestUnit must be a time unit other than "hour"');const J=Ea(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:X,unit:N,increment:oe}=Fy(u,p);return cl(this,X,o,J,y,{unit:N,increment:oe,roundingMode:l})}toLocaleString(t,n){if(!Zr(this))throw new TypeError("invalid receiver");const o=po(n),p=k5(null);if(kp(p,o,["timeZone"]),void 0!==o.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===p.year&&void 0===p.month&&void 0===p.day&&void 0===p.weekday&&void 0===p.dateStyle&&void 0===p.hour&&void 0===p.minute&&void 0===p.second&&void 0===p.timeStyle&&void 0===p.dayPeriod&&void 0===p.timeZoneName&&(p.timeZoneName="short");let y=Wy(Re(this,jo));if(Hc(y))throw new RangeError("toLocaleString does not support offset string time zones");y=Jw(y),p.timeZone=y;const l=new ul(t,p),u=ei(C5,l,[]).calendar,J=Ja(Re(this,Yn));if("iso8601"!==J&&"iso8601"!==u&&u!==J)throw new RangeError(`cannot format ZonedDateTime with calendar ${J} in locale with calendar ${u}`);return l.format(Re(this,yc))}toJSON(){if(!Zr(this))throw new TypeError("invalid receiver");return cl(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Zr(this))throw new TypeError("invalid receiver");const t=us(this),n=xr("%Temporal.PlainDateTime%"),o=Re(this,Yn),p=new n(Re(t,$r),Re(t,Hr),Re(t,Xr),0,0,0,0,0,0,o),y=Re(this,jo);return qs(Re(Qa(y,p,"compatible"),yi),y,o)}toInstant(){if(!Zr(this))throw new TypeError("invalid receiver");return new(xr("%Temporal.Instant%"))(Re(this,yi))}toPlainDate(){if(!Zr(this))throw new TypeError("invalid receiver");return Vp(us(this))}toPlainTime(){if(!Zr(this))throw new TypeError("invalid receiver");return Yw(us(this))}toPlainDateTime(){if(!Zr(this))throw new TypeError("invalid receiver");return us(this)}toPlainYearMonth(){if(!Zr(this))throw new TypeError("invalid receiver");const t=Re(this,Yn);return zs(t,ro(this,Es(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Zr(this))throw new TypeError("invalid receiver");const t=Re(this,Yn);return Kp(t,ro(this,Es(t,["day","monthCode"]),[]))}getISOFields(){if(!Zr(this))throw new TypeError("invalid receiver");const t=us(this),n=Re(this,jo);return{calendar:Re(this,Yn),isoDay:Re(t,Xr),isoHour:Re(t,qi),isoMicrosecond:Re(t,Wi),isoMillisecond:Re(t,Hi),isoMinute:Re(t,Qi),isoMonth:Re(t,Hr),isoNanosecond:Re(t,Zi),isoSecond:Re(t,zi),isoYear:Re(t,$r),offset:wE(n,Re(this,yc)),timeZone:n}}getCalendar(){if(!Zr(this))throw new TypeError("invalid receiver");return zy(Re(this,Yn))}getTimeZone(){if(!Zr(this))throw new TypeError("invalid receiver");return bE(Re(this,jo))}static from(t,n){const o=po(n);return Zr(t)?(E0(o),Kw(o,"reject"),Js(o),qs(Re(t,yi),Re(t,jo),Re(t,Yn))):Np(t,o)}static compare(t,n){const o=Np(t),p=Np(n),y=Re(o,yi),l=Re(p,yi);return Mt.lessThan(Mt.BigInt(y),Mt.BigInt(l))?-1:Mt.greaterThan(Mt.BigInt(y),Mt.BigInt(l))?1:0}}function us(r){return Md(Re(r,jo),Re(r,yc),Re(r,Yn))}Fl(m_,"Temporal.ZonedDateTime");var q0=Object.freeze({__proto__:null,Calendar:Ms,Duration:Of,Instant:Wc,Now:XE,PlainDate:Yp,PlainDateTime:Xp,PlainMonthDay:f_,PlainTime:Dh,PlainYearMonth:qE,TimeZone:J0,ZonedDateTime:m_});const P5=[Wc,Ms,Yp,Xp,Of,f_,Dh,J0,qE,m_];for(const r of P5){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var mT=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ls{static sleep(t){return mT(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return mT(this,void 0,void 0,function*(){yield Ls.sleep(2)})}static getCurrentTimestamp(){return q0.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X}=t;return q0.ZonedDateTime.from({timeZone:"UTC",year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const o=n?q0.Instant.from(n):q0.Now.instant(),p=q0.Duration.from(t);return o.add(p).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{q0.Instant.from(t)}catch{throw new te(de.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var xa=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Co{get message(){if(void 0===this._message.authorization)throw new te(de.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return kr.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return kr.isSignedByOwnerDelegate(this._message)}get signer(){return kr.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:zo.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=to.getAuthor(t),this._signaturePayload=zo.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?kr.getSigner(t.authorization.ownerDelegatedGrant):zo.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=zo.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=Co.getAttesters(t)}static parse(t){return xa(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield kr.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield kr.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield Co.validateAttestationIntegrity(n);const o=new Co(n);return yield o.validateIntegrity(),o})}static create(t){var n,o,p,y;return xa(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new te(de.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new te(de.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new te(de.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new te(de.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const l=null!==(n=t.dataCid)&&void 0!==n?n:yield gc.computeDagPbCidFromBytes(t.data),u=null!==(o=t.dataSize)&&void 0!==o?o:t.data.length,J=Ls.getCurrentTimestamp(),X={interface:Ki.Records,method:si.Write,protocol:void 0!==t.protocol?Sp(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?ky(t.schema):void 0,tags:t.tags,parentId:Co.getRecordIdFromContextId(t.parentContextId),dataCid:l,dataSize:u,dateCreated:null!==(p=t.dateCreated)&&void 0!==p?p:J,messageTimestamp:null!==(y=t.messageTimestamp)&&void 0!==y?y:J,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&(X.datePublished=J),Lc(X);const N=t.recordId,oe=yield gc.computeCid(X),Ee=yield Co.createAttestation(oe,t.attestationSigners),Le=yield Co.createEncryptionProperty(X,t.encryptionInput),Pe={recordId:N,descriptor:X};void 0!==Ee&&(Pe.attestation=Ee),void 0!==Le&&(Pe.encryption=Le);const Ye=new Co(Pe,t.parentContextId);return void 0!==t.signer&&(yield Ye.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),Ye})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,o,p,y;return xa(this,void 0,void 0,function*(){const l=t.recordsWriteMessage,u=yield Co.parse(l),J=Ls.getCurrentTimestamp(),X=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||l.descriptor.published;let N;t.datePublished?N=t.datePublished:X&&(N=l.descriptor.published?l.descriptor.datePublished:J);const oe={recipient:l.descriptor.recipient,recordId:l.recordId,dateCreated:l.descriptor.dateCreated,protocol:l.descriptor.protocol,protocolPath:l.descriptor.protocolPath,schema:l.descriptor.schema,parentContextId:to.getParentContextFromOfContextId(l.contextId),messageTimestamp:null!==(o=t.messageTimestamp)&&void 0!==o?o:J,published:X,datePublished:N,tags:t.tags,data:t.data,dataCid:t.data?void 0:l.descriptor.dataCid,dataSize:t.data?void 0:l.descriptor.dataSize,dataFormat:null!==(p=t.dataFormat)&&void 0!==p?p:l.descriptor.dataFormat,protocolRole:null!==(y=t.protocolRole)&&void 0!==y?y:u.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield Co.create(oe)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return xa(this,void 0,void 0,function*(){this._message.encryption=yield Co.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return xa(this,void 0,void 0,function*(){const{signer:o,delegatedGrant:p,permissionGrantId:y,protocolRole:l}=t;let u,J;void 0!==p?(u=yield kr.getCid(p),J=zo.getSignerDid(p.authorization.signature.signatures[0])):J=zo.extractDid(o.keyId);const X=this._message.descriptor,N=yield gc.computeCid(X);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield Co.getEntryId(J,X),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const oe=yield Co.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:N,attestation:this._message.attestation,encryption:this._message.encryption,signer:o,delegatedGrantId:u,permissionGrantId:y,protocolRole:l});this._message.authorization={signature:oe},void 0!==p&&(this._message.authorization.authorDelegatedGrant=p),this._signaturePayload=zo.decodePlainObjectPayload(oe),this._author=J})}signAsOwner(t){return xa(this,void 0,void 0,function*(){if(void 0===this._author)throw new te(de.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,o=yield kr.createSignature(n,t);this._message.authorization.ownerSignature=o,this._ownerSignaturePayload=zo.decodePlainObjectPayload(o),this._owner=zo.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return xa(this,void 0,void 0,function*(){if(void 0===this._author)throw new te(de.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const o=yield kr.getCid(n),p=this._message.descriptor,y=yield kr.createSignature(p,t,{delegatedGrantId:o});this._message.authorization.ownerSignature=y,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=zo.decodePlainObjectPayload(y),this._owner=zo.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return xa(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const o=this.message.descriptor.dateCreated,p=this.message.descriptor.messageTimestamp;if(p!==o)throw new te(de.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${p} must match dateCreated ${o} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const y=yield this.getEntryId();if(this.message.contextId!==y)throw new te(de.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${y}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new te(de.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new te(de.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield to.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const o=yield gc.computeCid(this.message.attestation),p=n.attestationCid;if(p!==o)throw new te(de.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${o} of attestation property in message does not match attestationCid in authorization: ${p}`)}if(void 0!==n.encryptionCid){const o=yield gc.computeCid(this.message.encryption),p=n.encryptionCid;if(p!==o)throw new te(de.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${o} of encryption property in message does not match encryptionCid in authorization: ${p}`)}void 0!==this.message.descriptor.protocol&&mh(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&Dp(this.message.descriptor.schema),Ls.validateTimestamp(this.message.descriptor.messageTimestamp),Ls.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&Ls.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return xa(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new te(de.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=zo.decodePlainObjectPayload(t.attestation),{descriptorCid:o}=n,p=yield gc.computeCid(t.descriptor);if(o!==p)throw new te(de.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${o} does not match expected descriptorCid ${p}`);const y=Object.keys(n).length;if(y>1)throw new te(de.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${y} properties.`)})}getEntryId(){return xa(this,void 0,void 0,function*(){return yield Co.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return xa(this,void 0,void 0,function*(){if(void 0===t)throw new te(de.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const o=Object.assign({},n);return o.author=t,yield gc.computeCid(o)})}isInitialWrite(){return xa(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return xa(this,void 0,void 0,function*(){const n=this.message,o=n.descriptor,{tags:p}=o,y=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(o,["tags"]);delete y.published;let l=Object.assign(Object.assign({},y),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield Co.getEntryId(this.author,this.message.descriptor)});if(void 0!==p&&!0===t){const u=to.buildTagIndexes(Object.assign({},p));l=Object.assign(Object.assign({},l),u)}return this.attesters.length>0&&(l.attester=this.attesters[0]),void 0!==n.contextId&&(l.contextId=n.contextId),l})}authorizeAuthorDelegate(t){return xa(this,void 0,void 0,function*(){const n=yield Ul.parse(this.message.authorization.authorDelegatedGrant);yield Uc.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return xa(this,void 0,void 0,function*(){const n=yield Ul.parse(this.message.authorization.ownerDelegatedGrant);yield Uc.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return xa(this,void 0,void 0,function*(){if(t.descriptor.interface!==Ki.Records||t.descriptor.method!==si.Write)return!1;const n=t,o=to.getAuthor(n);return(yield Co.getEntryId(o,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var o,p;return xa(this,void 0,void 0,function*(){if(void 0===n)return;const y=[];for(const u of n.keyEncryptionInputs){if(u.derivationScheme===Ld.ProtocolPath&&void 0===t.protocol)throw new te(de.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(u.derivationScheme===Ld.Schemas&&void 0===t.schema)throw new te(de.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const J=fe.publicJwkToBytes(u.publicKey),X=yield d0.eciesSecp256k1Encrypt(J,n.key),N=he.bytesToBase64Url(X.ciphertext),oe=yield fe.publicKeyToJwk(X.ephemeralPublicKey),Ee=he.bytesToBase64Url(X.initializationVector),Le=he.bytesToBase64Url(X.messageAuthenticationCode),Pe={rootKeyId:u.publicKeyId,algorithm:null!==(o=u.algorithm)&&void 0!==o?o:Ew.EciesSecp256k1,derivationScheme:u.derivationScheme,ephemeralPublicKey:oe,initializationVector:Ee,messageAuthenticationCode:Le,encryptedKey:N};u.derivationScheme===Ld.ProtocolContext&&(Pe.derivedPublicKey=u.publicKey),y.push(Pe)}return{algorithm:null!==(p=n.algorithm)&&void 0!==p?p:Ew.Aes256Ctr,initializationVector:he.bytesToBase64Url(n.initializationVector),keyEncryption:y}})}static createAttestation(t,n){return xa(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const p=he.objectToBytes({descriptorCid:t});return(yield l0.create(p,n)).getJws()})}static createSignerSignature(t){return xa(this,void 0,void 0,function*(){const{recordId:n,contextId:o,descriptorCid:p,attestation:y,encryption:l,signer:u,delegatedGrantId:J,permissionGrantId:X,protocolRole:N}=t,Le={recordId:n,descriptorCid:p,contextId:o,attestationCid:y?yield gc.computeCid(y):void 0,encryptionCid:l?yield gc.computeCid(l):void 0,delegatedGrantId:J,permissionGrantId:X,protocolRole:N};Lc(Le);const Pe=he.objectToBytes(Le);return(yield l0.create(Pe,[u])).getJws()})}static getInitialWrite(t){return xa(this,void 0,void 0,function*(){for(const n of t)if(yield Co.isInitialWrite(n))return n;throw new te(de.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const o=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let p=[];p.push(...Object.keys(t.descriptor)),p.push(...Object.keys(n.descriptor)),p=[...new Set(p)];for(const y of p)if(-1===o.indexOf(y)){const l=t.descriptor[y],u=n.descriptor[y];if(u!==l)throw new te(de.RecordsWriteImmutablePropertyChanged,`${y} is an immutable property: cannot change '${l}' to '${u}'`)}return!0}static getAttesters(t){var n,o;return(null!==(o=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==o?o:[]).map(l=>zo.getSignerDid(l))}static fetchInitialRecordsWrite(t,n,o){return xa(this,void 0,void 0,function*(){const p={entryId:o},{messages:y}=yield t.query(n,[p]);return 0===y.length?void 0:yield Co.parse(y[0])})}}var QE=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function fl(r,t){return QE(this,void 0,void 0,function*(){if(void 0===r)throw new te(de.AuthenticateJwsMissing,"Missing JWS.");if(yield Zo.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield Zo.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield Co.parse(r.authorDelegatedGrant);yield Zo.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield Co.parse(r.ownerDelegatedGrant);yield Zo.verifySignatures(n.message.authorization.signature,t)}})}function Q0(r,t){return QE(this,void 0,void 0,function*(){if(t.author!==r)throw new te(de.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}class yT{isActiveTenant(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class ql{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=kr.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?kr.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=zo.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var g_=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class eg extends ql{static parse(t){return g_(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===Ud.PublishedAscending||t.descriptor.dateSort===Ud.PublishedDescending))throw new te(de.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield kr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield to.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new te(de.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&mh(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&Dp(t.descriptor.filter.schema),Ls.validateTimestamp(t.descriptor.messageTimestamp),new eg(t)})}static create(t){var n;return g_(this,void 0,void 0,function*(){const o={interface:Ki.Records,method:si.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp(),filter:to.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===Ud.PublishedAscending||t.dateSort===Ud.PublishedDescending))throw new te(de.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);Lc(o);const p=t.signer;let y;p&&(y=yield kr.createAuthorization({descriptor:o,signer:p,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const l={descriptor:o,authorization:y};return kr.validateJsonSchema(l),new eg(l)})}authorizeDelegate(t){return g_(this,void 0,void 0,function*(){const n=yield Ul.parse(this.message.authorization.authorDelegatedGrant);yield Uc.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var ex=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Nf{static toBytes(t){return ex(this,void 0,void 0,function*(){return new Promise((n,o)=>{const p=[];t.on("data",y=>{p.push(y)}),t.on("end",()=>{const y=Nf.concatenateArrayOfBytes(p);n(y)}),t.on("error",o)})})}static toObject(t){return ex(this,void 0,void 0,function*(){const n=yield Nf.toBytes(t);return he.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((y,l)=>y+l.length,0),o=new Uint8Array(n);let p=0;for(const y of t)o.set(y,p),p+=y.length;return o}static fromBytes(t){let o=0;return new Ay.Readable({read(y){o+1e5>t.length?(this.push(t.subarray(o)),this.push(null)):(this.push(t.subarray(o,o+1e5)),o+=1e5)}})}static fromObject(t){const n=he.objectToBytes(t);return Nf.fromBytes(n)}static duplicateDataStream(t,n){const o=[];for(let p=0;p<n;p++){const y=new Ay.PassThrough;t.pipe(y),o.push(y)}return o}}var tx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class cv extends ql{static parse(t){return tx(this,void 0,void 0,function*(){return kr.validateJsonSchema(t),yield kr.validateSignatureStructure(t.authorization.signature,t.descriptor),Ls.validateTimestamp(t.descriptor.messageTimestamp),new cv(t)})}static create(t){var n;return tx(this,void 0,void 0,function*(){const o={interface:Ki.Events,method:si.Get,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp()};t.cursor&&(o.cursor=t.cursor);const y={descriptor:o,authorization:yield kr.createAuthorization({descriptor:o,signer:t.signer})};return kr.validateJsonSchema(y),new cv(y)})}}function fs(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class y_{constructor(t,n){this.didResolver=t,this.eventLog=n}handle({tenant:t,message:n}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let o;try{o=yield cv.parse(n)}catch(u){return fs(u,400)}try{yield fl(n.authorization,this.didResolver),yield Q0(t,o)}catch(u){return fs(u,401)}const{cursor:p}=n.descriptor,{events:y,cursor:l}=yield this.eventLog.getEvents(t,p);return{status:{code:200,detail:"OK"},entries:y,cursor:l}})}}class v_{static normalizeFilters(t){const n=[];for(const o of t){let p;p=this.isRecordsFilter(o)?to.normalizeFilter(o):o,Lc(p),Mw(p)||n.push(p)}return n}static convertFilters(t){const n=[];for(const o of t)this.isRecordsFilter(o)?n.push(to.convertFilter(o)):n.push(this.convertFilter(o));return n}static convertFilter(t){const n=Object.assign({},t),{dateUpdated:o}=t,p=o?od.convertRangeCriterion(o):void 0;return p&&(n.messageTimestamp=p,delete n.dateUpdated),n}static isRecordsFilter(t){return"author"in t||"dateCreated"in t||"dataFormat"in t||"dataSize"in t||"parentId"in t||"recordId"in t||"schema"in t||"protocol"in t||"protocolPath"in t||"recipient"in t}}var rx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class tg extends ql{static parse(t){return rx(this,void 0,void 0,function*(){kr.validateJsonSchema(t),yield kr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&mh(n.protocol),"schema"in n&&void 0!==n.schema&&Dp(n.schema);return new tg(t)})}static create(t){var n;return rx(this,void 0,void 0,function*(){const o={interface:Ki.Events,method:si.Query,filters:v_.normalizeFilters(t.filters),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp(),cursor:t.cursor};Lc(o);const y={descriptor:o,authorization:yield kr.createAuthorization({descriptor:o,signer:t.signer})};return kr.validateJsonSchema(y),new tg(y)})}}class bT{constructor(t,n){this.didResolver=t,this.eventLog=n}handle({tenant:t,message:n}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let o;try{o=yield tg.parse(n)}catch(u){return fs(u,400)}try{yield fl(n.authorization,this.didResolver),yield Q0(t,o)}catch(u){return fs(u,401)}const p=v_.convertFilters(n.descriptor.filters),{events:y,cursor:l}=yield this.eventLog.queryEvents(t,p,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:y,cursor:l}})}}var ix=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class ng extends ql{static parse(t){return ix(this,void 0,void 0,function*(){kr.validateJsonSchema(t),yield kr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&mh(n.protocol),"schema"in n&&void 0!==n.schema&&Dp(n.schema);return Ls.validateTimestamp(t.descriptor.messageTimestamp),new ng(t)})}static create(t){var n,o;return ix(this,void 0,void 0,function*(){const p=Ls.getCurrentTimestamp(),y={interface:Ki.Events,method:si.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(o=t.messageTimestamp)&&void 0!==o?o:p};Lc(y);const u={descriptor:y,authorization:yield kr.createAuthorization({descriptor:y,signer:t.signer})};return kr.validateJsonSchema(u),new ng(u)})}}class ox{constructor(t,n){this.didResolver=t,this.eventStream=n}handle({tenant:t,message:n,subscriptionHandler:o}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if(void 0===this.eventStream)return fs(new te(de.EventsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let p;try{p=yield ng.parse(n)}catch(N){return fs(N,400)}try{yield fl(n.authorization,this.didResolver),yield Q0(t,p)}catch(N){return fs(N,401)}const{filters:y}=n.descriptor,l=v_.convertFilters(y),u=yield kr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,u,(N,oe,Ee)=>{t===N&&od.matchAnyFilter(Ee,l)&&o(oe)})}})}}var sx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ih extends ql{static parse(t){return sx(this,void 0,void 0,function*(){return kr.validateJsonSchema(t),this.validateMessageCids(t.descriptor.messageCids),yield kr.validateSignatureStructure(t.authorization.signature,t.descriptor),Ls.validateTimestamp(t.descriptor.messageTimestamp),new Ih(t)})}static create(t){var n;return sx(this,void 0,void 0,function*(){const o={interface:Ki.Messages,method:si.Get,messageCids:t.messageCids,messageTimestamp:null!==(n=t?.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp()},y={descriptor:o,authorization:yield kr.createAuthorization({descriptor:o,signer:t.signer})};return kr.validateJsonSchema(y),Ih.validateMessageCids(t.messageCids),new Ih(y)})}static validateMessageCids(t){for(const n of t)try{gc.parseCid(n)}catch{throw new te(de.MessageGetInvalidCid,`${n} is not a valid CID`)}}}class O5{constructor(t,n,o){this.didResolver=t,this.messageStore=n,this.dataStore=o}handle({tenant:t,message:n}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let o;try{o=yield Ih.parse(n)}catch(u){return fs(u,400)}try{yield fl(n.authorization,this.didResolver),yield Q0(t,o)}catch(u){return fs(u,401)}const p=[],y=new Set(n.descriptor.messageCids);for(const u of y){const J=this.messageStore.get(t,u).then(X=>({messageCid:u,message:X})).catch(X=>({messageCid:u,message:void 0,error:`Failed to get message ${u}`}));p.push(J)}const l=yield Promise.all(p);for(const u of l){const{message:J}=u;if(!J)continue;const{interface:X,method:N}=J.descriptor;if(X!==Ki.Records||N!==si.Write)continue;const oe=J;void 0!==oe.encodedData&&(u.encodedData=oe.encodedData,delete oe.encodedData)}return{status:{code:200,detail:"OK"},entries:l}})}}var ET=E(20844),rg=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(rg||{}),Ma=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(Ma||{}),b_=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class ld extends ql{static parse(t){return b_(this,void 0,void 0,function*(){return kr.validateJsonSchema(t),ld.validateProtocolDefinition(t.descriptor.definition),yield kr.validateSignatureStructure(t.authorization.signature,t.descriptor),Ls.validateTimestamp(t.descriptor.messageTimestamp),new ld(t)})}static create(t){var n;return b_(this,void 0,void 0,function*(){const o={interface:Ki.Protocols,method:si.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp(),definition:ld.normalizeDefinition(t.definition)},y={descriptor:o,authorization:yield kr.createAuthorization({descriptor:o,signer:t.signer,permissionGrantId:t.permissionGrantId})};return kr.validateJsonSchema(y),ld.validateProtocolDefinition(y.descriptor.definition),new ld(y)})}static validateProtocolDefinition(t){const{protocol:n,types:o}=t;mh(n);for(const p in o){const y=o[p].schema;void 0!==y&&Dp(y)}ld.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),o=ld.fetchAllRolePathsRecursively("",t.structure,[]);ld.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:o})}static fetchAllRolePathsRecursively(t,n,o){if(t.split("/").length>10)throw new te(de.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const p in n){if(p.startsWith("$"))continue;const y=n[p];let l;l=""===t?p:`${t}/${p}`,y.$role?o.push(l):ld.fetchAllRolePathsRecursively(l,y,o)}return o}static validateRuleSetRecursively(t){var n;const{ruleSet:o,ruleSetProtocolPath:p,recordTypes:y,roles:l}=t;if(void 0!==o.$size){const{min:J=0,max:X}=o.$size;if(void 0!==X&&X<J)throw new te(de.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${X} less than min limit ${J} at protocol path '${p}'`)}if(o.$tags){const J=new ET.default,Ee=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(o.$tags,["$allowUndefinedTags","$requiredTags"]);for(const Le in Ee)if(!J.validateSchema(Ee[Le])){const Ye=J.errorsText(J.errors,{dataVar:`${p}/$tags/${Le}`});throw new te(de.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${Ye}`)}}const u=null!==(n=o.$actions)&&void 0!==n?n:[];for(let J=0;J<u.length;J++){const X=u[J];if(void 0!==X.role&&!l.includes(X.role))throw new te(de.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify(X)} for rule set ${p} does not exist.`);if("anyone"===X.who&&X.of)throw new te(de.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${p})`);if(X.who===rg.Recipient&&void 0===X.of&&X.can.some(oe=>![Ma.CoUpdate,Ma.CoDelete,Ma.CoPrune].includes(oe)))throw new te(de.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if(X.who===rg.Author&&!X.of)throw new te(de.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==X.can){if(X.can.includes(Ma.Update)&&!X.can.includes(Ma.Create))throw new te(de.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify(X)} contains 'update' action but missing the required 'create' action.`);if(X.can.includes(Ma.Delete)&&!X.can.includes(Ma.Create))throw new te(de.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify(X)} contains 'delete' action but missing the required 'create' action.`)}for(let N=J+1;N<u.length;N++){const oe=u[N];if(void 0!==X.who){if(X.who===oe.who&&X.of===oe.of)throw new te(de.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${X.who} of ${X.of} not allowed within a rule set: ${JSON.stringify(X)}`)}else if(X.role===oe.role)throw new te(de.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${X.role} not allowed within a rule set: ${JSON.stringify(X)}`)}}for(const J in o){if(J.startsWith("$"))continue;if(!y.includes(J))throw new te(de.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${J} is not declared as an allowed type in the protocol definition.`);let N;N=""===p?J:`${p}/${J}`,ld.validateRuleSetRecursively({ruleSet:o[J],ruleSetProtocolPath:N,recordTypes:y,roles:l})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const o in n){const p=n[o].schema;void 0!==p&&(n[o].schema=ky(p))}return Object.assign(Object.assign({},t),{protocol:Sp(t.protocol),types:n})}}class dv{constructor(t,n,o,p){this.didResolver=t,this.messageStore=n,this.eventLog=o,this.eventStream=p}handle({tenant:t,message:n}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let o;try{o=yield ld.parse(n)}catch(N){return fs(N,400)}try{yield fl(n.authorization,this.didResolver),yield Q0(t,o)}catch(N){return fs(N,401)}const p={interface:Ki.Protocols,method:si.Configure,protocol:n.descriptor.definition.protocol},{messages:y}=yield this.messageStore.query(t,[p]);let J,l=yield kr.getNewestMessage(y),u=!1;if((void 0===l||(yield kr.isNewer(n,l)))&&(u=!0,l=n),u){const N=dv.constructIndexes(o);yield this.messageStore.put(t,n,N);const oe=yield kr.getCid(n);yield this.eventLog.append(t,oe,N),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},N),J={status:{code:202,detail:"Accepted"}}}else J={status:{code:409,detail:"Conflict"}};const X=[];for(const N of y)if(yield kr.isNewer(l,N)){const oe=yield kr.getCid(N);X.push(oe),yield this.messageStore.delete(t,oe)}return yield this.eventLog.deleteEventsByCid(t,X),J})}static constructIndexes(t){const n=t.message.descriptor,{definition:o}=n,p=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(n,["definition"]),{author:y}=t;return Object.assign(Object.assign({},p),{author:y,protocol:o.protocol,published:o.published})}}var w_=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class rs{static parseRequest(t){return he.base64UrlToObject(t)}static createRequest(t){return w_(this,void 0,void 0,function*(){const n=rs.normalizePermissionScope(t.scope),o={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions},p=he.objectToBytes(o);return{recordsWrite:yield Co.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:rs.uri,protocolPath:rs.requestPath,dataFormat:"application/json",data:p}),permissionRequestData:o,permissionRequestBytes:p}})}static createGrant(t){return w_(this,void 0,void 0,function*(){const n=rs.normalizePermissionScope(t.scope),o={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions},p=he.objectToBytes(o),y=yield Co.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:rs.uri,protocolPath:rs.grantPath,dataFormat:"application/json",data:p});return{recordsWrite:y,permissionGrantData:o,permissionGrantBytes:p,dataEncodedMessage:Object.assign(Object.assign({},y.message),{encodedData:he.bytesToBase64Url(p)})}})}static createRevocation(t){return w_(this,void 0,void 0,function*(){const n={description:t.description},o=he.objectToBytes(n);return{recordsWrite:yield Co.create({signer:t.signer,parentContextId:t.grantId,protocol:rs.uri,protocolPath:rs.revocationPath,dataFormat:"application/json",data:o}),permissionRevocationData:n,permissionRevocationBytes:o}})}static validateSchema(t,n){const o=he.bytesToString(n),p=JSON.parse(o);if(t.descriptor.protocolPath===rs.requestPath)Bi("PermissionRequestData",p);else if(t.descriptor.protocolPath===rs.grantPath){Bi("PermissionGrantData",p);const y=p;rs.validateScope(y.scope),Ls.validateTimestamp(y.dateExpires)}else{if(t.descriptor.protocolPath!==rs.revocationPath)throw new te(de.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);Bi("PermissionRevocationData",p)}}static fetchGrant(t,n,o){return w_(this,void 0,void 0,function*(){const p={recordId:o,isLatestBaseState:!0},{messages:y}=yield n.query(t,[p]),l=y[0],u=l?.descriptor.interface,J=l?.descriptor.method;if(u!==Ki.Records||J!==si.Write||l.descriptor.protocolPath!==rs.grantPath)throw new te(de.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${o}.`);const X=l;return yield Ul.parse(X)})}static normalizePermissionScope(t){const n=Object.assign({},t);return rs.isRecordPermissionScope(n)&&(void 0!==n.protocol&&(n.protocol=Sp(n.protocol)),void 0!==n.schema&&(n.schema=ky(n.schema))),n}static isRecordPermissionScope(t){return"Records"===t.interface}static validateScope(t){if(this.isRecordPermissionScope(t)){if(void 0!==t.schema&&(void 0!==t.protocol||void 0!==t.contextId||t.protocolPath))throw new te(de.PermissionsProtocolValidateScopeSchemaProhibitedProperties,"Permission grants that have `schema` present cannot also have protocol-related properties present");if(void 0!==t.protocol&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new te(de.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}}rs.uri="https://tbd.website/dwn/permissions",rs.requestPath="request",rs.grantPath="grant",rs.revocationPath="grant/revocation",rs.definition={published:!0,protocol:rs.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};var ax=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Jp extends ql{static parse(t){return ax(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield kr.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&mh(t.descriptor.filter.protocol),Ls.validateTimestamp(t.descriptor.messageTimestamp),new Jp(t)})}static create(t){var n;return ax(this,void 0,void 0,function*(){const o={interface:Ki.Protocols,method:si.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp(),filter:t.filter?Jp.normalizeFilter(t.filter):void 0};let p;Lc(o),void 0!==t.signer&&(p=yield kr.createAuthorization({descriptor:o,signer:t.signer,permissionGrantId:t.permissionGrantId}));const y={descriptor:o,authorization:p};return kr.validateJsonSchema(y),new Jp(y)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:Sp(t.protocol)})}authorize(t,n){return ax(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new te(de.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const o=yield rs.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield gh.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:o,messageStore:n})}}})}}var MT=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class L5{constructor(t,n,o){this.didResolver=t,this.messageStore=n,this.dataStore=o}handle({tenant:t,message:n}){return MT(this,void 0,void 0,function*(){let o;try{o=yield Jp.parse(n)}catch(l){return fs(l,400)}try{yield fl(n.authorization,this.didResolver),yield o.authorize(t,this.messageStore)}catch(l){return l.code===de.AuthenticateJwsMissing||l.code===de.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,o)}:fs(l,401)}const p=Object.assign(Object.assign({},n.descriptor.filter),{interface:Ki.Protocols,method:si.Configure});Lc(p);const{messages:y}=yield this.messageStore.query(t,[p]);return{status:{code:200,detail:"OK"},entries:y}})}fetchPublishedProtocolsConfigure(t,n){return MT(this,void 0,void 0,function*(){const o=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:Ki.Protocols,method:si.Configure,published:!0}),{messages:p}=yield this.messageStore.query(t,[o]);return p})}}var Mc=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class oo{static validateReferentialIntegrity(t,n,o){return Mc(this,void 0,void 0,function*(){const p=yield oo.fetchProtocolDefinition(t,n.message.descriptor.protocol,o);oo.verifyType(n.message,p.types),yield oo.verifyProtocolPathAndContextId(t,n,o);const y=oo.getRuleSet(n.message.descriptor.protocolPath,p);yield oo.verifyAsRoleRecordIfNeeded(t,n,y,o),oo.verifySizeLimit(n,y),oo.verifyTagsIfNeeded(n,y)})}static authorizeWrite(t,n,o){return Mc(this,void 0,void 0,function*(){let y;y=void 0===(yield oo.fetchInitialWrite(t,n.message.recordId,o))?yield oo.constructRecordChain(t,n.message.descriptor.parentId,o):yield oo.constructRecordChain(t,n.message.recordId,o);const l=yield oo.fetchProtocolDefinition(t,n.message.descriptor.protocol,o),u=oo.getRuleSet(n.message.descriptor.protocolPath,l);yield oo.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,l,o),yield oo.authorizeAgainstAllowedActions(t,n,u,y,o)})}static authorizeRead(t,n,o,p){return Mc(this,void 0,void 0,function*(){const y=yield oo.constructRecordChain(t,o.message.recordId,p),l=yield oo.fetchProtocolDefinition(t,o.message.descriptor.protocol,p),u=oo.getRuleSet(o.message.descriptor.protocolPath,l);yield oo.verifyInvokedRole(t,n,o.message.descriptor.protocol,o.message.contextId,l,p),yield oo.authorizeAgainstAllowedActions(t,n,u,y,p)})}static authorizeQueryOrSubscribe(t,n,o){return Mc(this,void 0,void 0,function*(){const{protocol:p,protocolPath:y,contextId:l}=n.message.descriptor.filter,u=yield oo.fetchProtocolDefinition(t,p,o),J=oo.getRuleSet(y,u);yield oo.verifyInvokedRole(t,n,p,l,u,o),yield oo.authorizeAgainstAllowedActions(t,n,J,[],o)})}static authorizeDelete(t,n,o,p){return Mc(this,void 0,void 0,function*(){const y=yield oo.constructRecordChain(t,n.message.descriptor.recordId,p),l=yield oo.fetchProtocolDefinition(t,o.message.descriptor.protocol,p),u=oo.getRuleSet(o.message.descriptor.protocolPath,l);yield oo.verifyInvokedRole(t,n,o.message.descriptor.protocol,o.message.contextId,l,p),yield oo.authorizeAgainstAllowedActions(t,n,u,y,p)})}static fetchProtocolDefinition(t,n,o){return Mc(this,void 0,void 0,function*(){if(n===rs.uri)return rs.definition;const p={interface:Ki.Protocols,method:si.Configure,protocol:n},{messages:y}=yield o.query(t,[p]);if(0===y.length)throw new te(de.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return y[0].descriptor.definition})}static constructRecordChain(t,n,o){return Mc(this,void 0,void 0,function*(){if(void 0===n)return[];const p=[];let y=n;for(;void 0!==y;){const l=yield oo.fetchInitialWrite(t,y,o);if(void 0===l)throw new te(de.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${y} when constructing record chain.`);p.push(l),y=l.descriptor.parentId}return p.reverse()})}static fetchInitialWrite(t,n,o){return Mc(this,void 0,void 0,function*(){const p={interface:Ki.Records,method:si.Write,recordId:n},{messages:y}=yield o.query(t,[p]);return 0===y.length?void 0:yield Co.getInitialWrite(y)})}static getRuleSet(t,n){const o=oo.getRuleSetAtProtocolPath(t,n);if(void 0===o)throw new te(de.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return o}static verifyProtocolPathAndContextId(t,n,o){var p;return Mc(this,void 0,void 0,function*(){const y=n.message.descriptor.protocolPath,l=oo.getTypeName(y),u=n.message.descriptor.parentId;if(void 0===u){if(y!==l)throw new te(de.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${y}' is not valid for records with no parent'.`);return}const X={isLatestBaseState:!0,interface:Ki.Records,method:si.Write,protocol:n.message.descriptor.protocol,recordId:u},{messages:N}=yield o.query(t,[X]),oe=N[0];if(`${null===(p=oe?.descriptor)||void 0===p?void 0:p.protocolPath}/${l}`!==y)throw new te(de.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${y}'.`);const Pe=`${oe.contextId}/${n.message.recordId}`,Ye=n.message.contextId;if(Ye!==Pe)throw new te(de.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${Ye}' is not the same as expected: '${Pe}'.`)})}static verifyType(t,n){const o=Object.keys(n),y=oo.getTypeName(t.descriptor.protocolPath);if(!o.includes(y))throw new te(de.ProtocolAuthorizationInvalidType,`record with type ${y} not allowed in protocol`);const u=oo.getTypeName(t.descriptor.protocolPath),J=n[u],{schema:X}=t.descriptor;if(void 0!==J.schema&&J.schema!==X)throw new te(de.ProtocolAuthorizationInvalidSchema,`type '${u}' must have schema '${J.schema}',         instead has '${X}'`);const{dataFormat:N}=t.descriptor;if(void 0!==J.dataFormats&&!J.dataFormats.includes(N))throw new te(de.ProtocolAuthorizationIncorrectDataFormat,`type '${u}' must have data format in (${J.dataFormats}),         instead has '${N}'`)}static verifyInvokedRole(t,n,o,p,y,l){var u;return Mc(this,void 0,void 0,function*(){const J=null===(u=n.signaturePayload)||void 0===u?void 0:u.protocolRole;if(void 0===J)return;const X=oo.getRuleSetAtProtocolPath(J,y);if(void 0===X||!X.$role)throw new te(de.ProtocolAuthorizationNotARole,`Protocol path ${J} does not match role record type.`);const N={interface:Ki.Records,method:si.Write,protocol:o,protocolPath:J,recipient:n.author,isLatestBaseState:!0},oe=J.split("/").length-1;if(void 0===p&&oe>0)throw new te(de.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(oe>0){const Pe=p.split("/").slice(0,oe).join("/"),Ye=od.constructPrefixFilterAsRangeFilter(Pe);N.contextId=Ye}const{messages:Ee}=yield l.query(t,[N]);if(0===Ee.length)throw new te(de.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${J}`)})}static getActionsSeekingARuleMatch(t,n,o){return Mc(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case si.Delete:const p=n,y=p.message.descriptor.recordId,l=yield Co.fetchInitialRecordsWrite(o,t,y);if(void 0===l)return[];const u=[];return p.message.descriptor.prune?(u.push(Ma.CoPrune),n.author===l.author&&u.push(Ma.Prune)):(u.push(Ma.CoDelete),n.author===l.author&&u.push(Ma.Delete)),u;case si.Query:return[Ma.Query];case si.Read:return[Ma.Read];case si.Subscribe:return[Ma.Subscribe];case si.Write:if(yield n.isInitialWrite())return[Ma.Create];{const N=n.message.recordId,oe=yield Co.fetchInitialRecordsWrite(o,t,N);return void 0===oe?[]:n.author===oe.author?[Ma.CoUpdate,Ma.Update]:[Ma.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,o,p,y){var l;return Mc(this,void 0,void 0,function*(){const u=n.message.descriptor.method,J=yield oo.getActionsSeekingARuleMatch(t,n,y),X=n.author,N=o.$actions;if(void 0===N)throw new te(de.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${u}, ${X} is unauthorized`);const oe=null===(l=n.signaturePayload)||void 0===l?void 0:l.protocolRole;for(const Ee of N)if(Ee.can.some(Ye=>J.includes(Ye))){if(Ee.who===rg.Anyone)return;if(void 0!==X)if(void 0===oe)if(Ee.who!==rg.Recipient||void 0!==Ee.of){if(yield oo.checkActor(X,Ee,p))return}else{let Ye;if(Ye=n.message.descriptor.method===si.Write?n.message:p[p.length-1],Ye.descriptor.recipient===X)return}else if(Ee.role===oe)return}throw new te(de.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${u} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:o=0,max:p}=n.$size||{},y=t.message.descriptor.dataSize;if(y<o)throw new te(de.ProtocolAuthorizationMinSizeInvalid,`data size ${y} is less than allowed ${o}`);if(void 0!==p&&y>p)throw new te(de.ProtocolAuthorizationMaxSizeInvalid,`data size ${y} is more than allowed ${p}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:o={},protocol:p,protocolPath:y}=t.message.descriptor,l=n.$tags,{$allowUndefinedTags:u,$requiredTags:J}=l,X=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(l,["$allowUndefinedTags","$requiredTags"]),N=u||!1,oe=J||[],Ee=new ET.default,Le=Ee.compile({type:"object",properties:X,required:oe,additionalProperties:N});if(!Le(o)){const Ye=Ee.errorsText(Le.errors,{dataVar:`${p}/${y}/$tags`});throw new te(de.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${Ye}`)}}}static verifyAsRoleRecordIfNeeded(t,n,o,p){return Mc(this,void 0,void 0,function*(){if(!o.$role)return;const y=n,l=y.message.descriptor.recipient;if(void 0===l)throw new te(de.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const u=y.message.descriptor.protocolPath,J={interface:Ki.Records,method:si.Write,isLatestBaseState:!0,protocol:y.message.descriptor.protocol,protocolPath:u,recipient:l},X=to.getParentContextFromOfContextId(y.message.contextId);if(""!==X){const Le=od.constructPrefixFilterAsRangeFilter(X);J.contextId=Le}const{messages:N}=yield p.query(t,[J]);if(N.filter(Le=>Le.recordId!==y.message.recordId).length>0)throw new te(de.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${l}' is already recipient of a role record at protocol path '${u} under the parent context ${X}.`)})}static getRuleSetAtProtocolPath(t,n){const o=t.split("/");let p=n.structure,y=0;for(;y<o.length;){const u=p[o[y]];if(void 0===u)return;p=u,y++}return p}static checkActor(t,n,o){return Mc(this,void 0,void 0,function*(){const p=o.find(y=>y.descriptor.protocolPath===n.of);if(void 0===p)return!1;if(n.who===rg.Recipient)return t===p.descriptor.recipient;{const y=(yield Co.parse(p)).author;return t===y}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var DT=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class lv extends ql{static parse(t){return DT(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield kr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield to.validateDelegatedGrantReferentialIntegrity(t,n),Ls.validateTimestamp(t.descriptor.messageTimestamp),new lv(t)})}static create(t){var n,o;return DT(this,void 0,void 0,function*(){const p=t.recordId,y=Ls.getCurrentTimestamp(),l={interface:Ki.Records,method:si.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:y,recordId:p,prune:null!==(o=t.prune)&&void 0!==o&&o},J={descriptor:l,authorization:yield kr.createAuthorization({descriptor:l,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return kr.validateJsonSchema(J),new lv(J)})}constructIndexes(t){const o=Object.assign({},this.message.descriptor),{protocol:p,protocolPath:y,recipient:l,schema:u,parentId:J,dateCreated:X}=t.descriptor,N=Object.assign({protocol:p,protocolPath:y,recipient:l,schema:u,parentId:J,dateCreated:X,contextId:t.contextId,author:this.author},o);return Lc(N),N}authorizeDelegate(t,n){return DT(this,void 0,void 0,function*(){const o=yield Ul.parse(this.message.authorization.authorDelegatedGrant);yield Uc.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:o,messageStore:n})})}}let __=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var uv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Th{static deleteFromDataStoreIfNeeded(t,n,o,p){return uv(this,void 0,void 0,function*(){if(o.descriptor.method!==si.Write)return;const y=o;y.descriptor.dataSize<=__.maxDataSizeAllowedToBeEncoded||y.descriptor.dataCid!==p.descriptor.dataCid&&(yield t.delete(n,y.recordId,y.descriptor.dataCid))})}static purgeRecordDescendants(t,n,o,p,y){return uv(this,void 0,void 0,function*(){const l={interface:Ki.Records,parentId:n},{messages:u}=yield o.query(t,[l]),J=new Map;for(const X of u){let N;N=to.isRecordsWrite(X)?X.recordId:X.descriptor.recordId,J.has(N)||J.set(N,[]),J.get(N).push(X)}for(const X of J.keys())yield Th.purgeRecordDescendants(t,X,o,p,y);for(const X of J.keys())yield Th.purgeRecordMessages(t,J.get(X),o,p,y)})}static purgeRecordMessages(t,n,o,p,y){return uv(this,void 0,void 0,function*(){const l=n.filter(X=>X.descriptor.method===si.Write),u=yield kr.getNewestMessage(l);yield p.delete(t,u.recordId,u.descriptor.dataCid);const J=yield Promise.all(n.map(X=>kr.getCid(X)));yield y.deleteEventsByCid(t,J),yield Promise.all(J.map(X=>o.delete(t,X)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,o,p,y,l){return uv(this,void 0,void 0,function*(){const u=[];for(const J of n){if(yield kr.isOlder(J,o)){yield Th.deleteFromDataStoreIfNeeded(y,t,J,o);const N=yield kr.getCid(J);if(yield p.delete(t,N),yield Co.isInitialWrite(J)){const Pe=yield(yield Co.parse(J)).constructIndexes(!1),Ye=J;delete Ye.encodedData,yield p.put(t,Ye,Pe)}else{const Ee=yield kr.getCid(J);u.push(Ee)}}yield l.deleteEventsByCid(t,u)}})}}var cx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class dx{constructor(t,n,o,p,y){this.didResolver=t,this.messageStore=n,this.dataStore=o,this.eventLog=p,this.eventStream=y}handle({tenant:t,message:n}){return cx(this,void 0,void 0,function*(){let o;try{o=yield lv.parse(n)}catch(Le){return fs(Le,400)}try{yield fl(n.authorization,this.didResolver)}catch(Le){return fs(Le,401)}const p={interface:Ki.Records,recordId:n.descriptor.recordId},{messages:y}=yield this.messageStore.query(t,[p]),l=yield kr.getNewestMessage(y);let J,u=!1;if(void 0===l||(yield kr.isNewer(n,l))?(u=!0,J=n):J=l,!u)return{status:{code:409,detail:"Conflict"}};if(void 0===l||l.descriptor.method===si.Delete)return{status:{code:404,detail:"Not Found"}};try{yield dx.authorizeRecordsDelete(t,o,yield Co.parse(l),this.messageStore)}catch(Le){return fs(Le,401)}const X=yield Co.getInitialWrite(y),N=o.constructIndexes(X),oe=yield kr.getCid(n);return yield this.messageStore.put(t,n,N),yield this.eventLog.append(t,oe,N),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:X},N),n.descriptor.prune&&(yield Th.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield Th.deleteAllOlderMessagesButKeepInitialWrite(t,y,J,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,o,p){return cx(this,void 0,void 0,function*(){if(kr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(o.message,p)),n.author!==t){if(void 0===o.message.descriptor.protocol)throw new te(de.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield oo.authorizeDelete(t,n,o,p)}})}}var hl=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(hl||{}),fv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ah{constructor(t,n,o){this.didResolver=t,this.messageStore=n,this.dataStore=o}handle({tenant:t,message:n}){return fv(this,void 0,void 0,function*(){let o,p,y;try{o=yield eg.parse(n)}catch(l){return fs(l,400)}if(to.filterIncludesPublishedRecords(o.message.descriptor.filter)&&void 0===o.author){const l=yield this.fetchPublishedRecords(t,o);p=l.messages,y=l.cursor}else{try{yield fl(n.authorization,this.didResolver),yield Ah.authorizeRecordsQuery(t,o,this.messageStore)}catch(l){return fs(l,401)}if(o.author===t){const l=yield this.fetchRecordsAsOwner(t,o);p=l.messages,y=l.cursor}else{const l=yield this.fetchRecordsAsNonOwner(t,o);p=l.messages,y=l.cursor}}for(const l of p)if(!(yield Co.isInitialWrite(l))){const J=(yield this.messageStore.query(t,[{recordId:l.recordId,isLatestBaseState:!1,method:si.Write}])).messages[0];delete J.encodedData,l.initialWrite=J}return{status:{code:200,detail:"OK"},entries:p,cursor:y}})}convertDateSort(t){switch(t){case Ud.CreatedAscending:return{dateCreated:hl.Ascending};case Ud.CreatedDescending:return{dateCreated:hl.Descending};case Ud.PublishedAscending:return{datePublished:hl.Ascending};case Ud.PublishedDescending:return{datePublished:hl.Descending};default:return{dateCreated:hl.Ascending}}}fetchRecordsAsOwner(t,n){return fv(this,void 0,void 0,function*(){const{dateSort:o,filter:p,pagination:y}=n.message.descriptor,l=Object.assign(Object.assign({},to.convertFilter(p,o)),{interface:Ki.Records,method:si.Write,isLatestBaseState:!0}),u=this.convertDateSort(o);return this.messageStore.query(t,[l],u,y)})}fetchRecordsAsNonOwner(t,n){return fv(this,void 0,void 0,function*(){const{dateSort:o,pagination:p,filter:y}=n.message.descriptor,l=[];if(to.filterIncludesPublishedRecords(y)&&l.push(Ah.buildPublishedRecordsFilter(n)),to.filterIncludesUnpublishedRecords(y)){l.push(Ah.buildUnpublishedRecordsByQueryAuthorFilter(n));const J=n.message.descriptor.filter.recipient;(void 0===J||J===n.author)&&l.push(Ah.buildUnpublishedRecordsForQueryAuthorFilter(n)),to.shouldProtocolAuthorize(n.signaturePayload)&&l.push(Ah.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const u=this.convertDateSort(o);return this.messageStore.query(t,l,u,p)})}fetchPublishedRecords(t,n){return fv(this,void 0,void 0,function*(){const{dateSort:o,pagination:p}=n.message.descriptor,y=Ah.buildPublishedRecordsFilter(n),l=this.convertDateSort(o);return this.messageStore.query(t,[y],l,p)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:o}=t.message.descriptor;return Object.assign(Object.assign({},to.convertFilter(o,n)),{interface:Ki.Records,method:si.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:o}=t.message.descriptor;return Object.assign(Object.assign({},to.convertFilter(o,n)),{interface:Ki.Records,method:si.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:o}=t.message.descriptor;return Object.assign(Object.assign({},to.convertFilter(o,n)),{interface:Ki.Records,method:si.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:o}=t.message.descriptor;return Object.assign(Object.assign({},to.convertFilter(o,n)),{author:t.author,interface:Ki.Records,method:si.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,o){return fv(this,void 0,void 0,function*(){kr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(o)),to.shouldProtocolAuthorize(n.signaturePayload)&&(yield oo.authorizeQueryOrSubscribe(t,n,o))})}}var lx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class hv extends ql{static parse(t){return lx(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield kr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield to.validateDelegatedGrantReferentialIntegrity(t,n),Ls.validateTimestamp(t.descriptor.messageTimestamp),new hv(t)})}static create(t){var n;return lx(this,void 0,void 0,function*(){const{filter:o,signer:p,permissionGrantId:y,protocolRole:l}=t,u=Ls.getCurrentTimestamp(),J={interface:Ki.Records,method:si.Read,filter:to.normalizeFilter(o),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:u};let X;Lc(J),void 0!==p&&(X=yield kr.createAuthorization({descriptor:J,signer:p,permissionGrantId:y,protocolRole:l,delegatedGrant:t.delegatedGrant}));const N={descriptor:J,authorization:X};return kr.validateJsonSchema(N),new hv(N)})}authorizeDelegate(t,n){return lx(this,void 0,void 0,function*(){const o=yield Ul.parse(this.message.authorization.authorDelegatedGrant);yield Uc.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:o,messageStore:n})})}}var IT=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class qp{constructor(t,n,o){this.didResolver=t,this.messageStore=n,this.dataStore=o}handle({tenant:t,message:n}){return IT(this,void 0,void 0,function*(){let o;try{o=yield hv.parse(n)}catch(N){return fs(N,400)}try{void 0!==o.author&&(yield fl(n.authorization,this.didResolver))}catch(N){return fs(N,401)}const p=Object.assign({interface:Ki.Records,isLatestBaseState:!0},to.convertFilter(n.descriptor.filter)),{messages:y}=yield this.messageStore.query(t,[p]);if(0===y.length)return{status:{code:404,detail:"Not Found"}};if(y.length>1)return fs(new te(de.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const l=y[0];try{yield qp.authorizeRecordsRead(t,o,yield Co.parse(l),this.messageStore)}catch(N){return fs(N,401)}let u;if(void 0!==l.encodedData){const N=he.base64UrlToBytes(l.encodedData);u=Nf.fromBytes(N),delete l.encodedData}else{const N=yield this.dataStore.get(t,l.recordId,l.descriptor.dataCid);if(void 0===N?.dataStream)return{status:{code:404,detail:"Not Found"}};u=N.dataStream}const J=Object.assign(Object.assign({},l),{data:u});if(!(yield Co.isInitialWrite(J))){const oe=(yield this.messageStore.query(t,[{recordId:J.recordId,isLatestBaseState:!1,method:si.Write}])).messages[0];delete oe.encodedData,J.initialWrite=oe}return{status:{code:200,detail:"OK"},record:J}})}static authorizeRecordsRead(t,n,o,p){return IT(this,void 0,void 0,function*(){kr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(o.message,p));const{descriptor:y}=o.message;if(n.author!==t){if(!0===y.published)return;if(void 0!==n.author&&n.author===y.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const l=yield rs.fetchGrant(t,p,n.signaturePayload.permissionGrantId);yield Uc.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:o.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:p})}else{if(void 0===y.protocol)throw new te(de.RecordsReadAuthorizationFailed,"message failed authorization");yield oo.authorizeRead(t,n,o,p)}}})}}var E_=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class ig extends ql{static parse(t){return E_(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield kr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield to.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new te(de.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&mh(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&Dp(t.descriptor.filter.schema),Ls.validateTimestamp(t.descriptor.messageTimestamp),new ig(t)})}static create(t){var n;return E_(this,void 0,void 0,function*(){const o={interface:Ki.Records,method:si.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp(),filter:to.normalizeFilter(t.filter)};Lc(o);const p=t.signer;let y;p&&(y=yield kr.createAuthorization({descriptor:o,signer:p,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const l={descriptor:o,authorization:y};return kr.validateJsonSchema(l),new ig(l)})}authorizeDelegate(t){return E_(this,void 0,void 0,function*(){const n=yield Ul.parse(this.message.authorization.authorDelegatedGrant);yield Uc.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var pv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ql{constructor(t,n,o){this.didResolver=t,this.messageStore=n,this.eventStream=o}handle({tenant:t,message:n,subscriptionHandler:o}){return pv(this,void 0,void 0,function*(){if(void 0===this.eventStream)return fs(new te(de.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let p;try{p=yield ig.parse(n)}catch(X){return fs(X,400)}let y=[];if(to.filterIncludesPublishedRecords(p.message.descriptor.filter)&&void 0===p.author)y=[Ql.buildPublishedRecordsFilter(p)],delete n.authorization;else{try{yield fl(n.authorization,this.didResolver),yield Ql.authorizeRecordsSubscribe(t,p,this.messageStore)}catch(X){return fs(X,401)}y=p.author===t?yield Ql.filterAsOwner(p):yield Ql.filterAsNonOwner(p)}const u=yield kr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,u,(X,N,oe)=>{t===X&&od.matchAnyFilter(oe,y)&&o(N)})}})}static filterAsOwner(t){return pv(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},to.convertFilter(n)),{interface:Ki.Records,method:[si.Write,si.Delete]})]})}static filterAsNonOwner(t){return pv(this,void 0,void 0,function*(){const n=[],{filter:o}=t.message.descriptor;if(to.filterIncludesPublishedRecords(o)&&n.push(Ql.buildPublishedRecordsFilter(t)),to.filterIncludesUnpublishedRecords(o)){n.push(Ql.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const p=t.message.descriptor.filter.recipient;(void 0===p||p===t.author)&&n.push(Ql.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),to.shouldProtocolAuthorize(t.signaturePayload)&&n.push(Ql.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},to.convertFilter(t.message.descriptor.filter)),{interface:Ki.Records,method:[si.Write,si.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},to.convertFilter(t.message.descriptor.filter)),{interface:Ki.Records,method:[si.Write,si.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},to.convertFilter(t.message.descriptor.filter)),{interface:Ki.Records,method:[si.Write,si.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},to.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:Ki.Records,method:[si.Write,si.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,o){return pv(this,void 0,void 0,function*(){kr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(o)),to.shouldProtocolAuthorize(n.signaturePayload)&&(yield oo.authorizeQueryOrSubscribe(t,n,o))})}}var Qp=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ch{constructor(t,n,o,p,y){this.didResolver=t,this.messageStore=n,this.dataStore=o,this.eventLog=p,this.eventStream=y}handle({tenant:t,message:n,dataStream:o}){return Qp(this,void 0,void 0,function*(){let p;try{p=yield Co.parse(n),void 0!==n.descriptor.protocol&&(yield oo.validateReferentialIntegrity(t,p,this.messageStore))}catch(Le){return fs(Le,400)}try{yield fl(n.authorization,this.didResolver),yield Ch.authorizeRecordsWrite(t,p,this.messageStore)}catch(Le){return fs(Le,401)}const y={interface:Ki.Records,recordId:n.recordId},{messages:l}=yield this.messageStore.query(t,[y]),u=yield p.isInitialWrite();let J;if(!u)try{J=yield Co.getInitialWrite(l),Co.verifyEqualityOfImmutableProperties(J,n)}catch(Le){return fs(Le,400)}const X=yield kr.getNewestMessage(l);let oe,N=!1;if(void 0===X||(yield kr.isNewer(n,X))?(N=!0,oe=n):oe=X,!N)return{status:{code:409,detail:"Conflict"}};try{let Le=!1,Pe=n;if(void 0!==o)Pe=yield this.processMessageWithDataStream(t,n,o),Le=!0;else{if(X?.descriptor.method===si.Delete)throw new te(de.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!u){const mt=X;Pe=yield this.processMessageWithoutDataStream(t,n,mt),Le=!0}}const Ye=yield p.constructIndexes(Le);yield this.messageStore.put(t,Pe,Ye),yield this.eventLog.append(t,yield kr.getCid(n),Ye),void 0!==this.eventStream&&Le&&this.eventStream.emit(t,{message:n,initialWrite:J},Ye)}catch(Le){const Pe=Le;if(void 0!==Pe.code&&(Pe.code===de.RecordsWriteMissingEncodedDataInPrevious||Pe.code===de.RecordsWriteMissingDataInPrevious||Pe.code===de.RecordsWriteMissingDataStream||Pe.code===de.RecordsWriteDataCidMismatch||Pe.code===de.RecordsWriteDataSizeMismatch||Pe.code.startsWith("PermissionsProtocolValidate")||Pe.code.startsWith("SchemaValidator")))return fs(Le,400);throw Le}return yield Th.deleteAllOlderMessagesButKeepInitialWrite(t,l,oe,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,p),{status:{code:202,detail:"Accepted"}}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===rs.uri&&rs.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return Qp(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===rs.uri&&n.message.descriptor.protocolPath===rs.revocationPath){const p={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:y}=yield this.messageStore.query(t,[p]),l=[];for(const u of y){const J=yield kr.getCid(u);yield this.messageStore.delete(t,J)}this.eventLog.deleteEventsByCid(t,l)}})}cloneAndAddEncodedData(t,n){return Qp(this,void 0,void 0,function*(){const o=Object.assign({},t);return o.encodedData=he.bytesToBase64Url(n),o})}processMessageWithDataStream(t,n,o){return Qp(this,void 0,void 0,function*(){let p=n;if(n.descriptor.dataSize<=__.maxDataSizeAllowedToBeEncoded){const y=yield Nf.toBytes(o),l=yield gc.computeDagPbCidFromBytes(y);Ch.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,l,y.length),Ch.validateSchemaForCoreRecordsWrite(n,y),p=yield this.cloneAndAddEncodedData(n,y)}else{const[y,l]=Nf.duplicateDataStream(o,2);try{const[u,J]=yield Promise.all([gc.computeDagPbCidFromStream(y),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,l)]);Ch.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,u,J.dataSize)}catch(u){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),u}}return p})}processMessageWithoutDataStream(t,n,o){return Qp(this,void 0,void 0,function*(){const p=Object.assign({},n),{dataCid:y,dataSize:l}=n.descriptor;if(Ch.validateDataIntegrity(y,l,o.descriptor.dataCid,o.descriptor.dataSize),l<=__.maxDataSizeAllowedToBeEncoded){if(void 0===o.encodedData)throw new te(de.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");p.encodedData=o.encodedData}else if(void 0===(yield this.dataStore.get(t,o.recordId,n.descriptor.dataCid)))throw new te(de.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return p})}static validateDataIntegrity(t,n,o,p){if(t!==o)throw new te(de.RecordsWriteDataCidMismatch,`actual data CID ${o} does not match dataCid in descriptor: ${t}`);if(n!==p)throw new te(de.RecordsWriteDataSizeMismatch,`actual data size ${p} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,o){return Qp(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new te(de.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(o)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(o)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const p=yield rs.fetchGrant(t,o,n.signaturePayload.permissionGrantId);yield Uc.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:p,messageStore:o})}else{if(void 0===n.message.descriptor.protocol)throw new te(de.RecordsWriteAuthorizationFailed,"message failed authorization");yield oo.authorizeWrite(t,n,o)}}})}}var x_=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(x_||{});const Bf={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ss{constructor({method:t,id:n,path:o,query:p,fragment:y,params:l}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=o,this.query=p,this.fragment=y,this.params=l}static parse(t){if(!t)return null;const n=Ss.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:o,id:p,path:y,query:l,fragment:u}=n.groups,J={uri:`did:${o}:${p}`,method:o,id:p};if(y&&(J.path=y),l&&(J.query=l.slice(1)),u&&(J.fragment=u.slice(1)),l){const X={},N=l.slice(1).split("&");for(const oe of N){const[Ee,Le]=oe.split("=");X[Ee]=Le}J.params=X}return J}}Ss.METHOD_PATTERN="([a-z0-9]+)",Ss.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ss.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ss.PCT_ENCODED_PATTERN})`,Ss.METHOD_ID_PATTERN=`((?:${Ss.ID_CHAR_PATTERN}*:)*(${Ss.ID_CHAR_PATTERN}+))`,Ss.PATH_PATTERN="(/[^#?]*)?",Ss.QUERY_PATTERN="([?][^#]*)?",Ss.FRAGMENT_PATTERN="(#.*)?",Ss.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ss.METHOD_PATTERN}):(?<id>${Ss.METHOD_ID_PATTERN})(?<path>${Ss.PATH_PATTERN})(?<query>${Ss.QUERY_PATTERN})(?<fragment>${Ss.FRAGMENT_PATTERN})$`);class Li extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Li)}}var Ui=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Ui||{}),ir=E(86136),Ur=E(37475);function ud(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function ux({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const o=[];return o.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(TT))&&void 0!==n?n:[]),Object.keys(x_).forEach(p=>{var y,l;o.push(...null!==(l=null===(y=r[p])||void 0===y?void 0:y.filter(TT))&&void 0!==l?l:[])}),o}function og({didDocument:r,methodId:t}){const n=[];return Object.keys(x_).forEach(o=>{if(Array.isArray(r[o])){const p=r[o],y=ud(t);p.some(u=>{const J=ud(u)===y,X=TT(u)&&ud(u.id)===y;return J||X})&&n.push(o)}}),n}function TT(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function $5({keyBytes:r,multicodecCode:t,multicodecName:n}){const o=Ur.Gs.addPrefix({code:t,data:r,name:n}),p=Ur.U$.uint8Array(o).toBase58Btc();return Ur.U$.base58Btc(p).toMultibase()}function sg({multibaseKeyId:r}){try{const t=Ur.U$.multibase(r).toBase58Btc(),n=Ur.U$.base58Btc(t).toUint8Array(),{code:o,data:p,name:y}=Ur.Gs.removePrefix({prefixedData:n});return{keyBytes:p,multicodecCode:o,multicodecName:y}}catch{throw new Li(Ui.InvalidDid,`Invalid multibase identifier: ${r}`)}}var mv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class ju{constructor({uri:t,document:n,metadata:o,keyManager:p}){this.uri=t,this.document=n,this.metadata=o,this.keyManager=p}export(){return mv(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let o of this.document.verificationMethod){if(!o.publicKeyJwk)throw new Error(`Verification method '${o.id}' does not contain a public key in JWK format`);const p=yield this.keyManager.getKeyUri({key:o.publicKeyJwk}),y=yield this.keyManager.exportKey({keyUri:p});n.push(Object.assign({},y))}t.privateKeys=n}return t})}getSigner(t){return mv(this,void 0,void 0,function*(){var n;const o=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(J=>{var X,N;return ud(J.id)===(null!==(X=ud(t?.methodId))&&void 0!==X?X:ud(null===(N=this.document.assertionMethod)||void 0===N?void 0:N[0]))});if(!o||!o.publicKeyJwk)throw new Li(Ui.InternalError,"A verification method intended for signing could not be determined from the DID Document");const p=yield this.keyManager.getKeyUri({key:o.publicKeyJwk}),y=yield this.keyManager.getPublicKey({keyUri:p}),l=this.keyManager;return{algorithm:ir.Wp.getJoseSignatureAlgorithmFromPublicKey(y),keyId:o.id,sign(J){return mv(this,arguments,void 0,function*({data:X}){return yield l.sign({data:X,keyUri:p})})},verify(J){return mv(this,arguments,void 0,function*({data:X,signature:N}){return yield l.verify({data:X,key:y,signature:N})})}}})}static import(t){return mv(this,arguments,void 0,function*({portableDid:n,keyManager:o=new ir.eP}){var p;const y=ux({didDocument:n.document});if(0===y.length)throw new Li(Ui.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let u of null!==(p=n.privateKeys)&&void 0!==p?p:[])yield o.importKey({key:u});for(let u of y){if(!u.publicKeyJwk)throw new Error(`Verification method '${u.id}' does not contain a public key in JWK format`);const J=yield o.getKeyUri({key:u.publicKeyJwk});yield o.getPublicKey({keyUri:J})}return new ju({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:o})})}}var M_=E(2198),em=E(49402),AT=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class fx{static getSigningMethod(t){return AT(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return AT(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var nc=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},S_=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n};const hx="https://diddht.tbddev.org",eu=7200,Dd=",";var px=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(px||{}),Id=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Id||{}),mx=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(mx||{});const tm={Ed25519:Id.Ed25519,ES256K:Id.secp256k1,ES256:Id.secp256r1,"P-256":Id.secp256r1,secp256k1:Id.secp256k1,secp256r1:Id.secp256r1,X25519:Id.X25519},CT={[Id.Ed25519]:"Ed25519",[Id.secp256k1]:"ES256K",[Id.secp256r1]:"ES256",[Id.X25519]:"ECDH-ES+A256KW"};let D_=(()=>{class r extends fx{static create(){return nc(this,arguments,void 0,function*({keyManager:n=new ir.eP,options:o={}}={}){var p,y,l,u,J,X,N,oe,Ee,Le,Pe;if(null!==(p=o.verificationMethods)&&void 0!==p&&p.some(Zt=>!(Zt.algorithm in tm)))throw new Error("One or more verification method algorithms are not supported");const Ye=null===(y=o.verificationMethods)||void 0===y?void 0:y.filter(Zt=>"id"in Zt).map(Zt=>Zt.id);if(Ye&&Ye.length!==new Set(Ye).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=o.services)&&void 0!==l&&l.some(Zt=>!Zt.id||!Zt.type||!Zt.serviceEndpoint))throw new Error("One or more services are missing required properties");const mt=yield n.generateKey({algorithm:"Ed25519"}),St=yield n.getPublicKey({keyUri:mt}),gt=yield Ka.identityKeyToIdentifier({identityKey:St}),yt=Object.assign(Object.assign({id:gt},o.alsoKnownAs&&{alsoKnownAs:o.alsoKnownAs}),o.controllers&&{controller:o.controllers}),Tt=[...null!==(u=o.verificationMethods)&&void 0!==u?u:[]];Tt?.some(Zt=>{var cn;return"0"===(null===(cn=Zt.id)||void 0===cn?void 0:cn.split("#").pop())})||Tt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Zt of Tt){const cn=Zt.id&&"0"===Zt.id.split("#").pop()?mt:yield n.generateKey({algorithm:Zt.algorithm}),$t=yield n.getPublicKey({keyUri:cn});let kn=null!==(X=null!==(J=Zt.id)&&void 0!==J?J:$t.kid)&&void 0!==X?X:yield(0,ir.BA)({jwk:$t});kn=`${gt}#${ud(kn)}`,null!==(N=yt.verificationMethod)&&void 0!==N||(yt.verificationMethod=[]),yt.verificationMethod.push({id:kn,type:"JsonWebKey",controller:null!==(oe=Zt.controller)&&void 0!==oe?oe:gt,publicKeyJwk:$t});for(const Jn of null!==(Ee=Zt.purposes)&&void 0!==Ee?Ee:[])yt[Jn]||(yt[Jn]=[]),yt[Jn].push(kn)}null===(Le=o.services)||void 0===Le||Le.forEach(Zt=>{var cn;null!==(cn=yt.service)&&void 0!==cn||(yt.service=[]),Zt.id=`${gt}#${Zt.id.split("#").pop()}`,yt.service.push(Zt)});const zt=new ju({uri:gt,document:yt,metadata:Object.assign({published:!1},o.types&&{types:o.types}),keyManager:n});if(null===(Pe=o.publish)||void 0===Pe||Pe){const Zt=yield r.publish({did:zt,gatewayUri:o.gatewayUri});zt.metadata=Zt.didDocumentMetadata}return zt})}static import(n){return nc(this,arguments,void 0,function*({portableDid:o,keyManager:p=new ir.eP}){var y;const l=Ss.parse(o.uri);if(l?.method!==r.methodName)throw new Li(Ui.MethodNotSupported,"Method not supported");const u=yield ju.import({portableDid:o,keyManager:p});if(null===(y=u.document.verificationMethod)||void 0===y||!y.some(J=>{var X;return"0"===(null===(X=J.id)||void 0===X?void 0:X.split("#").pop())}))throw new Li(Ui.InvalidDidDocument,"DID document must contain an Identity Key");return u})}static getSigningMethod(n){return nc(this,arguments,void 0,function*({didDocument:o,methodId:p="#0"}){var y;const l=Ss.parse(o.id);if(l&&l.method!==this.methodName)throw new Li(Ui.MethodNotSupported,`Method not supported: ${l.method}`);const u=null===(y=o.verificationMethod)||void 0===y?void 0:y.find(J=>{var X,N;return ud(J.id)===(null!==(X=ud(p))&&void 0!==X?X:ud(null===(N=o.assertionMethod)||void 0===N?void 0:N[0]))});if(!u||!u.publicKeyJwk)throw new Li(Ui.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static publish(n){return nc(this,arguments,void 0,function*({did:o,gatewayUri:p=hx}){return yield tu.put({did:o,gatewayUri:p})})}static resolve(n){return nc(this,arguments,void 0,function*(o,p={}){var y;const l=null!==(y=p?.gatewayUri)&&void 0!==y?y:hx;try{yield Ka.identifierToIdentityKey({didUri:o});const{didDocument:u,didDocumentMetadata:J}=yield tu.get({didUri:o,gatewayUri:l});return Object.assign(Object.assign({},Bf),{didDocument:u,didDocumentMetadata:J})}catch(u){if(!(u instanceof Li))throw new Error(u);return Object.assign(Object.assign({},Bf),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}}return r.methodName="dht",r})();class tu{static get(t){return nc(this,arguments,void 0,function*({didUri:n,gatewayUri:o}){const p=Ka.identifierToIdentityKeyBytes({didUri:n}),y=yield tu.pkarrGet({gatewayUri:o,publicKeyBytes:p}),l=yield Ka.parseBep44GetMessage({bep44Message:y}),u=yield tu.fromDnsPacket({didUri:n,dnsPacket:l});return u.didDocumentMetadata.versionId=y.seq.toString(),u})}static put(t){return nc(this,arguments,void 0,function*({did:n,gatewayUri:o}){const p=yield tu.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[o]}),y=yield Ka.createBep44PutMessage({dnsPacket:p,publicKeyBytes:Ka.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),l=yield tu.pkarrPut({gatewayUri:o,bep44Message:y});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:l,versionId:y.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return nc(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:o}){const p=Ur.U$.uint8Array(o).toBase32Z(),y=new URL(p,n).href;let l;try{if(l=yield fetch(y,{method:"GET"}),!l.ok)throw new Li(Ui.NotFound,`Pkarr record not found for: ${p}`)}catch(X){throw X instanceof Li?X:new Li(Ui.InternalError,`Failed to fetch Pkarr record: ${X.message}`)}const u=yield l.arrayBuffer();if(!u)throw new Li(Ui.NotFound,`Pkarr record not found for: ${p}`);if(u.byteLength<72)throw new Li(Ui.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${u.byteLength}`);if(u.byteLength>1072)throw new Li(Ui.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${u.byteLength}`);return{k:o,seq:Number(new DataView(u).getBigUint64(64)),sig:new Uint8Array(u,0,64),v:new Uint8Array(u,72)}})}static pkarrPut(t){return nc(this,arguments,void 0,function*({gatewayUri:n,bep44Message:o}){const p=Ur.U$.uint8Array(o.k).toBase32Z(),y=new URL(p,n).href,l=new Uint8Array(o.v.length+72);let u;l.set(o.sig,0),new DataView(l.buffer).setBigUint64(o.sig.length,BigInt(o.seq)),l.set(o.v,o.sig.length+8);try{u=yield fetch(y,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:l})}catch(J){throw new Li(Ui.InternalError,`Failed to put Pkarr record for identifier ${p}: ${J.message}`)}return u.ok})}static fromDnsPacket(t){return nc(this,arguments,void 0,function*({didUri:n,dnsPacket:o}){var p,y,l;const u={id:n},J={published:!0},X=new Map;for(const N of null!==(p=o?.answers)&&void 0!==p?p:[]){if("TXT"!==N.type)continue;const oe=N.name.split(".")[0].substring(1);switch(!0){case oe.startsWith("aka"):{const Ee=Ka.parseTxtDataToString(N.data);u.alsoKnownAs=Ee.split(Dd);break}case oe.startsWith("cnt"):{const Ee=Ka.parseTxtDataToString(N.data);u.controller=Ee.includes(Dd)?Ee.split(Dd):Ee;break}case oe.startsWith("k"):{const{id:Ee,t:Le,k:Pe,c:Ye,a:mt}=Ka.parseTxtDataToObject(N.data),St=Ur.U$.base64Url(Pe).toUint8Array(),gt=Id[Number(Le)];let yt=yield Ka.keyConverter(gt).bytesToPublicKey({publicKeyBytes:St});yt.alg=mt||CT[Number(Le)];const Tt="k0"===oe?"0":void 0!==Ee?Ee:yield(0,ir.BA)({jwk:yt});null!==(y=u.verificationMethod)&&void 0!==y||(u.verificationMethod=[]);const zt=`${n}#${Tt}`;u.verificationMethod.push({id:zt,type:"JsonWebKey",controller:Ye??n,publicKeyJwk:yt}),X.set(oe,zt);break}case oe.startsWith("s"):{const Ee=Ka.parseTxtDataToObject(N.data),{id:Le,t:Pe,se:Ye}=Ee,mt=S_(Ee,["id","t","se"]),St=Ye.includes(Dd)?Ye.split(Dd):[Ye],gt=Object.fromEntries(Object.entries(mt).map(([yt,Tt])=>[yt,Tt.includes(Dd)?Tt.split(Dd):Tt]));null!==(l=u.service)&&void 0!==l||(u.service=[]),u.service.push(Object.assign(Object.assign({},gt),{id:`${n}#${Le}`,type:Pe,serviceEndpoint:St}));break}case oe.startsWith("typ"):{const{id:Ee}=Ka.parseTxtDataToObject(N.data);J.types=Ee.split(Dd).map(Le=>Number(Le));break}case oe.startsWith("did"):{const Ee=gt=>gt.split(Dd).map(yt=>X.get(yt)).filter(yt=>"string"==typeof yt),{auth:Le,asm:Pe,del:Ye,inv:mt,agm:St}=Ka.parseTxtDataToObject(N.data);Le&&(u.authentication=Ee(Le)),Pe&&(u.assertionMethod=Ee(Pe)),Ye&&(u.capabilityDelegation=Ee(Ye)),mt&&(u.capabilityInvocation=Ee(mt)),St&&(u.keyAgreement=Ee(St));break}}}return{didDocument:u,didDocumentMetadata:J,didResolutionMetadata:{}}})}static toDnsPacket(t){return nc(this,arguments,void 0,function*({didDocument:n,didMetadata:o,authoritativeGatewayUris:p,previousDidProof:y}){var l,u,J,X,N;const oe=[],Ee=[],Le=new Map,Pe=[],Ye=[];if(void 0!==y){const{signature:gt,previousDid:yt}=y;yield Ka.validatePreviousDidProof({newDid:n.id,previousDidProof:y}),oe.push({type:"TXT",name:"_prv._did.",ttl:eu,data:`id=${yt};s=${gt}`})}if(n.alsoKnownAs&&oe.push({type:"TXT",name:"_aka._did.",ttl:eu,data:n.alsoKnownAs.join(Dd)}),n.controller){const gt=Array.isArray(n.controller)?n.controller.join(Dd):n.controller;oe.push({type:"TXT",name:"_cnt._did.",ttl:eu,data:gt})}for(const[gt,yt]of null!==(u=null===(l=n.verificationMethod)||void 0===l?void 0:l.entries())&&void 0!==u?u:[]){const Tt=`k${gt}`;Ye.push(Tt);let zt=yt.id.split("#").pop();Le.set(zt,Tt);const Zt=yt.publicKeyJwk;if(!Zt?.crv||!(Zt.crv in tm))throw new Li(Ui.InvalidPublicKeyType,`Verification method '${yt.id}' contains an unsupported key type: ${null!==(J=Zt?.crv)&&void 0!==J?J:"undefined"}`);const cn=Id[Zt.crv],$t=yield Ka.keyConverter(Zt.crv).publicKeyToBytes({publicKey:Zt}),Jn=[`t=${cn}`,`k=${Ur.U$.uint8Array($t).toBase64Url()}`];"0"!==zt&&(yield(0,ir.BA)({jwk:Zt}))!==zt&&Jn.unshift(`id=${zt}`),Zt.alg!==CT[cn]&&Jn.push(`a=${Zt.alg}`),yt.controller!==n.id&&Jn.push(`c=${yt.controller}`),oe.push({type:"TXT",name:`_${Tt}._did.`,ttl:eu,data:Jn.join(";")})}null===(X=n.service)||void 0===X||X.forEach((gt,yt)=>{const Tt=`s${yt}`;Pe.push(Tt);let{id:zt,type:Zt,serviceEndpoint:cn}=gt,$t=S_(gt,["id","type","serviceEndpoint"]);zt=ud(zt),cn=Array.isArray(cn)?cn.join(","):cn;const Jn=Object.entries(Object.assign({id:zt,t:Zt,se:cn},$t)).map(([dr,Zn])=>`${dr}=${Zn}`).join(";"),tr=Ka.chunkDataIfNeeded(Jn);oe.push({type:"TXT",name:`_${Tt}._did.`,ttl:eu,data:tr})});const mt=["v=0"];if(Ye.length&&mt.push(`vm=${Ye.join(Dd)}`),Object.keys(x_).forEach(gt=>{var yt;const Tt=null===(yt=n[gt])||void 0===yt?void 0:yt.map(zt=>Le.get(zt.split("#").pop()));Tt&&mt.push(`${mx[gt]}=${Tt.join(Dd)}`)}),Pe.length&&mt.push(`svc=${Pe.join(Dd)}`),null!==(N=o.types)&&void 0!==N&&N.length){const yt=o.types.map(Tt=>"string"==typeof Tt?px[Tt]:Tt);oe.push({type:"TXT",name:"_typ._did.",ttl:eu,data:`id=${yt.join(Dd)}`})}oe.push({type:"TXT",name:"_did."+tu.getUniqueDidSuffix(n.id)+".",ttl:eu,data:mt.join(";")});for(const gt of p||[])Ee.push({type:"NS",name:"_did."+tu.getUniqueDidSuffix(n.id)+".",ttl:eu,data:gt+"."});return{id:0,type:"response",flags:em.hB,answers:[...oe,...Ee]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class Ka{static createBep44PutMessage(t){return nc(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:o,signer:p}){const y=Math.ceil(Date.now()/1e3),l=(0,em.lF)(n),u=M_.A.encode({seq:y,v:l}).subarray(1,-1);if(u.length>1e3)throw new Li(Ui.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${u.length} bytes`);return{k:o,seq:y,sig:yield p.sign({data:u}),v:l}})}static identifierToIdentityKey(t){return nc(this,arguments,void 0,function*({didUri:n}){let o=Ka.identifierToIdentityKeyBytes({didUri:n});return yield ir.Mc.bytesToPublicKey({publicKeyBytes:o})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ss.parse(t);if(!n)throw new Li(Ui.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==D_.methodName)throw new Li(Ui.MethodNotSupported,`Method not supported: ${n.method}`);let o;try{o=Ur.U$.base32Z(n.id).toUint8Array()}catch{throw new Li(Ui.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==o.length)throw new Li(Ui.InvalidPublicKeyLength,`Invalid public key length: ${o.length}`);return o}static identityKeyToIdentifier(t){return nc(this,arguments,void 0,function*({identityKey:n}){const o=yield ir.Mc.publicKeyToBytes({publicKey:n}),p=Ur.U$.uint8Array(o).toBase32Z();return`did:${D_.methodName}:${p}`})}static keyConverter(t){const o={Ed25519:ir.Mc,"P-256":{publicKeyToBytes:p=>nc(this,[p],void 0,function*({publicKey:y}){const l=yield ir.iH.publicKeyToBytes({publicKey:y});return yield ir.iH.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:ir.iH.bytesToPublicKey,privateKeyToBytes:ir.iH.privateKeyToBytes,bytesToPrivateKey:ir.iH.bytesToPrivateKey},secp256k1:{publicKeyToBytes:p=>nc(this,[p],void 0,function*({publicKey:y}){const l=yield ir.jg.publicKeyToBytes({publicKey:y});return yield ir.jg.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:ir.jg.bytesToPublicKey,privateKeyToBytes:ir.jg.privateKeyToBytes,bytesToPrivateKey:ir.jg.bytesToPrivateKey},X25519:ir.Nx}[t];if(!o)throw new Li(Ui.InvalidPublicKeyType,`Unsupported curve: ${t}`);return o}static parseBep44GetMessage(t){return nc(this,arguments,void 0,function*({bep44Message:n}){const o=yield ir.Mc.bytesToPublicKey({publicKeyBytes:n.k}),p=M_.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield ir.Mc.verify({key:o,signature:n.sig,data:p})))throw new Li(Ui.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,em.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,o)=>{const[p,y]=o.split("=");return n[p]=y,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return Ur.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Li(Ui.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return nc(this,arguments,void 0,function*({newDid:n,previousDidProof:o}){const p=yield Ka.identifierToIdentityKey({didUri:o.previousDid}),y=Ka.identifierToIdentityKeyBytes({didUri:n}),l=Ur.U$.base64Url(o.signature).toUint8Array();if(!(yield ir.Mc.verify({key:p,data:y,signature:l})))throw new Li(Ui.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let o=0;o<t.length;o+=255)n.push(t.slice(o,o+255));return n}}var kT=E(52039),kh=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},Lf=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Lf||{});const PT={Ed25519:Lf.Ed25519,ES256K:Lf.secp256k1,ES256:Lf.secp256r1,"P-256":Lf.secp256r1,secp256k1:Lf.secp256k1,secp256r1:Lf.secp256r1},gx="https://ion.tbd.engineering";let V5=(()=>{class r extends fx{static create(){return kh(this,arguments,void 0,function*({keyManager:n=new ir.eP,options:o={}}={}){var p,y,l,u,J,X,N;if(null!==(p=o.verificationMethods)&&void 0!==p&&p.some(Zt=>!(Zt.algorithm in PT)))throw new Error("One or more verification method algorithms are not supported");const oe=null===(y=o.verificationMethods)||void 0===y?void 0:y.filter(Zt=>"id"in Zt).map(Zt=>Zt.id);if(oe&&oe.length!==new Set(oe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=o.services)&&void 0!==l&&l.some(Zt=>!Zt.id||!Zt.type||!Zt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Ee={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Le=[];for(const Zt of null!==(u=o.verificationMethods)&&void 0!==u?u:[Ee]){const cn=yield n.generateKey({algorithm:Zt.algorithm}),$t=yield n.getPublicKey({keyUri:cn});Le.push({id:Zt.id,publicKeyJwk:$t,purposes:null!==(J=Zt.purposes)&&void 0!==J?J:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Pe=yield n.generateKey({algorithm:Lf.secp256k1}),Ye=yield n.getPublicKey({keyUri:Pe}),mt=yield n.generateKey({algorithm:Lf.secp256k1}),St=yield n.getPublicKey({keyUri:mt}),gt=yield $d.computeLongFormDidUri({recoveryKey:Ye,updateKey:St,services:null!==(X=o.services)&&void 0!==X?X:[],verificationMethods:Le}),{didDocument:yt,didResolutionMetadata:Tt}=yield r.resolve(gt,{gatewayUri:o.gatewayUri});if(null===yt)throw new Error(`Unable to resolve DID during creation: ${Tt?.error}`);const zt=new ju({uri:gt,document:yt,metadata:{published:!1,canonicalId:gt.split(":",3).join(":"),recoveryKey:Ye,updateKey:St},keyManager:n});if(null===(N=o.publish)||void 0===N||N){const Zt=yield r.publish({did:zt,gatewayUri:o.gatewayUri});zt.metadata=Zt.didDocumentMetadata}return zt})}static getSigningMethod(n){return kh(this,arguments,void 0,function*({didDocument:o,methodId:p}){var y;const l=Ss.parse(o.id);if(l&&l.method!==this.methodName)throw new Li(Ui.MethodNotSupported,`Method not supported: ${l.method}`);const u=null===(y=o.verificationMethod)||void 0===y?void 0:y.find(J=>{var X;return J.id===(p??(null===(X=o.assertionMethod)||void 0===X?void 0:X[0]))});if(!u||!u.publicKeyJwk)throw new Li(Ui.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static import(n){return kh(this,arguments,void 0,function*({portableDid:o,keyManager:p=new ir.eP}){const y=Ss.parse(o.uri);if(y?.method!==r.methodName)throw new Li(Ui.MethodNotSupported,"Method not supported");return yield ju.import({portableDid:o,keyManager:p})})}static publish(n){return kh(this,arguments,void 0,function*({did:o,gatewayUri:p=gx}){var y,l,u;const J=null!==(l=null===(y=o.document.verificationMethod)||void 0===y?void 0:y.map(oe=>({id:oe.id,publicKeyJwk:oe.publicKeyJwk,purposes:og({didDocument:o.document,methodId:oe.id})})))&&void 0!==l?l:[],X=yield $d.createIonDocument({services:null!==(u=o.document.service)&&void 0!==u?u:[],verificationMethods:J}),N=yield $d.constructCreateRequest({ionDocument:X,recoveryKey:o.metadata.recoveryKey,updateKey:o.metadata.updateKey});try{const oe=$d.appendPathToUrl({baseUrl:p,path:"/operations"}),Ee=yield fetch(oe,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});return{didDocument:o.document,didDocumentMetadata:Object.assign(Object.assign({},o.metadata),{published:Ee.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Ui.InternalError,errorMessage:`Failed to publish DID document for: ${o.uri}`}}}})}static resolve(n){return kh(this,arguments,void 0,function*(o,p={}){var y,l;const u=Ss.parse(o);if(!u)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:"invalidDid"}});if(u.method!==r.methodName)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:"methodNotSupported"}});const J=null!==(y=p?.gatewayUri)&&void 0!==y?y:gx;try{const X=$d.appendPathToUrl({baseUrl:J,path:`/identifiers/${o}`}),N=yield fetch(X);if(!N.ok)throw new Li(Ui.NotFound,`Unable to find DID document for: ${o}`);const{didDocument:oe,didDocumentMetadata:Ee}=yield N.json();return Object.assign(Object.assign(Object.assign({},Bf),oe&&{didDocument:oe}),{didDocumentMetadata:Object.assign({published:null===(l=Ee?.method)||void 0===l?void 0:l.published},Ee)})}catch(X){if(!(X instanceof Li))throw new Error(X);return Object.assign(Object.assign({},Bf),{didResolutionMetadata:Object.assign({error:X.code},X.message&&{errorMessage:X.message})})}})}}return r.methodName="ion",r})();class $d{static appendPathToUrl({baseUrl:t,path:n}){const o=new URL(t);return o.pathname=o.pathname.endsWith("/")?o.pathname:o.pathname+"/",o.pathname+=n.startsWith("/")?n.substring(1):n,o.toString()}static computeLongFormDidUri(t){return kh(this,arguments,void 0,function*({recoveryKey:n,updateKey:o,services:p,verificationMethods:y}){const l=yield $d.createIonDocument({services:p,verificationMethods:y}),u=$d.normalizeJwk(n),J=$d.normalizeJwk(o);return yield kT.oU.createLongFormDid({document:l,recoveryKey:u,updateKey:J})})}static constructCreateRequest(t){return kh(this,arguments,void 0,function*({ionDocument:n,recoveryKey:o,updateKey:p}){return yield kT.Q2.createCreateRequest({document:n,recoveryKey:$d.normalizeJwk(o),updateKey:$d.normalizeJwk(p)})})}static createIonDocument(t){return kh(this,arguments,void 0,function*({services:n,verificationMethods:o}){var p,y;const l=[];for(const X of o){let N=null!==(y=null!==(p=X.id)&&void 0!==p?p:X.publicKeyJwk.kid)&&void 0!==y?y:yield(0,ir.BA)({jwk:X.publicKeyJwk});N=`${N.split("#").pop()}`;const oe={id:N,publicKeyJwk:$d.normalizeJwk(X.publicKeyJwk),purposes:X.purposes,type:"JsonWebKey2020"};l.push(oe)}return{publicKeys:l,services:n.map(X=>Object.assign(Object.assign({},X),{id:`${X.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let o;if("EC"===n)o={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)o={k:t.k,kty:t.kty};else if("OKP"===n)o={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);o={e:t.e,kty:t.kty,n:t.n}}return o}}var nu=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},Uf=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Uf||{});const yx={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},RT={Ed25519:Uf.Ed25519,ES256K:Uf.secp256k1,ES256:Uf.secp256r1,"P-256":Uf.secp256r1,secp256k1:Uf.secp256k1,secp256r1:Uf.secp256r1,X25519:Uf.X25519};let OT=(()=>{class r extends fx{static create(){return nu(this,arguments,void 0,function*({keyManager:n=new ir.eP,options:o={}}={}){var p,y,l,u;if(o.algorithm&&o.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(o.verificationMethods&&1!==o.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const J=null!==(u=null!==(p=o.algorithm)&&void 0!==p?p:null===(l=null===(y=o.verificationMethods)||void 0===y?void 0:y[0])||void 0===l?void 0:l.algorithm)&&void 0!==u?u:"Ed25519",X=yield n.generateKey({algorithm:J}),N=yield n.getPublicKey({keyUri:X}),oe=yield $u.publicKeyToMultibaseId({publicKey:N}),Ee=`did:${r.methodName}:${oe}`,Pe=(yield r.resolve(Ee,o)).didDocument;return new ju({uri:Ee,document:Pe,metadata:{},keyManager:n})})}static getSigningMethod(n){return nu(this,arguments,void 0,function*({didDocument:o}){var p;const y=Ss.parse(o.id);if(y&&y.method!==this.methodName)throw new Li(Ui.MethodNotSupported,`Method not supported: ${y.method}`);const[l]=o.assertionMethod||[],u=null===(p=o.verificationMethod)||void 0===p?void 0:p.find(J=>J.id===l);if(!u||!u.publicKeyJwk)throw new Li(Ui.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static import(n){return nu(this,arguments,void 0,function*({portableDid:o,keyManager:p=new ir.eP}){const y=Ss.parse(o.uri);if(y?.method!==r.methodName)throw new Li(Ui.MethodNotSupported,"Method not supported");const l=yield ju.import({portableDid:o,keyManager:p});if(1!==l.document.verificationMethod.length)throw new Li(Ui.InvalidDidDocument,"DID document must contain exactly one verification method");return l})}static resolve(n,o){return nu(this,void 0,void 0,function*(){try{const p=yield r.createDocument({didUri:n,options:o});return Object.assign(Object.assign({},Bf),{didDocument:p})}catch(p){if(!(p instanceof Li))throw new Error(p);return Object.assign(Object.assign({},Bf),{didResolutionMetadata:Object.assign({error:p.code},p.message&&{errorMessage:p.message})})}})}static createDocument(n){return nu(this,arguments,void 0,function*({didUri:o,options:p={}}){const{defaultContext:y="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:l=!1,enableExperimentalPublicKeyTypes:u=!1,publicKeyFormat:J="JsonWebKey2020"}=p,X={id:""},N=Ss.parse(o);if(!N)throw new Li(Ui.InvalidDid,`Invalid DID URI: ${o}`);const oe=N.id;if(N.method!==r.methodName)throw new Li(Ui.MethodNotSupported,`Method not supported: ${N.method}`);if(!r.validateIdentifier(N))throw new Li(Ui.InvalidDid,`Invalid DID URI: ${o}`);const Ee=yield r.createSignatureMethod({didUri:o,multibaseValue:oe,options:{enableExperimentalPublicKeyTypes:u,publicKeyFormat:J}});if(X.id=N.uri,X.verificationMethod=[Ee],X.authentication=[Ee.id],X.assertionMethod=[Ee.id],X.capabilityInvocation=[Ee.id],X.capabilityDelegation=[Ee.id],!0===l){const Ye="Ed25519VerificationKey2020"===J?"X25519KeyAgreementKey2020":"JsonWebKey2020",mt=yield this.createEncryptionMethod({didUri:o,multibaseValue:oe,options:{enableExperimentalPublicKeyTypes:u,publicKeyFormat:Ye}});X.verificationMethod.push(mt),X.keyAgreement=[mt.id]}const Le=[y];return function fd({didDocument:r}){const n=ux({didDocument:r}).map(o=>o.type);return[...new Set(n)]}({didDocument:X}).forEach(Ye=>{Le.push(yx[Ye])}),X["@context"]=Le,X})}static createEncryptionMethod(n){return nu(this,arguments,void 0,function*({didUri:o,multibaseValue:p,options:y}){const{enableExperimentalPublicKeyTypes:l,publicKeyFormat:u}=y,J={id:"",type:"",controller:""},{keyBytes:X,multicodecCode:N}=yield r.deriveEncryptionKey({multibaseValue:p}),oe=X.byteLength,Ee=$u.MULTICODEC_PUBLIC_KEY_LENGTH[N];if(oe!==Ee)throw new Li(Ui.InvalidPublicKeyLength,`Expected ${oe} bytes. Actual: ${Ee}`);const Le=$5({keyBytes:X,multicodecCode:N});J.id=`${o}#${Le}`;try{new URL(J.id)}catch{throw new Li(Ui.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(u in yx))throw new Li(Ui.UnsupportedPublicKeyType,`Unsupported format: ${u}`);if(!1===l&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(u))throw new Li(Ui.InvalidPublicKeyType,`Specified '${u}' without setting enableExperimentalPublicKeyTypes to true.`);if(J.type=u,J.controller=o,"X25519KeyAgreementKey2020"===u&&(J.publicKeyMultibase=Le),"JsonWebKey2020"===u){const{crv:Ye}=yield $u.multicodecToJwk({code:N});J.publicKeyJwk=yield $u.keyConverter(Ye).bytesToPublicKey({publicKeyBytes:X})}return J})}static createSignatureMethod(n){return nu(this,arguments,void 0,function*({didUri:o,multibaseValue:p,options:y}){const{enableExperimentalPublicKeyTypes:l,publicKeyFormat:u}=y,J={id:"",type:"",controller:""},{keyBytes:X,multicodecCode:N,multicodecName:oe}=sg({multibaseKeyId:p}),Ee=X.byteLength,Le=$u.MULTICODEC_PUBLIC_KEY_LENGTH[N];if(Ee!==Le)throw new Li(Ui.InvalidPublicKeyLength,`Expected ${Ee} bytes. Actual: ${Le}`);let Pe=!1;switch(oe){case"secp256k1-pub":Pe=yield ir.jg.validatePublicKey({publicKeyBytes:X});break;case"ed25519-pub":Pe=yield ir.Mc.validatePublicKey({publicKeyBytes:X});break;case"x25519-pub":Pe=!0}if(!Pe)throw new Li(Ui.InvalidPublicKey,"Invalid public key detected.");J.id=`${o}#${p}`;try{new URL(J.id)}catch{throw new Li(Ui.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(u in yx))throw new Li(Ui.UnsupportedPublicKeyType,`Unsupported format: ${u}`);if(!1===l&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(u))throw new Li(Ui.InvalidPublicKeyType,`Specified '${u}' without setting enableExperimentalPublicKeyTypes to true.`);if(J.type=u,J.controller=o,"Ed25519VerificationKey2020"===u&&(J.publicKeyMultibase=p),"JsonWebKey2020"===u){const{crv:mt}=yield $u.multicodecToJwk({code:N});J.publicKeyJwk=yield $u.keyConverter(mt).bytesToPublicKey({publicKeyBytes:X})}return J})}static deriveEncryptionKey(n){return nu(this,arguments,void 0,function*({multibaseValue:o}){let p={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:y,multicodecCode:l}=sg({multibaseKeyId:o});if(237===l){const u=yield $u.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:y}),J=yield ir.Mc.convertPublicKeyToX25519({publicKey:u});p={keyBytes:yield $u.keyConverter("Ed25519").publicKeyToBytes({publicKey:J}),multicodecCode:236}}return p})}static validateIdentifier(n){const{method:o,id:p}=n,[y]=n.uri.split(":",1);return"did"===y&&"key"===o&&Number("1")>0&&"String"===(0,Ur.fc)(p)&&p.startsWith("z")}}return r.methodName="key",r})(),$u=(()=>{class r{static jwkToMulticodec(n){return nu(this,arguments,void 0,function*({jwk:o}){const p=[];o.crv&&(p.push(o.crv),p.push(o.d?"private":"public"));const y=p.join(":"),l=r.JWK_TO_MULTICODEC[y];if(void 0===l)throw new Error(`Unsupported JWK to Multicodec conversion: '${y}'`);return{code:Ur.Gs.getCodeFromName({name:l}),name:l}})}static keyCompressor(n){const p={"P-256":ir.iH.compressPublicKey,secp256k1:ir.jg.compressPublicKey}[n];if(!p)throw new Li(Ui.InvalidPublicKeyType,`Unsupported curve: ${n}`);return p}static keyConverter(n){const p={Ed25519:ir.Mc,"P-256":ir.iH,secp256k1:ir.jg,X25519:ir.Nx}[n];if(!p)throw new Li(Ui.InvalidPublicKeyType,`Unsupported curve: ${n}`);return p}static multicodecToJwk(n){return nu(this,arguments,void 0,function*({code:o,name:p}){if(!(p?!o:o))throw new Error("Either 'name' or 'code' must be defined, but not both.");p=void 0===p?Ur.Gs.getNameFromCode({code:o}):p;const l=r.MULTICODEC_TO_JWK[p];if(void 0===l)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},l)})}static publicKeyToMultibaseId(n){return nu(this,arguments,void 0,function*({publicKey:o}){var p;if(!o?.crv||!(o.crv in RT))throw new Li(Ui.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(p=o?.crv)&&void 0!==p?p:"undefined"}`);let y=yield r.keyConverter(o.crv).publicKeyToBytes({publicKey:o});/^(secp256k1|P-256|P-384|P-521)$/.test(o.crv)&&(y=yield r.keyCompressor(o.crv)({publicKeyBytes:y}));const{name:l}=yield r.jwkToMulticodec({jwk:o});return $5({keyBytes:y,multicodecName:l})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var W5=E(14078),HP=E(42064);class WP{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:o="15m"}={}){this.cache=t??new HP.Level(n),this.ttl=W5(o)}get(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),o=JSON.parse(n);return Date.now()>=o.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):o.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const o={ttlMillis:Date.now()+this.ttl,value:n},p=JSON.stringify(o);return this.cache.put(t,p)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const GP={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var G5=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class ZP{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||GP;for(const o of n)this.didResolvers.set(o.methodName,o)}resolve(t,n){return G5(this,void 0,void 0,function*(){const o=Ss.parse(t);if(!o)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:Ui.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const p=this.didResolvers.get(o.method);if(!p)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:Ui.MethodNotSupported,errorMessage:`Method not supported: ${o.method}`}});const y=yield this.cache.get(o.uri);if(y)return y;{const l=yield p.resolve(o.uri,n);return l.didResolutionMetadata.error||(yield this.cache.set(o.uri,l)),l}})}dereference(t,n){return G5(this,void 0,void 0,function*(){const o=Ss.parse(t);if(!o)return{dereferencingMetadata:{error:Ui.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:p,didResolutionMetadata:y,didDocumentMetadata:l}=yield this.resolve(o.uri);if(!p)return{dereferencingMetadata:{error:y.error},contentStream:null,contentMetadata:{}};if(!o.fragment||o.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:p,contentMetadata:l};const{service:u=[],verificationMethod:J=[]}=p,X=new Set([t,o.fragment,`#${o.fragment}`]);let N;for(let oe of J)if(X.has(oe.id)){N=oe;break}for(let oe of u)if(X.has(oe.id)){N=oe;break}return N?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:N,contentMetadata:y}:{dereferencingMetadata:{error:Ui.NotFound},contentStream:null,contentMetadata:{}}})}}var gv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class BT{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.methodHandlers={[Ki.Events+si.Get]:new y_(this.didResolver,this.eventLog),[Ki.Events+si.Query]:new bT(this.didResolver,this.eventLog),[Ki.Events+si.Subscribe]:new ox(this.didResolver,this.eventStream),[Ki.Messages+si.Get]:new O5(this.didResolver,this.messageStore,this.dataStore),[Ki.Protocols+si.Configure]:new dv(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[Ki.Protocols+si.Query]:new L5(this.didResolver,this.messageStore,this.dataStore),[Ki.Records+si.Delete]:new dx(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream),[Ki.Records+si.Query]:new Ah(this.didResolver,this.messageStore,this.dataStore),[Ki.Records+si.Read]:new qp(this.didResolver,this.messageStore,this.dataStore),[Ki.Records+si.Subscribe]:new Ql(this.didResolver,this.messageStore,this.eventStream),[Ki.Records+si.Write]:new Ch(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,o;return gv(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new ZP({didResolvers:[D_,V5,OT],cache:new WP({location:"RESOLVERCACHE"})})),null!==(o=t.tenantGate)&&void 0!==o||(t.tenantGate=new yT);const p=new BT(t);return yield p.open(),p})}open(){var t;return gv(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open()})}close(){var t;return gv(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.eventLog.close()})}processMessage(t,n,o={}){var p;return gv(this,void 0,void 0,function*(){const y=null!==(p=yield this.validateTenant(t))&&void 0!==p?p:yield this.validateMessageIntegrity(n);if(void 0!==y)return y;const{dataStream:l,subscriptionHandler:u}=o,J=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[J].handle({tenant:t,message:n,dataStream:l,subscriptionHandler:u})})}validateTenant(t){var n;return gv(this,void 0,void 0,function*(){const o=yield this.tenantGate.isActiveTenant(t);if(!o.isActiveTenant)return{status:{code:401,detail:null!==(n=o.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,o;return gv(this,void 0,void 0,function*(){const p=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,y=null===(o=t?.descriptor)||void 0===o?void 0:o.method;if(void 0===p||void 0===y)return{status:{code:400,detail:`Both interface and method must be present, interface: ${p}, method: ${y}`}};try{kr.validateJsonSchema(t)}catch(l){return fs(l,400)}})}}function XP(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function rc(r,t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,XP(t)]):r})}var vx=E(54626),Kd=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},hd=function(r){return this instanceof hd?(this.v=r,this):new hd(r)},cg=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}},LT=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,o=n.apply(r,t||[]),y=[];return p={},l("next"),l("throw"),l("return"),p[Symbol.asyncIterator]=function(){return this},p;function l(Ee){o[Ee]&&(p[Ee]=function(Le){return new Promise(function(Pe,Ye){y.push([Ee,Le,Pe,Ye])>1||u(Ee,Le)})})}function u(Ee,Le){try{!function J(Ee){Ee.value instanceof hd?Promise.resolve(Ee.value.v).then(X,N):oe(y[0][2],Ee)}(o[Ee](Le))}catch(Pe){oe(y[0][3],Pe)}}function X(Ee){u("next",Ee)}function N(Ee){u("throw",Ee)}function oe(Ee,Le){Ee(Le),y.shift(),y.length&&u(y[0][0],y[0][1])}};function dg(r,t){return Kd(this,void 0,void 0,function*(){return new vx.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class yv{constructor(t,n){this.config=Object.assign({createLevelDatabase:dg},t),this.db=n}open(){return Kd(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return Kd(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return Kd(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new yv(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var o;return Kd(this,void 0,void 0,function*(){null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield rc(this.createLevelDatabase(),n?.signal);try{return yield rc(this.db.get(String(t)),n?.signal)}catch(p){if("LEVEL_NOT_FOUND"===p.code)return;throw p}})}has(t,n){return Kd(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,o;return LT(this,arguments,function*(){var y,l,u;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield hd(rc(this.createLevelDatabase(),t?.signal));try{for(var oe,X=!0,N=cg(this.db.keys());!(y=(oe=yield hd(N.next())).done);X=!0){X=!1;const Ee=oe.value;null===(o=t?.signal)||void 0===o||o.throwIfAborted(),yield yield hd(Ee)}}catch(Ee){l={error:Ee}}finally{try{!X&&!y&&(u=N.return)&&(yield hd(u.call(N)))}finally{if(l)throw l.error}}})}iterator(t,n){var o,p;return LT(this,arguments,function*(){var l,u,J;null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield hd(rc(this.createLevelDatabase(),n?.signal));try{for(var Ee,N=!0,oe=cg(this.db.iterator(t));!(l=(Ee=yield hd(oe.next())).done);N=!0){N=!1;const Le=Ee.value;null===(p=n?.signal)||void 0===p||p.throwIfAborted(),yield yield hd(Le)}}catch(Le){u={error:Le}}finally{try{!N&&!l&&(J=oe.return)&&(yield hd(J.call(oe)))}finally{if(u)throw u.error}}})}put(t,n,o){var p;return Kd(this,void 0,void 0,function*(){return null===(p=o?.signal)||void 0===p||p.throwIfAborted(),yield rc(this.createLevelDatabase(),o?.signal),rc(this.db.put(String(t),n),o?.signal)})}delete(t,n){var o;return Kd(this,void 0,void 0,function*(){return null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield rc(this.createLevelDatabase(),n?.signal),rc(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,o,p;return Kd(this,void 0,void 0,function*(){try{for(var J,l=!0,u=cg(this.keys(t));J=yield u.next(),!(n=J.done);l=!0)return l=!1,!1}catch(X){o={error:X}}finally{try{!l&&!n&&(p=u.return)&&(yield p.call(u))}finally{if(o)throw o.error}}return!0})}clear(){return Kd(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var o;return Kd(this,void 0,void 0,function*(){return null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield rc(this.createLevelDatabase(),n?.signal),rc(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,o,p;return Kd(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield rc(this.createLevelDatabase(),t?.signal);const y=this.sublevelRange;if(!y)return;const l=this.root;return l.db.supports.additionalMethods.compactRange?rc(null===(p=(o=l.db).compactRange)||void 0===p?void 0:p.call(o,...y),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new yv(this.config,t)}createLevelDatabase(){var t;return Kd(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var Ff=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},I_=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}},ic=function(r){return this instanceof ic?(this.v=r,this):new ic(r)},T_=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,o=n.apply(r,t||[]),y=[];return p={},l("next"),l("throw"),l("return"),p[Symbol.asyncIterator]=function(){return this},p;function l(Ee){o[Ee]&&(p[Ee]=function(Le){return new Promise(function(Pe,Ye){y.push([Ee,Le,Pe,Ye])>1||u(Ee,Le)})})}function u(Ee,Le){try{!function J(Ee){Ee.value instanceof ic?Promise.resolve(Ee.value.v).then(X,N):oe(y[0][2],Ee)}(o[Ee](Le))}catch(Pe){oe(y[0][3],Pe)}}function X(Ee){u("next",Ee)}function N(Ee){u("throw",Ee)}function oe(Ee,Le){Ee(Le),y.shift(),y.length&&u(y[0][0],y[0][1])}};class vv{constructor(t,n){this.config=Object.assign({createLevelDatabase:dg},t),this.db=n??new yv(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return Ff(this,void 0,void 0,function*(){return this.db.open()})}close(){return Ff(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return Ff(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new vv(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,o){return Ff(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,o),el.TO.parse(t.toString())})}get(t,n){return Ff(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return Ff(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return Ff(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return Ff(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return T_(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=I_(t);!(p=(N=yield ic(X.next())).done);J=!0){J=!1;const oe=N.value;yield ic(this.put(oe.cid,oe.block,n)),yield yield ic(oe.cid)}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield ic(l.call(X)))}finally{if(y)throw y.error}}})}getMany(t,n){return T_(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=I_(t);!(p=(N=yield ic(X.next())).done);J=!0){J=!1;const oe=N.value;yield yield ic({cid:oe,block:yield ic(this.get(oe,n))})}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield ic(l.call(X)))}finally{if(y)throw y.error}}})}getAll(t){return T_(this,arguments,function*(){var o,p,y,l;const u=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var N,J=!0,X=I_(u);!(o=(N=yield ic(X.next())).done);J=!0){l=N.value,J=!1;const[oe,Ee]=l;yield yield ic({cid:el.TO.decode(oe),block:Ee})}}catch(oe){p={error:oe}}finally{try{!J&&!o&&(y=X.return)&&(yield ic(y.call(X)))}finally{if(p)throw p.error}}})}deleteMany(t,n){return T_(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=I_(t);!(p=(N=yield ic(X.next())).done);J=!0){J=!1;const oe=N.value;yield ic(this.delete(oe,n)),yield yield ic(oe)}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield ic(l.call(X)))}finally{if(y)throw y.error}}})}clear(){return Ff(this,void 0,void 0,function*(){return this.db.clear()})}}var Sa=E(42853);const J5=function X5(r){if(function Y5(r){return null!=r[Symbol.asyncIterator]}(r))return(0,Ne.A)(function*(){let n;var y,o=!1,p=!1;try{for(var u,l=ko(r);o=!(u=yield l.next()).done;o=!1)n=u.value}catch(J){p=!0,y=J}finally{try{o&&null!=l.return&&(yield l.return())}finally{if(p)throw y}}return n})();let t;for(const n of r)t=n;return t};var UT=E(56580);const Q5_code=0,ek=function(){var r=(0,Ne.A)(function*(t,n,o,p,y,l,u,J){const X=yield u.get(t,J),N=cb(X);let oe=N,Ee=o;for(;p.length>0;){const Le=p[0];if(!(Le in oe))throw Sa(new Error(`No property named ${Le} found in cbor node ${t}`),"ERR_NO_PROP");{p.shift(),Ee=`${Ee}/${Le}`;const Pe=Bd.TO.asCID(oe[Le]);if(null!=Pe)return{entry:{type:"object",name:n,path:o,cid:t,node:X,depth:l,size:BigInt(X.length),content:function(){var Ye=Xo(function*(){yield N});return function(){return Ye.apply(this,arguments)}}()},next:{cid:Pe,name:Le,path:Ee,toResolve:p}};oe=oe[Le]}}return{entry:{type:"object",name:n,path:o,cid:t,node:X,depth:l,size:BigInt(X.length),content:(Le=Xo(function*(){yield N}),function(){return Le.apply(this,arguments)})}};var Le});return function(n,o,p,y,l,u,J,X){return r.apply(this,arguments)}}(),bv=function tk(r,t,n,o){const p=BigInt(r.length),y=BigInt(t+p);return n>=y||o<t?new Uint8Array(0):(o>=t&&o<y&&(r=r.subarray(0,Number(o-t))),n>=t&&n<y&&(r=r.subarray(Number(n-t))),r)},bx=(r,t=0,n=r)=>{const o=BigInt(r),p=BigInt(t??0);let y=BigInt(n);if(y!==o&&(y=p+y),y>o&&(y=o),p<0n)throw Sa(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(p>o)throw Sa(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(y<0n)throw Sa(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(y>o)throw Sa(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:p,end:y}},nk=r=>{function n(){return(n=Xo(function*(o={}){const{start:p,end:y}=bx(r.length,o.offset,o.length),l=bv(r,0n,p,y);o.onProgress?.(new _d("unixfs:exporter:progress:identity",{bytesRead:BigInt(l.byteLength),totalBytes:y-p,fileSize:BigInt(r.byteLength)})),yield l})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},ik=function(){var r=(0,Ne.A)(function*(t,n,o,p,y,l,u,J){if(p.length>0)throw Sa(new Error(`No link named ${o} found in raw node ${t}`),"ERR_NOT_FOUND");const X=UT.D4(t.multihash.bytes);return{entry:{type:"identity",name:n,path:o,cid:t,content:nk(X.digest),depth:l,size:BigInt(X.digest.length),node:X.digest}}});return function(n,o,p,y,l,u,J,X){return r.apply(this,arguments)}}(),KT=r=>{function n(){return(n=Xo(function*(o={}){const{start:p,end:y}=bx(r.length,o.offset,o.length),l=bv(r,0n,p,y);o.onProgress?.(new _d("unixfs:exporter:progress:raw",{bytesRead:BigInt(l.byteLength),totalBytes:y-p,fileSize:BigInt(r.byteLength)})),yield l})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},ok=function(){var r=(0,Ne.A)(function*(t,n,o,p,y,l,u,J){if(p.length>0)throw Sa(new Error(`No link named ${o} found in raw node ${t}`),"ERR_NOT_FOUND");const X=yield u.get(t,J);return{entry:{type:"raw",name:n,path:o,cid:t,content:KT(X),depth:l,size:BigInt(X.length),node:X}}});return function(n,o,p,y,l,u,J,X){return r.apply(this,arguments)}}(),VT=function(){var r=(0,Ne.A)(function*(t){return(yield yD.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),zT=function(){var r=(0,Ne.A)(function*(t,n,o){yield Promise.all(t.map(function(){var p=(0,Ne.A)(function*(y){if(null==y.Name)throw new Error("Unexpected Link without a Name");if(2!==y.Name.length)yield o.put(y.Name.substring(2),!0);else{const l=parseInt(y.Name,16);n._putObjectAt(l,new ks({hash:o._options.hash,bits:o._options.bits},n,l))}});return function(y){return p.apply(this,arguments)}}()))});return function(n,o,p){return r.apply(this,arguments)}}(),HT=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),GT=function(){var r=(0,Ne.A)(function*(t,n,o,p,y){if(null==p){const oe=qD({hashFn:VT});p={rootBucket:oe,hamtDepth:1,lastBucket:oe}}yield zT(t.Links,p.lastBucket,p.rootBucket);const l=yield p.rootBucket._findNewBucketAndPos(n);let u=HT(l.pos);const J=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(l);J.length>p.hamtDepth&&(p.lastBucket=J[p.hamtDepth],u=HT(p.lastBucket._posAtParent));const X=t.Links.find(oe=>{if(null==oe.Name)return!1;const Ee=oe.Name.substring(0,2),Le=oe.Name.substring(2);return!(Ee!==u||""!==Le&&Le!==n)});if(null!=X)return null!=X.Name&&X.Name.substring(2)===n?X.Hash:(p.hamtDepth++,t=qg(yield o.get(X.Hash,y)),GT(t,n,o,p,y))});return function(n,o,p,y,l){return r.apply(this,arguments)}}(),wx=GT,Ex=function _x(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],o=[];return{peek:()=>t.next(),push:p=>{o.push(p)},next:()=>o.length>0?{done:!1,value:o.shift()}:t.next(),[n](){return this}}},Mx=function YT(r,t){let n=0;if(function QP(r){return null!=r[Symbol.asyncIterator]}(r))return Xo(function*(){var N,J=!1,X=!1;try{for(var Ee,oe=ko(r);J=!(Ee=yield di(oe.next())).done;J=!1){const Le=Ee.value;yield t(Le,n++)}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield di(oe.return()))}finally{if(X)throw N}}})();const o=Ex(r),{value:p,done:y}=o.next();if(!0===y)return function*(){}();const l=t(p,n++);if("function"==typeof l.then)return Xo(function*(){yield yield di(l);var N,J=!1,X=!1;try{for(var Ee,oe=ko(o);J=!(Ee=yield di(oe.next())).done;J=!1){const Le=Ee.value;yield t(Le,n++)}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield di(oe.return()))}finally{if(X)throw N}}})();const u=t;return function*(){yield l;for(const J of o)yield u(J,n++)}()};function wv(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const C_=globalThis.CustomEvent??Event;function k_(r){return P_.apply(this,arguments)}function P_(){return(P_=Xo(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const o=null!=t.ordered&&t.ordered,p=new EventTarget,y=[];let X,l=wv(),u=wv(),J=!1,N=!1;function oe(){return o?y[0]?.done:!!y.find(Pe=>Pe.done)}function*Ee(){for(;y.length>0&&y[0].done;){const Pe=y[0];if(y.shift(),!Pe.ok)throw N=!0,l.resolve(),Pe.err;yield Pe.value,l.resolve()}}function*Le(){for(;oe();)for(let Pe=0;Pe<y.length;Pe++)if(y[Pe].done){const Ye=y[Pe];if(y.splice(Pe,1),Pe--,!Ye.ok)throw N=!0,l.resolve(),Ye.err;yield Ye.value,l.resolve()}}for(p.addEventListener("task-complete",()=>{u.resolve()}),Promise.resolve().then((0,Ne.A)(function*(){try{var mt,Pe=!1,Ye=!1;try{for(var gt,St=ko(r);Pe=!(gt=yield St.next()).done;Pe=!1){const yt=gt.value;{if(y.length===n&&(l=wv(),yield l.promise),N)break;const Tt={done:!1};y.push(Tt),yt().then(zt=>{Tt.done=!0,Tt.ok=!0,Tt.value=zt,p.dispatchEvent(new C_("task-complete"))},zt=>{Tt.done=!0,Tt.err=zt,p.dispatchEvent(new C_("task-complete"))})}}}catch(yt){Ye=!0,mt=yt}finally{try{Pe&&null!=St.return&&(yield St.return())}finally{if(Ye)throw mt}}J=!0,p.dispatchEvent(new C_("task-complete"))}catch(yt){X=yt,p.dispatchEvent(new C_("task-complete"))}}));;){if(oe()||(u=wv(),yield di(u.promise)),null!=X)throw X;if(o?yield*il(ko(Ee())):yield*il(ko(Le())),J&&0===y.length)break}})).apply(this,arguments)}class pl{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class lg{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new pl(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new pl(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class R_ extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function O_(r={}){return function XT(r,t){let p,y,l,n=(t=t??{}).onEnd,o=new lg,u=wv();const J=function(){var mt=(0,Ne.A)(function*(){try{return o.isEmpty()?l?{done:!0}:yield new Promise((St,gt)=>{y=yt=>{y=null,o.push(yt);try{St(r(o))}catch(Tt){gt(Tt)}return p}}):r(o)}finally{o.isEmpty()&&queueMicrotask(()=>{u.resolve(),u=wv()})}});return function(){return mt.apply(this,arguments)}}(),X=mt=>null!=y?y(mt):(o.push(mt),p),oe=mt=>{if(l)return p;if(!0!==t?.objectMode&&null==mt?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return X({done:!1,value:mt})},Ee=mt=>l?p:(l=!0,null!=mt?(mt=>(o=new lg,null!=y?y({error:mt}):(o.push({error:mt}),p)))(mt):X({done:!0}));if(p={[Symbol.asyncIterator](){return this},next:J,return:()=>(o=new lg,Ee(),{done:!0}),throw:mt=>(Ee(mt),{done:!0}),push:oe,end:Ee,get readableLength(){return o.size},onEmpty:(mt=(0,Ne.A)(function*(St){const gt=St?.signal;if(gt?.throwIfAborted(),o.isEmpty())return;let yt,Tt;null!=gt&&(yt=new Promise((zt,Zt)=>{Tt=()=>{Zt(new R_)},gt.addEventListener("abort",Tt)}));try{yield Promise.race([u.promise,yt])}finally{null!=Tt&&null!=gt&&gt?.removeEventListener("abort",Tt)}}),function(gt){return mt.apply(this,arguments)})},null==n)return p;var mt;const Ye=p;return p={[Symbol.asyncIterator](){return this},next:()=>Ye.next(),throw:mt=>(Ye.throw(mt),null!=n&&(n(mt),n=void 0),{done:!0}),return:()=>(Ye.return(),null!=n&&(n(),n=void 0),{done:!0}),push:oe,end:mt=>(Ye.end(mt),null!=n&&(n(mt),n=void 0),p),get readableLength(){return Ye.readableLength},onEmpty:mt=>Ye.onEmpty(mt)},p}(n=>{const o=n.shift();if(null==o)return{done:!0};if(null!=o.error)throw o.error;return{done:!0===o.done,value:o.value}},r)}function sk(r){return null!=r[Symbol.asyncIterator]}function Sx(r,...t){if(null==r)throw new Error("Empty pipeline");if(_v(r)){const o=r;r=()=>o.source}else if(QT(r)||qT(r)){const o=r;r=()=>o}const n=[r,...t];if(n.length>1&&_v(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let o=1;o<n.length-1;o++)_v(n[o])&&(n[o]=ck(n[o]));return JT(...n)}const JT=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},qT=r=>null!=r?.[Symbol.asyncIterator],QT=r=>null!=r?.[Symbol.iterator],_v=r=>null!=r&&null!=r.sink&&null!=r.source,ck=r=>t=>{const n=r.sink(t);if(null!=n?.then){const o=O_({objectMode:!0});let p;n.then(()=>{o.end()},l=>{o.end(l)});const y=r.source;if(qT(y))p=function(){var l=Xo(function*(){yield*il(ko(y)),o.end()});return function(){return l.apply(this,arguments)}}();else{if(!QT(y))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");p=function*(){yield*y,o.end()}}return function ak(...r){const t=[];for(const n of r)sk(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():Xo(function*(){const n=O_({objectMode:!0});Promise.resolve().then((0,Ne.A)(function*(){try{yield Promise.all(r.map(function(){var o=(0,Ne.A)(function*(p){var u,y=!1,l=!1;try{for(var X,J=ko(p);y=!(X=yield J.next()).done;y=!1)n.push(X.value)}catch(N){l=!0,u=N}finally{try{y&&null!=J.return&&(yield J.return())}finally{if(l)throw u}}});return function(p){return o.apply(this,arguments)}}())),n.end()}catch(o){n.end(o)}})),yield*il(ko(n))})()}(o,p())}return r.source};var dk=E(50233);class N_ extends Error{constructor(t){super(t),this.name="TimeoutError"}}class eA extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const uk=r=>void 0===globalThis.DOMException?new eA(r):new DOMException(r),ug=r=>{const t=void 0===r.reason?uk("This operation was aborted."):r.reason;return t instanceof Error?t:uk(t)};var jf,Ku=function(r,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(r):o?o.value:t.get(r)};jf=new WeakMap;const oR=class iR{constructor(){jf.set(this,[])}enqueue(t,n){const o={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&Ku(this,jf,"f")[this.size-1].priority>=n.priority)return void Ku(this,jf,"f").push(o);const p=function fk(r,t,n){let o=0,p=r.length;for(;p>0;){const y=Math.trunc(p/2);let l=o+y;n(r[l],t)<=0?(o=++l,p-=y+1):p=y}return o}(Ku(this,jf,"f"),o,(y,l)=>l.priority-y.priority);Ku(this,jf,"f").splice(p,0,o)}dequeue(){const t=Ku(this,jf,"f").shift();return t?.run}filter(t){return Ku(this,jf,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return Ku(this,jf,"f").length}};var fa,ml,fg,Ph,Ix,hg,B_,Vd,L_,zd,Ev,gl,U_,nm,F_,hk,pk,mk,Tx,Ax,j_,Cx,tA,kx,gk,Px,ca=function(r,t,n,o,p){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!p)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!p:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?p.call(r,n):p?p.value=n:t.set(r,n),n},li=function(r,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(r):o?o.value:t.get(r)};class yk extends Error{}ml=new WeakMap,fg=new WeakMap,Ph=new WeakMap,Ix=new WeakMap,hg=new WeakMap,B_=new WeakMap,Vd=new WeakMap,L_=new WeakMap,zd=new WeakMap,Ev=new WeakMap,gl=new WeakMap,U_=new WeakMap,nm=new WeakMap,F_=new WeakMap,fa=new WeakSet,hk=function(){return li(this,fg,"f")||li(this,Ph,"f")<li(this,Ix,"f")},pk=function(){return li(this,gl,"f")<li(this,U_,"f")},mk=function(){var t;ca(this,gl,(t=li(this,gl,"f"),--t),"f"),li(this,fa,"m",j_).call(this),this.emit("next")},Tx=function(){li(this,fa,"m",tA).call(this),li(this,fa,"m",Cx).call(this),ca(this,L_,void 0,"f")},Ax=function(){const t=Date.now();if(void 0===li(this,Vd,"f")){const n=li(this,B_,"f")-t;if(!(n<0))return void 0===li(this,L_,"f")&&ca(this,L_,setTimeout(()=>{li(this,fa,"m",Tx).call(this)},n),"f"),!0;ca(this,Ph,li(this,ml,"f")?li(this,gl,"f"):0,"f")}return!1},j_=function(){if(0===li(this,zd,"f").size)return li(this,Vd,"f")&&clearInterval(li(this,Vd,"f")),ca(this,Vd,void 0,"f"),this.emit("empty"),0===li(this,gl,"f")&&this.emit("idle"),!1;if(!li(this,nm,"f")){const t=!li(this,fa,"a",Ax);if(li(this,fa,"a",hk)&&li(this,fa,"a",pk)){const n=li(this,zd,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&li(this,fa,"m",Cx).call(this),!0)}}return!1},Cx=function(){li(this,fg,"f")||void 0!==li(this,Vd,"f")||(ca(this,Vd,setInterval(()=>{li(this,fa,"m",tA).call(this)},li(this,hg,"f")),"f"),ca(this,B_,Date.now()+li(this,hg,"f"),"f"))},tA=function(){0===li(this,Ph,"f")&&0===li(this,gl,"f")&&li(this,Vd,"f")&&(clearInterval(li(this,Vd,"f")),ca(this,Vd,void 0,"f")),ca(this,Ph,li(this,ml,"f")?li(this,gl,"f"):0,"f"),li(this,fa,"m",kx).call(this)},kx=function(){for(;li(this,fa,"m",j_).call(this););},gk=function(){var r=(0,Ne.A)(function*(n){return new Promise((o,p)=>{n.addEventListener("abort",()=>{p(new yk("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),Px=function(){var r=(0,Ne.A)(function*(n,o){return new Promise(p=>{const y=()=>{o&&!o()||(this.off(n,y),p())};this.on(n,y)})});return function t(n,o){return r.apply(this,arguments)}}();const $_=class nA extends dk{constructor(t){var n,o,p,y;if(super(),fa.add(this),ml.set(this,void 0),fg.set(this,void 0),Ph.set(this,0),Ix.set(this,void 0),hg.set(this,void 0),B_.set(this,0),Vd.set(this,void 0),L_.set(this,void 0),zd.set(this,void 0),Ev.set(this,void 0),gl.set(this,0),U_.set(this,void 0),nm.set(this,void 0),F_.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:oR,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(o=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==o?o:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(y=null===(p=t.interval)||void 0===p?void 0:p.toString())&&void 0!==y?y:""}\` (${typeof t.interval})`);ca(this,ml,t.carryoverConcurrencyCount,"f"),ca(this,fg,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),ca(this,Ix,t.intervalCap,"f"),ca(this,hg,t.interval,"f"),ca(this,zd,new t.queueClass,"f"),ca(this,Ev,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,ca(this,F_,!0===t.throwOnTimeout,"f"),ca(this,nm,!1===t.autoStart,"f")}get concurrency(){return li(this,U_,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);ca(this,U_,t,"f"),li(this,fa,"m",kx).call(this)}add(t,n={}){var o=this;return(0,Ne.A)(function*(){return n={timeout:o.timeout,throwOnTimeout:li(o,F_,"f"),...n},new Promise((p,y)=>{li(o,zd,"f").enqueue((0,Ne.A)(function*(){var l,u,J;ca(o,gl,(u=li(o,gl,"f"),++u),"f"),ca(o,Ph,(J=li(o,Ph,"f"),++J),"f");try{if(null!==(l=n.signal)&&void 0!==l&&l.aborted)throw new yk("The task was aborted.");let X=t({signal:n.signal});n.timeout&&(X=function rR(r,t,n,o){let p;const y=new Promise((l,u)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((o={customTimers:{setTimeout,clearTimeout},...o}).signal){const{signal:J}=o;J.aborted&&u(ug(J)),J.addEventListener("abort",()=>{u(ug(J))})}p=o.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{l(n())}catch(N){u(N)}return}const X=n instanceof Error?n:new N_("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),u(X)},t),(0,Ne.A)(function*(){try{l(yield r)}catch(J){u(J)}finally{o.customTimers.clearTimeout.call(void 0,p)}})()}else l(r)});return y.clear=()=>{clearTimeout(p),p=void 0},y}(Promise.resolve(X),n.timeout)),n.signal&&(X=Promise.race([X,li(o,fa,"m",gk).call(o,n.signal)]));const N=yield X;p(N),o.emit("completed",N)}catch(X){if(X instanceof N_&&!n.throwOnTimeout)return void p();y(X),o.emit("error",X)}finally{li(o,fa,"m",mk).call(o)}}),n),o.emit("add"),li(o,fa,"m",j_).call(o)})})()}addAll(t,n){var o=this;return(0,Ne.A)(function*(){return Promise.all(t.map(function(){var p=(0,Ne.A)(function*(y){return o.add(y,n)});return function(y){return p.apply(this,arguments)}}()))})()}start(){return li(this,nm,"f")?(ca(this,nm,!1,"f"),li(this,fa,"m",kx).call(this),this):this}pause(){ca(this,nm,!0,"f")}clear(){ca(this,zd,new(li(this,Ev,"f")),"f")}onEmpty(){var t=this;return(0,Ne.A)(function*(){0!==li(t,zd,"f").size&&(yield li(t,fa,"m",Px).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,Ne.A)(function*(){li(n,zd,"f").size<t||(yield li(n,fa,"m",Px).call(n,"next",()=>li(n,zd,"f").size<t))})()}onIdle(){var t=this;return(0,Ne.A)(function*(){0===li(t,gl,"f")&&0===li(t,zd,"f").size||(yield li(t,fa,"m",Px).call(t,"idle"))})()}get size(){return li(this,zd,"f").size}sizeBy(t){return li(this,zd,"f").filter(t).length}get pending(){return li(this,gl,"f")}get isPaused(){return li(this,nm,"f")}};function rA(r,t,n,o,p,y,l){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,Ne.A)(function*(r,t,n,o,p,y,l){if(t instanceof Uint8Array){const X=bv(t,o,p,y);return void n.push(X)}if(null==t.Data)throw Sa(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let u;try{u=Nl.unmarshal(t.Data)}catch(X){throw Sa(X,"ERR_NOT_UNIXFS")}if(null!=u.data){const N=bv(u.data,o,p,y);n.push(N),o+=BigInt(N.byteLength)}const J=[];if(t.Links.length!==u.blockSizes.length)throw Sa(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let X=0;X<t.Links.length;X++){const Ee=o+u.blockSizes[X];if((p>=o&&p<Ee||y>=o&&y<=Ee||p<o&&y>Ee)&&J.push({link:t.Links[X],blockStart:o}),(o=Ee)>y)break}yield Sx(J,X=>Mx(X,N=>(0,Ne.A)(function*(){const oe=yield r.get(N.link.Hash,l);return{...N,block:oe}})),X=>k_(X,{ordered:!0}),function(){var X=(0,Ne.A)(function*(N){var Le,oe=!1,Ee=!1;try{for(var Ye,Pe=ko(N);oe=!(Ye=yield Pe.next()).done;oe=!1){const{link:mt,block:St,blockStart:gt}=Ye.value;{let yt;switch(mt.Hash.code){case Eb:yt=qg(St);break;case up:yt=St;break;default:return void n.end(Sa(new Error(`Unsupported codec: ${mt.Hash.code}`),"ERR_NOT_UNIXFS"))}const Tt=new $_({concurrency:1});Tt.on("error",zt=>{n.end(zt)}),Tt.add((0,Ne.A)(function*(){l.onProgress?.(new _d("unixfs:exporter:walk:file",{cid:mt.Hash})),yield rA(r,yt,n,gt,p,y,l)})),yield Tt.onIdle()}}}catch(mt){Ee=!0,Le=mt}finally{try{oe&&null!=Pe.return&&(yield Pe.return())}finally{if(Ee)throw Le}}});return function(N){return X.apply(this,arguments)}}()),o>=y&&n.end()}),Rx.apply(this,arguments)}const Rh=(r,t,n,o,p,y,l)=>{function J(){return(J=Xo(function*(X={}){const N=n.fileSize();if(void 0===N)throw new Error("File was a directory");const{start:oe,end:Ee}=bx(N,X.offset,X.length);if(0n===Ee)return;let Le=0n;const Pe=Ee-oe,Ye=O_();X.onProgress?.(new _d("unixfs:exporter:walk:file",{cid:r})),rA(l,t,Ye,0n,oe,Ee,X).catch(zt=>{Ye.end(zt)});var gt,mt=!1,St=!1;try{for(var Tt,yt=ko(Ye);mt=!(Tt=yield di(yt.next())).done;mt=!1){const zt=Tt.value;if(null!=zt){if(Le+=BigInt(zt.byteLength),Le>Pe)throw Ye.end(),Sa(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");Le===Pe&&Ye.end(),X.onProgress?.(new _d("unixfs:exporter:progress:unixfs:file",{bytesRead:Le,totalBytes:Pe,fileSize:N})),yield zt}}}catch(zt){St=!0,gt=zt}finally{try{mt&&null!=yt.return&&(yield di(yt.return()))}finally{if(St)throw gt}}if(Le<Pe)throw Sa(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function u(){return J.apply(this,arguments)}};function K_(r,t,n,o,p,y){return xv.apply(this,arguments)}function xv(){return(xv=Xo(function*(r,t,n,o,p,y){const u=Sx(r.Links,Le=>Mx(Le,Pe=>(0,Ne.A)(function*(){const Ye=null!=Pe.Name?Pe.Name.substring(2):null;if(null!=Ye&&""!==Ye){const mt=yield n(Pe.Hash,Ye,`${t}/${Ye}`,[],o+1,p,y);return{entries:null==mt.entry?[]:[mt.entry]}}{const mt=yield p.get(Pe.Hash,y);return r=qg(mt),y.onProgress?.(new _d("unixfs:exporter:walk:hamt-sharded-directory",{cid:Pe.Hash})),{entries:K_(r,t,n,o,p,y)}}})),Le=>k_(Le,{ordered:!0}));var N,J=!1,X=!1;try{for(var Ee,oe=ko(u);J=!(Ee=yield di(oe.next())).done;J=!1){const{entries:Le}=Ee.value;yield*il(ko(Le))}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield di(oe.return()))}finally{if(X)throw N}}})).apply(this,arguments)}const Nx={raw:Rh,file:Rh,directory:(r,t,n,o,p,y,l)=>{function J(){return(J=Xo(function*(X={}){const Ee=t.Links.slice(X.offset??0,X.length??t.Links.length);X.onProgress?.(new _d("unixfs:exporter:walk:directory",{cid:r})),yield*il(ko(Sx(Ee,Le=>Mx(Le,Pe=>(0,Ne.A)(function*(){const Ye=Pe.Name??"",mt=`${o}/${Ye}`;return(yield p(Pe.Hash,Ye,mt,[],y+1,l,X)).entry})),Le=>k_(Le,{ordered:!0}),Le=>function xx(r,t){let n=0;if(function ZT(r){return null!=r[Symbol.asyncIterator]}(r))return Xo(function*(){var N,J=!1,X=!1;try{for(var Ee,oe=ko(r);J=!(Ee=yield di(oe.next())).done;J=!1){const Le=Ee.value;(yield di(t(Le,n++)))&&(yield Le)}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield di(oe.return()))}finally{if(X)throw N}}})();const o=Ex(r),{value:p,done:y}=o.next();if(!0===y)return function*(){}();const l=t(p,n++);if("function"==typeof l.then)return Xo(function*(){(yield di(l))&&(yield p);var N,J=!1,X=!1;try{for(var Ee,oe=ko(o);J=!(Ee=yield di(oe.next())).done;J=!1){const Le=Ee.value;(yield di(t(Le,n++)))&&(yield Le)}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield di(oe.return()))}finally{if(X)throw N}}})();const u=t;return function*(){!0===l&&(yield p);for(const J of o)u(J,n++)&&(yield J)}()}(Le,Pe=>null!=Pe))))})).apply(this,arguments)}return function u(){return J.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,o,p,y,l)=>function u(J={}){return J.onProgress?.(new _d("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),K_(t,o,p,y,l,J)},metadata:(r,t,n,o,p,y,l)=>()=>[],symlink:(r,t,n,o,p,y,l)=>()=>[]},sR=function(){var r=(0,Ne.A)(function*(t,n,o,p,y,l,u,J){const N=qg(yield u.get(t,J));let oe,Ee;if(null==n&&(n=t.toString()),null==N.Data)throw Sa(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{oe=Nl.unmarshal(N.Data)}catch(Pe){throw Sa(Pe,"ERR_NOT_UNIXFS")}if(null==o&&(o=n),p.length>0){let Pe;if(Pe="hamt-sharded-directory"===oe?.type?yield wx(N,p[0],u):((r,t)=>r.Links.find(o=>o.Name===t)?.Hash)(N,p[0]),null==Pe)throw Sa(new Error("file does not exist"),"ERR_NOT_FOUND");const Ye=p.shift();Ee={cid:Pe,toResolve:p,name:Ye??"",path:`${o}/${Ye}`}}const Le=Nx[oe.type](t,N,oe,o,y,l,u);if(null==Le)throw Sa(new Error("could not find content exporter"),"ERR_NOT_FOUND");return oe.isDirectory()?{entry:{type:"directory",name:n,path:o,cid:t,content:Le,unixfs:oe,depth:l,node:N,size:oe.fileSize()},next:Ee}:{entry:{type:"file",name:n,path:o,cid:t,content:Le,unixfs:oe,depth:l,node:N,size:oe.fileSize()},next:Ee}});return function(n,o,p,y,l,u,J,X){return r.apply(this,arguments)}}(),aR={[Eb]:sR,[up]:ok,[tp]:ek,[Q5_code]:ik},wk=function(){var r=(0,Ne.A)(function*(t,n,o,p,y,l,u){const J=aR[t.code];if(null==J)throw Sa(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return J(t,n,o,p,wk,y,l,u)});return function(n,o,p,y,l,u,J){return r.apply(this,arguments)}}(),oA=wk,Ek=r=>{if(r instanceof Uint8Array)return{cid:Bd.TO.decode(r),toResolve:[]};const t=Bd.TO.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:Bd.TO.parse(n[0]),toResolve:n.slice(1)}}throw Sa(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function Lx(){return(Lx=Xo(function*(r,t,n={}){let{cid:o,toResolve:p}=Ek(r),y=o.toString(),l=y;const u=p.length;for(;;){const J=yield di(oA(o,y,l,p,u,t,n));if(null==J.entry&&null==J.next)throw Sa(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=J.entry&&(yield J.entry),null==J.next)return;p=J.next.toResolve,o=J.next.cid,y=J.next.name,l=J.next.path}})).apply(this,arguments)}function V_(){return V_=(0,Ne.A)(function*(r,t,n={}){const o=yield J5(function xk(r,t){return Lx.apply(this,arguments)}(r,t,n));if(null==o)throw Sa(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return o}),V_.apply(this,arguments)}var Oh=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class jx{constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:dg},t),this.blockstore=new vv({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Oh(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return Oh(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,o,p){var y,l,u,X,N;return Oh(this,void 0,void 0,function*(){const oe=yield this.getBlockstoreForStoringData(t,n,o),Ee=ol([{content:p}],oe,{cidVersion:1});let Le;try{for(var mt,Pe=!0,Ye=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}}(Ee);mt=yield Ye.next(),!(y=mt.done);Pe=!0)Pe=!1,Le=mt.value}catch(St){l={error:St}}finally{try{!Pe&&!y&&(u=Ye.return)&&(yield u.call(Ye))}finally{if(l)throw l.error}}return{dataSize:Number(null!==(N=null===(X=Le.unixfs)||void 0===X?void 0:X.fileSize())&&void 0!==N?N:Le.size)}})}get(t,n,o){return Oh(this,void 0,void 0,function*(){const p=yield this.getBlockstoreForStoringData(t,n,o);if(!(yield p.has(o)))return;const l=yield function Ux(r,t){return V_.apply(this,arguments)}(o,p),u=l.content(),J=new Ay.Readable({read(){return Oh(this,void 0,void 0,function*(){const N=yield u.next();this.push(N.done?null:N.value)})}});let X=l.size;return("file"===l.type||"directory"===l.type)&&(X=l.unixfs.fileSize()),{dataSize:Number(X),dataStream:J}})}delete(t,n,o){return Oh(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,o)).clear()})}clear(){return Oh(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,o){return Oh(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(o)})}}var oc=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},pg=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}},$f=function(r){return this instanceof $f?(this.v=r,this):new $f(r)};let $x=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:dg},n),this.db=new yv({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return oc(this,void 0,void 0,function*(){yield this.db.open()})}close(){return oc(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return oc(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,o,p,y){return oc(this,void 0,void 0,function*(){if(Mw(p))throw new te(de.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const l={messageCid:o,indexes:p},u=[];for(const oe in p){const Ee=p[oe];if(Array.isArray(Ee))for(const Le of Ee){const Pe=this.createPutIndexedItemOperation(n,l,oe,Le);u.push(Pe)}else{const Le=this.createPutIndexedItemOperation(n,l,oe,Ee);u.push(Le)}}const J=this.createOperationForIndexesLookupPartition(n,{type:"put",key:o,value:JSON.stringify(p)});u.push(J);const X=yield Promise.all(u);yield(yield this.db.partition(n)).batch(X,y)})}delete(n,o,p){return oc(this,void 0,void 0,function*(){const y=[],l=yield this.getIndexes(n,o);if(void 0===l)return;const u=this.createOperationForIndexesLookupPartition(n,{type:"del",key:o});y.push(u);for(const N in l){const oe=l[N];if(Array.isArray(oe))for(const Ee of oe){const Le=this.createDeleteIndexedItemOperation(n,o,N,Ee);y.push(Le)}else{const Ee=this.createDeleteIndexedItemOperation(n,o,N,oe);y.push(Ee)}}const J=yield Promise.all(y);yield(yield this.db.partition(n)).batch(J,p)})}createPutIndexedItemOperation(n,o,p,y){return oc(this,void 0,void 0,function*(){const{messageCid:l}=o,u=r.keySegmentJoin(r.encodeValue(y),l);return this.createOperationForIndexPartition(n,p,{type:"put",key:u,value:JSON.stringify(o)})})}createDeleteIndexedItemOperation(n,o,p,y){return oc(this,void 0,void 0,function*(){const l=r.keySegmentJoin(r.encodeValue(y),o);return this.createOperationForIndexPartition(n,p,{type:"del",key:l})})}createOperationForIndexPartition(n,o,p){return oc(this,void 0,void 0,function*(){const y=yield this.db.partition(n),l=r.getIndexPartitionName(o);return y.createPartitionOperation(l,p)})}createOperationForIndexesLookupPartition(n,o){return oc(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",o)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,o){return oc(this,void 0,void 0,function*(){const p=r.getIndexPartitionName(o);return(yield this.db.partition(n)).partition(p)})}getIndexesLookupPartition(n){return oc(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,o,p,y){return oc(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(o,p)?this.queryWithInMemoryPaging(n,o,p,y):this.queryWithIteratorPaging(n,o,p,y)})}queryWithIteratorPaging(n,o,p,y){var l,u,J;return oc(this,void 0,void 0,function*(){const{cursor:N,limit:oe}=p,Ee=N?this.createStartingKeyFromCursor(N):"",Le=[];try{for(var mt,Pe=!0,Ye=pg(this.getIndexIterator(n,Ee,p,y));mt=yield Ye.next(),!(l=mt.done);Pe=!0){Pe=!1;const St=mt.value;if(void 0!==oe&&oe===Le.length)break;const{indexes:gt}=St;od.matchAnyFilter(gt,o)&&Le.push(St)}}catch(St){u={error:St}}finally{try{!Pe&&!l&&(J=Ye.return)&&(yield J.call(Ye))}finally{if(u)throw u.error}}return Le})}getIndexIterator(n,o,p,y){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,o=n.apply(r,t||[]),y=[];return p={},l("next"),l("throw"),l("return"),p[Symbol.asyncIterator]=function(){return this},p;function l(Ee){o[Ee]&&(p[Ee]=function(Le){return new Promise(function(Pe,Ye){y.push([Ee,Le,Pe,Ye])>1||u(Ee,Le)})})}function u(Ee,Le){try{!function J(Ee){Ee.value instanceof $f?Promise.resolve(Ee.value.v).then(X,N):oe(y[0][2],Ee)}(o[Ee](Le))}catch(Pe){oe(y[0][3],Pe)}}function X(Ee){u("next",Ee)}function N(Ee){u("throw",Ee)}function oe(Ee,Le){Ee(Le),y.shift(),y.length&&u(y[0][0],y[0][1])}}(this,arguments,function*(){var u,J,X,N;const{sortProperty:oe,sortDirection:Ee=hl.Ascending,cursor:Le}=p,Pe={gt:o};Ee===hl.Descending&&(Pe.reverse=!0,void 0!==Le&&(Pe.lt=o,delete Pe.gt));const Ye=yield $f(this.getIndexPartition(n,oe));try{for(var gt,mt=!0,St=pg(Ye.iterator(Pe,y));!(u=(gt=yield $f(St.next())).done);mt=!0){N=gt.value,mt=!1;const[yt,Tt]=N,{indexes:zt,messageCid:Zt}=JSON.parse(Tt);yield yield $f({indexes:zt,messageCid:Zt})}}catch(yt){J={error:yt}}finally{try{!mt&&!u&&(X=St.return)&&(yield $f(X.call(St)))}finally{if(J)throw J.error}}})}createStartingKeyFromCursor(n){const{messageCid:o,value:p}=n;return r.keySegmentJoin(r.encodeValue(p),o)}static createCursorFromLastArrayItem(n,o){if(n.length>0)return this.createCursorFromItem(n.at(-1),o)}static createCursorFromItem(n,o){const{messageCid:p,indexes:y}=n,l=y[o];if(void 0===l)throw new te(de.IndexInvalidCursorSortProperty,`the sort property '${o}' is not defined within the given item.`);if("boolean"==typeof l||Array.isArray(l))throw new te(de.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof l} was given.`);return{messageCid:p,value:l}}queryWithInMemoryPaging(n,o,p,y){return oc(this,void 0,void 0,function*(){const{sortProperty:l,sortDirection:u=hl.Ascending,cursor:J,limit:X}=p,N=J?this.createStartingKeyFromCursor(J):void 0,oe=new Map;0===o.length&&(o=[{}]);try{yield Promise.all(o.map(Ye=>this.executeSingleFilterQuery(n,Ye,l,oe,y)))}catch(Ye){if(Ye.code===de.IndexInvalidSortPropertyInMemory)return[]}const Ee=[...oe.values()].sort((Ye,mt)=>this.sortItems(Ye,mt,l,u)),Le=void 0!==N?this.findCursorStartingIndex(Ee,u,l,N):0;return Le<0?[]:Ee.slice(Le,void 0!==X?Le+X:void 0)})}executeSingleFilterQuery(n,o,p,y,l){return oc(this,void 0,void 0,function*(){const u=[];if(Mw(o)){const X=this.getAllItems(n,p);u.push(X)}const J=dI.reduceFilter(o);for(const X in J){const N=J[X];if(od.isEqualFilter(N)){const oe=this.filterExactMatches(n,X,N,l);u.push(oe)}else if(od.isOneOfFilter(N))for(const oe of new Set(N)){const Ee=this.filterExactMatches(n,X,oe,l);u.push(Ee)}else if(od.isRangeFilter(N)){const oe=this.filterRangeMatches(n,X,N,l);u.push(oe)}}for(const X of u){const N=yield X;for(const oe of N)if(!y.has(oe.messageCid)&&od.matchFilter(oe.indexes,o)){if(void 0===oe.indexes[p])throw new te(de.IndexInvalidSortPropertyInMemory,`invalid sort property ${p}`);y.set(oe.messageCid,oe)}}})}getAllItems(n,o){var p,y,l,u;return oc(this,void 0,void 0,function*(){const J=yield this.getIndexPartition(n,o),X=[];try{for(var Ee,N=!0,oe=pg(J.iterator());Ee=yield oe.next(),!(p=Ee.done);N=!0){u=Ee.value,N=!1;const[Le,Pe]=u;X.push(JSON.parse(Pe))}}catch(Le){y={error:Le}}finally{try{!N&&!p&&(l=oe.return)&&(yield l.call(oe))}finally{if(y)throw y.error}}return X})}filterExactMatches(n,o,p,y){var l,u,J,X;return oc(this,void 0,void 0,function*(){const N=r.keySegmentJoin(r.encodeValue(p)),oe={gt:N},Ee=yield this.getIndexPartition(n,o),Le=[];try{for(var mt,Pe=!0,Ye=pg(Ee.iterator(oe,y));mt=yield Ye.next(),!(l=mt.done);Pe=!0){X=mt.value,Pe=!1;const[St,gt]=X;if(!St.startsWith(N))break;Le.push(JSON.parse(gt))}}catch(St){u={error:St}}finally{try{!Pe&&!l&&(J=Ye.return)&&(yield J.call(Ye))}finally{if(u)throw u.error}}return Le})}filterRangeMatches(n,o,p,y){var l,u,J,X;return oc(this,void 0,void 0,function*(){const N={};for(const mt in p)N[mt]=r.encodeValue(p[mt]);void 0===N.gt&&void 0===N.gte&&(N.reverse=!0);const oe=[],Ee=yield this.getIndexPartition(n,o);try{for(var Ye,Le=!0,Pe=pg(Ee.iterator(N,y));Ye=yield Pe.next(),!(l=Ye.done);Le=!0){X=Ye.value,Le=!1;const[mt,St]=X;"gt"in p&&this.extractIndexValueFromKey(mt)===r.encodeValue(p.gt)||oe.push(JSON.parse(St))}}catch(mt){u={error:mt}}finally{try{!Le&&!l&&(J=Pe.return)&&(yield J.call(Pe))}finally{if(u)throw u.error}}if("lte"in p)for(const mt of yield this.filterExactMatches(n,o,p.lte,y))oe.push(mt);return oe})}sortItems(n,o,p,y){const u=o.indexes[p],J=r.encodeValue(n.indexes[p])+n.messageCid,X=r.encodeValue(u)+o.messageCid;return y===hl.Ascending?sE(J,X):sE(X,J)}findCursorStartingIndex(n,o,p,y){return n.findIndex(u=>{const{messageCid:J,indexes:X}=u,oe=r.keySegmentJoin(r.encodeValue(X[p]),J);return o===hl.Ascending?oe>y:oe<y})}getIndexes(n,o){return oc(this,void 0,void 0,function*(){const y=yield(yield this.getIndexesLookupPartition(n)).get(o);if(void 0!==y)return JSON.parse(y)})}extractIndexValueFromKey(n){const[o]=n.split(r.delimiter);return o}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const o=Number.MAX_SAFE_INTEGER,y=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?o:0)).padStart(y,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,o){for(const p of n)if(!r.isFilterConcise(p,o))return!1;return!0}static isFilterConcise(n,o){return void 0!==n.recordId||void 0===o.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function cA(r){if(!dA(r))throw new Error("Parameter was not an error")}function dA(r){return"[object Error]"===function cR(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class is extends Error{constructor(t,n){const o=[...arguments],{options:p,shortMessage:y}=function dR(r){let t,n="";if(0===r.length)t={};else if(dA(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(o);let l=y;p.cause&&(l=`${l}: ${p.cause.message}`),super(l),this.message=l,this.name=p.name&&"string"==typeof p.name?p.name:"Layerr",p.cause&&Object.defineProperty(this,"_cause",{value:p.cause}),Object.defineProperty(this,"_info",{value:{}}),p.info&&"object"==typeof p.info&&Object.assign(this._info,p.info),Error.captureStackTrace&&Error.captureStackTrace(this,p.constructorOpt||this.constructor)}static cause(t){return cA(t),t._cause&&dA(t._cause)?t._cause:null}static fullStack(t){cA(t);const n=is.cause(t);return n?`${t.stack}\ncaused by: ${is.fullStack(n)}`:t.stack}static info(t){cA(t);const n={},o=is.cause(t);return o&&Object.assign(n,is.info(o)),t._info&&Object.assign(n,t._info),n}cause(){return is.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const ru="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Vu=32,mg=0xffffffffffff,zu=Object.freeze({source:"ulid"});function z_(r,t){if(isNaN(r))throw new is({info:{code:"ENC_TIME_NAN",...zu}},`Time must be a number: ${r}`);if(r>mg)throw new is({info:{code:"ENC_TIME_SIZE_EXCEED",...zu}},`Cannot encode a time larger than ${mg}: ${r}`);if(r<0)throw new is({info:{code:"ENC_TIME_NEG",...zu}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new is({info:{code:"ENC_TIME_TYPE",...zu}},`Time must be an integer: ${r}`);let n,o="";for(let p=t;p>0;p--)n=r%Vu,o=ru.charAt(n)+o,r=(r-n)/Vu;return o}function hA(r){const t=r||function Dk(r){const t=r||function Vx(){return function fA(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const o=new Uint8Array(1);return n.getRandomValues(o),o[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new is({info:{code:"PRNG_DETECT",...zu}},"Failed to find a reliable PRNG")}();let o,n=0;return function(y){const l=isNaN(y)?Date.now():y;if(l<=n){const J=o=function uA(r){let t,o,p,n=r.length,y=r;const l=Vu-1;for(;!t&&n-- >=0;){if(o=y[n],p=ru.indexOf(o),-1===p)throw new is({info:{code:"B32_INC_ENC",...zu}},"Incorrectly encoded string");p!==l?t=mA(y,n,ru[p+1]):y=mA(y,n,ru[0])}if("string"==typeof t)return t;throw new is({info:{code:"B32_INC_INVALID",...zu}},"Failed incrementing string")}(o);return z_(n,10)+J}n=l;const u=o=function lA(r,t){let n="";for(;r>0;r--)n=pA(t)+n;return n}(16,t);return z_(l,10)+u}}function pA(r){let t=Math.floor(r()*Vu);return t===Vu&&(t=Vu-1),ru.charAt(t)}function mA(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var Hu=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Mv{constructor(t){this.index=new $x(Object.assign({location:"EVENTLOG",createLevelDatabase:dg},t)),this.ulidFactory=hA()}open(){return Hu(this,void 0,void 0,function*(){return this.index.open()})}close(){return Hu(this,void 0,void 0,function*(){return this.index.close()})}clear(){return Hu(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,o){return Hu(this,void 0,void 0,function*(){const p=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},o),{watermark:p}))})}queryEvents(t,n,o){return Hu(this,void 0,void 0,function*(){const p=yield this.index.query(t,n,{sortProperty:"watermark",cursor:o});return{events:p.map(({messageCid:y})=>y),cursor:$x.createCursorFromLastArrayItem(p,"watermark")}})}getEvents(t,n){return Hu(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return Hu(this,void 0,void 0,function*(){const o=[];for(const p of n)o.push(this.index.delete(t,p));yield Promise.all(o)})}}function im({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*gA(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,o]of t.entries()){const p=[...r,n],y=el.TO.asCID(o);y?yield[p.join("/"),y]:"object"==typeof o&&(yield*H_(o,p))}else{const n=el.TO.asCID(t);n?yield[r.join("/"),n]:yield*H_(t,r)}}function*H_(r,t){if(null==r||r instanceof Uint8Array)return;const n=el.TO.asCID(r);n&&(yield[t.join("/"),n]);for(const[o,p]of Object.entries(r)){const y=[...t,o];yield*gA(y,p)}}function*uR(r,t){if(Array.isArray(t))for(const[n,o]of t.entries()){const p=[...r,n];yield p.join("/"),"object"==typeof o&&!el.TO.asCID(o)&&(yield*yA(o,p))}else yield*yA(t,r)}function*yA(r,t){if(null!=r&&"object"==typeof r)for(const[n,o]of Object.entries(r)){const p=[...t,n];yield p.join("/"),null!=o&&!(o instanceof Uint8Array)&&"object"==typeof o&&!el.TO.asCID(o)&&(yield*uR(p,o))}}class zx{constructor({cid:t,bytes:n,value:o}){if(!t||!n||typeof o>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=o,this.asBlock=this,Object.defineProperties(this,{cid:im(),bytes:im(),value:im(),asBlock:im()})}links(){return H_(this.value,[])}tree(){return yA(this.value,[])}get(t="/"){return function fR(r,t){let n=r;for(const[o,p]of t.entries()){if(n=n[p],null==n)throw new Error(`Object has no property at ${t.slice(0,o+1).map(l=>`[${JSON.stringify(l)}]`).join("")}`);const y=el.TO.asCID(n);if(y)return{value:y,remaining:t.slice(o+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function vA(){return(vA=(0,Ne.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const o=t.encode(r),p=yield n.digest(o),y=el.TO.create(1,t.code,p);return new zx({value:r,bytes:o,cid:y})})).apply(this,arguments)}function W_(){return(W_=(0,Ne.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const o=t.decode(r),p=yield n.digest(r),y=el.TO.create(1,t.code,p);return new zx({value:o,bytes:r,cid:y})})).apply(this,arguments)}var gg=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class EA{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:dg},t),this.blockstore=new vv({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new $x({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return gg(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return gg(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,o){var p;return gg(this,void 0,void 0,function*(){null===(p=o?.signal)||void 0===p||p.throwIfAborted();const y=yield rc(this.blockstore.partition(t),o?.signal),l=Bd.TO.parse(n),u=yield y.get(l,o);return u?(yield rc(function bA(r){return W_.apply(this,arguments)}({bytes:u,codec:q,hasher:F}),o?.signal)).value:void 0})}query(t,n,o,p,y){var l;return gg(this,void 0,void 0,function*(){null===(l=y?.signal)||void 0===l||l.throwIfAborted();const u=EA.buildQueryOptions(o,p),J=yield this.index.query(t,n,u,y);let X;void 0!==p?.limit&&p.limit<J.length&&(J.splice(-1),X=$x.createCursorFromLastArrayItem(J,u.sortProperty));const N=[];for(let oe=0;oe<J.length;oe++){const{messageCid:Ee}=J[oe],Le=yield this.get(t,Ee,y);Le&&N.push(Le)}return{messages:N,cursor:X}})}static buildQueryOptions(t={},n={}){let{limit:o,cursor:p}=n;const{dateCreated:y,datePublished:l,messageTimestamp:u}=t;let J=hl.Ascending,X="messageTimestamp";return void 0!==y?X="dateCreated":void 0!==l?X="datePublished":void 0!==u&&(X="messageTimestamp"),void 0!==t[X]&&(J=t[X]),void 0!==o&&o>0&&(o+=1),{sortDirection:J,sortProperty:X,limit:o,cursor:p}}delete(t,n,o){var p;return gg(this,void 0,void 0,function*(){null===(p=o?.signal)||void 0===p||p.throwIfAborted();const y=yield rc(this.blockstore.partition(t),o?.signal),l=Bd.TO.parse(n);yield y.delete(l,o),yield this.index.delete(t,n,o)})}put(t,n,o,p){var y;return gg(this,void 0,void 0,function*(){null===(y=p?.signal)||void 0===y||y.throwIfAborted();const l=yield rc(this.blockstore.partition(t),p?.signal),u=yield rc(function Ak(r){return vA.apply(this,arguments)}({value:n,codec:q,hasher:F}),p?.signal),J=gc.parseCid(yield kr.getCid(n));yield l.put(J,u.bytes,p);const X=J.toString();yield this.index.put(t,X,o,p)})}clear(){return gg(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}E(44356);var Is=function(r){return r.EventsGet="EventsGet",r.EventsQuery="EventsQuery",r.EventsSubscribe="EventsSubscribe",r.MessagesGet="MessagesGet",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(Is||{});const Gx={[Is.EventsGet]:cv,[Is.EventsQuery]:tg,[Is.EventsSubscribe]:ng,[Is.MessagesGet]:Ih,[Is.ProtocolsConfigure]:ld,[Is.ProtocolsQuery]:Jp,[Is.RecordsDelete]:lv,[Is.RecordsQuery]:eg,[Is.RecordsRead]:hv,[Is.RecordsSubscribe]:ig,[Is.RecordsWrite]:Co};class Sv{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return r=this,t=void 0,o=function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}},new((n=void 0)||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())});var r,t,n,o}}var G_=E(91879);class Pk{static deriveKeyBytes({baseKeyBytes:t,length:n,hash:o,salt:p,info:y=new Uint8Array}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const u=yield(0,G_.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);p="string"==typeof p?Ur.U$.string(p).toUint8Array():p,y="string"==typeof y?Ur.U$.string(y).toUint8Array():y;const J=yield crypto.subtle.deriveBits({name:"HKDF",hash:o,salt:p,info:y},u,n);return new Uint8Array(J)})}}class Di extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Di)}}var Ti=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(Ti||{}),Kf=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class SA extends ir.hq{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Kf(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const o=yield ir.jg.bytesToPrivateKey({privateKeyBytes:n});return o.alg="EdDSA",o}case"ES256":case"secp256r1":{const o=yield ir.iH.bytesToPrivateKey({privateKeyBytes:n});return o.alg="EdDSA",o}default:throw new Di(Ti.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Kf(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const o=yield ir.jg.bytesToPublicKey({publicKeyBytes:n});return o.alg="EdDSA",o}case"ES256":case"secp256r1":{const o=yield ir.iH.bytesToPublicKey({publicKeyBytes:n});return o.alg="EdDSA",o}default:throw new Di(Ti.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return Kf(this,void 0,void 0,function*(){if(!(0,ir.mE)(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ir.jg.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield ir.iH.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return Kf(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield ir.jg.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield ir.iH.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return Kf(this,void 0,void 0,function*(){if(!(0,ir.mE)(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ir.jg.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield ir.iH.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return Kf(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield ir.jg.privateKeyToBytes({privateKey:t});case"P-256":return yield ir.iH.privateKeyToBytes({privateKey:t});default:throw new Di(Ti.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return Kf(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield ir.jg.publicKeyToBytes({publicKey:t});case"P-256":return yield ir.iH.publicKeyToBytes({publicKey:t});default:throw new Di(Ti.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return Kf(this,void 0,void 0,function*(){if(!(0,ir.mE)(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield ir.jg.sign({key:t,data:n});case"P-256":return yield ir.iH.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:o}){return Kf(this,void 0,void 0,function*(){if(!(0,ir.gX)(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield ir.jg.verify({key:t,signature:n,data:o});case"P-256":return yield ir.iH.verify({key:t,signature:n,data:o});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Nh=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},yg=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},IA=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n};const Zx=[128,192,256];class Z_{static bytesToPrivateKey({privateKeyBytes:t}){return yg(this,void 0,void 0,function*(){const n={k:Ur.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield(0,ir.BA)({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return yg(this,void 0,void 0,function*(){if(!Zx.includes(t))throw new RangeError(`The key length is invalid: Must be ${Zx.join(", ")} bits`);const n=(0,G_.NZ)(),o=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),p=yield n.exportKey("jwk",o),u=IA(p,["ext","key_ops"]);return u.kid=yield(0,ir.BA)({jwk:u}),u})}static privateKeyToBytes({privateKey:t}){return yg(this,void 0,void 0,function*(){if(!(0,ir.wh)(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return Ur.U$.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:o}){return yg(this,void 0,void 0,function*(){if(!("alg"in o)||!o.alg)throw new Di(Ti.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(o.alg))throw new Di(Ti.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${o.alg}`);const p=(0,G_.NZ)(),y=yield p.importKey("jwk",o,{name:"AES-KW"},!0,["unwrapKey"]),l={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!l)throw new Di(Ti.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const u=yield p.unwrapKey("raw",t.buffer,y,"AES-KW",{name:l},!0,["unwrapKey"]),J=yield p.exportKey("jwk",u),Ee=IA(J,["ext","key_ops"]);return Ee.kid=yield(0,ir.BA)({jwk:Ee}),Ee})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return yg(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new Di(Ti.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new Di(Ti.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new Di(Ti.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const o=(0,G_.NZ)(),p=yield o.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),y={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!y)throw new Di(Ti.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const l=yield o.importKey("jwk",t,{name:y},!0,["unwrapKey"]),u=yield o.wrapKey("raw",l,p,"AES-KW");return new Uint8Array(u)})}}var Dv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class TA extends ir.hq{bytesToPrivateKey({privateKeyBytes:t}){return Dv(this,void 0,void 0,function*(){const n=yield Z_.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return Dv(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],o=yield Z_.generateKey({length:n});return o.alg=t,o})}privateKeyToBytes({privateKey:t}){return Dv(this,void 0,void 0,function*(){return yield Z_.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return Dv(this,void 0,void 0,function*(){return yield Z_.unwrapKey(t)})}wrapKey(t){return Dv(this,void 0,void 0,function*(){return Z_.wrapKey(t)})}}class Nk{static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:o,iterations:p,length:y}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l=(0,G_.NZ)(),u=yield l.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),J=yield l.deriveBits({name:"PBKDF2",hash:n,salt:o,iterations:p},u,y);return new Uint8Array(J)})}}var Iv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},Sc=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};const PA={"AES-GCM":{implementation:class kA extends ir.hq{bytesToPrivateKey({privateKeyBytes:t}){return Iv(this,void 0,void 0,function*(){const n=yield ir.z5.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return Iv(this,void 0,void 0,function*(){return ir.z5.decrypt(t)})}encrypt(t){return Iv(this,void 0,void 0,function*(){return ir.z5.encrypt(t)})}generateKey({algorithm:t}){return Iv(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],o=yield ir.z5.generateKey({length:n});return o.alg=t,o})}privateKeyToBytes({privateKey:t}){return Iv(this,void 0,void 0,function*(){return yield ir.z5.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:TA,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class DA extends ir.hq{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Nh(this,void 0,void 0,function*(){if("Ed25519"===t){const o=yield ir.Mc.bytesToPrivateKey({privateKeyBytes:n});return o.alg="EdDSA",o}throw new Di(Ti.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Nh(this,void 0,void 0,function*(){if("Ed25519"===t){const o=yield ir.Mc.bytesToPublicKey({publicKeyBytes:n});return o.alg="EdDSA",o}throw new Di(Ti.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return Nh(this,void 0,void 0,function*(){if(!(0,ir.UL)(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ir.Mc.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Di(Ti.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return Nh(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield ir.Mc.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return Nh(this,void 0,void 0,function*(){if(!(0,ir.UL)(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield ir.Mc.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return Nh(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield ir.Mc.privateKeyToBytes({privateKey:t});throw new Di(Ti.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return Nh(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield ir.Mc.publicKeyToBytes({publicKey:t});throw new Di(Ti.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return Nh(this,void 0,void 0,function*(){if(!(0,ir.UL)(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield ir.Mc.sign({key:t,data:n});throw new Di(Ti.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:o}){return Nh(this,void 0,void 0,function*(){if(!(0,ir.gt)(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield ir.Mc.verify({key:t,signature:n,data:o});throw new Di(Ti.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class MA extends ir.hq{deriveKeyBytes(t){var{algorithm:n}=t,o=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(t,["algorithm"]);return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const p={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield Pk.deriveKeyBytes(Object.assign(Object.assign({},o),{hash:p}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class CA extends ir.hq{deriveKeyBytes(t){var{algorithm:n}=t,o=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(t,["algorithm"]);return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,p]=n.split(/[-+]/),y={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[p];return yield Nk.deriveKeyBytes(Object.assign(Object.assign({},o),{hash:y}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:SA,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:SA,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:ir.cM,names:["SHA-256"],operations:["digest"]}};class vg{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Sc(this,void 0,void 0,function*(){const o=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:o}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Sc(this,void 0,void 0,function*(){const o=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:o}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,o;return Sc(this,void 0,void 0,function*(){const p=this.getAlgorithmName({algorithm:t.algorithm}),y=this.getAlgorithm({algorithm:p});let l;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":l=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":l=t.algorithm.split(/[-+]/)[2];break;default:throw new Di(Ti.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const u=+(null!==(o=null===(n=l.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==o?o:-1);if(-1===u)throw new Di(Ti.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${l}`);const J=yield y.deriveKeyBytes(Object.assign(Object.assign({},t),{length:u}));return yield this.bytesToPrivateKey({algorithm:l,privateKeyBytes:J})})}deriveKeyBytes(t){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return Sc(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return Sc(this,void 0,void 0,function*(){const o=this.getAlgorithmName({algorithm:t.algorithm}),y=yield this.getAlgorithm({algorithm:o}).generateKey({algorithm:t.algorithm});return null!==(n=y.kid)&&void 0!==n||(y.kid=yield(0,ir.BA)({jwk:y})),y})}getKeyUri(t){return Sc(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return Sc(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).sign({data:n,key:t})})}unwrapKey(t){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:o}){return Sc(this,void 0,void 0,function*(){const p=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:p}).verify({key:t,signature:n,data:o})})}wrapKey(t){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const o=null===(n=PA[t])||void 0===n?void 0:n.implementation;if(!o)throw new Di(Ti.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(o)||this._algorithmInstances.set(o,new o),this._algorithmInstances.get(o)}getAlgorithmName({algorithm:t,key:n}){var o;const p=null!==(o=n?.alg)&&void 0!==o?o:t,y=n?.crv;for(const l of Object.keys(PA)){const u=PA[l].names;if(p&&u.includes(p))return l;if(y&&u.includes(y))return l}throw new Di(Ti.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${p}, crv=${y}. Please check the documentation for the list of supported algorithms.`)}}var om=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(om||{});const Bh={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ts{constructor({method:t,id:n,path:o,query:p,fragment:y,params:l}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=o,this.query=p,this.fragment=y,this.params=l}static parse(t){if(!t)return null;const n=Ts.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:o,id:p,path:y,query:l,fragment:u}=n.groups,J={uri:`did:${o}:${p}`,method:o,id:p};if(y&&(J.path=y),l&&(J.query=l.slice(1)),u&&(J.fragment=u.slice(1)),l){const X={},N=l.slice(1).split("&");for(const oe of N){const[Ee,Le]=oe.split("=");X[Ee]=Le}J.params=X}return J}}Ts.METHOD_PATTERN="([a-z0-9]+)",Ts.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ts.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ts.PCT_ENCODED_PATTERN})`,Ts.METHOD_ID_PATTERN=`((?:${Ts.ID_CHAR_PATTERN}*:)*(${Ts.ID_CHAR_PATTERN}+))`,Ts.PATH_PATTERN="(/[^#?]*)?",Ts.QUERY_PATTERN="([?][^#]*)?",Ts.FRAGMENT_PATTERN="(#.*)?",Ts.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ts.METHOD_PATTERN}):(?<id>${Ts.METHOD_ID_PATTERN})(?<path>${Ts.PATH_PATTERN})(?<query>${Ts.QUERY_PATTERN})(?<fragment>${Ts.FRAGMENT_PATTERN})$`);class os extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,os)}}var Jo=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Jo||{});function iu(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function Yx(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var J_=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Vf{constructor({uri:t,document:n,metadata:o,keyManager:p}){this.uri=t,this.document=n,this.metadata=o,this.keyManager=p}export(){return J_(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let o of this.document.verificationMethod){if(!o.publicKeyJwk)throw new Error(`Verification method '${o.id}' does not contain a public key in JWK format`);const p=yield this.keyManager.getKeyUri({key:o.publicKeyJwk}),y=yield this.keyManager.exportKey({keyUri:p});n.push(Object.assign({},y))}t.privateKeys=n}return t})}getSigner(t){return J_(this,void 0,void 0,function*(){var n;const o=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(J=>{var X,N;return iu(J.id)===(null!==(X=iu(t?.methodId))&&void 0!==X?X:iu(null===(N=this.document.assertionMethod)||void 0===N?void 0:N[0]))});if(!o||!o.publicKeyJwk)throw new os(Jo.InternalError,"A verification method intended for signing could not be determined from the DID Document");const p=yield this.keyManager.getKeyUri({key:o.publicKeyJwk}),y=yield this.keyManager.getPublicKey({keyUri:p}),l=this.keyManager;return{algorithm:ir.Wp.getJoseSignatureAlgorithmFromPublicKey(y),keyId:o.id,sign(J){return J_(this,arguments,void 0,function*({data:X}){return yield l.sign({data:X,keyUri:p})})},verify(J){return J_(this,arguments,void 0,function*({data:X,signature:N}){return yield l.verify({data:X,key:y,signature:N})})}}})}static import(t){return J_(this,arguments,void 0,function*({portableDid:n,keyManager:o=new ir.eP}){var p;const y=function X_({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const o=[];return o.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(Yx))&&void 0!==n?n:[]),Object.keys(om).forEach(p=>{var y,l;o.push(...null!==(l=null===(y=r[p])||void 0===y?void 0:y.filter(Yx))&&void 0!==l?l:[])}),o}({didDocument:n.document});if(0===y.length)throw new os(Jo.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let u of null!==(p=n.privateKeys)&&void 0!==p?p:[])yield o.importKey({key:u});for(let u of y){if(!u.publicKeyJwk)throw new Error(`Verification method '${u.id}' does not contain a public key in JWK format`);const J=yield o.getKeyUri({key:u.publicKeyJwk});yield o.getPublicKey({keyUri:J})}return new Vf({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:o})})}}var RA=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class OA{static getSigningMethod(t){return RA(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return RA(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var sc=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},Fk=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n};const jk="https://diddht.tbddev.org",sm=7200,md=",";var $k=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}($k||{}),Hd=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Hd||{}),Kk=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(Kk||{});const Vk={Ed25519:Hd.Ed25519,ES256K:Hd.secp256k1,ES256:Hd.secp256r1,"P-256":Hd.secp256r1,secp256k1:Hd.secp256k1,secp256r1:Hd.secp256r1,X25519:Hd.X25519},NA={[Hd.Ed25519]:"Ed25519",[Hd.secp256k1]:"ES256K",[Hd.secp256r1]:"ES256",[Hd.X25519]:"ECDH-ES+A256KW"};let q_=(()=>{class r extends OA{static create(){return sc(this,arguments,void 0,function*({keyManager:n=new ir.eP,options:o={}}={}){var p,y,l,u,J,X,N,oe,Ee,Le,Pe;if(null!==(p=o.verificationMethods)&&void 0!==p&&p.some(Zt=>!(Zt.algorithm in Vk)))throw new Error("One or more verification method algorithms are not supported");const Ye=null===(y=o.verificationMethods)||void 0===y?void 0:y.filter(Zt=>"id"in Zt).map(Zt=>Zt.id);if(Ye&&Ye.length!==new Set(Ye).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=o.services)&&void 0!==l&&l.some(Zt=>!Zt.id||!Zt.type||!Zt.serviceEndpoint))throw new Error("One or more services are missing required properties");const mt=yield n.generateKey({algorithm:"Ed25519"}),St=yield n.getPublicKey({keyUri:mt}),gt=yield Na.identityKeyToIdentifier({identityKey:St}),yt=Object.assign(Object.assign({id:gt},o.alsoKnownAs&&{alsoKnownAs:o.alsoKnownAs}),o.controllers&&{controller:o.controllers}),Tt=[...null!==(u=o.verificationMethods)&&void 0!==u?u:[]];Tt?.some(Zt=>{var cn;return"0"===(null===(cn=Zt.id)||void 0===cn?void 0:cn.split("#").pop())})||Tt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Zt of Tt){const cn=Zt.id&&"0"===Zt.id.split("#").pop()?mt:yield n.generateKey({algorithm:Zt.algorithm}),$t=yield n.getPublicKey({keyUri:cn});let kn=null!==(X=null!==(J=Zt.id)&&void 0!==J?J:$t.kid)&&void 0!==X?X:yield(0,ir.BA)({jwk:$t});kn=`${gt}#${iu(kn)}`,null!==(N=yt.verificationMethod)&&void 0!==N||(yt.verificationMethod=[]),yt.verificationMethod.push({id:kn,type:"JsonWebKey",controller:null!==(oe=Zt.controller)&&void 0!==oe?oe:gt,publicKeyJwk:$t});for(const Jn of null!==(Ee=Zt.purposes)&&void 0!==Ee?Ee:[])yt[Jn]||(yt[Jn]=[]),yt[Jn].push(kn)}null===(Le=o.services)||void 0===Le||Le.forEach(Zt=>{var cn;null!==(cn=yt.service)&&void 0!==cn||(yt.service=[]),Zt.id=`${gt}#${Zt.id.split("#").pop()}`,yt.service.push(Zt)});const zt=new Vf({uri:gt,document:yt,metadata:Object.assign({published:!1},o.types&&{types:o.types}),keyManager:n});if(null===(Pe=o.publish)||void 0===Pe||Pe){const Zt=yield r.publish({did:zt,gatewayUri:o.gatewayUri});zt.metadata=Zt.didDocumentMetadata}return zt})}static import(n){return sc(this,arguments,void 0,function*({portableDid:o,keyManager:p=new ir.eP}){var y;const l=Ts.parse(o.uri);if(l?.method!==r.methodName)throw new os(Jo.MethodNotSupported,"Method not supported");const u=yield Vf.import({portableDid:o,keyManager:p});if(null===(y=u.document.verificationMethod)||void 0===y||!y.some(J=>{var X;return"0"===(null===(X=J.id)||void 0===X?void 0:X.split("#").pop())}))throw new os(Jo.InvalidDidDocument,"DID document must contain an Identity Key");return u})}static getSigningMethod(n){return sc(this,arguments,void 0,function*({didDocument:o,methodId:p="#0"}){var y;const l=Ts.parse(o.id);if(l&&l.method!==this.methodName)throw new os(Jo.MethodNotSupported,`Method not supported: ${l.method}`);const u=null===(y=o.verificationMethod)||void 0===y?void 0:y.find(J=>{var X,N;return iu(J.id)===(null!==(X=iu(p))&&void 0!==X?X:iu(null===(N=o.assertionMethod)||void 0===N?void 0:N[0]))});if(!u||!u.publicKeyJwk)throw new os(Jo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static publish(n){return sc(this,arguments,void 0,function*({did:o,gatewayUri:p=jk}){return yield zf.put({did:o,gatewayUri:p})})}static resolve(n){return sc(this,arguments,void 0,function*(o,p={}){var y;const l=null!==(y=p?.gatewayUri)&&void 0!==y?y:jk;try{yield Na.identifierToIdentityKey({didUri:o});const{didDocument:u,didDocumentMetadata:J}=yield zf.get({didUri:o,gatewayUri:l});return Object.assign(Object.assign({},Bh),{didDocument:u,didDocumentMetadata:J})}catch(u){if(!(u instanceof os))throw new Error(u);return Object.assign(Object.assign({},Bh),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}}return r.methodName="dht",r})();class zf{static get(t){return sc(this,arguments,void 0,function*({didUri:n,gatewayUri:o}){const p=Na.identifierToIdentityKeyBytes({didUri:n}),y=yield zf.pkarrGet({gatewayUri:o,publicKeyBytes:p}),l=yield Na.parseBep44GetMessage({bep44Message:y}),u=yield zf.fromDnsPacket({didUri:n,dnsPacket:l});return u.didDocumentMetadata.versionId=y.seq.toString(),u})}static put(t){return sc(this,arguments,void 0,function*({did:n,gatewayUri:o}){const p=yield zf.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[o]}),y=yield Na.createBep44PutMessage({dnsPacket:p,publicKeyBytes:Na.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),l=yield zf.pkarrPut({gatewayUri:o,bep44Message:y});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:l,versionId:y.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return sc(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:o}){const p=Ur.U$.uint8Array(o).toBase32Z(),y=new URL(p,n).href;let l;try{if(l=yield fetch(y,{method:"GET"}),!l.ok)throw new os(Jo.NotFound,`Pkarr record not found for: ${p}`)}catch(X){throw X instanceof os?X:new os(Jo.InternalError,`Failed to fetch Pkarr record: ${X.message}`)}const u=yield l.arrayBuffer();if(!u)throw new os(Jo.NotFound,`Pkarr record not found for: ${p}`);if(u.byteLength<72)throw new os(Jo.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${u.byteLength}`);if(u.byteLength>1072)throw new os(Jo.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${u.byteLength}`);return{k:o,seq:Number(new DataView(u).getBigUint64(64)),sig:new Uint8Array(u,0,64),v:new Uint8Array(u,72)}})}static pkarrPut(t){return sc(this,arguments,void 0,function*({gatewayUri:n,bep44Message:o}){const p=Ur.U$.uint8Array(o.k).toBase32Z(),y=new URL(p,n).href,l=new Uint8Array(o.v.length+72);let u;l.set(o.sig,0),new DataView(l.buffer).setBigUint64(o.sig.length,BigInt(o.seq)),l.set(o.v,o.sig.length+8);try{u=yield fetch(y,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:l})}catch(J){throw new os(Jo.InternalError,`Failed to put Pkarr record for identifier ${p}: ${J.message}`)}return u.ok})}static fromDnsPacket(t){return sc(this,arguments,void 0,function*({didUri:n,dnsPacket:o}){var p,y,l;const u={id:n},J={published:!0},X=new Map;for(const N of null!==(p=o?.answers)&&void 0!==p?p:[]){if("TXT"!==N.type)continue;const oe=N.name.split(".")[0].substring(1);switch(!0){case oe.startsWith("aka"):{const Ee=Na.parseTxtDataToString(N.data);u.alsoKnownAs=Ee.split(md);break}case oe.startsWith("cnt"):{const Ee=Na.parseTxtDataToString(N.data);u.controller=Ee.includes(md)?Ee.split(md):Ee;break}case oe.startsWith("k"):{const{id:Ee,t:Le,k:Pe,c:Ye,a:mt}=Na.parseTxtDataToObject(N.data),St=Ur.U$.base64Url(Pe).toUint8Array(),gt=Hd[Number(Le)];let yt=yield Na.keyConverter(gt).bytesToPublicKey({publicKeyBytes:St});yt.alg=mt||NA[Number(Le)];const Tt="k0"===oe?"0":void 0!==Ee?Ee:yield(0,ir.BA)({jwk:yt});null!==(y=u.verificationMethod)&&void 0!==y||(u.verificationMethod=[]);const zt=`${n}#${Tt}`;u.verificationMethod.push({id:zt,type:"JsonWebKey",controller:Ye??n,publicKeyJwk:yt}),X.set(oe,zt);break}case oe.startsWith("s"):{const Ee=Na.parseTxtDataToObject(N.data),{id:Le,t:Pe,se:Ye}=Ee,mt=Fk(Ee,["id","t","se"]),St=Ye.includes(md)?Ye.split(md):[Ye],gt=Object.fromEntries(Object.entries(mt).map(([yt,Tt])=>[yt,Tt.includes(md)?Tt.split(md):Tt]));null!==(l=u.service)&&void 0!==l||(u.service=[]),u.service.push(Object.assign(Object.assign({},gt),{id:`${n}#${Le}`,type:Pe,serviceEndpoint:St}));break}case oe.startsWith("typ"):{const{id:Ee}=Na.parseTxtDataToObject(N.data);J.types=Ee.split(md).map(Le=>Number(Le));break}case oe.startsWith("did"):{const Ee=gt=>gt.split(md).map(yt=>X.get(yt)).filter(yt=>"string"==typeof yt),{auth:Le,asm:Pe,del:Ye,inv:mt,agm:St}=Na.parseTxtDataToObject(N.data);Le&&(u.authentication=Ee(Le)),Pe&&(u.assertionMethod=Ee(Pe)),Ye&&(u.capabilityDelegation=Ee(Ye)),mt&&(u.capabilityInvocation=Ee(mt)),St&&(u.keyAgreement=Ee(St));break}}}return{didDocument:u,didDocumentMetadata:J,didResolutionMetadata:{}}})}static toDnsPacket(t){return sc(this,arguments,void 0,function*({didDocument:n,didMetadata:o,authoritativeGatewayUris:p,previousDidProof:y}){var l,u,J,X,N;const oe=[],Ee=[],Le=new Map,Pe=[],Ye=[];if(void 0!==y){const{signature:gt,previousDid:yt}=y;yield Na.validatePreviousDidProof({newDid:n.id,previousDidProof:y}),oe.push({type:"TXT",name:"_prv._did.",ttl:sm,data:`id=${yt};s=${gt}`})}if(n.alsoKnownAs&&oe.push({type:"TXT",name:"_aka._did.",ttl:sm,data:n.alsoKnownAs.join(md)}),n.controller){const gt=Array.isArray(n.controller)?n.controller.join(md):n.controller;oe.push({type:"TXT",name:"_cnt._did.",ttl:sm,data:gt})}for(const[gt,yt]of null!==(u=null===(l=n.verificationMethod)||void 0===l?void 0:l.entries())&&void 0!==u?u:[]){const Tt=`k${gt}`;Ye.push(Tt);let zt=yt.id.split("#").pop();Le.set(zt,Tt);const Zt=yt.publicKeyJwk;if(!Zt?.crv||!(Zt.crv in Vk))throw new os(Jo.InvalidPublicKeyType,`Verification method '${yt.id}' contains an unsupported key type: ${null!==(J=Zt?.crv)&&void 0!==J?J:"undefined"}`);const cn=Hd[Zt.crv],$t=yield Na.keyConverter(Zt.crv).publicKeyToBytes({publicKey:Zt}),Jn=[`t=${cn}`,`k=${Ur.U$.uint8Array($t).toBase64Url()}`];"0"!==zt&&(yield(0,ir.BA)({jwk:Zt}))!==zt&&Jn.unshift(`id=${zt}`),Zt.alg!==NA[cn]&&Jn.push(`a=${Zt.alg}`),yt.controller!==n.id&&Jn.push(`c=${yt.controller}`),oe.push({type:"TXT",name:`_${Tt}._did.`,ttl:sm,data:Jn.join(";")})}null===(X=n.service)||void 0===X||X.forEach((gt,yt)=>{const Tt=`s${yt}`;Pe.push(Tt);let{id:zt,type:Zt,serviceEndpoint:cn}=gt,$t=Fk(gt,["id","type","serviceEndpoint"]);zt=iu(zt),cn=Array.isArray(cn)?cn.join(","):cn;const Jn=Object.entries(Object.assign({id:zt,t:Zt,se:cn},$t)).map(([dr,Zn])=>`${dr}=${Zn}`).join(";"),tr=Na.chunkDataIfNeeded(Jn);oe.push({type:"TXT",name:`_${Tt}._did.`,ttl:sm,data:tr})});const mt=["v=0"];if(Ye.length&&mt.push(`vm=${Ye.join(md)}`),Object.keys(om).forEach(gt=>{var yt;const Tt=null===(yt=n[gt])||void 0===yt?void 0:yt.map(zt=>Le.get(zt.split("#").pop()));Tt&&mt.push(`${Kk[gt]}=${Tt.join(md)}`)}),Pe.length&&mt.push(`svc=${Pe.join(md)}`),null!==(N=o.types)&&void 0!==N&&N.length){const yt=o.types.map(Tt=>"string"==typeof Tt?$k[Tt]:Tt);oe.push({type:"TXT",name:"_typ._did.",ttl:sm,data:`id=${yt.join(md)}`})}oe.push({type:"TXT",name:"_did."+zf.getUniqueDidSuffix(n.id)+".",ttl:sm,data:mt.join(";")});for(const gt of p||[])Ee.push({type:"NS",name:"_did."+zf.getUniqueDidSuffix(n.id)+".",ttl:sm,data:gt+"."});return{id:0,type:"response",flags:em.hB,answers:[...oe,...Ee]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class Na{static createBep44PutMessage(t){return sc(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:o,signer:p}){const y=Math.ceil(Date.now()/1e3),l=(0,em.lF)(n),u=M_.A.encode({seq:y,v:l}).subarray(1,-1);if(u.length>1e3)throw new os(Jo.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${u.length} bytes`);return{k:o,seq:y,sig:yield p.sign({data:u}),v:l}})}static identifierToIdentityKey(t){return sc(this,arguments,void 0,function*({didUri:n}){let o=Na.identifierToIdentityKeyBytes({didUri:n});return yield ir.Mc.bytesToPublicKey({publicKeyBytes:o})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ts.parse(t);if(!n)throw new os(Jo.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==q_.methodName)throw new os(Jo.MethodNotSupported,`Method not supported: ${n.method}`);let o;try{o=Ur.U$.base32Z(n.id).toUint8Array()}catch{throw new os(Jo.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==o.length)throw new os(Jo.InvalidPublicKeyLength,`Invalid public key length: ${o.length}`);return o}static identityKeyToIdentifier(t){return sc(this,arguments,void 0,function*({identityKey:n}){const o=yield ir.Mc.publicKeyToBytes({publicKey:n}),p=Ur.U$.uint8Array(o).toBase32Z();return`did:${q_.methodName}:${p}`})}static keyConverter(t){const o={Ed25519:ir.Mc,"P-256":{publicKeyToBytes:p=>sc(this,[p],void 0,function*({publicKey:y}){const l=yield ir.iH.publicKeyToBytes({publicKey:y});return yield ir.iH.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:ir.iH.bytesToPublicKey,privateKeyToBytes:ir.iH.privateKeyToBytes,bytesToPrivateKey:ir.iH.bytesToPrivateKey},secp256k1:{publicKeyToBytes:p=>sc(this,[p],void 0,function*({publicKey:y}){const l=yield ir.jg.publicKeyToBytes({publicKey:y});return yield ir.jg.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:ir.jg.bytesToPublicKey,privateKeyToBytes:ir.jg.privateKeyToBytes,bytesToPrivateKey:ir.jg.bytesToPrivateKey},X25519:ir.Nx}[t];if(!o)throw new os(Jo.InvalidPublicKeyType,`Unsupported curve: ${t}`);return o}static parseBep44GetMessage(t){return sc(this,arguments,void 0,function*({bep44Message:n}){const o=yield ir.Mc.bytesToPublicKey({publicKeyBytes:n.k}),p=M_.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield ir.Mc.verify({key:o,signature:n.sig,data:p})))throw new os(Jo.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,em.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,o)=>{const[p,y]=o.split("=");return n[p]=y,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return Ur.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new os(Jo.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return sc(this,arguments,void 0,function*({newDid:n,previousDidProof:o}){const p=yield Na.identifierToIdentityKey({didUri:o.previousDid}),y=Na.identifierToIdentityKeyBytes({didUri:n}),l=Ur.U$.base64Url(o.signature).toUint8Array();if(!(yield ir.Mc.verify({key:p,data:y,signature:l})))throw new os(Jo.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let o=0;o<t.length;o+=255)n.push(t.slice(o,o+255));return n}}var i=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};let c=(()=>{class r extends OA{static create(){return i(this,arguments,void 0,function*({keyManager:n=new ir.eP,options:o={}}={}){var p,y,l,u;if(o.algorithm&&o.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(o.verificationMethods&&1!==o.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const J=null!==(u=null!==(p=o.algorithm)&&void 0!==p?p:null===(l=null===(y=o.verificationMethods)||void 0===y?void 0:y[0])||void 0===l?void 0:l.algorithm)&&void 0!==u?u:"Ed25519",X=yield n.generateKey({algorithm:J}),N=yield n.getPublicKey({keyUri:X}),oe=Ur.U$.object(N).toBase64Url(),Ee=`did:${r.methodName}:${oe}`,Pe=(yield r.resolve(Ee)).didDocument;return new Vf({uri:Ee,document:Pe,metadata:{},keyManager:n})})}static getSigningMethod(n){return i(this,arguments,void 0,function*({didDocument:o}){var p;const y=Ts.parse(o.id);if(y&&y.method!==this.methodName)throw new os(Jo.MethodNotSupported,`Method not supported: ${y.method}`);const[l]=null!==(p=o.verificationMethod)&&void 0!==p?p:[];if(!l||!l.publicKeyJwk)throw new os(Jo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return l})}static import(n){return i(this,arguments,void 0,function*({portableDid:o,keyManager:p=new ir.eP}){const y=Ts.parse(o.uri);if(y?.method!==r.methodName)throw new os(Jo.MethodNotSupported,"Method not supported");const l=yield Vf.import({portableDid:o,keyManager:p});if(1!==l.document.verificationMethod.length)throw new os(Jo.InvalidDidDocument,"DID document must contain exactly one verification method");return l})}static resolve(n,o){return i(this,void 0,void 0,function*(){const p=Ts.parse(n);let y;try{y=Ur.U$.base64Url(p.id).toObject()}catch{}if(!p||!y)return Object.assign(Object.assign({},Bh),{didResolutionMetadata:{error:"invalidDid"}});if(p.method!==r.methodName)return Object.assign(Object.assign({},Bh),{didResolutionMetadata:{error:"methodNotSupported"}});const l={"@context":["https://www.w3.org/ns/did/v1"],id:p.uri},u=`${l.id}#0`;switch(l.verificationMethod=[{id:u,type:"JsonWebKey",controller:l.id,publicKeyJwk:y}],l.authentication=[u],l.assertionMethod=[u],l.capabilityInvocation=[u],l.capabilityDelegation=[u],l.keyAgreement=[u],y.use){case"sig":delete l.keyAgreement;break;case"enc":delete l.authentication,delete l.assertionMethod,delete l.capabilityInvocation,delete l.capabilityDelegation}return Object.assign(Object.assign({},Bh),{didDocument:l})})}}return r.methodName="jwk",r})();var Rt=E(81447),un=E(94787);class On{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:o="15m"}={}){this.cache=t??new un.Level(n),this.ttl=Rt(o)}get(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),o=JSON.parse(n);return Date.now()>=o.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):o.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const o={ttlMillis:Date.now()+this.ttl,value:n},p=JSON.stringify(o);return this.cache.put(t,p)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const Hn={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var cr=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Tr{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||Hn;for(const o of n)this.didResolvers.set(o.methodName,o)}resolve(t,n){return cr(this,void 0,void 0,function*(){const o=Ts.parse(t);if(!o)return Object.assign(Object.assign({},Bh),{didResolutionMetadata:{error:Jo.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const p=this.didResolvers.get(o.method);if(!p)return Object.assign(Object.assign({},Bh),{didResolutionMetadata:{error:Jo.MethodNotSupported,errorMessage:`Method not supported: ${o.method}`}});const y=yield this.cache.get(o.uri);if(y)return y;{const l=yield p.resolve(o.uri,n);return l.didResolutionMetadata.error||(yield this.cache.set(o.uri,l)),l}})}dereference(t,n){return cr(this,void 0,void 0,function*(){const o=Ts.parse(t);if(!o)return{dereferencingMetadata:{error:Jo.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:p,didResolutionMetadata:y,didDocumentMetadata:l}=yield this.resolve(o.uri);if(!p)return{dereferencingMetadata:{error:y.error},contentStream:null,contentMetadata:{}};if(!o.fragment||o.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:p,contentMetadata:l};const{service:u=[],verificationMethod:J=[]}=p,X=new Set([t,o.fragment,`#${o.fragment}`]);let N;for(let oe of J)if(X.has(oe.id)){N=oe;break}for(let oe of u)if(X.has(oe.id)){N=oe;break}return N?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:N,contentMetadata:y}:{dereferencingMetadata:{error:Jo.NotFound},contentStream:null,contentMetadata:{}}})}}var Pr=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};const fi="^";class $o extends ir.eP{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return Pr(this,void 0,void 0,function*(){const o={};for(const p of t)null!==(n=p.kid)&&void 0!==n||(p.kid=yield(0,ir.BA)({jwk:p})),o[yield this.getKeyUri({key:p})]=p;this._predefinedKeys=new Map(Object.entries(o)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return Pr(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return Pr(this,void 0,void 0,function*(){const{value:n,done:o}=this._keyGenerator.next();if(o)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return Pr(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return Pr(this,void 0,void 0,function*(){const o=this._predefinedKeys.get(t);if(!o)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield ir.Mc.sign({data:n,key:o})})}}function Uo({agent:r,tenant:t,didUri:n}){return Pr(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}function Ba(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var ea=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Lh{constructor(){this.name="DwnDataStore",this._cache=new Ur.LC({ttl:Rt("15 minutes"),max:100}),this._index=new Ur.LC({ttl:Rt("2 hours"),max:1e3}),this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/private-jwk"}}delete({id:t,agent:n,tenant:o}){return ea(this,void 0,void 0,function*(){const p=yield Uo({agent:n,tenant:o,didUri:t});let y=yield this.lookupRecordId({id:t,tenantDid:p,agent:n});if(!y)return!1;const{reply:{status:l}}=yield n.dwn.processRequest({author:p,target:p,messageType:Is.RecordsDelete,messageParams:{recordId:y}});if(202===l.code)return this._index.delete(`${p}${fi}${t}`),this._cache.delete(y),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${l.code}) ${l.detail}`)})}get({id:t,agent:n,tenant:o,useCache:p=!1}){return ea(this,void 0,void 0,function*(){const y=yield Uo({agent:n,tenant:o,didUri:t});let l=yield this.lookupRecordId({id:t,tenantDid:y,agent:n});if(l)return yield this.getRecord({recordId:l,tenantDid:y,agent:n,useCache:p})})}list({agent:t,tenant:n}){return ea(this,void 0,void 0,function*(){const o=yield Uo({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:o})})}set({id:t,data:n,tenant:o,agent:p,preventDuplicates:y=!0,useCache:l=!1}){return ea(this,void 0,void 0,function*(){const u=yield Uo({agent:p,tenant:o,didUri:t});if(y&&(yield this.lookupRecordId({id:t,tenantDid:u,agent:p})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const J=Ur.U$.object(n).toUint8Array(),{message:X,reply:{status:N}}=yield p.dwn.processRequest({author:u,target:u,messageType:Is.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([J],{type:"application/json"})});if(!X||202!==N.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${u}${fi}${t}`,X.recordId),l&&this._cache.set(X.recordId,n)})}getAllRecords(t){return ea(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:o,useCache:p}){var y;return ea(this,void 0,void 0,function*(){if(p){const J=this._cache.get(t);if(J)return J}const{reply:l}=yield o.dwn.processRequest({author:n,target:n,messageType:Is.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(y=l.record)||void 0===y||!y.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const u=yield Ur.VS.consumeToJson({readable:l.record.data});return p&&this._cache.set(t,u),u})}lookupRecordId({id:t,tenantDid:n,agent:o}){return ea(this,void 0,void 0,function*(){let p=this._index.get(`${n}${fi}${t}`,{updateAgeOnGet:!0});return p||(yield this.getAllRecords({agent:o,tenantDid:n}),p=this._index.get(`${n}${fi}${t}`)),p})}}class Q_{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:o}){return ea(this,void 0,void 0,function*(){const p=yield Uo({agent:n,tenant:o,didUri:t});return!!this.store.has(`${p}${fi}${t}`)&&(this.store.delete(`${p}${fi}${t}`),!0)})}get({id:t,agent:n,tenant:o}){return ea(this,void 0,void 0,function*(){const p=yield Uo({agent:n,tenant:o,didUri:t});return this.store.get(`${p}${fi}${t}`)})}list({agent:t,tenant:n}){return ea(this,void 0,void 0,function*(){const o=yield Uo({tenant:n,agent:t}),p=[];for(const[y,l]of this.store.entries())y.startsWith(`${o}${fi}`)&&p.push(l);return p})}set({id:t,data:n,tenant:o,agent:p,preventDuplicates:y}){return ea(this,void 0,void 0,function*(){const l=yield Uo({agent:p,tenant:o,didUri:t});if(y&&this.store.has(`${l}${fi}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const u=structuredClone(n);this.store.set(`${l}${fi}${t}`,u)})}}var Hf=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class mO extends Lh{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/portable-did"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return Hf(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return Hf(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return Hf(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return Hf(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var o;return Hf(this,void 0,void 0,function*(){this._index.clear();const{reply:p}=yield t.dwn.processRequest({author:n,target:n,messageType:Is.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let y=[];for(const l of null!==(o=p.entries)&&void 0!==o?o:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const u=Ur.U$.base64Url(l.encodedData).toObject();Ba(u)&&(this._index.set(`${n}${fi}${u.uri}`,l.recordId),this._cache.set(l.recordId,u),y.push(u))}return y})}}class gO extends Q_{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return Hf(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return Hf(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return Hf(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return Hf(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var qx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class yO{constructor({ttl:t="15m"}={}){this.cache=new Ur.LC({ttl:Rt(t)})}get(t){return qx(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return qx(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return qx(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return qx(this,void 0,void 0,function*(){this.cache.clear()})}close(){return qx(this,void 0,void 0,function*(){})}}var e1=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},BA=function(r){return r.Create="Create",r.Resolve="Resolve",r}(BA||{});function ER(r,t){return r.messageType===t}class vO extends Tr{constructor({agent:t,didMethods:n,resolverCache:o,store:p}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:o??new yO}),this._didMethods=new Map,this._agent=t,this._store=p??new gO;for(const y of n)this._didMethods.set(y.methodName,y)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:o,store:p}){return e1(this,void 0,void 0,function*(){const l=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:o});if(p??1){const{uri:u,document:J,metadata:X}=l,N={uri:u,document:J,metadata:X};yield this._store.set({id:N.uri,data:N,agent:this.agent,tenant:n??N.uri,preventDuplicates:!1,useCache:!0})}return l})}export({didUri:t,tenant:n}){return e1(this,void 0,void 0,function*(){const o=yield this.get({didUri:t,tenant:n});if(!o)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield o.export()})}get({didUri:t,tenant:n}){return e1(this,void 0,void 0,function*(){const o=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return o?yield Vf.import({portableDid:o,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return e1(this,void 0,void 0,function*(){const o=Ts.parse(t);if(!o)throw new Error(`Invalid DID URI: ${t}`);const p=this.getMethod(o.method),{didDocument:y,didResolutionMetadata:l}=yield this.resolve(t);if(!y)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(l)}`);return yield p.getSigningMethod({didDocument:y,methodId:n})})}import({portableDid:t,tenant:n}){return e1(this,void 0,void 0,function*(){const o=yield Vf.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:p,document:y,metadata:l}=o,u={uri:p,document:y,metadata:l};return yield this._store.set({id:u.uri,data:u,agent:this.agent,tenant:n??u.uri,preventDuplicates:!0,useCache:!0}),o})}processRequest(t){var n;return e1(this,void 0,void 0,function*(){if(ER(t,BA.Create))try{const o=yield this.create(Object.assign({},t.messageParams));return{result:{uri:o.uri,document:o.document,metadata:o.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(o){return{ok:!1,status:{code:500,message:null!==(n=o.message)&&void 0!==n?n:"Unknown error occurred"}}}if(ER(t,BA.Resolve)){const{didUri:o,options:p}=t.messageParams;return{result:yield this.resolve(o,p),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var bO=E(85493),xR=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function MR(r){return Hk(r.stream())}function SR(r,t){return xR(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function vR(r){if(!function Uk(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(o=>"string"==typeof o);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:o}=n.contentStream,p="string"==typeof o?[o]:Array.isArray(o)&&o.every(y=>"string"==typeof y)?o:[];if(p.length>0)return p}return[]})}function wO(r){return to.getAuthor(r)}function LA(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===Ki.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===si.Write}function _O(r){return kr.getCid(r)}function EO(r,t){return xR(this,void 0,void 0,function*(){const n=t===Ud.CreatedAscending||t===Ud.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield _O(r),value:n}})}function Hk(r){return new bO.s(r)}var Wf=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class MO{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:o,eventLog:p,eventStream:y,messageStore:l,tenantGate:u}){return Wf(this,void 0,void 0,function*(){return n??(n=new jx({blockstoreLocation:`${t}/DWN_DATASTORE`})),o??(o=new Tr({didResolvers:[q_,c],cache:new On({location:`${t}/DID_RESOLVERCACHE`})})),p??(p=new Mv({location:`${t}/DWN_EVENTLOG`})),l??(l=new EA({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),yield BT.create({dataStore:n,didResolver:o,eventLog:p,eventStream:y,messageStore:l,tenantGate:u})})}processRequest(t){return Wf(this,void 0,void 0,function*(){const{message:n,dataStream:o}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:p}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:o,subscriptionHandler:p}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield kr.getCid(n)}})}sendRequest(t){return Wf(this,void 0,void 0,function*(){const n=yield SR(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let o,p,y,l;if("messageCid"in t)({message:p,data:y}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),o=t.messageCid;else{if(({message:p}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");y=t.dataStream,l=t.subscriptionHandler}const u=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:p,data:y,subscriptionHandler:l});return o??(o=yield kr.getCid(p)),{reply:u,message:p,messageCid:o}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:o,data:p,subscriptionHandler:y}){return Wf(this,void 0,void 0,function*(){const l=[];if(o.descriptor.method===si.Subscribe&&void 0===y)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let u of n)try{if(void 0!==y){if(!(yield this.agent.rpc.getServerInfo(u)).webSocketSupport){l.push({url:u,message:"WebSocket support is not enabled on the server."});continue}const N=new URL(u);N.protocol="http:"===N.protocol?"ws:":"wss:",u=N.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:u,targetDid:t,message:o,data:p,subscriptionHandler:y})}catch(J){l.push({url:u,message:J instanceof Error?J.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(l)}`)})}constructDwnMessage({request:t}){var n;return Wf(this,void 0,void 0,function*(){const o=t.rawMessage;let p;if(function xO(r,t){return r.messageType===t}(t,Is.RecordsWrite)){const J=t.messageParams;if(t.dataStream&&!J?.data){const{dataStream:X}=t;let N;if(X instanceof Blob)N=MR(X),p=MR(X);else if(X instanceof ReadableStream){const[oe,Ee]=X.tee();N=Hk(oe),p=Hk(Ee)}o||(J.dataCid=yield gc.computeDagPbCidFromStream(N),null!==(n=J.dataSize)&&void 0!==n||(J.dataSize=N.bytesRead))}}const y=yield this.getSigner(t.author),l=Gx[t.messageType],u=o?yield l.parse(o):yield l.create(Object.assign(Object.assign({},t.messageParams),{signer:y}));return LA(u)&&t.signAsOwner&&(yield u.signAsOwner(y)),{message:u.message,dataStream:p}})}getSigner(t){return Wf(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:o=>Wf(this,void 0,void 0,function*(){return yield n.sign({data:o})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const o=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),p=yield this.agent.keyManager.getPublicKey({keyUri:o}),y=this.agent.keyManager;return{algorithm:ir.Wp.getJoseSignatureAlgorithmFromPublicKey(p),keyId:n.id,sign:l=>Wf(this,void 0,void 0,function*(){return yield y.sign({data:l,keyUri:o})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return Wf(this,void 0,void 0,function*(){const o=yield this.getSigner(t),p=yield Gx[Is.MessagesGet].create({messageCids:[n],signer:o}),y=yield this._dwn.processMessage(t,p.message);if(!y.entries||1!==y.entries.length)throw new Error("AgentDwnApi: Expected 1 message entry in the MessagesGet response but received none or more than one.");const[l]=y.entries,u=l.message;if(!u)throw new Error(`AgentDwnApi: Message not found with CID: ${n}`);let J={message:u};if(LA(l))if(l.encodedData){const X=Ur.U$.base64Url(l.encodedData).toUint8Array();J.data=new Blob([X])}else{const X=yield Gx[Is.RecordsRead].create({filter:{recordId:l.message.recordId},signer:o}),N=yield this._dwn.processMessage(t,X.message);if(N.status.code>=400){const{status:{code:oe,detail:Ee}}=N;throw new Error(`AgentDwnApi: (${oe}) Failed to read data associated with record ${l.message.recordId}. ${Ee}}`)}if(N.record){const oe=yield Ur.VS.consumeToBytes({readable:N.record.data});J.data=new Blob([oe])}}return J})}createMessage({author:t,messageParams:n,messageType:o}){return Wf(this,void 0,void 0,function*(){const p=yield this.getSigner(t);return yield Gx[o].create(Object.assign(Object.assign({},n),{signer:p}))})}processMessage({dataStream:t,message:n,targetDid:o}){return Wf(this,void 0,void 0,function*(){return yield this._dwn.processMessage(o,n,{dataStream:t})})}}var Wk=E(86295),Gk=E(75781),SO=E(36405),Wd=E(62953);const DO=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),DR=Uint8Array.from({length:16},(r,t)=>t);let Zk=[DR],Yk=[DR.map(r=>(9*r+5)%16)];for(let r=0;r<4;r++)for(let t of[Zk,Yk])t.push(t[r].map(n=>DO[n]));const IR=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),TO=Zk.map((r,t)=>r.map(n=>IR[t][n])),AO=Yk.map((r,t)=>r.map(n=>IR[t][n])),CO=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),kO=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),UA=(r,t)=>r<<t|r>>>32-t;function TR(r,t,n,o){return 0===r?t^n^o:1===r?t&n|~t&o:2===r?(t|~n)^o:3===r?t&o|n&~o:t^(n|~o)}const FA=new Uint32Array(16);class PO extends SO.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:o,h3:p,h4:y}=this;return[t,n,o,p,y]}set(t,n,o,p,y){this.h0=0|t,this.h1=0|n,this.h2=0|o,this.h3=0|p,this.h4=0|y}process(t,n){for(let Le=0;Le<16;Le++,n+=4)FA[Le]=t.getUint32(n,!0);let o=0|this.h0,p=o,y=0|this.h1,l=y,u=0|this.h2,J=u,X=0|this.h3,N=X,oe=0|this.h4,Ee=oe;for(let Le=0;Le<5;Le++){const Pe=4-Le,Ye=CO[Le],mt=kO[Le],St=Zk[Le],gt=Yk[Le],yt=TO[Le],Tt=AO[Le];for(let zt=0;zt<16;zt++){const Zt=UA(o+TR(Le,y,u,X)+FA[St[zt]]+Ye,yt[zt])+oe|0;o=oe,oe=X,X=0|UA(u,10),u=y,y=Zt}for(let zt=0;zt<16;zt++){const Zt=UA(p+TR(Pe,l,J,N)+FA[gt[zt]]+mt,Tt[zt])+Ee|0;p=Ee,Ee=N,N=0|UA(J,10),J=l,l=Zt}}this.set(this.h1+u+N|0,this.h2+X+Ee|0,this.h3+oe+p|0,this.h4+o+l|0,this.h0+y+J|0)}roundClean(){FA.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const RO=(0,Wd.ld)(()=>new PO);var AR=E(47565),Xk=E(25431),cm=E(37099);const OO=(0,Wd.AI)("ed25519 seed"),Jk=2147483648,CR=new Uint8Array([0]);function kR(r,...t){return"string"==typeof r&&(r=(0,Wd.aT)(r)),(0,cm.ee)(r,...t),r}const qk=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,Wd.O8)(t).setUint32(0,r,!1),t};class jA{get publicKeyRaw(){return Wk.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,Wd.Id)(CR,this.publicKeyRaw)}get pubHash(){return RO((0,AR.s)(this.publicKey))}get fingerprint(){return(0,Wd.O8)(this.pubHash).getUint32(0,!1)}get fingerprintHex(){return(0,Wd.My)(qk(this.fingerprint))}get parentFingerprintHex(){return(0,Wd.My)(qk(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=kR(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,Gk.w)(Xk.Zf,OO,t);return new jA({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,cm.ee)(t.privateKey,32),(0,cm.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const o=t.replace(/^[mM]'?\//,"").split("/");let p=this;for(const y of o){const l=/^(\d+)('?)$/.exec(y);if(!l||3!==l.length)throw new Error(`Invalid child index: ${y}`);let u=+l[1];if(!Number.isSafeInteger(u)||u>=Jk)throw new Error("Invalid index");(n||"'"===l[2])&&(u+=Jk),p=p.deriveChild(u)}return p}deriveChild(t){if(t<Jk)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,Wd.Id)(CR,this.privateKey,qk(t)),o=(0,Gk.w)(Xk.Zf,this.chainCode,n);return new jA({chainCode:o.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:o.slice(0,32)})}sign(t){return Wk.ev.sign(t,this.privateKey)}verify(t,n){return n=kR(n,64),Wk.ev.verify(n,t,this.publicKeyRaw)}}const PR="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function Qk(){return(Qk=(0,Ne.A)(function*(r,t,n,o){const{c:p,dkLen:y,asyncTick:l,DK:u,PRF:J,PRFSalt:X}=function RR(r,t,n,o){(0,cm.tW)(r);const p=(0,Wd.tY)({dkLen:32,asyncTick:10},o),{c:y,dkLen:l,asyncTick:u}=p;if((0,cm.ai)(y),(0,cm.ai)(l),(0,cm.ai)(u),y<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const J=(0,Wd.ZJ)(t),X=(0,Wd.ZJ)(n),N=new Uint8Array(l),oe=Gk.w.create(r,J),Ee=oe._cloneInto().update(X);return{c:y,dkLen:l,asyncTick:u,DK:N,PRF:oe,PRFSalt:Ee}}(r,t,n,o);let N;const oe=new Uint8Array(4),Ee=(0,Wd.O8)(oe),Le=new Uint8Array(J.outputLen);for(let Pe=1,Ye=0;Ye<y;Pe++,Ye+=J.outputLen){const mt=u.subarray(Ye,Ye+J.outputLen);Ee.setInt32(0,Pe,!1),(N=X._cloneInto(N)).update(oe).digestInto(Le),mt.set(Le.subarray(0,mt.length)),yield(0,Wd.$h)(p-1,l,()=>{J._cloneInto(N).update(Le).digestInto(Le);for(let St=0;St<mt.length;St++)mt[St]^=Le[St]})}return function OR(r,t,n,o,p){return r.destroy(),t.destroy(),o&&o.destroy(),p.fill(0),n}(J,X,u,N,Le)})).apply(this,arguments)}function Qx(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}function e8(r,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(r))throw new Error("convertRadix: data should be array");if(!r.length)return[];let o=0;const p=[],y=Array.from(r);for(y.forEach(l=>{if(l<0||l>=t)throw new Error(`Wrong integer: ${l}`)});;){let l=0,u=!0;for(let J=o;J<y.length;J++){const X=y[J],N=t*l+X;if(!Number.isSafeInteger(N)||t*l/t!==l||N-X!=t*l)throw new Error("convertRadix: carry overflow");l=N%n;const oe=Math.floor(N/n);if(y[J]=oe,!Number.isSafeInteger(oe)||oe*n+l!==N)throw new Error("convertRadix: carry overflow");u&&(oe?u=!1:o=J)}if(p.push(l),u)break}for(let l=0;l<r.length-1&&0===r[l];l++)p.push(0);return p.reverse()}const BR=(r,t)=>t?BR(t,r%t):r,$A=(r,t)=>r+(t-BR(r,t));function KA(r,t,n,o){if(!Array.isArray(r))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if($A(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${$A(t,n)}`);let p=0,y=0;const l=2**n-1,u=[];for(const J of r){if(J>=2**t)throw new Error(`convertRadix2: invalid data word=${J} from=${t}`);if(p=p<<t|J,y+t>32)throw new Error(`convertRadix2: carry overflow pos=${y} from=${t}`);for(y+=t;y>=n;y-=n)u.push((p>>y-n&l)>>>0);p&=2**y-1}if(p=p<<n-y&l,!o&&y>=t)throw new Error("Excess padding");if(!o&&p)throw new Error(`Non-zero padding: ${p}`);return o&&y>0&&u.push(p>>>0),u}const VA={alphabet:function Wu(r){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(n<0||n>=r.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${r.length})`);return r[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if("string"!=typeof n)throw new Error(`alphabet.decode: not string element=${n}`);const o=r.indexOf(n);if(-1===o)throw new Error(`Unknown letter: "${n}". Allowed: ${r}`);return o})}}},chain:function ou(...r){const t=y=>y,n=(y,l)=>u=>y(l(u));return{encode:r.map(y=>y.encode).reduceRight(n,t),decode:r.map(y=>y.decode).reduce(n,t)}},checksum:function FR(r,t){if("function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!Qx(n))throw new Error("checksum.encode: input should be Uint8Array");const o=t(n).slice(0,r),p=new Uint8Array(n.length+r);return p.set(n),p.set(o,n.length),p},decode(n){if(!Qx(n))throw new Error("checksum.decode: input should be Uint8Array");const o=n.slice(0,-r),p=t(o).slice(0,r),y=n.slice(-r);for(let l=0;l<r;l++)if(p[l]!==y[l])throw new Error("Invalid checksum");return o}}},convertRadix:e8,convertRadix2:KA,radix:function LR(r){return{encode:t=>{if(!Qx(t))throw new Error("radix.encode input should be Uint8Array");return e8(Array.from(t),256,r)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(e8(t,r,256))}}},radix2:function Gf(r,t=!1){if(r<=0||r>32)throw new Error("radix2: bits should be in (0..32]");if($A(8,r)>32||$A(r,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Qx(n))throw new Error("radix2.encode input should be Uint8Array");return KA(Array.from(n),8,r,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(KA(n,r,8,t))}}},join:function Gu(r=""){if("string"!=typeof r)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let n of t)if("string"!=typeof n)throw new Error(`join.encode: non-string input=${n}`);return t.join(r)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(r)}}},padding:function eM(r,t="="){if("string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let o of n)if("string"!=typeof o)throw new Error(`padding.encode: non-string input=${o}`);for(;n.length*r%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let p of n)if("string"!=typeof p)throw new Error(`padding.decode: non-string input=${p}`);let o=n.length;if(o*r%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;o>0&&n[o-1]===t;o--)if(!((o-1)*r%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,o)}}}};function zR(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function n8(r){const t=zR(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function HR(r){(0,cm.ee)(r,16,20,24,28,32)}const HO=r=>{const t=8-r.length/4;return new Uint8Array([(0,AR.s)(r)[0]>>t<<t])};function WR(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),VA.chain(VA.checksum(1,HO),VA.radix2(11,!0),VA.alphabet(r))}function YO(r,t=""){return function LO(r,t,n,o){return Qk.apply(this,arguments)}(Xk.Zf,n8(r).nfkd,(r=>zR(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var dm=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class XO extends Lh{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/private-jwk"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return dm(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return dm(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return dm(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return dm(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var o;return dm(this,void 0,void 0,function*(){this._index.clear();const{reply:p}=yield t.dwn.processRequest({author:n,target:n,messageType:Is.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let y=[];for(const l of null!==(o=p.entries)&&void 0!==o?o:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const u=Ur.U$.base64Url(l.encodedData).toObject();(0,ir.oz)(u)&&(this._index.set(`${n}${fi}${ir.Xj}${u.kid}`,l.recordId),this._cache.set(l.recordId,u),y.push(u))}return y})}}class JO extends Q_{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return dm(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return dm(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return dm(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return dm(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var Zu=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},ZR=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n};const r8={"AES-GCM":{implementation:ir.GT,names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:TA,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:ir.Dp,names:["Ed25519"]},secp256k1:{implementation:ir.SO,names:["ES256K","secp256k1"]},secp256r1:{implementation:ir.SO,names:["ES256","secp256r1"]},"SHA-256":{implementation:ir.cM,names:["SHA-256"]}};class Av{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new JO}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,o=ZR(t,["keyUri"]);return Zu(this,void 0,void 0,function*(){const p=yield this.getPrivateKey({keyUri:n}),y=this.getAlgorithmName({key:p});return yield this.getAlgorithm({algorithm:y}).decrypt(Object.assign({key:p},o))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,o=ZR(t,["keyUri"]);return Zu(this,void 0,void 0,function*(){const p=yield this.getPrivateKey({keyUri:n}),y=this.getAlgorithmName({key:p});return yield this.getAlgorithm({algorithm:y}).encrypt(Object.assign({key:p},o))})}exportKey({keyUri:t}){return Zu(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return Zu(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:{alg:t}}),y=yield this.getAlgorithm({algorithm:o}).generateKey({algorithm:t});null!==(n=y.kid)&&void 0!==n||(y.kid=yield(0,ir.BA)({jwk:y}));const l=yield this.getKeyUri({key:y});return yield this._keyStore.set({id:l,data:y,agent:this.agent,preventDuplicates:!1,useCache:!0}),l})}getKeyUri({key:t}){return Zu(this,void 0,void 0,function*(){const n=yield(0,ir.BA)({jwk:t});return`${ir.Xj}${n}`})}getPublicKey({keyUri:t}){return Zu(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:o}).getPublicKey({key:n})})}importKey({key:t}){var n;return Zu(this,void 0,void 0,function*(){if(!(0,ir.oz)(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const o=structuredClone(t);null!==(n=o.kid)&&void 0!==n||(o.kid=yield(0,ir.BA)({jwk:o}));const p=yield this.getKeyUri({key:o});return yield this._keyStore.set({id:p,data:o,agent:this.agent,preventDuplicates:!0,useCache:!0}),p})}sign({keyUri:t,data:n}){return Zu(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:t}),p=this.getAlgorithmName({key:o});return this.getAlgorithm({algorithm:p}).sign({data:n,key:o})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:o}){return Zu(this,void 0,void 0,function*(){const p=yield this.getPrivateKey({keyUri:o}),y=this.getAlgorithmName({key:p});return yield this.getAlgorithm({algorithm:y}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:p})})}verify({key:t,signature:n,data:o}){return Zu(this,void 0,void 0,function*(){const p=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:p}).verify({key:t,signature:n,data:o})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return Zu(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:n}),p=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:p}).wrapKey({unwrappedKey:t,encryptionKey:o})})}getAlgorithm({algorithm:t}){var n;const o=null===(n=r8[t])||void 0===n?void 0:n.implementation;if(!o)throw new Di(Ti.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(o)||this._algorithmInstances.set(o,new o),this._algorithmInstances.get(o)}getAlgorithmName({key:t}){const n=t.alg,o=t.crv;for(const p of Object.keys(r8)){const y=r8[p].names;if(n&&y.includes(n))return p;if(o&&y.includes(o))return p}throw new Di(Ti.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${o}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return Zu(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var YR=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function i8(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class XR{static decrypt({key:t,encryptedKey:n,joseHeader:o,crypto:p}){return YR(this,void 0,void 0,function*(){switch(o.alg){case"dir":if(void 0!==n)throw new Di(Ti.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Di(Ti.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof o.p2c)throw new Di(Ti.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof o.p2s)throw new Di(Ti.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Di(Ti.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new Di(Ti.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let y;try{y=new Uint8Array([...Ur.U$.string(o.alg).toUint8Array(),0,...Ur.U$.base64Url(o.p2s).toUint8Array()])}catch{throw new Di(Ti.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const l=yield p.deriveKey({algorithm:o.alg,baseKeyBytes:t,iterations:o.p2c,salt:y});if(!l.alg||!["A128KW","A192KW","A256KW"].includes(l.alg))throw new Di(Ti.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${l.alg}`);return yield p.unwrapKey({decryptionKey:l,wrappedKeyBytes:n,wrappedKeyAlgorithm:o.enc})}default:throw new Di(Ti.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${o.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:o}){return YR(this,void 0,void 0,function*(){let p,y;switch(n.alg){case"dir":if(void 0!==y)throw new Di(Ti.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Di(Ti.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');p=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new Di(Ti.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new Di(Ti.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Di(Ti.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let l;p=yield o.generateKey({algorithm:n.enc});try{l=new Uint8Array([...Ur.U$.string(n.alg).toUint8Array(),0,...Ur.U$.base64Url(n.p2s).toUint8Array()])}catch{throw new Di(Ti.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const u=yield o.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:l});y=yield o.wrapKey({encryptionKey:u,unwrappedKey:p});break}default:throw new Di(Ti.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:p,encryptedKey:y}})}}function WA(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function JR(...r){const t=new Set,n=r.filter(Boolean);for(const o of n)for(const p in o){if(t.has(p))return!0;t.add(p)}return!1}var qR=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function o8(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return Ur.U$.base64Url(t).toUint8Array()}catch{throw new Di(Ti.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class GA{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:o=new ir.eP,crypto:p=new vg,options:y={}}){var l,u;return qR(this,void 0,void 0,function*(){if(!WA(p))throw new Di(Ti.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!WA(o))throw new Di(Ti.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new Di(Ti.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new Di(Ti.InvalidJwe,"JWE Ciphertext is missing or not a string.");let J;if(t.protected)try{J=Ur.U$.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(JR(J,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const X=Object.assign(Object.assign(Object.assign({},J),t.header),t.unprotected);if(!i8(X))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(y.allowedAlgValues)&&!y.allowedAlgValues.includes(X.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${X.alg}`);if(Array.isArray(y.allowedEncValues)&&!y.allowedEncValues.includes(X.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${X.enc}`);let N;try{const mt=t.encrypted_key?Ur.U$.base64Url(t.encrypted_key).toUint8Array():void 0;N=yield XR.decrypt({key:n,encryptedKey:mt,joseHeader:X,keyManager:o,crypto:p})}catch(mt){if(mt instanceof Di&&(mt.code===Ti.InvalidJwe||mt.code===Ti.AlgorithmNotSupported))throw mt;N="string"==typeof n?yield o.generateKey({algorithm:X.enc}):yield p.generateKey({algorithm:X.enc})}const oe=o8("iv",t.iv),Ee=o8("tag",t.tag),Le=void 0!==Ee?new Uint8Array([...Ur.U$.base64Url(t.ciphertext).toUint8Array(),...Ee??[]]):Ur.U$.base64Url(t.ciphertext).toUint8Array(),Pe=void 0!==t.aad?new Uint8Array([...Ur.U$.string(null!==(l=t.protected)&&void 0!==l?l:"").toUint8Array(),...Ur.U$.string(".").toUint8Array(),...Ur.U$.string(t.aad).toUint8Array()]):Ur.U$.string(null!==(u=t.protected)&&void 0!==u?u:"").toUint8Array();return{plaintext:"string"==typeof N?yield o.decrypt({keyUri:N,data:Le,iv:oe,additionalData:Pe}):yield p.decrypt({key:N,data:Le,iv:oe,additionalData:Pe}),protectedHeader:J,additionalAuthenticatedData:o8("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:o,protectedHeader:p,sharedUnprotectedHeader:y,unprotectedHeader:l,keyManager:u=new ir.eP,crypto:J=new vg}){return qR(this,void 0,void 0,function*(){if(!WA(J))throw new Di(Ti.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!WA(u))throw new Di(Ti.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!p&&!y&&!l)throw new Di(Ti.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new Di(Ti.InvalidJwe,"Plaintext is missing or not a byte array.");if(JR(p,y,l))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const X=Object.assign(Object.assign(Object.assign({},p),y),l);if(!i8(X))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:N,encryptedKey:oe}=yield XR.encrypt({key:t,joseHeader:X,keyManager:u,crypto:J});let Ee;switch(X.enc){case"A128GCM":case"A192GCM":case"A256GCM":Ee=ir.Wp.randomBytes(12);break;default:Ee=new Uint8Array(0)}const Le=p?Ur.U$.object(p).toBase64Url():"";let Pe,Ye;o?(Ye=Ur.U$.uint8Array(o).toBase64Url(),Pe=Ur.U$.string(Le+"."+Ye).toUint8Array()):Pe=Ur.U$.string(Le).toUint8Array();const mt="string"==typeof N?yield u.encrypt({keyUri:N,data:n,iv:Ee,additionalData:Pe}):yield J.encrypt({key:N,data:n,iv:Ee,additionalData:Pe}),St=mt.slice(0,-16),gt=mt.slice(-16),yt=new GA({ciphertext:Ur.U$.uint8Array(St).toBase64Url()});return oe&&(yt.encrypted_key=Ur.U$.uint8Array(oe).toBase64Url()),p&&(yt.protected=Le),y&&(yt.unprotected=y),l&&(yt.header=l),Ee&&(yt.iv=Ur.U$.uint8Array(Ee).toBase64Url()),Ye&&(yt.aad=Ye),gt&&(yt.tag=Ur.U$.uint8Array(gt).toBase64Url()),yt})}}var QR=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class t1{static decrypt({jwe:t,key:n,keyManager:o=new ir.eP,crypto:p=new vg,options:y={}}){return QR(this,void 0,void 0,function*(){if("string"!=typeof t)throw new Di(Ti.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:l,1:u,2:J,3:X,4:N,length:oe}=t.split(".");if(5!==oe)throw new Di(Ti.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const Ee=yield GA.decrypt({jwe:{ciphertext:X,encrypted_key:u||void 0,iv:J||void 0,protected:l,tag:N||void 0},key:n,keyManager:o,crypto:p,options:y});if(!i8(Ee.protectedHeader))throw new Di(Ti.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:Ee.plaintext,protectedHeader:Ee.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:o,keyManager:p=new ir.eP,crypto:y=new vg,options:l={}}){return QR(this,void 0,void 0,function*(){const u=yield GA.encrypt({plaintext:t,protectedHeader:n,key:o,keyManager:p,crypto:y,options:l});return[u.protected,u.encrypted_key,u.iv,u.ciphertext,u.tag].join(".")})}}var Yu=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function eO(r){return"string"!=typeof r||0===r.trim().length}class e4{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new vg,this._keyDerivationWorkFactor=t??21e4,this._store=n??new Ur.ny}backup(){return Yu(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=Ur.U$.object(t).toBase64Url(),o={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:o.dateCreated}),o})}changePassword({oldPassword:t,newPassword:n}){return Yu(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const o=yield this.getStoredContentEncryptionKey();let p,y;try{let u;({plaintext:u,protectedHeader:p}=yield t1.decrypt({jwe:o,key:Ur.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Av})),y=Ur.U$.uint8Array(u).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const l=yield t1.encrypt({key:Ur.U$.string(n).toUint8Array(),protectedHeader:p,plaintext:Ur.U$.object(y).toUint8Array(),crypto:this.crypto,keyManager:new Av});yield this._store.set("contentEncryptionKey",l),this._contentEncryptionKey=y})}getDid(){return Yu(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield t1.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new Av}),o=Ur.U$.uint8Array(n).toObject();if(!Ba(o))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield Vf.import({portableDid:o})})}getStatus(){return Yu(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=Ur.U$.string(t).toObject();if(!function QO(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return Yu(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(eO(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&eO(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function zO(r,t=128){if((0,cm.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function GO(r,t){return HR(r),WR(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,Wd.po)(t/8),r)}(PR,128)),!function ZO(r,t){try{!function WO(r,t){const{words:n}=n8(r);HR(WR(t).decode(n))}(r,t)}catch{return!1}return!0}(n,PR))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const o=yield YO(n),p=jA.fromMasterSeed(o),y=p.derive("m/44'/0'/0'/0'/0'"),l=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:y.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),u=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:y.publicKey,salt:"",info:"vault_unlock_salt",length:256}),J={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:Ur.U$.uint8Array(u).toBase64Url()},X=yield t1.encrypt({key:Ur.U$.string(t).toUint8Array(),protectedHeader:J,plaintext:Ur.U$.object(l).toUint8Array(),crypto:this.crypto,keyManager:new Av});yield this._store.set("contentEncryptionKey",X);const N=p.derive("m/44'/0'/1708523827'/0'/0'"),oe=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:N.privateKey});let Ee=p.derive("m/44'/0'/1708523827'/0'/1'");const Le=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:Ee.privateKey}),Pe=new $o;yield Pe.addPredefinedKeys({privateKeys:[oe,Le]});const mt=yield(yield q_.create({keyManager:Pe,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),gt=yield t1.encrypt({key:l,plaintext:Ur.U$.object(mt).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new Av});return yield this._store.set("did",gt),this._contentEncryptionKey=l,yield this.setStatus({initialized:!0}),n})}isInitialized(){return Yu(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return Yu(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return Yu(this,void 0,void 0,function*(){if(!function qO(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let o,p,y;try{y=yield this.getStoredDid(),p=yield this.getStoredContentEncryptionKey(),o=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const l=Ur.U$.base64Url(t.data).toObject();yield this._store.set("did",l.did),yield this._store.set("contentEncryptionKey",l.contentEncryptionKey),yield this.setStatus(l.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(o),yield this._store.set("contentEncryptionKey",p),yield this._store.set("did",y),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return Yu(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:o}=yield t1.decrypt({jwe:n,key:Ur.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Av}),p=Ur.U$.uint8Array(o).toObject();this._contentEncryptionKey=p}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return Yu(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return Yu(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:o}){return Yu(this,void 0,void 0,function*(){let p=yield this.getStatus();return p.initialized=t??p.initialized,p.lastBackup=n??p.lastBackup,p.lastRestore=o??p.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(p)),!0})}}var lm=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class n4 extends Lh{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/identity-metadata"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return lm(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return lm(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return lm(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return lm(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var o;return lm(this,void 0,void 0,function*(){this._index.clear();const{reply:p}=yield t.dwn.processRequest({author:n,target:n,messageType:Is.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let y=[];for(const l of null!==(o=p.entries)&&void 0!==o?o:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const u=Ur.U$.base64Url(l.encodedData).toObject();(r=u)&&"object"==typeof r&&null!==r&&"name"in r&&(this._index.set(`${n}${fi}${u.uri}`,l.recordId),this._cache.set(l.recordId,u),y.push(u))}var r;return y})}}class r4 extends Q_{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return lm(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return lm(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return lm(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return lm(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var n1=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class i4{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new r4}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:o,store:p,tenant:y}){return n1(this,void 0,void 0,function*(){const l=yield this.agent.did.create({method:n,options:o,store:p,tenant:y}),u=new Sv({did:l,metadata:Object.assign(Object.assign({},t),{uri:l.uri,tenant:y??l.uri})});return(p??!0)&&(yield this._store.set({id:u.did.uri,data:u.metadata,agent:this.agent,tenant:u.metadata.tenant,preventDuplicates:!1,useCache:!0})),u})}export({didUri:t,tenant:n}){return n1(this,void 0,void 0,function*(){const o=yield this.get({didUri:t,tenant:n});if(!o)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield o.export()})}get({didUri:t,tenant:n}){return n1(this,void 0,void 0,function*(){const o=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!o)return;const p=yield this.agent.did.get({didUri:t,tenant:o.tenant});if(!p)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new Sv({did:p,metadata:o})})}import({portableIdentity:t}){return n1(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const o=new Sv({did:n,metadata:t.metadata});return yield this._store.set({id:o.did.uri,data:o.metadata,agent:this.agent,tenant:o.metadata.tenant,preventDuplicates:!0,useCache:!0}),o})}list({tenant:t}={}){return n1(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),o=[];for(const p of n){const y=yield this.get({didUri:p.uri,tenant:p.tenant});o.push(y)}return o})}manage({portableIdentity:t}){return n1(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const o=new Sv({did:n,metadata:t.metadata});return yield this._store.set({id:o.did.uri,data:o.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),o})}}const s8=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),tO=(r,t,n,o)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:o,subscription:{id:n}});function ZA(r){try{return JSON.parse(r)}catch{return null}}var nM=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class s4{constructor({ttl:t="15m"}={}){this.cache=new Ur.LC({ttl:Rt(t)})}get(t){return nM(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return nM(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return nM(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return nM(this,void 0,void 0,function*(){this.cache.clear()})}close(){return nM(this,void 0,void 0,function*(){})}}var nO=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class a4{constructor(t){this.serverInfoCache=t??new s4}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return nO(this,void 0,void 0,function*(){const n=ir.Wp.randomUuid(),o=s8(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),p={method:"POST",headers:{"dwn-request":JSON.stringify(o)}};t.data&&(p.headers["content-type"]="application/octet-stream",p.body=t.data);const y=yield fetch(t.dwnUrl,p);let l,u;const{headers:J}=y;if(J.has("dwn-response")){const N=ZA(J.get("dwn-response"));if(null==N)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);u=y.body,l=N}else{const N=yield y.text();l=JSON.parse(N)}if(l.error){const{code:N,message:oe}=l.error;throw new Error(`(${N}) - ${oe}`)}const{reply:X}=l.result;return u&&(X.record.data=u),X})}getServerInfo(t){return nO(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const o=new URL(t);o.pathname.endsWith("/")?o.pathname+="info":o.pathname+="/info";try{const p=yield fetch(o.toString());if(p.ok){const y=yield p.json(),l={registrationRequirements:y.registrationRequirements,maxFileSize:y.maxFileSize,webSocketSupport:y.webSocketSupport};return this.serverInfoCache.set(t,l),l}throw new Error(`HTTP (${p.status}) - ${p.statusText}`)}catch(p){throw new Error(`Error encountered while processing response from ${o.toString()}: ${p.message}`)}})}}var r1=null;typeof WebSocket<"u"?r1=WebSocket:typeof MozWebSocket<"u"?r1=MozWebSocket:typeof globalThis<"u"?r1=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?r1=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(r1=self.WebSocket||self.MozWebSocket);const c4=r1;var YA=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};const d4=3e3,l4=3e4;class a8{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return YA(this,void 0,void 0,function*(){const{connectTimeout:o=d4,responseTimeout:p=l4,onclose:y,onerror:l}=n,u=new c4(t);return u.onclose=y||(()=>{console.info(`JSON RPC Socket close ${t}`)}),u.onerror=l||(J=>{console.error(`JSON RPC Socket error ${t}`,J)}),new Promise((J,X)=>{u.addEventListener("open",()=>{const N=new a8(u,p);u.addEventListener("message",oe=>{const Ee=ZA(oe.data),Le=N.messageHandlers.get(Ee.id);Le&&Le(oe)}),J(N)}),u.addEventListener("error",N=>{X(N)}),setTimeout(()=>X,o)})})}close(){this.socket.close()}request(t){return YA(this,void 0,void 0,function*(){return new Promise((n,o)=>{var p;null!==(p=t.id)&&void 0!==p||(t.id=ir.Wp.randomUuid()),this.messageHandlers.set(t.id,l=>{const u=ZA(l.data);if(u.id===t.id)return this.messageHandlers.delete(t.id),n(u)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),o(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return YA(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const o=t.subscription.id;this.messageHandlers.set(o,u=>{const J=ZA(u.data.toString());J.id===o&&(void 0!==J.error&&(this.messageHandlers.delete(o),this.closeSubscription(o)),n(J))});const y=yield this.request(t);return y.error?(this.messageHandlers.delete(o),{response:y}):{response:y,close:()=>YA(this,void 0,void 0,function*(){this.messageHandlers.delete(o),yield this.closeSubscription(o)})}})}closeSubscription(t){const n=ir.Wp.randomUuid(),o=tO(n,"close",t,{});return this.request(o)}send(t){this.socket.send(JSON.stringify(t))}}var c8=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class wg{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return c8(this,void 0,void 0,function*(){const o=new URL(t.dwnUrl);if("ws:"!==o.protocol&&"wss:"!==o.protocol)throw new Error(`Invalid websocket protocol ${o.protocol}`);if(!wg.connections.has(o.host))try{const X=yield a8.connect(o.toString(),n);wg.connections.set(o.host,{socket:X,subscriptions:new Map})}catch(X){throw new Error(`Error connecting to ${o.host}: ${X.message}`)}const y=wg.connections.get(o.host),{targetDid:l,message:u,subscriptionHandler:J}=t;return J?wg.subscriptionRequest(y,l,u,J):wg.processMessage(y,l,u)})}static processMessage(t,n,o){return c8(this,void 0,void 0,function*(){const p=ir.Wp.randomUuid(),y=s8(p,"dwn.processMessage",{target:n,message:o}),{socket:l}=t,u=yield l.request(y),{error:J,result:X}=u;if(void 0!==J)throw new Error(`error sending DWN request: ${J.message}`);return X.reply})}static subscriptionRequest(t,n,o,p){return c8(this,void 0,void 0,function*(){const y=ir.Wp.randomUuid(),l=ir.Wp.randomUuid(),u=tO(y,"dwn.processMessage",l,{target:n,message:o}),{socket:J,subscriptions:X}=t,{response:N,close:oe}=yield J.subscribe(u,Ye=>{const{result:mt,error:St}=Ye;if(St){const yt=X.get(l);return yt&&yt.close(),void X.delete(l)}const{event:gt}=mt;p(gt)}),{error:Ee,result:Le}=N;if(Ee)throw new Error(`could not subscribe via jsonrpc socket: ${Ee.message}`);const{reply:Pe}=Le;return Pe.subscription&&oe&&(X.set(l,Object.assign(Object.assign({},Pe.subscription),{close:oe})),Pe.subscription.close=oe),Pe})}}wg.connections=new Map;var rM=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class f4{constructor(t=[]){this.transportClients=new Map,t=[new h4,new p4,...t];for(let n of t)for(let o of n.transportProtocols)this.transportClients.set(o,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return rM(this,void 0,void 0,function*(){const n=new URL(t.url),o=this.transportClients.get(n.protocol);if(!o){const p=new Error(`no ${n.protocol} transport client available`);throw p.name="NO_TRANSPORT_CLIENT",p}return o.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),o=this.transportClients.get(n.protocol);if(!o){const p=new Error(`no ${n.protocol} transport client available`);throw p.name="NO_TRANSPORT_CLIENT",p}return o.sendDwnRequest(t)}getServerInfo(t){return rM(this,void 0,void 0,function*(){const n=new URL(t),o=this.transportClients.get(n.protocol);if(!o){const p=new Error(`no ${n.protocol} transport client available`);throw p.name="NO_TRANSPORT_CLIENT",p}return o.getServerInfo(t)})}}class h4 extends a4{sendDidRequest(t){return rM(this,void 0,void 0,function*(){const n=ir.Wp.randomUuid(),o=s8(n,t.method,{data:t.data}),p=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});let y;try{const l=yield fetch(p);if(!l.ok)throw new Error(`HTTP (${l.status}) - ${l.statusText}`);if(y=yield l.json(),y.error){const{code:u,message:J}=y.error;throw new Error(`JSON RPC (${u}) - ${J}`)}}catch(l){throw new Error(`Error encountered while processing response from ${t.url}: ${l.message}`)}return y.result})}}class p4 extends wg{sendDidRequest(t){return rM(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return rM(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class g4{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var yl=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};const rO=r=>r>=200&&r<=299;class v4{constructor({agent:t,dataPath:n,db:o}){this._agent=t,this._db=o||new vx.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=hA()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return yl(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return yl(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return yl(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const o=this.getPullQueue(),p=yield o.iterator().all(),y=[],l=new Set;for(let u of p){const[J]=u,[X,N,oe,Ee]=J.split("~");if(l.has(N))continue;if(yield this.messageExists(X,Ee)){y.push({type:"del",key:J});continue}const Pe=yield this.agent.dwn.createMessage({author:X,messageType:Is.MessagesGet,messageParams:{messageCids:[Ee]}});let Ye;try{Ye=yield this.agent.rpc.sendDwnRequest({dwnUrl:N,targetDid:X,message:Pe})}catch{l.add(N);continue}for(let mt of null!==(t=Ye.entries)&&void 0!==t?t:[]){if(mt.error||!mt.message){yield this.addMessage(X,Ee),y.push({type:"del",key:J});continue}let St;if(LA(mt)){const{encodedData:yt}=mt,Tt=mt.message;if(yt){const zt=Ur.U$.base64Url(yt).toUint8Array();St=Nf.fromBytes(zt)}else{const zt=yield this.agent.dwn.createMessage({author:X,messageType:Is.RecordsRead,messageParams:{filter:{recordId:Tt.recordId}}}),Zt=yield this.agent.rpc.sendDwnRequest({dwnUrl:N,targetDid:X,message:zt.message}),{record:cn,status:$t}=Zt;if(rO($t.code)&&cn)St=Ur.VS.fromWebReadable({readableStream:cn.data});else if($t.code>=400){const kn=yield this.agent.dwn.processMessage({targetDid:X,message:Tt});if(202===kn.status.code||409===kn.status.code){yield this.addMessage(X,Ee),y.push({type:"del",key:J});continue}throw new Error(`SyncManager: Failed to sync tombstone for message '${Ee}'`)}}}const gt=yield this.agent.dwn.processMessage({targetDid:X,message:mt.message,dataStream:St});(202===gt.status.code||409===gt.status.code)&&(yield this.addMessage(X,Ee),y.push({type:"del",key:J}))}}yield o.batch(y)})}push(){return yl(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),o=yield n.iterator().all(),p=[],y=new Set;for(let l of o){const[u]=l,[J,X,N,oe]=u.split("~");if(y.has(X))continue;const Ee=yield this.getDwnMessage({author:J,messageCid:oe});if(Ee)try{const Le=yield this.agent.rpc.sendDwnRequest({dwnUrl:X,targetDid:J,data:Ee.data,message:Ee.message});(202===Le.status.code||409===Le.status.code)&&(yield this.addMessage(J,oe),p.push({type:"del",key:u}))}catch{y.add(X)}else p.push({type:"del",key:u}),yield this.addMessage(J,oe)}yield n.batch(p)})}registerIdentity({did:t}){return yl(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=Rt(t);return new Promise((o,p)=>{const y=()=>yl(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(l){this.stopSync(),p(l)}this._syncIntervalId=setInterval(y,n)});this._syncIntervalId=setInterval(y,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}enqueueOperations({syncDirection:t,syncPeerState:n}){return yl(this,void 0,void 0,function*(){for(let o of n){const p=yield this.getDwnEventLog({did:o.did,dwnUrl:o.dwnUrl,cursor:o.cursor,syncDirection:t}),y=[];for(let l of p){const u=this._ulidFactory(),J=[o.did,o.dwnUrl,u,l].join("~");y.push({type:"put",key:J,value:""})}y.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(y))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:o,cursor:p}){var y;return yl(this,void 0,void 0,function*(){let l={};if("pull"===o){const J=yield this.agent.dwn.createMessage({author:t,messageType:Is.EventsGet,messageParams:{cursor:p}});try{l=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:J})}catch{}}else"push"===o&&(l=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:Is.EventsGet,messageParams:{cursor:p}})).reply);const u=null!==(y=l.entries)&&void 0!==y?y:[];return l.cursor&&this.setCursor(t,n,o,l.cursor),u})}getDwnMessage({author:t,messageCid:n}){return yl(this,void 0,void 0,function*(){let{reply:o}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:Is.MessagesGet,messageParams:{messageCids:[n]}});if(!o.entries||1!==o.entries.length)return;const[p]=o.entries,y=p.message;if(!y)return;let l={message:y};if(LA(p))if(p.encodedData){const u=Ur.U$.base64Url(p.encodedData).toUint8Array();l.data=new Blob([u])}else{const J=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:Is.RecordsRead,messageParams:{filter:{recordId:p.message.recordId}}})).reply;if(rO(J.status.code)&&J.record)l.data=yield Ur.VS.consumeToBlob({readable:J.record.data});else if(!((r=J.status.code)>=400&&r<=499)){const{status:{code:X,detail:N}}=J;throw new Error(`SyncEngineLevel: (${X}) Failed to read data associated with record ${p.message.recordId}. ${N}}`)}}var r;return l})}getSyncPeerState({syncDirection:t}){return yl(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),o=[];for(let p of n){const y=yield SR(p,this.agent.did);if(0!==y.length)for(let l of y){const u=yield this.getCursor(p,l,t);o.push({did:p,dwnUrl:l,cursor:u})}}return o})}getCursor(t,n,o){return yl(this,void 0,void 0,function*(){const p=`${t}~${n}~${o}`,y=this.getCursorStore();try{const l=yield y.get(p);if(l)return JSON.parse(l)}catch(l){if(l.notFound)return}})}setCursor(t,n,o,p){return yl(this,void 0,void 0,function*(){const y=`${t}~${n}~${o}`;yield this.getCursorStore().put(y,JSON.stringify(p))})}messageExists(t,n){return yl(this,void 0,void 0,function*(){const o=this.getMessageStore(t);try{return yield o.get(n),!0}catch(p){if(p.notFound)return!1;throw p}})}addMessage(t,n){return yl(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}},30569:($e,j,E)=>{"use strict";E.d(j,{uW:()=>kt});var g=E(34604),_=function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})};class H{constructor(et){this.agent=et.agent,this.connectedDid=et.connectedDid}create(et){return _(this,void 0,void 0,function*(){const Be=yield this.agent.processDidRequest({messageType:g.B2.Create,messageParams:Object.assign({},et)}),{result:Fe}=Be,_t=function(Qe,et){var Be={};for(var Fe in Qe)Object.prototype.hasOwnProperty.call(Qe,Fe)&&et.indexOf(Fe)<0&&(Be[Fe]=Qe[Fe]);if(null!=Qe&&"function"==typeof Object.getOwnPropertySymbols){var _t=0;for(Fe=Object.getOwnPropertySymbols(Qe);_t<Fe.length;_t++)et.indexOf(Fe[_t])<0&&Object.prototype.propertyIsEnumerable.call(Qe,Fe[_t])&&(Be[Fe[_t]]=Qe[Fe[_t]])}return Be}(Be,["result"]);return Object.assign({did:Fe},_t)})}resolve(et,Be){return _(this,void 0,void 0,function*(){const{result:Fe}=yield this.agent.processDidRequest({messageParams:{didUri:et,options:Be},messageType:g.B2.Resolve});return Fe})}}var b=E(37475);function k(Qe,et){let Be;const Fe=(0,b.fc)(Qe);if("text/plain"===et||"String"===Fe)Be=new Blob([Qe],{type:"text/plain"});else if("application/json"===et||"Object"===Fe){const _t=b.U$.object(Qe).toUint8Array();Be=new Blob([_t],{type:"application/json"})}else if("Uint8Array"===Fe||"ArrayBuffer"===Fe)Be=new Blob([Qe],{type:"application/octet-stream"});else{if("Blob"!==Fe)throw new Error("data type not supported.");Be=Qe}return{dataBlob:Be,dataFormat:et=et||Be.type||"application/octet-stream"}}class S{static check(et,Be){let Fe=S.cache.get(et);return!!Fe&&Fe.has(Be)}static set(et,Be){let Fe=S.cache.get(et)||new Set;if(S.cache.delete(et),S.cache.set(et,Fe),this.cache.size>S.sendCacheLimit){const _t=S.cache.keys().next().value;S.cache.delete(_t)}if(Fe.delete(Be),Fe.add(Be),Fe.size>S.sendCacheLimit){const _t=Fe.keys().next().value;Fe.delete(_t)}}}S.cache=new Map,S.sendCacheLimit=100;var P=function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})},R=function(Qe,et){var Be={};for(var Fe in Qe)Object.prototype.hasOwnProperty.call(Qe,Fe)&&et.indexOf(Fe)<0&&(Be[Fe]=Qe[Fe]);if(null!=Qe&&"function"==typeof Object.getOwnPropertySymbols){var _t=0;for(Fe=Object.getOwnPropertySymbols(Qe);_t<Fe.length;_t++)et.indexOf(Fe[_t])<0&&Object.prototype.propertyIsEnumerable.call(Qe,Fe[_t])&&(Be[Fe[_t]]=Qe[Fe[_t]])}return Be};let O=(()=>{class Qe{get attestation(){return this._attestation}get authorization(){return this._authorization}get author(){return this._author}get contextId(){return this._contextId}get dataFormat(){return this._descriptor.dataFormat}get dateCreated(){return this._descriptor.dateCreated}get encryption(){return this._encryption}get initialWrite(){return this._initialWrite}get id(){return this._recordId}get interface(){return this._descriptor.interface}get method(){return this._descriptor.method}get parentId(){return this._descriptor.parentId}get protocol(){return this._descriptor.protocol}get protocolPath(){return this._descriptor.protocolPath}get protocolRole(){return this._protocolRole}get recipient(){return this._descriptor.recipient}get schema(){return this._descriptor.schema}get dataCid(){return this._descriptor.dataCid}get dataSize(){return this._descriptor.dataSize}get dateModified(){return this._descriptor.messageTimestamp}get datePublished(){return this._descriptor.datePublished}get messageTimestamp(){return this._descriptor.messageTimestamp}get published(){return this._descriptor.published}get tags(){return this._descriptor.tags}get rawMessage(){const Be=JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption}));return(0,b.E8)(Be),Be}constructor(Be,Fe){this._agent=Be,this._author=Fe.author,this._connectedDid=Fe.connectedDid,this._remoteOrigin=Fe.remoteOrigin,this._attestation=Fe.attestation,this._authorization=Fe.authorization,this._contextId=Fe.contextId,this._descriptor=Fe.descriptor,this._encryption=Fe.encryption,this._initialWrite=Fe.initialWrite,this._recordId=Fe.recordId,this._protocolRole=Fe.protocolRole,Fe.encodedData&&(this._encodedData="string"==typeof Fe.encodedData?new Blob([b.U$.base64Url(Fe.encodedData).toUint8Array()],{type:this.dataFormat}):Fe.encodedData),Fe.data&&(this._readableStream=b.Z6.isReadableStream(Fe.data)?b.VS.fromWebReadable({readableStream:Fe.data}):Fe.data)}get data(){const Be=this;return{blob(){return P(this,void 0,void 0,function*(){return new Blob([yield b.VS.consumeToBytes({readable:yield this.stream()})],{type:Be.dataFormat})})},bytes(){return P(this,void 0,void 0,function*(){return yield b.VS.consumeToBytes({readable:yield this.stream()})})},json(){return P(this,void 0,void 0,function*(){return yield b.VS.consumeToJson({readable:yield this.stream()})})},text(){return P(this,void 0,void 0,function*(){return yield b.VS.consumeToText({readable:yield this.stream()})})},stream(){return P(this,void 0,void 0,function*(){if(Be._encodedData?Be._readableStream=b.VS.fromWebReadable({readableStream:Be._encodedData.stream()}):b.VS.isReadable({readable:Be._readableStream})||(Be._readableStream=Be._remoteOrigin?yield Be.readRecordData({target:Be._remoteOrigin,isRemote:!0}):yield Be.readRecordData({target:Be._connectedDid,isRemote:!1})),!Be._readableStream)throw new Error("Record data is not available.");return Be._readableStream})},then(_t,lt){return this.stream().then(_t,lt)},catch(_t){return this.stream().catch(_t)}}}store(Be=!1){return P(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:Be,store:!0})})}import(Be=!0){return P(this,void 0,void 0,function*(){return this.processRecord({store:Be,signAsOwner:!0})})}send(Be){return P(this,void 0,void 0,function*(){const Fe=this._initialWrite;if(Be??(Be=this._connectedDid),Fe&&!Qe._sendCache.check(this._recordId,Be)){const lt=Object.assign({},Fe);(0,b.E8)(lt),yield this._agent.sendDwnRequest({messageType:g.nx.RecordsWrite,author:this._connectedDid,target:Be,rawMessage:lt}),Qe._sendCache.set(this._recordId,Be)}const{reply:_t}=yield this._agent.sendDwnRequest({messageType:g.nx.RecordsWrite,author:this._connectedDid,dataStream:yield this.data.blob(),target:Be,rawMessage:Object.assign({},this.rawMessage)});return _t})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,interface:this.interface,method:this.method,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let Be="Record: {\n";return Be+=`  ID: ${this.id}\n`,Be+=this.contextId?`  Context ID: ${this.contextId}\n`:"",Be+=this.protocol?`  Protocol: ${this.protocol}\n`:"",Be+=this.schema?`  Schema: ${this.schema}\n`:"",Be+=`  Data CID: ${this.dataCid}\n`,Be+=`  Data Format: ${this.dataFormat}\n`,Be+=`  Data Size: ${this.dataSize}\n`,Be+=`  Created: ${this.dateCreated}\n`,Be+=`  Modified: ${this.dateModified}\n`,Be+="}",Be}paginationCursor(Be){return P(this,void 0,void 0,function*(){return(0,g.X7)(this.rawMessage,Be)})}update(Be){var{dateModified:Fe,data:_t}=Be,lt=R(Be,["dateModified","data"]);return P(this,void 0,void 0,function*(){const nt=this._descriptor,{parentId:jt}=nt,In=R(nt,["parentId"]),hn=jt?this._contextId.split("/").slice(0,-1).join("/"):void 0;let Dn,Vt=Object.assign(Object.assign(Object.assign({},In),lt),{parentContextId:hn,messageTimestamp:Fe,recordId:this._recordId});((0,b.RI)(Vt.tags)||null===Vt.tags)&&delete Vt.tags,void 0!==_t&&(delete Vt.dataCid,delete Vt.dataSize,({dataBlob:Dn}=k(_t,Vt.dataFormat)));const sr=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);Qe.verifyPermittedMutation(Object.keys(lt),sr),!1===lt.published&&void 0!==Vt.datePublished&&delete Vt.datePublished;const _r=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:Dn,messageParams:Object.assign({},Vt),messageType:g.nx.RecordsWrite,target:this._connectedDid}),{message:jr,reply:{status:Br}}=_r,Vr=jr;return 200<=Br.code&&Br.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=Vr.authorization,this._protocolRole=lt.protocolRole,sr.forEach(so=>{this._descriptor[so]=Vr.descriptor[so]}),void 0!==_t&&(this._encodedData=Dn)),{status:Br}})}processRecord({store:Be,signAsOwner:Fe}){return P(this,void 0,void 0,function*(){if(this._initialWrite&&(Fe&&!this._initialWriteSigned||Be&&!this._initialWriteStored)){const hn={messageType:g.nx.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:Fe,store:Be},Vt=yield this._agent.processDwnRequest(hn),{message:Dn,reply:{status:sr}}=Vt,_r=Dn;200<=sr.code&&sr.code<=299&&(Be&&(this._initialWriteStored=!0),Fe&&(this._initialWriteSigned=!0,this.initialWrite.authorization=_r.authorization))}const _t={messageType:g.nx.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:Fe,store:Be},lt=yield this._agent.processDwnRequest(_t),{message:nt,reply:{status:jt}}=lt;return 200<=jt.code&&jt.code<=299&&Fe&&(this._authorization=nt.authorization),{status:jt}})}readRecordData({target:Be,isRemote:Fe}){return P(this,void 0,void 0,function*(){const _t={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:g.nx.RecordsRead,target:Be},lt=Fe?this._agent.sendDwnRequest(_t):this._agent.processDwnRequest(_t);try{const{reply:{record:nt}}=yield lt,jt=nt.data;return b.Z6.isReadableStream(jt)?b.VS.fromWebReadable({readableStream:jt}):jt}catch(nt){throw new Error(`Error encountered while attempting to read data: ${nt.message}`)}})}static verifyPermittedMutation(Be,Fe){for(const _t of Be)if(!Fe.has(_t))throw new Error(`${_t} is an immutable property. Its value cannot be changed.`)}}return Qe._sendCache=S,Qe})();class V{constructor(et,Be,Fe){this._agent=et,this._metadata=Fe,this._protocolsConfigureMessage=Be}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(et){return function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})}(this,void 0,void 0,function*(){const{reply:Be}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:g.nx.ProtocolsConfigure,target:et});return{status:Be.status}})}}var U=function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})};class Q{constructor(et){this.agent=et.agent,this.connectedDid=et.connectedDid}get protocols(){return{configure:et=>U(this,void 0,void 0,function*(){const Be=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:et.message,messageType:g.nx.ProtocolsConfigure,target:this.connectedDid}),{message:Fe,messageCid:_t,reply:{status:lt}}=Be,nt={status:lt};return lt.code<300&&(nt.protocol=new V(this.agent,Fe,{author:this.connectedDid,messageCid:_t})),nt}),query:et=>U(this,void 0,void 0,function*(){const Be={author:this.connectedDid,messageParams:et.message,messageType:g.nx.ProtocolsQuery,target:et.from||this.connectedDid};let Fe;Fe=et.from?yield this.agent.sendDwnRequest(Be):yield this.agent.processDwnRequest(Be);const _t=Fe.reply,{entries:lt=[],status:nt}=_t;return{protocols:lt.map(In=>new V(this.agent,In,{author:this.connectedDid})),status:nt}})}}get records(){return{create:et=>U(this,void 0,void 0,function*(){return this.records.write(et)}),createFrom:et=>U(this,void 0,void 0,function*(){var Be;const Fe=et.record.toJSON(),{author:_t}=Fe,lt=function(Qe,et){var Be={};for(var Fe in Qe)Object.prototype.hasOwnProperty.call(Qe,Fe)&&et.indexOf(Fe)<0&&(Be[Fe]=Qe[Fe]);if(null!=Qe&&"function"==typeof Object.getOwnPropertySymbols){var _t=0;for(Fe=Object.getOwnPropertySymbols(Qe);_t<Fe.length;_t++)et.indexOf(Fe[_t])<0&&Object.prototype.propertyIsEnumerable.call(Qe,Fe[_t])&&(Be[Fe[_t]]=Qe[Fe[_t]])}return Be}(Fe,["author"]);return void 0!==et.data&&(delete lt.dataCid,delete lt.dataSize),!1===(null===(Be=et.message)||void 0===Be?void 0:Be.published)&&void 0!==lt.datePublished&&(delete lt.datePublished,delete lt.published),(!(0,b.RI)(et.message)||et.author&&et.author!==_t)&&delete lt.recordId,this.records.write({data:et.data,message:Object.assign(Object.assign({},lt),et.message)})}),delete:et=>U(this,void 0,void 0,function*(){const Be={author:this.connectedDid,messageParams:et.message,messageType:g.nx.RecordsDelete,target:et.from||this.connectedDid};let Fe;Fe=et.from?yield this.agent.sendDwnRequest(Be):yield this.agent.processDwnRequest(Be);const{reply:{status:_t}}=Fe;return{status:_t}}),query:et=>U(this,void 0,void 0,function*(){const Be={author:this.connectedDid,messageParams:et.message,messageType:g.nx.RecordsQuery,target:et.from||this.connectedDid};let Fe;Fe=et.from?yield this.agent.sendDwnRequest(Be):yield this.agent.processDwnRequest(Be);const _t=Fe.reply,{entries:lt,status:nt,cursor:jt}=_t;return{records:lt.map(hn=>{const Vt=Object.assign({author:(0,g.dK)(hn),connectedDid:this.connectedDid,remoteOrigin:et.from},hn);return new O(this.agent,Vt)}),status:nt,cursor:jt}}),read:et=>U(this,void 0,void 0,function*(){const Be={author:this.connectedDid,messageParams:et.message,messageType:g.nx.RecordsRead,target:et.from||this.connectedDid};let Fe;Fe=et.from?yield this.agent.sendDwnRequest(Be):yield this.agent.processDwnRequest(Be);const{reply:{record:_t,status:lt}}=Fe;let nt;if(200<=lt.code&&lt.code<=299){const jt=Object.assign({author:(0,g.dK)(_t),connectedDid:this.connectedDid,remoteOrigin:et.from},_t);nt=new O(this.agent,jt)}return{record:nt,status:lt}}),write:et=>U(this,void 0,void 0,function*(){var Be;const{dataBlob:Fe,dataFormat:_t}=k(et.data,null===(Be=et.message)||void 0===Be?void 0:Be.dataFormat),lt=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:Fe,messageParams:Object.assign(Object.assign({},et.message),{dataFormat:_t}),messageType:g.nx.RecordsWrite,store:et.store,target:this.connectedDid}),{message:nt,reply:{status:jt}}=lt;let In;if(200<=jt.code&&jt.code<=299){const hn=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:Fe},nt);In=new O(this.agent,hn)}return{record:In,status:jt}})}}}class Y{constructor(et){this.agent=et.agent,this.connectedDid=et.connectedDid}create(){return Qe=this,et=void 0,Fe=function*(){throw new Error("Not implemented.")},new((Be=void 0)||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())});var Qe,et,Be,Fe}}var W=function(Qe){return Qe.authentication="authentication",Qe.assertionMethod="assertionMethod",Qe.keyAgreement="keyAgreement",Qe.capabilityInvocation="capabilityInvocation",Qe.capabilityDelegation="capabilityDelegation",Qe}(W||{});const re={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ie{constructor({method:et,id:Be,path:Fe,query:_t,fragment:lt,params:nt}){this.uri=`did:${et}:${Be}`,this.method=et,this.id=Be,this.path=Fe,this.query=_t,this.fragment=lt,this.params=nt}static parse(et){if(!et)return null;const Be=ie.DID_URI_PATTERN.exec(et);if(!Be||!Be.groups)return null;const{method:Fe,id:_t,path:lt,query:nt,fragment:jt}=Be.groups,In={uri:`did:${Fe}:${_t}`,method:Fe,id:_t};if(lt&&(In.path=lt),nt&&(In.query=nt.slice(1)),jt&&(In.fragment=jt.slice(1)),nt){const hn={},Vt=nt.slice(1).split("&");for(const Dn of Vt){const[sr,_r]=Dn.split("=");hn[sr]=_r}In.params=hn}return In}}ie.METHOD_PATTERN="([a-z0-9]+)",ie.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ie.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ie.PCT_ENCODED_PATTERN})`,ie.METHOD_ID_PATTERN=`((?:${ie.ID_CHAR_PATTERN}*:)*(${ie.ID_CHAR_PATTERN}+))`,ie.PATH_PATTERN="(/[^#?]*)?",ie.QUERY_PATTERN="([?][^#]*)?",ie.FRAGMENT_PATTERN="(#.*)?",ie.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ie.METHOD_PATTERN}):(?<id>${ie.METHOD_ID_PATTERN})(?<path>${ie.PATH_PATTERN})(?<query>${ie.QUERY_PATTERN})(?<fragment>${ie.FRAGMENT_PATTERN})$`);class ae extends Error{constructor(et,Be){super(`${et}: ${Be}`),this.code=et,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ae)}}var ue=function(Qe){return Qe.InvalidDid="invalidDid",Qe.MethodNotSupported="methodNotSupported",Qe.InternalError="internalError",Qe.InvalidDidDocument="invalidDidDocument",Qe.InvalidDidDocumentLength="invalidDidDocumentLength",Qe.InvalidDidUrl="invalidDidUrl",Qe.InvalidPreviousDidProof="invalidPreviousDidProof",Qe.InvalidPublicKey="invalidPublicKey",Qe.InvalidPublicKeyLength="invalidPublicKeyLength",Qe.InvalidPublicKeyType="invalidPublicKeyType",Qe.InvalidSignature="invalidSignature",Qe.NotFound="notFound",Qe.RepresentationNotSupported="representationNotSupported",Qe.UnsupportedPublicKeyType="unsupportedPublicKeyType",Qe}(ue||{}),ce=E(86136);function ve(Qe){if("string"==typeof Qe&&0!==Qe.length)return Qe.split("#").pop()}function I(Qe){return!(!Qe||"object"!=typeof Qe||null===Qe||!("id"in Qe&&"type"in Qe&&"controller"in Qe)||"string"!=typeof Qe.id||"string"!=typeof Qe.type||"string"!=typeof Qe.controller)}var a=function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})};class v{constructor({uri:et,document:Be,metadata:Fe,keyManager:_t}){this.uri=et,this.document=Be,this.metadata=Fe,this.keyManager=_t}export(){return a(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let et={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const Be=[];for(let Fe of this.document.verificationMethod){if(!Fe.publicKeyJwk)throw new Error(`Verification method '${Fe.id}' does not contain a public key in JWK format`);const _t=yield this.keyManager.getKeyUri({key:Fe.publicKeyJwk}),lt=yield this.keyManager.exportKey({keyUri:_t});Be.push(Object.assign({},lt))}et.privateKeys=Be}return et})}getSigner(et){return a(this,void 0,void 0,function*(){var Be;const Fe=null===(Be=this.document.verificationMethod)||void 0===Be?void 0:Be.find(In=>{var hn,Vt;return ve(In.id)===(null!==(hn=ve(et?.methodId))&&void 0!==hn?hn:ve(null===(Vt=this.document.assertionMethod)||void 0===Vt?void 0:Vt[0]))});if(!Fe||!Fe.publicKeyJwk)throw new ae(ue.InternalError,"A verification method intended for signing could not be determined from the DID Document");const _t=yield this.keyManager.getKeyUri({key:Fe.publicKeyJwk}),lt=yield this.keyManager.getPublicKey({keyUri:_t}),nt=this.keyManager;return{algorithm:ce.Wp.getJoseSignatureAlgorithmFromPublicKey(lt),keyId:Fe.id,sign(In){return a(this,arguments,void 0,function*({data:hn}){return yield nt.sign({data:hn,keyUri:_t})})},verify(In){return a(this,arguments,void 0,function*({data:hn,signature:Vt}){return yield nt.verify({data:hn,key:lt,signature:Vt})})}}})}static import(et){return a(this,arguments,void 0,function*({portableDid:Be,keyManager:Fe=new ce.eP}){var _t;const lt=function s({didDocument:Qe}){var et,Be;if(!Qe)throw new TypeError("Required parameter missing: 'didDocument'");const Fe=[];return Fe.push(...null!==(Be=null===(et=Qe.verificationMethod)||void 0===et?void 0:et.filter(I))&&void 0!==Be?Be:[]),Object.keys(W).forEach(_t=>{var lt,nt;Fe.push(...null!==(nt=null===(lt=Qe[_t])||void 0===lt?void 0:lt.filter(I))&&void 0!==nt?nt:[])}),Fe}({didDocument:Be.document});if(0===lt.length)throw new ae(ue.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let jt of null!==(_t=Be.privateKeys)&&void 0!==_t?_t:[])yield Fe.importKey({key:jt});for(let jt of lt){if(!jt.publicKeyJwk)throw new Error(`Verification method '${jt.id}' does not contain a public key in JWK format`);const In=yield Fe.getKeyUri({key:jt.publicKeyJwk});yield Fe.getPublicKey({keyUri:In})}return new v({uri:Be.uri,document:Be.document,metadata:Be.metadata,keyManager:Fe})})}}var Z=E(2198),z=E(49402),ee=function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})};class le{static getSigningMethod(et){return ee(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(et,Be){return ee(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var we=function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})},Me=function(Qe,et){var Be={};for(var Fe in Qe)Object.prototype.hasOwnProperty.call(Qe,Fe)&&et.indexOf(Fe)<0&&(Be[Fe]=Qe[Fe]);if(null!=Qe&&"function"==typeof Object.getOwnPropertySymbols){var _t=0;for(Fe=Object.getOwnPropertySymbols(Qe);_t<Fe.length;_t++)et.indexOf(Fe[_t])<0&&Object.prototype.propertyIsEnumerable.call(Qe,Fe[_t])&&(Be[Fe[_t]]=Qe[Fe[_t]])}return Be};const Ge="https://diddht.tbddev.org",me=7200,xe=",";var Ce=function(Qe){return Qe[Qe.Discoverable=0]="Discoverable",Qe[Qe.Organization=1]="Organization",Qe[Qe.Government=2]="Government",Qe[Qe.Corporation=3]="Corporation",Qe[Qe.LocalBusiness=4]="LocalBusiness",Qe[Qe.SoftwarePackage=5]="SoftwarePackage",Qe[Qe.WebApp=6]="WebApp",Qe[Qe.FinancialInstitution=7]="FinancialInstitution",Qe}(Ce||{}),be=function(Qe){return Qe[Qe.Ed25519=0]="Ed25519",Qe[Qe.secp256k1=1]="secp256k1",Qe[Qe.secp256r1=2]="secp256r1",Qe[Qe.X25519=3]="X25519",Qe}(be||{}),he=function(Qe){return Qe.authentication="auth",Qe.assertionMethod="asm",Qe.capabilityDelegation="del",Qe.capabilityInvocation="inv",Qe.keyAgreement="agm",Qe}(he||{});const ne={Ed25519:be.Ed25519,ES256K:be.secp256k1,ES256:be.secp256r1,"P-256":be.secp256r1,secp256k1:be.secp256k1,secp256r1:be.secp256r1,X25519:be.X25519},te={[be.Ed25519]:"Ed25519",[be.secp256k1]:"ES256K",[be.secp256r1]:"ES256",[be.X25519]:"ECDH-ES+A256KW"};let de=(()=>{class Qe extends le{static create(){return we(this,arguments,void 0,function*({keyManager:Be=new ce.eP,options:Fe={}}={}){var _t,lt,nt,jt,In,hn,Vt,Dn,sr,_r,jr;if(null!==(_t=Fe.verificationMethods)&&void 0!==_t&&_t.some(wr=>!(wr.algorithm in ne)))throw new Error("One or more verification method algorithms are not supported");const Br=null===(lt=Fe.verificationMethods)||void 0===lt?void 0:lt.filter(wr=>"id"in wr).map(wr=>wr.id);if(Br&&Br.length!==new Set(Br).size)throw new Error("One or more verification method IDs are not unique");if(null!==(nt=Fe.services)&&void 0!==nt&&nt.some(wr=>!wr.id||!wr.type||!wr.serviceEndpoint))throw new Error("One or more services are missing required properties");const Vr=yield Be.generateKey({algorithm:"Ed25519"}),so=yield Be.getPublicKey({keyUri:Vr}),Kr=yield Ie.identityKeyToIdentifier({identityKey:so}),Nr=Object.assign(Object.assign({id:Kr},Fe.alsoKnownAs&&{alsoKnownAs:Fe.alsoKnownAs}),Fe.controllers&&{controller:Fe.controllers}),zr=[...null!==(jt=Fe.verificationMethods)&&void 0!==jt?jt:[]];zr?.some(wr=>{var ri;return"0"===(null===(ri=wr.id)||void 0===ri?void 0:ri.split("#").pop())})||zr.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const wr of zr){const ri=wr.id&&"0"===wr.id.split("#").pop()?Vr:yield Be.generateKey({algorithm:wr.algorithm}),Yi=yield Be.getPublicKey({keyUri:ri});let co=null!==(hn=null!==(In=wr.id)&&void 0!==In?In:Yi.kid)&&void 0!==hn?hn:yield(0,ce.BA)({jwk:Yi});co=`${Kr}#${ve(co)}`,null!==(Vt=Nr.verificationMethod)&&void 0!==Vt||(Nr.verificationMethod=[]),Nr.verificationMethod.push({id:co,type:"JsonWebKey",controller:null!==(Dn=wr.controller)&&void 0!==Dn?Dn:Kr,publicKeyJwk:Yi});for(const $i of null!==(sr=wr.purposes)&&void 0!==sr?sr:[])Nr[$i]||(Nr[$i]=[]),Nr[$i].push(co)}null===(_r=Fe.services)||void 0===_r||_r.forEach(wr=>{var ri;null!==(ri=Nr.service)&&void 0!==ri||(Nr.service=[]),wr.id=`${Kr}#${wr.id.split("#").pop()}`,Nr.service.push(wr)});const Qr=new v({uri:Kr,document:Nr,metadata:Object.assign({published:!1},Fe.types&&{types:Fe.types}),keyManager:Be});if(null===(jr=Fe.publish)||void 0===jr||jr){const wr=yield Qe.publish({did:Qr,gatewayUri:Fe.gatewayUri});Qr.metadata=wr.didDocumentMetadata}return Qr})}static import(Be){return we(this,arguments,void 0,function*({portableDid:Fe,keyManager:_t=new ce.eP}){var lt;const nt=ie.parse(Fe.uri);if(nt?.method!==Qe.methodName)throw new ae(ue.MethodNotSupported,"Method not supported");const jt=yield v.import({portableDid:Fe,keyManager:_t});if(null===(lt=jt.document.verificationMethod)||void 0===lt||!lt.some(In=>{var hn;return"0"===(null===(hn=In.id)||void 0===hn?void 0:hn.split("#").pop())}))throw new ae(ue.InvalidDidDocument,"DID document must contain an Identity Key");return jt})}static getSigningMethod(Be){return we(this,arguments,void 0,function*({didDocument:Fe,methodId:_t="#0"}){var lt;const nt=ie.parse(Fe.id);if(nt&&nt.method!==this.methodName)throw new ae(ue.MethodNotSupported,`Method not supported: ${nt.method}`);const jt=null===(lt=Fe.verificationMethod)||void 0===lt?void 0:lt.find(In=>{var hn,Vt;return ve(In.id)===(null!==(hn=ve(_t))&&void 0!==hn?hn:ve(null===(Vt=Fe.assertionMethod)||void 0===Vt?void 0:Vt[0]))});if(!jt||!jt.publicKeyJwk)throw new ae(ue.InternalError,"A verification method intended for signing could not be determined from the DID Document");return jt})}static publish(Be){return we(this,arguments,void 0,function*({did:Fe,gatewayUri:_t=Ge}){return yield _e.put({did:Fe,gatewayUri:_t})})}static resolve(Be){return we(this,arguments,void 0,function*(Fe,_t={}){var lt;const nt=null!==(lt=_t?.gatewayUri)&&void 0!==lt?lt:Ge;try{yield Ie.identifierToIdentityKey({didUri:Fe});const{didDocument:jt,didDocumentMetadata:In}=yield _e.get({didUri:Fe,gatewayUri:nt});return Object.assign(Object.assign({},re),{didDocument:jt,didDocumentMetadata:In})}catch(jt){if(!(jt instanceof ae))throw new Error(jt);return Object.assign(Object.assign({},re),{didResolutionMetadata:Object.assign({error:jt.code},jt.message&&{errorMessage:jt.message})})}})}}return Qe.methodName="dht",Qe})();class _e{static get(et){return we(this,arguments,void 0,function*({didUri:Be,gatewayUri:Fe}){const _t=Ie.identifierToIdentityKeyBytes({didUri:Be}),lt=yield _e.pkarrGet({gatewayUri:Fe,publicKeyBytes:_t}),nt=yield Ie.parseBep44GetMessage({bep44Message:lt}),jt=yield _e.fromDnsPacket({didUri:Be,dnsPacket:nt});return jt.didDocumentMetadata.versionId=lt.seq.toString(),jt})}static put(et){return we(this,arguments,void 0,function*({did:Be,gatewayUri:Fe}){const _t=yield _e.toDnsPacket({didDocument:Be.document,didMetadata:Be.metadata,authoritativeGatewayUris:[Fe]}),lt=yield Ie.createBep44PutMessage({dnsPacket:_t,publicKeyBytes:Ie.identifierToIdentityKeyBytes({didUri:Be.uri}),signer:yield Be.getSigner({methodId:"0"})}),nt=yield _e.pkarrPut({gatewayUri:Fe,bep44Message:lt});return{didDocument:Be.document,didDocumentMetadata:Object.assign(Object.assign({},Be.metadata),{published:nt,versionId:lt.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(et){return we(this,arguments,void 0,function*({gatewayUri:Be,publicKeyBytes:Fe}){const _t=b.U$.uint8Array(Fe).toBase32Z(),lt=new URL(_t,Be).href;let nt;try{if(nt=yield fetch(lt,{method:"GET"}),!nt.ok)throw new ae(ue.NotFound,`Pkarr record not found for: ${_t}`)}catch(hn){throw hn instanceof ae?hn:new ae(ue.InternalError,`Failed to fetch Pkarr record: ${hn.message}`)}const jt=yield nt.arrayBuffer();if(!jt)throw new ae(ue.NotFound,`Pkarr record not found for: ${_t}`);if(jt.byteLength<72)throw new ae(ue.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${jt.byteLength}`);if(jt.byteLength>1072)throw new ae(ue.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${jt.byteLength}`);return{k:Fe,seq:Number(new DataView(jt).getBigUint64(64)),sig:new Uint8Array(jt,0,64),v:new Uint8Array(jt,72)}})}static pkarrPut(et){return we(this,arguments,void 0,function*({gatewayUri:Be,bep44Message:Fe}){const _t=b.U$.uint8Array(Fe.k).toBase32Z(),lt=new URL(_t,Be).href,nt=new Uint8Array(Fe.v.length+72);let jt;nt.set(Fe.sig,0),new DataView(nt.buffer).setBigUint64(Fe.sig.length,BigInt(Fe.seq)),nt.set(Fe.v,Fe.sig.length+8);try{jt=yield fetch(lt,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:nt})}catch(In){throw new ae(ue.InternalError,`Failed to put Pkarr record for identifier ${_t}: ${In.message}`)}return jt.ok})}static fromDnsPacket(et){return we(this,arguments,void 0,function*({didUri:Be,dnsPacket:Fe}){var _t,lt,nt;const jt={id:Be},In={published:!0},hn=new Map;for(const Vt of null!==(_t=Fe?.answers)&&void 0!==_t?_t:[]){if("TXT"!==Vt.type)continue;const Dn=Vt.name.split(".")[0].substring(1);switch(!0){case Dn.startsWith("aka"):{const sr=Ie.parseTxtDataToString(Vt.data);jt.alsoKnownAs=sr.split(xe);break}case Dn.startsWith("cnt"):{const sr=Ie.parseTxtDataToString(Vt.data);jt.controller=sr.includes(xe)?sr.split(xe):sr;break}case Dn.startsWith("k"):{const{id:sr,t:_r,k:jr,c:Br,a:Vr}=Ie.parseTxtDataToObject(Vt.data),so=b.U$.base64Url(jr).toUint8Array(),Kr=be[Number(_r)];let Nr=yield Ie.keyConverter(Kr).bytesToPublicKey({publicKeyBytes:so});Nr.alg=Vr||te[Number(_r)];const zr="k0"===Dn?"0":void 0!==sr?sr:yield(0,ce.BA)({jwk:Nr});null!==(lt=jt.verificationMethod)&&void 0!==lt||(jt.verificationMethod=[]);const Qr=`${Be}#${zr}`;jt.verificationMethod.push({id:Qr,type:"JsonWebKey",controller:Br??Be,publicKeyJwk:Nr}),hn.set(Dn,Qr);break}case Dn.startsWith("s"):{const sr=Ie.parseTxtDataToObject(Vt.data),{id:_r,t:jr,se:Br}=sr,Vr=Me(sr,["id","t","se"]),so=Br.includes(xe)?Br.split(xe):[Br],Kr=Object.fromEntries(Object.entries(Vr).map(([Nr,zr])=>[Nr,zr.includes(xe)?zr.split(xe):zr]));null!==(nt=jt.service)&&void 0!==nt||(jt.service=[]),jt.service.push(Object.assign(Object.assign({},Kr),{id:`${Be}#${_r}`,type:jr,serviceEndpoint:so}));break}case Dn.startsWith("typ"):{const{id:sr}=Ie.parseTxtDataToObject(Vt.data);In.types=sr.split(xe).map(_r=>Number(_r));break}case Dn.startsWith("did"):{const sr=Kr=>Kr.split(xe).map(Nr=>hn.get(Nr)).filter(Nr=>"string"==typeof Nr),{auth:_r,asm:jr,del:Br,inv:Vr,agm:so}=Ie.parseTxtDataToObject(Vt.data);_r&&(jt.authentication=sr(_r)),jr&&(jt.assertionMethod=sr(jr)),Br&&(jt.capabilityDelegation=sr(Br)),Vr&&(jt.capabilityInvocation=sr(Vr)),so&&(jt.keyAgreement=sr(so));break}}}return{didDocument:jt,didDocumentMetadata:In,didResolutionMetadata:{}}})}static toDnsPacket(et){return we(this,arguments,void 0,function*({didDocument:Be,didMetadata:Fe,authoritativeGatewayUris:_t,previousDidProof:lt}){var nt,jt,In,hn,Vt;const Dn=[],sr=[],_r=new Map,jr=[],Br=[];if(void 0!==lt){const{signature:Kr,previousDid:Nr}=lt;yield Ie.validatePreviousDidProof({newDid:Be.id,previousDidProof:lt}),Dn.push({type:"TXT",name:"_prv._did.",ttl:me,data:`id=${Nr};s=${Kr}`})}if(Be.alsoKnownAs&&Dn.push({type:"TXT",name:"_aka._did.",ttl:me,data:Be.alsoKnownAs.join(xe)}),Be.controller){const Kr=Array.isArray(Be.controller)?Be.controller.join(xe):Be.controller;Dn.push({type:"TXT",name:"_cnt._did.",ttl:me,data:Kr})}for(const[Kr,Nr]of null!==(jt=null===(nt=Be.verificationMethod)||void 0===nt?void 0:nt.entries())&&void 0!==jt?jt:[]){const zr=`k${Kr}`;Br.push(zr);let Qr=Nr.id.split("#").pop();_r.set(Qr,zr);const wr=Nr.publicKeyJwk;if(!wr?.crv||!(wr.crv in ne))throw new ae(ue.InvalidPublicKeyType,`Verification method '${Nr.id}' contains an unsupported key type: ${null!==(In=wr?.crv)&&void 0!==In?In:"undefined"}`);const ri=be[wr.crv],Yi=yield Ie.keyConverter(wr.crv).publicKeyToBytes({publicKey:wr}),$i=[`t=${ri}`,`k=${b.U$.uint8Array(Yi).toBase64Url()}`];"0"!==Qr&&(yield(0,ce.BA)({jwk:wr}))!==Qr&&$i.unshift(`id=${Qr}`),wr.alg!==te[ri]&&$i.push(`a=${wr.alg}`),Nr.controller!==Be.id&&$i.push(`c=${Nr.controller}`),Dn.push({type:"TXT",name:`_${zr}._did.`,ttl:me,data:$i.join(";")})}null===(hn=Be.service)||void 0===hn||hn.forEach((Kr,Nr)=>{const zr=`s${Nr}`;jr.push(zr);let{id:Qr,type:wr,serviceEndpoint:ri}=Kr,Yi=Me(Kr,["id","type","serviceEndpoint"]);Qr=ve(Qr),ri=Array.isArray(ri)?ri.join(","):ri;const $i=Object.entries(Object.assign({id:Qr,t:wr,se:ri},Yi)).map(([xo,xi])=>`${xo}=${xi}`).join(";"),Eo=Ie.chunkDataIfNeeded($i);Dn.push({type:"TXT",name:`_${zr}._did.`,ttl:me,data:Eo})});const Vr=["v=0"];if(Br.length&&Vr.push(`vm=${Br.join(xe)}`),Object.keys(W).forEach(Kr=>{var Nr;const zr=null===(Nr=Be[Kr])||void 0===Nr?void 0:Nr.map(Qr=>_r.get(Qr.split("#").pop()));zr&&Vr.push(`${he[Kr]}=${zr.join(xe)}`)}),jr.length&&Vr.push(`svc=${jr.join(xe)}`),null!==(Vt=Fe.types)&&void 0!==Vt&&Vt.length){const Nr=Fe.types.map(zr=>"string"==typeof zr?Ce[zr]:zr);Dn.push({type:"TXT",name:"_typ._did.",ttl:me,data:`id=${Nr.join(xe)}`})}Dn.push({type:"TXT",name:"_did."+_e.getUniqueDidSuffix(Be.id)+".",ttl:me,data:Vr.join(";")});for(const Kr of _t||[])sr.push({type:"NS",name:"_did."+_e.getUniqueDidSuffix(Be.id)+".",ttl:me,data:Kr+"."});return{id:0,type:"response",flags:z.hB,answers:[...Dn,...sr]}})}static getUniqueDidSuffix(et){return et.split(":")[2]}}class Ie{static createBep44PutMessage(et){return we(this,arguments,void 0,function*({dnsPacket:Be,publicKeyBytes:Fe,signer:_t}){const lt=Math.ceil(Date.now()/1e3),nt=(0,z.lF)(Be),jt=Z.A.encode({seq:lt,v:nt}).subarray(1,-1);if(jt.length>1e3)throw new ae(ue.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${jt.length} bytes`);return{k:Fe,seq:lt,sig:yield _t.sign({data:jt}),v:nt}})}static identifierToIdentityKey(et){return we(this,arguments,void 0,function*({didUri:Be}){let Fe=Ie.identifierToIdentityKeyBytes({didUri:Be});return yield ce.Mc.bytesToPublicKey({publicKeyBytes:Fe})})}static identifierToIdentityKeyBytes({didUri:et}){const Be=ie.parse(et);if(!Be)throw new ae(ue.InvalidDid,`Invalid DID URI: ${et}`);if(Be.method!==de.methodName)throw new ae(ue.MethodNotSupported,`Method not supported: ${Be.method}`);let Fe;try{Fe=b.U$.base32Z(Be.id).toUint8Array()}catch{throw new ae(ue.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==Fe.length)throw new ae(ue.InvalidPublicKeyLength,`Invalid public key length: ${Fe.length}`);return Fe}static identityKeyToIdentifier(et){return we(this,arguments,void 0,function*({identityKey:Be}){const Fe=yield ce.Mc.publicKeyToBytes({publicKey:Be}),_t=b.U$.uint8Array(Fe).toBase32Z();return`did:${de.methodName}:${_t}`})}static keyConverter(et){const Fe={Ed25519:ce.Mc,"P-256":{publicKeyToBytes:_t=>we(this,[_t],void 0,function*({publicKey:lt}){const nt=yield ce.iH.publicKeyToBytes({publicKey:lt});return yield ce.iH.compressPublicKey({publicKeyBytes:nt})}),bytesToPublicKey:ce.iH.bytesToPublicKey,privateKeyToBytes:ce.iH.privateKeyToBytes,bytesToPrivateKey:ce.iH.bytesToPrivateKey},secp256k1:{publicKeyToBytes:_t=>we(this,[_t],void 0,function*({publicKey:lt}){const nt=yield ce.jg.publicKeyToBytes({publicKey:lt});return yield ce.jg.compressPublicKey({publicKeyBytes:nt})}),bytesToPublicKey:ce.jg.bytesToPublicKey,privateKeyToBytes:ce.jg.privateKeyToBytes,bytesToPrivateKey:ce.jg.bytesToPrivateKey},X25519:ce.Nx}[et];if(!Fe)throw new ae(ue.InvalidPublicKeyType,`Unsupported curve: ${et}`);return Fe}static parseBep44GetMessage(et){return we(this,arguments,void 0,function*({bep44Message:Be}){const Fe=yield ce.Mc.bytesToPublicKey({publicKeyBytes:Be.k}),_t=Z.A.encode({seq:Be.seq,v:Be.v}).subarray(1,-1);if(!(yield ce.Mc.verify({key:Fe,signature:Be.sig,data:_t})))throw new ae(ue.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,z.D4)(Be.v)})}static parseTxtDataToObject(et){return this.parseTxtDataToString(et).split(";").reduce((Be,Fe)=>{const[_t,lt]=Fe.split("=");return Be[_t]=lt,Be},{})}static parseTxtDataToString(et){if("string"==typeof et)return et;if(et instanceof Uint8Array)return b.U$.uint8Array(et).toString();if(Array.isArray(et))return et.map(Be=>this.parseTxtDataToString(Be)).join("");throw new ae(ue.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(et){return we(this,arguments,void 0,function*({newDid:Be,previousDidProof:Fe}){const _t=yield Ie.identifierToIdentityKey({didUri:Fe.previousDid}),lt=Ie.identifierToIdentityKeyBytes({didUri:Be}),nt=b.U$.base64Url(Fe.signature).toUint8Array();if(!(yield ce.Mc.verify({key:_t,data:lt,signature:nt})))throw new ae(ue.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(et){if(et.length<=255)return et;const Be=[];for(let Fe=0;Fe<et.length;Fe+=255)Be.push(et.slice(Fe,Fe+255));return Be}}E(52039);var D=function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})};let M=(()=>{class Qe extends le{static create(){return D(this,arguments,void 0,function*({keyManager:Be=new ce.eP,options:Fe={}}={}){var _t,lt,nt,jt;if(Fe.algorithm&&Fe.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(Fe.verificationMethods&&1!==Fe.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const In=null!==(jt=null!==(_t=Fe.algorithm)&&void 0!==_t?_t:null===(nt=null===(lt=Fe.verificationMethods)||void 0===lt?void 0:lt[0])||void 0===nt?void 0:nt.algorithm)&&void 0!==jt?jt:"Ed25519",hn=yield Be.generateKey({algorithm:In}),Vt=yield Be.getPublicKey({keyUri:hn}),Dn=b.U$.object(Vt).toBase64Url(),sr=`did:${Qe.methodName}:${Dn}`,jr=(yield Qe.resolve(sr)).didDocument;return new v({uri:sr,document:jr,metadata:{},keyManager:Be})})}static getSigningMethod(Be){return D(this,arguments,void 0,function*({didDocument:Fe}){var _t;const lt=ie.parse(Fe.id);if(lt&&lt.method!==this.methodName)throw new ae(ue.MethodNotSupported,`Method not supported: ${lt.method}`);const[nt]=null!==(_t=Fe.verificationMethod)&&void 0!==_t?_t:[];if(!nt||!nt.publicKeyJwk)throw new ae(ue.InternalError,"A verification method intended for signing could not be determined from the DID Document");return nt})}static import(Be){return D(this,arguments,void 0,function*({portableDid:Fe,keyManager:_t=new ce.eP}){const lt=ie.parse(Fe.uri);if(lt?.method!==Qe.methodName)throw new ae(ue.MethodNotSupported,"Method not supported");const nt=yield v.import({portableDid:Fe,keyManager:_t});if(1!==nt.document.verificationMethod.length)throw new ae(ue.InvalidDidDocument,"DID document must contain exactly one verification method");return nt})}static resolve(Be,Fe){return D(this,void 0,void 0,function*(){const _t=ie.parse(Be);let lt;try{lt=b.U$.base64Url(_t.id).toObject()}catch{}if(!_t||!lt)return Object.assign(Object.assign({},re),{didResolutionMetadata:{error:"invalidDid"}});if(_t.method!==Qe.methodName)return Object.assign(Object.assign({},re),{didResolutionMetadata:{error:"methodNotSupported"}});const nt={"@context":["https://www.w3.org/ns/did/v1"],id:_t.uri},jt=`${nt.id}#0`;switch(nt.verificationMethod=[{id:jt,type:"JsonWebKey",controller:nt.id,publicKeyJwk:lt}],nt.authentication=[jt],nt.assertionMethod=[jt],nt.capabilityInvocation=[jt],nt.capabilityDelegation=[jt],nt.keyAgreement=[jt],lt.use){case"sig":delete nt.keyAgreement;break;case"enc":delete nt.authentication,delete nt.assertionMethod,delete nt.capabilityInvocation,delete nt.capabilityDelegation}return Object.assign(Object.assign({},re),{didDocument:nt})})}}return Qe.methodName="jwk",Qe})();var qt=E(97829),mn=E(67449);class rr{constructor({db:et,location:Be="DATA/DID_RESOLVERCACHE",ttl:Fe="15m"}={}){this.cache=et??new mn.Level(Be),this.ttl=qt(Fe)}get(et){return function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})}(this,void 0,void 0,function*(){try{const Be=yield this.cache.get(et),Fe=JSON.parse(Be);return Date.now()>=Fe.ttlMillis?void this.cache.nextTick(()=>this.cache.del(et)):Fe.value}catch(Be){if(Be.notFound)return;throw Be}})}set(et,Be){const Fe={ttlMillis:Date.now()+this.ttl,value:Be},_t=JSON.stringify(Fe);return this.cache.put(et,_t)}delete(et){return this.cache.del(et)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var dt=function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})};class it{constructor(et){this._agentDid=et.agentDid,this.crypto=et.cryptoApi,this.did=et.didApi,this.dwn=et.dwnApi,this.identity=et.identityApi,this.keyManager=et.keyManager,this.rpc=et.rpcClient,this.sync=et.syncApi,this.vault=et.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(et){this._agentDid=et}static create({dataPath:et="DATA/AGENT",agentDid:Be,agentVault:Fe,cryptoApi:_t,didApi:lt,dwnApi:nt,identityApi:jt,keyManager:In,rpcClient:hn,syncApi:Vt}={}){return dt(this,void 0,void 0,function*(){return Fe??(Fe=new g.TX({keyDerivationWorkFactor:21e4,store:new b.cG({location:`${et}/VAULT_STORE`})})),_t??(_t=new g.DP),lt??(lt=new g.Bq({didMethods:[de,M],resolverCache:new rr({location:`${et}/DID_RESOLVERCACHE`}),store:new g.QZ})),nt??(nt=new g.rr({dwn:yield g.rr.createDwn({dataPath:et,didResolver:lt})})),jt??(jt=new g.yc({store:new g.dk})),In??(In=new g.eP({keyStore:new g.cW})),hn??(hn=new g.oN),Vt??(Vt=new g.rM({syncEngine:new g.qB({dataPath:et})})),new it({agentDid:Be,agentVault:Fe,cryptoApi:_t,didApi:lt,dwnApi:nt,keyManager:In,identityApi:jt,rpcClient:hn,syncApi:Vt})})}firstLaunch(){return dt(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:et,recoveryPhrase:Be}){return dt(this,void 0,void 0,function*(){return Be=yield this.vault.initialize({password:et,recoveryPhrase:Be})})}processDidRequest(et){return dt(this,void 0,void 0,function*(){return this.did.processRequest(et)})}processDwnRequest(et){return dt(this,void 0,void 0,function*(){return this.dwn.processRequest(et)})}processVcRequest(et){return dt(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(et){return dt(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(et){return dt(this,void 0,void 0,function*(){return this.dwn.sendRequest(et)})}sendVcRequest(et){return dt(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:et}){return dt(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:et})),this.agentDid=yield this.vault.getDid()})}}class nn{constructor({method:et,id:Be,path:Fe,query:_t,fragment:lt,params:nt}){this.uri=`did:${et}:${Be}`,this.method=et,this.id=Be,this.path=Fe,this.query=_t,this.fragment=lt,this.params=nt}static parse(et){if(!et)return null;const Be=nn.DID_URI_PATTERN.exec(et);if(!Be||!Be.groups)return null;const{method:Fe,id:_t,path:lt,query:nt,fragment:jt}=Be.groups,In={uri:`did:${Fe}:${_t}`,method:Fe,id:_t};if(lt&&(In.path=lt),nt&&(In.query=nt.slice(1)),jt&&(In.fragment=jt.slice(1)),nt){const hn={},Vt=nt.slice(1).split("&");for(const Dn of Vt){const[sr,_r]=Dn.split("=");hn[sr]=_r}In.params=hn}return In}}nn.METHOD_PATTERN="([a-z0-9]+)",nn.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",nn.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${nn.PCT_ENCODED_PATTERN})`,nn.METHOD_ID_PATTERN=`((?:${nn.ID_CHAR_PATTERN}*:)*(${nn.ID_CHAR_PATTERN}+))`,nn.PATH_PATTERN="(/[^#?]*)?",nn.QUERY_PATTERN="([?][^#]*)?",nn.FRAGMENT_PATTERN="(#.*)?",nn.DID_URI_PATTERN=new RegExp(`^did:(?<method>${nn.METHOD_PATTERN}):(?<id>${nn.METHOD_ID_PATTERN})(?<path>${nn.PATH_PATTERN})(?<query>${nn.QUERY_PATTERN})(?<fragment>${nn.FRAGMENT_PATTERN})$`),Error,E(44514),E(1424);function ct(Qe,et){return Qe=Math.ceil(Qe),et=Math.floor(et),Math.floor(Math.random()*(et-Qe))+Qe}class kt{constructor({agent:et,connectedDid:Be}){this.agent=et,this.connectedDid=Be,this.did=new H({agent:et,connectedDid:Be}),this.dwn=new Q({agent:et,connectedDid:Be}),this.vc=new Y({agent:et,connectedDid:Be})}static connect({agent:et,agentVault:Be,connectedDid:Fe,password:_t,recoveryPhrase:lt,sync:nt,techPreview:jt}={}){var In;return function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})}(this,void 0,void 0,function*(){if(void 0===et){const Vt=yield it.create({agentVault:Be});et=Vt,void 0===_t&&(_t="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield Vt.firstLaunch())&&(lt=yield Vt.initialize({password:_t,recoveryPhrase:lt})),yield Vt.start({password:_t});{let sr;const _r=yield Vt.identity.list(),jr=_r.length;if(0===jr){const Br=null!==(In=jt?.dwnEndpoints)&&void 0!==In?In:yield function Jt(){return function(Qe,et,Be,Fe){return new(Be||(Be=Promise))(function(lt,nt){function jt(Vt){try{hn(Fe.next(Vt))}catch(Dn){nt(Dn)}}function In(Vt){try{hn(Fe.throw(Vt))}catch(Dn){nt(Dn)}}function hn(Vt){Vt.done?lt(Vt.value):function _t(lt){return lt instanceof Be?lt:new Be(function(nt){nt(lt)})}(Vt.value).then(jt,In)}hn((Fe=Fe.apply(Qe,et||[])).next())})}(this,void 0,void 0,function*(){let Qe;try{if(Qe=yield fetch("https://dwn.tbddev.org/.well-known/did.json"),!Qe.ok)throw new Error(`HTTP Error: ${Qe.status} ${Qe.statusText}`)}catch(_t){return console.warn("failed to get tech preview dwn endpoints:",_t.message),[]}const et=yield Qe.json(),[Be]=function Ke({didDocument:Qe,id:et,type:Be}){var Fe,_t;return null!==(_t=null===(Fe=Qe?.service)||void 0===Fe?void 0:Fe.filter(lt=>!(et&&lt.id!==et||Be&&lt.type!==Be)))&&void 0!==_t?_t:[]}({didDocument:et,id:"#dwn",type:"DecentralizedWebNode"}),Fe=new Set;if("serviceEndpoint"in Be&&!Array.isArray(Be.serviceEndpoint)&&"string"!=typeof Be.serviceEndpoint&&Array.isArray(Be.serviceEndpoint.nodes)){const _t=Be.serviceEndpoint.nodes,lt=Math.min(_t.length,2);for(let nt=0;nt<_t.length&&Fe.size<lt;nt+=1){const In=_t[ct(0,_t.length)];try{(yield fetch(`${In}/health`)).ok&&Fe.add(In)}catch{}}}return Array.from(Fe)})}();sr=yield Vt.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:Br,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield Vt.identity.manage({portableIdentity:yield sr.export()})}else{if(1!==jr)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${jr} stored identities.`);sr=_r[0]}Fe=sr.did.uri}"off"!==nt&&(yield Vt.sync.registerIdentity({did:Fe}),nt??(nt="2m"),Vt.sync.startSync({interval:nt}).catch(sr=>{console.error(`Sync failed: ${sr}`)}))}return{web5:new kt({agent:et,connectedDid:Fe}),did:Fe,recoveryPhrase:lt}})}}},37475:($e,j,E)=>{"use strict";E.d(j,{U$:()=>U,cG:()=>ae,ny:()=>ue,Gs:()=>Q,VS:()=>d,Z6:()=>De,LC:()=>g,RI:()=>q,E8:()=>W,fc:()=>P});var g=E(52191),_=E(15130),B=E(80286),H=E(14725);function P(h){const w=Object.prototype.toString.call(h).match(/\s([a-zA-Z0-9]+)/),[I,L]=w;return L}var R=function(h,f,w,I){return new(w||(w=Promise))(function(x,a){function v(ee){try{z(I.next(ee))}catch(le){a(le)}}function Z(ee){try{z(I.throw(ee))}catch(le){a(le)}}function z(ee){ee.done?x(ee.value):function L(x){return x instanceof w?x:new w(function(a){a(x)})}(ee.value).then(v,Z)}z((I=I.apply(h,f||[])).next())})},O=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w,f=h[Symbol.asyncIterator];return f?f.call(h):(h="function"==typeof __values?__values(h):h[Symbol.iterator](),w={},I("next"),I("throw"),I("return"),w[Symbol.asyncIterator]=function(){return this},w);function I(x){w[x]=h[x]&&function(a){return new Promise(function(v,Z){!function L(x,a,v,Z){Promise.resolve(Z).then(function(z){x({value:z,done:v})},a)}(v,Z,(a=h[x](a)).done,a.value)})}}};const A=new TextEncoder,V=new TextDecoder;class U{constructor(f,w){this.data=f,this.format=w}static arrayBuffer(f){return new U(f,"ArrayBuffer")}static asyncIterable(f){if(!function k(h){return"object"==typeof h&&null!==h&&"function"==typeof h[Symbol.asyncIterator]}(f))throw new TypeError("Input must be of type AsyncIterable.");return new U(f,"AsyncIterable")}static base32Z(f){return new U(f,"Base32Z")}static base58Btc(f){return new U(f,"Base58Btc")}static base64Url(f){return new U(f,"Base64Url")}static bufferSource(f){return new U(f,"BufferSource")}static hex(f){if("string"!=typeof f)throw new TypeError("Hex input must be a string.");if(f.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new U(f,"Hex")}static multibase(f){return new U(f,"Multibase")}static object(f){return new U(f,"Object")}static string(f){return new U(f,"String")}static uint8Array(f){return new U(f,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return B.s.baseDecode(this.data).buffer;case"Base64Url":return H.r0.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===P(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function b(h){return 0!==h.byteOffset||h.byteLength!==h.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return R(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return _.jd.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const f=new Uint8Array(this.data);return B.s.baseEncode(f)}case"Multibase":return this.data.substring(1);case"Uint8Array":return B.s.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const f=new Uint8Array(this.data);return H.r0.baseEncode(f)}case"BufferSource":{const f=this.toUint8Array();return H.r0.baseEncode(f)}case"Object":{const f=JSON.stringify(this.data),w=A.encode(f);return H.r0.baseEncode(w)}case"String":{const f=A.encode(this.data);return H.r0.baseEncode(f)}case"Uint8Array":return H.r0.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var f,w,I;return R(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const Z=[];try{for(var v,x=!0,a=O(this.data);v=yield a.next(),!(f=v.done);x=!0)x=!1,Z.push(v.value)}catch(ee){w={error:ee}}finally{try{!x&&!f&&(I=a.return)&&(yield I.call(a))}finally{if(w)throw w.error}}return new Blob(Z)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const f=Array.from({length:256},(w,I)=>I.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const w=this.toUint8Array();return U.uint8Array(w).toHex()}case"Base64Url":{const w=this.toUint8Array();return U.uint8Array(w).toHex()}case"Uint8Array":{let w="";for(let I=0;I<this.data.length;I++)w+=f[this.data[I]];return w}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const f=H.r0.baseDecode(this.data),w=V.decode(f);return JSON.parse(w)}case"String":return JSON.parse(this.data);case"Uint8Array":{const f=V.decode(this.data);return JSON.parse(f)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return R(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const f=yield this.toStringAsync();return JSON.parse(f)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return V.decode(this.data);case"Base64Url":{const f=H.r0.baseDecode(this.data);return V.decode(f)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var f,w,I,L;return R(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let Z="";try{for(var v,x=!0,a=O(this.data);v=yield a.next(),!(f=v.done);x=!0)x=!1,Z+="string"==typeof(L=v.value)?L:V.decode(L,{stream:!0})}catch(z){w={error:z}}finally{try{!x&&!f&&(I=a.return)&&(yield I.call(a))}finally{if(w)throw w.error}}return Z+=V.decode(void 0,{stream:!1}),Z}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return _.jd.baseDecode(this.data);case"Base58Btc":return B.s.baseDecode(this.data);case"Base64Url":return H.r0.baseDecode(this.data);case"BufferSource":{const f=P(this.data);if("Uint8Array"===f)return this.data;if("ArrayBuffer"===f)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const f=new Uint8Array(this.data.length/2);for(let w=0;w<this.data.length;w+=2){const I=parseInt(this.data.substring(w,w+2),16);if(isNaN(I))throw new TypeError("Input is not a valid hexadecimal string.");f[w/2]=I}return f}case"Object":{const f=JSON.stringify(this.data);return A.encode(f)}case"String":return A.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return R(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const f=yield this.toArrayBufferAsync();return new Uint8Array(f)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var K=E(41405);class Q{static addPrefix(f){var w;let{code:I,data:L,name:x}=f;if(!(x?!I:I))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(I=Q.codeToName.has(I)?I:Q.nameToCode.get(x),void 0===I)throw new Error(`Unsupported multicodec: ${null!==(w=f.name)&&void 0!==w?w:f.code}`);const a=K.L8.encodingLength(I),v=new Uint8Array(a+L.byteLength);return v.set(L,a),K.L8.encodeTo(I,v),v}static getCodeFromData(f){const{prefixedData:w}=f,[I,L]=K.L8.decode(w);return I}static getCodeFromName(f){const{name:w}=f,I=Q.nameToCode.get(w);if(void 0===I)throw new Error(`Unsupported multicodec: ${w}`);return I}static getNameFromCode(f){const{code:w}=f,I=Q.codeToName.get(w);if(void 0===I)throw new Error(`Unsupported multicodec: ${w}`);return I}static registerCodec(f){Q.codeToName.set(f.code,f.name),Q.nameToCode.set(f.name,f.code)}static removePrefix(f){const{prefixedData:w}=f,[I,L]=K.L8.decode(w),x=Q.codeToName.get(I);if(void 0===x)throw new Error(`Unsupported multicodec: ${I}`);return{code:I,data:w.slice(L),name:x}}}function q(h){return!("object"!=typeof h||null===h||Object.getOwnPropertySymbols(h).length>0)&&0===Object.keys(h).length}function W(h){Object.keys(h).forEach(f=>{void 0===h[f]?delete h[f]:"object"==typeof h[f]&&W(h[f])})}Q.codeToName=new Map,Q.nameToCode=new Map,Q.registerCodec({code:237,name:"ed25519-pub"}),Q.registerCodec({code:4864,name:"ed25519-priv"}),Q.registerCodec({code:236,name:"x25519-pub"}),Q.registerCodec({code:4866,name:"x25519-priv"}),Q.registerCodec({code:231,name:"secp256k1-pub"}),Q.registerCodec({code:4865,name:"secp256k1-priv"});var re=E(54626),ie=function(h,f,w,I){return new(w||(w=Promise))(function(x,a){function v(ee){try{z(I.next(ee))}catch(le){a(le)}}function Z(ee){try{z(I.throw(ee))}catch(le){a(le)}}function z(ee){ee.done?x(ee.value):function L(x){return x instanceof w?x:new w(function(a){a(x)})}(ee.value).then(v,Z)}z((I=I.apply(h,f||[])).next())})};class ae{constructor({db:f,location:w="DATASTORE"}={}){this.store=f??new re.Level(w)}clear(){return ie(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return ie(this,void 0,void 0,function*(){yield this.store.close()})}delete(f){return ie(this,void 0,void 0,function*(){yield this.store.del(f)})}get(f){return ie(this,void 0,void 0,function*(){try{return yield this.store.get(f)}catch(w){if(w.notFound)return;throw w}})}set(f,w){return ie(this,void 0,void 0,function*(){yield this.store.put(f,w)})}}class ue{constructor(){this.store=new Map}clear(){return ie(this,void 0,void 0,function*(){this.store.clear()})}close(){return ie(this,void 0,void 0,function*(){})}delete(f){return ie(this,void 0,void 0,function*(){return this.store.delete(f)})}get(f){return ie(this,void 0,void 0,function*(){return this.store.get(f)})}has(f){return ie(this,void 0,void 0,function*(){return this.store.has(f)})}list(){return ie(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(f,w){return ie(this,void 0,void 0,function*(){this.store.set(f,w)})}}var ce=function(h,f,w,I){return new(w||(w=Promise))(function(x,a){function v(ee){try{z(I.next(ee))}catch(le){a(le)}}function Z(ee){try{z(I.throw(ee))}catch(le){a(le)}}function z(ee){ee.done?x(ee.value):function L(x){return x instanceof w?x:new w(function(a){a(x)})}(ee.value).then(v,Z)}z((I=I.apply(h,f||[])).next())})},pe=function(h){return this instanceof pe?(this.v=h,this):new pe(h)};class De{static asAsyncIterator(f){return function(h,f,w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=w.apply(h,f||[]),x=[];return L={},a("next"),a("throw"),a("return"),L[Symbol.asyncIterator]=function(){return this},L;function a(we){I[we]&&(L[we]=function(Me){return new Promise(function(Ge,ge){x.push([we,Me,Ge,ge])>1||v(we,Me)})})}function v(we,Me){try{!function Z(we){we.value instanceof pe?Promise.resolve(we.value.v).then(z,ee):le(x[0][2],we)}(I[we](Me))}catch(Ge){le(x[0][3],Ge)}}function z(we){v("next",we)}function ee(we){v("throw",we)}function le(we,Me){we(Me),x.shift(),x.length&&v(x[0][0],x[0][1])}}(this,arguments,function*(){const I=f.getReader();try{for(;;){const{done:L,value:x}=yield pe(I.read());if(L)break;yield yield pe(x)}}finally{I.releaseLock()}})}static consumeToArrayBuffer({readableStream:f}){return ce(this,void 0,void 0,function*(){const w=De.asAsyncIterator(f);return yield U.asyncIterable(w).toArrayBufferAsync()})}static consumeToBlob({readableStream:f}){return ce(this,void 0,void 0,function*(){const w=De.asAsyncIterator(f);return yield U.asyncIterable(w).toBlobAsync()})}static consumeToBytes({readableStream:f}){return ce(this,void 0,void 0,function*(){const w=De.asAsyncIterator(f);return yield U.asyncIterable(w).toUint8ArrayAsync()})}static consumeToJson({readableStream:f}){return ce(this,void 0,void 0,function*(){const w=De.asAsyncIterator(f);return yield U.asyncIterable(w).toObjectAsync()})}static consumeToText({readableStream:f}){return ce(this,void 0,void 0,function*(){const w=De.asAsyncIterator(f);return yield U.asyncIterable(w).toStringAsync()})}static generateByteStream({streamLength:f,chunkLength:w,fillValue:I}){let x,L=f??1/0;function a(){const v=Math.min(L,w??1/0);let Z;if(L-=v,"number"==typeof I)Z=new Uint8Array(v).fill(I);else if(Array.isArray(I)){Z=new Uint8Array(v);const[z,ee]=I,le=ee-z+1;for(let we=0;we<v;we++)Z[we]=Math.floor(Math.random()*le)+z}else Z=new Uint8Array(v);x.enqueue(Z),L<=0&&x.close()}return new ReadableStream({start(v){x=v,a()},pull(){a()}})}static isReadable({readableStream:f}){if(!De.isReadableStream(f)||f.locked)return!1;try{return f.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(f){return"object"==typeof f&&null!==f&&"getReader"in f&&"function"==typeof f.getReader}static isStream(f){return De.isReadableStream(f)||De.isWritableStream(f)||De.isTransformStream(f)}static isTransformStream(f){return"object"==typeof f&&null!==f&&"readable"in f&&"object"==typeof f.readable&&"writable"in f&&"object"==typeof f.writable}static isWritableStream(f){return"object"==typeof f&&null!==f&&"getWriter"in f&&"function"==typeof f.getWriter&&"abort"in f&&"function"==typeof f.abort}}var C=E(95424),s=function(h,f,w,I){return new(w||(w=Promise))(function(x,a){function v(ee){try{z(I.next(ee))}catch(le){a(le)}}function Z(ee){try{z(I.throw(ee))}catch(le){a(le)}}function z(ee){ee.done?x(ee.value):function L(x){return x instanceof w?x:new w(function(a){a(x)})}(ee.value).then(v,Z)}z((I=I.apply(h,f||[])).next())})};class d{static consumeToArrayBuffer({readable:f}){return s(this,void 0,void 0,function*(){return yield U.asyncIterable(f).toArrayBufferAsync()})}static consumeToBlob({readable:f}){return s(this,void 0,void 0,function*(){return yield U.asyncIterable(f).toBlobAsync()})}static consumeToBytes({readable:f}){return s(this,void 0,void 0,function*(){return yield U.asyncIterable(f).toUint8ArrayAsync()})}static consumeToJson({readable:f}){return s(this,void 0,void 0,function*(){return yield U.asyncIterable(f).toObjectAsync()})}static consumeToText({readable:f}){return s(this,void 0,void 0,function*(){return yield U.asyncIterable(f).toStringAsync()})}static fromWebReadable({readableStream:f,readableOptions:w}){if(!De.isReadableStream(f))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const I=f.getReader();let L=!1;const x=new C.Readable(Object.assign(Object.assign({},w),{read:function(){I.read().then(({done:a,value:v})=>{if(a)this.push(null);else if(!this.push(v))return}).catch(a=>{this.destroy(a)})},destroy:function(a,v){function Z(){v(a)}L?Z():I.cancel(a).then(Z).catch(Z)}}));return I.closed.then(()=>{L=!0}).catch(a=>{L=!0,x.destroy(a)}),x}static isDestroyed({stream:f}){if(!d.isStream(f))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!f.destroyed&&!(("_writableState"in f?f._writableState:void 0)||f._readableState).destroyed)}static isReadable({readable:f}){return!!d.isReadableStream(f)&&f.readable&&"boolean"==typeof f._readableState.ended&&!f._readableState.ended&&"boolean"==typeof f._readableState.endEmitted&&!f._readableState.endEmitted&&!f.destroyed&&!f.isPaused()}static isReadableStream(f){return"object"==typeof f&&null!==f&&"pipe"in f&&"function"==typeof f.pipe&&"on"in f&&"function"==typeof f.on&&!("_writableState"in f)&&"_readableState"in f}static isStream(f){return"object"==typeof f&&null!==f&&("_readableState"in f||"_writableState"in f)}static toWebReadable({readable:f}){if(!d.isReadableStream(f))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(d.isDestroyed({stream:f})){const w=new ReadableStream;return w.cancel(),w}return new ReadableStream({start(w){f.on("data",I=>{w.enqueue(I)}),f.on("end",()=>{w.close()}),f.on("error",I=>{w.error(I)})},cancel(){f.destroy()}})}}},86136:($e,j,E)=>{"use strict";E.d(j,{z5:()=>fn,GT:()=>wn,hq:()=>k,SO:()=>pt,Mc:()=>G,Dp:()=>Se,Xj:()=>ge,eP:()=>Ht,jg:()=>Ie,iH:()=>Ne,cM:()=>P,Nx:()=>Oe,BA:()=>me,mE:()=>Ue,gX:()=>xe,wh:()=>Ce,UL:()=>be,gt:()=>he,oz:()=>ne,Wp:()=>g});var g={};E.r(g),E.d(g,{checkRequiredProperty:()=>qt,checkValidProperty:()=>mn,getJoseSignatureAlgorithmFromPublicKey:()=>ln,isWebCryptoSupported:()=>rr,randomBytes:()=>Tn,randomUuid:()=>rn});var _=E(37475),B=E(47565);class b{static digest({data:ct}){return function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})}(this,void 0,void 0,function*(){return(0,B.s)(ct)})}}class k{}class P extends k{digest({algorithm:ct,data:Et}){return function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===ct)return yield b.digest({data:Et})})}}var R=E(35765),O=E(2716);const A=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),V=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),U=BigInt(1),K=BigInt(2),Q=(Jt,ct)=>(Jt+ct/K)/ct;const Y=(0,R.D0)(A,void 0,void 0,{sqrt:function q(Jt){const ct=A,Et=BigInt(3),kt=BigInt(6),Qe=BigInt(11),et=BigInt(22),Be=BigInt(23),Fe=BigInt(44),_t=BigInt(88),lt=Jt*Jt*Jt%ct,nt=lt*lt*Jt%ct,jt=(0,R.zH)(nt,Et,ct)*nt%ct,In=(0,R.zH)(jt,Et,ct)*nt%ct,hn=(0,R.zH)(In,K,ct)*lt%ct,Vt=(0,R.zH)(hn,Qe,ct)*hn%ct,Dn=(0,R.zH)(Vt,et,ct)*Vt%ct,sr=(0,R.zH)(Dn,Fe,ct)*Dn%ct,_r=(0,R.zH)(sr,_t,ct)*sr%ct,jr=(0,R.zH)(_r,Fe,ct)*Dn%ct,Br=(0,R.zH)(jr,Et,ct)*nt%ct,Vr=(0,R.zH)(Br,Be,ct)*Vt%ct,so=(0,R.zH)(Vr,kt,ct)*lt%ct,Kr=(0,R.zH)(so,K,ct);if(!Y.eql(Y.sqr(Kr),Jt))throw new Error("Cannot find square root");return Kr}}),W=(0,O.s)({a:BigInt(0),b:BigInt(7),Fp:Y,n:V,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:Jt=>{const ct=V,Et=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),kt=-U*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Qe=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),et=Et,Be=BigInt("0x100000000000000000000000000000000"),Fe=Q(et*Jt,ct),_t=Q(-kt*Jt,ct);let lt=(0,R.zi)(Jt-Fe*Et-_t*Qe,ct),nt=(0,R.zi)(-Fe*kt-_t*et,ct);const jt=lt>Be,In=nt>Be;if(jt&&(lt=ct-lt),In&&(nt=ct-nt),lt>Be||nt>Be)throw new Error("splitScalar: Endomorphism failed, k="+Jt);return{k1neg:jt,k1:lt,k2neg:In,k2:nt}}}},B.s);BigInt(0);var we=E(91006),Ge=function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})};const ge="urn:jwk:";function me({jwk:Jt}){return Ge(this,void 0,void 0,function*(){const ct=Jt.kty;let Et;if("EC"===ct)Et={crv:Jt.crv,kty:Jt.kty,x:Jt.x,y:Jt.y};else if("oct"===ct)Et={k:Jt.k,kty:Jt.kty};else if("OKP"===ct)Et={crv:Jt.crv,kty:Jt.kty,x:Jt.x};else{if("RSA"!==ct)throw new Error(`Unsupported key type: ${ct}`);Et={e:Jt.e,kty:Jt.kty,n:Jt.n}}(0,_.E8)(Et);const kt=function Me(Jt){const ct=kt=>{if(null!==kt&&"object"==typeof kt&&!Array.isArray(kt)){const Qe=Object.keys(kt).sort(),et={};for(const Be of Qe)et[Be]=ct(kt[Be]);return et}return kt},Et=ct(Jt);return JSON.stringify(Et)}(Et),Qe=_.U$.string(kt).toUint8Array(),et=yield b.digest({data:Qe});return _.U$.uint8Array(et).toBase64Url()})}function Ue(Jt){return!(!Jt||"object"!=typeof Jt||!("kty"in Jt&&"crv"in Jt&&"x"in Jt&&"d"in Jt)||"EC"!==Jt.kty||"string"!=typeof Jt.d||"string"!=typeof Jt.x)}function xe(Jt){return!(!Jt||"object"!=typeof Jt||!("kty"in Jt&&"crv"in Jt&&"x"in Jt)||"d"in Jt||"EC"!==Jt.kty||"string"!=typeof Jt.x)}function Ce(Jt){return!(!Jt||"object"!=typeof Jt||!("kty"in Jt)||!("k"in Jt)||"oct"!==Jt.kty||"string"!=typeof Jt.k)}function be(Jt){return!(!Jt||"object"!=typeof Jt||!("kty"in Jt&&"crv"in Jt&&"x"in Jt&&"d"in Jt)||"OKP"!==Jt.kty||"string"!=typeof Jt.d||"string"!=typeof Jt.x)}function he(Jt){return!(!Jt||"object"!=typeof Jt||"d"in Jt||!("kty"in Jt&&"crv"in Jt&&"x"in Jt)||"OKP"!==Jt.kty||"string"!=typeof Jt.x)}function ne(Jt){if(!Jt||"object"!=typeof Jt)return!1;switch(Jt.kty){case"EC":case"OKP":case"RSA":return"d"in Jt;case"oct":return"k"in Jt;default:return!1}}var de=function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})};class Ie{static adjustSignatureToLowS({signature:ct}){return de(this,void 0,void 0,function*(){const Et=W.Signature.fromCompact(ct);return Et.hasHighS()?Et.normalizeS().toCompactRawBytes():ct})}static bytesToPrivateKey({privateKeyBytes:ct}){return de(this,void 0,void 0,function*(){const Et=yield Ie.getCurvePoint({keyBytes:ct}),kt={kty:"EC",crv:"secp256k1",d:_.U$.uint8Array(ct).toBase64Url(),x:_.U$.uint8Array(Et.x).toBase64Url(),y:_.U$.uint8Array(Et.y).toBase64Url()};return kt.kid=yield me({jwk:kt}),kt})}static bytesToPublicKey({publicKeyBytes:ct}){return de(this,void 0,void 0,function*(){const Et=yield Ie.getCurvePoint({keyBytes:ct}),kt={kty:"EC",crv:"secp256k1",x:_.U$.uint8Array(Et.x).toBase64Url(),y:_.U$.uint8Array(Et.y).toBase64Url()};return kt.kid=yield me({jwk:kt}),kt})}static compressPublicKey({publicKeyBytes:ct}){return de(this,void 0,void 0,function*(){return W.ProjectivePoint.fromHex(ct).toRawBytes(!0)})}static computePublicKey({key:ct}){return de(this,void 0,void 0,function*(){const Et=yield Ie.privateKeyToBytes({privateKey:ct}),kt=yield Ie.getCurvePoint({keyBytes:Et}),Qe={kty:"EC",crv:"secp256k1",x:_.U$.uint8Array(kt.x).toBase64Url(),y:_.U$.uint8Array(kt.y).toBase64Url()};return Qe.kid=yield me({jwk:Qe}),Qe})}static convertDerToCompactSignature({derSignature:ct}){return de(this,void 0,void 0,function*(){return W.Signature.fromDER(ct).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:ct}){return de(this,void 0,void 0,function*(){return W.ProjectivePoint.fromHex(ct).toRawBytes(!1)})}static generateKey(){return de(this,void 0,void 0,function*(){const ct=W.utils.randomPrivateKey(),Et=yield Ie.bytesToPrivateKey({privateKeyBytes:ct});return Et.kid=yield me({jwk:Et}),Et})}static getPublicKey({key:ct}){var Et;return de(this,void 0,void 0,function*(){if(!Ue(ct)||"secp256k1"!==ct.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let Qe=function(Jt,ct){var Et={};for(var kt in Jt)Object.prototype.hasOwnProperty.call(Jt,kt)&&ct.indexOf(kt)<0&&(Et[kt]=Jt[kt]);if(null!=Jt&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(kt=Object.getOwnPropertySymbols(Jt);Qe<kt.length;Qe++)ct.indexOf(kt[Qe])<0&&Object.prototype.propertyIsEnumerable.call(Jt,kt[Qe])&&(Et[kt[Qe]]=Jt[kt[Qe]])}return Et}(ct,["d"]);return null!==(Et=Qe.kid)&&void 0!==Et||(Qe.kid=yield me({jwk:Qe})),Qe})}static privateKeyToBytes({privateKey:ct}){return de(this,void 0,void 0,function*(){if(!Ue(ct))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return _.U$.base64Url(ct.d).toUint8Array()})}static publicKeyToBytes({publicKey:ct}){return de(this,void 0,void 0,function*(){if(!xe(ct)||!ct.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const Et=new Uint8Array([4]),kt=_.U$.base64Url(ct.x).toUint8Array(),Qe=_.U$.base64Url(ct.y).toUint8Array();return new Uint8Array([...Et,...kt,...Qe])})}static sharedSecret({privateKeyA:ct,publicKeyB:Et}){return de(this,void 0,void 0,function*(){if("x"in ct&&"x"in Et&&ct.x===Et.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const kt=yield Ie.privateKeyToBytes({privateKey:ct}),Qe=yield Ie.publicKeyToBytes({publicKey:Et});return W.getSharedSecret(kt,Qe,!0).slice(1)})}static sign({data:ct,key:Et}){return de(this,void 0,void 0,function*(){const kt=yield Ie.privateKeyToBytes({privateKey:Et}),Qe=(0,B.s)(ct);return W.sign(Qe,kt).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:ct}){return de(this,void 0,void 0,function*(){return W.utils.isValidPrivateKey(ct)})}static validatePublicKey({publicKeyBytes:ct}){return de(this,void 0,void 0,function*(){try{W.ProjectivePoint.fromHex(ct).assertValidity()}catch{return!1}return!0})}static verify({key:ct,signature:Et,data:kt}){return de(this,void 0,void 0,function*(){const Qe=yield Ie.publicKeyToBytes({publicKey:ct}),et=(0,B.s)(kt);return W.verify(Et,et,Qe,{lowS:!1})})}static getCurvePoint({keyBytes:ct}){return de(this,void 0,void 0,function*(){32===ct.byteLength&&(ct=W.getPublicKey(ct));const Et=W.ProjectivePoint.fromHex(ct);return{x:(0,we.lq)(Et.x,32),y:(0,we.lq)(Et.y,32)}})}}var He=E(40499),Ve=function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})};class Ne{static adjustSignatureToLowS({signature:ct}){return Ve(this,void 0,void 0,function*(){const Et=He.Ag.Signature.fromCompact(ct);return Et.hasHighS()?Et.normalizeS().toCompactRawBytes():ct})}static bytesToPrivateKey({privateKeyBytes:ct}){return Ve(this,void 0,void 0,function*(){const Et=yield Ne.getCurvePoint({keyBytes:ct}),kt={kty:"EC",crv:"P-256",d:_.U$.uint8Array(ct).toBase64Url(),x:_.U$.uint8Array(Et.x).toBase64Url(),y:_.U$.uint8Array(Et.y).toBase64Url()};return kt.kid=yield me({jwk:kt}),kt})}static bytesToPublicKey({publicKeyBytes:ct}){return Ve(this,void 0,void 0,function*(){const Et=yield Ne.getCurvePoint({keyBytes:ct}),kt={kty:"EC",crv:"P-256",x:_.U$.uint8Array(Et.x).toBase64Url(),y:_.U$.uint8Array(Et.y).toBase64Url()};return kt.kid=yield me({jwk:kt}),kt})}static compressPublicKey({publicKeyBytes:ct}){return Ve(this,void 0,void 0,function*(){return He.Ag.ProjectivePoint.fromHex(ct).toRawBytes(!0)})}static computePublicKey({key:ct}){return Ve(this,void 0,void 0,function*(){const Et=yield Ne.privateKeyToBytes({privateKey:ct}),kt=yield Ne.getCurvePoint({keyBytes:Et}),Qe={kty:"EC",crv:"P-256",x:_.U$.uint8Array(kt.x).toBase64Url(),y:_.U$.uint8Array(kt.y).toBase64Url()};return Qe.kid=yield me({jwk:Qe}),Qe})}static convertDerToCompactSignature({derSignature:ct}){return Ve(this,void 0,void 0,function*(){return He.Ag.Signature.fromDER(ct).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:ct}){return Ve(this,void 0,void 0,function*(){return He.Ag.ProjectivePoint.fromHex(ct).toRawBytes(!1)})}static generateKey(){return Ve(this,void 0,void 0,function*(){const ct=He.Ag.utils.randomPrivateKey(),Et=yield Ne.bytesToPrivateKey({privateKeyBytes:ct});return Et.kid=yield me({jwk:Et}),Et})}static getPublicKey({key:ct}){var Et;return Ve(this,void 0,void 0,function*(){if(!Ue(ct)||"P-256"!==ct.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let Qe=function(Jt,ct){var Et={};for(var kt in Jt)Object.prototype.hasOwnProperty.call(Jt,kt)&&ct.indexOf(kt)<0&&(Et[kt]=Jt[kt]);if(null!=Jt&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(kt=Object.getOwnPropertySymbols(Jt);Qe<kt.length;Qe++)ct.indexOf(kt[Qe])<0&&Object.prototype.propertyIsEnumerable.call(Jt,kt[Qe])&&(Et[kt[Qe]]=Jt[kt[Qe]])}return Et}(ct,["d"]);return null!==(Et=Qe.kid)&&void 0!==Et||(Qe.kid=yield me({jwk:Qe})),Qe})}static privateKeyToBytes({privateKey:ct}){return Ve(this,void 0,void 0,function*(){if(!Ue(ct))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return _.U$.base64Url(ct.d).toUint8Array()})}static publicKeyToBytes({publicKey:ct}){return Ve(this,void 0,void 0,function*(){if(!xe(ct)||!ct.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const Et=new Uint8Array([4]),kt=_.U$.base64Url(ct.x).toUint8Array(),Qe=_.U$.base64Url(ct.y).toUint8Array();return new Uint8Array([...Et,...kt,...Qe])})}static sharedSecret({privateKeyA:ct,publicKeyB:Et}){return Ve(this,void 0,void 0,function*(){if("x"in ct&&"x"in Et&&ct.x===Et.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const kt=yield Ne.privateKeyToBytes({privateKey:ct}),Qe=yield Ne.publicKeyToBytes({publicKey:Et});return He.Ag.getSharedSecret(kt,Qe,!0).slice(1)})}static sign({data:ct,key:Et}){return Ve(this,void 0,void 0,function*(){const kt=yield Ne.privateKeyToBytes({privateKey:Et}),Qe=(0,B.s)(ct);return He.Ag.sign(Qe,kt).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:ct}){return Ve(this,void 0,void 0,function*(){return He.Ag.utils.isValidPrivateKey(ct)})}static validatePublicKey({publicKeyBytes:ct}){return Ve(this,void 0,void 0,function*(){try{He.Ag.ProjectivePoint.fromHex(ct).assertValidity()}catch{return!1}return!0})}static verify({key:ct,signature:Et,data:kt}){return Ve(this,void 0,void 0,function*(){const Qe=yield Ne.publicKeyToBytes({publicKey:ct}),et=(0,B.s)(kt);return He.Ag.verify(Et,et,Qe,{lowS:!1})})}static getCurvePoint({keyBytes:ct}){return Ve(this,void 0,void 0,function*(){32===ct.byteLength&&(ct=He.Ag.getPublicKey(ct));const Et=He.Ag.ProjectivePoint.fromHex(ct);return{x:(0,we.lq)(Et.x,32),y:(0,we.lq)(Et.y,32)}})}}var ke=function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})};class pt extends k{computePublicKey({key:ct}){return ke(this,void 0,void 0,function*(){if(!Ue(ct))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(ct.crv){case"secp256k1":{const Et=yield Ie.computePublicKey({key:ct});return Et.alg="ES256K",Et}case"P-256":{const Et=yield Ne.computePublicKey({key:ct});return Et.alg="ES256",Et}default:throw new Error(`Unsupported curve: ${ct.crv}`)}})}generateKey({algorithm:ct}){return ke(this,void 0,void 0,function*(){switch(ct){case"ES256K":case"secp256k1":{const Et=yield Ie.generateKey();return Et.alg="ES256K",Et}case"ES256":case"secp256r1":{const Et=yield Ne.generateKey();return Et.alg="ES256",Et}}})}getPublicKey({key:ct}){return ke(this,void 0,void 0,function*(){if(!Ue(ct))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(ct.crv){case"secp256k1":{const Et=yield Ie.getPublicKey({key:ct});return Et.alg="ES256K",Et}case"P-256":{const Et=yield Ne.getPublicKey({key:ct});return Et.alg="ES256",Et}default:throw new Error(`Unsupported curve: ${ct.crv}`)}})}sign({key:ct,data:Et}){return ke(this,void 0,void 0,function*(){if(!Ue(ct))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(ct.crv){case"secp256k1":return yield Ie.sign({key:ct,data:Et});case"P-256":return yield Ne.sign({key:ct,data:Et});default:throw new Error(`Unsupported curve: ${ct.crv}`)}})}verify({key:ct,signature:Et,data:kt}){return ke(this,void 0,void 0,function*(){if(!xe(ct))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(ct.crv){case"secp256k1":return yield Ie.verify({key:ct,signature:Et,data:kt});case"P-256":return yield Ne.verify({key:ct,signature:Et,data:kt});default:throw new Error(`Unsupported curve: ${ct.crv}`)}})}}var F=E(86295),D=function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})};class G{static bytesToPrivateKey({privateKeyBytes:ct}){return D(this,void 0,void 0,function*(){const Et=F.ev.getPublicKey(ct),kt={crv:"Ed25519",d:_.U$.uint8Array(ct).toBase64Url(),kty:"OKP",x:_.U$.uint8Array(Et).toBase64Url()};return kt.kid=yield me({jwk:kt}),kt})}static bytesToPublicKey({publicKeyBytes:ct}){return D(this,void 0,void 0,function*(){const Et={kty:"OKP",crv:"Ed25519",x:_.U$.uint8Array(ct).toBase64Url()};return Et.kid=yield me({jwk:Et}),Et})}static computePublicKey({key:ct}){return D(this,void 0,void 0,function*(){const Et=yield G.privateKeyToBytes({privateKey:ct}),kt=F.ev.getPublicKey(Et),Qe={kty:"OKP",crv:"Ed25519",x:_.U$.uint8Array(kt).toBase64Url()};return Qe.kid=yield me({jwk:Qe}),Qe})}static convertPrivateKeyToX25519({privateKey:ct}){return D(this,void 0,void 0,function*(){const Et=yield G.privateKeyToBytes({privateKey:ct}),kt=(0,F.OA)(Et),Qe=F.TU.getPublicKey(kt),et={kty:"OKP",crv:"X25519",d:_.U$.uint8Array(kt).toBase64Url(),x:_.U$.uint8Array(Qe).toBase64Url()};return et.kid=yield me({jwk:et}),et})}static convertPublicKeyToX25519({publicKey:ct}){return D(this,void 0,void 0,function*(){const Et=yield G.publicKeyToBytes({publicKey:ct});if(!(yield G.validatePublicKey({publicKeyBytes:Et})))throw new Error("Ed25519: Invalid public key.");const Qe=(0,F.GU)(Et),et={kty:"OKP",crv:"X25519",x:_.U$.uint8Array(Qe).toBase64Url()};return et.kid=yield me({jwk:et}),et})}static generateKey(){return D(this,void 0,void 0,function*(){const ct=F.ev.utils.randomPrivateKey(),Et=yield G.bytesToPrivateKey({privateKeyBytes:ct});return Et.kid=yield me({jwk:Et}),Et})}static getPublicKey({key:ct}){var Et;return D(this,void 0,void 0,function*(){if(!be(ct)||"Ed25519"!==ct.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let Qe=function(Jt,ct){var Et={};for(var kt in Jt)Object.prototype.hasOwnProperty.call(Jt,kt)&&ct.indexOf(kt)<0&&(Et[kt]=Jt[kt]);if(null!=Jt&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(kt=Object.getOwnPropertySymbols(Jt);Qe<kt.length;Qe++)ct.indexOf(kt[Qe])<0&&Object.prototype.propertyIsEnumerable.call(Jt,kt[Qe])&&(Et[kt[Qe]]=Jt[kt[Qe]])}return Et}(ct,["d"]);return null!==(Et=Qe.kid)&&void 0!==Et||(Qe.kid=yield me({jwk:Qe})),Qe})}static privateKeyToBytes({privateKey:ct}){return D(this,void 0,void 0,function*(){if(!be(ct))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return _.U$.base64Url(ct.d).toUint8Array()})}static publicKeyToBytes({publicKey:ct}){return D(this,void 0,void 0,function*(){if(!he(ct))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return _.U$.base64Url(ct.x).toUint8Array()})}static sign({key:ct,data:Et}){return D(this,void 0,void 0,function*(){const kt=yield G.privateKeyToBytes({privateKey:ct});return F.ev.sign(Et,kt)})}static validatePublicKey({publicKeyBytes:ct}){return D(this,void 0,void 0,function*(){try{F.ev.ExtendedPoint.fromHex(ct).assertValidity()}catch{return!1}return!0})}static verify({key:ct,signature:Et,data:kt}){return D(this,void 0,void 0,function*(){const Qe=yield G.publicKeyToBytes({publicKey:ct});return F.ev.verify(Et,kt,Qe)})}}var fe=function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})};class Se extends k{computePublicKey({key:ct}){return fe(this,void 0,void 0,function*(){if(!be(ct))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===ct.crv){const Et=yield G.computePublicKey({key:ct});return Et.alg="EdDSA",Et}throw new Error(`Unsupported curve: ${ct.crv}`)})}generateKey({algorithm:ct}){return fe(this,void 0,void 0,function*(){if("Ed25519"===ct){const Et=yield G.generateKey();return Et.alg="EdDSA",Et}})}getPublicKey({key:ct}){return fe(this,void 0,void 0,function*(){if(!be(ct))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===ct.crv){const Et=yield G.getPublicKey({key:ct});return Et.alg="EdDSA",Et}throw new Error(`Unsupported curve: ${ct.crv}`)})}sign({key:ct,data:Et}){return fe(this,void 0,void 0,function*(){if(!be(ct))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===ct.crv)return yield G.sign({key:ct,data:Et});throw new Error(`Unsupported curve: ${ct.crv}`)})}verify({key:ct,signature:Et,data:kt}){return fe(this,void 0,void 0,function*(){if(!he(ct))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===ct.crv)return yield G.verify({key:ct,signature:Et,data:kt});throw new Error(`Unsupported curve: ${ct.crv}`)})}}var Ae=function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})};const rt={Ed25519:{implementation:Se,names:["Ed25519"]},secp256k1:{implementation:pt,names:["ES256K","secp256k1"]},secp256r1:{implementation:pt,names:["ES256","secp256r1"]},"SHA-256":{implementation:P,names:["SHA-256"]}};class Ht{constructor(ct){var Et;this._algorithmInstances=new Map,this._keyStore=null!==(Et=ct?.keyStore)&&void 0!==Et?Et:new _.ny}digest({algorithm:ct,data:Et}){return Ae(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:ct}).digest({algorithm:ct,data:Et})})}exportKey({keyUri:ct}){return Ae(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:ct})})}generateKey({algorithm:ct}){return Ae(this,void 0,void 0,function*(){const kt=yield this.getAlgorithm({algorithm:ct}).generateKey({algorithm:ct});if(void 0===kt?.kid)throw new Error("Generated key is missing a required property: kid");const Qe=`${ge}${kt.kid}`;return yield this._keyStore.set(Qe,kt),Qe})}getKeyUri({key:ct}){return Ae(this,void 0,void 0,function*(){const Et=yield me({jwk:ct});return`${ge}${Et}`})}getPublicKey({keyUri:ct}){return Ae(this,void 0,void 0,function*(){const Et=yield this.getPrivateKey({keyUri:ct}),kt=this.getAlgorithmName({key:Et});return yield this.getAlgorithm({algorithm:kt}).getPublicKey({key:Et})})}importKey({key:ct}){var Et;return Ae(this,void 0,void 0,function*(){if(!ne(ct))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const kt=structuredClone(ct);null!==(Et=kt.kid)&&void 0!==Et||(kt.kid=yield me({jwk:kt}));const Qe=yield this.getKeyUri({key:kt});return yield this._keyStore.set(Qe,kt),Qe})}sign({keyUri:ct,data:Et}){return Ae(this,void 0,void 0,function*(){const kt=yield this.getPrivateKey({keyUri:ct}),Qe=this.getAlgorithmName({key:kt});return this.getAlgorithm({algorithm:Qe}).sign({data:Et,key:kt})})}verify({key:ct,signature:Et,data:kt}){return Ae(this,void 0,void 0,function*(){const Qe=this.getAlgorithmName({key:ct});return this.getAlgorithm({algorithm:Qe}).verify({key:ct,signature:Et,data:kt})})}getAlgorithm({algorithm:ct}){var Et;const kt=null===(Et=rt[ct])||void 0===Et?void 0:Et.implementation;if(!kt)throw new Error(`Algorithm not supported: ${ct}`);return this._algorithmInstances.has(kt)||this._algorithmInstances.set(kt,new kt),this._algorithmInstances.get(kt)}getAlgorithmName({key:ct}){const Et=ct.alg,kt=ct.crv;for(const Qe in rt){const et=rt[Qe];if(Et&&et.names.includes(Et))return Qe;if(kt&&et.names.includes(kt))return Qe}throw new Error(`Unable to determine algorithm based on provided input: alg=${Et}, crv=${kt}`)}getPrivateKey({keyUri:ct}){return Ae(this,void 0,void 0,function*(){const Et=yield this._keyStore.get(ct);if(!Et)throw new Error(`Key not found: ${ct}`);return Et})}}var vt=E(86703),Ot=E(62953);function qt(Jt){if(!Jt||void 0===Jt.property||void 0===Jt.inObject)throw new TypeError("One or more required parameters missing: 'property, properties'");const{property:ct,inObject:Et}=Jt;if(!(ct in Et))throw new TypeError(`Required parameter missing: '${ct}'`)}function mn(Jt){if(!Jt||void 0===Jt.property||void 0===Jt.allowedProperties)throw new TypeError("One or more required parameters missing: 'property, allowedProperties'");const{property:ct,allowedProperties:Et}=Jt;if(Array.isArray(Et)&&!Et.includes(ct)||Et instanceof Set&&!Et.has(ct)||Et instanceof Map&&!Et.has(ct)){const kt=Array.from(Et instanceof Map?Et.keys():Et).join(", ");throw new TypeError(`Out of range: '${ct}'. Must be one of '${kt}'`)}}function ln(Jt){const ct={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(Jt.alg&&Object.values(ct).includes(Jt.alg))return Jt.alg;if(Jt.crv&&Object.keys(ct).includes(Jt.crv))return ct[Jt.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${Jt.alg}, crv=${Jt.crv}. Supported 'alg' values: ${Object.values(ct).join(", ")}. Supported 'crv' values: ${Object.keys(ct).join(", ")}.`)}function rr(){return!(!globalThis.crypto||!globalThis.crypto.subtle)}function Tn(Jt){return(0,Ot.po)(Jt)}function rn(){return vt.E.randomUUID()}var Xt=E(91879),ut=function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})};const Bt=[128,192,256],At=[96,104,112,120,128];class fn{static bytesToPrivateKey({privateKeyBytes:ct}){return ut(this,void 0,void 0,function*(){const Et={k:_.U$.uint8Array(ct).toBase64Url(),kty:"oct"};return Et.kid=yield me({jwk:Et}),Et})}static decrypt({key:ct,data:Et,iv:kt,additionalData:Qe,tagLength:et}){return ut(this,void 0,void 0,function*(){if(12!==kt.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(et&&!At.includes(et))throw new RangeError(`The tag length is invalid: Must be ${At.join(", ")} bits`);const Be=(0,Xt.NZ)(),Fe=yield Be.importKey("jwk",ct,{name:"AES-GCM"},!0,["decrypt"]),_t=Object.assign(Object.assign({name:"AES-GCM",iv:kt},et&&{tagLength:et}),Qe&&{additionalData:Qe}),lt=yield Be.decrypt(_t,Fe,Et);return new Uint8Array(lt)})}static encrypt({data:ct,iv:Et,key:kt,additionalData:Qe,tagLength:et}){return ut(this,void 0,void 0,function*(){if(12!==Et.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(et&&!At.includes(et))throw new RangeError(`The tag length is invalid: Must be ${At.join(", ")} bits`);const Be=(0,Xt.NZ)(),Fe=yield Be.importKey("jwk",kt,{name:"AES-GCM"},!0,["encrypt"]),_t=Object.assign(Object.assign({name:"AES-GCM",iv:Et},et&&{tagLength:et}),Qe&&{additionalData:Qe}),lt=yield Be.encrypt(_t,Fe,ct);return new Uint8Array(lt)})}static generateKey({length:ct}){return ut(this,void 0,void 0,function*(){if(!Bt.includes(ct))throw new RangeError(`The key length is invalid: Must be ${Bt.join(", ")} bits`);const Et=(0,Xt.NZ)(),kt=yield Et.generateKey({name:"AES-GCM",length:ct},!0,["encrypt"]),Fe=function(Jt,ct){var Et={};for(var kt in Jt)Object.prototype.hasOwnProperty.call(Jt,kt)&&ct.indexOf(kt)<0&&(Et[kt]=Jt[kt]);if(null!=Jt&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(kt=Object.getOwnPropertySymbols(Jt);Qe<kt.length;Qe++)ct.indexOf(kt[Qe])<0&&Object.prototype.propertyIsEnumerable.call(Jt,kt[Qe])&&(Et[kt[Qe]]=Jt[kt[Qe]])}return Et}(yield Et.exportKey("jwk",kt),["ext","key_ops"]);return Fe.kid=yield me({jwk:Fe}),Fe})}static privateKeyToBytes({privateKey:ct}){return ut(this,void 0,void 0,function*(){if(!Ce(ct))throw new Error("AesGcm: The provided key is not a valid oct private key.");return _.U$.base64Url(ct.k).toUint8Array()})}}var Un=function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})};class wn extends k{decrypt(ct){return Un(this,void 0,void 0,function*(){return fn.decrypt(ct)})}encrypt(ct){return Un(this,void 0,void 0,function*(){return fn.encrypt(ct)})}generateKey({algorithm:ct}){return Un(this,void 0,void 0,function*(){const Et={A128GCM:128,A192GCM:192,A256GCM:256}[ct],kt=yield fn.generateKey({length:Et});return kt.alg=ct,kt})}}var Fn=function(Jt,ct,Et,kt){return new(Et||(Et=Promise))(function(et,Be){function Fe(nt){try{lt(kt.next(nt))}catch(jt){Be(jt)}}function _t(nt){try{lt(kt.throw(nt))}catch(jt){Be(jt)}}function lt(nt){nt.done?et(nt.value):function Qe(et){return et instanceof Et?et:new Et(function(Be){Be(et)})}(nt.value).then(Fe,_t)}lt((kt=kt.apply(Jt,ct||[])).next())})};class Oe{static bytesToPrivateKey({privateKeyBytes:ct}){return Fn(this,void 0,void 0,function*(){const Et=F.TU.getPublicKey(ct),kt={kty:"OKP",crv:"X25519",d:_.U$.uint8Array(ct).toBase64Url(),x:_.U$.uint8Array(Et).toBase64Url()};return kt.kid=yield me({jwk:kt}),kt})}static bytesToPublicKey({publicKeyBytes:ct}){return Fn(this,void 0,void 0,function*(){const Et={kty:"OKP",crv:"X25519",x:_.U$.uint8Array(ct).toBase64Url()};return Et.kid=yield me({jwk:Et}),Et})}static computePublicKey({key:ct}){return Fn(this,void 0,void 0,function*(){const Et=yield Oe.privateKeyToBytes({privateKey:ct}),kt=F.TU.getPublicKey(Et),Qe={kty:"OKP",crv:"X25519",x:_.U$.uint8Array(kt).toBase64Url()};return Qe.kid=yield me({jwk:Qe}),Qe})}static generateKey(){return Fn(this,void 0,void 0,function*(){const ct=F.TU.utils.randomPrivateKey(),Et=yield Oe.bytesToPrivateKey({privateKeyBytes:ct});return Et.kid=yield me({jwk:Et}),Et})}static getPublicKey({key:ct}){var Et;return Fn(this,void 0,void 0,function*(){if(!be(ct)||"X25519"!==ct.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let Qe=function(Jt,ct){var Et={};for(var kt in Jt)Object.prototype.hasOwnProperty.call(Jt,kt)&&ct.indexOf(kt)<0&&(Et[kt]=Jt[kt]);if(null!=Jt&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(kt=Object.getOwnPropertySymbols(Jt);Qe<kt.length;Qe++)ct.indexOf(kt[Qe])<0&&Object.prototype.propertyIsEnumerable.call(Jt,kt[Qe])&&(Et[kt[Qe]]=Jt[kt[Qe]])}return Et}(ct,["d"]);return null!==(Et=Qe.kid)&&void 0!==Et||(Qe.kid=yield me({jwk:Qe})),Qe})}static privateKeyToBytes({privateKey:ct}){return Fn(this,void 0,void 0,function*(){if(!be(ct))throw new Error("X25519: The provided key is not a valid OKP private key.");return _.U$.base64Url(ct.d).toUint8Array()})}static publicKeyToBytes({publicKey:ct}){return Fn(this,void 0,void 0,function*(){if(!he(ct))throw new Error("X25519: The provided key is not a valid OKP public key.");return _.U$.base64Url(ct.x).toUint8Array()})}static sharedSecret({privateKeyA:ct,publicKeyB:Et}){return Fn(this,void 0,void 0,function*(){if("x"in ct&&"x"in Et&&ct.x===Et.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const kt=yield Oe.privateKeyToBytes({privateKey:ct}),Qe=yield Oe.publicKeyToBytes({publicKey:Et});return F.TU.getSharedSecret(kt,Qe)})}}var Je=E(25953),Kt=E(34931);const pn=(Jt,ct)=>255&Jt[ct++]|(255&Jt[ct++])<<8;class jn{constructor(ct){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,ct=(0,Je.ZJ)(ct),(0,Je.qj)(ct,32);const Et=pn(ct,0),kt=pn(ct,2),Qe=pn(ct,4),et=pn(ct,6),Be=pn(ct,8),Fe=pn(ct,10),_t=pn(ct,12),lt=pn(ct,14);this.r[0]=8191&Et,this.r[1]=8191&(Et>>>13|kt<<3),this.r[2]=7939&(kt>>>10|Qe<<6),this.r[3]=8191&(Qe>>>7|et<<9),this.r[4]=255&(et>>>4|Be<<12),this.r[5]=Be>>>1&8190,this.r[6]=8191&(Be>>>14|Fe<<2),this.r[7]=8065&(Fe>>>11|_t<<5),this.r[8]=8191&(_t>>>8|lt<<8),this.r[9]=lt>>>5&127;for(let nt=0;nt<8;nt++)this.pad[nt]=pn(ct,16+2*nt)}process(ct,Et,kt=!1){const Qe=kt?0:2048,{h:et,r:Be}=this,Fe=Be[0],_t=Be[1],lt=Be[2],nt=Be[3],jt=Be[4],In=Be[5],hn=Be[6],Vt=Be[7],Dn=Be[8],sr=Be[9],_r=pn(ct,Et+0),jr=pn(ct,Et+2),Br=pn(ct,Et+4),Vr=pn(ct,Et+6),so=pn(ct,Et+8),Kr=pn(ct,Et+10),Nr=pn(ct,Et+12),zr=pn(ct,Et+14);let Qr=et[0]+(8191&_r),wr=et[1]+(8191&(_r>>>13|jr<<3)),ri=et[2]+(8191&(jr>>>10|Br<<6)),Yi=et[3]+(8191&(Br>>>7|Vr<<9)),co=et[4]+(8191&(Vr>>>4|so<<12)),$i=et[5]+(so>>>1&8191),Eo=et[6]+(8191&(so>>>14|Kr<<2)),xo=et[7]+(8191&(Kr>>>11|Nr<<5)),xi=et[8]+(8191&(Nr>>>8|zr<<8)),Po=et[9]+(zr>>>5|Qe),ui=0,Sr=ui+Qr*Fe+wr*(5*sr)+ri*(5*Dn)+Yi*(5*Vt)+co*(5*hn);ui=Sr>>>13,Sr&=8191,Sr+=$i*(5*In)+Eo*(5*jt)+xo*(5*nt)+xi*(5*lt)+Po*(5*_t),ui+=Sr>>>13,Sr&=8191;let Do=ui+Qr*_t+wr*Fe+ri*(5*sr)+Yi*(5*Dn)+co*(5*Vt);ui=Do>>>13,Do&=8191,Do+=$i*(5*hn)+Eo*(5*In)+xo*(5*jt)+xi*(5*nt)+Po*(5*lt),ui+=Do>>>13,Do&=8191;let Io=ui+Qr*lt+wr*_t+ri*Fe+Yi*(5*sr)+co*(5*Dn);ui=Io>>>13,Io&=8191,Io+=$i*(5*Vt)+Eo*(5*hn)+xo*(5*In)+xi*(5*jt)+Po*(5*nt),ui+=Io>>>13,Io&=8191;let Da=ui+Qr*nt+wr*lt+ri*_t+Yi*Fe+co*(5*sr);ui=Da>>>13,Da&=8191,Da+=$i*(5*Dn)+Eo*(5*Vt)+xo*(5*hn)+xi*(5*In)+Po*(5*jt),ui+=Da>>>13,Da&=8191;let vl=ui+Qr*jt+wr*nt+ri*lt+Yi*_t+co*Fe;ui=vl>>>13,vl&=8191,vl+=$i*(5*sr)+Eo*(5*Dn)+xo*(5*Vt)+xi*(5*hn)+Po*(5*In),ui+=vl>>>13,vl&=8191;let Ac=ui+Qr*In+wr*jt+ri*nt+Yi*lt+co*_t;ui=Ac>>>13,Ac&=8191,Ac+=$i*Fe+Eo*(5*sr)+xo*(5*Dn)+xi*(5*Vt)+Po*(5*hn),ui+=Ac>>>13,Ac&=8191;let Cc=ui+Qr*hn+wr*In+ri*jt+Yi*nt+co*lt;ui=Cc>>>13,Cc&=8191,Cc+=$i*_t+Eo*Fe+xo*(5*sr)+xi*(5*Dn)+Po*(5*Vt),ui+=Cc>>>13,Cc&=8191;let da=ui+Qr*Vt+wr*hn+ri*In+Yi*jt+co*nt;ui=da>>>13,da&=8191,da+=$i*lt+Eo*_t+xo*Fe+xi*(5*sr)+Po*(5*Dn),ui+=da>>>13,da&=8191;let gs=ui+Qr*Dn+wr*Vt+ri*hn+Yi*In+co*jt;ui=gs>>>13,gs&=8191,gs+=$i*nt+Eo*lt+xo*_t+xi*Fe+Po*(5*sr),ui+=gs>>>13,gs&=8191;let La=ui+Qr*sr+wr*Dn+ri*Vt+Yi*hn+co*In;ui=La>>>13,La&=8191,La+=$i*jt+Eo*nt+xo*lt+xi*_t+Po*Fe,ui+=La>>>13,La&=8191,ui=(ui<<2)+ui|0,ui=ui+Sr|0,Sr=8191&ui,ui>>>=13,Do+=ui,et[0]=Sr,et[1]=Do,et[2]=Io,et[3]=Da,et[4]=vl,et[5]=Ac,et[6]=Cc,et[7]=da,et[8]=gs,et[9]=La}finalize(){const{h:ct,pad:Et}=this,kt=new Uint16Array(10);let Qe=ct[1]>>>13;ct[1]&=8191;for(let Fe=2;Fe<10;Fe++)ct[Fe]+=Qe,Qe=ct[Fe]>>>13,ct[Fe]&=8191;ct[0]+=5*Qe,Qe=ct[0]>>>13,ct[0]&=8191,ct[1]+=Qe,Qe=ct[1]>>>13,ct[1]&=8191,ct[2]+=Qe,kt[0]=ct[0]+5,Qe=kt[0]>>>13,kt[0]&=8191;for(let Fe=1;Fe<10;Fe++)kt[Fe]=ct[Fe]+Qe,Qe=kt[Fe]>>>13,kt[Fe]&=8191;kt[9]-=8192;let et=(1^Qe)-1;for(let Fe=0;Fe<10;Fe++)kt[Fe]&=et;et=~et;for(let Fe=0;Fe<10;Fe++)ct[Fe]=ct[Fe]&et|kt[Fe];ct[0]=65535&(ct[0]|ct[1]<<13),ct[1]=65535&(ct[1]>>>3|ct[2]<<10),ct[2]=65535&(ct[2]>>>6|ct[3]<<7),ct[3]=65535&(ct[3]>>>9|ct[4]<<4),ct[4]=65535&(ct[4]>>>12|ct[5]<<1|ct[6]<<14),ct[5]=65535&(ct[6]>>>2|ct[7]<<11),ct[6]=65535&(ct[7]>>>5|ct[8]<<8),ct[7]=65535&(ct[8]>>>8|ct[9]<<5);let Be=ct[0]+Et[0];ct[0]=65535&Be;for(let Fe=1;Fe<8;Fe++)Be=(ct[Fe]+Et[Fe]|0)+(Be>>>16)|0,ct[Fe]=65535&Be}update(ct){(0,Kt.t2)(this);const{buffer:Et,blockLen:kt}=this,Qe=(ct=(0,Je.ZJ)(ct)).length;for(let et=0;et<Qe;){const Be=Math.min(kt-this.pos,Qe-et);if(Be!==kt)Et.set(ct.subarray(et,et+Be),this.pos),this.pos+=Be,et+=Be,this.pos===kt&&(this.process(Et,0,!1),this.pos=0);else for(;kt<=Qe-et;et+=kt)this.process(ct,et)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(ct){(0,Kt.t2)(this),(0,Kt.CG)(ct,this),this.finished=!0;const{buffer:Et,h:kt}=this;let{pos:Qe}=this;if(Qe){for(Et[Qe++]=1;Qe<16;Qe++)Et[Qe]=0;this.process(Et,0,!0)}this.finalize();let et=0;for(let Be=0;Be<8;Be++)ct[et++]=kt[Be]>>>0,ct[et++]=kt[Be]>>>8;return ct}digest(){const{buffer:ct,outputLen:Et}=this;this.digestInto(ct);const kt=ct.slice(0,Et);return this.destroy(),kt}}const or=function zn(Jt){const ct=(kt,Qe)=>Jt(Qe).update((0,Je.ZJ)(kt)).digest(),Et=Jt(new Uint8Array(32));return ct.outputLen=Et.outputLen,ct.blockLen=Et.blockLen,ct.create=kt=>Jt(kt),ct}(Jt=>new jn(Jt)),yr=(0,Je.AI)("expand 16-byte k"),Rr=(0,Je.AI)("expand 32-byte k"),Ir=(0,Je.DH)(yr),Lr=(0,Je.DH)(Rr);function fr(Jt,ct){return Jt<<ct|Jt>>>32-ct}function en(Jt){return Jt.byteOffset%4==0}const _n=2**32-1,Ut=new Uint32Array;function Sn(Jt,ct){const{allowShortKeys:Et,extendNonceFn:kt,counterLength:Qe,counterRight:et,rounds:Be}=(0,Je.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},ct);if("function"!=typeof Jt)throw new Error("core must be a function");return(0,Kt.ai)(Qe),(0,Kt.ai)(Be),(0,Kt.lc)(et),(0,Kt.lc)(Et),(Fe,_t,lt,nt,jt=0)=>{(0,Kt.ee)(Fe),(0,Kt.ee)(_t),(0,Kt.ee)(lt);const In=lt.length;if(nt||(nt=new Uint8Array(In)),(0,Kt.ee)(nt),(0,Kt.ai)(jt),jt<0||jt>=_n)throw new Error("arx: counter overflow");if(nt.length<In)throw new Error(`arx: output (${nt.length}) is shorter than data (${In})`);const hn=[];let Dn,sr,Vt=Fe.length;if(32===Vt)Dn=Fe.slice(),hn.push(Dn),sr=Lr;else{if(16!==Vt||!Et)throw new Error(`arx: invalid 32-byte key, got length=${Vt}`);Dn=new Uint8Array(32),Dn.set(Fe),Dn.set(Fe,16),sr=Ir,hn.push(Dn)}en(_t)||(_t=_t.slice(),hn.push(_t));const _r=(0,Je.DH)(Dn);if(kt){if(24!==_t.length)throw new Error("arx: extended nonce must be 24 bytes");kt(sr,_r,(0,Je.DH)(_t.subarray(0,16)),_r),_t=_t.subarray(16)}const jr=16-Qe;if(jr!==_t.length)throw new Error(`arx: nonce must be ${jr} or 16 bytes`);if(12!==jr){const Vr=new Uint8Array(12);Vr.set(_t,et?0:12-_t.length),hn.push(_t=Vr)}const Br=(0,Je.DH)(_t);for(function gn(Jt,ct,Et,kt,Qe,et,Be,Fe){const _t=Qe.length,lt=new Uint8Array(64),nt=(0,Je.DH)(lt),jt=en(Qe)&&en(et),In=jt?(0,Je.DH)(Qe):Ut,hn=jt?(0,Je.DH)(et):Ut;for(let Vt=0;Vt<_t;Be++){if(Jt(ct,Et,kt,nt,Be,Fe),Be>=_n)throw new Error("arx: counter overflow");const Dn=Math.min(64,_t-Vt);if(jt&&64===Dn){const sr=Vt/4;if(Vt%4!=0)throw new Error("arx: invalid block position");for(let jr,_r=0;_r<16;_r++)jr=sr+_r,hn[jr]=In[jr]^nt[_r];Vt+=64}else{for(let _r,sr=0;sr<Dn;sr++)_r=Vt+sr,et[_r]=Qe[_r]^lt[sr];Vt+=Dn}}}(Jt,sr,_r,Br,lt,nt,jt,Be);hn.length>0;)hn.pop().fill(0);return nt}}function ur(Jt,ct,Et,kt,Qe,et=20){let Be=Jt[0],Fe=Jt[1],_t=Jt[2],lt=Jt[3],nt=ct[0],jt=ct[1],In=ct[2],hn=ct[3],Vt=ct[4],Dn=ct[5],sr=ct[6],_r=ct[7],jr=Qe,Br=Et[0],Vr=Et[1],so=Et[2],Kr=Be,Nr=Fe,zr=_t,Qr=lt,wr=nt,ri=jt,Yi=In,co=hn,$i=Vt,Eo=Dn,xo=sr,xi=_r,Po=jr,ui=Br,Sr=Vr,Do=so;for(let Da=0;Da<et;Da+=2)Kr=Kr+wr|0,Po=fr(Po^Kr,16),$i=$i+Po|0,wr=fr(wr^$i,12),Kr=Kr+wr|0,Po=fr(Po^Kr,8),$i=$i+Po|0,wr=fr(wr^$i,7),Nr=Nr+ri|0,ui=fr(ui^Nr,16),Eo=Eo+ui|0,ri=fr(ri^Eo,12),Nr=Nr+ri|0,ui=fr(ui^Nr,8),Eo=Eo+ui|0,ri=fr(ri^Eo,7),zr=zr+Yi|0,Sr=fr(Sr^zr,16),xo=xo+Sr|0,Yi=fr(Yi^xo,12),zr=zr+Yi|0,Sr=fr(Sr^zr,8),xo=xo+Sr|0,Yi=fr(Yi^xo,7),Qr=Qr+co|0,Do=fr(Do^Qr,16),xi=xi+Do|0,co=fr(co^xi,12),Qr=Qr+co|0,Do=fr(Do^Qr,8),xi=xi+Do|0,co=fr(co^xi,7),Kr=Kr+ri|0,Do=fr(Do^Kr,16),xo=xo+Do|0,ri=fr(ri^xo,12),Kr=Kr+ri|0,Do=fr(Do^Kr,8),xo=xo+Do|0,ri=fr(ri^xo,7),Nr=Nr+Yi|0,Po=fr(Po^Nr,16),xi=xi+Po|0,Yi=fr(Yi^xi,12),Nr=Nr+Yi|0,Po=fr(Po^Nr,8),xi=xi+Po|0,Yi=fr(Yi^xi,7),zr=zr+co|0,ui=fr(ui^zr,16),$i=$i+ui|0,co=fr(co^$i,12),zr=zr+co|0,ui=fr(ui^zr,8),$i=$i+ui|0,co=fr(co^$i,7),Qr=Qr+wr|0,Sr=fr(Sr^Qr,16),Eo=Eo+Sr|0,wr=fr(wr^Eo,12),Qr=Qr+wr|0,Sr=fr(Sr^Qr,8),Eo=Eo+Sr|0,wr=fr(wr^Eo,7);let Io=0;kt[Io++]=Be+Kr|0,kt[Io++]=Fe+Nr|0,kt[Io++]=_t+zr|0,kt[Io++]=lt+Qr|0,kt[Io++]=nt+wr|0,kt[Io++]=jt+ri|0,kt[Io++]=In+Yi|0,kt[Io++]=hn+co|0,kt[Io++]=Vt+$i|0,kt[Io++]=Dn+Eo|0,kt[Io++]=sr+xo|0,kt[Io++]=_r+xi|0,kt[Io++]=jr+Po|0,kt[Io++]=Br+ui|0,kt[Io++]=Vr+Sr|0,kt[Io++]=so+Do|0}const _i=Sn(ur,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Oi=Sn(ur,{counterRight:!1,counterLength:8,extendNonceFn:function ar(Jt,ct,Et,kt){let Qe=Jt[0],et=Jt[1],Be=Jt[2],Fe=Jt[3],_t=ct[0],lt=ct[1],nt=ct[2],jt=ct[3],In=ct[4],hn=ct[5],Vt=ct[6],Dn=ct[7],sr=Et[0],_r=Et[1],jr=Et[2],Br=Et[3];for(let so=0;so<20;so+=2)Qe=Qe+_t|0,sr=fr(sr^Qe,16),In=In+sr|0,_t=fr(_t^In,12),Qe=Qe+_t|0,sr=fr(sr^Qe,8),In=In+sr|0,_t=fr(_t^In,7),et=et+lt|0,_r=fr(_r^et,16),hn=hn+_r|0,lt=fr(lt^hn,12),et=et+lt|0,_r=fr(_r^et,8),hn=hn+_r|0,lt=fr(lt^hn,7),Be=Be+nt|0,jr=fr(jr^Be,16),Vt=Vt+jr|0,nt=fr(nt^Vt,12),Be=Be+nt|0,jr=fr(jr^Be,8),Vt=Vt+jr|0,nt=fr(nt^Vt,7),Fe=Fe+jt|0,Br=fr(Br^Fe,16),Dn=Dn+Br|0,jt=fr(jt^Dn,12),Fe=Fe+jt|0,Br=fr(Br^Fe,8),Dn=Dn+Br|0,jt=fr(jt^Dn,7),Qe=Qe+lt|0,Br=fr(Br^Qe,16),Vt=Vt+Br|0,lt=fr(lt^Vt,12),Qe=Qe+lt|0,Br=fr(Br^Qe,8),Vt=Vt+Br|0,lt=fr(lt^Vt,7),et=et+nt|0,sr=fr(sr^et,16),Dn=Dn+sr|0,nt=fr(nt^Dn,12),et=et+nt|0,sr=fr(sr^et,8),Dn=Dn+sr|0,nt=fr(nt^Dn,7),Be=Be+jt|0,_r=fr(_r^Be,16),In=In+_r|0,jt=fr(jt^In,12),Be=Be+jt|0,_r=fr(_r^Be,8),In=In+_r|0,jt=fr(jt^In,7),Fe=Fe+_t|0,jr=fr(jr^Fe,16),hn=hn+jr|0,_t=fr(_t^hn,12),Fe=Fe+_t|0,jr=fr(jr^Fe,8),hn=hn+jr|0,_t=fr(_t^hn,7);let Vr=0;kt[Vr++]=Qe,kt[Vr++]=et,kt[Vr++]=Be,kt[Vr++]=Fe,kt[Vr++]=sr,kt[Vr++]=_r,kt[Vr++]=jr,kt[Vr++]=Br},allowShortKeys:!1}),_o=new Uint8Array(16),Ii=(Jt,ct)=>{Jt.update(ct);const Et=ct.length%16;Et&&Jt.update(_o.subarray(Et))},tn=new Uint8Array(32);function dn(Jt,ct,Et,kt,Qe){const et=Jt(ct,Et,tn),Be=or.create(et);Qe&&Ii(Be,Qe),Ii(Be,kt);const Fe=new Uint8Array(16),_t=(0,Je.O8)(Fe);(0,Je.zp)(_t,0,BigInt(Qe?Qe.length:0),!0),(0,Je.zp)(_t,8,BigInt(kt.length),!0),Be.update(Fe);const lt=Be.digest();return et.fill(0),lt}const It=Jt=>(ct,Et,kt)=>((0,Je.qj)(ct,32),(0,Je.qj)(Et),{encrypt:(et,Be)=>{const Fe=et.length,_t=Fe+16;Be?(0,Je.qj)(Be,_t):Be=new Uint8Array(_t),Jt(ct,Et,et,Be,1);const lt=dn(Jt,ct,Et,Be.subarray(0,-16),kt);return Be.set(lt,Fe),Be},decrypt:(et,Be)=>{const Fe=et.length,_t=Fe-16;if(Fe<16)throw new Error("encrypted data must be at least 16 bytes");Be?(0,Je.qj)(Be,_t):Be=new Uint8Array(_t);const lt=et.subarray(0,-16),nt=et.subarray(-16),jt=dn(Jt,ct,Et,lt,kt);if(!(0,Je.ex)(nt,jt))throw new Error("invalid tag");return Jt(ct,Et,lt,Be,1),Be}});It(_i),It(Oi)},2198:($e,j,E)=>{"use strict";E.d(j,{A:()=>he});const g="0123456789abcdef",_=[],B=[];for(let ne=0;ne<256;ne++)_[ne]=g[ne>>4&15]+g[15&ne],ne<16&&(ne<10?B[48+ne]=ne:B[87+ne]=ne);const H=ne=>{const te=ne.length;let de="",_e=0;for(;_e<te;)de+=_[ne[_e++]];return de};for(var R=typeof Uint8Array>"u"?[]:new Uint8Array(256),O=0;O<64;O++)R["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(O)]=O;const U=new TextDecoder,K=(ne,te)=>te?new TextDecoder(te).decode(ne):U.decode(ne),Q=new TextEncoder,q=ne=>Q.encode(ne);function s(ne){const te=ne<0?1:0;return ne=Math.abs(Number(ne||1)),Math.floor(Math.log10(ne))+1+te}function d(ne){return ArrayBuffer.isView(ne)?"arraybufferview":Array.isArray(ne)?"array":ne instanceof Number?"number":ne instanceof Boolean?"boolean":ne instanceof Set?"set":ne instanceof Map?"map":ne instanceof String?"string":ne instanceof ArrayBuffer?"arraybuffer":typeof ne}function h(ne,te,de){const _e=[];let Ie=null;return h._encode(_e,ne),Ie=((ne,te=0)=>{const de=ne.length||0;if(!te){let Ve=de;for(;Ve--;)te+=ne[Ve].length}const _e=new Uint8Array(te);let Ie=te,He=de;for(;He--;)Ie-=ne[He].length,_e.set(ne[He],Ie);return _e})(_e),h.bytes=Ie.length,ArrayBuffer.isView(te)?(te.set(Ie,de),te):Ie}typeof window<"u"?window:self,h.bytes=-1,h._floatConversionDetected=!1,h._encode=function(ne,te){if(null!=te)switch(d(te)){case"object":h.dict(ne,te);break;case"map":h.dictMap(ne,te);break;case"array":h.list(ne,te);break;case"set":h.listSet(ne,te);break;case"string":h.string(ne,te);break;case"number":case"boolean":h.number(ne,te);break;case"arraybufferview":h.buffer(ne,new Uint8Array(te.buffer,te.byteOffset,te.byteLength));break;case"arraybuffer":h.buffer(ne,new Uint8Array(te))}};const f=new Uint8Array([101]),w=new Uint8Array([100]),I=new Uint8Array([108]);h.buffer=function(ne,te){ne.push(q(te.length+":"),te)},h.string=function(ne,te){ne.push(q(q(te).byteLength+":"+te))},h.number=function(ne,te){if(Number.isInteger(te))return ne.push(q("i"+BigInt(te)+"e"));const de=2147483648,He=(te/de|0)*de+(te%de|0);ne.push(q("i"+He+"e")),He!==te&&!h._floatConversionDetected&&(h._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+te+'":','Bencoding only defines support for integers, value was converted to "'+He+'"'),console.trace())},h.dict=function(ne,te){ne.push(w);let _e,de=0;const Ie=Object.keys(te).sort(),He=Ie.length;for(;de<He;de++)_e=Ie[de],null!=te[_e]&&(h.string(ne,_e),h._encode(ne,te[_e]));ne.push(f)},h.dictMap=function(ne,te){ne.push(w);const de=Array.from(te.keys()).sort();for(const _e of de)null!=te.get(_e)&&(ArrayBuffer.isView(_e)?h._encode(ne,_e):h.string(ne,String(_e)),h._encode(ne,te.get(_e)));ne.push(f)},h.list=function(ne,te){let de=0;const _e=te.length;for(ne.push(I);de<_e;de++)null!=te[de]&&h._encode(ne,te[de]);ne.push(f)},h.listSet=function(ne,te){ne.push(I);for(const de of te)null!=de&&h._encode(ne,de);ne.push(f)};const L=h;function ee(ne,te,de){let _e=0,Ie=1;for(let He=te;He<de;He++){const Ve=ne[He];if(Ve<58&&Ve>=48)_e=10*_e+(Ve-48);else if(He!==te||43!==Ve){if(He===te&&45===Ve){Ie=-1;continue}if(46===Ve)break;throw new Error("not a number: buffer["+He+"] = "+Ve)}}return _e*Ie}function le(ne,te,de,_e){return null==ne||0===ne.length?null:("number"!=typeof te&&null==_e&&(_e=te,te=void 0),"number"!=typeof de&&null==_e&&(_e=de,de=void 0),le.position=0,le.encoding=_e||null,le.data=ArrayBuffer.isView(ne)?new Uint8Array(ne.slice(te,de)):q(ne),le.bytes=le.data.length,le.next())}function xe(ne){if(null==ne)return 0;const de=d(ne);switch(de){case"arraybufferview":return function Ue(ne){const te=ne.byteLength-ne.byteOffset;return s(te)+1+te}(ne);case"string":return function me(ne){const te=q(ne).byteLength;return s(te)+1+te}(ne);case"array":case"set":return function Me(ne){let te=2;for(const de of ne)te+=xe(de);return te}(ne);case"number":return 1+s(Math.floor(ne))+1;case"bigint":return 1+ne.toString().length+1;case"object":return function ge(ne){let te=2;const de=Object.keys(ne);for(let _e=0;_e<de.length;_e++){const Ie=q(de[_e]).byteLength;te+=s(Ie)+1+Ie,te+=xe(ne[de[_e]])}return te}(ne);case"map":return function Ge(ne){let te=2;for(const[de,_e]of ne){const Ie=q(de).byteLength;te+=s(Ie)+1+Ie,te+=xe(_e)}return te}(ne);default:throw new TypeError(`Unsupported value of type "${de}"`)}}le.bytes=0,le.position=0,le.data=null,le.encoding=null,le.next=function(){switch(le.data[le.position]){case 100:return le.dictionary();case 108:return le.list();case 105:return le.integer();default:return le.buffer()}},le.find=function(ne){let te=le.position;const de=le.data.length,_e=le.data;for(;te<de;){if(_e[te]===ne)return te;te++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(ne)+'" [0x'+ne.toString(16)+"]")},le.dictionary=function(){le.position++;const ne={};for(;101!==le.data[le.position];){const te=le.buffer();let de=K(te);de.includes("\ufffd")&&(de=H(te)),ne[de]=le.next()}return le.position++,ne},le.list=function(){le.position++;const ne=[];for(;101!==le.data[le.position];)ne.push(le.next());return le.position++,ne},le.integer=function(){const ne=le.find(101),te=ee(le.data,le.position+1,ne);return le.position+=ne+1-le.position,te},le.buffer=function(){let ne=le.find(58);const te=ee(le.data,le.position,ne),de=++ne+te;return le.position=de,le.encoding?K(le.data.slice(ne,de)):le.data.slice(ne,de)};const he={encode:L,decode:le,byteLength:xe,encodingLength:xe}},10797:($e,j,E)=>{"use strict";E.d(j,{_Q:()=>V,yE:()=>Q});var b=E(52054);class k{constructor(Y,W,re){this.name=Y,this.prefix=W,this.baseEncode=re}encode(Y){if(Y instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Y)}`;throw Error("Unknown type, must be binary type")}}class S{constructor(Y,W,re){if(this.name=Y,this.prefix=W,void 0===W.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=W.codePointAt(0),this.baseDecode=re}decode(Y){if("string"==typeof Y){if(Y.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Y)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Y.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(Y){return R(this,Y)}}class P{constructor(Y){this.decoders=Y}or(Y){return R(this,Y)}decode(Y){const re=this.decoders[Y[0]];if(re)return re.decode(Y);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Y)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const R=(q,Y)=>new P({...q.decoders||{[q.prefix]:q},...Y.decoders||{[Y.prefix]:Y}});class O{constructor(Y,W,re,ie){this.name=Y,this.prefix=W,this.baseEncode=re,this.baseDecode=ie,this.encoder=new k(Y,W,re),this.decoder=new S(Y,W,ie)}encode(Y){return this.encoder.encode(Y)}decode(Y){return this.decoder.decode(Y)}}const A=({name:q,prefix:Y,encode:W,decode:re})=>new O(q,Y,W,re),V=({prefix:q,name:Y,alphabet:W})=>{const{encode:re,decode:ie}=function g(q,Y){if(q.length>=255)throw new TypeError("Alphabet too long");for(var W=new Uint8Array(256),re=0;re<W.length;re++)W[re]=255;for(var ie=0;ie<q.length;ie++){var ae=q.charAt(ie),ue=ae.charCodeAt(0);if(255!==W[ue])throw new TypeError(ae+" is ambiguous");W[ue]=ie}var ce=q.length,pe=q.charAt(0),ve=Math.log(ce)/Math.log(256),De=Math.log(256)/Math.log(ce);function s(h){if("string"!=typeof h)throw new TypeError("Expected String");if(0===h.length)return new Uint8Array;var f=0;if(" "!==h[f]){for(var w=0,I=0;h[f]===pe;)w++,f++;for(var L=(h.length-f)*ve+1>>>0,x=new Uint8Array(L);h[f];){var a=W[h.charCodeAt(f)];if(255===a)return;for(var v=0,Z=L-1;(0!==a||v<I)&&-1!==Z;Z--,v++)x[Z]=(a+=ce*x[Z]>>>0)%256>>>0,a=a/256>>>0;if(0!==a)throw new Error("Non-zero carry");I=v,f++}if(" "!==h[f]){for(var z=L-I;z!==L&&0===x[z];)z++;for(var ee=new Uint8Array(w+(L-z)),le=w;z!==L;)ee[le++]=x[z++];return ee}}}return{encode:function C(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===h.length)return"";for(var f=0,w=0,I=0,L=h.length;I!==L&&0===h[I];)I++,f++;for(var x=(L-I)*De+1>>>0,a=new Uint8Array(x);I!==L;){for(var v=h[I],Z=0,z=x-1;(0!==v||Z<w)&&-1!==z;z--,Z++)a[z]=(v+=256*a[z]>>>0)%ce>>>0,v=v/ce>>>0;if(0!==v)throw new Error("Non-zero carry");w=Z,I++}for(var ee=x-w;ee!==x&&0===a[ee];)ee++;for(var le=pe.repeat(f);ee<x;++ee)le+=q.charAt(a[ee]);return le},decodeUnsafe:s,decode:function d(h){var f=s(h);if(f)return f;throw new Error(`Non-${Y} character`)}}}(W,Y);return A({prefix:q,name:Y,encode:re,decode:ae=>(0,b.au)(ie(ae))})},Q=({name:q,prefix:Y,bitsPerChar:W,alphabet:re})=>A({prefix:Y,name:q,encode:ie=>((q,Y,W)=>{const re="="===Y[Y.length-1],ie=(1<<W)-1;let ae="",ue=0,ce=0;for(let pe=0;pe<q.length;++pe)for(ce=ce<<8|q[pe],ue+=8;ue>W;)ue-=W,ae+=Y[ie&ce>>ue];if(ue&&(ae+=Y[ie&ce<<W-ue]),re)for(;ae.length*W&7;)ae+="=";return ae})(ie,re,W),decode:ie=>((q,Y,W,re)=>{const ie={};for(let De=0;De<Y.length;++De)ie[Y[De]]=De;let ae=q.length;for(;"="===q[ae-1];)--ae;const ue=new Uint8Array(ae*W/8|0);let ce=0,pe=0,ve=0;for(let De=0;De<ae;++De){const C=ie[q[De]];if(void 0===C)throw new SyntaxError(`Non-${re} character`);pe=pe<<W|C,ce+=W,ce>=8&&(ce-=8,ue[ve++]=255&pe>>ce)}if(ce>=W||255&pe<<8-ce)throw new SyntaxError("Unexpected end of data");return ue})(ie,re,W,q)})},15130:($e,j,E)=>{"use strict";E.d(j,{RG:()=>_,jd:()=>O});var g=E(10797);const _=(0,g.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),O=((0,g.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,g.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,g.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,g.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,g.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,g.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,g.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,g.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}))},80286:($e,j,E)=>{"use strict";E.d(j,{s:()=>_});var g=E(10797);const _=(0,g._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,g._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},14725:($e,j,E)=>{"use strict";E.d(j,{r0:()=>H});var g=E(10797);(0,g.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,g.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const H=(0,g.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});(0,g.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},52054:($e,j,E)=>{"use strict";E.d(j,{aI:()=>H,au:()=>b}),new Uint8Array(0);const H=(R,O)=>{if(R===O)return!0;if(R.byteLength!==O.byteLength)return!1;for(let A=0;A<R.byteLength;A++)if(R[A]!==O[A])return!1;return!0},b=R=>{if(R instanceof Uint8Array&&"Uint8Array"===R.constructor.name)return R;if(R instanceof ArrayBuffer)return new Uint8Array(R);if(ArrayBuffer.isView(R))return new Uint8Array(R.buffer,R.byteOffset,R.byteLength);throw new Error("Unknown type, must be binary type")}},41861:($e,j,E)=>{"use strict";E.d(j,{TO:()=>A});var g=E(28206),_=E(56580),B=E(80286),H=E(15130),b=E(52054);const k=(re,ie)=>{const{bytes:ae,version:ue}=re;return 0===ue?U(ae,O(re),ie||B.s.encoder):K(ae,O(re),ie||H.RG.encoder)},R=new WeakMap,O=re=>{const ie=R.get(re);if(null==ie){const ae=new Map;return R.set(re,ae),ae}return ie};class A{constructor(ie,ae,ue,ce){this.code=ae,this.version=ie,this.multihash=ue,this.bytes=ce,this["/"]=ce}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:ie,multihash:ae}=this;if(ie!==Q)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(ae.code!==q)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return A.createV0(ae)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:ie,digest:ae}=this.multihash,ue=_.vt(ie,ae);return A.createV1(this.code,ue)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(ie){return A.equals(this,ie)}static equals(ie,ae){return ae&&ie.code===ae.code&&ie.version===ae.version&&_.aI(ie.multihash,ae.multihash)}toString(ie){return k(this,ie)}toJSON(){return{"/":k(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(ie){if(null==ie)return null;const ae=ie;if(ae instanceof A)return ae;if(null!=ae["/"]&&ae["/"]===ae.bytes||ae.asCID===ae){const{version:ue,code:ce,multihash:pe,bytes:ve}=ae;return new A(ue,ce,pe,ve||Y(ue,ce,pe.bytes))}if(!0===ae[W]){const{version:ue,multihash:ce,code:pe}=ae,ve=_.D4(ce);return A.create(ue,pe,ve)}return null}static create(ie,ae,ue){if("number"!=typeof ae)throw new Error("String codecs are no longer supported");if(!(ue.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(ie){case 0:if(ae!==Q)throw new Error(`Version 0 CID must use dag-pb (code: ${Q}) block encoding`);return new A(ie,ae,ue,ue.bytes);case 1:{const ce=Y(ie,ae,ue.bytes);return new A(ie,ae,ue,ce)}default:throw new Error("Invalid version")}}static createV0(ie){return A.create(0,Q,ie)}static createV1(ie,ae){return A.create(1,ie,ae)}static decode(ie){const[ae,ue]=A.decodeFirst(ie);if(ue.length)throw new Error("Incorrect length");return ae}static decodeFirst(ie){const ae=A.inspectBytes(ie),ue=ae.size-ae.multihashSize,ce=(0,b.au)(ie.subarray(ue,ue+ae.multihashSize));if(ce.byteLength!==ae.multihashSize)throw new Error("Incorrect length");const pe=ce.subarray(ae.multihashSize-ae.digestSize),ve=new _.np(ae.multihashCode,ae.digestSize,pe,ce);return[0===ae.version?A.createV0(ve):A.createV1(ae.codec,ve),ie.subarray(ae.size)]}static inspectBytes(ie){let ae=0;const ue=()=>{const[h,f]=g.decode(ie.subarray(ae));return ae+=f,h};let ce=ue(),pe=Q;if(18===ce?(ce=0,ae=0):pe=ue(),0!==ce&&1!==ce)throw new RangeError(`Invalid CID version ${ce}`);const ve=ae,De=ue(),C=ue(),s=ae+C;return{version:ce,codec:pe,multihashCode:De,digestSize:C,multihashSize:s-ve,size:s}}static parse(ie,ae){const[ue,ce]=V(ie,ae),pe=A.decode(ce);if(0===pe.version&&"Q"!==ie[0])throw Error("Version 0 CID string must not include multibase prefix");return O(pe).set(ue,ie),pe}}const V=(re,ie)=>{switch(re[0]){case"Q":return[B.s.prefix,(ie||B.s).decode(`${B.s.prefix}${re}`)];case B.s.prefix:return[B.s.prefix,(ie||B.s).decode(re)];case H.RG.prefix:return[H.RG.prefix,(ie||H.RG).decode(re)];default:if(null==ie)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[re[0],ie.decode(re)]}},U=(re,ie,ae)=>{const{prefix:ue}=ae;if(ue!==B.s.prefix)throw Error(`Cannot string encode V0 in ${ae.name} encoding`);const ce=ie.get(ue);if(null==ce){const pe=ae.encode(re).slice(1);return ie.set(ue,pe),pe}return ce},K=(re,ie,ae)=>{const{prefix:ue}=ae,ce=ie.get(ue);if(null==ce){const pe=ae.encode(re);return ie.set(ue,pe),pe}return ce},Q=112,q=18,Y=(re,ie,ae)=>{const ue=g.encodingLength(re),ce=ue+g.encodingLength(ie),pe=new Uint8Array(ce+ae.byteLength);return g.encodeTo(re,pe,0),g.encodeTo(ie,pe,ue),pe.set(ae,ce),pe},W=Symbol.for("@ipld/js-cid/CID")},56580:($e,j,E)=>{"use strict";E.d(j,{D4:()=>H,aI:()=>b,np:()=>k,vt:()=>B});var g=E(52054),_=E(28206);const B=(S,P)=>{const R=P.byteLength,O=_.encodingLength(S),A=O+_.encodingLength(R),V=new Uint8Array(A+R);return _.encodeTo(S,V,0),_.encodeTo(R,V,O),V.set(P,A),new k(S,R,P,V)},H=S=>{const P=(0,g.au)(S),[R,O]=_.decode(P),[A,V]=_.decode(P.subarray(O)),U=P.subarray(O+V);if(U.byteLength!==A)throw new Error("Incorrect length");return new k(R,A,U,P)},b=(S,P)=>S===P||S.code===P.code&&S.size===P.size&&P.bytes instanceof Uint8Array&&(0,g.aI)(S.bytes,P.bytes);class k{constructor(P,R,O,A){this.code=P,this.size=R,this.digest=O,this.bytes=A}}},92059:($e,j,E)=>{"use strict";E.d(j,{H:()=>_});var g=E(56580);const _=({name:H,code:b,encode:k})=>new B(H,b,k);class B{constructor(b,k,S){this.name=b,this.code=k,this.encode=S}digest(b){if(b instanceof Uint8Array){const k=this.encode(b);return k instanceof Uint8Array?g.vt(this.code,k):k.then(S=>g.vt(this.code,S))}throw Error("Unknown type, must be binary type")}}},41405:($e,j,E)=>{"use strict";E.d(j,{L8:()=>_,TO:()=>g.TO});var g=E(41861),_=E(28206);E(52054),E(92059),E(56580)},28206:($e,j,E)=>{"use strict";E.r(j),E.d(j,{decode:()=>pe,encodeTo:()=>ve,encodingLength:()=>De});var _=128,H=-128,b=Math.pow(2,31),P=128,R=127,A=Math.pow(2,7),V=Math.pow(2,14),U=Math.pow(2,21),K=Math.pow(2,28),Q=Math.pow(2,35),q=Math.pow(2,42),Y=Math.pow(2,49),W=Math.pow(2,56),re=Math.pow(2,63);const ce={encode:function k(C,s,d){s=s||[];for(var h=d=d||0;C>=b;)s[d++]=255&C|_,C/=128;for(;C&H;)s[d++]=255&C|_,C>>>=7;return s[d]=0|C,k.bytes=d-h+1,s},decode:function O(C,h){var I,d=0,f=0,w=h=h||0,L=C.length;do{if(w>=L)throw O.bytes=0,new RangeError("Could not decode varint");I=C[w++],d+=f<28?(I&R)<<f:(I&R)*Math.pow(2,f),f+=7}while(I>=P);return O.bytes=w-h,d},encodingLength:function(C){return C<A?1:C<V?2:C<U?3:C<K?4:C<Q?5:C<q?6:C<Y?7:C<W?8:C<re?9:10}},pe=(C,s=0)=>[ce.decode(C,s),ce.decode.bytes],ve=(C,s,d=0)=>(ce.encode(C,s,d),s),De=C=>ce.encodingLength(C)},10467:($e,j,E)=>{"use strict";function g(B,H,b,k,S,P,R){try{var O=B[P](R),A=O.value}catch(V){return void b(V)}O.done?H(A):Promise.resolve(A).then(k,S)}function _(B){return function(){var H=this,b=arguments;return new Promise(function(k,S){var P=B.apply(H,b);function R(A){g(P,k,S,R,O,"next",A)}function O(A){g(P,k,S,R,O,"throw",A)}R(void 0)})}}E.d(j,{A:()=>_})},31635:($e,j,E)=>{"use strict";function V(a,v,Z,z){return new(Z||(Z=Promise))(function(le,we){function Me(me){try{ge(z.next(me))}catch(Ue){we(Ue)}}function Ge(me){try{ge(z.throw(me))}catch(Ue){we(Ue)}}function ge(me){me.done?le(me.value):function ee(le){return le instanceof Z?le:new Z(function(we){we(le)})}(me.value).then(Me,Ge)}ge((z=z.apply(a,v||[])).next())})}function ae(a){return this instanceof ae?(this.v=a,this):new ae(a)}function ue(a,v,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,z=Z.apply(a,v||[]),le=[];return ee={},Me("next"),Me("throw"),Me("return",function we(Ce){return function(be){return Promise.resolve(be).then(Ce,Ue)}}),ee[Symbol.asyncIterator]=function(){return this},ee;function Me(Ce,be){z[Ce]&&(ee[Ce]=function(he){return new Promise(function(ne,te){le.push([Ce,he,ne,te])>1||Ge(Ce,he)})},be&&(ee[Ce]=be(ee[Ce])))}function Ge(Ce,be){try{!function ge(Ce){Ce.value instanceof ae?Promise.resolve(Ce.value.v).then(me,Ue):xe(le[0][2],Ce)}(z[Ce](be))}catch(he){xe(le[0][3],he)}}function me(Ce){Ge("next",Ce)}function Ue(Ce){Ge("throw",Ce)}function xe(Ce,be){Ce(be),le.shift(),le.length&&Ge(le[0][0],le[0][1])}}function pe(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,v=a[Symbol.asyncIterator];return v?v.call(a):(a=function q(a){var v="function"==typeof Symbol&&Symbol.iterator,Z=v&&a[v],z=0;if(Z)return Z.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&z>=a.length&&(a=void 0),{value:a&&a[z++],done:!a}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),Z={},z("next"),z("throw"),z("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function z(le){Z[le]=a[le]&&function(we){return new Promise(function(Me,Ge){!function ee(le,we,Me,Ge){Promise.resolve(Ge).then(function(ge){le({value:ge,done:Me})},we)}(Me,Ge,(we=a[le](we)).done,we.value)})}}}E.d(j,{AQ:()=>ue,N3:()=>ae,sH:()=>V,xN:()=>pe}),"function"==typeof SuppressedError&&SuppressedError},83813:$e=>{"use strict";$e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:$e=>{"use strict";$e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:$e=>{"use strict";$e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:$e=>{"use strict";$e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:$e=>{"use strict";$e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:$e=>{"use strict";$e.exports={rE:"6.5.5"}},15579:$e=>{"use strict";$e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},$e=>{var j=g=>$e($e.s=g);j(94073),j(19998)}]);