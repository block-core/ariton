"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9466],{69466:(Y,m,n)=>{n.r(m),n.d(m,{RegistriesComponent:()=>N});var c=n(10467),t=n(93953),l=n(9159),p=n(96695),u=n(2042),y=n(45024),R=n(96354),F=n(57786),C=n(7673);const E=[{id:1,name:"Hydrogen"},{id:2,name:"Helium"},{id:3,name:"Lithium"},{id:4,name:"Beryllium"},{id:5,name:"Boron"},{id:6,name:"Carbon"},{id:7,name:"Nitrogen"},{id:8,name:"Oxygen"},{id:9,name:"Fluorine"},{id:10,name:"Neon"},{id:11,name:"Sodium"},{id:12,name:"Magnesium"},{id:13,name:"Aluminum"},{id:14,name:"Silicon"},{id:15,name:"Phosphorus"},{id:16,name:"Sulfur"},{id:17,name:"Chlorine"},{id:18,name:"Argon"},{id:19,name:"Potassium"},{id:20,name:"Calcium"}];class G extends y.qS{constructor(){super(),this.data=E}connect(){if(this.paginator&&this.sort)return(0,F.h)((0,C.of)(this.data),this.paginator.page,this.sort.sortChange).pipe((0,R.T)(()=>this.getPagedData(this.getSortedData([...this.data]))));throw Error("Please set the paginator and sort on the data source before connecting.")}disconnect(){}getPagedData(o){return this.paginator?o.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize):o}getSortedData(o){return this.sort&&this.sort.active&&""!==this.sort.direction?o.sort((i,e)=>{const r="asc"===this.sort?.direction;switch(this.sort?.active){case"name":return h(i.name,e.name,r);case"id":return h(+i.id,+e.id,r);default:return 0}}):o}}function h(a,o,i){return(a<o?-1:1)*(i?1:-1)}var d=n(25596),g=n(88834),M=n(34635),P=n(22312),$=n(60177),j=n(33347),A=n(36815),T=n(50296),f=n(9183),v=n(14823),x=n(30046);function B(a,o){1&a&&t.nrm(0,"mat-spinner")}function D(a,o){if(1&a&&(t.EFF(0," Website: "),t.j41(1,"a",4),t.EFF(2),t.k0s(),t.nrm(3,"br")),2&a){const i=t.XpG().$implicit;t.R7$(),t.Y8G("href",i.data.url,t.B4B),t.R7$(),t.JRh(i.data.url)}}function S(a,o){if(1&a){const i=t.RV6();t.j41(0,"mat-card",0)(1,"mat-card-header"),t.nrm(2,"img",1),t.j41(3,"mat-card-title"),t.EFF(4),t.k0s(),t.j41(5,"mat-card-subtitle"),t.EFF(6),t.k0s()(),t.j41(7,"mat-card-content"),t.DNE(8,D,4,2),t.EFF(9," Owner: "),t.j41(10,"span",2),t.EFF(11),t.nI1(12,"did"),t.k0s(),t.nrm(13,"br")(14,"br"),t.EFF(15),t.k0s(),t.j41(16,"mat-card-actions")(17,"button",3),t.bIt("click",function(){const r=t.eBV(i).$implicit,s=t.XpG(2);return t.Njj(s.openRegistry(r.data.registry))}),t.EFF(18,"Open"),t.k0s()()()}if(2&a){const i=o.$implicit;t.R7$(2),t.Y8G("src",i.data.icon,t.B4B),t.R7$(2),t.JRh(i.data.name),t.R7$(2),t.JRh(i.data.title),t.R7$(2),t.vxM(i.data.url?8:-1),t.R7$(2),t.Y8G("matTooltip",i.data.owner),t.R7$(),t.JRh(t.bMT(12,7,i.data.owner)),t.R7$(4),t.SpI(" ",i.data.description," ")}}function X(a,o){if(1&a&&t.Z7z(0,S,19,9,"mat-card",0,t.fX1),2&a){const i=t.XpG();t.Dyx(i.records())}}let N=(()=>{class a{constructor(i){var e=this;this.router=i,this.dataSource=new G,this.identity=(0,t.WQX)(M.K),this.app=(0,t.WQX)(T.d),this.records=(0,t.vPA)([]),this.layout=(0,t.WQX)(A.Y),this.loading=(0,t.vPA)(!0),this.layout.marginOn(),this.layout.resetActions(),(0,t.QZP)((0,c.A)(function*(){e.identity.initialized()&&(yield e.load())}))}load(){var i=this;return(0,c.A)(function*(){const e=yield i.identity.web5.dwn.records.query({from:i.app.aritonDid,message:{filter:{protocol:P.u5.uri,protocolPath:"profile",dataFormat:"application/json"}}});i.records.set([]),e.records&&e.records.forEach(function(){var r=(0,c.A)(function*(s){let O=yield s.data.json(),Q={record:s,data:O};i.records.update(I=>[...I,Q])});return function(s){return r.apply(this,arguments)}}()),i.loading.set(!1)})()}ngAfterViewInit(){}openRegistry(i){this.router.navigate(["registry",i])}static#t=this.\u0275fac=function(e){return new(e||a)(t.rXU(x.Ix))};static#i=this.\u0275cmp=t.VBU({type:a,selectors:[["app-registries"]],viewQuery:function(e,r){if(1&e&&(t.GBs(p.iy,5),t.GBs(u.B4,5),t.GBs(l.Zl,5)),2&e){let s;t.mGM(s=t.lsd())&&(r.paginator=s.first),t.mGM(s=t.lsd())&&(r.sort=s.first),t.mGM(s=t.lsd())&&(r.table=s.first)}},standalone:!0,features:[t.aNF],decls:4,vars:1,consts:[["appearance","outlined",1,"registry-card"],["mat-card-avatar","",1,"example-header-image",3,"src"],[3,"matTooltip"],["mat-button","",3,"click"],["target","_blank",3,"href"]],template:function(e,r){1&e&&(t.j41(0,"h3"),t.EFF(1,"Highlighted"),t.k0s(),t.DNE(2,B,1,0,"mat-spinner")(3,X,2,0)),2&e&&(t.R7$(2),t.vxM(r.loading()?2:3))},dependencies:[j.k,f.D6,f.LG,$.MD,g.Hl,g.$z,d.Hu,d.RN,d.YY,d.QG,d.m2,d.MM,d.Lc,d.dh,l.tP,p.Ou,u.NQ,v.uc,v.oV],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}.registry-card[_ngcontent-%COMP%]{margin-bottom:1em}.sample-button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return a})()}}]);