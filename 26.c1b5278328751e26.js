"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[26],{65026:(j,u,e)=>{e.r(u),e.d(u,{RegistryComponent:()=>T});var d=e(10467),R=e(9159),h=e(96695),v=e(2042),F=e(25596),p=e(88834),c=e(18498),o=e(3902),E=e(99213),g=e(71997),O=e(60177),D=e(14823),t=e(93953),P=e(69226);const M=n=>["/data","bsn",n];function y(n,_){if(1&n&&(t.j41(0,"mat-list-item")(1,"mat-icon",2),t.EFF(2,"token"),t.k0s(),t.j41(3,"div",3),t.EFF(4),t.k0s(),t.j41(5,"div",4),t.EFF(6),t.k0s()()),2&n){const s=_.$implicit;t.R7$(4),t.JRh(s.name),t.R7$(2),t.JRh(s.short)}}function I(n,_){if(1&n&&(t.j41(0,"mat-list-item")(1,"mat-icon",2),t.EFF(2,"source"),t.k0s(),t.j41(3,"div",3),t.EFF(4),t.k0s(),t.j41(5,"div",4),t.EFF(6),t.k0s()()),2&n){const s=_.$implicit;t.R7$(4),t.JRh(s.name),t.R7$(2),t.JRh(s.short)}}function f(n,_){1&n&&t.EFF(0),2&n&&t.SpI(" ",_.$implicit.id,", ")}function C(n,_){if(1&n&&(t.j41(0,"mat-list-item",1)(1,"mat-icon",2),t.EFF(2,"account_circle"),t.k0s(),t.j41(3,"div",3),t.EFF(4),t.k0s(),t.j41(5,"div",4),t.Z7z(6,f,1,1,null,null,t.fX1),t.k0s()()),2&n){const s=_.$implicit;t.Y8G("routerLink",t.eq3(2,M,s.id)),t.R7$(4),t.JRh(s.short),t.R7$(2),t.Dyx(s.tags)}}let T=(()=>{class n{constructor(s,i){this.router=s,this.registryService=i,this.tokens=[],this.sources=[],this.accounts=[]}ngAfterViewInit(){}shorten(s){return s.substring(0,5)+"..."+s.substring(s.length-5)}ngOnInit(){var s=this;return(0,d.A)(function*(){var i=yield fetch("https://bsn.mtla.me/json");if(i.ok){var r=yield i.json();s.updated=r.createDate,s.tokens=r.knownTokens.map(m=>{const[a,l]=m.split("-");return{id:l,name:a,short:s.shorten(l)}}),s.sources=r.usedSources.map(m=>{const[a,l]=m.split("-");return{id:l,name:a,short:s.shorten(l)}}),s.accounts=Object.entries(r.accounts).map(([m,a])=>({id:m,short:s.shorten(m),balances:a.balances,profile:a.profile,tags:a.tags?Object.entries(a.tags).map(([l,k])=>({id:l,value:k})):[]})),s.registryService.bsn.tokens=s.tokens,s.registryService.bsn.sources=s.sources,s.registryService.bsn.accounts=s.accounts,console.log(s.registryService.bsn)}})()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(c.Ix),t.rXU(P.x))};static#s=this.\u0275cmp=t.VBU({type:n,selectors:[["app-registry"]],standalone:!0,features:[t.aNF],decls:19,vars:4,consts:[["mat-subheader",""],[3,"routerLink"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(i,r){1&i&&(t.j41(0,"h1"),t.EFF(1,"Registry: Blockchain Social Network (BSN)"),t.k0s(),t.j41(2,"p"),t.EFF(3),t.nI1(4,"date"),t.k0s(),t.j41(5,"mat-list")(6,"div",0),t.EFF(7,"Tokens"),t.k0s(),t.Z7z(8,y,7,2,"mat-list-item",null,t.fX1),t.nrm(10,"mat-divider"),t.j41(11,"div",0),t.EFF(12,"Sources"),t.k0s(),t.Z7z(13,I,7,2,"mat-list-item",null,t.fX1),t.j41(15,"div",0),t.EFF(16,"Accounts"),t.k0s(),t.Z7z(17,C,8,4,"mat-list-item",1,t.fX1),t.k0s()),2&i&&(t.R7$(3),t.SpI("Updated: ",t.i5U(4,1,r.updated,"medium"),""),t.R7$(5),t.Dyx(r.tokens),t.R7$(5),t.Dyx(r.sources),t.R7$(4),t.Dyx(r.accounts))},dependencies:[p.Hl,o.Fg,o.jt,o.YE,o.ZV,o.EI,g.q,o.C_,o.yE,E.m_,E.An,O.vh,g.w,F.Hu,R.tP,D.uc,c.iI,c.Wk,h.Ou,v.NQ],styles:[".mat-mdc-list-item-icon[_ngcontent-%COMP%]{color:#0000008a}"]})}return n})()}}]);