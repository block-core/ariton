"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[140],{11140:(k,g,r)=>{r.r(g),r.d(g,{DataComponent:()=>T});var c=r(21801),d=r(96850),m=r(10467),e=r(93953),p=r(88834),u=r(3902),f=r(60177),y=r(18498),l=r(47358),h=r(64109);const F=[{name:"components",type:"folder",children:[{name:"src",type:"folder",children:[{name:"cdk",type:"folder",children:[{name:"package.json",type:"file"},{name:"BUILD.bazel",type:"file"}]},{name:"material",type:"folder"}]}]},{name:"angular",type:"folder",children:[{name:"packages",type:"folder",children:[{name:".travis.yml",type:"file"},{name:"firebase.json",type:"file"}]},{name:"package.json",type:"file"}]},{name:"angularjs",type:"folder",children:[{name:"gulpfile.js",type:"file"},{name:"README.md",type:"file"}]}];var b=r(58653);const v=a=>["view",a];function E(a,s){if(1&a&&(e.j41(0,"div",2)(1,"span",6),e.EFF(2,"ID: "),e.j41(3,"a",7),e.EFF(4),e.k0s()(),e.j41(5,"span"),e.EFF(6),e.nrm(7,"br"),e.EFF(8),e.nrm(9,"br"),e.EFF(10),e.nrm(11,"br"),e.EFF(12),e.nrm(13,"br"),e.EFF(14),e.nrm(15,"br"),e.EFF(16),e.nrm(17,"br"),e.k0s()()),2&a){const t=s.$implicit;e.R7$(3),e.Y8G("routerLink",e.eq3(8,v,t.id)),e.R7$(),e.JRh(t.id),e.R7$(2),e.SpI("Author: ",t.author,""),e.R7$(2),e.SpI(" Format: ",t.dataFormat,""),e.R7$(2),e.SpI(" Size: ",t.dataSize,""),e.R7$(2),e.SpI(" Created: ",t.dateCreated,""),e.R7$(2),e.SpI(" Published: ",t.published,""),e.R7$(2),e.SpI(" Date Published: ",t.datePublished,"")}}function C(a,s){if(1&a&&(e.j41(0,"mat-tree-node",8),e.nrm(1,"button",9),e.j41(2,"mat-icon",10),e.EFF(3),e.k0s(),e.EFF(4),e.k0s()),2&a){const t=s.$implicit;e.R7$(2),e.BMQ("aria-label",t.type+"icon"),e.R7$(),e.SpI(" ","file"===t.type?"description":"folder"," "),e.R7$(),e.SpI(" ",t.name," ")}}function j(a,s){if(1&a&&(e.j41(0,"mat-tree-node",11)(1,"button",12)(2,"mat-icon",13),e.EFF(3),e.k0s()(),e.j41(4,"mat-icon",10),e.EFF(5),e.k0s(),e.EFF(6),e.k0s()),2&a){const t=s.$implicit,n=e.XpG();e.R7$(),e.BMQ("aria-label","Toggle "+t.name),e.R7$(2),e.SpI(" ",n.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),e.R7$(),e.BMQ("aria-label",t.type+"icon"),e.R7$(),e.SpI(" ","file"===t.type?"description":"folder"," "),e.R7$(),e.SpI(" ",t.name," ")}}let D=(()=>{class a{constructor(t){this.identityService=t,this.record=(0,e.vPA)(null),this.records=(0,e.vPA)([]),(0,e.QZP)(()=>{console.log("Identity Service initialized.",this.identityService.initialized()),this.load()}),this.treeFlattener=new l.yj(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new h.XW(this.getLevel,this.isExpandable),this.dataSource=new l.zw(this.treeControl,this.treeFlattener),this.dataSource.data=F}transformer(t,n){return{name:t.name,type:t.type,level:n,expandable:!!t.children}}getLevel(t){return t.level}isExpandable(t){return t.expandable}hasChild(t,n){return n.expandable}getChildren(t){return t.children}load(){var t=this;return(0,m.A)(function*(){const{protocols:n}=yield t.identityService.web5.dwn.protocols.query({message:{filter:{protocol:"https://music.org/protocol"}}});console.log(n);var{records:i}=yield t.identityService.web5.dwn.records.query({message:{filter:{dataFormat:"application/json"}}});console.log("All records:"),console.log(i),i&&t.records.set(i);var{records:i}=yield t.identityService.web5.dwn.records.query({from:t.identityService.did,message:{filter:{schema:"https://schema.org/Playlist",dataFormat:"application/json"}}});console.log(i);const o=yield t.identityService.web5.dwn.records.query({message:{filter:{parentId:"bafyreianzpmhbgcgam5mys722vnsiuwn7y4ek6kjeyjptttquasw4hge2m"}}});console.log(o.records);var{records:i}=yield t.identityService.web5.dwn.records.query({message:{filter:{protocol:"https://playlist.org/protocol",protocolPath:"playlist/video"}}});console.log(i)})()}createRecord(t){var n=this;return(0,m.A)(function*(){var{record:o}=yield n.identityService.web5.dwn.records.create({data:{content:"Hello Web5",description:"Keep Building!",tags:["web5","ariton","did"]},message:{dataFormat:"application/json",published:t}});console.log(o);var{record:o}=yield n.identityService.web5.dwn.records.create({data:"this record will be written to the local DWN",message:{dataFormat:"text/plain"}});console.log(o)})()}updateRecord(){return(0,m.A)(function*(){})()}static#e=this.\u0275fac=function(n){return new(n||a)(e.rXU(b.K))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-data-management"]],standalone:!0,features:[e.aNF],decls:15,vars:3,consts:[["mat-flat-button","",3,"click"],[1,"example-list-wrapping"],[1,"record-line"],[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matListItemTitle",""],[3,"routerLink"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"type-icon"],["matTreeNodePadding",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(n,o){1&n&&(e.nrm(0,"br"),e.j41(1,"button",0),e.bIt("click",function(){return o.load()}),e.EFF(2,"Load Data"),e.k0s(),e.EFF(3,"\n\xa0\n"),e.j41(4,"button",0),e.bIt("click",function(){return o.createRecord(!1)}),e.EFF(5,"Create Private Record"),e.k0s(),e.EFF(6,"\n\xa0\n"),e.j41(7,"button",0),e.bIt("click",function(){return o.createRecord(!0)}),e.EFF(8,"Create Public Record"),e.k0s(),e.j41(9,"mat-list",1),e.Z7z(10,E,18,10,"div",2,e.fX1),e.k0s(),e.j41(12,"mat-tree",3),e.DNE(13,C,5,3,"mat-tree-node",4)(14,j,7,5,"mat-tree-node",5),e.k0s()),2&n&&(e.R7$(10),e.Dyx(o.records()),e.R7$(2),e.Y8G("dataSource",o.dataSource)("treeControl",o.treeControl),e.R7$(2),e.Y8G("matTreeNodeDefWhen",o.hasChild))},dependencies:[y.Wk,f.MD,d.RI,c.m_,c.An,p.Hl,p.$z,p.iY,u.Fg,u.jt,u.yE,l.jH,l.yI,l.yF,l.pO,l.lQ,l.d6],styles:[".record-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #e0e0e0}.example-tab-icon[_ngcontent-%COMP%]{margin-right:8px}"]})}return a})();function S(a,s){1&a&&(e.j41(0,"mat-icon",1),e.EFF(1,"source"),e.k0s(),e.EFF(2," Your Data "))}function R(a,s){1&a&&(e.j41(0,"mat-icon",1),e.EFF(1,"folder"),e.k0s(),e.EFF(2," Public Data "))}let T=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-data"]],standalone:!0,features:[e.aNF],decls:8,vars:0,consts:[["mat-tab-label",""],[1,"example-tab-icon"]],template:function(n,o){1&n&&(e.j41(0,"mat-tab-group")(1,"mat-tab"),e.DNE(2,S,3,0,"ng-template",0),e.nrm(3,"app-data-management"),e.k0s(),e.j41(4,"mat-tab"),e.DNE(5,R,3,0,"ng-template",0),e.j41(6,"p"),e.EFF(7,'Not implemented yet. See "Your Data" tab.'),e.k0s()()())},dependencies:[d.RI,d.ES,d.mq,d.T8,c.m_,c.An,D],styles:[".example-tab-icon[_ngcontent-%COMP%]{margin-right:8px}"]})}return a})()}}]);