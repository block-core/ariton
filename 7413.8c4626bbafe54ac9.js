(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7413],{44273:(q,p,s)=>{"use strict";var h,y,D,w,E,f,l,i,d,o,a,v,b,m,_,C,S;s.r(p),s.d(p,{JSONPath:()=>Pn}),(y={})[(h={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",y[h.EOF]="<end>",y[h.Identifier]="Identifier",y[h.Keyword]="Keyword",y[h.NullLiteral]="Null",y[h.NumericLiteral]="Numeric",y[h.Punctuator]="Punctuator",y[h.StringLiteral]="String",y[h.RegularExpression]="RegularExpression",D=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];var N={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};function B($,z){if(!$)throw new Error("ASSERT: "+z)}function k($){return $>=48&&$<=57}function F($){return"0123456789abcdefABCDEF".indexOf($)>=0}function I($){return"01234567".indexOf($)>=0}function H($){return 32===$||9===$||11===$||12===$||160===$||$>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf($)>=0}function ne($){return 10===$||13===$||8232===$||8233===$}function oe($){return 64==$||36===$||95===$||$>=65&&$<=90||$>=97&&$<=122||92===$||$>=128&&f.NonAsciiIdentifierStart.test(String.fromCharCode($))}function x($){return 36===$||95===$||$>=65&&$<=90||$>=97&&$<=122||$>=48&&$<=57||92===$||$>=128&&f.NonAsciiIdentifierPart.test(String.fromCharCode($))}function R($){switch($){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function X($){return"eval"===$||"arguments"===$}function ye($,z,fe,re,ae){var ve;B("number"==typeof fe,"Comment must have valid position"),!(C.lastCommentStart>=fe)&&(C.lastCommentStart=fe,ve={type:$,value:z},S.range&&(ve.range=[fe,re]),S.loc&&(ve.loc=ae),S.comments.push(ve),S.attachComment&&(S.leadingComments.push(ve),S.trailingComments.push(ve)))}function U($){var z,fe,re,ae;for(z=o-$,fe={start:{line:a,column:o-v-$}};o<b;)if(re=i.charCodeAt(o),++o,ne(re))return S.comments&&(ae=i.slice(z+$,o-1),fe.end={line:a,column:o-v-1},ye("Line",ae,z,o-1,fe)),13===re&&10===i.charCodeAt(o)&&++o,++a,void(v=o);S.comments&&(ae=i.slice(z+$,o),fe.end={line:a,column:o-v},ye("Line",ae,z,o,fe))}function Y(){var $,z,fe,re;for(S.comments&&($=o-2,z={start:{line:a,column:o-v-2}});o<b;)if(ne(fe=i.charCodeAt(o)))13===fe&&10===i.charCodeAt(o+1)&&++o,++a,++o,v=o,o>=b&&Ue({},E.UnexpectedToken,"ILLEGAL");else if(42===fe){if(47===i.charCodeAt(o+1))return++o,++o,void(S.comments&&(re=i.slice($+2,o-2),z.end={line:a,column:o-v},ye("Block",re,$,o,z)));++o}else++o;Ue({},E.UnexpectedToken,"ILLEGAL")}function ce(){var $,z;for(z=0===o;o<b;)if(H($=i.charCodeAt(o)))++o;else if(ne($))++o,13===$&&10===i.charCodeAt(o)&&++o,++a,v=o,z=!0;else if(47===$)if(47===($=i.charCodeAt(o+1)))++o,++o,U(2),z=!0;else{if(42!==$)break;++o,++o,Y()}else if(z&&45===$){if(45!==i.charCodeAt(o+1)||62!==i.charCodeAt(o+2))break;o+=3,U(3)}else{if(60!==$)break;if("!--"!==i.slice(o+1,o+4))break;++o,++o,++o,++o,U(4)}}function we($){var z,fe,re,ae=0;for(fe="u"===$?4:2,z=0;z<fe;++z){if(!(o<b&&F(i[o])))return"";re=i[o++],ae=16*ae+"0123456789abcdef".indexOf(re.toLowerCase())}return String.fromCharCode(ae)}function $e(){var $,z;for($=i.charCodeAt(o++),z=String.fromCharCode($),92===$&&(117!==i.charCodeAt(o)&&Ue({},E.UnexpectedToken,"ILLEGAL"),++o,(!($=we("u"))||"\\"===$||!oe($.charCodeAt(0)))&&Ue({},E.UnexpectedToken,"ILLEGAL"),z=$);o<b&&x($=i.charCodeAt(o));)++o,z+=String.fromCharCode($),92===$&&(z=z.substr(0,z.length-1),117!==i.charCodeAt(o)&&Ue({},E.UnexpectedToken,"ILLEGAL"),++o,(!($=we("u"))||"\\"===$||!x($.charCodeAt(0)))&&Ue({},E.UnexpectedToken,"ILLEGAL"),z+=$);return z}function W(){var fe,ae,ve,Te,$=o,z=i.charCodeAt(o),re=i[o];switch(z){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++o,S.tokenize&&(40===z?S.openParenToken=S.tokens.length:123===z&&(S.openCurlyToken=S.tokens.length)),{type:h.Punctuator,value:String.fromCharCode(z),lineNumber:a,lineStart:v,start:$,end:o};default:if(61===(fe=i.charCodeAt(o+1)))switch(z){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return o+=2,{type:h.Punctuator,value:String.fromCharCode(z)+String.fromCharCode(fe),lineNumber:a,lineStart:v,start:$,end:o};case 33:case 61:return 61===i.charCodeAt(o+=2)&&++o,{type:h.Punctuator,value:i.slice($,o),lineNumber:a,lineStart:v,start:$,end:o}}}return">>>="===(Te=i.substr(o,4))?{type:h.Punctuator,value:Te,lineNumber:a,lineStart:v,start:$,end:o+=4}:">>>"===(ve=Te.substr(0,3))||"<<="===ve||">>="===ve?{type:h.Punctuator,value:ve,lineNumber:a,lineStart:v,start:$,end:o+=3}:re===(ae=ve.substr(0,2))[1]&&"+-<>&|".indexOf(re)>=0||"=>"===ae?{type:h.Punctuator,value:ae,lineNumber:a,lineStart:v,start:$,end:o+=2}:"<>=!+-*%&|^/".indexOf(re)>=0?(++o,{type:h.Punctuator,value:re,lineNumber:a,lineStart:v,start:$,end:o}):void Ue({},E.UnexpectedToken,"ILLEGAL")}function le(){var $,z,fe;if(B(k((fe=i[o]).charCodeAt(0))||"."===fe,"Numeric literal must start with a decimal digit or a decimal point"),z=o,$="","."!==fe){if($=i[o++],fe=i[o],"0"===$){if("x"===fe||"X"===fe)return++o,function K($){for(var z="";o<b&&F(i[o]);)z+=i[o++];return 0===z.length&&Ue({},E.UnexpectedToken,"ILLEGAL"),oe(i.charCodeAt(o))&&Ue({},E.UnexpectedToken,"ILLEGAL"),{type:h.NumericLiteral,value:parseInt("0x"+z,16),lineNumber:a,lineStart:v,start:$,end:o}}(z);if(I(fe))return function Q($){for(var z="0"+i[o++];o<b&&I(i[o]);)z+=i[o++];return(oe(i.charCodeAt(o))||k(i.charCodeAt(o)))&&Ue({},E.UnexpectedToken,"ILLEGAL"),{type:h.NumericLiteral,value:parseInt(z,8),octal:!0,lineNumber:a,lineStart:v,start:$,end:o}}(z);fe&&k(fe.charCodeAt(0))&&Ue({},E.UnexpectedToken,"ILLEGAL")}for(;k(i.charCodeAt(o));)$+=i[o++];fe=i[o]}if("."===fe){for($+=i[o++];k(i.charCodeAt(o));)$+=i[o++];fe=i[o]}if("e"===fe||"E"===fe)if($+=i[o++],("+"===(fe=i[o])||"-"===fe)&&($+=i[o++]),k(i.charCodeAt(o)))for(;k(i.charCodeAt(o));)$+=i[o++];else Ue({},E.UnexpectedToken,"ILLEGAL");return oe(i.charCodeAt(o))&&Ue({},E.UnexpectedToken,"ILLEGAL"),{type:h.NumericLiteral,value:parseFloat($),lineNumber:a,lineStart:v,start:z,end:o}}function Ge(){var $,z,fe,ae;return _=null,ce(),$=o,z=function he(){var $,z,fe,re;for(B("/"===($=i[o]),"Regular expression literal must start with a slash"),z=i[o++],fe=!1,re=!1;o<b;)if(z+=$=i[o++],"\\"===$)ne(($=i[o++]).charCodeAt(0))&&Ue({},E.UnterminatedRegExp),z+=$;else if(ne($.charCodeAt(0)))Ue({},E.UnterminatedRegExp);else if(fe)"]"===$&&(fe=!1);else{if("/"===$){re=!0;break}"["===$&&(fe=!0)}return re||Ue({},E.UnterminatedRegExp),{value:z.substr(1,z.length-2),literal:z}}(),fe=function De(){var $,z,fe,re;for(z="",fe="";o<b&&x(($=i[o]).charCodeAt(0));)if(++o,"\\"===$&&o<b)if("u"===($=i[o])){if(re=++o,$=we("u"))for(fe+=$,z+="\\u";re<o;++re)z+=i[re];else o=re,fe+="u",z+="\\u";Qe({},E.UnexpectedToken,"ILLEGAL")}else z+="\\",Qe({},E.UnexpectedToken,"ILLEGAL");else fe+=$,z+=$;return{value:fe,literal:z}}(),ae=function Ee($,z){var fe;try{fe=new RegExp($,z)}catch{Ue({},E.InvalidRegExp)}return fe}(z.value,fe.value),S.tokenize?{type:h.RegularExpression,value:ae,lineNumber:a,lineStart:v,start:$,end:o}:{literal:z.literal+fe.literal,value:ae,start:$,end:o}}function Pe(){var $,z,fe,re;return ce(),$=o,z={start:{line:a,column:o-v}},fe=Ge(),z.end={line:a,column:o-v},S.tokenize||(S.tokens.length>0&&(re=S.tokens[S.tokens.length-1]).range[0]===$&&"Punctuator"===re.type&&("/"===re.value||"/="===re.value)&&S.tokens.pop(),S.tokens.push({type:"RegularExpression",value:fe.literal,range:[$,o],loc:z})),fe}function be(){var $;return ce(),o>=b?{type:h.EOF,lineNumber:a,lineStart:v,start:o,end:o}:oe($=i.charCodeAt(o))?function T(){var $,z,fe;return $=o,z=92===i.charCodeAt(o)?$e():function g(){var $,z;for($=o++;o<b;){if(92===(z=i.charCodeAt(o)))return o=$,$e();if(!x(z))break;++o}return i.slice($,o)}(),fe=1===z.length?h.Identifier:function J($){if(d&&R($))return!0;switch($.length){case 2:return"if"===$||"in"===$||"do"===$;case 3:return"var"===$||"for"===$||"new"===$||"try"===$||"let"===$;case 4:return"this"===$||"else"===$||"case"===$||"void"===$||"with"===$||"enum"===$;case 5:return"while"===$||"break"===$||"catch"===$||"throw"===$||"const"===$||"yield"===$||"class"===$||"super"===$;case 6:return"return"===$||"typeof"===$||"delete"===$||"switch"===$||"export"===$||"import"===$;case 7:return"default"===$||"finally"===$||"extends"===$;case 8:return"function"===$||"continue"===$||"debugger"===$;case 10:return"instanceof"===$;default:return!1}}(z)?h.Keyword:"null"===z?h.NullLiteral:"true"===z||"false"===z?h.BooleanLiteral:h.Identifier,{type:fe,value:z,lineNumber:a,lineStart:v,start:$,end:o}}():40===$||41===$||59===$?W():39===$||34===$?function pe(){var z,fe,re,ae,ve,Te,rt,ht,$="",Ke=!1;for(rt=a,ht=v,B("'"===(z=i[o])||'"'===z,"String literal must starts with a quote"),fe=o,++o;o<b;){if((re=i[o++])===z){z="";break}if("\\"===re)if((re=i[o++])&&ne(re.charCodeAt(0)))++a,"\r"===re&&"\n"===i[o]&&++o,v=o;else switch(re){case"u":case"x":Te=o,(ve=we(re))?$+=ve:(o=Te,$+=re);break;case"n":$+="\n";break;case"r":$+="\r";break;case"t":$+="\t";break;case"b":$+="\b";break;case"f":$+="\f";break;case"v":$+="\v";break;default:I(re)?(0!==(ae="01234567".indexOf(re))&&(Ke=!0),o<b&&I(i[o])&&(Ke=!0,ae=8*ae+"01234567".indexOf(i[o++]),"0123".indexOf(re)>=0&&o<b&&I(i[o])&&(ae=8*ae+"01234567".indexOf(i[o++]))),$+=String.fromCharCode(ae)):$+=re}else{if(ne(re.charCodeAt(0)))break;$+=re}}return""!==z&&Ue({},E.UnexpectedToken,"ILLEGAL"),{type:h.StringLiteral,value:$,octal:Ke,startLineNumber:rt,startLineStart:ht,lineNumber:a,lineStart:v,start:fe,end:o}}():46===$?k(i.charCodeAt(o+1))?le():W():k($)?le():S.tokenize&&47===$?function me(){var $,z;if(!($=S.tokens[S.tokens.length-1]))return Pe();if("Punctuator"===$.type){if("]"===$.value)return W();if(")"===$.value)return!(z=S.tokens[S.openParenToken-1])||"Keyword"!==z.type||"if"!==z.value&&"while"!==z.value&&"for"!==z.value&&"with"!==z.value?W():Pe();if("}"===$.value){if(S.tokens[S.openCurlyToken-3]&&"Keyword"===S.tokens[S.openCurlyToken-3].type){if(!(z=S.tokens[S.openCurlyToken-4]))return W()}else{if(!S.tokens[S.openCurlyToken-4]||"Keyword"!==S.tokens[S.openCurlyToken-4].type)return W();if(!(z=S.tokens[S.openCurlyToken-5]))return Pe()}return D.indexOf(z.value)>=0?W():Pe()}return Pe()}return"Keyword"===$.type?Pe():W()}():W()}function ge(){var $,z,re;return ce(),$={start:{line:a,column:o-v}},z=be(),$.end={line:a,column:o-v},z.type!==h.EOF&&(re=i.slice(z.start,z.end),S.tokens.push({type:y[z.type],value:re,range:[z.start,z.end],loc:$})),z}function Ae(){var $;return o=($=_).end,a=$.lineNumber,v=$.lineStart,_=typeof S.tokens<"u"?ge():be(),o=$.end,a=$.lineNumber,v=$.lineStart,$}function Re(){var $,z,fe;$=o,z=a,fe=v,_=typeof S.tokens<"u"?ge():be(),o=$,a=z,v=fe}function Fe($,z){this.line=$,this.column=z}function Me($,z,fe,re){this.start=new Fe($,z),this.end=new Fe(fe,re)}function Le(){var $,z,fe,re;return $=o,z=a,fe=v,ce(),re=a!==z,o=$,a=z,v=fe,re}function Ue($,z){for(var fe=[],re=2;re<arguments.length;re++)fe[re-2]=arguments[re];var ae,ve=z.replace(/%(\d)/g,function(Te,Ke){return B(Ke<fe.length,"Message reference must be in range"),fe[Ke]});throw"number"==typeof $.lineNumber?((ae=new Error("Line "+$.lineNumber+": "+ve)).index=$.start,ae.lineNumber=$.lineNumber,ae.column=$.start-v+1):((ae=new Error("Line "+a+": "+ve)).index=o,ae.lineNumber=a,ae.column=o-v+1),ae.description=ve,ae}function Qe(){for(var $=[],z=0;z<arguments.length;z++)$[z]=arguments[z];try{Ue.apply(null,$)}catch(fe){if(!S.errors)throw fe;S.errors.push(fe)}}function We($){if($.type===h.EOF&&Ue($,E.UnexpectedEOS),$.type===h.NumericLiteral&&Ue($,E.UnexpectedNumber),$.type===h.StringLiteral&&Ue($,E.UnexpectedString),$.type===h.Identifier&&Ue($,E.UnexpectedIdentifier),$.type===h.Keyword){if(function G($){switch($){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}($.value))Ue($,E.UnexpectedReserved);else if(d&&R($.value))return void Qe($,E.StrictReservedWord);Ue($,E.UnexpectedToken,$.value)}Ue($,E.UnexpectedToken,$.value)}function Je($){var z=Ae();(z.type!==h.Punctuator||z.value!==$)&&We(z)}function at($){var z=Ae();(z.type!==h.Keyword||z.value!==$)&&We(z)}function ee($){return _.type===h.Punctuator&&_.value===$}function L($){return _.type===h.Keyword&&_.value===$}function Z(){var $;59===i.charCodeAt(o)||ee(";")?Ae():($=a,ce(),a===$&&_.type!==h.EOF&&!ee("}")&&We(_))}function _e($){return $.type===N.Identifier||$.type===N.MemberExpression}function je($,z){var fe,re,ae;return fe=d,ae=_,re=li(),z&&d&&X($[0].name)&&Qe(z,E.StrictParamName),d=fe,m.markEnd(m.createFunctionExpression(null,$,[],re),ae)}function xe(){var $,z;return z=_,($=Ae()).type===h.StringLiteral||$.type===h.NumericLiteral?(d&&$.octal&&Qe($,E.StrictOctalLiteral),m.markEnd(m.createLiteral($),z)):m.markEnd(m.createIdentifier($.value),z)}function Be(){var $,z,fe,re,ae,ve;return ve=_,($=_).type===h.Identifier?(fe=xe(),"get"!==$.value||ee(":")?"set"!==$.value||ee(":")?(Je(":"),re=He(),m.markEnd(m.createProperty("init",fe,re),ve)):(z=xe(),Je("("),($=_).type!==h.Identifier?(Je(")"),Qe($,E.UnexpectedToken,$.value),re=je([])):(ae=[Dt()],Je(")"),re=je(ae,$)),m.markEnd(m.createProperty("set",z,re),ve)):(z=xe(),Je("("),Je(")"),re=je([]),m.markEnd(m.createProperty("get",z,re),ve))):$.type!==h.EOF&&$.type!==h.Punctuator?(z=xe(),Je(":"),re=He(),m.markEnd(m.createProperty("init",z,re),ve)):void We($)}function tt(){var $,z,fe,re;if(ee("("))return function lt(){var $;return Je("("),$=Ze(),Je(")"),$}();if(ee("["))return function Ce(){var z,$=[];for(z=_,Je("[");!ee("]");)ee(",")?(Ae(),$.push(null)):($.push(He()),ee("]")||Je(","));return Ae(),m.markEnd(m.createArrayExpression($),z)}();if(ee("{"))return function ut(){var z,fe,re,ae,Ke,$=[],ve={},Te=String;for(Ke=_,Je("{");!ee("}");)fe=(z=Be()).key.type===N.Identifier?z.key.name:Te(z.key.value),ae="init"===z.kind?w.Data:"get"===z.kind?w.Get:w.Set,re="$"+fe,Object.prototype.hasOwnProperty.call(ve,re)?(ve[re]===w.Data?d&&ae===w.Data?Qe({},E.StrictDuplicateProperty):ae!==w.Data&&Qe({},E.AccessorDataProperty):ae===w.Data?Qe({},E.AccessorDataProperty):ve[re]&ae&&Qe({},E.AccessorGetSet),ve[re]|=ae):ve[re]=ae,$.push(z),ee("}")||Je(",");return Je("}"),m.markEnd(m.createObjectExpression($),Ke)}();if(re=_,($=_.type)===h.Identifier)fe=m.createIdentifier(Ae().value);else if($===h.StringLiteral||$===h.NumericLiteral)d&&_.octal&&Qe(_,E.StrictOctalLiteral),fe=m.createLiteral(Ae());else if($===h.Keyword){if(L("function"))return function Bi(){var $,fe,re,ae,ve,Ke,rt,ht,Te,z=null;return ht=_,at("function"),ee("(")||($=_,z=Dt(),d?X($.value)&&Qe($,E.StrictFunctionName):X($.value)?(re=$,ae=E.StrictFunctionName):R($.value)&&(re=$,ae=E.StrictReservedWord)),Te=(ve=Oi(re)).params,fe=ve.stricted,re=ve.firstRestricted,ve.message&&(ae=ve.message),rt=d,Ke=li(),d&&re&&Ue(re,ae),d&&fe&&Qe(fe,ae),d=rt,m.markEnd(m.createFunctionExpression(z,Te,[],Ke),ht)}();L("this")?(Ae(),fe=m.createThisExpression()):We(Ae())}else $===h.BooleanLiteral?((z=Ae()).value="true"===z.value,fe=m.createLiteral(z)):$===h.NullLiteral?((z=Ae()).value=null,fe=m.createLiteral(z)):ee("/")||ee("/=")?(fe=m.createLiteral(typeof S.tokens<"u"?Pe():Ge()),Re()):We(Ae());return m.markEnd(fe,re)}function pt(){var $=[];if(Je("("),!ee(")"))for(;o<b&&($.push(He()),!ee(")"));)Je(",");return Je(")"),$}function Ft(){return Je("."),function Bt(){var $,z;return z=_,function Oe($){return $.type===h.Identifier||$.type===h.Keyword||$.type===h.BooleanLiteral||$.type===h.NullLiteral}($=Ae())||We($),m.markEnd(m.createIdentifier($.value),z)}()}function wt(){var $;return Je("["),$=Ze(),Je("]"),$}function Tt(){var $,z,fe;return fe=_,at("new"),$=function V(){var $,z,fe,re;for(re=_,$=C.allowIn,z=L("new")?Tt():tt(),C.allowIn=$;ee(".")||ee("[");)ee("[")?(fe=wt(),z=m.createMemberExpression("[",z,fe)):(fe=Ft(),z=m.createMemberExpression(".",z,fe)),m.markEnd(z,re);return z}(),z=ee("(")?pt():[],m.markEnd(m.createNewExpression($,z),fe)}function ue(){var $,z,fe=_;return $=function br(){var $,z,fe,re,ae;for(ae=_,$=C.allowIn,C.allowIn=!0,z=L("new")?Tt():tt(),C.allowIn=$;;){if(ee("."))re=Ft(),z=m.createMemberExpression(".",z,re);else if(ee("("))fe=pt(),z=m.createCallExpression(z,fe);else{if(!ee("["))break;re=wt(),z=m.createMemberExpression("[",z,re)}m.markEnd(z,ae)}return z}(),_.type===h.Punctuator&&(ee("++")||ee("--"))&&!Le()&&(d&&$.type===N.Identifier&&X($.name)&&Qe({},E.StrictLHSPostfix),_e($)||Qe({},E.InvalidLHSInAssignment),z=Ae(),$=m.markEnd(m.createPostfixExpression(z.value,$),fe)),$}function ie(){var $,z,fe;return _.type!==h.Punctuator&&_.type!==h.Keyword?z=ue():ee("++")||ee("--")?(fe=_,$=Ae(),z=ie(),d&&z.type===N.Identifier&&X(z.name)&&Qe({},E.StrictLHSPrefix),_e(z)||Qe({},E.InvalidLHSInAssignment),z=m.createUnaryExpression($.value,z),z=m.markEnd(z,fe)):ee("+")||ee("-")||ee("~")||ee("!")?(fe=_,$=Ae(),z=ie(),z=m.createUnaryExpression($.value,z),z=m.markEnd(z,fe)):L("delete")||L("void")||L("typeof")?(fe=_,$=Ae(),z=ie(),z=m.createUnaryExpression($.value,z),z=m.markEnd(z,fe),d&&"delete"===z.operator&&z.argument.type===N.Identifier&&Qe({},E.StrictDelete)):z=ue(),z}function de($,z){var fe=0;if($.type!==h.Punctuator&&$.type!==h.Keyword)return 0;switch($.value){case"||":fe=1;break;case"&&":fe=2;break;case"|":fe=3;break;case"^":fe=4;break;case"&":fe=5;break;case"==":case"!=":case"===":case"!==":fe=6;break;case"<":case">":case"<=":case">=":case"instanceof":fe=7;break;case"in":fe=z?7:0;break;case"<<":case">>":case">>>":fe=8;break;case"+":case"-":fe=9;break;case"*":case"/":case"%":fe=11}return fe}function He(){var $,z,fe,re,ae;return $=_,ae=_,re=z=function Ve(){var $,z,fe,re,ae;return ae=_,$=function Se(){var $,z,fe,re,ae,ve,Te,Ke,rt,ht;if($=_,rt=ie(),0===(ae=de(re=_,C.allowIn)))return rt;for(re.prec=ae,Ae(),z=[$,_],ve=[rt,re,Te=ie()];(ae=de(_,C.allowIn))>0;){for(;ve.length>2&&ae<=ve[ve.length-2].prec;)Te=ve.pop(),Ke=ve.pop().value,rt=ve.pop(),fe=m.createBinaryExpression(Ke,rt,Te),z.pop(),m.markEnd(fe,$=z[z.length-1]),ve.push(fe);(re=Ae()).prec=ae,ve.push(re),z.push(_),fe=ie(),ve.push(fe)}for(fe=ve[ht=ve.length-1],z.pop();ht>1;)fe=m.createBinaryExpression(ve[ht-1].value,ve[ht-2],fe),ht-=2,$=z.pop(),m.markEnd(fe,$);return fe}(),ee("?")&&(Ae(),z=C.allowIn,C.allowIn=!0,fe=He(),C.allowIn=z,Je(":"),re=He(),$=m.createConditionalExpression($,fe,re),m.markEnd($,ae)),$}(),function P(){var $;return _.type===h.Punctuator&&("="===($=_.value)||"*="===$||"/="===$||"%="===$||"+="===$||"-="===$||"<<="===$||">>="===$||">>>="===$||"&="===$||"^="===$||"|="===$)}()&&(_e(z)||Qe({},E.InvalidLHSInAssignment),d&&z.type===N.Identifier&&X(z.name)&&Qe($,E.StrictLHSAssignment),$=Ae(),fe=He(),re=m.markEnd(m.createAssignmentExpression($.value,z,fe),ae)),re}function Ze(){var $,z=_;if($=He(),ee(",")){for($=m.createSequenceExpression([$]);o<b&&ee(",");)Ae(),$.expressions.push(He());m.markEnd($,z)}return $}function bt(){var $,z;return z=_,Je("{"),$=function ct(){for(var z,$=[];o<b&&!(ee("}")||(z=cn(),typeof z>"u"));)$.push(z);return $}(),Je("}"),m.markEnd(m.createBlockStatement($),z)}function Dt(){var $,z;return z=_,($=Ae()).type!==h.Identifier&&We($),m.markEnd(m.createIdentifier($.value),z)}function ur($){var fe,re,z=null;return re=_,fe=Dt(),d&&X(fe.name)&&Qe({},E.StrictVarName),"const"===$?(Je("="),z=He()):ee("=")&&(Ae(),z=He()),m.markEnd(m.createVariableDeclarator(fe,z),re)}function Ct($){var z=[];do{if(z.push(ur($)),!ee(","))break;Ae()}while(o<b);return z}function Di(){var $,fe,re,z=[];for(re=_,L("default")?(Ae(),$=null):(at("case"),$=Ze()),Je(":");o<b&&!(ee("}")||L("default")||L("case"));)fe=dr(),z.push(fe);return m.markEnd(m.createSwitchCase($,z),re)}function dr(){var z,fe,re,ae,$=_.type;if($===h.EOF&&We(_),$===h.Punctuator&&"{"===_.value)return bt();if(ae=_,$===h.Punctuator)switch(_.value){case";":return m.markEnd(function Wt(){return Je(";"),m.createEmptyStatement()}(),ae);case"(":return m.markEnd(function on(){var $=Ze();return Z(),m.createExpressionStatement($)}(),ae)}if($===h.Keyword)switch(_.value){case"break":return m.markEnd(function un(){var $=null;return at("break"),59===i.charCodeAt(o)?(Ae(),C.inIteration||C.inSwitch||Ue({},E.IllegalBreak),m.createBreakStatement(null)):Le()?(C.inIteration||C.inSwitch||Ue({},E.IllegalBreak),m.createBreakStatement(null)):(_.type===h.Identifier&&($=Dt(),Object.prototype.hasOwnProperty.call(C.labelSet,"$"+$.name)||Ue({},E.UnknownLabel,$.name)),Z(),null===$&&!(C.inIteration||C.inSwitch)&&Ue({},E.IllegalBreak),m.createBreakStatement($))}(),ae);case"continue":return m.markEnd(function Hr(){var $=null;return at("continue"),59===i.charCodeAt(o)?(Ae(),C.inIteration||Ue({},E.IllegalContinue),m.createContinueStatement(null)):Le()?(C.inIteration||Ue({},E.IllegalContinue),m.createContinueStatement(null)):(_.type===h.Identifier&&($=Dt(),Object.prototype.hasOwnProperty.call(C.labelSet,"$"+$.name)||Ue({},E.UnknownLabel,$.name)),Z(),null===$&&!C.inIteration&&Ue({},E.IllegalContinue),m.createContinueStatement($))}(),ae);case"debugger":return m.markEnd(function xi(){return at("debugger"),Z(),m.createDebuggerStatement()}(),ae);case"do":return m.markEnd(function Ht(){var $,z,fe;return at("do"),fe=C.inIteration,C.inIteration=!0,$=dr(),C.inIteration=fe,at("while"),Je("("),z=Ze(),Je(")"),ee(";")&&Ae(),m.createDoWhileStatement($,z)}(),ae);case"for":return m.markEnd(function an(){var $,z,fe,re,ae,ve,Te;return $=z=fe=null,at("for"),Je("("),ee(";")?Ae():(L("var")||L("let")?(C.allowIn=!1,$=function lr(){var $,z,fe;return fe=_,$=Ae(),z=Ct(),m.markEnd(m.createVariableDeclaration(z,$.value),fe)}(),C.allowIn=!0,1===$.declarations.length&&L("in")&&(Ae(),re=$,ae=Ze(),$=null)):(C.allowIn=!1,$=Ze(),C.allowIn=!0,L("in")&&(_e($)||Qe({},E.InvalidLHSInForIn),Ae(),re=$,ae=Ze(),$=null)),typeof re>"u"&&Je(";")),typeof re>"u"&&(ee(";")||(z=Ze()),Je(";"),ee(")")||(fe=Ze())),Je(")"),Te=C.inIteration,C.inIteration=!0,ve=dr(),C.inIteration=Te,typeof re>"u"?m.createForStatement($,z,fe,ve):m.createForInStatement(re,ae,ve)}(),ae);case"function":return m.markEnd(Fi(),ae);case"if":return m.markEnd(function cr(){var $,z,fe;return at("if"),Je("("),$=Ze(),Je(")"),z=dr(),L("else")?(Ae(),fe=dr()):fe=null,m.createIfStatement($,z,fe)}(),ae);case"return":return m.markEnd(function ui(){var $=null;return at("return"),C.inFunctionBody||Qe({},E.IllegalReturn),32===i.charCodeAt(o)&&oe(i.charCodeAt(o+1))?($=Ze(),Z(),m.createReturnStatement($)):Le()?m.createReturnStatement(null):(ee(";")||!ee("}")&&_.type!==h.EOF&&($=Ze()),Z(),m.createReturnStatement($))}(),ae);case"switch":return m.markEnd(function ci(){var $,z,fe,re,ae;if(at("switch"),Je("("),$=Ze(),Je(")"),Je("{"),z=[],ee("}"))return Ae(),m.createSwitchStatement($,z);for(re=C.inSwitch,C.inSwitch=!0,ae=!1;o<b&&!ee("}");)null===(fe=Di()).test&&(ae&&Ue({},E.MultipleDefaultsInSwitch),ae=!0),z.push(fe);return C.inSwitch=re,Je("}"),m.createSwitchStatement($,z)}(),ae);case"throw":return m.markEnd(function Ci(){var $;return at("throw"),Le()&&Ue({},E.NewlineAfterThrow),$=Ze(),Z(),m.createThrowStatement($)}(),ae);case"try":return m.markEnd(function xo(){var $,z=[],fe=null;return at("try"),$=bt(),L("catch")&&z.push(function Pi(){var $,z,fe;return fe=_,at("catch"),Je("("),ee(")")&&We(_),$=Dt(),d&&X($.name)&&Qe({},E.StrictCatchVariable),Je(")"),z=bt(),m.markEnd(m.createCatchClause($,z),fe)}()),L("finally")&&(Ae(),fe=bt()),0===z.length&&!fe&&Ue({},E.NoCatchOrFinally),m.createTryStatement($,[],z,fe)}(),ae);case"var":return m.markEnd(function Jr(){var $;return at("var"),$=Ct(),Z(),m.createVariableDeclaration($,"var")}(),ae);case"while":return m.markEnd(function zr(){var $,z,fe;return at("while"),Je("("),$=Ze(),Je(")"),fe=C.inIteration,C.inIteration=!0,z=dr(),C.inIteration=fe,m.createWhileStatement($,z)}(),ae);case"with":return m.markEnd(function Ai(){var $,z;return d&&(ce(),Qe({},E.StrictModeWith)),at("with"),Je("("),$=Ze(),Je(")"),z=dr(),m.createWithStatement($,z)}(),ae)}return(z=Ze()).type===N.Identifier&&ee(":")?(Ae(),re="$"+z.name,Object.prototype.hasOwnProperty.call(C.labelSet,re)&&Ue({},E.Redeclaration,"Label",z.name),C.labelSet[re]=!0,fe=dr(),delete C.labelSet[re],m.markEnd(m.createLabeledStatement(z,fe),ae)):(Z(),m.markEnd(m.createExpressionStatement(z),ae))}function li(){var $,fe,ae,ve,Te,Ke,rt,ht,z=[];for(ht=_,Je("{");o<b&&_.type===h.StringLiteral&&(fe=_,$=cn(),z.push($),$.expression.type===N.Literal);)"use strict"===i.slice(fe.start+1,fe.end-1)?(d=!0,ae&&Qe(ae,E.StrictOctalLiteral)):!ae&&fe.octal&&(ae=fe);for(ve=C.labelSet,Te=C.inIteration,Ke=C.inSwitch,rt=C.inFunctionBody,C.labelSet={},C.inIteration=!1,C.inSwitch=!1,C.inFunctionBody=!0;o<b&&!(ee("}")||($=cn(),typeof $>"u"));)z.push($);return Je("}"),C.labelSet=ve,C.inIteration=Te,C.inSwitch=Ke,C.inFunctionBody=rt,m.markEnd(m.createBlockStatement(z),ht)}function Oi($){var z,re,ae,ve,Te,Ke,fe=[];if(Je("("),!ee(")"))for(ve={};o<b&&(re=_,z=Dt(),Te="$"+re.value,d?(X(re.value)&&(ae=re,Ke=E.StrictParamName),Object.prototype.hasOwnProperty.call(ve,Te)&&(ae=re,Ke=E.StrictParamDupe)):$||(X(re.value)?($=re,Ke=E.StrictParamName):R(re.value)?($=re,Ke=E.StrictReservedWord):Object.prototype.hasOwnProperty.call(ve,Te)&&($=re,Ke=E.StrictParamDupe)),fe.push(z),ve[Te]=!0,!ee(")"));)Je(",");return Je(")"),{params:fe,stricted:ae,firstRestricted:$,message:Ke}}function Fi(){var $,z,fe,re,ae,ve,Te,Ke,rt,ht;return ht=_,at("function"),re=_,$=Dt(),d?X(re.value)&&Qe(re,E.StrictFunctionName):X(re.value)?(Te=re,Ke=E.StrictFunctionName):R(re.value)&&(Te=re,Ke=E.StrictReservedWord),z=(ve=Oi(Te)).params,ae=ve.stricted,Te=ve.firstRestricted,ve.message&&(Ke=ve.message),rt=d,fe=li(),d&&Te&&Ue(Te,Ke),d&&ae&&Qe(ae,Ke),d=rt,m.markEnd(m.createFunctionDeclaration($,z,[],fe),ht)}function cn(){if(_.type===h.Keyword)switch(_.value){case"const":case"let":return function jt($){var z,fe;return fe=_,at($),z=Ct($),Z(),m.markEnd(m.createVariableDeclaration(z,$),fe)}(_.value);case"function":return Fi();default:return dr()}if(_.type!==h.EOF)return dr()}function Mt($,z){var fe,re;re=String,"string"!=typeof $&&!($ instanceof String)&&($=re($)),m=l,o=0,a=(i=$).length>0?1:0,v=0,b=i.length,_=null,C={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},S={},typeof z<"u"&&(S.range="boolean"==typeof z.range&&z.range,S.loc="boolean"==typeof z.loc&&z.loc,S.attachComment="boolean"==typeof z.attachComment&&z.attachComment,S.loc&&null!=z.source&&(S.source=re(z.source)),"boolean"==typeof z.tokens&&z.tokens&&(S.tokens=[]),"boolean"==typeof z.comment&&z.comment&&(S.comments=[]),"boolean"==typeof z.tolerant&&z.tolerant&&(S.errors=[]),S.attachComment&&(S.range=!0,S.comments=[],S.bottomRightStack=[],S.trailingComments=[],S.leadingComments=[]));try{fe=function di(){var $,z;return ce(),Re(),z=_,d=!1,$=function Ti(){for(var $,fe,ae,z=[];o<b&&(fe=_).type===h.StringLiteral&&($=cn(),z.push($),$.expression.type===N.Literal);)"use strict"===i.slice(fe.start+1,fe.end-1)?(d=!0,ae&&Qe(ae,E.StrictOctalLiteral)):!ae&&fe.octal&&(ae=fe);for(;o<b&&!(typeof($=cn())>"u");)z.push($);return z}(),m.markEnd(m.createProgram($),z)}(),typeof S.comments<"u"&&(fe.comments=S.comments),typeof S.tokens<"u"&&(function fi(){var $,z,fe,re=[];for($=0;$<S.tokens.length;++$)fe={type:(z=S.tokens[$]).type,value:z.value},S.range&&(fe.range=z.range),S.loc&&(fe.loc=z.loc),re.push(fe);S.tokens=re}(),fe.tokens=S.tokens),typeof S.errors<"u"&&(fe.errors=S.errors)}catch(ae){throw ae}finally{S={}}return fe}function ji($,z,fe,re){function ae(rt){return String(rt).match(/^[0-9]+$/)?parseInt(rt):Number.isFinite(rt)?parseInt(rt,10):0}if("string"==typeof z)throw new Error("start cannot be a string");if("string"==typeof fe)throw new Error("end cannot be a string");if("string"==typeof re)throw new Error("step cannot be a string");var ve=$.length;if(0===re)throw new Error("step cannot be zero");if(re=re?ae(re):1,fe=fe<0?ve+fe:fe,z=ae(0===(z=z<0?ve+z:z)?0:z||(re>0?0:ve-1)),fe=ae(0===fe?0:fe||(re>0?ve:-1)),z=re>0?Math.max(0,z):Math.min(ve,z),fe=re>0?Math.min(fe,ve):Math.max(-1,fe),re>0&&fe<=z)return[];if(re<0&&z<=fe)return[];for(var Te=[],Ke=z;Ke!=fe&&!(re<0&&Ke<=fe||re>0&&Ke>=fe);Ke+=re)Te.push($[Ke]);return Te}w={Data:1,Get:2,Set:4},E={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},f={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},l={name:"SyntaxTree",processComment:function($){var z,fe;if(!($.type===N.Program&&$.body.length>0)){for(S.trailingComments.length>0?S.trailingComments[0].range[0]>=$.range[1]?(fe=S.trailingComments,S.trailingComments=[]):S.trailingComments.length=0:S.bottomRightStack.length>0&&S.bottomRightStack[S.bottomRightStack.length-1].trailingComments&&S.bottomRightStack[S.bottomRightStack.length-1].trailingComments[0].range[0]>=$.range[1]&&(fe=S.bottomRightStack[S.bottomRightStack.length-1].trailingComments,delete S.bottomRightStack[S.bottomRightStack.length-1].trailingComments);S.bottomRightStack.length>0&&S.bottomRightStack[S.bottomRightStack.length-1].range[0]>=$.range[0];)z=S.bottomRightStack.pop();z?z.leadingComments&&z.leadingComments[z.leadingComments.length-1].range[1]<=$.range[0]&&($.leadingComments=z.leadingComments,delete z.leadingComments):S.leadingComments.length>0&&S.leadingComments[S.leadingComments.length-1].range[1]<=$.range[0]&&($.leadingComments=S.leadingComments,S.leadingComments=[]),fe&&($.trailingComments=fe),S.bottomRightStack.push($)}},markEnd:function($,z){return S.range&&($.range=[z.start,o]),S.loc&&($.loc=new Me(void 0===z.startLineNumber?z.lineNumber:z.startLineNumber,z.start-(void 0===z.startLineStart?z.lineStart:z.startLineStart),a,o-v),this.postProcess($)),S.attachComment&&this.processComment($),$},postProcess:function($){return S.source&&($.loc.source=S.source),$},createArrayExpression:function($){return{type:N.ArrayExpression,elements:$}},createAssignmentExpression:function($,z,fe){return{type:N.AssignmentExpression,operator:$,left:z,right:fe}},createBinaryExpression:function($,z,fe){return{type:"||"===$||"&&"===$?N.LogicalExpression:N.BinaryExpression,operator:$,left:z,right:fe}},createBlockStatement:function($){return{type:N.BlockStatement,body:$}},createBreakStatement:function($){return{type:N.BreakStatement,label:$}},createCallExpression:function($,z){return{type:N.CallExpression,callee:$,arguments:z}},createCatchClause:function($,z){return{type:N.CatchClause,param:$,body:z}},createConditionalExpression:function($,z,fe){return{type:N.ConditionalExpression,test:$,consequent:z,alternate:fe}},createContinueStatement:function($){return{type:N.ContinueStatement,label:$}},createDebuggerStatement:function(){return{type:N.DebuggerStatement}},createDoWhileStatement:function($,z){return{type:N.DoWhileStatement,body:$,test:z}},createEmptyStatement:function(){return{type:N.EmptyStatement}},createExpressionStatement:function($){return{type:N.ExpressionStatement,expression:$}},createForStatement:function($,z,fe,re){return{type:N.ForStatement,init:$,test:z,update:fe,body:re}},createForInStatement:function($,z,fe){return{type:N.ForInStatement,left:$,right:z,body:fe,each:!1}},createFunctionDeclaration:function($,z,fe,re){return{type:N.FunctionDeclaration,id:$,params:z,defaults:fe,body:re,rest:null,generator:!1,expression:!1}},createFunctionExpression:function($,z,fe,re){return{type:N.FunctionExpression,id:$,params:z,defaults:fe,body:re,rest:null,generator:!1,expression:!1}},createIdentifier:function($){return{type:N.Identifier,name:$}},createIfStatement:function($,z,fe){return{type:N.IfStatement,test:$,consequent:z,alternate:fe}},createLabeledStatement:function($,z){return{type:N.LabeledStatement,label:$,body:z}},createLiteral:function($){return{type:N.Literal,value:$.value,raw:i.slice($.start,$.end)}},createMemberExpression:function($,z,fe){return{type:N.MemberExpression,computed:"["===$,object:z,property:fe}},createNewExpression:function($,z){return{type:N.NewExpression,callee:$,arguments:z}},createObjectExpression:function($){return{type:N.ObjectExpression,properties:$}},createPostfixExpression:function($,z){return{type:N.UpdateExpression,operator:$,argument:z,prefix:!1}},createProgram:function($){return{type:N.Program,body:$}},createProperty:function($,z,fe){return{type:N.Property,key:z,value:fe,kind:$}},createReturnStatement:function($){return{type:N.ReturnStatement,argument:$}},createSequenceExpression:function($){return{type:N.SequenceExpression,expressions:$}},createSwitchCase:function($,z){return{type:N.SwitchCase,test:$,consequent:z}},createSwitchStatement:function($,z){return{type:N.SwitchStatement,discriminant:$,cases:z}},createThisExpression:function(){return{type:N.ThisExpression}},createThrowStatement:function($){return{type:N.ThrowStatement,argument:$}},createTryStatement:function($,z,fe,re){return{type:N.TryStatement,block:$,guardedHandlers:z,handlers:fe,finalizer:re}},createUnaryExpression:function($,z){return"++"===$||"--"===$?{type:N.UpdateExpression,operator:$,argument:z,prefix:!0}:{type:N.UnaryExpression,operator:$,argument:z,prefix:!0}},createVariableDeclaration:function($,z){return{type:N.VariableDeclaration,declarations:$,kind:z}},createVariableDeclarator:function($,z){return{type:N.VariableDeclarator,id:$,init:z}},createWhileStatement:function($,z){return{type:N.WhileStatement,test:$,body:z}},createWithStatement:function($,z){return{type:N.WithStatement,object:$,body:z}}};var qt=s(18911),Fr=s.n(qt);function ki($){return function(z,fe,re,ae){var ve=z.value,Te=z.path,Ke=[],rt=function(ht,Et){$i(ht)?(ht.forEach(function(St,fr){Ke.length>=ae||re(fr,St,fe)&&Ke.push({path:Et.concat(fr),value:St})}),ht.forEach(function(St,fr){Ke.length>=ae||$&&rt(St,Et.concat(fr))})):function pi($){return $&&!($ instanceof Array)&&$ instanceof Object}(ht)&&(Object.keys(ht).forEach(function(St){Ke.length>=ae||re(St,ht[St],fe)&&Ke.push({path:Et.concat(St),value:ht[St]})}),Object.keys(ht).forEach(function(St){Ke.length>=ae||$&&rt(ht[St],Et.concat(St))}))}.bind(this);return rt(ve,Te),Ke}}function Wn($,z){try{return Fr()($,z)}catch{}}function Dn($){return function(z,fe,re){return this.descend(fe,z.expression.value,$,re)}}function Gr($){return function(z,fe,re){return this.traverse(fe,z.expression.value,$,re)}}function Cn($){return function Fo($,z){for(var fe=[],re=[],ae=0,ve=$?.length;ae<ve;ae++){var Te=$[ae],Ke=z?z(Te,ae):Te;re.includes(Ke)||(re.push(Ke),fe.push(Te))}return fe}($=$.filter(function(z){return z}),function(z){return z.path.map(function(fe){return String(fe).replace("-","--")}).join("-")})}function Vs($){var z=String($);return z.match(/^-?[0-9]+$/)?parseInt(z):null}function $i($){return Array.isArray($)}function Gt($,z,fe){var ae=Wn(Mt(z).body[0].expression,{"@":$.value}),ve=fe.replace(/\{\{\s*value\s*\}\}/g,ae),Te=Pn.nodes($.value,ve);return Te.forEach(function(Ke){Ke.path=$.path.concat(Ke.path.slice(1))}),Te}var Oo=function(){function $(){this._fns={"member-child-identifier":function(z,fe){var re=z.expression.value,ae=fe.value;if(ae instanceof Object&&re in ae)return[{value:ae[re],path:fe.path.concat(re)}]},"member-descendant-identifier":Gr(function(z,fe,re){return z==re}),"subscript-child-numeric_literal":Dn(function(z,fe,re){return z===re}),"member-child-numeric_literal":Dn(function(z,fe,re){return String(z)===String(re)}),"subscript-descendant-numeric_literal":Gr(function(z,fe,re){return z===re}),"member-child-wildcard":Dn(function(){return!0}),"member-descendant-wildcard":Gr(function(){return!0}),"subscript-descendant-wildcard":Gr(function(){return!0}),"subscript-child-wildcard":Dn(function(){return!0}),"subscript-child-slice":function(z,fe){if($i(fe.value)){var re=z.expression.value.split(":").map(Vs),ae=fe.value.map(function(ve,Te){return{value:ve,path:fe.path.concat(Te)}});return ji.apply(null,[ae].concat(re))}},"subscript-child-union":function(z,fe){var re=[];return z.expression.value.forEach(function(ae){var ve={operation:"subscript",scope:"child",expression:ae.expression},Ke=this.resolve(ve)(ve,fe);Ke&&(re=re.concat(Ke))},this),Cn(re)},"subscript-descendant-union":function(z,fe,re){var ae=this,ve=[];return Pn.nodes(fe,"$..*").slice(1).forEach(function(Ke){ve.length>=re||z.expression.value.forEach(function(rt){var ht={operation:"subscript",scope:"child",expression:rt.expression},St=ae.resolve(ht)(ht,Ke);ve=ve.concat(St)})}),Cn(ve)},"subscript-child-filter_expression":function(z,fe,re){var ve=Mt(z.expression.value.slice(2,-1)).body[0].expression;return this.descend(fe,null,function(Ke,rt){return Wn(ve,{"@":rt})},re)},"subscript-descendant-filter_expression":function(z,fe,re){var ve=Mt(z.expression.value.slice(2,-1)).body[0].expression;return this.traverse(fe,null,function(Ke,rt){return Wn(ve,{"@":rt})},re)},"subscript-child-script_expression":function(z,fe){return Gt(fe,z.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(z,fe){return Gt(fe,z.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(z,fe){return Gt(fe,z.expression.value.slice(1,-1),"$..value")}},this.initialize()}return $.prototype.initialize=function(){this.traverse=ki(!0),this.descend=ki(),this._fns["subscript-child-string_literal"]=this._fns["member-child-identifier"],this._fns["member-descendant-numeric_literal"]=this._fns["subscript-descendant-string_literal"]=this._fns["member-descendant-identifier"]},$.prototype.resolve=function(z){var fe=[z.operation,z.scope,z.expression.type].join("-"),re=this._fns[fe];if(!re)throw new Error("couldn't resolve key: "+fe);return re.bind(this)},$.prototype.register=function(z,fe){if(!(fe instanceof Function))throw new Error("handler must be a function");this._fns[z]=fe},$}(),wr=s(15320);function ln(){var $=new wr.iX,z=$.parseError;return $.yy.parseError=function(){$.yy.ast&&$.yy.ast.initialize(),z.apply($,arguments)},$}var Vt=function(){function $(){}return $.ok=function(z,fe){if(!z)throw new Error(fe)},$.equal=function(z,fe,re){if(z!==fe)throw new Error(re)},$}(),Pn=function(){function $(){}return $.parse=function(z){return Vt.ok("string"==typeof z,"we need a path"),(new ln).parse(z)},$.parent=function(z,fe){Vt.ok(z instanceof Object,"obj needs to be an object"),Vt.ok(fe,"we need a path");var re=this.nodes(z,fe)[0];return re.path.pop(),this.value(z,re.path)},$.apply=function(z,fe,re){Vt.ok(z instanceof Object,"obj needs to be an object"),Vt.ok(fe,"we need a path"),Vt.equal(typeof re,"function","fn needs to be function");var ae=this.nodes(z,fe).sort(function(ve,Te){return Te.path.length-ve.path.length});return ae.forEach(function(ve){var Te=ve.path.pop(),Ke=this.value(z,this.stringify(ve.path)),rt=ve.value=re.call(z,Ke[Te]);Ke[Te]=rt},this),ae},$.value=function(z,fe,re){if(Vt.ok(z instanceof Object,"obj needs to be an object"),Vt.ok(fe,"we need a path"),void 0!==re){var ae=this.nodes(z,fe).shift();if(!ae)return this._vivify(z,fe,re);var ve=ae.path.slice(-1).shift();this.parent(z,this.stringify(ae.path))[ve]=re}return this.query(z,this.stringify(fe),1).shift()},$._vivify=function(z,fe,re){var ae=this;Vt.ok(z instanceof Object,"obj needs to be an object"),Vt.ok(fe,"we need a path");var ve=(new ln).parse(fe).map(function(Ke){return Ke.expression.value}),Te=function(Ke,rt){var ht=Ke.pop(),Et=ae.value(z,Ke);Et||(Te(Ke.concat(),"string"==typeof ht?{}:[]),Et=ae.value(z,Ke)),Et[ht]=rt};return Te(ve,re),this.query(z,fe)[0]},$.query=function(z,fe,re){return Vt.ok(z instanceof Object,"obj needs to be an object"),Vt.ok("string"==typeof fe,"we need a path"),this.nodes(z,fe,re).map(function(ve){return ve.value})},$.paths=function(z,fe,re){return Vt.ok(z instanceof Object,"obj needs to be an object"),Vt.ok(fe,"we need a path"),this.nodes(z,fe,re).map(function(ve){return ve.path})},$.nodes=function(z,fe,re){if(Vt.ok(z instanceof Object,"obj needs to be an object"),Vt.ok(fe,"we need a path"),0===re)return[];var ae=(new ln).parse(fe),ve=new Oo,Te=[{path:["$"],value:z}],Ke=[];return ae.length&&"root"==ae[0].expression.type&&ae.shift(),ae.length?(ae.forEach(function(rt,ht){if(!(Ke.length>=re)){var Et=ve.resolve(rt),St=[];Te.forEach(function(fr){if(!(Ke.length>=re)){var Qt=Et(rt,fr,re);ht==ae.length-1?Ke=Ke.concat(Qt||[]):St=St.concat(Qt||[])}}),Te=St}}),re?Ke.slice(0,re):Ke):Te},$.stringify=function(z){Vt.ok(z,"we need a path");var fe="$",re={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(z=this._normalize(z)).forEach(function(ae){if("root"!=ae.expression.type){var Ke,ve=[ae.scope,ae.operation].join("-"),Te=re[ve];if(Ke="string_literal"==ae.expression.type?JSON.stringify(ae.expression.value):ae.expression.value,!Te)throw new Error("couldn't find template "+ve);fe+=Te.replace(/{{value}}/,Ke)}}),fe},$._normalize=function(z){if(Vt.ok(z,"we need a path"),"string"==typeof z)return(new ln).parse(z);if(Array.isArray(z)&&"string"==typeof z[0]){var fe=[{expression:{type:"root",value:"$"}}];return z.forEach(function(re,ae){"$"==re&&0===ae||("string"==typeof re&&re.match("^[a-zA-Z_]+[a-zA-Z0-9_]*$")?fe.push({operation:"member",scope:"child",expression:{value:re,type:"identifier"}}):fe.push({operation:"subscript",scope:"child",expression:{value:re,type:"number"==typeof re?"numeric_literal":"string_literal"}}))}),fe}if(Array.isArray(z)&&"object"==typeof z[0])return z;throw new Error("couldn't understand path "+z)},$}()},15320:(q,p)=>{var h=function(){var y=function(ne,oe,x,G){for(x=x||{},G=ne.length;G--;x[ne[G]]=oe);return x},D=[1,5],w=[1,6],E=[1,7],f=[1,8],l=[1,9],i=[1,18],d=[1,19],o=[1,20],a=[1,12,14,22],v=[1,29],b=[1,30],m=[1,33],_=[1,35],C=[1,31],S=[1,36],N=[1,37],B=[24,28],k={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(oe,x,G,R,X,J,ye){R.ast||(R.ast=F,F.initialize());var U=J.length-1;switch(X){case 1:return R.ast.set({expression:{type:"root",value:J[U]}}),R.ast.unshift(),R.ast.yield();case 2:return R.ast.set({expression:{type:"root",value:J[U-1]}}),R.ast.unshift(),R.ast.yield();case 3:return R.ast.unshift(),R.ast.yield();case 4:return R.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:J[U-1]}}),R.ast.unshift(),R.ast.yield();case 5:case 6:case 11:case 13:case 18:case 21:case 22:case 23:break;case 7:R.ast.set({operation:"member"}),R.ast.push();break;case 8:R.ast.set({operation:"subscript"}),R.ast.push();break;case 9:case 19:R.ast.set({scope:"child"});break;case 10:case 20:R.ast.set({scope:"descendant"});break;case 12:R.ast.set({scope:"child",operation:"member"});break;case 14:R.ast.set({expression:{type:"wildcard",value:J[U]}});break;case 15:R.ast.set({expression:{type:"identifier",value:J[U]}});break;case 16:R.ast.set({expression:{type:"script_expression",value:J[U]}});break;case 17:R.ast.set({expression:{type:"numeric_literal",value:parseInt(J[U])}});break;case 24:J[U].length>1?R.ast.set({expression:{type:"union",value:J[U]}}):this.$=J[U];break;case 25:this.$=[J[U]];break;case 26:this.$=J[U-2].concat(J[U]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(J[U])}},R.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:J[U]}},R.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:J[U]}},R.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:J[U]}},R.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:J[U]}},R.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:J[U]}},R.ast.set(this.$);break;case 33:case 34:this.$=J[U]}},table:[{3:1,4:[1,2],6:3,13:4,15:D,16:w,17:E,18:f,19:l},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:i,14:d,20:16,21:17,22:o},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:i,14:d,20:16,21:17,22:o},y(a,[2,12]),y(a,[2,14]),y(a,[2,15]),y(a,[2,16]),y(a,[2,17]),y(a,[2,18]),{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:i,14:d,20:16,21:17,22:o},y(a,[2,5]),y(a,[2,7]),y(a,[2,8]),y(a,[2,9]),y(a,[2,10]),y(a,[2,19]),y(a,[2,20]),{13:23,15:D,16:w,17:E,18:f,19:l},{13:24,15:D,16:w,17:E,18:f,19:l,22:[1,25]},{15:v,17:b,18:m,23:26,25:27,26:28,27:32,29:34,30:_,31:C,32:S,33:N},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:i,14:d,20:16,21:17,22:o},y(a,[2,6]),y(a,[2,11]),y(a,[2,13]),{15:v,17:b,18:m,23:38,25:27,26:28,27:32,29:34,30:_,31:C,32:S,33:N},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},y(B,[2,25]),y(B,[2,27]),y(B,[2,28]),y(B,[2,29]),y(B,[2,33]),y(B,[2,34]),{24:[1,41]},y(a,[2,21]),{18:m,27:42,29:34,30:_,32:S,33:N},y(a,[2,22]),y(B,[2,26])],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(oe,x){if(!x.recoverable){var G=new Error(oe);throw G.hash=x,G}this.trace(oe)},parse:function(oe){var G=[0],X=[null],J=[],ye=this.table,U="",Y=0,ce=0,we=0,T=J.slice.call(arguments,1),W=Object.create(this.lexer),K={yy:{}};for(var Q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Q)&&(K.yy[Q]=this.yy[Q]);W.setInput(oe,K.yy),K.yy.lexer=W,K.yy.parser=this,typeof W.yylloc>"u"&&(W.yylloc={});var le=W.yylloc;J.push(le);var Ue,pe=W.options&&W.options.ranges;this.parseError="function"==typeof K.yy.parseError?K.yy.parseError:Object.getPrototypeOf(this).parseError;for(var De,Ge,Pe,Oe,be,Ae,Re,Me,ge={};;){if(this.defaultActions[Pe=G[G.length-1]]?Oe=this.defaultActions[Pe]:((null===De||typeof De>"u")&&(Ue=void 0,"number"!=typeof(Ue=W.lex()||1)&&(Ue=this.symbols_[Ue]||Ue),De=Ue),Oe=ye[Pe]&&ye[Pe][De]),typeof Oe>"u"||!Oe.length||!Oe[0]){var Le;for(Ae in Me=[],ye[Pe])this.terminals_[Ae]&&Ae>2&&Me.push("'"+this.terminals_[Ae]+"'");Le=W.showPosition?"Parse error on line "+(Y+1)+":\n"+W.showPosition()+"\nExpecting "+Me.join(", ")+", got '"+(this.terminals_[De]||De)+"'":"Parse error on line "+(Y+1)+": Unexpected "+(1==De?"end of input":"'"+(this.terminals_[De]||De)+"'"),this.parseError(Le,{text:W.match,token:this.terminals_[De]||De,line:W.yylineno,loc:le,expected:Me})}if(Oe[0]instanceof Array&&Oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pe+", token: "+De);switch(Oe[0]){case 1:G.push(De),X.push(W.yytext),J.push(W.yylloc),G.push(Oe[1]),De=null,Ge?(De=Ge,Ge=null):(ce=W.yyleng,U=W.yytext,Y=W.yylineno,le=W.yylloc,we>0&&we--);break;case 2:if(ge.$=X[X.length-(Re=this.productions_[Oe[1]][1])],ge._$={first_line:J[J.length-(Re||1)].first_line,last_line:J[J.length-1].last_line,first_column:J[J.length-(Re||1)].first_column,last_column:J[J.length-1].last_column},pe&&(ge._$.range=[J[J.length-(Re||1)].range[0],J[J.length-1].range[1]]),typeof(be=this.performAction.apply(ge,[U,ce,Y,K.yy,Oe[1],X,J].concat(T)))<"u")return be;Re&&(G=G.slice(0,-1*Re*2),X=X.slice(0,-1*Re),J=J.slice(0,-1*Re)),G.push(this.productions_[Oe[1]][0]),X.push(ge.$),J.push(ge._$),G.push(ye[G[G.length-2]][G[G.length-1]]);break;case 3:return!0}}return!0}},F={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(ne){for(var oe in ne)this._node[oe]=ne[oe];return this._node},node:function(ne){return arguments.length&&(this._node=ne),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var ne=this._nodes;return this.initialize(),ne}};function H(){this.yy={}}return k.lexer=function(){return{EOF:1,parseError:function(x,G){if(!this.yy.parser)throw new Error(x);this.yy.parser.parseError(x,G)},setInput:function(oe,x){return this.yy=x||this.yy||{},this._input=oe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var oe=this._input[0];return this.yytext+=oe,this.yyleng++,this.offset++,this.match+=oe,this.matched+=oe,oe.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),oe},unput:function(oe){var x=oe.length,G=oe.split(/(?:\r\n?|\n)/g);this._input=oe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-x),this.offset-=x;var R=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),G.length-1&&(this.yylineno-=G.length-1);var X=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:G?(G.length===R.length?this.yylloc.first_column:0)+R[R.length-G.length].length-G[0].length:this.yylloc.first_column-x},this.options.ranges&&(this.yylloc.range=[X[0],X[0]+this.yyleng-x]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(oe){this.unput(this.match.slice(oe))},pastInput:function(){var oe=this.matched.substr(0,this.matched.length-this.match.length);return(oe.length>20?"...":"")+oe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var oe=this.match;return oe.length<20&&(oe+=this._input.substr(0,20-oe.length)),(oe.substr(0,20)+(oe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var oe=this.pastInput(),x=new Array(oe.length+1).join("-");return oe+this.upcomingInput()+"\n"+x+"^"},test_match:function(oe,x){var G,R,X;if(this.options.backtrack_lexer&&(X={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(X.yylloc.range=this.yylloc.range.slice(0))),(R=oe[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=R.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:R?R[R.length-1].length-R[R.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+oe[0].length},this.yytext+=oe[0],this.match+=oe[0],this.matches=oe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(oe[0].length),this.matched+=oe[0],G=this.performAction.call(this,this.yy,this,x,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),G)return G;if(this._backtrack){for(var J in X)this[J]=X[J];return!1}return!1},next:function(){if(this.done)return this.EOF;var oe,x,G,R;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var X=this._currentRules(),J=0;J<X.length;J++)if((G=this._input.match(this.rules[X[J]]))&&(!x||G[0].length>x[0].length)){if(x=G,R=J,this.options.backtrack_lexer){if(!1!==(oe=this.test_match(G,X[J])))return oe;if(this._backtrack){x=!1;continue}return!1}if(!this.options.flex)break}return x?!1!==(oe=this.test_match(x,X[R]))&&oe:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(x){this.conditionStack.push(x)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(x){return(x=this.conditionStack.length-1-Math.abs(x||0))>=0?this.conditionStack[x]:"INITIAL"},pushState:function(x){this.begin(x)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(x,G,R,X){switch(R){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return G.yytext=G.yytext.substr(1,G.yyleng-2),32;case 11:return G.yytext=G.yytext.substr(1,G.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}(),H.prototype=k,k.Parser=H,new H}();p.iX=h.Parser},15315:(q,p,s)=>{"use strict";var R,h=Object.defineProperty,y=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,w=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,l=(R,X)=>{var J={};for(var ye in R)E.call(R,ye)&&X.indexOf(ye)<0&&(J[ye]=R[ye]);if(null!=R&&w)for(var ye of w(R))X.indexOf(ye)<0&&f.call(R,ye)&&(J[ye]=R[ye]);return J},a=(R,X,J)=>new Promise((ye,U)=>{var Y=$e=>{try{we(J.next($e))}catch(g){U(g)}},ce=$e=>{try{we(J.throw($e))}catch(g){U(g)}},we=$e=>$e.done?ye($e.value):Promise.resolve($e.value).then(Y,ce);we((J=J.apply(R,X)).next())}),v={};((R,X)=>{for(var J in X)h(R,J,{get:X[J],enumerable:!0})})(v,{createHashMapping:()=>H,createHashMappingSync:()=>ne,decodeJwt:()=>_,decodeSdJwt:()=>S,decodeSdJwtSync:()=>N,getClaims:()=>B,getClaimsSync:()=>k,getSDAlgAndPayload:()=>oe,splitSdJwt:()=>C,unpack:()=>x,unpackArray:()=>F,unpackObj:()=>I,unpackSync:()=>G}),q.exports=(R=v,((R,X,J,ye)=>{if(X&&"object"==typeof X||"function"==typeof X)for(let U of D(X))!E.call(R,U)&&undefined!==U&&h(R,U,{get:()=>X[U],enumerable:!(ye=y(X,U))||ye.enumerable});return R})(h({},"__esModule",{value:!0}),R));var b=s(47862),m=s(29994),_=R=>{const{0:X,1:J,2:ye,length:U}=R.split(".");if(3!==U)throw new b.SDJWTException("Invalid JWT as input");return{header:JSON.parse((0,b.base64urlDecode)(X)),payload:JSON.parse((0,b.base64urlDecode)(J)),signature:ye}},C=R=>{const[X,...J]=R.split(m.SD_SEPARATOR);if(0===J.length)return{jwt:X,disclosures:[]};const ye=J.pop();return{jwt:X,disclosures:J,kbJwt:ye||void 0}},S=(R,X)=>a(void 0,null,function*(){const[J,...ye]=R.split(m.SD_SEPARATOR),U=_(J);if(0===ye.length)return{jwt:U,disclosures:[]};const Y=ye.pop(),ce=Y?_(Y):void 0,{_sd_alg:we}=oe(U.payload);return{jwt:U,disclosures:yield Promise.all(ye.map(g=>b.Disclosure.fromEncode(g,{alg:we,hasher:X}))),kbJwt:ce}}),N=(R,X)=>{const[J,...ye]=R.split(m.SD_SEPARATOR),U=_(J);if(0===ye.length)return{jwt:U,disclosures:[]};const Y=ye.pop(),ce=Y?_(Y):void 0,{_sd_alg:we}=oe(U.payload);return{jwt:U,disclosures:ye.map(g=>b.Disclosure.fromEncodeSync(g,{alg:we,hasher:X})),kbJwt:ce}},B=(R,X,J)=>a(void 0,null,function*(){const{unpackedObj:ye}=yield x(R,X,J);return ye}),k=(R,X,J)=>{const{unpackedObj:ye}=G(R,X,J);return ye},F=(R,X,J="")=>{const ye={},U=[];return R.forEach((Y,ce)=>{if("object"==typeof Y&&null!==Y){const we=Y[m.SD_LIST_KEY];if(we){const $e=X[we];if($e){const g=J?`${J}.${ce}`:`${ce}`;ye[g]=we;const{unpackedObj:T,disclosureKeymap:W}=I($e.value,X,g);U.push(T),Object.assign(ye,W)}}else{const $e=J?`${J}.${ce}`:`${ce}`,{unpackedObj:g,disclosureKeymap:T}=I(Y,X,$e);U.push(g),Object.assign(ye,T)}}else U.push(Y)}),{unpackedObj:U,disclosureKeymap:ye}},I=(R,X,J="")=>{const ye={};if("object"==typeof R&&null!==R){if(Array.isArray(R))return F(R,X,J);for(const g in R)if(g!==m.SD_DIGEST&&g!==m.SD_LIST_KEY&&"object"==typeof R[g]){const T=J?`${J}.${g}`:g,{unpackedObj:W,disclosureKeymap:K}=I(R[g],X,T);R[g]=W,Object.assign(ye,K)}const U=R,{_sd:Y}=U,ce=l(U,["_sd"]),we={};if(Y)for(const g of Y){const T=X[g];if(T?.key){const W=J?`${J}.${T.key}`:T.key;ye[W]=g;const{unpackedObj:K,disclosureKeymap:Q}=I(T.value,X,W);we[T.key]=K,Object.assign(ye,Q)}}return{unpackedObj:Object.assign(ce,we),disclosureKeymap:ye}}return{unpackedObj:R,disclosureKeymap:ye}},H=(R,X)=>a(void 0,null,function*(){const J={};for(let ye=0;ye<R.length;ye++){const U=R[ye];J[yield U.digest(X)]=U}return J}),ne=(R,X)=>{const J={};for(let ye=0;ye<R.length;ye++){const U=R[ye];J[U.digestSync(X)]=U}return J},oe=R=>{const X=R,{_sd_alg:J}=X,ye=l(X,["_sd_alg"]);return"string"!=typeof J?{_sd_alg:"sha-256",payload:ye}:{_sd_alg:J,payload:ye}},x=(R,X,J)=>a(void 0,null,function*(){const{_sd_alg:ye,payload:U}=oe(R),ce=yield H(X,{hasher:J,alg:ye});return I(U,ce)}),G=(R,X,J)=>{const{_sd_alg:ye,payload:U}=oe(R),ce=ne(X,{hasher:J,alg:ye});return I(U,ce)}},22084:(q,p,s)=>{"use strict";var k,h=Object.defineProperty,y=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,i=(k,F,I)=>new Promise((H,ne)=>{var oe=R=>{try{G(I.next(R))}catch(X){ne(X)}},x=R=>{try{G(I.throw(R))}catch(X){ne(X)}},G=R=>R.done?H(R.value):Promise.resolve(R.value).then(oe,x);G((I=I.apply(k,F)).next())}),d={};((k,F)=>{for(var I in F)h(k,I,{get:F[I],enumerable:!0})})(d,{createHashMappingForSerializedDisclosure:()=>N,present:()=>_,presentSync:()=>C,presentableKeys:()=>b,presentableKeysSync:()=>m,selectDisclosures:()=>B,transformPresentationFrame:()=>S}),q.exports=(k=d,((k,F,I,H)=>{if(F&&"object"==typeof F||"function"==typeof F)for(let ne of D(F))!w.call(k,ne)&&undefined!==ne&&h(k,ne,{get:()=>F[ne],enumerable:!(H=y(F,ne))||H.enumerable});return k})(h({},"__esModule",{value:!0}),k));var o=s(29994),a=s(47862),v=s(15315),b=(k,F,I)=>i(void 0,null,function*(){const{disclosureKeymap:H}=yield(0,v.unpack)(k,F,I);return Object.keys(H).sort()}),m=(k,F,I)=>{const{disclosureKeymap:H}=(0,v.unpackSync)(k,F,I);return Object.keys(H).sort()},_=(k,F,I)=>i(void 0,null,function*(){const{jwt:H,kbJwt:ne}=(0,v.splitSdJwt)(k),{jwt:{payload:oe},disclosures:x}=yield(0,v.decodeSdJwt)(k,I),{_sd_alg:G}=(0,v.getSDAlgAndPayload)(oe),R={alg:G,hasher:I},X=S(F),J=yield(0,v.createHashMapping)(x,R),{disclosureKeymap:ye}=yield(0,v.unpack)(oe,x,I);return[H,...X.map(Y=>J[ye[Y]]).filter(Y=>void 0!==Y).map(Y=>Y.encode()),ne??""].join(o.SD_SEPARATOR)}),C=(k,F,I)=>{const{jwt:H,kbJwt:ne}=(0,v.splitSdJwt)(k),{jwt:{payload:oe},disclosures:x}=(0,v.decodeSdJwtSync)(k,I),{_sd_alg:G}=(0,v.getSDAlgAndPayload)(oe),R={alg:G,hasher:I},X=S(F),J=(0,v.createHashMappingSync)(x,R),{disclosureKeymap:ye}=(0,v.unpackSync)(oe,x,I);return[H,...X.map(Y=>J[ye[Y]]).filter(Y=>void 0!==Y).map(Y=>Y.encode()),ne??""].join(o.SD_SEPARATOR)},S=(k,F="")=>Object.entries(k).reduce((I,[H,ne])=>{const oe=F?`${F}.${H}`:H;return"boolean"==typeof ne?ne&&I.push(oe):I.push(oe,...S(ne,oe)),I},[]),N=k=>{const F={};for(let I=0;I<k.length;I++){const H=k[I],{digest:ne,encoded:oe,key:x,salt:G,value:R}=H;F[ne]=a.Disclosure.fromArray(x?[G,x,R]:[G,R],{digest:ne,encoded:oe})}return F},B=(k,F,I)=>{if(0===F.length)return[];const H=N(F),{disclosureKeymap:ne}=(0,v.unpackObj)(k,H);return S(I).map(R=>H[ne[R]]).filter(R=>void 0!==R).map(R=>{const{salt:X,key:J,value:ye,_digest:U}=R;if(!U)throw new a.SDJWTException("Implementation error: _digest is not defined");return{digest:U,encoded:R.encode(),salt:X,key:J,value:ye}})}},29994:q=>{"use strict";var v,p=Object.defineProperty,s=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,y=Object.prototype.hasOwnProperty,f={};((v,b)=>{for(var m in b)p(v,m,{get:b[m],enumerable:!0})})(f,{KB_JWT_TYP:()=>a,SD_DECOY:()=>o,SD_DIGEST:()=>d,SD_LIST_KEY:()=>i,SD_SEPARATOR:()=>l}),q.exports=(v=f,((v,b,m,_)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let C of h(b))!y.call(v,C)&&undefined!==C&&p(v,C,{get:()=>b[C],enumerable:!(_=s(b,C))||_.enumerable});return v})(p({},"__esModule",{value:!0}),v));var l="~",i="...",d="_sd",o="_sd_decoy",a="kb+jwt"},47862:(q,p,s)=>{"use strict";var C,h=Object.defineProperty,y=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,i=(C,S,N)=>new Promise((B,k)=>{var F=ne=>{try{H(N.next(ne))}catch(oe){k(oe)}},I=ne=>{try{H(N.throw(ne))}catch(oe){k(oe)}},H=ne=>ne.done?B(ne.value):Promise.resolve(ne.value).then(F,I);H((N=N.apply(C,S)).next())}),d={};((C,S)=>{for(var N in S)h(C,N,{get:S[N],enumerable:!0})})(d,{Disclosure:()=>_,SDJWTException:()=>m,base64urlDecode:()=>v,base64urlEncode:()=>a,uint8ArrayToBase64Url:()=>b}),q.exports=(C=d,((C,S,N,B)=>{if(S&&"object"==typeof S||"function"==typeof S)for(let k of D(S))!w.call(C,k)&&undefined!==k&&h(C,k,{get:()=>S[k],enumerable:!(B=y(S,k))||B.enumerable});return C})(h({},"__esModule",{value:!0}),C));var o=s(12398),a=o.Base64.encodeURI,v=o.Base64.decode,b=C=>o.Base64.fromUint8Array(C,!0),m=class hl extends Error{constructor(S,N){super(S),Object.setPrototypeOf(this,hl.prototype),this.name="SDJWTException",this.details=N}getFullMessage(){return`${this.name}: ${this.message} ${this.details?`- ${JSON.stringify(this.details)}`:""}`}},_=class Po{constructor(S,N){if(this._digest=N?.digest,this._encoded=N?.encoded,2===S.length)return this.salt=S[0],void(this.value=S[1]);if(3===S.length)return this.salt=S[0],this.key=S[1],void(this.value=S[2]);throw new m("Invalid disclosure data")}static fromEncode(S,N){return i(this,null,function*(){const{hasher:B,alg:k}=N,F=yield B(S,k),I=b(F),H=JSON.parse(v(S));return Po.fromArray(H,{digest:I,encoded:S})})}static fromEncodeSync(S,N){const{hasher:B,alg:k}=N,F=B(S,k),I=b(F),H=JSON.parse(v(S));return Po.fromArray(H,{digest:I,encoded:S})}static fromArray(S,N){return new Po(S,N)}encode(){return this._encoded||(this._encoded=a(JSON.stringify(this.decode()))),this._encoded}decode(){return this.key?[this.salt,this.key,this.value]:[this.salt,this.value]}digest(S){return i(this,null,function*(){const{hasher:N,alg:B}=S;if(!this._digest){const k=yield N(this.encode(),B);this._digest=b(k)}return this._digest})}digestSync(S){const{hasher:N,alg:B}=S;if(!this._digest){const k=N(this.encode(),B);this._digest=b(k)}return this._digest}}},47636:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(83858),p)},66091:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},80723:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},25515:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},18414:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},95517:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},37728:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},39762:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Directives=void 0,p.Directives={Required:"required",Allowed:"allowed",Disallowed:"disallowed"}},891:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ExchangeStatus=void 0,p.ExchangeStatus={Created:"CREATED",Submitted:"SUBMITTED",HolderDeclined:"HOLDER_DECLINED",Expired:"EXPIRED",Accepted:"ACCEPTED",VerifierDeclined:"VERIFIER_DECLINED"}},67847:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},40826:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},56911:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},17954:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},79506:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},23843:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},39711:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},5179:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},68020:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},54078:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},81755:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},83947:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},73725:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},87260:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},75873:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},83858:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(66091),p),y(s(80723),p),y(s(25515),p),y(s(18414),p),y(s(95517),p),y(s(37728),p),y(s(39762),p),y(s(891),p),y(s(67847),p),y(s(40826),p),y(s(56911),p),y(s(17954),p),y(s(79506),p),y(s(23843),p),y(s(39711),p),y(s(5179),p),y(s(68020),p),y(s(54078),p),y(s(81755),p),y(s(83947),p),y(s(73725),p),y(s(87260),p),y(s(75873),p),y(s(99959),p),y(s(41787),p),y(s(25526),p),y(s(8946),p),y(s(62704),p),y(s(13065),p),y(s(42834),p),y(s(32206),p),y(s(35723),p),y(s(31748),p),y(s(80125),p),y(s(9668),p),y(s(57669),p),y(s(56179),p),y(s(79369),p),y(s(6982),p),y(s(46521),p),y(s(28858),p),y(s(78029),p),y(s(3296),p)},99959:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},41787:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},25526:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Optionality=void 0,p.Optionality={Required:"required",Preferred:"preferred"}},8946:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},62704:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},13065:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},42834:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},32206:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},35723:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},31748:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},80125:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},9668:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},57669:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Rules=void 0,p.Rules={All:"all",Pick:"pick"}},56179:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},79369:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},6982:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Status=void 0,p.Status={Success:"SUCCESS",Warn:"WARN",Error:"ERROR"}},46521:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},28858:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},78029:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},3296:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},30720:(q,p,s)=>{"use strict";p.E8=void 0;const y=s(2700);Object.defineProperty(p,"E8",{enumerable:!0,get:function(){return y.PEX}})},55776:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.hasErrors=p.Checked=p.Status=void 0,p.Status={INFO:"info",WARN:"warn",ERROR:"error"},p.Checked=class{constructor(y,D,w){this.tag=y,this.status=D,this.message=w}},p.hasErrors=y=>y.filter(w=>function D(w){return w.status===p.Status.ERROR}(w)).length>0},97889:function(q,p,s){"use strict";var h=this&&this.__awaiter||function(o,a,v,b){return new(v||(v=Promise))(function(_,C){function S(k){try{B(b.next(k))}catch(F){C(F)}}function N(k){try{B(b.throw(k))}catch(F){C(F)}}function B(k){k.done?_(k.value):function m(_){return _ instanceof v?_:new v(function(C){C(_)})}(k.value).then(S,N)}B((b=b.apply(o,a||[])).next())})};Object.defineProperty(p,"__esModule",{value:!0}),p.PEX=void 0;const y=s(11151),D=s(55776),w=s(70143),E=s(64864),f=s(99938),l=s(13486),i=s(80930);class d{constructor(a){this._evaluationClientWrapper=new w.EvaluationClientWrapper,this.options=a}evaluatePresentation(a,v,b){var m,_,C;const S=void 0!==b?.generatePresentationSubmission?b.generatePresentationSubmission:void 0===b?.presentationSubmission,N=f.SSITypesBuilder.toInternalPresentationDefinition(a),B=JSON.parse(JSON.stringify(v)),k=f.SSITypesBuilder.mapExternalVerifiablePresentationToWrappedVP(B,null===(m=this.options)||void 0===m?void 0:m.hasher),F=null!==(_=b?.presentationSubmission)&&void 0!==_?_:k.decoded.presentation_submission;if(!F&&!S)throw Error("Either a presentation submission as part of the VP or provided separately was expected");const I=y.CredentialMapper.isW3cPresentation(k.presentation)&&k.presentation.holder?[k.presentation.holder]:[],H=Object.assign(Object.assign({},b),{holderDIDs:I,presentationSubmission:F,generatePresentationSubmission:S}),ne=this._evaluationClientWrapper.evaluate(N,k.vcs,H);return!(null===(C=ne.value)||void 0===C)&&C.descriptor_map.length&&(new w.EvaluationClientWrapper).selectFrom(N,k.vcs,H).areRequiredCredentialsPresent!==D.Status.ERROR&&(ne.errors=[]),ne}evaluateCredentials(a,v,b){var m;const _=f.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(v,null===(m=this.options)||void 0===m?void 0:m.hasher);this._evaluationClientWrapper=new w.EvaluationClientWrapper;const C=f.SSITypesBuilder.toInternalPresentationDefinition(a),S=this._evaluationClientWrapper.evaluate(C,_,b);if(S.value&&S.value.descriptor_map.length){const B=(new w.EvaluationClientWrapper).selectFrom(C,_,b);S.areRequiredCredentialsPresent=B.areRequiredCredentialsPresent,S.errors=B.errors}else S.areRequiredCredentialsPresent=D.Status.ERROR;return S}selectFrom(a,v,b){var m;const _=JSON.parse(JSON.stringify(v)),C=f.SSITypesBuilder.toInternalPresentationDefinition(a);return this._evaluationClientWrapper=new w.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(C,f.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(_,null===(m=this.options)||void 0===m?void 0:m.hasher),b)}presentationSubmissionFrom(a,v,b){var m;const _=f.SSITypesBuilder.toInternalPresentationDefinition(a);return this._evaluationClientWrapper.submissionFrom(_,f.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(v,null===(m=this.options)||void 0===m?void 0:m.hasher),b)}presentationFrom(a,v,b){var m,_;const C=this.presentationSubmissionFrom(a,v,b),S=v.some(k=>y.CredentialMapper.isSdJwtDecodedCredential(k)||y.CredentialMapper.isSdJwtEncoded(k));if(b?.presentationSubmissionLocation===E.PresentationSubmissionLocation.PRESENTATION&&S)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const N=null!==(m=b?.presentationSubmissionLocation)&&void 0!==m?m:S?E.PresentationSubmissionLocation.EXTERNAL:E.PresentationSubmissionLocation.PRESENTATION;return{presentation:d.constructPresentation(v,Object.assign(Object.assign({},b),{presentationSubmission:N===E.PresentationSubmissionLocation.PRESENTATION?C:void 0,hasher:null===(_=this.options)||void 0===_?void 0:_.hasher})),presentationSubmissionLocation:N,presentationSubmission:C}}static constructPresentation(a,v){var b,m,_,C;const S=Array.isArray(a)?a:[a];if(S.some(N=>y.CredentialMapper.isSdJwtDecodedCredential(N)||y.CredentialMapper.isSdJwtEncoded(N))){if(S.length>1)throw new Error("Only a single credential is supported when creating a presentation with an SD-JWT VC");if(v?.presentationSubmission)throw new Error("Presentation submission cannot be included in the presentation when creating a presentation with an SD-JWT VC");if(v?.basePresentationPayload)throw new Error("Base presentation payload cannot be when creating a presentation from an SD-JWT VC");const N=y.CredentialMapper.isSdJwtEncoded(S[0])?y.CredentialMapper.decodeVerifiableCredential(S[0],v?.hasher):S[0];if(!v?.hasher)throw new Error("Hasher must be provided when creating a presentation with an SD-JWT VC");const B=null!==(b=N.signedPayload._sd_alg)&&void 0!==b?b:"sha-256",k=(0,l.calculateSdHash)(N.compactSdJwtVc,B,v.hasher),F={header:{typ:"kb+jwt"},payload:{iat:(new Date).getTime(),_sd_hash:k}};return Object.assign(Object.assign({},N),{kbJwt:F})}{if(!a)throw Error("At least a verifiable credential needs to be passed in to create a presentation");const N=Array.isArray(a)?a:[a],B=N.map(ne=>y.CredentialMapper.toWrappedVerifiableCredential(ne)),k=Array.from(new Set(B.flatMap(ne=>(0,l.getSubjectIdsAsString)(ne.credential))));1!==k.length&&!v?.holderDID&&console.log(`We deduced ${k.length} subject from ${B.length} Verifiable Credentials, and no holder property was given. This might lead to undesired results`);const F=null!==(m=v?.holderDID)&&void 0!==m?m:1===k.length?k[0]:void 0,I=null!==(_=v?.basePresentationPayload)&&void 0!==_&&_.type?Array.isArray(v.basePresentationPayload.type)?v.basePresentationPayload.type:[v.basePresentationPayload.type]:[];I.includes("VerifiablePresentation")||I.push("VerifiablePresentation");const H=null!==(C=v?.basePresentationPayload)&&void 0!==C&&C["@context"]?Array.isArray(v.basePresentationPayload["@context"])?v.basePresentationPayload["@context"]:[v.basePresentationPayload["@context"]]:[];return H.includes("https://www.w3.org/2018/credentials/v1")||H.push("https://www.w3.org/2018/credentials/v1"),v?.presentationSubmission&&(I.includes("PresentationSubmission")||I.push("PresentationSubmission"),H.includes("https://identity.foundation/presentation-exchange/submission/v1")||H.push("https://identity.foundation/presentation-exchange/submission/v1")),Object.assign(Object.assign(Object.assign(Object.assign({},v?.basePresentationPayload),{"@context":H,type:I,holder:F}),!!v?.presentationSubmission&&{presentation_submission:v.presentationSubmission}),{verifiableCredential:N})}}static validateDefinition(a){const v=(0,l.definitionVersionDiscovery)(a);if(v.error)throw new Error(v.error);const b=[];return b.push(v.version===f.PEVersion.v1?{bundler:new i.PresentationDefinitionV1VB("root"),target:f.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(a)}:{bundler:new i.PresentationDefinitionV2VB("root"),target:f.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(a)}),(new i.ValidationEngine).validate(b)}static validateSubmission(a){return(new i.ValidationEngine).validate([{bundler:new i.PresentationSubmissionVB("root"),target:a}])}verifiablePresentationFrom(a,v,b,m){return h(this,void 0,void 0,function*(){var _,C;const{holderDID:S,signatureOptions:N,proofOptions:B}=m,F=S?[S]:[],I=function k(){let J=[];if(B?.typeSupportsSelectiveDisclosure){if(!B?.type)throw Error("Please provide a proof type if you enable selective disclosure");J=[B.type]}return J}(),H=this.evaluateCredentials(a,v,{holderDIDs:F,limitDisclosureSignatureSuites:I}),ne=this.presentationFrom(a,H.verifiableCredential,m),oe=this.evaluatePresentation(a,ne.presentation,Object.assign({limitDisclosureSignatureSuites:I},ne.presentationSubmissionLocation===E.PresentationSubmissionLocation.EXTERNAL&&{presentationSubmission:ne.presentationSubmission}));if(!oe.value)throw new Error("Could not get evaluation results from presentationResult");const x={type:B?.type,verificationMethod:N?.verificationMethod,created:B?.created?B.created:(new Date).toISOString(),proofPurpose:B?.proofPurpose,proofValue:N?.proofValue,jws:N?.jws,challenge:B?.challenge,nonce:B?.nonce,domain:B?.domain};let G=ne.presentation;if(y.CredentialMapper.isSdJwtDecodedCredential(ne.presentation)){if(null===(_=this.options)||void 0===_||!_.hasher)throw new Error("Hasher must be provided when creating a presentation with an SD-JWT VC");const J=null!==(C=ne.presentation.signedPayload._sd_alg)&&void 0!==C?C:"sha-256",ye=(0,l.calculateSdHash)(ne.presentation.compactSdJwtVc,J,this.options.hasher),U={header:{typ:"kb+jwt"},payload:{iat:(new Date).getTime(),nonce:B?.nonce,_sd_hash:ye}};G=Object.assign(Object.assign({},G),{kbJwt:U})}const R={options:Object.assign(Object.assign({},m),{presentationSubmissionLocation:ne.presentationSubmissionLocation}),presentation:G,presentationDefinition:a,selectedCredentials:v,proof:x,presentationSubmission:oe.value,evaluationResults:oe};return{verifiablePresentation:yield b(R),presentationSubmissionLocation:ne.presentationSubmissionLocation,presentationSubmission:oe.value}})}static definitionVersionDiscovery(a){return(0,l.definitionVersionDiscovery)(a)}}p.PEX=d},38992:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.PEXv1=void 0;const h=s(11151),y=s(97889),D=s(70143),w=s(64864),E=s(99938),f=s(80930);p.PEXv1=class l extends y.PEX{evaluatePresentation(d,o,a){return E.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(d),super.evaluatePresentation(d,o,a)}evaluateCredentials(d,o,a){return E.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(d),super.evaluateCredentials(d,o,a)}selectFrom(d,o,a){const v=JSON.parse(JSON.stringify(o));return this._evaluationClientWrapper=new D.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(E.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(d),E.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(v),a)}presentationFrom(d,o,a){var v;const b=this._evaluationClientWrapper.submissionFrom(E.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(d),E.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(o),a),m=o.some(S=>h.CredentialMapper.isSdJwtDecodedCredential(S)||h.CredentialMapper.isSdJwtEncoded(S));if(a?.presentationSubmissionLocation===w.PresentationSubmissionLocation.PRESENTATION&&m)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const _=null!==(v=a?.presentationSubmissionLocation)&&void 0!==v?v:m?w.PresentationSubmissionLocation.EXTERNAL:w.PresentationSubmissionLocation.PRESENTATION;return{presentation:y.PEX.constructPresentation(o,Object.assign(Object.assign({},a),{presentationSubmission:_===w.PresentationSubmissionLocation.PRESENTATION?b:void 0})),presentationSubmissionLocation:_,presentationSubmission:b}}static validateDefinition(d){const o=E.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(d);return(new f.ValidationEngine).validate([{bundler:new f.PresentationDefinitionV1VB("root"),target:o}])}static validateSubmission(d){return y.PEX.validateSubmission(d)}}},71945:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.PEXv2=void 0;const h=s(11151),y=s(97889),D=s(70143),w=s(64864),E=s(99938),f=s(80930);p.PEXv2=class l extends y.PEX{evaluatePresentation(d,o,a){return E.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(d),super.evaluatePresentation(d,o,a)}evaluateCredentials(d,o,a){return E.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(d),super.evaluateCredentials(d,o,a)}selectFrom(d,o,a){return this._evaluationClientWrapper=new D.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(E.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(d),E.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(o),a)}presentationFrom(d,o,a){var v;const b=this._evaluationClientWrapper.submissionFrom(E.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(d),E.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(o),a),m=o.some(S=>h.CredentialMapper.isSdJwtDecodedCredential(S)||h.CredentialMapper.isSdJwtEncoded(S));if(a?.presentationSubmissionLocation===w.PresentationSubmissionLocation.PRESENTATION&&m)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const _=null!==(v=a?.presentationSubmissionLocation)&&void 0!==v?v:m?w.PresentationSubmissionLocation.EXTERNAL:w.PresentationSubmissionLocation.PRESENTATION;return{presentation:y.PEX.constructPresentation(o,Object.assign(Object.assign({},a),{presentationSubmission:_===w.PresentationSubmissionLocation.PRESENTATION?b:void 0})),presentationSubmissionLocation:_,presentationSubmission:b}}static validateDefinition(d){const o=E.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(d);return(new f.ValidationEngine).validate([{bundler:new f.PresentationDefinitionV2VB("root"),target:o}])}static validateSubmission(d){return y.PEX.validateSubmission(d)}}},38947:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},45994:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.HandlerCheckResult=void 0,p.HandlerCheckResult=class{constructor(h,y,D,w,E,f){this.input_descriptor_path=h,this.verifiable_credential_path=y,this.evaluator=D,this.status=w,this.message=E,this.payload=f}}},92127:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(38947),p),y(s(45994),p),y(s(83565),p),y(s(21235),p)},83565:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},21235:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},50950:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(p,"__esModule",{value:!0}),p.EvaluationClient=void 0;const y=s(11151),D=s(55776),w=h(s(24080)),E=s(13486),f=s(71001),l=[y.IProofType.BbsBlsSignatureProof2020,"DataIntegrityProof.anoncreds-2023"];p.EvaluationClient=class i{constructor(){this.failed_catched={tag:"root",status:D.Status.ERROR,message:w.default.UNKNOWN_EXCEPTION,stacktrace:""},this._results=[],this._wrappedVcs=[],this._presentationSubmission={},this._dids=[],this._limitDisclosureSignatureSuites=l,this._restrictToDIDMethods=[],this._generatePresentationSubmission=!0}evaluate(o,a,v){this._restrictToDIDMethods=v?.restrictToDIDMethods?(0,E.uniformDIDMethods)(v?.restrictToDIDMethods):[],this._dids=v?.holderDIDs?(0,E.filterToRestrictedDIDs)(v.holderDIDs,this._restrictToDIDMethods):[],this._limitDisclosureSignatureSuites=v?.limitDisclosureSignatureSuites,this._restrictToFormats=v?.restrictToFormats,this._generatePresentationSubmission=void 0===v?.generatePresentationSubmission||v.generatePresentationSubmission,v?.presentationSubmission&&(this._presentationSubmission=v.presentationSubmission);let b=this.initEvaluationHandlers();for(b?.handle(o,a);b?.hasNext();){b=b.getNext();try{b?.handle(o,a)}catch(m){throw this.failed_catched.message+=m.message,this.failed_catched.stacktrace=m,this.failed_catched}}}get results(){return this._results}get dids(){return this._dids}set dids(o){this._dids=o}assertPresentationSubmission(){if("string"==typeof this._presentationSubmission&&(console.log("Presentation submission present, but as string not object. External calls did not follow contract. Correcting"),this._presentationSubmission=JSON.parse(this._presentationSubmission)),!(this.generatePresentationSubmission||this.presentationSubmission&&0!==Object.keys(this.presentationSubmission).length))throw Error("No presentation submission present, but required option was set")}get generatePresentationSubmission(){return this._generatePresentationSubmission}set generatePresentationSubmission(o){this._generatePresentationSubmission=o}get presentationSubmission(){return this._presentationSubmission}set presentationSubmission(o){this._presentationSubmission=o}get wrappedVcs(){return this._wrappedVcs}set wrappedVcs(o){this._wrappedVcs=o}get limitDisclosureSignatureSuites(){return this._limitDisclosureSignatureSuites||l}set limitDisclosureSignatureSuites(o){this._limitDisclosureSignatureSuites=o}get restrictToDIDMethods(){return this._restrictToDIDMethods}set restrictToDIDMethods(o){this._restrictToDIDMethods=(0,E.uniformDIDMethods)(o)}hasRestrictToDIDMethods(){return this.restrictToDIDMethods&&this.restrictToDIDMethods.length>0}get restrictToFormats(){return this._restrictToFormats}set restrictToFormats(o){this._restrictToFormats=o}initEvaluationHandlers(){const o=new f.UriEvaluationHandler(this);return o.setNext(new f.DIDRestrictionEvaluationHandler(this)).setNext(new f.FormatRestrictionEvaluationHandler(this)).setNext(new f.InputDescriptorFilterEvaluationHandler(this)).setNext(new f.PredicateRelatedFieldEvaluationHandler(this)).setNext(new f.LimitDisclosureEvaluationHandler(this)).setNext(new f.SubjectIsIssuerEvaluationHandler(this)).setNext(new f.SubjectIsHolderEvaluationHandler(this)).setNext(new f.SameSubjectEvaluationHandler(this)).setNext(new f.MarkForSubmissionEvaluationHandler(this)),o}}},78995:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.EvaluationClientWrapper=void 0;const h=s(44273),y=s(47636),D=s(11151),w=s(55776),E=s(64864),f=s(13486),l=s(50950);p.EvaluationClientWrapper=class i{constructor(){this._client=new l.EvaluationClient}getEvaluationClient(){return this._client}selectFrom(o,a,v){var b;let m;this._client.evaluate(o,a,v);const _=[...this.formatNotInfo(w.Status.WARN)],C=[...this.formatNotInfo(w.Status.ERROR)];if(o.submission_requirements){const S=this._client.results.filter(H=>"MarkForSubmissionEvaluation"===H.evaluator&&H.payload.group&&H.status!==w.Status.ERROR),N=Array.from(new Set(S));let B;try{B=this.matchSubmissionRequirements(o,o.submission_requirements,N)}catch(H){const ne={status:w.Status.ERROR,message:JSON.stringify(H),tag:"matchSubmissionRequirements"};return{errors:C?[...C,ne]:[ne],warnings:_,areRequiredCredentialsPresent:w.Status.ERROR}}const F=this.extractMatches(B).map(H=>h.JSONPath.nodes(this._client.wrappedVcs.map(ne=>ne.original),H)[0].value),I=this.determineAreRequiredCredentialsPresent(o,B);m={errors:I===w.Status.INFO?[]:C,matches:[...B],areRequiredCredentialsPresent:I,verifiableCredential:F,warnings:_}}else{const S=this._client.results.filter(B=>"MarkForSubmissionEvaluation"===B.evaluator&&B.status!==w.Status.ERROR);if(this.checkWithoutSubmissionRequirements(S,o).length)return{errors:C,matches:[],areRequiredCredentialsPresent:w.Status.ERROR,verifiableCredential:a.map(B=>B.original),warnings:_};{const B=this.matchWithoutSubmissionRequirements(S,o),F=this.extractMatches(B).map(I=>h.JSONPath.nodes(this._client.wrappedVcs.map(H=>H.original),I)[0].value);m={errors:[],matches:[...B],areRequiredCredentialsPresent:w.Status.INFO,verifiableCredential:F,warnings:_}}}return this.fillSelectableCredentialsToVerifiableCredentialsMapping(m,a),m.areRequiredCredentialsPresent=this.determineAreRequiredCredentialsPresent(o,m?.matches),this.remapMatches(a.map(S=>S.original),m.matches,m?.verifiableCredential),null===(b=m.matches)||void 0===b||b.forEach(S=>{this.updateSubmissionRequirementMatchPathToAlias(S,"verifiableCredential")}),m.areRequiredCredentialsPresent===w.Status.INFO?m.errors=[]:(m.errors=C,m.warnings=_,m.verifiableCredential=a.map(S=>S.original)),m}remapMatches(o,a,v){a?.forEach(b=>{b.from_nested?this.remapMatches(o,b.from_nested,v):b.vc_path.forEach((m,_,C)=>{const S=h.JSONPath.query(o,m)[0],N=v?.findIndex(B=>JSON.stringify(B)===JSON.stringify(S));if(-1===N)throw new Error(`The index of the VerifiableCredential in your current call can't be found in your previously submitted credentials. Are you trying to send a new Credential?\nverifiableCredential: ${S}`);C[_]=`$[${N}]`})})}extractMatches(o){const a=[];return o.forEach(v=>{a.push(...v.vc_path),v.from_nested&&a.push(...this.extractMatches(v.from_nested))}),Array.from(new Set(a))}checkWithoutSubmissionRequirements(o,a){const v=[];if(!a.input_descriptors)return[];if(!o.length)return[{input_descriptor_path:"",evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:w.Status.ERROR,payload:"Not all the InputDescriptors are addressed"}];const b=a.input_descriptors,m=f.ObjectUtils.getDistinctFieldInObject(o,"input_descriptor_path");if(m.length!==b.length){const _=m.map(C=>f.JsonPathUtils.extractInputField(a,[C])[0].value).map(C=>C.id);for(let C=0;C<a.input_descriptors.length;C++)-1==_.indexOf(a.input_descriptors[C].id)&&v.push({input_descriptor_path:`$.input_descriptors[${C}]`,evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:w.Status.ERROR,payload:"Not all the InputDescriptors are addressed"})}return v}matchSubmissionRequirements(o,a,v){const b=[];for(const m of a){const _={name:o.name||o.id,rule:m.rule,vc_path:[]};if(m.from&&(_.from=m.from),m.min&&(_.min=m.min),m.max&&(_.max=m.max),m.count&&(_.count=m.count),m.from){const C=this.mapMatchingDescriptors(o,m,v);C&&(_.vc_path.push(...C.vc_path),_.name=C.name,b.push(_))}else{if(!m.from_nested)throw new Error("Invalid SubmissionRequirement object: Must contain either 'from' or 'from_nested'");try{_.from_nested=this.matchSubmissionRequirements(o,m.from_nested,v),b.push(_)}catch(C){throw new Error(`Error in handling value of from_nested: ${m.from_nested}: err: ${C}`)}}}return b}matchWithoutSubmissionRequirements(o,a){const v=[],b=this.createIdToVcMap(o);for(const[m,_]of b.entries())if(_&&_.length)for(const C of _){const S=f.JsonPathUtils.extractInputField(a,[m]);S.length&&v.push({name:S[0].value.name||S[0].value.id,rule:y.Rules.All,vc_path:[C]})}return this.removeDuplicateSubmissionRequirementMatches(v)}mapMatchingDescriptors(o,a,v){var b;const m={rule:a.rule,vc_path:[]};if(a?.from){m.from=a.from;for(const _ of v){const C=h.JSONPath.query(o,_.input_descriptor_path)[0];C.group&&-1===C.group.indexOf(a.from)||(m.name=C.name||C.id,_.payload.group.includes(a.from)&&-1===(null===(b=m.vc_path)||void 0===b?void 0:b.indexOf(_.verifiable_credential_path))&&m.vc_path.push(_.verifiable_credential_path))}}return m}evaluate(o,a,v){var b,m,_,C;this._client.evaluate(o,a,v);const S={areRequiredCredentialsPresent:w.Status.INFO,verifiableCredential:a.map(N=>N.original)};if(S.warnings=this.formatNotInfo(w.Status.WARN),S.errors=this.formatNotInfo(w.Status.ERROR),this._client.assertPresentationSubmission(),null!==(b=this._client.presentationSubmission)&&void 0!==b&&b.descriptor_map.length){const N=null===(m=this._client.presentationSubmission)||void 0===m?void 0:m.descriptor_map.length;for(let B=0;B<N;B++)this._client.presentationSubmission.descriptor_map[B]&&this._client.presentationSubmission.descriptor_map.push(this._client.presentationSubmission.descriptor_map[B]);this._client.presentationSubmission.descriptor_map.splice(0,N),S.value=JSON.parse(JSON.stringify(this._client.presentationSubmission))}return this._client.generatePresentationSubmission&&this.updatePresentationSubmissionPathToVpPath(S.value),S.verifiableCredential=this._client.wrappedVcs.map(N=>N.original),S.areRequiredCredentialsPresent=null!==(C=null===(_=S.value)||void 0===_?void 0:_.descriptor_map)&&void 0!==C&&C.length?w.Status.INFO:w.Status.ERROR,S}formatNotInfo(o){return this._client.results.filter(a=>a.status===o).map(a=>{const v=a.verifiable_credential_path.substring(1);return{tag:a.evaluator,status:a.status,message:`${a.message}: ${a.input_descriptor_path}: $.verifiableCredential${v}`}})}submissionFrom(o,a,v){if(!this._client.results.length)throw Error("You need to call evaluate() before pex.presentationFrom()");if(!this._client.generatePresentationSubmission)return this._client.presentationSubmission;if(o.submission_requirements){const _=this._client.results.filter(F=>"MarkForSubmissionEvaluation"===F.evaluator&&F.payload.group&&F.status!==w.Status.ERROR),[C,S]=this.matchUserSelectedVcs(_,a),N=new Map;"input_descriptors"in o&&o.input_descriptors.forEach(F=>{F.group&&F.group.forEach(I=>{N.has(I)?N.set(I,N.get(I)+1):N.set(I,1)})});const B=this.evaluateRequirements(o.submission_requirements,C,N,0),k=S.filter(F=>B[1].find(I=>I.verifiable_credential_path===F[1]));return this.updatePresentationSubmission(k),this.updatePresentationSubmissionPathToVpPath(),v?.presentationSubmissionLocation===E.PresentationSubmissionLocation.EXTERNAL&&this.updatePresentationSubmissionToExternal(),this._client.presentationSubmission}const b=this._client.results.filter(_=>"MarkForSubmissionEvaluation"===_.evaluator&&_.status!==w.Status.ERROR),m=this.matchUserSelectedVcs(b,a);return this.updatePresentationSubmission(m[1]),this.updatePresentationSubmissionPathToVpPath(),v?.presentationSubmissionLocation===E.PresentationSubmissionLocation.EXTERNAL&&this.updatePresentationSubmissionToExternal(),this._client.presentationSubmission}updatePresentationSubmission(o){this._client.generatePresentationSubmission&&(this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.filter(a=>o.find(v=>v[0]===a.path)).map(a=>{const v=o.find(b=>b[0]===a.path);return v&&(a.path=v[1]),a}))}updatePresentationSubmissionToExternal(){this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.map(a=>{if(a.path_nested)return a;if("vc+sd-jwt"===a.format)return a;const v=a.format,b=Object.assign({},a);return b.path_nested=Object.assign({},a),b.path="$",v.startsWith("ldp_")?b.format="ldp_vp":v.startsWith("di_")?b.format="di_vp":"jwt_vc"===v?(b.format="jwt_vp",b.path_nested.path=b.path_nested.path.replace("$.verifiableCredential[","$.vp.verifiableCredential[")):"jwt_vc_json"===v&&(b.format="jwt_vp_json",b.path_nested.path=b.path_nested.path.replace("$.verifiableCredential[","$.vp.verifiableCredential[")),b})}matchUserSelectedVcs(o,a){const v=a.map((_,C)=>[C,JSON.stringify(_.original)]),b=this._client.wrappedVcs.map((_,C)=>[C,JSON.stringify(_.original)]),m=[];return v.forEach((_,C)=>{b.forEach((S,N)=>{S[1]===_[1]&&m.push([`$[${N}]`,`$[${C}]`])})}),[o=o.filter(_=>m.find(C=>C[0]===_.verifiable_credential_path)).map(_=>{const C=m.find(S=>S[0]===_.verifiable_credential_path);return C&&(_.verifiable_credential_path=C[1]),_}),m]}evaluateRequirements(o,a,v,b){let m=0;const _=[];for(const C of o)if(C.from){if(C.rule===y.Rules.All){const[S,N]=this.countMatchingInputDescriptors(C,a);if(S!==(v.get(C.from)||0))throw Error(`Not all input descriptors are members of group ${C.from}`);m++,_.push(...N)}else if(C.rule===y.Rules.Pick){const[S,N]=this.countMatchingInputDescriptors(C,a);try{this.handleCount(C,S,b),m++}catch(B){if(0===b)throw B}_.push(...N)}}else if(C.from_nested){const[S,N]=this.evaluateRequirements(C.from_nested,a,v,++b);m+=S,_.push(...N),this.handleCount(C,S,b)}return[m,_]}countMatchingInputDescriptors(o,a){let v=0;const b=[];for(const m of a)m.payload.group.includes(o.from)&&(b.push(m),v++);return[v,b]}handleCount(o,a,v){if(o.count&&a!==o.count)throw Error(`Count: expected: ${o.count} actual: ${a} at level: ${v}`);if(o.min&&a<o.min)throw Error(`Min: expected: ${o.min} actual: ${a} at level: ${v}`);if(o.max&&a>o.max)throw Error(`Max: expected: ${o.max} actual: ${a} at level: ${v}`)}removeDuplicateSubmissionRequirementMatches(o){return o.filter((a,v)=>{const b=JSON.stringify(a);return v===o.findIndex(m=>JSON.stringify(m)===b)})}fillSelectableCredentialsToVerifiableCredentialsMapping(o,a){var v;o&&(null===(v=o.verifiableCredential)||void 0===v||v.forEach(b=>{var m;const _=a.findIndex(C=>D.CredentialMapper.areOriginalVerifiableCredentialsEqual(C.original,b));if(-1===_)throw new Error("index is not right");null===(m=o.vcIndexes)||void 0===m||m.push(_)}))}determineAreRequiredCredentialsPresent(o,a,v){if(!a||!a.length)return w.Status.ERROR;const b=a.map(m=>this.determineSubmissionRequirementStatus(o,m));if(!v)return b.includes(w.Status.ERROR)?w.Status.ERROR:b.includes(w.Status.WARN)?w.Status.WARN:w.Status.INFO;{if(v.rule===y.Rules.All&&b.includes(w.Status.ERROR))return w.Status.ERROR;const m=b.filter(_=>_!==w.Status.ERROR).length;if(v.count)return v.count>m?w.Status.ERROR:v.count<m?w.Status.WARN:w.Status.INFO;if(v.min&&v.min>m)return w.Status.ERROR;if(v.max&&v.max<m)return w.Status.WARN}return w.Status.INFO}determineSubmissionRequirementStatus(o,a){if(a.from&&a.from_nested)throw new Error("Invalid submission_requirement object: MUST contain either a from or from_nested property.");if(!a.from&&!a.from_nested&&1!==a.vc_path.length)return w.Status.ERROR;if(a.from){const v=this.countGroupIDs(o.input_descriptors,a.from);switch(a.rule){case y.Rules.All:return a.vc_path.length===v?w.Status.INFO:w.Status.WARN;case y.Rules.Pick:return this.getPickRuleStatus(a);default:return w.Status.ERROR}}else if(a.from_nested)return this.determineAreRequiredCredentialsPresent(o,a.from_nested,a);return w.Status.INFO}getPickRuleStatus(o){return 0===o.vc_path.length?w.Status.ERROR:o.count&&o.vc_path.length!==o.count?o.vc_path.length>o.count?w.Status.WARN:w.Status.ERROR:o.min&&o.vc_path.length<o.min?w.Status.ERROR:o.max&&o.vc_path.length>o.max?w.Status.WARN:w.Status.INFO}updateSubmissionRequirementMatchPathToAlias(o,a){const v=[];o.vc_path.forEach(b=>{v.push(b.replace("$","$."+a))}),o.vc_path=v,o.from_nested&&o.from_nested.forEach(b=>{this.updateSubmissionRequirementMatchPathToAlias(b,a)})}updatePresentationSubmissionPathToVpPath(o){const a=o?o.descriptor_map:this._client.generatePresentationSubmission?this._client.presentationSubmission.descriptor_map:void 0;a?.forEach(v=>{"vc+sd-jwt"===v.format?v.path="$":this.replacePathWithAlias(v,"verifiableCredential")})}replacePathWithAlias(o,a){o.path=o.path.replace("$[",`$.${a}[`),o.path_nested&&this.replacePathWithAlias(o.path_nested,a)}createIdToVcMap(o){const a=new Map,v=new Map;for(let b=0;b<o.length;b++){const m=o[b].input_descriptor_path;if(v.has(m)){const _=v.get(m);_&&_.push(o[b])}else v.set(m,[o[b]])}for(const[b,m]of v.entries()){const _=[];for(let C=0;C<m.length;C++)-1===_.indexOf(m[C].verifiable_credential_path)&&_.push(m[C].verifiable_credential_path);a.set(b,_)}return a}countGroupIDs(o,a){let v=0;for(const b of o)b.group&&b.group.includes(a)&&v++;return v}}},32893:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.AbstractEvaluationHandler=void 0;const h=s(44273),y=s(55776);p.AbstractEvaluationHandler=class D{constructor(E){this._client=E}setNext(E){return this.nextHandler=E,E}getNext(){return this.nextHandler}hasNext(){return null!=this.nextHandler}get client(){return this._client}get wrappedVcs(){return this._client.wrappedVcs}set wrappedVcs(E){this._client.wrappedVcs=E}get presentationSubmission(){return this._client.presentationSubmission}set presentationSubmission(E){this._client.presentationSubmission=E}getResults(){return this._client.results}updatePresentationSubmission(E){this._client.assertPresentationSubmission(),this.presentationSubmission.descriptor_map.forEach((f,l,i)=>{let d;this.getResults().filter(a=>a.status===y.Status.ERROR&&a.evaluator===this.getName()).find(a=>(d=h.JSONPath.query(E,a.input_descriptor_path)[0],a.verifiable_credential_path===f.path&&d?.id===f.id))&&delete i[l]})}removeDuplicate(E){return E.reduce((f,l)=>f.find(d=>d.input_descriptor_path===l.input_descriptor_path&&d.verifiable_credential_path===l.verifiable_credential_path)?f:f.concat([l]),[])}}},4028:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(p,"__esModule",{value:!0}),p.DIDRestrictionEvaluationHandler=void 0;const y=s(11151),D=s(55776),w=h(s(24080)),E=s(13486),f=s(32893);p.DIDRestrictionEvaluationHandler=class l extends f.AbstractEvaluationHandler{constructor(d){super(d)}getName(){return"DIDRestrictionEvaluation"}handle(d,o){d.input_descriptors.forEach((a,v)=>{o.forEach((b,m)=>{const _=this.getIssuerIdFromWrappedVerifiableCredential(b);this.client.hasRestrictToDIDMethods()&&_&&!(0,E.isRestrictedDID)(_,this.client.restrictToDIDMethods)&&_.toLowerCase().startsWith("did:")?this.getResults().push(this.generateErrorResult(v,`$[${m}]`,b)):this.getResults().push(this.generateSuccessResult(v,`$[${m}]`,b,`${_} is allowed`))})}),this.updatePresentationSubmission(d)}getIssuerIdFromWrappedVerifiableCredential(d){if(y.CredentialMapper.isW3cCredential(d.credential))return"object"==typeof d.credential.issuer?d.credential.issuer.id:d.credential.issuer;if(y.CredentialMapper.isSdJwtDecodedCredential(d.credential))return d.credential.decodedPayload.iss;throw new Error("Unsupported credential type")}generateErrorResult(d,o,a){return{input_descriptor_path:`$.input_descriptors[${d}]`,evaluator:this.getName(),status:D.Status.ERROR,message:w.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:o,payload:{format:a.format}}}generateSuccessResult(d,o,a,v){return{input_descriptor_path:`$.input_descriptors[${d}]`,evaluator:this.getName(),status:D.Status.INFO,message:v??w.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:o,payload:{format:a.format}}}}},19819:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},30614:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(p,"__esModule",{value:!0}),p.FormatRestrictionEvaluationHandler=void 0;const y=s(55776),D=h(s(24080)),w=s(32893);p.FormatRestrictionEvaluationHandler=class E extends w.AbstractEvaluationHandler{constructor(l){super(l)}getName(){return"FormatRestrictionEvaluation"}handle(l,i){const d=this.client.restrictToFormats?Object.keys(this.client.restrictToFormats):void 0;l.input_descriptors.forEach((o,a)=>{i.forEach((v,b)=>{const m="format"in o&&o.format?Object.keys(o.format):[v.format];let _=d??m;"format"in o&&o.format&&void 0!==d&&(_=Object.keys(o.format).filter(C=>d.includes(C))),_.includes(v.format)?this.getResults().push(this.generateSuccessResult(a,`$[${b}]`,v,`${v.format} is allowed from ${JSON.stringify(_)}`)):this.getResults().push(this.generateErrorResult(a,`$[${b}]`,v))})}),this.updatePresentationSubmission(l)}generateErrorResult(l,i,d){return{input_descriptor_path:`$.input_descriptors[${l}]`,evaluator:this.getName(),status:y.Status.ERROR,message:D.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:i,payload:{format:d.format}}}generateSuccessResult(l,i,d,o){return{input_descriptor_path:`$.input_descriptors[${l}]`,evaluator:this.getName(),status:y.Status.INFO,message:o??D.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:i,payload:{format:d.format}}}}},71001:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(32893),p),y(s(19819),p),y(s(298),p),y(s(19477),p),y(s(77918),p),y(s(60019),p),y(s(1599),p),y(s(4257),p),y(s(67966),p),y(s(63217),p),y(s(30614),p),y(s(4028),p)},298:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(p,"__esModule",{value:!0}),p.InputDescriptorFilterEvaluationHandler=void 0;const y=s(44273),D=h(s(39208)),w=h(s(21953)),E=s(55776),f=h(s(24080)),l=s(13486),i=s(32893),d=new D.default({verbose:!1,code:{source:!1,lines:!0,esm:!1},allowUnionTypes:!0,allErrors:!0,strict:!1});(0,w.default)(d);class o extends i.AbstractEvaluationHandler{constructor(v){super(v),o.keepCacheSizeInCheck()}getName(){return"FilterEvaluation"}handle(v,b){const m=y.JSONPath.nodes(v,"$..fields[*]");b.forEach((_,C)=>{this.createNoFieldResults(v,C,_),m.forEach(S=>{let N=[];S.value.path&&(N=l.JsonPathUtils.extractInputField(_.decoded,S.value.path));let B=!1;for(const k of N)if(this.evaluateFilter(k,S.value)){B=!0;const F={result:Object.assign({},N[0]),valid:!0,format:_.format};this.getResults().push(Object.assign({},this.createResultObject(y.JSONPath.stringify(S.path.slice(0,3)),C,F)))}if(!B)if(N.length){const k={result:Object.assign({},N[0]),valid:!1,format:_.format};this.createResponse(S,C,k,f.default.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION)}else this.createResponse(S,C,{valid:!1,format:_.format},f.default.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY)})}),this.updatePresentationSubmission(v)}createNoFieldResults(v,b,m){v.input_descriptors.map((C,S)=>({index:S,inDesc:C})).filter(C=>{var S,N,B;return void 0===(null===(S=C.inDesc.constraints)||void 0===S?void 0:S.fields)||0===(null===(B=null===(N=C.inDesc.constraints)||void 0===N?void 0:N.fields)||void 0===B?void 0:B.length)}).forEach(C=>{const S={result:[],valid:!0,format:m.format};this.getResults().push(Object.assign({},this.createResultObject(`$.input_descriptors[${C.index}]`,b,S)))})}createResponse(v,b,m,_){this.getResults().push(Object.assign(Object.assign({},this.createResultObject(y.JSONPath.stringify(v.path.slice(0,3)),b,m)),{status:E.Status.ERROR,message:_}))}createResultObject(v,b,m){return{input_descriptor_path:v,verifiable_credential_path:`$[${b}]`,evaluator:this.getName(),status:E.Status.INFO,message:f.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:m}}evaluateFilter(v,b){var m,_;null!==(m=b.filter)&&void 0!==m&&m.format&&"date"===b.filter.format&&this.transformDateFormat(v);let C=!0;if(b.filter){const S=JSON.stringify({filter:b.filter,value:v.value}),N=Date.now();C=null===(_=o.FILTER_CACHE.get(S))||void 0===_?void 0:_.value,void 0===C&&(o.keepCacheSizeInCheck(),C=d.validate(b.filter,v.value),o.FILTER_CACHE.set(S,{value:C,ts:N+o.DEFAULT_FILTER_CACHE_TTL}))}return C}transformDateFormat(v){const b=new Date(v.value);let m=b.getUTCMonth()+1+"";1===m.length&&(m="0"+m);let _=b.getUTCDate()+"";1===_.length&&(_="0"+_),v.value=b.getUTCFullYear()+"-"+m+"-"+_,v.value=b.toISOString().substring(0,b.toISOString().indexOf("T"))}static keepCacheSizeInCheck(v){var b,m,_;const C=null!==(b=v?.ttl)&&void 0!==b?b:o.DEFAULT_FILTER_CACHE_TTL,S=null!==(m=v?.maxCacheSize)&&void 0!==m?m:o.DEFAULT_MAX_FILTER_CACHE_SIZE,N=null!==(_=v?.resetCacheSize)&&void 0!==_?_:o.DEFAULT_RESET_CACHE_SIZE,B=Date.now();for(const[F,I]of o.FILTER_CACHE)I.ts+C<B&&o.FILTER_CACHE.delete(F);const k=o.FILTER_CACHE.size;if(k>S){const F=o.FILTER_CACHE.keys();for(let I=0;I<k-N;I++)o.FILTER_CACHE.delete(F.next().value)}}}p.InputDescriptorFilterEvaluationHandler=o,o.FILTER_CACHE=new Map,o.DEFAULT_MAX_FILTER_CACHE_SIZE=100,o.DEFAULT_FILTER_CACHE_TTL=3e4,o.DEFAULT_RESET_CACHE_SIZE=o.DEFAULT_MAX_FILTER_CACHE_SIZE/2},77918:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(p,"__esModule",{value:!0}),p.LimitDisclosureEvaluationHandler=void 0;const y=s(47636),D=s(11151),w=s(55776),E=h(s(24080)),f=s(13486),l=s(32893);p.LimitDisclosureEvaluationHandler=class i extends l.AbstractEvaluationHandler{constructor(o){super(o)}getName(){return"LimitDisclosureEvaluation"}handle(o,a){o.input_descriptors.forEach((v,b)=>{var m,_,C;null!==(m=v.constraints)&&void 0!==m&&m.fields&&((null===(_=v.constraints)||void 0===_?void 0:_.limit_disclosure)===y.Optionality.Required||(null===(C=v.constraints)||void 0===C?void 0:C.limit_disclosure)===y.Optionality.Preferred)&&this.evaluateLimitDisclosure(a,v.constraints,b)})}isLimitDisclosureSupported(o,a,v,b){if("vc+sd-jwt"===o.format)return!0;const m=this.client.limitDisclosureSignatureSuites,_=o.decoded.proof;if(!_||Array.isArray(_)||!_.type)return!1;const C=_.cryptosuite?`${_.type}.${_.cryptosuite}`:_.type;return!!m?.includes(C)||(b==y.Optionality.Required&&this.createLimitDisclosureNotSupportedResult(v,a),!1)}evaluateLimitDisclosure(o,a,v){const b=a?.fields,m=a.limit_disclosure;o.forEach((_,C)=>{m&&this.isLimitDisclosureSupported(_,C,v,m)&&this.enforceLimitDisclosure(_,b,v,C,o,m)})}enforceLimitDisclosure(o,a,v,b,m,_){if(D.CredentialMapper.isWrappedSdJwtVerifiableCredential(o)){const C=this.createSdJwtPresentationFrame(o.credential,a,v,b);C&&((0,f.applySdJwtLimitDisclosure)(o.credential,C),o.decoded=o.credential.decodedPayload,o.original=D.CredentialMapper.isSdJwtDecodedCredential(o.original)?o.credential:o.credential.compactSdJwtVc,this.createSuccessResult(v,`$[${b}]`,_))}else{if(!D.CredentialMapper.isW3cCredential(o.credential))throw new Error(`Unsupported format for selective disclosure ${o.format}`);{const C=this.createVcWithRequiredFields(o.credential,a,v,b);C&&(m[b].credential=C,this.createSuccessResult(v,`$[${b}]`,_))}}}createSdJwtPresentationFrame(o,a,v,b){const m={};for(const _ of a)if(_.path){const C=f.JsonPathUtils.extractInputField(o.decodedPayload,_.path);if(!(C.length>0))return void this.createMandatoryFieldNotFoundResult(v,b,_.path);f.JsonPathUtils.setValue(m,C[0].path,!0)}return m}createVcWithRequiredFields(o,a,v,b){let m={};m=Object.assign(m,o),m.credentialSubject={};for(const _ of a)if(_.path){const C=f.JsonPathUtils.extractInputField(o,_.path);if(!(C.length>0))return void this.createMandatoryFieldNotFoundResult(v,b,_.path);m=this.copyResultPathToDestinationCredential(C[0],o,m)}return m}copyResultPathToDestinationCredential(o,a,v){let b=Object.assign({},a.credentialSubject);return o.path.forEach(m=>{b[m]&&(b={[m]:b[m]})}),v.credentialSubject=Object.assign(Object.assign({},v.credentialSubject),b),v}createSuccessResult(o,a,v){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${o}]`,verifiable_credential_path:`${a}`,evaluator:this.getName(),status:v===y.Optionality.Required?w.Status.INFO:w.Status.WARN,message:E.default.LIMIT_DISCLOSURE_APPLIED,payload:void 0})}createMandatoryFieldNotFoundResult(o,a,v){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${o}]`,verifiable_credential_path:`$[${a}]`,evaluator:this.getName(),status:w.Status.ERROR,message:E.default.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT,payload:v})}createLimitDisclosureNotSupportedResult(o,a){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${o}]`,verifiable_credential_path:`$[${a}]`,evaluator:this.getName(),status:w.Status.ERROR,message:E.default.LIMIT_DISCLOSURE_NOT_SUPPORTED})}}},60019:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(p,"__esModule",{value:!0}),p.MarkForSubmissionEvaluationHandler=void 0;const y=s(44273),D=s(55776),w=h(s(24080)),E=s(32893);p.MarkForSubmissionEvaluationHandler=class f extends E.AbstractEvaluationHandler{constructor(i){super(i)}getName(){return"MarkForSubmissionEvaluation"}handle(i,d){const o=[...this.getResults()],a=o.filter(b=>b.status===D.Status.ERROR),v=this.retrieveNoErrorStatus(o,a);this.client.wrappedVcs=d,this.produceErrorResults(a),this.produceSuccessResults(v,i)}retrieveNoErrorStatus(i,d){return i.filter(a=>a.status!==D.Status.ERROR).filter(a=>!d.find(v=>a.input_descriptor_path===v.input_descriptor_path&&a.verifiable_credential_path===v.verifiable_credential_path))}produceSuccessResults(i,d){this.removeDuplicate(i).forEach(o=>{const v=y.JSONPath.nodes(d,o.input_descriptor_path)[0].value.group;this.getResults().push({input_descriptor_path:o.input_descriptor_path,verifiable_credential_path:o.verifiable_credential_path,evaluator:this.getName(),status:D.Status.INFO,payload:{group:v},message:w.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION})})}produceErrorResults(i){this.removeDuplicate(i).forEach(d=>{const o=Object.assign({},d.payload);o.evaluator=d.evaluator,this.getResults().push(Object.assign(Object.assign({},d),{evaluator:this.getName(),message:w.default.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:o}))})}}},1599:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(p,"__esModule",{value:!0}),p.PredicateRelatedFieldEvaluationHandler=void 0;const y=s(47636),D=s(55776),w=h(s(24080)),E=s(32893);p.PredicateRelatedFieldEvaluationHandler=class f extends E.AbstractEvaluationHandler{constructor(i){super(i)}getName(){return"PredicateRelatedFieldEvaluation"}handle(i){i.input_descriptors.forEach((d,o)=>{d.constraints&&this.examinePredicateRelatedField(o,d.constraints)})}examinePredicateRelatedField(i,d){if(d?.fields)for(let o=0;o<d.fields.length;o++)for(let a=0;a<this.getResults().length;a++)this.examinePredicateForFilterEvaluationResult(this.getResults(),a,i,d,o)}examinePredicateForFilterEvaluationResult(i,d,o,a,v){var b;const m=this.retrieveResultInputDescriptorIdx(i[d].input_descriptor_path);if(i[d].payload&&i[d].payload.result&&i[d].payload.result.path&&"FilterEvaluation"===i[d].evaluator&&o===m&&a&&a.fields&&a.fields[v]&&a.fields[v].predicate&&a.fields[v].path&&null!==(b=a.fields[v].path)&&void 0!==b&&b.includes(this.concatenatePath(i[d].payload.result.path))){const _=Object.assign({},i[d].payload.result),C=this.createResultObject(o,d,_,i);a.fields[v].predicate===y.Optionality.Required||(C.payload.value=!0),i.push(C)}}retrieveResultInputDescriptorIdx(i){const o=i.indexOf("$.input_descriptors["),a=i.substring(o+20),v=a.indexOf("]"),b=a.substring(0,v);return parseInt(b)}concatenatePath(i){let d="";for(let o=0;o<i.length;o++)"number"==typeof i[o]?(d=d.substring(0,d.length-1),d+="[*]."):d+=i[o]+".";return d.substring(0,d.length-1)}createResultObject(i,d,o,a){return{input_descriptor_path:`$.input_descriptors[${i}]`,verifiable_credential_path:a[d].verifiable_credential_path,evaluator:this.getName(),status:D.Status.INFO,message:w.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:o}}}},4257:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SameSubjectEvaluationHandler=void 0;const h=s(44273),y=s(47636),D=s(55776),w=s(32893);p.SameSubjectEvaluationHandler=class E extends w.AbstractEvaluationHandler{constructor(l){super(l),this.fieldIds=[],this.sameSubject=[],this.messages=new Map,this.messages.set(D.Status.INFO,"The field ids requiring the same subject to belong to same subject"),this.messages.set(D.Status.WARN,"The field ids preferring the same subject to belong to same subject"),this.messages.set(D.Status.ERROR,"The fields ids not belong to the same subject")}getName(){return"SameSubjectEvaluation"}handle(l,i){const d=this.mapSameSubjectFieldIdsToInputDescriptors(l),o=this.mapCredentialsToResultObjecs(i,d),a=this.countSameSubjectOccurrences(d,o);this.generateErrorResults(a,o),this.updatePresentationSubmission(l)}mapSameSubjectFieldIdsToInputDescriptors(l){this.fieldIds.push(...h.JSONPath.nodes(l,"$..fields[*].id")),this.sameSubject.push(...h.JSONPath.nodes(l,"$..same_subject[*]"));const i=[];return this.fieldIds.forEach(d=>{const o=this.sameSubject.find(a=>a.value.field_id.includes(d.value));o&&i.push([d,o])}),i}generateErrorResults(l,i){l.forEach((d,o)=>{const a=i.filter(v=>o===v.payload.fieldIdSet).map(v=>v.payload.credentialSubject.id);(a.length!==d||1!==new Set(a).size)&&i.forEach((v,b,m)=>{v.payload.fieldIdSet===o&&(v.status=D.Status.ERROR,v.message=this.messages.get(D.Status.ERROR),m[b]=v)})}),this.client.results.push(...i)}countSameSubjectOccurrences(l,i){const d=new Map;return l.forEach(o=>{i.filter(v=>o[1].value.field_id===v.payload.fieldIdSet)&&(d.has(o[1].value.field_id)&&d.get(o[1].value.field_id)?d.set(o[1].value.field_id,d.get(o[1].value.field_id)+1):d.set(o[1].value.field_id,1))}),d}mapCredentialsToResultObjecs(l,i){const d=[...h.JSONPath.nodes(l.map(a=>a.credential),"$..credentialSubject")],o=[];return d.forEach(a=>{const v=i.find(b=>0!==h.JSONPath.query(a.value,`$..${b[0].value}`).length);v&&v[1].value.directive===y.Optionality.Required?o.push({input_descriptor_path:h.JSONPath.stringify(v[0].path.slice(0,3)),status:D.Status.INFO,evaluator:this.getName(),payload:{fieldIdSet:v[1].value.field_id,credentialSubject:a.value},message:this.messages.get(D.Status.INFO),verifiable_credential_path:h.JSONPath.stringify(a.path.slice(0,2))}):v&&v[1].value.directive===y.Optionality.Preferred&&o.push({input_descriptor_path:h.JSONPath.stringify(v[0].path.slice(0,3)),status:D.Status.WARN,evaluator:this.getName(),payload:{fieldIdSet:v[1].value.field_id,credentialSubject:a.value},message:this.messages.get(D.Status.WARN),verifiable_credential_path:h.JSONPath.stringify(a.path.slice(0,2))})}),o}}},19477:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SubjectIsHolderEvaluationHandler=void 0;const h=s(44273),y=s(47636),D=s(55776),w=s(32893);p.SubjectIsHolderEvaluationHandler=class E extends w.AbstractEvaluationHandler{constructor(l){super(l),this.fieldIdzInputDescriptorsSameSubjectRequired=new Map,this.fieldIdzInputDescriptorsSameSubjectPreferred=new Map,this.isHolder=[],this.fieldIds=[],this.credentialsSubjectsByPath=new Map,this.credentialsByPath=new Map,this.messages=new Map,this.messages.set(D.Status.INFO,"The field ids requiring the subject to be the holder"),this.messages.set(D.Status.WARN,"The field ids preferring the subject to be the holder"),this.messages.set(D.Status.ERROR,"The field id missing")}getName(){return"IsHolderEvaluation"}handle(l,i){this.findIsHolderFieldIdsToInputDescriptorsSets(l),this.findAllCredentialSubjects(i),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectRequired,D.Status.INFO,y.Optionality.Required),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectPreferred,D.Status.WARN,y.Optionality.Preferred),this.updatePresentationSubmission(l)}findIsHolderFieldIdsToInputDescriptorsSets(l){var i;this.fieldIds.push(...h.JSONPath.nodes(l,"$..fields[*].id")),this.isHolder.push(...h.JSONPath.nodes(l,"$..is_holder[*]"));const d=null===(i=this.fieldIds)||void 0===i?void 0:i.map(a=>a.value),o=[];o.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectPreferred,this.isHolder,d,y.Optionality.Preferred)),o.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectRequired,this.isHolder,d,y.Optionality.Required)),o.forEach(a=>this.getResults().push(this.createResult(a[1],a[0],["",{}],D.Status.ERROR,void 0)))}evaluateFields(l,i,d,o){const a=[];return i.filter(v=>v.value.directive===o).filter(v=>v.value.field_id.every(b=>d.includes(b))).forEach(v=>l.set(h.JSONPath.stringify(v.path.slice(0,3)),v.value.field_id)),i.filter(v=>v.value.directive===o).filter(v=>!v.value.field_id.every(b=>d.includes(b))).forEach(v=>a.push([h.JSONPath.stringify(v.path.slice(0,3)),v.value.field_id])),a}findAllCredentialSubjects(l){const i=h.JSONPath.nodes(l.map(d=>d.credential),"$..credentialSubject");for(let d=0;d<i.length;d++){const o=i[d],a=h.JSONPath.stringify(o.path.slice(0,2));this.credentialsSubjectsByPath.set(a,o.value),this.credentialsByPath.set(a,l[d])}}confirmAllFieldSetHasSameSubject(l,i,d){const o=Array.from(l).flatMap(m=>Array.from(this.credentialsSubjectsByPath).filter(_=>m[1].find(C=>Object.keys(_[1]).includes(C)))),a=this.mapCredentialPathsToInputDescriptors(d),v=Array.from(o).flatMap(m=>Object.keys(m[1]).filter(_=>"id"!==_)),b=Array.from(l.values()).flatMap(m=>m.every(_=>v.includes(_)))[0];o.forEach(m=>{const _=a.get(m[0]);b&&m[1].id&&this.client.dids.includes(m[1].id)?this.getResults().push(this.createResult(Object.keys(m[1]).filter(C=>"id"!==C),_,m,i,this.credentialsByPath.get(m[0]))):this.getResults().push(this.createResult(Object.keys(m[1]).filter(C=>"id"!==C),_,m,D.Status.ERROR,this.credentialsByPath.get(m[0])))})}mapCredentialPathsToInputDescriptors(l){var i;const d=new Map;return null===(i=this.fieldIds)||void 0===i||i.forEach(o=>{const a=h.JSONPath.stringify(o.path.slice(0,3));this.credentialsSubjectsByPath.forEach((v,b)=>{const m=this.isHolder.find(_=>h.JSONPath.stringify(_.path.slice(0,3))===a);Object.keys(v).includes(o.value)&&m?.value.directive===l&&d.set(b,a)})}),d}createResult(l,i,d,o,a,v){return{input_descriptor_path:i,verifiable_credential_path:d[0],evaluator:this.getName(),status:o,payload:Object.assign({fieldIdSet:l,credentialSubject:d[1]},a?{format:a.format}:{}),message:v??this.messages.get(o)}}}},67966:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(p,"__esModule",{value:!0}),p.SubjectIsIssuerEvaluationHandler=void 0;const y=s(47636),D=s(11151),w=s(55776),E=h(s(24080)),f=s(13486),l=s(32893);p.SubjectIsIssuerEvaluationHandler=class i extends l.AbstractEvaluationHandler{constructor(o){super(o)}getName(){return"SubjectIsIssuerEvaluation"}handle(o,a){o.input_descriptors.forEach((v,b)=>{const m=v.constraints;m?.subject_is_issuer===y.Optionality.Required?this.checkSubjectIsIssuer(v.id,a,b):this.getResults().push(...a.map((_,C)=>this.generateSuccessResult(b,`$[${C}]`,_,"not applicable")))}),this.updatePresentationSubmission(o)}checkSubjectIsIssuer(o,a,v){this.client.presentationSubmission.descriptor_map.forEach(b=>{if(b.id===o){const m=f.JsonPathUtils.extractInputField(a.map(_=>_.credential),[b.path]);for(const _ of m){const C=(0,f.getIssuerString)(_.value);_&&_.value&&(0,f.getSubjectIdsAsString)(_.value).every(S=>S===C)?this.getResults().push(this.generateSuccessResult(v,b.path,D.CredentialMapper.toWrappedVerifiableCredential(_.value))):this.getResults().push(this.generateErrorResult(v,b.path,D.CredentialMapper.toWrappedVerifiableCredential(_.value)))}}})}generateErrorResult(o,a,v){return{input_descriptor_path:`$.input_descriptors[${o}]`,evaluator:this.getName(),status:w.Status.ERROR,message:E.default.SUBJECT_IS_NOT_ISSUER,verifiable_credential_path:a,payload:{format:v.format}}}generateSuccessResult(o,a,v,b){return{input_descriptor_path:`$.input_descriptors[${o}]`,evaluator:this.getName(),status:w.Status.INFO,message:b??E.default.SUBJECT_IS_ISSUER,verifiable_credential_path:a,payload:{format:v.format}}}}},63217:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(p,"__esModule",{value:!0}),p.UriEvaluationHandler=void 0;const y=s(44273),D=s(11151),w=s(35975),E=s(55776),f=s(99938),l=h(s(24080)),i=s(32893);class d extends i.AbstractEvaluationHandler{constructor(a){super(a)}getName(){return"UriEvaluation"}handle(a,v){var b,m,_;a.input_descriptors.forEach((N,B)=>{const k=a.getVersion()!==f.PEVersion.v2?N.schema.map(F=>F.uri):[];v.forEach((F,I)=>{const H=d.buildVcContextAndSchemaUris(F.credential,a.getVersion());this.evaluateUris(F,H,k,B,I,a.getVersion())})});const C=(null===(b=a.format)||void 0===b?void 0:b.di)||(null===(m=a.format)||void 0===m?void 0:m.di_vc)||(null===(_=a.format)||void 0===_?void 0:_.di_vp),S=this.getResults().filter(N=>N.status===E.Status.INFO).map(N=>{var B,k,F,I;let H=null===(B=N.payload)||void 0===B?void 0:B.format;if(C&&("ldp_vc"===H||"ldp"===H)){const G=y.JSONPath.nodes(v,N.verifiable_credential_path).map(J=>J.value).map(J=>J.type===D.OriginalType.JSONLD&&J.credential.proof?(Array.isArray(J.credential.proof)?J.credential.proof:[J.credential.proof]).filter(Y=>"DataIntegrityProof"===Y.type&&void 0!==Y.cryptosuite):[]).reduce((J,ye)=>J.filter(U=>ye.includes(U))),R=y.JSONPath.nodes(a,N.input_descriptor_path)[0].value,X=!R.format||(null===(k=R?.format)||void 0===k?void 0:k.di)||(null===(F=R?.format)||void 0===F?void 0:F.di_vc)||(null===(I=R?.format)||void 0===I?void 0:I.di_vp);G.length>0&&X&&(H="di_vc")}return{id:y.JSONPath.nodes(a,N.input_descriptor_path)[0].value.id,format:H,path:N.verifiable_credential_path}});this.client.generatePresentationSubmission&&(!this.presentationSubmission||0===Object.keys(this.presentationSubmission).length)&&(this.presentationSubmission={id:(0,w.nanoid)(),definition_id:a.id,descriptor_map:S})}evaluateUris(a,v,b,m,_,C){let S=!1;if(C===f.PEVersion.v1){for(let N=0;N<b.length;N++)d.containsHashlink(b[N])&&this.getResults().push(this.createWarnResultObject(m,_));for(let N=0;N<v.length;N++)null!=b.find(B=>B===v[N])&&(S=!0)}else S=!0;S?this.getResults().push(this.createSuccessResultObject(a,b,m,_)):this.getResults().push(this.createErrorResultObject(a,b,m,_))}static buildVcContextAndSchemaUris(a,v){const b=[];return D.CredentialMapper.isW3cCredential(a)&&(Array.isArray(a["@context"])?a["@context"].forEach(m=>b.push(m)):b.push(a["@context"]),Array.isArray(a.credentialSchema)&&a.credentialSchema.length>0?a.credentialSchema.forEach(m=>b.push(m.id)):a.credentialSchema&&b.push(a.credentialSchema.id),v===f.PEVersion.v1&&(Array.isArray(a.type)?a.type.forEach(m=>b.push(m)):a.type&&b.push(a.type))),D.CredentialMapper.isSdJwtDecodedCredential(a)&&v===f.PEVersion.v1&&b.push(a.decodedPayload.vct),b}createSuccessResultObject(a,v,b,m){const _=this.createResult(b,m);return _.status=E.Status.INFO,_.message=l.default.URI_EVALUATION_PASSED,_.payload={format:a.format,vcContext:D.CredentialMapper.isW3cCredential(a.credential)?a.credential["@context"]:void 0,vcCredentialSchema:D.CredentialMapper.isW3cCredential(a.credential)?a.credential.credentialSchema:void 0,inputDescriptorsUris:v},_}createErrorResultObject(a,v,b,m){const _=this.createResult(b,m);return _.status=E.Status.ERROR,_.message=l.default.URI_EVALUATION_DIDNT_PASS,_.payload={format:a.format,vcContext:D.CredentialMapper.isW3cCredential(a.credential)?a.credential["@context"]:void 0,vcCredentialSchema:D.CredentialMapper.isW3cCredential(a.credential)?a.credential.credentialSchema:void 0,inputDescriptorsUris:v},_}createWarnResultObject(a,v){const b=this.createResult(a,v);return b.status=E.Status.WARN,b.message=l.default.URI_EVALUATION_DIDNT_PASS,b.payload=l.default.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED,b}createResult(a,v){return{input_descriptor_path:`$.input_descriptors[${a}]`,verifiable_credential_path:`$[${v}]`,evaluator:this.getName(),status:E.Status.INFO,message:void 0}}static containsHashlink(a){return!(this.matchAll(a,d.HASHLINK_QUERY_URL_REGEX).next().done&&this.matchAll(a,d.HASHLINK_URL_ENCODED_REGEX).next().done)}}p.UriEvaluationHandler=d,d.matchAll=s(72373),d.HASHLINK_URL_ENCODED_REGEX=/hl:[a-zA-Z0-9]+:[a-zA-Z0-9]+/g,d.HASHLINK_QUERY_URL_REGEX=/https*?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(hl=[a-zA-Z0-9]+)/g},70143:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.HandlerCheckResult=p.EvaluationClientWrapper=p.EvaluationClient=void 0;const h=s(92127);Object.defineProperty(p,"HandlerCheckResult",{enumerable:!0,get:function(){return h.HandlerCheckResult}});const y=s(50950);Object.defineProperty(p,"EvaluationClient",{enumerable:!0,get:function(){return y.EvaluationClient}});var D=s(78995);Object.defineProperty(p,"EvaluationClientWrapper",{enumerable:!0,get:function(){return D.EvaluationClientWrapper}})},2700:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(o,a,v,b){void 0===b&&(b=v);var m=Object.getOwnPropertyDescriptor(a,v);(!m||("get"in m?!a.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return a[v]}}),Object.defineProperty(o,b,m)}:function(o,a,v,b){void 0===b&&(b=v),o[b]=a[v]}),y=this&&this.__exportStar||function(o,a){for(var v in o)"default"!==v&&!Object.prototype.hasOwnProperty.call(a,v)&&h(a,o,v)};Object.defineProperty(p,"__esModule",{value:!0}),p.PEXv2=p.PEXv1=p.PEX=p.Status=p.Checked=p.PEVersion=p.ValidationEngine=p.HandlerCheckResult=void 0;const D=s(55776);Object.defineProperty(p,"Checked",{enumerable:!0,get:function(){return D.Checked}}),Object.defineProperty(p,"Status",{enumerable:!0,get:function(){return D.Status}});const w=s(97889);Object.defineProperty(p,"PEX",{enumerable:!0,get:function(){return w.PEX}});const E=s(38992);Object.defineProperty(p,"PEXv1",{enumerable:!0,get:function(){return E.PEXv1}});const f=s(71945);Object.defineProperty(p,"PEXv2",{enumerable:!0,get:function(){return f.PEXv2}});const l=s(70143);Object.defineProperty(p,"HandlerCheckResult",{enumerable:!0,get:function(){return l.HandlerCheckResult}});const i=s(99938);Object.defineProperty(p,"PEVersion",{enumerable:!0,get:function(){return i.PEVersion}});const d=s(80930);Object.defineProperty(p,"ValidationEngine",{enumerable:!0,get:function(){return d.ValidationEngine}}),y(s(64864),p)},64864:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(34277),p)},34277:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.KeyEncoding=p.PresentationSubmissionLocation=void 0;var s=function(y){return y[y.EXTERNAL=0]="EXTERNAL",y[y.PRESENTATION=1]="PRESENTATION",y}(s||(p.PresentationSubmissionLocation=s={})),h=function(y){return y.Jwk="Jwk",y.Base58="Base58",y.Hex="Hex",y.Multibase="Multibase",y}(h||(p.KeyEncoding=h={}))},99358:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.PEVersion=p.InternalPresentationDefinitionV2=p.InternalPresentationDefinitionV1=void 0,p.InternalPresentationDefinitionV1=class s{constructor(w,E,f,l,i,d){this.id=w,this.input_descriptors=E,this.format=f,this.name=l,this.purpose=i,this.submission_requirements=d}getVersion(){return y.v1}},p.InternalPresentationDefinitionV2=class h{constructor(w,E,f,l,i,d,o){this.format=f,this.frame=l,this.id=w,this.input_descriptors=E,this.name=i,this.purpose=d,this.submission_requirements=o}getVersion(){return y.v2}};var y=function(D){return D.v1="v1",D.v2="v2",D}(y||(p.PEVersion=y={}))},24080:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});var s=function(h){return h.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY="Input candidate does not contain property",h.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION="Input candidate failed filter evaluation",h.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is eligible for submission",h.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is not eligible for submission",h.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED="Input descriptor contains hashlink. This version doesn't support hashlink verification.",h.LIMIT_DISCLOSURE_APPLIED="added variable in the limit_disclosure to the verifiableCredential",h.LIMIT_DISCLOSURE_NOT_SUPPORTED="Limit disclosure not supported",h.SUBJECT_IS_NOT_ISSUER="subject is not issuer",h.SUBJECT_IS_ISSUER="subject is issuer",h.FORMAT_RESTRICTION_PASSED="the Credential format of the candidate inputs matches the required formats",h.FORMAT_RESTRICTION_DIDNT_PASS="the Credential format of the candidate inputs didn't match the required formats",h.URI_EVALUATION_PASSED="@context URI(s) for the schema of the candidate input is equal to one of the input_descriptors object uri values.",h.URI_EVALUATION_DIDNT_PASS="@context URI for the of the candidate input MUST be equal to one of the input_descriptors object uri values exactly.",h.UNKNOWN_EXCEPTION="unknown exception occurred: ",h.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT="mandatory field not present in the verifiableCredential",h}(s||{});p.default=s},88819:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SSITypesBuilder=void 0;const h=s(11151),y=s(13486),D=s(99358);class w{static modelEntityToInternalPresentationDefinitionV1(f){const l=w.createCopyAndModifyPresentationDefinition(f);return new D.InternalPresentationDefinitionV1(l.id,l.input_descriptors,l.format,l.name,l.purpose,l.submission_requirements)}static modelEntityInternalPresentationDefinitionV2(f){const l=w.createCopyAndModifyPresentationDefinition(f);return new D.InternalPresentationDefinitionV2(l.id,l.input_descriptors,l.format,l.frame,l.name,l.purpose,l.submission_requirements)}static createCopyAndModifyPresentationDefinition(f){const l=JSON.parse(JSON.stringify(f));return y.JsonPathUtils.changePropertyNameRecursively(l,"_const","const"),y.JsonPathUtils.changePropertyNameRecursively(l,"_enum","enum"),y.JsonPathUtils.changeSpecialPathsRecursively(l),l}static mapExternalVerifiablePresentationToWrappedVP(f,l){return h.CredentialMapper.toWrappedVerifiablePresentation(f,{hasher:l})}static mapExternalVerifiableCredentialsToWrappedVcs(f,l){return h.CredentialMapper.toWrappedVerifiableCredentials(Array.isArray(f)?f:[f],{hasher:l})}static toInternalPresentationDefinition(f){const l=JSON.parse(JSON.stringify(f)),i=(0,y.definitionVersionDiscovery)(l);if(i.error)throw i.error;return i.version==D.PEVersion.v1?w.modelEntityToInternalPresentationDefinitionV1(l):w.modelEntityInternalPresentationDefinitionV2(l)}}p.SSITypesBuilder=w},99938:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(24080),p),y(s(99358),p),y(s(88819),p)},27426:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ObjectUtils=void 0;class s{static asArray(y){return Array.isArray(y)?y:[y]}static isObject(y){return"[object Object]"===Object.prototype.toString.call(y)}static isUrlAbsolute(y){s.isString(y)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test(y)}static isString(y){return"string"==typeof y||"[object String]"===Object.prototype.toString.call(y)}static getDistinctFieldInObject(y,D){const w=y.map(E=>E[D]);return Array.from(new Set(w))}static cloneDeep(y){return JSON.parse(JSON.stringify(y))}}p.ObjectUtils=s},18471:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ObjectValidationUtils=void 0,p.ObjectValidationUtils=class s{static optionalNonEmptyString(y){return null==y||y.length>0}static nonEmptyString(y){return null!=y&&y.length>0}static isValidDIDURI(y){return new RegExp("^did:([a-z0-9]+)(:([a-zA-Z0-9\\.\\-_]|%[0-9a-fA-F]{2})+)+(/([a-zA-Z-\\._~]|%[0-9a-fA-F]{2}|[!$&'()*+,;=:@])*)?").test(y)}}},79446:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(p,"__esModule",{value:!0}),p.filterToRestrictedDIDs=p.isRestrictedDID=p.uniformDIDMethods=p.definitionVersionDiscovery=p.getIssuerString=p.getSubjectIdsAsString=void 0;const y=s(99938),D=h(s(86515)),w=h(s(93046)),E=s(27426),f=s(45408);function o(b,m){var _;let C=null!==(_=b?.map(S=>S.toLowerCase()).map(S=>S.startsWith("did:")?S:`did:${S}`))&&void 0!==_?_:[];if(m?.removePrefix){const S=m.removePrefix.endsWith(":")?m.removePrefix.length:m.removePrefix.length+1;C=C.map(N=>N.startsWith(m.removePrefix)?N.substring(S):N)}return C.includes("did")?[]:C}p.getSubjectIdsAsString=function l(b){return(Array.isArray(b.credentialSubject)?b.credentialSubject:[b.credentialSubject]).filter(_=>!!_.id).map(_=>_.id)},p.getIssuerString=function i(b){return E.ObjectUtils.isString(b.issuer)?b.issuer:b.issuer.id},p.definitionVersionDiscovery=function d(b){const m=JSON.parse(JSON.stringify(b));f.JsonPathUtils.changePropertyNameRecursively(m,"_const","const"),f.JsonPathUtils.changePropertyNameRecursively(m,"_enum","enum");const _={presentation_definition:m};let C=(0,w.default)(_);return C?{version:y.PEVersion.v2}:(C=(0,D.default)(_),C?{version:y.PEVersion.v1}:{error:"This is not a valid PresentationDefinition"})},p.uniformDIDMethods=o,p.isRestrictedDID=function a(b,m){const _=o(m);return 0===_.length||_.some(C=>b.toLowerCase().startsWith(C))},p.filterToRestrictedDIDs=function v(b,m){const _=o(m);return 0===_.length?b:_.flatMap(C=>b.filter(S=>S.toLowerCase().startsWith(C)))}},13486:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(45408),p),y(s(27426),p),y(s(18471),p),y(s(79446),p),y(s(58870),p)},45408:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.JsonPathUtils=void 0;const h=s(44273);class y{static extractInputField(w,E){let f=[];if(E)for(const l of E)if(f=h.JSONPath.nodes(w,l),f.length)break;return f}static changePropertyNameRecursively(w,E,f){const l=y.extractInputField(w,["$.."+E]);for(const i of l)this.copyResultPathToDestinationDefinition(i.path,w,f)}static setValue(w,E,f){const l="string"==typeof E?E:h.JSONPath.stringify(E);return h.JSONPath.value(w,l,f),w}static copyResultPathToDestinationDefinition(w,E,f){let l=E;for(let i=1;i<w.length;i++)if(i+1<w.length&&(l=l[w[i]]),w.length==i+1){l[f]=l[w[i]],delete l[w[i]];break}}static changeSpecialPathsRecursively(w){const E=y.extractInputField(w,["$..path"]);for(const f of E)this.modifyPathsWithSpecialCharacter(f.path,w)}static modifyPathsWithSpecialCharacter(w,E){let f=E;for(let l=1;l<w.length;l++)if(l+1<w.length&&(f=f[w[l]]),w.length==l+1){const i=f[w[l]],d=[];for(let o=0;o<i.length;o++)d.push(this.modifyPathWithSpecialCharacter(i[o]));f[w[l]]=d;break}}static modifyPathWithSpecialCharacter(w){const E=this.matchAll(w,this.REGEX_PATH);return this.modifyPathRecursive(E,w)}static modifyPathRecursive(w,E){let f=w.next(),l=!1;for(;f&&!f.done&&!l;){const i=f.value.index;if(i&&1==i)E=E.charAt(0)+"['"+f.value[0]+"']"+E.substring(i+f.value[0].length),l=!0,this.modifyPathRecursive(w,E);else if(i&&i>1&&"['"!==E.substring(i-2,i)&&'["'!==E.substring(i-2,i))if(".."===E.substring(i-2,i)){E=E.substring(0,i-2)+"..['"+f.value[0]+"']"+E.substring(i+f.value[0].length),l=!0;const d=this.matchAll(E,this.REGEX_PATH);this.modifyPathRecursive(d,E)}else"."===E.charAt(i-1)&&(E=E.substring(0,i-1)+"['"+f.value[0]+"']"+E.substring(i+f.value[0].length),l=!0,this.modifyPathRecursive(w,E));f=w.next()}return E}}p.JsonPathUtils=y,y.matchAll=s(72373),y.REGEX_PATH=/@\w+/g},58870:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(o,a,v,b){void 0===b&&(b=v);var m=Object.getOwnPropertyDescriptor(a,v);(!m||("get"in m?!a.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return a[v]}}),Object.defineProperty(o,b,m)}:function(o,a,v,b){void 0===b&&(b=v),o[b]=a[v]}),y=this&&this.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),D=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(null!=o)for(var v in o)"default"!==v&&Object.prototype.hasOwnProperty.call(o,v)&&h(a,o,v);return y(a,o),a};Object.defineProperty(p,"__esModule",{value:!0}),p.applySdJwtLimitDisclosure=p.calculateSdHash=void 0;const w=s(15315),E=s(22084),f=D(s(75324)),l=s(27426);p.calculateSdHash=function i(o,a,v){const b=v(o,a);return f.toString(b,"base64url")},p.applySdJwtLimitDisclosure=function d(o,a){const v=o.disclosures.map(B=>({digest:B.digest,encoded:B.encoded,salt:B.decoded[0],value:3===B.decoded.length?B.decoded[2]:B.decoded[1],key:3===B.decoded.length?B.decoded[1]:void 0})),b=(0,E.selectDisclosures)(l.ObjectUtils.cloneDeep(o.signedPayload),v,a);o.disclosures=b.map(B=>({encoded:B.encoded,decoded:B.key?[B.salt,B.key,B.value]:[B.salt,B.value],digest:B.digest}));const m=o.disclosures.map(B=>B.encoded),_=o.compactSdJwtVc.split("~");o.compactSdJwtVc=_.filter((B,k)=>0===k||k===_.length-1||m.includes(B)).join("~");const{payload:C}=(0,w.getSDAlgAndPayload)(l.ObjectUtils.cloneDeep(o.signedPayload)),S=(0,E.createHashMappingForSerializedDisclosure)(b),{unpackedObj:N}=(0,w.unpackObj)(C,S);o.decodedPayload=N}},38612:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ConstraintsVB=void 0;const h=s(47636),y=s(30387),D=s(10767);class w extends D.ValidationBundler{constructor(f){super(f,"constraints"),this.disclosureLimitShouldHaveKnownValueMsg="limit_disclosure should have known value",this.statusShouldHaveKnownValueMsg="Unknown status property",this.statusDirectiveShouldHaveKnownValueMsg="status directive should have known value",this.subjectIsIssuerShouldBeKnownValueMsg="subject_is_issuer should be known value",this.fieldIdIsMandatoryMsg="field_id property is mandatory",this.fieldIdMustBeArrayOfStringsMsg="field_id property must be an array of strings",this.fieldIdMustCorrespondToFieldIdMsg="field_id must correspond to a present field object id property",this.directivePropertyIsMandatoryMsg="directive property is mandatory",this.oneOfTheKnownDirectivePropertiesMandatoryMsg="directive property must be one of [required, preferred]"}getValidations(f){let l=[];return f&&(l=[{tag:this.getTag(),target:f,predicate:i=>w.disclosureLimitShouldHaveKnownValue(i.limit_disclosure),message:this.disclosureLimitShouldHaveKnownValueMsg},{tag:this.getTag(),target:f,predicate:i=>w.statusShouldHaveKnownValue(i.statuses),message:this.statusShouldHaveKnownValueMsg},{tag:this.getTag(),target:f,predicate:w.statusDirectiveShouldHaveKnownValue(),message:this.statusDirectiveShouldHaveKnownValueMsg},{tag:this.getTag(),target:f,predicate:i=>w.shouldBeKnownOption(i.is_holder),message:this.subjectIsIssuerShouldBeKnownValueMsg},{tag:this.getTag(),target:f,predicate:i=>this.fieldIdInSubjectMustCorrespondToFieldId(i,i.is_holder),message:this.fieldIdMustCorrespondToFieldIdMsg},{tag:this.getTag(),target:f,predicate:i=>this.fieldIdInSubjectMustCorrespondToFieldId(i,i.same_subject),message:this.fieldIdMustCorrespondToFieldIdMsg},...this.getSubjectsValidations(f?.is_holder),...this.getSubjectsValidations(f?.same_subject),...this.getFieldsValidations(f)]),l}getFieldsValidations(f){var l;return null!==(l=f?.fields)&&void 0!==l&&l.length?new y.FieldsVB(this.getTag()).getValidations(f.fields):[]}static disclosureLimitShouldHaveKnownValue(f){return!f||f===h.Optionality.Preferred||f===h.Optionality.Required}static statusShouldHaveKnownValue(f){return null==f||null!=f.active||null!=f.revoked||null!=f.suspended}static statusDirectiveShouldHaveKnownValue(){return f=>{var l,i,d;return this.pdStatusShouldBeKnown(null===(l=f?.statuses)||void 0===l?void 0:l.active)&&this.pdStatusShouldBeKnown(null===(i=f?.statuses)||void 0===i?void 0:i.revoked)&&this.pdStatusShouldBeKnown(null===(d=f?.statuses)||void 0===d?void 0:d.suspended)}}static pdStatusShouldBeKnown(f){return!f||f.directive===h.Directives.Allowed||f.directive===h.Directives.Disallowed||f.directive===h.Directives.Required}static shouldBeKnownOption(f){return!f||0===f.filter(l=>l.directive!==h.Optionality.Preferred&&l.directive!==h.Optionality.Required).length}getSubjectsValidations(f){if(f){let l=[];for(let i=0;i<f.length;i++)l=[{tag:this.getMyTag(i),target:f[i],predicate:d=>Array.isArray(d.field_id),message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(i),target:f[i],predicate:d=>!!d.field_id,message:this.fieldIdIsMandatoryMsg},{tag:this.getMyTag(i),target:f[i],predicate:d=>d.field_id.length===d.field_id.filter(o=>"string"==typeof o).length,message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(i),target:f[i],predicate:d=>void 0!==d.directive,message:this.directivePropertyIsMandatoryMsg},{tag:this.getMyTag(i),target:f[i],predicate:d=>d.directive===h.Optionality.Preferred||d.directive===h.Optionality.Required,message:this.oneOfTheKnownDirectivePropertiesMandatoryMsg}];return l}return[]}getMyTag(f){return this.parentTag+"."+this.myTag+"["+f+"]"}fieldIdInSubjectMustCorrespondToFieldId(f,l){if(l)for(const i of l)for(const d of i.field_id)if(!w.isValidFieldId(f,d))return!1;return!0}static isValidFieldId(f,l){return!!f?.fields&&f.fields.map(i=>i.id).includes(l)}}p.ConstraintsVB=w},30387:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(p,"__esModule",{value:!0}),p.FieldsVB=void 0;const y=s(44273),D=s(47636),w=h(s(94217)),E=h(s(61264)),f=s(10767);class l extends f.ValidationBundler{constructor(d){super(d,"fields"),this.mustHaveValidJsonPathsMsg='field object "path" property must contain array of valid json paths',this.pathObjMustHaveValidJsonPathMsg='field object "path" property must contain valid json paths.',this.filterMustBeValidJsonSchemaMsg='field object "filter" property must be valid json schema',this.filterIsMustInPresenceOfPredicateMsg='field object must have a "filter" property if "predicate" is present',this.filterIsNotValidJsonSchemaDescriptorMsg='could not parse "filter" object as a valid json schema descriptor.',this.purposeShouldBeANonEmptyStringMsg="purpose should be a non empty string",this.shouldBeKnownOptionMsg="Unknown predicate property"}getValidations(d){let o=[];if(d)for(let a=0;a<d.length;a++)o=[...o,...this.getValidationsFor(d[a],a)];return o}getValidationsFor(d,o){return[{tag:this.getMyTag(o),target:d,predicate:this.mustHaveValidJsonPaths(),message:this.mustHaveValidJsonPathsMsg},{tag:this.getMyTag(o),target:d,predicate:this.filterMustBeValidJsonSchema(),message:this.filterMustBeValidJsonSchemaMsg},{tag:this.getMyTag(o),target:d,predicate:this.filterIsMustInPresenceOfPredicate(),message:this.filterIsMustInPresenceOfPredicateMsg},{tag:this.getMyTag(o),target:d,predicate:a=>l.optionalNonEmptyString(a?.purpose),message:this.purposeShouldBeANonEmptyStringMsg},{tag:this.getMyTag(o),target:d,predicate:a=>l.shouldBeKnownOption(a?.predicate),message:this.shouldBeKnownOptionMsg}]}getMyTag(d){return this.parentTag+"."+this.myTag+"["+d+"]"}mustHaveValidJsonPaths(){return d=>null!=d.path&&d.path.length>0&&this._validateJsonPaths(d.path)}_validateJsonPaths(d){const o=[];if(d.forEach(a=>{try{y.JSONPath.parse(a)}catch{o.push(a)}}),o.length>0)throw this.toChecked(this.pathObjMustHaveValidJsonPathMsg+" Got: "+JSON.stringify(o));return!0}filterMustBeValidJsonSchema(){return d=>this._validateFilter(d.filter)}_validateFilter(d){if(null==d)return!0;let o=!1;try{o=(0,E.default)(d),o||(o=(0,w.default)(d))}catch{throw this.toChecked(this.filterIsNotValidJsonSchemaDescriptorMsg+" Got "+JSON.stringify(d))}return o}filterIsMustInPresenceOfPredicate(){return d=>!(null!=d.predicate&&null==d.filter)}static optionalNonEmptyString(d){return null==d||d.length>0}static shouldBeKnownOption(d){return null==d||d==D.Optionality.Required||d==D.Optionality.Preferred}}p.FieldsVB=l},79241:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.FrameVB=void 0;const h=s(13486),y=s(10767);class D extends y.ValidationBundler{constructor(E){super(E,"frame"),this.frameIsValidMsg="frame value is not valid"}getValidations(E){let f=[];return f=[...f,...this.getMyValidations(E)],f}getMyValidations(E){return[{tag:this.getMyTag(),target:E,predicate:D.frameIsValid,message:this.frameIsValidMsg}]}getMyTag(){return this.parentTag+"."+this.myTag}static frameIsValid(E){if(!E||Array.isArray(E)||"object"!=typeof E)return!1;const f=E;if(f&&f["@id"])for(const l of h.ObjectUtils.asArray(E["@id"]))if(!h.ObjectUtils.isObject(l)&&!h.ObjectUtils.isUrlAbsolute(l)||h.ObjectUtils.isString(l)&&0===l.indexOf("_:"))return!1;if(f["@types"])for(const l of h.ObjectUtils.asArray(E["@types"]))if(!h.ObjectUtils.isObject(l)&&!h.ObjectUtils.isUrlAbsolute(l)||h.ObjectUtils.isString(l)&&0===l.indexOf("_:"))return!1;return!0}}p.FrameVB=D},75056:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(30387),p),y(s(853),p),y(s(74840),p),y(s(27506),p),y(s(12915),p),y(s(3170),p),y(s(97091),p),y(s(10767),p),y(s(38612),p)},853:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.InputDescriptorsV1VB=void 0;const h=s(13486),y=s(38612),D=s(10767);p.InputDescriptorsV1VB=class w extends D.ValidationBundler{constructor(f){super(f,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string",this.shouldHaveValidSchemaURIMsg="schema should have valid URI"}getValidations(f){let l=[];return l.push({tag:this.getTag(),target:f,predicate:i=>this.shouldHaveUniqueIds(i),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:f,predicate:i=>this.shouldHaveUniqueFieldsIds(i),message:"fields id must be unique"}),f.forEach((i,d)=>{l=[...l,...this.getValidationFor(i,d),...this.constraintsValidations(i,d)]}),l}getValidationFor(f,l){return[{tag:this.getMyTag(l),target:f,predicate:i=>h.ObjectValidationUtils.nonEmptyString(i?.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(l),target:f,predicate:this.isValidSchema(),message:this.shouldHaveValidSchemaURIMsg},{tag:this.getMyTag(l),target:f,predicate:i=>h.ObjectValidationUtils.optionalNonEmptyString(i?.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(l),target:f,predicate:i=>h.ObjectValidationUtils.optionalNonEmptyString(i?.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(f){const l=[],i=new Set,d=[];return f.map(o=>{var a;return null===(a=o.constraints)||void 0===a?void 0:a.fields}).forEach(o=>{o&&d.push(...o)}),d.forEach(o=>{o.id&&l.push(o.id)}),l.forEach(o=>i.add(o)),l.length===i.size}shouldHaveUniqueIds(f){const l=[],i=new Set;return f.forEach(d=>l.push(d.id)),l.forEach(d=>i.add(d)),l.length===i.size}getMyTag(f){return this.parentTag+"."+this.myTag+"["+f+"]"}isValidSchema(){return f=>f.schema.filter(l=>this.isAValidURI(l.uri)&&(null==l.required||"boolean"==typeof l.required)).length>0}isAValidURI(f){if(!f)return!1;if(!h.ObjectValidationUtils.nonEmptyString(f))return!1;if(f.startsWith("http://")||f.startsWith("https://"))try{new URL(f)}catch{return h.ObjectValidationUtils.isValidDIDURI(f)}return!0}constraintsValidations(f,l){return f.constraints?new y.ConstraintsVB(this.getMyTag(l)).getValidations(f.constraints):[]}}},74840:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.InputDescriptorsV2VB=void 0;const h=s(13486),y=s(38612),D=s(10767);p.InputDescriptorsV2VB=class w extends D.ValidationBundler{constructor(f){super(f,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string"}getValidations(f){let l=[];return l.push({tag:this.getTag(),target:f,predicate:i=>this.shouldNotHaveSchema(i),message:"input descriptor should not have schema property"},{tag:this.getTag(),target:f,predicate:i=>this.shouldHaveUniqueIds(i),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:f,predicate:i=>this.shouldHaveUniqueFieldsIds(i),message:"fields id must be unique"}),f.forEach((i,d)=>{l=[...l,...this.getValidationFor(i,d),...this.constraintsValidations(i,d)]}),l}getValidationFor(f,l){return[{tag:this.getMyTag(l),target:f,predicate:i=>h.ObjectValidationUtils.nonEmptyString(i?.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(l),target:f,predicate:i=>h.ObjectValidationUtils.optionalNonEmptyString(i?.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(l),target:f,predicate:i=>h.ObjectValidationUtils.optionalNonEmptyString(i?.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(f){const l=[],i=new Set,d=[];return f.map(o=>{var a;return null===(a=o.constraints)||void 0===a?void 0:a.fields}).forEach(o=>{o&&d.push(...o)}),d.forEach(o=>{o.id&&l.push(o.id)}),l.forEach(o=>i.add(o)),l.length===i.size}shouldHaveUniqueIds(f){const l=[],i=new Set;return f.forEach(d=>l.push(d.id)),l.forEach(d=>i.add(d)),l.length===i.size}getMyTag(f){return this.parentTag+"."+this.myTag+"["+f+"]"}constraintsValidations(f,l){return f.constraints?new y.ConstraintsVB(this.getMyTag(l)).getValidations(f.constraints):[]}shouldNotHaveSchema(f){let l=!1;return f.forEach(i=>{i.schema&&(l=!0)}),!l}}},27506:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(p,"__esModule",{value:!0}),p.PresentationDefinitionV1VB=void 0;const y=s(92209),D=s(83851),w=h(s(86515)),E=s(853),f=s(97091),l=s(10767);class i extends l.ValidationBundler{constructor(o){super(o,"presentation_definition")}getValidations(o){return o.submission_requirements?[...this.myValidations(o),...new E.InputDescriptorsV1VB(this.myTag).getValidations(o.input_descriptors),...new f.SubmissionRequirementVB(this.myTag).getValidations(o.submission_requirements)]:[...this.myValidations(o),...new E.InputDescriptorsV1VB(this.myTag).getValidations(o.input_descriptors)]}myValidations(o){return[{tag:this.getTag(),target:o,predicate:a=>null!=a,message:"presentation_definition should be non null."},{tag:this.getTag(),target:o,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:o,predicate:a=>i.nonEmptyString(a?.id),message:"id should not be empty"},{tag:this.getTag(),target:o,predicate:a=>i.optionalNonEmptyString(a?.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:o,predicate:a=>i.optionalNonEmptyString(a?.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:o,predicate:a=>i.formatValuesShouldNotBeEmpty(a?.format),message:"formats values should not empty"},{tag:this.getTag(),target:o,predicate:a=>i.formatValuesShouldBeAmongKnownValues(a?.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:o,predicate:a=>i.groupShouldMatchSubmissionRequirements(a),message:"input descriptor group should match the from in submission requirements."},{tag:this.getTag(),target:o,predicate:a=>i.shouldNotHaveFrameProperty(a),message:"input descriptor should not have frame property."}]}static optionalNonEmptyString(o){return null==o||o.length>0}static nonEmptyString(o){return null!=o&&o.length>0}static formatValuesShouldNotBeEmpty(o){var a,v,b,m,_,C,S,N,B,k,F;let I=!0;return null!=o?.jwt&&(I=I&&(null===(a=o.jwt.alg)||void 0===a?void 0:a.length)>0),null!=o?.jwt_vc&&(I=I&&(null===(v=o.jwt_vc.alg)||void 0===v?void 0:v.length)>0),null!=o?.jwt_vc_json&&(I=I&&(null===(b=o.jwt_vc_json.alg)||void 0===b?void 0:b.length)>0),null!=o?.jwt_vp&&(I=I&&(null===(m=o.jwt_vp.alg)||void 0===m?void 0:m.length)>0),null!=o?.jwt_vp_json&&(I=I&&(null===(_=o.jwt_vp_json.alg)||void 0===_?void 0:_.length)>0),null!=o?.ldp&&(I=I&&(null===(C=o.ldp.proof_type)||void 0===C?void 0:C.length)>0),null!=o?.ldp_vc&&(I=I&&(null===(S=o.ldp_vc.proof_type)||void 0===S?void 0:S.length)>0),null!=o?.ldp_vp&&(I=I&&(null===(N=o.ldp_vp.proof_type)||void 0===N?void 0:N.length)>0),null!=o?.di&&(I=I&&(null===(B=o.di.proof_type)||void 0===B?void 0:B.length)>0),null!=o?.di_vc&&(I=I&&(null===(k=o.di_vc.proof_type)||void 0===k?void 0:k.length)>0),null!=o?.di_vp&&(I=I&&(null===(F=o.di_vp.proof_type)||void 0===F?void 0:F.length)>0),I}static formatValuesShouldBeAmongKnownValues(o){let a=[];if(o){const v=y.JwtAlgos.getJwtAlgos(),b=D.LdpTypes.getLdpTypes();a=[];for(const[m,_]of Object.entries(o))m.startsWith("jwt")?a.push(...i.isJWTAlgoKnown(_,v)):a.push(...i.isLDPProofKnown(_,b))}return 0===a.length}static isJWTAlgoKnown(o,a){const v=[];if(null!=o&&null!=o.alg)for(const b of o.alg)a.includes(b)||v.push(b);return v}static isLDPProofKnown(o,a){const v=[];if(null!=o&&null!=o.proof_type)for(const b of o.proof_type)a.includes(b)||v.push(b);return v}static groupShouldMatchSubmissionRequirements(o){if(null!=o.submission_requirements&&o.submission_requirements.length>0){const a=[];o.input_descriptors.forEach(C=>{C.group&&a.push(...C.group)});const v=new Set(a),b=[];i.flatten(o.submission_requirements).forEach(C=>{C.from&&(Array.isArray(C.from)?b.push(...C.from):b.push(C.from))});const m=new Set(b);return 0===new Set([...m].filter(C=>null!=C&&C.length>0&&!v.has(C))).size}return!0}static flatten(o){return o?.reduce((a,v)=>a.concat(Array.isArray(v.from_nested)?this.flatten(v.from_nested):v),[])}shouldBeAsPerJsonSchema(){return o=>(0,w.default)({presentation_definition:o})}static shouldNotHaveFrameProperty(o){return!o.frame}}p.PresentationDefinitionV1VB=i},12915:function(q,p,s){"use strict";var h=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(p,"__esModule",{value:!0}),p.PresentationDefinitionV2VB=void 0;const y=s(92209),D=s(83851),w=h(s(93046)),E=s(79241),f=s(74840),l=s(97091),i=s(10767);class d extends i.ValidationBundler{constructor(a){super(a,"presentation_definition")}getValidations(a){let v=[];return v=a.submission_requirements?[...this.myValidations(a),...new f.InputDescriptorsV2VB(this.myTag).getValidations(a.input_descriptors),...new l.SubmissionRequirementVB(this.myTag).getValidations(a.submission_requirements)]:[...this.myValidations(a),...new f.InputDescriptorsV2VB(this.myTag).getValidations(a.input_descriptors)],a.frame&&v.push(...new E.FrameVB(this.myTag).getValidations(a.frame)),v}myValidations(a){return[{tag:this.getTag(),target:a,predicate:v=>null!=v,message:"presentation_definition should be non null."},{tag:this.getTag(),target:a,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:a,predicate:v=>d.nonEmptyString(v?.id),message:"id should not be empty"},{tag:this.getTag(),target:a,predicate:v=>d.optionalNonEmptyString(v?.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:a,predicate:v=>d.optionalNonEmptyString(v?.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:a,predicate:v=>d.formatValuesShouldNotBeEmpty(v?.format),message:"formats values should not empty"},{tag:this.getTag(),target:a,predicate:v=>d.formatValuesShouldBeAmongKnownValues(v?.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:a,predicate:v=>d.groupShouldMatchSubmissionRequirements(v),message:"input descriptor group should match the from in submission requirements."}]}static optionalNonEmptyString(a){return null==a||a.length>0}static nonEmptyString(a){return null!=a&&a.length>0}static formatValuesShouldNotBeEmpty(a){var v,b,m,_,C,S,N,B,k,F,I;let H=!0;return null!=a?.jwt&&(H=H&&(null===(v=a.jwt.alg)||void 0===v?void 0:v.length)>0),null!=a?.jwt_vc&&(H=H&&(null===(b=a.jwt_vc.alg)||void 0===b?void 0:b.length)>0),null!=a?.jwt_vc_json&&(H=H&&(null===(m=a.jwt_vc_json.alg)||void 0===m?void 0:m.length)>0),null!=a?.jwt_vp&&(H=H&&(null===(_=a.jwt_vp.alg)||void 0===_?void 0:_.length)>0),null!=a?.jwt_vp_json&&(H=H&&(null===(C=a.jwt_vp_json.alg)||void 0===C?void 0:C.length)>0),null!=a?.ldp&&(H=H&&(null===(S=a.ldp.proof_type)||void 0===S?void 0:S.length)>0),null!=a?.ldp_vc&&(H=H&&(null===(N=a.ldp_vc.proof_type)||void 0===N?void 0:N.length)>0),null!=a?.ldp_vp&&(H=H&&(null===(B=a.ldp_vp.proof_type)||void 0===B?void 0:B.length)>0),null!=a?.di&&(H=H&&(null===(k=a.di.proof_type)||void 0===k?void 0:k.length)>0),null!=a?.di_vc&&(H=H&&(null===(F=a.di_vc.proof_type)||void 0===F?void 0:F.length)>0),null!=a?.di_vp&&(H=H&&(null===(I=a.di_vp.proof_type)||void 0===I?void 0:I.length)>0),H}static formatValuesShouldBeAmongKnownValues(a){let v=[];if(a){const b=y.JwtAlgos.getJwtAlgos(),m=D.LdpTypes.getLdpTypes();v=[];for(const[_,C]of Object.entries(a))_.startsWith("jwt")?v.push(...d.isJWTAlgoKnown(C,b)):v.push(...d.isLDPProofKnown(C,m))}return 0===v.length}static isJWTAlgoKnown(a,v){const b=[];if(null!=a&&null!=a.alg)for(const m of a.alg)v.includes(m)||b.push(m);return b}static isLDPProofKnown(a,v){const b=[];if(null!=a&&null!=a.proof_type)for(const m of a.proof_type)v.includes(m)||b.push(m);return b}static groupShouldMatchSubmissionRequirements(a){if(null!=a.submission_requirements&&a.submission_requirements.length>0){const v=[];a.input_descriptors.forEach(S=>{S.group&&v.push(...S.group)});const b=new Set(v),m=[];d.flatten(a.submission_requirements).forEach(S=>{S.from&&m.push(S.from)});const _=new Set(m);return 0===new Set([..._].filter(S=>null!=S&&S.length>0&&!b.has(S))).size}return!0}static flatten(a){return a?.reduce((v,b)=>v.concat(Array.isArray(b.from_nested)?this.flatten(b.from_nested):b),[])}shouldBeAsPerJsonSchema(){return a=>(0,w.default)({presentation_definition:a})}}p.PresentationDefinitionV2VB=d},3170:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.PresentationSubmissionVB=void 0;const h=s(44273),y=s(55776),D=s(10767);class w extends D.ValidationBundler{constructor(f){super(f,"presentation_submission")}getValidations(f){return[{tag:this.getTag(),target:f,predicate:l=>null!=l,message:"presentation_submission should be non null."},{tag:this.getTag(),target:f,predicate:l=>w.nonEmptyString(l?.id),message:"id should not be empty"},{tag:this.getTag(),target:f,predicate:l=>w.nonEmptyString(l?.definition_id),message:"presentation_definition_id should not be empty"},{tag:this.getTag(),target:f,predicate:l=>w.descriptorMapMustBePresent(l?.descriptor_map),message:"descriptor_map should be a non-empty list"},{tag:this.getTag(),target:f,predicate:l=>w.idMustBeSameForEachLevelOfNesting(l?.descriptor_map),message:"each descriptor should have a one id in it, on all levels"},{tag:this.getTag(),target:f,predicate:l=>w.formatsShouldBeKnown(l?.descriptor_map),message:"each format should be one of the known format"},{tag:this.getTag(),target:f,predicate:l=>w.pathsShouldBeValidJsonPaths(l?.descriptor_map),message:"each path should be a valid jsonPath"}]}static nonEmptyString(f){return null!=f&&f.length>0}static descriptorMapMustBePresent(f){return null!=f&&f.length>0}static idMustBeSameForEachLevelOfNesting(f){let l=!0;if(null!=f)for(let i=0;i<f.length;i++)l=l&&w.isIdSameForEachLevelOfNesting(f[i],f[i].id);return l}static isIdSameForEachLevelOfNesting(f,l){let i=!0;return null!=f&&null!=f.path_nested&&(i=f.path_nested.id==l&&i&&w.isIdSameForEachLevelOfNesting(f.path_nested,l)),i}static formatsShouldBeKnown(f){let l=!0;if(null!=f){const i=["jwt","jwt_vc","jwt_vc_json","jwt_vp","jwt_vp_json","ldp","ldp_vc","ldp_vp","di","di_vc","di_vp","vc+sd-jwt"];for(let d=0;d<f.length;d++)l=w.formatShouldBeKnown(f[d],i)}return l}static formatShouldBeKnown(f,l){let i=!0;return null!=f&&(i=l.includes(f.format)),null!=f.path_nested&&(i=i&&w.formatShouldBeKnown(f.path_nested,l)),i}static pathsShouldBeValidJsonPaths(f){let l=!0;if(null!=f)for(let i=0;i<f.length;i++)l=w.pathShouldBeValid(f[i],[]);return l}static pathShouldBeValid(f,l){if(null!=f){try{h.JSONPath.parse(f.path)}catch{l.push(f.path)}null!=f.path_nested&&w.pathShouldBeValid(f.path_nested,l)}if(l.length>0)throw new y.Checked("",y.Status.ERROR,"These were not parsable json paths: "+JSON.stringify(l));return!0}}p.PresentationSubmissionVB=w},97091:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SubmissionRequirementVB=void 0;const h=s(10767);class y extends h.ValidationBundler{constructor(w){super(w,"submission_requirements"),this.ruleIsMandatoryMsg="rule is a mandatory field",this.needsOneFromOrFromNestedMsg="needs exactly one of from or from_nested",this.fromNestedShouldBeArrayMsg="The value of the from_nested property MUST be an array",this.isCountPositiveIntMsg="count must be a practical positive number",this.isMinPositiveIntMsg="min must be a practical positive number",this.isMaxPositiveIntMsg="max must be a practical positive number",this.ruleShouldBePickOrAllMsg="rule should be either pick or all"}getValidations(w){let E=[];if(null!=w&&w.length>0)for(let f=0;f<w.length;f++)E=[...E,...this.getMyValidations(f,w),...this.getSubValidations(f,w)];return E}getMyValidations(w,E){return[{tag:this.getMyTag(w),target:E[w],predicate:y.ruleIsMandatory,message:this.ruleIsMandatoryMsg},{tag:this.getMyTag(w),target:E[w],predicate:y.needsOneFromOrFromNested,message:this.needsOneFromOrFromNestedMsg},{tag:this.getMyTag(w),target:E[w],predicate:y.fromNestedShouldBeArray,message:this.fromNestedShouldBeArrayMsg},{tag:this.getMyTag(w),target:E[w],predicate:this.isCountPositiveInt,message:this.isCountPositiveIntMsg},{tag:this.getMyTag(w),target:E[w],predicate:this.isMinPositiveInt,message:this.isMinPositiveIntMsg},{tag:this.getMyTag(w),target:E[w],predicate:this.isMaxPositiveInt,message:this.isMaxPositiveIntMsg},{tag:this.getMyTag(w),target:E[w],predicate:y.ruleShouldBePickOrAll,message:this.ruleShouldBePickOrAllMsg}]}getMyTag(w){return this.parentTag+"."+this.myTag+"["+w+"]"}getSubValidations(w,E){const f=E[w].from_nested;return null!=f?new y(this.getFromNestedTag(w)).getValidations(f):[]}getFromNestedTag(w){return this.getMyTag(w)+".from_nested"}isCountPositiveInt(w){return"pick"!==w.rule||null==w.count||0<w.count}isMinPositiveInt(w){return"pick"!==w.rule||null==w.min||0<=w.min}isMaxPositiveInt(w){return"pick"!==w.rule||null==w.max||0<w.max}static ruleIsMandatory(w){return null!=w.rule}static needsOneFromOrFromNested(w){return null==w.from!=(null==w.from_nested)}static fromNestedShouldBeArray(w){return null==w.from_nested||Array.isArray(w.from_nested)}static ruleShouldBePickOrAll(w){return"pick"===w.rule||"all"===w.rule}}p.SubmissionRequirementVB=y},10767:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ValidationBundler=void 0;const h=s(55776);p.ValidationBundler=class y{constructor(w,E){this.parentTag=w,this.myTag=E}getTag(){return null!=this.parentTag?this.parentTag+"."+this.myTag:this.myTag}toChecked(w){return new h.Checked(this.getTag(),h.Status.ERROR,w)}}},80320:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(51130),p),y(s(93398),p),y(s(50903),p)},92209:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.JwtAlgos=void 0,p.JwtAlgos=class s{static getJwtAlgos(){return["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none","RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"]}}},83851:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.LdpTypes=void 0,p.LdpTypes=class s{static getLdpTypes(){return["Ed25519VerificationKey2018","Ed25519Signature2018","RsaSignature2018","EcdsaSecp256k1Signature2019","EcdsaSecp256k1RecoverySignature2020","JsonWebSignature2020","GpgSignature2020","JcsEd25519Signature2020","BbsBlsSignature2020","Bls12381G2Key2020","DataIntegrityProof"]}}},93398:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},50903:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ValidationEngine=void 0;const h=s(80320);p.ValidationEngine=class y{validate(w){let E=[];for(const f of w)E=E.concat(f.bundler.getValidations(f.target));return(0,h.validate)(E)}}},51130:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.validate=void 0;const h=s(55776);p.validate=D=>{function E(o){return new h.Checked(o.tag,h.Status.ERROR,o.message)}function f(o){return new h.Checked(o,h.Status.INFO,"ok")}const d=D.map(o=>function l(o){let a;try{a=o.predicate(o.target)?f(o.tag):E(o)}catch{a=E(o)}return a}(o)).reduce((o,a)=>(a.status!==h.Status.INFO&&o.push(a),o),[]);return(0,h.hasErrors)(d)?d:[f("root")]}},80930:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(75056),p),y(s(80320),p)},94217:q=>{"use strict";q.exports=l,q.exports.default=l;const s={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberStringBoolean"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},required:["type"],type:"object"},h=Object.prototype.hasOwnProperty,y={type:["number","string","boolean"]};function D(i,{instancePath:d="",rootData:v=i}={}){let b=null,m=0;if("number"!=typeof i&&"string"!=typeof i&&"boolean"!=typeof i){const _={instancePath:d,schemaPath:"#/type",keyword:"type",params:{type:y.type},message:"must be number,string,boolean",schema:y.type,parentSchema:y,data:i};null===b?b=[_]:b.push(_),m++}return D.errors=b,0===m}const w={type:["number","string"]};function E(i,{instancePath:d="",rootData:v=i}={}){let b=null,m=0;if("number"!=typeof i&&"string"!=typeof i){const _={instancePath:d,schemaPath:"#/type",keyword:"type",params:{type:w.type},message:"must be number,string",schema:w.type,parentSchema:w,data:i};null===b?b=[_]:b.push(_),m++}return E.errors=b,0===m}function f(i,{instancePath:d="",rootData:v=i}={}){let b=null,m=0;if(i&&"object"==typeof i&&!Array.isArray(i)){if(void 0===i.type){const _={instancePath:d,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:s.required,parentSchema:s,data:i};null===b?b=[_]:b.push(_),m++}for(const _ in i)if(!h.call(s.properties,_)){const C={instancePath:d,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_},message:"must NOT have additional properties",schema:!1,parentSchema:s,data:i};null===b?b=[C]:b.push(C),m++}if(void 0!==i.const&&(D(i.const,{instancePath:d+"/const",parentData:i,parentDataProperty:"const",rootData:v})||(b=null===b?D.errors:b.concat(D.errors),m=b.length)),void 0!==i.enum){let _=i.enum;if(Array.isArray(_)){const C=_.length;for(let S=0;S<C;S++)E(_[S],{instancePath:d+"/enum/"+S,parentData:_,parentDataProperty:S,rootData:v})||(b=null===b?E.errors:b.concat(E.errors),m=b.length)}else{const C={instancePath:d+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.properties.enum.type,parentSchema:s.properties.enum,data:_};null===b?b=[C]:b.push(C),m++}}if(void 0!==i.exclusiveMaximum&&(E(i.exclusiveMaximum,{instancePath:d+"/exclusiveMaximum",parentData:i,parentDataProperty:"exclusiveMaximum",rootData:v})||(b=null===b?E.errors:b.concat(E.errors),m=b.length)),void 0!==i.exclusiveMinimum&&(E(i.exclusiveMinimum,{instancePath:d+"/exclusiveMinimum",parentData:i,parentDataProperty:"exclusiveMinimum",rootData:v})||(b=null===b?E.errors:b.concat(E.errors),m=b.length)),void 0!==i.format){let _=i.format;if("string"!=typeof _){const C={instancePath:d+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.format.type,parentSchema:s.properties.format,data:_};null===b?b=[C]:b.push(C),m++}}if(void 0!==i.maxLength){let _=i.maxLength;if("number"!=typeof _){const C={instancePath:d+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:s.properties.maxLength.type,parentSchema:s.properties.maxLength,data:_};null===b?b=[C]:b.push(C),m++}}if(void 0!==i.maximum&&(E(i.maximum,{instancePath:d+"/maximum",parentData:i,parentDataProperty:"maximum",rootData:v})||(b=null===b?E.errors:b.concat(E.errors),m=b.length)),void 0!==i.minLength){let _=i.minLength;if("number"!=typeof _){const C={instancePath:d+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:s.properties.minLength.type,parentSchema:s.properties.minLength,data:_};null===b?b=[C]:b.push(C),m++}}if(void 0!==i.minimum&&(E(i.minimum,{instancePath:d+"/minimum",parentData:i,parentDataProperty:"minimum",rootData:v})||(b=null===b?E.errors:b.concat(E.errors),m=b.length)),void 0!==i.not){let _=i.not;if(!_||"object"!=typeof _||Array.isArray(_)){const C={instancePath:d+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.properties.not.type,parentSchema:s.properties.not,data:_};null===b?b=[C]:b.push(C),m++}}if(void 0!==i.pattern){let _=i.pattern;if("string"!=typeof _){const C={instancePath:d+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.pattern.type,parentSchema:s.properties.pattern,data:_};null===b?b=[C]:b.push(C),m++}}if(void 0!==i.type){let _=i.type;if("string"!=typeof _){const C={instancePath:d+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.type.type,parentSchema:s.properties.type,data:_};null===b?b=[C]:b.push(C),m++}}}else{const _={instancePath:d,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.type,parentSchema:s,data:i};null===b?b=[_]:b.push(_),m++}return f.errors=b,0===m}function l(i,{instancePath:d="",parentData:o,parentDataProperty:a,rootData:v=i}={}){let b=null,m=0;return f(i,{instancePath:d,parentData:o,parentDataProperty:a,rootData:v})||(b=null===b?f.errors:b.concat(f.errors),m=b.length),l.errors=b,0===m}},61264:q=>{"use strict";q.exports=i,q.exports.default=i;const s={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberStringBoolean"},contains:{$ref:"#/definitions/FilterV2"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},formatExclusiveMaximum:{type:"string"},formatExclusiveMinimum:{type:"string"},formatMaximum:{type:"string"},formatMinimum:{type:"string"},items:{anyOf:[{$ref:"#/definitions/FilterV2"},{items:{$ref:"#/definitions/FilterV2"},minItems:1,type:"array"}]},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},type:"object"},h=Object.prototype.hasOwnProperty,y={type:["number","string","boolean"]};function D(d,{instancePath:o="",rootData:b=d}={}){let m=null,_=0;if("number"!=typeof d&&"string"!=typeof d&&"boolean"!=typeof d){const C={instancePath:o,schemaPath:"#/type",keyword:"type",params:{type:y.type},message:"must be number,string,boolean",schema:y.type,parentSchema:y,data:d};null===m?m=[C]:m.push(C),_++}return D.errors=m,0===_}const w={type:["number","string"]};function E(d,{instancePath:o="",rootData:b=d}={}){let m=null,_=0;if("number"!=typeof d&&"string"!=typeof d){const C={instancePath:o,schemaPath:"#/type",keyword:"type",params:{type:w.type},message:"must be number,string",schema:w.type,parentSchema:w,data:d};null===m?m=[C]:m.push(C),_++}return E.errors=m,0===_}const f={validate:l};function l(d,{instancePath:o="",rootData:b=d}={}){let m=null,_=0;if(d&&"object"==typeof d&&!Array.isArray(d)){for(const S in d)if(!h.call(s.properties,S)){const N={instancePath:o,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:S},message:"must NOT have additional properties",schema:!1,parentSchema:s,data:d};null===m?m=[N]:m.push(N),_++}if(void 0!==d.const&&(D(d.const,{instancePath:o+"/const",parentData:d,parentDataProperty:"const",rootData:b})||(m=null===m?D.errors:m.concat(D.errors),_=m.length)),void 0!==d.contains&&(f.validate(d.contains,{instancePath:o+"/contains",parentData:d,parentDataProperty:"contains",rootData:b})||(m=null===m?f.validate.errors:m.concat(f.validate.errors),_=m.length)),void 0!==d.enum){let S=d.enum;if(Array.isArray(S)){const N=S.length;for(let B=0;B<N;B++)E(S[B],{instancePath:o+"/enum/"+B,parentData:S,parentDataProperty:B,rootData:b})||(m=null===m?E.errors:m.concat(E.errors),_=m.length)}else{const N={instancePath:o+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.properties.enum.type,parentSchema:s.properties.enum,data:S};null===m?m=[N]:m.push(N),_++}}if(void 0!==d.exclusiveMaximum&&(E(d.exclusiveMaximum,{instancePath:o+"/exclusiveMaximum",parentData:d,parentDataProperty:"exclusiveMaximum",rootData:b})||(m=null===m?E.errors:m.concat(E.errors),_=m.length)),void 0!==d.exclusiveMinimum&&(E(d.exclusiveMinimum,{instancePath:o+"/exclusiveMinimum",parentData:d,parentDataProperty:"exclusiveMinimum",rootData:b})||(m=null===m?E.errors:m.concat(E.errors),_=m.length)),void 0!==d.format){let S=d.format;if("string"!=typeof S){const N={instancePath:o+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.format.type,parentSchema:s.properties.format,data:S};null===m?m=[N]:m.push(N),_++}}if(void 0!==d.formatExclusiveMaximum){let S=d.formatExclusiveMaximum;if("string"!=typeof S){const N={instancePath:o+"/formatExclusiveMaximum",schemaPath:"#/properties/formatExclusiveMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.formatExclusiveMaximum.type,parentSchema:s.properties.formatExclusiveMaximum,data:S};null===m?m=[N]:m.push(N),_++}}if(void 0!==d.formatExclusiveMinimum){let S=d.formatExclusiveMinimum;if("string"!=typeof S){const N={instancePath:o+"/formatExclusiveMinimum",schemaPath:"#/properties/formatExclusiveMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.formatExclusiveMinimum.type,parentSchema:s.properties.formatExclusiveMinimum,data:S};null===m?m=[N]:m.push(N),_++}}if(void 0!==d.formatMaximum){let S=d.formatMaximum;if("string"!=typeof S){const N={instancePath:o+"/formatMaximum",schemaPath:"#/properties/formatMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.formatMaximum.type,parentSchema:s.properties.formatMaximum,data:S};null===m?m=[N]:m.push(N),_++}}if(void 0!==d.formatMinimum){let S=d.formatMinimum;if("string"!=typeof S){const N={instancePath:o+"/formatMinimum",schemaPath:"#/properties/formatMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.formatMinimum.type,parentSchema:s.properties.formatMinimum,data:S};null===m?m=[N]:m.push(N),_++}}if(void 0!==d.items){let S=d.items;const N=_;let B=!1;const k=_;f.validate(S,{instancePath:o+"/items",parentData:d,parentDataProperty:"items",rootData:b})||(m=null===m?f.validate.errors:m.concat(f.validate.errors),_=m.length);var C=k===_;if(B=B||C,!B){const F=_;if(Array.isArray(S)){if(S.length<1){const ne={instancePath:o+"/items",schemaPath:"#/properties/items/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.properties.items.anyOf[1],data:S};null===m?m=[ne]:m.push(ne),_++}const H=S.length;for(let ne=0;ne<H;ne++)f.validate(S[ne],{instancePath:o+"/items/"+ne,parentData:S,parentDataProperty:ne,rootData:b})||(m=null===m?f.validate.errors:m.concat(f.validate.errors),_=m.length)}else{const H={instancePath:o+"/items",schemaPath:"#/properties/items/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.properties.items.anyOf[1].type,parentSchema:s.properties.items.anyOf[1],data:S};null===m?m=[H]:m.push(H),_++}C=F===_,B=B||C}if(B)_=N,null!==m&&(N?m.length=N:m=null);else{const F={instancePath:o+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:s.properties.items.anyOf,parentSchema:s.properties.items,data:S};null===m?m=[F]:m.push(F),_++}}if(void 0!==d.maxLength){let S=d.maxLength;if("number"!=typeof S){const N={instancePath:o+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:s.properties.maxLength.type,parentSchema:s.properties.maxLength,data:S};null===m?m=[N]:m.push(N),_++}}if(void 0!==d.maximum&&(E(d.maximum,{instancePath:o+"/maximum",parentData:d,parentDataProperty:"maximum",rootData:b})||(m=null===m?E.errors:m.concat(E.errors),_=m.length)),void 0!==d.minLength){let S=d.minLength;if("number"!=typeof S){const N={instancePath:o+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:s.properties.minLength.type,parentSchema:s.properties.minLength,data:S};null===m?m=[N]:m.push(N),_++}}if(void 0!==d.minimum&&(E(d.minimum,{instancePath:o+"/minimum",parentData:d,parentDataProperty:"minimum",rootData:b})||(m=null===m?E.errors:m.concat(E.errors),_=m.length)),void 0!==d.not){let S=d.not;if(!S||"object"!=typeof S||Array.isArray(S)){const N={instancePath:o+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.properties.not.type,parentSchema:s.properties.not,data:S};null===m?m=[N]:m.push(N),_++}}if(void 0!==d.pattern){let S=d.pattern;if("string"!=typeof S){const N={instancePath:o+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.pattern.type,parentSchema:s.properties.pattern,data:S};null===m?m=[N]:m.push(N),_++}}if(void 0!==d.type){let S=d.type;if("string"!=typeof S){const N={instancePath:o+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.type.type,parentSchema:s.properties.type,data:S};null===m?m=[N]:m.push(N),_++}}}else{const S={instancePath:o,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.type,parentSchema:s,data:d};null===m?m=[S]:m.push(S),_++}return l.errors=m,0===_}function i(d,{instancePath:o="",parentData:a,parentDataProperty:v,rootData:b=d}={}){let m=null,_=0;return l(d,{instancePath:o,parentData:a,parentDataProperty:v,rootData:b})||(m=null===m?l.errors:m.concat(l.errors),_=m.length),i.errors=m,0===_}},86515:q=>{"use strict";q.exports=k,q.exports.default=k;const p={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{schema:{type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1},issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},filter:{type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},format:{type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},s={type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},h=new RegExp("^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$","u"),y=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),D=new RegExp("^di_vc$|^di_vp$|^di$","u"),w=new RegExp("additionalProperties","u");function E(F,{instancePath:I="",rootData:oe=F}={}){let x=null,G=0;if(F&&"object"==typeof F&&!Array.isArray(F)){for(const R in F)if(!("vc+sd-jwt"===R||h.test(R)||y.test(R)||D.test(R)||w.test(R))){const X={instancePath:I,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties",schema:!1,parentSchema:s,data:F};null===x?x=[X]:x.push(X),G++}if(void 0!==F["vc+sd-jwt"]){let R=F["vc+sd-jwt"];if(R&&"object"==typeof R&&!Array.isArray(R)){for(const X in R)if("sd-jwt_alg_values"!==X&&"kb-jwt_alg_values"!==X){const J={instancePath:I+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:X},message:"must NOT have additional properties",schema:!1,parentSchema:s.properties["vc+sd-jwt"],data:R};null===x?x=[J]:x.push(J),G++}if(void 0!==R["sd-jwt_alg_values"]){let X=R["sd-jwt_alg_values"];if(Array.isArray(X)){if(X.length<1){const ye={instancePath:I+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:X};null===x?x=[ye]:x.push(ye),G++}const J=X.length;for(let ye=0;ye<J;ye++){let U=X[ye];if("string"!=typeof U){const Y={instancePath:I+"/vc+sd-jwt/sd-jwt_alg_values/"+ye,schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items.type,parentSchema:s.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items,data:U};null===x?x=[Y]:x.push(Y),G++}}}else{const J={instancePath:I+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].type,parentSchema:s.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:X};null===x?x=[J]:x.push(J),G++}}if(void 0!==R["kb-jwt_alg_values"]){let X=R["kb-jwt_alg_values"];if(Array.isArray(X)){if(X.length<1){const ye={instancePath:I+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:X};null===x?x=[ye]:x.push(ye),G++}const J=X.length;for(let ye=0;ye<J;ye++){let U=X[ye];if("string"!=typeof U){const Y={instancePath:I+"/vc+sd-jwt/kb-jwt_alg_values/"+ye,schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items.type,parentSchema:s.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items,data:U};null===x?x=[Y]:x.push(Y),G++}}}else{const J={instancePath:I+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].type,parentSchema:s.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:X};null===x?x=[J]:x.push(J),G++}}}else{const X={instancePath:I+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.properties["vc+sd-jwt"].type,parentSchema:s.properties["vc+sd-jwt"],data:R};null===x?x=[X]:x.push(X),G++}}for(const R in F)if(h.test(R)){let X=F[R];if(X&&"object"==typeof X&&!Array.isArray(X)){if(void 0===X.alg){const J={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].required,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:X};null===x?x=[J]:x.push(J),G++}for(const J in X)if("alg"!==J){const ye={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:J},message:"must NOT have additional properties",schema:!1,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:X};null===x?x=[ye]:x.push(ye),G++}if(void 0!==X.alg){let J=X.alg;if(Array.isArray(J)){if(J.length<1){const U={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg,data:J};null===x?x=[U]:x.push(U),G++}const ye=J.length;for(let U=0;U<ye;U++){let Y=J[U];if("string"!=typeof Y){const ce={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+U,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.items.type,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.items,data:Y};null===x?x=[ce]:x.push(ce),G++}}}else{const ye={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.type,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg,data:J};null===x?x=[ye]:x.push(ye),G++}}}else{const J={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].type,parentSchema:s.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:X};null===x?x=[J]:x.push(J),G++}}for(const R in F)if(y.test(R)){let X=F[R];if(X&&"object"==typeof X&&!Array.isArray(X)){if(void 0===X.proof_type){const J={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:X};null===x?x=[J]:x.push(J),G++}for(const J in X)if("proof_type"!==J){const ye={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:J},message:"must NOT have additional properties",schema:!1,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:X};null===x?x=[ye]:x.push(ye),G++}if(void 0!==X.proof_type){let J=X.proof_type;if(Array.isArray(J)){if(J.length<1){const U={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:J};null===x?x=[U]:x.push(U),G++}const ye=J.length;for(let U=0;U<ye;U++){let Y=J[U];if("string"!=typeof Y){const ce={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+U,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:Y};null===x?x=[ce]:x.push(ce),G++}}}else{const ye={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:J};null===x?x=[ye]:x.push(ye),G++}}}else{const J={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:s.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:X};null===x?x=[J]:x.push(J),G++}}for(const R in F)if(D.test(R)){let X=F[R];if(X&&"object"==typeof X&&!Array.isArray(X)){if(void 0===X.proof_type){const J={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"],data:X};null===x?x=[J]:x.push(J),G++}if(void 0===X.cryptosuite){const J={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"cryptosuite"},message:"must have required property 'cryptosuite'",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"],data:X};null===x?x=[J]:x.push(J),G++}for(const J in X)if("proof_type"!==J&&"cryptosuite"!==J){const ye={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:J},message:"must NOT have additional properties",schema:!1,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"],data:X};null===x?x=[ye]:x.push(ye),G++}if(void 0!==X.proof_type){let J=X.proof_type;if(Array.isArray(J)){if(J.length<1){const U={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:J};null===x?x=[U]:x.push(U),G++}const ye=J.length;for(let U=0;U<ye;U++){let Y=J[U];if("string"!=typeof Y){const ce={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+U,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items.type,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items,data:Y};null===x?x=[ce]:x.push(ce),G++}}}else{const ye={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.type,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:J};null===x?x=[ye]:x.push(ye),G++}}if(void 0!==X.cryptosuite){let J=X.cryptosuite;if(Array.isArray(J)){if(J.length<1){const U={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:J};null===x?x=[U]:x.push(U),G++}const ye=J.length;for(let U=0;U<ye;U++){let Y=J[U];if("string"!=typeof Y){const ce={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite/"+U,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items.type,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items,data:Y};null===x?x=[ce]:x.push(ce),G++}}}else{const ye={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/type",keyword:"type",params:{type:"array"},message:"must be array",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.type,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:J};null===x?x=[ye]:x.push(ye),G++}}}else{const J={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.patternProperties["^di_vc$|^di_vp$|^di$"].type,parentSchema:s.patternProperties["^di_vc$|^di_vp$|^di$"],data:X};null===x?x=[J]:x.push(J),G++}}for(const R in F)if(w.test(R)){const X={instancePath:I+"/"+R.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:s.patternProperties.additionalProperties,data:F[R]};null===x?x=[X]:x.push(X),G++}}else{const R={instancePath:I,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.type,parentSchema:s,data:F};null===x?x=[R]:x.push(R),G++}return E.errors=x,0===G}const f={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},l={validate:i};function i(F,{instancePath:I="",rootData:oe=F}={}){let x=null,G=0;if(!F||"object"!=typeof F||Array.isArray(F)){const ce={instancePath:I,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:f.type,parentSchema:f,data:F};null===x?x=[ce]:x.push(ce),G++}const R=G;let X=!1,J=null;const ye=G;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.rule){const ce={instancePath:I,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:f.oneOf[0].required,parentSchema:f.oneOf[0],data:F};null===x?x=[ce]:x.push(ce),G++}if(void 0===F.from){const ce={instancePath:I,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:f.oneOf[0].required,parentSchema:f.oneOf[0],data:F};null===x?x=[ce]:x.push(ce),G++}for(const ce in F)if("name"!==ce&&"purpose"!==ce&&"rule"!==ce&&"count"!==ce&&"min"!==ce&&"max"!==ce&&"from"!==ce){const we={instancePath:I,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ce},message:"must NOT have additional properties",schema:!1,parentSchema:f.oneOf[0],data:F};null===x?x=[we]:x.push(we),G++}if(void 0!==F.name){let ce=F.name;if("string"!=typeof ce){const we={instancePath:I+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.oneOf[0].properties.name.type,parentSchema:f.oneOf[0].properties.name,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.purpose){let ce=F.purpose;if("string"!=typeof ce){const we={instancePath:I+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.oneOf[0].properties.purpose.type,parentSchema:f.oneOf[0].properties.purpose,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.rule){let ce=F.rule;if("string"!=typeof ce){const we={instancePath:I+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.oneOf[0].properties.rule.type,parentSchema:f.oneOf[0].properties.rule,data:ce};null===x?x=[we]:x.push(we),G++}if("all"!==ce&&"pick"!==ce){const we={instancePath:I+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:f.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:f.oneOf[0].properties.rule.enum,parentSchema:f.oneOf[0].properties.rule,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.count){let ce=F.count;if("number"!=typeof ce||ce%1||isNaN(ce)){const we={instancePath:I+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:f.oneOf[0].properties.count.type,parentSchema:f.oneOf[0].properties.count,data:ce};null===x?x=[we]:x.push(we),G++}if("number"==typeof ce&&(ce<1||isNaN(ce))){const we={instancePath:I+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:f.oneOf[0].properties.count,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.min){let ce=F.min;if("number"!=typeof ce||ce%1||isNaN(ce)){const we={instancePath:I+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:f.oneOf[0].properties.min.type,parentSchema:f.oneOf[0].properties.min,data:ce};null===x?x=[we]:x.push(we),G++}if("number"==typeof ce&&(ce<0||isNaN(ce))){const we={instancePath:I+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:f.oneOf[0].properties.min,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.max){let ce=F.max;if("number"!=typeof ce||ce%1||isNaN(ce)){const we={instancePath:I+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:f.oneOf[0].properties.max.type,parentSchema:f.oneOf[0].properties.max,data:ce};null===x?x=[we]:x.push(we),G++}if("number"==typeof ce&&(ce<0||isNaN(ce))){const we={instancePath:I+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:f.oneOf[0].properties.max,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.from){let ce=F.from;if("string"!=typeof ce){const we={instancePath:I+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.oneOf[0].properties.from.type,parentSchema:f.oneOf[0].properties.from,data:ce};null===x?x=[we]:x.push(we),G++}}}ye===G&&(X=!0,J=0);const U=G;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.rule){const ce={instancePath:I,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:f.oneOf[1].required,parentSchema:f.oneOf[1],data:F};null===x?x=[ce]:x.push(ce),G++}if(void 0===F.from_nested){const ce={instancePath:I,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:f.oneOf[1].required,parentSchema:f.oneOf[1],data:F};null===x?x=[ce]:x.push(ce),G++}for(const ce in F)if("name"!==ce&&"purpose"!==ce&&"rule"!==ce&&"count"!==ce&&"min"!==ce&&"max"!==ce&&"from_nested"!==ce){const we={instancePath:I,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ce},message:"must NOT have additional properties",schema:!1,parentSchema:f.oneOf[1],data:F};null===x?x=[we]:x.push(we),G++}if(void 0!==F.name){let ce=F.name;if("string"!=typeof ce){const we={instancePath:I+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.oneOf[1].properties.name.type,parentSchema:f.oneOf[1].properties.name,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.purpose){let ce=F.purpose;if("string"!=typeof ce){const we={instancePath:I+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.oneOf[1].properties.purpose.type,parentSchema:f.oneOf[1].properties.purpose,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.rule){let ce=F.rule;if("string"!=typeof ce){const we={instancePath:I+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.oneOf[1].properties.rule.type,parentSchema:f.oneOf[1].properties.rule,data:ce};null===x?x=[we]:x.push(we),G++}if("all"!==ce&&"pick"!==ce){const we={instancePath:I+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:f.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:f.oneOf[1].properties.rule.enum,parentSchema:f.oneOf[1].properties.rule,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.count){let ce=F.count;if("number"!=typeof ce||ce%1||isNaN(ce)){const we={instancePath:I+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:f.oneOf[1].properties.count.type,parentSchema:f.oneOf[1].properties.count,data:ce};null===x?x=[we]:x.push(we),G++}if("number"==typeof ce&&(ce<1||isNaN(ce))){const we={instancePath:I+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:f.oneOf[1].properties.count,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.min){let ce=F.min;if("number"!=typeof ce||ce%1||isNaN(ce)){const we={instancePath:I+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:f.oneOf[1].properties.min.type,parentSchema:f.oneOf[1].properties.min,data:ce};null===x?x=[we]:x.push(we),G++}if("number"==typeof ce&&(ce<0||isNaN(ce))){const we={instancePath:I+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:f.oneOf[1].properties.min,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.max){let ce=F.max;if("number"!=typeof ce||ce%1||isNaN(ce)){const we={instancePath:I+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:f.oneOf[1].properties.max.type,parentSchema:f.oneOf[1].properties.max,data:ce};null===x?x=[we]:x.push(we),G++}if("number"==typeof ce&&(ce<0||isNaN(ce))){const we={instancePath:I+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:f.oneOf[1].properties.max,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.from_nested){let ce=F.from_nested;if(Array.isArray(ce)){if(ce.length<1){const $e={instancePath:I+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:f.oneOf[1].properties.from_nested,data:ce};null===x?x=[$e]:x.push($e),G++}const we=ce.length;for(let $e=0;$e<we;$e++)l.validate(ce[$e],{instancePath:I+"/from_nested/"+$e,parentData:ce,parentDataProperty:$e,rootData:oe})||(x=null===x?l.validate.errors:x.concat(l.validate.errors),G=x.length)}else{const we={instancePath:I+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:f.oneOf[1].properties.from_nested.type,parentSchema:f.oneOf[1].properties.from_nested,data:ce};null===x?x=[we]:x.push(we),G++}}}var Y;if((Y=U===G)&&X?(X=!1,J=[J,1]):Y&&(X=!0,J=1),X)G=R,null!==x&&(R?x.length=R:x=null);else{const ce={instancePath:I,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:J},message:"must match exactly one schema in oneOf",schema:f.oneOf,parentSchema:f,data:F};null===x?x=[ce]:x.push(ce),G++}return i.errors=x,0===G}const d={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},o={type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1};function a(F,{instancePath:I="",rootData:oe=F}={}){let x=null,G=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.uri){const R={instancePath:I,schemaPath:"#/required",keyword:"required",params:{missingProperty:"uri"},message:"must have required property 'uri'",schema:o.required,parentSchema:o,data:F};null===x?x=[R]:x.push(R),G++}for(const R in F)if("uri"!==R&&"required"!==R){const X={instancePath:I,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties",schema:!1,parentSchema:o,data:F};null===x?x=[X]:x.push(X),G++}if(void 0!==F.uri){let R=F.uri;if("string"!=typeof R){const X={instancePath:I+"/uri",schemaPath:"#/properties/uri/type",keyword:"type",params:{type:"string"},message:"must be string",schema:o.properties.uri.type,parentSchema:o.properties.uri,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.required){let R=F.required;if("boolean"!=typeof R){const X={instancePath:I+"/required",schemaPath:"#/properties/required/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:o.properties.required.type,parentSchema:o.properties.required,data:R};null===x?x=[X]:x.push(X),G++}}}else{const R={instancePath:I,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:o.type,parentSchema:o,data:F};null===x?x=[R]:x.push(R),G++}return a.errors=x,0===G}const v={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function b(F,{instancePath:I="",rootData:oe=F}={}){let x=null,G=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0!==F.manifest){let R=F.manifest;if("string"!=typeof R){const X={instancePath:I+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.manifest.type,parentSchema:v.properties.manifest,data:R};null===x?x=[X]:x.push(X),G++}}}else{const R={instancePath:I,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.type,parentSchema:v,data:F};null===x?x=[R]:x.push(R),G++}return b.errors=x,0===G}const m={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]},_={type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},C=Object.prototype.hasOwnProperty;function S(F,{instancePath:I="",rootData:oe=F}={}){let x=null,G=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.type){const R={instancePath:I,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:_.required,parentSchema:_,data:F};null===x?x=[R]:x.push(R),G++}for(const R in F)if(!C.call(_.properties,R)){const X={instancePath:I,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties",schema:!1,parentSchema:_,data:F};null===x?x=[X]:x.push(X),G++}if(void 0!==F.type){let R=F.type;if("string"!=typeof R){const X={instancePath:I+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.type.type,parentSchema:_.properties.type,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.format){let R=F.format;if("string"!=typeof R){const X={instancePath:I+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.format.type,parentSchema:_.properties.format,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.pattern){let R=F.pattern;if("string"!=typeof R){const X={instancePath:I+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.pattern.type,parentSchema:_.properties.pattern,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.minimum){let R=F.minimum;if("number"!=typeof R&&"string"!=typeof R){const X={instancePath:I+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:_.properties.minimum.type},message:"must be number,string",schema:_.properties.minimum.type,parentSchema:_.properties.minimum,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.minLength){let R=F.minLength;if("number"!=typeof R||R%1||isNaN(R)){const X={instancePath:I+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:_.properties.minLength.type,parentSchema:_.properties.minLength,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.maxLength){let R=F.maxLength;if("number"!=typeof R||R%1||isNaN(R)){const X={instancePath:I+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:_.properties.maxLength.type,parentSchema:_.properties.maxLength,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.exclusiveMinimum){let R=F.exclusiveMinimum;if("number"!=typeof R&&"string"!=typeof R){const X={instancePath:I+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:_.properties.exclusiveMinimum.type},message:"must be number,string",schema:_.properties.exclusiveMinimum.type,parentSchema:_.properties.exclusiveMinimum,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.exclusiveMaximum){let R=F.exclusiveMaximum;if("number"!=typeof R&&"string"!=typeof R){const X={instancePath:I+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:_.properties.exclusiveMaximum.type},message:"must be number,string",schema:_.properties.exclusiveMaximum.type,parentSchema:_.properties.exclusiveMaximum,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.maximum){let R=F.maximum;if("number"!=typeof R&&"string"!=typeof R){const X={instancePath:I+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:_.properties.maximum.type},message:"must be number,string",schema:_.properties.maximum.type,parentSchema:_.properties.maximum,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.const){let R=F.const;if("number"!=typeof R&&"string"!=typeof R){const X={instancePath:I+"/const",schemaPath:"#/properties/const/type",keyword:"type",params:{type:_.properties.const.type},message:"must be number,string",schema:_.properties.const.type,parentSchema:_.properties.const,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.enum){let R=F.enum;if(Array.isArray(R)){const X=R.length;for(let J=0;J<X;J++){let ye=R[J];if("number"!=typeof ye&&"string"!=typeof ye){const U={instancePath:I+"/enum/"+J,schemaPath:"#/properties/enum/items/type",keyword:"type",params:{type:_.properties.enum.items.type},message:"must be number,string",schema:_.properties.enum.items.type,parentSchema:_.properties.enum.items,data:ye};null===x?x=[U]:x.push(U),G++}}}else{const X={instancePath:I+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:_.properties.enum.type,parentSchema:_.properties.enum,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.not){let R=F.not;if(R&&"object"==typeof R&&!Array.isArray(R)){if(Object.keys(R).length<1){const X={instancePath:I+"/not",schemaPath:"#/properties/not/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties",schema:1,parentSchema:_.properties.not,data:R};null===x?x=[X]:x.push(X),G++}}else{const X={instancePath:I+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:_.properties.not.type,parentSchema:_.properties.not,data:R};null===x?x=[X]:x.push(X),G++}}}else{const R={instancePath:I,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:_.type,parentSchema:_,data:F};null===x?x=[R]:x.push(R),G++}return S.errors=x,0===G}function N(F,{instancePath:I="",rootData:oe=F}={}){let x=null,G=0;if(!F||"object"!=typeof F||Array.isArray(F)){const ce={instancePath:I,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:m.type,parentSchema:m,data:F};null===x?x=[ce]:x.push(ce),G++}const R=G;let X=!1,J=null;const ye=G;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.path){const ce={instancePath:I,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:m.oneOf[0].required,parentSchema:m.oneOf[0],data:F};null===x?x=[ce]:x.push(ce),G++}for(const ce in F)if("id"!==ce&&"path"!==ce&&"purpose"!==ce&&"filter"!==ce){const we={instancePath:I,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ce},message:"must NOT have additional properties",schema:!1,parentSchema:m.oneOf[0],data:F};null===x?x=[we]:x.push(we),G++}if(void 0!==F.id){let ce=F.id;if("string"!=typeof ce){const we={instancePath:I+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[0].properties.id.type,parentSchema:m.oneOf[0].properties.id,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.path){let ce=F.path;if(Array.isArray(ce)){const we=ce.length;for(let $e=0;$e<we;$e++){let g=ce[$e];if("string"!=typeof g){const T={instancePath:I+"/path/"+$e,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[0].properties.path.items.type,parentSchema:m.oneOf[0].properties.path.items,data:g};null===x?x=[T]:x.push(T),G++}}}else{const we={instancePath:I+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:m.oneOf[0].properties.path.type,parentSchema:m.oneOf[0].properties.path,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.purpose){let ce=F.purpose;if("string"!=typeof ce){const we={instancePath:I+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[0].properties.purpose.type,parentSchema:m.oneOf[0].properties.purpose,data:ce};null===x?x=[we]:x.push(we),G++}}void 0!==F.filter&&(S(F.filter,{instancePath:I+"/filter",parentData:F,parentDataProperty:"filter",rootData:oe})||(x=null===x?S.errors:x.concat(S.errors),G=x.length))}ye===G&&(X=!0,J=0);const U=G;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.path){const ce={instancePath:I,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:m.oneOf[1].required,parentSchema:m.oneOf[1],data:F};null===x?x=[ce]:x.push(ce),G++}if(void 0===F.filter){const ce={instancePath:I,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:m.oneOf[1].required,parentSchema:m.oneOf[1],data:F};null===x?x=[ce]:x.push(ce),G++}if(void 0===F.predicate){const ce={instancePath:I,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:m.oneOf[1].required,parentSchema:m.oneOf[1],data:F};null===x?x=[ce]:x.push(ce),G++}for(const ce in F)if("id"!==ce&&"path"!==ce&&"purpose"!==ce&&"filter"!==ce&&"predicate"!==ce){const we={instancePath:I,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ce},message:"must NOT have additional properties",schema:!1,parentSchema:m.oneOf[1],data:F};null===x?x=[we]:x.push(we),G++}if(void 0!==F.id){let ce=F.id;if("string"!=typeof ce){const we={instancePath:I+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[1].properties.id.type,parentSchema:m.oneOf[1].properties.id,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.path){let ce=F.path;if(Array.isArray(ce)){const we=ce.length;for(let $e=0;$e<we;$e++){let g=ce[$e];if("string"!=typeof g){const T={instancePath:I+"/path/"+$e,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[1].properties.path.items.type,parentSchema:m.oneOf[1].properties.path.items,data:g};null===x?x=[T]:x.push(T),G++}}}else{const we={instancePath:I+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:m.oneOf[1].properties.path.type,parentSchema:m.oneOf[1].properties.path,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.purpose){let ce=F.purpose;if("string"!=typeof ce){const we={instancePath:I+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[1].properties.purpose.type,parentSchema:m.oneOf[1].properties.purpose,data:ce};null===x?x=[we]:x.push(we),G++}}if(void 0!==F.filter&&(S(F.filter,{instancePath:I+"/filter",parentData:F,parentDataProperty:"filter",rootData:oe})||(x=null===x?S.errors:x.concat(S.errors),G=x.length)),void 0!==F.predicate){let ce=F.predicate;if("string"!=typeof ce){const we={instancePath:I+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[1].properties.predicate.type,parentSchema:m.oneOf[1].properties.predicate,data:ce};null===x?x=[we]:x.push(we),G++}if("required"!==ce&&"preferred"!==ce){const we={instancePath:I+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:m.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:m.oneOf[1].properties.predicate.enum,parentSchema:m.oneOf[1].properties.predicate,data:ce};null===x?x=[we]:x.push(we),G++}}}var Y;if((Y=U===G)&&X?(X=!1,J=[J,1]):Y&&(X=!0,J=1),X)G=R,null!==x&&(R?x.length=R:x=null);else{const ce={instancePath:I,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:J},message:"must match exactly one schema in oneOf",schema:m.oneOf,parentSchema:m,data:F};null===x?x=[ce]:x.push(ce),G++}return N.errors=x,0===G}function B(F,{instancePath:I="",rootData:oe=F}={}){let x=null,G=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.id){const R={instancePath:I,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:d.required,parentSchema:d,data:F};null===x?x=[R]:x.push(R),G++}if(void 0===F.schema){const R={instancePath:I,schemaPath:"#/required",keyword:"required",params:{missingProperty:"schema"},message:"must have required property 'schema'",schema:d.required,parentSchema:d,data:F};null===x?x=[R]:x.push(R),G++}for(const R in F)if("id"!==R&&"name"!==R&&"purpose"!==R&&"group"!==R&&"schema"!==R&&"issuance"!==R&&"constraints"!==R){const X={instancePath:I,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties",schema:!1,parentSchema:d,data:F};null===x?x=[X]:x.push(X),G++}if(void 0!==F.id){let R=F.id;if("string"!=typeof R){const X={instancePath:I+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.id.type,parentSchema:d.properties.id,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.name){let R=F.name;if("string"!=typeof R){const X={instancePath:I+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.name.type,parentSchema:d.properties.name,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.purpose){let R=F.purpose;if("string"!=typeof R){const X={instancePath:I+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.purpose.type,parentSchema:d.properties.purpose,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.group){let R=F.group;if(Array.isArray(R)){const X=R.length;for(let J=0;J<X;J++){let ye=R[J];if("string"!=typeof ye){const U={instancePath:I+"/group/"+J,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.group.items.type,parentSchema:d.properties.group.items,data:ye};null===x?x=[U]:x.push(U),G++}}}else{const X={instancePath:I+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.group.type,parentSchema:d.properties.group,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.schema){let R=F.schema;if(Array.isArray(R)){const X=R.length;for(let J=0;J<X;J++)a(R[J],{instancePath:I+"/schema/"+J,parentData:R,parentDataProperty:J,rootData:oe})||(x=null===x?a.errors:x.concat(a.errors),G=x.length)}else{const X={instancePath:I+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.schema.type,parentSchema:d.properties.schema,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.issuance){let R=F.issuance;if(Array.isArray(R)){const X=R.length;for(let J=0;J<X;J++)b(R[J],{instancePath:I+"/issuance/"+J,parentData:R,parentDataProperty:J,rootData:oe})||(x=null===x?b.errors:x.concat(b.errors),G=x.length)}else{const X={instancePath:I+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.issuance.type,parentSchema:d.properties.issuance,data:R};null===x?x=[X]:x.push(X),G++}}if(void 0!==F.constraints){let R=F.constraints;if(R&&"object"==typeof R&&!Array.isArray(R)){for(const X in R)if("limit_disclosure"!==X&&"statuses"!==X&&"fields"!==X&&"subject_is_issuer"!==X&&"is_holder"!==X&&"same_subject"!==X){const J={instancePath:I+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:X},message:"must NOT have additional properties",schema:!1,parentSchema:d.properties.constraints,data:R};null===x?x=[J]:x.push(J),G++}if(void 0!==R.limit_disclosure){let X=R.limit_disclosure;if("string"!=typeof X){const J={instancePath:I+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.constraints.properties.limit_disclosure.type,parentSchema:d.properties.constraints.properties.limit_disclosure,data:X};null===x?x=[J]:x.push(J),G++}if("required"!==X&&"preferred"!==X){const J={instancePath:I+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:d.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:d.properties.constraints.properties.limit_disclosure.enum,parentSchema:d.properties.constraints.properties.limit_disclosure,data:X};null===x?x=[J]:x.push(J),G++}}if(void 0!==R.statuses){let X=R.statuses;if(X&&"object"==typeof X&&!Array.isArray(X)){if(void 0!==X.active){let J=X.active;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0!==J.directive){let ye=J.directive;if("string"!=typeof ye){const U={instancePath:I+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:d.properties.constraints.properties.statuses.properties.active.properties.directive,data:ye};null===x?x=[U]:x.push(U),G++}if("required"!==ye&&"allowed"!==ye&&"disallowed"!==ye){const U={instancePath:I+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:d.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:d.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:d.properties.constraints.properties.statuses.properties.active.properties.directive,data:ye};null===x?x=[U]:x.push(U),G++}}}else{const ye={instancePath:I+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties.constraints.properties.statuses.properties.active.type,parentSchema:d.properties.constraints.properties.statuses.properties.active,data:J};null===x?x=[ye]:x.push(ye),G++}}if(void 0!==X.suspended){let J=X.suspended;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0!==J.directive){let ye=J.directive;if("string"!=typeof ye){const U={instancePath:I+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:d.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:ye};null===x?x=[U]:x.push(U),G++}if("required"!==ye&&"allowed"!==ye&&"disallowed"!==ye){const U={instancePath:I+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:d.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:d.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:d.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:ye};null===x?x=[U]:x.push(U),G++}}}else{const ye={instancePath:I+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:d.properties.constraints.properties.statuses.properties.suspended,data:J};null===x?x=[ye]:x.push(ye),G++}}if(void 0!==X.revoked){let J=X.revoked;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0!==J.directive){let ye=J.directive;if("string"!=typeof ye){const U={instancePath:I+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:d.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:ye};null===x?x=[U]:x.push(U),G++}if("required"!==ye&&"allowed"!==ye&&"disallowed"!==ye){const U={instancePath:I+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:d.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:d.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:d.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:ye};null===x?x=[U]:x.push(U),G++}}}else{const ye={instancePath:I+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:d.properties.constraints.properties.statuses.properties.revoked,data:J};null===x?x=[ye]:x.push(ye),G++}}}else{const J={instancePath:I+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties.constraints.properties.statuses.type,parentSchema:d.properties.constraints.properties.statuses,data:X};null===x?x=[J]:x.push(J),G++}}if(void 0!==R.fields){let X=R.fields;if(Array.isArray(X)){const J=X.length;for(let ye=0;ye<J;ye++)N(X[ye],{instancePath:I+"/constraints/fields/"+ye,parentData:X,parentDataProperty:ye,rootData:oe})||(x=null===x?N.errors:x.concat(N.errors),G=x.length)}else{const J={instancePath:I+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.constraints.properties.fields.type,parentSchema:d.properties.constraints.properties.fields,data:X};null===x?x=[J]:x.push(J),G++}}if(void 0!==R.subject_is_issuer){let X=R.subject_is_issuer;if("string"!=typeof X){const J={instancePath:I+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.constraints.properties.subject_is_issuer.type,parentSchema:d.properties.constraints.properties.subject_is_issuer,data:X};null===x?x=[J]:x.push(J),G++}if("required"!==X&&"preferred"!==X){const J={instancePath:I+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:d.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:d.properties.constraints.properties.subject_is_issuer.enum,parentSchema:d.properties.constraints.properties.subject_is_issuer,data:X};null===x?x=[J]:x.push(J),G++}}if(void 0!==R.is_holder){let X=R.is_holder;if(Array.isArray(X)){const J=X.length;for(let ye=0;ye<J;ye++){let U=X[ye];if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0===U.field_id){const Y={instancePath:I+"/constraints/is_holder/"+ye,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:d.properties.constraints.properties.is_holder.items.required,parentSchema:d.properties.constraints.properties.is_holder.items,data:U};null===x?x=[Y]:x.push(Y),G++}if(void 0===U.directive){const Y={instancePath:I+"/constraints/is_holder/"+ye,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:d.properties.constraints.properties.is_holder.items.required,parentSchema:d.properties.constraints.properties.is_holder.items,data:U};null===x?x=[Y]:x.push(Y),G++}for(const Y in U)if("field_id"!==Y&&"directive"!==Y){const ce={instancePath:I+"/constraints/is_holder/"+ye,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Y},message:"must NOT have additional properties",schema:!1,parentSchema:d.properties.constraints.properties.is_holder.items,data:U};null===x?x=[ce]:x.push(ce),G++}if(void 0!==U.field_id){let Y=U.field_id;if(Array.isArray(Y)){const ce=Y.length;for(let we=0;we<ce;we++){let $e=Y[we];if("string"!=typeof $e){const g={instancePath:I+"/constraints/is_holder/"+ye+"/field_id/"+we,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:d.properties.constraints.properties.is_holder.items.properties.field_id.items,data:$e};null===x?x=[g]:x.push(g),G++}}}else{const ce={instancePath:I+"/constraints/is_holder/"+ye+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:d.properties.constraints.properties.is_holder.items.properties.field_id,data:Y};null===x?x=[ce]:x.push(ce),G++}}if(void 0!==U.directive){let Y=U.directive;if("string"!=typeof Y){const ce={instancePath:I+"/constraints/is_holder/"+ye+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:d.properties.constraints.properties.is_holder.items.properties.directive,data:Y};null===x?x=[ce]:x.push(ce),G++}if("required"!==Y&&"preferred"!==Y){const ce={instancePath:I+"/constraints/is_holder/"+ye+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:d.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:d.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:d.properties.constraints.properties.is_holder.items.properties.directive,data:Y};null===x?x=[ce]:x.push(ce),G++}}}else{const Y={instancePath:I+"/constraints/is_holder/"+ye,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties.constraints.properties.is_holder.items.type,parentSchema:d.properties.constraints.properties.is_holder.items,data:U};null===x?x=[Y]:x.push(Y),G++}}}else{const J={instancePath:I+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.constraints.properties.is_holder.type,parentSchema:d.properties.constraints.properties.is_holder,data:X};null===x?x=[J]:x.push(J),G++}}if(void 0!==R.same_subject){let X=R.same_subject;if(Array.isArray(X)){const J=X.length;for(let ye=0;ye<J;ye++){let U=X[ye];if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0===U.field_id){const Y={instancePath:I+"/constraints/same_subject/"+ye,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:d.properties.constraints.properties.same_subject.items.required,parentSchema:d.properties.constraints.properties.same_subject.items,data:U};null===x?x=[Y]:x.push(Y),G++}if(void 0===U.directive){const Y={instancePath:I+"/constraints/same_subject/"+ye,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:d.properties.constraints.properties.same_subject.items.required,parentSchema:d.properties.constraints.properties.same_subject.items,data:U};null===x?x=[Y]:x.push(Y),G++}for(const Y in U)if("field_id"!==Y&&"directive"!==Y){const ce={instancePath:I+"/constraints/same_subject/"+ye,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Y},message:"must NOT have additional properties",schema:!1,parentSchema:d.properties.constraints.properties.same_subject.items,data:U};null===x?x=[ce]:x.push(ce),G++}if(void 0!==U.field_id){let Y=U.field_id;if(Array.isArray(Y)){const ce=Y.length;for(let we=0;we<ce;we++){let $e=Y[we];if("string"!=typeof $e){const g={instancePath:I+"/constraints/same_subject/"+ye+"/field_id/"+we,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:d.properties.constraints.properties.same_subject.items.properties.field_id.items,data:$e};null===x?x=[g]:x.push(g),G++}}}else{const ce={instancePath:I+"/constraints/same_subject/"+ye+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:d.properties.constraints.properties.same_subject.items.properties.field_id,data:Y};null===x?x=[ce]:x.push(ce),G++}}if(void 0!==U.directive){let Y=U.directive;if("string"!=typeof Y){const ce={instancePath:I+"/constraints/same_subject/"+ye+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:d.properties.constraints.properties.same_subject.items.properties.directive,data:Y};null===x?x=[ce]:x.push(ce),G++}if("required"!==Y&&"preferred"!==Y){const ce={instancePath:I+"/constraints/same_subject/"+ye+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:d.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:d.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:d.properties.constraints.properties.same_subject.items.properties.directive,data:Y};null===x?x=[ce]:x.push(ce),G++}}}else{const Y={instancePath:I+"/constraints/same_subject/"+ye,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties.constraints.properties.same_subject.items.type,parentSchema:d.properties.constraints.properties.same_subject.items,data:U};null===x?x=[Y]:x.push(Y),G++}}}else{const J={instancePath:I+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.constraints.properties.same_subject.type,parentSchema:d.properties.constraints.properties.same_subject,data:X};null===x?x=[J]:x.push(J),G++}}}else{const X={instancePath:I+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties.constraints.type,parentSchema:d.properties.constraints,data:R};null===x?x=[X]:x.push(X),G++}}}else{const R={instancePath:I,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.type,parentSchema:d,data:F};null===x?x=[R]:x.push(R),G++}return B.errors=x,0===G}function k(F,{instancePath:I="",rootData:oe=F}={}){let x=null,G=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0!==F.presentation_definition){let R=F.presentation_definition;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.id){const X={instancePath:I+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:p.properties.presentation_definition.required,parentSchema:p.properties.presentation_definition,data:R};null===x?x=[X]:x.push(X),G++}if(void 0===R.input_descriptors){const X={instancePath:I+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:p.properties.presentation_definition.required,parentSchema:p.properties.presentation_definition,data:R};null===x?x=[X]:x.push(X),G++}for(const X in R)if("id"!==X&&"name"!==X&&"purpose"!==X&&"format"!==X&&"submission_requirements"!==X&&"input_descriptors"!==X){const J={instancePath:I+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:X},message:"must NOT have additional properties",schema:!1,parentSchema:p.properties.presentation_definition,data:R};null===x?x=[J]:x.push(J),G++}if(void 0!==R.id){let X=R.id;if("string"!=typeof X){const J={instancePath:I+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.presentation_definition.properties.id.type,parentSchema:p.properties.presentation_definition.properties.id,data:X};null===x?x=[J]:x.push(J),G++}}if(void 0!==R.name){let X=R.name;if("string"!=typeof X){const J={instancePath:I+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.presentation_definition.properties.name.type,parentSchema:p.properties.presentation_definition.properties.name,data:X};null===x?x=[J]:x.push(J),G++}}if(void 0!==R.purpose){let X=R.purpose;if("string"!=typeof X){const J={instancePath:I+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:p.properties.presentation_definition.properties.purpose.type,parentSchema:p.properties.presentation_definition.properties.purpose,data:X};null===x?x=[J]:x.push(J),G++}}if(void 0!==R.format&&(E(R.format,{instancePath:I+"/presentation_definition/format",parentData:R,parentDataProperty:"format",rootData:oe})||(x=null===x?E.errors:x.concat(E.errors),G=x.length)),void 0!==R.submission_requirements){let X=R.submission_requirements;if(Array.isArray(X)){const J=X.length;for(let ye=0;ye<J;ye++)i(X[ye],{instancePath:I+"/presentation_definition/submission_requirements/"+ye,parentData:X,parentDataProperty:ye,rootData:oe})||(x=null===x?i.errors:x.concat(i.errors),G=x.length)}else{const J={instancePath:I+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:p.properties.presentation_definition.properties.submission_requirements.type,parentSchema:p.properties.presentation_definition.properties.submission_requirements,data:X};null===x?x=[J]:x.push(J),G++}}if(void 0!==R.input_descriptors){let X=R.input_descriptors;if(Array.isArray(X)){const J=X.length;for(let ye=0;ye<J;ye++)B(X[ye],{instancePath:I+"/presentation_definition/input_descriptors/"+ye,parentData:X,parentDataProperty:ye,rootData:oe})||(x=null===x?B.errors:x.concat(B.errors),G=x.length)}else{const J={instancePath:I+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:p.properties.presentation_definition.properties.input_descriptors.type,parentSchema:p.properties.presentation_definition.properties.input_descriptors,data:X};null===x?x=[J]:x.push(J),G++}}}else{const X={instancePath:I+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:p.properties.presentation_definition.type,parentSchema:p.properties.presentation_definition,data:R};null===x?x=[X]:x.push(X),G++}}}else{const R={instancePath:I,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:p.type,parentSchema:p,data:F};null===x?x=[R]:x.push(R),G++}return k.errors=x,0===G}},93046:(q,p,s)=>{"use strict";q.exports=ye,q.exports.default=ye;const h={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},format:{type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},frame:{type:"object",additionalProperties:!0},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},y={type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},D=new RegExp("^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$","u"),w=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),E=new RegExp("^di_vc$|^di_vp$|^di$","u"),f=new RegExp("additionalProperties","u");function l(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if(U&&"object"==typeof U&&!Array.isArray(U)){for(const W in U)if(!("vc+sd-jwt"===W||D.test(W)||w.test(W)||E.test(W)||f.test(W))){const K={instancePath:Y,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties",schema:!1,parentSchema:y,data:U};null===g?g=[K]:g.push(K),T++}if(void 0!==U["vc+sd-jwt"]){let W=U["vc+sd-jwt"];if(W&&"object"==typeof W&&!Array.isArray(W)){for(const K in W)if("sd-jwt_alg_values"!==K&&"kb-jwt_alg_values"!==K){const Q={instancePath:Y+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties",schema:!1,parentSchema:y.properties["vc+sd-jwt"],data:W};null===g?g=[Q]:g.push(Q),T++}if(void 0!==W["sd-jwt_alg_values"]){let K=W["sd-jwt_alg_values"];if(Array.isArray(K)){if(K.length<1){const le={instancePath:Y+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:y.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:K};null===g?g=[le]:g.push(le),T++}const Q=K.length;for(let le=0;le<Q;le++){let pe=K[le];if("string"!=typeof pe){const Ee={instancePath:Y+"/vc+sd-jwt/sd-jwt_alg_values/"+le,schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items.type,parentSchema:y.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}}else{const Q={instancePath:Y+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].type,parentSchema:y.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W["kb-jwt_alg_values"]){let K=W["kb-jwt_alg_values"];if(Array.isArray(K)){if(K.length<1){const le={instancePath:Y+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:y.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:K};null===g?g=[le]:g.push(le),T++}const Q=K.length;for(let le=0;le<Q;le++){let pe=K[le];if("string"!=typeof pe){const Ee={instancePath:Y+"/vc+sd-jwt/kb-jwt_alg_values/"+le,schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items.type,parentSchema:y.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}}else{const Q={instancePath:Y+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].type,parentSchema:y.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:K};null===g?g=[Q]:g.push(Q),T++}}}else{const K={instancePath:Y+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.properties["vc+sd-jwt"].type,parentSchema:y.properties["vc+sd-jwt"],data:W};null===g?g=[K]:g.push(K),T++}}for(const W in U)if(D.test(W)){let K=U[W];if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.alg){const Q={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:y.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].required,parentSchema:y.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:K};null===g?g=[Q]:g.push(Q),T++}for(const Q in K)if("alg"!==Q){const le={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:y.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:K};null===g?g=[le]:g.push(le),T++}if(void 0!==K.alg){let Q=K.alg;if(Array.isArray(Q)){if(Q.length<1){const pe={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:y.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg,data:Q};null===g?g=[pe]:g.push(pe),T++}const le=Q.length;for(let pe=0;pe<le;pe++){let Ee=Q[pe];if("string"!=typeof Ee){const he={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+pe,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.items.type,parentSchema:y.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.items,data:Ee};null===g?g=[he]:g.push(he),T++}}}else{const le={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.type,parentSchema:y.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg,data:Q};null===g?g=[le]:g.push(le),T++}}}else{const Q={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].type,parentSchema:y.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:K};null===g?g=[Q]:g.push(Q),T++}}for(const W in U)if(w.test(W)){let K=U[W];if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.proof_type){const Q={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:y.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:y.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:K};null===g?g=[Q]:g.push(Q),T++}for(const Q in K)if("proof_type"!==Q){const le={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:y.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:K};null===g?g=[le]:g.push(le),T++}if(void 0!==K.proof_type){let Q=K.proof_type;if(Array.isArray(Q)){if(Q.length<1){const pe={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:y.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:Q};null===g?g=[pe]:g.push(pe),T++}const le=Q.length;for(let pe=0;pe<le;pe++){let Ee=Q[pe];if("string"!=typeof Ee){const he={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+pe,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:y.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:Ee};null===g?g=[he]:g.push(he),T++}}}else{const le={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:y.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:Q};null===g?g=[le]:g.push(le),T++}}}else{const Q={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:y.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:K};null===g?g=[Q]:g.push(Q),T++}}for(const W in U)if(E.test(W)){let K=U[W];if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.proof_type){const Q={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:y.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:y.patternProperties["^di_vc$|^di_vp$|^di$"],data:K};null===g?g=[Q]:g.push(Q),T++}if(void 0===K.cryptosuite){const Q={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"cryptosuite"},message:"must have required property 'cryptosuite'",schema:y.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:y.patternProperties["^di_vc$|^di_vp$|^di$"],data:K};null===g?g=[Q]:g.push(Q),T++}for(const Q in K)if("proof_type"!==Q&&"cryptosuite"!==Q){const le={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:y.patternProperties["^di_vc$|^di_vp$|^di$"],data:K};null===g?g=[le]:g.push(le),T++}if(void 0!==K.proof_type){let Q=K.proof_type;if(Array.isArray(Q)){if(Q.length<1){const pe={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:y.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:Q};null===g?g=[pe]:g.push(pe),T++}const le=Q.length;for(let pe=0;pe<le;pe++){let Ee=Q[pe];if("string"!=typeof Ee){const he={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+pe,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items.type,parentSchema:y.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items,data:Ee};null===g?g=[he]:g.push(he),T++}}}else{const le={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.type,parentSchema:y.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:Q};null===g?g=[le]:g.push(le),T++}}if(void 0!==K.cryptosuite){let Q=K.cryptosuite;if(Array.isArray(Q)){if(Q.length<1){const pe={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:y.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:Q};null===g?g=[pe]:g.push(pe),T++}const le=Q.length;for(let pe=0;pe<le;pe++){let Ee=Q[pe];if("string"!=typeof Ee){const he={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite/"+pe,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items.type,parentSchema:y.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items,data:Ee};null===g?g=[he]:g.push(he),T++}}}else{const le={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.type,parentSchema:y.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:Q};null===g?g=[le]:g.push(le),T++}}}else{const Q={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.patternProperties["^di_vc$|^di_vp$|^di$"].type,parentSchema:y.patternProperties["^di_vc$|^di_vp$|^di$"],data:K};null===g?g=[Q]:g.push(Q),T++}}for(const W in U)if(f.test(W)){const K={instancePath:Y+"/"+W.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:y.patternProperties.additionalProperties,data:U[W]};null===g?g=[K]:g.push(K),T++}}else{const W={instancePath:Y,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.type,parentSchema:y,data:U};null===g?g=[W]:g.push(W),T++}return l.errors=g,0===T}const i={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},d={validate:o};function o(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if(!U||"object"!=typeof U||Array.isArray(U)){const he={instancePath:Y,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.type,parentSchema:i,data:U};null===g?g=[he]:g.push(he),T++}const W=T;let K=!1,Q=null;const le=T;if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0===U.rule){const he={instancePath:Y,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:i.oneOf[0].required,parentSchema:i.oneOf[0],data:U};null===g?g=[he]:g.push(he),T++}if(void 0===U.from){const he={instancePath:Y,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:i.oneOf[0].required,parentSchema:i.oneOf[0],data:U};null===g?g=[he]:g.push(he),T++}for(const he in U)if("name"!==he&&"purpose"!==he&&"rule"!==he&&"count"!==he&&"min"!==he&&"max"!==he&&"from"!==he){const De={instancePath:Y,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:he},message:"must NOT have additional properties",schema:!1,parentSchema:i.oneOf[0],data:U};null===g?g=[De]:g.push(De),T++}if(void 0!==U.name){let he=U.name;if("string"!=typeof he){const De={instancePath:Y+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[0].properties.name.type,parentSchema:i.oneOf[0].properties.name,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.purpose){let he=U.purpose;if("string"!=typeof he){const De={instancePath:Y+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[0].properties.purpose.type,parentSchema:i.oneOf[0].properties.purpose,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.rule){let he=U.rule;if("string"!=typeof he){const De={instancePath:Y+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[0].properties.rule.type,parentSchema:i.oneOf[0].properties.rule,data:he};null===g?g=[De]:g.push(De),T++}if("all"!==he&&"pick"!==he){const De={instancePath:Y+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:i.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:i.oneOf[0].properties.rule.enum,parentSchema:i.oneOf[0].properties.rule,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.count){let he=U.count;if("number"!=typeof he||he%1||isNaN(he)){const De={instancePath:Y+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[0].properties.count.type,parentSchema:i.oneOf[0].properties.count,data:he};null===g?g=[De]:g.push(De),T++}if("number"==typeof he&&(he<1||isNaN(he))){const De={instancePath:Y+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:i.oneOf[0].properties.count,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.min){let he=U.min;if("number"!=typeof he||he%1||isNaN(he)){const De={instancePath:Y+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[0].properties.min.type,parentSchema:i.oneOf[0].properties.min,data:he};null===g?g=[De]:g.push(De),T++}if("number"==typeof he&&(he<0||isNaN(he))){const De={instancePath:Y+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:i.oneOf[0].properties.min,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.max){let he=U.max;if("number"!=typeof he||he%1||isNaN(he)){const De={instancePath:Y+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[0].properties.max.type,parentSchema:i.oneOf[0].properties.max,data:he};null===g?g=[De]:g.push(De),T++}if("number"==typeof he&&(he<0||isNaN(he))){const De={instancePath:Y+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:i.oneOf[0].properties.max,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.from){let he=U.from;if("string"!=typeof he){const De={instancePath:Y+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[0].properties.from.type,parentSchema:i.oneOf[0].properties.from,data:he};null===g?g=[De]:g.push(De),T++}}}le===T&&(K=!0,Q=0);const pe=T;if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0===U.rule){const he={instancePath:Y,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:i.oneOf[1].required,parentSchema:i.oneOf[1],data:U};null===g?g=[he]:g.push(he),T++}if(void 0===U.from_nested){const he={instancePath:Y,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:i.oneOf[1].required,parentSchema:i.oneOf[1],data:U};null===g?g=[he]:g.push(he),T++}for(const he in U)if("name"!==he&&"purpose"!==he&&"rule"!==he&&"count"!==he&&"min"!==he&&"max"!==he&&"from_nested"!==he){const De={instancePath:Y,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:he},message:"must NOT have additional properties",schema:!1,parentSchema:i.oneOf[1],data:U};null===g?g=[De]:g.push(De),T++}if(void 0!==U.name){let he=U.name;if("string"!=typeof he){const De={instancePath:Y+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[1].properties.name.type,parentSchema:i.oneOf[1].properties.name,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.purpose){let he=U.purpose;if("string"!=typeof he){const De={instancePath:Y+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[1].properties.purpose.type,parentSchema:i.oneOf[1].properties.purpose,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.rule){let he=U.rule;if("string"!=typeof he){const De={instancePath:Y+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.oneOf[1].properties.rule.type,parentSchema:i.oneOf[1].properties.rule,data:he};null===g?g=[De]:g.push(De),T++}if("all"!==he&&"pick"!==he){const De={instancePath:Y+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:i.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:i.oneOf[1].properties.rule.enum,parentSchema:i.oneOf[1].properties.rule,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.count){let he=U.count;if("number"!=typeof he||he%1||isNaN(he)){const De={instancePath:Y+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[1].properties.count.type,parentSchema:i.oneOf[1].properties.count,data:he};null===g?g=[De]:g.push(De),T++}if("number"==typeof he&&(he<1||isNaN(he))){const De={instancePath:Y+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:i.oneOf[1].properties.count,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.min){let he=U.min;if("number"!=typeof he||he%1||isNaN(he)){const De={instancePath:Y+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[1].properties.min.type,parentSchema:i.oneOf[1].properties.min,data:he};null===g?g=[De]:g.push(De),T++}if("number"==typeof he&&(he<0||isNaN(he))){const De={instancePath:Y+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:i.oneOf[1].properties.min,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.max){let he=U.max;if("number"!=typeof he||he%1||isNaN(he)){const De={instancePath:Y+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:i.oneOf[1].properties.max.type,parentSchema:i.oneOf[1].properties.max,data:he};null===g?g=[De]:g.push(De),T++}if("number"==typeof he&&(he<0||isNaN(he))){const De={instancePath:Y+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:i.oneOf[1].properties.max,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.from_nested){let he=U.from_nested;if(Array.isArray(he)){if(he.length<1){const Ge={instancePath:Y+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:i.oneOf[1].properties.from_nested,data:he};null===g?g=[Ge]:g.push(Ge),T++}const De=he.length;for(let Ge=0;Ge<De;Ge++)d.validate(he[Ge],{instancePath:Y+"/from_nested/"+Ge,parentData:he,parentDataProperty:Ge,rootData:$e})||(g=null===g?d.validate.errors:g.concat(d.validate.errors),T=g.length)}else{const De={instancePath:Y+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.oneOf[1].properties.from_nested.type,parentSchema:i.oneOf[1].properties.from_nested,data:he};null===g?g=[De]:g.push(De),T++}}}var Ee;if((Ee=pe===T)&&K?(K=!1,Q=[Q,1]):Ee&&(K=!0,Q=1),K)T=W,null!==g&&(W?g.length=W:g=null);else{const he={instancePath:Y,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:Q},message:"must match exactly one schema in oneOf",schema:i.oneOf,parentSchema:i,data:U};null===g?g=[he]:g.push(he),T++}return o.errors=g,0===T}const a={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},v={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function b(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0!==U.manifest){let W=U.manifest;if("string"!=typeof W){const K={instancePath:Y+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties.manifest.type,parentSchema:v.properties.manifest,data:W};null===g?g=[K]:g.push(K),T++}}}else{const W={instancePath:Y,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.type,parentSchema:v,data:U};null===g?g=[W]:g.push(W),T++}return b.errors=g,0===T}const m={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]},_={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},C={type:"integer",minimum:0};function S(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if("number"!=typeof U||U%1||isNaN(U)){const W={instancePath:Y,schemaPath:"#/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:C.type,parentSchema:C,data:U};null===g?g=[W]:g.push(W),T++}if("number"==typeof U&&(U<0||isNaN(U))){const W={instancePath:Y,schemaPath:"#/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:C,data:U};null===g?g=[W]:g.push(W),T++}return S.errors=g,0===T}function B(U,{instancePath:Y="",parentData:ce,parentDataProperty:we,rootData:$e=U}={}){let g=null,T=0;return S(U,{instancePath:Y,parentData:ce,parentDataProperty:we,rootData:$e})||(g=null===g?S.errors:g.concat(S.errors),T=g.length),B.errors=g,0===T}const k={type:"array",minItems:1,items:{$ref:"#"}},F={validate:R};function I(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if(Array.isArray(U)){if(U.length<1){const K={instancePath:Y,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:k,data:U};null===g?g=[K]:g.push(K),T++}const W=U.length;for(let K=0;K<W;K++)F.validate(U[K],{instancePath:Y+"/"+K,parentData:U,parentDataProperty:K,rootData:$e})||(g=null===g?F.validate.errors:g.concat(F.validate.errors),T=g.length)}else{const W={instancePath:Y,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:k.type,parentSchema:k,data:U};null===g?g=[W]:g.push(W),T++}return I.errors=g,0===T}const H={type:"array",items:{type:"string"},uniqueItems:!0,default:[]};function ne(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if(Array.isArray(U)){const W=U.length;for(let le=0;le<W;le++){let pe=U[le];if("string"!=typeof pe){const Ee={instancePath:Y+"/"+le,schemaPath:"#/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:H.items.type,parentSchema:H.items,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}let Q,K=U.length;if(K>1){const le={};for(;K--;){let pe=U[K];if("string"==typeof pe){if("number"==typeof le[pe]){Q=le[pe];const Ee={instancePath:Y,schemaPath:"#/uniqueItems",keyword:"uniqueItems",params:{i:K,j:Q},message:"must NOT have duplicate items (items ## "+Q+" and "+K+" are identical)",schema:!0,parentSchema:H,data:U};null===g?g=[Ee]:g.push(Ee),T++;break}le[pe]=K}}}}else{const W={instancePath:Y,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:H.type,parentSchema:H,data:U};null===g?g=[W]:g.push(W),T++}return ne.errors=g,0===T}const oe={enum:["array","boolean","integer","null","number","object","string"]};function x(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if("array"!==U&&"boolean"!==U&&"integer"!==U&&"null"!==U&&"number"!==U&&"object"!==U&&"string"!==U){const W={instancePath:Y,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:oe.enum},message:"must be equal to one of the allowed values",schema:oe.enum,parentSchema:oe,data:U};null===g?g=[W]:g.push(W),T++}return x.errors=g,0===T}const G=s(54195).default;function R(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if((!U||"object"!=typeof U||Array.isArray(U))&&"boolean"!=typeof U){const pe={instancePath:Y,schemaPath:"#/type",keyword:"type",params:{type:_.type},message:"must be object,boolean",schema:_.type,parentSchema:_,data:U};null===g?g=[pe]:g.push(pe),T++}if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0!==U.$id){let pe=U.$id;if("string"!=typeof pe){const Ee={instancePath:Y+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.$id.type,parentSchema:_.properties.$id,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.$schema){let pe=U.$schema;if("string"!=typeof pe){const Ee={instancePath:Y+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.$schema.type,parentSchema:_.properties.$schema,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.$ref){let pe=U.$ref;if("string"!=typeof pe){const Ee={instancePath:Y+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.$ref.type,parentSchema:_.properties.$ref,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.$comment){let pe=U.$comment;if("string"!=typeof pe){const Ee={instancePath:Y+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.$comment.type,parentSchema:_.properties.$comment,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.title){let pe=U.title;if("string"!=typeof pe){const Ee={instancePath:Y+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.title.type,parentSchema:_.properties.title,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.description){let pe=U.description;if("string"!=typeof pe){const Ee={instancePath:Y+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.description.type,parentSchema:_.properties.description,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.readOnly){let pe=U.readOnly;if("boolean"!=typeof pe){const Ee={instancePath:Y+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:_.properties.readOnly.type,parentSchema:_.properties.readOnly,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.examples){let pe=U.examples;if(!Array.isArray(pe)){const Ee={instancePath:Y+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array",schema:_.properties.examples.type,parentSchema:_.properties.examples,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.multipleOf){let pe=U.multipleOf;if("number"==typeof pe){if(pe<=0||isNaN(pe)){const Ee={instancePath:Y+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0",schema:0,parentSchema:_.properties.multipleOf,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}else{const Ee={instancePath:Y+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number",schema:_.properties.multipleOf.type,parentSchema:_.properties.multipleOf,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.maximum){let pe=U.maximum;if("number"!=typeof pe){const Ee={instancePath:Y+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:_.properties.maximum.type,parentSchema:_.properties.maximum,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.exclusiveMaximum){let pe=U.exclusiveMaximum;if("number"!=typeof pe){const Ee={instancePath:Y+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:_.properties.exclusiveMaximum.type,parentSchema:_.properties.exclusiveMaximum,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.minimum){let pe=U.minimum;if("number"!=typeof pe){const Ee={instancePath:Y+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:_.properties.minimum.type,parentSchema:_.properties.minimum,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.exclusiveMinimum){let pe=U.exclusiveMinimum;if("number"!=typeof pe){const Ee={instancePath:Y+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:_.properties.exclusiveMinimum.type,parentSchema:_.properties.exclusiveMinimum,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.maxLength&&(S(U.maxLength,{instancePath:Y+"/maxLength",parentData:U,parentDataProperty:"maxLength",rootData:$e})||(g=null===g?S.errors:g.concat(S.errors),T=g.length)),void 0!==U.minLength&&(B(U.minLength,{instancePath:Y+"/minLength",parentData:U,parentDataProperty:"minLength",rootData:$e})||(g=null===g?B.errors:g.concat(B.errors),T=g.length)),void 0!==U.pattern){let pe=U.pattern;if("string"!=typeof pe){const Ee={instancePath:Y+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.pattern.type,parentSchema:_.properties.pattern,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.additionalItems&&(R(U.additionalItems,{instancePath:Y+"/additionalItems",parentData:U,parentDataProperty:"additionalItems",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length)),void 0!==U.items){let pe=U.items;const Ee=T;let he=!1;const De=T;R(pe,{instancePath:Y+"/items",parentData:U,parentDataProperty:"items",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length);var W=De===T;if(he=he||W,!he){const Ge=T;I(pe,{instancePath:Y+"/items",parentData:U,parentDataProperty:"items",rootData:$e})||(g=null===g?I.errors:g.concat(I.errors),T=g.length),W=Ge===T,he=he||W}if(he)T=Ee,null!==g&&(Ee?g.length=Ee:g=null);else{const Ge={instancePath:Y+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:_.properties.items.anyOf,parentSchema:_.properties.items,data:pe};null===g?g=[Ge]:g.push(Ge),T++}}if(void 0!==U.maxItems&&(S(U.maxItems,{instancePath:Y+"/maxItems",parentData:U,parentDataProperty:"maxItems",rootData:$e})||(g=null===g?S.errors:g.concat(S.errors),T=g.length)),void 0!==U.minItems&&(B(U.minItems,{instancePath:Y+"/minItems",parentData:U,parentDataProperty:"minItems",rootData:$e})||(g=null===g?B.errors:g.concat(B.errors),T=g.length)),void 0!==U.uniqueItems){let pe=U.uniqueItems;if("boolean"!=typeof pe){const Ee={instancePath:Y+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:_.properties.uniqueItems.type,parentSchema:_.properties.uniqueItems,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.contains&&(R(U.contains,{instancePath:Y+"/contains",parentData:U,parentDataProperty:"contains",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length)),void 0!==U.maxProperties&&(S(U.maxProperties,{instancePath:Y+"/maxProperties",parentData:U,parentDataProperty:"maxProperties",rootData:$e})||(g=null===g?S.errors:g.concat(S.errors),T=g.length)),void 0!==U.minProperties&&(B(U.minProperties,{instancePath:Y+"/minProperties",parentData:U,parentDataProperty:"minProperties",rootData:$e})||(g=null===g?B.errors:g.concat(B.errors),T=g.length)),void 0!==U.required&&(ne(U.required,{instancePath:Y+"/required",parentData:U,parentDataProperty:"required",rootData:$e})||(g=null===g?ne.errors:g.concat(ne.errors),T=g.length)),void 0!==U.additionalProperties&&(R(U.additionalProperties,{instancePath:Y+"/additionalProperties",parentData:U,parentDataProperty:"additionalProperties",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length)),void 0!==U.definitions){let pe=U.definitions;if(pe&&"object"==typeof pe&&!Array.isArray(pe))for(const Ee in pe)R(pe[Ee],{instancePath:Y+"/definitions/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:pe,parentDataProperty:Ee,rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length);else{const Ee={instancePath:Y+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object",schema:_.properties.definitions.type,parentSchema:_.properties.definitions,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.properties){let pe=U.properties;if(pe&&"object"==typeof pe&&!Array.isArray(pe))for(const Ee in pe)R(pe[Ee],{instancePath:Y+"/properties/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:pe,parentDataProperty:Ee,rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length);else{const Ee={instancePath:Y+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:_.properties.properties.type,parentSchema:_.properties.properties,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.patternProperties){let pe=U.patternProperties;if(pe&&"object"==typeof pe&&!Array.isArray(pe)){for(const Ee in pe)if(T!=T){const De={instancePath:Y+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:Ee},message:"property name must be valid",schema:_.properties.patternProperties.propertyNames,parentSchema:_.properties.patternProperties,data:pe};null===g?g=[De]:g.push(De),T++}for(const Ee in pe)R(pe[Ee],{instancePath:Y+"/patternProperties/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:pe,parentDataProperty:Ee,rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length)}else{const Ee={instancePath:Y+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:_.properties.patternProperties.type,parentSchema:_.properties.patternProperties,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.dependencies){let pe=U.dependencies;if(pe&&"object"==typeof pe&&!Array.isArray(pe))for(const Ee in pe){let he=pe[Ee];const De=T;let Ge=!1;const Pe=T;R(he,{instancePath:Y+"/dependencies/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:pe,parentDataProperty:Ee,rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length);var Q=Pe===T;if(Ge=Ge||Q,!Ge){const Oe=T;ne(he,{instancePath:Y+"/dependencies/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:pe,parentDataProperty:Ee,rootData:$e})||(g=null===g?ne.errors:g.concat(ne.errors),T=g.length),Q=Oe===T,Ge=Ge||Q}if(Ge)T=De,null!==g&&(De?g.length=De:g=null);else{const Oe={instancePath:Y+"/dependencies/"+Ee.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:_.properties.dependencies.additionalProperties.anyOf,parentSchema:_.properties.dependencies.additionalProperties,data:he};null===g?g=[Oe]:g.push(Oe),T++}}else{const Ee={instancePath:Y+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object",schema:_.properties.dependencies.type,parentSchema:_.properties.dependencies,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.propertyNames&&(R(U.propertyNames,{instancePath:Y+"/propertyNames",parentData:U,parentDataProperty:"propertyNames",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length)),void 0!==U.enum){let pe=U.enum;if(Array.isArray(pe)){if(pe.length<1){const De={instancePath:Y+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:_.properties.enum,data:pe};null===g?g=[De]:g.push(De),T++}let he,Ee=pe.length;if(Ee>1)e:for(;Ee--;)for(he=Ee;he--;)if(G(pe[Ee],pe[he])){const De={instancePath:Y+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:Ee,j:he},message:"must NOT have duplicate items (items ## "+he+" and "+Ee+" are identical)",schema:!0,parentSchema:_.properties.enum,data:pe};null===g?g=[De]:g.push(De),T++;break e}}else{const Ee={instancePath:Y+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:_.properties.enum.type,parentSchema:_.properties.enum,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.type){let pe=U.type;const Ee=T;let he=!1;const De=T;x(pe,{instancePath:Y+"/type",parentData:U,parentDataProperty:"type",rootData:$e})||(g=null===g?x.errors:g.concat(x.errors),T=g.length);var le=De===T;if(he=he||le,!he){const Ge=T;if(Array.isArray(pe)){if(pe.length<1){const ge={instancePath:Y+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:_.properties.type.anyOf[1],data:pe};null===g?g=[ge]:g.push(ge),T++}const Oe=pe.length;for(let ge=0;ge<Oe;ge++)x(pe[ge],{instancePath:Y+"/type/"+ge,parentData:pe,parentDataProperty:ge,rootData:$e})||(g=null===g?x.errors:g.concat(x.errors),T=g.length);let be,me=pe.length;if(me>1)e:for(;me--;)for(be=me;be--;)if(G(pe[me],pe[be])){const ge={instancePath:Y+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:me,j:be},message:"must NOT have duplicate items (items ## "+be+" and "+me+" are identical)",schema:!0,parentSchema:_.properties.type.anyOf[1],data:pe};null===g?g=[ge]:g.push(ge),T++;break e}}else{const Oe={instancePath:Y+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:_.properties.type.anyOf[1].type,parentSchema:_.properties.type.anyOf[1],data:pe};null===g?g=[Oe]:g.push(Oe),T++}le=Ge===T,he=he||le}if(he)T=Ee,null!==g&&(Ee?g.length=Ee:g=null);else{const Ge={instancePath:Y+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:_.properties.type.anyOf,parentSchema:_.properties.type,data:pe};null===g?g=[Ge]:g.push(Ge),T++}}if(void 0!==U.format){let pe=U.format;if("string"!=typeof pe){const Ee={instancePath:Y+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.format.type,parentSchema:_.properties.format,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.contentMediaType){let pe=U.contentMediaType;if("string"!=typeof pe){const Ee={instancePath:Y+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.contentMediaType.type,parentSchema:_.properties.contentMediaType,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}if(void 0!==U.contentEncoding){let pe=U.contentEncoding;if("string"!=typeof pe){const Ee={instancePath:Y+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.contentEncoding.type,parentSchema:_.properties.contentEncoding,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}void 0!==U.if&&(R(U.if,{instancePath:Y+"/if",parentData:U,parentDataProperty:"if",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length)),void 0!==U.then&&(R(U.then,{instancePath:Y+"/then",parentData:U,parentDataProperty:"then",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length)),void 0!==U.else&&(R(U.else,{instancePath:Y+"/else",parentData:U,parentDataProperty:"else",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length)),void 0!==U.allOf&&(I(U.allOf,{instancePath:Y+"/allOf",parentData:U,parentDataProperty:"allOf",rootData:$e})||(g=null===g?I.errors:g.concat(I.errors),T=g.length)),void 0!==U.anyOf&&(I(U.anyOf,{instancePath:Y+"/anyOf",parentData:U,parentDataProperty:"anyOf",rootData:$e})||(g=null===g?I.errors:g.concat(I.errors),T=g.length)),void 0!==U.oneOf&&(I(U.oneOf,{instancePath:Y+"/oneOf",parentData:U,parentDataProperty:"oneOf",rootData:$e})||(g=null===g?I.errors:g.concat(I.errors),T=g.length)),void 0!==U.not&&(R(U.not,{instancePath:Y+"/not",parentData:U,parentDataProperty:"not",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length))}return R.errors=g,0===T}function X(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if(!U||"object"!=typeof U||Array.isArray(U)){const he={instancePath:Y,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:m.type,parentSchema:m,data:U};null===g?g=[he]:g.push(he),T++}const W=T;let K=!1,Q=null;const le=T;if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0===U.path){const he={instancePath:Y,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:m.oneOf[0].required,parentSchema:m.oneOf[0],data:U};null===g?g=[he]:g.push(he),T++}for(const he in U)if("id"!==he&&"path"!==he&&"purpose"!==he&&"intent_to_retain"!==he&&"filter"!==he&&"name"!==he){const De={instancePath:Y,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:he},message:"must NOT have additional properties",schema:!1,parentSchema:m.oneOf[0],data:U};null===g?g=[De]:g.push(De),T++}if(void 0!==U.id){let he=U.id;if("string"!=typeof he){const De={instancePath:Y+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[0].properties.id.type,parentSchema:m.oneOf[0].properties.id,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.path){let he=U.path;if(Array.isArray(he)){const De=he.length;for(let Ge=0;Ge<De;Ge++){let Pe=he[Ge];if("string"!=typeof Pe){const Oe={instancePath:Y+"/path/"+Ge,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[0].properties.path.items.type,parentSchema:m.oneOf[0].properties.path.items,data:Pe};null===g?g=[Oe]:g.push(Oe),T++}}}else{const De={instancePath:Y+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:m.oneOf[0].properties.path.type,parentSchema:m.oneOf[0].properties.path,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.purpose){let he=U.purpose;if("string"!=typeof he){const De={instancePath:Y+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[0].properties.purpose.type,parentSchema:m.oneOf[0].properties.purpose,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.intent_to_retain){let he=U.intent_to_retain;if("boolean"!=typeof he){const De={instancePath:Y+"/intent_to_retain",schemaPath:"#/oneOf/0/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:m.oneOf[0].properties.intent_to_retain.type,parentSchema:m.oneOf[0].properties.intent_to_retain,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.filter&&(R(U.filter,{instancePath:Y+"/filter",parentData:U,parentDataProperty:"filter",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length)),void 0!==U.name){let he=U.name;if("string"!=typeof he){const De={instancePath:Y+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[0].properties.name.type,parentSchema:m.oneOf[0].properties.name,data:he};null===g?g=[De]:g.push(De),T++}}}le===T&&(K=!0,Q=0);const pe=T;if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0===U.path){const he={instancePath:Y,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:m.oneOf[1].required,parentSchema:m.oneOf[1],data:U};null===g?g=[he]:g.push(he),T++}if(void 0===U.filter){const he={instancePath:Y,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:m.oneOf[1].required,parentSchema:m.oneOf[1],data:U};null===g?g=[he]:g.push(he),T++}if(void 0===U.predicate){const he={instancePath:Y,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:m.oneOf[1].required,parentSchema:m.oneOf[1],data:U};null===g?g=[he]:g.push(he),T++}for(const he in U)if("id"!==he&&"path"!==he&&"purpose"!==he&&"intent_to_retain"!==he&&"filter"!==he&&"predicate"!==he&&"name"!==he){const De={instancePath:Y,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:he},message:"must NOT have additional properties",schema:!1,parentSchema:m.oneOf[1],data:U};null===g?g=[De]:g.push(De),T++}if(void 0!==U.id){let he=U.id;if("string"!=typeof he){const De={instancePath:Y+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[1].properties.id.type,parentSchema:m.oneOf[1].properties.id,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.path){let he=U.path;if(Array.isArray(he)){const De=he.length;for(let Ge=0;Ge<De;Ge++){let Pe=he[Ge];if("string"!=typeof Pe){const Oe={instancePath:Y+"/path/"+Ge,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[1].properties.path.items.type,parentSchema:m.oneOf[1].properties.path.items,data:Pe};null===g?g=[Oe]:g.push(Oe),T++}}}else{const De={instancePath:Y+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:m.oneOf[1].properties.path.type,parentSchema:m.oneOf[1].properties.path,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.purpose){let he=U.purpose;if("string"!=typeof he){const De={instancePath:Y+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[1].properties.purpose.type,parentSchema:m.oneOf[1].properties.purpose,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.intent_to_retain){let he=U.intent_to_retain;if("boolean"!=typeof he){const De={instancePath:Y+"/intent_to_retain",schemaPath:"#/oneOf/1/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:m.oneOf[1].properties.intent_to_retain.type,parentSchema:m.oneOf[1].properties.intent_to_retain,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.filter&&(R(U.filter,{instancePath:Y+"/filter",parentData:U,parentDataProperty:"filter",rootData:$e})||(g=null===g?R.errors:g.concat(R.errors),T=g.length)),void 0!==U.predicate){let he=U.predicate;if("string"!=typeof he){const De={instancePath:Y+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[1].properties.predicate.type,parentSchema:m.oneOf[1].properties.predicate,data:he};null===g?g=[De]:g.push(De),T++}if("required"!==he&&"preferred"!==he){const De={instancePath:Y+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:m.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:m.oneOf[1].properties.predicate.enum,parentSchema:m.oneOf[1].properties.predicate,data:he};null===g?g=[De]:g.push(De),T++}}if(void 0!==U.name){let he=U.name;if("string"!=typeof he){const De={instancePath:Y+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.oneOf[1].properties.name.type,parentSchema:m.oneOf[1].properties.name,data:he};null===g?g=[De]:g.push(De),T++}}}var Ee;if((Ee=pe===T)&&K?(K=!1,Q=[Q,1]):Ee&&(K=!0,Q=1),K)T=W,null!==g&&(W?g.length=W:g=null);else{const he={instancePath:Y,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:Q},message:"must match exactly one schema in oneOf",schema:m.oneOf,parentSchema:m,data:U};null===g?g=[he]:g.push(he),T++}return X.errors=g,0===T}function J(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0===U.id){const W={instancePath:Y,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:a.required,parentSchema:a,data:U};null===g?g=[W]:g.push(W),T++}for(const W in U)if("id"!==W&&"name"!==W&&"purpose"!==W&&"issuance"!==W&&"group"!==W&&"format"!==W&&"constraints"!==W){const K={instancePath:Y,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties",schema:!1,parentSchema:a,data:U};null===g?g=[K]:g.push(K),T++}if(void 0!==U.id){let W=U.id;if("string"!=typeof W){const K={instancePath:Y+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.id.type,parentSchema:a.properties.id,data:W};null===g?g=[K]:g.push(K),T++}}if(void 0!==U.name){let W=U.name;if("string"!=typeof W){const K={instancePath:Y+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.name.type,parentSchema:a.properties.name,data:W};null===g?g=[K]:g.push(K),T++}}if(void 0!==U.purpose){let W=U.purpose;if("string"!=typeof W){const K={instancePath:Y+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.purpose.type,parentSchema:a.properties.purpose,data:W};null===g?g=[K]:g.push(K),T++}}if(void 0!==U.issuance){let W=U.issuance;if(Array.isArray(W)){const K=W.length;for(let Q=0;Q<K;Q++)b(W[Q],{instancePath:Y+"/issuance/"+Q,parentData:W,parentDataProperty:Q,rootData:$e})||(g=null===g?b.errors:g.concat(b.errors),T=g.length)}else{const K={instancePath:Y+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.issuance.type,parentSchema:a.properties.issuance,data:W};null===g?g=[K]:g.push(K),T++}}if(void 0!==U.group){let W=U.group;if(Array.isArray(W)){const K=W.length;for(let Q=0;Q<K;Q++){let le=W[Q];if("string"!=typeof le){const pe={instancePath:Y+"/group/"+Q,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.group.items.type,parentSchema:a.properties.group.items,data:le};null===g?g=[pe]:g.push(pe),T++}}}else{const K={instancePath:Y+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.group.type,parentSchema:a.properties.group,data:W};null===g?g=[K]:g.push(K),T++}}if(void 0!==U.format&&(l(U.format,{instancePath:Y+"/format",parentData:U,parentDataProperty:"format",rootData:$e})||(g=null===g?l.errors:g.concat(l.errors),T=g.length)),void 0!==U.constraints){let W=U.constraints;if(W&&"object"==typeof W&&!Array.isArray(W)){for(const K in W)if("limit_disclosure"!==K&&"statuses"!==K&&"fields"!==K&&"subject_is_issuer"!==K&&"is_holder"!==K&&"same_subject"!==K){const Q={instancePath:Y+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties",schema:!1,parentSchema:a.properties.constraints,data:W};null===g?g=[Q]:g.push(Q),T++}if(void 0!==W.limit_disclosure){let K=W.limit_disclosure;if("string"!=typeof K){const Q={instancePath:Y+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.limit_disclosure.type,parentSchema:a.properties.constraints.properties.limit_disclosure,data:K};null===g?g=[Q]:g.push(Q),T++}if("required"!==K&&"preferred"!==K){const Q={instancePath:Y+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.limit_disclosure.enum,parentSchema:a.properties.constraints.properties.limit_disclosure,data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W.statuses){let K=W.statuses;if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0!==K.active){let Q=K.active;if(Q&&"object"==typeof Q&&!Array.isArray(Q)){if(void 0!==Q.directive){let le=Q.directive;if("string"!=typeof le){const pe={instancePath:Y+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:a.properties.constraints.properties.statuses.properties.active.properties.directive,data:le};null===g?g=[pe]:g.push(pe),T++}if("required"!==le&&"allowed"!==le&&"disallowed"!==le){const pe={instancePath:Y+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:a.properties.constraints.properties.statuses.properties.active.properties.directive,data:le};null===g?g=[pe]:g.push(pe),T++}}}else{const le={instancePath:Y+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.statuses.properties.active.type,parentSchema:a.properties.constraints.properties.statuses.properties.active,data:Q};null===g?g=[le]:g.push(le),T++}}if(void 0!==K.suspended){let Q=K.suspended;if(Q&&"object"==typeof Q&&!Array.isArray(Q)){if(void 0!==Q.directive){let le=Q.directive;if("string"!=typeof le){const pe={instancePath:Y+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:a.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:le};null===g?g=[pe]:g.push(pe),T++}if("required"!==le&&"allowed"!==le&&"disallowed"!==le){const pe={instancePath:Y+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:a.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:le};null===g?g=[pe]:g.push(pe),T++}}}else{const le={instancePath:Y+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:a.properties.constraints.properties.statuses.properties.suspended,data:Q};null===g?g=[le]:g.push(le),T++}}if(void 0!==K.revoked){let Q=K.revoked;if(Q&&"object"==typeof Q&&!Array.isArray(Q)){if(void 0!==Q.directive){let le=Q.directive;if("string"!=typeof le){const pe={instancePath:Y+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:a.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:le};null===g?g=[pe]:g.push(pe),T++}if("required"!==le&&"allowed"!==le&&"disallowed"!==le){const pe={instancePath:Y+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:a.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:le};null===g?g=[pe]:g.push(pe),T++}}}else{const le={instancePath:Y+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:a.properties.constraints.properties.statuses.properties.revoked,data:Q};null===g?g=[le]:g.push(le),T++}}}else{const Q={instancePath:Y+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.statuses.type,parentSchema:a.properties.constraints.properties.statuses,data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W.fields){let K=W.fields;if(Array.isArray(K)){const Q=K.length;for(let le=0;le<Q;le++)X(K[le],{instancePath:Y+"/constraints/fields/"+le,parentData:K,parentDataProperty:le,rootData:$e})||(g=null===g?X.errors:g.concat(X.errors),T=g.length)}else{const Q={instancePath:Y+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.constraints.properties.fields.type,parentSchema:a.properties.constraints.properties.fields,data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W.subject_is_issuer){let K=W.subject_is_issuer;if("string"!=typeof K){const Q={instancePath:Y+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.subject_is_issuer.type,parentSchema:a.properties.constraints.properties.subject_is_issuer,data:K};null===g?g=[Q]:g.push(Q),T++}if("required"!==K&&"preferred"!==K){const Q={instancePath:Y+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.subject_is_issuer.enum,parentSchema:a.properties.constraints.properties.subject_is_issuer,data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W.is_holder){let K=W.is_holder;if(Array.isArray(K)){const Q=K.length;for(let le=0;le<Q;le++){let pe=K[le];if(pe&&"object"==typeof pe&&!Array.isArray(pe)){if(void 0===pe.field_id){const Ee={instancePath:Y+"/constraints/is_holder/"+le,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:a.properties.constraints.properties.is_holder.items.required,parentSchema:a.properties.constraints.properties.is_holder.items,data:pe};null===g?g=[Ee]:g.push(Ee),T++}if(void 0===pe.directive){const Ee={instancePath:Y+"/constraints/is_holder/"+le,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:a.properties.constraints.properties.is_holder.items.required,parentSchema:a.properties.constraints.properties.is_holder.items,data:pe};null===g?g=[Ee]:g.push(Ee),T++}for(const Ee in pe)if("field_id"!==Ee&&"directive"!==Ee){const he={instancePath:Y+"/constraints/is_holder/"+le,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties",schema:!1,parentSchema:a.properties.constraints.properties.is_holder.items,data:pe};null===g?g=[he]:g.push(he),T++}if(void 0!==pe.field_id){let Ee=pe.field_id;if(Array.isArray(Ee)){const he=Ee.length;for(let De=0;De<he;De++){let Ge=Ee[De];if("string"!=typeof Ge){const Pe={instancePath:Y+"/constraints/is_holder/"+le+"/field_id/"+De,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:a.properties.constraints.properties.is_holder.items.properties.field_id.items,data:Ge};null===g?g=[Pe]:g.push(Pe),T++}}}else{const he={instancePath:Y+"/constraints/is_holder/"+le+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:a.properties.constraints.properties.is_holder.items.properties.field_id,data:Ee};null===g?g=[he]:g.push(he),T++}}if(void 0!==pe.directive){let Ee=pe.directive;if("string"!=typeof Ee){const he={instancePath:Y+"/constraints/is_holder/"+le+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:a.properties.constraints.properties.is_holder.items.properties.directive,data:Ee};null===g?g=[he]:g.push(he),T++}if("required"!==Ee&&"preferred"!==Ee){const he={instancePath:Y+"/constraints/is_holder/"+le+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:a.properties.constraints.properties.is_holder.items.properties.directive,data:Ee};null===g?g=[he]:g.push(he),T++}}}else{const Ee={instancePath:Y+"/constraints/is_holder/"+le,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.is_holder.items.type,parentSchema:a.properties.constraints.properties.is_holder.items,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}}else{const Q={instancePath:Y+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.constraints.properties.is_holder.type,parentSchema:a.properties.constraints.properties.is_holder,data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W.same_subject){let K=W.same_subject;if(Array.isArray(K)){const Q=K.length;for(let le=0;le<Q;le++){let pe=K[le];if(pe&&"object"==typeof pe&&!Array.isArray(pe)){if(void 0===pe.field_id){const Ee={instancePath:Y+"/constraints/same_subject/"+le,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:a.properties.constraints.properties.same_subject.items.required,parentSchema:a.properties.constraints.properties.same_subject.items,data:pe};null===g?g=[Ee]:g.push(Ee),T++}if(void 0===pe.directive){const Ee={instancePath:Y+"/constraints/same_subject/"+le,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:a.properties.constraints.properties.same_subject.items.required,parentSchema:a.properties.constraints.properties.same_subject.items,data:pe};null===g?g=[Ee]:g.push(Ee),T++}for(const Ee in pe)if("field_id"!==Ee&&"directive"!==Ee){const he={instancePath:Y+"/constraints/same_subject/"+le,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties",schema:!1,parentSchema:a.properties.constraints.properties.same_subject.items,data:pe};null===g?g=[he]:g.push(he),T++}if(void 0!==pe.field_id){let Ee=pe.field_id;if(Array.isArray(Ee)){const he=Ee.length;for(let De=0;De<he;De++){let Ge=Ee[De];if("string"!=typeof Ge){const Pe={instancePath:Y+"/constraints/same_subject/"+le+"/field_id/"+De,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:a.properties.constraints.properties.same_subject.items.properties.field_id.items,data:Ge};null===g?g=[Pe]:g.push(Pe),T++}}}else{const he={instancePath:Y+"/constraints/same_subject/"+le+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:a.properties.constraints.properties.same_subject.items.properties.field_id,data:Ee};null===g?g=[he]:g.push(he),T++}}if(void 0!==pe.directive){let Ee=pe.directive;if("string"!=typeof Ee){const he={instancePath:Y+"/constraints/same_subject/"+le+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:a.properties.constraints.properties.same_subject.items.properties.directive,data:Ee};null===g?g=[he]:g.push(he),T++}if("required"!==Ee&&"preferred"!==Ee){const he={instancePath:Y+"/constraints/same_subject/"+le+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:a.properties.constraints.properties.same_subject.items.properties.directive,data:Ee};null===g?g=[he]:g.push(he),T++}}}else{const Ee={instancePath:Y+"/constraints/same_subject/"+le,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.same_subject.items.type,parentSchema:a.properties.constraints.properties.same_subject.items,data:pe};null===g?g=[Ee]:g.push(Ee),T++}}}else{const Q={instancePath:Y+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.constraints.properties.same_subject.type,parentSchema:a.properties.constraints.properties.same_subject,data:K};null===g?g=[Q]:g.push(Q),T++}}}else{const K={instancePath:Y+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.type,parentSchema:a.properties.constraints,data:W};null===g?g=[K]:g.push(K),T++}}}else{const W={instancePath:Y,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.type,parentSchema:a,data:U};null===g?g=[W]:g.push(W),T++}return J.errors=g,0===T}function ye(U,{instancePath:Y="",rootData:$e=U}={}){let g=null,T=0;if(U&&"object"==typeof U&&!Array.isArray(U)){if(void 0!==U.presentation_definition){let W=U.presentation_definition;if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0===W.id){const K={instancePath:Y+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:h.properties.presentation_definition.required,parentSchema:h.properties.presentation_definition,data:W};null===g?g=[K]:g.push(K),T++}if(void 0===W.input_descriptors){const K={instancePath:Y+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:h.properties.presentation_definition.required,parentSchema:h.properties.presentation_definition,data:W};null===g?g=[K]:g.push(K),T++}for(const K in W)if("id"!==K&&"name"!==K&&"purpose"!==K&&"format"!==K&&"frame"!==K&&"submission_requirements"!==K&&"input_descriptors"!==K){const Q={instancePath:Y+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties",schema:!1,parentSchema:h.properties.presentation_definition,data:W};null===g?g=[Q]:g.push(Q),T++}if(void 0!==W.id){let K=W.id;if("string"!=typeof K){const Q={instancePath:Y+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.presentation_definition.properties.id.type,parentSchema:h.properties.presentation_definition.properties.id,data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W.name){let K=W.name;if("string"!=typeof K){const Q={instancePath:Y+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.presentation_definition.properties.name.type,parentSchema:h.properties.presentation_definition.properties.name,data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W.purpose){let K=W.purpose;if("string"!=typeof K){const Q={instancePath:Y+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.presentation_definition.properties.purpose.type,parentSchema:h.properties.presentation_definition.properties.purpose,data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W.format&&(l(W.format,{instancePath:Y+"/presentation_definition/format",parentData:W,parentDataProperty:"format",rootData:$e})||(g=null===g?l.errors:g.concat(l.errors),T=g.length)),void 0!==W.frame){let K=W.frame;if(!K||"object"!=typeof K||Array.isArray(K)){const Q={instancePath:Y+"/presentation_definition/frame",schemaPath:"#/properties/presentation_definition/properties/frame/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.presentation_definition.properties.frame.type,parentSchema:h.properties.presentation_definition.properties.frame,data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W.submission_requirements){let K=W.submission_requirements;if(Array.isArray(K)){const Q=K.length;for(let le=0;le<Q;le++)o(K[le],{instancePath:Y+"/presentation_definition/submission_requirements/"+le,parentData:K,parentDataProperty:le,rootData:$e})||(g=null===g?o.errors:g.concat(o.errors),T=g.length)}else{const Q={instancePath:Y+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.presentation_definition.properties.submission_requirements.type,parentSchema:h.properties.presentation_definition.properties.submission_requirements,data:K};null===g?g=[Q]:g.push(Q),T++}}if(void 0!==W.input_descriptors){let K=W.input_descriptors;if(Array.isArray(K)){const Q=K.length;for(let le=0;le<Q;le++)J(K[le],{instancePath:Y+"/presentation_definition/input_descriptors/"+le,parentData:K,parentDataProperty:le,rootData:$e})||(g=null===g?J.errors:g.concat(J.errors),T=g.length)}else{const Q={instancePath:Y+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.presentation_definition.properties.input_descriptors.type,parentSchema:h.properties.presentation_definition.properties.input_descriptors,data:K};null===g?g=[Q]:g.push(Q),T++}}}else{const K={instancePath:Y+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.presentation_definition.type,parentSchema:h.properties.presentation_definition,data:W};null===g?g=[K]:g.push(K),T++}}}else{const W={instancePath:Y,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.type,parentSchema:h,data:U};null===g?g=[W]:g.push(W),T++}return ye.errors=g,0===T}},3993:(q,p)=>{"use strict";function s(ne,oe){return{validate:ne,compare:oe}}Object.defineProperty(p,"__esModule",{value:!0}),p.formatNames=p.fastFormats=p.fullFormats=void 0,p.fullFormats={date:s(w,E),time:s(l,i),"date-time":s(function o(ne){const oe=ne.split(d);return 2===oe.length&&w(oe[0])&&l(oe[1],!0)},a),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function m(ne){return v.test(ne)&&b.test(ne)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function H(ne){if(I.test(ne))return!1;try{return new RegExp(ne),!0}catch{return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function C(ne){return _.lastIndex=0,_.test(ne)},int32:{type:"number",validate:function B(ne){return Number.isInteger(ne)&&ne<=N&&ne>=S}},int64:{type:"number",validate:function k(ne){return Number.isInteger(ne)}},float:{type:"number",validate:F},double:{type:"number",validate:F},password:!0,binary:!0},p.fastFormats={...p.fullFormats,date:s(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,E),time:s(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,i),"date-time":s(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,a),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},p.formatNames=Object.keys(p.fullFormats);const y=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,D=[0,31,28,31,30,31,30,31,31,30,31,30,31];function w(ne){const oe=y.exec(ne);if(!oe)return!1;const G=+oe[2],R=+oe[3];return G>=1&&G<=12&&R>=1&&R<=(2===G&&function h(ne){return ne%4==0&&(ne%100!=0||ne%400==0)}(+oe[1])?29:D[G])}function E(ne,oe){if(ne&&oe)return ne>oe?1:ne<oe?-1:0}const f=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(ne,oe){const x=f.exec(ne);if(!x)return!1;const G=+x[1],R=+x[2],X=+x[3];return(G<=23&&R<=59&&X<=59||23===G&&59===R&&60===X)&&(!oe||""!==x[5])}function i(ne,oe){if(!ne||!oe)return;const x=f.exec(ne),G=f.exec(oe);return x&&G?(ne=x[1]+x[2]+x[3]+(x[4]||""))>(oe=G[1]+G[2]+G[3]+(G[4]||""))?1:ne<oe?-1:0:void 0}const d=/t|\s/i;function a(ne,oe){if(!ne||!oe)return;const[x,G]=ne.split(d),[R,X]=oe.split(d),J=E(x,R);return void 0!==J?J||i(G,X):void 0}const v=/\/|:/,b=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,_=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,S=-(2**31),N=2**31-1;function F(){return!0}const I=/[^\\]\\Z/},21953:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(3993),y=s(10122),D=s(85432),w=new D.Name("fullFormats"),E=new D.Name("fastFormats"),f=(i,d={keywords:!0})=>{if(Array.isArray(d))return l(i,d,h.fullFormats,w),i;const[o,a]="fast"===d.mode?[h.fastFormats,E]:[h.fullFormats,w];return l(i,d.formats||h.formatNames,o,a),d.keywords&&y.default(i),i};function l(i,d,o,a){var v,b;null!==(v=(b=i.opts.code).formats)&&void 0!==v||(b.formats=D._`require("ajv-formats/dist/formats").${a}`);for(const m of d)i.addFormat(m,o[m])}f.get=(i,d="full")=>{const a=("fast"===d?h.fastFormats:h.fullFormats)[i];if(!a)throw new Error(`Unknown format "${i}"`);return a},q.exports=p=f,Object.defineProperty(p,"__esModule",{value:!0}),p.default=f},10122:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.formatLimitDefinition=void 0;const h=s(39208),y=s(85432),D=y.operators,w={formatMaximum:{okStr:"<=",ok:D.LTE,fail:D.GT},formatMinimum:{okStr:">=",ok:D.GTE,fail:D.LT},formatExclusiveMaximum:{okStr:"<",ok:D.LT,fail:D.GTE},formatExclusiveMinimum:{okStr:">",ok:D.GT,fail:D.LTE}},E={message:({keyword:l,schemaCode:i})=>y.str`should be ${w[l].okStr} ${i}`,params:({keyword:l,schemaCode:i})=>y._`{comparison: ${w[l].okStr}, limit: ${i}}`};p.formatLimitDefinition={keyword:Object.keys(w),type:"string",schemaType:"string",$data:!0,error:E,code(l){const{gen:i,data:d,schemaCode:o,keyword:a,it:v}=l,{opts:b,self:m}=v;if(!b.validateFormats)return;const _=new h.KeywordCxt(v,m.RULES.all.format.definition,"format");function N(B){return y._`${B}.compare(${d}, ${o}) ${w[a].fail} 0`}_.$data?function C(){const B=i.scopeValue("formats",{ref:m.formats,code:b.code.formats}),k=i.const("fmt",y._`${B}[${_.schemaCode}]`);l.fail$data(y.or(y._`typeof ${k} != "object"`,y._`${k} instanceof RegExp`,y._`typeof ${k}.compare != "function"`,N(k)))}():function S(){const B=_.schema,k=m.formats[B];if(!k||!0===k)return;if("object"!=typeof k||k instanceof RegExp||"function"!=typeof k.compare)throw new Error(`"${a}": format "${B}" does not define "compare" function`);const F=i.scopeValue("formats",{key:B,ref:k,code:b.code.formats?y._`${b.code.formats}${y.getProperty(B)}`:void 0});l.fail$data(N(F))}()},dependencies:["format"]},p.default=l=>(l.addKeyword(p.formatLimitDefinition),l)},11151:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(76533),p),y(s(59433),p),y(s(54065),p)},51236:function(q,p,s){"use strict";var h=this&&this.__rest||function(l,i){var d={};for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&i.indexOf(o)<0&&(d[o]=l[o]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(l);a<o.length;a++)i.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(l,o[a])&&(d[o[a]]=l[o[a]])}return d},y=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(p,"__esModule",{value:!0}),p.CredentialMapper=void 0;const D=y(s(38350)),w=s(76533),E=s(59433);class f{static decodeSdJwtVcAsync(i,d){return(0,w.decodeSdJwtVcAsync)(i,d)}static decodeVerifiablePresentation(i,d){var o;if(f.isJwtEncoded(i)){const a=(0,D.default)(i),v=(0,D.default)(i,{header:!0});return a.vp.proof={type:w.IProofType.JwtProof2020,created:a.nbf,proofPurpose:w.IProofPurpose.authentication,verificationMethod:null!==(o=v.kid)&&void 0!==o?o:a.iss,jwt:i},a}if(f.isJwtDecodedPresentation(i))return i;if(f.isSdJwtEncoded(i)){if(!d)throw new Error("Hasher implementation is required to decode SD-JWT");return(0,w.decodeSdJwtVc)(i,d)}return f.isSdJwtDecodedCredential(i)?i:f.isJsonLdAsString(i)?JSON.parse(i):i}static decodeVerifiableCredential(i,d){var o;if(f.isJwtEncoded(i)){const a=(0,D.default)(i),v=(0,D.default)(i,{header:!0});return a.vc.proof={type:w.IProofType.JwtProof2020,created:a.nbf,proofPurpose:w.IProofPurpose.authentication,verificationMethod:null!==(o=v.kid)&&void 0!==o?o:a.iss,jwt:i},a}if(f.isJwtDecodedCredential(i))return i;if(f.isJsonLdAsString(i))return JSON.parse(i);if(f.isSdJwtEncoded(i)){if(!d)throw new Error("Hasher implementation is required to decode SD-JWT");return(0,w.decodeSdJwtVc)(i,d)}return f.isSdJwtDecodedCredential(i),i}static toWrappedVerifiablePresentation(i,d){if(f.isSdJwtDecodedCredential(i)||f.isSdJwtEncoded(i)){let k;if(f.isSdJwtEncoded(i)){if(!d?.hasher)throw new Error("Hasher implementation is required to decode SD-JWT");k=(0,w.decodeSdJwtVc)(i,d.hasher)}else k=i;return{type:f.isSdJwtDecodedCredential(i)?w.OriginalType.SD_JWT_VC_DECODED:w.OriginalType.SD_JWT_VC_ENCODED,format:"vc+sd-jwt",original:i,presentation:k,decoded:k.decodedPayload,vcs:[f.toWrappedVerifiableCredential(i,d)]}}const o=f.getFirstProof(i),a="string"!=typeof i&&f.hasJWTProofType(i)?o?.jwt:i;if(!a)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const v=f.decodeVerifiablePresentation(a),b=f.isJwtEncoded(a),m=f.isJwtDecodedPresentation(a),_=b?w.OriginalType.JWT_ENCODED:m?w.OriginalType.JWT_DECODED:w.OriginalType.JSONLD,C=m||b?"jwt_vp":"ldp_vp";let S;if(S=b||m?f.jwtDecodedPresentationToUniformPresentation(v,!1,d):v,!S||!("verifiableCredential"in S)||!S.verifiableCredential||0===S.verifiableCredential.length)throw Error("VP needs to have at least one verifiable credential at this point");const N=f.toWrappedVerifiableCredentials(S.verifiableCredential,d);return{type:_,format:C,original:a,decoded:v,presentation:Object.assign(Object.assign({},S),{verifiableCredential:N}),vcs:N}}static toWrappedVerifiableCredentials(i,d){return i.map(o=>f.toWrappedVerifiableCredential(o,d))}static toWrappedVerifiableCredential(i,d){var o;if(f.isSdJwtDecodedCredential(i)||f.isSdJwtEncoded(i)){let B;if(f.isSdJwtEncoded(i)){if(!d?.hasher)throw new Error("Hasher implementation is required to decode SD-JWT");B=(0,w.decodeSdJwtVc)(i,d.hasher)}else B=i;return{type:f.isSdJwtDecodedCredential(i)?w.OriginalType.SD_JWT_VC_DECODED:w.OriginalType.SD_JWT_VC_ENCODED,format:"vc+sd-jwt",original:i,credential:B,decoded:B.decodedPayload}}const a=f.getFirstProof(i),v=f.hasJWTProofType(i)&&a&&null!==(o=a.jwt)&&void 0!==o?o:i;if(!v)throw Error("Could not determine original credential, probably it was a converted JWT credential, that is now missing the JWT value in the proof");const b=f.decodeVerifiableCredential(v),m=f.isJwtEncoded(v),_=f.isJwtDecodedCredential(v);return{original:v,decoded:b,format:m||_?"jwt_vc":"ldp_vc",type:m?w.OriginalType.JWT_ENCODED:_?w.OriginalType.JWT_DECODED:w.OriginalType.JSONLD,credential:m||_?f.jwtDecodedCredentialToUniformCredential(b,d):b}}static isJwtEncoded(i){return E.ObjectUtils.isString(i)&&i.startsWith("ey")&&!i.includes("~")}static isSdJwtEncoded(i){return E.ObjectUtils.isString(i)&&i.startsWith("ey")&&i.includes("~")}static isW3cCredential(i){var d;return"@context"in i&&((null===(d=i.type)||void 0===d?void 0:d.includes("VerifiableCredential"))||!1)}static isCredential(i){try{if(f.isJwtEncoded(i)){const d=f.toUniformCredential(i);return f.isW3cCredential(d)}return!!f.isSdJwtEncoded(i)||f.isW3cCredential(i)||f.isSdJwtDecodedCredentialPayload(i)||f.isJwtDecodedCredential(i)||f.isSdJwtDecodedCredential(i)}catch{return!1}}static isPresentation(i){try{if(f.isJwtEncoded(i)){const d=f.toUniformPresentation(i);return f.isW3cPresentation(d)}return!f.isSdJwtEncoded(i)&&(f.isW3cPresentation(i)||f.isSdJwtDecodedCredentialPayload(i)||f.isJwtDecodedPresentation(i)||f.isSdJwtDecodedCredential(i))}catch{return!1}}static hasProof(i){try{return!!(f.isJwtEncoded(i)||f.isJwtDecodedCredential(i)||f.isSdJwtEncoded(i)||f.isSdJwtDecodedCredential(i)||"vc"in i&&i.vc.proof||"vp"in i&&i.vp.proof)||!!i.proof}catch{return!1}}static isW3cPresentation(i){var d;return"@context"in i&&((null===(d=i.type)||void 0===d?void 0:d.includes("VerifiablePresentation"))||!1)}static isSdJwtDecodedCredentialPayload(i){return"vct"in i}static areOriginalVerifiableCredentialsEqual(i,d){return"string"==typeof i||"string"==typeof d?i===d:f.isSdJwtDecodedCredential(i)||f.isSdJwtDecodedCredential(d)?i.compactSdJwtVc===d.compactSdJwtVc:JSON.stringify(d.proof)===JSON.stringify(i.proof)}static isJsonLdAsString(i){return E.ObjectUtils.isString(i)&&i.includes("@context")}static isSdJwtDecodedCredential(i){return void 0!==i.compactSdJwtVc}static isJwtDecodedCredential(i){return void 0!==i.vc&&void 0!==i.iss}static isJwtDecodedPresentation(i){return void 0!==i.vp&&void 0!==i.iss}static jwtEncodedPresentationToUniformPresentation(i,d=!0,o){return f.jwtDecodedPresentationToUniformPresentation((0,D.default)(i),d,o)}static jwtDecodedPresentationToUniformPresentation(i,d=!0,o){const{iss:a,aud:v,jti:b,vp:m}=i,_=h(i,["iss","aud","jti","vp"]),C=Object.assign(Object.assign({},_),m);if(d){if(!m.verifiableCredential)throw Error("Verifiable Presentation should have a verifiable credential at this point");C.verifiableCredential=m.verifiableCredential.map(S=>f.toUniformCredential(S,o))}if(a){const S=C.holder;if(S&&S!==a)throw new Error(`Inconsistent holders between JWT claim (${a}) and VC value (${S})`);C.holder=a}if(v){const S=C.verifier;if(S&&S!==v)throw new Error(`Inconsistent holders between JWT claim (${v}) and VC value (${S})`);C.verifier=v}if(b){const S=C.id;if(S&&S!==b)throw new Error(`Inconsistent VP ids between JWT claim (${b}) and VP value (${S})`);C.id=b}return C}static toUniformCredential(i,d){var o;if(f.isSdJwtDecodedCredential(i))throw new Error("Converting SD-JWT VC to uniform VC is not supported.");const a="string"!=typeof i&&f.hasJWTProofType(i)?null===(o=f.getFirstProof(i))||void 0===o?void 0:o.jwt:i;if(!a)throw Error("Could not determine original credential from passed in credential. Probably because a JWT proof type was present, but now is not available anymore");const v=f.decodeVerifiableCredential(a),b=f.isJwtEncoded(a);return f.isJwtDecodedCredential(a)||b?f.jwtDecodedCredentialToUniformCredential(v,d):v}static toUniformPresentation(i,d){var o;if(f.isSdJwtDecodedCredential(i))throw new Error("Converting SD-JWT VC to uniform VP is not supported.");const a=f.getFirstProof(i),v="string"!=typeof i&&f.hasJWTProofType(i)?a?.jwt:i;if(!v)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const b=f.decodeVerifiablePresentation(v),m=f.isJwtEncoded(v),_=f.isJwtDecodedPresentation(v),C=m||_?f.jwtDecodedPresentationToUniformPresentation(b,!1):b;return d?.addContextIfMissing&&!C["@context"]&&(C["@context"]=["https://www.w3.org/2018/credentials/v1"]),C.verifiableCredential=null===(o=C.verifiableCredential)||void 0===o?void 0:o.map(S=>f.toUniformCredential(S,d)),C}static jwtEncodedCredentialToUniformCredential(i,d){return f.jwtDecodedCredentialToUniformCredential((0,D.default)(i),d)}static jwtDecodedCredentialToUniformCredential(i,d){var o;const{exp:a,nbf:v,iss:b,vc:m,sub:_,jti:C}=i,S=h(i,["exp","nbf","iss","vc","sub","jti"]),N=Object.assign(Object.assign({},S),m),B=null!==(o=d?.maxTimeSkewInMS)&&void 0!==o?o:1500;if(a){const k=N.expirationDate,F=parseInt(a.toString()),I=F<9999999999?new Date(1e3*F).toISOString().replace(/\.000Z/,"Z"):new Date(F).toISOString();if(k&&k!==I){const H=Math.abs(new Date(I).getTime()-new Date(k).getTime());if(!B||H>B)throw new Error(`Inconsistent expiration dates between JWT claim (${I}) and VC value (${k})`)}N.expirationDate=I}if(v){const k=N.issuanceDate,F=parseInt(v.toString()),I=F<9999999999?new Date(1e3*F).toISOString().replace(/\.000Z/,"Z"):new Date(F).toISOString();if(k&&k!==I){const H=Math.abs(new Date(I).getTime()-new Date(k).getTime());if(!B||H>B)throw new Error(`Inconsistent issuance dates between JWT claim (${I}) and VC value (${k})`)}N.issuanceDate=I}if(b){const k=N.issuer;if(k){if("string"==typeof k){if(k!==b)throw new Error(`Inconsistent issuers between JWT claim (${b}) and VC value (${k})`)}else if(!k.id&&Object.keys(k).length>0&&(k.id=b),k.id!==b)throw new Error(`Inconsistent issuers between JWT claim (${b}) and VC value (${k.id})`)}else N.issuer=b}if(_){const k=Array.isArray(N.credentialSubject)?N.credentialSubject:[N.credentialSubject];for(let F=0;F<k.length;F++){const I=k[F].id;if(I&&I!==_)throw new Error(`Inconsistent credential subject ids between JWT claim (${_}) and VC value (${I})`);Array.isArray(N.credentialSubject)?N.credentialSubject[F].id=_:N.credentialSubject.id=_}}if(C){const k=N.id;if(k&&k!==C)throw new Error(`Inconsistent credential ids between JWT claim (${C}) and VC value (${k})`);N.id=C}return N}static toExternalVerifiableCredential(i){let d;if(i.proof){if(!i.proof.type)throw new Error("Verifiable credential proof is missing a type");if(!i.proof.created)throw new Error("Verifiable credential proof is missing a created date");if(!i.proof.proofPurpose)throw new Error("Verifiable credential proof is missing a proof purpose");if(!i.proof.verificationMethod)throw new Error("Verifiable credential proof is missing a verification method");d=Object.assign(Object.assign({},i.proof),{type:i.proof.type,created:i.proof.created,proofPurpose:i.proof.proofPurpose,verificationMethod:i.proof.verificationMethod})}return Object.assign(Object.assign({},i),{type:i.type?"string"==typeof i.type?[i.type]:i.type:["VerifiableCredential"],proof:d})}static storedCredentialToOriginalFormat(i){const d=f.detectDocumentType(i);if("string"==typeof i){if(0===d)return f.toCompactJWT(i);if(1===d)return JSON.parse(i)}else{if(0===d&&"vc"in i)return f.toCompactJWT(i);if("proof"in i&&"JwtProof2020"===i.proof.type&&i.proof.jwt)return i.proof.jwt}return i}static storedPresentationToOriginalFormat(i){const d=f.detectDocumentType(i);if("string"==typeof i){if(0===d)return f.toCompactJWT(i);if(1===d)return JSON.parse(i)}else{if(0===d&&"vp"in i)return f.toCompactJWT(i);if("proof"in i&&"JwtProof2020"===i.proof.type&&i.proof.jwt)return i.proof.jwt}return i}static toCompactJWT(i){if(!i||0!==f.detectDocumentType(i))throw Error("Cannot convert non JWT credential to JWT");if("string"==typeof i)return i;let d;if(d="vp"in i?"jwt"in i.vp.proof?i.vp.proof.jwt:i.vp.proof:"vc"in i?"jwt"in i.vc.proof?i.vc.proof.jwt:i.vc.proof:Array.isArray(i.proof)?i.proof[0].jwt:i.proof.jwt,!d)throw Error("Could not get JWT from supplied document");return d}static detectDocumentType(i){if(this.isJsonLdAsString(i))return 1;if(this.isJwtEncoded(i))return 0;if(this.isSdJwtEncoded(i)||this.isSdJwtDecodedCredential(i))return 2;const d="vc"in i?i.vc.proof:"vp"in i?i.vp.proof:i.proof,o=Array.isArray(d)?d[0]:d;return o?.jwt?0:"EthereumEip712Signature2021"===o?.type?3:1}static hasJWTProofType(i){var d;return"string"!=typeof i&&!(null===(d=f.getFirstProof(i))||void 0===d||!d.jwt)}static getFirstProof(i){if(!i||"string"==typeof i)return;const d="vc"in i?i.vc.proof:"vp"in i?i.vp.proof:i.proof;return Array.isArray(d)?d[0]:d}}p.CredentialMapper=f,f.isWrappedSdJwtVerifiableCredential=w.isWrappedSdJwtVerifiableCredential,f.isWrappedSdJwtVerifiablePresentation=w.isWrappedSdJwtVerifiablePresentation,f.isWrappedW3CVerifiableCredential=w.isWrappedW3CVerifiableCredential,f.isWrappedW3CVerifiablePresentation=w.isWrappedW3CVerifiablePresentation},54065:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(51236),p),y(s(71561),p)},71561:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.mapLanguageValues=p.mapLanguageValue=p.toLanguageValueObjects=p.toLanguageValueObject=p.isLanguageValueObjects=p.isLanguageValueObject=void 0;const h=s(59433);p.isLanguageValueObject=i=>!(!i||!h.ObjectUtils.isObject(i)||Array.isArray(i)||2!==Object.keys(i).length||!("language"in i)||!i.language||!("value"in i)||!i.value),p.isLanguageValueObjects=i=>!(!i||!Array.isArray(i))&&i.every(d=>(0,p.isLanguageValueObject)(d)),p.toLanguageValueObject=i=>(0,p.isLanguageValueObject)(i)?i:void 0,p.toLanguageValueObjects=i=>(0,p.isLanguageValueObject)(i)?h.ObjectUtils.asArray((0,p.toLanguageValueObject)(i)):(0,p.isLanguageValueObjects)(i)?i:void 0,p.mapLanguageValue=(i,d)=>{const o=(0,p.toLanguageValueObjects)(i);if(Array.isArray(o)){if(0===o.length)return i;const a=o.filter(b=>!d?.language||b.language.toLowerCase().includes(d.language.toLowerCase()));let v;if(a.length>0)v=a[0];else{if(!1===d?.fallbackToFirstObject)return i;v=o[0]}return v.value}return i},p.mapLanguageValues=(i,d)=>{const o=d?.noDeepClone?i:JSON.parse(JSON.stringify(i));return Object.keys(i).forEach(a=>{o[a]=(0,p.mapLanguageValue)(o[a],d),(h.ObjectUtils.isObject(o[a])||Array.isArray(o[a]))&&(o[a]=(0,p.mapLanguageValues)(o[a],Object.assign(Object.assign({},d),{noDeepClone:!0})))}),o}},40528:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.parseDid=p.IProofType=p.IProofPurpose=void 0;var s=function(w){return w.verificationMethod="verificationMethod",w.assertionMethod="assertionMethod",w.authentication="authentication",w.keyAgreement="keyAgreement",w.contractAgreement="contactAgreement",w.capabilityInvocation="capabilityInvocation",w.capabilityDelegation="capabilityDelegation",w}(s||(p.IProofPurpose=s={})),h=function(w){return w.Ed25519Signature2018="Ed25519Signature2018",w.Ed25519Signature2020="Ed25519Signature2020",w.EcdsaSecp256k1Signature2019="EcdsaSecp256k1Signature2019",w.EcdsaSecp256k1RecoverySignature2020="EcdsaSecp256k1RecoverySignature2020",w.JsonWebSignature2020="JsonWebSignature2020",w.RsaSignature2018="RsaSignature2018",w.GpgSignature2020="GpgSignature2020",w.JcsEd25519Signature2020="JcsEd25519Signature2020",w.BbsBlsSignatureProof2020="BbsBlsSignatureProof2020",w.BbsBlsBoundSignatureProof2020="BbsBlsBoundSignatureProof2020",w.JwtProof2020="JwtProof2020",w}(h||(p.IProofType=h={}));p.parseDid=w=>{const E=D(w);if(null===E)throw new Error("invalid did");return E};const D=w=>{const f="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",d="[a-zA-Z0-9_.:%-]",_=new RegExp(`^did:([a-z0-9]+):((?:${f}*:)*(${f}+))((;${d}+=${d}*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$`);if(""===w||!w)return null;const C=w.match(_);if(C){const S={did:`did:${C[1]}:${C[2]}`,method:C[1],id:C[2],didUrl:w};if(C[4]){const N=C[4].slice(1).split(";");S.params={};for(const B of N){const k=B.split("=");S.params[k[0]]=k[1]}}return C[6]&&(S.path=C[6]),C[7]&&(S.query=C[7].slice(1)),C[8]&&(S.fragment=C[8].slice(1)),S}return null}},5940:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},76533:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(40528),p),y(s(30988),p),y(s(69922),p),y(s(5940),p),y(s(86548),p),y(s(66996),p)},30988:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0})},86548:function(q,p,s){"use strict";var h=this&&this.__awaiter||function(l,i,d,o){return new(d||(d=Promise))(function(v,b){function m(S){try{C(o.next(S))}catch(N){b(N)}}function _(S){try{C(o.throw(S))}catch(N){b(N)}}function C(S){S.done?v(S.value):function a(v){return v instanceof d?v:new d(function(b){b(v)})}(S.value).then(m,_)}C((o=o.apply(l,i||[])).next())})};Object.defineProperty(p,"__esModule",{value:!0}),p.decodeSdJwtVcAsync=p.decodeSdJwtVc=p.isWrappedSdJwtVerifiablePresentation=p.isWrappedSdJwtVerifiableCredential=void 0;const y=s(15315);p.isWrappedSdJwtVerifiableCredential=function D(l){return"vc+sd-jwt"===l.format},p.isWrappedSdJwtVerifiablePresentation=function w(l){return"vc+sd-jwt"===l.format},p.decodeSdJwtVc=function E(l,i){const{jwt:d,disclosures:o}=(0,y.decodeSdJwtSync)(l,i),a=d.payload;return{compactSdJwtVc:l,decodedPayload:(0,y.getClaimsSync)(a,o,i),disclosures:o.map(b=>{const m=b.key?[b.salt,b.key,b.value]:[b.salt,b.value];if(!b._digest)throw new Error("Implementation error: digest not present in disclosure");return{decoded:m,digest:b._digest,encoded:b.encode()}}),signedPayload:a}},p.decodeSdJwtVcAsync=function f(l,i){return h(this,void 0,void 0,function*(){const{jwt:d,disclosures:o}=yield(0,y.decodeSdJwt)(l,i),a=d.payload,v=yield(0,y.getClaims)(a,o,i);return{compactSdJwtVc:l,decodedPayload:v,disclosures:o.map(b=>{const m=b.key?[b.salt,b.key,b.value]:[b.salt,b.value];if(!b._digest)throw new Error("Implementation error: digest not present in disclosure");return{decoded:m,digest:b._digest,encoded:b.encode()}}),signedPayload:a}})}},69922:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.DocumentFormat=p.OriginalType=void 0;var s=function(y){return y.JSONLD="json-ld",y.JWT_ENCODED="jwt-encoded",y.JWT_DECODED="jwt-decoded",y.SD_JWT_VC_ENCODED="sd-jwt-vc-encoded",y.SD_JWT_VC_DECODED="sd-jwt-vc-decoded",y}(s||(p.OriginalType=s={})),h=function(y){return y[y.JWT=0]="JWT",y[y.JSONLD=1]="JSONLD",y[y.SD_JWT_VC=2]="SD_JWT_VC",y[y.EIP712=3]="EIP712",y}(h||(p.DocumentFormat=h={}))},66996:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isWrappedW3CVerifiablePresentation=p.isWrappedW3CVerifiableCredential=p.StatusListDriverType=p.StatusListCredentialIdMode=p.StatusListType=p.JWT_PROOF_TYPE_2020=void 0,p.JWT_PROOF_TYPE_2020="JwtProof2020";var s=function(E){return E.StatusList2021="StatusList2021",E}(s||(p.StatusListType=s={})),h=function(E){return E.ISSUANCE="ISSUANCE",E.PERSISTENCE="PERSISTENCE",E.NEVER="NEVER",E}(h||(p.StatusListCredentialIdMode=h={})),y=function(E){return E.AGENT_TYPEORM="agent_typeorm",E.AGENT_KV_STORE="agent_kv_store",E.GITHUB="github",E.AGENT_FILESYSTEM="agent_filesystem",E}(y||(p.StatusListDriverType=y={}));p.isWrappedW3CVerifiableCredential=function D(E){return"jwt_vc"===E.format||"ldp_vc"===E.format},p.isWrappedW3CVerifiablePresentation=function w(E){return"jwt_vp"===E.format||"ldp_vp"===E.format}},59433:function(q,p,s){"use strict";var h=this&&this.__createBinding||(Object.create?function(D,w,E,f){void 0===f&&(f=E);var l=Object.getOwnPropertyDescriptor(w,E);(!l||("get"in l?!w.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(D,f,l)}:function(D,w,E,f){void 0===f&&(f=E),D[f]=w[E]}),y=this&&this.__exportStar||function(D,w){for(var E in D)"default"!==E&&!Object.prototype.hasOwnProperty.call(w,E)&&h(w,D,E)};Object.defineProperty(p,"__esModule",{value:!0}),y(s(24418),p)},24418:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ObjectUtils=void 0;class s{static asArray(y){return Array.isArray(y)?y:[y]}static isObject(y){return"object"==typeof y||"[object Object]"===Object.prototype.toString.call(y)}static isUrlAbsolute(y){s.isString(y)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test(y)}static isString(y){return"string"==typeof y||"[object String]"===Object.prototype.toString.call(y)}}p.ObjectUtils=s},95635:(q,p,s)=>{s(23963)},64311:(q,p,s)=>{s(23963)},86166:(q,p,s)=>{"use strict";const h=s(13981),y=s(22020),D="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;p.Buffer=l,p.SlowBuffer=function N(ee){return+ee!=ee&&(ee=0),l.alloc(+ee)},p.INSPECT_MAX_BYTES=50;const w=2147483647;function f(ee){if(ee>w)throw new RangeError('The value "'+ee+'" is invalid for option "size"');const L=new Uint8Array(ee);return Object.setPrototypeOf(L,l.prototype),L}function l(ee,L,P){if("number"==typeof ee){if("string"==typeof L)throw new TypeError('The "string" argument must be of type string. Received type number');return a(ee)}return i(ee,L,P)}function i(ee,L,P){if("string"==typeof ee)return function v(ee,L){if(("string"!=typeof L||""===L)&&(L="utf8"),!l.isEncoding(L))throw new TypeError("Unknown encoding: "+L);const P=0|B(ee,L);let Z=f(P);const _e=Z.write(ee,L);return _e!==P&&(Z=Z.slice(0,_e)),Z}(ee,L);if(ArrayBuffer.isView(ee))return function m(ee){if(Ue(ee,Uint8Array)){const L=new Uint8Array(ee);return _(L.buffer,L.byteOffset,L.byteLength)}return b(ee)}(ee);if(null==ee)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(Ue(ee,ArrayBuffer)||ee&&Ue(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ue(ee,SharedArrayBuffer)||ee&&Ue(ee.buffer,SharedArrayBuffer)))return _(ee,L,P);if("number"==typeof ee)throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=ee.valueOf&&ee.valueOf();if(null!=Z&&Z!==ee)return l.from(Z,L,P);const _e=function C(ee){if(l.isBuffer(ee)){const L=0|S(ee.length),P=f(L);return 0===P.length||ee.copy(P,0,0,L),P}return void 0!==ee.length?"number"!=typeof ee.length||Qe(ee.length)?f(0):b(ee):"Buffer"===ee.type&&Array.isArray(ee.data)?b(ee.data):void 0}(ee);if(_e)return _e;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ee[Symbol.toPrimitive])return l.from(ee[Symbol.toPrimitive]("string"),L,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}function d(ee){if("number"!=typeof ee)throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function a(ee){return d(ee),f(ee<0?0:0|S(ee))}function b(ee){const L=ee.length<0?0:0|S(ee.length),P=f(L);for(let Z=0;Z<L;Z+=1)P[Z]=255&ee[Z];return P}function _(ee,L,P){if(L<0||ee.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<L+(P||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return Z=void 0===L&&void 0===P?new Uint8Array(ee):void 0===P?new Uint8Array(ee,L):new Uint8Array(ee,L,P),Object.setPrototypeOf(Z,l.prototype),Z}function S(ee){if(ee>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|ee}function B(ee,L){if(l.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||Ue(ee,ArrayBuffer))return ee.byteLength;if("string"!=typeof ee)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);const P=ee.length,Z=arguments.length>2&&!0===arguments[2];if(!Z&&0===P)return 0;let _e=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return Ae(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*P;case"hex":return P>>>1;case"base64":return Me(ee).length;default:if(_e)return Z?-1:Ae(ee).length;L=(""+L).toLowerCase(),_e=!0}}function k(ee,L,P){let Z=!1;if((void 0===L||L<0)&&(L=0),L>this.length||((void 0===P||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(L>>>=0))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return we(this,L,P);case"utf8":case"utf-8":return J(this,L,P);case"ascii":return Y(this,L,P);case"latin1":case"binary":return ce(this,L,P);case"base64":return X(this,L,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $e(this,L,P);default:if(Z)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),Z=!0}}function F(ee,L,P){const Z=ee[L];ee[L]=ee[P],ee[P]=Z}function I(ee,L,P,Z,_e){if(0===ee.length)return-1;if("string"==typeof P?(Z=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),Qe(P=+P)&&(P=_e?0:ee.length-1),P<0&&(P=ee.length+P),P>=ee.length){if(_e)return-1;P=ee.length-1}else if(P<0){if(!_e)return-1;P=0}if("string"==typeof L&&(L=l.from(L,Z)),l.isBuffer(L))return 0===L.length?-1:H(ee,L,P,Z,_e);if("number"==typeof L)return L&=255,"function"==typeof Uint8Array.prototype.indexOf?_e?Uint8Array.prototype.indexOf.call(ee,L,P):Uint8Array.prototype.lastIndexOf.call(ee,L,P):H(ee,[L],P,Z,_e);throw new TypeError("val must be string, number or Buffer")}function H(ee,L,P,Z,_e){let ut,Ce=1,je=ee.length,xe=L.length;if(void 0!==Z&&("ucs2"===(Z=String(Z).toLowerCase())||"ucs-2"===Z||"utf16le"===Z||"utf-16le"===Z)){if(ee.length<2||L.length<2)return-1;Ce=2,je/=2,xe/=2,P/=2}function Be(lt,tt){return 1===Ce?lt[tt]:lt.readUInt16BE(tt*Ce)}if(_e){let lt=-1;for(ut=P;ut<je;ut++)if(Be(ee,ut)===Be(L,-1===lt?0:ut-lt)){if(-1===lt&&(lt=ut),ut-lt+1===xe)return lt*Ce}else-1!==lt&&(ut-=ut-lt),lt=-1}else for(P+xe>je&&(P=je-xe),ut=P;ut>=0;ut--){let lt=!0;for(let tt=0;tt<xe;tt++)if(Be(ee,ut+tt)!==Be(L,tt)){lt=!1;break}if(lt)return ut}return-1}function ne(ee,L,P,Z){P=Number(P)||0;const _e=ee.length-P;Z?(Z=Number(Z))>_e&&(Z=_e):Z=_e;const Ce=L.length;let je;for(Z>Ce/2&&(Z=Ce/2),je=0;je<Z;++je){const xe=parseInt(L.substr(2*je,2),16);if(Qe(xe))return je;ee[P+je]=xe}return je}function oe(ee,L,P,Z){return Le(Ae(L,ee.length-P),ee,P,Z)}function x(ee,L,P,Z){return Le(function Re(ee){const L=[];for(let P=0;P<ee.length;++P)L.push(255&ee.charCodeAt(P));return L}(L),ee,P,Z)}function G(ee,L,P,Z){return Le(Me(L),ee,P,Z)}function R(ee,L,P,Z){return Le(function Fe(ee,L){let P,Z,_e;const Ce=[];for(let je=0;je<ee.length&&!((L-=2)<0);++je)P=ee.charCodeAt(je),Z=P>>8,_e=P%256,Ce.push(_e),Ce.push(Z);return Ce}(L,ee.length-P),ee,P,Z)}function X(ee,L,P){return h.fromByteArray(0===L&&P===ee.length?ee:ee.slice(L,P))}function J(ee,L,P){P=Math.min(ee.length,P);const Z=[];let _e=L;for(;_e<P;){const Ce=ee[_e];let je=null,xe=Ce>239?4:Ce>223?3:Ce>191?2:1;if(_e+xe<=P){let Be,ut,lt,tt;switch(xe){case 1:Ce<128&&(je=Ce);break;case 2:Be=ee[_e+1],128==(192&Be)&&(tt=(31&Ce)<<6|63&Be,tt>127&&(je=tt));break;case 3:Be=ee[_e+1],ut=ee[_e+2],128==(192&Be)&&128==(192&ut)&&(tt=(15&Ce)<<12|(63&Be)<<6|63&ut,tt>2047&&(tt<55296||tt>57343)&&(je=tt));break;case 4:Be=ee[_e+1],ut=ee[_e+2],lt=ee[_e+3],128==(192&Be)&&128==(192&ut)&&128==(192&lt)&&(tt=(15&Ce)<<18|(63&Be)<<12|(63&ut)<<6|63&lt,tt>65535&&tt<1114112&&(je=tt))}}null===je?(je=65533,xe=1):je>65535&&(je-=65536,Z.push(je>>>10&1023|55296),je=56320|1023&je),Z.push(je),_e+=xe}return function U(ee){const L=ee.length;if(L<=ye)return String.fromCharCode.apply(String,ee);let P="",Z=0;for(;Z<L;)P+=String.fromCharCode.apply(String,ee.slice(Z,Z+=ye));return P}(Z)}p.kMaxLength=w,!(l.TYPED_ARRAY_SUPPORT=function E(){try{const ee=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(ee,L),42===ee.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(ee,L,P){return i(ee,L,P)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(ee,L,P){return function o(ee,L,P){return d(ee),ee<=0?f(ee):void 0!==L?"string"==typeof P?f(ee).fill(L,P):f(ee).fill(L):f(ee)}(ee,L,P)},l.allocUnsafe=function(ee){return a(ee)},l.allocUnsafeSlow=function(ee){return a(ee)},l.isBuffer=function(L){return null!=L&&!0===L._isBuffer&&L!==l.prototype},l.compare=function(L,P){if(Ue(L,Uint8Array)&&(L=l.from(L,L.offset,L.byteLength)),Ue(P,Uint8Array)&&(P=l.from(P,P.offset,P.byteLength)),!l.isBuffer(L)||!l.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===P)return 0;let Z=L.length,_e=P.length;for(let Ce=0,je=Math.min(Z,_e);Ce<je;++Ce)if(L[Ce]!==P[Ce]){Z=L[Ce],_e=P[Ce];break}return Z<_e?-1:_e<Z?1:0},l.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(L,P){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(0===L.length)return l.alloc(0);let Z;if(void 0===P)for(P=0,Z=0;Z<L.length;++Z)P+=L[Z].length;const _e=l.allocUnsafe(P);let Ce=0;for(Z=0;Z<L.length;++Z){let je=L[Z];if(Ue(je,Uint8Array))Ce+je.length>_e.length?(l.isBuffer(je)||(je=l.from(je)),je.copy(_e,Ce)):Uint8Array.prototype.set.call(_e,je,Ce);else{if(!l.isBuffer(je))throw new TypeError('"list" argument must be an Array of Buffers');je.copy(_e,Ce)}Ce+=je.length}return _e},l.byteLength=B,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<L;P+=2)F(this,P,P+1);return this},l.prototype.swap32=function(){const L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<L;P+=4)F(this,P,P+3),F(this,P+1,P+2);return this},l.prototype.swap64=function(){const L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<L;P+=8)F(this,P,P+7),F(this,P+1,P+6),F(this,P+2,P+5),F(this,P+3,P+4);return this},l.prototype.toLocaleString=l.prototype.toString=function(){const L=this.length;return 0===L?"":0===arguments.length?J(this,0,L):k.apply(this,arguments)},l.prototype.equals=function(L){if(!l.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L||0===l.compare(this,L)},l.prototype.inspect=function(){let L="";const P=p.INSPECT_MAX_BYTES;return L=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(L+=" ... "),"<Buffer "+L+">"},D&&(l.prototype[D]=l.prototype.inspect),l.prototype.compare=function(L,P,Z,_e,Ce){if(Ue(L,Uint8Array)&&(L=l.from(L,L.offset,L.byteLength)),!l.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(void 0===P&&(P=0),void 0===Z&&(Z=L?L.length:0),void 0===_e&&(_e=0),void 0===Ce&&(Ce=this.length),P<0||Z>L.length||_e<0||Ce>this.length)throw new RangeError("out of range index");if(_e>=Ce&&P>=Z)return 0;if(_e>=Ce)return-1;if(P>=Z)return 1;if(this===L)return 0;let je=(Ce>>>=0)-(_e>>>=0),xe=(Z>>>=0)-(P>>>=0);const Be=Math.min(je,xe),ut=this.slice(_e,Ce),lt=L.slice(P,Z);for(let tt=0;tt<Be;++tt)if(ut[tt]!==lt[tt]){je=ut[tt],xe=lt[tt];break}return je<xe?-1:xe<je?1:0},l.prototype.includes=function(L,P,Z){return-1!==this.indexOf(L,P,Z)},l.prototype.indexOf=function(L,P,Z){return I(this,L,P,Z,!0)},l.prototype.lastIndexOf=function(L,P,Z){return I(this,L,P,Z,!1)},l.prototype.write=function(L,P,Z,_e){if(void 0===P)_e="utf8",Z=this.length,P=0;else if(void 0===Z&&"string"==typeof P)_e=P,Z=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P>>>=0,isFinite(Z)?(Z>>>=0,void 0===_e&&(_e="utf8")):(_e=Z,Z=void 0)}const Ce=this.length-P;if((void 0===Z||Z>Ce)&&(Z=Ce),L.length>0&&(Z<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");_e||(_e="utf8");let je=!1;for(;;)switch(_e){case"hex":return ne(this,L,P,Z);case"utf8":case"utf-8":return oe(this,L,P,Z);case"ascii":case"latin1":case"binary":return x(this,L,P,Z);case"base64":return G(this,L,P,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,L,P,Z);default:if(je)throw new TypeError("Unknown encoding: "+_e);_e=(""+_e).toLowerCase(),je=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const ye=4096;function Y(ee,L,P){let Z="";P=Math.min(ee.length,P);for(let _e=L;_e<P;++_e)Z+=String.fromCharCode(127&ee[_e]);return Z}function ce(ee,L,P){let Z="";P=Math.min(ee.length,P);for(let _e=L;_e<P;++_e)Z+=String.fromCharCode(ee[_e]);return Z}function we(ee,L,P){const Z=ee.length;(!L||L<0)&&(L=0),(!P||P<0||P>Z)&&(P=Z);let _e="";for(let Ce=L;Ce<P;++Ce)_e+=We[ee[Ce]];return _e}function $e(ee,L,P){const Z=ee.slice(L,P);let _e="";for(let Ce=0;Ce<Z.length-1;Ce+=2)_e+=String.fromCharCode(Z[Ce]+256*Z[Ce+1]);return _e}function g(ee,L,P){if(ee%1!=0||ee<0)throw new RangeError("offset is not uint");if(ee+L>P)throw new RangeError("Trying to access beyond buffer length")}function T(ee,L,P,Z,_e,Ce){if(!l.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>_e||L<Ce)throw new RangeError('"value" argument is out of bounds');if(P+Z>ee.length)throw new RangeError("Index out of range")}function W(ee,L,P,Z,_e){Pe(L,Z,_e,ee,P,7);let Ce=Number(L&BigInt(4294967295));ee[P++]=Ce,Ce>>=8,ee[P++]=Ce,Ce>>=8,ee[P++]=Ce,Ce>>=8,ee[P++]=Ce;let je=Number(L>>BigInt(32)&BigInt(4294967295));return ee[P++]=je,je>>=8,ee[P++]=je,je>>=8,ee[P++]=je,je>>=8,ee[P++]=je,P}function K(ee,L,P,Z,_e){Pe(L,Z,_e,ee,P,7);let Ce=Number(L&BigInt(4294967295));ee[P+7]=Ce,Ce>>=8,ee[P+6]=Ce,Ce>>=8,ee[P+5]=Ce,Ce>>=8,ee[P+4]=Ce;let je=Number(L>>BigInt(32)&BigInt(4294967295));return ee[P+3]=je,je>>=8,ee[P+2]=je,je>>=8,ee[P+1]=je,je>>=8,ee[P]=je,P+8}function Q(ee,L,P,Z,_e,Ce){if(P+Z>ee.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function le(ee,L,P,Z,_e){return L=+L,P>>>=0,_e||Q(ee,0,P,4),y.write(ee,L,P,Z,23,4),P+4}function pe(ee,L,P,Z,_e){return L=+L,P>>>=0,_e||Q(ee,0,P,8),y.write(ee,L,P,Z,52,8),P+8}l.prototype.slice=function(L,P){const Z=this.length;(L=~~L)<0?(L+=Z)<0&&(L=0):L>Z&&(L=Z),(P=void 0===P?Z:~~P)<0?(P+=Z)<0&&(P=0):P>Z&&(P=Z),P<L&&(P=L);const _e=this.subarray(L,P);return Object.setPrototypeOf(_e,l.prototype),_e},l.prototype.readUintLE=l.prototype.readUIntLE=function(L,P,Z){L>>>=0,P>>>=0,Z||g(L,P,this.length);let _e=this[L],Ce=1,je=0;for(;++je<P&&(Ce*=256);)_e+=this[L+je]*Ce;return _e},l.prototype.readUintBE=l.prototype.readUIntBE=function(L,P,Z){L>>>=0,P>>>=0,Z||g(L,P,this.length);let _e=this[L+--P],Ce=1;for(;P>0&&(Ce*=256);)_e+=this[L+--P]*Ce;return _e},l.prototype.readUint8=l.prototype.readUInt8=function(L,P){return L>>>=0,P||g(L,1,this.length),this[L]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(L,P){return L>>>=0,P||g(L,2,this.length),this[L]|this[L+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(L,P){return L>>>=0,P||g(L,2,this.length),this[L]<<8|this[L+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(L,P){return L>>>=0,P||g(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(L,P){return L>>>=0,P||g(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},l.prototype.readBigUInt64LE=Je(function(L){Oe(L>>>=0,"offset");const P=this[L],Z=this[L+7];(void 0===P||void 0===Z)&&me(L,this.length-8);const _e=P+256*this[++L]+65536*this[++L]+this[++L]*2**24,Ce=this[++L]+256*this[++L]+65536*this[++L]+Z*2**24;return BigInt(_e)+(BigInt(Ce)<<BigInt(32))}),l.prototype.readBigUInt64BE=Je(function(L){Oe(L>>>=0,"offset");const P=this[L],Z=this[L+7];(void 0===P||void 0===Z)&&me(L,this.length-8);const _e=P*2**24+65536*this[++L]+256*this[++L]+this[++L],Ce=this[++L]*2**24+65536*this[++L]+256*this[++L]+Z;return(BigInt(_e)<<BigInt(32))+BigInt(Ce)}),l.prototype.readIntLE=function(L,P,Z){L>>>=0,P>>>=0,Z||g(L,P,this.length);let _e=this[L],Ce=1,je=0;for(;++je<P&&(Ce*=256);)_e+=this[L+je]*Ce;return Ce*=128,_e>=Ce&&(_e-=Math.pow(2,8*P)),_e},l.prototype.readIntBE=function(L,P,Z){L>>>=0,P>>>=0,Z||g(L,P,this.length);let _e=P,Ce=1,je=this[L+--_e];for(;_e>0&&(Ce*=256);)je+=this[L+--_e]*Ce;return Ce*=128,je>=Ce&&(je-=Math.pow(2,8*P)),je},l.prototype.readInt8=function(L,P){return L>>>=0,P||g(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},l.prototype.readInt16LE=function(L,P){L>>>=0,P||g(L,2,this.length);const Z=this[L]|this[L+1]<<8;return 32768&Z?4294901760|Z:Z},l.prototype.readInt16BE=function(L,P){L>>>=0,P||g(L,2,this.length);const Z=this[L+1]|this[L]<<8;return 32768&Z?4294901760|Z:Z},l.prototype.readInt32LE=function(L,P){return L>>>=0,P||g(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},l.prototype.readInt32BE=function(L,P){return L>>>=0,P||g(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},l.prototype.readBigInt64LE=Je(function(L){Oe(L>>>=0,"offset");const P=this[L],Z=this[L+7];return(void 0===P||void 0===Z)&&me(L,this.length-8),(BigInt(this[L+4]+256*this[L+5]+65536*this[L+6]+(Z<<24))<<BigInt(32))+BigInt(P+256*this[++L]+65536*this[++L]+this[++L]*2**24)}),l.prototype.readBigInt64BE=Je(function(L){Oe(L>>>=0,"offset");const P=this[L],Z=this[L+7];(void 0===P||void 0===Z)&&me(L,this.length-8);const _e=(P<<24)+65536*this[++L]+256*this[++L]+this[++L];return(BigInt(_e)<<BigInt(32))+BigInt(this[++L]*2**24+65536*this[++L]+256*this[++L]+Z)}),l.prototype.readFloatLE=function(L,P){return L>>>=0,P||g(L,4,this.length),y.read(this,L,!0,23,4)},l.prototype.readFloatBE=function(L,P){return L>>>=0,P||g(L,4,this.length),y.read(this,L,!1,23,4)},l.prototype.readDoubleLE=function(L,P){return L>>>=0,P||g(L,8,this.length),y.read(this,L,!0,52,8)},l.prototype.readDoubleBE=function(L,P){return L>>>=0,P||g(L,8,this.length),y.read(this,L,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(L,P,Z,_e){L=+L,P>>>=0,Z>>>=0,_e||T(this,L,P,Z,Math.pow(2,8*Z)-1,0);let Ce=1,je=0;for(this[P]=255&L;++je<Z&&(Ce*=256);)this[P+je]=L/Ce&255;return P+Z},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(L,P,Z,_e){L=+L,P>>>=0,Z>>>=0,_e||T(this,L,P,Z,Math.pow(2,8*Z)-1,0);let Ce=Z-1,je=1;for(this[P+Ce]=255&L;--Ce>=0&&(je*=256);)this[P+Ce]=L/je&255;return P+Z},l.prototype.writeUint8=l.prototype.writeUInt8=function(L,P,Z){return L=+L,P>>>=0,Z||T(this,L,P,1,255,0),this[P]=255&L,P+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(L,P,Z){return L=+L,P>>>=0,Z||T(this,L,P,2,65535,0),this[P]=255&L,this[P+1]=L>>>8,P+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(L,P,Z){return L=+L,P>>>=0,Z||T(this,L,P,2,65535,0),this[P]=L>>>8,this[P+1]=255&L,P+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(L,P,Z){return L=+L,P>>>=0,Z||T(this,L,P,4,4294967295,0),this[P+3]=L>>>24,this[P+2]=L>>>16,this[P+1]=L>>>8,this[P]=255&L,P+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(L,P,Z){return L=+L,P>>>=0,Z||T(this,L,P,4,4294967295,0),this[P]=L>>>24,this[P+1]=L>>>16,this[P+2]=L>>>8,this[P+3]=255&L,P+4},l.prototype.writeBigUInt64LE=Je(function(L,P=0){return W(this,L,P,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Je(function(L,P=0){return K(this,L,P,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(L,P,Z,_e){if(L=+L,P>>>=0,!_e){const Be=Math.pow(2,8*Z-1);T(this,L,P,Z,Be-1,-Be)}let Ce=0,je=1,xe=0;for(this[P]=255&L;++Ce<Z&&(je*=256);)L<0&&0===xe&&0!==this[P+Ce-1]&&(xe=1),this[P+Ce]=(L/je|0)-xe&255;return P+Z},l.prototype.writeIntBE=function(L,P,Z,_e){if(L=+L,P>>>=0,!_e){const Be=Math.pow(2,8*Z-1);T(this,L,P,Z,Be-1,-Be)}let Ce=Z-1,je=1,xe=0;for(this[P+Ce]=255&L;--Ce>=0&&(je*=256);)L<0&&0===xe&&0!==this[P+Ce+1]&&(xe=1),this[P+Ce]=(L/je|0)-xe&255;return P+Z},l.prototype.writeInt8=function(L,P,Z){return L=+L,P>>>=0,Z||T(this,L,P,1,127,-128),L<0&&(L=255+L+1),this[P]=255&L,P+1},l.prototype.writeInt16LE=function(L,P,Z){return L=+L,P>>>=0,Z||T(this,L,P,2,32767,-32768),this[P]=255&L,this[P+1]=L>>>8,P+2},l.prototype.writeInt16BE=function(L,P,Z){return L=+L,P>>>=0,Z||T(this,L,P,2,32767,-32768),this[P]=L>>>8,this[P+1]=255&L,P+2},l.prototype.writeInt32LE=function(L,P,Z){return L=+L,P>>>=0,Z||T(this,L,P,4,2147483647,-2147483648),this[P]=255&L,this[P+1]=L>>>8,this[P+2]=L>>>16,this[P+3]=L>>>24,P+4},l.prototype.writeInt32BE=function(L,P,Z){return L=+L,P>>>=0,Z||T(this,L,P,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[P]=L>>>24,this[P+1]=L>>>16,this[P+2]=L>>>8,this[P+3]=255&L,P+4},l.prototype.writeBigInt64LE=Je(function(L,P=0){return W(this,L,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Je(function(L,P=0){return K(this,L,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(L,P,Z){return le(this,L,P,!0,Z)},l.prototype.writeFloatBE=function(L,P,Z){return le(this,L,P,!1,Z)},l.prototype.writeDoubleLE=function(L,P,Z){return pe(this,L,P,!0,Z)},l.prototype.writeDoubleBE=function(L,P,Z){return pe(this,L,P,!1,Z)},l.prototype.copy=function(L,P,Z,_e){if(!l.isBuffer(L))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!_e&&0!==_e&&(_e=this.length),P>=L.length&&(P=L.length),P||(P=0),_e>0&&_e<Z&&(_e=Z),_e===Z||0===L.length||0===this.length)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("sourceEnd out of bounds");_e>this.length&&(_e=this.length),L.length-P<_e-Z&&(_e=L.length-P+Z);const Ce=_e-Z;return this===L&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(P,Z,_e):Uint8Array.prototype.set.call(L,this.subarray(Z,_e),P),Ce},l.prototype.fill=function(L,P,Z,_e){if("string"==typeof L){if("string"==typeof P?(_e=P,P=0,Z=this.length):"string"==typeof Z&&(_e=Z,Z=this.length),void 0!==_e&&"string"!=typeof _e)throw new TypeError("encoding must be a string");if("string"==typeof _e&&!l.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);if(1===L.length){const je=L.charCodeAt(0);("utf8"===_e&&je<128||"latin1"===_e)&&(L=je)}}else"number"==typeof L?L&=255:"boolean"==typeof L&&(L=Number(L));if(P<0||this.length<P||this.length<Z)throw new RangeError("Out of range index");if(Z<=P)return this;let Ce;if(P>>>=0,Z=void 0===Z?this.length:Z>>>0,L||(L=0),"number"==typeof L)for(Ce=P;Ce<Z;++Ce)this[Ce]=L;else{const je=l.isBuffer(L)?L:l.from(L,_e),xe=je.length;if(0===xe)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(Ce=0;Ce<Z-P;++Ce)this[Ce+P]=je[Ce%xe]}return this};const Ee={};function he(ee,L,P){Ee[ee]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ee}]`,delete this.name}get code(){return ee}set code(_e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_e,writable:!0})}toString(){return`${this.name} [${ee}]: ${this.message}`}}}function De(ee){let L="",P=ee.length;const Z="-"===ee[0]?1:0;for(;P>=Z+4;P-=3)L=`_${ee.slice(P-3,P)}${L}`;return`${ee.slice(0,P)}${L}`}function Pe(ee,L,P,Z,_e,Ce){if(ee>P||ee<L){const je="bigint"==typeof L?"n":"";let xe;throw xe=Ce>3?0===L||L===BigInt(0)?`>= 0${je} and < 2${je} ** ${8*(Ce+1)}${je}`:`>= -(2${je} ** ${8*(Ce+1)-1}${je}) and < 2 ** ${8*(Ce+1)-1}${je}`:`>= ${L}${je} and <= ${P}${je}`,new Ee.ERR_OUT_OF_RANGE("value",xe,ee)}!function Ge(ee,L,P){Oe(L,"offset"),(void 0===ee[L]||void 0===ee[L+P])&&me(L,ee.length-(P+1))}(Z,_e,Ce)}function Oe(ee,L){if("number"!=typeof ee)throw new Ee.ERR_INVALID_ARG_TYPE(L,"number",ee)}function me(ee,L,P){throw Math.floor(ee)!==ee?(Oe(ee,P),new Ee.ERR_OUT_OF_RANGE(P||"offset","an integer",ee)):L<0?new Ee.ERR_BUFFER_OUT_OF_BOUNDS:new Ee.ERR_OUT_OF_RANGE(P||"offset",`>= ${P?1:0} and <= ${L}`,ee)}he("ERR_BUFFER_OUT_OF_BOUNDS",function(ee){return ee?`${ee} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(ee,L){return`The "${ee}" argument must be of type number. Received type ${typeof L}`},TypeError),he("ERR_OUT_OF_RANGE",function(ee,L,P){let Z=`The value of "${ee}" is out of range.`,_e=P;return Number.isInteger(P)&&Math.abs(P)>2**32?_e=De(String(P)):"bigint"==typeof P&&(_e=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(_e=De(_e)),_e+="n"),Z+=` It must be ${L}. Received ${_e}`,Z},RangeError);const be=/[^+/0-9A-Za-z-_]/g;function Ae(ee,L){let P;L=L||1/0;const Z=ee.length;let _e=null;const Ce=[];for(let je=0;je<Z;++je){if(P=ee.charCodeAt(je),P>55295&&P<57344){if(!_e){if(P>56319){(L-=3)>-1&&Ce.push(239,191,189);continue}if(je+1===Z){(L-=3)>-1&&Ce.push(239,191,189);continue}_e=P;continue}if(P<56320){(L-=3)>-1&&Ce.push(239,191,189),_e=P;continue}P=65536+(_e-55296<<10|P-56320)}else _e&&(L-=3)>-1&&Ce.push(239,191,189);if(_e=null,P<128){if((L-=1)<0)break;Ce.push(P)}else if(P<2048){if((L-=2)<0)break;Ce.push(P>>6|192,63&P|128)}else if(P<65536){if((L-=3)<0)break;Ce.push(P>>12|224,P>>6&63|128,63&P|128)}else{if(!(P<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;Ce.push(P>>18|240,P>>12&63|128,P>>6&63|128,63&P|128)}}return Ce}function Me(ee){return h.toByteArray(function ge(ee){if((ee=(ee=ee.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;ee.length%4!=0;)ee+="=";return ee}(ee))}function Le(ee,L,P,Z){let _e;for(_e=0;_e<Z&&!(_e+P>=L.length||_e>=ee.length);++_e)L[_e+P]=ee[_e];return _e}function Ue(ee,L){return ee instanceof L||null!=ee&&null!=ee.constructor&&null!=ee.constructor.name&&ee.constructor.name===L.name}function Qe(ee){return ee!=ee}const We=function(){const ee="0123456789abcdef",L=new Array(256);for(let P=0;P<16;++P){const Z=16*P;for(let _e=0;_e<16;++_e)L[Z+_e]=ee[P]+ee[_e]}return L}();function Je(ee){return typeof BigInt>"u"?at:ee}function at(){throw new Error("BigInt not supported")}},51818:(q,p,s)=>{s(23963)},9236:q=>{var p=1e3,s=60*p,h=60*s,y=24*h,D=7*y;function i(d,o,a,v){var b=o>=1.5*a;return Math.round(d/a)+" "+v+(b?"s":"")}q.exports=function(d,o){o=o||{};var a=typeof d;if("string"===a&&d.length>0)return function E(d){if(!((d=String(d)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*D;case"days":case"day":case"d":return a*y;case"hours":case"hour":case"hrs":case"hr":case"h":return a*h;case"minutes":case"minute":case"mins":case"min":case"m":return a*s;case"seconds":case"second":case"secs":case"sec":case"s":return a*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(d);if("number"===a&&isFinite(d))return o.long?function l(d){var o=Math.abs(d);return o>=y?i(d,o,y,"day"):o>=h?i(d,o,h,"hour"):o>=s?i(d,o,s,"minute"):o>=p?i(d,o,p,"second"):d+" ms"}(d):function f(d){var o=Math.abs(d);return o>=y?Math.round(d/y)+"d":o>=h?Math.round(d/h)+"h":o>=s?Math.round(d/s)+"m":o>=p?Math.round(d/p)+"s":d+"ms"}(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))}},28664:(q,p,s)=>{"use strict";const{AbortError:h,codes:y}=s(43600),{isNodeStream:D,isWebStream:w,kControllerErrorFunction:E}=s(48886),f=s(37595),{ERR_INVALID_ARG_TYPE:l}=y;q.exports.addAbortSignal=function(o,a){if(((d,o)=>{if("object"!=typeof d||!("aborted"in d))throw new l("signal","AbortSignal",d)})(o),!D(a)&&!w(a))throw new l("stream",["ReadableStream","WritableStream","Stream"],a);return q.exports.addAbortSignalNoValidate(o,a)},q.exports.addAbortSignalNoValidate=function(d,o){if("object"!=typeof d||!("aborted"in d))return o;const a=D(o)?()=>{o.destroy(new h(void 0,{cause:d.reason}))}:()=>{o[E](new h(void 0,{cause:d.reason}))};return d.aborted?a():(d.addEventListener("abort",a),f(o,()=>d.removeEventListener("abort",a))),o}},76447:(q,p,s)=>{"use strict";const{StringPrototypeSlice:h,SymbolIterator:y,TypedArrayPrototypeSet:D,Uint8Array:w}=s(85035),{Buffer:E}=s(86166),{inspect:f}=s(31895);q.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(i){const d={data:i,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}unshift(i){const d={data:i,next:this.head};0===this.length&&(this.tail=d),this.head=d,++this.length}shift(){if(0===this.length)return;const i=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,i}clear(){this.head=this.tail=null,this.length=0}join(i){if(0===this.length)return"";let d=this.head,o=""+d.data;for(;null!==(d=d.next);)o+=i+d.data;return o}concat(i){if(0===this.length)return E.alloc(0);const d=E.allocUnsafe(i>>>0);let o=this.head,a=0;for(;o;)D(d,o.data,a),a+=o.data.length,o=o.next;return d}consume(i,d){const o=this.head.data;if(i<o.length){const a=o.slice(0,i);return this.head.data=o.slice(i),a}return i===o.length?this.shift():d?this._getString(i):this._getBuffer(i)}first(){return this.head.data}*[y](){for(let i=this.head;i;i=i.next)yield i.data}_getString(i){let d="",o=this.head,a=0;do{const v=o.data;if(!(i>v.length)){i===v.length?(d+=v,++a,this.head=o.next?o.next:this.tail=null):(d+=h(v,0,i),this.head=o,o.data=h(v,i));break}d+=v,i-=v.length,++a}while(null!==(o=o.next));return this.length-=a,d}_getBuffer(i){const d=E.allocUnsafe(i),o=i;let a=this.head,v=0;do{const b=a.data;if(!(i>b.length)){i===b.length?(D(d,b,o-i),++v,this.head=a.next?a.next:this.tail=null):(D(d,new w(b.buffer,b.byteOffset,i),o-i),this.head=a,a.data=b.slice(i));break}D(d,b,o-i),i-=b.length,++v}while(null!==(a=a.next));return this.length-=v,d}[Symbol.for("nodejs.util.inspect.custom")](i,d){return f(this,{...d,depth:0,customInspect:!1})}}},83763:(q,p,s)=>{"use strict";var h=s(29293).default;const{pipeline:y}=s(62305),D=s(91669),{destroyer:w}=s(13725),{isNodeStream:E,isReadable:f,isWritable:l,isWebStream:i,isTransformStream:d,isWritableStream:o,isReadableStream:a}=s(48886),{AbortError:v,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:m}}=s(43600),_=s(37595);q.exports=function(...S){if(0===S.length)throw new m("streams");if(1===S.length)return D.from(S[0]);const N=[...S];if("function"==typeof S[0]&&(S[0]=D.from(S[0])),"function"==typeof S[S.length-1]){const X=S.length-1;S[X]=D.from(S[X])}for(let X=0;X<S.length;++X)if(E(S[X])||i(S[X])){if(X<S.length-1&&!(f(S[X])||a(S[X])||d(S[X])))throw new b(`streams[${X}]`,N[X],"must be readable");if(X>0&&!(l(S[X])||o(S[X])||d(S[X])))throw new b(`streams[${X}]`,N[X],"must be writable")}let B,k,F,I,H;const oe=S[0],x=y(S,function ne(X){const J=I;I=null,J?J(X):X?H.destroy(X):!R&&!G&&H.destroy()}),G=!!(l(oe)||o(oe)||d(oe)),R=!!(f(x)||a(x)||d(x));if(H=new D({writableObjectMode:!(null==oe||!oe.writableObjectMode),readableObjectMode:!(null==x||!x.writableObjectMode),writable:G,readable:R}),G){if(E(oe))H._write=function(J,ye,U){oe.write(J,ye)?U():B=U},H._final=function(J){oe.end(),k=J},oe.on("drain",function(){if(B){const J=B;B=null,J()}});else if(i(oe)){const ye=(d(oe)?oe.writable:oe).getWriter();H._write=function(){var U=h(function*(Y,ce,we){try{yield ye.ready,ye.write(Y).catch(()=>{}),we()}catch($e){we($e)}});return function(Y,ce,we){return U.apply(this,arguments)}}(),H._final=function(){var U=h(function*(Y){try{yield ye.ready,ye.close().catch(()=>{}),k=Y}catch(ce){Y(ce)}});return function(Y){return U.apply(this,arguments)}}()}const X=d(x)?x.readable:x;_(X,()=>{if(k){const J=k;k=null,J()}})}if(R)if(E(x))x.on("readable",function(){if(F){const X=F;F=null,X()}}),x.on("end",function(){H.push(null)}),H._read=function(){for(;;){const X=x.read();if(null===X)return void(F=H._read);if(!H.push(X))return}};else if(i(x)){const J=(d(x)?x.readable:x).getReader();H._read=h(function*(){for(;;)try{const{value:ye,done:U}=yield J.read();if(!H.push(ye))return;if(U)return void H.push(null)}catch{return}})}return H._destroy=function(X,J){!X&&null!==I&&(X=new v),F=null,B=null,k=null,null===I?J(X):(I=J,E(x)&&w(x,X))},H}},13725:(q,p,s)=>{"use strict";const h=s(40573),{aggregateTwoErrors:y,codes:{ERR_MULTIPLE_CALLBACK:D},AbortError:w}=s(43600),{Symbol:E}=s(85035),{kDestroyed:f,isDestroyed:l,isFinished:i,isServerRequest:d}=s(48886),o=E("kDestroy"),a=E("kConstruct");function v(G,R,X){G&&(R&&!R.errored&&(R.errored=G),X&&!X.errored&&(X.errored=G))}function m(G,R,X){let J=!1;function ye(U){if(J)return;J=!0;const Y=G._readableState,ce=G._writableState;v(U,ce,Y),ce&&(ce.closed=!0),Y&&(Y.closed=!0),"function"==typeof X&&X(U),U?h.nextTick(_,G,U):h.nextTick(C,G)}try{G._destroy(R||null,ye)}catch(U){ye(U)}}function _(G,R){S(G,R),C(G)}function C(G){const R=G._readableState,X=G._writableState;X&&(X.closeEmitted=!0),R&&(R.closeEmitted=!0),(null!=X&&X.emitClose||null!=R&&R.emitClose)&&G.emit("close")}function S(G,R){const X=G._readableState,J=G._writableState;null!=J&&J.errorEmitted||null!=X&&X.errorEmitted||(J&&(J.errorEmitted=!0),X&&(X.errorEmitted=!0),G.emit("error",R))}function B(G,R,X){const J=G._readableState,ye=G._writableState;if(null!=ye&&ye.destroyed||null!=J&&J.destroyed)return this;null!=J&&J.autoDestroy||null!=ye&&ye.autoDestroy?G.destroy(R):R&&(ye&&!ye.errored&&(ye.errored=R),J&&!J.errored&&(J.errored=R),X?h.nextTick(S,G,R):S(G,R))}function F(G){let R=!1;function X(J){if(R)return void B(G,J??new D);R=!0;const ye=G._readableState,U=G._writableState,Y=U||ye;ye&&(ye.constructed=!0),U&&(U.constructed=!0),Y.destroyed?G.emit(o,J):J?B(G,J,!0):h.nextTick(I,G)}try{G._construct(J=>{h.nextTick(X,J)})}catch(J){h.nextTick(X,J)}}function I(G){G.emit(a)}function H(G){return G?.setHeader&&"function"==typeof G.abort}function ne(G){G.emit("close")}function oe(G,R){G.emit("error",R),h.nextTick(ne,G)}q.exports={construct:function k(G,R){if("function"!=typeof G._construct)return;const X=G._readableState,J=G._writableState;X&&(X.constructed=!1),J&&(J.constructed=!1),G.once(a,R),!(G.listenerCount(a)>1)&&h.nextTick(F,G)},destroyer:function x(G,R){!G||l(G)||(!R&&!i(G)&&(R=new w),d(G)?(G.socket=null,G.destroy(R)):H(G)?G.abort():H(G.req)?G.req.abort():"function"==typeof G.destroy?G.destroy(R):"function"==typeof G.close?G.close():R?h.nextTick(oe,G,R):h.nextTick(ne,G),G.destroyed||(G[f]=!0))},destroy:function b(G,R){const X=this._readableState,J=this._writableState,ye=J||X;return null!=J&&J.destroyed||null!=X&&X.destroyed?("function"==typeof R&&R(),this):(v(G,J,X),J&&(J.destroyed=!0),X&&(X.destroyed=!0),ye.constructed?m(this,G,R):this.once(o,function(U){m(this,y(U,G),R)}),this)},undestroy:function N(){const G=this._readableState,R=this._writableState;G&&(G.constructed=!0,G.closed=!1,G.closeEmitted=!1,G.destroyed=!1,G.errored=null,G.errorEmitted=!1,G.reading=!1,G.ended=!1===G.readable,G.endEmitted=!1===G.readable),R&&(R.constructed=!0,R.destroyed=!1,R.closed=!1,R.closeEmitted=!1,R.errored=null,R.errorEmitted=!1,R.finalCalled=!1,R.prefinished=!1,R.ended=!1===R.writable,R.ending=!1===R.writable,R.finished=!1===R.writable)},errorOrDestroy:B}},91669:(q,p,s)=>{"use strict";const{ObjectDefineProperties:h,ObjectGetOwnPropertyDescriptor:y,ObjectKeys:D,ObjectSetPrototypeOf:w}=s(85035);q.exports=l;const E=s(96155),f=s(37663);w(l.prototype,E.prototype),w(l,E);{const a=D(f.prototype);for(let v=0;v<a.length;v++){const b=a[v];l.prototype[b]||(l.prototype[b]=f.prototype[b])}}function l(a){if(!(this instanceof l))return new l(a);E.call(this,a),f.call(this,a),a?(this.allowHalfOpen=!1!==a.allowHalfOpen,!1===a.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===a.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let i,o;function d(){return void 0===i&&(i={}),i}h(l.prototype,{writable:{__proto__:null,...y(f.prototype,"writable")},writableHighWaterMark:{__proto__:null,...y(f.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...y(f.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...y(f.prototype,"writableBuffer")},writableLength:{__proto__:null,...y(f.prototype,"writableLength")},writableFinished:{__proto__:null,...y(f.prototype,"writableFinished")},writableCorked:{__proto__:null,...y(f.prototype,"writableCorked")},writableEnded:{__proto__:null,...y(f.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...y(f.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(a){this._readableState&&this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}}),l.fromWeb=function(a,v){return d().newStreamDuplexFromReadableWritablePair(a,v)},l.toWeb=function(a){return d().newReadableWritablePairFromDuplex(a)},l.from=function(a){return o||(o=s(31051)),o(a,"body")}},31051:(q,p,s)=>{var h=s(29293).default,y=s(53344).default,D=s(42958).default;const w=s(40573),E=s(86166),{isReadable:f,isWritable:l,isIterable:i,isNodeStream:d,isReadableNodeStream:o,isWritableNodeStream:a,isDuplexNodeStream:v}=s(48886),b=s(37595),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:C}}=s(43600),{destroyer:S}=s(13725),N=s(91669),B=s(96155),{createDeferredPromise:k}=s(31895),F=s(41647),I=globalThis.Blob||E.Blob,H=typeof I<"u"?function(J){return J instanceof I}:function(J){return!1},ne=globalThis.AbortController||s(9465).AbortController,{FunctionPrototypeCall:oe}=s(85035);class x extends N{constructor(J){super(J),!1===J?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===J?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function R(X){const J=X.readable&&"function"!=typeof X.readable.read?B.wrap(X.readable):X.readable,ye=X.writable;let ce,we,$e,g,T,U=!!f(J),Y=!!l(ye);function W(K){const Q=g;g=null,Q?Q(K):K&&T.destroy(K)}return T=new x({readableObjectMode:!(null==J||!J.readableObjectMode),writableObjectMode:!(null==ye||!ye.writableObjectMode),readable:U,writable:Y}),Y&&(b(ye,K=>{Y=!1,K&&S(J,K),W(K)}),T._write=function(K,Q,le){ye.write(K,Q)?le():ce=le},T._final=function(K){ye.end(),we=K},ye.on("drain",function(){if(ce){const K=ce;ce=null,K()}}),ye.on("finish",function(){if(we){const K=we;we=null,K()}})),U&&(b(J,K=>{U=!1,K&&S(J,K),W(K)}),J.on("readable",function(){if($e){const K=$e;$e=null,K()}}),J.on("end",function(){T.push(null)}),T._read=function(){for(;;){const K=J.read();if(null===K)return void($e=T._read);if(!T.push(K))return}}),T._destroy=function(K,Q){!K&&null!==g&&(K=new m),$e=null,ce=null,we=null,null===g?Q(K):(g=Q,S(ye,K),S(J,K))},T}q.exports=function X(J,ye){if(v(J))return J;if(o(J))return R({readable:J});if(a(J))return R({writable:J});if(d(J))return R({writable:!1,readable:!1});if("function"==typeof J){const{value:Y,write:ce,final:we,destroy:$e}=function G(X){let{promise:J,resolve:ye}=k();const U=new ne,Y=U.signal;return{value:X(D(function*(){for(;;){const we=J;J=null;const{chunk:$e,done:g,cb:T}=yield y(we);if(w.nextTick(T),g)return;if(Y.aborted)throw new m(void 0,{cause:Y.reason});({promise:J,resolve:ye}=k()),yield $e}})(),{signal:Y}),write(we,$e,g){const T=ye;ye=null,T({chunk:we,done:!1,cb:g})},final(we){const $e=ye;ye=null,$e({done:!0,cb:we})},destroy(we,$e){U.abort(),$e(we)}}}(J);if(i(Y))return F(x,Y,{objectMode:!0,write:ce,final:we,destroy:$e});const g=Y?.then;if("function"==typeof g){let T;const W=oe(g,Y,K=>{if(null!=K)throw new C("nully","body",K)},K=>{S(T,K)});return T=new x({objectMode:!0,readable:!1,write:ce,final(K){we(h(function*(){try{yield W,w.nextTick(K,null)}catch(Q){w.nextTick(K,Q)}}))},destroy:$e})}throw new C("Iterable, AsyncIterable or AsyncFunction",ye,Y)}if(H(J))return X(J.arrayBuffer());if(i(J))return F(x,J,{objectMode:!0,writable:!1});if("object"==typeof J?.writable||"object"==typeof J?.readable)return R({readable:null!=J&&J.readable?o(J?.readable)?J?.readable:X(J.readable):void 0,writable:null!=J&&J.writable?a(J?.writable)?J?.writable:X(J.writable):void 0});const U=J?.then;if("function"==typeof U){let Y;return oe(U,J,ce=>{null!=ce&&Y.push(ce),Y.push(null)},ce=>{S(Y,ce)}),Y=new x({objectMode:!0,writable:!1,read(){}})}throw new _(ye,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],J)}},37595:(q,p,s)=>{const h=s(40573),{AbortError:y,codes:D}=s(43600),{ERR_INVALID_ARG_TYPE:w,ERR_STREAM_PREMATURE_CLOSE:E}=D,{kEmptyObject:f,once:l}=s(31895),{validateAbortSignal:i,validateFunction:d,validateObject:o,validateBoolean:a}=s(63918),{Promise:v,PromisePrototypeThen:b}=s(85035),{isClosed:m,isReadable:_,isReadableNodeStream:C,isReadableStream:S,isReadableFinished:N,isReadableErrored:B,isWritable:k,isWritableNodeStream:F,isWritableStream:I,isWritableFinished:H,isWritableErrored:ne,isNodeStream:oe,willEmitClose:x,kIsClosedPromise:G}=s(48886),X=()=>{};function J(Y,ce,we){var $e,g;if(2===arguments.length?(we=ce,ce=f):null==ce?ce=f:o(ce,"options"),d(we,"callback"),i(ce.signal,"options.signal"),we=l(we),S(Y)||I(Y))return function ye(Y,ce,we){let $e=!1,g=X;if(ce.signal)if(g=()=>{$e=!0,we.call(Y,new y(void 0,{cause:ce.signal.reason}))},ce.signal.aborted)h.nextTick(g);else{const W=we;we=l((...K)=>{ce.signal.removeEventListener("abort",g),W.apply(Y,K)}),ce.signal.addEventListener("abort",g)}const T=(...W)=>{$e||h.nextTick(()=>we.apply(Y,W))};return b(Y[G].promise,T,T),X}(Y,ce,we);if(!oe(Y))throw new w("stream",["ReadableStream","WritableStream","Stream"],Y);const T=null!==($e=ce.readable)&&void 0!==$e?$e:C(Y),W=null!==(g=ce.writable)&&void 0!==g?g:F(Y),K=Y._writableState,Q=Y._readableState,le=()=>{Y.writable||he()};let pe=x(Y)&&C(Y)===T&&F(Y)===W,Ee=H(Y,!1);const he=()=>{Ee=!0,Y.destroyed&&(pe=!1),(!pe||Y.readable&&!T)&&(!T||De)&&we.call(Y)};let De=N(Y,!1);const Ge=()=>{De=!0,Y.destroyed&&(pe=!1),(!pe||Y.writable&&!W)&&(!W||Ee)&&we.call(Y)},Pe=Re=>{we.call(Y,Re)};let Oe=m(Y);const me=()=>{Oe=!0;const Re=ne(Y)||B(Y);return Re&&"boolean"!=typeof Re?we.call(Y,Re):T&&!De&&C(Y,!0)&&!N(Y,!1)?we.call(Y,new E):!W||Ee||H(Y,!1)?void we.call(Y):we.call(Y,new E)},be=()=>{Oe=!0;const Re=ne(Y)||B(Y);if(Re&&"boolean"!=typeof Re)return we.call(Y,Re);we.call(Y)},ge=()=>{Y.req.on("finish",he)};!function R(Y){return Y.setHeader&&"function"==typeof Y.abort}(Y)?W&&!K&&(Y.on("end",le),Y.on("close",le)):(Y.on("complete",he),pe||Y.on("abort",me),Y.req?ge():Y.on("request",ge)),!pe&&"boolean"==typeof Y.aborted&&Y.on("aborted",me),Y.on("end",Ge),Y.on("finish",he),!1!==ce.error&&Y.on("error",Pe),Y.on("close",me),Oe?h.nextTick(me):null!=K&&K.errorEmitted||null!=Q&&Q.errorEmitted?pe||h.nextTick(be):(!T&&(!pe||_(Y))&&(Ee||!1===k(Y))||!W&&(!pe||k(Y))&&(De||!1===_(Y))||Q&&Y.req&&Y.aborted)&&h.nextTick(be);const Ae=()=>{we=X,Y.removeListener("aborted",me),Y.removeListener("complete",he),Y.removeListener("abort",me),Y.removeListener("request",ge),Y.req&&Y.req.removeListener("finish",he),Y.removeListener("end",le),Y.removeListener("close",le),Y.removeListener("finish",he),Y.removeListener("end",Ge),Y.removeListener("error",Pe),Y.removeListener("close",me)};if(ce.signal&&!Oe){const Re=()=>{const Fe=we;Ae(),Fe.call(Y,new y(void 0,{cause:ce.signal.reason}))};if(ce.signal.aborted)h.nextTick(Re);else{const Fe=we;we=l((...Me)=>{ce.signal.removeEventListener("abort",Re),Fe.apply(Y,Me)}),ce.signal.addEventListener("abort",Re)}}return Ae}q.exports=J,q.exports.finished=function U(Y,ce){var we;let $e=!1;return null===ce&&(ce=f),null!==(we=ce)&&void 0!==we&&we.cleanup&&(a(ce.cleanup,"cleanup"),$e=ce.cleanup),new v((g,T)=>{const W=J(Y,ce,K=>{$e&&W(),K?T(K):g()})})}},41647:(q,p,s)=>{"use strict";var h=s(29293).default;const y=s(40573),{PromisePrototypeThen:D,SymbolAsyncIterator:w,SymbolIterator:E}=s(85035),{Buffer:f}=s(86166),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:i}=s(43600).codes;q.exports=function d(o,a,v){let b,m;if("string"==typeof a||a instanceof f)return new o({objectMode:!0,...v,read(){this.push(a),this.push(null)}});if(a&&a[w])m=!0,b=a[w]();else{if(!a||!a[E])throw new l("iterable",["Iterable"],a);m=!1,b=a[E]()}const _=new o({objectMode:!0,highWaterMark:1,...v});let C=!1;function N(){return(N=h(function*(F){if(null!=F&&"function"==typeof b.throw){const{value:ne,done:oe}=yield b.throw(F);if(yield ne,oe)return}if("function"==typeof b.return){const{value:ne}=yield b.return();yield ne}})).apply(this,arguments)}function k(){return(k=h(function*(){for(;;){try{const{value:F,done:I}=m?yield b.next():b.next();if(I)_.push(null);else{const H=F&&"function"==typeof F.then?yield F:F;if(null===H)throw C=!1,new i;if(_.push(H))continue;C=!1}}catch(F){_.destroy(F)}break}})).apply(this,arguments)}return _._read=function(){C||(C=!0,function B(){k.apply(this,arguments)}())},_._destroy=function(F,I){D(function S(F){return N.apply(this,arguments)}(F),()=>y.nextTick(I,F),H=>y.nextTick(I,H||F))},_}},91356:(q,p,s)=>{"use strict";const{ArrayIsArray:h,ObjectSetPrototypeOf:y}=s(85035),{EventEmitter:D}=s(44356);function w(f){D.call(this,f)}function E(f,l,i){if("function"==typeof f.prependListener)return f.prependListener(l,i);f._events&&f._events[l]?h(f._events[l])?f._events[l].unshift(i):f._events[l]=[i,f._events[l]]:f.on(l,i)}y(w.prototype,D.prototype),y(w,D),w.prototype.pipe=function(f,l){const i=this;function d(C){f.writable&&!1===f.write(C)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",d),f.on("drain",o),!f._isStdio&&(!l||!1!==l.end)&&(i.on("end",v),i.on("close",b));let a=!1;function v(){a||(a=!0,f.end())}function b(){a||(a=!0,"function"==typeof f.destroy&&f.destroy())}function m(C){_(),0===D.listenerCount(this,"error")&&this.emit("error",C)}function _(){i.removeListener("data",d),f.removeListener("drain",o),i.removeListener("end",v),i.removeListener("close",b),i.removeListener("error",m),f.removeListener("error",m),i.removeListener("end",_),i.removeListener("close",_),f.removeListener("close",_)}return E(i,"error",m),E(f,"error",m),i.on("end",_),i.on("close",_),f.on("close",_),f.emit("pipe",i),f},q.exports={Stream:w,prependListener:E}},71234:(q,p,s)=>{"use strict";var h=s(29293).default,y=s(93513).default,D=s(82881).default,w=s(53344).default,E=s(42958).default;const f=globalThis.AbortController||s(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:l,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:d,ERR_OUT_OF_RANGE:o},AbortError:a}=s(43600),{validateAbortSignal:v,validateInteger:b,validateObject:m}=s(63918),_=s(85035).Symbol("kWeak"),{finished:C}=s(37595),S=s(83763),{addAbortSignalNoValidate:N}=s(28664),{isWritable:B,isNodeStream:k}=s(48886),{ArrayPrototypePush:F,MathFloor:I,Number:H,NumberIsNaN:ne,Promise:oe,PromiseReject:x,PromisePrototypeThen:G,Symbol:R}=s(85035),X=R("kEmpty"),J=R("kEof");function U(ge,Ae){if("function"!=typeof ge)throw new i("fn",["Function","AsyncFunction"],ge);null!=Ae&&m(Ae,"options"),null!=Ae?.signal&&v(Ae.signal,"options.signal");let Re=1;return null!=Ae?.concurrency&&(Re=I(Ae.concurrency)),b(Re,"concurrency",1),function(){var Fe=E(function*(){var Le,Ue;const Qe=new f,We=this,Je=[],at=Qe.signal,ee={signal:at},L=()=>Qe.abort();null!=Ae&&null!==(Le=Ae.signal)&&void 0!==Le&&Le.aborted&&L(),null==Ae||null===(Ue=Ae.signal)||void 0===Ue||Ue.addEventListener("abort",L);let P,Z,_e=!1;function Ce(){_e=!0}function xe(){return(xe=h(function*(){try{var lt,Be=!1,ut=!1;try{for(var pt,tt=D(We);Be=!(pt=yield tt.next()).done;Be=!1){let wt=pt.value;var Bt;if(_e)return;if(at.aborted)throw new a;try{wt=ge(wt,ee)}catch(Tt){wt=x(Tt)}wt!==X&&("function"==typeof(null===(Bt=wt)||void 0===Bt?void 0:Bt.catch)&&wt.catch(Ce),Je.push(wt),P&&(P(),P=null),!_e&&Je.length&&Je.length>=Re&&(yield new oe(Tt=>{Z=Tt})))}}catch(wt){ut=!0,lt=wt}finally{try{Be&&null!=tt.return&&(yield tt.return())}finally{if(ut)throw lt}}Je.push(J)}catch(wt){const Tt=x(wt);G(Tt,void 0,Ce),Je.push(Tt)}finally{var Ft;_e=!0,P&&(P(),P=null),null==Ae||null===(Ft=Ae.signal)||void 0===Ft||Ft.removeEventListener("abort",L)}})).apply(this,arguments)}!function je(){xe.apply(this,arguments)}();try{for(;;){for(;Je.length>0;){const Be=yield w(Je[0]);if(Be===J)return;if(at.aborted)throw new a;Be!==X&&(yield Be),Je.shift(),Z&&(Z(),Z=null)}yield w(new oe(Be=>{P=Be}))}}finally{Qe.abort(),_e=!0,Z&&(Z(),Z=null)}});return function Me(){return Fe.apply(this,arguments)}}().call(this)}function ce(ge){return we.apply(this,arguments)}function we(){return(we=h(function*(ge,Ae=void 0){var Me,Re=!1,Fe=!1;try{for(var Le=D(le.call(this,ge,Ae));Re=!(yield Le.next()).done;Re=!1)return!0}catch(Qe){Fe=!0,Me=Qe}finally{try{Re&&null!=Le.return&&(yield Le.return())}finally{if(Fe)throw Me}}return!1})).apply(this,arguments)}function g(){return(g=h(function*(ge,Ae=void 0){if("function"!=typeof ge)throw new i("fn",["Function","AsyncFunction"],ge);return!(yield ce.call(this,h(function*(...Re){return!(yield ge(...Re))}),Ae))})).apply(this,arguments)}function W(){return(W=h(function*(ge,Ae){var Me,Re=!1,Fe=!1;try{for(var Ue,Le=D(le.call(this,ge,Ae));Re=!(Ue=yield Le.next()).done;Re=!1)return Ue.value}catch(Qe){Fe=!0,Me=Qe}finally{try{Re&&null!=Le.return&&(yield Le.return())}finally{if(Fe)throw Me}}})).apply(this,arguments)}function Q(){return Q=h(function*(ge,Ae){if("function"!=typeof ge)throw new i("fn",["Function","AsyncFunction"],ge);function Fe(){return(Fe=h(function*(Je,at){return yield ge(Je,at),X})).apply(this,arguments)}var Ue,Me=!1,Le=!1;try{for(var Qe=D(U.call(this,function Re(Je,at){return Fe.apply(this,arguments)},Ae));Me=!(yield Qe.next()).done;Me=!1);}catch(Je){Le=!0,Ue=Je}finally{try{Me&&null!=Qe.return&&(yield Qe.return())}finally{if(Le)throw Ue}}}),Q.apply(this,arguments)}function le(ge,Ae){if("function"!=typeof ge)throw new i("fn",["Function","AsyncFunction"],ge);function Fe(){return(Fe=h(function*(Me,Le){return(yield ge(Me,Le))?Me:X})).apply(this,arguments)}return U.call(this,function Re(Me,Le){return Fe.apply(this,arguments)},Ae)}class pe extends d{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function he(){return he=h(function*(ge,Ae,Re){var Fe;if("function"!=typeof ge)throw new i("reducer",["Function","AsyncFunction"],ge);null!=Re&&m(Re,"options"),null!=Re?.signal&&v(Re.signal,"options.signal");let Me=arguments.length>1;if(null!=Re&&null!==(Fe=Re.signal)&&void 0!==Fe&&Fe.aborted){const Z=new a(void 0,{cause:Re.signal.reason});throw this.once("error",()=>{}),yield C(this.destroy(Z)),Z}const Le=new f,Ue=Le.signal;null!=Re&&Re.signal&&Re.signal.addEventListener("abort",()=>Le.abort(),{once:!0,[_]:this});let Qe=!1;try{var at,We=!1,Je=!1;try{for(var L,ee=D(this);We=!(L=yield ee.next()).done;We=!1){const Z=L.value;var P;if(Qe=!0,null!=Re&&null!==(P=Re.signal)&&void 0!==P&&P.aborted)throw new a;Me?Ae=yield ge(Ae,Z,{signal:Ue}):(Ae=Z,Me=!0)}}catch(Z){Je=!0,at=Z}finally{try{We&&null!=ee.return&&(yield ee.return())}finally{if(Je)throw at}}if(!Qe&&!Me)throw new pe}finally{Le.abort()}return Ae}),he.apply(this,arguments)}function Ge(){return(Ge=h(function*(ge){null!=ge&&m(ge,"options"),null!=ge?.signal&&v(ge.signal,"options.signal");const Ae=[];var Me,Re=!1,Fe=!1;try{for(var Ue,Le=D(this);Re=!(Ue=yield Le.next()).done;Re=!1){const We=Ue.value;var Qe;if(null!=ge&&null!==(Qe=ge.signal)&&void 0!==Qe&&Qe.aborted)throw new a(void 0,{cause:ge.signal.reason});F(Ae,We)}}catch(We){Fe=!0,Me=We}finally{try{Re&&null!=Le.return&&(yield Le.return())}finally{if(Fe)throw Me}}return Ae})).apply(this,arguments)}function Oe(ge){if(ge=H(ge),ne(ge))return 0;if(ge<0)throw new o("number",">= 0",ge);return ge}q.exports.streamReturningOperators={asIndexedPairs:function Y(ge=void 0){return null!=ge&&m(ge,"options"),null!=ge?.signal&&v(ge.signal,"options.signal"),function(){var Ae=E(function*(){let Fe=0;var Ue,Me=!1,Le=!1;try{for(var We,Qe=D(this);Me=!(We=yield w(Qe.next())).done;Me=!1){const at=We.value;var Je;if(null!=ge&&null!==(Je=ge.signal)&&void 0!==Je&&Je.aborted)throw new a({cause:ge.signal.reason});yield[Fe++,at]}}catch(at){Le=!0,Ue=at}finally{try{Me&&null!=Qe.return&&(yield w(Qe.return()))}finally{if(Le)throw Ue}}});return function Re(){return Ae.apply(this,arguments)}}().call(this)},drop:function me(ge,Ae=void 0){return null!=Ae&&m(Ae,"options"),null!=Ae?.signal&&v(Ae.signal,"options.signal"),ge=Oe(ge),function(){var Re=E(function*(){var Me;if(null!=Ae&&null!==(Me=Ae.signal)&&void 0!==Me&&Me.aborted)throw new a;var Qe,Le=!1,Ue=!1;try{for(var Je,We=D(this);Le=!(Je=yield w(We.next())).done;Le=!1){const ee=Je.value;var at;if(null!=Ae&&null!==(at=Ae.signal)&&void 0!==at&&at.aborted)throw new a;ge--<=0&&(yield ee)}}catch(ee){Ue=!0,Qe=ee}finally{try{Le&&null!=We.return&&(yield w(We.return()))}finally{if(Ue)throw Qe}}});return function Fe(){return Re.apply(this,arguments)}}().call(this)},filter:le,flatMap:function Pe(ge,Ae){const Re=U.call(this,ge,Ae);return function(){var Fe=E(function*(){var Qe,Le=!1,Ue=!1;try{for(var Je,We=D(Re);Le=!(Je=yield w(We.next())).done;Le=!1){const at=Je.value;yield*y(D(at),w)}}catch(at){Ue=!0,Qe=at}finally{try{Le&&null!=We.return&&(yield w(We.return()))}finally{if(Ue)throw Qe}}});return function Me(){return Fe.apply(this,arguments)}}().call(this)},map:U,take:function be(ge,Ae=void 0){return null!=Ae&&m(Ae,"options"),null!=Ae?.signal&&v(Ae.signal,"options.signal"),ge=Oe(ge),function(){var Re=E(function*(){var Me;if(null!=Ae&&null!==(Me=Ae.signal)&&void 0!==Me&&Me.aborted)throw new a;var Qe,Le=!1,Ue=!1;try{for(var Je,We=D(this);Le=!(Je=yield w(We.next())).done;Le=!1){const ee=Je.value;var at;if(null!=Ae&&null!==(at=Ae.signal)&&void 0!==at&&at.aborted)throw new a;if(!(ge-- >0))return;yield ee}}catch(ee){Ue=!0,Qe=ee}finally{try{Le&&null!=We.return&&(yield w(We.return()))}finally{if(Ue)throw Qe}}});return function Fe(){return Re.apply(this,arguments)}}().call(this)},compose:function ye(ge,Ae){if(null!=Ae&&m(Ae,"options"),null!=Ae?.signal&&v(Ae.signal,"options.signal"),k(ge)&&!B(ge))throw new l("stream",ge,"must be writable");const Re=S(this,ge);return null!=Ae&&Ae.signal&&N(Ae.signal,Re),Re}},q.exports.promiseReturningOperators={every:function $e(ge){return g.apply(this,arguments)},forEach:function K(ge,Ae){return Q.apply(this,arguments)},reduce:function Ee(ge,Ae,Re){return he.apply(this,arguments)},toArray:function De(ge){return Ge.apply(this,arguments)},some:ce,find:function T(ge,Ae){return W.apply(this,arguments)}}},6513:(q,p,s)=>{"use strict";const{ObjectSetPrototypeOf:h}=s(85035);q.exports=D;const y=s(12475);function D(w){if(!(this instanceof D))return new D(w);y.call(this,w)}h(D.prototype,y.prototype),h(D,y),D.prototype._transform=function(w,E,f){f(null,w)}},62305:(q,p,s)=>{var h=s(29293).default,y=s(42958).default,D=s(53344).default,w=s(93513).default,E=s(82881).default;const f=s(40573),{ArrayIsArray:l,Promise:i,SymbolAsyncIterator:d}=s(85035),o=s(37595),{once:a}=s(31895),v=s(13725),b=s(91669),{aggregateTwoErrors:m,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:C,ERR_MISSING_ARGS:S,ERR_STREAM_DESTROYED:N,ERR_STREAM_PREMATURE_CLOSE:B},AbortError:k}=s(43600),{validateFunction:F,validateAbortSignal:I}=s(63918),{isIterable:H,isReadable:ne,isReadableNodeStream:oe,isNodeStream:x,isTransformStream:G,isWebStream:R,isReadableStream:X,isReadableEnded:J}=s(48886),ye=globalThis.AbortController||s(9465).AbortController;let U,Y;function ce(De,Ge,Pe){let Oe=!1;return De.on("close",()=>{Oe=!0}),{destroy:be=>{Oe||(Oe=!0,v.destroyer(De,be||new N("pipe")))},cleanup:o(De,{readable:Ge,writable:Pe},be=>{Oe=!be})}}function $e(De){if(H(De))return De;if(oe(De))return function g(De){return T.apply(this,arguments)}(De);throw new _("val",["Readable","Iterable","AsyncIterable"],De)}function T(){return(T=y(function*(De){Y||(Y=s(96155)),yield*w(E(Y.prototype[d].call(De)),D)})).apply(this,arguments)}function W(De,Ge,Pe,Oe){return K.apply(this,arguments)}function K(){return(K=h(function*(De,Ge,Pe,{end:Oe}){let me,be=null;const ge=We=>{if(We&&(me=We),be){const Je=be;be=null,Je()}},Ae=()=>new i((We,Je)=>{me?Je(me):be=()=>{me?Je(me):We()}});Ge.on("drain",ge);const Re=o(Ge,{readable:!1},ge);try{Ge.writableNeedDrain&&(yield Ae());var Le,Fe=!1,Me=!1;try{for(var Qe,Ue=E(De);Fe=!(Qe=yield Ue.next()).done;Fe=!1)Ge.write(Qe.value)||(yield Ae())}catch(We){Me=!0,Le=We}finally{try{Fe&&null!=Ue.return&&(yield Ue.return())}finally{if(Me)throw Le}}Oe&&Ge.end(),yield Ae(),Pe()}catch(We){Pe(me!==We?m(me,We):We)}finally{Re(),Ge.off("drain",ge)}})).apply(this,arguments)}function Q(De,Ge,Pe,Oe){return le.apply(this,arguments)}function le(){return(le=h(function*(De,Ge,Pe,{end:Oe}){G(Ge)&&(Ge=Ge.writable);const me=Ge.getWriter();try{var Ae,be=!1,ge=!1;try{for(var Fe,Re=E(De);be=!(Fe=yield Re.next()).done;be=!1){const Me=Fe.value;yield me.ready,me.write(Me).catch(()=>{})}}catch(Me){ge=!0,Ae=Me}finally{try{be&&null!=Re.return&&(yield Re.return())}finally{if(ge)throw Ae}}yield me.ready,Oe&&(yield me.close()),Pe()}catch(Me){try{yield me.abort(Me),Pe(Me)}catch(Le){Pe(Le)}}})).apply(this,arguments)}function Ee(De,Ge,Pe){if(1===De.length&&l(De[0])&&(De=De[0]),De.length<2)throw new S("streams");const Oe=new ye,me=Oe.signal,be=Pe?.signal,ge=[];function Ae(){Qe(new k)}let Re,Fe;I(be,"options.signal"),be?.addEventListener("abort",Ae);const Me=[];let We,Le=0;function Ue(L){Qe(L,0==--Le)}function Qe(L,P){if(L&&(!Re||"ERR_STREAM_PREMATURE_CLOSE"===Re.code)&&(Re=L),Re||P){for(;Me.length;)Me.shift()(Re);be?.removeEventListener("abort",Ae),Oe.abort(),P&&(Re||ge.forEach(Z=>Z()),f.nextTick(Ge,Re,Fe))}}for(let L=0;L<De.length;L++){const P=De[L],Z=L<De.length-1,_e=L>0,Ce=Z||!1!==Pe?.end,je=L===De.length-1;if(x(P)){let xe=function(Be){Be&&"AbortError"!==Be.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Be.code&&Ue(Be)};if(Ce){const{destroy:Be,cleanup:ut}=ce(P,Z,_e);Me.push(Be),ne(P)&&je&&ge.push(ut)}P.on("error",xe),ne(P)&&je&&ge.push(()=>{P.removeListener("error",xe)})}if(0===L)if("function"==typeof P){if(We=P({signal:me}),!H(We))throw new C("Iterable, AsyncIterable or Stream","source",We)}else We=H(P)||oe(P)||G(P)?P:b.from(P);else if("function"==typeof P){var Je;if(We=G(We)?$e(null===(Je=We)||void 0===Je?void 0:Je.readable):$e(We),We=P(We,{signal:me}),Z){if(!H(We,!0))throw new C("AsyncIterable",`transform[${L-1}]`,We)}else{var at;U||(U=s(6513));const xe=new U({objectMode:!0}),Be=null===(at=We)||void 0===at?void 0:at.then;if("function"==typeof Be)Le++,Be.call(We,tt=>{Fe=tt,null!=tt&&xe.write(tt),Ce&&xe.end(),f.nextTick(Ue)},tt=>{xe.destroy(tt),f.nextTick(Ue,tt)});else if(H(We,!0))Le++,W(We,xe,Ue,{end:Ce});else{if(!X(We)&&!G(We))throw new C("AsyncIterable or Promise","destination",We);Le++,W(We.readable||We,xe,Ue,{end:Ce})}We=xe;const{destroy:ut,cleanup:lt}=ce(We,!1,!0);Me.push(ut),je&&ge.push(lt)}}else if(x(P)){if(oe(We)){Le+=2;const xe=he(We,P,Ue,{end:Ce});ne(P)&&je&&ge.push(xe)}else if(G(We)||X(We))Le++,W(We.readable||We,P,Ue,{end:Ce});else{if(!H(We))throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],We);Le++,W(We,P,Ue,{end:Ce})}We=P}else if(R(P)){if(oe(We))Le++,Q($e(We),P,Ue,{end:Ce});else if(X(We)||H(We))Le++,Q(We,P,Ue,{end:Ce});else{if(!G(We))throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],We);Le++,Q(We.readable,P,Ue,{end:Ce})}We=P}else We=b.from(P)}return(null!=me&&me.aborted||null!=be&&be.aborted)&&f.nextTick(Ae),We}function he(De,Ge,Pe,{end:Oe}){let me=!1;if(Ge.on("close",()=>{me||Pe(new B)}),De.pipe(Ge,{end:!1}),Oe){let ge=function(){me=!0,Ge.end()};J(De)?f.nextTick(ge):De.once("end",ge)}else Pe();return o(De,{readable:!0,writable:!1},ge=>{const Ae=De._readableState;ge&&"ERR_STREAM_PREMATURE_CLOSE"===ge.code&&Ae&&Ae.ended&&!Ae.errored&&!Ae.errorEmitted?De.once("end",Pe).once("error",Pe):Pe(ge)}),o(Ge,{readable:!1,writable:!0},Pe)}q.exports={pipelineImpl:Ee,pipeline:function pe(...De){return Ee(De,a(function we(De){return F(De[De.length-1],"streams[stream.length - 1]"),De.pop()}(De)))}}},96155:(q,p,s)=>{var h=s(53344).default,y=s(42958).default;const D=s(40573),{ArrayPrototypeIndexOf:w,NumberIsInteger:E,NumberIsNaN:f,NumberParseInt:l,ObjectDefineProperties:i,ObjectKeys:d,ObjectSetPrototypeOf:o,Promise:a,SafeSet:v,SymbolAsyncIterator:b,Symbol:m}=s(85035);q.exports=W,W.ReadableState=T;const{EventEmitter:_}=s(44356),{Stream:C,prependListener:S}=s(91356),{Buffer:N}=s(86166),{addAbortSignal:B}=s(28664),k=s(37595);let F=s(31895).debuglog("stream",P=>{F=P});const I=s(76447),H=s(13725),{getHighWaterMark:ne,getDefaultHighWaterMark:oe}=s(28942),{aggregateTwoErrors:x,codes:{ERR_INVALID_ARG_TYPE:G,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:X,ERR_STREAM_PUSH_AFTER_EOF:J,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ye}}=s(43600),{validateObject:U}=s(63918),Y=m("kPaused"),{StringDecoder:ce}=s(78454),we=s(41647);o(W.prototype,C.prototype),o(W,C);const $e=()=>{},{errorOrDestroy:g}=H;function T(P,Z,_e){"boolean"!=typeof _e&&(_e=Z instanceof s(91669)),this.objectMode=!(!P||!P.objectMode),_e&&(this.objectMode=this.objectMode||!(!P||!P.readableObjectMode)),this.highWaterMark=P?ne(this,P,"readableHighWaterMark",_e):oe(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Y]=null,this.errorEmitted=!1,this.emitClose=!P||!1!==P.emitClose,this.autoDestroy=!P||!1!==P.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=P&&P.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,P&&P.encoding&&(this.decoder=new ce(P.encoding),this.encoding=P.encoding)}function W(P){if(!(this instanceof W))return new W(P);const Z=this instanceof s(91669);this._readableState=new T(P,this,Z),P&&("function"==typeof P.read&&(this._read=P.read),"function"==typeof P.destroy&&(this._destroy=P.destroy),"function"==typeof P.construct&&(this._construct=P.construct),P.signal&&!Z&&B(P.signal,this)),C.call(this,P),H.construct(this,()=>{this._readableState.needReadable&&Pe(this,this._readableState)})}function K(P,Z,_e,Ce){F("readableAddChunk",Z);const je=P._readableState;let xe;if(je.objectMode||("string"==typeof Z?je.encoding!==(_e=_e||je.defaultEncoding)&&(Ce&&je.encoding?Z=N.from(Z,_e).toString(je.encoding):(Z=N.from(Z,_e),_e="")):Z instanceof N?_e="":C._isUint8Array(Z)?(Z=C._uint8ArrayToBuffer(Z),_e=""):null!=Z&&(xe=new G("chunk",["string","Buffer","Uint8Array"],Z))),xe)g(P,xe);else if(null===Z)je.reading=!1,function he(P,Z){if(F("onEofChunk"),!Z.ended){if(Z.decoder){const _e=Z.decoder.end();_e&&_e.length&&(Z.buffer.push(_e),Z.length+=Z.objectMode?1:_e.length)}Z.ended=!0,Z.sync?De(P):(Z.needReadable=!1,Z.emittedReadable=!0,Ge(P))}}(P,je);else if(je.objectMode||Z&&Z.length>0)if(Ce)if(je.endEmitted)g(P,new ye);else{if(je.destroyed||je.errored)return!1;Q(P,je,Z,!0)}else if(je.ended)g(P,new J);else{if(je.destroyed||je.errored)return!1;je.reading=!1,je.decoder&&!_e?(Z=je.decoder.write(Z),je.objectMode||0!==Z.length?Q(P,je,Z,!1):Pe(P,je)):Q(P,je,Z,!1)}else Ce||(je.reading=!1,Pe(P,je));return!je.ended&&(je.length<je.highWaterMark||0===je.length)}function Q(P,Z,_e,Ce){Z.flowing&&0===Z.length&&!Z.sync&&P.listenerCount("data")>0?(Z.multiAwaitDrain?Z.awaitDrainWriters.clear():Z.awaitDrainWriters=null,Z.dataEmitted=!0,P.emit("data",_e)):(Z.length+=Z.objectMode?1:_e.length,Ce?Z.buffer.unshift(_e):Z.buffer.push(_e),Z.needReadable&&De(P)),Pe(P,Z)}function Ee(P,Z){return P<=0||0===Z.length&&Z.ended?0:Z.objectMode?1:f(P)?Z.flowing&&Z.length?Z.buffer.first().length:Z.length:P<=Z.length?P:Z.ended?Z.length:0}function De(P){const Z=P._readableState;F("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(F("emitReadable",Z.flowing),Z.emittedReadable=!0,D.nextTick(Ge,P))}function Ge(P){const Z=P._readableState;F("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&!Z.errored&&(Z.length||Z.ended)&&(P.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,Fe(P)}function Pe(P,Z){!Z.readingMore&&Z.constructed&&(Z.readingMore=!0,D.nextTick(Oe,P,Z))}function Oe(P,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&0===Z.length);){const _e=Z.length;if(F("maybeReadMore read 0"),P.read(0),_e===Z.length)break}Z.readingMore=!1}function be(P){const Z=P._readableState;Z.readableListening=P.listenerCount("readable")>0,Z.resumeScheduled&&!1===Z[Y]?Z.flowing=!0:P.listenerCount("data")>0?P.resume():Z.readableListening||(Z.flowing=null)}function ge(P){F("readable nexttick read 0"),P.read(0)}function Re(P,Z){F("resume",Z.reading),Z.reading||P.read(0),Z.resumeScheduled=!1,P.emit("resume"),Fe(P),Z.flowing&&!Z.reading&&P.read(0)}function Fe(P){const Z=P._readableState;for(F("flow",Z.flowing);Z.flowing&&null!==P.read(););}function Me(P,Z){"function"!=typeof P.read&&(P=W.wrap(P,{objectMode:!0}));const _e=function Le(P,Z){return Ue.apply(this,arguments)}(P,Z);return _e.stream=P,_e}function Ue(){return(Ue=y(function*(P,Z){let je,_e=$e;function Ce(Be){this===P?(_e(),_e=$e):_e=Be}P.on("readable",Ce);const xe=k(P,{writable:!1},Be=>{je=Be?x(je,Be):null,_e(),_e=$e});try{for(;;){const Be=P.destroyed?null:P.read();if(null!==Be)yield Be;else{if(je)throw je;if(null===je)return;yield h(new a(Ce))}}}catch(Be){throw je=x(je,Be),je}finally{!je&&!1===Z?.destroyOnReturn||void 0!==je&&!P._readableState.autoDestroy?(P.off("readable",Ce),xe()):H.destroyer(P,null)}})).apply(this,arguments)}function Qe(P,Z){if(0===Z.length)return null;let _e;return Z.objectMode?_e=Z.buffer.shift():!P||P>=Z.length?(_e=Z.decoder?Z.buffer.join(""):1===Z.buffer.length?Z.buffer.first():Z.buffer.concat(Z.length),Z.buffer.clear()):_e=Z.buffer.consume(P,Z.decoder),_e}function We(P){const Z=P._readableState;F("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,D.nextTick(Je,Z,P))}function Je(P,Z){if(F("endReadableNT",P.endEmitted,P.length),!P.errored&&!P.closeEmitted&&!P.endEmitted&&0===P.length)if(P.endEmitted=!0,Z.emit("end"),Z.writable&&!1===Z.allowHalfOpen)D.nextTick(at,Z);else if(P.autoDestroy){const _e=Z._writableState;(!_e||_e.autoDestroy&&(_e.finished||!1===_e.writable))&&Z.destroy()}}function at(P){P.writable&&!P.writableEnded&&!P.destroyed&&P.end()}let ee;function L(){return void 0===ee&&(ee={}),ee}W.prototype.destroy=H.destroy,W.prototype._undestroy=H.undestroy,W.prototype._destroy=function(P,Z){Z(P)},W.prototype[_.captureRejectionSymbol]=function(P){this.destroy(P)},W.prototype.push=function(P,Z){return K(this,P,Z,!1)},W.prototype.unshift=function(P,Z){return K(this,P,Z,!0)},W.prototype.isPaused=function(){const P=this._readableState;return!0===P[Y]||!1===P.flowing},W.prototype.setEncoding=function(P){const Z=new ce(P);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;const _e=this._readableState.buffer;let Ce="";for(const je of _e)Ce+=Z.write(je);return _e.clear(),""!==Ce&&_e.push(Ce),this._readableState.length=Ce.length,this},W.prototype.read=function(P){F("read",P),void 0===P?P=NaN:E(P)||(P=l(P,10));const Z=this._readableState,_e=P;if(P>Z.highWaterMark&&(Z.highWaterMark=function pe(P){if(P>1073741824)throw new X("size","<= 1GiB",P);return P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,++P}(P)),0!==P&&(Z.emittedReadable=!1),0===P&&Z.needReadable&&((0!==Z.highWaterMark?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return F("read: emitReadable",Z.length,Z.ended),0===Z.length&&Z.ended?We(this):De(this),null;if(0===(P=Ee(P,Z))&&Z.ended)return 0===Z.length&&We(this),null;let je,Ce=Z.needReadable;if(F("need readable",Ce),(0===Z.length||Z.length-P<Z.highWaterMark)&&(Ce=!0,F("length less than watermark",Ce)),Z.ended||Z.reading||Z.destroyed||Z.errored||!Z.constructed)Ce=!1,F("reading, ended or constructing",Ce);else if(Ce){F("do read"),Z.reading=!0,Z.sync=!0,0===Z.length&&(Z.needReadable=!0);try{this._read(Z.highWaterMark)}catch(xe){g(this,xe)}Z.sync=!1,Z.reading||(P=Ee(_e,Z))}return je=P>0?Qe(P,Z):null,null===je?(Z.needReadable=Z.length<=Z.highWaterMark,P=0):(Z.length-=P,Z.multiAwaitDrain?Z.awaitDrainWriters.clear():Z.awaitDrainWriters=null),0===Z.length&&(Z.ended||(Z.needReadable=!0),_e!==P&&Z.ended&&We(this)),null!==je&&!Z.errorEmitted&&!Z.closeEmitted&&(Z.dataEmitted=!0,this.emit("data",je)),je},W.prototype._read=function(P){throw new R("_read()")},W.prototype.pipe=function(P,Z){const _e=this,Ce=this._readableState;1===Ce.pipes.length&&(Ce.multiAwaitDrain||(Ce.multiAwaitDrain=!0,Ce.awaitDrainWriters=new v(Ce.awaitDrainWriters?[Ce.awaitDrainWriters]:[]))),Ce.pipes.push(P),F("pipe count=%d opts=%j",Ce.pipes.length,Z);const xe=Z&&!1===Z.end||P===D.stdout||P===D.stderr?V:ut;function ut(){F("onend"),P.end()}Ce.endEmitted?D.nextTick(xe):_e.once("end",xe),P.on("unpipe",function Be(ue,ie){F("onunpipe"),ue===_e&&ie&&!1===ie.hasUnpiped&&(ie.hasUnpiped=!0,function pt(){F("cleanup"),P.removeListener("close",Tt),P.removeListener("finish",br),lt&&P.removeListener("drain",lt),P.removeListener("error",wt),P.removeListener("unpipe",Be),_e.removeListener("end",ut),_e.removeListener("end",V),_e.removeListener("data",Ft),tt=!0,lt&&Ce.awaitDrainWriters&&(!P._writableState||P._writableState.needDrain)&&lt()}())});let lt,tt=!1;function Bt(){tt||(1===Ce.pipes.length&&Ce.pipes[0]===P?(F("false write response, pause",0),Ce.awaitDrainWriters=P,Ce.multiAwaitDrain=!1):Ce.pipes.length>1&&Ce.pipes.includes(P)&&(F("false write response, pause",Ce.awaitDrainWriters.size),Ce.awaitDrainWriters.add(P)),_e.pause()),lt||(lt=function me(P,Z){return function(){const Ce=P._readableState;Ce.awaitDrainWriters===Z?(F("pipeOnDrain",1),Ce.awaitDrainWriters=null):Ce.multiAwaitDrain&&(F("pipeOnDrain",Ce.awaitDrainWriters.size),Ce.awaitDrainWriters.delete(Z)),(!Ce.awaitDrainWriters||0===Ce.awaitDrainWriters.size)&&P.listenerCount("data")&&P.resume()}}(_e,P),P.on("drain",lt))}function Ft(ue){F("ondata");const ie=P.write(ue);F("dest.write",ie),!1===ie&&Bt()}function wt(ue){if(F("onerror",ue),V(),P.removeListener("error",wt),0===P.listenerCount("error")){const ie=P._writableState||P._readableState;ie&&!ie.errorEmitted?g(P,ue):P.emit("error",ue)}}function Tt(){P.removeListener("finish",br),V()}function br(){F("onfinish"),P.removeListener("close",Tt),V()}function V(){F("unpipe"),_e.unpipe(P)}return _e.on("data",Ft),S(P,"error",wt),P.once("close",Tt),P.once("finish",br),P.emit("pipe",_e),!0===P.writableNeedDrain?Ce.flowing&&Bt():Ce.flowing||(F("pipe resume"),_e.resume()),P},W.prototype.unpipe=function(P){const Z=this._readableState;if(0===Z.pipes.length)return this;if(!P){const je=Z.pipes;Z.pipes=[],this.pause();for(let xe=0;xe<je.length;xe++)je[xe].emit("unpipe",this,{hasUnpiped:!1});return this}const Ce=w(Z.pipes,P);return-1===Ce||(Z.pipes.splice(Ce,1),0===Z.pipes.length&&this.pause(),P.emit("unpipe",this,{hasUnpiped:!1})),this},W.prototype.addListener=W.prototype.on=function(P,Z){const _e=C.prototype.on.call(this,P,Z),Ce=this._readableState;return"data"===P?(Ce.readableListening=this.listenerCount("readable")>0,!1!==Ce.flowing&&this.resume()):"readable"===P&&!Ce.endEmitted&&!Ce.readableListening&&(Ce.readableListening=Ce.needReadable=!0,Ce.flowing=!1,Ce.emittedReadable=!1,F("on readable",Ce.length,Ce.reading),Ce.length?De(this):Ce.reading||D.nextTick(ge,this)),_e},W.prototype.off=W.prototype.removeListener=function(P,Z){const _e=C.prototype.removeListener.call(this,P,Z);return"readable"===P&&D.nextTick(be,this),_e},W.prototype.removeAllListeners=function(P){const Z=C.prototype.removeAllListeners.apply(this,arguments);return("readable"===P||void 0===P)&&D.nextTick(be,this),Z},W.prototype.resume=function(){const P=this._readableState;return P.flowing||(F("resume"),P.flowing=!P.readableListening,function Ae(P,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,D.nextTick(Re,P,Z))}(this,P)),P[Y]=!1,this},W.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Y]=!0,this},W.prototype.wrap=function(P){let Z=!1;P.on("data",Ce=>{!this.push(Ce)&&P.pause&&(Z=!0,P.pause())}),P.on("end",()=>{this.push(null)}),P.on("error",Ce=>{g(this,Ce)}),P.on("close",()=>{this.destroy()}),P.on("destroy",()=>{this.destroy()}),this._read=()=>{Z&&P.resume&&(Z=!1,P.resume())};const _e=d(P);for(let Ce=1;Ce<_e.length;Ce++){const je=_e[Ce];void 0===this[je]&&"function"==typeof P[je]&&(this[je]=P[je].bind(P))}return this},W.prototype[b]=function(){return Me(this)},W.prototype.iterator=function(P){return void 0!==P&&U(P,"options"),Me(this,P)},i(W.prototype,{readable:{__proto__:null,get(){const P=this._readableState;return!(!P||!1===P.readable||P.destroyed||P.errorEmitted||P.endEmitted)},set(P){this._readableState&&(this._readableState.readable=!!P)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(P){this._readableState&&(this._readableState.destroyed=P)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),i(T.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[Y]},set(P){this[Y]=!!P}}}),W._fromList=Qe,W.from=function(P,Z){return we(W,P,Z)},W.fromWeb=function(P,Z){return L().newStreamReadableFromReadableStream(P,Z)},W.toWeb=function(P,Z){return L().newReadableStreamFromStreamReadable(P,Z)},W.wrap=function(P,Z){var _e,Ce;return new W({objectMode:null===(_e=null!==(Ce=P.readableObjectMode)&&void 0!==Ce?Ce:P.objectMode)||void 0===_e||_e,...Z,destroy(je,xe){H.destroyer(P,je),xe(je)}}).wrap(P)}},28942:(q,p,s)=>{"use strict";const{MathFloor:h,NumberIsInteger:y}=s(85035),{ERR_INVALID_ARG_VALUE:D}=s(43600).codes;function E(l){return l?16:16384}q.exports={getHighWaterMark:function f(l,i,d,o){const a=function w(l,i,d){return null!=l.highWaterMark?l.highWaterMark:i?l[d]:null}(i,o,d);if(null!=a){if(!y(a)||a<0)throw new D(o?`options.${d}`:"options.highWaterMark",a);return h(a)}return E(l.objectMode)},getDefaultHighWaterMark:E}},12475:(q,p,s)=>{"use strict";const{ObjectSetPrototypeOf:h,Symbol:y}=s(85035);q.exports=l;const{ERR_METHOD_NOT_IMPLEMENTED:D}=s(43600).codes,w=s(91669),{getHighWaterMark:E}=s(28942);h(l.prototype,w.prototype),h(l,w);const f=y("kCallback");function l(o){if(!(this instanceof l))return new l(o);const a=o?E(this,o,"readableHighWaterMark",!0):null;0===a&&(o={...o,highWaterMark:null,readableHighWaterMark:a,writableHighWaterMark:o.writableHighWaterMark||0}),w.call(this,o),this._readableState.sync=!1,this[f]=null,o&&("function"==typeof o.transform&&(this._transform=o.transform),"function"==typeof o.flush&&(this._flush=o.flush)),this.on("prefinish",d)}function i(o){"function"!=typeof this._flush||this.destroyed?(this.push(null),o&&o()):this._flush((a,v)=>{a?o?o(a):this.destroy(a):(null!=v&&this.push(v),this.push(null),o&&o())})}function d(){this._final!==i&&i.call(this)}l.prototype._final=i,l.prototype._transform=function(o,a,v){throw new D("_transform()")},l.prototype._write=function(o,a,v){const b=this._readableState,m=this._writableState,_=b.length;this._transform(o,a,(C,S)=>{C?v(C):(null!=S&&this.push(S),m.ended||_===b.length||b.length<b.highWaterMark?v():this[f]=v)})},l.prototype._read=function(){if(this[f]){const o=this[f];this[f]=null,o()}}},48886:(q,p,s)=>{"use strict";const{Symbol:h,SymbolAsyncIterator:y,SymbolIterator:D,SymbolFor:w}=s(85035),E=h("kDestroyed"),f=h("kIsErrored"),l=h("kIsReadable"),i=h("kIsDisturbed"),d=w("nodejs.webstream.isClosedPromise"),o=w("nodejs.webstream.controllerErrorFunction");function a(g,T=!1){var W;return!(!g||"function"!=typeof g.pipe||"function"!=typeof g.on||T&&("function"!=typeof g.pause||"function"!=typeof g.resume)||g._writableState&&!1===(null===(W=g._readableState)||void 0===W?void 0:W.readable)||g._writableState&&!g._readableState)}function v(g){var T;return!(!g||"function"!=typeof g.write||"function"!=typeof g.on||g._readableState&&!1===(null===(T=g._writableState)||void 0===T?void 0:T.writable))}function m(g){return g&&(g._readableState||g._writableState||"function"==typeof g.write&&"function"==typeof g.on||"function"==typeof g.pipe&&"function"==typeof g.on)}function _(g){return!(!g||m(g)||"function"!=typeof g.pipeThrough||"function"!=typeof g.getReader||"function"!=typeof g.cancel)}function C(g){return!(!g||m(g)||"function"!=typeof g.getWriter||"function"!=typeof g.abort)}function S(g){return!(!g||m(g)||"object"!=typeof g.readable||"object"!=typeof g.writable)}function k(g){if(!m(g))return null;const K=g._writableState||g._readableState;return!!(g.destroyed||g[E]||null!=K&&K.destroyed)}function F(g){if(!v(g))return null;if(!0===g.writableEnded)return!0;const T=g._writableState;return(null==T||!T.errored)&&("boolean"!=typeof T?.ended?null:T.ended)}function ne(g,T){if(!a(g))return null;const W=g._readableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.endEmitted?null:!!(W.endEmitted||!1===T&&!0===W.ended&&0===W.length))}function oe(g){return g&&null!=g[l]?g[l]:"boolean"!=typeof g?.readable?null:!k(g)&&a(g)&&g.readable&&!ne(g)}function x(g){return"boolean"!=typeof g?.writable?null:!k(g)&&v(g)&&g.writable&&!F(g)}function ye(g){return"boolean"==typeof g._closed&&"boolean"==typeof g._defaultKeepAlive&&"boolean"==typeof g._removedConnection&&"boolean"==typeof g._removedContLen}function U(g){return"boolean"==typeof g._sent100&&ye(g)}q.exports={kDestroyed:E,isDisturbed:function we(g){var T;return!(!g||!(null!==(T=g[i])&&void 0!==T?T:g.readableDidRead||g.readableAborted))},kIsDisturbed:i,isErrored:function $e(g){var T,W,K,Q,le,pe,Ee,he,De,Ge;return!(!g||!(null!==(T=null!==(W=null!==(K=null!==(Q=null!==(le=null!==(pe=g[f])&&void 0!==pe?pe:g.readableErrored)&&void 0!==le?le:g.writableErrored)&&void 0!==Q?Q:null===(Ee=g._readableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==K?K:null===(he=g._writableState)||void 0===he?void 0:he.errorEmitted)&&void 0!==W?W:null===(De=g._readableState)||void 0===De?void 0:De.errored)&&void 0!==T?T:null!==(Ge=g._writableState)&&void 0!==Ge&&Ge.errored))},kIsErrored:f,isReadable:oe,kIsReadable:l,kIsClosedPromise:d,kControllerErrorFunction:o,isClosed:function J(g){if(!m(g))return null;if("boolean"==typeof g.closed)return g.closed;const T=g._writableState,W=g._readableState;return"boolean"==typeof T?.closed||"boolean"==typeof W?.closed?T?.closed||W?.closed:"boolean"==typeof g._closed&&ye(g)?g._closed:null},isDestroyed:k,isDuplexNodeStream:function b(g){return!(!g||"function"!=typeof g.pipe||!g._readableState||"function"!=typeof g.on||"function"!=typeof g.write)},isFinished:function G(g,T){return m(g)?!!k(g)||!(!1!==T?.readable&&oe(g)||!1!==T?.writable&&x(g)):null},isIterable:function B(g,T){return null!=g&&(!0===T?"function"==typeof g[y]:!1===T?"function"==typeof g[D]:"function"==typeof g[y]||"function"==typeof g[D])},isReadableNodeStream:a,isReadableStream:_,isReadableEnded:function H(g){if(!a(g))return null;if(!0===g.readableEnded)return!0;const T=g._readableState;return!(!T||T.errored)&&("boolean"!=typeof T?.ended?null:T.ended)},isReadableFinished:ne,isReadableErrored:function X(g){var T,W;return m(g)?g.readableErrored?g.readableErrored:null!==(T=null===(W=g._readableState)||void 0===W?void 0:W.errored)&&void 0!==T?T:null:null},isNodeStream:m,isWebStream:function N(g){return _(g)||C(g)||S(g)},isWritable:x,isWritableNodeStream:v,isWritableStream:C,isWritableEnded:F,isWritableFinished:function I(g,T){if(!v(g))return null;if(!0===g.writableFinished)return!0;const W=g._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.finished?null:!!(W.finished||!1===T&&!0===W.ended&&0===W.length))},isWritableErrored:function R(g){var T,W;return m(g)?g.writableErrored?g.writableErrored:null!==(T=null===(W=g._writableState)||void 0===W?void 0:W.errored)&&void 0!==T?T:null:null},isServerRequest:function Y(g){var T;return"boolean"==typeof g._consuming&&"boolean"==typeof g._dumped&&void 0===(null===(T=g.req)||void 0===T?void 0:T.upgradeOrConnect)},isServerResponse:U,willEmitClose:function ce(g){if(!m(g))return null;const K=g._writableState||g._readableState;return!K&&U(g)||!!(K&&K.autoDestroy&&K.emitClose&&!1===K.closed)},isTransformStream:S}},37663:(q,p,s)=>{const h=s(40573),{ArrayPrototypeSlice:y,Error:D,FunctionPrototypeSymbolHasInstance:w,ObjectDefineProperty:E,ObjectDefineProperties:f,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:i,Symbol:d,SymbolHasInstance:o}=s(85035);q.exports=U,U.WritableState=J;const{EventEmitter:a}=s(44356),v=s(91356).Stream,{Buffer:b}=s(86166),m=s(13725),{addAbortSignal:_}=s(28664),{getHighWaterMark:C,getDefaultHighWaterMark:S}=s(28942),{ERR_INVALID_ARG_TYPE:N,ERR_METHOD_NOT_IMPLEMENTED:B,ERR_MULTIPLE_CALLBACK:k,ERR_STREAM_CANNOT_PIPE:F,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:H,ERR_STREAM_NULL_VALUES:ne,ERR_STREAM_WRITE_AFTER_END:oe,ERR_UNKNOWN_ENCODING:x}=s(43600).codes,{errorOrDestroy:G}=m;function R(){}l(U.prototype,v.prototype),l(U,v);const X=d("kOnFinished");function J(me,be,ge){"boolean"!=typeof ge&&(ge=be instanceof s(91669)),this.objectMode=!(!me||!me.objectMode),ge&&(this.objectMode=this.objectMode||!(!me||!me.writableObjectMode)),this.highWaterMark=me?C(this,me,"writableHighWaterMark",ge):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(me&&!1===me.decodeStrings),this.defaultEncoding=me&&me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=g.bind(void 0,be),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ye(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!me||!1!==me.emitClose,this.autoDestroy=!me||!1!==me.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[X]=[]}function ye(me){me.buffered=[],me.bufferedIndex=0,me.allBuffers=!0,me.allNoop=!0}function U(me){const be=this instanceof s(91669);if(!be&&!w(U,this))return new U(me);this._writableState=new J(me,this,be),me&&("function"==typeof me.write&&(this._write=me.write),"function"==typeof me.writev&&(this._writev=me.writev),"function"==typeof me.destroy&&(this._destroy=me.destroy),"function"==typeof me.final&&(this._final=me.final),"function"==typeof me.construct&&(this._construct=me.construct),me.signal&&_(me.signal,this)),v.call(this,me),m.construct(this,()=>{const ge=this._writableState;ge.writing||Q(this,ge),he(this,ge)})}function Y(me,be,ge,Ae){const Re=me._writableState;if("function"==typeof ge)Ae=ge,ge=Re.defaultEncoding;else{if(ge){if("buffer"!==ge&&!b.isEncoding(ge))throw new x(ge)}else ge=Re.defaultEncoding;"function"!=typeof Ae&&(Ae=R)}if(null===be)throw new ne;if(!Re.objectMode)if("string"==typeof be)!1!==Re.decodeStrings&&(be=b.from(be,ge),ge="buffer");else if(be instanceof b)ge="buffer";else{if(!v._isUint8Array(be))throw new N("chunk",["string","Buffer","Uint8Array"],be);be=v._uint8ArrayToBuffer(be),ge="buffer"}let Fe;return Re.ending?Fe=new oe:Re.destroyed&&(Fe=new I("write")),Fe?(h.nextTick(Ae,Fe),G(me,Fe,!0),Fe):(Re.pendingcb++,function ce(me,be,ge,Ae,Re){const Fe=be.objectMode?1:ge.length;be.length+=Fe;const Me=be.length<be.highWaterMark;return Me||(be.needDrain=!0),be.writing||be.corked||be.errored||!be.constructed?(be.buffered.push({chunk:ge,encoding:Ae,callback:Re}),be.allBuffers&&"buffer"!==Ae&&(be.allBuffers=!1),be.allNoop&&Re!==R&&(be.allNoop=!1)):(be.writelen=Fe,be.writecb=Re,be.writing=!0,be.sync=!0,me._write(ge,Ae,be.onwrite),be.sync=!1),Me&&!be.errored&&!be.destroyed}(me,Re,be,ge,Ae))}function we(me,be,ge,Ae,Re,Fe,Me){be.writelen=Ae,be.writecb=Me,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new I("write")):ge?me._writev(Re,be.onwrite):me._write(Re,Fe,be.onwrite),be.sync=!1}function $e(me,be,ge,Ae){--be.pendingcb,Ae(ge),K(be),G(me,ge)}function g(me,be){const ge=me._writableState,Ae=ge.sync,Re=ge.writecb;"function"==typeof Re?(ge.writing=!1,ge.writecb=null,ge.length-=ge.writelen,ge.writelen=0,be?(ge.errored||(ge.errored=be),me._readableState&&!me._readableState.errored&&(me._readableState.errored=be),Ae?h.nextTick($e,me,ge,be,Re):$e(me,ge,be,Re)):(ge.buffered.length>ge.bufferedIndex&&Q(me,ge),Ae?null!==ge.afterWriteTickInfo&&ge.afterWriteTickInfo.cb===Re?ge.afterWriteTickInfo.count++:(ge.afterWriteTickInfo={count:1,cb:Re,stream:me,state:ge},h.nextTick(T,ge.afterWriteTickInfo)):W(me,ge,1,Re))):G(me,new k)}function T({stream:me,state:be,count:ge,cb:Ae}){return be.afterWriteTickInfo=null,W(me,be,ge,Ae)}function W(me,be,ge,Ae){for(!be.ending&&!me.destroyed&&0===be.length&&be.needDrain&&(be.needDrain=!1,me.emit("drain"));ge-- >0;)be.pendingcb--,Ae();be.destroyed&&K(be),he(me,be)}function K(me){if(me.writing)return;for(let Re=me.bufferedIndex;Re<me.buffered.length;++Re){var be;const{chunk:Fe,callback:Me}=me.buffered[Re];me.length-=me.objectMode?1:Fe.length,Me(null!==(be=me.errored)&&void 0!==be?be:new I("write"))}const ge=me[X].splice(0);for(let Re=0;Re<ge.length;Re++){var Ae;ge[Re](null!==(Ae=me.errored)&&void 0!==Ae?Ae:new I("end"))}ye(me)}function Q(me,be){if(be.corked||be.bufferProcessing||be.destroyed||!be.constructed)return;const{buffered:ge,bufferedIndex:Ae,objectMode:Re}=be,Fe=ge.length-Ae;if(!Fe)return;let Me=Ae;if(be.bufferProcessing=!0,Fe>1&&me._writev){be.pendingcb-=Fe-1;const Le=be.allNoop?R:Qe=>{for(let We=Me;We<ge.length;++We)ge[We].callback(Qe)},Ue=be.allNoop&&0===Me?ge:y(ge,Me);Ue.allBuffers=be.allBuffers,we(me,be,!0,be.length,Ue,"",Le),ye(be)}else{do{const{chunk:Le,encoding:Ue,callback:Qe}=ge[Me];ge[Me++]=null,we(me,be,!1,Re?1:Le.length,Le,Ue,Qe)}while(Me<ge.length&&!be.writing);Me===ge.length?ye(be):Me>256?(ge.splice(0,Me),be.bufferedIndex=0):be.bufferedIndex=Me}be.bufferProcessing=!1}function le(me){return me.ending&&!me.destroyed&&me.constructed&&0===me.length&&!me.errored&&0===me.buffered.length&&!me.finished&&!me.writing&&!me.errorEmitted&&!me.closeEmitted}function he(me,be,ge){le(be)&&(function Ee(me,be){!be.prefinished&&!be.finalCalled&&("function"!=typeof me._final||be.destroyed?(be.prefinished=!0,me.emit("prefinish")):(be.finalCalled=!0,function pe(me,be){let ge=!1;function Ae(Re){if(ge)G(me,Re??k());else if(ge=!0,be.pendingcb--,Re){const Fe=be[X].splice(0);for(let Me=0;Me<Fe.length;Me++)Fe[Me](Re);G(me,Re,be.sync)}else le(be)&&(be.prefinished=!0,me.emit("prefinish"),be.pendingcb++,h.nextTick(De,me,be))}be.sync=!0,be.pendingcb++;try{me._final(Ae)}catch(Re){Ae(Re)}be.sync=!1}(me,be)))}(me,be),0===be.pendingcb&&(ge?(be.pendingcb++,h.nextTick((Ae,Re)=>{le(Re)?De(Ae,Re):Re.pendingcb--},me,be)):le(be)&&(be.pendingcb++,De(me,be))))}function De(me,be){be.pendingcb--,be.finished=!0;const ge=be[X].splice(0);for(let Ae=0;Ae<ge.length;Ae++)ge[Ae]();if(me.emit("finish"),be.autoDestroy){const Ae=me._readableState;(!Ae||Ae.autoDestroy&&(Ae.endEmitted||!1===Ae.readable))&&me.destroy()}}J.prototype.getBuffer=function(){return y(this.buffered,this.bufferedIndex)},E(J.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),E(U,o,{__proto__:null,value:function(me){return!!w(this,me)||this===U&&me&&me._writableState instanceof J}}),U.prototype.pipe=function(){G(this,new F)},U.prototype.write=function(me,be,ge){return!0===Y(this,me,be,ge)},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){const me=this._writableState;me.corked&&(me.corked--,me.writing||Q(this,me))},U.prototype.setDefaultEncoding=function(be){if("string"==typeof be&&(be=i(be)),!b.isEncoding(be))throw new x(be);return this._writableState.defaultEncoding=be,this},U.prototype._write=function(me,be,ge){if(!this._writev)throw new B("_write()");this._writev([{chunk:me,encoding:be}],ge)},U.prototype._writev=null,U.prototype.end=function(me,be,ge){const Ae=this._writableState;let Re;if("function"==typeof me?(ge=me,me=null,be=null):"function"==typeof be&&(ge=be,be=null),null!=me){const Fe=Y(this,me,be);Fe instanceof D&&(Re=Fe)}return Ae.corked&&(Ae.corked=1,this.uncork()),Re||(Ae.errored||Ae.ending?Ae.finished?Re=new H("end"):Ae.destroyed&&(Re=new I("end")):(Ae.ending=!0,he(this,Ae,!0),Ae.ended=!0)),"function"==typeof ge&&(Re||Ae.finished?h.nextTick(ge,Re):Ae[X].push(ge)),this},f(U.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(me){this._writableState&&(this._writableState.destroyed=me)}},writable:{__proto__:null,get(){const me=this._writableState;return!(!me||!1===me.writable||me.destroyed||me.errored||me.ending||me.ended)},set(me){this._writableState&&(this._writableState.writable=!!me)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const me=this._writableState;return!!me&&!me.destroyed&&!me.ending&&me.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ge=m.destroy;let Pe;function Oe(){return void 0===Pe&&(Pe={}),Pe}U.prototype.destroy=function(me,be){const ge=this._writableState;return!ge.destroyed&&(ge.bufferedIndex<ge.buffered.length||ge[X].length)&&h.nextTick(K,ge),Ge.call(this,me,be),this},U.prototype._undestroy=m.undestroy,U.prototype._destroy=function(me,be){be(me)},U.prototype[a.captureRejectionSymbol]=function(me){this.destroy(me)},U.fromWeb=function(me,be){return Oe().newStreamWritableFromWritableStream(me,be)},U.toWeb=function(me){return Oe().newWritableStreamFromStreamWritable(me)}},63918:(q,p,s)=>{"use strict";const{ArrayIsArray:h,ArrayPrototypeIncludes:y,ArrayPrototypeJoin:D,ArrayPrototypeMap:w,NumberIsInteger:E,NumberIsNaN:f,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:i,NumberParseInt:d,ObjectPrototypeHasOwnProperty:o,RegExpPrototypeExec:a,String:v,StringPrototypeToUpperCase:b,StringPrototypeTrim:m}=s(85035),{hideStackFrames:_,codes:{ERR_SOCKET_BAD_PORT:C,ERR_INVALID_ARG_TYPE:S,ERR_INVALID_ARG_VALUE:N,ERR_OUT_OF_RANGE:B,ERR_UNKNOWN_SIGNAL:k}}=s(43600),{normalizeEncoding:F}=s(31895),{isAsyncFunction:I,isArrayBufferView:H}=s(31895).types,ne={},G=/^[0-7]+$/,J=_((Fe,Me,Le=i,Ue=l)=>{if("number"!=typeof Fe)throw new S(Me,"number",Fe);if(!E(Fe))throw new B(Me,"an integer",Fe);if(Fe<Le||Fe>Ue)throw new B(Me,`>= ${Le} && <= ${Ue}`,Fe)}),ye=_((Fe,Me,Le=-2147483648,Ue=2147483647)=>{if("number"!=typeof Fe)throw new S(Me,"number",Fe);if(!E(Fe))throw new B(Me,"an integer",Fe);if(Fe<Le||Fe>Ue)throw new B(Me,`>= ${Le} && <= ${Ue}`,Fe)}),U=_((Fe,Me,Le=!1)=>{if("number"!=typeof Fe)throw new S(Me,"number",Fe);if(!E(Fe))throw new B(Me,"an integer",Fe);const Ue=Le?1:0,Qe=4294967295;if(Fe<Ue||Fe>Qe)throw new B(Me,`>= ${Ue} && <= ${Qe}`,Fe)});function Y(Fe,Me){if("string"!=typeof Fe)throw new S(Me,"string",Fe)}const we=_((Fe,Me,Le)=>{if(!y(Le,Fe)){const Qe="must be one of: "+D(w(Le,We=>"string"==typeof We?`'${We}'`:v(We)),", ");throw new N(Me,Fe,Qe)}});function $e(Fe,Me){if("boolean"!=typeof Fe)throw new S(Me,"boolean",Fe)}function g(Fe,Me,Le){return null!=Fe&&o(Fe,Me)?Fe[Me]:Le}const T=_((Fe,Me,Le=null)=>{const Ue=g(Le,"allowArray",!1),Qe=g(Le,"allowFunction",!1);if(!g(Le,"nullable",!1)&&null===Fe||!Ue&&h(Fe)||"object"!=typeof Fe&&(!Qe||"function"!=typeof Fe))throw new S(Me,"Object",Fe)}),W=_((Fe,Me)=>{if(null!=Fe&&"object"!=typeof Fe&&"function"!=typeof Fe)throw new S(Me,"a dictionary",Fe)}),K=_((Fe,Me,Le=0)=>{if(!h(Fe))throw new S(Me,"Array",Fe);if(Fe.length<Le)throw new N(Me,Fe,`must be longer than ${Le}`)}),Ee=_((Fe,Me="buffer")=>{if(!H(Fe))throw new S(Me,["Buffer","TypedArray","DataView"],Fe)}),Ge=_((Fe,Me)=>{if(void 0!==Fe&&(null===Fe||"object"!=typeof Fe||!("aborted"in Fe)))throw new S(Me,"AbortSignal",Fe)}),Pe=_((Fe,Me)=>{if("function"!=typeof Fe)throw new S(Me,"Function",Fe)}),Oe=_((Fe,Me)=>{if("function"!=typeof Fe||I(Fe))throw new S(Me,"Function",Fe)}),me=_((Fe,Me)=>{if(void 0!==Fe)throw new S(Me,"undefined",Fe)}),ge=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Ae(Fe,Me){if(typeof Fe>"u"||!a(ge,Fe))throw new N(Me,Fe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}q.exports={isInt32:function oe(Fe){return Fe===(0|Fe)},isUint32:function x(Fe){return Fe===Fe>>>0},parseFileMode:function X(Fe,Me,Le){if(typeof Fe>"u"&&(Fe=Le),"string"==typeof Fe){if(null===a(G,Fe))throw new N(Me,Fe,"must be a 32-bit unsigned integer or an octal string");Fe=d(Fe,8)}return U(Fe,Me),Fe},validateArray:K,validateStringArray:function Q(Fe,Me){K(Fe,Me);for(let Le=0;Le<Fe.length;Le++)Y(Fe[Le],`${Me}[${Le}]`)},validateBooleanArray:function le(Fe,Me){K(Fe,Me);for(let Le=0;Le<Fe.length;Le++)$e(Fe[Le],`${Me}[${Le}]`)},validateBoolean:$e,validateBuffer:Ee,validateDictionary:W,validateEncoding:function he(Fe,Me){const Le=F(Me),Ue=Fe.length;if("hex"===Le&&Ue%2!=0)throw new N("encoding",Me,`is invalid for data of length ${Ue}`)},validateFunction:Pe,validateInt32:ye,validateInteger:J,validateNumber:function ce(Fe,Me,Le=void 0,Ue){if("number"!=typeof Fe)throw new S(Me,"number",Fe);if(null!=Le&&Fe<Le||null!=Ue&&Fe>Ue||(null!=Le||null!=Ue)&&f(Fe))throw new B(Me,`${null!=Le?`>= ${Le}`:""}${null!=Le&&null!=Ue?" && ":""}${null!=Ue?`<= ${Ue}`:""}`,Fe)},validateObject:T,validateOneOf:we,validatePlainFunction:Oe,validatePort:function De(Fe,Me="Port",Le=!0){if("number"!=typeof Fe&&"string"!=typeof Fe||"string"==typeof Fe&&0===m(Fe).length||+Fe!=+Fe>>>0||Fe>65535||0===Fe&&!Le)throw new C(Me,Fe,Le);return 0|Fe},validateSignalName:function pe(Fe,Me="signal"){if(Y(Fe,Me),void 0===ne[Fe])throw void 0!==ne[b(Fe)]?new k(Fe+" (signals must use all capital letters)"):new k(Fe)},validateString:Y,validateUint32:U,validateUndefined:me,validateUnion:function be(Fe,Me,Le){if(!y(Le,Fe))throw new S(Me,`('${D(Le,"|")}')`,Fe)},validateAbortSignal:Ge,validateLinkHeaderValue:function Re(Fe){if("string"==typeof Fe)return Ae(Fe,"hints"),Fe;if(h(Fe)){const Me=Fe.length;let Le="";if(0===Me)return Le;for(let Ue=0;Ue<Me;Ue++){const Qe=Fe[Ue];Ae(Qe,"hints"),Le+=Qe,Ue!==Me-1&&(Le+=", ")}return Le}throw new N("hints",Fe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},57963:(q,p,s)=>{"use strict";const h=s(71995),y=s(86124),D=h.Readable.destroy;q.exports=h.Readable,q.exports._uint8ArrayToBuffer=h._uint8ArrayToBuffer,q.exports._isUint8Array=h._isUint8Array,q.exports.isDisturbed=h.isDisturbed,q.exports.isErrored=h.isErrored,q.exports.isReadable=h.isReadable,q.exports.Readable=h.Readable,q.exports.Writable=h.Writable,q.exports.Duplex=h.Duplex,q.exports.Transform=h.Transform,q.exports.PassThrough=h.PassThrough,q.exports.addAbortSignal=h.addAbortSignal,q.exports.finished=h.finished,q.exports.destroy=h.destroy,q.exports.destroy=D,q.exports.pipeline=h.pipeline,q.exports.compose=h.compose,Object.defineProperty(h,"promises",{configurable:!0,enumerable:!0,get:()=>y}),q.exports.Stream=h.Stream,q.exports.default=q.exports},43600:(q,p,s)=>{"use strict";const{format:h,inspect:y,AggregateError:D}=s(31895),w=globalThis.AggregateError||D,E=Symbol("kIsNodeError"),f=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,d={};function o(S,N){if(!S)throw new d.ERR_INTERNAL_ASSERTION(N)}function a(S){let N="",B=S.length;const k="-"===S[0]?1:0;for(;B>=k+4;B-=3)N=`_${S.slice(B-3,B)}${N}`;return`${S.slice(0,B)}${N}`}function b(S,N,B){B||(B=Error);class k extends B{constructor(...I){super(function v(S,N,B){if("function"==typeof N)return o(N.length<=B.length,`Code: ${S}; The provided arguments length (${B.length}) does not match the required ones (${N.length}).`),N(...B);const k=(N.match(/%[dfijoOs]/g)||[]).length;return o(k===B.length,`Code: ${S}; The provided arguments length (${B.length}) does not match the required ones (${k}).`),0===B.length?N:h(N,...B)}(S,N,I))}toString(){return`${this.name} [${S}]: ${this.message}`}}Object.defineProperties(k.prototype,{name:{value:B.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${S}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),k.prototype.code=S,k.prototype[E]=!0,d[S]=k}function m(S){return Object.defineProperty(S,"name",{value:"__node_internal_"+S.name}),S}class C extends Error{constructor(N="The operation was aborted",B=void 0){if(void 0!==B&&"object"!=typeof B)throw new d.ERR_INVALID_ARG_TYPE("options","Object",B);super(N,B),this.code="ABORT_ERR",this.name="AbortError"}}b("ERR_ASSERTION","%s",Error),b("ERR_INVALID_ARG_TYPE",(S,N,B)=>{o("string"==typeof S,"'name' must be a string"),Array.isArray(N)||(N=[N]);let k="The ";S.endsWith(" argument")?k+=`${S} `:k+=`"${S}" ${S.includes(".")?"property":"argument"} `,k+="must be ";const F=[],I=[],H=[];for(const oe of N)o("string"==typeof oe,"All expected entries have to be of type string"),f.includes(oe)?F.push(oe.toLowerCase()):l.test(oe)?I.push(oe):(o("object"!==oe,'The value "object" should be written as "Object"'),H.push(oe));if(I.length>0){const oe=F.indexOf("object");-1!==oe&&(F.splice(F,oe,1),I.push("Object"))}if(F.length>0){switch(F.length){case 1:k+=`of type ${F[0]}`;break;case 2:k+=`one of type ${F[0]} or ${F[1]}`;break;default:{const oe=F.pop();k+=`one of type ${F.join(", ")}, or ${oe}`}}(I.length>0||H.length>0)&&(k+=" or ")}if(I.length>0){switch(I.length){case 1:k+=`an instance of ${I[0]}`;break;case 2:k+=`an instance of ${I[0]} or ${I[1]}`;break;default:{const oe=I.pop();k+=`an instance of ${I.join(", ")}, or ${oe}`}}H.length>0&&(k+=" or ")}switch(H.length){case 0:break;case 1:H[0].toLowerCase()!==H[0]&&(k+="an "),k+=`${H[0]}`;break;case 2:k+=`one of ${H[0]} or ${H[1]}`;break;default:{const oe=H.pop();k+=`one of ${H.join(", ")}, or ${oe}`}}if(null==B)k+=`. Received ${B}`;else if("function"==typeof B&&B.name)k+=`. Received function ${B.name}`;else if("object"==typeof B){var ne;null!==(ne=B.constructor)&&void 0!==ne&&ne.name?k+=`. Received an instance of ${B.constructor.name}`:k+=`. Received ${y(B,{depth:-1})}`}else{let oe=y(B,{colors:!1});oe.length>25&&(oe=`${oe.slice(0,25)}...`),k+=`. Received type ${typeof B} (${oe})`}return k},TypeError),b("ERR_INVALID_ARG_VALUE",(S,N,B="is invalid")=>{let k=y(N);return k.length>128&&(k=k.slice(0,128)+"..."),`The ${S.includes(".")?"property":"argument"} '${S}' ${B}. Received ${k}`},TypeError),b("ERR_INVALID_RETURN_VALUE",(S,N,B)=>{var k;return`Expected ${S} to be returned from the "${N}" function but got ${null!=B&&null!==(k=B.constructor)&&void 0!==k&&k.name?`instance of ${B.constructor.name}`:"type "+typeof B}.`},TypeError),b("ERR_MISSING_ARGS",(...S)=>{let N;o(S.length>0,"At least one arg needs to be specified");const B=S.length;switch(S=(Array.isArray(S)?S:[S]).map(k=>`"${k}"`).join(" or "),B){case 1:N+=`The ${S[0]} argument`;break;case 2:N+=`The ${S[0]} and ${S[1]} arguments`;break;default:{const k=S.pop();N+=`The ${S.join(", ")}, and ${k} arguments`}}return`${N} must be specified`},TypeError),b("ERR_OUT_OF_RANGE",(S,N,B)=>{let k;return o(N,'Missing "range" argument'),Number.isInteger(B)&&Math.abs(B)>2**32?k=a(String(B)):"bigint"==typeof B?(k=String(B),(B>2n**32n||B<-(2n**32n))&&(k=a(k)),k+="n"):k=y(B),`The value of "${S}" is out of range. It must be ${N}. Received ${k}`},RangeError),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),b("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),b("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),b("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),b("ERR_STREAM_WRITE_AFTER_END","write after end",Error),b("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),q.exports={AbortError:C,aggregateTwoErrors:m(function _(S,N){if(S&&N&&S!==N){if(Array.isArray(N.errors))return N.errors.push(S),N;const B=new w([N,S],N.message);return B.code=N.code,B}return S||N}),hideStackFrames:m,codes:d}},85035:q=>{"use strict";q.exports={ArrayIsArray:p=>Array.isArray(p),ArrayPrototypeIncludes:(p,s)=>p.includes(s),ArrayPrototypeIndexOf:(p,s)=>p.indexOf(s),ArrayPrototypeJoin:(p,s)=>p.join(s),ArrayPrototypeMap:(p,s)=>p.map(s),ArrayPrototypePop:(p,s)=>p.pop(s),ArrayPrototypePush:(p,s)=>p.push(s),ArrayPrototypeSlice:(p,s,h)=>p.slice(s,h),Error,FunctionPrototypeCall:(p,s,...h)=>p.call(s,...h),FunctionPrototypeSymbolHasInstance:(p,s)=>Function.prototype[Symbol.hasInstance].call(p,s),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(p,s)=>Object.defineProperties(p,s),ObjectDefineProperty:(p,s,h)=>Object.defineProperty(p,s,h),ObjectGetOwnPropertyDescriptor:(p,s)=>Object.getOwnPropertyDescriptor(p,s),ObjectKeys:p=>Object.keys(p),ObjectSetPrototypeOf:(p,s)=>Object.setPrototypeOf(p,s),Promise,PromisePrototypeCatch:(p,s)=>p.catch(s),PromisePrototypeThen:(p,s,h)=>p.then(s,h),PromiseReject:p=>Promise.reject(p),ReflectApply:Reflect.apply,RegExpPrototypeTest:(p,s)=>p.test(s),SafeSet:Set,String,StringPrototypeSlice:(p,s,h)=>p.slice(s,h),StringPrototypeToLowerCase:p=>p.toLowerCase(),StringPrototypeToUpperCase:p=>p.toUpperCase(),StringPrototypeTrim:p=>p.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(p,s,h)=>p.set(s,h),Uint8Array}},31895:(q,p,s)=>{"use strict";var h=s(29293).default;const y=s(86166),D=Object.getPrototypeOf(h(function*(){})).constructor,w=globalThis.Blob||y.Blob,E=typeof w<"u"?function(i){return i instanceof w}:function(i){return!1};class f extends Error{constructor(i){if(!Array.isArray(i))throw new TypeError("Expected input to be an Array, got "+typeof i);let d="";for(let o=0;o<i.length;o++)d+=`    ${i[o].stack}\n`;super(d),this.name="AggregateError",this.errors=i}}q.exports={AggregateError:f,kEmptyObject:Object.freeze({}),once(l){let i=!1;return function(...d){i||(i=!0,l.apply(this,d))}},createDeferredPromise:function(){let l,i;return{promise:new Promise((o,a)=>{l=o,i=a}),resolve:l,reject:i}},promisify:l=>new Promise((i,d)=>{l((o,...a)=>o?d(o):i(...a))}),debuglog:()=>function(){},format:(l,...i)=>l.replace(/%([sdifj])/g,function(...[d,o]){const a=i.shift();return"f"===o?a.toFixed(6):"j"===o?JSON.stringify(a):"s"===o&&"object"==typeof a?`${a.constructor!==Object?a.constructor.name:""} {}`.trim():a.toString()}),inspect(l){switch(typeof l){case"string":if(l.includes("'")){if(!l.includes('"'))return`"${l}"`;if(!l.includes("`")&&!l.includes("${"))return`\`${l}\``}return`'${l}'`;case"number":return isNaN(l)?"NaN":Object.is(l,-0)?String(l):l;case"bigint":return`${String(l)}n`;case"boolean":case"undefined":return String(l);case"object":return"{}"}},types:{isAsyncFunction:l=>l instanceof D,isArrayBufferView:l=>ArrayBuffer.isView(l)},isBlob:E},q.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},71995:(q,p,s)=>{const{Buffer:h}=s(86166),{ObjectDefineProperty:y,ObjectKeys:D,ReflectApply:w}=s(85035),{promisify:{custom:E}}=s(31895),{streamReturningOperators:f,promiseReturningOperators:l}=s(71234),{codes:{ERR_ILLEGAL_CONSTRUCTOR:i}}=s(43600),d=s(83763),{pipeline:o}=s(62305),{destroyer:a}=s(13725),v=s(37595),m=s(86124),_=s(48886),C=q.exports=s(91356).Stream;C.isDisturbed=_.isDisturbed,C.isErrored=_.isErrored,C.isReadable=_.isReadable,C.Readable=s(96155);for(const B of D(f)){let F=function(...I){if(new.target)throw i();return C.Readable.from(w(k,this,I))};const k=f[B];y(F,"name",{__proto__:null,value:k.name}),y(F,"length",{__proto__:null,value:k.length}),y(C.Readable.prototype,B,{__proto__:null,value:F,enumerable:!1,configurable:!0,writable:!0})}for(const B of D(l)){let F=function(...H){if(new.target)throw i();return w(k,this,H)};const k=l[B];y(F,"name",{__proto__:null,value:k.name}),y(F,"length",{__proto__:null,value:k.length}),y(C.Readable.prototype,B,{__proto__:null,value:F,enumerable:!1,configurable:!0,writable:!0})}C.Writable=s(37663),C.Duplex=s(91669),C.Transform=s(12475),C.PassThrough=s(6513),C.pipeline=o;const{addAbortSignal:S}=s(28664);C.addAbortSignal=S,C.finished=v,C.destroy=a,C.compose=d,y(C,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>m}),y(o,E,{__proto__:null,enumerable:!0,get:()=>m.pipeline}),y(v,E,{__proto__:null,enumerable:!0,get:()=>m.finished}),C.Stream=C,C._isUint8Array=function(k){return k instanceof Uint8Array},C._uint8ArrayToBuffer=function(k){return h.from(k.buffer,k.byteOffset,k.byteLength)}},86124:(q,p,s)=>{"use strict";const{ArrayPrototypePop:h,Promise:y}=s(85035),{isIterable:D,isNodeStream:w,isWebStream:E}=s(48886),{pipelineImpl:f}=s(62305),{finished:l}=s(37595);s(71995),q.exports={finished:l,pipeline:function i(...d){return new y((o,a)=>{let v,b;const m=d[d.length-1];if(m&&"object"==typeof m&&!w(m)&&!D(m)&&!E(m)){const _=h(d);v=_.signal,b=_.end}f(d,(_,C)=>{_?a(_):o(C)},{signal:v,end:b})})}}},39208:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.MissingRefError=p.ValidationError=p.CodeGen=p.Name=p.nil=p.stringify=p.str=p._=p.KeywordCxt=p.Ajv=void 0;const h=s(2113),y=s(70457),D=s(78058),w=s(72079),E=["/properties"],f="http://json-schema.org/draft-07/schema";class l extends h.default{_addVocabularies(){super._addVocabularies(),y.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(D.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(w,E):w;this.addMetaSchema(b,f,!1),this.refs["http://json-schema.org/schema"]=f}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(f)?f:void 0)}}p.Ajv=l,q.exports=p=l,q.exports.Ajv=l,Object.defineProperty(p,"__esModule",{value:!0}),p.default=l;var i=s(87157);Object.defineProperty(p,"KeywordCxt",{enumerable:!0,get:function(){return i.KeywordCxt}});var d=s(85432);Object.defineProperty(p,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(p,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(p,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(p,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(p,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(p,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var o=s(9857);Object.defineProperty(p,"ValidationError",{enumerable:!0,get:function(){return o.default}});var a=s(66606);Object.defineProperty(p,"MissingRefError",{enumerable:!0,get:function(){return a.default}})},43467:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.regexpCode=p.getEsmExportName=p.getProperty=p.safeStringify=p.stringify=p.strConcat=p.addCodeArg=p.str=p._=p.nil=p._Code=p.Name=p.IDENTIFIER=p._CodeOrName=void 0;class s{}p._CodeOrName=s,p.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class h extends s{constructor(S){if(super(),!p.IDENTIFIER.test(S))throw new Error("CodeGen: name must be a valid identifier");this.str=S}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}p.Name=h;class y extends s{constructor(S){super(),this._items="string"==typeof S?[S]:S}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const S=this._items[0];return""===S||'""'===S}get str(){var S;return null!==(S=this._str)&&void 0!==S?S:this._str=this._items.reduce((N,B)=>`${N}${B}`,"")}get names(){var S;return null!==(S=this._names)&&void 0!==S?S:this._names=this._items.reduce((N,B)=>(B instanceof h&&(N[B.str]=(N[B.str]||0)+1),N),{})}}function D(C,...S){const N=[C[0]];let B=0;for(;B<S.length;)f(N,S[B]),N.push(C[++B]);return new y(N)}p._Code=y,p.nil=new y(""),p._=D;const w=new y("+");function E(C,...S){const N=[v(C[0])];let B=0;for(;B<S.length;)N.push(w),f(N,S[B]),N.push(w,v(C[++B]));return function l(C){let S=1;for(;S<C.length-1;){if(C[S]===w){const N=i(C[S-1],C[S+1]);if(void 0!==N){C.splice(S-1,3,N);continue}C[S++]="+"}S++}}(N),new y(N)}function f(C,S){S instanceof y?C.push(...S._items):C.push(S instanceof h?S:function o(C){return"number"==typeof C||"boolean"==typeof C||null===C?C:v(Array.isArray(C)?C.join(","):C)}(S))}function i(C,S){return'""'===S?C:'""'===C?S:"string"==typeof C?S instanceof h||'"'!==C[C.length-1]?void 0:"string"!=typeof S?`${C.slice(0,-1)}${S}"`:'"'===S[0]?C.slice(0,-1)+S.slice(1):void 0:"string"!=typeof S||'"'!==S[0]||C instanceof h?void 0:`"${C}${S.slice(1)}`}function v(C){return JSON.stringify(C).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}p.str=E,p.addCodeArg=f,p.strConcat=function d(C,S){return S.emptyStr()?C:C.emptyStr()?S:E`${C}${S}`},p.stringify=function a(C){return new y(v(C))},p.safeStringify=v,p.getProperty=function b(C){return"string"==typeof C&&p.IDENTIFIER.test(C)?new y(`.${C}`):D`[${C}]`},p.getEsmExportName=function m(C){if("string"==typeof C&&p.IDENTIFIER.test(C))return new y(`${C}`);throw new Error(`CodeGen: invalid export name: ${C}, use explicit $id name mapping`)},p.regexpCode=function _(C){return new y(C.toString())}},85432:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.or=p.and=p.not=p.CodeGen=p.operators=p.varKinds=p.ValueScopeName=p.ValueScope=p.Scope=p.Name=p.regexpCode=p.stringify=p.getProperty=p.nil=p.strConcat=p.str=p._=void 0;const h=s(43467),y=s(60240);var D=s(43467);Object.defineProperty(p,"_",{enumerable:!0,get:function(){return D._}}),Object.defineProperty(p,"str",{enumerable:!0,get:function(){return D.str}}),Object.defineProperty(p,"strConcat",{enumerable:!0,get:function(){return D.strConcat}}),Object.defineProperty(p,"nil",{enumerable:!0,get:function(){return D.nil}}),Object.defineProperty(p,"getProperty",{enumerable:!0,get:function(){return D.getProperty}}),Object.defineProperty(p,"stringify",{enumerable:!0,get:function(){return D.stringify}}),Object.defineProperty(p,"regexpCode",{enumerable:!0,get:function(){return D.regexpCode}}),Object.defineProperty(p,"Name",{enumerable:!0,get:function(){return D.Name}});var w=s(60240);Object.defineProperty(p,"Scope",{enumerable:!0,get:function(){return w.Scope}}),Object.defineProperty(p,"ValueScope",{enumerable:!0,get:function(){return w.ValueScope}}),Object.defineProperty(p,"ValueScopeName",{enumerable:!0,get:function(){return w.ValueScopeName}}),Object.defineProperty(p,"varKinds",{enumerable:!0,get:function(){return w.varKinds}}),p.operators={GT:new h._Code(">"),GTE:new h._Code(">="),LT:new h._Code("<"),LTE:new h._Code("<="),EQ:new h._Code("==="),NEQ:new h._Code("!=="),NOT:new h._Code("!"),OR:new h._Code("||"),AND:new h._Code("&&"),ADD:new h._Code("+")};class E{optimizeNodes(){return this}optimizeNames(K,Q){return this}}class f extends E{constructor(K,Q,le){super(),this.varKind=K,this.name=Q,this.rhs=le}render({es5:K,_n:Q}){return`${K?y.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+Q}optimizeNames(K,Q){if(K[this.name.str])return this.rhs&&(this.rhs=J(this.rhs,K,Q)),this}get names(){return this.rhs instanceof h._CodeOrName?this.rhs.names:{}}}class l extends E{constructor(K,Q,le){super(),this.lhs=K,this.rhs=Q,this.sideEffects=le}render({_n:K}){return`${this.lhs} = ${this.rhs};`+K}optimizeNames(K,Q){if(!(this.lhs instanceof h.Name)||K[this.lhs.str]||this.sideEffects)return this.rhs=J(this.rhs,K,Q),this}get names(){return X(this.lhs instanceof h.Name?{}:{...this.lhs.names},this.rhs)}}class i extends l{constructor(K,Q,le,pe){super(K,le,pe),this.op=Q}render({_n:K}){return`${this.lhs} ${this.op}= ${this.rhs};`+K}}class d extends E{constructor(K){super(),this.label=K,this.names={}}render({_n:K}){return`${this.label}:`+K}}class o extends E{constructor(K){super(),this.label=K,this.names={}}render({_n:K}){return`break${this.label?` ${this.label}`:""};`+K}}class a extends E{constructor(K){super(),this.error=K}render({_n:K}){return`throw ${this.error};`+K}get names(){return this.error.names}}class v extends E{constructor(K){super(),this.code=K}render({_n:K}){return`${this.code};`+K}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(K,Q){return this.code=J(this.code,K,Q),this}get names(){return this.code instanceof h._CodeOrName?this.code.names:{}}}class b extends E{constructor(K=[]){super(),this.nodes=K}render(K){return this.nodes.reduce((Q,le)=>Q+le.render(K),"")}optimizeNodes(){const{nodes:K}=this;let Q=K.length;for(;Q--;){const le=K[Q].optimizeNodes();Array.isArray(le)?K.splice(Q,1,...le):le?K[Q]=le:K.splice(Q,1)}return K.length>0?this:void 0}optimizeNames(K,Q){const{nodes:le}=this;let pe=le.length;for(;pe--;){const Ee=le[pe];Ee.optimizeNames(K,Q)||(ye(K,Ee.names),le.splice(pe,1))}return le.length>0?this:void 0}get names(){return this.nodes.reduce((K,Q)=>R(K,Q.names),{})}}class m extends b{render(K){return"{"+K._n+super.render(K)+"}"+K._n}}class _ extends b{}let C=(()=>{class W extends m{}return W.kind="else",W})(),S=(()=>{class W extends m{constructor(Q,le){super(le),this.condition=Q}render(Q){let le=`if(${this.condition})`+super.render(Q);return this.else&&(le+="else "+this.else.render(Q)),le}optimizeNodes(){super.optimizeNodes();const Q=this.condition;if(!0===Q)return this.nodes;let le=this.else;if(le){const pe=le.optimizeNodes();le=this.else=Array.isArray(pe)?new C(pe):pe}return le?!1===Q?le instanceof W?le:le.nodes:this.nodes.length?this:new W(U(Q),le instanceof W?[le]:le.nodes):!1!==Q&&this.nodes.length?this:void 0}optimizeNames(Q,le){var pe;if(this.else=null===(pe=this.else)||void 0===pe?void 0:pe.optimizeNames(Q,le),super.optimizeNames(Q,le)||this.else)return this.condition=J(this.condition,Q,le),this}get names(){const Q=super.names;return X(Q,this.condition),this.else&&R(Q,this.else.names),Q}}return W.kind="if",W})(),N=(()=>{class W extends m{}return W.kind="for",W})();class B extends N{constructor(K){super(),this.iteration=K}render(K){return`for(${this.iteration})`+super.render(K)}optimizeNames(K,Q){if(super.optimizeNames(K,Q))return this.iteration=J(this.iteration,K,Q),this}get names(){return R(super.names,this.iteration.names)}}class k extends N{constructor(K,Q,le,pe){super(),this.varKind=K,this.name=Q,this.from=le,this.to=pe}render(K){const Q=K.es5?y.varKinds.var:this.varKind,{name:le,from:pe,to:Ee}=this;return`for(${Q} ${le}=${pe}; ${le}<${Ee}; ${le}++)`+super.render(K)}get names(){const K=X(super.names,this.from);return X(K,this.to)}}class F extends N{constructor(K,Q,le,pe){super(),this.loop=K,this.varKind=Q,this.name=le,this.iterable=pe}render(K){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(K)}optimizeNames(K,Q){if(super.optimizeNames(K,Q))return this.iterable=J(this.iterable,K,Q),this}get names(){return R(super.names,this.iterable.names)}}let I=(()=>{class W extends m{constructor(Q,le,pe){super(),this.name=Q,this.args=le,this.async=pe}render(Q){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(Q)}}return W.kind="func",W})(),H=(()=>{class W extends b{render(Q){return"return "+super.render(Q)}}return W.kind="return",W})();class ne extends m{render(K){let Q="try"+super.render(K);return this.catch&&(Q+=this.catch.render(K)),this.finally&&(Q+=this.finally.render(K)),Q}optimizeNodes(){var K,Q;return super.optimizeNodes(),null===(K=this.catch)||void 0===K||K.optimizeNodes(),null===(Q=this.finally)||void 0===Q||Q.optimizeNodes(),this}optimizeNames(K,Q){var le,pe;return super.optimizeNames(K,Q),null===(le=this.catch)||void 0===le||le.optimizeNames(K,Q),null===(pe=this.finally)||void 0===pe||pe.optimizeNames(K,Q),this}get names(){const K=super.names;return this.catch&&R(K,this.catch.names),this.finally&&R(K,this.finally.names),K}}let oe=(()=>{class W extends m{constructor(Q){super(),this.error=Q}render(Q){return`catch(${this.error})`+super.render(Q)}}return W.kind="catch",W})(),x=(()=>{class W extends m{render(Q){return"finally"+super.render(Q)}}return W.kind="finally",W})();function R(W,K){for(const Q in K)W[Q]=(W[Q]||0)+(K[Q]||0);return W}function X(W,K){return K instanceof h._CodeOrName?R(W,K.names):W}function J(W,K,Q){return W instanceof h.Name?le(W):function pe(Ee){return Ee instanceof h._Code&&Ee._items.some(he=>he instanceof h.Name&&1===K[he.str]&&void 0!==Q[he.str])}(W)?new h._Code(W._items.reduce((Ee,he)=>(he instanceof h.Name&&(he=le(he)),he instanceof h._Code?Ee.push(...he._items):Ee.push(he),Ee),[])):W;function le(Ee){const he=Q[Ee.str];return void 0===he||1!==K[Ee.str]?Ee:(delete K[Ee.str],he)}}function ye(W,K){for(const Q in K)W[Q]=(W[Q]||0)-(K[Q]||0)}function U(W){return"boolean"==typeof W||"number"==typeof W||null===W?!W:h._`!${T(W)}`}p.CodeGen=class G{constructor(K,Q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Q,_n:Q.lines?"\n":""},this._extScope=K,this._scope=new y.Scope({parent:K}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(K){return this._scope.name(K)}scopeName(K){return this._extScope.name(K)}scopeValue(K,Q){const le=this._extScope.value(K,Q);return(this._values[le.prefix]||(this._values[le.prefix]=new Set)).add(le),le}getScopeValue(K,Q){return this._extScope.getValue(K,Q)}scopeRefs(K){return this._extScope.scopeRefs(K,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(K,Q,le,pe){const Ee=this._scope.toName(Q);return void 0!==le&&pe&&(this._constants[Ee.str]=le),this._leafNode(new f(K,Ee,le)),Ee}const(K,Q,le){return this._def(y.varKinds.const,K,Q,le)}let(K,Q,le){return this._def(y.varKinds.let,K,Q,le)}var(K,Q,le){return this._def(y.varKinds.var,K,Q,le)}assign(K,Q,le){return this._leafNode(new l(K,Q,le))}add(K,Q){return this._leafNode(new i(K,p.operators.ADD,Q))}code(K){return"function"==typeof K?K():K!==h.nil&&this._leafNode(new v(K)),this}object(...K){const Q=["{"];for(const[le,pe]of K)Q.length>1&&Q.push(","),Q.push(le),(le!==pe||this.opts.es5)&&(Q.push(":"),(0,h.addCodeArg)(Q,pe));return Q.push("}"),new h._Code(Q)}if(K,Q,le){if(this._blockNode(new S(K)),Q&&le)this.code(Q).else().code(le).endIf();else if(Q)this.code(Q).endIf();else if(le)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(K){return this._elseNode(new S(K))}else(){return this._elseNode(new C)}endIf(){return this._endBlockNode(S,C)}_for(K,Q){return this._blockNode(K),Q&&this.code(Q).endFor(),this}for(K,Q){return this._for(new B(K),Q)}forRange(K,Q,le,pe,Ee=(this.opts.es5?y.varKinds.var:y.varKinds.let)){const he=this._scope.toName(K);return this._for(new k(Ee,he,Q,le),()=>pe(he))}forOf(K,Q,le,pe=y.varKinds.const){const Ee=this._scope.toName(K);if(this.opts.es5){const he=Q instanceof h.Name?Q:this.var("_arr",Q);return this.forRange("_i",0,h._`${he}.length`,De=>{this.var(Ee,h._`${he}[${De}]`),le(Ee)})}return this._for(new F("of",pe,Ee,Q),()=>le(Ee))}forIn(K,Q,le,pe=(this.opts.es5?y.varKinds.var:y.varKinds.const)){if(this.opts.ownProperties)return this.forOf(K,h._`Object.keys(${Q})`,le);const Ee=this._scope.toName(K);return this._for(new F("in",pe,Ee,Q),()=>le(Ee))}endFor(){return this._endBlockNode(N)}label(K){return this._leafNode(new d(K))}break(K){return this._leafNode(new o(K))}return(K){const Q=new H;if(this._blockNode(Q),this.code(K),1!==Q.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(H)}try(K,Q,le){if(!Q&&!le)throw new Error('CodeGen: "try" without "catch" and "finally"');const pe=new ne;if(this._blockNode(pe),this.code(K),Q){const Ee=this.name("e");this._currNode=pe.catch=new oe(Ee),Q(Ee)}return le&&(this._currNode=pe.finally=new x,this.code(le)),this._endBlockNode(oe,x)}throw(K){return this._leafNode(new a(K))}block(K,Q){return this._blockStarts.push(this._nodes.length),K&&this.code(K).endBlock(Q),this}endBlock(K){const Q=this._blockStarts.pop();if(void 0===Q)throw new Error("CodeGen: not in self-balancing block");const le=this._nodes.length-Q;if(le<0||void 0!==K&&le!==K)throw new Error(`CodeGen: wrong number of nodes: ${le} vs ${K} expected`);return this._nodes.length=Q,this}func(K,Q=h.nil,le,pe){return this._blockNode(new I(K,Q,le)),pe&&this.code(pe).endFunc(),this}endFunc(){return this._endBlockNode(I)}optimize(K=1){for(;K-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(K){return this._currNode.nodes.push(K),this}_blockNode(K){this._currNode.nodes.push(K),this._nodes.push(K)}_endBlockNode(K,Q){const le=this._currNode;if(le instanceof K||Q&&le instanceof Q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Q?`${K.kind}/${Q.kind}`:K.kind}"`)}_elseNode(K){const Q=this._currNode;if(!(Q instanceof S))throw new Error('CodeGen: "else" without "if"');return this._currNode=Q.else=K,this}get _root(){return this._nodes[0]}get _currNode(){const K=this._nodes;return K[K.length-1]}set _currNode(K){const Q=this._nodes;Q[Q.length-1]=K}},p.not=U;const Y=g(p.operators.AND);p.and=function ce(...W){return W.reduce(Y)};const we=g(p.operators.OR);function g(W){return(K,Q)=>K===h.nil?Q:Q===h.nil?K:h._`${T(K)} ${W} ${T(Q)}`}function T(W){return W instanceof h.Name?W:h._`(${W})`}p.or=function $e(...W){return W.reduce(we)}},60240:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ValueScope=p.ValueScopeName=p.Scope=p.varKinds=p.UsedValueState=void 0;const h=s(43467);class y extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var D=function(i){return i[i.Started=0]="Started",i[i.Completed=1]="Completed",i}(D||(p.UsedValueState=D={}));p.varKinds={const:new h.Name("const"),let:new h.Name("let"),var:new h.Name("var")};class w{constructor({prefixes:d,parent:o}={}){this._names={},this._prefixes=d,this._parent=o}toName(d){return d instanceof h.Name?d:this.name(d)}name(d){return new h.Name(this._newName(d))}_newName(d){return`${d}${(this._names[d]||this._nameGroup(d)).index++}`}_nameGroup(d){var o,a;if(null!==(a=null===(o=this._parent)||void 0===o?void 0:o._prefixes)&&void 0!==a&&a.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}p.Scope=w;class E extends h.Name{constructor(d,o){super(o),this.prefix=d}setValue(d,{property:o,itemIndex:a}){this.value=d,this.scopePath=h._`.${new h.Name(o)}[${a}]`}}p.ValueScopeName=E;const f=h._`\n`;p.ValueScope=class l extends w{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?f:h.nil}}get(){return this._scope}name(d){return new E(d,this._newName(d))}value(d,o){var a;if(void 0===o.ref)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(d),{prefix:b}=v,m=null!==(a=o.key)&&void 0!==a?a:o.ref;let _=this._values[b];if(_){const N=_.get(m);if(N)return N}else _=this._values[b]=new Map;_.set(m,v);const C=this._scope[b]||(this._scope[b]=[]),S=C.length;return C[S]=o.ref,v.setValue(o,{property:b,itemIndex:S}),v}getValue(d,o){const a=this._values[d];if(a)return a.get(o)}scopeRefs(d,o=this._values){return this._reduceValues(o,a=>{if(void 0===a.scopePath)throw new Error(`CodeGen: name "${a}" has no value`);return h._`${d}${a.scopePath}`})}scopeCode(d=this._values,o,a){return this._reduceValues(d,v=>{if(void 0===v.value)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},o,a)}_reduceValues(d,o,a={},v){let b=h.nil;for(const m in d){const _=d[m];if(!_)continue;const C=a[m]=a[m]||new Map;_.forEach(S=>{if(C.has(S))return;C.set(S,D.Started);let N=o(S);if(N)b=h._`${b}${this.opts.es5?p.varKinds.var:p.varKinds.const} ${S} = ${N};${this.opts._n}`;else{if(!(N=v?.(S)))throw new y(S);b=h._`${b}${N}${this.opts._n}`}C.set(S,D.Completed)})}return b}}},37511:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.extendErrors=p.resetErrorsCount=p.reportExtraError=p.reportError=p.keyword$DataError=p.keywordError=void 0;const h=s(85432),y=s(87868),D=s(12682);function i(C,S){const N=C.const("err",S);C.if(h._`${D.default.vErrors} === null`,()=>C.assign(D.default.vErrors,h._`[${N}]`),h._`${D.default.vErrors}.push(${N})`),C.code(h._`${D.default.errors}++`)}function d(C,S){const{gen:N,validateName:B,schemaEnv:k}=C;k.$async?N.throw(h._`new ${C.ValidationError}(${S})`):(N.assign(h._`${B}.errors`,S),N.return(!1))}p.keywordError={message:({keyword:C})=>h.str`must pass "${C}" keyword validation`},p.keyword$DataError={message:({keyword:C,schemaType:S})=>S?h.str`"${C}" keyword must be ${S} ($data)`:h.str`"${C}" keyword is invalid ($data)`},p.reportError=function w(C,S=p.keywordError,N,B){const{it:k}=C,{gen:F,compositeRule:I,allErrors:H}=k,ne=a(C,S,N);B??(I||H)?i(F,ne):d(k,h._`[${ne}]`)},p.reportExtraError=function E(C,S=p.keywordError,N){const{it:B}=C,{gen:k,compositeRule:F,allErrors:I}=B;i(k,a(C,S,N)),F||I||d(B,D.default.vErrors)},p.resetErrorsCount=function f(C,S){C.assign(D.default.errors,S),C.if(h._`${D.default.vErrors} !== null`,()=>C.if(S,()=>C.assign(h._`${D.default.vErrors}.length`,S),()=>C.assign(D.default.vErrors,null)))},p.extendErrors=function l({gen:C,keyword:S,schemaValue:N,data:B,errsCount:k,it:F}){if(void 0===k)throw new Error("ajv implementation error");const I=C.name("err");C.forRange("i",k,D.default.errors,H=>{C.const(I,h._`${D.default.vErrors}[${H}]`),C.if(h._`${I}.instancePath === undefined`,()=>C.assign(h._`${I}.instancePath`,(0,h.strConcat)(D.default.instancePath,F.errorPath))),C.assign(h._`${I}.schemaPath`,h.str`${F.errSchemaPath}/${S}`),F.opts.verbose&&(C.assign(h._`${I}.schema`,N),C.assign(h._`${I}.data`,B))})};const o={keyword:new h.Name("keyword"),schemaPath:new h.Name("schemaPath"),params:new h.Name("params"),propertyName:new h.Name("propertyName"),message:new h.Name("message"),schema:new h.Name("schema"),parentSchema:new h.Name("parentSchema")};function a(C,S,N){const{createErrors:B}=C.it;return!1===B?h._`{}`:function v(C,S,N={}){const{gen:B,it:k}=C,F=[b(k,N),m(C,N)];return function _(C,{params:S,message:N},B){const{keyword:k,data:F,schemaValue:I,it:H}=C,{opts:ne,propertyName:oe,topSchemaRef:x,schemaPath:G}=H;B.push([o.keyword,k],[o.params,"function"==typeof S?S(C):S||h._`{}`]),ne.messages&&B.push([o.message,"function"==typeof N?N(C):N]),ne.verbose&&B.push([o.schema,I],[o.parentSchema,h._`${x}${G}`],[D.default.data,F]),oe&&B.push([o.propertyName,oe])}(C,S,F),B.object(...F)}(C,S,N)}function b({errorPath:C},{instancePath:S}){const N=S?h.str`${C}${(0,y.getErrorPath)(S,y.Type.Str)}`:C;return[D.default.instancePath,(0,h.strConcat)(D.default.instancePath,N)]}function m({keyword:C,it:{errSchemaPath:S}},{schemaPath:N,parentSchema:B}){let k=B?S:h.str`${S}/${C}`;return N&&(k=h.str`${k}${(0,y.getErrorPath)(N,y.Type.Str)}`),[o.schemaPath,k]}},7762:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.resolveSchema=p.getCompilingSchema=p.resolveRef=p.compileSchema=p.SchemaEnv=void 0;const h=s(85432),y=s(9857),D=s(12682),w=s(28222),E=s(87868),f=s(87157);class l{constructor(N){var B;let k;this.refs={},this.dynamicAnchors={},"object"==typeof N.schema&&(k=N.schema),this.schema=N.schema,this.schemaId=N.schemaId,this.root=N.root||this,this.baseId=null!==(B=N.baseId)&&void 0!==B?B:(0,w.normalizeId)(k?.[N.schemaId||"$id"]),this.schemaPath=N.schemaPath,this.localRefs=N.localRefs,this.meta=N.meta,this.$async=k?.$async,this.refs={}}}function i(S){const N=a.call(this,S);if(N)return N;const B=(0,w.getFullPath)(this.opts.uriResolver,S.root.baseId),{es5:k,lines:F}=this.opts.code,{ownProperties:I}=this.opts,H=new h.CodeGen(this.scope,{es5:k,lines:F,ownProperties:I});let ne;S.$async&&(ne=H.scopeValue("Error",{ref:y.default,code:h._`require("ajv/dist/runtime/validation_error").default`}));const oe=H.scopeName("validate");S.validateName=oe;const x={gen:H,allErrors:this.opts.allErrors,data:D.default.data,parentData:D.default.parentData,parentDataProperty:D.default.parentDataProperty,dataNames:[D.default.data],dataPathArr:[h.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:H.scopeValue("schema",!0===this.opts.code.source?{ref:S.schema,code:(0,h.stringify)(S.schema)}:{ref:S.schema}),validateName:oe,ValidationError:ne,schema:S.schema,schemaEnv:S,rootId:B,baseId:S.baseId||B,schemaPath:h.nil,errSchemaPath:S.schemaPath||(this.opts.jtd?"":"#"),errorPath:h._`""`,opts:this.opts,self:this};let G;try{this._compilations.add(S),(0,f.validateFunctionCode)(x),H.optimize(this.opts.code.optimize);const R=H.toString();G=`${H.scopeRefs(D.default.scope)}return ${R}`,this.opts.code.process&&(G=this.opts.code.process(G,S));const J=new Function(`${D.default.self}`,`${D.default.scope}`,G)(this,this.scope.get());if(this.scope.value(oe,{ref:J}),J.errors=null,J.schema=S.schema,J.schemaEnv=S,S.$async&&(J.$async=!0),!0===this.opts.code.source&&(J.source={validateName:oe,validateCode:R,scopeValues:H._values}),this.opts.unevaluated){const{props:ye,items:U}=x;J.evaluated={props:ye instanceof h.Name?void 0:ye,items:U instanceof h.Name?void 0:U,dynamicProps:ye instanceof h.Name,dynamicItems:U instanceof h.Name},J.source&&(J.source.evaluated=(0,h.stringify)(J.evaluated))}return S.validate=J,S}catch(R){throw delete S.validate,delete S.validateName,G&&this.logger.error("Error compiling schema, function code:",G),R}finally{this._compilations.delete(S)}}function o(S){return(0,w.inlineRef)(S.schema,this.opts.inlineRefs)?S.schema:S.validate?S:i.call(this,S)}function a(S){for(const N of this._compilations)if(v(N,S))return N}function v(S,N){return S.schema===N.schema&&S.root===N.root&&S.baseId===N.baseId}function b(S,N){let B;for(;"string"==typeof(B=this.refs[N]);)N=B;return B||this.schemas[N]||m.call(this,S,N)}function m(S,N){const B=this.opts.uriResolver.parse(N),k=(0,w._getFullPath)(this.opts.uriResolver,B);let F=(0,w.getFullPath)(this.opts.uriResolver,S.baseId,void 0);if(Object.keys(S.schema).length>0&&k===F)return C.call(this,B,S);const I=(0,w.normalizeId)(k),H=this.refs[I]||this.schemas[I];if("string"==typeof H){const ne=m.call(this,S,H);return"object"!=typeof ne?.schema?void 0:C.call(this,B,ne)}if("object"==typeof H?.schema){if(H.validate||i.call(this,H),I===(0,w.normalizeId)(N)){const{schema:ne}=H,{schemaId:oe}=this.opts,x=ne[oe];return x&&(F=(0,w.resolveUrl)(this.opts.uriResolver,F,x)),new l({schema:ne,schemaId:oe,root:S,baseId:F})}return C.call(this,B,H)}}p.SchemaEnv=l,p.compileSchema=i,p.resolveRef=function d(S,N,B){var k;B=(0,w.resolveUrl)(this.opts.uriResolver,N,B);const F=S.refs[B];if(F)return F;let I=b.call(this,S,B);if(void 0===I){const H=null===(k=S.localRefs)||void 0===k?void 0:k[B],{schemaId:ne}=this.opts;H&&(I=new l({schema:H,schemaId:ne,root:S,baseId:N}))}return void 0!==I?S.refs[B]=o.call(this,I):void 0},p.getCompilingSchema=a,p.resolveSchema=m;const _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function C(S,{baseId:N,schema:B,root:k}){var F;if("/"!==(null===(F=S.fragment)||void 0===F?void 0:F[0]))return;for(const ne of S.fragment.slice(1).split("/")){if("boolean"==typeof B)return;const oe=B[(0,E.unescapeFragment)(ne)];if(void 0===oe)return;const x="object"==typeof(B=oe)&&B[this.opts.schemaId];!_.has(ne)&&x&&(N=(0,w.resolveUrl)(this.opts.uriResolver,N,x))}let I;if("boolean"!=typeof B&&B.$ref&&!(0,E.schemaHasRulesButRef)(B,this.RULES)){const ne=(0,w.resolveUrl)(this.opts.uriResolver,N,B.$ref);I=m.call(this,k,ne)}const{schemaId:H}=this.opts;return I=I||new l({schema:B,schemaId:H,root:k,baseId:N}),I.schema!==I.root.schema?I:void 0}},12682:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y={data:new h.Name("data"),valCxt:new h.Name("valCxt"),instancePath:new h.Name("instancePath"),parentData:new h.Name("parentData"),parentDataProperty:new h.Name("parentDataProperty"),rootData:new h.Name("rootData"),dynamicAnchors:new h.Name("dynamicAnchors"),vErrors:new h.Name("vErrors"),errors:new h.Name("errors"),this:new h.Name("this"),self:new h.Name("self"),scope:new h.Name("scope"),json:new h.Name("json"),jsonPos:new h.Name("jsonPos"),jsonLen:new h.Name("jsonLen"),jsonPart:new h.Name("jsonPart")};p.default=y},66606:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(28222);class y extends Error{constructor(w,E,f,l){super(l||`can't resolve reference ${f} from id ${E}`),this.missingRef=(0,h.resolveUrl)(w,E,f),this.missingSchema=(0,h.normalizeId)((0,h.getFullPath)(w,this.missingRef))}}p.default=y},28222:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.getSchemaRefs=p.resolveUrl=p.normalizeId=p._getFullPath=p.getFullPath=p.inlineRef=void 0;const h=s(87868),y=s(40362),D=s(44331),w=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);p.inlineRef=function E(C,S=!0){return"boolean"==typeof C||(!0===S?!l(C):!!S&&i(C)<=S)};const f=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(C){for(const S in C){if(f.has(S))return!0;const N=C[S];if(Array.isArray(N)&&N.some(l)||"object"==typeof N&&l(N))return!0}return!1}function i(C){let S=0;for(const N in C){if("$ref"===N)return 1/0;if(S++,!w.has(N)&&("object"==typeof C[N]&&(0,h.eachItem)(C[N],B=>S+=i(B)),S===1/0))return 1/0}return S}function d(C,S="",N){!1!==N&&(S=v(S));const B=C.parse(S);return o(C,B)}function o(C,S){return C.serialize(S).split("#")[0]+"#"}p.getFullPath=d,p._getFullPath=o;const a=/#\/?$/;function v(C){return C?C.replace(a,""):""}p.normalizeId=v,p.resolveUrl=function b(C,S,N){return N=v(N),C.resolve(S,N)};const m=/^[a-z_][-a-z0-9._]*$/i;p.getSchemaRefs=function _(C,S){if("boolean"==typeof C)return{};const{schemaId:N,uriResolver:B}=this.opts,k=v(C[N]||S),F={"":k},I=d(B,k,!1),H={},ne=new Set;return D(C,{allKeys:!0},(G,R,X,J)=>{if(void 0===J)return;const ye=I+R;let U=F[J];function Y(we){if(we=v(U?(0,this.opts.uriResolver.resolve)(U,we):we),ne.has(we))throw x(we);ne.add(we);let g=this.refs[we];return"string"==typeof g&&(g=this.refs[g]),"object"==typeof g?oe(G,g.schema,we):we!==v(ye)&&("#"===we[0]?(oe(G,H[we],we),H[we]=G):this.refs[we]=ye),we}function ce(we){if("string"==typeof we){if(!m.test(we))throw new Error(`invalid anchor "${we}"`);Y.call(this,`#${we}`)}}"string"==typeof G[N]&&(U=Y.call(this,G[N])),ce.call(this,G.$anchor),ce.call(this,G.$dynamicAnchor),F[R]=U}),H;function oe(G,R,X){if(void 0!==R&&!y(G,R))throw x(X)}function x(G){return new Error(`reference "${G}" resolves to more than one schema`)}}},66093:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.getRules=p.isJSONType=void 0;const h=new Set(["string","number","integer","boolean","null","object","array"]);p.isJSONType=function y(w){return"string"==typeof w&&h.has(w)},p.getRules=function D(){const w={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...w,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},w.number,w.string,w.array,w.object],post:{rules:[]},all:{},keywords:{}}}},87868:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.checkStrictMode=p.getErrorPath=p.Type=p.useFunc=p.setEvaluated=p.evaluatedPropsToName=p.mergeEvaluated=p.eachItem=p.unescapeJsonPointer=p.escapeJsonPointer=p.escapeFragment=p.unescapeFragment=p.schemaRefOrVal=p.schemaHasRulesButRef=p.schemaHasRules=p.checkUnknownRules=p.alwaysValidSchema=p.toHash=void 0;const h=s(85432),y=s(43467);function E(I,H=I.schema){const{opts:ne,self:oe}=I;if(!ne.strictSchema||"boolean"==typeof H)return;const x=oe.RULES.keywords;for(const G in H)x[G]||F(I,`unknown keyword: "${G}"`)}function f(I,H){if("boolean"==typeof I)return!I;for(const ne in I)if(H[ne])return!0;return!1}function a(I){return"number"==typeof I?`${I}`:I.replace(/~/g,"~0").replace(/\//g,"~1")}function v(I){return I.replace(/~1/g,"/").replace(/~0/g,"~")}function m({mergeNames:I,mergeToName:H,mergeValues:ne,resultToName:oe}){return(x,G,R,X)=>{const J=void 0===R?G:R instanceof h.Name?(G instanceof h.Name?I(x,G,R):H(x,G,R),R):G instanceof h.Name?(H(x,R,G),G):ne(G,R);return X!==h.Name||J instanceof h.Name?J:oe(x,J)}}function _(I,H){if(!0===H)return I.var("props",!0);const ne=I.var("props",h._`{}`);return void 0!==H&&C(I,ne,H),ne}function C(I,H,ne){Object.keys(ne).forEach(oe=>I.assign(h._`${H}${(0,h.getProperty)(oe)}`,!0))}p.toHash=function D(I){const H={};for(const ne of I)H[ne]=!0;return H},p.alwaysValidSchema=function w(I,H){return"boolean"==typeof H?H:0===Object.keys(H).length||(E(I,H),!f(H,I.self.RULES.all))},p.checkUnknownRules=E,p.schemaHasRules=f,p.schemaHasRulesButRef=function l(I,H){if("boolean"==typeof I)return!I;for(const ne in I)if("$ref"!==ne&&H.all[ne])return!0;return!1},p.schemaRefOrVal=function i({topSchemaRef:I,schemaPath:H},ne,oe,x){if(!x){if("number"==typeof ne||"boolean"==typeof ne)return ne;if("string"==typeof ne)return h._`${ne}`}return h._`${I}${H}${(0,h.getProperty)(oe)}`},p.unescapeFragment=function d(I){return v(decodeURIComponent(I))},p.escapeFragment=function o(I){return encodeURIComponent(a(I))},p.escapeJsonPointer=a,p.unescapeJsonPointer=v,p.eachItem=function b(I,H){if(Array.isArray(I))for(const ne of I)H(ne);else H(I)},p.mergeEvaluated={props:m({mergeNames:(I,H,ne)=>I.if(h._`${ne} !== true && ${H} !== undefined`,()=>{I.if(h._`${H} === true`,()=>I.assign(ne,!0),()=>I.assign(ne,h._`${ne} || {}`).code(h._`Object.assign(${ne}, ${H})`))}),mergeToName:(I,H,ne)=>I.if(h._`${ne} !== true`,()=>{!0===H?I.assign(ne,!0):(I.assign(ne,h._`${ne} || {}`),C(I,ne,H))}),mergeValues:(I,H)=>!0===I||{...I,...H},resultToName:_}),items:m({mergeNames:(I,H,ne)=>I.if(h._`${ne} !== true && ${H} !== undefined`,()=>I.assign(ne,h._`${H} === true ? true : ${ne} > ${H} ? ${ne} : ${H}`)),mergeToName:(I,H,ne)=>I.if(h._`${ne} !== true`,()=>I.assign(ne,!0===H||h._`${ne} > ${H} ? ${ne} : ${H}`)),mergeValues:(I,H)=>!0===I||Math.max(I,H),resultToName:(I,H)=>I.var("items",H)})},p.evaluatedPropsToName=_,p.setEvaluated=C;const S={};p.useFunc=function N(I,H){return I.scopeValue("func",{ref:H,code:S[H.code]||(S[H.code]=new y._Code(H.code))})};var B=function(I){return I[I.Num=0]="Num",I[I.Str=1]="Str",I}(B||(p.Type=B={}));function F(I,H,ne=I.opts.strictSchema){if(ne){if(H=`strict mode: ${H}`,!0===ne)throw new Error(H);I.self.logger.warn(H)}}p.getErrorPath=function k(I,H,ne){if(I instanceof h.Name){const oe=H===B.Num;return ne?oe?h._`"[" + ${I} + "]"`:h._`"['" + ${I} + "']"`:oe?h._`"/" + ${I}`:h._`"/" + ${I}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return ne?(0,h.getProperty)(I).toString():"/"+a(I)},p.checkStrictMode=F},61064:(q,p)=>{"use strict";function h(D,w){return w.rules.some(E=>y(D,E))}function y(D,w){var E;return void 0!==D[w.keyword]||(null===(E=w.definition.implements)||void 0===E?void 0:E.some(f=>void 0!==D[f]))}Object.defineProperty(p,"__esModule",{value:!0}),p.shouldUseRule=p.shouldUseGroup=p.schemaHasRulesForType=void 0,p.schemaHasRulesForType=function s({schema:D,self:w},E){const f=w.RULES.types[E];return f&&!0!==f&&h(D,f)},p.shouldUseGroup=h,p.shouldUseRule=y},89318:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.boolOrEmptySchema=p.topBoolOrEmptySchema=void 0;const h=s(37511),y=s(85432),D=s(12682),w={message:"boolean schema is false"};function l(i,d){const{gen:o,data:a}=i;(0,h.reportError)({gen:o,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i},w,void 0,d)}p.topBoolOrEmptySchema=function E(i){const{gen:d,schema:o,validateName:a}=i;!1===o?l(i,!1):"object"==typeof o&&!0===o.$async?d.return(D.default.data):(d.assign(y._`${a}.errors`,null),d.return(!0))},p.boolOrEmptySchema=function f(i,d){const{gen:o,schema:a}=i;!1===a?(o.var(d,!1),l(i)):o.var(d,!0)}},15894:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.reportTypeError=p.checkDataTypes=p.checkDataType=p.coerceAndCheckDataType=p.getJSONTypes=p.getSchemaTypes=p.DataType=void 0;const h=s(66093),y=s(61064),D=s(37511),w=s(85432),E=s(87868);var f=function(B){return B[B.Correct=0]="Correct",B[B.Wrong=1]="Wrong",B}(f||(p.DataType=f={}));function i(B){const k=Array.isArray(B)?B:B?[B]:[];if(k.every(h.isJSONType))return k;throw new Error("type must be JSONType or JSONType[]: "+k.join(","))}p.getSchemaTypes=function l(B){const k=i(B.type);if(k.includes("null")){if(!1===B.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!k.length&&void 0!==B.nullable)throw new Error('"nullable" cannot be used without "type"');!0===B.nullable&&k.push("null")}return k},p.getJSONTypes=i,p.coerceAndCheckDataType=function d(B,k){const{gen:F,data:I,opts:H}=B,ne=function a(B,k){return k?B.filter(F=>o.has(F)||"array"===k&&"array"===F):[]}(k,H.coerceTypes),oe=k.length>0&&!(0===ne.length&&1===k.length&&(0,y.schemaHasRulesForType)(B,k[0]));if(oe){const x=_(k,I,H.strictNumbers,f.Wrong);F.if(x,()=>{ne.length?function v(B,k,F){const{gen:I,data:H,opts:ne}=B,oe=I.let("dataType",w._`typeof ${H}`),x=I.let("coerced",w._`undefined`);"array"===ne.coerceTypes&&I.if(w._`${oe} == 'object' && Array.isArray(${H}) && ${H}.length == 1`,()=>I.assign(H,w._`${H}[0]`).assign(oe,w._`typeof ${H}`).if(_(k,H,ne.strictNumbers),()=>I.assign(x,H))),I.if(w._`${x} !== undefined`);for(const R of F)(o.has(R)||"array"===R&&"array"===ne.coerceTypes)&&G(R);function G(R){switch(R){case"string":return void I.elseIf(w._`${oe} == "number" || ${oe} == "boolean"`).assign(x,w._`"" + ${H}`).elseIf(w._`${H} === null`).assign(x,w._`""`);case"number":return void I.elseIf(w._`${oe} == "boolean" || ${H} === null
              || (${oe} == "string" && ${H} && ${H} == +${H})`).assign(x,w._`+${H}`);case"integer":return void I.elseIf(w._`${oe} === "boolean" || ${H} === null
              || (${oe} === "string" && ${H} && ${H} == +${H} && !(${H} % 1))`).assign(x,w._`+${H}`);case"boolean":return void I.elseIf(w._`${H} === "false" || ${H} === 0 || ${H} === null`).assign(x,!1).elseIf(w._`${H} === "true" || ${H} === 1`).assign(x,!0);case"null":return I.elseIf(w._`${H} === "" || ${H} === 0 || ${H} === false`),void I.assign(x,null);case"array":I.elseIf(w._`${oe} === "string" || ${oe} === "number"
              || ${oe} === "boolean" || ${H} === null`).assign(x,w._`[${H}]`)}}I.else(),S(B),I.endIf(),I.if(w._`${x} !== undefined`,()=>{I.assign(H,x),function b({gen:B,parentData:k,parentDataProperty:F},I){B.if(w._`${k} !== undefined`,()=>B.assign(w._`${k}[${F}]`,I))}(B,x)})}(B,k,ne):S(B)})}return oe};const o=new Set(["string","number","integer","boolean","null"]);function m(B,k,F,I=f.Correct){const H=I===f.Correct?w.operators.EQ:w.operators.NEQ;let ne;switch(B){case"null":return w._`${k} ${H} null`;case"array":ne=w._`Array.isArray(${k})`;break;case"object":ne=w._`${k} && typeof ${k} == "object" && !Array.isArray(${k})`;break;case"integer":ne=oe(w._`!(${k} % 1) && !isNaN(${k})`);break;case"number":ne=oe();break;default:return w._`typeof ${k} ${H} ${B}`}return I===f.Correct?ne:(0,w.not)(ne);function oe(x=w.nil){return(0,w.and)(w._`typeof ${k} == "number"`,x,F?w._`isFinite(${k})`:w.nil)}}function _(B,k,F,I){if(1===B.length)return m(B[0],k,F,I);let H;const ne=(0,E.toHash)(B);if(ne.array&&ne.object){const oe=w._`typeof ${k} != "object"`;H=ne.null?oe:w._`!${k} || ${oe}`,delete ne.null,delete ne.array,delete ne.object}else H=w.nil;ne.number&&delete ne.integer;for(const oe in ne)H=(0,w.and)(H,m(oe,k,F,I));return H}p.checkDataType=m,p.checkDataTypes=_;const C={message:({schema:B})=>`must be ${B}`,params:({schema:B,schemaValue:k})=>"string"==typeof B?w._`{type: ${B}}`:w._`{type: ${k}}`};function S(B){const k=function N(B){const{gen:k,data:F,schema:I}=B,H=(0,E.schemaRefOrVal)(B,I,"type");return{gen:k,keyword:"type",data:F,schema:I.type,schemaCode:H,schemaValue:H,parentSchema:I,params:{},it:B}}(B);(0,D.reportError)(k,C)}p.reportTypeError=S},13599:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.assignDefaults=void 0;const h=s(85432),y=s(87868);function w(E,f,l){const{gen:i,compositeRule:d,data:o,opts:a}=E;if(void 0===l)return;const v=h._`${o}${(0,h.getProperty)(f)}`;if(d)return void(0,y.checkStrictMode)(E,`default is ignored for: ${v}`);let b=h._`${v} === undefined`;"empty"===a.useDefaults&&(b=h._`${b} || ${v} === null || ${v} === ""`),i.if(b,h._`${v} = ${(0,h.stringify)(l)}`)}p.assignDefaults=function D(E,f){const{properties:l,items:i}=E.schema;if("object"===f&&l)for(const d in l)w(E,d,l[d].default);else"array"===f&&Array.isArray(i)&&i.forEach((d,o)=>w(E,o,d.default))}},87157:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.getData=p.KeywordCxt=p.validateFunctionCode=void 0;const h=s(89318),y=s(15894),D=s(61064),w=s(15894),E=s(13599),f=s(40742),l=s(35924),i=s(85432),d=s(12682),o=s(28222),a=s(87868),v=s(37511);function m({gen:Pe,validateName:Oe,schema:me,schemaEnv:be,opts:ge},Ae){ge.code.es5?Pe.func(Oe,i._`${d.default.data}, ${d.default.valCxt}`,be.$async,()=>{Pe.code(i._`"use strict"; ${B(me,ge)}`),function C(Pe,Oe){Pe.if(d.default.valCxt,()=>{Pe.var(d.default.instancePath,i._`${d.default.valCxt}.${d.default.instancePath}`),Pe.var(d.default.parentData,i._`${d.default.valCxt}.${d.default.parentData}`),Pe.var(d.default.parentDataProperty,i._`${d.default.valCxt}.${d.default.parentDataProperty}`),Pe.var(d.default.rootData,i._`${d.default.valCxt}.${d.default.rootData}`),Oe.dynamicRef&&Pe.var(d.default.dynamicAnchors,i._`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{Pe.var(d.default.instancePath,i._`""`),Pe.var(d.default.parentData,i._`undefined`),Pe.var(d.default.parentDataProperty,i._`undefined`),Pe.var(d.default.rootData,d.default.data),Oe.dynamicRef&&Pe.var(d.default.dynamicAnchors,i._`{}`)})}(Pe,ge),Pe.code(Ae)}):Pe.func(Oe,i._`${d.default.data}, ${function _(Pe){return i._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${Pe.dynamicRef?i._`, ${d.default.dynamicAnchors}={}`:i.nil}}={}`}(ge)}`,be.$async,()=>Pe.code(B(me,ge)).code(Ae))}function B(Pe,Oe){const me="object"==typeof Pe&&Pe[Oe.schemaId];return me&&(Oe.code.source||Oe.code.process)?i._`/*# sourceURL=${me} */`:i.nil}function F({schema:Pe,self:Oe}){if("boolean"==typeof Pe)return!Pe;for(const me in Pe)if(Oe.RULES.all[me])return!0;return!1}function I(Pe){return"boolean"!=typeof Pe.schema}function ne(Pe){(0,a.checkUnknownRules)(Pe),function x(Pe){const{schema:Oe,errSchemaPath:me,opts:be,self:ge}=Pe;Oe.$ref&&be.ignoreKeywordsWithRef&&(0,a.schemaHasRulesButRef)(Oe,ge.RULES)&&ge.logger.warn(`$ref: keywords ignored in schema at path "${me}"`)}(Pe)}function oe(Pe,Oe){if(Pe.opts.jtd)return Y(Pe,[],!1,Oe);const me=(0,y.getSchemaTypes)(Pe.schema);Y(Pe,me,!(0,y.coerceAndCheckDataType)(Pe,me),Oe)}function J({gen:Pe,schemaEnv:Oe,schema:me,errSchemaPath:be,opts:ge}){const Ae=me.$comment;if(!0===ge.$comment)Pe.code(i._`${d.default.self}.logger.log(${Ae})`);else if("function"==typeof ge.$comment){const Re=i.str`${be}/$comment`,Fe=Pe.scopeValue("root",{ref:Oe.root});Pe.code(i._`${d.default.self}.opts.$comment(${Ae}, ${Re}, ${Fe}.schema)`)}}function Y(Pe,Oe,me,be){const{gen:ge,schema:Ae,data:Re,allErrors:Fe,opts:Me,self:Le}=Pe,{RULES:Ue}=Le;function Qe(We){(0,D.shouldUseGroup)(Ae,We)&&(We.type?(ge.if((0,w.checkDataType)(We.type,Re,Me.strictNumbers)),ce(Pe,We),1===Oe.length&&Oe[0]===We.type&&me&&(ge.else(),(0,w.reportTypeError)(Pe)),ge.endIf()):ce(Pe,We),Fe||ge.if(i._`${d.default.errors} === ${be||0}`))}!Ae.$ref||!Me.ignoreKeywordsWithRef&&(0,a.schemaHasRulesButRef)(Ae,Ue)?(Me.jtd||function we(Pe,Oe){Pe.schemaEnv.meta||!Pe.opts.strictTypes||(function $e(Pe,Oe){if(Oe.length){if(!Pe.dataTypes.length)return void(Pe.dataTypes=Oe);Oe.forEach(me=>{K(Pe.dataTypes,me)||le(Pe,`type "${me}" not allowed by context "${Pe.dataTypes.join(",")}"`)}),function Q(Pe,Oe){const me=[];for(const be of Pe.dataTypes)K(Oe,be)?me.push(be):Oe.includes("integer")&&"number"===be&&me.push("integer");Pe.dataTypes=me}(Pe,Oe)}}(Pe,Oe),Pe.opts.allowUnionTypes||function g(Pe,Oe){Oe.length>1&&(2!==Oe.length||!Oe.includes("null"))&&le(Pe,"use allowUnionTypes to allow union type keyword")}(Pe,Oe),function T(Pe,Oe){const me=Pe.self.RULES.all;for(const be in me){const ge=me[be];if("object"==typeof ge&&(0,D.shouldUseRule)(Pe.schema,ge)){const{type:Ae}=ge.definition;Ae.length&&!Ae.some(Re=>W(Oe,Re))&&le(Pe,`missing type "${Ae.join(",")}" for keyword "${be}"`)}}}(Pe,Pe.dataTypes))}(Pe,Oe),ge.block(()=>{for(const We of Ue.rules)Qe(We);Qe(Ue.post)})):ge.block(()=>Ee(Pe,"$ref",Ue.all.$ref.definition))}function ce(Pe,Oe){const{gen:me,schema:be,opts:{useDefaults:ge}}=Pe;ge&&(0,E.assignDefaults)(Pe,Oe.type),me.block(()=>{for(const Ae of Oe.rules)(0,D.shouldUseRule)(be,Ae)&&Ee(Pe,Ae.keyword,Ae.definition,Oe.type)})}function W(Pe,Oe){return Pe.includes(Oe)||"number"===Oe&&Pe.includes("integer")}function K(Pe,Oe){return Pe.includes(Oe)||"integer"===Oe&&Pe.includes("number")}function le(Pe,Oe){(0,a.checkStrictMode)(Pe,Oe+=` at "${Pe.schemaEnv.baseId+Pe.errSchemaPath}" (strictTypes)`,Pe.opts.strictTypes)}p.validateFunctionCode=function b(Pe){I(Pe)&&(ne(Pe),F(Pe))?function S(Pe){const{schema:Oe,opts:me,gen:be}=Pe;m(Pe,()=>{me.$comment&&Oe.$comment&&J(Pe),function G(Pe){const{schema:Oe,opts:me}=Pe;void 0!==Oe.default&&me.useDefaults&&me.strictSchema&&(0,a.checkStrictMode)(Pe,"default is ignored in the schema root")}(Pe),be.let(d.default.vErrors,null),be.let(d.default.errors,0),me.unevaluated&&function N(Pe){const{gen:Oe,validateName:me}=Pe;Pe.evaluated=Oe.const("evaluated",i._`${me}.evaluated`),Oe.if(i._`${Pe.evaluated}.dynamicProps`,()=>Oe.assign(i._`${Pe.evaluated}.props`,i._`undefined`)),Oe.if(i._`${Pe.evaluated}.dynamicItems`,()=>Oe.assign(i._`${Pe.evaluated}.items`,i._`undefined`))}(Pe),oe(Pe),function ye(Pe){const{gen:Oe,schemaEnv:me,validateName:be,ValidationError:ge,opts:Ae}=Pe;me.$async?Oe.if(i._`${d.default.errors} === 0`,()=>Oe.return(d.default.data),()=>Oe.throw(i._`new ${ge}(${d.default.vErrors})`)):(Oe.assign(i._`${be}.errors`,d.default.vErrors),Ae.unevaluated&&function U({gen:Pe,evaluated:Oe,props:me,items:be}){me instanceof i.Name&&Pe.assign(i._`${Oe}.props`,me),be instanceof i.Name&&Pe.assign(i._`${Oe}.items`,be)}(Pe),Oe.return(i._`${d.default.errors} === 0`))}(Pe)})}(Pe):m(Pe,()=>(0,h.topBoolOrEmptySchema)(Pe))};class pe{constructor(Oe,me,be){if((0,f.validateKeywordUsage)(Oe,me,be),this.gen=Oe.gen,this.allErrors=Oe.allErrors,this.keyword=be,this.data=Oe.data,this.schema=Oe.schema[be],this.$data=me.$data&&Oe.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,a.schemaRefOrVal)(Oe,this.schema,be,this.$data),this.schemaType=me.schemaType,this.parentSchema=Oe.schema,this.params={},this.it=Oe,this.def=me,this.$data)this.schemaCode=Oe.gen.const("vSchema",Ge(this.$data,Oe));else if(this.schemaCode=this.schemaValue,!(0,f.validSchemaType)(this.schema,me.schemaType,me.allowUndefined))throw new Error(`${be} value must be ${JSON.stringify(me.schemaType)}`);("code"in me?me.trackErrors:!1!==me.errors)&&(this.errsCount=Oe.gen.const("_errs",d.default.errors))}result(Oe,me,be){this.failResult((0,i.not)(Oe),me,be)}failResult(Oe,me,be){this.gen.if(Oe),be?be():this.error(),me?(this.gen.else(),me(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Oe,me){this.failResult((0,i.not)(Oe),void 0,me)}fail(Oe){if(void 0===Oe)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Oe),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Oe){if(!this.$data)return this.fail(Oe);const{schemaCode:me}=this;this.fail(i._`${me} !== undefined && (${(0,i.or)(this.invalid$data(),Oe)})`)}error(Oe,me,be){if(me)return this.setParams(me),this._error(Oe,be),void this.setParams({});this._error(Oe,be)}_error(Oe,me){(Oe?v.reportExtraError:v.reportError)(this,this.def.error,me)}$dataError(){(0,v.reportError)(this,this.def.$dataError||v.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,v.resetErrorsCount)(this.gen,this.errsCount)}ok(Oe){this.allErrors||this.gen.if(Oe)}setParams(Oe,me){me?Object.assign(this.params,Oe):this.params=Oe}block$data(Oe,me,be=i.nil){this.gen.block(()=>{this.check$data(Oe,be),me()})}check$data(Oe=i.nil,me=i.nil){if(!this.$data)return;const{gen:be,schemaCode:ge,schemaType:Ae,def:Re}=this;be.if((0,i.or)(i._`${ge} === undefined`,me)),Oe!==i.nil&&be.assign(Oe,!0),(Ae.length||Re.validateSchema)&&(be.elseIf(this.invalid$data()),this.$dataError(),Oe!==i.nil&&be.assign(Oe,!1)),be.else()}invalid$data(){const{gen:Oe,schemaCode:me,schemaType:be,def:ge,it:Ae}=this;return(0,i.or)(function Re(){if(be.length){if(!(me instanceof i.Name))throw new Error("ajv implementation error");const Me=Array.isArray(be)?be:[be];return i._`${(0,w.checkDataTypes)(Me,me,Ae.opts.strictNumbers,w.DataType.Wrong)}`}return i.nil}(),function Fe(){if(ge.validateSchema){const Me=Oe.scopeValue("validate$data",{ref:ge.validateSchema});return i._`!${Me}(${me})`}return i.nil}())}subschema(Oe,me){const be=(0,l.getSubschema)(this.it,Oe);(0,l.extendSubschemaData)(be,this.it,Oe),(0,l.extendSubschemaMode)(be,Oe);const ge={...this.it,...be,items:void 0,props:void 0};return function k(Pe,Oe){I(Pe)&&(ne(Pe),F(Pe))?function H(Pe,Oe){const{schema:me,gen:be,opts:ge}=Pe;ge.$comment&&me.$comment&&J(Pe),function R(Pe){const Oe=Pe.schema[Pe.opts.schemaId];Oe&&(Pe.baseId=(0,o.resolveUrl)(Pe.opts.uriResolver,Pe.baseId,Oe))}(Pe),function X(Pe){if(Pe.schema.$async&&!Pe.schemaEnv.$async)throw new Error("async schema in sync schema")}(Pe);const Ae=be.const("_errs",d.default.errors);oe(Pe,Ae),be.var(Oe,i._`${Ae} === ${d.default.errors}`)}(Pe,Oe):(0,h.boolOrEmptySchema)(Pe,Oe)}(ge,me),ge}mergeEvaluated(Oe,me){const{it:be,gen:ge}=this;be.opts.unevaluated&&(!0!==be.props&&void 0!==Oe.props&&(be.props=a.mergeEvaluated.props(ge,Oe.props,be.props,me)),!0!==be.items&&void 0!==Oe.items&&(be.items=a.mergeEvaluated.items(ge,Oe.items,be.items,me)))}mergeValidEvaluated(Oe,me){const{it:be,gen:ge}=this;if(be.opts.unevaluated&&(!0!==be.props||!0!==be.items))return ge.if(me,()=>this.mergeEvaluated(Oe,i.Name)),!0}}function Ee(Pe,Oe,me,be){const ge=new pe(Pe,me,Oe);"code"in me?me.code(ge,be):ge.$data&&me.validate?(0,f.funcKeywordCode)(ge,me):"macro"in me?(0,f.macroKeywordCode)(ge,me):(me.compile||me.validate)&&(0,f.funcKeywordCode)(ge,me)}p.KeywordCxt=pe;const he=/^\/(?:[^~]|~0|~1)*$/,De=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ge(Pe,{dataLevel:Oe,dataNames:me,dataPathArr:be}){let ge,Ae;if(""===Pe)return d.default.rootData;if("/"===Pe[0]){if(!he.test(Pe))throw new Error(`Invalid JSON-pointer: ${Pe}`);ge=Pe,Ae=d.default.rootData}else{const Le=De.exec(Pe);if(!Le)throw new Error(`Invalid JSON-pointer: ${Pe}`);const Ue=+Le[1];if(ge=Le[2],"#"===ge){if(Ue>=Oe)throw new Error(Me("property/index",Ue));return be[Oe-Ue]}if(Ue>Oe)throw new Error(Me("data",Ue));if(Ae=me[Oe-Ue],!ge)return Ae}let Re=Ae;const Fe=ge.split("/");for(const Le of Fe)Le&&(Ae=i._`${Ae}${(0,i.getProperty)((0,a.unescapeJsonPointer)(Le))}`,Re=i._`${Re} && ${Ae}`);return Re;function Me(Le,Ue){return`Cannot access ${Le} ${Ue} levels up, current level is ${Oe}`}}p.getData=Ge},40742:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.validateKeywordUsage=p.validSchemaType=p.funcKeywordCode=p.macroKeywordCode=void 0;const h=s(85432),y=s(12682),D=s(12240),w=s(37511);function l(b){const{gen:m,data:_,it:C}=b;m.if(C.parentData,()=>m.assign(_,h._`${C.parentData}[${C.parentDataProperty}]`))}function o(b,m,_){if(void 0===_)throw new Error(`keyword "${m}" failed to compile`);return b.scopeValue("keyword","function"==typeof _?{ref:_}:{ref:_,code:(0,h.stringify)(_)})}p.macroKeywordCode=function E(b,m){const{gen:_,keyword:C,schema:S,parentSchema:N,it:B}=b,k=m.macro.call(B.self,S,N,B),F=o(_,C,k);!1!==B.opts.validateSchema&&B.self.validateSchema(k,!0);const I=_.name("valid");b.subschema({schema:k,schemaPath:h.nil,errSchemaPath:`${B.errSchemaPath}/${C}`,topSchemaRef:F,compositeRule:!0},I),b.pass(I,()=>b.error(!0))},p.funcKeywordCode=function f(b,m){var _;const{gen:C,keyword:S,schema:N,parentSchema:B,$data:k,it:F}=b;!function d({schemaEnv:b},m){if(m.async&&!b.$async)throw new Error("async keyword in sync schema")}(F,m);const I=!k&&m.compile?m.compile.call(F.self,N,B,F):m.validate,H=o(C,S,I),ne=C.let("valid");function R(J=(m.async?h._`await `:h.nil)){C.assign(ne,h._`${J}${(0,D.callValidateCode)(b,H,F.opts.passContext?y.default.this:y.default.self,!("compile"in m&&!k||!1===m.schema))}`,m.modifying)}function X(J){var ye;C.if((0,h.not)(null!==(ye=m.valid)&&void 0!==ye?ye:ne),J)}b.block$data(ne,function oe(){if(!1===m.errors)R(),m.modifying&&l(b),X(()=>b.error());else{const J=m.async?function x(){const J=C.let("ruleErrs",null);return C.try(()=>R(h._`await `),ye=>C.assign(ne,!1).if(h._`${ye} instanceof ${F.ValidationError}`,()=>C.assign(J,h._`${ye}.errors`),()=>C.throw(ye))),J}():function G(){const J=h._`${H}.errors`;return C.assign(J,null),R(h.nil),J}();m.modifying&&l(b),X(()=>function i(b,m){const{gen:_}=b;_.if(h._`Array.isArray(${m})`,()=>{_.assign(y.default.vErrors,h._`${y.default.vErrors} === null ? ${m} : ${y.default.vErrors}.concat(${m})`).assign(y.default.errors,h._`${y.default.vErrors}.length`),(0,w.extendErrors)(b)},()=>b.error())}(b,J))}}),b.ok(null!==(_=m.valid)&&void 0!==_?_:ne)},p.validSchemaType=function a(b,m,_=!1){return!m.length||m.some(C=>"array"===C?Array.isArray(b):"object"===C?b&&"object"==typeof b&&!Array.isArray(b):typeof b==C||_&&typeof b>"u")},p.validateKeywordUsage=function v({schema:b,opts:m,self:_,errSchemaPath:C},S,N){if(Array.isArray(S.keyword)?!S.keyword.includes(N):S.keyword!==N)throw new Error("ajv implementation error");const B=S.dependencies;if(B?.some(k=>!Object.prototype.hasOwnProperty.call(b,k)))throw new Error(`parent schema must have dependencies of ${N}: ${B.join(",")}`);if(S.validateSchema&&!S.validateSchema(b[N])){const F=`keyword "${N}" value is invalid at path "${C}": `+_.errorsText(S.validateSchema.errors);if("log"!==m.validateSchema)throw new Error(F);_.logger.error(F)}}},35924:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.extendSubschemaMode=p.extendSubschemaData=p.getSubschema=void 0;const h=s(85432),y=s(87868);p.getSubschema=function D(f,{keyword:l,schemaProp:i,schema:d,schemaPath:o,errSchemaPath:a,topSchemaRef:v}){if(void 0!==l&&void 0!==d)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==l){const b=f.schema[l];return void 0===i?{schema:b,schemaPath:h._`${f.schemaPath}${(0,h.getProperty)(l)}`,errSchemaPath:`${f.errSchemaPath}/${l}`}:{schema:b[i],schemaPath:h._`${f.schemaPath}${(0,h.getProperty)(l)}${(0,h.getProperty)(i)}`,errSchemaPath:`${f.errSchemaPath}/${l}/${(0,y.escapeFragment)(i)}`}}if(void 0!==d){if(void 0===o||void 0===a||void 0===v)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:d,schemaPath:o,topSchemaRef:v,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},p.extendSubschemaData=function w(f,l,{dataProp:i,dataPropType:d,data:o,dataTypes:a,propertyName:v}){if(void 0!==o&&void 0!==i)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:b}=l;if(void 0!==i){const{errorPath:_,dataPathArr:C,opts:S}=l;m(b.let("data",h._`${l.data}${(0,h.getProperty)(i)}`,!0)),f.errorPath=h.str`${_}${(0,y.getErrorPath)(i,d,S.jsPropertySyntax)}`,f.parentDataProperty=h._`${i}`,f.dataPathArr=[...C,f.parentDataProperty]}function m(_){f.data=_,f.dataLevel=l.dataLevel+1,f.dataTypes=[],l.definedProperties=new Set,f.parentData=l.data,f.dataNames=[...l.dataNames,_]}void 0!==o&&(m(o instanceof h.Name?o:b.let("data",o,!0)),void 0!==v&&(f.propertyName=v)),a&&(f.dataTypes=a)},p.extendSubschemaMode=function E(f,{jtdDiscriminator:l,jtdMetadata:i,compositeRule:d,createErrors:o,allErrors:a}){void 0!==d&&(f.compositeRule=d),void 0!==o&&(f.createErrors=o),void 0!==a&&(f.allErrors=a),f.jtdDiscriminator=l,f.jtdMetadata=i}},2113:(q,p,s)=>{"use strict";var h=s(29293).default;Object.defineProperty(p,"__esModule",{value:!0}),p.CodeGen=p.Name=p.nil=p.stringify=p.str=p._=p.KeywordCxt=void 0;var y=s(87157);Object.defineProperty(p,"KeywordCxt",{enumerable:!0,get:function(){return y.KeywordCxt}});var D=s(85432);Object.defineProperty(p,"_",{enumerable:!0,get:function(){return D._}}),Object.defineProperty(p,"str",{enumerable:!0,get:function(){return D.str}}),Object.defineProperty(p,"stringify",{enumerable:!0,get:function(){return D.stringify}}),Object.defineProperty(p,"nil",{enumerable:!0,get:function(){return D.nil}}),Object.defineProperty(p,"Name",{enumerable:!0,get:function(){return D.Name}}),Object.defineProperty(p,"CodeGen",{enumerable:!0,get:function(){return D.CodeGen}});const w=s(9857),E=s(66606),f=s(66093),l=s(7762),i=s(85432),d=s(28222),o=s(15894),a=s(87868),v=s(63837),b=s(12857),m=(g,T)=>new RegExp(g,T);m.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],C=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},N={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function k(g){var T,W,K,Q,le,pe,Ee,he,De,Ge,Pe,Oe,me,be,ge,Ae,Re,Fe,Me,Le,Ue,Qe,We,Je,at;const ee=g.strict,L=null===(T=g.code)||void 0===T?void 0:T.optimize,P=!0===L||void 0===L?1:L||0,Z=null!==(K=null===(W=g.code)||void 0===W?void 0:W.regExp)&&void 0!==K?K:m,_e=null!==(Q=g.uriResolver)&&void 0!==Q?Q:b.default;return{strictSchema:null===(pe=null!==(le=g.strictSchema)&&void 0!==le?le:ee)||void 0===pe||pe,strictNumbers:null===(he=null!==(Ee=g.strictNumbers)&&void 0!==Ee?Ee:ee)||void 0===he||he,strictTypes:null!==(Ge=null!==(De=g.strictTypes)&&void 0!==De?De:ee)&&void 0!==Ge?Ge:"log",strictTuples:null!==(Oe=null!==(Pe=g.strictTuples)&&void 0!==Pe?Pe:ee)&&void 0!==Oe?Oe:"log",strictRequired:null!==(be=null!==(me=g.strictRequired)&&void 0!==me?me:ee)&&void 0!==be&&be,code:g.code?{...g.code,optimize:P,regExp:Z}:{optimize:P,regExp:Z},loopRequired:null!==(ge=g.loopRequired)&&void 0!==ge?ge:200,loopEnum:null!==(Ae=g.loopEnum)&&void 0!==Ae?Ae:200,meta:null===(Re=g.meta)||void 0===Re||Re,messages:null===(Fe=g.messages)||void 0===Fe||Fe,inlineRefs:null===(Me=g.inlineRefs)||void 0===Me||Me,schemaId:null!==(Le=g.schemaId)&&void 0!==Le?Le:"$id",addUsedSchema:null===(Ue=g.addUsedSchema)||void 0===Ue||Ue,validateSchema:null===(Qe=g.validateSchema)||void 0===Qe||Qe,validateFormats:null===(We=g.validateFormats)||void 0===We||We,unicodeRegExp:null===(Je=g.unicodeRegExp)||void 0===Je||Je,int32range:null===(at=g.int32range)||void 0===at||at,uriResolver:_e}}class F{constructor(T={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,T=this.opts={...T,...k(T)};const{es5:W,lines:K}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:C,es5:W,lines:K}),this.logger=function X(g){if(!1===g)return R;if(void 0===g)return console;if(g.log&&g.warn&&g.error)return g;throw new Error("logger must implement log, warn and error methods")}(T.logger);const Q=T.validateFormats;T.validateFormats=!1,this.RULES=(0,f.getRules)(),I.call(this,S,T,"NOT SUPPORTED"),I.call(this,N,T,"DEPRECATED","warn"),this._metaOpts=G.call(this),T.formats&&oe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),T.keywords&&x.call(this,T.keywords),"object"==typeof T.meta&&this.addMetaSchema(T.meta),ne.call(this),T.validateFormats=Q}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:T,meta:W,schemaId:K}=this.opts;let Q=v;"id"===K&&(Q={...v},Q.id=Q.$id,delete Q.$id),W&&T&&this.addMetaSchema(Q,Q[K],!1)}defaultMeta(){const{meta:T,schemaId:W}=this.opts;return this.opts.defaultMeta="object"==typeof T?T[W]||T:void 0}validate(T,W){let K;if("string"==typeof T){if(K=this.getSchema(T),!K)throw new Error(`no schema with key or ref "${T}"`)}else K=this.compile(T);const Q=K(W);return"$async"in K||(this.errors=K.errors),Q}compile(T,W){const K=this._addSchema(T,W);return K.validate||this._compileSchemaEnv(K)}compileAsync(T,W){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return Q.call(this,T,W);function Q(ge,Ae){return le.apply(this,arguments)}function le(){return(le=h(function*(ge,Ae){yield pe.call(this,ge.$schema);const Re=this._addSchema(ge,Ae);return Re.validate||he.call(this,Re)})).apply(this,arguments)}function pe(ge){return Ee.apply(this,arguments)}function Ee(){return(Ee=h(function*(ge){ge&&!this.getSchema(ge)&&(yield Q.call(this,{$ref:ge},!0))})).apply(this,arguments)}function he(ge){return De.apply(this,arguments)}function De(){return(De=h(function*(ge){try{return this._compileSchemaEnv(ge)}catch(Ae){if(!(Ae instanceof E.default))throw Ae;return Ge.call(this,Ae),yield Pe.call(this,Ae.missingSchema),he.call(this,ge)}})).apply(this,arguments)}function Ge({missingSchema:ge,missingRef:Ae}){if(this.refs[ge])throw new Error(`AnySchema ${ge} is loaded but ${Ae} cannot be resolved`)}function Pe(ge){return Oe.apply(this,arguments)}function Oe(){return(Oe=h(function*(ge){const Ae=yield me.call(this,ge);this.refs[ge]||(yield pe.call(this,Ae.$schema)),this.refs[ge]||this.addSchema(Ae,ge,W)})).apply(this,arguments)}function me(ge){return be.apply(this,arguments)}function be(){return(be=h(function*(ge){const Ae=this._loading[ge];if(Ae)return Ae;try{return yield this._loading[ge]=K(ge)}finally{delete this._loading[ge]}})).apply(this,arguments)}}addSchema(T,W,K,Q=this.opts.validateSchema){if(Array.isArray(T)){for(const pe of T)this.addSchema(pe,void 0,K,Q);return this}let le;if("object"==typeof T){const{schemaId:pe}=this.opts;if(le=T[pe],void 0!==le&&"string"!=typeof le)throw new Error(`schema ${pe} must be string`)}return W=(0,d.normalizeId)(W||le),this._checkUnique(W),this.schemas[W]=this._addSchema(T,K,W,Q,!0),this}addMetaSchema(T,W,K=this.opts.validateSchema){return this.addSchema(T,W,!0,K),this}validateSchema(T,W){if("boolean"==typeof T)return!0;let K;if(K=T.$schema,void 0!==K&&"string"!=typeof K)throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const Q=this.validate(K,T);if(!Q&&W){const le="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(le);this.logger.error(le)}return Q}getSchema(T){let W;for(;"string"==typeof(W=H.call(this,T));)T=W;if(void 0===W){const{schemaId:K}=this.opts,Q=new l.SchemaEnv({schema:{},schemaId:K});if(W=l.resolveSchema.call(this,Q,T),!W)return;this.refs[T]=W}return W.validate||this._compileSchemaEnv(W)}removeSchema(T){if(T instanceof RegExp)return this._removeAllSchemas(this.schemas,T),this._removeAllSchemas(this.refs,T),this;switch(typeof T){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const W=H.call(this,T);return"object"==typeof W&&this._cache.delete(W.schema),delete this.schemas[T],delete this.refs[T],this}case"object":{this._cache.delete(T);let K=T[this.opts.schemaId];return K&&(K=(0,d.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(T){for(const W of T)this.addKeyword(W);return this}addKeyword(T,W){let K;if("string"==typeof T)K=T,"object"==typeof W&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),W.keyword=K);else{if("object"!=typeof T||void 0!==W)throw new Error("invalid addKeywords parameters");if(K=(W=T).keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(ye.call(this,K,W),!W)return(0,a.eachItem)(K,le=>U.call(this,le)),this;ce.call(this,W);const Q={...W,type:(0,o.getJSONTypes)(W.type),schemaType:(0,o.getJSONTypes)(W.schemaType)};return(0,a.eachItem)(K,0===Q.type.length?le=>U.call(this,le,Q):le=>Q.type.forEach(pe=>U.call(this,le,Q,pe))),this}getKeyword(T){const W=this.RULES.all[T];return"object"==typeof W?W.definition:!!W}removeKeyword(T){const{RULES:W}=this;delete W.keywords[T],delete W.all[T];for(const K of W.rules){const Q=K.rules.findIndex(le=>le.keyword===T);Q>=0&&K.rules.splice(Q,1)}return this}addFormat(T,W){return"string"==typeof W&&(W=new RegExp(W)),this.formats[T]=W,this}errorsText(T=this.errors,{separator:W=", ",dataVar:K="data"}={}){return T&&0!==T.length?T.map(Q=>`${K}${Q.instancePath} ${Q.message}`).reduce((Q,le)=>Q+W+le):"No errors"}$dataMetaSchema(T,W){const K=this.RULES.all;T=JSON.parse(JSON.stringify(T));for(const Q of W){const le=Q.split("/").slice(1);let pe=T;for(const Ee of le)pe=pe[Ee];for(const Ee in K){const he=K[Ee];if("object"!=typeof he)continue;const{$data:De}=he.definition,Ge=pe[Ee];De&&Ge&&(pe[Ee]=$e(Ge))}}return T}_removeAllSchemas(T,W){for(const K in T){const Q=T[K];(!W||W.test(K))&&("string"==typeof Q?delete T[K]:Q&&!Q.meta&&(this._cache.delete(Q.schema),delete T[K]))}}_addSchema(T,W,K,Q=this.opts.validateSchema,le=this.opts.addUsedSchema){let pe;const{schemaId:Ee}=this.opts;if("object"==typeof T)pe=T[Ee];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof T)throw new Error("schema must be object or boolean")}let he=this._cache.get(T);if(void 0!==he)return he;K=(0,d.normalizeId)(pe||K);const De=d.getSchemaRefs.call(this,T,K);return he=new l.SchemaEnv({schema:T,schemaId:Ee,meta:W,baseId:K,localRefs:De}),this._cache.set(he.schema,he),le&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=he),Q&&this.validateSchema(T,!0),he}_checkUnique(T){if(this.schemas[T]||this.refs[T])throw new Error(`schema with key or id "${T}" already exists`)}_compileSchemaEnv(T){if(T.meta?this._compileMetaSchema(T):l.compileSchema.call(this,T),!T.validate)throw new Error("ajv implementation error");return T.validate}_compileMetaSchema(T){const W=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,T)}finally{this.opts=W}}}function I(g,T,W,K="error"){for(const Q in g)Q in T&&this.logger[K](`${W}: option ${Q}. ${g[Q]}`)}function H(g){return g=(0,d.normalizeId)(g),this.schemas[g]||this.refs[g]}function ne(){const g=this.opts.schemas;if(g)if(Array.isArray(g))this.addSchema(g);else for(const T in g)this.addSchema(g[T],T)}function oe(){for(const g in this.opts.formats){const T=this.opts.formats[g];T&&this.addFormat(g,T)}}function x(g){if(Array.isArray(g))this.addVocabulary(g);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const T in g){const W=g[T];W.keyword||(W.keyword=T),this.addKeyword(W)}}}function G(){const g={...this.opts};for(const T of _)delete g[T];return g}F.ValidationError=w.default,F.MissingRefError=E.default,p.default=F;const R={log(){},warn(){},error(){}},J=/^[a-z_$][a-z0-9_$:-]*$/i;function ye(g,T){const{RULES:W}=this;if((0,a.eachItem)(g,K=>{if(W.keywords[K])throw new Error(`Keyword ${K} is already defined`);if(!J.test(K))throw new Error(`Keyword ${K} has invalid name`)}),T&&T.$data&&!("code"in T)&&!("validate"in T))throw new Error('$data keyword must have "code" or "validate" function')}function U(g,T,W){var K;const Q=T?.post;if(W&&Q)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:le}=this;let pe=Q?le.post:le.rules.find(({type:he})=>he===W);if(pe||(pe={type:W,rules:[]},le.rules.push(pe)),le.keywords[g]=!0,!T)return;const Ee={keyword:g,definition:{...T,type:(0,o.getJSONTypes)(T.type),schemaType:(0,o.getJSONTypes)(T.schemaType)}};T.before?Y.call(this,pe,Ee,T.before):pe.rules.push(Ee),le.all[g]=Ee,null===(K=T.implements)||void 0===K||K.forEach(he=>this.addKeyword(he))}function Y(g,T,W){const K=g.rules.findIndex(Q=>Q.keyword===W);K>=0?g.rules.splice(K,0,T):(g.rules.push(T),this.logger.warn(`rule ${W} is not defined`))}function ce(g){let{metaSchema:T}=g;void 0!==T&&(g.$data&&this.opts.$data&&(T=$e(T)),g.validateSchema=this.compile(T,!0))}const we={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function $e(g){return{anyOf:[g,we]}}},54195:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(40362);h.code='require("ajv/dist/runtime/equal").default',p.default=h},41506:(q,p)=>{"use strict";function s(h){const y=h.length;let E,D=0,w=0;for(;w<y;)D++,E=h.charCodeAt(w++),E>=55296&&E<=56319&&w<y&&(E=h.charCodeAt(w),56320==(64512&E)&&w++);return D}Object.defineProperty(p,"__esModule",{value:!0}),p.default=s,s.code='require("ajv/dist/runtime/ucs2length").default'},12857:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(95568);h.code='require("ajv/dist/runtime/uri").default',p.default=h},9857:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});class s extends Error{constructor(y){super("validation failed"),this.errors=y,this.ajv=this.validation=!0}}p.default=s},12676:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.validateAdditionalItems=void 0;const h=s(85432),y=s(87868),w={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:f}})=>h.str`must NOT have more than ${f} items`,params:({params:{len:f}})=>h._`{limit: ${f}}`},code(f){const{parentSchema:l,it:i}=f,{items:d}=l;Array.isArray(d)?E(f,d):(0,y.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas')}};function E(f,l){const{gen:i,schema:d,data:o,keyword:a,it:v}=f;v.items=!0;const b=i.const("len",h._`${o}.length`);if(!1===d)f.setParams({len:l.length}),f.pass(h._`${b} <= ${l.length}`);else if("object"==typeof d&&!(0,y.alwaysValidSchema)(v,d)){const _=i.var("valid",h._`${b} <= ${l.length}`);i.if((0,h.not)(_),()=>function m(_){i.forRange("i",l.length,b,C=>{f.subschema({keyword:a,dataProp:C,dataPropType:y.Type.Num},_),v.allErrors||i.if((0,h.not)(_),()=>i.break())})}(_)),f.ok(_)}}p.validateAdditionalItems=E,p.default=w},84491:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(12240),y=s(85432),D=s(12682),w=s(87868);p.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:l})=>y._`{additionalProperty: ${l.additionalProperty}}`},code(l){const{gen:i,schema:d,parentSchema:o,data:a,errsCount:v,it:b}=l;if(!v)throw new Error("ajv implementation error");const{allErrors:m,opts:_}=b;if(b.props=!0,"all"!==_.removeAdditional&&(0,w.alwaysValidSchema)(b,d))return;const C=(0,h.allSchemaProperties)(o.properties),S=(0,h.allSchemaProperties)(o.patternProperties);function k(H){i.code(y._`delete ${a}[${H}]`)}function F(H){if("all"===_.removeAdditional||_.removeAdditional&&!1===d)k(H);else{if(!1===d)return l.setParams({additionalProperty:H}),l.error(),void(m||i.break());if("object"==typeof d&&!(0,w.alwaysValidSchema)(b,d)){const ne=i.name("valid");"failing"===_.removeAdditional?(I(H,ne,!1),i.if((0,y.not)(ne),()=>{l.reset(),k(H)})):(I(H,ne),m||i.if((0,y.not)(ne),()=>i.break()))}}}function I(H,ne,oe){const x={keyword:"additionalProperties",dataProp:H,dataPropType:w.Type.Str};!1===oe&&Object.assign(x,{compositeRule:!0,createErrors:!1,allErrors:!1}),l.subschema(x,ne)}(function N(){i.forIn("key",a,H=>{C.length||S.length?i.if(function B(H){let ne;if(C.length>8){const oe=(0,w.schemaRefOrVal)(b,o.properties,"properties");ne=(0,h.isOwnProperty)(i,oe,H)}else ne=C.length?(0,y.or)(...C.map(oe=>y._`${H} === ${oe}`)):y.nil;return S.length&&(ne=(0,y.or)(ne,...S.map(oe=>y._`${(0,h.usePattern)(l,oe)}.test(${H})`))),(0,y.not)(ne)}(H),()=>F(H)):F(H)})})(),l.ok(y._`${v} === ${D.default.errors}`)}}},2937:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(87868);p.default={keyword:"allOf",schemaType:"array",code(D){const{gen:w,schema:E,it:f}=D;if(!Array.isArray(E))throw new Error("ajv implementation error");const l=w.name("valid");E.forEach((i,d)=>{if((0,h.alwaysValidSchema)(f,i))return;const o=D.subschema({keyword:"allOf",schemaProp:d},l);D.ok(l),D.mergeEvaluated(o)})}}},83968:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const y={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:s(12240).validateUnion,error:{message:"must match a schema in anyOf"}};p.default=y},66066:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y=s(87868);p.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:E,max:f}})=>void 0===f?h.str`must contain at least ${E} valid item(s)`:h.str`must contain at least ${E} and no more than ${f} valid item(s)`,params:({params:{min:E,max:f}})=>void 0===f?h._`{minContains: ${E}}`:h._`{minContains: ${E}, maxContains: ${f}}`},code(E){const{gen:f,schema:l,parentSchema:i,data:d,it:o}=E;let a,v;const{minContains:b,maxContains:m}=i;o.opts.next?(a=void 0===b?1:b,v=m):a=1;const _=f.const("len",h._`${d}.length`);if(E.setParams({min:a,max:v}),void 0===v&&0===a)return void(0,y.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==v&&a>v)return(0,y.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),void E.fail();if((0,y.alwaysValidSchema)(o,l)){let k=h._`${_} >= ${a}`;return void 0!==v&&(k=h._`${k} && ${_} <= ${v}`),void E.pass(k)}o.items=!0;const C=f.name("valid");function S(){const k=f.name("_valid"),F=f.let("count",0);N(k,()=>f.if(k,()=>function B(k){f.code(h._`${k}++`),void 0===v?f.if(h._`${k} >= ${a}`,()=>f.assign(C,!0).break()):(f.if(h._`${k} > ${v}`,()=>f.assign(C,!1).break()),1===a?f.assign(C,!0):f.if(h._`${k} >= ${a}`,()=>f.assign(C,!0)))}(F)))}function N(k,F){f.forRange("i",0,_,I=>{E.subschema({keyword:"contains",dataProp:I,dataPropType:y.Type.Num,compositeRule:!0},k),F()})}void 0===v&&1===a?N(C,()=>f.if(C,()=>f.break())):0===a?(f.let(C,!0),void 0!==v&&f.if(h._`${d}.length > 0`,S)):(f.let(C,!1),S()),E.result(C,()=>E.reset())}}},99310:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.validateSchemaDeps=p.validatePropertyDeps=p.error=void 0;const h=s(85432),y=s(87868),D=s(12240);p.error={message:({params:{property:i,depsCount:d,deps:o}})=>h.str`must have ${1===d?"property":"properties"} ${o} when property ${i} is present`,params:({params:{property:i,depsCount:d,deps:o,missingProperty:a}})=>h._`{property: ${i},
    missingProperty: ${a},
    depsCount: ${d},
    deps: ${o}}`};const w={keyword:"dependencies",type:"object",schemaType:"object",error:p.error,code(i){const[d,o]=function E({schema:i}){const d={},o={};for(const a in i)"__proto__"!==a&&((Array.isArray(i[a])?d:o)[a]=i[a]);return[d,o]}(i);f(i,d),l(i,o)}};function f(i,d=i.schema){const{gen:o,data:a,it:v}=i;if(0===Object.keys(d).length)return;const b=o.let("missing");for(const m in d){const _=d[m];if(0===_.length)continue;const C=(0,D.propertyInData)(o,a,m,v.opts.ownProperties);i.setParams({property:m,depsCount:_.length,deps:_.join(", ")}),v.allErrors?o.if(C,()=>{for(const S of _)(0,D.checkReportMissingProp)(i,S)}):(o.if(h._`${C} && (${(0,D.checkMissingProp)(i,_,b)})`),(0,D.reportMissingProp)(i,b),o.else())}}function l(i,d=i.schema){const{gen:o,data:a,keyword:v,it:b}=i,m=o.name("valid");for(const _ in d)(0,y.alwaysValidSchema)(b,d[_])||(o.if((0,D.propertyInData)(o,a,_,b.opts.ownProperties),()=>{const C=i.subschema({keyword:v,schemaProp:_},m);i.mergeValidEvaluated(C,m)},()=>o.var(m,!0)),i.ok(m))}p.validatePropertyDeps=f,p.validateSchemaDeps=l,p.default=w},13884:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y=s(87868);function E(f,l){const i=f.schema[l];return void 0!==i&&!(0,y.alwaysValidSchema)(f,i)}p.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:f})=>h.str`must match "${f.ifClause}" schema`,params:({params:f})=>h._`{failingKeyword: ${f.ifClause}}`},code(f){const{gen:l,parentSchema:i,it:d}=f;void 0===i.then&&void 0===i.else&&(0,y.checkStrictMode)(d,'"if" without "then" and "else" is ignored');const o=E(d,"then"),a=E(d,"else");if(!o&&!a)return;const v=l.let("valid",!0),b=l.name("_valid");if(function m(){const C=f.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},b);f.mergeEvaluated(C)}(),f.reset(),o&&a){const C=l.let("ifClause");f.setParams({ifClause:C}),l.if(b,_("then",C),_("else",C))}else o?l.if(b,_("then")):l.if((0,h.not)(b),_("else"));function _(C,S){return()=>{const N=f.subschema({keyword:C},b);l.assign(v,b),f.mergeValidEvaluated(N,v),S?l.assign(S,h._`${C}`):f.setParams({ifClause:C})}}f.pass(v,()=>f.error(!0))}}},69795:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(12676),y=s(90207),D=s(23403),w=s(18555),E=s(66066),f=s(99310),l=s(62944),i=s(84491),d=s(48758),o=s(55852),a=s(6970),v=s(83968),b=s(2646),m=s(2937),_=s(13884),C=s(73337);p.default=function S(N=!1){const B=[a.default,v.default,b.default,m.default,_.default,C.default,l.default,i.default,f.default,d.default,o.default];return N?B.push(y.default,w.default):B.push(h.default,D.default),B.push(E.default),B}},23403:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.validateTuple=void 0;const h=s(85432),y=s(87868),D=s(12240),w={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(f){const{schema:l,it:i}=f;if(Array.isArray(l))return E(f,"additionalItems",l);i.items=!0,!(0,y.alwaysValidSchema)(i,l)&&f.ok((0,D.validateArray)(f))}};function E(f,l,i=f.schema){const{gen:d,parentSchema:o,data:a,keyword:v,it:b}=f;(function C(S){const{opts:N,errSchemaPath:B}=b,k=i.length;N.strictTuples&&!(k===S.minItems&&(k===S.maxItems||!1===S[l]))&&(0,y.checkStrictMode)(b,`"${v}" is ${k}-tuple, but minItems or maxItems/${l} are not specified or different at path "${B}"`,N.strictTuples)})(o),b.opts.unevaluated&&i.length&&!0!==b.items&&(b.items=y.mergeEvaluated.items(d,i.length,b.items));const m=d.name("valid"),_=d.const("len",h._`${a}.length`);i.forEach((S,N)=>{(0,y.alwaysValidSchema)(b,S)||(d.if(h._`${_} > ${N}`,()=>f.subschema({keyword:v,schemaProp:N,dataProp:N},m)),f.ok(m))})}p.validateTuple=E,p.default=w},18555:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y=s(87868),D=s(12240),w=s(12676);p.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:l}})=>h.str`must NOT have more than ${l} items`,params:({params:{len:l}})=>h._`{limit: ${l}}`},code(l){const{schema:i,parentSchema:d,it:o}=l,{prefixItems:a}=d;o.items=!0,!(0,y.alwaysValidSchema)(o,i)&&(a?(0,w.validateAdditionalItems)(l,a):l.ok((0,D.validateArray)(l)))}}},6970:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(87868);p.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(D){const{gen:w,schema:E,it:f}=D;if((0,h.alwaysValidSchema)(f,E))return void D.fail();const l=w.name("valid");D.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},l),D.failResult(l,()=>D.reset(),()=>D.error())},error:{message:"must NOT be valid"}}},2646:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y=s(87868);p.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:E})=>h._`{passingSchemas: ${E.passing}}`},code(E){const{gen:f,schema:l,parentSchema:i,it:d}=E;if(!Array.isArray(l))throw new Error("ajv implementation error");if(d.opts.discriminator&&i.discriminator)return;const o=l,a=f.let("valid",!1),v=f.let("passing",null),b=f.name("_valid");E.setParams({passing:v}),f.block(function m(){o.forEach((_,C)=>{let S;(0,y.alwaysValidSchema)(d,_)?f.var(b,!0):S=E.subschema({keyword:"oneOf",schemaProp:C,compositeRule:!0},b),C>0&&f.if(h._`${b} && ${a}`).assign(a,!1).assign(v,h._`[${v}, ${C}]`).else(),f.if(b,()=>{f.assign(a,!0),f.assign(v,C),S&&E.mergeEvaluated(S,h.Name)})})}),E.result(a,()=>E.reset(),()=>E.error(!0))}}},55852:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(12240),y=s(85432),D=s(87868),w=s(87868);p.default={keyword:"patternProperties",type:"object",schemaType:"object",code(f){const{gen:l,schema:i,data:d,parentSchema:o,it:a}=f,{opts:v}=a,b=(0,h.allSchemaProperties)(i),m=b.filter(F=>(0,D.alwaysValidSchema)(a,i[F]));if(0===b.length||m.length===b.length&&(!a.opts.unevaluated||!0===a.props))return;const _=v.strictSchema&&!v.allowMatchingProperties&&o.properties,C=l.name("valid");!0!==a.props&&!(a.props instanceof y.Name)&&(a.props=(0,w.evaluatedPropsToName)(l,a.props));const{props:S}=a;function B(F){for(const I in _)new RegExp(F).test(I)&&(0,D.checkStrictMode)(a,`property ${I} matches pattern ${F} (use allowMatchingProperties)`)}function k(F){l.forIn("key",d,I=>{l.if(y._`${(0,h.usePattern)(f,F)}.test(${I})`,()=>{const H=m.includes(F);H||f.subschema({keyword:"patternProperties",schemaProp:F,dataProp:I,dataPropType:w.Type.Str},C),a.opts.unevaluated&&!0!==S?l.assign(y._`${S}[${I}]`,!0):!H&&!a.allErrors&&l.if((0,y.not)(C),()=>l.break())})})}!function N(){for(const F of b)_&&B(F),a.allErrors?k(F):(l.var(C,!0),k(F),l.if(C))}()}}},90207:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(23403);p.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:D=>(0,h.validateTuple)(D,"items")}},48758:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(87157),y=s(12240),D=s(87868),w=s(84491);p.default={keyword:"properties",type:"object",schemaType:"object",code(f){const{gen:l,schema:i,parentSchema:d,data:o,it:a}=f;"all"===a.opts.removeAdditional&&void 0===d.additionalProperties&&w.default.code(new h.KeywordCxt(a,w.default,"additionalProperties"));const v=(0,y.allSchemaProperties)(i);for(const S of v)a.definedProperties.add(S);a.opts.unevaluated&&v.length&&!0!==a.props&&(a.props=D.mergeEvaluated.props(l,(0,D.toHash)(v),a.props));const b=v.filter(S=>!(0,D.alwaysValidSchema)(a,i[S]));if(0===b.length)return;const m=l.name("valid");for(const S of b)_(S)?C(S):(l.if((0,y.propertyInData)(l,o,S,a.opts.ownProperties)),C(S),a.allErrors||l.else().var(m,!0),l.endIf()),f.it.definedProperties.add(S),f.ok(m);function _(S){return a.opts.useDefaults&&!a.compositeRule&&void 0!==i[S].default}function C(S){f.subschema({keyword:"properties",schemaProp:S,dataProp:S},m)}}}},62944:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y=s(87868);p.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:E})=>h._`{propertyName: ${E.propertyName}}`},code(E){const{gen:f,schema:l,data:i,it:d}=E;if((0,y.alwaysValidSchema)(d,l))return;const o=f.name("valid");f.forIn("key",i,a=>{E.setParams({propertyName:a}),E.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),f.if((0,h.not)(o),()=>{E.error(!0),d.allErrors||f.break()})}),E.ok(o)}}},73337:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(87868);p.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:D,parentSchema:w,it:E}){void 0===w.if&&(0,h.checkStrictMode)(E,`"${D}" without "if" is ignored`)}}},12240:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.validateUnion=p.validateArray=p.usePattern=p.callValidateCode=p.schemaProperties=p.allSchemaProperties=p.noPropertyInData=p.propertyInData=p.isOwnProperty=p.hasPropFunc=p.reportMissingProp=p.checkMissingProp=p.checkReportMissingProp=void 0;const h=s(85432),y=s(87868),D=s(12682),w=s(87868);function i(B){return B.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:h._`Object.prototype.hasOwnProperty`})}function d(B,k,F){return h._`${i(B)}.call(${k}, ${F})`}function a(B,k,F,I){const H=h._`${k}${(0,h.getProperty)(F)} === undefined`;return I?(0,h.or)(H,(0,h.not)(d(B,k,F))):H}function v(B){return B?Object.keys(B).filter(k=>"__proto__"!==k):[]}p.checkReportMissingProp=function E(B,k){const{gen:F,data:I,it:H}=B;F.if(a(F,I,k,H.opts.ownProperties),()=>{B.setParams({missingProperty:h._`${k}`},!0),B.error()})},p.checkMissingProp=function f({gen:B,data:k,it:{opts:F}},I,H){return(0,h.or)(...I.map(ne=>(0,h.and)(a(B,k,ne,F.ownProperties),h._`${H} = ${ne}`)))},p.reportMissingProp=function l(B,k){B.setParams({missingProperty:k},!0),B.error()},p.hasPropFunc=i,p.isOwnProperty=d,p.propertyInData=function o(B,k,F,I){const H=h._`${k}${(0,h.getProperty)(F)} !== undefined`;return I?h._`${H} && ${d(B,k,F)}`:H},p.noPropertyInData=a,p.allSchemaProperties=v,p.schemaProperties=function b(B,k){return v(k).filter(F=>!(0,y.alwaysValidSchema)(B,k[F]))},p.callValidateCode=function m({schemaCode:B,data:k,it:{gen:F,topSchemaRef:I,schemaPath:H,errorPath:ne},it:oe},x,G,R){const X=R?h._`${B}, ${k}, ${I}${H}`:k,J=[[D.default.instancePath,(0,h.strConcat)(D.default.instancePath,ne)],[D.default.parentData,oe.parentData],[D.default.parentDataProperty,oe.parentDataProperty],[D.default.rootData,D.default.rootData]];oe.opts.dynamicRef&&J.push([D.default.dynamicAnchors,D.default.dynamicAnchors]);const ye=h._`${X}, ${F.object(...J)}`;return G!==h.nil?h._`${x}.call(${G}, ${ye})`:h._`${x}(${ye})`};const _=h._`new RegExp`;p.usePattern=function C({gen:B,it:{opts:k}},F){const I=k.unicodeRegExp?"u":"",{regExp:H}=k.code,ne=H(F,I);return B.scopeValue("pattern",{key:ne.toString(),ref:ne,code:h._`${"new RegExp"===H.code?_:(0,w.useFunc)(B,H)}(${F}, ${I})`})},p.validateArray=function S(B){const{gen:k,data:F,keyword:I,it:H}=B,ne=k.name("valid");if(H.allErrors){const x=k.let("valid",!0);return oe(()=>k.assign(x,!1)),x}return k.var(ne,!0),oe(()=>k.break()),ne;function oe(x){const G=k.const("len",h._`${F}.length`);k.forRange("i",0,G,R=>{B.subschema({keyword:I,dataProp:R,dataPropType:y.Type.Num},ne),k.if((0,h.not)(ne),x)})}},p.validateUnion=function N(B){const{gen:k,schema:F,keyword:I,it:H}=B;if(!Array.isArray(F))throw new Error("ajv implementation error");if(F.some(G=>(0,y.alwaysValidSchema)(H,G))&&!H.opts.unevaluated)return;const oe=k.let("valid",!1),x=k.name("_valid");k.block(()=>F.forEach((G,R)=>{const X=B.subschema({keyword:I,schemaProp:R,compositeRule:!0},x);k.assign(oe,h._`${oe} || ${x}`),B.mergeValidEvaluated(X,x)||k.if((0,h.not)(oe))})),B.result(oe,()=>B.reset(),()=>B.error(!0))}},83260:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},16281:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(83260),y=s(81680);p.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",h.default,y.default]},81680:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.callRef=p.getValidate=void 0;const h=s(66606),y=s(12240),D=s(85432),w=s(12682),E=s(7762),f=s(87868),l={keyword:"$ref",schemaType:"string",code(o){const{gen:a,schema:v,it:b}=o,{baseId:m,schemaEnv:_,validateName:C,opts:S,self:N}=b,{root:B}=_;if(("#"===v||"#/"===v)&&m===B.baseId)return function F(){if(_===B)return d(o,C,_,_.$async);const ne=a.scopeValue("root",{ref:B});return d(o,D._`${ne}.validate`,B,B.$async)}();const k=E.resolveRef.call(N,B,m,v);if(void 0===k)throw new h.default(b.opts.uriResolver,m,v);return k instanceof E.SchemaEnv?function I(ne){const oe=i(o,ne);d(o,oe,ne,ne.$async)}(k):function H(ne){const oe=a.scopeValue("schema",!0===S.code.source?{ref:ne,code:(0,D.stringify)(ne)}:{ref:ne}),x=a.name("valid"),G=o.subschema({schema:ne,dataTypes:[],schemaPath:D.nil,topSchemaRef:oe,errSchemaPath:v},x);o.mergeEvaluated(G),o.ok(x)}(k)}};function i(o,a){const{gen:v}=o;return a.validate?v.scopeValue("validate",{ref:a.validate}):D._`${v.scopeValue("wrapper",{ref:a})}.validate`}function d(o,a,v,b){const{gen:m,it:_}=o,{allErrors:C,schemaEnv:S,opts:N}=_,B=N.passContext?w.default.this:D.nil;function I(ne){const oe=D._`${ne}.errors`;m.assign(w.default.vErrors,D._`${w.default.vErrors} === null ? ${oe} : ${w.default.vErrors}.concat(${oe})`),m.assign(w.default.errors,D._`${w.default.vErrors}.length`)}function H(ne){var oe;if(!_.opts.unevaluated)return;const x=null===(oe=v?.validate)||void 0===oe?void 0:oe.evaluated;if(!0!==_.props)if(x&&!x.dynamicProps)void 0!==x.props&&(_.props=f.mergeEvaluated.props(m,x.props,_.props));else{const G=m.var("props",D._`${ne}.evaluated.props`);_.props=f.mergeEvaluated.props(m,G,_.props,D.Name)}if(!0!==_.items)if(x&&!x.dynamicItems)void 0!==x.items&&(_.items=f.mergeEvaluated.items(m,x.items,_.items));else{const G=m.var("items",D._`${ne}.evaluated.items`);_.items=f.mergeEvaluated.items(m,G,_.items,D.Name)}}b?function k(){if(!S.$async)throw new Error("async schema referenced by sync schema");const ne=m.let("valid");m.try(()=>{m.code(D._`await ${(0,y.callValidateCode)(o,a,B)}`),H(a),C||m.assign(ne,!0)},oe=>{m.if(D._`!(${oe} instanceof ${_.ValidationError})`,()=>m.throw(oe)),I(oe),C||m.assign(ne,!1)}),o.ok(ne)}():function F(){o.result((0,y.callValidateCode)(o,a,B),()=>H(a),()=>I(a))}()}p.getValidate=i,p.callRef=d,p.default=l},78058:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y=s(97543),D=s(7762),w=s(87868);p.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:l,tagName:i}})=>l===y.DiscrError.Tag?`tag "${i}" must be string`:`value of tag "${i}" must be in oneOf`,params:({params:{discrError:l,tag:i,tagName:d}})=>h._`{error: ${l}, tag: ${d}, tagValue: ${i}}`},code(l){const{gen:i,data:d,schema:o,parentSchema:a,it:v}=l,{oneOf:b}=a;if(!v.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=o.propertyName;if("string"!=typeof m)throw new Error("discriminator: requires propertyName");if(o.mapping)throw new Error("discriminator: mapping is not supported");if(!b)throw new Error("discriminator: requires oneOf keyword");const _=i.let("valid",!1),C=i.const("tag",h._`${d}${(0,h.getProperty)(m)}`);function N(k){const F=i.name("valid"),I=l.subschema({keyword:"oneOf",schemaProp:k},F);return l.mergeEvaluated(I,h.Name),F}i.if(h._`typeof ${C} == "string"`,()=>function S(){const k=function B(){var k;const F={},I=ne(a);let H=!0;for(let G=0;G<b.length;G++){let R=b[G];R?.$ref&&!(0,w.schemaHasRulesButRef)(R,v.self.RULES)&&(R=D.resolveRef.call(v.self,v.schemaEnv.root,v.baseId,R?.$ref),R instanceof D.SchemaEnv&&(R=R.schema));const X=null===(k=R?.properties)||void 0===k?void 0:k[m];if("object"!=typeof X)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);H=H&&(I||ne(R)),oe(X,G)}if(!H)throw new Error(`discriminator: "${m}" must be required`);return F;function ne({required:G}){return Array.isArray(G)&&G.includes(m)}function oe(G,R){if(G.const)x(G.const,R);else{if(!G.enum)throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`);for(const X of G.enum)x(X,R)}}function x(G,R){if("string"!=typeof G||G in F)throw new Error(`discriminator: "${m}" values must be unique strings`);F[G]=R}}();i.if(!1);for(const F in k)i.elseIf(h._`${C} === ${F}`),i.assign(_,N(k[F]));i.else(),l.error(!1,{discrError:y.DiscrError.Mapping,tag:C,tagName:m}),i.endIf()}(),()=>l.error(!1,{discrError:y.DiscrError.Tag,tag:C,tagName:m})),l.ok(_)}}},97543:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.DiscrError=void 0;var s=function(h){return h.Tag="tag",h.Mapping="mapping",h}(s||(p.DiscrError=s={}))},70457:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(16281),y=s(57085),D=s(69795),w=s(25309),E=s(33880),f=[h.default,y.default,(0,D.default)(),w.default,E.metadataVocabulary,E.contentVocabulary];p.default=f},30742:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432);p.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:w})=>h.str`must match format "${w}"`,params:({schemaCode:w})=>h._`{format: ${w}}`},code(w,E){const{gen:f,data:l,$data:i,schema:d,schemaCode:o,it:a}=w,{opts:v,errSchemaPath:b,schemaEnv:m,self:_}=a;v.validateFormats&&(i?function C(){const N=f.scopeValue("formats",{ref:_.formats,code:v.code.formats}),B=f.const("fDef",h._`${N}[${o}]`),k=f.let("fType"),F=f.let("format");f.if(h._`typeof ${B} == "object" && !(${B} instanceof RegExp)`,()=>f.assign(k,h._`${B}.type || "string"`).assign(F,h._`${B}.validate`),()=>f.assign(k,h._`"string"`).assign(F,B)),w.fail$data((0,h.or)(function I(){return!1===v.strictSchema?h.nil:h._`${o} && !${F}`}(),function H(){const ne=m.$async?h._`(${B}.async ? await ${F}(${l}) : ${F}(${l}))`:h._`${F}(${l})`,oe=h._`(typeof ${F} == "function" ? ${ne} : ${F}.test(${l}))`;return h._`${F} && ${F} !== true && ${k} === ${E} && !${oe}`}()))}():function S(){const N=_.formats[d];if(!N)return void function I(){if(!1!==v.strictSchema)throw new Error(oe());function oe(){return`unknown format "${d}" ignored in schema at path "${b}"`}_.logger.warn(oe())}();if(!0===N)return;const[B,k,F]=function H(oe){const x=oe instanceof RegExp?(0,h.regexpCode)(oe):v.code.formats?h._`${v.code.formats}${(0,h.getProperty)(d)}`:void 0,G=f.scopeValue("formats",{key:d,ref:oe,code:x});return"object"!=typeof oe||oe instanceof RegExp?["string",oe,G]:[oe.type||"string",oe.validate,h._`${G}.validate`]}(N);B===E&&w.pass(function ne(){if("object"==typeof N&&!(N instanceof RegExp)&&N.async){if(!m.$async)throw new Error("async format in sync schema");return h._`await ${F}(${l})`}return"function"==typeof k?h._`${F}(${l})`:h._`${F}.test(${l})`}())}())}}},25309:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const y=[s(30742).default];p.default=y},33880:(q,p)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.contentVocabulary=p.metadataVocabulary=void 0,p.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],p.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},37438:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y=s(87868),D=s(54195);p.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:f})=>h._`{allowedValue: ${f}}`},code(f){const{gen:l,data:i,$data:d,schemaCode:o,schema:a}=f;d||a&&"object"==typeof a?f.fail$data(h._`!${(0,y.useFunc)(l,D.default)}(${i}, ${o})`):f.fail(h._`${a} !== ${i}`)}}},37956:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y=s(87868),D=s(54195);p.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:f})=>h._`{allowedValues: ${f}}`},code(f){const{gen:l,data:i,$data:d,schema:o,schemaCode:a,it:v}=f;if(!d&&0===o.length)throw new Error("enum must have non-empty array");let m;const _=()=>m??(m=(0,y.useFunc)(l,D.default));let C;if(o.length>=v.opts.loopEnum||d)C=l.let("valid"),f.block$data(C,function S(){l.assign(C,!1),l.forOf("v",a,B=>l.if(h._`${_()}(${i}, ${B})`,()=>l.assign(C,!0).break()))});else{if(!Array.isArray(o))throw new Error("ajv implementation error");const B=l.const("vSchema",a);C=(0,h.or)(...o.map((k,F)=>function N(B,k){const F=o[k];return"object"==typeof F&&null!==F?h._`${_()}(${i}, ${B}[${k}])`:h._`${i} === ${F}`}(B,F)))}f.pass(C)}}},57085:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(89807),y=s(60776),D=s(55854),w=s(98675),E=s(11379),f=s(64620),l=s(34812),i=s(13632),d=s(37438),o=s(37956);p.default=[h.default,y.default,D.default,w.default,E.default,f.default,l.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,o.default]},34812:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432);p.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:w,schemaCode:E})=>h.str`must NOT have ${"maxItems"===w?"more":"fewer"} than ${E} items`,params:({schemaCode:w})=>h._`{limit: ${w}}`},code(w){const{keyword:E,data:f,schemaCode:l}=w;w.fail$data(h._`${f}.length ${"maxItems"===E?h.operators.GT:h.operators.LT} ${l}`)}}},55854:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y=s(87868),D=s(41506);p.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:f,schemaCode:l})=>h.str`must NOT have ${"maxLength"===f?"more":"fewer"} than ${l} characters`,params:({schemaCode:f})=>h._`{limit: ${f}}`},code(f){const{keyword:l,data:i,schemaCode:d,it:o}=f,a="maxLength"===l?h.operators.GT:h.operators.LT,v=!1===o.opts.unicode?h._`${i}.length`:h._`${(0,y.useFunc)(f.gen,D.default)}(${i})`;f.fail$data(h._`${v} ${a} ${d}`)}}},89807:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432),y=h.operators,D={maximum:{okStr:"<=",ok:y.LTE,fail:y.GT},minimum:{okStr:">=",ok:y.GTE,fail:y.LT},exclusiveMaximum:{okStr:"<",ok:y.LT,fail:y.GTE},exclusiveMinimum:{okStr:">",ok:y.GT,fail:y.LTE}},w={message:({keyword:f,schemaCode:l})=>h.str`must be ${D[f].okStr} ${l}`,params:({keyword:f,schemaCode:l})=>h._`{comparison: ${D[f].okStr}, limit: ${l}}`},E={keyword:Object.keys(D),type:"number",schemaType:"number",$data:!0,error:w,code(f){const{keyword:l,data:i,schemaCode:d}=f;f.fail$data(h._`${i} ${D[l].fail} ${d} || isNaN(${i})`)}};p.default=E},11379:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432);p.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:w,schemaCode:E})=>h.str`must NOT have ${"maxProperties"===w?"more":"fewer"} than ${E} properties`,params:({schemaCode:w})=>h._`{limit: ${w}}`},code(w){const{keyword:E,data:f,schemaCode:l}=w;w.fail$data(h._`Object.keys(${f}).length ${"maxProperties"===E?h.operators.GT:h.operators.LT} ${l}`)}}},60776:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(85432);p.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:w})=>h.str`must be multiple of ${w}`,params:({schemaCode:w})=>h._`{multipleOf: ${w}}`},code(w){const{gen:E,data:f,schemaCode:l,it:i}=w,d=i.opts.multipleOfPrecision,o=E.let("res"),a=d?h._`Math.abs(Math.round(${o}) - ${o}) > 1e-${d}`:h._`${o} !== parseInt(${o})`;w.fail$data(h._`(${l} === 0 || (${o} = ${f}/${l}, ${a}))`)}}},98675:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(12240),y=s(85432);p.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:E})=>y.str`must match pattern "${E}"`,params:({schemaCode:E})=>y._`{pattern: ${E}}`},code(E){const{data:f,$data:l,schema:i,schemaCode:d,it:o}=E,v=l?y._`(new RegExp(${d}, ${o.opts.unicodeRegExp?"u":""}))`:(0,h.usePattern)(E,i);E.fail$data(y._`!${v}.test(${f})`)}}},64620:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(12240),y=s(85432),D=s(87868);p.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:f}})=>y.str`must have required property '${f}'`,params:({params:{missingProperty:f}})=>y._`{missingProperty: ${f}}`},code(f){const{gen:l,schema:i,schemaCode:d,data:o,$data:a,it:v}=f,{opts:b}=v;if(!a&&0===i.length)return;const m=i.length>=b.loopRequired;if(v.allErrors?function _(){if(m||a)f.block$data(y.nil,S);else for(const B of i)(0,h.checkReportMissingProp)(f,B)}():function C(){const B=l.let("missing");if(m||a){const k=l.let("valid",!0);f.block$data(k,()=>function N(B,k){f.setParams({missingProperty:B}),l.forOf(B,d,()=>{l.assign(k,(0,h.propertyInData)(l,o,B,b.ownProperties)),l.if((0,y.not)(k),()=>{f.error(),l.break()})},y.nil)}(B,k)),f.ok(k)}else l.if((0,h.checkMissingProp)(f,i,B)),(0,h.reportMissingProp)(f,B),l.else()}(),b.strictRequired){const B=f.parentSchema.properties,{definedProperties:k}=f.it;for(const F of i)void 0!==B?.[F]||k.has(F)||(0,D.checkStrictMode)(v,`required property "${F}" is not defined at "${v.schemaEnv.baseId+v.errSchemaPath}" (strictRequired)`,v.opts.strictRequired)}function S(){l.forOf("prop",d,B=>{f.setParams({missingProperty:B}),l.if((0,h.noPropertyInData)(l,o,B,b.ownProperties),()=>f.error())})}}}},13632:(q,p,s)=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});const h=s(15894),y=s(85432),D=s(87868),w=s(54195);p.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:l,j:i}})=>y.str`must NOT have duplicate items (items ## ${i} and ${l} are identical)`,params:({params:{i:l,j:i}})=>y._`{i: ${l}, j: ${i}}`},code(l){const{gen:i,data:d,$data:o,schema:a,parentSchema:v,schemaCode:b,it:m}=l;if(!o&&!a)return;const _=i.let("valid"),C=v.items?(0,h.getSchemaTypes)(v.items):[];function B(F,I){const H=i.name("item"),ne=(0,h.checkDataTypes)(C,H,m.opts.strictNumbers,h.DataType.Wrong),oe=i.const("indices",y._`{}`);i.for(y._`;${F}--;`,()=>{i.let(H,y._`${d}[${F}]`),i.if(ne,y._`continue`),C.length>1&&i.if(y._`typeof ${H} == "string"`,y._`${H} += "_"`),i.if(y._`typeof ${oe}[${H}] == "number"`,()=>{i.assign(I,y._`${oe}[${H}]`),l.error(),i.assign(_,!1).break()}).code(y._`${oe}[${H}] = ${F}`)})}function k(F,I){const H=(0,D.useFunc)(i,w.default),ne=i.name("outer");i.label(ne).for(y._`;${F}--;`,()=>i.for(y._`${I} = ${F}; ${I}--;`,()=>i.if(y._`${H}(${d}[${F}], ${d}[${I}])`,()=>{l.error(),i.assign(_,!1).break(ne)})))}l.block$data(_,function S(){const F=i.let("i",y._`${d}.length`),I=i.let("j");l.setParams({i:F,j:I}),i.assign(_,!0),i.if(y._`${F} > 1`,()=>(function N(){return C.length>0&&!C.some(F=>"object"===F||"array"===F)}()?B:k)(F,I))},y._`${b} === false`),l.ok(_)}}},23020:(q,p,s)=>{"use strict";var h=s(90258),y=s(48128),D=y(h("String.prototype.indexOf"));q.exports=function(E,f){var l=h(E,!!f);return"function"==typeof l&&D(E,".prototype.")>-1?y(l):l}},48128:(q,p,s)=>{"use strict";var h=s(65992),y=s(90258),D=s(31358),w=s(46758),E=y("%Function.prototype.apply%"),f=y("%Function.prototype.call%"),l=y("%Reflect.apply%",!0)||h.call(f,E),i=s(4570),d=y("%Math.max%");q.exports=function(v){if("function"!=typeof v)throw new w("a function is required");var b=l(h,f,arguments);return D(b,1+d(0,v.length-(arguments.length-1)),!0)};var o=function(){return l(h,E,arguments)};i?i(q.exports,"apply",{value:o}):q.exports.apply=o},92736:(q,p,s)=>{"use strict";var h=s(4570),y=s(58413),D=s(46758),w=s(83798);q.exports=function(f,l,i){if(!f||"object"!=typeof f&&"function"!=typeof f)throw new D("`obj` must be an object or a function`");if("string"!=typeof l&&"symbol"!=typeof l)throw new D("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new D("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new D("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new D("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new D("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,v=arguments.length>6&&arguments[6],b=!!w&&w(f,l);if(h)h(f,l,{configurable:null===a&&b?b.configurable:!a,enumerable:null===d&&b?b.enumerable:!d,value:i,writable:null===o&&b?b.writable:!o});else{if(!v&&(d||o||a))throw new y("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");f[l]=i}}},947:(q,p,s)=>{"use strict";var h=s(44934),y="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),D=Object.prototype.toString,w=Array.prototype.concat,E=s(92736),l=s(35861)(),i=function(o,a,v,b){if(a in o)if(!0===b){if(o[a]===v)return}else if(!function(o){return"function"==typeof o&&"[object Function]"===D.call(o)}(b)||!b())return;l?E(o,a,v,!0):E(o,a,v)},d=function(o,a){var v=arguments.length>2?arguments[2]:{},b=h(a);y&&(b=w.call(b,Object.getOwnPropertySymbols(a)));for(var m=0;m<b.length;m+=1)i(o,b[m],a[b[m]],v[b[m]])};d.supportsDescriptors=!!l,q.exports=d},4570:(q,p,s)=>{"use strict";var y=s(90258)("%Object.defineProperty%",!0)||!1;if(y)try{y({},"a",{value:1})}catch{y=!1}q.exports=y},1756:q=>{"use strict";q.exports=EvalError},37640:q=>{"use strict";q.exports=Error},77933:q=>{"use strict";q.exports=RangeError},6613:q=>{"use strict";q.exports=ReferenceError},58413:q=>{"use strict";q.exports=SyntaxError},46758:q=>{"use strict";q.exports=TypeError},5286:q=>{"use strict";q.exports=URIError},34813:(q,p,s)=>{"use strict";var h=s(46758);q.exports=function(D){if(null==D)throw new h(arguments.length>0&&arguments[1]||"Cannot call method on "+D);return D}},65240:(q,p,s)=>{"use strict";var y=s(90258)("%Object.defineProperty%",!0),D=s(88779)(),w=s(78368),E=D?Symbol.toStringTag:null;q.exports=function(l,i){E&&(arguments.length>2&&arguments[2]&&arguments[2].force||!w(l,E))&&(y?y(l,E,{configurable:!0,enumerable:!1,value:i,writable:!1}):l[E]=i)}},31232:(q,p,s)=>{"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,y=s(20561),D=s(58239),w=s(94665),E=s(16827);q.exports=function(d){if(y(d))return d;var a,o="default";if(arguments.length>1&&(arguments[1]===String?o="string":arguments[1]===Number&&(o="number")),h&&(Symbol.toPrimitive?a=function(d,o){var a=d[o];if(null!==a&&typeof a<"u"){if(!D(a))throw new TypeError(a+" returned for property "+o+" of object "+d+" is not a function");return a}}(d,Symbol.toPrimitive):E(d)&&(a=Symbol.prototype.valueOf)),typeof a<"u"){var v=a.call(d,o);if(y(v))return v;throw new TypeError("unable to convert exotic object to primitive")}return"default"===o&&(w(d)||E(d))&&(o="string"),function(d,o){if(typeof d>"u"||null===d)throw new TypeError("Cannot call method on "+d);if("string"!=typeof o||"number"!==o&&"string"!==o)throw new TypeError('hint must be "string" or "number"');var v,b,m,a="string"===o?["toString","valueOf"]:["valueOf","toString"];for(m=0;m<a.length;++m)if(D(v=d[a[m]])&&(b=v.call(d),y(b)))return b;throw new TypeError("No default value")}(d,"default"===o?"number":o)}},20561:q=>{"use strict";q.exports=function(s){return null===s||"function"!=typeof s&&"object"!=typeof s}},46096:(q,p,s)=>{!function(){"use strict";var y,D,w,E,f,l,i,d,o,a,v,b,m,_,C,S,N,B,k,F,I,H,ne,oe;function X(V){return tt.Statement.hasOwnProperty(V.type)}f=s(48038),l=s(3516),y=f.Syntax,w={"||":(D={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,Call:16,New:17,TaggedTemplate:18,Member:19,Primary:20}).LogicalOR,"&&":D.LogicalAND,"|":D.BitwiseOR,"^":D.BitwiseXOR,"&":D.BitwiseAND,"==":D.Equality,"!=":D.Equality,"===":D.Equality,"!==":D.Equality,is:D.Equality,isnt:D.Equality,"<":D.Relational,">":D.Relational,"<=":D.Relational,">=":D.Relational,in:D.Relational,instanceof:D.Relational,"<<":D.BitwiseSHIFT,">>":D.BitwiseSHIFT,">>>":D.BitwiseSHIFT,"+":D.Additive,"-":D.Additive,"*":D.Multiplicative,"%":D.Multiplicative,"/":D.Multiplicative,"**":D.Exponentiation};function Pe(V,ue){var ie="";for(ue|=0;ue>0;ue>>>=1,V+=V)1&ue&&(ie+=V);return ie}function me(V){var ue=V.length;return ue&&l.code.isLineTerminator(V.charCodeAt(ue-1))}function be(V,ue){var ie;for(ie in ue)ue.hasOwnProperty(ie)&&(V[ie]=ue[ie]);return V}function ge(V,ue){var ie,de;function Se(Ve){return"object"==typeof Ve&&Ve instanceof Object&&!(Ve instanceof RegExp)}for(ie in ue)ue.hasOwnProperty(ie)&&(Se(de=ue[ie])?Se(V[ie])?ge(V[ie],de):V[ie]=ge({},de):V[ie]=de);return V}function Re(V,ue){return 8232==(-2&V)?(ue?"u":"\\u")+(8232===V?"2028":"2029"):10===V||13===V?(ue?"":"\\")+(10===V?"n":"r"):String.fromCharCode(V)}function Me(V,ue){var ie;return 8===V?"\\b":12===V?"\\f":9===V?"\\t":(ie=V.toString(16).toUpperCase(),o||V>255?"\\u"+"0000".slice(ie.length)+ie:0!==V||l.code.isDecimalDigit(ue)?11===V?"\\x0B":"\\x"+"00".slice(ie.length)+ie:"\\0")}function Le(V){if(92===V)return"\\\\";if(10===V)return"\\n";if(13===V)return"\\r";if(8232===V)return"\\u2028";if(8233===V)return"\\u2029";throw new Error("Incorrectly classified character")}function We(V){var ue,ie,de,Se="";for(ue=0,ie=V.length;ue<ie;++ue)de=V[ue],Se+=Array.isArray(de)?We(de):de;return Se}function Je(V,ue){if(!H)return Array.isArray(V)?We(V):V;if(null==ue){if(V instanceof E)return V;ue={}}return null==ue.loc?new E(null,null,H,V,ue.name||null):new E(ue.loc.start.line,ue.loc.start.column,!0===H?ue.loc.source||null:H,V,ue.name||null)}function at(){return C||" "}function ee(V,ue){var ie,de,Se,Ve;return 0===(ie=Je(V).toString()).length?[ue]:0===(de=Je(ue).toString()).length?[V]:(Se=ie.charCodeAt(ie.length-1),Ve=de.charCodeAt(0),(43===Se||45===Se)&&Se===Ve||l.code.isIdentifierPartES5(Se)&&l.code.isIdentifierPartES5(Ve)||47===Se&&105===Ve?[V,at(),ue]:l.code.isWhiteSpace(Se)||l.code.isLineTerminator(Se)||l.code.isWhiteSpace(Ve)||l.code.isLineTerminator(Ve)?[V,ue]:[V,C,ue])}function L(V){return[i,V]}function P(V){var ue;ue=i,V(i+=d),i=ue}function Ce(V,ue){if("Line"===V.type){if(me(V.value))return"//"+V.value;var ie="//"+V.value;return oe||(ie+="\n"),ie}return F.format.indent.adjustMultilineComment&&/[\n\r]/.test(V.value)?function _e(V,ue){var ie,de,Se,Ve,He,Ze,ct,bt;for(ie=V.split(/\r\n|[\r\n]/),Ze=Number.MAX_VALUE,de=1,Se=ie.length;de<Se;++de){for(Ve=ie[de],He=0;He<Ve.length&&l.code.isWhiteSpace(Ve.charCodeAt(He));)++He;Ze>He&&(Ze=He)}for(typeof ue<"u"?(ct=i,"*"===ie[1][Ze]&&(ue+=" "),i=ue):(1&Ze&&--Ze,ct=i),de=1,Se=ie.length;de<Se;++de)bt=Je(L(ie[de].slice(Ze))),ie[de]=H?bt.join(""):bt;return i=ct,ie.join("\n")}("/*"+V.value+"*/",ue):"/*"+V.value+"*/"}function je(V,ue){var ie,de,Se,Ve,He,Ze,ct,bt,Dt,ur,Ct,Wt;if(V.leadingComments&&V.leadingComments.length>0){if(Ve=ue,oe){for(ue=[],(Wt=((Ct=ne.substring((bt=(Se=V.leadingComments[0]).extendedRange)[0],(Dt=Se.range)[0])).match(/\n/g)||[]).length)>0?(ue.push(Pe("\n",Wt)),ue.push(L(Ce(Se)))):(ue.push(Ct),ue.push(Ce(Se))),ur=Dt,ie=1,de=V.leadingComments.length;ie<de;ie++)Wt=(ne.substring(ur[1],(Dt=(Se=V.leadingComments[ie]).range)[0]).match(/\n/g)||[]).length,ue.push(Pe("\n",Wt)),ue.push(L(Ce(Se))),ur=Dt;Wt=(ne.substring(Dt[1],bt[1]).match(/\n/g)||[]).length,ue.push(Pe("\n",Wt))}else for(Se=V.leadingComments[0],ue=[],B&&V.type===y.Program&&0===V.body.length&&ue.push("\n"),ue.push(Ce(Se)),me(Je(ue).toString())||ue.push("\n"),ie=1,de=V.leadingComments.length;ie<de;++ie)me(Je(ct=[Ce(Se=V.leadingComments[ie])]).toString())||ct.push("\n"),ue.push(L(ct));ue.push(L(Ve))}if(V.trailingComments)if(oe)(Wt=((Ct=ne.substring((bt=(Se=V.trailingComments[0]).extendedRange)[0],(Dt=Se.range)[0])).match(/\n/g)||[]).length)>0?(ue.push(Pe("\n",Wt)),ue.push(L(Ce(Se)))):(ue.push(Ct),ue.push(Ce(Se)));else for(He=!me(Je(ue).toString()),Ze=Pe(" ",function Z(V){var ue;for(ue=V.length-1;ue>=0&&!l.code.isLineTerminator(V.charCodeAt(ue));--ue);return V.length-1-ue}(Je([i,ue,d]).toString())),ie=0,de=V.trailingComments.length;ie<de;++ie)Se=V.trailingComments[ie],He?(ue=0===ie?[ue,d]:[ue,Ze]).push(Ce(Se,Ze)):ue=[ue,L(Ce(Se))],ie!==de-1&&!me(Je(ue).toString())&&(ue=[ue,"\n"]);return ue}function xe(V,ue,ie){var de,Se=0;for(de=V;de<ue;de++)"\n"===ne[de]&&Se++;for(de=1;de<Se;de++)ie.push(_)}function Be(V,ue,ie){return ue<ie?["(",V,")"]:V}function ut(V){var ue,ie,de;for(ue=1,ie=(de=V.split(/\r\n|\n/)).length;ue<ie;ue++)de[ue]=_+i+de[ue];return de}function tt(){}function pt(V){return Je(V.name,V)}function Bt(V,ue){return V.async?"async"+(ue?at():C):""}function Ft(V){return V.generator&&!F.moz.starlessGenerator?"*"+C:""}function wt(V){var ue=V.value,ie="";return ue.async&&(ie+=Bt(ue,!V.computed)),ue.generator&&(ie+=Ft(ue)?"*":""),ie}tt.prototype.maybeBlock=function(V,ue){var ie,de,Se=this;return de=!F.comment||!V.leadingComments,V.type===y.BlockStatement&&de?[C,this.generateStatement(V,ue)]:V.type===y.EmptyStatement&&de?";":(P(function(){ie=[_,L(Se.generateStatement(V,ue))]}),ie)},tt.prototype.maybeBlockSuffix=function(V,ue){var ie=me(Je(ue).toString());return V.type!==y.BlockStatement||F.comment&&V.leadingComments||ie?ie?[ue,i]:[ue,_,i]:[ue,C]},tt.prototype.generatePattern=function(V,ue,ie){return V.type===y.Identifier?pt(V):this.generateExpression(V,ue,ie)},tt.prototype.generateFunctionParams=function(V){var ue,ie,de,Se;if(Se=!1,V.type!==y.ArrowFunctionExpression||V.rest||V.defaults&&0!==V.defaults.length||1!==V.params.length||V.params[0].type!==y.Identifier){for((de=V.type===y.ArrowFunctionExpression?[Bt(V,!1)]:[]).push("("),V.defaults&&(Se=!0),ue=0,ie=V.params.length;ue<ie;++ue)de.push(Se&&V.defaults[ue]?this.generateAssignment(V.params[ue],V.defaults[ue],"=",D.Assignment,7):this.generatePattern(V.params[ue],D.Assignment,7)),ue+1<ie&&de.push(","+C);V.rest&&(V.params.length&&de.push(","+C),de.push("..."),de.push(pt(V.rest))),de.push(")")}else de=[Bt(V,!0),pt(V.params[0])];return de},tt.prototype.generateFunctionBody=function(V){var ue,ie;return ue=this.generateFunctionParams(V),V.type===y.ArrowFunctionExpression&&(ue.push(C),ue.push("=>")),V.expression?(ue.push(C),"{"===(ie=this.generateExpression(V.body,D.Assignment,7)).toString().charAt(0)&&(ie=["(",ie,")"]),ue.push(ie)):ue.push(this.maybeBlock(V.body,9)),ue},tt.prototype.generateIterationForStatement=function(V,ue,ie){var de=["for"+(ue.await?at()+"await":"")+C+"("],Se=this;return P(function(){ue.left.type===y.VariableDeclaration?P(function(){de.push(ue.left.kind+at()),de.push(Se.generateStatement(ue.left.declarations[0],0))}):de.push(Se.generateExpression(ue.left,D.Call,7)),de=ee(de,V),de=[ee(de,Se.generateExpression(ue.right,D.Assignment,7)),")"]}),de.push(this.maybeBlock(ue.body,ie)),de},tt.prototype.generatePropertyKey=function(V,ue){var ie=[];return ue&&ie.push("["),ie.push(this.generateExpression(V,D.Assignment,7)),ue&&ie.push("]"),ie},tt.prototype.generateAssignment=function(V,ue,ie,de,Se){return D.Assignment<de&&(Se|=1),Be([this.generateExpression(V,D.Call,Se),C+ie+C,this.generateExpression(ue,D.Assignment,Se)],D.Assignment,de)},tt.prototype.semicolon=function(V){return!N&&32&V?"":";"},be(tt.prototype,tt.Statement={BlockStatement:function(V,ue){var ie,de,Se=["{",_],Ve=this;return P(function(){var He,Ze,ct,bt;for(0===V.body.length&&oe&&(ie=V.range)[1]-ie[0]>2&&("\n"===(de=ne.substring(ie[0]+1,ie[1]-1))[0]&&(Se=["{"]),Se.push(de)),bt=1,8&ue&&(bt|=16),He=0,Ze=V.body.length;He<Ze;++He)oe&&(0===He&&(V.body[0].leadingComments&&"\n"===(de=ne.substring((ie=V.body[0].leadingComments[0].extendedRange)[0],ie[1]))[0]&&(Se=["{"]),V.body[0].leadingComments||xe(V.range[0],V.body[0].range[0],Se)),He>0&&!V.body[He-1].trailingComments&&!V.body[He].leadingComments&&xe(V.body[He-1].range[1],V.body[He].range[0],Se)),He===Ze-1&&(bt|=32),ct=V.body[He].leadingComments&&oe?Ve.generateStatement(V.body[He],bt):L(Ve.generateStatement(V.body[He],bt)),Se.push(ct),me(Je(ct).toString())||oe&&He<Ze-1&&V.body[He+1].leadingComments||Se.push(_),oe&&He===Ze-1&&(V.body[He].trailingComments||xe(V.body[He].range[1],V.range[1],Se))}),Se.push(L("}")),Se},BreakStatement:function(V,ue){return V.label?"break "+V.label.name+this.semicolon(ue):"break"+this.semicolon(ue)},ContinueStatement:function(V,ue){return V.label?"continue "+V.label.name+this.semicolon(ue):"continue"+this.semicolon(ue)},ClassBody:function(V,ue){var ie=["{",_],de=this;return P(function(Se){var Ve,He;for(Ve=0,He=V.body.length;Ve<He;++Ve)ie.push(Se),ie.push(de.generateExpression(V.body[Ve],D.Sequence,7)),Ve+1<He&&ie.push(_)}),me(Je(ie).toString())||ie.push(_),ie.push(i),ie.push("}"),ie},ClassDeclaration:function(V,ue){var ie,de;return ie=["class"],V.id&&(ie=ee(ie,this.generateExpression(V.id,D.Sequence,7))),V.superClass&&(de=ee("extends",this.generateExpression(V.superClass,D.Unary,7)),ie=ee(ie,de)),ie.push(C),ie.push(this.generateStatement(V.body,33)),ie},DirectiveStatement:function(V,ue){return F.raw&&V.raw?V.raw+this.semicolon(ue):function Ue(V){var ue,ie,de,Se;for(Se="double"===b?'"':"'",ue=0,ie=V.length;ue<ie;++ue){if(39===(de=V.charCodeAt(ue))){Se='"';break}if(34===de){Se="'";break}92===de&&++ue}return Se+V+Se}(V.directive)+this.semicolon(ue)},DoWhileStatement:function(V,ue){var ie=ee("do",this.maybeBlock(V.body,1));return ee(ie=this.maybeBlockSuffix(V.body,ie),["while"+C+"(",this.generateExpression(V.test,D.Sequence,7),")"+this.semicolon(ue)])},CatchClause:function(V,ue){var ie,de=this;return P(function(){var Se;V.param?(ie=["catch"+C+"(",de.generateExpression(V.param,D.Sequence,7),")"],V.guard&&(Se=de.generateExpression(V.guard,D.Sequence,7),ie.splice(2,0," if ",Se))):ie=["catch"]}),ie.push(this.maybeBlock(V.body,1)),ie},DebuggerStatement:function(V,ue){return"debugger"+this.semicolon(ue)},EmptyStatement:function(V,ue){return";"},ExportDefaultDeclaration:function(V,ue){var de,ie=["export"];return de=32&ue?33:1,ie=ee(ie,"default"),X(V.declaration)?ee(ie,this.generateStatement(V.declaration,de)):ee(ie,this.generateExpression(V.declaration,D.Assignment,7)+this.semicolon(ue))},ExportNamedDeclaration:function(V,ue){var ie=["export"],Se=this;return V.declaration?ee(ie,this.generateStatement(V.declaration,32&ue?33:1)):(V.specifiers&&(0===V.specifiers.length?ie=ee(ie,"{"+C+"}"):V.specifiers[0].type===y.ExportBatchSpecifier?ie=ee(ie,this.generateExpression(V.specifiers[0],D.Sequence,7)):(ie=ee(ie,"{"),P(function(Ve){var He,Ze;for(ie.push(_),He=0,Ze=V.specifiers.length;He<Ze;++He)ie.push(Ve),ie.push(Se.generateExpression(V.specifiers[He],D.Sequence,7)),He+1<Ze&&ie.push(","+_)}),me(Je(ie).toString())||ie.push(_),ie.push(i+"}")),V.source?ie=ee(ie,["from"+C,this.generateExpression(V.source,D.Sequence,7),this.semicolon(ue)]):ie.push(this.semicolon(ue))),ie)},ExportAllDeclaration:function(V,ue){return["export"+C,"*"+C,"from"+C,this.generateExpression(V.source,D.Sequence,7),this.semicolon(ue)]},ExpressionStatement:function(V,ue){var ie,de;return 123===(de=Je(ie=[this.generateExpression(V.expression,D.Sequence,7)]).toString()).charCodeAt(0)||function Se(Ze){var ct;return"class"===Ze.slice(0,5)&&(123===(ct=Ze.charCodeAt(5))||l.code.isWhiteSpace(ct)||l.code.isLineTerminator(ct))}(de)||function Ve(Ze){var ct;return"function"===Ze.slice(0,8)&&(40===(ct=Ze.charCodeAt(8))||l.code.isWhiteSpace(ct)||42===ct||l.code.isLineTerminator(ct))}(de)||function He(Ze){var ct,bt,Dt;if("async"!==Ze.slice(0,5)||!l.code.isWhiteSpace(Ze.charCodeAt(5)))return!1;for(bt=6,Dt=Ze.length;bt<Dt&&l.code.isWhiteSpace(Ze.charCodeAt(bt));++bt);return bt!==Dt&&"function"===Ze.slice(bt,bt+8)&&(40===(ct=Ze.charCodeAt(bt+8))||l.code.isWhiteSpace(ct)||42===ct||l.code.isLineTerminator(ct))}(de)||k&&16&ue&&V.expression.type===y.Literal&&"string"==typeof V.expression.value?ie=["(",ie,")"+this.semicolon(ue)]:ie.push(this.semicolon(ue)),ie},ImportDeclaration:function(V,ue){var ie,de,Se=this;return 0===V.specifiers.length?["import",C,this.generateExpression(V.source,D.Sequence,7),this.semicolon(ue)]:(ie=["import"],V.specifiers[de=0].type===y.ImportDefaultSpecifier&&(ie=ee(ie,[this.generateExpression(V.specifiers[de],D.Sequence,7)]),++de),V.specifiers[de]&&(0!==de&&ie.push(","),V.specifiers[de].type===y.ImportNamespaceSpecifier?ie=ee(ie,[C,this.generateExpression(V.specifiers[de],D.Sequence,7)]):(ie.push(C+"{"),V.specifiers.length-de==1?(ie.push(C),ie.push(this.generateExpression(V.specifiers[de],D.Sequence,7)),ie.push(C+"}"+C)):(P(function(Ve){var He,Ze;for(ie.push(_),He=de,Ze=V.specifiers.length;He<Ze;++He)ie.push(Ve),ie.push(Se.generateExpression(V.specifiers[He],D.Sequence,7)),He+1<Ze&&ie.push(","+_)}),me(Je(ie).toString())||ie.push(_),ie.push(i+"}"+C)))),ie=ee(ie,["from"+C,this.generateExpression(V.source,D.Sequence,7),this.semicolon(ue)]))},VariableDeclarator:function(V,ue){var ie=1&ue?7:6;return V.init?[this.generateExpression(V.id,D.Assignment,ie),C,"=",C,this.generateExpression(V.init,D.Assignment,ie)]:this.generatePattern(V.id,D.Assignment,ie)},VariableDeclaration:function(V,ue){var ie,de,Se,Ve,He,Ze=this;function ct(){for(Ve=V.declarations[0],F.comment&&Ve.leadingComments?(ie.push("\n"),ie.push(L(Ze.generateStatement(Ve,He)))):(ie.push(at()),ie.push(Ze.generateStatement(Ve,He))),de=1,Se=V.declarations.length;de<Se;++de)Ve=V.declarations[de],F.comment&&Ve.leadingComments?(ie.push(","+_),ie.push(L(Ze.generateStatement(Ve,He)))):(ie.push(","+C),ie.push(Ze.generateStatement(Ve,He)))}return ie=[V.kind],He=1&ue?1:0,V.declarations.length>1?P(ct):ct(),ie.push(this.semicolon(ue)),ie},ThrowStatement:function(V,ue){return[ee("throw",this.generateExpression(V.argument,D.Sequence,7)),this.semicolon(ue)]},TryStatement:function(V,ue){var ie,de,Se,Ve;if(ie=["try",this.maybeBlock(V.block,1)],ie=this.maybeBlockSuffix(V.block,ie),V.handlers)for(de=0,Se=V.handlers.length;de<Se;++de)ie=ee(ie,this.generateStatement(V.handlers[de],1)),(V.finalizer||de+1!==Se)&&(ie=this.maybeBlockSuffix(V.handlers[de].body,ie));else{for(de=0,Se=(Ve=V.guardedHandlers||[]).length;de<Se;++de)ie=ee(ie,this.generateStatement(Ve[de],1)),(V.finalizer||de+1!==Se)&&(ie=this.maybeBlockSuffix(Ve[de].body,ie));if(V.handler)if(Array.isArray(V.handler))for(de=0,Se=V.handler.length;de<Se;++de)ie=ee(ie,this.generateStatement(V.handler[de],1)),(V.finalizer||de+1!==Se)&&(ie=this.maybeBlockSuffix(V.handler[de].body,ie));else ie=ee(ie,this.generateStatement(V.handler,1)),V.finalizer&&(ie=this.maybeBlockSuffix(V.handler.body,ie))}return V.finalizer&&(ie=ee(ie,["finally",this.maybeBlock(V.finalizer,1)])),ie},SwitchStatement:function(V,ue){var ie,de,Se,Ve,He,Ze=this;if(P(function(){ie=["switch"+C+"(",Ze.generateExpression(V.discriminant,D.Sequence,7),")"+C+"{"+_]}),V.cases)for(He=1,Se=0,Ve=V.cases.length;Se<Ve;++Se)Se===Ve-1&&(He|=32),de=L(this.generateStatement(V.cases[Se],He)),ie.push(de),me(Je(de).toString())||ie.push(_);return ie.push(L("}")),ie},SwitchCase:function(V,ue){var ie,de,Se,Ve,He,Ze=this;return P(function(){for(ie=V.test?[ee("case",Ze.generateExpression(V.test,D.Sequence,7)),":"]:["default:"],Se=0,(Ve=V.consequent.length)&&V.consequent[0].type===y.BlockStatement&&(de=Ze.maybeBlock(V.consequent[0],1),ie.push(de),Se=1),Se!==Ve&&!me(Je(ie).toString())&&ie.push(_),He=1;Se<Ve;++Se)Se===Ve-1&&32&ue&&(He|=32),de=L(Ze.generateStatement(V.consequent[Se],He)),ie.push(de),Se+1!==Ve&&!me(Je(de).toString())&&ie.push(_)}),ie},IfStatement:function(V,ue){var ie,de,Ve=this;return P(function(){ie=["if"+C+"(",Ve.generateExpression(V.test,D.Sequence,7),")"]}),de=1,32&ue&&(de|=32),V.alternate?(ie.push(this.maybeBlock(V.consequent,1)),ie=ee(ie=this.maybeBlockSuffix(V.consequent,ie),V.alternate.type===y.IfStatement?["else ",this.generateStatement(V.alternate,de)]:ee("else",this.maybeBlock(V.alternate,de)))):ie.push(this.maybeBlock(V.consequent,de)),ie},ForStatement:function(V,ue){var ie,de=this;return P(function(){ie=["for"+C+"("],V.init?V.init.type===y.VariableDeclaration?ie.push(de.generateStatement(V.init,0)):(ie.push(de.generateExpression(V.init,D.Sequence,6)),ie.push(";")):ie.push(";"),V.test&&(ie.push(C),ie.push(de.generateExpression(V.test,D.Sequence,7))),ie.push(";"),V.update&&(ie.push(C),ie.push(de.generateExpression(V.update,D.Sequence,7))),ie.push(")")}),ie.push(this.maybeBlock(V.body,32&ue?33:1)),ie},ForInStatement:function(V,ue){return this.generateIterationForStatement("in",V,32&ue?33:1)},ForOfStatement:function(V,ue){return this.generateIterationForStatement("of",V,32&ue?33:1)},LabeledStatement:function(V,ue){return[V.label.name+":",this.maybeBlock(V.body,32&ue?33:1)]},Program:function(V,ue){var ie,de,Se,Ve,He;for(Ve=V.body.length,ie=[B&&Ve>0?"\n":""],He=17,Se=0;Se<Ve;++Se)!B&&Se===Ve-1&&(He|=32),oe&&(0===Se&&(V.body[0].leadingComments||xe(V.range[0],V.body[Se].range[0],ie)),Se>0&&!V.body[Se-1].trailingComments&&!V.body[Se].leadingComments&&xe(V.body[Se-1].range[1],V.body[Se].range[0],ie)),de=L(this.generateStatement(V.body[Se],He)),ie.push(de),Se+1<Ve&&!me(Je(de).toString())&&(oe&&V.body[Se+1].leadingComments||ie.push(_)),oe&&Se===Ve-1&&(V.body[Se].trailingComments||xe(V.body[Se].range[1],V.range[1],ie));return ie},FunctionDeclaration:function(V,ue){return[Bt(V,!0),"function",Ft(V)||at(),V.id?pt(V.id):"",this.generateFunctionBody(V)]},ReturnStatement:function(V,ue){return V.argument?[ee("return",this.generateExpression(V.argument,D.Sequence,7)),this.semicolon(ue)]:["return"+this.semicolon(ue)]},WhileStatement:function(V,ue){var ie,de=this;return P(function(){ie=["while"+C+"(",de.generateExpression(V.test,D.Sequence,7),")"]}),ie.push(this.maybeBlock(V.body,32&ue?33:1)),ie},WithStatement:function(V,ue){var ie,de=this;return P(function(){ie=["with"+C+"(",de.generateExpression(V.object,D.Sequence,7),")"]}),ie.push(this.maybeBlock(V.body,32&ue?33:1)),ie}}),be(tt.prototype,tt.Expression={SequenceExpression:function(V,ue,ie){var de,Se,Ve;for(D.Sequence<ue&&(ie|=1),de=[],Se=0,Ve=V.expressions.length;Se<Ve;++Se)de.push(this.generateExpression(V.expressions[Se],D.Assignment,ie)),Se+1<Ve&&de.push(","+C);return Be(de,D.Sequence,ue)},AssignmentExpression:function(V,ue,ie){return this.generateAssignment(V.left,V.right,V.operator,ue,ie)},ArrowFunctionExpression:function(V,ue,ie){return Be(this.generateFunctionBody(V),D.ArrowFunction,ue)},ConditionalExpression:function(V,ue,ie){return D.Conditional<ue&&(ie|=1),Be([this.generateExpression(V.test,D.LogicalOR,ie),C+"?"+C,this.generateExpression(V.consequent,D.Assignment,ie),C+":"+C,this.generateExpression(V.alternate,D.Assignment,ie)],D.Conditional,ue)},LogicalExpression:function(V,ue,ie){return this.BinaryExpression(V,ue,ie)},BinaryExpression:function(V,ue,ie){var de,Ve,He,Ze,ct;return He=w[V.operator],Ve="**"===V.operator?He:He+1,He<ue&&(ie|=1),de=47===(ct=(Ze=this.generateExpression(V.left,"**"===V.operator?D.Postfix:He,ie)).toString()).charCodeAt(ct.length-1)&&l.code.isIdentifierPartES5(V.operator.charCodeAt(0))?[Ze,at(),V.operator]:ee(Ze,V.operator),Ze=this.generateExpression(V.right,Ve,ie),"/"===V.operator&&"/"===Ze.toString().charAt(0)||"<"===V.operator.slice(-1)&&"!--"===Ze.toString().slice(0,3)?(de.push(at()),de.push(Ze)):de=ee(de,Ze),"in"!==V.operator||1&ie?Be(de,He,ue):["(",de,")"]},CallExpression:function(V,ue,ie){var de,Se,Ve;for((de=[this.generateExpression(V.callee,D.Call,3)]).push("("),Se=0,Ve=V.arguments.length;Se<Ve;++Se)de.push(this.generateExpression(V.arguments[Se],D.Assignment,7)),Se+1<Ve&&de.push(","+C);return de.push(")"),2&ie?Be(de,D.Call,ue):["(",de,")"]},NewExpression:function(V,ue,ie){var de,Se,Ve,He;if(Se=V.arguments.length,de=ee("new",this.generateExpression(V.callee,D.New,4&ie&&!S&&0===Se?5:1)),!(4&ie)||S||Se>0){for(de.push("("),Ve=0,He=Se;Ve<He;++Ve)de.push(this.generateExpression(V.arguments[Ve],D.Assignment,7)),Ve+1<He&&de.push(","+C);de.push(")")}return Be(de,D.New,ue)},MemberExpression:function(V,ue,ie){var de,Se;return de=[this.generateExpression(V.object,D.Call,2&ie?3:1)],V.computed?(de.push("["),de.push(this.generateExpression(V.property,D.Sequence,2&ie?7:5)),de.push("]")):(V.object.type===y.Literal&&"number"==typeof V.object.value&&(Se=Je(de).toString()).indexOf(".")<0&&!/[eExX]/.test(Se)&&l.code.isDecimalDigit(Se.charCodeAt(Se.length-1))&&!(Se.length>=2&&48===Se.charCodeAt(0))&&de.push(" "),de.push("."),de.push(pt(V.property))),Be(de,D.Member,ue)},MetaProperty:function(V,ue,ie){var de;return(de=[]).push("string"==typeof V.meta?V.meta:pt(V.meta)),de.push("."),de.push("string"==typeof V.property?V.property:pt(V.property)),Be(de,D.Member,ue)},UnaryExpression:function(V,ue,ie){var de,Se,Ve,He,Ze;return Se=this.generateExpression(V.argument,D.Unary,7),""===C?de=ee(V.operator,Se):(de=[V.operator],V.operator.length>2?de=ee(de,Se):(Ze=(He=Je(de).toString()).charCodeAt(He.length-1),Ve=Se.toString().charCodeAt(0),((43===Ze||45===Ze)&&Ze===Ve||l.code.isIdentifierPartES5(Ze)&&l.code.isIdentifierPartES5(Ve))&&de.push(at()),de.push(Se))),Be(de,D.Unary,ue)},YieldExpression:function(V,ue,ie){var de;return de=V.delegate?"yield*":"yield",V.argument&&(de=ee(de,this.generateExpression(V.argument,D.Yield,7))),Be(de,D.Yield,ue)},AwaitExpression:function(V,ue,ie){return Be(ee(V.all?"await*":"await",this.generateExpression(V.argument,D.Await,7)),D.Await,ue)},UpdateExpression:function(V,ue,ie){return V.prefix?Be([V.operator,this.generateExpression(V.argument,D.Unary,7)],D.Unary,ue):Be([this.generateExpression(V.argument,D.Postfix,7),V.operator],D.Postfix,ue)},FunctionExpression:function(V,ue,ie){var de=[Bt(V,!0),"function"];return V.id?(de.push(Ft(V)||at()),de.push(pt(V.id))):de.push(Ft(V)||C),de.push(this.generateFunctionBody(V)),de},ArrayPattern:function(V,ue,ie){return this.ArrayExpression(V,ue,ie,!0)},ArrayExpression:function(V,ue,ie,de){var Se,Ve,He=this;return V.elements.length?(Se=["[",(Ve=!de&&V.elements.length>1)?_:""],P(function(Ze){var ct,bt;for(ct=0,bt=V.elements.length;ct<bt;++ct)V.elements[ct]?(Se.push(Ve?Ze:""),Se.push(He.generateExpression(V.elements[ct],D.Assignment,7))):(Ve&&Se.push(Ze),ct+1===bt&&Se.push(",")),ct+1<bt&&Se.push(","+(Ve?_:C))}),Ve&&!me(Je(Se).toString())&&Se.push(_),Se.push(Ve?i:""),Se.push("]"),Se):"[]"},RestElement:function(V,ue,ie){return"..."+this.generatePattern(V.argument)},ClassExpression:function(V,ue,ie){var de,Se;return de=["class"],V.id&&(de=ee(de,this.generateExpression(V.id,D.Sequence,7))),V.superClass&&(Se=ee("extends",this.generateExpression(V.superClass,D.Unary,7)),de=ee(de,Se)),de.push(C),de.push(this.generateStatement(V.body,33)),de},MethodDefinition:function(V,ue,ie){var de,Se;return de=V.static?["static"+C]:[],Se="get"===V.kind||"set"===V.kind?[ee(V.kind,this.generatePropertyKey(V.key,V.computed)),this.generateFunctionBody(V.value)]:[wt(V),this.generatePropertyKey(V.key,V.computed),this.generateFunctionBody(V.value)],ee(de,Se)},Property:function(V,ue,ie){return"get"===V.kind||"set"===V.kind?[V.kind,at(),this.generatePropertyKey(V.key,V.computed),this.generateFunctionBody(V.value)]:V.shorthand?"AssignmentPattern"===V.value.type?this.AssignmentPattern(V.value,D.Sequence,7):this.generatePropertyKey(V.key,V.computed):V.method?[wt(V),this.generatePropertyKey(V.key,V.computed),this.generateFunctionBody(V.value)]:[this.generatePropertyKey(V.key,V.computed),":"+C,this.generateExpression(V.value,D.Assignment,7)]},ObjectExpression:function(V,ue,ie){var de,Se,Ve,He=this;return V.properties.length?(de=V.properties.length>1,P(function(){Ve=He.generateExpression(V.properties[0],D.Sequence,7)}),de||function Oe(V){return/[\r\n]/g.test(V)}(Je(Ve).toString())?(P(function(Ze){var ct,bt;if(Se=["{",_,Ze,Ve],de)for(Se.push(","+_),ct=1,bt=V.properties.length;ct<bt;++ct)Se.push(Ze),Se.push(He.generateExpression(V.properties[ct],D.Sequence,7)),ct+1<bt&&Se.push(","+_)}),me(Je(Se).toString())||Se.push(_),Se.push(i),Se.push("}"),Se):["{",C,Ve,C,"}"]):"{}"},AssignmentPattern:function(V,ue,ie){return this.generateAssignment(V.left,V.right,"=",ue,ie)},ObjectPattern:function(V,ue,ie){var de,Se,Ve,He,Ze,ct=this;if(!V.properties.length)return"{}";if(He=!1,1===V.properties.length)(Ze=V.properties[0]).type===y.Property&&Ze.value.type!==y.Identifier&&(He=!0);else for(Se=0,Ve=V.properties.length;Se<Ve;++Se)if((Ze=V.properties[Se]).type===y.Property&&!Ze.shorthand){He=!0;break}return de=["{",He?_:""],P(function(bt){var Dt,ur;for(Dt=0,ur=V.properties.length;Dt<ur;++Dt)de.push(He?bt:""),de.push(ct.generateExpression(V.properties[Dt],D.Sequence,7)),Dt+1<ur&&de.push(","+(He?_:C))}),He&&!me(Je(de).toString())&&de.push(_),de.push(He?i:""),de.push("}"),de},ThisExpression:function(V,ue,ie){return"this"},Super:function(V,ue,ie){return"super"},Identifier:function(V,ue,ie){return pt(V)},ImportDefaultSpecifier:function(V,ue,ie){return pt(V.id||V.local)},ImportNamespaceSpecifier:function(V,ue,ie){var de=["*"],Se=V.id||V.local;return Se&&de.push(C+"as"+at()+pt(Se)),de},ImportSpecifier:function(V,ue,ie){var de=V.imported,Se=[de.name],Ve=V.local;return Ve&&Ve.name!==de.name&&Se.push(at()+"as"+at()+pt(Ve)),Se},ExportSpecifier:function(V,ue,ie){var de=V.local,Se=[de.name],Ve=V.exported;return Ve&&Ve.name!==de.name&&Se.push(at()+"as"+at()+pt(Ve)),Se},Literal:function(V,ue,ie){var de;if(V.hasOwnProperty("raw")&&I&&F.raw)try{if((de=I(V.raw).body[0].expression).type===y.Literal&&de.value===V.value)return V.raw}catch{}return V.regex?"/"+V.regex.pattern+"/"+V.regex.flags:null===V.value?"null":"string"==typeof V.value?function Qe(V){var ie,de,Se,Ze,ct,ue="",Ve=0,He=0;for(ie=0,de=V.length;ie<de;++ie){if(39===(Se=V.charCodeAt(ie)))++Ve;else if(34===Se)++He;else if(47===Se&&o)ue+="\\";else{if(l.code.isLineTerminator(Se)||92===Se){ue+=Le(Se);continue}if(!l.code.isIdentifierPartES5(Se)&&(o&&Se<32||!o&&!m&&(Se<32||Se>126))){ue+=Me(Se,V.charCodeAt(ie+1));continue}}ue+=String.fromCharCode(Se)}if(ct=(Ze=!("double"===b||"auto"===b&&He<Ve))?"'":'"',!(Ze?Ve:He))return ct+ue+ct;for(V=ue,ue=ct,ie=0,de=V.length;ie<de;++ie)(39===(Se=V.charCodeAt(ie))&&Ze||34===Se&&!Ze)&&(ue+="\\"),ue+=String.fromCharCode(Se);return ue+ct}(V.value):"number"==typeof V.value?function Ae(V){var ue,ie,de,Se,Ve;if(V!=V)throw new Error("Numeric literal whose value is NaN");if(V<0||0===V&&1/V<0)throw new Error("Numeric literal whose value is negative");if(V===1/0)return o?"null":a?"1e400":"1e+400";if(ue=""+V,!a||ue.length<3)return ue;for(ie=ue.indexOf("."),!o&&48===ue.charCodeAt(0)&&1===ie&&(ie=0,ue=ue.slice(1)),de=ue,ue=ue.replace("e+","e"),Se=0,(Ve=de.indexOf("e"))>0&&(Se=+de.slice(Ve+1),de=de.slice(0,Ve)),ie>=0&&(Se-=de.length-ie-1,de=+(de.slice(0,ie)+de.slice(ie+1))+""),Ve=0;48===de.charCodeAt(de.length+Ve-1);)--Ve;return 0!==Ve&&(Se-=Ve,de=de.slice(0,Ve)),0!==Se&&(de+="e"+Se),(de.length<ue.length||v&&V>1e12&&Math.floor(V)===V&&(de="0x"+V.toString(16)).length<ue.length)&&+de===V&&(ue=de),ue}(V.value):"boolean"==typeof V.value?V.value?"true":"false":function Fe(V){var ue,ie,de,Se,Ve,He,Ze,ct;if(ie=V.toString(),V.source){if(!(ue=ie.match(/\/([^/]*)$/)))return ie;for(de=ue[1],ie="",Ze=!1,ct=!1,Se=0,Ve=V.source.length;Se<Ve;++Se)He=V.source.charCodeAt(Se),ct?(ie+=Re(He,ct),ct=!1):(Ze?93===He&&(Ze=!1):47===He?ie+="\\":91===He&&(Ze=!0),ie+=Re(He,ct),ct=92===He);return"/"+ie+"/"+de}return ie}(V.value)},GeneratorExpression:function(V,ue,ie){return this.ComprehensionExpression(V,ue,ie)},ComprehensionExpression:function(V,ue,ie){var de,Se,Ve,He,Ze=this;return de=V.type===y.GeneratorExpression?["("]:["["],F.moz.comprehensionExpressionStartsWithAssignment&&(He=this.generateExpression(V.body,D.Assignment,7),de.push(He)),V.blocks&&P(function(){for(Se=0,Ve=V.blocks.length;Se<Ve;++Se)He=Ze.generateExpression(V.blocks[Se],D.Sequence,7),Se>0||F.moz.comprehensionExpressionStartsWithAssignment?de=ee(de,He):de.push(He)}),V.filter&&(de=ee(de,"if"+C),He=this.generateExpression(V.filter,D.Sequence,7),de=ee(de,["(",He,")"])),F.moz.comprehensionExpressionStartsWithAssignment||(He=this.generateExpression(V.body,D.Assignment,7),de=ee(de,He)),de.push(V.type===y.GeneratorExpression?")":"]"),de},ComprehensionBlock:function(V,ue,ie){var de;return de=ee(de=V.left.type===y.VariableDeclaration?[V.left.kind,at(),this.generateStatement(V.left.declarations[0],0)]:this.generateExpression(V.left,D.Call,7),V.of?"of":"in"),de=ee(de,this.generateExpression(V.right,D.Sequence,7)),["for"+C+"(",de,")"]},SpreadElement:function(V,ue,ie){return["...",this.generateExpression(V.argument,D.Assignment,7)]},TaggedTemplateExpression:function(V,ue,ie){var de=3;return 2&ie||(de=1),Be([this.generateExpression(V.tag,D.Call,de),this.generateExpression(V.quasi,D.Primary,4)],D.TaggedTemplate,ue)},TemplateElement:function(V,ue,ie){return V.value.raw},TemplateLiteral:function(V,ue,ie){var de,Se,Ve;for(de=["`"],Se=0,Ve=V.quasis.length;Se<Ve;++Se)de.push(this.generateExpression(V.quasis[Se],D.Primary,7)),Se+1<Ve&&(de.push("${"+C),de.push(this.generateExpression(V.expressions[Se],D.Sequence,7)),de.push(C+"}"));return de.push("`"),de},ModuleSpecifier:function(V,ue,ie){return this.Literal(V,ue,ie)},ImportExpression:function(V,ue,ie){return Be(["import(",this.generateExpression(V.source,D.Assignment,7),")"],D.Call,ue)}}),tt.prototype.generateExpression=function(V,ue,ie){var de,Se;return Se=V.type||y.Property,F.verbatim&&V.hasOwnProperty(F.verbatim)?function lt(V,ue){var ie;return Je("string"==typeof(ie=V[F.verbatim])?Be(ut(ie),D.Sequence,ue):Be(ut(ie.content),null!=ie.precedence?ie.precedence:D.Sequence,ue),V)}(V,ue):(de=this[Se](V,ue,ie),F.comment&&(de=je(V,de)),Je(de,V))},tt.prototype.generateStatement=function(V,ue){var ie,de;return ie=this[V.type](V,ue),F.comment&&(ie=je(V,ie)),de=Je(ie).toString(),V.type===y.Program&&!B&&""===_&&"\n"===de.charAt(de.length-1)&&(ie=H?Je(ie).replaceRight(/\s+$/,""):de.replace(/\s+$/,"")),Je(ie,V)},s(84777),p.cM=function br(V,ue){var de,Se,ie={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null};return null!=ue?("string"==typeof ue.indent&&(ie.format.indent.style=ue.indent),"number"==typeof ue.base&&(ie.format.indent.base=ue.base),ue=ge(ie,ue),d=ue.format.indent.style,i="string"==typeof ue.base?ue.base:Pe(d,ue.format.indent.base)):i=Pe(d=(ue=ie).format.indent.style,ue.format.indent.base),a=ue.format.renumber,v=!(o=ue.format.json)&&ue.format.hexadecimal,b=o?"double":ue.format.quotes,m=ue.format.escapeless,_=ue.format.newline,C=ue.format.space,ue.format.compact&&(_=C=d=i=""),S=ue.format.parentheses,N=ue.format.semicolons,B=ue.format.safeConcatenation,k=ue.directive,I=o?null:ue.parse,ne=ue.sourceCode,oe=ue.format.preserveBlankLines&&null!==ne,F=ue,(H=ue.sourceMap)&&(E=p.T?globalThis.sourceMap.SourceNode:s(89877).SourceNode),de=function Tt(V){var ue;if(ue=new tt,X(V))return ue.generateStatement(V,1);if(function R(V){return tt.Expression.hasOwnProperty(V.type)}(V))return ue.generateExpression(V,D.Sequence,7);throw new Error("Unknown node type: "+V.type)}(V),H?(Se=de.toStringWithSourceMap({file:ue.file,sourceRoot:ue.sourceMapRoot}),ue.sourceContent&&Se.map.setSourceContent(ue.sourceMap,ue.sourceContent),ue.sourceMapWithCode?Se:Se.map.toString()):(Se={code:de.toString(),map:null},ue.sourceMapWithCode?Se:Se.code)},ge({},D),p.T=!1}()},24683:(q,p,s)=>{var h=s(75775),y=Object.prototype.hasOwnProperty,D=typeof Map<"u";function w(){this._array=[],this._set=D?new Map:Object.create(null)}w.fromArray=function(f,l){for(var i=new w,d=0,o=f.length;d<o;d++)i.add(f[d],l);return i},w.prototype.size=function(){return D?this._set.size:Object.getOwnPropertyNames(this._set).length},w.prototype.add=function(f,l){var i=D?f:h.toSetString(f),d=D?this.has(f):y.call(this._set,i),o=this._array.length;(!d||l)&&this._array.push(f),d||(D?this._set.set(f,o):this._set[i]=o)},w.prototype.has=function(f){if(D)return this._set.has(f);var l=h.toSetString(f);return y.call(this._set,l)},w.prototype.indexOf=function(f){if(D){var l=this._set.get(f);if(l>=0)return l}else{var i=h.toSetString(f);if(y.call(this._set,i))return this._set[i]}throw new Error('"'+f+'" is not in the set.')},w.prototype.at=function(f){if(f>=0&&f<this._array.length)return this._array[f];throw new Error("No element indexed by "+f)},w.prototype.toArray=function(){return this._array.slice()},p.C=w},59344:(q,p,s)=>{var h=s(57312);p.encode=function(d){var a,o="",v=function f(i){return i<0?1+(-i<<1):0+(i<<1)}(d);do{a=31&v,(v>>>=5)>0&&(a|=32),o+=h.encode(a)}while(v>0);return o},p.decode=function(d,o,a){var _,C,v=d.length,b=0,m=0;do{if(o>=v)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(C=h.decode(d.charCodeAt(o++))))throw new Error("Invalid base64 digit: "+d.charAt(o-1));_=!!(32&C),b+=(C&=31)<<m,m+=5}while(_);a.value=function l(i){var o=i>>1;return 1&~i?o:-o}(b),a.rest=o}},57312:(q,p)=>{var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");p.encode=function(h){if(0<=h&&h<s.length)return s[h];throw new TypeError("Must be between 0 and 63: "+h)},p.decode=function(h){return 65<=h&&h<=90?h-65:97<=h&&h<=122?h-97+26:48<=h&&h<=57?h-48+52:43==h?62:47==h?63:-1}},36295:(q,p)=>{function s(h,y,D,w,E,f){var l=Math.floor((y-h)/2)+h,i=E(D,w[l],!0);return 0===i?l:i>0?y-l>1?s(l,y,D,w,E,f):f==p.LEAST_UPPER_BOUND?y<w.length?y:-1:l:l-h>1?s(h,l,D,w,E,f):f==p.LEAST_UPPER_BOUND?l:h<0?-1:h}p.GREATEST_LOWER_BOUND=1,p.LEAST_UPPER_BOUND=2,p.search=function(y,D,w,E){if(0===D.length)return-1;var f=s(-1,D.length,y,D,w,E||p.GREATEST_LOWER_BOUND);if(f<0)return-1;for(;f-1>=0&&0===w(D[f],D[f-1],!0);)--f;return f}},94242:(q,p,s)=>{var h=s(75775);function D(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}D.prototype.unsortedForEach=function(E,f){this._array.forEach(E,f)},D.prototype.add=function(E){!function y(w,E){var f=w.generatedLine,l=E.generatedLine;return l>f||l==f&&E.generatedColumn>=w.generatedColumn||h.compareByGeneratedPositionsInflated(w,E)<=0}(this._last,E)?(this._sorted=!1,this._array.push(E)):(this._last=E,this._array.push(E))},D.prototype.toArray=function(){return this._sorted||(this._array.sort(h.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},p.P=D},14421:(q,p)=>{function s(D,w,E){var f=D[w];D[w]=D[E],D[E]=f}function y(D,w,E,f){if(E<f){var l=function h(D,w){return Math.round(D+Math.random()*(w-D))}(E,f),i=E-1;s(D,l,f);for(var d=D[f],o=E;o<f;o++)w(D[o],d)<=0&&s(D,i+=1,o);s(D,i+1,o);var a=i+1;y(D,w,E,a-1),y(D,w,a+1,f)}}p.g=function(D,w){y(D,w,0,D.length-1)}},2818:(q,p,s)=>{var y=s(75775),D=s(36295),w=s(24683).C,E=s(59344),f=s(14421).g;function l(a,v){var b=a;return"string"==typeof a&&(b=y.parseSourceMapInput(a)),null!=b.sections?new o(b,v):new i(b,v)}function i(a,v){var b=a;"string"==typeof a&&(b=y.parseSourceMapInput(a));var m=y.getArg(b,"version"),_=y.getArg(b,"sources"),C=y.getArg(b,"names",[]),S=y.getArg(b,"sourceRoot",null),N=y.getArg(b,"sourcesContent",null),B=y.getArg(b,"mappings"),k=y.getArg(b,"file",null);if(m!=this._version)throw new Error("Unsupported version: "+m);S&&(S=y.normalize(S)),_=_.map(String).map(y.normalize).map(function(F){return S&&y.isAbsolute(S)&&y.isAbsolute(F)?y.relative(S,F):F}),this._names=w.fromArray(C.map(String),!0),this._sources=w.fromArray(_,!0),this._absoluteSources=this._sources.toArray().map(function(F){return y.computeSourceURL(S,F,v)}),this.sourceRoot=S,this.sourcesContent=N,this._mappings=B,this._sourceMapURL=v,this.file=k}function d(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function o(a,v){var b=a;"string"==typeof a&&(b=y.parseSourceMapInput(a));var m=y.getArg(b,"version"),_=y.getArg(b,"sections");if(m!=this._version)throw new Error("Unsupported version: "+m);this._sources=new w,this._names=new w;var C={line:-1,column:0};this._sections=_.map(function(S){if(S.url)throw new Error("Support for url field in sections not implemented.");var N=y.getArg(S,"offset"),B=y.getArg(N,"line"),k=y.getArg(N,"column");if(B<C.line||B===C.line&&k<C.column)throw new Error("Section offsets must be ordered and non-overlapping.");return C=N,{generatedOffset:{generatedLine:B+1,generatedColumn:k+1},consumer:new l(y.getArg(S,"map"),v)}})}l.fromSourceMap=function(a,v){return i.fromSourceMap(a,v)},l.prototype._version=3,l.prototype.__generatedMappings=null,Object.defineProperty(l.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),l.prototype.__originalMappings=null,Object.defineProperty(l.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),l.prototype._charIsMappingSeparator=function(v,b){var m=v.charAt(b);return";"===m||","===m},l.prototype._parseMappings=function(v,b){throw new Error("Subclasses must implement _parseMappings")},l.GENERATED_ORDER=1,l.ORIGINAL_ORDER=2,l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,l.prototype.eachMapping=function(v,b,m){var S,_=b||null;switch(m||l.GENERATED_ORDER){case l.GENERATED_ORDER:S=this._generatedMappings;break;case l.ORIGINAL_ORDER:S=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var N=this.sourceRoot;S.map(function(B){var k=null===B.source?null:this._sources.at(B.source);return{source:k=y.computeSourceURL(N,k,this._sourceMapURL),generatedLine:B.generatedLine,generatedColumn:B.generatedColumn,originalLine:B.originalLine,originalColumn:B.originalColumn,name:null===B.name?null:this._names.at(B.name)}},this).forEach(v,_)},l.prototype.allGeneratedPositionsFor=function(v){var b=y.getArg(v,"line"),m={source:y.getArg(v,"source"),originalLine:b,originalColumn:y.getArg(v,"column",0)};if(m.source=this._findSourceIndex(m.source),m.source<0)return[];var _=[],C=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",y.compareByOriginalPositions,D.LEAST_UPPER_BOUND);if(C>=0){var S=this._originalMappings[C];if(void 0===v.column)for(var N=S.originalLine;S&&S.originalLine===N;)_.push({line:y.getArg(S,"generatedLine",null),column:y.getArg(S,"generatedColumn",null),lastColumn:y.getArg(S,"lastGeneratedColumn",null)}),S=this._originalMappings[++C];else for(var B=S.originalColumn;S&&S.originalLine===b&&S.originalColumn==B;)_.push({line:y.getArg(S,"generatedLine",null),column:y.getArg(S,"generatedColumn",null),lastColumn:y.getArg(S,"lastGeneratedColumn",null)}),S=this._originalMappings[++C]}return _},(i.prototype=Object.create(l.prototype)).consumer=l,i.prototype._findSourceIndex=function(a){var b,v=a;if(null!=this.sourceRoot&&(v=y.relative(this.sourceRoot,v)),this._sources.has(v))return this._sources.indexOf(v);for(b=0;b<this._absoluteSources.length;++b)if(this._absoluteSources[b]==a)return b;return-1},i.fromSourceMap=function(v,b){var m=Object.create(i.prototype),_=m._names=w.fromArray(v._names.toArray(),!0),C=m._sources=w.fromArray(v._sources.toArray(),!0);m.sourceRoot=v._sourceRoot,m.sourcesContent=v._generateSourcesContent(m._sources.toArray(),m.sourceRoot),m.file=v._file,m._sourceMapURL=b,m._absoluteSources=m._sources.toArray().map(function(ne){return y.computeSourceURL(m.sourceRoot,ne,b)});for(var S=v._mappings.toArray().slice(),N=m.__generatedMappings=[],B=m.__originalMappings=[],k=0,F=S.length;k<F;k++){var I=S[k],H=new d;H.generatedLine=I.generatedLine,H.generatedColumn=I.generatedColumn,I.source&&(H.source=C.indexOf(I.source),H.originalLine=I.originalLine,H.originalColumn=I.originalColumn,I.name&&(H.name=_.indexOf(I.name)),B.push(H)),N.push(H)}return f(m.__originalMappings,y.compareByOriginalPositions),m},i.prototype._version=3,Object.defineProperty(i.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),i.prototype._parseMappings=function(v,b){for(var x,G,R,X,m=1,_=0,C=0,S=0,N=0,B=0,k=v.length,F=0,I={},H={},ne=[],oe=[];F<k;)if(";"===v.charAt(F))m++,F++,_=0;else if(","===v.charAt(F))F++;else{for((x=new d).generatedLine=m,X=F;X<k&&!this._charIsMappingSeparator(v,X);X++);if(R=I[G=v.slice(F,X)])F+=G.length;else{for(R=[];F<X;)E.decode(v,F,H),F=H.rest,R.push(H.value);if(2===R.length)throw new Error("Found a source, but no line and column");if(3===R.length)throw new Error("Found a source and line, but no column");I[G]=R}x.generatedColumn=_+R[0],_=x.generatedColumn,R.length>1&&(x.source=N+R[1],N+=R[1],x.originalLine=C+R[2],C=x.originalLine,x.originalLine+=1,x.originalColumn=S+R[3],S=x.originalColumn,R.length>4&&(x.name=B+R[4],B+=R[4])),oe.push(x),"number"==typeof x.originalLine&&ne.push(x)}f(oe,y.compareByGeneratedPositionsDeflated),this.__generatedMappings=oe,f(ne,y.compareByOriginalPositions),this.__originalMappings=ne},i.prototype._findMapping=function(v,b,m,_,C,S){if(v[m]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+v[m]);if(v[_]<0)throw new TypeError("Column must be greater than or equal to 0, got "+v[_]);return D.search(v,b,C,S)},i.prototype.computeColumnSpans=function(){for(var v=0;v<this._generatedMappings.length;++v){var b=this._generatedMappings[v];if(v+1<this._generatedMappings.length){var m=this._generatedMappings[v+1];if(b.generatedLine===m.generatedLine){b.lastGeneratedColumn=m.generatedColumn-1;continue}}b.lastGeneratedColumn=1/0}},i.prototype.originalPositionFor=function(v){var b={generatedLine:y.getArg(v,"line"),generatedColumn:y.getArg(v,"column")},m=this._findMapping(b,this._generatedMappings,"generatedLine","generatedColumn",y.compareByGeneratedPositionsDeflated,y.getArg(v,"bias",l.GREATEST_LOWER_BOUND));if(m>=0){var _=this._generatedMappings[m];if(_.generatedLine===b.generatedLine){var C=y.getArg(_,"source",null);null!==C&&(C=this._sources.at(C),C=y.computeSourceURL(this.sourceRoot,C,this._sourceMapURL));var S=y.getArg(_,"name",null);return null!==S&&(S=this._names.at(S)),{source:C,line:y.getArg(_,"originalLine",null),column:y.getArg(_,"originalColumn",null),name:S}}}return{source:null,line:null,column:null,name:null}},i.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(v){return null==v})},i.prototype.sourceContentFor=function(v,b){if(!this.sourcesContent)return null;var m=this._findSourceIndex(v);if(m>=0)return this.sourcesContent[m];var C,_=v;if(null!=this.sourceRoot&&(_=y.relative(this.sourceRoot,_)),null!=this.sourceRoot&&(C=y.urlParse(this.sourceRoot))){var S=_.replace(/^file:\/\//,"");if("file"==C.scheme&&this._sources.has(S))return this.sourcesContent[this._sources.indexOf(S)];if((!C.path||"/"==C.path)&&this._sources.has("/"+_))return this.sourcesContent[this._sources.indexOf("/"+_)]}if(b)return null;throw new Error('"'+_+'" is not in the SourceMap.')},i.prototype.generatedPositionFor=function(v){var b=y.getArg(v,"source");if((b=this._findSourceIndex(b))<0)return{line:null,column:null,lastColumn:null};var m={source:b,originalLine:y.getArg(v,"line"),originalColumn:y.getArg(v,"column")},_=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",y.compareByOriginalPositions,y.getArg(v,"bias",l.GREATEST_LOWER_BOUND));if(_>=0){var C=this._originalMappings[_];if(C.source===m.source)return{line:y.getArg(C,"generatedLine",null),column:y.getArg(C,"generatedColumn",null),lastColumn:y.getArg(C,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},(o.prototype=Object.create(l.prototype)).constructor=l,o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){for(var a=[],v=0;v<this._sections.length;v++)for(var b=0;b<this._sections[v].consumer.sources.length;b++)a.push(this._sections[v].consumer.sources[b]);return a}}),o.prototype.originalPositionFor=function(v){var b={generatedLine:y.getArg(v,"line"),generatedColumn:y.getArg(v,"column")},m=D.search(b,this._sections,function(C,S){return C.generatedLine-S.generatedOffset.generatedLine||C.generatedColumn-S.generatedOffset.generatedColumn}),_=this._sections[m];return _?_.consumer.originalPositionFor({line:b.generatedLine-(_.generatedOffset.generatedLine-1),column:b.generatedColumn-(_.generatedOffset.generatedLine===b.generatedLine?_.generatedOffset.generatedColumn-1:0),bias:v.bias}):{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(v){return v.consumer.hasContentsOfAllSources()})},o.prototype.sourceContentFor=function(v,b){for(var m=0;m<this._sections.length;m++){var C=this._sections[m].consumer.sourceContentFor(v,!0);if(C)return C}if(b)return null;throw new Error('"'+v+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(v){for(var b=0;b<this._sections.length;b++){var m=this._sections[b];if(-1!==m.consumer._findSourceIndex(y.getArg(v,"source"))){var _=m.consumer.generatedPositionFor(v);if(_)return{line:_.line+(m.generatedOffset.generatedLine-1),column:_.column+(m.generatedOffset.generatedLine===_.line?m.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},o.prototype._parseMappings=function(v,b){this.__generatedMappings=[],this.__originalMappings=[];for(var m=0;m<this._sections.length;m++)for(var _=this._sections[m],C=_.consumer._generatedMappings,S=0;S<C.length;S++){var N=C[S],B=_.consumer._sources.at(N.source);B=y.computeSourceURL(_.consumer.sourceRoot,B,this._sourceMapURL),this._sources.add(B),B=this._sources.indexOf(B);var k=null;N.name&&(k=_.consumer._names.at(N.name),this._names.add(k),k=this._names.indexOf(k));var F={source:B,generatedLine:N.generatedLine+(_.generatedOffset.generatedLine-1),generatedColumn:N.generatedColumn+(_.generatedOffset.generatedLine===N.generatedLine?_.generatedOffset.generatedColumn-1:0),originalLine:N.originalLine,originalColumn:N.originalColumn,name:k};this.__generatedMappings.push(F),"number"==typeof F.originalLine&&this.__originalMappings.push(F)}f(this.__generatedMappings,y.compareByGeneratedPositionsDeflated),f(this.__originalMappings,y.compareByOriginalPositions)}},63429:(q,p,s)=>{var h=s(59344),y=s(75775),D=s(24683).C,w=s(94242).P;function E(f){f||(f={}),this._file=y.getArg(f,"file",null),this._sourceRoot=y.getArg(f,"sourceRoot",null),this._skipValidation=y.getArg(f,"skipValidation",!1),this._sources=new D,this._names=new D,this._mappings=new w,this._sourcesContents=null}E.prototype._version=3,E.fromSourceMap=function(l){var i=l.sourceRoot,d=new E({file:l.file,sourceRoot:i});return l.eachMapping(function(o){var a={generated:{line:o.generatedLine,column:o.generatedColumn}};null!=o.source&&(a.source=o.source,null!=i&&(a.source=y.relative(i,a.source)),a.original={line:o.originalLine,column:o.originalColumn},null!=o.name&&(a.name=o.name)),d.addMapping(a)}),l.sources.forEach(function(o){var a=o;null!==i&&(a=y.relative(i,o)),d._sources.has(a)||d._sources.add(a);var v=l.sourceContentFor(o);null!=v&&d.setSourceContent(o,v)}),d},E.prototype.addMapping=function(l){var i=y.getArg(l,"generated"),d=y.getArg(l,"original",null),o=y.getArg(l,"source",null),a=y.getArg(l,"name",null);this._skipValidation||this._validateMapping(i,d,o,a),null!=o&&(o=String(o),this._sources.has(o)||this._sources.add(o)),null!=a&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:i.line,generatedColumn:i.column,originalLine:null!=d&&d.line,originalColumn:null!=d&&d.column,source:o,name:a})},E.prototype.setSourceContent=function(l,i){var d=l;null!=this._sourceRoot&&(d=y.relative(this._sourceRoot,d)),null!=i?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[y.toSetString(d)]=i):this._sourcesContents&&(delete this._sourcesContents[y.toSetString(d)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},E.prototype.applySourceMap=function(l,i,d){var o=i;if(null==i){if(null==l.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');o=l.file}var a=this._sourceRoot;null!=a&&(o=y.relative(a,o));var v=new D,b=new D;this._mappings.unsortedForEach(function(m){if(m.source===o&&null!=m.originalLine){var _=l.originalPositionFor({line:m.originalLine,column:m.originalColumn});null!=_.source&&(m.source=_.source,null!=d&&(m.source=y.join(d,m.source)),null!=a&&(m.source=y.relative(a,m.source)),m.originalLine=_.line,m.originalColumn=_.column,null!=_.name&&(m.name=_.name))}var C=m.source;null!=C&&!v.has(C)&&v.add(C);var S=m.name;null!=S&&!b.has(S)&&b.add(S)},this),this._sources=v,this._names=b,l.sources.forEach(function(m){var _=l.sourceContentFor(m);null!=_&&(null!=d&&(m=y.join(d,m)),null!=a&&(m=y.relative(a,m)),this.setSourceContent(m,_))},this)},E.prototype._validateMapping=function(l,i,d,o){if(i&&"number"!=typeof i.line&&"number"!=typeof i.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(l&&"line"in l&&"column"in l&&l.line>0&&l.column>=0)||i||d||o){if(l&&"line"in l&&"column"in l&&i&&"line"in i&&"column"in i&&l.line>0&&l.column>=0&&i.line>0&&i.column>=0&&d)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:l,source:d,original:i,name:o}))}},E.prototype._serializeMappings=function(){for(var m,_,C,S,l=0,i=1,d=0,o=0,a=0,v=0,b="",N=this._mappings.toArray(),B=0,k=N.length;B<k;B++){if(m="",(_=N[B]).generatedLine!==i)for(l=0;_.generatedLine!==i;)m+=";",i++;else if(B>0){if(!y.compareByGeneratedPositionsInflated(_,N[B-1]))continue;m+=","}m+=h.encode(_.generatedColumn-l),l=_.generatedColumn,null!=_.source&&(S=this._sources.indexOf(_.source),m+=h.encode(S-v),v=S,m+=h.encode(_.originalLine-1-o),o=_.originalLine-1,m+=h.encode(_.originalColumn-d),d=_.originalColumn,null!=_.name&&(C=this._names.indexOf(_.name),m+=h.encode(C-a),a=C)),b+=m}return b},E.prototype._generateSourcesContent=function(l,i){return l.map(function(d){if(!this._sourcesContents)return null;null!=i&&(d=y.relative(i,d));var o=y.toSetString(d);return Object.prototype.hasOwnProperty.call(this._sourcesContents,o)?this._sourcesContents[o]:null},this)},E.prototype.toJSON=function(){var l={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(l.file=this._file),null!=this._sourceRoot&&(l.sourceRoot=this._sourceRoot),this._sourcesContents&&(l.sourcesContent=this._generateSourcesContent(l.sources,l.sourceRoot)),l},E.prototype.toString=function(){return JSON.stringify(this.toJSON())},p.x=E},72071:(q,p,s)=>{var h=s(63429).x,y=s(75775),D=/(\r?\n)/,E="$$$isSourceNode$$$";function f(l,i,d,o,a){this.children=[],this.sourceContents={},this.line=l??null,this.column=i??null,this.source=d??null,this.name=a??null,this[E]=!0,null!=o&&this.add(o)}f.fromStringWithSourceMap=function(i,d,o){var a=new f,v=i.split(D),b=0,m=function(){return F()+(F()||"");function F(){return b<v.length?v[b++]:void 0}},_=1,C=0,S=null;return d.eachMapping(function(B){if(null!==S){if(!(_<B.generatedLine)){var F=(k=v[b]||"").substr(0,B.generatedColumn-C);return v[b]=k.substr(B.generatedColumn-C),C=B.generatedColumn,N(S,F),void(S=B)}N(S,m()),_++,C=0}for(;_<B.generatedLine;)a.add(m()),_++;var k;C<B.generatedColumn&&(a.add((k=v[b]||"").substr(0,B.generatedColumn)),v[b]=k.substr(B.generatedColumn),C=B.generatedColumn),S=B},this),b<v.length&&(S&&N(S,m()),a.add(v.splice(b).join(""))),d.sources.forEach(function(B){var k=d.sourceContentFor(B);null!=k&&(null!=o&&(B=y.join(o,B)),a.setSourceContent(B,k))}),a;function N(B,k){if(null===B||void 0===B.source)a.add(k);else{var F=o?y.join(o,B.source):B.source;a.add(new f(B.originalLine,B.originalColumn,F,k,B.name))}}},f.prototype.add=function(i){if(Array.isArray(i))i.forEach(function(d){this.add(d)},this);else{if(!i[E]&&"string"!=typeof i)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+i);i&&this.children.push(i)}return this},f.prototype.prepend=function(i){if(Array.isArray(i))for(var d=i.length-1;d>=0;d--)this.prepend(i[d]);else{if(!i[E]&&"string"!=typeof i)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+i);this.children.unshift(i)}return this},f.prototype.walk=function(i){for(var d,o=0,a=this.children.length;o<a;o++)(d=this.children[o])[E]?d.walk(i):""!==d&&i(d,{source:this.source,line:this.line,column:this.column,name:this.name})},f.prototype.join=function(i){var d,o,a=this.children.length;if(a>0){for(d=[],o=0;o<a-1;o++)d.push(this.children[o]),d.push(i);d.push(this.children[o]),this.children=d}return this},f.prototype.replaceRight=function(i,d){var o=this.children[this.children.length-1];return o[E]?o.replaceRight(i,d):"string"==typeof o?this.children[this.children.length-1]=o.replace(i,d):this.children.push("".replace(i,d)),this},f.prototype.setSourceContent=function(i,d){this.sourceContents[y.toSetString(i)]=d},f.prototype.walkSourceContents=function(i){for(var d=0,o=this.children.length;d<o;d++)this.children[d][E]&&this.children[d].walkSourceContents(i);var a=Object.keys(this.sourceContents);for(d=0,o=a.length;d<o;d++)i(y.fromSetString(a[d]),this.sourceContents[a[d]])},f.prototype.toString=function(){var i="";return this.walk(function(d){i+=d}),i},f.prototype.toStringWithSourceMap=function(i){var d={code:"",line:1,column:0},o=new h(i),a=!1,v=null,b=null,m=null,_=null;return this.walk(function(C,S){d.code+=C,null!==S.source&&null!==S.line&&null!==S.column?((v!==S.source||b!==S.line||m!==S.column||_!==S.name)&&o.addMapping({source:S.source,original:{line:S.line,column:S.column},generated:{line:d.line,column:d.column},name:S.name}),v=S.source,b=S.line,m=S.column,_=S.name,a=!0):a&&(o.addMapping({generated:{line:d.line,column:d.column}}),v=null,a=!1);for(var N=0,B=C.length;N<B;N++)10===C.charCodeAt(N)?(d.line++,d.column=0,N+1===B?(v=null,a=!1):a&&o.addMapping({source:S.source,original:{line:S.line,column:S.column},generated:{line:d.line,column:d.column},name:S.name})):d.column++}),this.walkSourceContents(function(C,S){o.setSourceContent(C,S)}),{code:d.code,map:o}},p.SourceNode=f},75775:(q,p)=>{p.getArg=function s(B,k,F){if(k in B)return B[k];if(3===arguments.length)return F;throw new Error('"'+k+'" is a required argument.')};var h=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,y=/^data:.+\,.+$/;function D(B){var k=B.match(h);return k?{scheme:k[1],auth:k[2],host:k[3],port:k[4],path:k[5]}:null}function w(B){var k="";return B.scheme&&(k+=B.scheme+":"),k+="//",B.auth&&(k+=B.auth+"@"),B.host&&(k+=B.host),B.port&&(k+=":"+B.port),B.path&&(k+=B.path),k}function E(B){var k=B,F=D(B);if(F){if(!F.path)return B;k=F.path}for(var ne,I=p.isAbsolute(k),H=k.split(/\/+/),oe=0,x=H.length-1;x>=0;x--)"."===(ne=H[x])?H.splice(x,1):".."===ne?oe++:oe>0&&(""===ne?(H.splice(x+1,oe),oe=0):(H.splice(x,2),oe--));return""===(k=H.join("/"))&&(k=I?"/":"."),F?(F.path=k,w(F)):k}function f(B,k){""===B&&(B="."),""===k&&(k=".");var F=D(k),I=D(B);if(I&&(B=I.path||"/"),F&&!F.scheme)return I&&(F.scheme=I.scheme),w(F);if(F||k.match(y))return k;if(I&&!I.host&&!I.path)return I.host=k,w(I);var H="/"===k.charAt(0)?k:E(B.replace(/\/+$/,"")+"/"+k);return I?(I.path=H,w(I)):H}p.urlParse=D,p.urlGenerate=w,p.normalize=E,p.join=f,p.isAbsolute=function(B){return"/"===B.charAt(0)||h.test(B)},p.relative=function l(B,k){""===B&&(B="."),B=B.replace(/\/$/,"");for(var F=0;0!==k.indexOf(B+"/");){var I=B.lastIndexOf("/");if(I<0||(B=B.slice(0,I)).match(/^([^\/]+:\/)?\/*$/))return k;++F}return Array(F+1).join("../")+k.substr(B.length+1)};var i=!("__proto__"in Object.create(null));function d(B){return B}function v(B){if(!B)return!1;var k=B.length;if(k<9||95!==B.charCodeAt(k-1)||95!==B.charCodeAt(k-2)||111!==B.charCodeAt(k-3)||116!==B.charCodeAt(k-4)||111!==B.charCodeAt(k-5)||114!==B.charCodeAt(k-6)||112!==B.charCodeAt(k-7)||95!==B.charCodeAt(k-8)||95!==B.charCodeAt(k-9))return!1;for(var F=k-10;F>=0;F--)if(36!==B.charCodeAt(F))return!1;return!0}function _(B,k){return B===k?0:null===B?1:null===k?-1:B>k?1:-1}p.toSetString=i?d:function o(B){return v(B)?"$"+B:B},p.fromSetString=i?d:function a(B){return v(B)?B.slice(1):B},p.compareByOriginalPositions=function b(B,k,F){var I=_(B.source,k.source);return 0!==I||0!=(I=B.originalLine-k.originalLine)||0!=(I=B.originalColumn-k.originalColumn)||F||0!=(I=B.generatedColumn-k.generatedColumn)||0!=(I=B.generatedLine-k.generatedLine)?I:_(B.name,k.name)},p.compareByGeneratedPositionsDeflated=function m(B,k,F){var I=B.generatedLine-k.generatedLine;return 0!==I||0!=(I=B.generatedColumn-k.generatedColumn)||F||0!==(I=_(B.source,k.source))||0!=(I=B.originalLine-k.originalLine)||0!=(I=B.originalColumn-k.originalColumn)?I:_(B.name,k.name)},p.compareByGeneratedPositionsInflated=function C(B,k){var F=B.generatedLine-k.generatedLine;return 0!==F||0!=(F=B.generatedColumn-k.generatedColumn)||0!==(F=_(B.source,k.source))||0!=(F=B.originalLine-k.originalLine)||0!=(F=B.originalColumn-k.originalColumn)?F:_(B.name,k.name)},p.parseSourceMapInput=function S(B){return JSON.parse(B.replace(/^\)]}'[^\n]*\n/,""))},p.computeSourceURL=function N(B,k,F){if(k=k||"",B&&("/"!==B[B.length-1]&&"/"!==k[0]&&(B+="/"),k=B+k),F){var I=D(F);if(!I)throw new Error("sourceMapURL could not be parsed");if(I.path){var H=I.path.lastIndexOf("/");H>=0&&(I.path=I.path.substring(0,H+1))}k=f(w(I),k)}return E(k)}},89877:(q,p,s)=>{s(63429),s(2818),p.SourceNode=s(72071).SourceNode},48038:(q,p,s)=>{!function h(y){"use strict";var D,w,E,f,l,i;function d(k){var I,H,F={};for(I in k)k.hasOwnProperty(I)&&(F[I]="object"==typeof(H=k[I])&&null!==H?d(H):H);return F}function a(k,F){this.parent=k,this.key=F}function v(k,F,I,H){this.node=k,this.path=F,this.wrap=I,this.ref=H}function b(){}function m(k){return null!=k&&"object"==typeof k&&"string"==typeof k.type}function _(k,F){return(k===D.ObjectExpression||k===D.ObjectPattern)&&"properties"===F}function C(k,F){return(new b).traverse(k,F)}function N(k,F){var I;return I=function o(k,F){var I,H,ne,oe;for(H=k.length,ne=0;H;)F(k[oe=ne+(I=H>>>1)])?H=I:(ne=oe+1,H-=I+1);return ne}(F,function(ne){return ne.range[0]>k.range[0]}),k.extendedRange=[k.range[0],k.range[1]],I!==F.length&&(k.extendedRange[1]=F[I].range[0]),(I-=1)>=0&&(k.extendedRange[0]=F[I].range[1]),k}return D={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},E={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},w={Break:f={},Skip:l={},Remove:i={}},a.prototype.replace=function(F){this.parent[this.key]=F},a.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},b.prototype.path=function(){var F,I,H,ne,oe;function G(R,X){if(Array.isArray(X))for(H=0,ne=X.length;H<ne;++H)R.push(X[H]);else R.push(X)}if(!this.__current.path)return null;for(oe=[],F=2,I=this.__leavelist.length;F<I;++F)G(oe,this.__leavelist[F].path);return G(oe,this.__current.path),oe},b.prototype.type=function(){return this.current().type||this.__current.wrap},b.prototype.parents=function(){var F,I,H;for(H=[],F=1,I=this.__leavelist.length;F<I;++F)H.push(this.__leavelist[F].node);return H},b.prototype.current=function(){return this.__current.node},b.prototype.__execute=function(F,I){var H,ne;return ne=void 0,H=this.__current,this.__current=I,this.__state=null,F&&(ne=F.call(this,I.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=H,ne},b.prototype.notify=function(F){this.__state=F},b.prototype.skip=function(){this.notify(l)},b.prototype.break=function(){this.notify(f)},b.prototype.remove=function(){this.notify(i)},b.prototype.__initialize=function(k,F){this.visitor=F,this.root=k,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===F.fallback?this.__fallback=Object.keys:"function"==typeof F.fallback&&(this.__fallback=F.fallback),this.__keys=E,F.keys&&(this.__keys=Object.assign(Object.create(this.__keys),F.keys))},b.prototype.traverse=function(F,I){var H,ne,oe,x,G,R,X,J,ye,U,Y,ce;for(this.__initialize(F,I),ce={},ne=this.__leavelist,(H=this.__worklist).push(new v(F,null,null,null)),ne.push(new v(null,null,null,null));H.length;)if((oe=H.pop())!==ce){if(oe.node){if(R=this.__execute(I.enter,oe),this.__state===f||R===f)return;if(H.push(ce),ne.push(oe),this.__state===l||R===l)continue;if(!(U=this.__keys[G=(x=oe.node).type||oe.wrap])){if(!this.__fallback)throw new Error("Unknown node type "+G+".");U=this.__fallback(x)}for(J=U.length;(J-=1)>=0;)if(Y=x[X=U[J]])if(Array.isArray(Y)){for(ye=Y.length;(ye-=1)>=0;)if(Y[ye]){if(_(G,U[J]))oe=new v(Y[ye],[X,ye],"Property",null);else{if(!m(Y[ye]))continue;oe=new v(Y[ye],[X,ye],null,null)}H.push(oe)}}else m(Y)&&H.push(new v(Y,X,null,null))}}else if(oe=ne.pop(),R=this.__execute(I.leave,oe),this.__state===f||R===f)return},b.prototype.replace=function(F,I){var H,ne,oe,x,G,R,X,J,ye,U,Y,ce,we;function $e(g){var T,W,K,Q;if(g.ref.remove())for(W=g.ref.key,Q=g.ref.parent,T=H.length;T--;)if((K=H[T]).ref&&K.ref.parent===Q){if(K.ref.key<W)break;--K.ref.key}}for(this.__initialize(F,I),Y={},H=this.__worklist,ne=this.__leavelist,R=new v(F,null,null,new a(ce={root:F},"root")),H.push(R),ne.push(R);H.length;)if((R=H.pop())!==Y){if(void 0!==(G=this.__execute(I.enter,R))&&G!==f&&G!==l&&G!==i&&(R.ref.replace(G),R.node=G),(this.__state===i||G===i)&&($e(R),R.node=null),this.__state===f||G===f)return ce.root;if((oe=R.node)&&(H.push(Y),ne.push(R),this.__state!==l&&G!==l)){if(!(ye=this.__keys[x=oe.type||R.wrap])){if(!this.__fallback)throw new Error("Unknown node type "+x+".");ye=this.__fallback(oe)}for(X=ye.length;(X-=1)>=0;)if(U=oe[we=ye[X]])if(Array.isArray(U)){for(J=U.length;(J-=1)>=0;)if(U[J]){if(_(x,ye[X]))R=new v(U[J],[we,J],"Property",new a(U,J));else{if(!m(U[J]))continue;R=new v(U[J],[we,J],null,new a(U,J))}H.push(R)}}else m(U)&&H.push(new v(U,we,null,new a(oe,we)))}}else if(R=ne.pop(),void 0!==(G=this.__execute(I.leave,R))&&G!==f&&G!==l&&G!==i&&R.ref.replace(G),(this.__state===i||G===i)&&$e(R),this.__state===f||G===f)return ce.root;return ce.root},y.version=s(99600).rE,y.Syntax=D,y.traverse=C,y.replace=function S(k,F){return(new b).replace(k,F)},y.attachComments=function B(k,F,I){var ne,oe,x,G,H=[];if(!k.range)throw new Error("attachComments needs range information");if(!I.length){if(F.length){for(x=0,oe=F.length;x<oe;x+=1)(ne=d(F[x])).extendedRange=[0,k.range[0]],H.push(ne);k.leadingComments=H}return k}for(x=0,oe=F.length;x<oe;x+=1)H.push(N(d(F[x]),I));return G=0,C(k,{enter:function(R){for(var X;G<H.length&&!((X=H[G]).extendedRange[1]>R.range[0]);)X.extendedRange[1]===R.range[0]?(R.leadingComments||(R.leadingComments=[]),R.leadingComments.push(X),H.splice(G,1)):G+=1;return G===H.length?w.Break:H[G].extendedRange[0]>R.range[1]?w.Skip:void 0}}),G=0,C(k,{leave:function(R){for(var X;G<H.length&&!(R.range[1]<(X=H[G]).extendedRange[0]);)R.range[1]===X.extendedRange[0]?(R.trailingComments||(R.trailingComments=[]),R.trailingComments.push(X),H.splice(G,1)):G+=1;return G===H.length?w.Break:H[G].extendedRange[0]>R.range[1]?w.Skip:void 0}}),k},y.VisitorKeys=E,y.VisitorOption=w,y.Controller=b,y.cloneEnvironment=function(){return h({})},y}(p)},40569:q=>{!function(){"use strict";function h(E){if(null==E)return!1;switch(E.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function D(E){switch(E.type){case"IfStatement":return null!=E.alternate?E.alternate:E.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return E.body}return null}q.exports={isExpression:function p(E){if(null==E)return!1;switch(E.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1},isStatement:h,isIterationStatement:function s(E){if(null==E)return!1;switch(E.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1},isSourceElement:function y(E){return h(E)||null!=E&&"FunctionDeclaration"===E.type},isProblematicIfStatement:function w(E){var f;if("IfStatement"!==E.type||null==E.alternate)return!1;f=E.consequent;do{if("IfStatement"===f.type&&null==f.alternate)return!0;f=D(f)}while(f);return!1},trailingStatement:D}}()},45444:q=>{!function(){"use strict";var p,s,h,y,D,w;function o(_){return _<=65535?String.fromCharCode(_):String.fromCharCode(Math.floor((_-65536)/1024)+55296)+String.fromCharCode((_-65536)%1024+56320)}for(s={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},p={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},h=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],y=new Array(128),w=0;w<128;++w)y[w]=w>=97&&w<=122||w>=65&&w<=90||36===w||95===w;for(D=new Array(128),w=0;w<128;++w)D[w]=w>=97&&w<=122||w>=65&&w<=90||w>=48&&w<=57||36===w||95===w;q.exports={isDecimalDigit:function E(_){return 48<=_&&_<=57},isHexDigit:function f(_){return 48<=_&&_<=57||97<=_&&_<=102||65<=_&&_<=70},isOctalDigit:function l(_){return _>=48&&_<=55},isWhiteSpace:function i(_){return 32===_||9===_||11===_||12===_||160===_||_>=5760&&h.indexOf(_)>=0},isLineTerminator:function d(_){return 10===_||13===_||8232===_||8233===_},isIdentifierStartES5:function a(_){return _<128?y[_]:s.NonAsciiIdentifierStart.test(o(_))},isIdentifierPartES5:function v(_){return _<128?D[_]:s.NonAsciiIdentifierPart.test(o(_))},isIdentifierStartES6:function b(_){return _<128?y[_]:p.NonAsciiIdentifierStart.test(o(_))},isIdentifierPartES6:function m(_){return _<128?D[_]:p.NonAsciiIdentifierPart.test(o(_))}}}()},99050:(q,p,s)=>{!function(){"use strict";var h=s(45444);function D(b,m){return!(!m&&"yield"===b)&&w(b,m)}function w(b,m){if(m&&function y(b){switch(b){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}(b))return!0;switch(b.length){case 2:return"if"===b||"in"===b||"do"===b;case 3:return"var"===b||"for"===b||"new"===b||"try"===b;case 4:return"this"===b||"else"===b||"case"===b||"void"===b||"with"===b||"enum"===b;case 5:return"while"===b||"break"===b||"catch"===b||"throw"===b||"const"===b||"yield"===b||"class"===b||"super"===b;case 6:return"return"===b||"typeof"===b||"delete"===b||"switch"===b||"export"===b||"import"===b;case 7:return"default"===b||"finally"===b||"extends"===b;case 8:return"function"===b||"continue"===b||"debugger"===b;case 10:return"instanceof"===b;default:return!1}}function E(b,m){return"null"===b||"true"===b||"false"===b||D(b,m)}function f(b,m){return"null"===b||"true"===b||"false"===b||w(b,m)}function i(b){var m,_,C;if(0===b.length||(C=b.charCodeAt(0),!h.isIdentifierStartES5(C)))return!1;for(m=1,_=b.length;m<_;++m)if(C=b.charCodeAt(m),!h.isIdentifierPartES5(C))return!1;return!0}function d(b,m){return 1024*(b-55296)+(m-56320)+65536}function o(b){var m,_,C,S,N;if(0===b.length)return!1;for(N=h.isIdentifierStartES6,m=0,_=b.length;m<_;++m){if(55296<=(C=b.charCodeAt(m))&&C<=56319){if(++m>=_||!(56320<=(S=b.charCodeAt(m))&&S<=57343))return!1;C=d(C,S)}if(!N(C))return!1;N=h.isIdentifierPartES6}return!0}q.exports={isKeywordES5:D,isKeywordES6:w,isReservedWordES5:E,isReservedWordES6:f,isRestrictedWord:function l(b){return"eval"===b||"arguments"===b},isIdentifierNameES5:i,isIdentifierNameES6:o,isIdentifierES5:function a(b,m){return i(b)&&!E(b,m)},isIdentifierES6:function v(b,m){return o(b)&&!f(b,m)}}}()},3516:(q,p,s)=>{!function(){"use strict";p.ast=s(40569),p.code=s(45444),p.keyword=s(99050)}()},49132:q=>{"use strict";var s=Object.prototype.toString,h=Math.max,D=function(l,i){for(var d=[],o=0;o<l.length;o+=1)d[o]=l[o];for(var a=0;a<i.length;a+=1)d[a+l.length]=i[a];return d};q.exports=function(l){var i=this;if("function"!=typeof i||"[object Function]"!==s.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,d=function(l,i){for(var d=[],o=1,a=0;o<l.length;o+=1,a+=1)d[a]=l[o];return d}(arguments),v=h(0,i.length-d.length),b=[],m=0;m<v;m++)b[m]="$"+m;if(o=Function("binder","return function ("+function(f,l){for(var i="",d=0;d<f.length;d+=1)i+=f[d],d+1<f.length&&(i+=",");return i}(b)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var C=i.apply(this,D(d,arguments));return Object(C)===C?C:this}return i.apply(l,D(d,arguments))}),i.prototype){var _=function(){};_.prototype=i.prototype,o.prototype=new _,_.prototype=null}return o}},65992:(q,p,s)=>{"use strict";var h=s(49132);q.exports=Function.prototype.bind||h},64003:q=>{"use strict";var p=function(){return"string"==typeof function(){}.name},s=Object.getOwnPropertyDescriptor;if(s)try{s([],"length")}catch{s=null}p.functionsHaveConfigurableNames=function(){if(!p()||!s)return!1;var D=s(function(){},"name");return!!D&&!!D.configurable};var h=Function.prototype.bind;p.boundFunctionsHaveNames=function(){return p()&&"function"==typeof h&&""!==function(){}.bind().name},q.exports=p},90258:(q,p,s)=>{"use strict";var h,y=s(37640),D=s(1756),w=s(77933),E=s(6613),f=s(58413),l=s(46758),i=s(5286),d=Function,o=function(ce){try{return d('"use strict"; return ('+ce+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var v=function(){throw new l},b=a?function(){try{return v}catch{try{return a(arguments,"callee").get}catch{return v}}}():v,m=s(19900)(),_=s(62119)(),C=Object.getPrototypeOf||(_?function(ce){return ce.__proto__}:null),S={},N=typeof Uint8Array>"u"||!C?h:C(Uint8Array),B={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?h:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?h:ArrayBuffer,"%ArrayIteratorPrototype%":m&&C?C([][Symbol.iterator]()):h,"%AsyncFromSyncIteratorPrototype%":h,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics>"u"?h:Atomics,"%BigInt%":typeof BigInt>"u"?h:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?h:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?h:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?h:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":y,"%eval%":eval,"%EvalError%":D,"%Float32Array%":typeof Float32Array>"u"?h:Float32Array,"%Float64Array%":typeof Float64Array>"u"?h:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?h:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array>"u"?h:Int8Array,"%Int16Array%":typeof Int16Array>"u"?h:Int16Array,"%Int32Array%":typeof Int32Array>"u"?h:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&C?C(C([][Symbol.iterator]())):h,"%JSON%":"object"==typeof JSON?JSON:h,"%Map%":typeof Map>"u"?h:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m||!C?h:C((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?h:Promise,"%Proxy%":typeof Proxy>"u"?h:Proxy,"%RangeError%":w,"%ReferenceError%":E,"%Reflect%":typeof Reflect>"u"?h:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?h:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m||!C?h:C((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?h:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&C?C(""[Symbol.iterator]()):h,"%Symbol%":m?Symbol:h,"%SyntaxError%":f,"%ThrowTypeError%":b,"%TypedArray%":N,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?h:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?h:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?h:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?h:Uint32Array,"%URIError%":i,"%WeakMap%":typeof WeakMap>"u"?h:WeakMap,"%WeakRef%":typeof WeakRef>"u"?h:WeakRef,"%WeakSet%":typeof WeakSet>"u"?h:WeakSet};if(C)try{null.error}catch(ce){var k=C(C(ce));B["%Error.prototype%"]=k}var F=function ce(we){var $e;if("%AsyncFunction%"===we)$e=o("async function () {}");else if("%GeneratorFunction%"===we)$e=o("function* () {}");else if("%AsyncGeneratorFunction%"===we)$e=o("async function* () {}");else if("%AsyncGenerator%"===we){var g=ce("%AsyncGeneratorFunction%");g&&($e=g.prototype)}else if("%AsyncIteratorPrototype%"===we){var T=ce("%AsyncGenerator%");T&&C&&($e=C(T.prototype))}return B[we]=$e,$e},I={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},H=s(65992),ne=s(78368),oe=H.call(Function.call,Array.prototype.concat),x=H.call(Function.apply,Array.prototype.splice),G=H.call(Function.call,String.prototype.replace),R=H.call(Function.call,String.prototype.slice),X=H.call(Function.call,RegExp.prototype.exec),J=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ye=/\\(\\)?/g,Y=function(we,$e){var T,g=we;if(ne(I,g)&&(g="%"+(T=I[g])[0]+"%"),ne(B,g)){var W=B[g];if(W===S&&(W=F(g)),typeof W>"u"&&!$e)throw new l("intrinsic "+we+" exists, but is not available. Please file an issue!");return{alias:T,name:g,value:W}}throw new f("intrinsic "+we+" does not exist!")};q.exports=function(we,$e){if("string"!=typeof we||0===we.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof $e)throw new l('"allowMissing" argument must be a boolean');if(null===X(/^%?[^%]*%?$/,we))throw new f("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var g=function(we){var $e=R(we,0,1),g=R(we,-1);if("%"===$e&&"%"!==g)throw new f("invalid intrinsic syntax, expected closing `%`");if("%"===g&&"%"!==$e)throw new f("invalid intrinsic syntax, expected opening `%`");var T=[];return G(we,J,function(W,K,Q,le){T[T.length]=Q?G(le,ye,"$1"):K||W}),T}(we),T=g.length>0?g[0]:"",W=Y("%"+T+"%",$e),K=W.name,Q=W.value,le=!1,pe=W.alias;pe&&(T=pe[0],x(g,oe([0,1],pe)));for(var Ee=1,he=!0;Ee<g.length;Ee+=1){var De=g[Ee],Ge=R(De,0,1),Pe=R(De,-1);if(('"'===Ge||"'"===Ge||"`"===Ge||'"'===Pe||"'"===Pe||"`"===Pe)&&Ge!==Pe)throw new f("property names with quotes must have matching quotes");if(("constructor"===De||!he)&&(le=!0),ne(B,K="%"+(T+="."+De)+"%"))Q=B[K];else if(null!=Q){if(!(De in Q)){if(!$e)throw new l("base intrinsic for "+we+" exists, but the property is not available.");return}if(a&&Ee+1>=g.length){var Oe=a(Q,De);Q=(he=!!Oe)&&"get"in Oe&&!("originalValue"in Oe.get)?Oe.get:Q[De]}else he=ne(Q,De),Q=Q[De];he&&!le&&(B[K]=Q)}}return Q}},83798:(q,p,s)=>{"use strict";var y=s(90258)("%Object.getOwnPropertyDescriptor%",!0);if(y)try{y([],"length")}catch{y=null}q.exports=y},35861:(q,p,s)=>{"use strict";var h=s(4570),y=function(){return!!h};y.hasArrayLengthDefineBug=function(){if(!h)return null;try{return 1!==h([],"length",{value:1}).length}catch{return!0}},q.exports=y},62119:q=>{"use strict";var p={__proto__:null,foo:{}},s=Object;q.exports=function(){return{__proto__:p}.foo===p.foo&&!(p instanceof s)}},19900:(q,p,s)=>{"use strict";var h=typeof Symbol<"u"&&Symbol,y=s(45310);q.exports=function(){return"function"==typeof h&&"function"==typeof Symbol&&"symbol"==typeof h("foo")&&"symbol"==typeof Symbol("bar")&&y()}},45310:q=>{"use strict";q.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var s={},h=Symbol("test"),y=Object(h);if("string"==typeof h||"[object Symbol]"!==Object.prototype.toString.call(h)||"[object Symbol]"!==Object.prototype.toString.call(y))return!1;for(h in s[h]=42,s)return!1;if("function"==typeof Object.keys&&0!==Object.keys(s).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(s).length)return!1;var w=Object.getOwnPropertySymbols(s);if(1!==w.length||w[0]!==h||!Object.prototype.propertyIsEnumerable.call(s,h))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var E=Object.getOwnPropertyDescriptor(s,h);if(42!==E.value||!0!==E.enumerable)return!1}return!0}},88779:(q,p,s)=>{"use strict";var h=s(45310);q.exports=function(){return h()&&!!Symbol.toStringTag}},78368:(q,p,s)=>{"use strict";var h=Function.prototype.call,y=Object.prototype.hasOwnProperty,D=s(65992);q.exports=D.call(h,y)},53720:(q,p,s)=>{"use strict";var h=s(78368),y=s(3541)(),D=s(46758),w={assert:function(E,f){if(!E||"object"!=typeof E&&"function"!=typeof E)throw new D("`O` is not an object");if("string"!=typeof f)throw new D("`slot` must be a string");if(y.assert(E),!w.has(E,f))throw new D("`"+f+"` is not present on `O`")},get:function(E,f){if(!E||"object"!=typeof E&&"function"!=typeof E)throw new D("`O` is not an object");if("string"!=typeof f)throw new D("`slot` must be a string");var l=y.get(E);return l&&l["$"+f]},has:function(E,f){if(!E||"object"!=typeof E&&"function"!=typeof E)throw new D("`O` is not an object");if("string"!=typeof f)throw new D("`slot` must be a string");var l=y.get(E);return!!l&&h(l,"$"+f)},set:function(E,f,l){if(!E||"object"!=typeof E&&"function"!=typeof E)throw new D("`O` is not an object");if("string"!=typeof f)throw new D("`slot` must be a string");var i=y.get(E);i||y.set(E,i={}),i["$"+f]=l}};Object.freeze&&Object.freeze(w),q.exports=w},58239:q=>{"use strict";var h,y,p=Function.prototype.toString,s="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof s&&"function"==typeof Object.defineProperty)try{h=Object.defineProperty({},"length",{get:function(){throw y}}),y={},s(function(){throw 42},null,h)}catch(S){S!==y&&(s=null)}else s=null;var D=/^\s*class\b/,w=function(N){try{var B=p.call(N);return D.test(B)}catch{return!1}},E=function(N){try{return!w(N)&&(p.call(N),!0)}catch{return!1}},f=Object.prototype.toString,b="function"==typeof Symbol&&!!Symbol.toStringTag,m=!(0 in[,]),_=function(){return!1};if("object"==typeof document){var C=document.all;f.call(C)===f.call(document.all)&&(_=function(N){if((m||!N)&&(typeof N>"u"||"object"==typeof N))try{var B=f.call(N);return("[object HTMLAllCollection]"===B||"[object HTML document.all class]"===B||"[object HTMLCollection]"===B||"[object Object]"===B)&&null==N("")}catch{}return!1})}q.exports=s?function(N){if(_(N))return!0;if(!N||"function"!=typeof N&&"object"!=typeof N)return!1;try{s(N,null,h)}catch(B){if(B!==y)return!1}return!w(N)&&E(N)}:function(N){if(_(N))return!0;if(!N||"function"!=typeof N&&"object"!=typeof N)return!1;if(b)return E(N);if(w(N))return!1;var B=f.call(N);return!("[object Function]"!==B&&"[object GeneratorFunction]"!==B&&!/^\[object HTML/.test(B))&&E(N)}},94665:(q,p,s)=>{"use strict";var h=Date.prototype.getDay,D=Object.prototype.toString,E=s(88779)();q.exports=function(l){return"object"==typeof l&&null!==l&&(E?function(l){try{return h.call(l),!0}catch{return!1}}(l):"[object Date]"===D.call(l))}},53290:(q,p,s)=>{"use strict";var D,w,E,f,h=s(23020),y=s(88779)();if(y){D=h("Object.prototype.hasOwnProperty"),w=h("RegExp.prototype.exec"),E={};var l=function(){throw E};f={toString:l,valueOf:l},"symbol"==typeof Symbol.toPrimitive&&(f[Symbol.toPrimitive]=l)}var i=h("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;q.exports=y?function(v){if(!v||"object"!=typeof v)return!1;var b=d(v,"lastIndex");if(!b||!D(b,"value"))return!1;try{w(v,f)}catch(_){return _===E}}:function(v){return!(!v||"object"!=typeof v&&"function"!=typeof v)&&"[object RegExp]"===i(v)}},16827:(q,p,s)=>{"use strict";var h=Object.prototype.toString;if(s(19900)()){var D=Symbol.prototype.toString,w=/^Symbol\(.*\)$/;q.exports=function(l){if("symbol"==typeof l)return!0;if("[object Symbol]"!==h.call(l))return!1;try{return function(l){return"symbol"==typeof l.valueOf()&&w.test(D.call(l))}(l)}catch{return!1}}}else q.exports=function(l){return!1}},12398:function(q){typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"&&globalThis,q.exports=function(){"use strict";var W,p="3.7.7",s=p,h="function"==typeof Buffer,y="function"==typeof TextDecoder?new TextDecoder:void 0,D="function"==typeof TextEncoder?new TextEncoder:void 0,E=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),f=(W={},E.forEach(function(K,Q){return W[K]=Q}),W),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,i=String.fromCharCode.bind(String),d="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(T){return new Uint8Array(Array.prototype.slice.call(T,0))},o=function(T){return T.replace(/=/g,"").replace(/[+\/]/g,function(W){return"+"==W?"-":"_"})},a=function(T){return T.replace(/[^A-Za-z0-9\+\/]/g,"")},v=function(T){for(var W,K,Q,le,pe="",Ee=T.length%3,he=0;he<T.length;){if((K=T.charCodeAt(he++))>255||(Q=T.charCodeAt(he++))>255||(le=T.charCodeAt(he++))>255)throw new TypeError("invalid character found");pe+=E[(W=K<<16|Q<<8|le)>>18&63]+E[W>>12&63]+E[W>>6&63]+E[63&W]}return Ee?pe.slice(0,Ee-3)+"===".substring(Ee):pe},b="function"==typeof btoa?function(T){return btoa(T)}:h?function(T){return Buffer.from(T,"binary").toString("base64")}:v,m=h?function(T){return Buffer.from(T).toString("base64")}:function(T){for(var K=[],Q=0,le=T.length;Q<le;Q+=4096)K.push(i.apply(null,T.subarray(Q,Q+4096)));return b(K.join(""))},_=function(T,W){return void 0===W&&(W=!1),W?o(m(T)):m(T)},C=function(T){if(T.length<2)return(W=T.charCodeAt(0))<128?T:W<2048?i(192|W>>>6)+i(128|63&W):i(224|W>>>12&15)+i(128|W>>>6&63)+i(128|63&W);var W=65536+1024*(T.charCodeAt(0)-55296)+(T.charCodeAt(1)-56320);return i(240|W>>>18&7)+i(128|W>>>12&63)+i(128|W>>>6&63)+i(128|63&W)},S=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,N=function(T){return T.replace(S,C)},B=h?function(T){return Buffer.from(T,"utf8").toString("base64")}:D?function(T){return m(D.encode(T))}:function(T){return b(N(T))},k=function(T,W){return void 0===W&&(W=!1),W?o(B(T)):B(T)},F=function(T){return k(T,!0)},I=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,H=function(T){switch(T.length){case 4:var K=((7&T.charCodeAt(0))<<18|(63&T.charCodeAt(1))<<12|(63&T.charCodeAt(2))<<6|63&T.charCodeAt(3))-65536;return i(55296+(K>>>10))+i(56320+(1023&K));case 3:return i((15&T.charCodeAt(0))<<12|(63&T.charCodeAt(1))<<6|63&T.charCodeAt(2));default:return i((31&T.charCodeAt(0))<<6|63&T.charCodeAt(1))}},ne=function(T){return T.replace(I,H)},oe=function(T){if(T=T.replace(/\s+/g,""),!l.test(T))throw new TypeError("malformed base64.");T+="==".slice(2-(3&T.length));for(var W,Q,le,K="",pe=0;pe<T.length;)W=f[T.charAt(pe++)]<<18|f[T.charAt(pe++)]<<12|(Q=f[T.charAt(pe++)])<<6|(le=f[T.charAt(pe++)]),K+=64===Q?i(W>>16&255):64===le?i(W>>16&255,W>>8&255):i(W>>16&255,W>>8&255,255&W);return K},x="function"==typeof atob?function(T){return atob(a(T))}:h?function(T){return Buffer.from(T,"base64").toString("binary")}:oe,G=h?function(T){return d(Buffer.from(T,"base64"))}:function(T){return d(x(T).split("").map(function(W){return W.charCodeAt(0)}))},R=function(T){return G(J(T))},X=h?function(T){return Buffer.from(T,"base64").toString("utf8")}:y?function(T){return y.decode(G(T))}:function(T){return ne(x(T))},J=function(T){return a(T.replace(/[-_]/g,function(W){return"-"==W?"+":"/"}))},ye=function(T){return X(J(T))},Y=function(T){return{value:T,enumerable:!1,writable:!0,configurable:!0}},ce=function(){var T=function(W,K){return Object.defineProperty(String.prototype,W,Y(K))};T("fromBase64",function(){return ye(this)}),T("toBase64",function(W){return k(this,W)}),T("toBase64URI",function(){return k(this,!0)}),T("toBase64URL",function(){return k(this,!0)}),T("toUint8Array",function(){return R(this)})},we=function(){var T=function(W,K){return Object.defineProperty(Uint8Array.prototype,W,Y(K))};T("toBase64",function(W){return _(this,W)}),T("toBase64URI",function(){return _(this,!0)}),T("toBase64URL",function(){return _(this,!0)})},g={version:p,VERSION:s,atob:x,atobPolyfill:oe,btoa:b,btoaPolyfill:v,fromBase64:ye,toBase64:k,encode:k,encodeURI:F,encodeURL:F,utob:N,btou:ne,decode:ye,isValid:function(T){if("string"!=typeof T)return!1;var W=T.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(W)||!/[^\s0-9a-zA-Z\-_]/.test(W)},fromUint8Array:_,toUint8Array:R,extendString:ce,extendUint8Array:we,extendBuiltins:function(){ce(),we()},Base64:{}};return Object.keys(g).forEach(function(T){return g.Base64[T]=g[T]}),g}()},38350:(q,p,s)=>{"use strict";function h(l){this.message=l}s.r(p),s.d(p,{InvalidTokenError:()=>w,default:()=>f}),(h.prototype=new Error).name="InvalidCharacterError";var y=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(l){var i=String(l).replace(/=+$/,"");if(i.length%4==1)throw new h("'atob' failed: The string to be decoded is not correctly encoded.");for(var d,o,a=0,v=0,b="";o=i.charAt(v++);~o&&(d=a%4?64*d+o:o,a++%4)?b+=String.fromCharCode(255&d>>(-2*a&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return b};function w(l){this.message=l}(w.prototype=new Error).name="InvalidTokenError";const f=function E(l,i){if("string"!=typeof l)throw new w("Invalid token specified");var d=!0===(i=i||{}).header?0:1;try{return JSON.parse(function D(l){var i=l.replace(/-/g,"+").replace(/_/g,"/");switch(i.length%4){case 0:break;case 2:i+="==";break;case 3:i+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(y(i).replace(/(.)/g,function(o,a){var v=a.charCodeAt(0).toString(16).toUpperCase();return v.length<2&&(v="0"+v),"%"+v}))}catch{return y(i)}}(l.split(".")[d]))}catch(o){throw new w("Invalid token specified: "+o.message)}}},89150:(q,p,s)=>{var h="function"==typeof Map&&Map.prototype,y=Object.getOwnPropertyDescriptor&&h?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,D=h&&y&&"function"==typeof y.get?y.get:null,w=h&&Map.prototype.forEach,E="function"==typeof Set&&Set.prototype,f=Object.getOwnPropertyDescriptor&&E?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=E&&f&&"function"==typeof f.get?f.get:null,i=E&&Set.prototype.forEach,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,v="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,m="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,_=Boolean.prototype.valueOf,C=Object.prototype.toString,S=Function.prototype.toString,N=String.prototype.match,B=String.prototype.slice,k=String.prototype.replace,F=String.prototype.toUpperCase,I=String.prototype.toLowerCase,H=RegExp.prototype.test,ne=Array.prototype.concat,oe=Array.prototype.join,x=Array.prototype.slice,G=Math.floor,R="function"==typeof BigInt?BigInt.prototype.valueOf:null,X=Object.getOwnPropertySymbols,J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ye="function"==typeof Symbol&&"object"==typeof Symbol.iterator,U="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Y=Object.prototype.propertyIsEnumerable,ce=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(xe){return xe.__proto__}:null);function we(xe,Be){if(xe===1/0||xe===-1/0||xe!=xe||xe&&xe>-1e3&&xe<1e3||H.call(/e/,Be))return Be;var ut=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof xe){var lt=xe<0?-G(-xe):G(xe);if(lt!==xe){var tt=String(lt),pt=B.call(Be,tt.length+1);return k.call(tt,ut,"$&_")+"."+k.call(k.call(pt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return k.call(Be,ut,"$&_")}var $e=s(42634),g=$e.custom,T=Pe(g)?g:null;function W(xe,Be,ut){var lt="double"===(ut.quoteStyle||Be)?'"':"'";return lt+xe+lt}function K(xe){return k.call(String(xe),/"/g,"&quot;")}function Q(xe){return!("[object Array]"!==ge(xe)||U&&"object"==typeof xe&&U in xe)}function pe(xe){return!("[object RegExp]"!==ge(xe)||U&&"object"==typeof xe&&U in xe)}function Pe(xe){if(ye)return xe&&"object"==typeof xe&&xe instanceof Symbol;if("symbol"==typeof xe)return!0;if(!xe||"object"!=typeof xe||!J)return!1;try{return J.call(xe),!0}catch{}return!1}q.exports=function xe(Be,ut,lt,tt){var pt=ut||{};if(be(pt,"quoteStyle")&&"single"!==pt.quoteStyle&&"double"!==pt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(be(pt,"maxStringLength")&&("number"==typeof pt.maxStringLength?pt.maxStringLength<0&&pt.maxStringLength!==1/0:null!==pt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Bt=!be(pt,"customInspect")||pt.customInspect;if("boolean"!=typeof Bt&&"symbol"!==Bt)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(be(pt,"indent")&&null!==pt.indent&&"\t"!==pt.indent&&!(parseInt(pt.indent,10)===pt.indent&&pt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(be(pt,"numericSeparator")&&"boolean"!=typeof pt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ft=pt.numericSeparator;if(typeof Be>"u")return"undefined";if(null===Be)return"null";if("boolean"==typeof Be)return Be?"true":"false";if("string"==typeof Be)return Je(Be,pt);if("number"==typeof Be){if(0===Be)return 1/0/Be>0?"0":"-0";var wt=String(Be);return Ft?we(Be,wt):wt}if("bigint"==typeof Be){var Tt=String(Be)+"n";return Ft?we(Be,Tt):Tt}var br=typeof pt.depth>"u"?5:pt.depth;if(typeof lt>"u"&&(lt=0),lt>=br&&br>0&&"object"==typeof Be)return Q(Be)?"[Array]":"[Object]";var V=function _e(xe,Be){var ut;if("\t"===xe.indent)ut="\t";else{if(!("number"==typeof xe.indent&&xe.indent>0))return null;ut=oe.call(Array(xe.indent+1)," ")}return{base:ut,prev:oe.call(Array(Be+1),ut)}}(pt,lt);if(typeof tt>"u")tt=[];else if(Re(tt,Be)>=0)return"[Circular]";function ue(Ht,zr,lr){if(zr&&(tt=x.call(tt)).push(zr),lr){var an={depth:pt.depth};return be(pt,"quoteStyle")&&(an.quoteStyle=pt.quoteStyle),xe(Ht,an,lt+1,tt)}return xe(Ht,pt,lt+1,tt)}if("function"==typeof Be&&!pe(Be)){var ie=function Ae(xe){if(xe.name)return xe.name;var Be=N.call(S.call(xe),/^function\s*([\w$]+)/);return Be?Be[1]:null}(Be),de=je(Be,ue);return"[Function"+(ie?": "+ie:" (anonymous)")+"]"+(de.length>0?" { "+oe.call(de,", ")+" }":"")}if(Pe(Be)){var Se=ye?k.call(String(Be),/^(Symbol\(.*\))_[^)]*$/,"$1"):J.call(Be);return"object"!=typeof Be||ye?Se:ee(Se)}if(function We(xe){return!(!xe||"object"!=typeof xe)&&(typeof HTMLElement<"u"&&xe instanceof HTMLElement||"string"==typeof xe.nodeName&&"function"==typeof xe.getAttribute)}(Be)){for(var Ve="<"+I.call(String(Be.nodeName)),He=Be.attributes||[],Ze=0;Ze<He.length;Ze++)Ve+=" "+He[Ze].name+"="+W(K(He[Ze].value),"double",pt);return Ve+=">",Be.childNodes&&Be.childNodes.length&&(Ve+="..."),Ve+"</"+I.call(String(Be.nodeName))+">"}if(Q(Be)){if(0===Be.length)return"[]";var ct=je(Be,ue);return V&&!function Z(xe){for(var Be=0;Be<xe.length;Be++)if(Re(xe[Be],"\n")>=0)return!1;return!0}(ct)?"["+Ce(ct,V)+"]":"[ "+oe.call(ct,", ")+" ]"}if(function Ee(xe){return!("[object Error]"!==ge(xe)||U&&"object"==typeof xe&&U in xe)}(Be)){var bt=je(Be,ue);return"cause"in Error.prototype||!("cause"in Be)||Y.call(Be,"cause")?0===bt.length?"["+String(Be)+"]":"{ ["+String(Be)+"] "+oe.call(bt,", ")+" }":"{ ["+String(Be)+"] "+oe.call(ne.call("[cause]: "+ue(Be.cause),bt),", ")+" }"}if("object"==typeof Be&&Bt){if(T&&"function"==typeof Be[T]&&$e)return $e(Be,{depth:br-lt});if("symbol"!==Bt&&"function"==typeof Be.inspect)return Be.inspect()}if(function Fe(xe){if(!D||!xe||"object"!=typeof xe)return!1;try{D.call(xe);try{l.call(xe)}catch{return!0}return xe instanceof Map}catch{}return!1}(Be)){var Dt=[];return w&&w.call(Be,function(Ht,zr){Dt.push(ue(zr,Be,!0)+" => "+ue(Ht,Be))}),P("Map",D.call(Be),Dt,V)}if(function Ue(xe){if(!l||!xe||"object"!=typeof xe)return!1;try{l.call(xe);try{D.call(xe)}catch{return!0}return xe instanceof Set}catch{}return!1}(Be)){var ur=[];return i&&i.call(Be,function(Ht){ur.push(ue(Ht,Be))}),P("Set",l.call(Be),ur,V)}if(function Me(xe){if(!o||!xe||"object"!=typeof xe)return!1;try{o.call(xe,o);try{v.call(xe,v)}catch{return!0}return xe instanceof WeakMap}catch{}return!1}(Be))return L("WeakMap");if(function Qe(xe){if(!v||!xe||"object"!=typeof xe)return!1;try{v.call(xe,v);try{o.call(xe,o)}catch{return!0}return xe instanceof WeakSet}catch{}return!1}(Be))return L("WeakSet");if(function Le(xe){if(!m||!xe||"object"!=typeof xe)return!1;try{return m.call(xe),!0}catch{}return!1}(Be))return L("WeakRef");if(function De(xe){return!("[object Number]"!==ge(xe)||U&&"object"==typeof xe&&U in xe)}(Be))return ee(ue(Number(Be)));if(function Oe(xe){if(!xe||"object"!=typeof xe||!R)return!1;try{return R.call(xe),!0}catch{}return!1}(Be))return ee(ue(R.call(Be)));if(function Ge(xe){return!("[object Boolean]"!==ge(xe)||U&&"object"==typeof xe&&U in xe)}(Be))return ee(_.call(Be));if(function he(xe){return!("[object String]"!==ge(xe)||U&&"object"==typeof xe&&U in xe)}(Be))return ee(ue(String(Be)));if(typeof window<"u"&&Be===window)return"{ [object Window] }";if(Be===globalThis)return"{ [object globalThis] }";if(!function le(xe){return!("[object Date]"!==ge(xe)||U&&"object"==typeof xe&&U in xe)}(Be)&&!pe(Be)){var Ct=je(Be,ue),Jr=ce?ce(Be)===Object.prototype:Be instanceof Object||Be.constructor===Object,jt=Be instanceof Object?"":"null prototype",Wt=!Jr&&U&&Object(Be)===Be&&U in Be?B.call(ge(Be),8,-1):jt?"Object":"",cr=(Jr||"function"!=typeof Be.constructor?"":Be.constructor.name?Be.constructor.name+" ":"")+(Wt||jt?"["+oe.call(ne.call([],Wt||[],jt||[]),": ")+"] ":"");return 0===Ct.length?cr+"{}":V?cr+"{"+Ce(Ct,V)+"}":cr+"{ "+oe.call(Ct,", ")+" }"}return String(Be)};var me=Object.prototype.hasOwnProperty||function(xe){return xe in this};function be(xe,Be){return me.call(xe,Be)}function ge(xe){return C.call(xe)}function Re(xe,Be){if(xe.indexOf)return xe.indexOf(Be);for(var ut=0,lt=xe.length;ut<lt;ut++)if(xe[ut]===Be)return ut;return-1}function Je(xe,Be){if(xe.length>Be.maxStringLength){var ut=xe.length-Be.maxStringLength,lt="... "+ut+" more character"+(ut>1?"s":"");return Je(B.call(xe,0,Be.maxStringLength),Be)+lt}return W(k.call(k.call(xe,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,at),"single",Be)}function at(xe){var Be=xe.charCodeAt(0),ut={8:"b",9:"t",10:"n",12:"f",13:"r"}[Be];return ut?"\\"+ut:"\\x"+(Be<16?"0":"")+F.call(Be.toString(16))}function ee(xe){return"Object("+xe+")"}function L(xe){return xe+" { ? }"}function P(xe,Be,ut,lt){return xe+" ("+Be+") {"+(lt?Ce(ut,lt):oe.call(ut,", "))+"}"}function Ce(xe,Be){if(0===xe.length)return"";var ut="\n"+Be.prev+Be.base;return ut+oe.call(xe,","+ut)+"\n"+Be.prev}function je(xe,Be){var ut=Q(xe),lt=[];if(ut){lt.length=xe.length;for(var tt=0;tt<xe.length;tt++)lt[tt]=be(xe,tt)?Be(xe[tt],xe):""}var Bt,pt="function"==typeof X?X(xe):[];if(ye){Bt={};for(var Ft=0;Ft<pt.length;Ft++)Bt["$"+pt[Ft]]=pt[Ft]}for(var wt in xe)be(xe,wt)&&(ut&&String(Number(wt))===wt&&wt<xe.length||ye&&Bt["$"+wt]instanceof Symbol||(H.call(/[^\w$]/,wt)?lt.push(Be(wt,xe)+": "+Be(xe[wt],xe)):lt.push(wt+": "+Be(xe[wt],xe))));if("function"==typeof X)for(var Tt=0;Tt<pt.length;Tt++)Y.call(xe,pt[Tt])&&lt.push("["+Be(pt[Tt])+"]: "+Be(xe[pt[Tt]],xe));return lt}},50366:(q,p,s)=>{"use strict";var h;if(!Object.keys){var y=Object.prototype.hasOwnProperty,D=Object.prototype.toString,w=s(21050),E=Object.prototype.propertyIsEnumerable,f=!E.call({toString:null},"toString"),l=E.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(b){var m=b.constructor;return m&&m.prototype===b},o={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if(typeof window>"u")return!1;for(var b in window)try{if(!o["$"+b]&&y.call(window,b)&&null!==window[b]&&"object"==typeof window[b])try{d(window[b])}catch{return!0}}catch{return!0}return!1}();h=function(m){var _=null!==m&&"object"==typeof m,C="[object Function]"===D.call(m),S=w(m),N=_&&"[object String]"===D.call(m),B=[];if(!_&&!C&&!S)throw new TypeError("Object.keys called on a non-object");var k=l&&C;if(N&&m.length>0&&!y.call(m,0))for(var F=0;F<m.length;++F)B.push(String(F));if(S&&m.length>0)for(var I=0;I<m.length;++I)B.push(String(I));else for(var H in m)(!k||"prototype"!==H)&&y.call(m,H)&&B.push(String(H));if(f)for(var ne=function(b){if(typeof window>"u"||!a)return d(b);try{return d(b)}catch{return!1}}(m),oe=0;oe<i.length;++oe)(!ne||"constructor"!==i[oe])&&y.call(m,i[oe])&&B.push(i[oe]);return B}}q.exports=h},44934:(q,p,s)=>{"use strict";var h=Array.prototype.slice,y=s(21050),D=Object.keys,w=D?function(l){return D(l)}:s(50366),E=Object.keys;w.shim=function(){if(Object.keys){var l=function(){var i=Object.keys(arguments);return i&&i.length===arguments.length}(1,2);l||(Object.keys=function(d){return y(d)?E(h.call(d)):E(d)})}else Object.keys=w;return Object.keys||w},q.exports=w},21050:q=>{"use strict";var p=Object.prototype.toString;q.exports=function(h){var y=p.call(h),D="[object Arguments]"===y;return D||(D="[object Array]"!==y&&null!==h&&"object"==typeof h&&"number"==typeof h.length&&h.length>=0&&"[object Function]"===p.call(h.callee)),D}},62364:(q,p,s)=>{"use strict";var h=s(56469),y=s(46758),D=Object;q.exports=h(function(){if(null==this||this!==D(this))throw new y("RegExp.prototype.flags getter called on non-object");var E="";return this.hasIndices&&(E+="d"),this.global&&(E+="g"),this.ignoreCase&&(E+="i"),this.multiline&&(E+="m"),this.dotAll&&(E+="s"),this.unicode&&(E+="u"),this.unicodeSets&&(E+="v"),this.sticky&&(E+="y"),E},"get flags",!0)},55864:(q,p,s)=>{"use strict";var h=s(947),y=s(48128),D=s(62364),w=s(35209),E=s(88871),f=y(w());h(f,{getPolyfill:w,implementation:D,shim:E}),q.exports=f},35209:(q,p,s)=>{"use strict";var h=s(62364),y=s(947).supportsDescriptors,D=Object.getOwnPropertyDescriptor;q.exports=function(){if(y&&"gim"===/a/gim.flags){var E=D(RegExp.prototype,"flags");if(E&&"function"==typeof E.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var f="",l={};if(Object.defineProperty(l,"hasIndices",{get:function(){f+="d"}}),Object.defineProperty(l,"sticky",{get:function(){f+="y"}}),"dy"===f)return E.get}}return h}},88871:(q,p,s)=>{"use strict";var h=s(947).supportsDescriptors,y=s(35209),D=Object.getOwnPropertyDescriptor,w=Object.defineProperty,E=TypeError,f=Object.getPrototypeOf,l=/a/;q.exports=function(){if(!h||!f)throw new E("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var d=y(),o=f(l),a=D(o,"flags");return(!a||a.get!==d)&&w(o,"flags",{configurable:!0,enumerable:!1,get:d}),d}},5202:(q,p,s)=>{"use strict";var h=s(23020),y=s(53290),D=h("RegExp.prototype.exec"),w=s(46758);q.exports=function(f){if(!y(f))throw new w("`regex` must be a RegExp");return function(i){return null!==D(f,i)}}},31358:(q,p,s)=>{"use strict";var h=s(90258),y=s(92736),D=s(35861)(),w=s(83798),E=s(46758),f=h("%Math.floor%");q.exports=function(i,d){if("function"!=typeof i)throw new E("`fn` is not a function");if("number"!=typeof d||d<0||d>4294967295||f(d)!==d)throw new E("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],a=!0,v=!0;if("length"in i&&w){var b=w(i,"length");b&&!b.configurable&&(a=!1),b&&!b.writable&&(v=!1)}return(a||v||!o)&&(D?y(i,"length",d,!0,!0):y(i,"length",d)),i}},56469:(q,p,s)=>{"use strict";var h=s(92736),y=s(35861)(),D=s(64003).functionsHaveConfigurableNames(),w=s(46758);q.exports=function(f,l){if("function"!=typeof f)throw new w("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||D)&&(y?h(f,"name",l,!0,!0):h(f,"name",l)),f}},3541:(q,p,s)=>{"use strict";var h=s(90258),y=s(23020),D=s(89150),w=s(46758),E=h("%WeakMap%",!0),f=h("%Map%",!0),l=y("WeakMap.prototype.get",!0),i=y("WeakMap.prototype.set",!0),d=y("WeakMap.prototype.has",!0),o=y("Map.prototype.get",!0),a=y("Map.prototype.set",!0),v=y("Map.prototype.has",!0),b=function(S,N){for(var k,B=S;null!==(k=B.next);B=k)if(k.key===N)return B.next=k.next,k.next=S.next,S.next=k,k};q.exports=function(){var N,B,k,F={assert:function(I){if(!F.has(I))throw new w("Side channel does not contain "+D(I))},get:function(I){if(E&&I&&("object"==typeof I||"function"==typeof I)){if(N)return l(N,I)}else if(f){if(B)return o(B,I)}else if(k)return function(S,N){var B=b(S,N);return B&&B.value}(k,I)},has:function(I){if(E&&I&&("object"==typeof I||"function"==typeof I)){if(N)return d(N,I)}else if(f){if(B)return v(B,I)}else if(k)return function(S,N){return!!b(S,N)}(k,I);return!1},set:function(I,H){E&&I&&("object"==typeof I||"function"==typeof I)?(N||(N=new E),i(N,I,H)):f?(B||(B=new f),a(B,I,H)):(k||(k={key:{},next:null}),function(S,N,B){var k=b(S,N);k?k.value=B:S.next={key:N,next:S.next,value:B}}(k,I,H))}};return F}},18911:(q,p,s)=>{var h=s(46096).cM;q.exports=function(y,D){D||(D={});var w={},E=function f(l,i){if("Literal"===l.type)return l.value;if("UnaryExpression"===l.type){var d=f(l.argument);return"+"===l.operator?+d:"-"===l.operator?-d:"~"===l.operator?~d:"!"===l.operator?!d:w}if("ArrayExpression"===l.type){for(var o=[],a=0,v=l.elements.length;a<v;a++){if((b=f(l.elements[a]))===w)return w;o.push(b)}return o}if("ObjectExpression"===l.type){var m={};for(a=0;a<l.properties.length;a++){var C=null===(_=l.properties[a]).value?_.value:f(_.value);if(C===w)return w;m[_.key.value||_.key.name]=C}return m}if("BinaryExpression"===l.type||"LogicalExpression"===l.type){if((v=f(l.left))===w)return w;var S=f(l.right);if(S===w)return w;var N=l.operator;return"=="===N?v==S:"==="===N?v===S:"!="===N?v!=S:"!=="===N?v!==S:"+"===N?v+S:"-"===N?v-S:"*"===N?v*S:"/"===N?v/S:"%"===N?v%S:"<"===N?v<S:"<="===N?v<=S:">"===N?v>S:">="===N?v>=S:"|"===N?v|S:"&"===N?v&S:"^"===N?v^S:"&&"===N?v&&S:"||"===N?v||S:w}if("Identifier"===l.type)return{}.hasOwnProperty.call(D,l.name)?D[l.name]:w;if("ThisExpression"===l.type)return{}.hasOwnProperty.call(D,"this")?D.this:w;if("CallExpression"===l.type){var B=f(l.callee);if(B===w||"function"!=typeof B)return w;var k=l.callee.object?f(l.callee.object):w;k===w&&(k=null);var F=[];for(a=0,v=l.arguments.length;a<v;a++){var b;if((b=f(l.arguments[a]))===w)return w;F.push(b)}return B.apply(k,F)}var _;if("MemberExpression"===l.type)return(m=f(l.object))===w||"function"==typeof m?w:"Identifier"===l.property.type?m[l.property.name]:(_=f(l.property))===w?w:m[_];if("ConditionalExpression"===l.type)return(d=f(l.test))===w?w:f(d?l.consequent:l.alternate);if("ExpressionStatement"===l.type)return(d=f(l.expression))===w?w:d;if("ReturnStatement"===l.type)return f(l.argument);if("FunctionExpression"===l.type){var I=l.body.body,H={};for(Object.keys(D).forEach(function(U){H[U]=D[U]}),a=0;a<l.params.length;a++){var ne=l.params[a];if("Identifier"!=ne.type)return w;D[ne.name]=null}for(var a in I)if(f(I[a])===w)return w;D=H;var oe=Object.keys(D),x=oe.map(function(U){return D[U]});return Function(oe.join(", "),"return "+h(l)).apply(null,x)}if("TemplateLiteral"===l.type){var G="";for(a=0;a<l.expressions.length;a++)G+=f(l.quasis[a]),G+=f(l.expressions[a]);return G+f(l.quasis[a])}if("TaggedTemplateExpression"===l.type){var R=f(l.tag),X=l.quasi,J=X.quasis.map(f),ye=X.expressions.map(f);return R.apply(null,[J].concat(ye))}return"TemplateElement"===l.type?l.value.cooked:w}(y);return E===w?void 0:E}},20571:(q,p,s)=>{"use strict";var h=s(98683),y=s(48527),D=s(33602),w=s(84706),E=s(88535),f=s(34813),l=s(23020),i=s(19900)(),d=s(55864),o=s(90258),a=s(46758),v=o("%RegExp%"),b=l("String.prototype.indexOf"),m=s(73995),_=function(S){var N=m();if(i&&"symbol"==typeof Symbol.matchAll){var B=D(S,Symbol.matchAll);return B===v.prototype[Symbol.matchAll]&&B!==N?N:B}if(w(S))return N};q.exports=function(S){var N=f(this);if(typeof S<"u"&&null!==S){if(w(S)){var k="flags"in S?y(S,"flags"):d(S);if(f(k),b(E(k),"g")<0)throw new a("matchAll requires a global regular expression")}var F=_(S);if(typeof F<"u")return h(F,S,[N])}var I=E(N),H=new v(S,"g");return h(_(H),H,[I])}},72373:(q,p,s)=>{"use strict";var h=s(48128),y=s(947),D=s(20571),w=s(40082),E=s(928),f=h(D);y(f,{getPolyfill:w,implementation:D,shim:E}),q.exports=f},73995:(q,p,s)=>{"use strict";var h=s(19900)(),y=s(88153);q.exports=function(){return h&&"symbol"==typeof Symbol.matchAll&&"function"==typeof RegExp.prototype[Symbol.matchAll]?RegExp.prototype[Symbol.matchAll]:y}},40082:(q,p,s)=>{"use strict";var h=s(20571);q.exports=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return h}},88153:(q,p,s)=>{"use strict";var h=s(87045),y=s(48527),D=s(72459),w=s(50149),E=s(51382),f=s(88535),l=s(80035),i=s(55864),d=s(56469),o=s(23020),a=s(90258),v=s(46758),b=o("String.prototype.indexOf"),m=a("%RegExp%"),_="flags"in m.prototype,S=d(function(B){var k=this;if("Object"!==l(k))throw new v('"this" value must be an Object');var F=f(B),H=function(B,k){var I="flags"in k?y(k,"flags"):f(i(k));return{flags:I,matcher:new B(_&&"string"==typeof I?k:B===m?k.source:k,I)}}(w(k,m),k),ne=H.flags,oe=H.matcher,x=E(y(k,"lastIndex"));D(oe,"lastIndex",x,!0);var G=b(ne,"g")>-1,R=b(ne,"u")>-1;return h(oe,F,G,R)},"[Symbol.matchAll]",!0);q.exports=S},928:(q,p,s)=>{"use strict";var h=s(947),y=s(19900)(),D=s(83798),w=s(40082),E=s(73995),f=Object.defineProperty;q.exports=function(){var i=w();if(h(String.prototype,{matchAll:i},{matchAll:function(){return String.prototype.matchAll!==i}}),y){var d=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(h(Symbol,{matchAll:d},{matchAll:function(){return Symbol.matchAll!==d}}),f&&D){var o=D(Symbol,d);(!o||o.configurable)&&f(Symbol,d,{configurable:!1,enumerable:!1,value:d,writable:!1})}var a=E(),v={};v[d]=a;var b={};b[d]=function(){return RegExp.prototype[d]!==a},h(RegExp.prototype,v,b)}return i}},90343:(q,p,s)=>{"use strict";var h=s(34813),y=s(88535),w=s(23020)("String.prototype.replace"),E=/^\s$/.test("\u180e"),f=E?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,l=E?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;q.exports=function(){var d=y(h(this));return w(w(d,f,""),l,"")}},36913:(q,p,s)=>{"use strict";var h=s(48128),y=s(947),D=s(34813),w=s(90343),E=s(12054),f=s(98452),l=h(E()),i=function(o){return D(o),l(o)};y(i,{getPolyfill:E,implementation:w,shim:f}),q.exports=i},12054:(q,p,s)=>{"use strict";var h=s(90343);q.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()&&"\u180e"==="\u180e".trim()&&"_\u180e"==="_\u180e".trim()&&"\u180e_"==="\u180e_".trim()?String.prototype.trim:h}},98452:(q,p,s)=>{"use strict";var h=s(947),y=s(12054);q.exports=function(){var w=y();return h(String.prototype,{trim:w},{trim:function(){return String.prototype.trim!==w}}),w}},42634:()=>{},99014:(q,p,s)=>{"use strict";var h=s(32431),y=s(34174),D=s(74985),w=s(46758);q.exports=function(f,l,i){if("string"!=typeof f)throw new w("Assertion failed: `S` must be a String");if(!y(l)||l<0||l>D)throw new w("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("boolean"!=typeof i)throw new w("Assertion failed: `unicode` must be a Boolean");return i?l+1>=f.length?l+1:l+h(f,l)["[[CodeUnitCount]]"]:l+1}},98683:(q,p,s)=>{"use strict";var h=s(90258),y=s(23020),D=s(46758),w=s(22802),E=h("%Reflect.apply%",!0)||y("Function.prototype.apply");q.exports=function(l,i){var d=arguments.length>2?arguments[2]:[];if(!w(d))throw new D("Assertion failed: optional `argumentsList`, if provided, must be a List");return E(l,i,d)}},32431:(q,p,s)=>{"use strict";var h=s(46758),y=s(23020),D=s(32270),w=s(24034),E=s(15225),f=y("String.prototype.charAt"),l=y("String.prototype.charCodeAt");q.exports=function(d,o){if("string"!=typeof d)throw new h("Assertion failed: `string` must be a String");var a=d.length;if(o<0||o>=a)throw new h("Assertion failed: `position` must be >= 0, and < the length of `string`");var v=l(d,o),b=f(d,o),m=D(v),_=w(v);if(!m&&!_)return{"[[CodePoint]]":b,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(_||o+1===a)return{"[[CodePoint]]":b,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var C=l(d,o+1);return w(C)?{"[[CodePoint]]":E(v,C),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":b,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}},50363:(q,p,s)=>{"use strict";var h=s(46758);q.exports=function(D,w){if("boolean"!=typeof w)throw new h("Assertion failed: Type(done) is not Boolean");return{value:D,done:w}}},87045:(q,p,s)=>{"use strict";var h=s(90258),y=s(19900)(),D=s(46758),w=h("%IteratorPrototype%",!0),E=s(99014),f=s(50363),l=s(29624),i=s(48527),d=s(56042),o=s(59127),a=s(72459),v=s(51382),b=s(88535),m=s(80035),_=s(53720),C=s(65240),S=function(F,I,H,ne){if("string"!=typeof I)throw new D("`S` must be a string");if("boolean"!=typeof H)throw new D("`global` must be a boolean");if("boolean"!=typeof ne)throw new D("`fullUnicode` must be a boolean");_.set(this,"[[IteratingRegExp]]",F),_.set(this,"[[IteratedString]]",I),_.set(this,"[[Global]]",H),_.set(this,"[[Unicode]]",ne),_.set(this,"[[Done]]",!1)};w&&(S.prototype=d(w)),l(S.prototype,"next",function(){var F=this;if("Object"!==m(F))throw new D("receiver must be an object");if(!(F instanceof S&&_.has(F,"[[IteratingRegExp]]")&&_.has(F,"[[IteratedString]]")&&_.has(F,"[[Global]]")&&_.has(F,"[[Unicode]]")&&_.has(F,"[[Done]]")))throw new D('"this" value must be a RegExpStringIterator instance');if(_.get(F,"[[Done]]"))return f(void 0,!0);var I=_.get(F,"[[IteratingRegExp]]"),H=_.get(F,"[[IteratedString]]"),ne=_.get(F,"[[Global]]"),oe=_.get(F,"[[Unicode]]"),x=o(I,H);if(null===x)return _.set(F,"[[Done]]",!0),f(void 0,!0);if(ne){if(""===b(i(x,"0"))){var R=v(i(I,"lastIndex")),X=E(H,R,oe);a(I,"lastIndex",X,!0)}return f(x,!1)}return _.set(F,"[[Done]]",!0),f(x,!1)},!1),y&&(C(S.prototype,"RegExp String Iterator"),Symbol.iterator&&"function"!=typeof S.prototype[Symbol.iterator])&&l(S.prototype,Symbol.iterator,function(){return this},!1),q.exports=function(F,I,H,ne){return new S(F,I,H,ne)}},29624:(q,p,s)=>{"use strict";var h=s(46758),y=s(90662),D=s(42626),w=s(1203),E=s(80035);q.exports=function(l,i,d,o){if("Object"!==E(l))throw new h("Assertion failed: `homeObject` is not an Object");if(!w(i))throw new h("Assertion failed: `key` is not a Property Key or a Private Name");if("function"!=typeof d)throw new h("Assertion failed: `closure` is not a function");if("boolean"!=typeof o)throw new h("Assertion failed: `enumerable` is not a Boolean");if(!D(l))throw new h("Assertion failed: `homeObject` is not an ordinary, extensible object, with no non-configurable properties");y(l,i,{"[[Value]]":d,"[[Writable]]":!0,"[[Enumerable]]":o,"[[Configurable]]":!0})}},90662:(q,p,s)=>{"use strict";var h=s(46758),y=s(70492),D=s(81396),w=s(72183),E=s(11414),f=s(1203),l=s(86440),i=s(46018),d=s(80035);q.exports=function(a,v,b){if("Object"!==d(a))throw new h("Assertion failed: Type(O) is not Object");if(!f(v))throw new h("Assertion failed: IsPropertyKey(P) is not true");var m=y(b)?b:i(b);if(!y(m))throw new h("Assertion failed: Desc is not a valid Property Descriptor");return D(E,l,w,a,v,m)}},72183:(q,p,s)=>{"use strict";var h=s(46758),y=s(70492),D=s(4938);q.exports=function(E){if(typeof E<"u"&&!y(E))throw new h("Assertion failed: `Desc` must be a Property Descriptor");return D(E)}},48527:(q,p,s)=>{"use strict";var h=s(46758),y=s(89150),D=s(1203),w=s(80035);q.exports=function(f,l){if("Object"!==w(f))throw new h("Assertion failed: Type(O) is not Object");if(!D(l))throw new h("Assertion failed: IsPropertyKey(P) is not true, got "+y(l));return f[l]}},33602:(q,p,s)=>{"use strict";var h=s(46758),y=s(80213),D=s(35867),w=s(1203),E=s(89150);q.exports=function(l,i){if(!w(i))throw new h("Assertion failed: IsPropertyKey(P) is not true");var d=y(l,i);if(null!=d){if(!D(d))throw new h(E(i)+" is not a function: "+E(d));return d}}},80213:(q,p,s)=>{"use strict";var h=s(46758),y=s(89150),D=s(1203);q.exports=function(E,f){if(!D(f))throw new h("Assertion failed: IsPropertyKey(P) is not true, got "+y(f));return E[f]}},22802:(q,p,s)=>{"use strict";q.exports=s(31153)},35867:(q,p,s)=>{"use strict";q.exports=s(58239)},13711:(q,p,s)=>{"use strict";var y=s(29539)("%Reflect.construct%",!0),D=s(90662);try{D({},"",{"[[Get]]":function(){}})}catch{D=null}if(D&&y){var w={},E={};D(E,"length",{"[[Get]]":function(){throw w},"[[Enumerable]]":!0}),q.exports=function(l){try{y(l,E)}catch(i){return i===w}}}else q.exports=function(l){return"function"==typeof l&&!!l.prototype}},11414:(q,p,s)=>{"use strict";var h=s(46758),y=s(78368),D=s(70492);q.exports=function(E){if(typeof E>"u")return!1;if(!D(E))throw new h("Assertion failed: `Desc` must be a Property Descriptor");return!(!y(E,"[[Value]]")&&!y(E,"[[Writable]]"))}},42626:(q,p,s)=>{"use strict";var h=s(90258),y=h("%Object.preventExtensions%",!0),D=h("%Object.isExtensible%",!0),w=s(32081);q.exports=y?function(f){return!w(f)&&D(f)}:function(f){return!w(f)}},1203:q=>{"use strict";q.exports=function(s){return"string"==typeof s||"symbol"==typeof s}},84706:(q,p,s)=>{"use strict";var y=s(90258)("%Symbol.match%",!0),D=s(53290),w=s(12788);q.exports=function(f){if(!f||"object"!=typeof f)return!1;if(y){var l=f[y];if(typeof l<"u")return w(l)}return D(f)}},56042:(q,p,s)=>{"use strict";var y=s(90258)("%Object.create%",!0),D=s(46758),w=s(58413),E=s(22802),f=s(80035),l=s(54810),i=s(53720),d=s(62119)();q.exports=function(a){if(null!==a&&"Object"!==f(a))throw new D("Assertion failed: `proto` must be null or an object");var b,v=arguments.length<2?[]:arguments[1];if(!E(v))throw new D("Assertion failed: `additionalInternalSlotsList` must be an Array");if(y)b=y(a);else if(d)b={__proto__:a};else{if(null===a)throw new w("native Object.create support is required to create null objects");var m=function(){};m.prototype=a,b=new m}return v.length>0&&l(v,function(_){i.set(b,_,void 0)}),b}},59127:(q,p,s)=>{"use strict";var h=s(46758),y=s(23020)("RegExp.prototype.exec"),D=s(98683),w=s(48527),E=s(35867),f=s(80035);q.exports=function(i,d){if("Object"!==f(i))throw new h("Assertion failed: `R` must be an Object");if("string"!=typeof d)throw new h("Assertion failed: `S` must be a String");var o=w(i,"exec");if(E(o)){var a=D(o,i,[d]);if("object"==typeof a)return a;throw new h('"exec" method must return `null` or an Object')}return y(i,d)}},86440:(q,p,s)=>{"use strict";var h=s(91661);q.exports=function(D,w){return D===w?0!==D||1/D==1/w:h(D)&&h(w)}},72459:(q,p,s)=>{"use strict";var h=s(46758),y=s(1203),D=s(86440),w=s(80035),E=function(){try{return delete[].length,!0}catch{return!1}}();q.exports=function(l,i,d,o){if("Object"!==w(l))throw new h("Assertion failed: `O` must be an Object");if(!y(i))throw new h("Assertion failed: `P` must be a Property Key");if("boolean"!=typeof o)throw new h("Assertion failed: `Throw` must be a Boolean");if(o){if(l[i]=d,E&&!D(l[i],d))throw new h("Attempted to assign to readonly property.");return!0}try{return l[i]=d,!E||D(l[i],d)}catch{return!1}}},50149:(q,p,s)=>{"use strict";var y=s(90258)("%Symbol.species%",!0),D=s(46758),w=s(13711),E=s(80035);q.exports=function(l,i){if("Object"!==E(l))throw new D("Assertion failed: Type(O) is not Object");var d=l.constructor;if(typeof d>"u")return i;if("Object"!==E(d))throw new D("O.constructor is not an Object");var o=y?d[y]:void 0;if(null==o)return i;if(w(o))return o;throw new D("no constructor found")}},6465:(q,p,s)=>{"use strict";var h=s(90258),y=h("%Number%"),D=h("%RegExp%"),w=s(46758),E=h("%parseInt%"),f=s(23020),l=s(5202),i=f("String.prototype.slice"),d=l(/^0b[01]+$/i),o=l(/^0o[0-7]+$/i),a=l(/^[-+]0x[0-9a-f]+$/i),m=l(new D("["+["\x85","\u200b","\ufffe"].join("")+"]","g")),_=s(36913);q.exports=function C(S){if("string"!=typeof S)throw new w("Assertion failed: `argument` is not a String");if(d(S))return y(E(i(S,2),2));if(o(S))return y(E(i(S,2),8));if(m(S)||a(S))return NaN;var N=_(S);return N!==S?C(N):y(S)}},12788:q=>{"use strict";q.exports=function(s){return!!s}},39463:(q,p,s)=>{"use strict";var h=s(81255),y=s(39737),D=s(91661),w=s(84217);q.exports=function(f){var l=h(f);return D(l)||0===l?0:w(l)?y(l):l}},51382:(q,p,s)=>{"use strict";var h=s(74985),y=s(39463);q.exports=function(w){var E=y(w);return E<=0?0:E>h?h:E}},81255:(q,p,s)=>{"use strict";var h=s(90258),y=s(46758),D=h("%Number%"),w=s(32081),E=s(56801),f=s(6465);q.exports=function(i){var d=w(i)?i:E(i,D);if("symbol"==typeof d)throw new y("Cannot convert a Symbol value to a number");if("bigint"==typeof d)throw new y("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof d?f(d):D(d)}},56801:(q,p,s)=>{"use strict";var h=s(31232);q.exports=function(D){return arguments.length>1?h(D,arguments[1]):h(D)}},46018:(q,p,s)=>{"use strict";var h=s(78368),y=s(46758),D=s(80035),w=s(12788),E=s(35867);q.exports=function(l){if("Object"!==D(l))throw new y("ToPropertyDescriptor requires an object");var i={};if(h(l,"enumerable")&&(i["[[Enumerable]]"]=w(l.enumerable)),h(l,"configurable")&&(i["[[Configurable]]"]=w(l.configurable)),h(l,"value")&&(i["[[Value]]"]=l.value),h(l,"writable")&&(i["[[Writable]]"]=w(l.writable)),h(l,"get")){var d=l.get;if(typeof d<"u"&&!E(d))throw new y("getter must be a function");i["[[Get]]"]=d}if(h(l,"set")){var o=l.set;if(typeof o<"u"&&!E(o))throw new y("setter must be a function");i["[[Set]]"]=o}if((h(i,"[[Get]]")||h(i,"[[Set]]"))&&(h(i,"[[Value]]")||h(i,"[[Writable]]")))throw new y("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return i}},88535:(q,p,s)=>{"use strict";var y=s(90258)("%String%"),D=s(46758);q.exports=function(E){if("symbol"==typeof E)throw new D("Cannot convert a Symbol value to a string");return y(E)}},80035:(q,p,s)=>{"use strict";var h=s(72408);q.exports=function(D){return"symbol"==typeof D?"Symbol":"bigint"==typeof D?"BigInt":h(D)}},15225:(q,p,s)=>{"use strict";var h=s(90258),y=s(46758),D=h("%String.fromCharCode%"),w=s(32270),E=s(24034);q.exports=function(l,i){if(!w(l)||!E(i))throw new y("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return D(l)+D(i)}},12045:q=>{"use strict";var p=Math.floor;q.exports=function(h){return"bigint"==typeof h?h:p(h)}},39737:(q,p,s)=>{"use strict";var h=s(12045),y=s(46758);q.exports=function(w){if("number"!=typeof w&&"bigint"!=typeof w)throw new y("argument must be a Number or a BigInt");var E=w<0?-h(-w):h(w);return 0===E?0:E}},72408:q=>{"use strict";q.exports=function(s){return null===s?"Null":typeof s>"u"?"Undefined":"function"==typeof s||"object"==typeof s?"Object":"number"==typeof s?"Number":"boolean"==typeof s?"Boolean":"string"==typeof s?"String":void 0}},29539:(q,p,s)=>{"use strict";q.exports=s(90258)},81396:(q,p,s)=>{"use strict";var h=s(35861),y=s(4570),D=h.hasArrayLengthDefineBug(),w=D&&s(31153),f=s(23020)("Object.prototype.propertyIsEnumerable");q.exports=function(i,d,o,a,v,b){if(!y){if(!i(b)||!b["[[Configurable]]"]||!b["[[Writable]]"]||v in a&&f(a,v)!==!!b["[[Enumerable]]"])return!1;var m=b["[[Value]]"];return a[v]=m,d(a[v],m)}return D&&"length"===v&&"[[Value]]"in b&&w(a)&&a.length!==b["[[Value]]"]?(a.length=b["[[Value]]"],a.length===b["[[Value]]"]):(y(a,v,o(b)),!0)}},31153:(q,p,s)=>{"use strict";var y=s(90258)("%Array%"),D=!y.isArray&&s(23020)("Object.prototype.toString");q.exports=y.isArray||function(E){return"[object Array]"===D(E)}},54810:q=>{"use strict";q.exports=function(s,h){for(var y=0;y<s.length;y+=1)h(s[y],y,s)}},4938:q=>{"use strict";q.exports=function(s){if(typeof s>"u")return s;var h={};return"[[Value]]"in s&&(h.value=s["[[Value]]"]),"[[Writable]]"in s&&(h.writable=!!s["[[Writable]]"]),"[[Get]]"in s&&(h.get=s["[[Get]]"]),"[[Set]]"in s&&(h.set=s["[[Set]]"]),"[[Enumerable]]"in s&&(h.enumerable=!!s["[[Enumerable]]"]),"[[Configurable]]"in s&&(h.configurable=!!s["[[Configurable]]"]),h}},84217:(q,p,s)=>{"use strict";var h=s(91661);q.exports=function(y){return("number"==typeof y||"bigint"==typeof y)&&!h(y)&&y!==1/0&&y!==-1/0}},34174:(q,p,s)=>{"use strict";var h=s(90258),y=h("%Math.abs%"),D=h("%Math.floor%"),w=s(91661),E=s(84217);q.exports=function(l){if("number"!=typeof l||w(l)||!E(l))return!1;var i=y(l);return D(i)===i}},32270:q=>{"use strict";q.exports=function(s){return"number"==typeof s&&s>=55296&&s<=56319}},91661:q=>{"use strict";q.exports=Number.isNaN||function(s){return s!=s}},32081:q=>{"use strict";q.exports=function(s){return null===s||"function"!=typeof s&&"object"!=typeof s}},24034:q=>{"use strict";q.exports=function(s){return"number"==typeof s&&s>=56320&&s<=57343}},74985:q=>{"use strict";q.exports=Number.MAX_SAFE_INTEGER||9007199254740991},70492:(q,p,s)=>{"use strict";var h=s(46758),y=s(78368),D={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};q.exports=function(E){if(!E||"object"!=typeof E)return!1;for(var f in E)if(y(E,f)&&!D[f])return!1;var l=y(E,"[[Value]]")||y(E,"[[Writable]]"),i=y(E,"[[Get]]")||y(E,"[[Set]]");if(l&&i)throw new h("Property Descriptors may not be both accessor and data descriptors");return!0}},75324:(q,p,s)=>{"use strict";s.r(p),s.d(p,{compare:()=>_,concat:()=>B,equals:()=>k,fromString:()=>$,toString:()=>z,xor:()=>fe});var h={};s.r(h),s.d(h,{identity:()=>pe});var y={};s.r(y),s.d(y,{base2:()=>Ee});var D={};s.r(D),s.d(D,{base8:()=>he});var w={};s.r(w),s.d(w,{base10:()=>De});var E={};s.r(E),s.d(E,{base16:()=>Ge,base16upper:()=>Pe});var f={};s.r(f),s.d(f,{base32:()=>Oe,base32hex:()=>Ae,base32hexpad:()=>Fe,base32hexpadupper:()=>Me,base32hexupper:()=>Re,base32pad:()=>be,base32padupper:()=>ge,base32upper:()=>me,base32z:()=>Le});var l={};s.r(l),s.d(l,{base36:()=>Ue,base36upper:()=>Qe});var i={};s.r(i),s.d(i,{base58btc:()=>We,base58flickr:()=>Je});var d={};s.r(d),s.d(d,{base64:()=>at,base64pad:()=>ee,base64url:()=>L,base64urlpad:()=>P});var o={};s.r(o),s.d(o,{base256emoji:()=>Be});var a={};s.r(a),s.d(a,{sha256:()=>Ai,sha512:()=>Di});var v={};s.r(v),s.d(v,{identity:()=>xi});var b={};s.r(b),s.d(b,{code:()=>li,decode:()=>Fi,encode:()=>Oi,name:()=>dr});var m={};function _(re,ae){for(let ve=0;ve<re.byteLength;ve++){if(re[ve]<ae[ve])return-1;if(re[ve]>ae[ve])return 1}return re.byteLength>ae.byteLength?1:re.byteLength<ae.byteLength?-1:0}function C(re){return null!=globalThis.Buffer?new Uint8Array(re.buffer,re.byteOffset,re.byteLength):re}function N(re=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?C(globalThis.Buffer.allocUnsafe(re)):new Uint8Array(re)}function B(re,ae){ae||(ae=re.reduce((Ke,rt)=>Ke+rt.length,0));const ve=N(ae);let Te=0;for(const Ke of re)ve.set(Ke,Te),Te+=Ke.length;return C(ve)}function k(re,ae){if(re===ae)return!0;if(re.byteLength!==ae.byteLength)return!1;for(let ve=0;ve<re.byteLength;ve++)if(re[ve]!==ae[ve])return!1;return!0}s.r(m),s.d(m,{code:()=>di,decode:()=>Ii,encode:()=>fi,name:()=>Ti});const X=(new Uint8Array(0),re=>{if(re instanceof Uint8Array&&"Uint8Array"===re.constructor.name)return re;if(re instanceof ArrayBuffer)return new Uint8Array(re);if(ArrayBuffer.isView(re))return new Uint8Array(re.buffer,re.byteOffset,re.byteLength);throw new Error("Unknown type, must be binary type")});class Y{constructor(ae,ve,Te){this.name=ae,this.prefix=ve,this.baseEncode=Te}encode(ae){if(ae instanceof Uint8Array)return`${this.prefix}${this.baseEncode(ae)}`;throw Error("Unknown type, must be binary type")}}class ce{constructor(ae,ve,Te){if(this.name=ae,this.prefix=ve,void 0===ve.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=ve.codePointAt(0),this.baseDecode=Te}decode(ae){if("string"==typeof ae){if(ae.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(ae)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(ae.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(ae){return $e(this,ae)}}class we{constructor(ae){this.decoders=ae}or(ae){return $e(this,ae)}decode(ae){const Te=this.decoders[ae[0]];if(Te)return Te.decode(ae);throw RangeError(`Unable to decode multibase string ${JSON.stringify(ae)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const $e=(re,ae)=>new we({...re.decoders||{[re.prefix]:re},...ae.decoders||{[ae.prefix]:ae}});class g{constructor(ae,ve,Te,Ke){this.name=ae,this.prefix=ve,this.baseEncode=Te,this.baseDecode=Ke,this.encoder=new Y(ae,ve,Te),this.decoder=new ce(ae,ve,Ke)}encode(ae){return this.encoder.encode(ae)}decode(ae){return this.decoder.decode(ae)}}const T=({name:re,prefix:ae,encode:ve,decode:Te})=>new g(re,ae,ve,Te),W=({prefix:re,name:ae,alphabet:ve})=>{const{encode:Te,decode:Ke}=function F(re,ae){if(re.length>=255)throw new TypeError("Alphabet too long");for(var ve=new Uint8Array(256),Te=0;Te<ve.length;Te++)ve[Te]=255;for(var Ke=0;Ke<re.length;Ke++){var rt=re.charAt(Ke),ht=rt.charCodeAt(0);if(255!==ve[ht])throw new TypeError(rt+" is ambiguous");ve[ht]=Ke}var Et=re.length,St=re.charAt(0),fr=Math.log(Et)/Math.log(256),Qt=Math.log(256)/Math.log(Et);function Jn(It){if("string"!=typeof It)throw new TypeError("Expected String");if(0===It.length)return new Uint8Array;var pr=0;if(" "!==It[pr]){for(var dn=0,Ar=0;It[pr]===St;)dn++,pr++;for(var Br=(It.length-pr)*fr+1>>>0,Tr=new Uint8Array(Br);It[pr];){var Er=ve[It.charCodeAt(pr)];if(255===Er)return;for(var Ir=0,Zr=Br-1;(0!==Er||Ir<Ar)&&-1!==Zr;Zr--,Ir++)Tr[Zr]=(Er+=Et*Tr[Zr]>>>0)%256>>>0,Er=Er/256>>>0;if(0!==Er)throw new Error("Non-zero carry");Ar=Ir,pr++}if(" "!==It[pr]){for(var Dr=Br-Ar;Dr!==Br&&0===Tr[Dr];)Dr++;for(var Kr=new Uint8Array(dn+(Br-Dr)),hi=dn;Dr!==Br;)Kr[hi++]=Tr[Dr++];return Kr}}}return{encode:function xn(It){if(It instanceof Uint8Array||(ArrayBuffer.isView(It)?It=new Uint8Array(It.buffer,It.byteOffset,It.byteLength):Array.isArray(It)&&(It=Uint8Array.from(It))),!(It instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===It.length)return"";for(var pr=0,dn=0,Ar=0,Br=It.length;Ar!==Br&&0===It[Ar];)Ar++,pr++;for(var Tr=(Br-Ar)*Qt+1>>>0,Er=new Uint8Array(Tr);Ar!==Br;){for(var Ir=It[Ar],Zr=0,Dr=Tr-1;(0!==Ir||Zr<dn)&&-1!==Dr;Dr--,Zr++)Er[Dr]=(Ir+=256*Er[Dr]>>>0)%Et>>>0,Ir=Ir/Et>>>0;if(0!==Ir)throw new Error("Non-zero carry");dn=Zr,Ar++}for(var Kr=Tr-dn;Kr!==Tr&&0===Er[Kr];)Kr++;for(var hi=St.repeat(pr);Kr<Tr;++Kr)hi+=re.charAt(Er[Kr]);return hi},decodeUnsafe:Jn,decode:function Ni(It){var pr=Jn(It);if(pr)return pr;throw new Error(`Non-${ae} character`)}}}(ve,ae);return T({prefix:re,name:ae,encode:Te,decode:rt=>X(Ke(rt))})},le=({name:re,prefix:ae,bitsPerChar:ve,alphabet:Te})=>T({prefix:ae,name:re,encode:Ke=>((re,ae,ve)=>{const Te="="===ae[ae.length-1],Ke=(1<<ve)-1;let rt="",ht=0,Et=0;for(let St=0;St<re.length;++St)for(Et=Et<<8|re[St],ht+=8;ht>ve;)ht-=ve,rt+=ae[Ke&Et>>ht];if(ht&&(rt+=ae[Ke&Et<<ve-ht]),Te)for(;rt.length*ve&7;)rt+="=";return rt})(Ke,Te,ve),decode:Ke=>((re,ae,ve,Te)=>{const Ke={};for(let Qt=0;Qt<ae.length;++Qt)Ke[ae[Qt]]=Qt;let rt=re.length;for(;"="===re[rt-1];)--rt;const ht=new Uint8Array(rt*ve/8|0);let Et=0,St=0,fr=0;for(let Qt=0;Qt<rt;++Qt){const xn=Ke[re[Qt]];if(void 0===xn)throw new SyntaxError(`Non-${Te} character`);St=St<<ve|xn,Et+=ve,Et>=8&&(Et-=8,ht[fr++]=255&St>>Et)}if(Et>=ve||255&St<<8-Et)throw new SyntaxError("Unexpected end of data");return ht})(Ke,Te,ve,re)}),pe=T({prefix:"\0",name:"identity",encode:re=>(re=>(new TextDecoder).decode(re))(re),decode:re=>(re=>(new TextEncoder).encode(re))(re)}),Ee=le({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),he=le({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),De=W({prefix:"9",name:"base10",alphabet:"0123456789"}),Ge=le({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Pe=le({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Oe=le({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),me=le({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),be=le({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ge=le({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ae=le({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Re=le({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Fe=le({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Me=le({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Le=le({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ue=W({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Qe=W({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),We=W({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Je=W({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),at=le({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ee=le({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),L=le({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),P=le({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Z=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),_e=Z.reduce((re,ae,ve)=>(re[ve]=ae,re),[]),Ce=Z.reduce((re,ae,ve)=>(re[ae.codePointAt(0)]=ve,re),[]),Be=T({prefix:"\u{1f680}",name:"base256emoji",encode:function je(re){return re.reduce((ae,ve)=>ae+_e[ve],"")},decode:function xe(re){const ae=[];for(const ve of re){const Te=Ce[ve.codePointAt(0)];if(void 0===Te)throw new Error(`Non-base256emoji character: ${ve}`);ae.push(Te)}return new Uint8Array(ae)}});var ut=s(10467),tt=128,Bt=-128,Ft=Math.pow(2,31),ie=Math.pow(2,7),de=Math.pow(2,14),Se=Math.pow(2,21),Ve=Math.pow(2,28),He=Math.pow(2,35),Ze=Math.pow(2,42),ct=Math.pow(2,49),bt=Math.pow(2,56),Dt=Math.pow(2,63);const jt_encode=function wt(re,ae,ve){ae=ae||[];for(var Te=ve=ve||0;re>=Ft;)ae[ve++]=255&re|tt,re/=128;for(;re&Bt;)ae[ve++]=255&re|tt,re>>>=7;return ae[ve]=0|re,wt.bytes=ve-Te+1,ae},jt_encodingLength=function(re){return re<ie?1:re<de?2:re<Se?3:re<Ve?4:re<He?5:re<Ze?6:re<ct?7:re<bt?8:re<Dt?9:10},on=(re,ae,ve=0)=>(jt_encode(re,ae,ve),ae),cr=re=>jt_encodingLength(re),Ht=(re,ae)=>{const ve=ae.byteLength,Te=cr(re),Ke=Te+cr(ve),rt=new Uint8Array(Ke+ve);return on(re,rt,0),on(ve,rt,Te),rt.set(ae,Ke),new an(re,ve,ae,rt)};class an{constructor(ae,ve,Te,Ke){this.code=ae,this.size=ve,this.digest=Te,this.bytes=Ke}}const Hr=({name:re,code:ae,encode:ve})=>new un(re,ae,ve);class un{constructor(ae,ve,Te){this.name=ae,this.code=ve,this.encode=Te}digest(ae){if(ae instanceof Uint8Array){const ve=this.encode(ae);return ve instanceof Uint8Array?Ht(this.code,ve):ve.then(Te=>Ht(this.code,Te))}throw Error("Unknown type, must be binary type")}}const ui=re=>function(){var ae=(0,ut.A)(function*(ve){return new Uint8Array(yield crypto.subtle.digest(re,ve))});return function(ve){return ae.apply(this,arguments)}}(),Ai=Hr({name:"sha2-256",code:18,encode:ui("SHA-256")}),Di=Hr({name:"sha2-512",code:19,encode:ui("SHA-512")}),Pi=X,xi={code:0,name:"identity",encode:Pi,digest:re=>Ht(0,Pi(re))},dr="raw",li=85,Oi=re=>X(re),Fi=re=>X(re),Bi=new TextEncoder,cn=new TextDecoder,Ti="json",di=512,fi=re=>Bi.encode(JSON.stringify(re)),Ii=re=>JSON.parse(cn.decode(re));Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Gt={...h,...y,...D,...w,...E,...f,...l,...i,...d,...o};function Ri(re,ae,ve,Te){return{name:re,prefix:ae,encoder:{name:re,prefix:ae,encode:ve},decoder:{decode:Te}}}const wr=Ri("utf8","u",re=>"u"+new TextDecoder("utf8").decode(re),re=>(new TextEncoder).encode(re.substring(1))),ln=Ri("ascii","a",re=>{let ae="a";for(let ve=0;ve<re.length;ve++)ae+=String.fromCharCode(re[ve]);return ae},re=>{const ae=N((re=re.substring(1)).length);for(let ve=0;ve<re.length;ve++)ae[ve]=re.charCodeAt(ve);return ae}),Pn={utf8:wr,"utf-8":wr,hex:Gt.base16,latin1:ln,ascii:ln,binary:ln,...Gt};function $(re,ae="utf8"){const ve=Pn[ae];if(!ve)throw new Error(`Unsupported encoding "${ae}"`);return"utf8"!==ae&&"utf-8"!==ae||null==globalThis.Buffer||null==globalThis.Buffer.from?ve.decoder.decode(`${ve.prefix}${re}`):C(globalThis.Buffer.from(re,"utf-8"))}function z(re,ae="utf8"){const ve=Pn[ae];if(!ve)throw new Error(`Unsupported encoding "${ae}"`);return"utf8"!==ae&&"utf-8"!==ae||null==globalThis.Buffer||null==globalThis.Buffer.from?ve.encoder.encode(re).substring(1):globalThis.Buffer.from(re.buffer,re.byteOffset,re.byteLength).toString("utf8")}function fe(re,ae){if(re.length!==ae.length)throw new Error("Inputs should have the same length");const ve=N(re.length);for(let Te=0;Te<re.length;Te++)ve[Te]=re[Te]^ae[Te];return C(ve)}},37413:(q,p,s)=>{"use strict";s.d(p,{l6:()=>So}),s(52191),new Uint8Array(0);class m{name;prefix;baseEncode;constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class _{name;prefix;baseDecode;prefixCodePoint;constructor(t,e,n){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return S(this,t)}}class C{decoders;constructor(t){this.decoders=t}or(t){return S(this,t)}decode(t){const n=this.decoders[t[0]];if(null!=n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function S(r,t){return new C({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class N{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,e,n,u){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=u,this.encoder=new m(t,e,n),this.decoder=new _(t,e,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function B({name:r,prefix:t,encode:e,decode:n}){return new N(r,t,e,n)}function k({name:r,prefix:t,alphabet:e}){const{encode:n,decode:u}=function o(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var u=0;u<r.length;u++){var c=r.charAt(u),A=c.charCodeAt(0);if(255!==e[A])throw new TypeError(c+" is ambiguous");e[A]=u}var j=r.length,te=r.charAt(0),M=Math.log(j)/Math.log(256),O=Math.log(256)/Math.log(j);function Ie(Ne){if("string"!=typeof Ne)throw new TypeError("Expected String");if(0===Ne.length)return new Uint8Array;var Xe=0;if(" "!==Ne[Xe]){for(var ot=0,it=0;Ne[Xe]===te;)ot++,Xe++;for(var nt=(Ne.length-Xe)*M+1>>>0,Ye=new Uint8Array(nt);Ne[Xe];){var ze=e[Ne.charCodeAt(Xe)];if(255===ze)return;for(var st=0,et=nt-1;(0!==ze||st<it)&&-1!==et;et--,st++)Ye[et]=(ze+=j*Ye[et]>>>0)%256>>>0,ze=ze/256>>>0;if(0!==ze)throw new Error("Non-zero carry");it=st,Xe++}if(" "!==Ne[Xe]){for(var qe=nt-it;qe!==nt&&0===Ye[qe];)qe++;for(var dt=new Uint8Array(ot+(nt-qe)),yt=ot;qe!==nt;)dt[yt++]=Ye[qe++];return dt}}}return{encode:function se(Ne){if(Ne instanceof Uint8Array||(ArrayBuffer.isView(Ne)?Ne=new Uint8Array(Ne.buffer,Ne.byteOffset,Ne.byteLength):Array.isArray(Ne)&&(Ne=Uint8Array.from(Ne))),!(Ne instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ne.length)return"";for(var Xe=0,ot=0,it=0,nt=Ne.length;it!==nt&&0===Ne[it];)it++,Xe++;for(var Ye=(nt-it)*O+1>>>0,ze=new Uint8Array(Ye);it!==nt;){for(var st=Ne[it],et=0,qe=Ye-1;(0!==st||et<ot)&&-1!==qe;qe--,et++)ze[qe]=(st+=256*ze[qe]>>>0)%j>>>0,st=st/j>>>0;if(0!==st)throw new Error("Non-zero carry");ot=et,it++}for(var dt=Ye-ot;dt!==Ye&&0===ze[dt];)dt++;for(var yt=te.repeat(Xe);dt<Ye;++dt)yt+=r.charAt(ze[dt]);return yt},decodeUnsafe:Ie,decode:function ke(Ne){var Xe=Ie(Ne);if(Xe)return Xe;throw new Error(`Non-${t} character`)}}}(e,r);return B({prefix:t,name:r,encode:n,decode:c=>function f(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(u(c))})}function H({name:r,prefix:t,bitsPerChar:e,alphabet:n}){return B({prefix:t,name:r,encode:u=>function I(r,t,e){const n="="===t[t.length-1],u=(1<<e)-1;let c="",A=0,j=0;for(let te=0;te<r.length;++te)for(j=j<<8|r[te],A+=8;A>e;)A-=e,c+=t[u&j>>A];if(0!==A&&(c+=t[u&j<<e-A]),n)for(;c.length*e&7;)c+="=";return c}(u,n,e),decode:u=>function F(r,t,e,n){const u={};for(let O=0;O<t.length;++O)u[t[O]]=O;let c=r.length;for(;"="===r[c-1];)--c;const A=new Uint8Array(c*e/8|0);let j=0,te=0,M=0;for(let O=0;O<c;++O){const se=u[r[O]];if(void 0===se)throw new SyntaxError(`Non-${n} character`);te=te<<e|se,j+=e,j>=8&&(j-=8,A[M++]=255&te>>j)}if(j>=e||255&te<<8-j)throw new SyntaxError("Unexpected end of data");return A}(u,n,e,r)})}H({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),H({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),H({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),H({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),H({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),H({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),H({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});const U=H({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Y=k({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),g=(k({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),H({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),H({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),H({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));function le(r){const e=Object.prototype.toString.call(r).match(/\s([a-zA-Z0-9]+)/),[n,u]=e;return u}H({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var pe=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})},Ee=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(c){e[c]=r[c]&&function(A){return new Promise(function(j,te){!function u(c,A,j,te){Promise.resolve(te).then(function(M){c({value:M,done:j})},A)}(j,te,(A=r[c](A)).done,A.value)})}}};const he=new TextEncoder,De=new TextDecoder;class Ge{constructor(t,e){this.data=t,this.format=e}static arrayBuffer(t){return new Ge(t,"ArrayBuffer")}static asyncIterable(t){if(!function K(r){return"object"==typeof r&&null!==r&&"function"==typeof r[Symbol.asyncIterator]}(t))throw new TypeError("Input must be of type AsyncIterable.");return new Ge(t,"AsyncIterable")}static base32Z(t){return new Ge(t,"Base32Z")}static base58Btc(t){return new Ge(t,"Base58Btc")}static base64Url(t){return new Ge(t,"Base64Url")}static bufferSource(t){return new Ge(t,"BufferSource")}static hex(t){if("string"!=typeof t)throw new TypeError("Hex input must be a string.");if(t.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new Ge(t,"Hex")}static multibase(t){return new Ge(t,"Multibase")}static object(t){return new Ge(t,"Object")}static string(t){return new Ge(t,"String")}static uint8Array(t){return new Ge(t,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return Y.baseDecode(this.data).buffer;case"Base64Url":return g.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===le(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function W(r){return 0!==r.byteOffset||r.byteLength!==r.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return pe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return U.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const t=new Uint8Array(this.data);return Y.baseEncode(t)}case"Multibase":return this.data.substring(1);case"Uint8Array":return Y.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const t=new Uint8Array(this.data);return g.baseEncode(t)}case"BufferSource":{const t=this.toUint8Array();return g.baseEncode(t)}case"Object":{const t=JSON.stringify(this.data),e=he.encode(t);return g.baseEncode(e)}case"String":{const t=he.encode(this.data);return g.baseEncode(t)}case"Uint8Array":return g.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){return pe(this,void 0,void 0,function*(){var t,e,n;if("AsyncIterable"===this.format){const te=[];try{for(var j,c=!0,A=Ee(this.data);!(t=(j=yield A.next()).done);c=!0)c=!1,te.push(j.value)}catch(O){e={error:O}}finally{try{!c&&!t&&(n=A.return)&&(yield n.call(A))}finally{if(e)throw e.error}}return new Blob(te)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const t=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const e=this.toUint8Array();return Ge.uint8Array(e).toHex()}case"Base64Url":{const e=this.toUint8Array();return Ge.uint8Array(e).toHex()}case"Uint8Array":{let e="";for(let n=0;n<this.data.length;n++)e+=t[this.data[n]];return e}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const t=g.baseDecode(this.data),e=De.decode(t);return JSON.parse(e)}case"String":return JSON.parse(this.data);case"Uint8Array":{const t=De.decode(this.data);return JSON.parse(t)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return pe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const t=yield this.toStringAsync();return JSON.parse(t)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return De.decode(this.data);case"Base64Url":{const t=g.baseDecode(this.data);return De.decode(t)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){return pe(this,void 0,void 0,function*(){var t,e,n,u;if("AsyncIterable"===this.format){let te="";try{for(var j,c=!0,A=Ee(this.data);!(t=(j=yield A.next()).done);c=!0)c=!1,te+="string"==typeof(u=j.value)?u:De.decode(u,{stream:!0})}catch(M){e={error:M}}finally{try{!c&&!t&&(n=A.return)&&(yield n.call(A))}finally{if(e)throw e.error}}return te+=De.decode(void 0,{stream:!1}),te}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return U.baseDecode(this.data);case"Base58Btc":return Y.baseDecode(this.data);case"Base64Url":return g.baseDecode(this.data);case"BufferSource":{const t=le(this.data);if("Uint8Array"===t)return this.data;if("ArrayBuffer"===t)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const t=new Uint8Array(this.data.length/2);for(let e=0;e<this.data.length;e+=2){const n=parseInt(this.data.substring(e,e+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");t[e/2]=n}return t}case"Object":{const t=JSON.stringify(this.data);return he.encode(t)}case"String":return he.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return pe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const t=yield this.toArrayBufferAsync();return new Uint8Array(t)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var Oe=128,be=-128,ge=Math.pow(2,31),Fe=128,Me=127,Ue=Math.pow(2,7),Qe=Math.pow(2,14),We=Math.pow(2,21),Je=Math.pow(2,28),at=Math.pow(2,35),ee=Math.pow(2,42),L=Math.pow(2,49),P=Math.pow(2,56),Z=Math.pow(2,63);const xe={encode:function Ae(r,t,e){t=t||[];for(var n=e=e||0;r>=ge;)t[e++]=255&r|Oe,r/=128;for(;r&be;)t[e++]=255&r|Oe,r>>>=7;return t[e]=0|r,Ae.bytes=e-n+1,t},decode:function Le(r,n){var A,e=0,u=0,c=n=n||0,j=r.length;do{if(c>=j)throw Le.bytes=0,new RangeError("Could not decode varint");A=r[c++],e+=u<28?(A&Me)<<u:(A&Me)*Math.pow(2,u),u+=7}while(A>=Fe);return Le.bytes=c-n,e},encodingLength:function(r){return r<Ue?1:r<Qe?2:r<We?3:r<Je?4:r<at?5:r<ee?6:r<L?7:r<P?8:r<Z?9:10}};function Be(r,t=0){return[xe.decode(r,t),xe.decode.bytes]}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class Ct{static addPrefix(t){var e;let{code:n,data:u,name:c}=t;if(!(c?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=Ct.codeToName.has(n)?n:Ct.nameToCode.get(c),void 0===n)throw new Error(`Unsupported multicodec: ${null!==(e=t.name)&&void 0!==e?e:t.code}`);const A=function lt(r){return xe.encodingLength(r)}(n),j=new Uint8Array(A+u.byteLength);return j.set(u,A),function ut(r,t,e=0){return xe.encode(r,t,e),t}(n,j),j}static getCodeFromData(t){const{prefixedData:e}=t,[n,u]=Be(e);return n}static getCodeFromName(t){const{name:e}=t,n=Ct.nameToCode.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static getNameFromCode(t){const{code:e}=t,n=Ct.codeToName.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static registerCodec(t){Ct.codeToName.set(t.code,t.name),Ct.nameToCode.set(t.name,t.code)}static removePrefix(t){const{prefixedData:e}=t,[n,u]=Be(e),c=Ct.codeToName.get(n);if(void 0===c)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:e.slice(u),name:c}}}Ct.codeToName=new Map,Ct.nameToCode=new Map,Ct.registerCodec({code:237,name:"ed25519-pub"}),Ct.registerCodec({code:4864,name:"ed25519-priv"}),Ct.registerCodec({code:236,name:"x25519-pub"}),Ct.registerCodec({code:4866,name:"x25519-priv"}),Ct.registerCodec({code:231,name:"secp256k1-pub"}),Ct.registerCodec({code:4865,name:"secp256k1-priv"}),s(51818),s(57963);const dr=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class Bi{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class cn{constructor(t,e,n){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return di(this,t)}}class Ti{constructor(t){this.decoders=t}or(t){return di(this,t)}decode(t){const n=this.decoders[t[0]];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const di=(r,t)=>new Ti({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class fi{constructor(t,e,n,u){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=u,this.encoder=new Bi(t,e,n),this.decoder=new cn(t,e,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Ii=({name:r,prefix:t,encode:e,decode:n})=>new fi(r,t,e,n),Mt=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:u}=function ui(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var u=0;u<r.length;u++){var c=r.charAt(u),A=c.charCodeAt(0);if(255!==e[A])throw new TypeError(c+" is ambiguous");e[A]=u}var j=r.length,te=r.charAt(0),M=Math.log(j)/Math.log(256),O=Math.log(256)/Math.log(j);function Ie(Ne){if("string"!=typeof Ne)throw new TypeError("Expected String");if(0===Ne.length)return new Uint8Array;var Xe=0;if(" "!==Ne[Xe]){for(var ot=0,it=0;Ne[Xe]===te;)ot++,Xe++;for(var nt=(Ne.length-Xe)*M+1>>>0,Ye=new Uint8Array(nt);Ne[Xe];){var ze=e[Ne.charCodeAt(Xe)];if(255===ze)return;for(var st=0,et=nt-1;(0!==ze||st<it)&&-1!==et;et--,st++)Ye[et]=(ze+=j*Ye[et]>>>0)%256>>>0,ze=ze/256>>>0;if(0!==ze)throw new Error("Non-zero carry");it=st,Xe++}if(" "!==Ne[Xe]){for(var qe=nt-it;qe!==nt&&0===Ye[qe];)qe++;for(var dt=new Uint8Array(ot+(nt-qe)),yt=ot;qe!==nt;)dt[yt++]=Ye[qe++];return dt}}}return{encode:function se(Ne){if(Ne instanceof Uint8Array||(ArrayBuffer.isView(Ne)?Ne=new Uint8Array(Ne.buffer,Ne.byteOffset,Ne.byteLength):Array.isArray(Ne)&&(Ne=Uint8Array.from(Ne))),!(Ne instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ne.length)return"";for(var Xe=0,ot=0,it=0,nt=Ne.length;it!==nt&&0===Ne[it];)it++,Xe++;for(var Ye=(nt-it)*O+1>>>0,ze=new Uint8Array(Ye);it!==nt;){for(var st=Ne[it],et=0,qe=Ye-1;(0!==st||et<ot)&&-1!==qe;qe--,et++)ze[qe]=(st+=256*ze[qe]>>>0)%j>>>0,st=st/j>>>0;if(0!==st)throw new Error("Non-zero carry");ot=et,it++}for(var dt=Ye-ot;dt!==Ye&&0===ze[dt];)dt++;for(var yt=te.repeat(Xe);dt<Ye;++dt)yt+=r.charAt(ze[dt]);return yt},decodeUnsafe:Ie,decode:function ke(Ne){var Xe=Ie(Ne);if(Xe)return Xe;throw new Error(`Non-${t} character`)}}}(e,t);return Ii({prefix:r,name:t,encode:n,decode:c=>dr(u(c))})},qt=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>Ii({prefix:t,name:r,encode:u=>((r,t,e)=>{const n="="===t[t.length-1],u=(1<<e)-1;let c="",A=0,j=0;for(let te=0;te<r.length;++te)for(j=j<<8|r[te],A+=8;A>e;)A-=e,c+=t[u&j>>A];if(A&&(c+=t[u&j<<e-A]),n)for(;c.length*e&7;)c+="=";return c})(u,n,e),decode:u=>((r,t,e,n)=>{const u={};for(let O=0;O<t.length;++O)u[t[O]]=O;let c=r.length;for(;"="===r[c-1];)--c;const A=new Uint8Array(c*e/8|0);let j=0,te=0,M=0;for(let O=0;O<c;++O){const se=u[r[O]];if(void 0===se)throw new SyntaxError(`Non-${n} character`);te=te<<e|se,j+=e,j>=8&&(j-=8,A[M++]=255&te>>j)}if(j>=e||255&te<<8-j)throw new SyntaxError("Unexpected end of data");return A})(u,n,e,r)}),pi=(qt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),qt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),qt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),qt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),qt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),qt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),qt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})),Gt=Mt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),wr=(Mt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),qt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),qt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));function z(r){const e=Object.prototype.toString.call(r).match(/\s([a-zA-Z0-9]+)/),[n,u]=e;return u}qt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var fe=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})},re=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(c){e[c]=r[c]&&function(A){return new Promise(function(j,te){!function u(c,A,j,te){Promise.resolve(te).then(function(M){c({value:M,done:j})},A)}(j,te,(A=r[c](A)).done,A.value)})}}};const ae=new TextEncoder,ve=new TextDecoder;class Te{constructor(t,e){this.data=t,this.format=e}static arrayBuffer(t){return new Te(t,"ArrayBuffer")}static asyncIterable(t){if(!function Pn(r){return"object"==typeof r&&null!==r&&"function"==typeof r[Symbol.asyncIterator]}(t))throw new TypeError("Input must be of type AsyncIterable.");return new Te(t,"AsyncIterable")}static base32Z(t){return new Te(t,"Base32Z")}static base58Btc(t){return new Te(t,"Base58Btc")}static base64Url(t){return new Te(t,"Base64Url")}static bufferSource(t){return new Te(t,"BufferSource")}static hex(t){if("string"!=typeof t)throw new TypeError("Hex input must be a string.");if(t.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new Te(t,"Hex")}static multibase(t){return new Te(t,"Multibase")}static object(t){return new Te(t,"Object")}static string(t){return new Te(t,"String")}static uint8Array(t){return new Te(t,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return Gt.baseDecode(this.data).buffer;case"Base64Url":return wr.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===z(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function Vt(r){return 0!==r.byteOffset||r.byteLength!==r.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return fe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return pi.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const t=new Uint8Array(this.data);return Gt.baseEncode(t)}case"Multibase":return this.data.substring(1);case"Uint8Array":return Gt.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const t=new Uint8Array(this.data);return wr.baseEncode(t)}case"BufferSource":{const t=this.toUint8Array();return wr.baseEncode(t)}case"Object":{const t=JSON.stringify(this.data),e=ae.encode(t);return wr.baseEncode(e)}case"String":{const t=ae.encode(this.data);return wr.baseEncode(t)}case"Uint8Array":return wr.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var t,e,n;return fe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const te=[];try{for(var j,c=!0,A=re(this.data);j=yield A.next(),!(t=j.done);c=!0)c=!1,te.push(j.value)}catch(O){e={error:O}}finally{try{!c&&!t&&(n=A.return)&&(yield n.call(A))}finally{if(e)throw e.error}}return new Blob(te)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const t=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const e=this.toUint8Array();return Te.uint8Array(e).toHex()}case"Base64Url":{const e=this.toUint8Array();return Te.uint8Array(e).toHex()}case"Uint8Array":{let e="";for(let n=0;n<this.data.length;n++)e+=t[this.data[n]];return e}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const t=wr.baseDecode(this.data),e=ve.decode(t);return JSON.parse(e)}case"String":return JSON.parse(this.data);case"Uint8Array":{const t=ve.decode(this.data);return JSON.parse(t)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return fe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const t=yield this.toStringAsync();return JSON.parse(t)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return ve.decode(this.data);case"Base64Url":{const t=wr.baseDecode(this.data);return ve.decode(t)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var t,e,n,u;return fe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let te="";try{for(var j,c=!0,A=re(this.data);j=yield A.next(),!(t=j.done);c=!0)c=!1,te+="string"==typeof(u=j.value)?u:ve.decode(u,{stream:!0})}catch(M){e={error:M}}finally{try{!c&&!t&&(n=A.return)&&(yield n.call(A))}finally{if(e)throw e.error}}return te+=ve.decode(void 0,{stream:!1}),te}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return pi.baseDecode(this.data);case"Base58Btc":return Gt.baseDecode(this.data);case"Base64Url":return wr.baseDecode(this.data);case"BufferSource":{const t=z(this.data);if("Uint8Array"===t)return this.data;if("ArrayBuffer"===t)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const t=new Uint8Array(this.data.length/2);for(let e=0;e<this.data.length;e+=2){const n=parseInt(this.data.substring(e,e+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");t[e/2]=n}return t}case"Object":{const t=JSON.stringify(this.data);return ae.encode(t)}case"String":return ae.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return fe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const t=yield this.toArrayBufferAsync();return new Uint8Array(t)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var rt=128,Et=-128,St=Math.pow(2,31),xn=128,Jn=127,It=Math.pow(2,7),pr=Math.pow(2,14),dn=Math.pow(2,21),Ar=Math.pow(2,28),Br=Math.pow(2,35),Tr=Math.pow(2,42),Er=Math.pow(2,49),Ir=Math.pow(2,56),Zr=Math.pow(2,63);const Ws={encode:function fr(r,t,e){t=t||[];for(var n=e=e||0;r>=St;)t[e++]=255&r|rt,r/=128;for(;r&Et;)t[e++]=255&r|rt,r>>>=7;return t[e]=0|r,fr.bytes=e-n+1,t},decode:function Ni(r,n){var A,e=0,u=0,c=n=n||0,j=r.length;do{if(c>=j)throw Ni.bytes=0,new RangeError("Could not decode varint");A=r[c++],e+=u<28?(A&Jn)<<u:(A&Jn)*Math.pow(2,u),u+=7}while(A>=xn);return Ni.bytes=c-n,e},encodingLength:function(r){return r<It?1:r<pr?2:r<dn?3:r<Ar?4:r<Br?5:r<Tr?6:r<Er?7:r<Ir?8:r<Zr?9:10}},Mi=(r,t=0)=>[Ws.decode(r,t),Ws.decode.bytes];Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class hr{static addPrefix(t){var e;let{code:n,data:u,name:c}=t;if(!(c?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=hr.codeToName.has(n)?n:hr.nameToCode.get(c),void 0===n)throw new Error(`Unsupported multicodec: ${null!==(e=t.name)&&void 0!==e?e:t.code}`);const A=Ws.encodingLength(n),j=new Uint8Array(A+u.byteLength);return j.set(u,A),((r,t,e=0)=>{Ws.encode(r,t,e)})(n,j),j}static getCodeFromData(t){const{prefixedData:e}=t,[n,u]=Mi(e);return n}static getCodeFromName(t){const{name:e}=t,n=hr.nameToCode.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static getNameFromCode(t){const{code:e}=t,n=hr.codeToName.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static registerCodec(t){hr.codeToName.set(t.code,t.name),hr.nameToCode.set(t.name,t.code)}static removePrefix(t){const{prefixedData:e}=t,[n,u]=Mi(e),c=hr.codeToName.get(n);if(void 0===c)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:e.slice(u),name:c}}}function qa(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&qa(r[t])})}hr.codeToName=new Map,hr.nameToCode=new Map,hr.registerCodec({code:237,name:"ed25519-pub"}),hr.registerCodec({code:4864,name:"ed25519-priv"}),hr.registerCodec({code:236,name:"x25519-pub"}),hr.registerCodec({code:4866,name:"x25519-priv"}),hr.registerCodec({code:231,name:"secp256k1-pub"}),hr.registerCodec({code:4865,name:"secp256k1-priv"}),s(95635);var jr=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class Cl{constructor(){this.store=new Map}clear(){return jr(this,void 0,void 0,function*(){this.store.clear()})}close(){return jr(this,void 0,void 0,function*(){})}delete(t){return jr(this,void 0,void 0,function*(){return this.store.delete(t)})}get(t){return jr(this,void 0,void 0,function*(){return this.store.get(t)})}has(t){return jr(this,void 0,void 0,function*(){return this.store.has(t)})}list(){return jr(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(t,e){return jr(this,void 0,void 0,function*(){this.store.set(t,e)})}}function ko(r,...t){if(!function Ol(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function $o(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const Js="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ro=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Yr=(r,t)=>r<<32-t|r>>>t;function zs(r){return"string"==typeof r&&(r=function jl(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}(r)),ko(r),r}new Uint8Array(new Uint32Array([287454020]).buffer);class kl{clone(){return this._cloneInto()}}function Rl(r){const t=n=>r().update(zs(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}const Ul=(r,t,e)=>r&t^~r&e,Ll=(r,t,e)=>r&t^r&e^t&e;class Kl extends kl{constructor(t,e,n,u){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ro(this.buffer)}update(t){$o(this);const{view:e,buffer:n,blockLen:u}=this,c=(t=zs(t)).length;for(let A=0;A<c;){const j=Math.min(u-this.pos,c-A);if(j!==u)n.set(t.subarray(A,A+j),this.pos),this.pos+=j,A+=j,this.pos===u&&(this.process(e,0),this.pos=0);else{const te=Ro(t);for(;u<=c-A;A+=u)this.process(te,A)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){$o(this),function Qa(r,t){ko(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:u,isLE:c}=this;let{pos:A}=this;e[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>u-A&&(this.process(n,0),A=0);for(let se=A;se<u;se++)e[se]=0;(function Ml(r,t,e,n){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,e,n);const u=BigInt(32),c=BigInt(4294967295),A=Number(e>>u&c),j=Number(e&c),M=n?0:4;r.setUint32(t+(n?4:0),A,n),r.setUint32(t+M,j,n)})(n,u-8,BigInt(8*this.length),c),this.process(n,0);const j=Ro(t),te=this.outputLen;if(te%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const M=te/4,O=this.get();if(M>O.length)throw new Error("_sha2: outputLen bigger than state");for(let se=0;se<M;se++)j.setUint32(4*se,O[se],c)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:u,finished:c,destroyed:A,pos:j}=this;return t.length=u,t.pos=j,t.finished=c,t.destroyed=A,u%e&&t.buffer.set(n),t}}const Vl=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),On=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fn=new Uint32Array(64);class tu extends Kl{constructor(){super(64,32,8,!1),this.A=0|On[0],this.B=0|On[1],this.C=0|On[2],this.D=0|On[3],this.E=0|On[4],this.F=0|On[5],this.G=0|On[6],this.H=0|On[7]}get(){const{A:t,B:e,C:n,D:u,E:c,F:A,G:j,H:te}=this;return[t,e,n,u,c,A,j,te]}set(t,e,n,u,c,A,j,te){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|u,this.E=0|c,this.F=0|A,this.G=0|j,this.H=0|te}process(t,e){for(let se=0;se<16;se++,e+=4)Fn[se]=t.getUint32(e,!1);for(let se=16;se<64;se++){const Ie=Fn[se-15],ke=Fn[se-2],Ne=Yr(Ie,7)^Yr(Ie,18)^Ie>>>3,Xe=Yr(ke,17)^Yr(ke,19)^ke>>>10;Fn[se]=Xe+Fn[se-7]+Ne+Fn[se-16]|0}let{A:n,B:u,C:c,D:A,E:j,F:te,G:M,H:O}=this;for(let se=0;se<64;se++){const ke=O+(Yr(j,6)^Yr(j,11)^Yr(j,25))+Ul(j,te,M)+Vl[se]+Fn[se]|0,Xe=(Yr(n,2)^Yr(n,13)^Yr(n,22))+Ll(n,u,c)|0;O=M,M=te,te=j,j=A+ke|0,A=c,c=u,u=n,n=ke+Xe|0}n=n+this.A|0,u=u+this.B|0,c=c+this.C|0,A=A+this.D|0,j=j+this.E|0,te=te+this.F|0,M=M+this.G|0,O=O+this.H|0,this.set(n,u,c,A,j,te,M,O)}roundClean(){Fn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Hi=Rl(()=>new tu);class ru{static digest(t){return function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})}(this,arguments,void 0,function*({data:e}){return Hi(e)})}}class Mo{}var kt=s(94256),Bn=s(91006);const nu="urn:jwk:";function Zt(r){return function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})}(this,arguments,void 0,function*({jwk:t}){const e=t.kty;let n;if("EC"===e)n={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===e)n={k:t.k,kty:t.kty};else if("OKP"===e)n={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==e)throw new Error(`Unsupported key type: ${e}`);n={e:t.e,kty:t.kty,n:t.n}}qa(n);const u=function Hl(r){const t=n=>{if(null!==n&&"object"==typeof n&&!Array.isArray(n)){const u=Object.keys(n).sort(),c={};for(const A of u)c[A]=t(n[A]);return c}return n},e=t(r);return JSON.stringify(e)}(n),c=Te.string(u).toUint8Array(),A=yield ru.digest({data:c});return Te.uint8Array(A).toBase64Url()})}function zn(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function Uo(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function Gi(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function iu(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var tr=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class yr{static adjustSignatureToLowS(t){return tr(this,arguments,void 0,function*({signature:e}){const n=kt.bI.Signature.fromCompact(e);return n.hasHighS()?n.normalizeS().toCompactRawBytes():e})}static bytesToPrivateKey(t){return tr(this,arguments,void 0,function*({privateKeyBytes:e}){const n=yield yr.getCurvePoint({keyBytes:e}),u={kty:"EC",crv:"secp256k1",d:Te.uint8Array(e).toBase64Url(),x:Te.uint8Array(n.x).toBase64Url(),y:Te.uint8Array(n.y).toBase64Url()};return u.kid=yield Zt({jwk:u}),u})}static bytesToPublicKey(t){return tr(this,arguments,void 0,function*({publicKeyBytes:e}){const n=yield yr.getCurvePoint({keyBytes:e}),u={kty:"EC",crv:"secp256k1",x:Te.uint8Array(n.x).toBase64Url(),y:Te.uint8Array(n.y).toBase64Url()};return u.kid=yield Zt({jwk:u}),u})}static compressPublicKey(t){return tr(this,arguments,void 0,function*({publicKeyBytes:e}){return kt.bI.ProjectivePoint.fromHex(e).toRawBytes(!0)})}static computePublicKey(t){return tr(this,arguments,void 0,function*({key:e}){const n=yield yr.privateKeyToBytes({privateKey:e}),u=yield yr.getCurvePoint({keyBytes:n}),c={kty:"EC",crv:"secp256k1",x:Te.uint8Array(u.x).toBase64Url(),y:Te.uint8Array(u.y).toBase64Url()};return c.kid=yield Zt({jwk:c}),c})}static convertDerToCompactSignature(t){return tr(this,arguments,void 0,function*({derSignature:e}){return kt.bI.Signature.fromDER(e).toCompactRawBytes()})}static decompressPublicKey(t){return tr(this,arguments,void 0,function*({publicKeyBytes:e}){return kt.bI.ProjectivePoint.fromHex(e).toRawBytes(!1)})}static generateKey(){return tr(this,void 0,void 0,function*(){const t=kt.bI.utils.randomPrivateKey(),e=yield yr.bytesToPrivateKey({privateKeyBytes:t});return e.kid=yield Zt({jwk:e}),e})}static getPublicKey(t){return tr(this,arguments,void 0,function*({key:e}){var n;if(!zn(e)||"secp256k1"!==e.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let c=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)t.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(e[n[u]]=r[n[u]])}return e}(e,["d"]);return null!==(n=c.kid)&&void 0!==n||(c.kid=yield Zt({jwk:c})),c})}static privateKeyToBytes(t){return tr(this,arguments,void 0,function*({privateKey:e}){if(!zn(e))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return Te.base64Url(e.d).toUint8Array()})}static publicKeyToBytes(t){return tr(this,arguments,void 0,function*({publicKey:e}){if(!Uo(e)||!e.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),u=Te.base64Url(e.x).toUint8Array(),c=Te.base64Url(e.y).toUint8Array();return new Uint8Array([...n,...u,...c])})}static sharedSecret(t){return tr(this,arguments,void 0,function*({privateKeyA:e,publicKeyB:n}){if("x"in e&&"x"in n&&e.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const u=yield yr.privateKeyToBytes({privateKey:e}),c=yield yr.publicKeyToBytes({publicKey:n});return kt.bI.getSharedSecret(u,c,!0).slice(1)})}static sign(t){return tr(this,arguments,void 0,function*({data:e,key:n}){const u=yield yr.privateKeyToBytes({privateKey:n}),c=Hi(e);return kt.bI.sign(c,u).toCompactRawBytes()})}static validatePrivateKey(t){return tr(this,arguments,void 0,function*({privateKeyBytes:e}){return kt.bI.utils.isValidPrivateKey(e)})}static validatePublicKey(t){return tr(this,arguments,void 0,function*({publicKeyBytes:e}){try{kt.bI.ProjectivePoint.fromHex(e).assertValidity()}catch{return!1}return!0})}static verify(t){return tr(this,arguments,void 0,function*({key:e,signature:n,data:u}){const c=yield yr.publicKeyToBytes({publicKey:e}),A=Hi(u);return kt.bI.verify(n,A,c,{lowS:!1})})}static getCurvePoint(t){return tr(this,arguments,void 0,function*({keyBytes:e}){32===e.byteLength&&(e=kt.bI.getPublicKey(e));const n=kt.bI.ProjectivePoint.fromHex(e);return{x:(0,Bn.lq)(n.x,32),y:(0,Bn.lq)(n.y,32)}})}}var $t=s(40499),rr=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class mr{static adjustSignatureToLowS(t){return rr(this,arguments,void 0,function*({signature:e}){const n=$t.Ag.Signature.fromCompact(e);return n.hasHighS()?n.normalizeS().toCompactRawBytes():e})}static bytesToPrivateKey(t){return rr(this,arguments,void 0,function*({privateKeyBytes:e}){const n=yield mr.getCurvePoint({keyBytes:e}),u={kty:"EC",crv:"P-256",d:Te.uint8Array(e).toBase64Url(),x:Te.uint8Array(n.x).toBase64Url(),y:Te.uint8Array(n.y).toBase64Url()};return u.kid=yield Zt({jwk:u}),u})}static bytesToPublicKey(t){return rr(this,arguments,void 0,function*({publicKeyBytes:e}){const n=yield mr.getCurvePoint({keyBytes:e}),u={kty:"EC",crv:"P-256",x:Te.uint8Array(n.x).toBase64Url(),y:Te.uint8Array(n.y).toBase64Url()};return u.kid=yield Zt({jwk:u}),u})}static compressPublicKey(t){return rr(this,arguments,void 0,function*({publicKeyBytes:e}){return $t.Ag.ProjectivePoint.fromHex(e).toRawBytes(!0)})}static computePublicKey(t){return rr(this,arguments,void 0,function*({key:e}){const n=yield mr.privateKeyToBytes({privateKey:e}),u=yield mr.getCurvePoint({keyBytes:n}),c={kty:"EC",crv:"P-256",x:Te.uint8Array(u.x).toBase64Url(),y:Te.uint8Array(u.y).toBase64Url()};return c.kid=yield Zt({jwk:c}),c})}static convertDerToCompactSignature(t){return rr(this,arguments,void 0,function*({derSignature:e}){return $t.Ag.Signature.fromDER(e).toCompactRawBytes()})}static decompressPublicKey(t){return rr(this,arguments,void 0,function*({publicKeyBytes:e}){return $t.Ag.ProjectivePoint.fromHex(e).toRawBytes(!1)})}static generateKey(){return rr(this,void 0,void 0,function*(){const t=$t.Ag.utils.randomPrivateKey(),e=yield mr.bytesToPrivateKey({privateKeyBytes:t});return e.kid=yield Zt({jwk:e}),e})}static getPublicKey(t){return rr(this,arguments,void 0,function*({key:e}){var n;if(!zn(e)||"P-256"!==e.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let c=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)t.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(e[n[u]]=r[n[u]])}return e}(e,["d"]);return null!==(n=c.kid)&&void 0!==n||(c.kid=yield Zt({jwk:c})),c})}static privateKeyToBytes(t){return rr(this,arguments,void 0,function*({privateKey:e}){if(!zn(e))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return Te.base64Url(e.d).toUint8Array()})}static publicKeyToBytes(t){return rr(this,arguments,void 0,function*({publicKey:e}){if(!Uo(e)||!e.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),u=Te.base64Url(e.x).toUint8Array(),c=Te.base64Url(e.y).toUint8Array();return new Uint8Array([...n,...u,...c])})}static sharedSecret(t){return rr(this,arguments,void 0,function*({privateKeyA:e,publicKeyB:n}){if("x"in e&&"x"in n&&e.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const u=yield mr.privateKeyToBytes({privateKey:e}),c=yield mr.publicKeyToBytes({publicKey:n});return $t.Ag.getSharedSecret(u,c,!0).slice(1)})}static sign(t){return rr(this,arguments,void 0,function*({data:e,key:n}){const u=yield mr.privateKeyToBytes({privateKey:n}),c=Hi(e);return $t.Ag.sign(c,u).toCompactRawBytes()})}static validatePrivateKey(t){return rr(this,arguments,void 0,function*({privateKeyBytes:e}){return $t.Ag.utils.isValidPrivateKey(e)})}static validatePublicKey(t){return rr(this,arguments,void 0,function*({publicKeyBytes:e}){try{$t.Ag.ProjectivePoint.fromHex(e).assertValidity()}catch{return!1}return!0})}static verify(t){return rr(this,arguments,void 0,function*({key:e,signature:n,data:u}){const c=yield mr.publicKeyToBytes({publicKey:e}),A=Hi(u);return $t.Ag.verify(n,A,c,{lowS:!1})})}static getCurvePoint(t){return rr(this,arguments,void 0,function*({keyBytes:e}){32===e.byteLength&&(e=$t.Ag.getPublicKey(e));const n=$t.Ag.ProjectivePoint.fromHex(e);return{x:(0,Bn.lq)(n.x,32),y:(0,Bn.lq)(n.y,32)}})}}var Zi=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class su extends Mo{computePublicKey(t){return Zi(this,arguments,void 0,function*({key:e}){if(!zn(e))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(e.crv){case"secp256k1":{const n=yield yr.computePublicKey({key:e});return n.alg="ES256K",n}case"P-256":{const n=yield mr.computePublicKey({key:e});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${e.crv}`)}})}generateKey(t){return Zi(this,arguments,void 0,function*({algorithm:e}){switch(e){case"ES256K":case"secp256k1":{const n=yield yr.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield mr.generateKey();return n.alg="ES256",n}}})}getPublicKey(t){return Zi(this,arguments,void 0,function*({key:e}){if(!zn(e))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(e.crv){case"secp256k1":{const n=yield yr.getPublicKey({key:e});return n.alg="ES256K",n}case"P-256":{const n=yield mr.getPublicKey({key:e});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${e.crv}`)}})}sign(t){return Zi(this,arguments,void 0,function*({key:e,data:n}){if(!zn(e))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(e.crv){case"secp256k1":return yield yr.sign({key:e,data:n});case"P-256":return yield mr.sign({key:e,data:n});default:throw new Error(`Unsupported curve: ${e.crv}`)}})}verify(t){return Zi(this,arguments,void 0,function*({key:e,signature:n,data:u}){if(!Uo(e))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(e.crv){case"secp256k1":return yield yr.verify({key:e,signature:n,data:u});case"P-256":return yield mr.verify({key:e,signature:n,data:u});default:throw new Error(`Unsupported curve: ${e.crv}`)}})}}var Ut=s(86295),kr=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class Cr{static bytesToPrivateKey(t){return kr(this,arguments,void 0,function*({privateKeyBytes:e}){const n=Ut.ev.getPublicKey(e),u={crv:"Ed25519",d:Te.uint8Array(e).toBase64Url(),kty:"OKP",x:Te.uint8Array(n).toBase64Url()};return u.kid=yield Zt({jwk:u}),u})}static bytesToPublicKey(t){return kr(this,arguments,void 0,function*({publicKeyBytes:e}){const n={kty:"OKP",crv:"Ed25519",x:Te.uint8Array(e).toBase64Url()};return n.kid=yield Zt({jwk:n}),n})}static computePublicKey(t){return kr(this,arguments,void 0,function*({key:e}){const n=yield Cr.privateKeyToBytes({privateKey:e}),u=Ut.ev.getPublicKey(n),c={kty:"OKP",crv:"Ed25519",x:Te.uint8Array(u).toBase64Url()};return c.kid=yield Zt({jwk:c}),c})}static convertPrivateKeyToX25519(t){return kr(this,arguments,void 0,function*({privateKey:e}){const n=yield Cr.privateKeyToBytes({privateKey:e}),u=(0,Ut.OA)(n),c=Ut.TU.getPublicKey(u),A={kty:"OKP",crv:"X25519",d:Te.uint8Array(u).toBase64Url(),x:Te.uint8Array(c).toBase64Url()};return A.kid=yield Zt({jwk:A}),A})}static convertPublicKeyToX25519(t){return kr(this,arguments,void 0,function*({publicKey:e}){const n=yield Cr.publicKeyToBytes({publicKey:e});if(!(yield Cr.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const c=(0,Ut.GU)(n),A={kty:"OKP",crv:"X25519",x:Te.uint8Array(c).toBase64Url()};return A.kid=yield Zt({jwk:A}),A})}static generateKey(){return kr(this,void 0,void 0,function*(){const t=Ut.ev.utils.randomPrivateKey(),e=yield Cr.bytesToPrivateKey({privateKeyBytes:t});return e.kid=yield Zt({jwk:e}),e})}static getPublicKey(t){return kr(this,arguments,void 0,function*({key:e}){var n;if(!Gi(e)||"Ed25519"!==e.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let c=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)t.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(e[n[u]]=r[n[u]])}return e}(e,["d"]);return null!==(n=c.kid)&&void 0!==n||(c.kid=yield Zt({jwk:c})),c})}static privateKeyToBytes(t){return kr(this,arguments,void 0,function*({privateKey:e}){if(!Gi(e))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return Te.base64Url(e.d).toUint8Array()})}static publicKeyToBytes(t){return kr(this,arguments,void 0,function*({publicKey:e}){if(!iu(e))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return Te.base64Url(e.x).toUint8Array()})}static sign(t){return kr(this,arguments,void 0,function*({key:e,data:n}){const u=yield Cr.privateKeyToBytes({privateKey:e});return Ut.ev.sign(n,u)})}static validatePublicKey(t){return kr(this,arguments,void 0,function*({publicKeyBytes:e}){try{Ut.ev.ExtendedPoint.fromHex(e).assertValidity()}catch{return!1}return!0})}static verify(t){return kr(this,arguments,void 0,function*({key:e,signature:n,data:u}){const c=yield Cr.publicKeyToBytes({publicKey:e});return Ut.ev.verify(n,u,c)})}}var Xi=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})},pn=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};const Lo={Ed25519:{implementation:class Ql extends Mo{computePublicKey(t){return Xi(this,arguments,void 0,function*({key:e}){if(!Gi(e))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===e.crv){const n=yield Cr.computePublicKey({key:e});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${e.crv}`)})}generateKey(t){return Xi(this,arguments,void 0,function*({algorithm:e}){if("Ed25519"===e){const n=yield Cr.generateKey();return n.alg="EdDSA",n}})}getPublicKey(t){return Xi(this,arguments,void 0,function*({key:e}){if(!Gi(e))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===e.crv){const n=yield Cr.getPublicKey({key:e});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${e.crv}`)})}sign(t){return Xi(this,arguments,void 0,function*({key:e,data:n}){if(!Gi(e))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===e.crv)return yield Cr.sign({key:e,data:n});throw new Error(`Unsupported curve: ${e.crv}`)})}verify(t){return Xi(this,arguments,void 0,function*({key:e,signature:n,data:u}){if(!iu(e))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===e.crv)return yield Cr.verify({key:e,signature:n,data:u});throw new Error(`Unsupported curve: ${e.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:su,names:["ES256K","secp256k1"]},secp256r1:{implementation:su,names:["ES256","secp256r1"]},"SHA-256":{implementation:class zl extends Mo{digest(t){return function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})}(this,arguments,void 0,function*({algorithm:e,data:n}){if("SHA-256"===e)return yield ru.digest({data:n})})}},names:["SHA-256"]}};s(91879),s(94730);var Ys=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(Ys||{});const nr={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Pt{constructor({method:t,id:e,path:n,query:u,fragment:c,params:A}){this.uri=`did:${t}:${e}`,this.method=t,this.id=e,this.path=n,this.query=u,this.fragment=c,this.params=A}static parse(t){if(!t)return null;const e=Pt.DID_URI_PATTERN.exec(t);if(!e||!e.groups)return null;const{method:n,id:u,path:c,query:A,fragment:j}=e.groups,te={uri:`did:${n}:${u}`,method:n,id:u};if(c&&(te.path=c),A&&(te.query=A.slice(1)),j&&(te.fragment=j.slice(1)),A){const M={},O=A.slice(1).split("&");for(const se of O){const[Ie,ke]=se.split("=");M[Ie]=ke}te.params=M}return te}}Pt.METHOD_PATTERN="([a-z0-9]+)",Pt.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Pt.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Pt.PCT_ENCODED_PATTERN})`,Pt.METHOD_ID_PATTERN=`((?:${Pt.ID_CHAR_PATTERN}*:)*(${Pt.ID_CHAR_PATTERN}+))`,Pt.PATH_PATTERN="(/[^#?]*)?",Pt.QUERY_PATTERN="([?][^#]*)?",Pt.FRAGMENT_PATTERN="(#.*)?",Pt.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Pt.METHOD_PATTERN}):(?<id>${Pt.METHOD_ID_PATTERN})(?<path>${Pt.PATH_PATTERN})(?<query>${Pt.QUERY_PATTERN})(?<fragment>${Pt.FRAGMENT_PATTERN})$`);class mt extends Error{constructor(t,e){super(`${t}: ${e}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt)}}var gt=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(gt||{});const zo=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class yd{constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class md{constructor(t,e,n){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return uu(this,t)}}class gd{constructor(t){this.decoders=t}or(t){return uu(this,t)}decode(t){const n=this.decoders[t[0]];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const uu=(r,t)=>new gd({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class vd{constructor(t,e,n,u){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=u,this.encoder=new yd(t,e,n),this.decoder=new md(t,e,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const cu=({name:r,prefix:t,encode:e,decode:n})=>new vd(r,t,e,n),lu=({prefix:r,name:t,alphabet:e})=>{const{encode:n,decode:u}=function cd(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var u=0;u<r.length;u++){var c=r.charAt(u),A=c.charCodeAt(0);if(255!==e[A])throw new TypeError(c+" is ambiguous");e[A]=u}var j=r.length,te=r.charAt(0),M=Math.log(j)/Math.log(256),O=Math.log(256)/Math.log(j);function Ie(Ne){if("string"!=typeof Ne)throw new TypeError("Expected String");if(0===Ne.length)return new Uint8Array;var Xe=0;if(" "!==Ne[Xe]){for(var ot=0,it=0;Ne[Xe]===te;)ot++,Xe++;for(var nt=(Ne.length-Xe)*M+1>>>0,Ye=new Uint8Array(nt);Ne[Xe];){var ze=e[Ne.charCodeAt(Xe)];if(255===ze)return;for(var st=0,et=nt-1;(0!==ze||st<it)&&-1!==et;et--,st++)Ye[et]=(ze+=j*Ye[et]>>>0)%256>>>0,ze=ze/256>>>0;if(0!==ze)throw new Error("Non-zero carry");it=st,Xe++}if(" "!==Ne[Xe]){for(var qe=nt-it;qe!==nt&&0===Ye[qe];)qe++;for(var dt=new Uint8Array(ot+(nt-qe)),yt=ot;qe!==nt;)dt[yt++]=Ye[qe++];return dt}}}return{encode:function se(Ne){if(Ne instanceof Uint8Array||(ArrayBuffer.isView(Ne)?Ne=new Uint8Array(Ne.buffer,Ne.byteOffset,Ne.byteLength):Array.isArray(Ne)&&(Ne=Uint8Array.from(Ne))),!(Ne instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ne.length)return"";for(var Xe=0,ot=0,it=0,nt=Ne.length;it!==nt&&0===Ne[it];)it++,Xe++;for(var Ye=(nt-it)*O+1>>>0,ze=new Uint8Array(Ye);it!==nt;){for(var st=Ne[it],et=0,qe=Ye-1;(0!==st||et<ot)&&-1!==qe;qe--,et++)ze[qe]=(st+=256*ze[qe]>>>0)%j>>>0,st=st/j>>>0;if(0!==st)throw new Error("Non-zero carry");ot=et,it++}for(var dt=Ye-ot;dt!==Ye&&0===ze[dt];)dt++;for(var yt=te.repeat(Xe);dt<Ye;++dt)yt+=r.charAt(ze[dt]);return yt},decodeUnsafe:Ie,decode:function ke(Ne){var Xe=Ie(Ne);if(Xe)return Xe;throw new Error(`Non-${t} character`)}}}(e,t);return cu({prefix:r,name:t,encode:n,decode:c=>zo(u(c))})},Pr=({name:r,prefix:t,bitsPerChar:e,alphabet:n})=>cu({prefix:t,name:r,encode:u=>((r,t,e)=>{const n="="===t[t.length-1],u=(1<<e)-1;let c="",A=0,j=0;for(let te=0;te<r.length;++te)for(j=j<<8|r[te],A+=8;A>e;)A-=e,c+=t[u&j>>A];if(A&&(c+=t[u&j<<e-A]),n)for(;c.length*e&7;)c+="=";return c})(u,n,e),decode:u=>((r,t,e,n)=>{const u={};for(let O=0;O<t.length;++O)u[t[O]]=O;let c=r.length;for(;"="===r[c-1];)--c;const A=new Uint8Array(c*e/8|0);let j=0,te=0,M=0;for(let O=0;O<c;++O){const se=u[r[O]];if(void 0===se)throw new SyntaxError(`Non-${n} character`);te=te<<e|se,j+=e,j>=8&&(j-=8,A[M++]=255&te>>j)}if(j>=e||255&te<<8-j)throw new SyntaxError("Unexpected end of data");return A})(u,n,e,r)}),du=(Pr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Pr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Pr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Pr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Pr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Pr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Pr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Pr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})),$r=lu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hn=(lu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Pr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Pr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Pr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));function Ho(r){const e=Object.prototype.toString.call(r).match(/\s([a-zA-Z0-9]+)/),[n,u]=e;return u}Pr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var rs=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})},fu=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(c){e[c]=r[c]&&function(A){return new Promise(function(j,te){!function u(c,A,j,te){Promise.resolve(te).then(function(M){c({value:M,done:j})},A)}(j,te,(A=r[c](A)).done,A.value)})}}};const Qs=new TextEncoder,Gn=new TextDecoder;class ft{constructor(t,e){this.data=t,this.format=e}static arrayBuffer(t){return new ft(t,"ArrayBuffer")}static asyncIterable(t){if(!function _d(r){return"object"==typeof r&&null!==r&&"function"==typeof r[Symbol.asyncIterator]}(t))throw new TypeError("Input must be of type AsyncIterable.");return new ft(t,"AsyncIterable")}static base32Z(t){return new ft(t,"Base32Z")}static base58Btc(t){return new ft(t,"Base58Btc")}static base64Url(t){return new ft(t,"Base64Url")}static bufferSource(t){return new ft(t,"BufferSource")}static hex(t){if("string"!=typeof t)throw new TypeError("Hex input must be a string.");if(t.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new ft(t,"Hex")}static multibase(t){return new ft(t,"Multibase")}static object(t){return new ft(t,"Object")}static string(t){return new ft(t,"String")}static uint8Array(t){return new ft(t,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return $r.baseDecode(this.data).buffer;case"Base64Url":return hn.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===Ho(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function Ed(r){return 0!==r.byteOffset||r.byteLength!==r.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return rs(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return du.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const t=new Uint8Array(this.data);return $r.baseEncode(t)}case"Multibase":return this.data.substring(1);case"Uint8Array":return $r.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const t=new Uint8Array(this.data);return hn.baseEncode(t)}case"BufferSource":{const t=this.toUint8Array();return hn.baseEncode(t)}case"Object":{const t=JSON.stringify(this.data),e=Qs.encode(t);return hn.baseEncode(e)}case"String":{const t=Qs.encode(this.data);return hn.baseEncode(t)}case"Uint8Array":return hn.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var t,e,n;return rs(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const te=[];try{for(var j,c=!0,A=fu(this.data);j=yield A.next(),!(t=j.done);c=!0)c=!1,te.push(j.value)}catch(O){e={error:O}}finally{try{!c&&!t&&(n=A.return)&&(yield n.call(A))}finally{if(e)throw e.error}}return new Blob(te)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const t=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const e=this.toUint8Array();return ft.uint8Array(e).toHex()}case"Base64Url":{const e=this.toUint8Array();return ft.uint8Array(e).toHex()}case"Uint8Array":{let e="";for(let n=0;n<this.data.length;n++)e+=t[this.data[n]];return e}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const t=hn.baseDecode(this.data),e=Gn.decode(t);return JSON.parse(e)}case"String":return JSON.parse(this.data);case"Uint8Array":{const t=Gn.decode(this.data);return JSON.parse(t)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return rs(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const t=yield this.toStringAsync();return JSON.parse(t)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return Gn.decode(this.data);case"Base64Url":{const t=hn.baseDecode(this.data);return Gn.decode(t)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var t,e,n,u;return rs(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let te="";try{for(var j,c=!0,A=fu(this.data);j=yield A.next(),!(t=j.done);c=!0)c=!1,te+="string"==typeof(u=j.value)?u:Gn.decode(u,{stream:!0})}catch(M){e={error:M}}finally{try{!c&&!t&&(n=A.return)&&(yield n.call(A))}finally{if(e)throw e.error}}return te+=Gn.decode(void 0,{stream:!1}),te}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return du.baseDecode(this.data);case"Base58Btc":return $r.baseDecode(this.data);case"Base64Url":return hn.baseDecode(this.data);case"BufferSource":{const t=Ho(this.data);if("Uint8Array"===t)return this.data;if("ArrayBuffer"===t)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const t=new Uint8Array(this.data.length/2);for(let e=0;e<this.data.length;e+=2){const n=parseInt(this.data.substring(e,e+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");t[e/2]=n}return t}case"Object":{const t=JSON.stringify(this.data);return Qs.encode(t)}case"String":return Qs.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return rs(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const t=yield this.toArrayBufferAsync();return new Uint8Array(t)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var pu=128,Dd=-128,Cd=Math.pow(2,31),xd=128,yu=127,Od=Math.pow(2,7),Fd=Math.pow(2,14),Bd=Math.pow(2,21),Td=Math.pow(2,28),Id=Math.pow(2,35),jd=Math.pow(2,42),kd=Math.pow(2,49),$d=Math.pow(2,56),Rd=Math.pow(2,63);const eo={encode:function hu(r,t,e){t=t||[];for(var n=e=e||0;r>=Cd;)t[e++]=255&r|pu,r/=128;for(;r&Dd;)t[e++]=255&r|pu,r>>>=7;return t[e]=0|r,hu.bytes=e-n+1,t},decode:function Go(r,n){var A,e=0,u=0,c=n=n||0,j=r.length;do{if(c>=j)throw Go.bytes=0,new RangeError("Could not decode varint");A=r[c++],e+=u<28?(A&yu)<<u:(A&yu)*Math.pow(2,u),u+=7}while(A>=xd);return Go.bytes=c-n,e},encodingLength:function(r){return r<Od?1:r<Fd?2:r<Bd?3:r<Td?4:r<Id?5:r<jd?6:r<kd?7:r<$d?8:r<Rd?9:10}},ns=(r,t=0)=>[eo.decode(r,t),eo.decode.bytes];Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class Jt{static addPrefix(t){var e;let{code:n,data:u,name:c}=t;if(!(c?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=Jt.codeToName.has(n)?n:Jt.nameToCode.get(c),void 0===n)throw new Error(`Unsupported multicodec: ${null!==(e=t.name)&&void 0!==e?e:t.code}`);const A=eo.encodingLength(n),j=new Uint8Array(A+u.byteLength);return j.set(u,A),((r,t,e=0)=>{eo.encode(r,t,e)})(n,j),j}static getCodeFromData(t){const{prefixedData:e}=t,[n,u]=ns(e);return n}static getCodeFromName(t){const{name:e}=t,n=Jt.nameToCode.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static getNameFromCode(t){const{code:e}=t,n=Jt.codeToName.get(e);if(void 0===n)throw new Error(`Unsupported multicodec: ${e}`);return n}static registerCodec(t){Jt.codeToName.set(t.code,t.name),Jt.nameToCode.set(t.name,t.code)}static removePrefix(t){const{prefixedData:e}=t,[n,u]=ns(e),c=Jt.codeToName.get(n);if(void 0===c)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:e.slice(u),name:c}}}function vu(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&vu(r[t])})}Jt.codeToName=new Map,Jt.nameToCode=new Map,Jt.registerCodec({code:237,name:"ed25519-pub"}),Jt.registerCodec({code:4864,name:"ed25519-priv"}),Jt.registerCodec({code:236,name:"x25519-pub"}),Jt.registerCodec({code:4866,name:"x25519-priv"}),Jt.registerCodec({code:231,name:"secp256k1-pub"}),Jt.registerCodec({code:4865,name:"secp256k1-priv"}),s(64311);var Rr=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class qd{constructor(){this.store=new Map}clear(){return Rr(this,void 0,void 0,function*(){this.store.clear()})}close(){return Rr(this,void 0,void 0,function*(){})}delete(t){return Rr(this,void 0,void 0,function*(){return this.store.delete(t)})}get(t){return Rr(this,void 0,void 0,function*(){return this.store.get(t)})}has(t){return Rr(this,void 0,void 0,function*(){return this.store.has(t)})}list(){return Rr(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(t,e){return Rr(this,void 0,void 0,function*(){this.store.set(t,e)})}}function Qo(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function wu(r,t){!function bu(r,...t){if(!function tf(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const ta=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Qr=(r,t)=>r<<32-t|r>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function ro(r){if("string"==typeof r&&(r=function of(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}(r)),!function ea(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("expected Uint8Array, got "+typeof r);return r}class af{clone(){return this._cloneInto()}}function cf(r){const t=n=>r().update(ro(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}class ff extends af{constructor(t,e,n,u){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ta(this.buffer)}update(t){Qo(this);const{view:e,buffer:n,blockLen:u}=this,c=(t=ro(t)).length;for(let A=0;A<c;){const j=Math.min(u-this.pos,c-A);if(j!==u)n.set(t.subarray(A,A+j),this.pos),this.pos+=j,A+=j,this.pos===u&&(this.process(e,0),this.pos=0);else{const te=ta(t);for(;u<=c-A;A+=u)this.process(te,A)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Qo(this),wu(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:u,isLE:c}=this;let{pos:A}=this;e[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>u-A&&(this.process(n,0),A=0);for(let se=A;se<u;se++)e[se]=0;(function df(r,t,e,n){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,e,n);const u=BigInt(32),c=BigInt(4294967295),A=Number(e>>u&c),j=Number(e&c),M=n?0:4;r.setUint32(t+(n?4:0),A,n),r.setUint32(t+M,j,n)})(n,u-8,BigInt(8*this.length),c),this.process(n,0);const j=ta(t),te=this.outputLen;if(te%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const M=te/4,O=this.get();if(M>O.length)throw new Error("_sha2: outputLen bigger than state");for(let se=0;se<M;se++)j.setUint32(4*se,O[se],c)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:u,finished:c,destroyed:A,pos:j}=this;return t.length=u,t.pos=j,t.finished=c,t.destroyed=A,u%e&&t.buffer.set(n),t}}const pf=(r,t,e)=>r&t^~r&e,hf=(r,t,e)=>r&t^r&e^t&e,yf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),In=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jn=new Uint32Array(64);class _u extends ff{constructor(){super(64,32,8,!1),this.A=0|In[0],this.B=0|In[1],this.C=0|In[2],this.D=0|In[3],this.E=0|In[4],this.F=0|In[5],this.G=0|In[6],this.H=0|In[7]}get(){const{A:t,B:e,C:n,D:u,E:c,F:A,G:j,H:te}=this;return[t,e,n,u,c,A,j,te]}set(t,e,n,u,c,A,j,te){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|u,this.E=0|c,this.F=0|A,this.G=0|j,this.H=0|te}process(t,e){for(let se=0;se<16;se++,e+=4)jn[se]=t.getUint32(e,!1);for(let se=16;se<64;se++){const Ie=jn[se-15],ke=jn[se-2],Ne=Qr(Ie,7)^Qr(Ie,18)^Ie>>>3,Xe=Qr(ke,17)^Qr(ke,19)^ke>>>10;jn[se]=Xe+jn[se-7]+Ne+jn[se-16]|0}let{A:n,B:u,C:c,D:A,E:j,F:te,G:M,H:O}=this;for(let se=0;se<64;se++){const ke=O+(Qr(j,6)^Qr(j,11)^Qr(j,25))+pf(j,te,M)+yf[se]+jn[se]|0,Xe=(Qr(n,2)^Qr(n,13)^Qr(n,22))+hf(n,u,c)|0;O=M,M=te,te=j,j=A+ke|0,A=c,c=u,u=n,n=ke+Xe|0}n=n+this.A|0,u=u+this.B|0,c=c+this.C|0,A=A+this.D|0,j=j+this.E|0,te=te+this.F|0,M=M+this.G|0,O=O+this.H|0,this.set(n,u,c,A,j,te,M,O)}roundClean(){jn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ds=cf(()=>new _u);class Su{static digest({data:t}){return function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return ds(t)})}}class na{}const Au="urn:jwk:";function Ot({jwk:r}){return function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let e;if("EC"===t)e={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)e={k:r.k,kty:r.kty};else if("OKP"===t)e={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);e={e:r.e,kty:r.kty,n:r.n}}vu(e);const n=function bf(r){const t=n=>{if(null!==n&&"object"==typeof n&&!Array.isArray(n)){const u=Object.keys(n).sort(),c={};for(const A of u)c[A]=t(n[A]);return c}return n},e=t(r);return JSON.stringify(e)}(e),u=ft.string(n).toUint8Array(),c=yield Su.digest({data:u});return ft.uint8Array(c).toBase64Url()})}function Zn(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function ia(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function Xn(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function sa(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var sr=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class Nt{static adjustSignatureToLowS({signature:t}){return sr(this,void 0,void 0,function*(){const e=kt.bI.Signature.fromCompact(t);return e.hasHighS()?e.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return sr(this,void 0,void 0,function*(){const e=yield Nt.getCurvePoint({keyBytes:t}),n={kty:"EC",crv:"secp256k1",d:ft.uint8Array(t).toBase64Url(),x:ft.uint8Array(e.x).toBase64Url(),y:ft.uint8Array(e.y).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static bytesToPublicKey({publicKeyBytes:t}){return sr(this,void 0,void 0,function*(){const e=yield Nt.getCurvePoint({keyBytes:t}),n={kty:"EC",crv:"secp256k1",x:ft.uint8Array(e.x).toBase64Url(),y:ft.uint8Array(e.y).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static compressPublicKey({publicKeyBytes:t}){return sr(this,void 0,void 0,function*(){return kt.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return sr(this,void 0,void 0,function*(){const e=yield Nt.privateKeyToBytes({privateKey:t}),n=yield Nt.getCurvePoint({keyBytes:e}),u={kty:"EC",crv:"secp256k1",x:ft.uint8Array(n.x).toBase64Url(),y:ft.uint8Array(n.y).toBase64Url()};return u.kid=yield Ot({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return sr(this,void 0,void 0,function*(){return kt.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return sr(this,void 0,void 0,function*(){return kt.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return sr(this,void 0,void 0,function*(){const t=kt.bI.utils.randomPrivateKey(),e=yield Nt.bytesToPrivateKey({privateKeyBytes:t});return e.kid=yield Ot({jwk:e}),e})}static getPublicKey({key:t}){var e;return sr(this,void 0,void 0,function*(){if(!Zn(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let u=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)t.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(e[n[u]]=r[n[u]])}return e}(t,["d"]);return null!==(e=u.kid)&&void 0!==e||(u.kid=yield Ot({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return sr(this,void 0,void 0,function*(){if(!Zn(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return ft.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return sr(this,void 0,void 0,function*(){if(!ia(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const e=new Uint8Array([4]),n=ft.base64Url(t.x).toUint8Array(),u=ft.base64Url(t.y).toUint8Array();return new Uint8Array([...e,...n,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:e}){return sr(this,void 0,void 0,function*(){if("x"in t&&"x"in e&&t.x===e.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const n=yield Nt.privateKeyToBytes({privateKey:t}),u=yield Nt.publicKeyToBytes({publicKey:e});return kt.bI.getSharedSecret(n,u,!0).slice(1)})}static sign({data:t,key:e}){return sr(this,void 0,void 0,function*(){const n=yield Nt.privateKeyToBytes({privateKey:e}),u=ds(t);return kt.bI.sign(u,n).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return sr(this,void 0,void 0,function*(){return kt.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return sr(this,void 0,void 0,function*(){try{kt.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:e,data:n}){return sr(this,void 0,void 0,function*(){const u=yield Nt.publicKeyToBytes({publicKey:t}),c=ds(n);return kt.bI.verify(e,c,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return sr(this,void 0,void 0,function*(){32===t.byteLength&&(t=kt.bI.getPublicKey(t));const e=kt.bI.ProjectivePoint.fromHex(t);return{x:(0,Bn.lq)(e.x,32),y:(0,Bn.lq)(e.y,32)}})}}var or=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class Lt{static adjustSignatureToLowS({signature:t}){return or(this,void 0,void 0,function*(){const e=$t.Ag.Signature.fromCompact(t);return e.hasHighS()?e.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return or(this,void 0,void 0,function*(){const e=yield Lt.getCurvePoint({keyBytes:t}),n={kty:"EC",crv:"P-256",d:ft.uint8Array(t).toBase64Url(),x:ft.uint8Array(e.x).toBase64Url(),y:ft.uint8Array(e.y).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static bytesToPublicKey({publicKeyBytes:t}){return or(this,void 0,void 0,function*(){const e=yield Lt.getCurvePoint({keyBytes:t}),n={kty:"EC",crv:"P-256",x:ft.uint8Array(e.x).toBase64Url(),y:ft.uint8Array(e.y).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static compressPublicKey({publicKeyBytes:t}){return or(this,void 0,void 0,function*(){return $t.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return or(this,void 0,void 0,function*(){const e=yield Lt.privateKeyToBytes({privateKey:t}),n=yield Lt.getCurvePoint({keyBytes:e}),u={kty:"EC",crv:"P-256",x:ft.uint8Array(n.x).toBase64Url(),y:ft.uint8Array(n.y).toBase64Url()};return u.kid=yield Ot({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return or(this,void 0,void 0,function*(){return $t.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return or(this,void 0,void 0,function*(){return $t.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return or(this,void 0,void 0,function*(){const t=$t.Ag.utils.randomPrivateKey(),e=yield Lt.bytesToPrivateKey({privateKeyBytes:t});return e.kid=yield Ot({jwk:e}),e})}static getPublicKey({key:t}){var e;return or(this,void 0,void 0,function*(){if(!Zn(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let u=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)t.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(e[n[u]]=r[n[u]])}return e}(t,["d"]);return null!==(e=u.kid)&&void 0!==e||(u.kid=yield Ot({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return or(this,void 0,void 0,function*(){if(!Zn(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return ft.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return or(this,void 0,void 0,function*(){if(!ia(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const e=new Uint8Array([4]),n=ft.base64Url(t.x).toUint8Array(),u=ft.base64Url(t.y).toUint8Array();return new Uint8Array([...e,...n,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:e}){return or(this,void 0,void 0,function*(){if("x"in t&&"x"in e&&t.x===e.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const n=yield Lt.privateKeyToBytes({privateKey:t}),u=yield Lt.publicKeyToBytes({publicKey:e});return $t.Ag.getSharedSecret(n,u,!0).slice(1)})}static sign({data:t,key:e}){return or(this,void 0,void 0,function*(){const n=yield Lt.privateKeyToBytes({privateKey:e}),u=ds(t);return $t.Ag.sign(u,n).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return or(this,void 0,void 0,function*(){return $t.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return or(this,void 0,void 0,function*(){try{$t.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:e,data:n}){return or(this,void 0,void 0,function*(){const u=yield Lt.publicKeyToBytes({publicKey:t}),c=ds(n);return $t.Ag.verify(e,c,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return or(this,void 0,void 0,function*(){32===t.byteLength&&(t=$t.Ag.getPublicKey(t));const e=$t.Ag.ProjectivePoint.fromHex(t);return{x:(0,Bn.lq)(e.x,32),y:(0,Bn.lq)(e.y,32)}})}}var fs=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class Du extends na{computePublicKey({key:t}){return fs(this,void 0,void 0,function*(){if(!Zn(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const e=yield Nt.computePublicKey({key:t});return e.alg="ES256K",e}case"P-256":{const e=yield Lt.computePublicKey({key:t});return e.alg="ES256",e}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return fs(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const e=yield Nt.generateKey();return e.alg="ES256K",e}case"ES256":case"secp256r1":{const e=yield Lt.generateKey();return e.alg="ES256",e}}})}getPublicKey({key:t}){return fs(this,void 0,void 0,function*(){if(!Zn(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const e=yield Nt.getPublicKey({key:t});return e.alg="ES256K",e}case"P-256":{const e=yield Lt.getPublicKey({key:t});return e.alg="ES256",e}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:e}){return fs(this,void 0,void 0,function*(){if(!Zn(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield Nt.sign({key:t,data:e});case"P-256":return yield Lt.sign({key:t,data:e});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:e,data:n}){return fs(this,void 0,void 0,function*(){if(!ia(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield Nt.verify({key:t,signature:e,data:n});case"P-256":return yield Lt.verify({key:t,signature:e,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Nr=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class Kt{static bytesToPrivateKey({privateKeyBytes:t}){return Nr(this,void 0,void 0,function*(){const e=Ut.ev.getPublicKey(t),n={crv:"Ed25519",d:ft.uint8Array(t).toBase64Url(),kty:"OKP",x:ft.uint8Array(e).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static bytesToPublicKey({publicKeyBytes:t}){return Nr(this,void 0,void 0,function*(){const e={kty:"OKP",crv:"Ed25519",x:ft.uint8Array(t).toBase64Url()};return e.kid=yield Ot({jwk:e}),e})}static computePublicKey({key:t}){return Nr(this,void 0,void 0,function*(){const e=yield Kt.privateKeyToBytes({privateKey:t}),n=Ut.ev.getPublicKey(e),u={kty:"OKP",crv:"Ed25519",x:ft.uint8Array(n).toBase64Url()};return u.kid=yield Ot({jwk:u}),u})}static convertPrivateKeyToX25519({privateKey:t}){return Nr(this,void 0,void 0,function*(){const e=yield Kt.privateKeyToBytes({privateKey:t}),n=(0,Ut.OA)(e),u=Ut.TU.getPublicKey(n),c={kty:"OKP",crv:"X25519",d:ft.uint8Array(n).toBase64Url(),x:ft.uint8Array(u).toBase64Url()};return c.kid=yield Ot({jwk:c}),c})}static convertPublicKeyToX25519({publicKey:t}){return Nr(this,void 0,void 0,function*(){const e=yield Kt.publicKeyToBytes({publicKey:t});if(!(yield Kt.validatePublicKey({publicKeyBytes:e})))throw new Error("Ed25519: Invalid public key.");const u=(0,Ut.GU)(e),c={kty:"OKP",crv:"X25519",x:ft.uint8Array(u).toBase64Url()};return c.kid=yield Ot({jwk:c}),c})}static generateKey(){return Nr(this,void 0,void 0,function*(){const t=Ut.ev.utils.randomPrivateKey(),e=yield Kt.bytesToPrivateKey({privateKeyBytes:t});return e.kid=yield Ot({jwk:e}),e})}static getPublicKey({key:t}){var e;return Nr(this,void 0,void 0,function*(){if(!Xn(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let u=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)t.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(e[n[u]]=r[n[u]])}return e}(t,["d"]);return null!==(e=u.kid)&&void 0!==e||(u.kid=yield Ot({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return Nr(this,void 0,void 0,function*(){if(!Xn(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return ft.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Nr(this,void 0,void 0,function*(){if(!sa(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return ft.base64Url(t.x).toUint8Array()})}static sign({key:t,data:e}){return Nr(this,void 0,void 0,function*(){const n=yield Kt.privateKeyToBytes({privateKey:t});return Ut.ev.sign(e,n)})}static validatePublicKey({publicKeyBytes:t}){return Nr(this,void 0,void 0,function*(){try{Ut.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:e,data:n}){return Nr(this,void 0,void 0,function*(){const u=yield Kt.publicKeyToBytes({publicKey:t});return Ut.ev.verify(e,n,u)})}}var ps=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})},mn=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};const oa={Ed25519:{implementation:class Df extends na{computePublicKey({key:t}){return ps(this,void 0,void 0,function*(){if(!Xn(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const e=yield Kt.computePublicKey({key:t});return e.alg="EdDSA",e}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return ps(this,void 0,void 0,function*(){if("Ed25519"===t){const e=yield Kt.generateKey();return e.alg="EdDSA",e}})}getPublicKey({key:t}){return ps(this,void 0,void 0,function*(){if(!Xn(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const e=yield Kt.getPublicKey({key:t});return e.alg="EdDSA",e}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:e}){return ps(this,void 0,void 0,function*(){if(!Xn(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield Kt.sign({key:t,data:e});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:e,data:n}){return ps(this,void 0,void 0,function*(){if(!sa(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield Kt.verify({key:t,signature:e,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:Du,names:["ES256K","secp256k1"]},secp256r1:{implementation:Du,names:["ES256","secp256r1"]},"SHA-256":{implementation:class vf extends na{digest({algorithm:t,data:e}){return function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield Su.digest({data:e})})}},names:["SHA-256"]}};class gn{constructor(t){var e;this._algorithmInstances=new Map,this._keyStore=null!==(e=t?.keyStore)&&void 0!==e?e:new qd}digest({algorithm:t,data:e}){return mn(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:e})})}exportKey({keyUri:t}){return mn(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return mn(this,void 0,void 0,function*(){const n=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===n?.kid)throw new Error("Generated key is missing a required property: kid");const u=`${Au}${n.kid}`;return yield this._keyStore.set(u,n),u})}getKeyUri({key:t}){return mn(this,void 0,void 0,function*(){const e=yield Ot({jwk:t});return`${Au}${e}`})}getPublicKey({keyUri:t}){return mn(this,void 0,void 0,function*(){const e=yield this.getPrivateKey({keyUri:t}),n=this.getAlgorithmName({key:e});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:e})})}importKey({key:t}){var e;return mn(this,void 0,void 0,function*(){if(!function Ef(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const n=structuredClone(t);null!==(e=n.kid)&&void 0!==e||(n.kid=yield Ot({jwk:n}));const u=yield this.getKeyUri({key:n});return yield this._keyStore.set(u,n),u})}sign({keyUri:t,data:e}){return mn(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),u=this.getAlgorithmName({key:n});return this.getAlgorithm({algorithm:u}).sign({data:e,key:n})})}verify({key:t,signature:e,data:n}){return mn(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:e,data:n})})}getAlgorithm({algorithm:t}){var e;const n=null===(e=oa[t])||void 0===e?void 0:e.implementation;if(!n)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(n)||this._algorithmInstances.set(n,new n),this._algorithmInstances.get(n)}getAlgorithmName({key:t}){const e=t.alg,n=t.crv;for(const u in oa){const c=oa[u];if(e&&c.names.includes(e))return u;if(n&&c.names.includes(n))return u}throw new Error(`Unable to determine algorithm based on provided input: alg=${e}, crv=${n}`)}getPrivateKey({keyUri:t}){return mn(this,void 0,void 0,function*(){const e=yield this._keyStore.get(t);if(!e)throw new Error(`Key not found: ${t}`);return e})}}function Cf(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}var kn=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class qn{static bytesToPrivateKey({privateKeyBytes:t}){return kn(this,void 0,void 0,function*(){const e=Ut.TU.getPublicKey(t),n={kty:"OKP",crv:"X25519",d:ft.uint8Array(t).toBase64Url(),x:ft.uint8Array(e).toBase64Url()};return n.kid=yield Ot({jwk:n}),n})}static bytesToPublicKey({publicKeyBytes:t}){return kn(this,void 0,void 0,function*(){const e={kty:"OKP",crv:"X25519",x:ft.uint8Array(t).toBase64Url()};return e.kid=yield Ot({jwk:e}),e})}static computePublicKey({key:t}){return kn(this,void 0,void 0,function*(){const e=yield qn.privateKeyToBytes({privateKey:t}),n=Ut.TU.getPublicKey(e),u={kty:"OKP",crv:"X25519",x:ft.uint8Array(n).toBase64Url()};return u.kid=yield Ot({jwk:u}),u})}static generateKey(){return kn(this,void 0,void 0,function*(){const t=Ut.TU.utils.randomPrivateKey(),e=yield qn.bytesToPrivateKey({privateKeyBytes:t});return e.kid=yield Ot({jwk:e}),e})}static getPublicKey({key:t}){var e;return kn(this,void 0,void 0,function*(){if(!Xn(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let u=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)t.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(e[n[u]]=r[n[u]])}return e}(t,["d"]);return null!==(e=u.kid)&&void 0!==e||(u.kid=yield Ot({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return kn(this,void 0,void 0,function*(){if(!Xn(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return ft.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return kn(this,void 0,void 0,function*(){if(!sa(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return ft.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:e}){return kn(this,void 0,void 0,function*(){if("x"in t&&"x"in e&&t.x===e.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const n=yield qn.privateKeyToBytes({privateKey:t}),u=yield qn.publicKeyToBytes({publicKey:e});return Ut.TU.getSharedSecret(n,u)})}}function Vr(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function da({didDocument:r}){var t,e;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const n=[];return n.push(...null!==(e=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(ao))&&void 0!==e?e:[]),Object.keys(Ys).forEach(u=>{var c,A;n.push(...null!==(A=null===(c=r[u])||void 0===c?void 0:c.filter(ao))&&void 0!==A?A:[])}),n}function $f({didDocument:r,methodId:t}){const e=[];return Object.keys(Ys).forEach(n=>{if(Array.isArray(r[n])){const u=r[n],c=Vr(t);u.some(j=>{const te=Vr(j)===c,M=ao(j)&&Vr(j.id)===c;return te||M})&&e.push(n)}}),e}function ao(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function xu({keyBytes:r,multicodecCode:t,multicodecName:e}){const n=Jt.addPrefix({code:t,data:r,name:e}),u=ft.uint8Array(n).toBase58Btc();return ft.base58Btc(u).toMultibase()}function Ou({multibaseKeyId:r}){try{const t=ft.multibase(r).toBase58Btc(),e=ft.base58Btc(t).toUint8Array(),{code:n,data:u,name:c}=Jt.removePrefix({prefixedData:e});return{keyBytes:u,multicodecCode:n,multicodecName:c}}catch{throw new mt(gt.InvalidDid,`Invalid multibase identifier: ${r}`)}}var bs=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class en{constructor({uri:t,document:e,metadata:n,keyManager:u}){this.uri=t,this.document=e,this.metadata=n,this.keyManager=u}export(){return bs(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const e=[];for(let n of this.document.verificationMethod){if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const u=yield this.keyManager.getKeyUri({key:n.publicKeyJwk}),c=yield this.keyManager.exportKey({keyUri:u});e.push(Object.assign({},c))}t.privateKeys=e}return t})}getSigner(t){return bs(this,void 0,void 0,function*(){var e;const n=null===(e=this.document.verificationMethod)||void 0===e?void 0:e.find(te=>{var M,O;return Vr(te.id)===(null!==(M=Vr(t?.methodId))&&void 0!==M?M:Vr(null===(O=this.document.assertionMethod)||void 0===O?void 0:O[0]))});if(!n||!n.publicKeyJwk)throw new mt(gt.InternalError,"A verification method intended for signing could not be determined from the DID Document");const u=yield this.keyManager.getKeyUri({key:n.publicKeyJwk}),c=yield this.keyManager.getPublicKey({keyUri:u}),A=this.keyManager;return{algorithm:Cf(c),keyId:n.id,sign(te){return bs(this,arguments,void 0,function*({data:M}){return yield A.sign({data:M,keyUri:u})})},verify(te){return bs(this,arguments,void 0,function*({data:M,signature:O}){return yield A.verify({data:M,key:c,signature:O})})}}})}static import(t){return bs(this,arguments,void 0,function*({portableDid:e,keyManager:n=new gn}){var u;const c=da({didDocument:e.document});if(0===c.length)throw new mt(gt.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let j of null!==(u=e.privateKeys)&&void 0!==u?u:[])yield n.importKey({key:j});for(let j of c){if(!j.publicKeyJwk)throw new Error(`Verification method '${j.id}' does not contain a public key in JWK format`);const te=yield n.getKeyUri({key:j.publicKeyJwk});yield n.getPublicKey({keyUri:te})}return new en({uri:e.uri,document:e.document,metadata:e.metadata,keyManager:n})})}}var Fu=s(2198),fa=s(49402),Bu=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};class ws{static getSigningMethod(t){return Bu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,e){return Bu(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Xt=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})},Tu=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)t.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(e[n[u]]=r[n[u]])}return e};const Iu="https://diddht.tbddev.org",$n=7200,gr=",";var ju=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(ju||{}),_r=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(_r||{}),ku=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(ku||{});const $u={Ed25519:_r.Ed25519,ES256K:_r.secp256k1,ES256:_r.secp256r1,"P-256":_r.secp256r1,secp256k1:_r.secp256k1,secp256r1:_r.secp256r1,X25519:_r.X25519},Ru={[_r.Ed25519]:"EdDSA",[_r.secp256k1]:"ES256K",[_r.secp256r1]:"ES256",[_r.X25519]:"ECDH-ES+A256KW"};let pa=(()=>{class r extends ws{static create(){return Xt(this,arguments,void 0,function*({keyManager:e=new gn,options:n={}}={}){var u,c,A,j,te,M,O,se,Ie,ke,Ne;if(null!==(u=n.verificationMethods)&&void 0!==u&&u.some(et=>!(et.algorithm in $u)))throw new Error("One or more verification method algorithms are not supported");const Xe=null===(c=n.verificationMethods)||void 0===c?void 0:c.filter(et=>"id"in et).map(et=>et.id);if(Xe&&Xe.length!==new Set(Xe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(A=n.services)&&void 0!==A&&A.some(et=>!et.id||!et.type||!et.serviceEndpoint))throw new Error("One or more services are missing required properties");const ot=yield e.generateKey({algorithm:"Ed25519"}),it=yield e.getPublicKey({keyUri:ot}),nt=yield zt.identityKeyToIdentifier({identityKey:it}),Ye=Object.assign(Object.assign({id:nt},n.alsoKnownAs&&{alsoKnownAs:n.alsoKnownAs}),n.controllers&&{controller:n.controllers}),ze=[...null!==(j=n.verificationMethods)&&void 0!==j?j:[]];ze?.some(et=>{var qe;return"0"===(null===(qe=et.id)||void 0===qe?void 0:qe.split("#").pop())})||ze.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const et of ze){const qe=et.id&&"0"===et.id.split("#").pop()?ot:yield e.generateKey({algorithm:et.algorithm}),dt=yield e.getPublicKey({keyUri:qe});let yt=null!==(M=null!==(te=et.id)&&void 0!==te?te:dt.kid)&&void 0!==M?M:yield Ot({jwk:dt});yt=`${nt}#${Vr(yt)}`,null!==(O=Ye.verificationMethod)&&void 0!==O||(Ye.verificationMethod=[]),Ye.verificationMethod.push({id:yt,type:"JsonWebKey",controller:null!==(se=et.controller)&&void 0!==se?se:nt,publicKeyJwk:dt});for(const vt of null!==(Ie=et.purposes)&&void 0!==Ie?Ie:[])Ye[vt]||(Ye[vt]=[]),Ye[vt].push(yt)}null===(ke=n.services)||void 0===ke||ke.forEach(et=>{var qe;null!==(qe=Ye.service)&&void 0!==qe||(Ye.service=[]),et.id=`${nt}#${et.id.split("#").pop()}`,Ye.service.push(et)});const st=new en({uri:nt,document:Ye,metadata:Object.assign({published:!1},n.types&&{types:n.types}),keyManager:e});if(null===(Ne=n.publish)||void 0===Ne||Ne){const et=yield r.publish({did:st,gatewayUri:n.gatewayUri});st.metadata=et.didDocumentMetadata}return st})}static import(e){return Xt(this,arguments,void 0,function*({portableDid:n,keyManager:u=new gn}){var c;const A=Pt.parse(n.uri);if(A?.method!==r.methodName)throw new mt(gt.MethodNotSupported,"Method not supported");const j=yield en.import({portableDid:n,keyManager:u});if(null===(c=j.document.verificationMethod)||void 0===c||!c.some(te=>{var M;return"0"===(null===(M=te.id)||void 0===M?void 0:M.split("#").pop())}))throw new mt(gt.InvalidDidDocument,"DID document must contain an Identity Key");return j})}static getSigningMethod(e){return Xt(this,arguments,void 0,function*({didDocument:n,methodId:u="#0"}){var c;const A=Pt.parse(n.id);if(A&&A.method!==this.methodName)throw new mt(gt.MethodNotSupported,`Method not supported: ${A.method}`);const j=null===(c=n.verificationMethod)||void 0===c?void 0:c.find(te=>{var M,O;return Vr(te.id)===(null!==(M=Vr(u))&&void 0!==M?M:Vr(null===(O=n.assertionMethod)||void 0===O?void 0:O[0]))});if(!j||!j.publicKeyJwk)throw new mt(gt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return j})}static publish(e){return Xt(this,arguments,void 0,function*({did:n,gatewayUri:u=Iu}){return yield vn.put({did:n,gatewayUri:u})})}static resolve(e){return Xt(this,arguments,void 0,function*(n,u={}){var c;const A=null!==(c=u?.gatewayUri)&&void 0!==c?c:Iu;try{yield zt.identifierToIdentityKey({didUri:n});const{didDocument:j,didDocumentMetadata:te}=yield vn.get({didUri:n,gatewayUri:A});return Object.assign(Object.assign({},nr),{didDocument:j,didDocumentMetadata:te})}catch(j){if(!(j instanceof mt))throw new Error(j);return Object.assign(Object.assign({},nr),{didResolutionMetadata:Object.assign({error:j.code},j.message&&{errorMessage:j.message})})}})}}return r.methodName="dht",r})();class vn{static get(t){return Xt(this,arguments,void 0,function*({didUri:e,gatewayUri:n}){const u=zt.identifierToIdentityKeyBytes({didUri:e}),c=yield vn.pkarrGet({gatewayUri:n,publicKeyBytes:u}),A=yield zt.parseBep44GetMessage({bep44Message:c}),j=yield vn.fromDnsPacket({didUri:e,dnsPacket:A});return j.didDocumentMetadata.versionId=c.seq.toString(),j})}static put(t){return Xt(this,arguments,void 0,function*({did:e,gatewayUri:n}){const u=yield vn.toDnsPacket({didDocument:e.document,didMetadata:e.metadata,authoritativeGatewayUris:[n]}),c=yield zt.createBep44PutMessage({dnsPacket:u,publicKeyBytes:zt.identifierToIdentityKeyBytes({didUri:e.uri}),signer:yield e.getSigner({methodId:"0"})}),A=yield vn.pkarrPut({gatewayUri:n,bep44Message:c});return{didDocument:e.document,didDocumentMetadata:Object.assign(Object.assign({},e.metadata),{published:A,versionId:c.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return Xt(this,arguments,void 0,function*({gatewayUri:e,publicKeyBytes:n}){const u=ft.uint8Array(n).toBase32Z(),c=new URL(u,e).href;let A;try{if(A=yield fetch(c,{method:"GET"}),!A.ok)throw new mt(gt.NotFound,`Pkarr record not found for: ${u}`)}catch(M){throw M instanceof mt?M:new mt(gt.InternalError,`Failed to fetch Pkarr record: ${M.message}`)}const j=yield A.arrayBuffer();if(!j)throw new mt(gt.NotFound,`Pkarr record not found for: ${u}`);if(j.byteLength<72)throw new mt(gt.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${j.byteLength}`);if(j.byteLength>1072)throw new mt(gt.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${j.byteLength}`);return{k:n,seq:Number(new DataView(j).getBigUint64(64)),sig:new Uint8Array(j,0,64),v:new Uint8Array(j,72)}})}static pkarrPut(t){return Xt(this,arguments,void 0,function*({gatewayUri:e,bep44Message:n}){const u=ft.uint8Array(n.k).toBase32Z(),c=new URL(u,e).href,A=new Uint8Array(n.v.length+72);let j;A.set(n.sig,0),new DataView(A.buffer).setBigUint64(n.sig.length,BigInt(n.seq)),A.set(n.v,n.sig.length+8);try{j=yield fetch(c,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:A})}catch(te){throw new mt(gt.InternalError,`Failed to put Pkarr record for identifier ${u}: ${te.message}`)}return j.ok})}static fromDnsPacket(t){return Xt(this,arguments,void 0,function*({didUri:e,dnsPacket:n}){var u,c,A;const j={id:e},te={published:!0},M=new Map;for(const O of null!==(u=n?.answers)&&void 0!==u?u:[]){if("TXT"!==O.type)continue;const se=O.name.split(".")[0].substring(1);switch(!0){case se.startsWith("aka"):{const Ie=zt.parseTxtDataToString(O.data);j.alsoKnownAs=Ie.split(gr);break}case se.startsWith("cnt"):{const Ie=zt.parseTxtDataToString(O.data);j.controller=Ie.includes(gr)?Ie.split(gr):Ie;break}case se.startsWith("k"):{const{id:Ie,t:ke,k:Ne,c:Xe,a:ot}=zt.parseTxtDataToObject(O.data),it=ft.base64Url(Ne).toUint8Array(),nt=_r[Number(ke)];let Ye=yield zt.keyConverter(nt).bytesToPublicKey({publicKeyBytes:it});Ye.alg=ot||Ru[Number(ke)];const ze="k0"===se?"0":void 0!==Ie?Ie:yield Ot({jwk:Ye});null!==(c=j.verificationMethod)&&void 0!==c||(j.verificationMethod=[]);const st=`${e}#${ze}`;j.verificationMethod.push({id:st,type:"JsonWebKey",controller:Xe??e,publicKeyJwk:Ye}),M.set(se,st);break}case se.startsWith("s"):{const Ie=zt.parseTxtDataToObject(O.data),{id:ke,t:Ne,se:Xe}=Ie,ot=Tu(Ie,["id","t","se"]),it=Xe.includes(gr)?Xe.split(gr):[Xe],nt=Object.fromEntries(Object.entries(ot).map(([Ye,ze])=>[Ye,ze.includes(gr)?ze.split(gr):ze]));null!==(A=j.service)&&void 0!==A||(j.service=[]),j.service.push(Object.assign(Object.assign({},nt),{id:`${e}#${ke}`,type:Ne,serviceEndpoint:it}));break}case se.startsWith("typ"):{const{id:Ie}=zt.parseTxtDataToObject(O.data);te.types=Ie.split(gr).map(ke=>Number(ke));break}case se.startsWith("did"):{const Ie=nt=>nt.split(gr).map(Ye=>M.get(Ye)).filter(Ye=>"string"==typeof Ye),{auth:ke,asm:Ne,del:Xe,inv:ot,agm:it}=zt.parseTxtDataToObject(O.data);ke&&(j.authentication=Ie(ke)),Ne&&(j.assertionMethod=Ie(Ne)),Xe&&(j.capabilityDelegation=Ie(Xe)),ot&&(j.capabilityInvocation=Ie(ot)),it&&(j.keyAgreement=Ie(it));break}}}return{didDocument:j,didDocumentMetadata:te,didResolutionMetadata:{}}})}static toDnsPacket(t){return Xt(this,arguments,void 0,function*({didDocument:e,didMetadata:n,authoritativeGatewayUris:u,previousDidProof:c}){var A,j,te,M,O;const se=[],Ie=[],ke=new Map,Ne=[],Xe=[];if(void 0!==c){const{signature:nt,previousDid:Ye}=c;yield zt.validatePreviousDidProof({newDid:e.id,previousDidProof:c}),se.push({type:"TXT",name:"_prv._did.",ttl:$n,data:`id=${Ye};s=${nt}`})}if(e.alsoKnownAs&&se.push({type:"TXT",name:"_aka._did.",ttl:$n,data:e.alsoKnownAs.join(gr)}),e.controller){const nt=Array.isArray(e.controller)?e.controller.join(gr):e.controller;se.push({type:"TXT",name:"_cnt._did.",ttl:$n,data:nt})}for(const[nt,Ye]of null!==(j=null===(A=e.verificationMethod)||void 0===A?void 0:A.entries())&&void 0!==j?j:[]){const ze=`k${nt}`;Xe.push(ze);let st=Ye.id.split("#").pop();ke.set(st,ze);const et=Ye.publicKeyJwk;if(!et?.crv||!(et.crv in $u))throw new mt(gt.InvalidPublicKeyType,`Verification method '${Ye.id}' contains an unsupported key type: ${null!==(te=et?.crv)&&void 0!==te?te:"undefined"}`);const qe=_r[et.crv],dt=yield zt.keyConverter(et.crv).publicKeyToBytes({publicKey:et}),vt=[`t=${qe}`,`k=${ft.uint8Array(dt).toBase64Url()}`];"0"!==st&&(yield Ot({jwk:et}))!==st&&vt.unshift(`id=${st}`),et.alg!==Ru[qe]&&vt.push(`a=${et.alg}`),Ye.controller!==e.id&&vt.push(`c=${Ye.controller}`),se.push({type:"TXT",name:`_${ze}._did.`,ttl:$n,data:vt.join(";")})}null===(M=e.service)||void 0===M||M.forEach((nt,Ye)=>{const ze=`s${Ye}`;Ne.push(ze);let{id:st,type:et,serviceEndpoint:qe}=nt,dt=Tu(nt,["id","type","serviceEndpoint"]);st=Vr(st),qe=Array.isArray(qe)?qe.join(","):qe;const vt=Object.entries(Object.assign({id:st,t:et,se:qe},dt)).map(([An,Ao])=>`${An}=${Ao}`).join(";"),_t=zt.chunkDataIfNeeded(vt);se.push({type:"TXT",name:`_${ze}._did.`,ttl:$n,data:_t})});const ot=["v=0"];if(Xe.length&&ot.push(`vm=${Xe.join(gr)}`),Object.keys(Ys).forEach(nt=>{var Ye;const ze=null===(Ye=e[nt])||void 0===Ye?void 0:Ye.map(st=>ke.get(st.split("#").pop()));ze&&ot.push(`${ku[nt]}=${ze.join(gr)}`)}),Ne.length&&ot.push(`svc=${Ne.join(gr)}`),null!==(O=n.types)&&void 0!==O&&O.length){const Ye=n.types.map(ze=>"string"==typeof ze?ju[ze]:ze);se.push({type:"TXT",name:"_typ._did.",ttl:$n,data:`id=${Ye.join(gr)}`})}se.push({type:"TXT",name:"_did."+vn.getUniqueDidSuffix(e.id)+".",ttl:$n,data:ot.join(";")});for(const nt of u||[])Ie.push({type:"NS",name:"_did."+vn.getUniqueDidSuffix(e.id)+".",ttl:$n,data:nt+"."});return{id:0,type:"response",flags:fa.hB,answers:[...se,...Ie]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class zt{static createBep44PutMessage(t){return Xt(this,arguments,void 0,function*({dnsPacket:e,publicKeyBytes:n,signer:u}){const c=Math.ceil(Date.now()/1e3),A=(0,fa.lF)(e),j=Fu.A.encode({seq:c,v:A}).subarray(1,-1);if(j.length>1e3)throw new mt(gt.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${j.length} bytes`);return{k:n,seq:c,sig:yield u.sign({data:j}),v:A}})}static identifierToIdentityKey(t){return Xt(this,arguments,void 0,function*({didUri:e}){let n=zt.identifierToIdentityKeyBytes({didUri:e});return yield Kt.bytesToPublicKey({publicKeyBytes:n})})}static identifierToIdentityKeyBytes({didUri:t}){const e=Pt.parse(t);if(!e)throw new mt(gt.InvalidDid,`Invalid DID URI: ${t}`);if(e.method!==pa.methodName)throw new mt(gt.MethodNotSupported,`Method not supported: ${e.method}`);let n;try{n=ft.base32Z(e.id).toUint8Array()}catch{throw new mt(gt.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==n.length)throw new mt(gt.InvalidPublicKeyLength,`Invalid public key length: ${n.length}`);return n}static identityKeyToIdentifier(t){return Xt(this,arguments,void 0,function*({identityKey:e}){const n=yield Kt.publicKeyToBytes({publicKey:e}),u=ft.uint8Array(n).toBase32Z();return`did:${pa.methodName}:${u}`})}static keyConverter(t){const n={Ed25519:Kt,"P-256":{publicKeyToBytes:u=>Xt(this,[u],void 0,function*({publicKey:c}){const A=yield Lt.publicKeyToBytes({publicKey:c});return yield Lt.compressPublicKey({publicKeyBytes:A})}),bytesToPublicKey:Lt.bytesToPublicKey,privateKeyToBytes:Lt.privateKeyToBytes,bytesToPrivateKey:Lt.bytesToPrivateKey},secp256k1:{publicKeyToBytes:u=>Xt(this,[u],void 0,function*({publicKey:c}){const A=yield Nt.publicKeyToBytes({publicKey:c});return yield Nt.compressPublicKey({publicKeyBytes:A})}),bytesToPublicKey:Nt.bytesToPublicKey,privateKeyToBytes:Nt.privateKeyToBytes,bytesToPrivateKey:Nt.bytesToPrivateKey},X25519:qn}[t];if(!n)throw new mt(gt.InvalidPublicKeyType,`Unsupported curve: ${t}`);return n}static parseBep44GetMessage(t){return Xt(this,arguments,void 0,function*({bep44Message:e}){const n=yield Kt.bytesToPublicKey({publicKeyBytes:e.k}),u=Fu.A.encode({seq:e.seq,v:e.v}).subarray(1,-1);if(!(yield Kt.verify({key:n,signature:e.sig,data:u})))throw new mt(gt.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,fa.D4)(e.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((e,n)=>{const[u,c]=n.split("=");return e[u]=c,e},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return ft.uint8Array(t).toString();if(Array.isArray(t))return t.map(e=>this.parseTxtDataToString(e)).join("");throw new mt(gt.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return Xt(this,arguments,void 0,function*({newDid:e,previousDidProof:n}){const u=yield zt.identifierToIdentityKey({didUri:n.previousDid}),c=zt.identifierToIdentityKeyBytes({didUri:e}),A=ft.base64Url(n.signature).toUint8Array();if(!(yield Kt.verify({key:u,data:c,signature:A})))throw new mt(gt.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const e=[];for(let n=0;n<t.length;n+=255)e.push(t.slice(n,n+255));return e}}var Nu=s(52039),Rn=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})},bn=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(bn||{});const Mf={Ed25519:bn.Ed25519,ES256K:bn.secp256k1,ES256:bn.secp256r1,"P-256":bn.secp256r1,secp256k1:bn.secp256k1,secp256r1:bn.secp256r1},Mu="https://ion.tbd.engineering";let Uf=(()=>{class r extends ws{static create(){return Rn(this,arguments,void 0,function*({keyManager:e=new gn,options:n={}}={}){var u,c,A,j,te,M,O;if(null!==(u=n.verificationMethods)&&void 0!==u&&u.some(et=>!(et.algorithm in Mf)))throw new Error("One or more verification method algorithms are not supported");const se=null===(c=n.verificationMethods)||void 0===c?void 0:c.filter(et=>"id"in et).map(et=>et.id);if(se&&se.length!==new Set(se).size)throw new Error("One or more verification method IDs are not unique");if(null!==(A=n.services)&&void 0!==A&&A.some(et=>!et.id||!et.type||!et.serviceEndpoint))throw new Error("One or more services are missing required properties");const Ie={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},ke=[];for(const et of null!==(j=n.verificationMethods)&&void 0!==j?j:[Ie]){const qe=yield e.generateKey({algorithm:et.algorithm}),dt=yield e.getPublicKey({keyUri:qe});ke.push({id:et.id,publicKeyJwk:dt,purposes:null!==(te=et.purposes)&&void 0!==te?te:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Ne=yield e.generateKey({algorithm:bn.secp256k1}),Xe=yield e.getPublicKey({keyUri:Ne}),ot=yield e.generateKey({algorithm:bn.secp256k1}),it=yield e.getPublicKey({keyUri:ot}),nt=yield Mr.computeLongFormDidUri({recoveryKey:Xe,updateKey:it,services:null!==(M=n.services)&&void 0!==M?M:[],verificationMethods:ke}),{didDocument:Ye,didResolutionMetadata:ze}=yield r.resolve(nt,{gatewayUri:n.gatewayUri});if(null===Ye)throw new Error(`Unable to resolve DID during creation: ${ze?.error}`);const st=new en({uri:nt,document:Ye,metadata:{published:!1,canonicalId:nt.split(":",3).join(":"),recoveryKey:Xe,updateKey:it},keyManager:e});if(null===(O=n.publish)||void 0===O||O){const et=yield r.publish({did:st,gatewayUri:n.gatewayUri});st.metadata=et.didDocumentMetadata}return st})}static getSigningMethod(e){return Rn(this,arguments,void 0,function*({didDocument:n,methodId:u}){var c;const A=Pt.parse(n.id);if(A&&A.method!==this.methodName)throw new mt(gt.MethodNotSupported,`Method not supported: ${A.method}`);const j=null===(c=n.verificationMethod)||void 0===c?void 0:c.find(te=>{var M;return te.id===(u??(null===(M=n.assertionMethod)||void 0===M?void 0:M[0]))});if(!j||!j.publicKeyJwk)throw new mt(gt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return j})}static import(e){return Rn(this,arguments,void 0,function*({portableDid:n,keyManager:u=new gn}){const c=Pt.parse(n.uri);if(c?.method!==r.methodName)throw new mt(gt.MethodNotSupported,"Method not supported");return yield en.import({portableDid:n,keyManager:u})})}static publish(e){return Rn(this,arguments,void 0,function*({did:n,gatewayUri:u=Mu}){var c,A,j;const te=null!==(A=null===(c=n.document.verificationMethod)||void 0===c?void 0:c.map(se=>({id:se.id,publicKeyJwk:se.publicKeyJwk,purposes:$f({didDocument:n.document,methodId:se.id})})))&&void 0!==A?A:[],M=yield Mr.createIonDocument({services:null!==(j=n.document.service)&&void 0!==j?j:[],verificationMethods:te}),O=yield Mr.constructCreateRequest({ionDocument:M,recoveryKey:n.metadata.recoveryKey,updateKey:n.metadata.updateKey});try{const se=Mr.appendPathToUrl({baseUrl:u,path:"/operations"}),Ie=yield fetch(se,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:Ie.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:gt.InternalError,errorMessage:`Failed to publish DID document for: ${n.uri}`}}}})}static resolve(e){return Rn(this,arguments,void 0,function*(n,u={}){var c,A;const j=Pt.parse(n);if(!j)return Object.assign(Object.assign({},nr),{didResolutionMetadata:{error:"invalidDid"}});if(j.method!==r.methodName)return Object.assign(Object.assign({},nr),{didResolutionMetadata:{error:"methodNotSupported"}});const te=null!==(c=u?.gatewayUri)&&void 0!==c?c:Mu;try{const M=Mr.appendPathToUrl({baseUrl:te,path:`/identifiers/${n}`}),O=yield fetch(M);if(!O.ok)throw new mt(gt.NotFound,`Unable to find DID document for: ${n}`);const{didDocument:se,didDocumentMetadata:Ie}=yield O.json();return Object.assign(Object.assign(Object.assign({},nr),se&&{didDocument:se}),{didDocumentMetadata:Object.assign({published:null===(A=Ie?.method)||void 0===A?void 0:A.published},Ie)})}catch(M){if(!(M instanceof mt))throw new Error(M);return Object.assign(Object.assign({},nr),{didResolutionMetadata:Object.assign({error:M.code},M.message&&{errorMessage:M.message})})}})}}return r.methodName="ion",r})();class Mr{static appendPathToUrl({baseUrl:t,path:e}){const n=new URL(t);return n.pathname=n.pathname.endsWith("/")?n.pathname:n.pathname+"/",n.pathname+=e.startsWith("/")?e.substring(1):e,n.toString()}static computeLongFormDidUri(t){return Rn(this,arguments,void 0,function*({recoveryKey:e,updateKey:n,services:u,verificationMethods:c}){const A=yield Mr.createIonDocument({services:u,verificationMethods:c}),j=Mr.normalizeJwk(e),te=Mr.normalizeJwk(n);return yield Nu.oU.createLongFormDid({document:A,recoveryKey:j,updateKey:te})})}static constructCreateRequest(t){return Rn(this,arguments,void 0,function*({ionDocument:e,recoveryKey:n,updateKey:u}){return yield Nu.Q2.createCreateRequest({document:e,recoveryKey:Mr.normalizeJwk(n),updateKey:Mr.normalizeJwk(u)})})}static createIonDocument(t){return Rn(this,arguments,void 0,function*({services:e,verificationMethods:n}){var u,c;const A=[];for(const M of n){let O=null!==(c=null!==(u=M.id)&&void 0!==u?u:M.publicKeyJwk.kid)&&void 0!==c?c:yield Ot({jwk:M.publicKeyJwk});O=`${O.split("#").pop()}`;const se={id:O,publicKeyJwk:Mr.normalizeJwk(M.publicKeyJwk),purposes:M.purposes,type:"JsonWebKey2020"};A.push(se)}return{publicKeys:A,services:e.map(M=>Object.assign(Object.assign({},M),{id:`${M.id.split("#").pop()}`}))}})}static normalizeJwk(t){const e=t.kty;let n;if("EC"===e)n={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===e)n={k:t.k,kty:t.kty};else if("OKP"===e)n={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==e)throw new Error(`Unsupported key type: ${e}`);n={e:t.e,kty:t.kty,n:t.n}}return n}}var co=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};let Lf=(()=>{class r extends ws{static create(){return co(this,arguments,void 0,function*({keyManager:e=new gn,options:n={}}={}){var u,c,A,j;if(n.algorithm&&n.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(n.verificationMethods&&1!==n.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const te=null!==(j=null!==(u=n.algorithm)&&void 0!==u?u:null===(A=null===(c=n.verificationMethods)||void 0===c?void 0:c[0])||void 0===A?void 0:A.algorithm)&&void 0!==j?j:"Ed25519",M=yield e.generateKey({algorithm:te}),O=yield e.getPublicKey({keyUri:M}),se=ft.object(O).toBase64Url(),Ie=`did:${r.methodName}:${se}`,Ne=(yield r.resolve(Ie)).didDocument;return new en({uri:Ie,document:Ne,metadata:{},keyManager:e})})}static getSigningMethod(e){return co(this,arguments,void 0,function*({didDocument:n}){var u;const c=Pt.parse(n.id);if(c&&c.method!==this.methodName)throw new mt(gt.MethodNotSupported,`Method not supported: ${c.method}`);const[A]=null!==(u=n.verificationMethod)&&void 0!==u?u:[];if(!A||!A.publicKeyJwk)throw new mt(gt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return A})}static import(e){return co(this,arguments,void 0,function*({portableDid:n,keyManager:u=new gn}){const c=Pt.parse(n.uri);if(c?.method!==r.methodName)throw new mt(gt.MethodNotSupported,"Method not supported");const A=yield en.import({portableDid:n,keyManager:u});if(1!==A.document.verificationMethod.length)throw new mt(gt.InvalidDidDocument,"DID document must contain exactly one verification method");return A})}static resolve(e,n){return co(this,void 0,void 0,function*(){const u=Pt.parse(e);let c;try{c=ft.base64Url(u.id).toObject()}catch{}if(!u||!c)return Object.assign(Object.assign({},nr),{didResolutionMetadata:{error:"invalidDid"}});if(u.method!==r.methodName)return Object.assign(Object.assign({},nr),{didResolutionMetadata:{error:"methodNotSupported"}});const A={"@context":["https://www.w3.org/ns/did/v1"],id:u.uri},j=`${A.id}#0`;switch(A.verificationMethod=[{id:j,type:"JsonWebKey",controller:A.id,publicKeyJwk:c}],A.authentication=[j],A.assertionMethod=[j],A.capabilityInvocation=[j],A.capabilityDelegation=[j],A.keyAgreement=[j],c.use){case"sig":delete A.keyAgreement;break;case"enc":delete A.authentication,delete A.assertionMethod,delete A.capabilityInvocation,delete A.capabilityDelegation}return Object.assign(Object.assign({},nr),{didDocument:A})})}}return r.methodName="jwk",r})();var Wr=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})},Nn=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Nn||{});const ha={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},Kf={Ed25519:Nn.Ed25519,ES256K:Nn.secp256k1,ES256:Nn.secp256r1,"P-256":Nn.secp256r1,secp256k1:Nn.secp256k1,secp256r1:Nn.secp256r1,X25519:Nn.X25519};let Vf=(()=>{class r extends ws{static create(){return Wr(this,arguments,void 0,function*({keyManager:e=new gn,options:n={}}={}){var u,c,A,j;if(n.algorithm&&n.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(n.verificationMethods&&1!==n.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const te=null!==(j=null!==(u=n.algorithm)&&void 0!==u?u:null===(A=null===(c=n.verificationMethods)||void 0===c?void 0:c[0])||void 0===A?void 0:A.algorithm)&&void 0!==j?j:"Ed25519",M=yield e.generateKey({algorithm:te}),O=yield e.getPublicKey({keyUri:M}),se=yield wn.publicKeyToMultibaseId({publicKey:O}),Ie=`did:${r.methodName}:${se}`,Ne=(yield r.resolve(Ie,n)).didDocument;return new en({uri:Ie,document:Ne,metadata:{},keyManager:e})})}static getSigningMethod(e){return Wr(this,arguments,void 0,function*({didDocument:n}){var u;const c=Pt.parse(n.id);if(c&&c.method!==this.methodName)throw new mt(gt.MethodNotSupported,`Method not supported: ${c.method}`);const[A]=n.assertionMethod||[],j=null===(u=n.verificationMethod)||void 0===u?void 0:u.find(te=>te.id===A);if(!j||!j.publicKeyJwk)throw new mt(gt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return j})}static import(e){return Wr(this,arguments,void 0,function*({portableDid:n,keyManager:u=new gn}){const c=Pt.parse(n.uri);if(c?.method!==r.methodName)throw new mt(gt.MethodNotSupported,"Method not supported");const A=yield en.import({portableDid:n,keyManager:u});if(1!==A.document.verificationMethod.length)throw new mt(gt.InvalidDidDocument,"DID document must contain exactly one verification method");return A})}static resolve(e,n){return Wr(this,void 0,void 0,function*(){try{const u=yield r.createDocument({didUri:e,options:n});return Object.assign(Object.assign({},nr),{didDocument:u})}catch(u){if(!(u instanceof mt))throw new Error(u);return Object.assign(Object.assign({},nr),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}static createDocument(e){return Wr(this,arguments,void 0,function*({didUri:n,options:u={}}){const{defaultContext:c="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:A=!1,enableExperimentalPublicKeyTypes:j=!1,publicKeyFormat:te="JsonWebKey2020"}=u,M={id:""},O=Pt.parse(n);if(!O)throw new mt(gt.InvalidDid,`Invalid DID URI: ${n}`);const se=O.id;if(O.method!==r.methodName)throw new mt(gt.MethodNotSupported,`Method not supported: ${O.method}`);if(!r.validateIdentifier(O))throw new mt(gt.InvalidDid,`Invalid DID URI: ${n}`);const Ie=yield r.createSignatureMethod({didUri:n,multibaseValue:se,options:{enableExperimentalPublicKeyTypes:j,publicKeyFormat:te}});if(M.id=O.uri,M.verificationMethod=[Ie],M.authentication=[Ie.id],M.assertionMethod=[Ie.id],M.capabilityInvocation=[Ie.id],M.capabilityDelegation=[Ie.id],!0===A){const Xe="Ed25519VerificationKey2020"===te?"X25519KeyAgreementKey2020":"JsonWebKey2020",ot=yield this.createEncryptionMethod({didUri:n,multibaseValue:se,options:{enableExperimentalPublicKeyTypes:j,publicKeyFormat:Xe}});M.verificationMethod.push(ot),M.keyAgreement=[ot.id]}const ke=[c];return function kf({didDocument:r}){const e=da({didDocument:r}).map(n=>n.type);return[...new Set(e)]}({didDocument:M}).forEach(Xe=>{ke.push(ha[Xe])}),M["@context"]=ke,M})}static createEncryptionMethod(e){return Wr(this,arguments,void 0,function*({didUri:n,multibaseValue:u,options:c}){const{enableExperimentalPublicKeyTypes:A,publicKeyFormat:j}=c,te={id:"",type:"",controller:""},{keyBytes:M,multicodecCode:O}=yield r.deriveEncryptionKey({multibaseValue:u}),se=M.byteLength,Ie=wn.MULTICODEC_PUBLIC_KEY_LENGTH[O];if(se!==Ie)throw new mt(gt.InvalidPublicKeyLength,`Expected ${se} bytes. Actual: ${Ie}`);const ke=xu({keyBytes:M,multicodecCode:O});te.id=`${n}#${ke}`;try{new URL(te.id)}catch{throw new mt(gt.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(j in ha))throw new mt(gt.UnsupportedPublicKeyType,`Unsupported format: ${j}`);if(!1===A&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(j))throw new mt(gt.InvalidPublicKeyType,`Specified '${j}' without setting enableExperimentalPublicKeyTypes to true.`);if(te.type=j,te.controller=n,"X25519KeyAgreementKey2020"===j&&(te.publicKeyMultibase=ke),"JsonWebKey2020"===j){const{crv:Xe}=yield wn.multicodecToJwk({code:O});te.publicKeyJwk=yield wn.keyConverter(Xe).bytesToPublicKey({publicKeyBytes:M})}return te})}static createSignatureMethod(e){return Wr(this,arguments,void 0,function*({didUri:n,multibaseValue:u,options:c}){const{enableExperimentalPublicKeyTypes:A,publicKeyFormat:j}=c,te={id:"",type:"",controller:""},{keyBytes:M,multicodecCode:O,multicodecName:se}=Ou({multibaseKeyId:u}),Ie=M.byteLength,ke=wn.MULTICODEC_PUBLIC_KEY_LENGTH[O];if(Ie!==ke)throw new mt(gt.InvalidPublicKeyLength,`Expected ${Ie} bytes. Actual: ${ke}`);let Ne=!1;switch(se){case"secp256k1-pub":Ne=yield Nt.validatePublicKey({publicKeyBytes:M});break;case"ed25519-pub":Ne=yield Kt.validatePublicKey({publicKeyBytes:M});break;case"x25519-pub":Ne=!0}if(!Ne)throw new mt(gt.InvalidPublicKey,"Invalid public key detected.");te.id=`${n}#${u}`;try{new URL(te.id)}catch{throw new mt(gt.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(j in ha))throw new mt(gt.UnsupportedPublicKeyType,`Unsupported format: ${j}`);if(!1===A&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(j))throw new mt(gt.InvalidPublicKeyType,`Specified '${j}' without setting enableExperimentalPublicKeyTypes to true.`);if(te.type=j,te.controller=n,"Ed25519VerificationKey2020"===j&&(te.publicKeyMultibase=u),"JsonWebKey2020"===j){const{crv:ot}=yield wn.multicodecToJwk({code:O});te.publicKeyJwk=yield wn.keyConverter(ot).bytesToPublicKey({publicKeyBytes:M})}return te})}static deriveEncryptionKey(e){return Wr(this,arguments,void 0,function*({multibaseValue:n}){let u={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:c,multicodecCode:A}=Ou({multibaseKeyId:n});if(237===A){const j=yield wn.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:c}),te=yield Kt.convertPublicKeyToX25519({publicKey:j});u={keyBytes:yield wn.keyConverter("Ed25519").publicKeyToBytes({publicKey:te}),multicodecCode:236}}return u})}static validateIdentifier(e){const{method:n,id:u}=e,[c]=e.uri.split(":",1);return"did"===c&&"key"===n&&Number("1")>0&&"String"===Ho(u)&&u.startsWith("z")}}return r.methodName="key",r})(),wn=(()=>{class r{static jwkToMulticodec(e){return Wr(this,arguments,void 0,function*({jwk:n}){const u=[];n.crv&&(u.push(n.crv),u.push(n.d?"private":"public"));const c=u.join(":"),A=r.JWK_TO_MULTICODEC[c];if(void 0===A)throw new Error(`Unsupported JWK to Multicodec conversion: '${c}'`);return{code:Jt.getCodeFromName({name:A}),name:A}})}static keyCompressor(e){const u={"P-256":Lt.compressPublicKey,secp256k1:Nt.compressPublicKey}[e];if(!u)throw new mt(gt.InvalidPublicKeyType,`Unsupported curve: ${e}`);return u}static keyConverter(e){const u={Ed25519:Kt,"P-256":Lt,secp256k1:Nt,X25519:qn}[e];if(!u)throw new mt(gt.InvalidPublicKeyType,`Unsupported curve: ${e}`);return u}static multicodecToJwk(e){return Wr(this,arguments,void 0,function*({code:n,name:u}){if(!(u?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");u=void 0===u?Jt.getNameFromCode({code:n}):u;const A=r.MULTICODEC_TO_JWK[u];if(void 0===A)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},A)})}static publicKeyToMultibaseId(e){return Wr(this,arguments,void 0,function*({publicKey:n}){var u;if(!n?.crv||!(n.crv in Kf))throw new mt(gt.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(u=n?.crv)&&void 0!==u?u:"undefined"}`);let c=yield r.keyConverter(n.crv).publicKeyToBytes({publicKey:n});/^(secp256k1|P-256|P-384|P-521)$/.test(n.crv)&&(c=yield r.keyCompressor(n.crv)({publicKeyBytes:c}));const{name:A}=yield r.jwkToMulticodec({jwk:n});return xu({keyBytes:c,multicodecName:A})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();let Jf=(()=>{class r extends ws{static resolve(e,n){return function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const u=Pt.parse(e);if(!u)return Object.assign(Object.assign({},nr),{didResolutionMetadata:{error:"invalidDid"}});if(u.method!==r.methodName)return Object.assign(Object.assign({},nr),{didResolutionMetadata:{error:"methodNotSupported"}});let c=`https://${u.id.replace(/:/g,"/")}`;c=decodeURIComponent(c);const A=u.id.includes(":")?`${c}/did.json`:`${c}/.well-known/did.json`;try{const j=yield fetch(A);if(!j.ok)throw new Error("HTTP error status code returned");const te=yield j.json();return Object.assign(Object.assign({},nr),{didDocument:te})}catch{return Object.assign(Object.assign({},nr),{didResolutionMetadata:{error:"notFound"}})}})}}return r.methodName="web",r})();s(9236);const Hf={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var Uu=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})},Lu=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};const Zf=new class ed{constructor(t){var e;this._algorithmInstances=new Map,this._keyStore=null!==(e=t?.keyStore)&&void 0!==e?e:new Cl}digest(t){return pn(this,arguments,void 0,function*({algorithm:e,data:n}){return yield this.getAlgorithm({algorithm:e}).digest({algorithm:e,data:n})})}exportKey(t){return pn(this,arguments,void 0,function*({keyUri:e}){return yield this.getPrivateKey({keyUri:e})})}generateKey(t){return pn(this,arguments,void 0,function*({algorithm:e}){const u=yield this.getAlgorithm({algorithm:e}).generateKey({algorithm:e});if(void 0===u?.kid)throw new Error("Generated key is missing a required property: kid");const c=`${nu}${u.kid}`;return yield this._keyStore.set(c,u),c})}getKeyUri(t){return pn(this,arguments,void 0,function*({key:e}){const n=yield Zt({jwk:e});return`${nu}${n}`})}getPublicKey(t){return pn(this,arguments,void 0,function*({keyUri:e}){const n=yield this.getPrivateKey({keyUri:e}),u=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:u}).getPublicKey({key:n})})}importKey(t){return pn(this,arguments,void 0,function*({key:e}){var n;if(!function Zl(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(e))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const u=structuredClone(e);null!==(n=u.kid)&&void 0!==n||(u.kid=yield Zt({jwk:u}));const c=yield this.getKeyUri({key:u});return yield this._keyStore.set(c,u),c})}sign(t){return pn(this,arguments,void 0,function*({keyUri:e,data:n}){const u=yield this.getPrivateKey({keyUri:e}),c=this.getAlgorithmName({key:u});return this.getAlgorithm({algorithm:c}).sign({data:n,key:u})})}verify(t){return pn(this,arguments,void 0,function*({key:e,signature:n,data:u}){const c=this.getAlgorithmName({key:e});return this.getAlgorithm({algorithm:c}).verify({key:e,signature:n,data:u})})}getAlgorithm({algorithm:t}){var e;const n=null===(e=Lo[t])||void 0===e?void 0:e.implementation;if(!n)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(n)||this._algorithmInstances.set(n,new n),this._algorithmInstances.get(n)}getAlgorithmName({key:t}){const e=t.alg,n=t.crv;for(const u in Lo){const c=Lo[u];if(e&&c.names.includes(e))return u;if(n&&c.names.includes(n))return u}throw new Error(`Unable to determine algorithm based on provided input: alg=${e}, crv=${n}`)}getPrivateKey(t){return pn(this,arguments,void 0,function*({keyUri:e}){const n=yield this._keyStore.get(e);if(!n)throw new Error(`Key not found: ${e}`);return n})}};class Qn{static sign(t){return Lu(this,void 0,void 0,function*(){const{signerDid:e,payload:n}=t,u=yield e.getSigner();let c=u.keyId;"#"===c.charAt(0)&&(c=`${e.uri}${c}`);const A=Object.assign({alg:u.algorithm,kid:c},t.header),M=`${Ge.object(A).toBase64Url()}.${Ge.object(n).toBase64Url()}`,O=Ge.string(M).toUint8Array(),se=yield u.sign({data:O});return`${M}.${Ge.uint8Array(se).toBase64Url()}`})}static verify(t){return Lu(this,void 0,void 0,function*(){const{decoded:e,encoded:n}=Qn.parse({jwt:t.jwt});if(e.payload.exp&&Math.floor(Date.now()/1e3)>e.payload.exp)throw new Error("Verification failed: JWT is expired");const u=yield Qn.didResolver.dereference(e.header.kid);if(u.dereferencingMetadata.error)throw new Error(`Failed to resolve ${e.header.kid}`);const c=u.contentStream;if(!c||!ao(c))throw new Error("Verification failed: Expected kid in JWT header to dereference a DID Document Verification Method");const A=c.publicKeyJwk;if(!A)throw new Error("Verification failed: Expected kid in JWT header to dereference to a DID Document Verification Method with publicKeyJwk");if(A.alg&&A.alg!==e.header.alg)throw new Error("Verification failed: Expected alg in JWT header to match DID Document Verification Method alg");const te=Ge.string(`${n.header}.${n.payload}`).toUint8Array(),M=Ge.base64Url(n.signature).toUint8Array();if(!(yield Zf.verify({key:A,signature:M,data:te})))throw new Error("Signature verification failed: Integrity mismatch");return e})}static parse(t){const e=t.jwt.split(".");if(3!==e.length)throw new Error(`Verification failed: Malformed JWT. expected 3 parts. got ${e.length}`);const[n,u,c]=e;let A,j;try{A=Ge.base64Url(n).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT header")}if(!A.alg||!A.kid)throw new Error("Verification failed: Expected JWT header to contain alg and kid");try{j=Ge.base64Url(u).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT payload")}return{decoded:{header:A,payload:j},encoded:{header:n,payload:u,signature:c}}}}function mi(r){let t=r.length;for(;--t>=0;)r[t]=0}Qn.didResolver=new class Gf{constructor({cache:t,didResolvers:e}){this.didResolvers=new Map,this.cache=t||Hf;for(const n of e)this.didResolvers.set(n.methodName,n)}resolve(t,e){return Uu(this,void 0,void 0,function*(){const n=Pt.parse(t);if(!n)return Object.assign(Object.assign({},nr),{didResolutionMetadata:{error:gt.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const u=this.didResolvers.get(n.method);if(!u)return Object.assign(Object.assign({},nr),{didResolutionMetadata:{error:gt.MethodNotSupported,errorMessage:`Method not supported: ${n.method}`}});const c=yield this.cache.get(n.uri);if(c)return c;{const A=yield u.resolve(n.uri,e);return A.didResolutionMetadata.error||(yield this.cache.set(n.uri,A)),A}})}dereference(t,e){return Uu(this,void 0,void 0,function*(){const n=Pt.parse(t);if(!n)return{dereferencingMetadata:{error:gt.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:u,didResolutionMetadata:c,didDocumentMetadata:A}=yield this.resolve(n.uri);if(!u)return{dereferencingMetadata:{error:c.error},contentStream:null,contentMetadata:{}};if(!n.fragment||n.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:u,contentMetadata:A};const{service:j=[],verificationMethod:te=[]}=u,M=new Set([t,n.fragment,`#${n.fragment}`]);let O;for(let se of te)if(M.has(se.id)){O=se;break}for(let se of j)if(M.has(se.id)){O=se;break}return O?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:O,contentMetadata:c}:{dereferencingMetadata:{error:gt.NotFound},contentStream:null,contentMetadata:{}}})}}({didResolvers:[pa,Uf,Vf,Lf,Jf]}),new(s(30720).E8);const ba=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),lo=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ip=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Xu=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),En=new Array(576);mi(En);const Ss=new Array(60);mi(Ss);const As=new Array(512);mi(As);const Ds=new Array(256);mi(Ds);const wa=new Array(29);mi(wa);const fo=new Array(30);function Ea(r,t,e,n,u){this.static_tree=r,this.extra_bits=t,this.extra_base=e,this.elems=n,this.max_length=u,this.has_stree=r&&r.length}let Yu,qu,Qu;function _a(r,t){this.dyn_tree=r,this.max_code=0,this.stat_desc=t}mi(fo);const ec=r=>r<256?As[r]:As[256+(r>>>7)],Cs=(r,t)=>{r.pending_buf[r.pending++]=255&t,r.pending_buf[r.pending++]=t>>>8&255},Sr=(r,t,e)=>{r.bi_valid>16-e?(r.bi_buf|=t<<r.bi_valid&65535,Cs(r,r.bi_buf),r.bi_buf=t>>16-r.bi_valid,r.bi_valid+=e-16):(r.bi_buf|=t<<r.bi_valid&65535,r.bi_valid+=e)},tn=(r,t,e)=>{Sr(r,e[2*t],e[2*t+1])},tc=(r,t)=>{let e=0;do{e|=1&r,r>>>=1,e<<=1}while(--t>0);return e>>>1},rc=(r,t,e)=>{const n=new Array(16);let c,A,u=0;for(c=1;c<=15;c++)u=u+e[c-1]<<1,n[c]=u;for(A=0;A<=t;A++){let j=r[2*A+1];0!==j&&(r[2*A]=tc(n[j]++,j))}},nc=r=>{let t;for(t=0;t<286;t++)r.dyn_ltree[2*t]=0;for(t=0;t<30;t++)r.dyn_dtree[2*t]=0;for(t=0;t<19;t++)r.bl_tree[2*t]=0;r.dyn_ltree[512]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},ic=r=>{r.bi_valid>8?Cs(r,r.bi_buf):r.bi_valid>0&&(r.pending_buf[r.pending++]=r.bi_buf),r.bi_buf=0,r.bi_valid=0},sc=(r,t,e,n)=>{const u=2*t,c=2*e;return r[u]<r[c]||r[u]===r[c]&&n[t]<=n[e]},Sa=(r,t,e)=>{const n=r.heap[e];let u=e<<1;for(;u<=r.heap_len&&(u<r.heap_len&&sc(t,r.heap[u+1],r.heap[u],r.depth)&&u++,!sc(t,n,r.heap[u],r.depth));)r.heap[e]=r.heap[u],e=u,u<<=1;r.heap[e]=n},oc=(r,t,e)=>{let n,u,A,j,c=0;if(0!==r.sym_next)do{n=255&r.pending_buf[r.sym_buf+c++],n+=(255&r.pending_buf[r.sym_buf+c++])<<8,u=r.pending_buf[r.sym_buf+c++],0===n?tn(r,u,t):(A=Ds[u],tn(r,A+256+1,t),j=ba[A],0!==j&&(u-=wa[A],Sr(r,u,j)),n--,A=ec(n),tn(r,A,e),j=lo[A],0!==j&&(n-=fo[A],Sr(r,n,j)))}while(c<r.sym_next);tn(r,256,t)},Aa=(r,t)=>{const e=t.dyn_tree,n=t.stat_desc.static_tree,u=t.stat_desc.has_stree,c=t.stat_desc.elems;let A,j,M,te=-1;for(r.heap_len=0,r.heap_max=573,A=0;A<c;A++)0!==e[2*A]?(r.heap[++r.heap_len]=te=A,r.depth[A]=0):e[2*A+1]=0;for(;r.heap_len<2;)M=r.heap[++r.heap_len]=te<2?++te:0,e[2*M]=1,r.depth[M]=0,r.opt_len--,u&&(r.static_len-=n[2*M+1]);for(t.max_code=te,A=r.heap_len>>1;A>=1;A--)Sa(r,e,A);M=c;do{A=r.heap[1],r.heap[1]=r.heap[r.heap_len--],Sa(r,e,1),j=r.heap[1],r.heap[--r.heap_max]=A,r.heap[--r.heap_max]=j,e[2*M]=e[2*A]+e[2*j],r.depth[M]=(r.depth[A]>=r.depth[j]?r.depth[A]:r.depth[j])+1,e[2*A+1]=e[2*j+1]=M,r.heap[1]=M++,Sa(r,e,1)}while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],((r,t)=>{const e=t.dyn_tree,n=t.max_code,u=t.stat_desc.static_tree,c=t.stat_desc.has_stree,A=t.stat_desc.extra_bits,j=t.stat_desc.extra_base,te=t.stat_desc.max_length;let M,O,se,Ie,ke,Ne,Xe=0;for(Ie=0;Ie<=15;Ie++)r.bl_count[Ie]=0;for(e[2*r.heap[r.heap_max]+1]=0,M=r.heap_max+1;M<573;M++)O=r.heap[M],Ie=e[2*e[2*O+1]+1]+1,Ie>te&&(Ie=te,Xe++),e[2*O+1]=Ie,!(O>n)&&(r.bl_count[Ie]++,ke=0,O>=j&&(ke=A[O-j]),Ne=e[2*O],r.opt_len+=Ne*(Ie+ke),c&&(r.static_len+=Ne*(u[2*O+1]+ke)));if(0!==Xe){do{for(Ie=te-1;0===r.bl_count[Ie];)Ie--;r.bl_count[Ie]--,r.bl_count[Ie+1]+=2,r.bl_count[te]--,Xe-=2}while(Xe>0);for(Ie=te;0!==Ie;Ie--)for(O=r.bl_count[Ie];0!==O;)se=r.heap[--M],!(se>n)&&(e[2*se+1]!==Ie&&(r.opt_len+=(Ie-e[2*se+1])*e[2*se],e[2*se+1]=Ie),O--)}})(r,t),rc(e,te,r.bl_count)},ac=(r,t,e)=>{let n,c,u=-1,A=t[1],j=0,te=7,M=4;for(0===A&&(te=138,M=3),t[2*(e+1)+1]=65535,n=0;n<=e;n++)c=A,A=t[2*(n+1)+1],!(++j<te&&c===A)&&(j<M?r.bl_tree[2*c]+=j:0!==c?(c!==u&&r.bl_tree[2*c]++,r.bl_tree[32]++):j<=10?r.bl_tree[34]++:r.bl_tree[36]++,j=0,u=c,0===A?(te=138,M=3):c===A?(te=6,M=3):(te=7,M=4))},uc=(r,t,e)=>{let n,c,u=-1,A=t[1],j=0,te=7,M=4;for(0===A&&(te=138,M=3),n=0;n<=e;n++)if(c=A,A=t[2*(n+1)+1],!(++j<te&&c===A)){if(j<M)do{tn(r,c,r.bl_tree)}while(0!=--j);else 0!==c?(c!==u&&(tn(r,c,r.bl_tree),j--),tn(r,16,r.bl_tree),Sr(r,j-3,2)):j<=10?(tn(r,17,r.bl_tree),Sr(r,j-3,3)):(tn(r,18,r.bl_tree),Sr(r,j-11,7));j=0,u=c,0===A?(te=138,M=3):c===A?(te=6,M=3):(te=7,M=4)}};let cc=!1;const lc=(r,t,e,n)=>{Sr(r,0+(n?1:0),3),ic(r),Cs(r,e),Cs(r,~e),e&&r.pending_buf.set(r.window.subarray(t,t+e),r.pending),r.pending+=e};var Ep={_tr_init:r=>{cc||((()=>{let r,t,e,n,u;const c=new Array(16);for(e=0,n=0;n<28;n++)for(wa[n]=e,r=0;r<1<<ba[n];r++)Ds[e++]=n;for(Ds[e-1]=n,u=0,n=0;n<16;n++)for(fo[n]=u,r=0;r<1<<lo[n];r++)As[u++]=n;for(u>>=7;n<30;n++)for(fo[n]=u<<7,r=0;r<1<<lo[n]-7;r++)As[256+u++]=n;for(t=0;t<=15;t++)c[t]=0;for(r=0;r<=143;)En[2*r+1]=8,r++,c[8]++;for(;r<=255;)En[2*r+1]=9,r++,c[9]++;for(;r<=279;)En[2*r+1]=7,r++,c[7]++;for(;r<=287;)En[2*r+1]=8,r++,c[8]++;for(rc(En,287,c),r=0;r<30;r++)Ss[2*r+1]=5,Ss[2*r]=tc(r,5);Yu=new Ea(En,ba,257,286,15),qu=new Ea(Ss,lo,0,30,15),Qu=new Ea(new Array(0),ip,0,19,7)})(),cc=!0),r.l_desc=new _a(r.dyn_ltree,Yu),r.d_desc=new _a(r.dyn_dtree,qu),r.bl_desc=new _a(r.bl_tree,Qu),r.bi_buf=0,r.bi_valid=0,nc(r)},_tr_stored_block:lc,_tr_flush_block:(r,t,e,n)=>{let u,c,A=0;r.level>0?(2===r.strm.data_type&&(r.strm.data_type=(r=>{let e,t=4093624447;for(e=0;e<=31;e++,t>>>=1)if(1&t&&0!==r.dyn_ltree[2*e])return 0;if(0!==r.dyn_ltree[18]||0!==r.dyn_ltree[20]||0!==r.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==r.dyn_ltree[2*e])return 1;return 0})(r)),Aa(r,r.l_desc),Aa(r,r.d_desc),A=(r=>{let t;for(ac(r,r.dyn_ltree,r.l_desc.max_code),ac(r,r.dyn_dtree,r.d_desc.max_code),Aa(r,r.bl_desc),t=18;t>=3&&0===r.bl_tree[2*Xu[t]+1];t--);return r.opt_len+=3*(t+1)+5+5+4,t})(r),u=r.opt_len+3+7>>>3,c=r.static_len+3+7>>>3,c<=u&&(u=c)):u=c=e+5,e+4<=u&&-1!==t?lc(r,t,e,n):4===r.strategy||c===u?(Sr(r,2+(n?1:0),3),oc(r,En,Ss)):(Sr(r,4+(n?1:0),3),((r,t,e,n)=>{let u;for(Sr(r,t-257,5),Sr(r,e-1,5),Sr(r,n-4,4),u=0;u<n;u++)Sr(r,r.bl_tree[2*Xu[u]+1],3);uc(r,r.dyn_ltree,t-1),uc(r,r.dyn_dtree,e-1)})(r,r.l_desc.max_code+1,r.d_desc.max_code+1,A+1),oc(r,r.dyn_ltree,r.dyn_dtree)),nc(r),n&&ic(r)},_tr_tally:(r,t,e)=>(r.pending_buf[r.sym_buf+r.sym_next++]=t,r.pending_buf[r.sym_buf+r.sym_next++]=t>>8,r.pending_buf[r.sym_buf+r.sym_next++]=e,0===t?r.dyn_ltree[2*e]++:(r.matches++,t--,r.dyn_ltree[2*(Ds[e]+256+1)]++,r.dyn_dtree[2*ec(t)]++),r.sym_next===r.sym_end),_tr_align:r=>{Sr(r,2,3),tn(r,256,En),(r=>{16===r.bi_valid?(Cs(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=255&r.bi_buf,r.bi_buf>>=8,r.bi_valid-=8)})(r)}},Ps=(r,t,e,n)=>{let u=65535&r,c=r>>>16&65535,A=0;for(;0!==e;){A=e>2e3?2e3:e,e-=A;do{u=u+t[n++]|0,c=c+u|0}while(--A);u%=65521,c%=65521}return u|c<<16};const Sp=new Uint32Array((()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;t[e]=r}return t})());var Yt=(r,t,e,n)=>{const u=Sp,c=n+e;r^=-1;for(let A=n;A<c;A++)r=r>>>8^u[255&(r^t[A])];return~r},ti={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ri={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ap,_tr_stored_block:Da,_tr_flush_block:Dp,_tr_tally:Mn,_tr_align:Cp}=Ep,{Z_NO_FLUSH:Un,Z_PARTIAL_FLUSH:Pp,Z_FULL_FLUSH:xp,Z_FINISH:Ur,Z_BLOCK:dc,Z_OK:ar,Z_STREAM_END:fc,Z_STREAM_ERROR:rn,Z_DATA_ERROR:Op,Z_BUF_ERROR:Ca,Z_DEFAULT_COMPRESSION:Fp,Z_FILTERED:Bp,Z_HUFFMAN_ONLY:po,Z_RLE:Tp,Z_FIXED:Ip,Z_DEFAULT_STRATEGY:jp,Z_UNKNOWN:kp,Z_DEFLATED:ho}=ri,nn=262,si=(r,t)=>(r.msg=ti[t],t),pc=r=>2*r-(r>4?9:0),Kn=r=>{let t=r.length;for(;--t>=0;)r[t]=0},Jp=r=>{let t,e,n,u=r.w_size;t=r.hash_size,n=t;do{e=r.head[--n],r.head[n]=e>=u?e-u:0}while(--t);t=u,n=t;do{e=r.prev[--n],r.prev[n]=e>=u?e-u:0}while(--t)};let Vn=(r,t,e)=>(t<<r.hash_shift^e)&r.hash_mask;const xr=r=>{const t=r.state;let e=t.pending;e>r.avail_out&&(e=r.avail_out),0!==e&&(r.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),r.next_out),r.next_out+=e,t.pending_out+=e,r.total_out+=e,r.avail_out-=e,t.pending-=e,0===t.pending&&(t.pending_out=0))},Or=(r,t)=>{Dp(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,t),r.block_start=r.strstart,xr(r.strm)},xt=(r,t)=>{r.pending_buf[r.pending++]=t},Os=(r,t)=>{r.pending_buf[r.pending++]=t>>>8&255,r.pending_buf[r.pending++]=255&t},Ia=(r,t,e,n)=>{let u=r.avail_in;return u>n&&(u=n),0===u?0:(r.avail_in-=u,t.set(r.input.subarray(r.next_in,r.next_in+u),e),1===r.state.wrap?r.adler=Ps(r.adler,t,u,e):2===r.state.wrap&&(r.adler=Yt(r.adler,t,u,e)),r.next_in+=u,r.total_in+=u,u)},hc=(r,t)=>{let u,c,e=r.max_chain_length,n=r.strstart,A=r.prev_length,j=r.nice_match;const te=r.strstart>r.w_size-nn?r.strstart-(r.w_size-nn):0,M=r.window,O=r.w_mask,se=r.prev,Ie=r.strstart+258;let ke=M[n+A-1],Ne=M[n+A];r.prev_length>=r.good_match&&(e>>=2),j>r.lookahead&&(j=r.lookahead);do{if(u=t,M[u+A]===Ne&&M[u+A-1]===ke&&M[u]===M[n]&&M[++u]===M[n+1]){n+=2,u++;do{}while(M[++n]===M[++u]&&M[++n]===M[++u]&&M[++n]===M[++u]&&M[++n]===M[++u]&&M[++n]===M[++u]&&M[++n]===M[++u]&&M[++n]===M[++u]&&M[++n]===M[++u]&&n<Ie);if(c=258-(Ie-n),n=Ie-258,c>A){if(r.match_start=t,A=c,c>=j)break;ke=M[n+A-1],Ne=M[n+A]}}}while((t=se[t&O])>te&&0!=--e);return A<=r.lookahead?A:r.lookahead},Ei=r=>{const t=r.w_size;let e,n,u;do{if(n=r.window_size-r.lookahead-r.strstart,r.strstart>=t+(t-nn)&&(r.window.set(r.window.subarray(t,t+t-n),0),r.match_start-=t,r.strstart-=t,r.block_start-=t,r.insert>r.strstart&&(r.insert=r.strstart),Jp(r),n+=t),0===r.strm.avail_in)break;if(e=Ia(r.strm,r.window,r.strstart+r.lookahead,n),r.lookahead+=e,r.lookahead+r.insert>=3)for(u=r.strstart-r.insert,r.ins_h=r.window[u],r.ins_h=Vn(r,r.ins_h,r.window[u+1]);r.insert&&(r.ins_h=Vn(r,r.ins_h,r.window[u+3-1]),r.prev[u&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=u,u++,r.insert--,!(r.lookahead+r.insert<3)););}while(r.lookahead<nn&&0!==r.strm.avail_in)},yc=(r,t)=>{let n,u,c,e=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,A=0,j=r.strm.avail_in;do{if(n=65535,c=r.bi_valid+42>>3,r.strm.avail_out<c||(c=r.strm.avail_out-c,u=r.strstart-r.block_start,n>u+r.strm.avail_in&&(n=u+r.strm.avail_in),n>c&&(n=c),n<e&&(0===n&&t!==Ur||t===Un||n!==u+r.strm.avail_in)))break;A=t===Ur&&n===u+r.strm.avail_in?1:0,Da(r,0,0,A),r.pending_buf[r.pending-4]=n,r.pending_buf[r.pending-3]=n>>8,r.pending_buf[r.pending-2]=~n,r.pending_buf[r.pending-1]=~n>>8,xr(r.strm),u&&(u>n&&(u=n),r.strm.output.set(r.window.subarray(r.block_start,r.block_start+u),r.strm.next_out),r.strm.next_out+=u,r.strm.avail_out-=u,r.strm.total_out+=u,r.block_start+=u,n-=u),n&&(Ia(r.strm,r.strm.output,r.strm.next_out,n),r.strm.next_out+=n,r.strm.avail_out-=n,r.strm.total_out+=n)}while(0===A);return j-=r.strm.avail_in,j&&(j>=r.w_size?(r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart):(r.window_size-r.strstart<=j&&(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,r.insert>r.strstart&&(r.insert=r.strstart)),r.window.set(r.strm.input.subarray(r.strm.next_in-j,r.strm.next_in),r.strstart),r.strstart+=j,r.insert+=j>r.w_size-r.insert?r.w_size-r.insert:j),r.block_start=r.strstart),r.high_water<r.strstart&&(r.high_water=r.strstart),A?4:t!==Un&&t!==Ur&&0===r.strm.avail_in&&r.strstart===r.block_start?2:(c=r.window_size-r.strstart,r.strm.avail_in>c&&r.block_start>=r.w_size&&(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,c+=r.w_size,r.insert>r.strstart&&(r.insert=r.strstart)),c>r.strm.avail_in&&(c=r.strm.avail_in),c&&(Ia(r.strm,r.window,r.strstart,c),r.strstart+=c,r.insert+=c>r.w_size-r.insert?r.w_size-r.insert:c),r.high_water<r.strstart&&(r.high_water=r.strstart),c=r.bi_valid+42>>3,c=r.pending_buf_size-c>65535?65535:r.pending_buf_size-c,e=c>r.w_size?r.w_size:c,u=r.strstart-r.block_start,(u>=e||(u||t===Ur)&&t!==Un&&0===r.strm.avail_in&&u<=c)&&(n=u>c?c:u,A=t===Ur&&0===r.strm.avail_in&&n===u?1:0,Da(r,r.block_start,n,A),r.block_start+=n,xr(r.strm)),A?3:1)},ja=(r,t)=>{let e,n;for(;;){if(r.lookahead<nn){if(Ei(r),r.lookahead<nn&&t===Un)return 1;if(0===r.lookahead)break}if(e=0,r.lookahead>=3&&(r.ins_h=Vn(r,r.ins_h,r.window[r.strstart+3-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),0!==e&&r.strstart-e<=r.w_size-nn&&(r.match_length=hc(r,e)),r.match_length>=3)if(n=Mn(r,r.strstart-r.match_start,r.match_length-3),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=3){r.match_length--;do{r.strstart++,r.ins_h=Vn(r,r.ins_h,r.window[r.strstart+3-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart}while(0!=--r.match_length);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=Vn(r,r.ins_h,r.window[r.strstart+1]);else n=Mn(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(n&&(Or(r,!1),0===r.strm.avail_out))return 1}return r.insert=r.strstart<2?r.strstart:2,t===Ur?(Or(r,!0),0===r.strm.avail_out?3:4):r.sym_next&&(Or(r,!1),0===r.strm.avail_out)?1:2},_i=(r,t)=>{let e,n,u;for(;;){if(r.lookahead<nn){if(Ei(r),r.lookahead<nn&&t===Un)return 1;if(0===r.lookahead)break}if(e=0,r.lookahead>=3&&(r.ins_h=Vn(r,r.ins_h,r.window[r.strstart+3-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=2,0!==e&&r.prev_length<r.max_lazy_match&&r.strstart-e<=r.w_size-nn&&(r.match_length=hc(r,e),r.match_length<=5&&(r.strategy===Bp||3===r.match_length&&r.strstart-r.match_start>4096)&&(r.match_length=2)),r.prev_length>=3&&r.match_length<=r.prev_length){u=r.strstart+r.lookahead-3,n=Mn(r,r.strstart-1-r.prev_match,r.prev_length-3),r.lookahead-=r.prev_length-1,r.prev_length-=2;do{++r.strstart<=u&&(r.ins_h=Vn(r,r.ins_h,r.window[r.strstart+3-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart)}while(0!=--r.prev_length);if(r.match_available=0,r.match_length=2,r.strstart++,n&&(Or(r,!1),0===r.strm.avail_out))return 1}else if(r.match_available){if(n=Mn(r,0,r.window[r.strstart-1]),n&&Or(r,!1),r.strstart++,r.lookahead--,0===r.strm.avail_out)return 1}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(n=Mn(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<2?r.strstart:2,t===Ur?(Or(r,!0),0===r.strm.avail_out?3:4):r.sym_next&&(Or(r,!1),0===r.strm.avail_out)?1:2};function sn(r,t,e,n,u){this.good_length=r,this.max_lazy=t,this.nice_length=e,this.max_chain=n,this.func=u}const Fs=[new sn(0,0,0,0,yc),new sn(4,4,8,4,ja),new sn(4,5,16,8,ja),new sn(4,6,32,32,ja),new sn(4,4,16,16,_i),new sn(8,16,32,32,_i),new sn(8,16,128,128,_i),new sn(8,32,128,256,_i),new sn(32,128,258,1024,_i),new sn(32,258,258,4096,_i)];function Zp(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ho,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Kn(this.dyn_ltree),Kn(this.dyn_dtree),Kn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Kn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Kn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Bs=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},mc=r=>{if(Bs(r))return si(r,rn);r.total_in=r.total_out=0,r.data_type=kp;const t=r.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,r.adler=2===t.wrap?0:1,t.last_flush=-2,Ap(t),ar},gc=r=>{const t=mc(r);return t===ar&&(r=>{r.window_size=2*r.w_size,Kn(r.head),r.max_lazy_match=Fs[r.level].max_lazy,r.good_match=Fs[r.level].good_length,r.nice_match=Fs[r.level].nice_length,r.max_chain_length=Fs[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0})(r.state),t},vc=(r,t,e,n,u,c)=>{if(!r)return rn;let A=1;if(t===Fp&&(t=6),n<0?(A=0,n=-n):n>15&&(A=2,n-=16),u<1||u>9||e!==ho||n<8||n>15||t<0||t>9||c<0||c>Ip||8===n&&1!==A)return si(r,rn);8===n&&(n=9);const j=new Zp;return r.state=j,j.strm=r,j.status=42,j.wrap=A,j.gzhead=null,j.w_bits=n,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=u+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+3-1)/3),j.window=new Uint8Array(2*j.w_size),j.head=new Uint16Array(j.hash_size),j.prev=new Uint16Array(j.w_size),j.lit_bufsize=1<<u+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new Uint8Array(j.pending_buf_size),j.sym_buf=j.lit_bufsize,j.sym_end=3*(j.lit_bufsize-1),j.level=t,j.strategy=c,j.method=e,gc(r)};var Ts={deflateInit:(r,t)=>vc(r,t,ho,15,8,jp),deflateInit2:vc,deflateReset:gc,deflateResetKeep:mc,deflateSetHeader:(r,t)=>Bs(r)||2!==r.state.wrap?rn:(r.state.gzhead=t,ar),deflate:(r,t)=>{if(Bs(r)||t>dc||t<0)return r?si(r,rn):rn;const e=r.state;if(!r.output||0!==r.avail_in&&!r.input||666===e.status&&t!==Ur)return si(r,0===r.avail_out?Ca:rn);const n=e.last_flush;if(e.last_flush=t,0!==e.pending){if(xr(r),0===r.avail_out)return e.last_flush=-1,ar}else if(0===r.avail_in&&pc(t)<=pc(n)&&t!==Ur)return si(r,Ca);if(666===e.status&&0!==r.avail_in)return si(r,Ca);if(42===e.status&&0===e.wrap&&(e.status=113),42===e.status){let u=ho+(e.w_bits-8<<4)<<8,c=-1;if(c=e.strategy>=po||e.level<2?0:e.level<6?1:6===e.level?2:3,u|=c<<6,0!==e.strstart&&(u|=32),u+=31-u%31,Os(e,u),0!==e.strstart&&(Os(e,r.adler>>>16),Os(e,65535&r.adler)),r.adler=1,e.status=113,xr(r),0!==e.pending)return e.last_flush=-1,ar}if(57===e.status)if(r.adler=0,xt(e,31),xt(e,139),xt(e,8),e.gzhead)xt(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),xt(e,255&e.gzhead.time),xt(e,e.gzhead.time>>8&255),xt(e,e.gzhead.time>>16&255),xt(e,e.gzhead.time>>24&255),xt(e,9===e.level?2:e.strategy>=po||e.level<2?4:0),xt(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(xt(e,255&e.gzhead.extra.length),xt(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(r.adler=Yt(r.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69;else if(xt(e,0),xt(e,0),xt(e,0),xt(e,0),xt(e,0),xt(e,9===e.level?2:e.strategy>=po||e.level<2?4:0),xt(e,3),e.status=113,xr(r),0!==e.pending)return e.last_flush=-1,ar;if(69===e.status){if(e.gzhead.extra){let u=e.pending,c=(65535&e.gzhead.extra.length)-e.gzindex;for(;e.pending+c>e.pending_buf_size;){let j=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+j),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>u&&(r.adler=Yt(r.adler,e.pending_buf,e.pending-u,u)),e.gzindex+=j,xr(r),0!==e.pending)return e.last_flush=-1,ar;u=0,c-=j}let A=new Uint8Array(e.gzhead.extra);e.pending_buf.set(A.subarray(e.gzindex,e.gzindex+c),e.pending),e.pending+=c,e.gzhead.hcrc&&e.pending>u&&(r.adler=Yt(r.adler,e.pending_buf,e.pending-u,u)),e.gzindex=0}e.status=73}if(73===e.status){if(e.gzhead.name){let c,u=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>u&&(r.adler=Yt(r.adler,e.pending_buf,e.pending-u,u)),xr(r),0!==e.pending)return e.last_flush=-1,ar;u=0}c=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,xt(e,c)}while(0!==c);e.gzhead.hcrc&&e.pending>u&&(r.adler=Yt(r.adler,e.pending_buf,e.pending-u,u)),e.gzindex=0}e.status=91}if(91===e.status){if(e.gzhead.comment){let c,u=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>u&&(r.adler=Yt(r.adler,e.pending_buf,e.pending-u,u)),xr(r),0!==e.pending)return e.last_flush=-1,ar;u=0}c=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,xt(e,c)}while(0!==c);e.gzhead.hcrc&&e.pending>u&&(r.adler=Yt(r.adler,e.pending_buf,e.pending-u,u))}e.status=103}if(103===e.status){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(xr(r),0!==e.pending))return e.last_flush=-1,ar;xt(e,255&r.adler),xt(e,r.adler>>8&255),r.adler=0}if(e.status=113,xr(r),0!==e.pending)return e.last_flush=-1,ar}if(0!==r.avail_in||0!==e.lookahead||t!==Un&&666!==e.status){let u=0===e.level?yc(e,t):e.strategy===po?((r,t)=>{let e;for(;;){if(0===r.lookahead&&(Ei(r),0===r.lookahead)){if(t===Un)return 1;break}if(r.match_length=0,e=Mn(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,e&&(Or(r,!1),0===r.strm.avail_out))return 1}return r.insert=0,t===Ur?(Or(r,!0),0===r.strm.avail_out?3:4):r.sym_next&&(Or(r,!1),0===r.strm.avail_out)?1:2})(e,t):e.strategy===Tp?((r,t)=>{let e,n,u,c;const A=r.window;for(;;){if(r.lookahead<=258){if(Ei(r),r.lookahead<=258&&t===Un)return 1;if(0===r.lookahead)break}if(r.match_length=0,r.lookahead>=3&&r.strstart>0&&(u=r.strstart-1,n=A[u],n===A[++u]&&n===A[++u]&&n===A[++u])){c=r.strstart+258;do{}while(n===A[++u]&&n===A[++u]&&n===A[++u]&&n===A[++u]&&n===A[++u]&&n===A[++u]&&n===A[++u]&&n===A[++u]&&u<c);r.match_length=258-(c-u),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=3?(e=Mn(r,1,r.match_length-3),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(e=Mn(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),e&&(Or(r,!1),0===r.strm.avail_out))return 1}return r.insert=0,t===Ur?(Or(r,!0),0===r.strm.avail_out?3:4):r.sym_next&&(Or(r,!1),0===r.strm.avail_out)?1:2})(e,t):Fs[e.level].func(e,t);if((3===u||4===u)&&(e.status=666),1===u||3===u)return 0===r.avail_out&&(e.last_flush=-1),ar;if(2===u&&(t===Pp?Cp(e):t!==dc&&(Da(e,0,0,!1),t===xp&&(Kn(e.head),0===e.lookahead&&(e.strstart=0,e.block_start=0,e.insert=0))),xr(r),0===r.avail_out))return e.last_flush=-1,ar}return t!==Ur?ar:e.wrap<=0?fc:(2===e.wrap?(xt(e,255&r.adler),xt(e,r.adler>>8&255),xt(e,r.adler>>16&255),xt(e,r.adler>>24&255),xt(e,255&r.total_in),xt(e,r.total_in>>8&255),xt(e,r.total_in>>16&255),xt(e,r.total_in>>24&255)):(Os(e,r.adler>>>16),Os(e,65535&r.adler)),xr(r),e.wrap>0&&(e.wrap=-e.wrap),0!==e.pending?ar:fc)},deflateEnd:r=>{if(Bs(r))return rn;const t=r.state.status;return r.state=null,113===t?si(r,Op):ar},deflateSetDictionary:(r,t)=>{let e=t.length;if(Bs(r))return rn;const n=r.state,u=n.wrap;if(2===u||1===u&&42!==n.status||n.lookahead)return rn;if(1===u&&(r.adler=Ps(r.adler,t,e,0)),n.wrap=0,e>=n.w_size){0===u&&(Kn(n.head),n.strstart=0,n.block_start=0,n.insert=0);let te=new Uint8Array(n.w_size);te.set(t.subarray(e-n.w_size,e),0),t=te,e=n.w_size}const c=r.avail_in,A=r.next_in,j=r.input;for(r.avail_in=e,r.next_in=0,r.input=t,Ei(n);n.lookahead>=3;){let te=n.strstart,M=n.lookahead-2;do{n.ins_h=Vn(n,n.ins_h,n.window[te+3-1]),n.prev[te&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=te,te++}while(--M);n.strstart=te,n.lookahead=2,Ei(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,r.next_in=A,r.input=j,r.avail_in=c,n.wrap=u,ar},deflateInfo:"pako deflate (from Nodeca project)"};const lh=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var yo={assign:function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(const n in e)lh(e,n)&&(r[n]=e[n])}}return r},flattenChunks:r=>{let t=0;for(let n=0,u=r.length;n<u;n++)t+=r[n].length;const e=new Uint8Array(t);for(let n=0,u=0,c=r.length;n<c;n++){let A=r[n];e.set(A,u),u+=A.length}return e}};let bc=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bc=!1}const Is=new Uint8Array(256);for(let r=0;r<256;r++)Is[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Is[254]=Is[254]=1;var js={string2buf:r=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(r);let t,e,n,u,c,A=r.length,j=0;for(u=0;u<A;u++)e=r.charCodeAt(u),55296==(64512&e)&&u+1<A&&(n=r.charCodeAt(u+1),56320==(64512&n)&&(e=65536+(e-55296<<10)+(n-56320),u++)),j+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(j),c=0,u=0;c<j;u++)e=r.charCodeAt(u),55296==(64512&e)&&u+1<A&&(n=r.charCodeAt(u+1),56320==(64512&n)&&(e=65536+(e-55296<<10)+(n-56320),u++)),e<128?t[c++]=e:e<2048?(t[c++]=192|e>>>6,t[c++]=128|63&e):e<65536?(t[c++]=224|e>>>12,t[c++]=128|e>>>6&63,t[c++]=128|63&e):(t[c++]=240|e>>>18,t[c++]=128|e>>>12&63,t[c++]=128|e>>>6&63,t[c++]=128|63&e);return t},buf2string:(r,t)=>{const e=t||r.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(r.subarray(0,t));let n,u;const c=new Array(2*e);for(u=0,n=0;n<e;){let A=r[n++];if(A<128){c[u++]=A;continue}let j=Is[A];if(j>4)c[u++]=65533,n+=j-1;else{for(A&=2===j?31:3===j?15:7;j>1&&n<e;)A=A<<6|63&r[n++],j--;j>1?c[u++]=65533:A<65536?c[u++]=A:(A-=65536,c[u++]=55296|A>>10&1023,c[u++]=56320|1023&A)}}return((r,t)=>{if(t<65534&&r.subarray&&bc)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e})(c,u)},utf8border:(r,t)=>{(t=t||r.length)>r.length&&(t=r.length);let e=t-1;for(;e>=0&&128==(192&r[e]);)e--;return e<0||0===e?t:e+Is[r[e]]>t?e:t}},wc=function gh(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ec=Object.prototype.toString,{Z_NO_FLUSH:vh,Z_SYNC_FLUSH:bh,Z_FULL_FLUSH:wh,Z_FINISH:Eh,Z_OK:mo,Z_STREAM_END:_h,Z_DEFAULT_COMPRESSION:Sh,Z_DEFAULT_STRATEGY:Ah,Z_DEFLATED:Dh}=ri;function ks(r){this.options=yo.assign({level:Sh,method:Dh,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ah},r||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wc,this.strm.avail_out=0;let e=Ts.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==mo)throw new Error(ti[e]);if(t.header&&Ts.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(n="string"==typeof t.dictionary?js.string2buf(t.dictionary):"[object ArrayBuffer]"===Ec.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,e=Ts.deflateSetDictionary(this.strm,n),e!==mo)throw new Error(ti[e]);this._dict_set=!0}}function ka(r,t){const e=new ks(t);if(e.push(r,!0),e.err)throw e.msg||ti[e.err];return e.result}ks.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize;let u,c;if(this.ended)return!1;for(c=t===~~t?t:!0===t?Eh:vh,e.input="string"==typeof r?js.string2buf(r):"[object ArrayBuffer]"===Ec.call(r)?new Uint8Array(r):r,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(c===bh||c===wh)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(u=Ts.deflate(e,c),u===_h)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),u=Ts.deflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===mo;if(0!==e.avail_out){if(c>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},ks.prototype.onData=function(r){this.chunks.push(r)},ks.prototype.onEnd=function(r){r===mo&&(this.result=yo.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};var Ih={Deflate:ks,deflate:ka,deflateRaw:function Ch(r,t){return(t=t||{}).raw=!0,ka(r,t)},gzip:function Ph(r,t){return(t=t||{}).gzip=!0,ka(r,t)},constants:ri};const go=16209;var kh=function(t,e){let n,u,c,A,j,te,M,O,se,Ie,ke,Ne,Xe,ot,it,nt,Ye,ze,st,et,qe,dt,yt,vt;const _t=t.state;n=t.next_in,yt=t.input,u=n+(t.avail_in-5),c=t.next_out,vt=t.output,A=c-(e-t.avail_out),j=c+(t.avail_out-257),te=_t.dmax,M=_t.wsize,O=_t.whave,se=_t.wnext,Ie=_t.window,ke=_t.hold,Ne=_t.bits,Xe=_t.lencode,ot=_t.distcode,it=(1<<_t.lenbits)-1,nt=(1<<_t.distbits)-1;e:do{Ne<15&&(ke+=yt[n++]<<Ne,Ne+=8,ke+=yt[n++]<<Ne,Ne+=8),Ye=Xe[ke&it];t:for(;;){if(ze=Ye>>>24,ke>>>=ze,Ne-=ze,ze=Ye>>>16&255,0===ze)vt[c++]=65535&Ye;else{if(!(16&ze)){if(64&ze){if(32&ze){_t.mode=16191;break e}t.msg="invalid literal/length code",_t.mode=go;break e}Ye=Xe[(65535&Ye)+(ke&(1<<ze)-1)];continue t}for(st=65535&Ye,ze&=15,ze&&(Ne<ze&&(ke+=yt[n++]<<Ne,Ne+=8),st+=ke&(1<<ze)-1,ke>>>=ze,Ne-=ze),Ne<15&&(ke+=yt[n++]<<Ne,Ne+=8,ke+=yt[n++]<<Ne,Ne+=8),Ye=ot[ke&nt];;){if(ze=Ye>>>24,ke>>>=ze,Ne-=ze,ze=Ye>>>16&255,16&ze){if(et=65535&Ye,ze&=15,Ne<ze&&(ke+=yt[n++]<<Ne,Ne+=8,Ne<ze&&(ke+=yt[n++]<<Ne,Ne+=8)),et+=ke&(1<<ze)-1,et>te){t.msg="invalid distance too far back",_t.mode=go;break e}if(ke>>>=ze,Ne-=ze,ze=c-A,et>ze){if(ze=et-ze,ze>O&&_t.sane){t.msg="invalid distance too far back",_t.mode=go;break e}if(qe=0,dt=Ie,0===se){if(qe+=M-ze,ze<st){st-=ze;do{vt[c++]=Ie[qe++]}while(--ze);qe=c-et,dt=vt}}else if(se<ze){if(qe+=M+se-ze,ze-=se,ze<st){st-=ze;do{vt[c++]=Ie[qe++]}while(--ze);if(qe=0,se<st){ze=se,st-=ze;do{vt[c++]=Ie[qe++]}while(--ze);qe=c-et,dt=vt}}}else if(qe+=se-ze,ze<st){st-=ze;do{vt[c++]=Ie[qe++]}while(--ze);qe=c-et,dt=vt}for(;st>2;)vt[c++]=dt[qe++],vt[c++]=dt[qe++],vt[c++]=dt[qe++],st-=3;st&&(vt[c++]=dt[qe++],st>1&&(vt[c++]=dt[qe++]))}else{qe=c-et;do{vt[c++]=vt[qe++],vt[c++]=vt[qe++],vt[c++]=vt[qe++],st-=3}while(st>2);st&&(vt[c++]=vt[qe++],st>1&&(vt[c++]=vt[qe++]))}break}if(64&ze){t.msg="invalid distance code",_t.mode=go;break e}Ye=ot[(65535&Ye)+(ke&(1<<ze)-1)]}}break}}while(n<u&&c<j);st=Ne>>3,n-=st,Ne-=st<<3,ke&=(1<<Ne)-1,t.next_in=n,t.next_out=c,t.avail_in=n<u?u-n+5:5-(n-u),t.avail_out=c<j?j-c+257:257-(c-j),_t.hold=ke,_t.bits=Ne};const $h=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Rh=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Nh=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Mh=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var $s=(r,t,e,n,u,c,A,j)=>{const te=j.bits;let Ye,ze,st,et,qe,yt,M=0,O=0,se=0,Ie=0,ke=0,Ne=0,Xe=0,ot=0,it=0,nt=0,dt=null;const vt=new Uint16Array(16),_t=new Uint16Array(16);let Ao,Do,Co,An=null;for(M=0;M<=15;M++)vt[M]=0;for(O=0;O<n;O++)vt[t[e+O]]++;for(ke=te,Ie=15;Ie>=1&&0===vt[Ie];Ie--);if(ke>Ie&&(ke=Ie),0===Ie)return u[c++]=20971520,u[c++]=20971520,j.bits=1,0;for(se=1;se<Ie&&0===vt[se];se++);for(ke<se&&(ke=se),ot=1,M=1;M<=15;M++)if(ot<<=1,ot-=vt[M],ot<0)return-1;if(ot>0&&(0===r||1!==Ie))return-1;for(_t[1]=0,M=1;M<15;M++)_t[M+1]=_t[M]+vt[M];for(O=0;O<n;O++)0!==t[e+O]&&(A[_t[t[e+O]]++]=O);if(0===r?(dt=An=A,yt=20):1===r?(dt=$h,An=Rh,yt=257):(dt=Nh,An=Mh,yt=0),nt=0,O=0,M=se,qe=c,Ne=ke,Xe=0,st=-1,it=1<<ke,et=it-1,1===r&&it>852||2===r&&it>592)return 1;for(;;){Ao=M-Xe,A[O]+1<yt?(Do=0,Co=A[O]):A[O]>=yt?(Do=An[A[O]-yt],Co=dt[A[O]-yt]):(Do=96,Co=0),Ye=1<<M-Xe,ze=1<<Ne,se=ze;do{ze-=Ye,u[qe+(nt>>Xe)+ze]=Ao<<24|Do<<16|Co}while(0!==ze);for(Ye=1<<M-1;nt&Ye;)Ye>>=1;if(0!==Ye?(nt&=Ye-1,nt+=Ye):nt=0,O++,0==--vt[M]){if(M===Ie)break;M=t[e+A[O]]}if(M>ke&&(nt&et)!==st){for(0===Xe&&(Xe=ke),qe+=se,Ne=M-Xe,ot=1<<Ne;Ne+Xe<Ie&&(ot-=vt[Ne+Xe],!(ot<=0));)Ne++,ot<<=1;if(it+=1<<Ne,1===r&&it>852||2===r&&it>592)return 1;st=nt&et,u[st]=ke<<24|Ne<<16|qe-c}}return 0!==nt&&(u[qe+nt]=M-Xe<<24|64<<16),j.bits=ke,0};const{Z_FINISH:xc,Z_BLOCK:Lh,Z_TREES:vo,Z_OK:oi,Z_STREAM_END:Kh,Z_NEED_DICT:Vh,Z_STREAM_ERROR:Lr,Z_DATA_ERROR:Oc,Z_MEM_ERROR:Fc,Z_BUF_ERROR:Wh,Z_DEFLATED:Bc}=ri,bo=16180,wo=16190,_n=16191,Eo=16199,_o=16200,Rt=16209,tl=r=>(r>>>24&255)+(r>>>8&65280)+((65280&r)<<8)+((255&r)<<24);function Gh(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ai=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<bo||t.mode>16211?1:0},rl=r=>{if(ai(r))return Lr;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=1&t.wrap),t.mode=bo,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,oi},nl=r=>{if(ai(r))return Lr;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,rl(r)},il=(r,t)=>{let e;if(ai(r))return Lr;const n=r.state;return t<0?(e=0,t=-t):(e=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Lr:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,nl(r))},sl=(r,t)=>{if(!r)return Lr;const e=new Gh;r.state=e,e.strm=r,e.window=null,e.mode=bo;const n=il(r,t);return n!==oi&&(r.state=null),n};let Ua,La,ol=!0;const Xh=r=>{if(ol){Ua=new Int32Array(512),La=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for($s(1,r.lens,0,288,Ua,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;$s(2,r.lens,0,32,La,0,r.work,{bits:5}),ol=!1}r.lencode=Ua,r.lenbits=9,r.distcode=La,r.distbits=5},al=(r,t,e,n)=>{let u;const c=r.state;return null===c.window&&(c.wsize=1<<c.wbits,c.wnext=0,c.whave=0,c.window=new Uint8Array(c.wsize)),n>=c.wsize?(c.window.set(t.subarray(e-c.wsize,e),0),c.wnext=0,c.whave=c.wsize):(u=c.wsize-c.wnext,u>n&&(u=n),c.window.set(t.subarray(e-n,e-n+u),c.wnext),(n-=u)?(c.window.set(t.subarray(e-n,e),0),c.wnext=n,c.whave=c.wsize):(c.wnext+=u,c.wnext===c.wsize&&(c.wnext=0),c.whave<c.wsize&&(c.whave+=u))),0};var Sn={inflateReset:nl,inflateReset2:il,inflateResetKeep:rl,inflateInit:r=>sl(r,15),inflateInit2:sl,inflate:(r,t)=>{let e,n,u,c,A,j,te,M,O,se,Ie,ke,Ne,Xe,it,nt,Ye,ze,st,et,qe,dt,ot=0;const yt=new Uint8Array(4);let vt,_t;const An=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ai(r)||!r.output||!r.input&&0!==r.avail_in)return Lr;e=r.state,e.mode===_n&&(e.mode=16192),A=r.next_out,u=r.output,te=r.avail_out,c=r.next_in,n=r.input,j=r.avail_in,M=e.hold,O=e.bits,se=j,Ie=te,dt=oi;e:for(;;)switch(e.mode){case bo:if(0===e.wrap){e.mode=16192;break}for(;O<16;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}if(2&e.wrap&&35615===M){0===e.wbits&&(e.wbits=15),e.check=0,yt[0]=255&M,yt[1]=M>>>8&255,e.check=Yt(e.check,yt,2,0),M=0,O=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&M)<<8)+(M>>8))%31){r.msg="incorrect header check",e.mode=Rt;break}if((15&M)!==Bc){r.msg="unknown compression method",e.mode=Rt;break}if(M>>>=4,O-=4,qe=8+(15&M),0===e.wbits&&(e.wbits=qe),qe>15||qe>e.wbits){r.msg="invalid window size",e.mode=Rt;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=512&M?16189:_n,M=0,O=0;break;case 16181:for(;O<16;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}if(e.flags=M,(255&e.flags)!==Bc){r.msg="unknown compression method",e.mode=Rt;break}if(57344&e.flags){r.msg="unknown header flags set",e.mode=Rt;break}e.head&&(e.head.text=M>>8&1),512&e.flags&&4&e.wrap&&(yt[0]=255&M,yt[1]=M>>>8&255,e.check=Yt(e.check,yt,2,0)),M=0,O=0,e.mode=16182;case 16182:for(;O<32;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}e.head&&(e.head.time=M),512&e.flags&&4&e.wrap&&(yt[0]=255&M,yt[1]=M>>>8&255,yt[2]=M>>>16&255,yt[3]=M>>>24&255,e.check=Yt(e.check,yt,4,0)),M=0,O=0,e.mode=16183;case 16183:for(;O<16;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}e.head&&(e.head.xflags=255&M,e.head.os=M>>8),512&e.flags&&4&e.wrap&&(yt[0]=255&M,yt[1]=M>>>8&255,e.check=Yt(e.check,yt,2,0)),M=0,O=0,e.mode=16184;case 16184:if(1024&e.flags){for(;O<16;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}e.length=M,e.head&&(e.head.extra_len=M),512&e.flags&&4&e.wrap&&(yt[0]=255&M,yt[1]=M>>>8&255,e.check=Yt(e.check,yt,2,0)),M=0,O=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(ke=e.length,ke>j&&(ke=j),ke&&(e.head&&(qe=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(c,c+ke),qe)),512&e.flags&&4&e.wrap&&(e.check=Yt(e.check,n,ke,c)),j-=ke,c+=ke,e.length-=ke),e.length))break e;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(0===j)break e;ke=0;do{qe=n[c+ke++],e.head&&qe&&e.length<65536&&(e.head.name+=String.fromCharCode(qe))}while(qe&&ke<j);if(512&e.flags&&4&e.wrap&&(e.check=Yt(e.check,n,ke,c)),j-=ke,c+=ke,qe)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(0===j)break e;ke=0;do{qe=n[c+ke++],e.head&&qe&&e.length<65536&&(e.head.comment+=String.fromCharCode(qe))}while(qe&&ke<j);if(512&e.flags&&4&e.wrap&&(e.check=Yt(e.check,n,ke,c)),j-=ke,c+=ke,qe)break e}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;O<16;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}if(4&e.wrap&&M!==(65535&e.check)){r.msg="header crc mismatch",e.mode=Rt;break}M=0,O=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=_n;break;case 16189:for(;O<32;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}r.adler=e.check=tl(M),M=0,O=0,e.mode=wo;case wo:if(0===e.havedict)return r.next_out=A,r.avail_out=te,r.next_in=c,r.avail_in=j,e.hold=M,e.bits=O,Vh;r.adler=e.check=1,e.mode=_n;case _n:if(t===Lh||t===vo)break e;case 16192:if(e.last){M>>>=7&O,O-=7&O,e.mode=16206;break}for(;O<3;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}switch(e.last=1&M,M>>>=1,O-=1,3&M){case 0:e.mode=16193;break;case 1:if(Xh(e),e.mode=Eo,t===vo){M>>>=2,O-=2;break e}break;case 2:e.mode=16196;break;case 3:r.msg="invalid block type",e.mode=Rt}M>>>=2,O-=2;break;case 16193:for(M>>>=7&O,O-=7&O;O<32;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}if((65535&M)!=(M>>>16^65535)){r.msg="invalid stored block lengths",e.mode=Rt;break}if(e.length=65535&M,M=0,O=0,e.mode=16194,t===vo)break e;case 16194:e.mode=16195;case 16195:if(ke=e.length,ke){if(ke>j&&(ke=j),ke>te&&(ke=te),0===ke)break e;u.set(n.subarray(c,c+ke),A),j-=ke,c+=ke,te-=ke,A+=ke,e.length-=ke;break}e.mode=_n;break;case 16196:for(;O<14;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}if(e.nlen=257+(31&M),M>>>=5,O-=5,e.ndist=1+(31&M),M>>>=5,O-=5,e.ncode=4+(15&M),M>>>=4,O-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=Rt;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;O<3;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}e.lens[An[e.have++]]=7&M,M>>>=3,O-=3}for(;e.have<19;)e.lens[An[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,vt={bits:e.lenbits},dt=$s(0,e.lens,0,19,e.lencode,0,e.work,vt),e.lenbits=vt.bits,dt){r.msg="invalid code lengths set",e.mode=Rt;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;ot=e.lencode[M&(1<<e.lenbits)-1],it=ot>>>24,nt=ot>>>16&255,Ye=65535&ot,!(it<=O);){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}if(Ye<16)M>>>=it,O-=it,e.lens[e.have++]=Ye;else{if(16===Ye){for(_t=it+2;O<_t;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}if(M>>>=it,O-=it,0===e.have){r.msg="invalid bit length repeat",e.mode=Rt;break}qe=e.lens[e.have-1],ke=3+(3&M),M>>>=2,O-=2}else if(17===Ye){for(_t=it+3;O<_t;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}M>>>=it,O-=it,qe=0,ke=3+(7&M),M>>>=3,O-=3}else{for(_t=it+7;O<_t;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}M>>>=it,O-=it,qe=0,ke=11+(127&M),M>>>=7,O-=7}if(e.have+ke>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=Rt;break}for(;ke--;)e.lens[e.have++]=qe}}if(e.mode===Rt)break;if(0===e.lens[256]){r.msg="invalid code -- missing end-of-block",e.mode=Rt;break}if(e.lenbits=9,vt={bits:e.lenbits},dt=$s(1,e.lens,0,e.nlen,e.lencode,0,e.work,vt),e.lenbits=vt.bits,dt){r.msg="invalid literal/lengths set",e.mode=Rt;break}if(e.distbits=6,e.distcode=e.distdyn,vt={bits:e.distbits},dt=$s(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,vt),e.distbits=vt.bits,dt){r.msg="invalid distances set",e.mode=Rt;break}if(e.mode=Eo,t===vo)break e;case Eo:e.mode=_o;case _o:if(j>=6&&te>=258){r.next_out=A,r.avail_out=te,r.next_in=c,r.avail_in=j,e.hold=M,e.bits=O,kh(r,Ie),A=r.next_out,u=r.output,te=r.avail_out,c=r.next_in,n=r.input,j=r.avail_in,M=e.hold,O=e.bits,e.mode===_n&&(e.back=-1);break}for(e.back=0;ot=e.lencode[M&(1<<e.lenbits)-1],it=ot>>>24,nt=ot>>>16&255,Ye=65535&ot,!(it<=O);){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}if(nt&&!(240&nt)){for(ze=it,st=nt,et=Ye;ot=e.lencode[et+((M&(1<<ze+st)-1)>>ze)],it=ot>>>24,nt=ot>>>16&255,Ye=65535&ot,!(ze+it<=O);){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}M>>>=ze,O-=ze,e.back+=ze}if(M>>>=it,O-=it,e.back+=it,e.length=Ye,0===nt){e.mode=16205;break}if(32&nt){e.back=-1,e.mode=_n;break}if(64&nt){r.msg="invalid literal/length code",e.mode=Rt;break}e.extra=15&nt,e.mode=16201;case 16201:if(e.extra){for(_t=e.extra;O<_t;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}e.length+=M&(1<<e.extra)-1,M>>>=e.extra,O-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;ot=e.distcode[M&(1<<e.distbits)-1],it=ot>>>24,nt=ot>>>16&255,Ye=65535&ot,!(it<=O);){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}if(!(240&nt)){for(ze=it,st=nt,et=Ye;ot=e.distcode[et+((M&(1<<ze+st)-1)>>ze)],it=ot>>>24,nt=ot>>>16&255,Ye=65535&ot,!(ze+it<=O);){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}M>>>=ze,O-=ze,e.back+=ze}if(M>>>=it,O-=it,e.back+=it,64&nt){r.msg="invalid distance code",e.mode=Rt;break}e.offset=Ye,e.extra=15&nt,e.mode=16203;case 16203:if(e.extra){for(_t=e.extra;O<_t;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}e.offset+=M&(1<<e.extra)-1,M>>>=e.extra,O-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=Rt;break}e.mode=16204;case 16204:if(0===te)break e;if(ke=Ie-te,e.offset>ke){if(ke=e.offset-ke,ke>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=Rt;break}ke>e.wnext?(ke-=e.wnext,Ne=e.wsize-ke):Ne=e.wnext-ke,ke>e.length&&(ke=e.length),Xe=e.window}else Xe=u,Ne=A-e.offset,ke=e.length;ke>te&&(ke=te),te-=ke,e.length-=ke;do{u[A++]=Xe[Ne++]}while(--ke);0===e.length&&(e.mode=_o);break;case 16205:if(0===te)break e;u[A++]=e.length,te--,e.mode=_o;break;case 16206:if(e.wrap){for(;O<32;){if(0===j)break e;j--,M|=n[c++]<<O,O+=8}if(Ie-=te,r.total_out+=Ie,e.total+=Ie,4&e.wrap&&Ie&&(r.adler=e.check=e.flags?Yt(e.check,u,Ie,A-Ie):Ps(e.check,u,Ie,A-Ie)),Ie=te,4&e.wrap&&(e.flags?M:tl(M))!==e.check){r.msg="incorrect data check",e.mode=Rt;break}M=0,O=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;O<32;){if(0===j)break e;j--,M+=n[c++]<<O,O+=8}if(4&e.wrap&&M!==(4294967295&e.total)){r.msg="incorrect length check",e.mode=Rt;break}M=0,O=0}e.mode=16208;case 16208:dt=Kh;break e;case Rt:dt=Oc;break e;case 16210:return Fc;default:return Lr}return r.next_out=A,r.avail_out=te,r.next_in=c,r.avail_in=j,e.hold=M,e.bits=O,(e.wsize||Ie!==r.avail_out&&e.mode<Rt&&(e.mode<16206||t!==xc))&&al(r,r.output,r.next_out,Ie-r.avail_out),se-=r.avail_in,Ie-=r.avail_out,r.total_in+=se,r.total_out+=Ie,e.total+=Ie,4&e.wrap&&Ie&&(r.adler=e.check=e.flags?Yt(e.check,u,Ie,r.next_out-Ie):Ps(e.check,u,Ie,r.next_out-Ie)),r.data_type=e.bits+(e.last?64:0)+(e.mode===_n?128:0)+(e.mode===Eo||16194===e.mode?256:0),(0===se&&0===Ie||t===xc)&&dt===oi&&(dt=Wh),dt},inflateEnd:r=>{if(ai(r))return Lr;let t=r.state;return t.window&&(t.window=null),r.state=null,oi},inflateGetHeader:(r,t)=>{if(ai(r))return Lr;const e=r.state;return 2&e.wrap?(e.head=t,t.done=!1,oi):Lr},inflateSetDictionary:(r,t)=>{const e=t.length;let n,u,c;return ai(r)||(n=r.state,0!==n.wrap&&n.mode!==wo)?Lr:n.mode===wo&&(u=1,u=Ps(u,t,e,0),u!==n.check)?Oc:(c=al(r,t,e,e),c?(n.mode=16210,Fc):(n.havedict=1,oi))},inflateInfo:"pako inflate (from Nodeca project)"},fy=function dy(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ul=Object.prototype.toString,{Z_NO_FLUSH:py,Z_FINISH:hy,Z_OK:Rs,Z_STREAM_END:Ka,Z_NEED_DICT:Va,Z_STREAM_ERROR:yy,Z_DATA_ERROR:cl,Z_MEM_ERROR:my}=ri;function Ns(r){this.options=yo.assign({chunkSize:65536,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wc,this.strm.avail_out=0;let e=Sn.inflateInit2(this.strm,t.windowBits);if(e!==Rs)throw new Error(ti[e]);if(this.header=new fy,Sn.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=js.string2buf(t.dictionary):"[object ArrayBuffer]"===ul.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Sn.inflateSetDictionary(this.strm,t.dictionary),e!==Rs)))throw new Error(ti[e])}function Wa(r,t){const e=new Ns(t);if(e.push(r),e.err)throw e.msg||ti[e.err];return e.result}Ns.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize,u=this.options.dictionary;let c,A,j;if(this.ended)return!1;for(A=t===~~t?t:!0===t?hy:py,e.input="[object ArrayBuffer]"===ul.call(r)?new Uint8Array(r):r,e.next_in=0,e.avail_in=e.input.length;;){for(0===e.avail_out&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),c=Sn.inflate(e,A),c===Va&&u&&(c=Sn.inflateSetDictionary(e,u),c===Rs?c=Sn.inflate(e,A):c===cl&&(c=Va));e.avail_in>0&&c===Ka&&e.state.wrap>0&&0!==r[e.next_in];)Sn.inflateReset(e),c=Sn.inflate(e,A);switch(c){case yy:case cl:case Va:case my:return this.onEnd(c),this.ended=!0,!1}if(j=e.avail_out,e.next_out&&(0===e.avail_out||c===Ka))if("string"===this.options.to){let te=js.utf8border(e.output,e.next_out),M=e.next_out-te,O=js.buf2string(e.output,te);e.next_out=M,e.avail_out=n-M,M&&e.output.set(e.output.subarray(te,te+M),0),this.onData(O)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(c!==Rs||0!==j){if(c===Ka)return c=Sn.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,!0;if(0===e.avail_in)break}}return!0},Ns.prototype.onData=function(r){this.chunks.push(r)},Ns.prototype.onEnd=function(r){r===Rs&&(this.result="string"===this.options.to?this.chunks.join(""):yo.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};var Sy={Inflate:Ns,inflate:Wa,inflateRaw:function gy(r,t){return(t=t||{}).raw=!0,Wa(r,t)},ungzip:Wa,constants:ri};function ll(r){return new Date(1e3*r).toISOString().replace(/\.\d{3}/,"")}const Ms="VerifiablePresentation";class Us{static validateCredentialPayload(t){this.validateContext(t.vcDataModel["@context"]),this.validateVcType(t.type),this.validateCredentialSubject(t.vcDataModel.credentialSubject),t.vcDataModel.issuanceDate&&this.validateTimestamp(t.vcDataModel.issuanceDate),t.vcDataModel.expirationDate&&this.validateTimestamp(t.vcDataModel.expirationDate)}static validateContext(t){const e=this.asArray(t);if(e.length<1||-1===e.indexOf(Ga))throw new Error(`@context is missing default context "${Ga}"`)}static validateVcType(t){const e=this.asArray(t);if(e.length<1||-1===e.indexOf(Ls))throw new Error(`type is missing default "${Ls}"`)}static validateVpType(t){const e=this.asArray(t);if(e.length<1||-1===e.indexOf(Ms))throw new Error(`type is missing default "${Ms}"`)}static validateCredentialSubject(t){if(0===Object.keys(t).length)throw new Error("credentialSubject must not be empty")}static validateTimestamp(t){if(!function Ky(r){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$/.test(r))return!1;const e=new Date(r);return!isNaN(e.getTime())}(t)&&!function Vy(r){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})$/.test(r))return!1;const e=new Date(r);return!isNaN(e.getTime())}(t))throw new Error("timestamp is not valid xml schema 112 timestamp")}static asArray(t){return Array.isArray(t)?t:[t]}}var Ha=function(r,t,e,n){return new(e||(e=Promise))(function(c,A){function j(O){try{M(n.next(O))}catch(se){A(se)}}function te(O){try{M(n.throw(O))}catch(se){A(se)}}function M(O){O.done?c(O.value):function u(c){return c instanceof e?c:new e(function(A){A(c)})}(O.value).then(j,te)}M((n=n.apply(r,t||[])).next())})};const Ga="https://www.w3.org/2018/credentials/v1",Ls="VerifiableCredential";class So{constructor(t){this.vcDataModel=t}get type(){return this.vcDataModel.type[this.vcDataModel.type.length-1]}get issuer(){return this.vcDataModel.issuer.toString()}get subject(){return Array.isArray(this.vcDataModel.credentialSubject)?this.vcDataModel.credentialSubject[0].id:this.vcDataModel.credentialSubject.id}sign(t){return Ha(this,void 0,void 0,function*(){return yield Qn.sign({signerDid:t.did,payload:Object.assign({vc:this.vcDataModel,nbf:Math.floor(new Date(this.vcDataModel.issuanceDate).getTime()/1e3),jti:this.vcDataModel.id,iss:t.did.uri,sub:this.subject,iat:Math.floor(Date.now()/1e3)},this.vcDataModel.expirationDate&&{exp:Math.floor(new Date(this.vcDataModel.expirationDate).getTime()/1e3)})})})}toString(){return JSON.stringify(this.vcDataModel)}static create(t){return Ha(this,void 0,void 0,function*(){const{type:e,issuer:n,subject:u,data:c,issuanceDate:A,expirationDate:j,credentialStatus:te,credentialSchema:M,evidence:O}=t,se=JSON.parse(JSON.stringify(c));if("object"!=typeof se)throw new Error("Expected data to be parseable into a JSON object");if(!n||!u)throw new Error("Issuer and subject must be defined");if("string"!=typeof n||"string"!=typeof u)throw new Error("Issuer and subject must be of type string");const Ie=Object.assign({id:u},se),ke=[Ga];null!==te&&ke.push(fl);const Ne=Object.assign(Object.assign(Object.assign(Object.assign({"@context":ke,type:Array.isArray(e)?[Ls,...e]:e?[Ls,e]:[Ls],id:`urn:uuid:${Js.randomUUID()}`,issuer:n,issuanceDate:A||(new Date).toISOString().replace(/\.\d+Z$/,"Z"),credentialSubject:Ie},j&&{expirationDate:j}),te&&{credentialStatus:te}),M&&{credentialSchema:M}),O&&{evidence:O});return Za(Ne),new So(Ne)})}static verify(t){return Ha(this,arguments,void 0,function*({vcJwt:e}){const{payload:n}=yield Qn.verify({jwt:e}),{exp:u,iss:c,nbf:A,jti:j,sub:te,vc:M}=n;if(!M)throw new Error("vc property missing.");const O=n.vc;if(u&&O.expirationDate&&u!==Math.floor(new Date(O.expirationDate).getTime()/1e3))throw new Error("Verification failed: exp claim does not match expirationDate");if(u&&(O.expirationDate=ll(u)),!c)throw new Error("Verification failed: iss claim is required");if(c!==O.issuer)throw new Error("Verification failed: iss claim does not match expected issuer");if(A&&A>Math.floor(Date.now()/1e3))throw new Error("Verification failed: nbf claim is in the future");if(A&&O.issuanceDate&&A!==Math.floor(new Date(O.issuanceDate).getTime()/1e3))throw new Error("Verification failed: nbf claim does not match issuanceDate");if(A&&(O.issuanceDate=ll(A)),te&&!Array.isArray(O.credentialSubject)&&te!==O.credentialSubject.id)throw new Error("Verification failed: sub claim does not match credentialSubject.id");if(te&&!Array.isArray(O.credentialSubject)&&(O.credentialSubject.id=te),j&&j!==O.id)throw new Error("Verification failed: jti claim does not match id");return j&&(O.id=j),Za(O),{issuer:n.iss,subject:n.sub,vc:O}})}static parseJwt({vcJwt:t}){const n=Qn.parse({jwt:t}).decoded.payload.vc;if(!n)throw Error("Jwt payload missing vc property");return Za(n),new So(n)}}function Za(r){Us.validateContext(r["@context"]),Us.validateVcType(r.type),Us.validateCredentialSubject(r.credentialSubject),r.issuanceDate&&Us.validateTimestamp(r.issuanceDate),r.expirationDate&&Us.validateTimestamp(r.expirationDate)}const fl="https://w3id.org/vc/status-list/2021/v1"},35975:(q,p,s)=>{"use strict";s.r(p),s.d(p,{customAlphabet:()=>w,customRandom:()=>D,nanoid:()=>E,random:()=>y,urlAlphabet:()=>h});let h="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",y=f=>crypto.getRandomValues(new Uint8Array(f)),D=(f,l,i)=>{let d=(2<<Math.log(f.length-1)/Math.LN2)-1,o=-~(1.6*d*l/f.length);return(a=l)=>{let v="";for(;;){let b=i(o),m=o;for(;m--;)if(v+=f[b[m]&d]||"",v.length===a)return v}}},w=(f,l=21)=>D(f,l,y),E=(f=21)=>crypto.getRandomValues(new Uint8Array(f)).reduce((l,i)=>l+((i&=63)<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i>62?"-":"_"),"")},63837:q=>{"use strict";q.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},72079:q=>{"use strict";q.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},84777:q=>{"use strict";q.exports={}},99600:q=>{"use strict";q.exports={rE:"4.3.0"}}}]);