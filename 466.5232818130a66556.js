"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[466],{69466:(G,m,i)=>{i.r(m),i.d(m,{RegistriesComponent:()=>E});var c=i(10467),t=i(93953),u=i(9159),p=i(96695),h=i(2042),y=i(45024),v=i(96354),F=i(57786),R=i(7673);const C=[{id:1,name:"Hydrogen"},{id:2,name:"Helium"},{id:3,name:"Lithium"},{id:4,name:"Beryllium"},{id:5,name:"Boron"},{id:6,name:"Carbon"},{id:7,name:"Nitrogen"},{id:8,name:"Oxygen"},{id:9,name:"Fluorine"},{id:10,name:"Neon"},{id:11,name:"Sodium"},{id:12,name:"Magnesium"},{id:13,name:"Aluminum"},{id:14,name:"Silicon"},{id:15,name:"Phosphorus"},{id:16,name:"Sulfur"},{id:17,name:"Chlorine"},{id:18,name:"Argon"},{id:19,name:"Potassium"},{id:20,name:"Calcium"}];class b extends y.qS{constructor(){super(),this.data=C}connect(){if(this.paginator&&this.sort)return(0,F.h)((0,R.of)(this.data),this.paginator.page,this.sort.sortChange).pipe((0,v.T)(()=>this.getPagedData(this.getSortedData([...this.data]))));throw Error("Please set the paginator and sort on the data source before connecting.")}disconnect(){}getPagedData(s){return this.paginator?s.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize):s}getSortedData(s){return this.sort&&this.sort.active&&""!==this.sort.direction?s.sort((e,a)=>{const r="asc"===this.sort?.direction;switch(this.sort?.active){case"name":return g(e.name,a.name,r);case"id":return g(+e.id,+a.id,r);default:return 0}}):s}}function g(o,s,e){return(o<s?-1:1)*(e?1:-1)}var d=i(25596),f=i(88834),S=i(34635),l=i(22312),j=i(60177),D=i(33347),P=i(18498);function B(o,s){if(1&o){const e=t.RV6();t.j41(0,"mat-card",1)(1,"mat-card-header"),t.nrm(2,"img",2),t.j41(3,"mat-card-title"),t.EFF(4),t.k0s(),t.j41(5,"mat-card-subtitle"),t.EFF(6),t.k0s()(),t.j41(7,"mat-card-content"),t.EFF(8," Website: "),t.j41(9,"a",3),t.EFF(10),t.k0s(),t.nrm(11,"br"),t.EFF(12),t.nI1(13,"did"),t.nrm(14,"br"),t.k0s(),t.j41(15,"mat-card-actions")(16,"button",4),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.openRegistry("bsn"))}),t.EFF(17,"Open"),t.k0s()()()}if(2&o){const e=s.$implicit;t.R7$(2),t.Y8G("src",e.data.icon,t.B4B),t.R7$(2),t.JRh(e.data.name),t.R7$(2),t.JRh(e.data.description),t.R7$(3),t.Y8G("href",e.data.url,t.B4B),t.R7$(),t.JRh(e.data.url),t.R7$(2),t.SpI(" Owner: ",t.bMT(13,6,e.data.owner),"")}}let E=(()=>{class o{constructor(e){var a=this;this.router=e,this.dataSource=new b,this.identity=(0,t.WQX)(S.K),this.displayedColumns=["id","name"],this.records=(0,t.vPA)([]),(0,t.QZP)((0,c.A)(function*(){a.identity.initialized()&&(yield a.load())}))}deleteData(){var e=this;return(0,c.A)(function*(){for(const a of e.records())yield e.identity.web5.dwn.records.delete({message:{recordId:a.record.id}});e.records.set([])})()}createData(){var e=this;return(0,c.A)(function*(){yield e.identity.web5.dwn.records.create({data:{name:"Blockchain Social Network (BSN)",description:"Stellar blockchain data registry",url:"https://ariton.app",icon:"https://ariton.app/assets/ariton-favicon.png",owner:e.identity.did},message:{protocol:l.u5.uri,protocolPath:"profile",dataFormat:"application/json"}}),yield e.identity.web5.dwn.records.create({data:{name:"Liberstad CC",description:"Crypto Company Registry",url:"https://www.liberstad.cc",icon:"https://www.liberstad.cc/liberstad-square-512x512.png",owner:e.identity.did},message:{protocol:l.u5.uri,protocolPath:"profile",dataFormat:"application/json"}}),yield e.load()})()}load(){var e=this;return(0,c.A)(function*(){const a=yield e.identity.web5.dwn.records.query({message:{filter:{protocol:l.u5.uri,protocolPath:"profile",dataFormat:"application/json"}}});e.records.set([]),a.records&&a.records.forEach(function(){var r=(0,c.A)(function*(n){let A=yield n.data.json(),w={record:n,data:A};e.records.update(M=>[...M,w])});return function(n){return r.apply(this,arguments)}}())})()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.table.dataSource=this.dataSource}openRegistry(e){this.router.navigate(["registries",e])}static#t=this.\u0275fac=function(a){return new(a||o)(t.rXU(P.Ix))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-registries"]],viewQuery:function(a,r){if(1&a&&(t.GBs(p.iy,5),t.GBs(h.B4,5),t.GBs(u.Zl,5)),2&a){let n;t.mGM(n=t.lsd())&&(r.paginator=n.first),t.mGM(n=t.lsd())&&(r.sort=n.first),t.mGM(n=t.lsd())&&(r.table=n.first)}},standalone:!0,features:[t.aNF],decls:10,vars:0,consts:[["mat-flat-button","",1,"sample-button",3,"click"],["appearance","outlined",1,"registry-card"],["mat-card-avatar","",1,"example-header-image",3,"src"],[3,"href"],["mat-button","",3,"click"]],template:function(a,r){1&a&&(t.j41(0,"h1"),t.EFF(1,"Registries"),t.k0s(),t.j41(2,"button",0),t.bIt("click",function(){return r.createData()}),t.EFF(3,"Create Sample Data"),t.k0s(),t.j41(4,"button",0),t.bIt("click",function(){return r.deleteData()}),t.EFF(5,"Delete Sample Data"),t.k0s(),t.j41(6,"h3"),t.EFF(7,"Highlighted"),t.k0s(),t.Z7z(8,B,18,8,"mat-card",1,t.fX1)),2&a&&(t.R7$(8),t.Dyx(r.records()))},dependencies:[D.k,j.MD,f.Hl,f.$z,d.Hu,d.RN,d.YY,d.QG,d.m2,d.MM,d.Lc,d.dh,u.tP,p.Ou,h.NQ],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}.registry-card[_ngcontent-%COMP%]{margin-bottom:1em}.sample-button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return o})()}}]);