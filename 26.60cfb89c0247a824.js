"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[26],{65026:(j,u,a)=>{a.r(u),a.d(u,{RegistryComponent:()=>C});var F=a(10467),R=a(9159),d=a(96695),h=a(2042),g=a(25596),p=a(88834),e=a(3902),E=a(21801),c=a(71997),O=a(60177),v=a(14823),t=a(93953),D=a(18498);function P(s,o){if(1&s&&(t.j41(0,"mat-list-item")(1,"mat-icon",1),t.EFF(2,"token"),t.k0s(),t.j41(3,"div",2),t.EFF(4),t.k0s(),t.j41(5,"div",3),t.EFF(6),t.k0s()()),2&s){const n=o.$implicit;t.R7$(4),t.JRh(n.name),t.R7$(2),t.JRh(n.short)}}function M(s,o){if(1&s&&(t.j41(0,"mat-list-item")(1,"mat-icon",1),t.EFF(2,"source"),t.k0s(),t.j41(3,"div",2),t.EFF(4),t.k0s(),t.j41(5,"div",3),t.EFF(6),t.k0s()()),2&s){const n=o.$implicit;t.R7$(4),t.JRh(n.name),t.R7$(2),t.JRh(n.short)}}function I(s,o){1&s&&t.EFF(0),2&s&&t.SpI(" ",o.$implicit.id,", ")}function f(s,o){if(1&s&&(t.j41(0,"mat-list-item")(1,"mat-icon",1),t.EFF(2,"account_circle"),t.k0s(),t.j41(3,"div",2),t.EFF(4),t.k0s(),t.j41(5,"div",3),t.Z7z(6,I,1,1,null,null,t.fX1),t.k0s()()),2&s){const n=o.$implicit;t.R7$(4),t.JRh(n.short),t.R7$(2),t.Dyx(n.tags)}}let C=(()=>{class s{constructor(n){this.router=n,this.tokens=[],this.sources=[],this.accounts=[]}ngAfterViewInit(){}shorten(n){return n.substring(0,5)+"..."+n.substring(n.length-5)}ngOnInit(){var n=this;return(0,F.A)(function*(){var r=yield fetch("https://bsn.mtla.me/json");if(r.ok){var i=yield r.json();n.updated=i.createDate,n.tokens=i.knownTokens.map(m=>{const[_,l]=m.split("-");return{id:l,name:_,short:n.shorten(l)}}),n.sources=i.usedSources.map(m=>{const[_,l]=m.split("-");return{id:l,name:_,short:n.shorten(l)}}),n.accounts=Object.entries(i.accounts).map(([m,_])=>({id:m,short:n.shorten(m),balances:_.balances,tags:_.tags?Object.entries(_.tags).map(([l,T])=>({id:l,value:T})):[]}))}})()}static#t=this.\u0275fac=function(r){return new(r||s)(t.rXU(D.Ix))};static#n=this.\u0275cmp=t.VBU({type:s,selectors:[["app-registry"]],standalone:!0,features:[t.aNF],decls:19,vars:4,consts:[["mat-subheader",""],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(r,i){1&r&&(t.j41(0,"h1"),t.EFF(1,"Registry: Blockchain Social Network (BSN)"),t.k0s(),t.j41(2,"p"),t.EFF(3),t.nI1(4,"date"),t.k0s(),t.j41(5,"mat-list")(6,"div",0),t.EFF(7,"Tokens"),t.k0s(),t.Z7z(8,P,7,2,"mat-list-item",null,t.fX1),t.nrm(10,"mat-divider"),t.j41(11,"div",0),t.EFF(12,"Sources"),t.k0s(),t.Z7z(13,M,7,2,"mat-list-item",null,t.fX1),t.j41(15,"div",0),t.EFF(16,"Accounts"),t.k0s(),t.Z7z(17,f,8,1,"mat-list-item",null,t.fX1),t.k0s()),2&r&&(t.R7$(3),t.SpI("\nUpdated: ",t.i5U(4,1,i.updated,"medium"),"\n"),t.R7$(5),t.Dyx(i.tokens),t.R7$(5),t.Dyx(i.sources),t.R7$(4),t.Dyx(i.accounts))},dependencies:[p.Hl,e.Fg,e.jt,e.YE,e.ZV,e.EI,c.q,e.C_,e.yE,E.m_,E.An,O.vh,c.w,g.Hu,R.tP,v.uc,d.Ou,h.NQ]})}return s})()}}]);