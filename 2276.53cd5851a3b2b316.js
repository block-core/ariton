"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2276],{62276:(N,l,e)=>{e.r(l),e.d(l,{ConnectionsComponent:()=>G});var n=e(93953),m=e(81317),u=e(5363),C=e(60177),i=e(25596),r=e(88834),d=e(99213),p=e(30046),F=e(98703),h=e(60385);const g=t=>["/app",t],y=(t,a)=>["/app",t,a];function k(t,a){1&t&&n.EFF(0," people ")}function E(t,a){1&t&&n.EFF(0," connect_without_contact ")}function M(t,a){if(1&t){const o=n.RV6();n.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-icon",1),n.DNE(3,k,1,0)(4,E,1,0),n.k0s(),n.j41(5,"mat-card-title"),n.EFF(6," App: "),n.j41(7,"span",2)(8,"a",3),n.EFF(9),n.k0s()()(),n.j41(10,"mat-card-subtitle"),n.EFF(11,"Type: "),n.j41(12,"span",2),n.EFF(13),n.k0s(),n.EFF(14),n.nI1(15,"ago"),n.k0s()(),n.j41(16,"mat-card-content")(17,"div",4)(18,"a",3),n.EFF(19),n.k0s()(),n.nrm(20,"app-profile-header",5),n.k0s(),n.j41(21,"mat-card-actions")(22,"button",6),n.bIt("click",function(){n.eBV(o);const c=n.XpG();return n.Njj(c.deleteConnection(c.entry))}),n.EFF(23,"DELETE"),n.k0s(),n.EFF(24,"\xa0 "),n.j41(25,"button",6),n.bIt("click",function(){n.eBV(o);const c=n.XpG();return n.Njj(c.block(c.entry))}),n.EFF(26,"BLOCK"),n.k0s()()()}if(2&t){const o=n.XpG();n.R7$(3),n.vxM("friend"==o.entry.record.tags.type?3:4),n.R7$(5),n.Y8G("routerLink",n.eq3(12,g,o.entry.data.app)),n.R7$(),n.JRh(o.entry.data.app),n.R7$(4),n.JRh(o.entry.record.tags.type),n.R7$(),n.SpI(" (",n.bMT(15,10,o.entry.record.dateCreated),")"),n.R7$(4),n.Y8G("routerLink",n.l_i(14,y,o.entry.data.app,o.entry.data.recordId)),n.R7$(),n.SpI("Name: ",o.entry.data.title,""),n.R7$(),n.Y8G("did",o.entry.record.recipient),n.R7$(2),n.Y8G("disabled",o.entry.loading),n.R7$(3),n.Y8G("disabled",o.entry.loading)}}let v=(()=>{class t{constructor(){this.entry=void 0,this.connection=(0,n.WQX)(m.K),this.app=(0,n.WQX)(u.d)}deleteConnection(o){o.loading=!0,this.connection.deleteConnection(o),"credential"===o.record.tags.type&&this.connection.removeFriendship(o)}block(o){o.loading=!0,console.log("Blocking user",o),this.connection.block(o.record.recipient)}static#n=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=n.VBU({type:t,selectors:[["app-connection"]],inputs:{entry:"entry"},standalone:!0,features:[n.aNF],decls:1,vars:1,consts:[["appearance","outlined",1,"card-notification"],["inline","true","mat-card-avatar","",1,"card-icon"],[1,"capitalize"],[1,"link",3,"routerLink"],[1,"notification-description"],[3,"did"],["mat-button","",3,"click","disabled"]],template:function(s,c){1&s&&n.DNE(0,M,27,17,"mat-card",0),2&s&&n.vxM(c.entry?0:-1)},dependencies:[h.w,F.g,C.MD,i.Hu,i.RN,i.YY,i.QG,i.m2,i.MM,i.Lc,i.dh,r.Hl,r.$z,d.m_,d.An,p.iI,p.Wk],styles:[".card-icon[_ngcontent-%COMP%]{font-size:3em}.card-notification[_ngcontent-%COMP%]{margin-bottom:1em}.notifications-title[_ngcontent-%COMP%]{display:flex;width:100%}.notifications-card[_ngcontent-%COMP%]{max-width:600px;width:100%}.card-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.notification-description[_ngcontent-%COMP%]{margin-bottom:1em}"]})}return t})();var _=e(49996),j=e(34635),f=e(9183);const R=()=>["..","blocks"];function b(t,a){1&t&&n.nrm(0,"mat-spinner",2)}function T(t,a){1&t&&(n.j41(0,"mat-icon"),n.EFF(1,"refresh"),n.k0s())}function $(t,a){1&t&&n.nrm(0,"app-request",3),2&t&&n.Y8G("entry",a.$implicit)}function x(t,a){1&t&&n.EFF(0," No requests found. ")}function O(t,a){1&t&&n.nrm(0,"app-connection",3),2&t&&n.Y8G("entry",a.$implicit)}function P(t,a){1&t&&n.EFF(0," No connections found. ")}let G=(()=>{class t{constructor(){this.connection=(0,n.WQX)(m.K),this.identity=(0,n.WQX)(j.K),this.app=(0,n.WQX)(u.d)}static#n=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275cmp=n.VBU({type:t,selectors:[["app-connections"]],standalone:!0,features:[n.aNF],decls:35,vars:6,consts:[[1,"notifications-card"],["mat-icon-button","",3,"click","disabled"],["diameter","24"],[3,"entry"],[3,"routerLink"]],template:function(s,c){1&s&&(n.j41(0,"h1"),n.EFF(1,"Connections Management"),n.k0s(),n.j41(2,"mat-card",0)(3,"mat-card-header")(4,"mat-card-title-group")(5,"mat-card-title"),n.EFF(6,"Requests"),n.k0s(),n.j41(7,"mat-card-subtitle"),n.EFF(8,"These are incoming connection requests from other users"),n.k0s(),n.j41(9,"button",1),n.bIt("click",function(){return c.connection.reloadRequests()}),n.DNE(10,b,1,0,"mat-spinner",2)(11,T,2,0,"mat-icon"),n.k0s()()(),n.j41(12,"mat-card-content")(13,"p"),n.Z7z(14,$,1,1,"app-request",3,n.fX1,!1,x,1,0),n.k0s()()(),n.nrm(17,"br"),n.j41(18,"mat-card",0)(19,"mat-card-header")(20,"mat-card-title-group")(21,"mat-card-title"),n.EFF(22,"Connections"),n.k0s(),n.j41(23,"mat-card-subtitle"),n.EFF(24,"These are approved and active connections"),n.k0s()()(),n.j41(25,"mat-card-content")(26,"p"),n.Z7z(27,O,1,1,"app-connection",3,n.fX1,!1,P,1,0),n.k0s()()(),n.j41(30,"p"),n.EFF(31,"Missing requests? Make sure you have not "),n.j41(32,"a",4),n.EFF(33,"blocked"),n.k0s(),n.EFF(34," the request."),n.k0s()),2&s&&(n.R7$(9),n.Y8G("disabled",c.connection.loading()),n.R7$(),n.vxM(c.connection.loading()?10:11),n.R7$(4),n.Dyx(c.connection.requests()),n.R7$(13),n.Dyx(c.connection.connections()),n.R7$(5),n.Y8G("routerLink",n.lJ4(5,R)))},dependencies:[_.$,v,C.MD,i.Hu,i.RN,i.m2,i.MM,i.Lc,i.dh,i.aJ,r.Hl,r.iY,d.m_,d.An,p.iI,p.Wk,f.D6,f.LG],styles:[".card-icon[_ngcontent-%COMP%]{font-size:3em}.card-notification[_ngcontent-%COMP%]{margin-bottom:1em}.notifications-title[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}.notifications-card[_ngcontent-%COMP%]{max-width:600px;width:100%}.card-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.notification-description[_ngcontent-%COMP%]{margin-bottom:1em}"]})}return t})()}}]);