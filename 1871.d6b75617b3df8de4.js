"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1871],{11871:(X,l,a)=>{a.r(l),a.d(l,{ConnectionsComponent:()=>$});var t=a(93953),p=a(81317),u=a(31439),m=a(60177),s=a(25596),r=a(88834),d=a(99213),C=a(30046),_=a(10467),f=a(98703),F=a(60385);function h(e,c){1&e&&t.EFF(0," people ")}function y(e,c){1&e&&t.EFF(0," connect_without_contact ")}function g(e,c){1&e&&t.EFF(0," Friend Request ")}function R(e,c){1&e&&t.EFF(0," Connect Request ")}function E(e,c){1&e&&t.EFF(0," This user wants to be your friend, do you accept? This will give them access to send you sharing requets, such as shared Tasks, collabrative apps and more. ")}function x(e,c){if(1&e&&(t.EFF(0," This is a data sharing request. Do you want to accept? "),t.j41(1,"p"),t.EFF(2," App: "),t.j41(3,"span",2),t.EFF(4),t.k0s(),t.nrm(5,"br"),t.EFF(6),t.k0s()),2&e){const n=t.XpG(2);t.R7$(4),t.JRh(n.entry.data.app),t.R7$(2),t.SpI("Title: ",n.entry.data.title," ")}}function b(e,c){1&e&&t.nrm(0,"br")}function T(e,c){if(1&e&&t.nrm(0,"app-profile-header",4),2&e){const n=t.XpG(2);t.Y8G("did",n.entry.record.recipient)}}function M(e,c){if(1&e&&t.nrm(0,"app-profile-header",4),2&e){const n=t.XpG(2);t.Y8G("did",n.entry.record.author)}}function j(e,c){if(1&e){const n=t.RV6();t.j41(0,"button",5),t.EFF(1,"PENDING"),t.k0s(),t.EFF(2,"\xa0 "),t.j41(3,"button",6),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.reject(o.entry))}),t.EFF(4,"CANCEL"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("disabled",!0),t.R7$(3),t.Y8G("disabled",n.entry.loading)}}function k(e,c){if(1&e){const n=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.accept(o.entry))}),t.EFF(1,"ACCEPT"),t.k0s(),t.EFF(2,"\xa0 "),t.j41(3,"button",6),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.reject(o.entry))}),t.EFF(4,"DELETE"),t.k0s(),t.EFF(5,"\xa0 "),t.j41(6,"button",6),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.block(o.entry))}),t.EFF(7,"BLOCK"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("disabled",n.entry.loading),t.R7$(3),t.Y8G("disabled",n.entry.loading),t.R7$(3),t.Y8G("disabled",n.entry.loading)}}function v(e,c){if(1&e&&(t.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-icon",1),t.DNE(3,h,1,0)(4,y,1,0),t.k0s(),t.j41(5,"mat-card-title"),t.DNE(6,g,1,0)(7,R,1,0),t.k0s(),t.j41(8,"mat-card-subtitle"),t.EFF(9,"Type: "),t.j41(10,"span",2),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"ago"),t.k0s()(),t.j41(14,"mat-card-content")(15,"div",3),t.DNE(16,E,1,0)(17,x,7,2,"p")(18,b,1,0,"br"),t.k0s(),t.DNE(19,T,1,1,"app-profile-header",4)(20,M,1,1,"app-profile-header",4),t.k0s(),t.j41(21,"mat-card-actions"),t.DNE(22,j,5,2)(23,k,8,3),t.k0s()()),2&e){const n=t.XpG();t.R7$(3),t.vxM("friend"==n.entry.record.tags.type?3:4),t.R7$(3),t.vxM("friend"==n.entry.record.tags.type?6:7),t.R7$(5),t.JRh(n.entry.record.tags.type),t.R7$(),t.SpI(" (",t.bMT(13,7,n.entry.record.dateCreated),")"),t.R7$(4),t.vxM("friend"==n.entry.record.tags.type?16:"data"==n.entry.record.tags.type?17:18),t.R7$(3),t.vxM("out"==n.entry.direction?19:20),t.R7$(3),t.vxM("out"==n.entry.direction?22:23)}}let G=(()=>{class e{constructor(){this.entry=void 0,this.connection=(0,t.WQX)(p.K),this.app=(0,t.WQX)(u.d)}deleteConnection(n){n.loading=!0,this.connection.deleteConnection(n)}accept(n){var i=this;return(0,_.A)(function*(){n.loading=!0,console.log("Accepting connection request",n);const o=n.record.tags.type;yield i.connection.create(n.data,o)})()}block(n){var i=this;return(0,_.A)(function*(){n.loading=!0,console.log("Blocking user",n);const o=yield i.connection.block(n.record.author);console.log("Block result: ",o),yield i.connection.deleteConnections(n.record.author),yield i.connection.deleteRequests(n.record.author)})()}reject(n){n.loading=!0,this.connection.deleteRequest(n)}static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-request"]],inputs:{entry:"entry"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["appearance","outlined",1,"card-notification"],["inline","true","mat-card-avatar","",1,"card-icon"],[1,"capitalize"],[1,"notification-description"],[3,"did"],["mat-flat-button","",3,"disabled"],["mat-button","",3,"click","disabled"],["mat-flat-button","",3,"click","disabled"]],template:function(i,o){1&i&&t.DNE(0,v,24,9,"mat-card",0),2&i&&t.vxM(o.entry?0:-1)},dependencies:[F.w,f.g,m.MD,s.Hu,s.RN,s.YY,s.QG,s.m2,s.MM,s.Lc,s.dh,r.Hl,r.$z,d.m_,d.An,C.iI],styles:[".card-icon[_ngcontent-%COMP%]{font-size:3em}.card-notification[_ngcontent-%COMP%]{margin-bottom:1em}.notifications-title[_ngcontent-%COMP%]{display:flex;width:100%}.notifications-card[_ngcontent-%COMP%]{max-width:600px;width:100%}.card-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.notification-description[_ngcontent-%COMP%]{margin-bottom:1em}"]})}return e})();function q(e,c){1&e&&t.nrm(0,"app-request",1),2&e&&t.Y8G("entry",c.$implicit)}function N(e,c){1&e&&t.EFF(0," No requests found. ")}function P(e,c){1&e&&t.nrm(0,"app-request",1),2&e&&t.Y8G("entry",c.$implicit)}function O(e,c){1&e&&t.EFF(0," No connections found. ")}let $=(()=>{class e{constructor(){this.connection=(0,t.WQX)(p.K),this.app=(0,t.WQX)(u.d)}static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-connections"]],standalone:!0,features:[t.aNF],decls:21,vars:2,consts:[[1,"notifications-card"],[3,"entry"]],template:function(i,o){1&i&&(t.j41(0,"h1"),t.EFF(1,"Connections Management"),t.k0s(),t.j41(2,"mat-card",0)(3,"mat-card-header")(4,"mat-card-title"),t.EFF(5,"Requests"),t.k0s()(),t.j41(6,"mat-card-content")(7,"p"),t.Z7z(8,q,1,1,"app-request",1,t.fX1,!1,N,1,0),t.k0s()()(),t.nrm(11,"br"),t.j41(12,"mat-card",0)(13,"mat-card-header")(14,"mat-card-title"),t.EFF(15,"Connections"),t.k0s()(),t.j41(16,"mat-card-content")(17,"p"),t.Z7z(18,P,1,1,"app-request",1,t.fX1,!1,O,1,0),t.k0s()()()),2&i&&(t.R7$(8),t.Dyx(o.connection.requests()),t.R7$(10),t.Dyx(o.connection.connections()))},dependencies:[G,m.MD,s.Hu,s.RN,s.m2,s.MM,s.dh,r.Hl,d.m_,C.iI],styles:[".card-icon[_ngcontent-%COMP%]{font-size:3em}.card-notification[_ngcontent-%COMP%]{margin-bottom:1em}.notifications-title[_ngcontent-%COMP%]{display:flex;width:100%}[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}.notifications-card[_ngcontent-%COMP%]{max-width:600px;width:100%}.card-notification[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.notification-description[_ngcontent-%COMP%]{margin-bottom:1em}"]})}return e})()}}]);