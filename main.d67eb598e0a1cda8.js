(self.webpackChunkapp=self.webpackChunkapp||[]).push([[792],{52191:($e,j,E)=>{var g=E(40573);const w="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,B=()=>w.now(),b=S=>S===1/0||(S=>S&&S===Math.floor(S)&&S>0&&isFinite(S))(S);class k{constructor({max:P=1/0,ttl:R,updateAgeOnGet:O=!1,checkAgeOnGet:A=!1,noUpdateTTL:V=!1,dispose:U,noDisposeOnSet:K=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==R&&!b(R))throw new TypeError("ttl must be positive integer or Infinity if set");if(!b(P))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=R,this.max=P,this.updateAgeOnGet=!!O,this.checkAgeOnGet=!!A,this.noUpdateTTL=!!V,this.noDisposeOnSet=!!K,void 0!==U){if("function"!=typeof U)throw new TypeError("dispose must be function if set");this.dispose=U}this.timer=void 0,this.timerExpiration=void 0}setTimer(P,R){if(this.timerExpiration<P)return;this.timer&&clearTimeout(this.timer);const O=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const A in this.expirations){this.setTimer(A,A-B());break}},R);O.unref&&O.unref(),this.timerExpiration=P,this.timer=O}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return g.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const P=this.dispose!==k.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[R,O]of P)this.dispose(O,R,"delete")}setTTL(P,R=this.ttl){const O=this.expirationMap.get(P);if(void 0!==O){const A=this.expirations[O];!A||A.length<=1?delete this.expirations[O]:this.expirations[O]=A.filter(V=>V!==P)}if(R!==1/0){const A=Math.floor(B()+R);this.expirationMap.set(P,A),this.expirations[A]||(this.expirations[A]=[],this.setTimer(A,R)),this.expirations[A].push(P)}else this.expirationMap.set(P,1/0)}set(P,R,{ttl:O=this.ttl,noUpdateTTL:A=this.noUpdateTTL,noDisposeOnSet:V=this.noDisposeOnSet}={}){if(!b(O))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(P)){A||this.setTTL(P,O);const U=this.data.get(P);U!==R&&(this.data.set(P,R),V||this.dispose(U,P,"set"))}else this.setTTL(P,O),this.data.set(P,R);for(;this.size>this.max;)this.purgeToCapacity();return this}has(P){return this.data.has(P)}getRemainingTTL(P){const R=this.expirationMap.get(P);return R===1/0?R:void 0!==R?Math.max(0,Math.ceil(R-B())):0}get(P,{updateAgeOnGet:R=this.updateAgeOnGet,ttl:O=this.ttl,checkAgeOnGet:A=this.checkAgeOnGet}={}){const V=this.data.get(P);if(!A||0!==this.getRemainingTTL(P))return R&&this.setTTL(P,O),V;this.delete(P)}dispose(P,R){}delete(P){const R=this.expirationMap.get(P);if(void 0!==R){const O=this.data.get(P);this.data.delete(P),this.expirationMap.delete(P);const A=this.expirations[R];return A&&(A.length<=1?delete this.expirations[R]:this.expirations[R]=A.filter(V=>V!==P)),this.dispose(O,P,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const P in this.expirations){const R=this.expirations[P];if(!(this.size-R.length>=this.max)){const O=this.size-this.max,A=[];for(const V of R.splice(0,O))A.push([V,this.data.get(V)]),this.data.delete(V),this.expirationMap.delete(V);for(const[V,U]of A)this.dispose(U,V,"evict");return}{delete this.expirations[P];const O=[];for(const A of R)O.push([A,this.data.get(A)]),this.data.delete(A),this.expirationMap.delete(A);for(const[A,V]of O)this.dispose(V,A,"evict")}}}get size(){return this.data.size}purgeStale(){const P=Math.ceil(B());for(const R in this.expirations){if("Infinity"===R||R>P)return;const O=[...this.expirations[R]||[]],A=[];delete this.expirations[R];for(const V of O)A.push([V,this.data.get(V)]),this.data.delete(V),this.expirationMap.delete(V);for(const[V,U]of A)this.dispose(U,V,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const P in this.expirations)for(const R of this.expirations[P])yield[R,this.data.get(R)]}*keys(){for(const P in this.expirations)for(const R of this.expirations[P])yield R}*values(){for(const P in this.expirations)for(const R of this.expirations[P])yield this.data.get(R)}[Symbol.iterator](){return this.entries()}}$e.exports=k},27413:($e,j,E)=>{"use strict";E.d(j,{K:()=>wi});var g=E(10467),w=E(93953),B=E(30569),H=function(gt){return gt.authentication="authentication",gt.assertionMethod="assertionMethod",gt.keyAgreement="keyAgreement",gt.capabilityInvocation="capabilityInvocation",gt.capabilityDelegation="capabilityDelegation",gt}(H||{});const b={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class k{constructor({method:Ft,id:We,path:qe,query:Mt,fragment:Lt,params:Yt}){this.uri=`did:${Ft}:${We}`,this.method=Ft,this.id=We,this.path=qe,this.query=Mt,this.fragment=Lt,this.params=Yt}static parse(Ft){if(!Ft)return null;const We=k.DID_URI_PATTERN.exec(Ft);if(!We||!We.groups)return null;const{method:qe,id:Mt,path:Lt,query:Yt,fragment:mn}=We.groups,Ln={uri:`did:${qe}:${Mt}`,method:qe,id:Mt};if(Lt&&(Ln.path=Lt),Yt&&(Ln.query=Yt.slice(1)),mn&&(Ln.fragment=mn.slice(1)),Yt){const Tn={},un=Yt.slice(1).split("&");for(const Bn of un){const[qt,lt]=Bn.split("=");Tn[qt]=lt}Ln.params=Tn}return Ln}}k.METHOD_PATTERN="([a-z0-9]+)",k.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",k.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${k.PCT_ENCODED_PATTERN})`,k.METHOD_ID_PATTERN=`((?:${k.ID_CHAR_PATTERN}*:)*(${k.ID_CHAR_PATTERN}+))`,k.PATH_PATTERN="(/[^#?]*)?",k.QUERY_PATTERN="([?][^#]*)?",k.FRAGMENT_PATTERN="(#.*)?",k.DID_URI_PATTERN=new RegExp(`^did:(?<method>${k.METHOD_PATTERN}):(?<id>${k.METHOD_ID_PATTERN})(?<path>${k.PATH_PATTERN})(?<query>${k.QUERY_PATTERN})(?<fragment>${k.FRAGMENT_PATTERN})$`);class S extends Error{constructor(Ft,We){super(`${Ft}: ${We}`),this.code=Ft,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S)}}var P=function(gt){return gt.InvalidDid="invalidDid",gt.MethodNotSupported="methodNotSupported",gt.InternalError="internalError",gt.InvalidDidDocument="invalidDidDocument",gt.InvalidDidDocumentLength="invalidDidDocumentLength",gt.InvalidDidUrl="invalidDidUrl",gt.InvalidPreviousDidProof="invalidPreviousDidProof",gt.InvalidPublicKey="invalidPublicKey",gt.InvalidPublicKeyLength="invalidPublicKeyLength",gt.InvalidPublicKeyType="invalidPublicKeyType",gt.InvalidSignature="invalidSignature",gt.NotFound="notFound",gt.RepresentationNotSupported="representationNotSupported",gt.UnsupportedPublicKeyType="unsupportedPublicKeyType",gt}(P||{}),R=E(86136),O=E(37475);function V(gt){if("string"==typeof gt&&0!==gt.length)return gt.split("#").pop()}function ie(gt){return!(!gt||"object"!=typeof gt||null===gt||!("id"in gt&&"type"in gt&&"controller"in gt)||"string"!=typeof gt.id||"string"!=typeof gt.type||"string"!=typeof gt.controller)}var ce=function(gt,Ft,We,qe){return new(We||(We=Promise))(function(Lt,Yt){function mn(un){try{Tn(qe.next(un))}catch(Bn){Yt(Bn)}}function Ln(un){try{Tn(qe.throw(un))}catch(Bn){Yt(Bn)}}function Tn(un){un.done?Lt(un.value):function Mt(Lt){return Lt instanceof We?Lt:new We(function(Yt){Yt(Lt)})}(un.value).then(mn,Ln)}Tn((qe=qe.apply(gt,Ft||[])).next())})};class pe{constructor({uri:Ft,document:We,metadata:qe,keyManager:Mt}){this.uri=Ft,this.document=We,this.metadata=qe,this.keyManager=Mt}export(){return ce(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Ft={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const We=[];for(let qe of this.document.verificationMethod){if(!qe.publicKeyJwk)throw new Error(`Verification method '${qe.id}' does not contain a public key in JWK format`);const Mt=yield this.keyManager.getKeyUri({key:qe.publicKeyJwk}),Lt=yield this.keyManager.exportKey({keyUri:Mt});We.push(Object.assign({},Lt))}Ft.privateKeys=We}return Ft})}getSigner(Ft){return ce(this,void 0,void 0,function*(){var We;const qe=null===(We=this.document.verificationMethod)||void 0===We?void 0:We.find(Ln=>{var Tn,un;return V(Ln.id)===(null!==(Tn=V(Ft?.methodId))&&void 0!==Tn?Tn:V(null===(un=this.document.assertionMethod)||void 0===un?void 0:un[0]))});if(!qe||!qe.publicKeyJwk)throw new S(P.InternalError,"A verification method intended for signing could not be determined from the DID Document");const Mt=yield this.keyManager.getKeyUri({key:qe.publicKeyJwk}),Lt=yield this.keyManager.getPublicKey({keyUri:Mt}),Yt=this.keyManager;return{algorithm:R.Wp.getJoseSignatureAlgorithmFromPublicKey(Lt),keyId:qe.id,sign(Ln){return ce(this,arguments,void 0,function*({data:Tn}){return yield Yt.sign({data:Tn,keyUri:Mt})})},verify(Ln){return ce(this,arguments,void 0,function*({data:Tn,signature:un}){return yield Yt.verify({data:Tn,key:Lt,signature:un})})}}})}static import(Ft){return ce(this,arguments,void 0,function*({portableDid:We,keyManager:qe=new R.eP}){var Mt;const Lt=function Q({didDocument:gt}){var Ft,We;if(!gt)throw new TypeError("Required parameter missing: 'didDocument'");const qe=[];return qe.push(...null!==(We=null===(Ft=gt.verificationMethod)||void 0===Ft?void 0:Ft.filter(ie))&&void 0!==We?We:[]),Object.keys(H).forEach(Mt=>{var Lt,Yt;qe.push(...null!==(Yt=null===(Lt=gt[Mt])||void 0===Lt?void 0:Lt.filter(ie))&&void 0!==Yt?Yt:[])}),qe}({didDocument:We.document});if(0===Lt.length)throw new S(P.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let mn of null!==(Mt=We.privateKeys)&&void 0!==Mt?Mt:[])yield qe.importKey({key:mn});for(let mn of Lt){if(!mn.publicKeyJwk)throw new Error(`Verification method '${mn.id}' does not contain a public key in JWK format`);const Ln=yield qe.getKeyUri({key:mn.publicKeyJwk});yield qe.getPublicKey({keyUri:Ln})}return new pe({uri:We.uri,document:We.document,metadata:We.metadata,keyManager:qe})})}}var ve=E(2198),De=E(49402),C=function(gt,Ft,We,qe){return new(We||(We=Promise))(function(Lt,Yt){function mn(un){try{Tn(qe.next(un))}catch(Bn){Yt(Bn)}}function Ln(un){try{Tn(qe.throw(un))}catch(Bn){Yt(Bn)}}function Tn(un){un.done?Lt(un.value):function Mt(Lt){return Lt instanceof We?Lt:new We(function(Yt){Yt(Lt)})}(un.value).then(mn,Ln)}Tn((qe=qe.apply(gt,Ft||[])).next())})};class s{static getSigningMethod(Ft){return C(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Ft,We){return C(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var d=function(gt,Ft,We,qe){return new(We||(We=Promise))(function(Lt,Yt){function mn(un){try{Tn(qe.next(un))}catch(Bn){Yt(Bn)}}function Ln(un){try{Tn(qe.throw(un))}catch(Bn){Yt(Bn)}}function Tn(un){un.done?Lt(un.value):function Mt(Lt){return Lt instanceof We?Lt:new We(function(Yt){Yt(Lt)})}(un.value).then(mn,Ln)}Tn((qe=qe.apply(gt,Ft||[])).next())})},h=function(gt,Ft){var We={};for(var qe in gt)Object.prototype.hasOwnProperty.call(gt,qe)&&Ft.indexOf(qe)<0&&(We[qe]=gt[qe]);if(null!=gt&&"function"==typeof Object.getOwnPropertySymbols){var Mt=0;for(qe=Object.getOwnPropertySymbols(gt);Mt<qe.length;Mt++)Ft.indexOf(qe[Mt])<0&&Object.prototype.propertyIsEnumerable.call(gt,qe[Mt])&&(We[qe[Mt]]=gt[qe[Mt]])}return We};const f="https://diddht.tbddev.org",I=7200,L=";",x=",";var a=function(gt){return gt[gt.Discoverable=0]="Discoverable",gt[gt.Organization=1]="Organization",gt[gt.Government=2]="Government",gt[gt.Corporation=3]="Corporation",gt[gt.LocalBusiness=4]="LocalBusiness",gt[gt.SoftwarePackage=5]="SoftwarePackage",gt[gt.WebApp=6]="WebApp",gt[gt.FinancialInstitution=7]="FinancialInstitution",gt}(a||{}),v=function(gt){return gt[gt.Ed25519=0]="Ed25519",gt[gt.secp256k1=1]="secp256k1",gt[gt.secp256r1=2]="secp256r1",gt[gt.X25519=3]="X25519",gt}(v||{}),Z=function(gt){return gt.authentication="auth",gt.assertionMethod="asm",gt.capabilityDelegation="del",gt.capabilityInvocation="inv",gt.keyAgreement="agm",gt}(Z||{});const z={Ed25519:v.Ed25519,ES256K:v.secp256k1,ES256:v.secp256r1,"P-256":v.secp256r1,secp256k1:v.secp256k1,secp256r1:v.secp256r1,X25519:v.X25519},ee={[v.Ed25519]:"EdDSA",[v.secp256k1]:"ES256K",[v.secp256r1]:"ES256",[v.X25519]:"ECDH-ES+A256KW"};let le=(()=>{class gt extends s{static create(){return d(this,arguments,void 0,function*({keyManager:We=new R.eP,options:qe={}}={}){var Mt,Lt,Yt,mn,Ln,Tn,un,Bn,qt,lt,St;if(null!==(Mt=qe.verificationMethods)&&void 0!==Mt&&Mt.some(it=>!(it.algorithm in z)))throw new Error("One or more verification method algorithms are not supported");const Rt=null===(Lt=qe.verificationMethods)||void 0===Lt?void 0:Lt.filter(it=>"id"in it).map(it=>it.id);if(Rt&&Rt.length!==new Set(Rt).size)throw new Error("One or more verification method IDs are not unique");if(null!==(Yt=qe.services)&&void 0!==Yt&&Yt.some(it=>!it.id||!it.type||!it.serviceEndpoint))throw new Error("One or more services are missing required properties");const tt=yield We.generateKey({algorithm:"Ed25519"}),nt=yield We.getPublicKey({keyUri:tt}),Be=yield Me.identityKeyToIdentifier({identityKey:nt}),Fe=Object.assign(Object.assign({id:Be},qe.alsoKnownAs&&{alsoKnownAs:qe.alsoKnownAs}),qe.controllers&&{controller:qe.controllers}),xt=[...null!==(mn=qe.verificationMethods)&&void 0!==mn?mn:[]];xt?.some(it=>{var Kt;return"0"===(null===(Kt=it.id)||void 0===Kt?void 0:Kt.split("#").pop())})||xt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const it of xt){const Kt=it.id&&"0"===it.id.split("#").pop()?tt:yield We.generateKey({algorithm:it.algorithm}),xn=yield We.getPublicKey({keyUri:Kt});let fn=null!==(Tn=null!==(Ln=it.id)&&void 0!==Ln?Ln:xn.kid)&&void 0!==Tn?Tn:yield(0,R.BA)({jwk:xn});fn=`${Be}#${V(fn)}`,null!==(un=Fe.verificationMethod)&&void 0!==un||(Fe.verificationMethod=[]),Fe.verificationMethod.push({id:fn,type:"JsonWebKey",controller:null!==(Bn=it.controller)&&void 0!==Bn?Bn:Be,publicKeyJwk:xn});for(const Ht of null!==(qt=it.purposes)&&void 0!==qt?qt:[])Fe[Ht]||(Fe[Ht]=[]),Fe[Ht].push(fn)}null===(lt=qe.services)||void 0===lt||lt.forEach(it=>{var Kt;null!==(Kt=Fe.service)&&void 0!==Kt||(Fe.service=[]),it.id=`${Be}#${it.id.split("#").pop()}`,Fe.service.push(it)});const ft=new pe({uri:Be,document:Fe,metadata:Object.assign({published:!1},qe.types&&{types:qe.types}),keyManager:We});if(null===(St=qe.publish)||void 0===St||St){const it=yield gt.publish({did:ft,gatewayUri:qe.gatewayUri});ft.metadata=it.didDocumentMetadata}return ft})}static import(We){return d(this,arguments,void 0,function*({portableDid:qe,keyManager:Mt=new R.eP}){var Lt;const Yt=k.parse(qe.uri);if(Yt?.method!==gt.methodName)throw new S(P.MethodNotSupported,"Method not supported");const mn=yield pe.import({portableDid:qe,keyManager:Mt});if(null===(Lt=mn.document.verificationMethod)||void 0===Lt||!Lt.some(Ln=>{var Tn;return"0"===(null===(Tn=Ln.id)||void 0===Tn?void 0:Tn.split("#").pop())}))throw new S(P.InvalidDidDocument,"DID document must contain an Identity Key");return mn})}static getSigningMethod(We){return d(this,arguments,void 0,function*({didDocument:qe,methodId:Mt="#0"}){var Lt;const Yt=k.parse(qe.id);if(Yt&&Yt.method!==this.methodName)throw new S(P.MethodNotSupported,`Method not supported: ${Yt.method}`);const mn=null===(Lt=qe.verificationMethod)||void 0===Lt?void 0:Lt.find(Ln=>{var Tn,un;return V(Ln.id)===(null!==(Tn=V(Mt))&&void 0!==Tn?Tn:V(null===(un=qe.assertionMethod)||void 0===un?void 0:un[0]))});if(!mn||!mn.publicKeyJwk)throw new S(P.InternalError,"A verification method intended for signing could not be determined from the DID Document");return mn})}static publish(We){return d(this,arguments,void 0,function*({did:qe,gatewayUri:Mt=f}){return yield we.put({did:qe,gatewayUri:Mt})})}static resolve(We){return d(this,arguments,void 0,function*(qe,Mt={}){var Lt;const Yt=null!==(Lt=Mt?.gatewayUri)&&void 0!==Lt?Lt:f;try{yield Me.identifierToIdentityKey({didUri:qe});const{didDocument:mn,didDocumentMetadata:Ln}=yield we.get({didUri:qe,gatewayUri:Yt});return Object.assign(Object.assign({},b),{didDocument:mn,didDocumentMetadata:Ln})}catch(mn){if(!(mn instanceof S))throw new Error(mn);return Object.assign(Object.assign({},b),{didResolutionMetadata:Object.assign({error:mn.code},mn.message&&{errorMessage:mn.message})})}})}}return gt.methodName="dht",gt})();class we{static get(Ft){return d(this,arguments,void 0,function*({didUri:We,gatewayUri:qe}){const Mt=Me.identifierToIdentityKeyBytes({didUri:We}),Lt=yield we.pkarrGet({gatewayUri:qe,publicKeyBytes:Mt}),Yt=yield Me.parseBep44GetMessage({bep44Message:Lt}),mn=yield we.fromDnsPacket({didUri:We,dnsPacket:Yt});return mn.didDocumentMetadata.versionId=Lt.seq.toString(),mn})}static put(Ft){return d(this,arguments,void 0,function*({did:We,gatewayUri:qe}){const Mt=yield we.toDnsPacket({didDocument:We.document,didMetadata:We.metadata,authoritativeGatewayUris:[qe]}),Lt=yield Me.createBep44PutMessage({dnsPacket:Mt,publicKeyBytes:Me.identifierToIdentityKeyBytes({didUri:We.uri}),signer:yield We.getSigner({methodId:"0"})}),Yt=yield we.pkarrPut({gatewayUri:qe,bep44Message:Lt});return{didDocument:We.document,didDocumentMetadata:Object.assign(Object.assign({},We.metadata),{published:Yt,versionId:Lt.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Ft){return d(this,arguments,void 0,function*({gatewayUri:We,publicKeyBytes:qe}){const Mt=O.U$.uint8Array(qe).toBase32Z(),Lt=new URL(Mt,We).href;let Yt;try{if(Yt=yield fetch(Lt,{method:"GET"}),!Yt.ok)throw new S(P.NotFound,`Pkarr record not found for: ${Mt}`)}catch(Tn){throw Tn instanceof S?Tn:new S(P.InternalError,`Failed to fetch Pkarr record: ${Tn.message}`)}const mn=yield Yt.arrayBuffer();if(!mn)throw new S(P.NotFound,`Pkarr record not found for: ${Mt}`);if(mn.byteLength<72)throw new S(P.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${mn.byteLength}`);if(mn.byteLength>1072)throw new S(P.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${mn.byteLength}`);return{k:qe,seq:Number(new DataView(mn).getBigUint64(64)),sig:new Uint8Array(mn,0,64),v:new Uint8Array(mn,72)}})}static pkarrPut(Ft){return d(this,arguments,void 0,function*({gatewayUri:We,bep44Message:qe}){const Mt=O.U$.uint8Array(qe.k).toBase32Z(),Lt=new URL(Mt,We).href,Yt=new Uint8Array(qe.v.length+72);let mn;Yt.set(qe.sig,0),new DataView(Yt.buffer).setBigUint64(qe.sig.length,BigInt(qe.seq)),Yt.set(qe.v,qe.sig.length+8);try{mn=yield fetch(Lt,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:Yt})}catch(Ln){throw new S(P.InternalError,`Failed to put Pkarr record for identifier ${Mt}: ${Ln.message}`)}return mn.ok})}static fromDnsPacket(Ft){return d(this,arguments,void 0,function*({didUri:We,dnsPacket:qe}){var Mt,Lt,Yt;const mn={id:We},Ln={published:!0},Tn=new Map;for(const un of null!==(Mt=qe?.answers)&&void 0!==Mt?Mt:[]){if("TXT"!==un.type)continue;const Bn=un.name.split(".")[0].substring(1);switch(!0){case Bn.startsWith("aka"):{const qt=Me.parseTxtDataToString(un.data);mn.alsoKnownAs=qt.split(x);break}case Bn.startsWith("cnt"):{const qt=Me.parseTxtDataToString(un.data);mn.controller=qt.includes(x)?qt.split(x):qt;break}case Bn.startsWith("k"):{const{id:qt,t:lt,k:St,c:Rt,a:tt}=Me.parseTxtDataToObject(un.data),nt=O.U$.base64Url(St).toUint8Array(),Be=v[Number(lt)];let Fe=yield Me.keyConverter(Be).bytesToPublicKey({publicKeyBytes:nt});Fe.alg=tt||ee[Number(lt)];const xt="k0"===Bn?"0":void 0!==qt?qt:yield(0,R.BA)({jwk:Fe});null!==(Lt=mn.verificationMethod)&&void 0!==Lt||(mn.verificationMethod=[]);const ft=`${We}#${xt}`;mn.verificationMethod.push({id:ft,type:"JsonWebKey",controller:Rt??We,publicKeyJwk:Fe}),Tn.set(Bn,ft);break}case Bn.startsWith("s"):{const qt=Me.parseTxtDataToObject(un.data),{id:lt,t:St,se:Rt}=qt,tt=h(qt,["id","t","se"]),nt=Rt.includes(x)?Rt.split(x):[Rt],Be=Object.fromEntries(Object.entries(tt).map(([Fe,xt])=>[Fe,xt.includes(x)?xt.split(x):xt]));null!==(Yt=mn.service)&&void 0!==Yt||(mn.service=[]),mn.service.push(Object.assign(Object.assign({},Be),{id:`${We}#${lt}`,type:St,serviceEndpoint:nt}));break}case Bn.startsWith("typ"):{const{id:qt}=Me.parseTxtDataToObject(un.data);Ln.types=qt.split(x).map(lt=>Number(lt));break}case Bn.startsWith("did"):{const qt=Be=>Be.split(x).map(Fe=>Tn.get(Fe)).filter(Fe=>"string"==typeof Fe),{auth:lt,asm:St,del:Rt,inv:tt,agm:nt}=Me.parseTxtDataToObject(un.data);lt&&(mn.authentication=qt(lt)),St&&(mn.assertionMethod=qt(St)),Rt&&(mn.capabilityDelegation=qt(Rt)),tt&&(mn.capabilityInvocation=qt(tt)),nt&&(mn.keyAgreement=qt(nt));break}}}return{didDocument:mn,didDocumentMetadata:Ln,didResolutionMetadata:{}}})}static toDnsPacket(Ft){return d(this,arguments,void 0,function*({didDocument:We,didMetadata:qe,authoritativeGatewayUris:Mt,previousDidProof:Lt}){var Yt,mn,Ln,Tn,un;const Bn=[],qt=[],lt=new Map,St=[],Rt=[];if(void 0!==Lt){const{signature:Be,previousDid:Fe}=Lt;yield Me.validatePreviousDidProof({newDid:We.id,previousDidProof:Lt}),Bn.push({type:"TXT",name:"_prv._did.",ttl:I,data:`id=${Fe};s=${Be}`})}if(We.alsoKnownAs&&Bn.push({type:"TXT",name:"_aka._did.",ttl:I,data:We.alsoKnownAs.join(x)}),We.controller){const Be=Array.isArray(We.controller)?We.controller.join(x):We.controller;Bn.push({type:"TXT",name:"_cnt._did.",ttl:I,data:Be})}for(const[Be,Fe]of null!==(mn=null===(Yt=We.verificationMethod)||void 0===Yt?void 0:Yt.entries())&&void 0!==mn?mn:[]){const xt=`k${Be}`;Rt.push(xt);let ft=Fe.id.split("#").pop();lt.set(ft,xt);const it=Fe.publicKeyJwk;if(!it?.crv||!(it.crv in z))throw new S(P.InvalidPublicKeyType,`Verification method '${Fe.id}' contains an unsupported key type: ${null!==(Ln=it?.crv)&&void 0!==Ln?Ln:"undefined"}`);const Kt=v[it.crv],xn=yield Me.keyConverter(it.crv).publicKeyToBytes({publicKey:it}),Ht=[`t=${Kt}`,`k=${O.U$.uint8Array(xn).toBase64Url()}`];"0"!==ft&&(yield(0,R.BA)({jwk:it}))!==ft&&Ht.unshift(`id=${ft}`),it.alg!==ee[Kt]&&Ht.push(`a=${it.alg}`),Fe.controller!==We.id&&Ht.push(`c=${Fe.controller}`),Bn.push({type:"TXT",name:`_${xt}._did.`,ttl:I,data:Ht.join(L)})}null===(Tn=We.service)||void 0===Tn||Tn.forEach((Be,Fe)=>{const xt=`s${Fe}`;St.push(xt);let{id:ft,type:it,serviceEndpoint:Kt}=Be,xn=h(Be,["id","type","serviceEndpoint"]);ft=V(ft),Kt=Array.isArray(Kt)?Kt.join(","):Kt;const Ht=Object.entries(Object.assign({id:ft,t:it,se:Kt},xn)).map(([rr,br])=>`${rr}=${br}`).join(L),_n=Me.chunkDataIfNeeded(Ht);Bn.push({type:"TXT",name:`_${xt}._did.`,ttl:I,data:_n})});const tt=["v=0"];if(Rt.length&&tt.push(`vm=${Rt.join(x)}`),Object.keys(H).forEach(Be=>{var Fe;const xt=null===(Fe=We[Be])||void 0===Fe?void 0:Fe.map(ft=>lt.get(ft.split("#").pop()));xt&&tt.push(`${Z[Be]}=${xt.join(x)}`)}),St.length&&tt.push(`svc=${St.join(x)}`),null!==(un=qe.types)&&void 0!==un&&un.length){const Fe=qe.types.map(xt=>"string"==typeof xt?a[xt]:xt);Bn.push({type:"TXT",name:"_typ._did.",ttl:I,data:`id=${Fe.join(x)}`})}Bn.push({type:"TXT",name:"_did."+we.getUniqueDidSuffix(We.id)+".",ttl:I,data:tt.join(L)});for(const Be of Mt||[])qt.push({type:"NS",name:"_did."+we.getUniqueDidSuffix(We.id)+".",ttl:I,data:Be+"."});return{id:0,type:"response",flags:De.hB,answers:[...Bn,...qt]}})}static getUniqueDidSuffix(Ft){return Ft.split(":")[2]}}class Me{static createBep44PutMessage(Ft){return d(this,arguments,void 0,function*({dnsPacket:We,publicKeyBytes:qe,signer:Mt}){const Lt=Math.ceil(Date.now()/1e3),Yt=(0,De.lF)(We),mn=ve.A.encode({seq:Lt,v:Yt}).subarray(1,-1);if(mn.length>1e3)throw new S(P.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${mn.length} bytes`);return{k:qe,seq:Lt,sig:yield Mt.sign({data:mn}),v:Yt}})}static identifierToIdentityKey(Ft){return d(this,arguments,void 0,function*({didUri:We}){let qe=Me.identifierToIdentityKeyBytes({didUri:We});return yield R.Mc.bytesToPublicKey({publicKeyBytes:qe})})}static identifierToIdentityKeyBytes({didUri:Ft}){const We=k.parse(Ft);if(!We)throw new S(P.InvalidDid,`Invalid DID URI: ${Ft}`);if(We.method!==le.methodName)throw new S(P.MethodNotSupported,`Method not supported: ${We.method}`);let qe;try{qe=O.U$.base32Z(We.id).toUint8Array()}catch{throw new S(P.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==qe.length)throw new S(P.InvalidPublicKeyLength,`Invalid public key length: ${qe.length}`);return qe}static identityKeyToIdentifier(Ft){return d(this,arguments,void 0,function*({identityKey:We}){const qe=yield R.Mc.publicKeyToBytes({publicKey:We}),Mt=O.U$.uint8Array(qe).toBase32Z();return`did:${le.methodName}:${Mt}`})}static keyConverter(Ft){const qe={Ed25519:R.Mc,"P-256":{publicKeyToBytes:Mt=>d(this,[Mt],void 0,function*({publicKey:Lt}){const Yt=yield R.iH.publicKeyToBytes({publicKey:Lt});return yield R.iH.compressPublicKey({publicKeyBytes:Yt})}),bytesToPublicKey:R.iH.bytesToPublicKey,privateKeyToBytes:R.iH.privateKeyToBytes,bytesToPrivateKey:R.iH.bytesToPrivateKey},secp256k1:{publicKeyToBytes:Mt=>d(this,[Mt],void 0,function*({publicKey:Lt}){const Yt=yield R.jg.publicKeyToBytes({publicKey:Lt});return yield R.jg.compressPublicKey({publicKeyBytes:Yt})}),bytesToPublicKey:R.jg.bytesToPublicKey,privateKeyToBytes:R.jg.privateKeyToBytes,bytesToPrivateKey:R.jg.bytesToPrivateKey},X25519:R.Nx}[Ft];if(!qe)throw new S(P.InvalidPublicKeyType,`Unsupported curve: ${Ft}`);return qe}static parseBep44GetMessage(Ft){return d(this,arguments,void 0,function*({bep44Message:We}){const qe=yield R.Mc.bytesToPublicKey({publicKeyBytes:We.k}),Mt=ve.A.encode({seq:We.seq,v:We.v}).subarray(1,-1);if(!(yield R.Mc.verify({key:qe,signature:We.sig,data:Mt})))throw new S(P.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,De.D4)(We.v)})}static parseTxtDataToObject(Ft){return this.parseTxtDataToString(Ft).split(L).reduce((We,qe)=>{const[Mt,Lt]=qe.split("=");return We[Mt]=Lt,We},{})}static parseTxtDataToString(Ft){if("string"==typeof Ft)return Ft;if(Ft instanceof Uint8Array)return O.U$.uint8Array(Ft).toString();if(Array.isArray(Ft))return Ft.map(We=>this.parseTxtDataToString(We)).join("");throw new S(P.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Ft){return d(this,arguments,void 0,function*({newDid:We,previousDidProof:qe}){const Mt=yield Me.identifierToIdentityKey({didUri:qe.previousDid}),Lt=Me.identifierToIdentityKeyBytes({didUri:We}),Yt=O.U$.base64Url(qe.signature).toUint8Array();if(!(yield R.Mc.verify({key:Mt,data:Lt,signature:Yt})))throw new S(P.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Ft){if(Ft.length<=255)return Ft;const We=[];for(let qe=0;qe<Ft.length;qe+=255)We.push(Ft.slice(qe,qe+255));return We}}E(52039),E(62108),E(37477);var Se=function(gt){return gt.authentication="authentication",gt.assertionMethod="assertionMethod",gt.keyAgreement="keyAgreement",gt.capabilityInvocation="capabilityInvocation",gt.capabilityDelegation="capabilityDelegation",gt}(Se||{});const Ae={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ot{constructor({method:Ft,id:We,path:qe,query:Mt,fragment:Lt,params:Yt}){this.uri=`did:${Ft}:${We}`,this.method=Ft,this.id=We,this.path=qe,this.query=Mt,this.fragment=Lt,this.params=Yt}static parse(Ft){if(!Ft)return null;const We=ot.DID_URI_PATTERN.exec(Ft);if(!We||!We.groups)return null;const{method:qe,id:Mt,path:Lt,query:Yt,fragment:mn}=We.groups,Ln={uri:`did:${qe}:${Mt}`,method:qe,id:Mt};if(Lt&&(Ln.path=Lt),Yt&&(Ln.query=Yt.slice(1)),mn&&(Ln.fragment=mn.slice(1)),Yt){const Tn={},un=Yt.slice(1).split("&");for(const Bn of un){const[qt,lt]=Bn.split("=");Tn[qt]=lt}Ln.params=Tn}return Ln}}ot.METHOD_PATTERN="([a-z0-9]+)",ot.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ot.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ot.PCT_ENCODED_PATTERN})`,ot.METHOD_ID_PATTERN=`((?:${ot.ID_CHAR_PATTERN}*:)*(${ot.ID_CHAR_PATTERN}+))`,ot.PATH_PATTERN="(/[^#?]*)?",ot.QUERY_PATTERN="([?][^#]*)?",ot.FRAGMENT_PATTERN="(#.*)?",ot.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ot.METHOD_PATTERN}):(?<id>${ot.METHOD_ID_PATTERN})(?<path>${ot.PATH_PATTERN})(?<query>${ot.QUERY_PATTERN})(?<fragment>${ot.FRAGMENT_PATTERN})$`);class Gt extends Error{constructor(Ft,We){super(`${Ft}: ${We}`),this.code=Ft,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gt)}}var _t=function(gt){return gt.InvalidDid="invalidDid",gt.MethodNotSupported="methodNotSupported",gt.InternalError="internalError",gt.InvalidDidDocument="invalidDidDocument",gt.InvalidDidDocumentLength="invalidDidDocumentLength",gt.InvalidDidUrl="invalidDidUrl",gt.InvalidPreviousDidProof="invalidPreviousDidProof",gt.InvalidPublicKey="invalidPublicKey",gt.InvalidPublicKeyLength="invalidPublicKeyLength",gt.InvalidPublicKeyType="invalidPublicKeyType",gt.InvalidSignature="invalidSignature",gt.NotFound="notFound",gt.RepresentationNotSupported="representationNotSupported",gt.UnsupportedPublicKeyType="unsupportedPublicKeyType",gt}(_t||{});function en(gt){if("string"==typeof gt&&0!==gt.length)return gt.split("#").pop()}function st(gt){return!(!gt||"object"!=typeof gt||null===gt||!("id"in gt&&"type"in gt&&"controller"in gt)||"string"!=typeof gt.id||"string"!=typeof gt.type||"string"!=typeof gt.controller)}var rn=function(gt,Ft,We,qe){return new(We||(We=Promise))(function(Lt,Yt){function mn(un){try{Tn(qe.next(un))}catch(Bn){Yt(Bn)}}function Ln(un){try{Tn(qe.throw(un))}catch(Bn){Yt(Bn)}}function Tn(un){un.done?Lt(un.value):function Mt(Lt){return Lt instanceof We?Lt:new We(function(Yt){Yt(Lt)})}(un.value).then(mn,Ln)}Tn((qe=qe.apply(gt,Ft||[])).next())})};class Zn{constructor({uri:Ft,document:We,metadata:qe,keyManager:Mt}){this.uri=Ft,this.document=We,this.metadata=qe,this.keyManager=Mt}export(){return rn(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Ft={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const We=[];for(let qe of this.document.verificationMethod){if(!qe.publicKeyJwk)throw new Error(`Verification method '${qe.id}' does not contain a public key in JWK format`);const Mt=yield this.keyManager.getKeyUri({key:qe.publicKeyJwk}),Lt=yield this.keyManager.exportKey({keyUri:Mt});We.push(Object.assign({},Lt))}Ft.privateKeys=We}return Ft})}getSigner(Ft){return rn(this,void 0,void 0,function*(){var We;const qe=null===(We=this.document.verificationMethod)||void 0===We?void 0:We.find(Ln=>{var Tn,un;return en(Ln.id)===(null!==(Tn=en(Ft?.methodId))&&void 0!==Tn?Tn:en(null===(un=this.document.assertionMethod)||void 0===un?void 0:un[0]))});if(!qe||!qe.publicKeyJwk)throw new Gt(_t.InternalError,"A verification method intended for signing could not be determined from the DID Document");const Mt=yield this.keyManager.getKeyUri({key:qe.publicKeyJwk}),Lt=yield this.keyManager.getPublicKey({keyUri:Mt}),Yt=this.keyManager;return{algorithm:R.Wp.getJoseSignatureAlgorithmFromPublicKey(Lt),keyId:qe.id,sign(Ln){return rn(this,arguments,void 0,function*({data:Tn}){return yield Yt.sign({data:Tn,keyUri:Mt})})},verify(Ln){return rn(this,arguments,void 0,function*({data:Tn,signature:un}){return yield Yt.verify({data:Tn,key:Lt,signature:un})})}}})}static import(Ft){return rn(this,arguments,void 0,function*({portableDid:We,keyManager:qe=new R.eP}){var Mt;const Lt=function tr({didDocument:gt}){var Ft,We;if(!gt)throw new TypeError("Required parameter missing: 'didDocument'");const qe=[];return qe.push(...null!==(We=null===(Ft=gt.verificationMethod)||void 0===Ft?void 0:Ft.filter(st))&&void 0!==We?We:[]),Object.keys(Se).forEach(Mt=>{var Lt,Yt;qe.push(...null!==(Yt=null===(Lt=gt[Mt])||void 0===Lt?void 0:Lt.filter(st))&&void 0!==Yt?Yt:[])}),qe}({didDocument:We.document});if(0===Lt.length)throw new Gt(_t.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let mn of null!==(Mt=We.privateKeys)&&void 0!==Mt?Mt:[])yield qe.importKey({key:mn});for(let mn of Lt){if(!mn.publicKeyJwk)throw new Error(`Verification method '${mn.id}' does not contain a public key in JWK format`);const Ln=yield qe.getKeyUri({key:mn.publicKeyJwk});yield qe.getPublicKey({keyUri:Ln})}return new Zn({uri:We.uri,document:We.document,metadata:We.metadata,keyManager:qe})})}}var at=function(gt,Ft,We,qe){return new(We||(We=Promise))(function(Lt,Yt){function mn(un){try{Tn(qe.next(un))}catch(Bn){Yt(Bn)}}function Ln(un){try{Tn(qe.throw(un))}catch(Bn){Yt(Bn)}}function Tn(un){un.done?Lt(un.value):function Mt(Lt){return Lt instanceof We?Lt:new We(function(Yt){Yt(Lt)})}(un.value).then(mn,Ln)}Tn((qe=qe.apply(gt,Ft||[])).next())})};class pt{static getSigningMethod(Ft){return at(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Ft,We){return at(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var ht=function(gt,Ft,We,qe){return new(We||(We=Promise))(function(Lt,Yt){function mn(un){try{Tn(qe.next(un))}catch(Bn){Yt(Bn)}}function Ln(un){try{Tn(qe.throw(un))}catch(Bn){Yt(Bn)}}function Tn(un){un.done?Lt(un.value):function Mt(Lt){return Lt instanceof We?Lt:new We(function(Yt){Yt(Lt)})}(un.value).then(mn,Ln)}Tn((qe=qe.apply(gt,Ft||[])).next())})},Ke=function(gt,Ft){var We={};for(var qe in gt)Object.prototype.hasOwnProperty.call(gt,qe)&&Ft.indexOf(qe)<0&&(We[qe]=gt[qe]);if(null!=gt&&"function"==typeof Object.getOwnPropertySymbols){var Mt=0;for(qe=Object.getOwnPropertySymbols(gt);Mt<qe.length;Mt++)Ft.indexOf(qe[Mt])<0&&Object.prototype.propertyIsEnumerable.call(gt,qe[Mt])&&(We[qe[Mt]]=gt[qe[Mt]])}return We};const Ge="https://diddht.tbddev.org",kt=7200,On=",";var vn=function(gt){return gt[gt.Discoverable=0]="Discoverable",gt[gt.Organization=1]="Organization",gt[gt.Government=2]="Government",gt[gt.Corporation=3]="Corporation",gt[gt.LocalBusiness=4]="LocalBusiness",gt[gt.SoftwarePackage=5]="SoftwarePackage",gt[gt.WebApp=6]="WebApp",gt[gt.FinancialInstitution=7]="FinancialInstitution",gt}(vn||{}),gn=function(gt){return gt[gt.Ed25519=0]="Ed25519",gt[gt.secp256k1=1]="secp256k1",gt[gt.secp256r1=2]="secp256r1",gt[gt.X25519=3]="X25519",gt}(gn||{}),ur=function(gt){return gt.authentication="auth",gt.assertionMethod="asm",gt.capabilityDelegation="del",gt.capabilityInvocation="inv",gt.keyAgreement="agm",gt}(ur||{});const er={Ed25519:gn.Ed25519,ES256K:gn.secp256k1,ES256:gn.secp256r1,"P-256":gn.secp256r1,secp256k1:gn.secp256k1,secp256r1:gn.secp256r1,X25519:gn.X25519},Pn={[gn.Ed25519]:"Ed25519",[gn.secp256k1]:"ES256K",[gn.secp256r1]:"ES256",[gn.X25519]:"ECDH-ES+A256KW"};let Nn=(()=>{class gt extends pt{static create(){return ht(this,arguments,void 0,function*({keyManager:We=new R.eP,options:qe={}}={}){var Mt,Lt,Yt,mn,Ln,Tn,un,Bn,qt,lt,St;if(null!==(Mt=qe.verificationMethods)&&void 0!==Mt&&Mt.some(it=>!(it.algorithm in er)))throw new Error("One or more verification method algorithms are not supported");const Rt=null===(Lt=qe.verificationMethods)||void 0===Lt?void 0:Lt.filter(it=>"id"in it).map(it=>it.id);if(Rt&&Rt.length!==new Set(Rt).size)throw new Error("One or more verification method IDs are not unique");if(null!==(Yt=qe.services)&&void 0!==Yt&&Yt.some(it=>!it.id||!it.type||!it.serviceEndpoint))throw new Error("One or more services are missing required properties");const tt=yield We.generateKey({algorithm:"Ed25519"}),nt=yield We.getPublicKey({keyUri:tt}),Be=yield Oe.identityKeyToIdentifier({identityKey:nt}),Fe=Object.assign(Object.assign({id:Be},qe.alsoKnownAs&&{alsoKnownAs:qe.alsoKnownAs}),qe.controllers&&{controller:qe.controllers}),xt=[...null!==(mn=qe.verificationMethods)&&void 0!==mn?mn:[]];xt?.some(it=>{var Kt;return"0"===(null===(Kt=it.id)||void 0===Kt?void 0:Kt.split("#").pop())})||xt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const it of xt){const Kt=it.id&&"0"===it.id.split("#").pop()?tt:yield We.generateKey({algorithm:it.algorithm}),xn=yield We.getPublicKey({keyUri:Kt});let fn=null!==(Tn=null!==(Ln=it.id)&&void 0!==Ln?Ln:xn.kid)&&void 0!==Tn?Tn:yield(0,R.BA)({jwk:xn});fn=`${Be}#${en(fn)}`,null!==(un=Fe.verificationMethod)&&void 0!==un||(Fe.verificationMethod=[]),Fe.verificationMethod.push({id:fn,type:"JsonWebKey",controller:null!==(Bn=it.controller)&&void 0!==Bn?Bn:Be,publicKeyJwk:xn});for(const Ht of null!==(qt=it.purposes)&&void 0!==qt?qt:[])Fe[Ht]||(Fe[Ht]=[]),Fe[Ht].push(fn)}null===(lt=qe.services)||void 0===lt||lt.forEach(it=>{var Kt;null!==(Kt=Fe.service)&&void 0!==Kt||(Fe.service=[]),it.id=`${Be}#${it.id.split("#").pop()}`,Fe.service.push(it)});const ft=new Zn({uri:Be,document:Fe,metadata:Object.assign({published:!1},qe.types&&{types:qe.types}),keyManager:We});if(null===(St=qe.publish)||void 0===St||St){const it=yield gt.publish({did:ft,gatewayUri:qe.gatewayUri});ft.metadata=it.didDocumentMetadata}return ft})}static import(We){return ht(this,arguments,void 0,function*({portableDid:qe,keyManager:Mt=new R.eP}){var Lt;const Yt=ot.parse(qe.uri);if(Yt?.method!==gt.methodName)throw new Gt(_t.MethodNotSupported,"Method not supported");const mn=yield Zn.import({portableDid:qe,keyManager:Mt});if(null===(Lt=mn.document.verificationMethod)||void 0===Lt||!Lt.some(Ln=>{var Tn;return"0"===(null===(Tn=Ln.id)||void 0===Tn?void 0:Tn.split("#").pop())}))throw new Gt(_t.InvalidDidDocument,"DID document must contain an Identity Key");return mn})}static getSigningMethod(We){return ht(this,arguments,void 0,function*({didDocument:qe,methodId:Mt="#0"}){var Lt;const Yt=ot.parse(qe.id);if(Yt&&Yt.method!==this.methodName)throw new Gt(_t.MethodNotSupported,`Method not supported: ${Yt.method}`);const mn=null===(Lt=qe.verificationMethod)||void 0===Lt?void 0:Lt.find(Ln=>{var Tn,un;return en(Ln.id)===(null!==(Tn=en(Mt))&&void 0!==Tn?Tn:en(null===(un=qe.assertionMethod)||void 0===un?void 0:un[0]))});if(!mn||!mn.publicKeyJwk)throw new Gt(_t.InternalError,"A verification method intended for signing could not be determined from the DID Document");return mn})}static publish(We){return ht(this,arguments,void 0,function*({did:qe,gatewayUri:Mt=Ge}){return yield et.put({did:qe,gatewayUri:Mt})})}static resolve(We){return ht(this,arguments,void 0,function*(qe,Mt={}){var Lt;const Yt=null!==(Lt=Mt?.gatewayUri)&&void 0!==Lt?Lt:Ge;try{yield Oe.identifierToIdentityKey({didUri:qe});const{didDocument:mn,didDocumentMetadata:Ln}=yield et.get({didUri:qe,gatewayUri:Yt});return Object.assign(Object.assign({},Ae),{didDocument:mn,didDocumentMetadata:Ln})}catch(mn){if(!(mn instanceof Gt))throw new Error(mn);return Object.assign(Object.assign({},Ae),{didResolutionMetadata:Object.assign({error:mn.code},mn.message&&{errorMessage:mn.message})})}})}}return gt.methodName="dht",gt})();class et{static get(Ft){return ht(this,arguments,void 0,function*({didUri:We,gatewayUri:qe}){const Mt=Oe.identifierToIdentityKeyBytes({didUri:We}),Lt=yield et.pkarrGet({gatewayUri:qe,publicKeyBytes:Mt}),Yt=yield Oe.parseBep44GetMessage({bep44Message:Lt}),mn=yield et.fromDnsPacket({didUri:We,dnsPacket:Yt});return mn.didDocumentMetadata.versionId=Lt.seq.toString(),mn})}static put(Ft){return ht(this,arguments,void 0,function*({did:We,gatewayUri:qe}){const Mt=yield et.toDnsPacket({didDocument:We.document,didMetadata:We.metadata,authoritativeGatewayUris:[qe]}),Lt=yield Oe.createBep44PutMessage({dnsPacket:Mt,publicKeyBytes:Oe.identifierToIdentityKeyBytes({didUri:We.uri}),signer:yield We.getSigner({methodId:"0"})}),Yt=yield et.pkarrPut({gatewayUri:qe,bep44Message:Lt});return{didDocument:We.document,didDocumentMetadata:Object.assign(Object.assign({},We.metadata),{published:Yt,versionId:Lt.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Ft){return ht(this,arguments,void 0,function*({gatewayUri:We,publicKeyBytes:qe}){const Mt=O.U$.uint8Array(qe).toBase32Z(),Lt=new URL(Mt,We).href;let Yt;try{if(Yt=yield fetch(Lt,{method:"GET"}),!Yt.ok)throw new Gt(_t.NotFound,`Pkarr record not found for: ${Mt}`)}catch(Tn){throw Tn instanceof Gt?Tn:new Gt(_t.InternalError,`Failed to fetch Pkarr record: ${Tn.message}`)}const mn=yield Yt.arrayBuffer();if(!mn)throw new Gt(_t.NotFound,`Pkarr record not found for: ${Mt}`);if(mn.byteLength<72)throw new Gt(_t.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${mn.byteLength}`);if(mn.byteLength>1072)throw new Gt(_t.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${mn.byteLength}`);return{k:qe,seq:Number(new DataView(mn).getBigUint64(64)),sig:new Uint8Array(mn,0,64),v:new Uint8Array(mn,72)}})}static pkarrPut(Ft){return ht(this,arguments,void 0,function*({gatewayUri:We,bep44Message:qe}){const Mt=O.U$.uint8Array(qe.k).toBase32Z(),Lt=new URL(Mt,We).href,Yt=new Uint8Array(qe.v.length+72);let mn;Yt.set(qe.sig,0),new DataView(Yt.buffer).setBigUint64(qe.sig.length,BigInt(qe.seq)),Yt.set(qe.v,qe.sig.length+8);try{mn=yield fetch(Lt,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:Yt})}catch(Ln){throw new Gt(_t.InternalError,`Failed to put Pkarr record for identifier ${Mt}: ${Ln.message}`)}return mn.ok})}static fromDnsPacket(Ft){return ht(this,arguments,void 0,function*({didUri:We,dnsPacket:qe}){var Mt,Lt,Yt;const mn={id:We},Ln={published:!0},Tn=new Map;for(const un of null!==(Mt=qe?.answers)&&void 0!==Mt?Mt:[]){if("TXT"!==un.type)continue;const Bn=un.name.split(".")[0].substring(1);switch(!0){case Bn.startsWith("aka"):{const qt=Oe.parseTxtDataToString(un.data);mn.alsoKnownAs=qt.split(On);break}case Bn.startsWith("cnt"):{const qt=Oe.parseTxtDataToString(un.data);mn.controller=qt.includes(On)?qt.split(On):qt;break}case Bn.startsWith("k"):{const{id:qt,t:lt,k:St,c:Rt,a:tt}=Oe.parseTxtDataToObject(un.data),nt=O.U$.base64Url(St).toUint8Array(),Be=gn[Number(lt)];let Fe=yield Oe.keyConverter(Be).bytesToPublicKey({publicKeyBytes:nt});Fe.alg=tt||Pn[Number(lt)];const xt="k0"===Bn?"0":void 0!==qt?qt:yield(0,R.BA)({jwk:Fe});null!==(Lt=mn.verificationMethod)&&void 0!==Lt||(mn.verificationMethod=[]);const ft=`${We}#${xt}`;mn.verificationMethod.push({id:ft,type:"JsonWebKey",controller:Rt??We,publicKeyJwk:Fe}),Tn.set(Bn,ft);break}case Bn.startsWith("s"):{const qt=Oe.parseTxtDataToObject(un.data),{id:lt,t:St,se:Rt}=qt,tt=Ke(qt,["id","t","se"]),nt=Rt.includes(On)?Rt.split(On):[Rt],Be=Object.fromEntries(Object.entries(tt).map(([Fe,xt])=>[Fe,xt.includes(On)?xt.split(On):xt]));null!==(Yt=mn.service)&&void 0!==Yt||(mn.service=[]),mn.service.push(Object.assign(Object.assign({},Be),{id:`${We}#${lt}`,type:St,serviceEndpoint:nt}));break}case Bn.startsWith("typ"):{const{id:qt}=Oe.parseTxtDataToObject(un.data);Ln.types=qt.split(On).map(lt=>Number(lt));break}case Bn.startsWith("did"):{const qt=Be=>Be.split(On).map(Fe=>Tn.get(Fe)).filter(Fe=>"string"==typeof Fe),{auth:lt,asm:St,del:Rt,inv:tt,agm:nt}=Oe.parseTxtDataToObject(un.data);lt&&(mn.authentication=qt(lt)),St&&(mn.assertionMethod=qt(St)),Rt&&(mn.capabilityDelegation=qt(Rt)),tt&&(mn.capabilityInvocation=qt(tt)),nt&&(mn.keyAgreement=qt(nt));break}}}return{didDocument:mn,didDocumentMetadata:Ln,didResolutionMetadata:{}}})}static toDnsPacket(Ft){return ht(this,arguments,void 0,function*({didDocument:We,didMetadata:qe,authoritativeGatewayUris:Mt,previousDidProof:Lt}){var Yt,mn,Ln,Tn,un;const Bn=[],qt=[],lt=new Map,St=[],Rt=[];if(void 0!==Lt){const{signature:Be,previousDid:Fe}=Lt;yield Oe.validatePreviousDidProof({newDid:We.id,previousDidProof:Lt}),Bn.push({type:"TXT",name:"_prv._did.",ttl:kt,data:`id=${Fe};s=${Be}`})}if(We.alsoKnownAs&&Bn.push({type:"TXT",name:"_aka._did.",ttl:kt,data:We.alsoKnownAs.join(On)}),We.controller){const Be=Array.isArray(We.controller)?We.controller.join(On):We.controller;Bn.push({type:"TXT",name:"_cnt._did.",ttl:kt,data:Be})}for(const[Be,Fe]of null!==(mn=null===(Yt=We.verificationMethod)||void 0===Yt?void 0:Yt.entries())&&void 0!==mn?mn:[]){const xt=`k${Be}`;Rt.push(xt);let ft=Fe.id.split("#").pop();lt.set(ft,xt);const it=Fe.publicKeyJwk;if(!it?.crv||!(it.crv in er))throw new Gt(_t.InvalidPublicKeyType,`Verification method '${Fe.id}' contains an unsupported key type: ${null!==(Ln=it?.crv)&&void 0!==Ln?Ln:"undefined"}`);const Kt=gn[it.crv],xn=yield Oe.keyConverter(it.crv).publicKeyToBytes({publicKey:it}),Ht=[`t=${Kt}`,`k=${O.U$.uint8Array(xn).toBase64Url()}`];"0"!==ft&&(yield(0,R.BA)({jwk:it}))!==ft&&Ht.unshift(`id=${ft}`),it.alg!==Pn[Kt]&&Ht.push(`a=${it.alg}`),Fe.controller!==We.id&&Ht.push(`c=${Fe.controller}`),Bn.push({type:"TXT",name:`_${xt}._did.`,ttl:kt,data:Ht.join(";")})}null===(Tn=We.service)||void 0===Tn||Tn.forEach((Be,Fe)=>{const xt=`s${Fe}`;St.push(xt);let{id:ft,type:it,serviceEndpoint:Kt}=Be,xn=Ke(Be,["id","type","serviceEndpoint"]);ft=en(ft),Kt=Array.isArray(Kt)?Kt.join(","):Kt;const Ht=Object.entries(Object.assign({id:ft,t:it,se:Kt},xn)).map(([rr,br])=>`${rr}=${br}`).join(";"),_n=Oe.chunkDataIfNeeded(Ht);Bn.push({type:"TXT",name:`_${xt}._did.`,ttl:kt,data:_n})});const tt=["v=0"];if(Rt.length&&tt.push(`vm=${Rt.join(On)}`),Object.keys(Se).forEach(Be=>{var Fe;const xt=null===(Fe=We[Be])||void 0===Fe?void 0:Fe.map(ft=>lt.get(ft.split("#").pop()));xt&&tt.push(`${ur[Be]}=${xt.join(On)}`)}),St.length&&tt.push(`svc=${St.join(On)}`),null!==(un=qe.types)&&void 0!==un&&un.length){const Fe=qe.types.map(xt=>"string"==typeof xt?vn[xt]:xt);Bn.push({type:"TXT",name:"_typ._did.",ttl:kt,data:`id=${Fe.join(On)}`})}Bn.push({type:"TXT",name:"_did."+et.getUniqueDidSuffix(We.id)+".",ttl:kt,data:tt.join(";")});for(const Be of Mt||[])qt.push({type:"NS",name:"_did."+et.getUniqueDidSuffix(We.id)+".",ttl:kt,data:Be+"."});return{id:0,type:"response",flags:De.hB,answers:[...Bn,...qt]}})}static getUniqueDidSuffix(Ft){return Ft.split(":")[2]}}class Oe{static createBep44PutMessage(Ft){return ht(this,arguments,void 0,function*({dnsPacket:We,publicKeyBytes:qe,signer:Mt}){const Lt=Math.ceil(Date.now()/1e3),Yt=(0,De.lF)(We),mn=ve.A.encode({seq:Lt,v:Yt}).subarray(1,-1);if(mn.length>1e3)throw new Gt(_t.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${mn.length} bytes`);return{k:qe,seq:Lt,sig:yield Mt.sign({data:mn}),v:Yt}})}static identifierToIdentityKey(Ft){return ht(this,arguments,void 0,function*({didUri:We}){let qe=Oe.identifierToIdentityKeyBytes({didUri:We});return yield R.Mc.bytesToPublicKey({publicKeyBytes:qe})})}static identifierToIdentityKeyBytes({didUri:Ft}){const We=ot.parse(Ft);if(!We)throw new Gt(_t.InvalidDid,`Invalid DID URI: ${Ft}`);if(We.method!==Nn.methodName)throw new Gt(_t.MethodNotSupported,`Method not supported: ${We.method}`);let qe;try{qe=O.U$.base32Z(We.id).toUint8Array()}catch{throw new Gt(_t.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==qe.length)throw new Gt(_t.InvalidPublicKeyLength,`Invalid public key length: ${qe.length}`);return qe}static identityKeyToIdentifier(Ft){return ht(this,arguments,void 0,function*({identityKey:We}){const qe=yield R.Mc.publicKeyToBytes({publicKey:We}),Mt=O.U$.uint8Array(qe).toBase32Z();return`did:${Nn.methodName}:${Mt}`})}static keyConverter(Ft){const qe={Ed25519:R.Mc,"P-256":{publicKeyToBytes:Mt=>ht(this,[Mt],void 0,function*({publicKey:Lt}){const Yt=yield R.iH.publicKeyToBytes({publicKey:Lt});return yield R.iH.compressPublicKey({publicKeyBytes:Yt})}),bytesToPublicKey:R.iH.bytesToPublicKey,privateKeyToBytes:R.iH.privateKeyToBytes,bytesToPrivateKey:R.iH.bytesToPrivateKey},secp256k1:{publicKeyToBytes:Mt=>ht(this,[Mt],void 0,function*({publicKey:Lt}){const Yt=yield R.jg.publicKeyToBytes({publicKey:Lt});return yield R.jg.compressPublicKey({publicKeyBytes:Yt})}),bytesToPublicKey:R.jg.bytesToPublicKey,privateKeyToBytes:R.jg.privateKeyToBytes,bytesToPrivateKey:R.jg.bytesToPrivateKey},X25519:R.Nx}[Ft];if(!qe)throw new Gt(_t.InvalidPublicKeyType,`Unsupported curve: ${Ft}`);return qe}static parseBep44GetMessage(Ft){return ht(this,arguments,void 0,function*({bep44Message:We}){const qe=yield R.Mc.bytesToPublicKey({publicKeyBytes:We.k}),Mt=ve.A.encode({seq:We.seq,v:We.v}).subarray(1,-1);if(!(yield R.Mc.verify({key:qe,signature:We.sig,data:Mt})))throw new Gt(_t.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,De.D4)(We.v)})}static parseTxtDataToObject(Ft){return this.parseTxtDataToString(Ft).split(";").reduce((We,qe)=>{const[Mt,Lt]=qe.split("=");return We[Mt]=Lt,We},{})}static parseTxtDataToString(Ft){if("string"==typeof Ft)return Ft;if(Ft instanceof Uint8Array)return O.U$.uint8Array(Ft).toString();if(Array.isArray(Ft))return Ft.map(We=>this.parseTxtDataToString(We)).join("");throw new Gt(_t.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Ft){return ht(this,arguments,void 0,function*({newDid:We,previousDidProof:qe}){const Mt=yield Oe.identifierToIdentityKey({didUri:qe.previousDid}),Lt=Oe.identifierToIdentityKeyBytes({didUri:We}),Yt=O.U$.base64Url(qe.signature).toUint8Array();if(!(yield R.Mc.verify({key:Mt,data:Lt,signature:Yt})))throw new Gt(_t.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Ft){if(Ft.length<=255)return Ft;const We=[];for(let qe=0;qe<Ft.length;qe+=255)We.push(Ft.slice(qe,qe+255));return We}}var mr=function(gt,Ft,We,qe){return new(We||(We=Promise))(function(Lt,Yt){function mn(un){try{Tn(qe.next(un))}catch(Bn){Yt(Bn)}}function Ln(un){try{Tn(qe.throw(un))}catch(Bn){Yt(Bn)}}function Tn(un){un.done?Lt(un.value):function Mt(Lt){return Lt instanceof We?Lt:new We(function(Yt){Yt(Lt)})}(un.value).then(mn,Ln)}Tn((qe=qe.apply(gt,Ft||[])).next())})};let Pr=(()=>{class gt extends pt{static create(){return mr(this,arguments,void 0,function*({keyManager:We=new R.eP,options:qe={}}={}){var Mt,Lt,Yt,mn;if(qe.algorithm&&qe.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(qe.verificationMethods&&1!==qe.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const Ln=null!==(mn=null!==(Mt=qe.algorithm)&&void 0!==Mt?Mt:null===(Yt=null===(Lt=qe.verificationMethods)||void 0===Lt?void 0:Lt[0])||void 0===Yt?void 0:Yt.algorithm)&&void 0!==mn?mn:"Ed25519",Tn=yield We.generateKey({algorithm:Ln}),un=yield We.getPublicKey({keyUri:Tn}),Bn=O.U$.object(un).toBase64Url(),qt=`did:${gt.methodName}:${Bn}`,St=(yield gt.resolve(qt)).didDocument;return new Zn({uri:qt,document:St,metadata:{},keyManager:We})})}static getSigningMethod(We){return mr(this,arguments,void 0,function*({didDocument:qe}){var Mt;const Lt=ot.parse(qe.id);if(Lt&&Lt.method!==this.methodName)throw new Gt(_t.MethodNotSupported,`Method not supported: ${Lt.method}`);const[Yt]=null!==(Mt=qe.verificationMethod)&&void 0!==Mt?Mt:[];if(!Yt||!Yt.publicKeyJwk)throw new Gt(_t.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Yt})}static import(We){return mr(this,arguments,void 0,function*({portableDid:qe,keyManager:Mt=new R.eP}){const Lt=ot.parse(qe.uri);if(Lt?.method!==gt.methodName)throw new Gt(_t.MethodNotSupported,"Method not supported");const Yt=yield Zn.import({portableDid:qe,keyManager:Mt});if(1!==Yt.document.verificationMethod.length)throw new Gt(_t.InvalidDidDocument,"DID document must contain exactly one verification method");return Yt})}static resolve(We,qe){return mr(this,void 0,void 0,function*(){const Mt=ot.parse(We);let Lt;try{Lt=O.U$.base64Url(Mt.id).toObject()}catch{}if(!Mt||!Lt)return Object.assign(Object.assign({},Ae),{didResolutionMetadata:{error:"invalidDid"}});if(Mt.method!==gt.methodName)return Object.assign(Object.assign({},Ae),{didResolutionMetadata:{error:"methodNotSupported"}});const Yt={"@context":["https://www.w3.org/ns/did/v1"],id:Mt.uri},mn=`${Yt.id}#0`;switch(Yt.verificationMethod=[{id:mn,type:"JsonWebKey",controller:Yt.id,publicKeyJwk:Lt}],Yt.authentication=[mn],Yt.assertionMethod=[mn],Yt.capabilityInvocation=[mn],Yt.capabilityDelegation=[mn],Yt.keyAgreement=[mn],Lt.use){case"sig":delete Yt.keyAgreement;break;case"enc":delete Yt.authentication,delete Yt.assertionMethod,delete Yt.capabilityInvocation,delete Yt.capabilityDelegation}return Object.assign(Object.assign({},Ae),{didDocument:Yt})})}}return gt.methodName="jwk",gt})();var cr=E(64284),hr=E(13138);class Or{constructor({db:Ft,location:We="DATA/DID_RESOLVERCACHE",ttl:qe="15m"}={}){this.cache=Ft??new hr.Level(We),this.ttl=cr(qe)}get(Ft){return function(gt,Ft,We,qe){return new(We||(We=Promise))(function(Lt,Yt){function mn(un){try{Tn(qe.next(un))}catch(Bn){Yt(Bn)}}function Ln(un){try{Tn(qe.throw(un))}catch(Bn){Yt(Bn)}}function Tn(un){un.done?Lt(un.value):function Mt(Lt){return Lt instanceof We?Lt:new We(function(Yt){Yt(Lt)})}(un.value).then(mn,Ln)}Tn((qe=qe.apply(gt,Ft||[])).next())})}(this,void 0,void 0,function*(){try{const We=yield this.cache.get(Ft),qe=JSON.parse(We);return Date.now()>=qe.ttlMillis?void this.cache.nextTick(()=>this.cache.del(Ft)):qe.value}catch(We){if(We.notFound)return;throw We}})}set(Ft,We){const qe={ttlMillis:Date.now()+this.ttl,value:We},Mt=JSON.stringify(qe);return this.cache.put(Ft,Mt)}delete(Ft){return this.cache.del(Ft)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var bi=E(34604),pi=function(gt,Ft,We,qe){return new(We||(We=Promise))(function(Lt,Yt){function mn(un){try{Tn(qe.next(un))}catch(Bn){Yt(Bn)}}function Ln(un){try{Tn(qe.throw(un))}catch(Bn){Yt(Bn)}}function Tn(un){un.done?Lt(un.value):function Mt(Lt){return Lt instanceof We?Lt:new We(function(Yt){Yt(Lt)})}(un.value).then(mn,Ln)}Tn((qe=qe.apply(gt,Ft||[])).next())})};class So{constructor(Ft){this._agentDid=Ft.agentDid,this.crypto=Ft.cryptoApi,this.did=Ft.didApi,this.dwn=Ft.dwnApi,this.identity=Ft.identityApi,this.keyManager=Ft.keyManager,this.rpc=Ft.rpcClient,this.sync=Ft.syncApi,this.vault=Ft.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(Ft){this._agentDid=Ft}static create({dataPath:Ft="DATA/AGENT",agentDid:We,agentVault:qe,cryptoApi:Mt,didApi:Lt,dwnApi:Yt,identityApi:mn,keyManager:Ln,rpcClient:Tn,syncApi:un}={}){return pi(this,void 0,void 0,function*(){return qe??(qe=new bi.TX({keyDerivationWorkFactor:21e4,store:new O.cG({location:`${Ft}/VAULT_STORE`})})),Mt??(Mt=new bi.DP),Lt??(Lt=new bi.Bq({didMethods:[Nn,Pr],resolverCache:new Or({location:`${Ft}/DID_RESOLVERCACHE`}),store:new bi.QZ})),Yt??(Yt=new bi.rr({dwn:yield bi.rr.createDwn({dataPath:Ft,didResolver:Lt})})),mn??(mn=new bi.yc({store:new bi.dk})),Ln??(Ln=new bi.eP({keyStore:new bi.cW})),Tn??(Tn=new bi.oN),un??(un=new bi.rM({syncEngine:new bi.qB({dataPath:Ft})})),new So({agentDid:We,agentVault:qe,cryptoApi:Mt,didApi:Lt,dwnApi:Yt,keyManager:Ln,identityApi:mn,rpcClient:Tn,syncApi:un})})}firstLaunch(){return pi(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:Ft,recoveryPhrase:We}){return pi(this,void 0,void 0,function*(){return We=yield this.vault.initialize({password:Ft,recoveryPhrase:We})})}processDidRequest(Ft){return pi(this,void 0,void 0,function*(){return this.did.processRequest(Ft)})}processDwnRequest(Ft){return pi(this,void 0,void 0,function*(){return this.dwn.processRequest(Ft)})}processVcRequest(Ft){return pi(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(Ft){return pi(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(Ft){return pi(this,void 0,void 0,function*(){return this.dwn.sendRequest(Ft)})}sendVcRequest(Ft){return pi(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:Ft}){return pi(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:Ft})),this.agentDid=yield this.vault.getDid()})}}let wi=(()=>{class gt{constructor(){this.agents=(0,w.vPA)([]),this.initialized=(0,w.vPA)(!1),this.locked=(0,w.vPA)(!1),console.log("Connecting to Web5..."),B.uW.connect({sync:"5s"}).then(We=>{this.did=We.did,this.web5=We.web5,console.log(this.did),console.log(this.web5),this.initialized.set(!0),this.locked.set(!1)}).catch(We=>{console.error(We),console.log("Show unlock screen!"),this.locked.set(!0)})}changePassword(We,qe){var Mt=this;return(0,g.A)(function*(){yield Mt.web5.agent.vault.changePassword({oldPassword:We,newPassword:qe})})()}unlock(We){var qe=this;return(0,g.A)(function*(){console.log("Connecting to Web5...");try{const{did:Mt,web5:Lt}=yield B.uW.connect({sync:"5s",password:We});return qe.did=Mt,qe.web5=Lt,console.log(qe.did),console.log(qe.web5),qe.initialized.set(!0),qe.locked.set(!1),!0}catch(Mt){return console.error(Mt),console.log("Show unlock screen!"),qe.locked.set(!0),!1}})()}initialize(We,qe,Mt){var Lt=this;return(0,g.A)(function*(){const Yt=yield So.create({dataPath:Mt});(yield Yt.firstLaunch())&&(qe=yield Yt.initialize({password:We,recoveryPhrase:qe})),Lt.agents.update(mn=>[...mn,Yt])})()}create(){return(0,g.A)(function*(){return yield le.create({options:{publish:!1}})})()}static#e=this.\u0275fac=function(qe){return new(qe||gt)};static#t=this.\u0275prov=w.jDH({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})()},36815:($e,j,E)=>{"use strict";E.d(j,{Y:()=>w});var g=E(93953);let w=(()=>{class B{constructor(){this.scrolling=(0,g.vPA)(!0),(0,g.QZP)(()=>{const b=document.querySelector(".sidenav-scroll-wrapper");b&&(b.style.overflow=this.scrolling()?"auto":"hidden");const k=document.querySelector(".sidenav-content");k&&(k.style.overflow=this.scrolling()?"auto":"hidden")})}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}static#e=this.\u0275fac=function(k){return new(k||B)};static#t=this.\u0275prov=g.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},87343:($e,j,E)=>{"use strict";var g=E(345),w=E(93953),B=E(18498);const H=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"introduction",loadComponent:()=>E.e(630).then(E.bind(E,64630)).then(gt=>gt.IntroductionComponent),title:"Introduction",data:{icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([E.e(596),E.e(195),E.e(320)]).then(E.bind(E,62320)).then(gt=>gt.DashboardComponent),title:"Dashboard",data:{icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([E.e(596),E.e(798),E.e(516),E.e(571),E.e(450),E.e(702)]).then(E.bind(E,6702)).then(gt=>gt.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"marketplace",loadComponent:()=>E.e(392).then(E.bind(E,94392)).then(gt=>gt.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([E.e(596),E.e(798),E.e(516),E.e(571),E.e(450),E.e(195),E.e(487)]).then(E.bind(E,8487)).then(gt=>gt.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/chat",loadComponent:()=>Promise.all([E.e(571),E.e(951)]).then(E.bind(E,71951)).then(gt=>gt.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"registries",loadComponent:()=>Promise.all([E.e(596),E.e(798),E.e(516),E.e(466)]).then(E.bind(E,69466)).then(gt=>gt.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([E.e(596),E.e(798),E.e(516),E.e(76),E.e(26)]).then(E.bind(E,65026)).then(gt=>gt.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([E.e(850),E.e(474)]).then(E.bind(E,53474)).then(gt=>gt.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([E.e(850),E.e(358),E.e(843)]).then(E.bind(E,2843)).then(gt=>gt.DataComponent),title:"Data",data:{icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([E.e(76),E.e(533)]).then(E.bind(E,29533)).then(gt=>gt.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>E.e(757).then(E.bind(E,21757)).then(gt=>gt.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>E.e(228).then(E.bind(E,92228)).then(gt=>gt.NotificationsComponent),title:"Notifications",data:{hide:!1,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([E.e(850),E.e(193)]).then(E.bind(E,85193)).then(gt=>gt.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>E.e(12).then(E.bind(E,88012)).then(gt=>gt.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>E.e(806).then(E.bind(E,75806)).then(gt=>gt.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>E.e(613).then(E.bind(E,29613)).then(gt=>gt.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>E.e(65).then(E.bind(E,33065)).then(gt=>gt.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>Promise.all([E.e(596),E.e(880)]).then(E.bind(E,17880)).then(gt=>gt.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>E.e(854).then(E.bind(E,85854)).then(gt=>gt.IdentityComponent),title:"Identity",data:{icon:"account_circle"}},{path:"settings",loadComponent:()=>E.e(959).then(E.bind(E,60959)).then(gt=>gt.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>E.e(216).then(E.bind(E,85216)).then(gt=>gt.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/licenses",loadComponent:()=>E.e(727).then(E.bind(E,19727)).then(gt=>gt.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>E.e(128).then(E.bind(E,99128)).then(gt=>gt.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"address",loadComponent:()=>Promise.all([E.e(596),E.e(798),E.e(614)]).then(E.bind(E,39614)).then(gt=>gt.AddressFormComponent),title:"Address",data:{hide:!1,icon:"folder"}},{path:"table",loadComponent:()=>Promise.all([E.e(798),E.e(516),E.e(603)]).then(E.bind(E,79603)).then(gt=>gt.TableComponent),title:"Table",data:{hide:!0,icon:"folder"}},{path:"tree",loadComponent:()=>Promise.all([E.e(358),E.e(238)]).then(E.bind(E,9238)).then(gt=>gt.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>E.e(528).then(E.bind(E,35528)).then(gt=>gt.DragDropComponent),title:"Drag-Drop",data:{hide:!1,icon:"folder"}}];var b=E(60177);let S=(()=>{class gt{constructor(We,qe,Mt,Lt,Yt){this.doc=We,this.delegate=qe,this.zone=Mt,this.animationType=Lt,this.moduleImpl=Yt,this._rendererFactoryPromise=null,this.scheduler=(0,w.WQX)(w.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??E.e(8).then(E.bind(E,68008)).then(qe=>qe)).catch(qe=>{throw new w.wOt(5300,!1)}).then(({\u0275createEngine:qe,\u0275AnimationRendererFactory:Mt})=>{this._engine=qe(this.animationType,this.doc);const Lt=new Mt(this.delegate,this._engine,this.zone);return this.delegate=Lt,Lt})}createRenderer(We,qe){const Mt=this.delegate.createRenderer(We,qe);if(0===Mt.\u0275type)return Mt;"boolean"==typeof Mt.throwOnSyntheticProps&&(Mt.throwOnSyntheticProps=!1);const Lt=new P(Mt);return qe?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(Yt=>{const mn=Yt.createRenderer(We,qe);Lt.use(mn),this.scheduler?.notify(9)}).catch(Yt=>{Lt.use(Mt)}),Lt}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(qe){w.QTQ()};static#t=this.\u0275prov=w.jDH({token:gt,factory:gt.\u0275fac})}return gt})();class P{constructor(Ft){this.delegate=Ft,this.replay=[],this.\u0275type=1}use(Ft){if(this.delegate=Ft,null!==this.replay){for(const We of this.replay)We(Ft);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(Ft,We){return this.delegate.createElement(Ft,We)}createComment(Ft){return this.delegate.createComment(Ft)}createText(Ft){return this.delegate.createText(Ft)}get destroyNode(){return this.delegate.destroyNode}appendChild(Ft,We){this.delegate.appendChild(Ft,We)}insertBefore(Ft,We,qe,Mt){this.delegate.insertBefore(Ft,We,qe,Mt)}removeChild(Ft,We,qe){this.delegate.removeChild(Ft,We,qe)}selectRootElement(Ft,We){return this.delegate.selectRootElement(Ft,We)}parentNode(Ft){return this.delegate.parentNode(Ft)}nextSibling(Ft){return this.delegate.nextSibling(Ft)}setAttribute(Ft,We,qe,Mt){this.delegate.setAttribute(Ft,We,qe,Mt)}removeAttribute(Ft,We,qe){this.delegate.removeAttribute(Ft,We,qe)}addClass(Ft,We){this.delegate.addClass(Ft,We)}removeClass(Ft,We){this.delegate.removeClass(Ft,We)}setStyle(Ft,We,qe,Mt){this.delegate.setStyle(Ft,We,qe,Mt)}removeStyle(Ft,We,qe){this.delegate.removeStyle(Ft,We,qe)}setProperty(Ft,We,qe){this.shouldReplay(We)&&this.replay.push(Mt=>Mt.setProperty(Ft,We,qe)),this.delegate.setProperty(Ft,We,qe)}setValue(Ft,We){this.delegate.setValue(Ft,We)}listen(Ft,We,qe){return this.shouldReplay(We)&&this.replay.push(Mt=>Mt.listen(Ft,We,qe)),this.delegate.listen(Ft,We,qe)}shouldReplay(Ft){return null!==this.replay&&Ft.startsWith("@")}}var O=E(59030),A=E(18810),V=E(33726),U=E(7673),K=E(28793),Q=E(21413),q=E(71985),Y=E(85343);const W=new q.c(Y.l);var ie=E(57786),ae=E(96354),ue=E(5964),ce=E(25558),pe=E(30017),ve=E(98071),De=E(58750),C=E(39974);const d={connector:()=>new Q.B};function h(gt,Ft=d){const{connector:We}=Ft;return(0,C.N)((qe,Mt)=>{const Lt=We();(0,De.Tg)(gt(function s(gt){return new q.c(Ft=>gt.subscribe(Ft))}(Lt))).subscribe(Mt),Mt.add(qe.subscribe(Lt))})}var I=E(96697),L=E(88141),x=E(91986);const a="Service workers are disabled or not supported by this browser";class Z{constructor(Ft){if(this.serviceWorker=Ft,Ft){const qe=(0,V.R)(Ft,"controllerchange").pipe((0,ae.T)(()=>Ft.controller)),Mt=(0,O.v)(()=>(0,U.of)(Ft.controller)),Lt=(0,K.x)(Mt,qe);this.worker=Lt.pipe((0,ue.p)(un=>!!un)),this.registration=this.worker.pipe((0,ce.n)(()=>Ft.getRegistration()));const Tn=(0,V.R)(Ft,"message").pipe((0,ae.T)(un=>un.data)).pipe((0,ue.p)(un=>un&&un.type)).pipe(function _(gt){return gt?Ft=>h(gt)(Ft):Ft=>function f(gt,Ft){const We=(0,ve.T)(gt)?gt:()=>gt;return(0,ve.T)(Ft)?h(Ft,{connector:We}):qe=>new pe.G(qe,We)}(new Q.B)(Ft)}());Tn.connect(),this.events=Tn}else this.worker=this.events=this.registration=function v(gt){return(0,O.v)(()=>(0,A.$)(new Error(gt)))}(a)}postMessage(Ft,We){return this.worker.pipe((0,I.s)(1),(0,L.M)(qe=>{qe.postMessage({action:Ft,...We})})).toPromise().then(()=>{})}postMessageWithOperation(Ft,We,qe){const Mt=this.waitForOperationCompleted(qe),Lt=this.postMessage(Ft,We);return Promise.all([Lt,Mt]).then(([,Yt])=>Yt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Ft){let We;return We="string"==typeof Ft?qe=>qe.type===Ft:qe=>Ft.includes(qe.type),this.events.pipe((0,ue.p)(We))}nextEventOfType(Ft){return this.eventsOfType(Ft).pipe((0,I.s)(1))}waitForOperationCompleted(Ft){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,ue.p)(We=>We.nonce===Ft),(0,I.s)(1),(0,ae.T)(We=>{if(void 0!==We.result)return We.result;throw new Error(We.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let z=(()=>{class gt{get isEnabled(){return this.sw.isEnabled}constructor(We){if(this.sw=We,this.pushManager=null,this.subscriptionChanges=new Q.B,!We.isEnabled)return this.messages=W,this.notificationClicks=W,void(this.subscription=W);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ae.T)(Mt=>Mt.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ae.T)(Mt=>Mt.data)),this.pushManager=this.sw.registration.pipe((0,ae.T)(Mt=>Mt.pushManager));const qe=this.pushManager.pipe((0,ce.n)(Mt=>Mt.getSubscription()));this.subscription=(0,ie.h)(qe,this.subscriptionChanges)}requestSubscription(We){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(a));const qe={userVisibleOnly:!0};let Mt=this.decodeBase64(We.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Lt=new Uint8Array(new ArrayBuffer(Mt.length));for(let Yt=0;Yt<Mt.length;Yt++)Lt[Yt]=Mt.charCodeAt(Yt);return qe.applicationServerKey=Lt,this.pushManager.pipe((0,ce.n)(Yt=>Yt.subscribe(qe)),(0,I.s)(1)).toPromise().then(Yt=>(this.subscriptionChanges.next(Yt),Yt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,I.s)(1),(0,ce.n)(qe=>{if(null===qe)throw new Error("Not subscribed to push notifications.");return qe.unsubscribe().then(Mt=>{if(!Mt)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(a))}decodeBase64(We){return atob(We)}static#e=this.\u0275fac=function(qe){return new(qe||gt)(w.KVO(Z))};static#t=this.\u0275prov=w.jDH({token:gt,factory:gt.\u0275fac})}return gt})(),ee=(()=>{class gt{get isEnabled(){return this.sw.isEnabled}constructor(We){if(this.sw=We,!We.isEnabled)return this.versionUpdates=W,void(this.unrecoverable=W);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(a));const We=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:We},We)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(a));const We=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:We},We)}static#e=this.\u0275fac=function(qe){return new(qe||gt)(w.KVO(Z))};static#t=this.\u0275prov=w.jDH({token:gt,factory:gt.\u0275fac})}return gt})();const le=new w.nKC("");function we(gt,Ft,We,qe){return()=>{if(!(0,b.UE)(qe)||!("serviceWorker"in navigator)||!1===We.enabled)return;const Mt=gt.get(w.SKi),Lt=gt.get(w.o8S);let Yt;if(Mt.runOutsideAngular(()=>{const mn=navigator.serviceWorker,Ln=()=>mn.controller?.postMessage({action:"INITIALIZE"});mn.addEventListener("controllerchange",Ln),Lt.onDestroy(()=>{mn.removeEventListener("controllerchange",Ln)})}),"function"==typeof We.registrationStrategy)Yt=We.registrationStrategy();else{const[mn,...Ln]=(We.registrationStrategy||"registerWhenStable:30000").split(":");switch(mn){case"registerImmediately":Yt=(0,U.of)(null);break;case"registerWithDelay":Yt=Me(+Ln[0]||0);break;case"registerWhenStable":Yt=Ln[0]?(0,ie.h)(Ze(gt),Me(+Ln[0])):Ze(gt);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${We.registrationStrategy}`)}}Mt.runOutsideAngular(()=>Yt.pipe((0,I.s)(1)).subscribe(()=>navigator.serviceWorker.register(Ft,{scope:We.scope}).catch(mn=>console.error("Service worker registration failed with:",mn))))}}function Me(gt){return(0,U.of)(null).pipe((0,x.c)(gt))}function Ze(gt){return gt.get(w.o8S).isStable.pipe((0,ue.p)(We=>We))}function ge(gt,Ft){return new Z((0,b.UE)(Ft)&&!1!==gt.enabled?navigator.serviceWorker:void 0)}class me{}const Ce={providers:[(0,w.Jn2)({eventCoalescing:!0}),(0,B.lh)(H),function R(gt="animations"){return(0,w.ngT)("NgAsyncAnimations"),(0,w.EmA)([{provide:w._9s,useFactory:(Ft,We,qe)=>new S(Ft,We,qe,gt),deps:[b.qQ,g.B7,w.SKi]},{provide:w.bc$,useValue:"noop"===gt?"NoopAnimations":"BrowserAnimations"}])}(),function Ue(gt,Ft={}){return(0,w.EmA)([z,ee,{provide:le,useValue:gt},{provide:me,useValue:Ft},{provide:Z,useFactory:ge,deps:[me,w.Agw]},{provide:w.hnV,useFactory:we,deps:[w.zZn,le,me,w.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,w.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var be=E(99327),he=E(55911),ne=E(88834),te=E(67333),de=E(86600),_e=E(18617),Ie=E(28203),He=E(14085),Ve=E(67336),Dt=E(36860),Ne=E(73703),ke=E(56977),yt=E(23294),F=E(99172),D=E(70152),M=E(49969);const G=["*"],fe=["content"],Se=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ae=["mat-drawer","mat-drawer-content","*"];function ot(gt,Ft){if(1&gt){const We=w.RV6();w.j41(0,"div",1),w.bIt("click",function(){w.eBV(We);const Mt=w.XpG();return w.Njj(Mt._onBackdropClicked())}),w.k0s()}if(2&gt){const We=w.XpG();w.AVh("mat-drawer-shown",We._isShowingBackdrop())}}function Gt(gt,Ft){1&gt&&(w.j41(0,"mat-drawer-content"),w.SdG(1,2),w.k0s())}const _t=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Bt=["mat-sidenav","mat-sidenav-content","*"];function en(gt,Ft){if(1&gt){const We=w.RV6();w.j41(0,"div",1),w.bIt("click",function(){w.eBV(We);const Mt=w.XpG();return w.Njj(Mt._onBackdropClicked())}),w.k0s()}if(2&gt){const We=w.XpG();w.AVh("mat-drawer-shown",We._isShowingBackdrop())}}function pn(gt,Ft){1&gt&&(w.j41(0,"mat-sidenav-content"),w.SdG(1,2),w.k0s())}const tr={transformDrawer:(0,M.hZ)("transform",[(0,M.wk)("open, open-instant",(0,M.iF)({transform:"none",visibility:"visible"})),(0,M.wk)("void",(0,M.iF)({"box-shadow":"none",visibility:"hidden"})),(0,M.kY)("void => open-instant",(0,M.i0)("0ms")),(0,M.kY)("void <=> open, open-instant => void",(0,M.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},on=new w.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ut(){return!1}}),Qt=new w.nKC("MAT_DRAWER_CONTAINER");let st=(()=>{class gt extends te.uv{constructor(We,qe,Mt,Lt,Yt){super(Mt,Lt,Yt),this._changeDetectorRef=We,this._container=qe}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(qe){return new(qe||gt)(w.rXU(w.gRc),w.rXU((0,w.Rfq)(()=>Xt)),w.rXU(w.aKT),w.rXU(te.R),w.rXU(w.SKi))};static#t=this.\u0275cmp=w.VBU({type:gt,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(qe,Mt){2&qe&&w.xc7("margin-left",Mt._container._contentMargins.left,"px")("margin-right",Mt._container._contentMargins.right,"px")},standalone:!0,features:[w.Jv_([{provide:te.uv,useExisting:gt}]),w.Vt3,w.aNF],ngContentSelectors:G,decls:1,vars:0,template:function(qe,Mt){1&qe&&(w.NAR(),w.SdG(0))},encapsulation:2,changeDetection:0})}return gt})(),Zt=(()=>{class gt{get position(){return this._position}set position(We){(We="end"===We?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(We),this._position=We,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(We){this._mode=We,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(We){this._disableClose=(0,He.he)(We)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(We){("true"===We||"false"===We||null==We)&&(We=(0,He.he)(We)),this._autoFocus=We}get opened(){return this._opened}set opened(We){this.toggle((0,He.he)(We))}constructor(We,qe,Mt,Lt,Yt,mn,Ln,Tn){this._elementRef=We,this._focusTrapFactory=qe,this._focusMonitor=Mt,this._platform=Lt,this._ngZone=Yt,this._interactivityChecker=mn,this._doc=Ln,this._container=Tn,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Q.B,this._animationEnd=new Q.B,this._animationState="void",this.openedChange=new w.bkB(!0),this._openedStream=this.openedChange.pipe((0,ue.p)(un=>un),(0,ae.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,ue.p)(un=>un.fromState!==un.toState&&0===un.toState.indexOf("open")),(0,Ne.u)(void 0)),this._closedStream=this.openedChange.pipe((0,ue.p)(un=>!un),(0,ae.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,ue.p)(un=>un.fromState!==un.toState&&"void"===un.toState),(0,Ne.u)(void 0)),this._destroyed=new Q.B,this.onPositionChanged=new w.bkB,this._modeChanged=new Q.B,this._injector=(0,w.WQX)(w.zZn),this.openedChange.pipe((0,ke.Q)(this._destroyed)).subscribe(un=>{un?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,V.R)(this._elementRef.nativeElement,"keydown").pipe((0,ue.p)(un=>un.keyCode===Ve._f&&!this.disableClose&&!(0,Ve.rp)(un)),(0,ke.Q)(this._destroyed)).subscribe(un=>this._ngZone.run(()=>{this.close(),un.stopPropagation(),un.preventDefault()}))}),this._animationEnd.pipe((0,yt.F)((un,Bn)=>un.fromState===Bn.fromState&&un.toState===Bn.toState)).subscribe(un=>{const{fromState:Bn,toState:qt}=un;(0===qt.indexOf("open")&&"void"===Bn||"void"===qt&&0===Bn.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(We,qe){this._interactivityChecker.isFocusable(We)||(We.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Mt=()=>{We.removeEventListener("blur",Mt),We.removeEventListener("mousedown",Mt),We.removeAttribute("tabindex")};We.addEventListener("blur",Mt),We.addEventListener("mousedown",Mt)})),We.focus(qe)}_focusByCssSelector(We,qe){let Mt=this._elementRef.nativeElement.querySelector(We);Mt&&this._forceFocus(Mt,qe)}_takeFocus(){if(!this._focusTrap)return;const We=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,w.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof We.focus&&We.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(We){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,We):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const We=this._doc.activeElement;return!!We&&this._elementRef.nativeElement.contains(We)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(We){return this.toggle(!0,We)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(We=!this.opened,qe){We&&qe&&(this._openedVia=qe);const Mt=this._setOpen(We,!We&&this._isFocusWithinDrawer(),this._openedVia||"program");return We||(this._openedVia=null),Mt}_setOpen(We,qe,Mt){return this._opened=We,We?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",qe&&this._restoreFocus(Mt)),this._updateFocusTrapState(),new Promise(Lt=>{this.openedChange.pipe((0,I.s)(1)).subscribe(Yt=>Lt(Yt?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(We){if(!this._platform.isBrowser)return;const qe=this._elementRef.nativeElement,Mt=qe.parentNode;"end"===We?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),Mt.insertBefore(this._anchor,qe)),Mt.appendChild(qe)):this._anchor&&this._anchor.parentNode.insertBefore(qe,this._anchor)}static#e=this.\u0275fac=function(qe){return new(qe||gt)(w.rXU(w.aKT),w.rXU(_e.GX),w.rXU(_e.FN),w.rXU(Dt.OD),w.rXU(w.SKi),w.rXU(_e.Z7),w.rXU(b.qQ,8),w.rXU(Qt,8))};static#t=this.\u0275cmp=w.VBU({type:gt,selectors:[["mat-drawer"]],viewQuery:function(qe,Mt){if(1&qe&&w.GBs(fe,5),2&qe){let Lt;w.mGM(Lt=w.lsd())&&(Mt._content=Lt.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(qe,Mt){1&qe&&w.Kam("@transform.start",function(Yt){return Mt._animationStarted.next(Yt)})("@transform.done",function(Yt){return Mt._animationEnd.next(Yt)}),2&qe&&(w.zvX("@transform",Mt._animationState),w.BMQ("align",null),w.AVh("mat-drawer-end","end"===Mt.position)("mat-drawer-over","over"===Mt.mode)("mat-drawer-push","push"===Mt.mode)("mat-drawer-side","side"===Mt.mode)("mat-drawer-opened",Mt.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[w.aNF],ngContentSelectors:G,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(qe,Mt){1&qe&&(w.NAR(),w.j41(0,"div",1,0),w.SdG(2),w.k0s())},dependencies:[te.uv],encapsulation:2,data:{animation:[tr.transformDrawer]},changeDetection:0})}return gt})(),Xt=(()=>{class gt{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(We){this._autosize=(0,He.he)(We)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(We){this._backdropOverride=null==We?null:(0,He.he)(We)}get scrollable(){return this._userContent||this._content}constructor(We,qe,Mt,Lt,Yt,mn=!1,Ln){this._dir=We,this._element=qe,this._ngZone=Mt,this._changeDetectorRef=Lt,this._animationMode=Ln,this._drawers=new w.rOR,this.backdropClick=new w.bkB,this._destroyed=new Q.B,this._doCheckSubject=new Q.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Q.B,this._injector=(0,w.WQX)(w.zZn),We&&We.change.pipe((0,ke.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Yt.change().pipe((0,ke.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=mn}ngAfterContentInit(){this._allDrawers.changes.pipe((0,F.Z)(this._allDrawers),(0,ke.Q)(this._destroyed)).subscribe(We=>{this._drawers.reset(We.filter(qe=>!qe._container||qe._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,F.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(We=>{this._watchDrawerToggle(We),this._watchDrawerPosition(We),this._watchDrawerMode(We)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,D.B)(10),(0,ke.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(We=>We.open())}close(){this._drawers.forEach(We=>We.close())}updateContentMargins(){let We=0,qe=0;if(this._left&&this._left.opened)if("side"==this._left.mode)We+=this._left._getWidth();else if("push"==this._left.mode){const Mt=this._left._getWidth();We+=Mt,qe-=Mt}if(this._right&&this._right.opened)if("side"==this._right.mode)qe+=this._right._getWidth();else if("push"==this._right.mode){const Mt=this._right._getWidth();qe+=Mt,We-=Mt}We=We||null,qe=qe||null,(We!==this._contentMargins.left||qe!==this._contentMargins.right)&&(this._contentMargins={left:We,right:qe},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(We){We._animationStarted.pipe((0,ue.p)(qe=>qe.fromState!==qe.toState),(0,ke.Q)(this._drawers.changes)).subscribe(qe=>{"open-instant"!==qe.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==We.mode&&We.openedChange.pipe((0,ke.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(We.opened))}_watchDrawerPosition(We){We&&We.onPositionChanged.pipe((0,ke.Q)(this._drawers.changes)).subscribe(()=>{(0,w.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:w.wjH.Read})})}_watchDrawerMode(We){We&&We._modeChanged.pipe((0,ke.Q)((0,ie.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(We){const qe=this._element.nativeElement.classList,Mt="mat-drawer-container-has-open";We?qe.add(Mt):qe.remove(Mt)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(We=>{"end"==We.position?this._end=We:this._start=We}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(We=>We&&!We.disableClose&&this._drawerHasBackdrop(We)).forEach(We=>We._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(We){return null!=We&&We.opened}_drawerHasBackdrop(We){return null==this._backdropOverride?!!We&&"side"!==We.mode:this._backdropOverride}static#e=this.\u0275fac=function(qe){return new(qe||gt)(w.rXU(Ie.dS,8),w.rXU(w.aKT),w.rXU(w.SKi),w.rXU(w.gRc),w.rXU(te.Xj),w.rXU(on),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:gt,selectors:[["mat-drawer-container"]],contentQueries:function(qe,Mt,Lt){if(1&qe&&(w.wni(Lt,st,5),w.wni(Lt,Zt,5)),2&qe){let Yt;w.mGM(Yt=w.lsd())&&(Mt._content=Yt.first),w.mGM(Yt=w.lsd())&&(Mt._allDrawers=Yt)}},viewQuery:function(qe,Mt){if(1&qe&&w.GBs(st,5),2&qe){let Lt;w.mGM(Lt=w.lsd())&&(Mt._userContent=Lt.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(qe,Mt){2&qe&&w.AVh("mat-drawer-container-explicit-backdrop",Mt._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[w.Jv_([{provide:Qt,useExisting:gt}]),w.aNF],ngContentSelectors:Ae,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(qe,Mt){1&qe&&(w.NAR(Se),w.DNE(0,ot,1,2,"div",0),w.SdG(1),w.SdG(2,1),w.DNE(3,Gt,2,0,"mat-drawer-content")),2&qe&&(w.vxM(Mt.hasBackdrop?0:-1),w.R7$(3),w.vxM(Mt._content?-1:3))},dependencies:[st],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return gt})(),rn=(()=>{class gt extends st{constructor(We,qe,Mt,Lt,Yt){super(We,qe,Mt,Lt,Yt)}static#e=this.\u0275fac=function(qe){return new(qe||gt)(w.rXU(w.gRc),w.rXU((0,w.Rfq)(()=>at)),w.rXU(w.aKT),w.rXU(te.R),w.rXU(w.SKi))};static#t=this.\u0275cmp=w.VBU({type:gt,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(qe,Mt){2&qe&&w.xc7("margin-left",Mt._container._contentMargins.left,"px")("margin-right",Mt._container._contentMargins.right,"px")},standalone:!0,features:[w.Jv_([{provide:te.uv,useExisting:gt}]),w.Vt3,w.aNF],ngContentSelectors:G,decls:1,vars:0,template:function(qe,Mt){1&qe&&(w.NAR(),w.SdG(0))},encapsulation:2,changeDetection:0})}return gt})(),Zn=(()=>{class gt extends Zt{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(We){this._fixedInViewport=(0,He.he)(We)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(We){this._fixedTopGap=(0,He.OE)(We)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(We){this._fixedBottomGap=(0,He.OE)(We)}static#e=this.\u0275fac=(()=>{let We;return function(Mt){return(We||(We=w.xGo(gt)))(Mt||gt)}})();static#t=this.\u0275cmp=w.VBU({type:gt,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(qe,Mt){2&qe&&(w.BMQ("align",null),w.xc7("top",Mt.fixedInViewport?Mt.fixedTopGap:null,"px")("bottom",Mt.fixedInViewport?Mt.fixedBottomGap:null,"px"),w.AVh("mat-drawer-end","end"===Mt.position)("mat-drawer-over","over"===Mt.mode)("mat-drawer-push","push"===Mt.mode)("mat-drawer-side","side"===Mt.mode)("mat-drawer-opened",Mt.opened)("mat-sidenav-fixed",Mt.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[w.Vt3,w.aNF],ngContentSelectors:G,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(qe,Mt){1&qe&&(w.NAR(),w.j41(0,"div",1,0),w.SdG(2),w.k0s())},dependencies:[te.uv],encapsulation:2,data:{animation:[tr.transformDrawer]},changeDetection:0})}return gt})(),at=(()=>{class gt extends Xt{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let We;return function(Mt){return(We||(We=w.xGo(gt)))(Mt||gt)}})();static#t=this.\u0275cmp=w.VBU({type:gt,selectors:[["mat-sidenav-container"]],contentQueries:function(qe,Mt,Lt){if(1&qe&&(w.wni(Lt,rn,5),w.wni(Lt,Zn,5)),2&qe){let Yt;w.mGM(Yt=w.lsd())&&(Mt._content=Yt.first),w.mGM(Yt=w.lsd())&&(Mt._allDrawers=Yt)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(qe,Mt){2&qe&&w.AVh("mat-drawer-container-explicit-backdrop",Mt._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[w.Jv_([{provide:Qt,useExisting:gt}]),w.Vt3,w.aNF],ngContentSelectors:Bt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(qe,Mt){1&qe&&(w.NAR(_t),w.DNE(0,en,1,2,"div",0),w.SdG(1),w.SdG(2,1),w.DNE(3,pn,2,0,"mat-sidenav-content")),2&qe&&(w.vxM(Mt.hasBackdrop?0:-1),w.R7$(3),w.vxM(Mt._content?-1:3))},dependencies:[rn],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return gt})(),pt=(()=>{class gt{static#e=this.\u0275fac=function(qe){return new(qe||gt)};static#t=this.\u0275mod=w.$C({type:gt});static#n=this.\u0275inj=w.G2t({imports:[de.yE,te.Gj,te.Gj,de.yE]})}return gt})();var ht=E(3902),Ke=E(99213),Ge=E(44668),jt=E(59115),kt=E(71997);const ln=["*"],On=()=>["/settings"],vn=()=>["/profile","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],gn=()=>["/introduction"],ur=()=>["/accounts"],er=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],Pn=()=>["/account/create"];function Nn(gt,Ft){if(1&gt&&(w.j41(0,"a",12,5)(2,"mat-icon",26),w.EFF(3),w.k0s(),w.EFF(4),w.k0s()),2&gt){const We=Ft.$implicit,qe=w.sdS(1);w.Y8G("routerLink",We.path)("activated",qe.isActive),w.R7$(3),w.JRh(We.data.icon),w.R7$(),w.SpI(" ",We.title," ")}}function et(gt,Ft){if(1&gt){const We=w.RV6();w.j41(0,"button",27),w.bIt("click",function(){w.eBV(We),w.XpG();const Mt=w.sdS(2);return w.Njj(Mt.toggle())}),w.j41(1,"mat-icon",28),w.EFF(2,"menu"),w.k0s()()}}let Oe=(()=>{class gt{constructor(){this.breakpointObserver=(0,w.WQX)(be.QP),this.rootRoutes=H.filter(We=>We.path).filter(We=>We.data&&1!=We.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,ae.T)(We=>We.matches),(0,Ge.t)())}static#e=this.\u0275fac=function(qe){return new(qe||gt)};static#t=this.\u0275cmp=w.VBU({type:gt,selectors:[["app-layout"]],standalone:!0,features:[w.aNF],ngContentSelectors:ln,decls:139,vars:34,consts:[["drawer",""],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],[1,"toolbar-spacer"],[1,"toolbar-items"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],["src","https://ariton.app/assets/sondre.png",1,"account-menu-profile-icon"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"sidenav-scroll-wrapper"],[1,"sidenav-content"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(qe,Mt){if(1&qe&&(w.NAR(),w.j41(0,"mat-sidenav-container",6)(1,"mat-sidenav",7,0),w.nI1(3,"async"),w.nI1(4,"async"),w.nI1(5,"async"),w.j41(6,"mat-toolbar"),w.nrm(7,"img",8),w.j41(8,"picture",9),w.nrm(9,"source",10)(10,"img",11),w.k0s()(),w.j41(11,"mat-nav-list"),w.Z7z(12,Nn,5,4,"a",12,w.Vm6),w.k0s()(),w.j41(14,"mat-sidenav-content")(15,"mat-toolbar",13),w.DNE(16,et,3,0,"button",14),w.nI1(17,"async"),w.nrm(18,"span",15),w.j41(19,"span",16)(20,"button",17)(21,"mat-icon"),w.EFF(22,"notifications"),w.k0s()(),w.j41(23,"mat-menu",null,1)(25,"button",18)(26,"mat-icon"),w.EFF(27,"settings"),w.k0s(),w.j41(28,"span"),w.EFF(29,"Notification Settings"),w.k0s()(),w.nrm(30,"mat-divider"),w.j41(31,"button",19)(32,"mat-icon"),w.EFF(33,"forum"),w.k0s(),w.j41(34,"span"),w.EFF(35,"Knitting Community posted new pattern"),w.k0s()(),w.j41(36,"button",19)(37,"mat-icon"),w.EFF(38,"face"),w.k0s(),w.j41(39,"span"),w.EFF(40,"Joe sent you a message"),w.k0s()(),w.j41(41,"button",19)(42,"mat-icon"),w.EFF(43,"key"),w.k0s(),w.j41(44,"span"),w.EFF(45,"New security request"),w.k0s()(),w.j41(46,"button",19)(47,"mat-icon"),w.EFF(48,"verified_user"),w.k0s(),w.j41(49,"span"),w.EFF(50,"Social account recovery request"),w.k0s()()(),w.j41(51,"button",17)(52,"mat-icon"),w.EFF(53,"account_circle"),w.k0s()(),w.j41(54,"mat-menu",null,2)(56,"div",20),w.nrm(57,"img",21),w.j41(58,"div")(59,"h2"),w.EFF(60,"SondreB"),w.k0s(),w.EFF(61," @sondreb"),w.nrm(62,"br"),w.EFF(63," did:dht:umj7a...dns1o"),w.nrm(64,"br"),w.k0s()(),w.j41(65,"button",22)(66,"mat-icon"),w.EFF(67,"account_circle"),w.k0s(),w.j41(68,"span"),w.EFF(69,"View Profile"),w.k0s()(),w.nrm(70,"mat-divider"),w.j41(71,"button",23)(72,"mat-icon"),w.EFF(73,"switch_account"),w.k0s(),w.j41(74,"span"),w.EFF(75,"Accounts"),w.k0s()(),w.j41(76,"button",19)(77,"mat-icon"),w.EFF(78,"lock"),w.k0s(),w.j41(79,"span"),w.EFF(80,"Lock account"),w.k0s()(),w.nrm(81,"mat-divider"),w.j41(82,"button",23)(83,"mat-icon"),w.EFF(84,"translate"),w.k0s(),w.j41(85,"span"),w.EFF(86,"Language: English"),w.k0s()(),w.nrm(87,"mat-divider"),w.j41(88,"button",18)(89,"mat-icon"),w.EFF(90,"settings"),w.k0s(),w.j41(91,"span"),w.EFF(92,"Settings"),w.k0s()(),w.nrm(93,"mat-divider"),w.j41(94,"button",18)(95,"mat-icon"),w.EFF(96,"help"),w.k0s(),w.j41(97,"span"),w.EFF(98,"Help"),w.k0s()()(),w.j41(99,"mat-menu",null,3)(101,"button",18)(102,"mat-icon"),w.EFF(103,"manage_accounts"),w.k0s(),w.j41(104,"span"),w.EFF(105,"Manage Accounts"),w.k0s()(),w.nrm(106,"mat-divider"),w.j41(107,"button",18)(108,"mat-icon"),w.EFF(109,"account_circle"),w.k0s(),w.j41(110,"span"),w.EFF(111,"Account 1"),w.k0s()(),w.j41(112,"button",18)(113,"mat-icon"),w.EFF(114,"account_circle"),w.k0s(),w.j41(115,"span"),w.EFF(116,"Account 2"),w.k0s()(),w.j41(117,"button",18)(118,"mat-icon"),w.EFF(119,"account_circle"),w.k0s(),w.j41(120,"span"),w.EFF(121,"Account 3"),w.k0s()(),w.nrm(122,"mat-divider"),w.j41(123,"button",18)(124,"mat-icon"),w.EFF(125,"person_add"),w.k0s(),w.j41(126,"span"),w.EFF(127,"Add account"),w.k0s()()(),w.j41(128,"mat-menu",null,4)(130,"button",19)(131,"span"),w.EFF(132,"English"),w.k0s()(),w.j41(133,"button",19)(134,"span"),w.EFF(135,"Norwegian"),w.k0s()()()()(),w.j41(136,"div",24)(137,"div",25),w.SdG(138),w.k0s()()()()),2&qe){const Lt=w.sdS(24),Yt=w.sdS(55),mn=w.sdS(100),Ln=w.sdS(129);w.R7$(),w.Y8G("mode",w.bMT(3,17,Mt.isHandset$)?"over":"side")("opened",!1===w.bMT(4,19,Mt.isHandset$)),w.BMQ("role",w.bMT(5,21,Mt.isHandset$)?"dialog":"navigation"),w.R7$(11),w.Dyx(Mt.rootRoutes),w.R7$(4),w.vxM(w.bMT(17,23,Mt.isHandset$)?16:-1),w.R7$(4),w.Y8G("matMenuTriggerFor",Lt),w.R7$(5),w.Y8G("routerLink",w.lJ4(25,On)),w.R7$(26),w.Y8G("matMenuTriggerFor",Yt),w.R7$(14),w.Y8G("routerLink",w.lJ4(26,vn)),w.R7$(6),w.Y8G("matMenuTriggerFor",mn),w.R7$(11),w.Y8G("matMenuTriggerFor",Ln),w.R7$(6),w.Y8G("routerLink",w.lJ4(27,On)),w.R7$(6),w.Y8G("routerLink",w.lJ4(28,gn)),w.R7$(7),w.Y8G("routerLink",w.lJ4(29,ur)),w.R7$(6),w.Y8G("routerLink",w.lJ4(30,er)),w.R7$(5),w.Y8G("routerLink",w.lJ4(31,er)),w.R7$(5),w.Y8G("routerLink",w.lJ4(32,er)),w.R7$(6),w.Y8G("routerLink",w.lJ4(33,Pn))}},dependencies:[he.s5,he.KQ,ne.Hl,ne.iY,pt,Zn,at,rn,ht.Fg,ht._L,ht.YE,ht.ZV,kt.q,Ke.m_,Ke.An,jt.Cn,jt.kk,jt.fb,jt.Cp,b.Jj,B.Wk,B.wQ],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:240px;padding:0 8px;box-sizing:border-box}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}mat-sidenav-content[_ngcontent-%COMP%]{padding-right:16px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}@media (pointer: fine){.sidenav-content[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:transparent;width:8px}.sidenav-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}@media (pointer: fine){.column-content[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:transparent;width:8px}.column-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}}@media (max-width: 959.98px){mat-sidenav-content[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}}"]})}return gt})();var Qe=E(10467),zt=E(89417),hn=E(53719),Un=E(99631);function Nr(gt,Ft){const We=!Ft?.manualCleanup;We&&!Ft?.injector&&(0,w.Af3)(Nr);const qe=We?Ft?.injector?.get(w.abz)??(0,w.WQX)(w.abz):null;let Mt;Mt=(0,w.vPA)(Ft?.requireSync?{kind:0}:{kind:1,value:Ft?.initialValue});const Lt=gt.subscribe({next:Yt=>Mt.set({kind:1,value:Yt}),error:Yt=>{if(Ft?.rejectErrors)throw Yt;Mt.set({kind:2,error:Yt})}});return qe?.onDestroy(Lt.unsubscribe.bind(Lt)),(0,w.EWP)(()=>{const Yt=Mt();switch(Yt.kind){case 1:return Yt.value;case 2:throw Yt.error;case 0:throw new w.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const dr=["determinateSpinner"];function nn(gt,Ft){if(1&gt&&(w.qSk(),w.j41(0,"svg",11),w.nrm(1,"circle",12),w.k0s()),2&gt){const We=w.XpG();w.BMQ("viewBox",We._viewBox()),w.R7$(),w.xc7("stroke-dasharray",We._strokeCircumference(),"px")("stroke-dashoffset",We._strokeCircumference()/2,"px")("stroke-width",We._circleStrokeWidth(),"%"),w.BMQ("r",We._circleRadius())}}const yn=new w.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function En(){return{diameter:Fn}}}),Fn=100;let cr=(()=>{class gt{get color(){return this._color||this._defaultColor}set color(We){this._color=We}constructor(We,qe,Mt){this._elementRef=We,this._defaultColor="primary",this._value=0,this._diameter=Fn,this._noopAnimations="NoopAnimations"===qe&&!!Mt&&!Mt._forceAnimations,this.mode="mat-spinner"===We.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",Mt&&(Mt.color&&(this.color=this._defaultColor=Mt.color),Mt.diameter&&(this.diameter=Mt.diameter),Mt.strokeWidth&&(this.strokeWidth=Mt.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(We){this._value=Math.max(0,Math.min(100,We||0))}get diameter(){return this._diameter}set diameter(We){this._diameter=We||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(We){this._strokeWidth=We||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const We=2*this._circleRadius()+this.strokeWidth;return`0 0 ${We} ${We}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(qe){return new(qe||gt)(w.rXU(w.aKT),w.rXU(w.bc$,8),w.rXU(yn))};static#t=this.\u0275cmp=w.VBU({type:gt,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(qe,Mt){if(1&qe&&w.GBs(dr,5),2&qe){let Lt;w.mGM(Lt=w.lsd())&&(Mt._determinateCircle=Lt.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(qe,Mt){2&qe&&(w.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===Mt.mode?Mt.value:null)("mode",Mt.mode),w.HbH("mat-"+Mt.color),w.xc7("width",Mt.diameter,"px")("height",Mt.diameter,"px")("--mdc-circular-progress-size",Mt.diameter+"px")("--mdc-circular-progress-active-indicator-width",Mt.diameter+"px"),w.AVh("_mat-animation-noopable",Mt._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===Mt.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",w.Udg],diameter:[2,"diameter","diameter",w.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",w.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[w.GFd,w.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(qe,Mt){if(1&qe&&(w.DNE(0,nn,2,8,"ng-template",null,0,w.C5r),w.j41(2,"div",2,1),w.qSk(),w.j41(4,"svg",3),w.nrm(5,"circle",4),w.k0s()(),w.joV(),w.j41(6,"div",5)(7,"div",6)(8,"div",7),w.eu8(9,8),w.k0s(),w.j41(10,"div",9),w.eu8(11,8),w.k0s(),w.j41(12,"div",10),w.eu8(13,8),w.k0s()()()),2&qe){const Lt=w.sdS(1);w.R7$(4),w.BMQ("viewBox",Mt._viewBox()),w.R7$(),w.xc7("stroke-dasharray",Mt._strokeCircumference(),"px")("stroke-dashoffset",Mt._strokeDashOffset(),"px")("stroke-width",Mt._circleStrokeWidth(),"%"),w.BMQ("r",Mt._circleRadius()),w.R7$(4),w.Y8G("ngTemplateOutlet",Lt),w.R7$(2),w.Y8G("ngTemplateOutlet",Lt),w.R7$(2),w.Y8G("ngTemplateOutlet",Lt)}},dependencies:[b.T3],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return gt})(),jr=(()=>{class gt{static#e=this.\u0275fac=function(qe){return new(qe||gt)};static#t=this.\u0275mod=w.$C({type:gt});static#n=this.\u0275inj=w.G2t({imports:[b.MD,de.yE]})}return gt})();var Or=E(27413);function $i(gt,Ft){1&gt&&w.nrm(0,"mat-spinner",4)}function oo(gt,Ft){1&gt&&(w.j41(0,"span"),w.EFF(1,"Unlock"),w.k0s())}function Hi(gt,Ft){1&gt&&(w.j41(0,"mat-error"),w.EFF(1,"Password is "),w.j41(2,"strong"),w.EFF(3,"invalid"),w.k0s()())}let bi=(()=>{class gt{constructor(We){this.identityService=We,this.passwordInput=new zt.MJ("",zt.k0.required),this.hide=(0,w.vPA)(!0),this.unlocking=(0,w.vPA)(!1),this.invalidPassword=(0,w.vPA)(!1),this.loading=!1,this.passwordSignal=Nr(this.passwordInput.valueChanges,{initialValue:""}),this.disabled=(0,w.EWP)(()=>(console.log("computed"),this.passwordInput.invalid))}save(){this.loading=!0}onSubmit(){var We=this;return(0,Qe.A)(function*(){We.unlocking.set(!0),(yield We.identityService.unlock(We.passwordInput.value))?(console.log("Vault unlocked"),We.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),We.invalidPassword.set(!0)),We.unlocking.set(!1)})()}static#e=this.\u0275fac=function(qe){return new(qe||gt)(w.rXU(Or.K))};static#t=this.\u0275cmp=w.VBU({type:gt,selectors:[["app-unlock"]],standalone:!0,features:[w.aNF],decls:15,vars:5,consts:[[3,"ngSubmit"],["appearance","outline"],["matInput","",3,"formControl","type"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(qe,Mt){1&qe&&(w.j41(0,"h1"),w.EFF(1,"Unlock your account"),w.k0s(),w.j41(2,"p"),w.EFF(3,"You have configured your account with a secure personal password. Enter password to unlock your account."),w.k0s(),w.j41(4,"form",0),w.bIt("ngSubmit",function(){return Mt.onSubmit()}),w.j41(5,"mat-form-field",1)(6,"mat-label"),w.EFF(7,"Enter your password"),w.k0s(),w.nrm(8,"input",2),w.k0s(),w.EFF(9," \xa0 "),w.j41(10,"button",3),w.DNE(11,$i,1,0,"mat-spinner",4)(12,oo,2,0,"span"),w.k0s(),w.j41(13,"p"),w.DNE(14,Hi,4,0,"mat-error"),w.k0s()()),2&qe&&(w.R7$(8),w.Y8G("formControl",Mt.passwordInput)("type",Mt.hide()?"password":"text"),w.R7$(2),w.Y8G("disabled",!(Mt.passwordInput.valid&&!Mt.unlocking())),w.R7$(),w.vxM(Mt.unlocking()?11:12),w.R7$(3),w.vxM(Mt.invalidPassword()?14:-1))},dependencies:[zt.YN,zt.qT,zt.me,zt.BC,zt.cb,zt.cV,jr,cr,zt.X1,zt.l_,hn.RG,hn.rl,hn.nJ,hn.TL,Un.fS,Un.fg,ne.Hl,ne.$z,Ke.m_],styles:["button[_ngcontent-%COMP%]{width:100px}"]})}return gt})();var pi=E(36815);function So(gt,Ft){1&gt&&(w.j41(0,"div",0),w.nrm(1,"app-unlock"),w.k0s())}(0,g.B8)((()=>{class gt{constructor(We,qe,Mt){this.router=We,this.layout=qe,this.identityService=Mt,this.title="app",this.router.events.subscribe(Lt=>{Lt instanceof B.Z&&this.layout.enableScrolling()})}static#e=this.\u0275fac=function(qe){return new(qe||gt)(w.rXU(B.Ix),w.rXU(pi.Y),w.rXU(Or.K))};static#t=this.\u0275cmp=w.VBU({type:gt,selectors:[["app-root"]],standalone:!0,features:[w.aNF],decls:3,vars:1,consts:[[1,"unlock-container"]],template:function(qe,Mt){1&qe&&(w.DNE(0,So,2,0,"div",0),w.j41(1,"app-layout"),w.nrm(2,"router-outlet"),w.k0s()),2&qe&&w.vxM(Mt.identityService.locked()?0:-1)},dependencies:[B.n3,Oe,bi],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;width:100%;inset:0;z-index:10000;display:flex;justify-content:center}"]})}return gt})(),Ce).catch(gt=>console.error(gt))},4521:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createCurve=j.getHash=void 0;const g=E(44882),w=E(96492),B=E(73040);function H(k){return{hash:k,hmac:(S,...P)=>(0,g.hmac)(k,S,(0,w.concatBytes)(...P)),randomBytes:w.randomBytes}}j.getHash=H,j.createCurve=function b(k,S){const P=R=>(0,B.weierstrass)({...k,...H(R)});return Object.freeze({...P(S),create:P})}},25299:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateBasic=j.wNAF=void 0;const g=E(63834),w=E(84097),B=BigInt(0),H=BigInt(1);j.wNAF=function b(S,P){const R=(A,V)=>{const U=V.negate();return A?U:V},O=A=>({windows:Math.ceil(P/A)+1,windowSize:2**(A-1)});return{constTimeNegate:R,unsafeLadder(A,V){let U=S.ZERO,K=A;for(;V>B;)V&H&&(U=U.add(K)),K=K.double(),V>>=H;return U},precomputeWindow(A,V){const{windows:U,windowSize:K}=O(V),Q=[];let q=A,Y=q;for(let W=0;W<U;W++){Y=q,Q.push(Y);for(let re=1;re<K;re++)Y=Y.add(q),Q.push(Y);q=Y.double()}return Q},wNAF(A,V,U){const{windows:K,windowSize:Q}=O(A);let q=S.ZERO,Y=S.BASE;const W=BigInt(2**A-1),re=2**A,ie=BigInt(A);for(let ae=0;ae<K;ae++){const ue=ae*Q;let ce=Number(U&W);U>>=ie,ce>Q&&(ce-=re,U+=H);const pe=ue,ve=ue+Math.abs(ce)-1,C=ce<0;0===ce?Y=Y.add(R(ae%2!=0,V[pe])):q=q.add(R(C,V[ve]))}return{p:q,f:Y}},wNAFCached(A,V,U,K){const Q=A._WINDOW_SIZE||1;let q=V.get(A);return q||(q=this.precomputeWindow(A,Q),1!==Q&&V.set(A,K(q))),this.wNAF(Q,q,U)}}},j.validateBasic=function k(S){return(0,g.validateField)(S.Fp),(0,w.validateObject)(S,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,g.nLength)(S.n,S.nBitLength),...S,p:S.Fp.ORDER})}},45068:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.twistedEdwards=void 0;const g=E(63834),w=E(84097),B=E(84097),H=E(25299),b=BigInt(0),k=BigInt(1),S=BigInt(2),P=BigInt(8),R={zip215:!0};j.twistedEdwards=function A(V){const U=function O(V){const U=(0,H.validateBasic)(V);return w.validateObject(V,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...U})}(V),{Fp:K,n:Q,prehash:q,hash:Y,randomBytes:W,nByteLength:re,h:ie}=U,ae=S<<BigInt(8*re)-k,ue=K.create,ce=U.uvRatio||((me,Ue)=>{try{return{isValid:!0,value:K.sqrt(me*K.inv(Ue))}}catch{return{isValid:!1,value:b}}}),pe=U.adjustScalarBytes||(me=>me),ve=U.domain||((me,Ue,xe)=>{if(Ue.length||xe)throw new Error("Contexts/pre-hash are not supported");return me}),De=me=>"bigint"==typeof me&&b<me,C=(me,Ue)=>De(me)&&De(Ue)&&me<Ue,s=me=>me===b||C(me,ae);function d(me,Ue){if(C(me,Ue))return me;throw new Error(`Expected valid scalar < ${Ue}, got ${typeof me} ${me}`)}function h(me){return me===b?me:d(me,Q)}const f=new Map;function _(me){if(!(me instanceof I))throw new Error("ExtendedPoint expected")}class I{constructor(Ue,xe,Ce,be){if(this.ex=Ue,this.ey=xe,this.ez=Ce,this.et=be,!s(Ue))throw new Error("x required");if(!s(xe))throw new Error("y required");if(!s(Ce))throw new Error("z required");if(!s(be))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Ue){if(Ue instanceof I)throw new Error("extended point not allowed");const{x:xe,y:Ce}=Ue||{};if(!s(xe)||!s(Ce))throw new Error("invalid affine point");return new I(xe,Ce,k,ue(xe*Ce))}static normalizeZ(Ue){const xe=K.invertBatch(Ue.map(Ce=>Ce.ez));return Ue.map((Ce,be)=>Ce.toAffine(xe[be])).map(I.fromAffine)}_setWindowSize(Ue){this._WINDOW_SIZE=Ue,f.delete(this)}assertValidity(){const{a:Ue,d:xe}=U;if(this.is0())throw new Error("bad point: ZERO");const{ex:Ce,ey:be,ez:he,et:ne}=this,te=ue(Ce*Ce),de=ue(be*be),_e=ue(he*he),Ie=ue(_e*_e),He=ue(te*Ue);if(ue(_e*ue(He+de))!==ue(Ie+ue(xe*ue(te*de))))throw new Error("bad point: equation left != right (1)");if(ue(Ce*be)!==ue(he*ne))throw new Error("bad point: equation left != right (2)")}equals(Ue){_(Ue);const{ex:xe,ey:Ce,ez:be}=this,{ex:he,ey:ne,ez:te}=Ue,de=ue(xe*te),_e=ue(he*be),Ie=ue(Ce*te),He=ue(ne*be);return de===_e&&Ie===He}is0(){return this.equals(I.ZERO)}negate(){return new I(ue(-this.ex),this.ey,this.ez,ue(-this.et))}double(){const{a:Ue}=U,{ex:xe,ey:Ce,ez:be}=this,he=ue(xe*xe),ne=ue(Ce*Ce),te=ue(S*ue(be*be)),de=ue(Ue*he),_e=xe+Ce,Ie=ue(ue(_e*_e)-he-ne),He=de+ne,Ve=He-te,Dt=de-ne,Ne=ue(Ie*Ve),ke=ue(He*Dt),yt=ue(Ie*Dt),F=ue(Ve*He);return new I(Ne,ke,F,yt)}add(Ue){_(Ue);const{a:xe,d:Ce}=U,{ex:be,ey:he,ez:ne,et:te}=this,{ex:de,ey:_e,ez:Ie,et:He}=Ue;if(xe===BigInt(-1)){const ot=ue((he-be)*(_e+de)),Gt=ue((he+be)*(_e-de)),_t=ue(Gt-ot);if(_t===b)return this.double();const Bt=ue(ne*S*He),en=ue(te*S*Ie),pn=en+Bt,cn=Gt+ot,tr=en-Bt,Mn=ue(pn*_t),on=ue(cn*tr),Qt=ue(pn*tr),ut=ue(_t*cn);return new I(Mn,on,ut,Qt)}const Ve=ue(be*de),Dt=ue(he*_e),Ne=ue(te*Ce*He),ke=ue(ne*Ie),yt=ue((be+he)*(de+_e)-Ve-Dt),F=ke-Ne,D=ke+Ne,M=ue(Dt-xe*Ve),G=ue(yt*F),fe=ue(D*M),Se=ue(yt*M),Ae=ue(F*D);return new I(G,fe,Ae,Se)}subtract(Ue){return this.add(Ue.negate())}wNAF(Ue){return a.wNAFCached(this,f,Ue,I.normalizeZ)}multiply(Ue){const{p:xe,f:Ce}=this.wNAF(d(Ue,Q));return I.normalizeZ([xe,Ce])[0]}multiplyUnsafe(Ue){let xe=h(Ue);return xe===b?x:this.equals(x)||xe===k?this:this.equals(L)?this.wNAF(xe).p:a.unsafeLadder(this,xe)}isSmallOrder(){return this.multiplyUnsafe(ie).is0()}isTorsionFree(){return a.unsafeLadder(this,Q).is0()}toAffine(Ue){const{ex:xe,ey:Ce,ez:be}=this,he=this.is0();null==Ue&&(Ue=he?P:K.inv(be));const ne=ue(xe*Ue),te=ue(Ce*Ue),de=ue(be*Ue);if(he)return{x:b,y:k};if(de!==k)throw new Error("invZ was invalid");return{x:ne,y:te}}clearCofactor(){const{h:Ue}=U;return Ue===k?this:this.multiplyUnsafe(Ue)}static fromHex(Ue,xe=!1){const{d:Ce,a:be}=U,he=K.BYTES,ne=(Ue=(0,B.ensureBytes)("pointHex",Ue,he)).slice(),te=Ue[he-1];ne[he-1]=-129&te;const de=w.bytesToNumberLE(ne);de===b||d(de,xe?ae:K.ORDER);const _e=ue(de*de),Ie=ue(_e-k),He=ue(Ce*_e-be);let{isValid:Ve,value:Dt}=ce(Ie,He);if(!Ve)throw new Error("Point.fromHex: invalid y coordinate");const Ne=(Dt&k)===k,ke=!!(128&te);if(!xe&&Dt===b&&ke)throw new Error("Point.fromHex: x=0 and x_0=1");return ke!==Ne&&(Dt=ue(-Dt)),I.fromAffine({x:Dt,y:de})}static fromPrivateKey(Ue){return z(Ue).point}toRawBytes(){const{x:Ue,y:xe}=this.toAffine(),Ce=w.numberToBytesLE(xe,K.BYTES);return Ce[Ce.length-1]|=Ue&k?128:0,Ce}toHex(){return w.bytesToHex(this.toRawBytes())}}I.BASE=new I(U.Gx,U.Gy,k,ue(U.Gx*U.Gy)),I.ZERO=new I(b,k,k,b);const{BASE:L,ZERO:x}=I,a=(0,H.wNAF)(I,8*re);function v(me){return(0,g.mod)(me,Q)}function Z(me){return v(w.bytesToNumberLE(me))}function z(me){const Ue=re;me=(0,B.ensureBytes)("private key",me,Ue);const xe=(0,B.ensureBytes)("hashed private key",Y(me),2*Ue),Ce=pe(xe.slice(0,Ue)),be=xe.slice(Ue,2*Ue),he=Z(Ce),ne=L.multiply(he),te=ne.toRawBytes();return{head:Ce,prefix:be,scalar:he,point:ne,pointBytes:te}}function le(me=new Uint8Array,...Ue){const xe=w.concatBytes(...Ue);return Z(Y(ve(xe,(0,B.ensureBytes)("context",me),!!q)))}const Me=R;return L._setWindowSize(8),{CURVE:U,getPublicKey:function ee(me){return z(me).pointBytes},sign:function we(me,Ue,xe={}){me=(0,B.ensureBytes)("message",me),q&&(me=q(me));const{prefix:Ce,scalar:be,pointBytes:he}=z(Ue),ne=le(xe.context,Ce,me),te=L.multiply(ne).toRawBytes(),_e=v(ne+le(xe.context,te,he,me)*be);h(_e);const Ie=w.concatBytes(te,w.numberToBytesLE(_e,K.BYTES));return(0,B.ensureBytes)("result",Ie,2*re)},verify:function Ze(me,Ue,xe,Ce=Me){const{context:be,zip215:he}=Ce,ne=K.BYTES;me=(0,B.ensureBytes)("signature",me,2*ne),Ue=(0,B.ensureBytes)("message",Ue),q&&(Ue=q(Ue));const te=w.bytesToNumberLE(me.slice(ne,2*ne));let de,_e,Ie;try{de=I.fromHex(xe,he),_e=I.fromHex(me.slice(0,ne),he),Ie=L.multiplyUnsafe(te)}catch{return!1}if(!he&&de.isSmallOrder())return!1;const He=le(be,_e.toRawBytes(),de.toRawBytes(),Ue);return _e.add(de.multiplyUnsafe(He)).subtract(Ie).clearCofactor().equals(I.ZERO)},ExtendedPoint:I,utils:{getExtendedPublicKey:z,randomPrivateKey:()=>W(K.BYTES),precompute:(me=8,Ue=I.BASE)=>(Ue._setWindowSize(me),Ue.multiply(BigInt(3)),Ue)}}}},75752:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createHasher=j.isogenyMap=j.hash_to_field=j.expand_message_xof=j.expand_message_xmd=void 0;const g=E(63834),w=E(84097),H=w.bytesToNumberBE;function b(K,Q){if(K<0||K>=1<<8*Q)throw new Error(`bad I2OSP call: value=${K} length=${Q}`);const q=Array.from({length:Q}).fill(0);for(let Y=Q-1;Y>=0;Y--)q[Y]=255&K,K>>>=8;return new Uint8Array(q)}function k(K,Q){const q=new Uint8Array(K.length);for(let Y=0;Y<K.length;Y++)q[Y]=K[Y]^Q[Y];return q}function S(K){if(!(0,w.isBytes)(K))throw new Error("Uint8Array expected")}function P(K){if(!Number.isSafeInteger(K))throw new Error("number expected")}function R(K,Q,q,Y){S(K),S(Q),P(q),Q.length>255&&(Q=Y((0,w.concatBytes)((0,w.utf8ToBytes)("H2C-OVERSIZE-DST-"),Q)));const{outputLen:W,blockLen:re}=Y,ie=Math.ceil(q/W);if(ie>255)throw new Error("Invalid xmd length");const ae=(0,w.concatBytes)(Q,b(Q.length,1)),ue=b(0,re),ce=b(q,2),pe=new Array(ie),ve=Y((0,w.concatBytes)(ue,K,ce,b(0,1),ae));pe[0]=Y((0,w.concatBytes)(ve,b(1,1),ae));for(let C=1;C<=ie;C++){const s=[k(ve,pe[C-1]),b(C+1,1),ae];pe[C]=Y((0,w.concatBytes)(...s))}return(0,w.concatBytes)(...pe).slice(0,q)}function O(K,Q,q,Y,W){if(S(K),S(Q),P(q),Q.length>255){const re=Math.ceil(2*Y/8);Q=W.create({dkLen:re}).update((0,w.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(Q).digest()}if(q>65535||Q.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return W.create({dkLen:q}).update(K).update(b(q,2)).update(Q).update(b(Q.length,1)).digest()}function A(K,Q,q){(0,w.validateObject)(q,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:Y,k:W,m:re,hash:ie,expand:ae,DST:ue}=q;S(K),P(Q);const ce=function B(K){if((0,w.isBytes)(K))return K;if("string"==typeof K)return(0,w.utf8ToBytes)(K);throw new Error("DST must be Uint8Array or string")}(ue),pe=Y.toString(2).length,ve=Math.ceil((pe+W)/8),De=Q*re*ve;let C;if("xmd"===ae)C=R(K,ce,De,ie);else if("xof"===ae)C=O(K,ce,De,W,ie);else{if("_internal_pass"!==ae)throw new Error('expand must be "xmd" or "xof"');C=K}const s=new Array(Q);for(let d=0;d<Q;d++){const h=new Array(re);for(let f=0;f<re;f++){const _=ve*(f+d*re),I=C.subarray(_,_+ve);h[f]=(0,g.mod)(H(I),Y)}s[d]=h}return s}j.expand_message_xmd=R,j.expand_message_xof=O,j.hash_to_field=A,j.isogenyMap=function V(K,Q){const q=Q.map(Y=>Array.from(Y).reverse());return(Y,W)=>{const[re,ie,ae,ue]=q.map(ce=>ce.reduce((pe,ve)=>K.add(K.mul(pe,Y),ve)));return Y=K.div(re,ie),W=K.mul(W,K.div(ae,ue)),{x:Y,y:W}}},j.createHasher=function U(K,Q,q){if("function"!=typeof Q)throw new Error("mapToCurve() must be defined");return{hashToCurve(Y,W){const re=A(Y,2,{...q,DST:q.DST,...W}),ie=K.fromAffine(Q(re[0])),ae=K.fromAffine(Q(re[1])),ue=ie.add(ae).clearCofactor();return ue.assertValidity(),ue},encodeToCurve(Y,W){const re=A(Y,1,{...q,DST:q.encodeDST,...W}),ie=K.fromAffine(Q(re[0])).clearCofactor();return ie.assertValidity(),ie}}}},63834:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.mapHashToField=j.getMinHashLength=j.getFieldBytesLength=j.hashToPrivateScalar=j.FpSqrtEven=j.FpSqrtOdd=j.Field=j.nLength=j.FpIsSquare=j.FpDiv=j.FpInvertBatch=j.FpPow=j.validateField=j.isNegativeLE=j.FpSqrt=j.tonelliShanks=j.invert=j.pow2=j.pow=j.mod=void 0;const g=E(84097),w=BigInt(0),B=BigInt(1),H=BigInt(2),b=BigInt(3),k=BigInt(4),S=BigInt(5),P=BigInt(8);function A(_,I){const L=_%I;return L>=w?L:I+L}function V(_,I,L){if(L<=w||I<w)throw new Error("Expected power/modulo > 0");if(L===B)return w;let x=B;for(;I>w;)I&B&&(x=x*_%L),_=_*_%L,I>>=B;return x}function K(_,I){if(_===w||I<=w)throw new Error(`invert: expected positive integers, got n=${_} mod=${I}`);let L=A(_,I),x=I,a=w,v=B,Z=B,z=w;for(;L!==w;){const le=x/L,we=x%L,Me=a-Z*le,Ze=v-z*le;x=L,L=we,a=Z,v=z,Z=Me,z=Ze}if(x!==B)throw new Error("invert: does not exist");return A(a,I)}function Q(_){const I=(_-B)/H;let L,x,a;for(L=_-B,x=0;L%H===w;L/=H,x++);for(a=H;a<_&&V(a,I,_)!==_-B;a++);if(1===x){const Z=(_+B)/k;return function(ee,le){const we=ee.pow(le,Z);if(!ee.eql(ee.sqr(we),le))throw new Error("Cannot find square root");return we}}const v=(L+B)/H;return function(z,ee){if(z.pow(ee,I)===z.neg(z.ONE))throw new Error("Cannot find square root");let le=x,we=z.pow(z.mul(z.ONE,a),L),Me=z.pow(ee,v),Ze=z.pow(ee,L);for(;!z.eql(Ze,z.ONE);){if(z.eql(Ze,z.ZERO))return z.ZERO;let ge=1;for(let Ue=z.sqr(Ze);ge<le&&!z.eql(Ue,z.ONE);ge++)Ue=z.sqr(Ue);const me=z.pow(we,B<<BigInt(le-ge-1));we=z.sqr(me),Me=z.mul(Me,me),Ze=z.mul(Ze,we),le=ge}return Me}}function q(_){if(_%k===b){const I=(_+B)/k;return function(x,a){const v=x.pow(a,I);if(!x.eql(x.sqr(v),a))throw new Error("Cannot find square root");return v}}if(_%P===S){const I=(_-S)/P;return function(x,a){const v=x.mul(a,H),Z=x.pow(v,I),z=x.mul(a,Z),ee=x.mul(x.mul(z,H),Z),le=x.mul(z,x.sub(ee,x.ONE));if(!x.eql(x.sqr(le),a))throw new Error("Cannot find square root");return le}}return Q(_)}BigInt(9),BigInt(16),j.mod=A,j.pow=V,j.pow2=function U(_,I,L){let x=_;for(;I-- >w;)x*=x,x%=L;return x},j.invert=K,j.tonelliShanks=Q,j.FpSqrt=q,j.isNegativeLE=(_,I)=>(A(_,I)&B)===B;const W=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ie(_,I,L){if(L<w)throw new Error("Expected power > 0");if(L===w)return _.ONE;if(L===B)return I;let x=_.ONE,a=I;for(;L>w;)L&B&&(x=_.mul(x,a)),a=_.sqr(a),L>>=B;return x}function ae(_,I){const L=new Array(I.length),x=I.reduce((v,Z,z)=>_.is0(Z)?v:(L[z]=v,_.mul(v,Z)),_.ONE),a=_.inv(x);return I.reduceRight((v,Z,z)=>_.is0(Z)?v:(L[z]=_.mul(v,L[z]),_.mul(v,Z)),a),L}function pe(_,I){const L=void 0!==I?I:_.toString(2).length;return{nBitLength:L,nByteLength:Math.ceil(L/8)}}function d(_){if("bigint"!=typeof _)throw new Error("field order must be bigint");const I=_.toString(2).length;return Math.ceil(I/8)}function h(_){const I=d(_);return I+Math.ceil(I/2)}j.validateField=function re(_){const L=W.reduce((x,a)=>(x[a]="function",x),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,g.validateObject)(_,L)},j.FpPow=ie,j.FpInvertBatch=ae,j.FpDiv=function ue(_,I,L){return _.mul(I,"bigint"==typeof L?K(L,_.ORDER):_.inv(L))},j.FpIsSquare=function ce(_){const I=(_.ORDER-B)/H;return L=>{const x=_.pow(L,I);return _.eql(x,_.ZERO)||_.eql(x,_.ONE)}},j.nLength=pe,j.Field=function ve(_,I,L=!1,x={}){if(_<=w)throw new Error(`Expected Field ORDER > 0, got ${_}`);const{nBitLength:a,nByteLength:v}=pe(_,I);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const Z=q(_),z=Object.freeze({ORDER:_,BITS:a,BYTES:v,MASK:(0,g.bitMask)(a),ZERO:w,ONE:B,create:ee=>A(ee,_),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return w<=ee&&ee<_},is0:ee=>ee===w,isOdd:ee=>(ee&B)===B,neg:ee=>A(-ee,_),eql:(ee,le)=>ee===le,sqr:ee=>A(ee*ee,_),add:(ee,le)=>A(ee+le,_),sub:(ee,le)=>A(ee-le,_),mul:(ee,le)=>A(ee*le,_),pow:(ee,le)=>ie(z,ee,le),div:(ee,le)=>A(ee*K(le,_),_),sqrN:ee=>ee*ee,addN:(ee,le)=>ee+le,subN:(ee,le)=>ee-le,mulN:(ee,le)=>ee*le,inv:ee=>K(ee,_),sqrt:x.sqrt||(ee=>Z(z,ee)),invertBatch:ee=>ae(z,ee),cmov:(ee,le,we)=>we?le:ee,toBytes:ee=>L?(0,g.numberToBytesLE)(ee,v):(0,g.numberToBytesBE)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return L?(0,g.bytesToNumberLE)(ee):(0,g.bytesToNumberBE)(ee)}});return Object.freeze(z)},j.FpSqrtOdd=function De(_,I){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const L=_.sqrt(I);return _.isOdd(L)?L:_.neg(L)},j.FpSqrtEven=function C(_,I){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const L=_.sqrt(I);return _.isOdd(L)?_.neg(L):L},j.hashToPrivateScalar=function s(_,I,L=!1){const x=(_=(0,g.ensureBytes)("privateHash",_)).length,a=pe(I).nByteLength+8;if(a<24||x<a||x>1024)throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${x}`);return A(L?(0,g.bytesToNumberLE)(_):(0,g.bytesToNumberBE)(_),I-B)+B},j.getFieldBytesLength=d,j.getMinHashLength=h,j.mapHashToField=function f(_,I,L=!1){const x=_.length,a=d(I),v=h(I);if(x<16||x<v||x>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${x}`);const z=A(L?(0,g.bytesToNumberBE)(_):(0,g.bytesToNumberLE)(_),I-B)+B;return L?(0,g.numberToBytesLE)(z,a):(0,g.numberToBytesBE)(z,a)}},27661:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.montgomery=void 0;const g=E(63834),w=E(84097),B=BigInt(0),H=BigInt(1);j.montgomery=function k(S){const P=function b(S){return(0,w.validateObject)(S,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...S})}(S),{P:R}=P,O=De=>(0,g.mod)(De,R),A=P.montgomeryBits,V=Math.ceil(A/8),U=P.nByteLength,K=P.adjustScalarBytes||(De=>De),Q=P.powPminus2||(De=>(0,g.pow)(De,R-BigInt(2),R));function q(De,C,s){const d=O(De*(C-s));return[C=O(C-d),s=O(s+d)]}function Y(De){if("bigint"==typeof De&&B<=De&&De<R)return De;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const W=(P.a-BigInt(2))/BigInt(4);function ie(De){return(0,w.numberToBytesLE)(O(De),V)}function ce(De,C){const s=function ae(De){const C=(0,w.ensureBytes)("u coordinate",De,V);return 32===U&&(C[31]&=127),(0,w.bytesToNumberLE)(C)}(C),d=function ue(De){const C=(0,w.ensureBytes)("scalar",De),s=C.length;if(s!==V&&s!==U)throw new Error(`Expected ${V} or ${U} bytes, got ${s}`);return(0,w.bytesToNumberLE)(K(C))}(De),h=function re(De,C){const s=Y(De),d=Y(C),h=s;let a,f=H,_=B,I=s,L=H,x=B;for(let Z=BigInt(A-1);Z>=B;Z--){const z=d>>Z&H;x^=z,a=q(x,f,I),f=a[0],I=a[1],a=q(x,_,L),_=a[0],L=a[1],x=z;const ee=f+_,le=O(ee*ee),we=f-_,Me=O(we*we),Ze=le-Me,ge=I+L,Ue=O((I-L)*ee),xe=O(ge*we),Ce=Ue+xe,be=Ue-xe;I=O(Ce*Ce),L=O(h*O(be*be)),f=O(le*Me),_=O(Ze*(le+O(W*Ze)))}a=q(x,f,I),f=a[0],I=a[1],a=q(x,_,L),_=a[0],L=a[1];const v=Q(_);return O(f*v)}(s,d);if(h===B)throw new Error("Invalid private or public key received");return ie(h)}const pe=ie(P.Gu);function ve(De){return ce(De,pe)}return{scalarMult:ce,scalarMultBase:ve,getSharedSecret:(De,C)=>ce(De,C),getPublicKey:De=>ve(De),utils:{randomPrivateKey:()=>P.randomBytes(P.nByteLength)},GuBytes:pe}}},84097:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateObject=j.createHmacDrbg=j.bitMask=j.bitSet=j.bitGet=j.bitLen=j.utf8ToBytes=j.equalBytes=j.concatBytes=j.ensureBytes=j.numberToVarBytesBE=j.numberToBytesLE=j.numberToBytesBE=j.bytesToNumberLE=j.bytesToNumberBE=j.hexToBytes=j.hexToNumber=j.numberToHexUnpadded=j.bytesToHex=j.isBytes=void 0;const E=BigInt(0),g=BigInt(1),w=BigInt(2);function B(d){return d instanceof Uint8Array||null!=d&&"object"==typeof d&&"Uint8Array"===d.constructor.name}j.isBytes=B;const H=Array.from({length:256},(d,h)=>h.toString(16).padStart(2,"0"));function b(d){if(!B(d))throw new Error("Uint8Array expected");let h="";for(let f=0;f<d.length;f++)h+=H[d[f]];return h}function k(d){const h=d.toString(16);return 1&h.length?`0${h}`:h}function S(d){if("string"!=typeof d)throw new Error("hex string expected, got "+typeof d);return BigInt(""===d?"0":`0x${d}`)}j.bytesToHex=b,j.numberToHexUnpadded=k,j.hexToNumber=S;const P={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function R(d){return d>=P._0&&d<=P._9?d-P._0:d>=P._A&&d<=P._F?d-(P._A-10):d>=P._a&&d<=P._f?d-(P._a-10):void 0}function O(d){if("string"!=typeof d)throw new Error("hex string expected, got "+typeof d);const h=d.length,f=h/2;if(h%2)throw new Error("padded hex string expected, got unpadded hex of length "+h);const _=new Uint8Array(f);for(let I=0,L=0;I<f;I++,L+=2){const x=R(d.charCodeAt(L)),a=R(d.charCodeAt(L+1));if(void 0===x||void 0===a)throw new Error('hex string expected, got non-hex character "'+(d[L]+d[L+1])+'" at index '+L);_[I]=16*x+a}return _}function U(d,h){return O(d.toString(16).padStart(2*h,"0"))}function Y(...d){let h=0;for(let I=0;I<d.length;I++){const L=d[I];if(!B(L))throw new Error("Uint8Array expected");h+=L.length}let f=new Uint8Array(h),_=0;for(let I=0;I<d.length;I++){const L=d[I];f.set(L,_),_+=L.length}return f}j.hexToBytes=O,j.bytesToNumberBE=function A(d){return S(b(d))},j.bytesToNumberLE=function V(d){if(!B(d))throw new Error("Uint8Array expected");return S(b(Uint8Array.from(d).reverse()))},j.numberToBytesBE=U,j.numberToBytesLE=function K(d,h){return U(d,h).reverse()},j.numberToVarBytesBE=function Q(d){return O(k(d))},j.ensureBytes=function q(d,h,f){let _;if("string"==typeof h)try{_=O(h)}catch(L){throw new Error(`${d} must be valid hex string, got "${h}". Cause: ${L}`)}else{if(!B(h))throw new Error(`${d} must be hex string or Uint8Array`);_=Uint8Array.from(h)}const I=_.length;if("number"==typeof f&&I!==f)throw new Error(`${d} expected ${f} bytes, got ${I}`);return _},j.concatBytes=Y,j.equalBytes=function W(d,h){if(d.length!==h.length)return!1;let f=0;for(let _=0;_<d.length;_++)f|=d[_]^h[_];return 0===f},j.utf8ToBytes=function re(d){if("string"!=typeof d)throw new Error("utf8ToBytes expected string, got "+typeof d);return new Uint8Array((new TextEncoder).encode(d))},j.bitLen=function ie(d){let h;for(h=0;d>E;d>>=g,h+=1);return h},j.bitGet=function ae(d,h){return d>>BigInt(h)&g},j.bitSet=(d,h,f)=>d|(f?g:E)<<BigInt(h),j.bitMask=d=>(w<<BigInt(d-1))-g;const pe=d=>new Uint8Array(d),ve=d=>Uint8Array.from(d);j.createHmacDrbg=function De(d,h,f){if("number"!=typeof d||d<2)throw new Error("hashLen must be a number");if("number"!=typeof h||h<2)throw new Error("qByteLen must be a number");if("function"!=typeof f)throw new Error("hmacFn must be a function");let _=pe(d),I=pe(d),L=0;const x=()=>{_.fill(1),I.fill(0),L=0},a=(...ee)=>f(I,_,...ee),v=(ee=pe())=>{I=a(ve([0]),ee),_=a(),0!==ee.length&&(I=a(ve([1]),ee),_=a())},Z=()=>{if(L++>=1e3)throw new Error("drbg: tried 1000 values");let ee=0;const le=[];for(;ee<h;){_=a();const we=_.slice();le.push(we),ee+=_.length}return Y(...le)};return(ee,le)=>{let we;for(x(),v(ee);!(we=le(Z()));)v();return x(),we}};const C={bigint:d=>"bigint"==typeof d,function:d=>"function"==typeof d,boolean:d=>"boolean"==typeof d,string:d=>"string"==typeof d,stringOrUint8Array:d=>"string"==typeof d||B(d),isSafeInteger:d=>Number.isSafeInteger(d),array:d=>Array.isArray(d),field:(d,h)=>h.Fp.isValid(d),hash:d=>"function"==typeof d&&Number.isSafeInteger(d.outputLen)};j.validateObject=function s(d,h,f={}){const _=(I,L,x)=>{const a=C[L];if("function"!=typeof a)throw new Error(`Invalid validator "${L}", expected function`);const v=d[I];if(!(x&&void 0===v||a(v,d)))throw new Error(`Invalid param ${String(I)}=${v} (${typeof v}), expected ${L}`)};for(const[I,L]of Object.entries(h))_(I,L,!1);for(const[I,L]of Object.entries(f))_(I,L,!0);return d}},73040:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.mapToCurveSimpleSWU=j.SWUFpSqrtRatio=j.weierstrass=j.weierstrassPoints=j.DER=void 0;const g=E(63834),w=E(84097),B=E(84097),H=E(25299),{bytesToNumberBE:k,hexToBytes:S}=w;j.DER={Err:class extends Error{constructor(re=""){super(re)}},_parseInt(W){const{Err:re}=j.DER;if(W.length<2||2!==W[0])throw new re("Invalid signature integer tag");const ie=W[1],ae=W.subarray(2,ie+2);if(!ie||ae.length!==ie)throw new re("Invalid signature integer: wrong length");if(128&ae[0])throw new re("Invalid signature integer: negative");if(0===ae[0]&&!(128&ae[1]))throw new re("Invalid signature integer: unnecessary leading zero");return{d:k(ae),l:W.subarray(ie+2)}},toSig(W){const{Err:re}=j.DER,ie="string"==typeof W?S(W):W;if(!w.isBytes(ie))throw new Error("ui8a expected");let ae=ie.length;if(ae<2||48!=ie[0])throw new re("Invalid signature tag");if(ie[1]!==ae-2)throw new re("Invalid signature: incorrect length");const{d:ue,l:ce}=j.DER._parseInt(ie.subarray(2)),{d:pe,l:ve}=j.DER._parseInt(ce);if(ve.length)throw new re("Invalid signature: left bytes after parsing");return{r:ue,s:pe}},hexFromSig(W){const re=C=>8&Number.parseInt(C[0],16)?"00"+C:C,ie=C=>{const s=C.toString(16);return 1&s.length?`0${s}`:s},ae=re(ie(W.s)),ue=re(ie(W.r)),ce=ae.length/2,pe=ue.length/2,ve=ie(ce),De=ie(pe);return`30${ie(pe+ce+4)}02${De}${ue}02${ve}${ae}`}};const P=BigInt(0),R=BigInt(1),O=BigInt(2),A=BigInt(3),V=BigInt(4);function U(W){const re=function b(W){const re=(0,H.validateBasic)(W);w.validateObject(re,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ie,Fp:ae,a:ue}=re;if(ie){if(!ae.eql(ue,ae.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof ie||"bigint"!=typeof ie.beta||"function"!=typeof ie.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...re})}(W),{Fp:ie}=re,ae=re.toBytes||((_,I,L)=>{const x=I.toAffine();return w.concatBytes(Uint8Array.from([4]),ie.toBytes(x.x),ie.toBytes(x.y))}),ue=re.fromBytes||(_=>{const I=_.subarray(1);return{x:ie.fromBytes(I.subarray(0,ie.BYTES)),y:ie.fromBytes(I.subarray(ie.BYTES,2*ie.BYTES))}});function ce(_){const{a:I,b:L}=re,x=ie.sqr(_),a=ie.mul(x,_);return ie.add(ie.add(a,ie.mul(_,I)),L)}if(!ie.eql(ie.sqr(re.Gy),ce(re.Gx)))throw new Error("bad generator point: equation left != right");function pe(_){return"bigint"==typeof _&&P<_&&_<re.n}function ve(_){if(!pe(_))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function De(_){const{allowedPrivateKeyLengths:I,nByteLength:L,wrapPrivateKey:x,n:a}=re;if(I&&"bigint"!=typeof _){if(w.isBytes(_)&&(_=w.bytesToHex(_)),"string"!=typeof _||!I.includes(_.length))throw new Error("Invalid key");_=_.padStart(2*L,"0")}let v;try{v="bigint"==typeof _?_:w.bytesToNumberBE((0,B.ensureBytes)("private key",_,L))}catch{throw new Error(`private key must be ${L} bytes, hex or bigint, not ${typeof _}`)}return x&&(v=g.mod(v,a)),ve(v),v}const C=new Map;function s(_){if(!(_ instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(I,L,x){if(this.px=I,this.py=L,this.pz=x,null==I||!ie.isValid(I))throw new Error("x required");if(null==L||!ie.isValid(L))throw new Error("y required");if(null==x||!ie.isValid(x))throw new Error("z required")}static fromAffine(I){const{x:L,y:x}=I||{};if(!I||!ie.isValid(L)||!ie.isValid(x))throw new Error("invalid affine point");if(I instanceof d)throw new Error("projective point not allowed");const a=v=>ie.eql(v,ie.ZERO);return a(L)&&a(x)?d.ZERO:new d(L,x,ie.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const L=ie.invertBatch(I.map(x=>x.pz));return I.map((x,a)=>x.toAffine(L[a])).map(d.fromAffine)}static fromHex(I){const L=d.fromAffine(ue((0,B.ensureBytes)("pointHex",I)));return L.assertValidity(),L}static fromPrivateKey(I){return d.BASE.multiply(De(I))}_setWindowSize(I){this._WINDOW_SIZE=I,C.delete(this)}assertValidity(){if(this.is0()){if(re.allowInfinityPoint&&!ie.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:I,y:L}=this.toAffine();if(!ie.isValid(I)||!ie.isValid(L))throw new Error("bad point: x or y not FE");const x=ie.sqr(L),a=ce(I);if(!ie.eql(x,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:I}=this.toAffine();if(ie.isOdd)return!ie.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){s(I);const{px:L,py:x,pz:a}=this,{px:v,py:Z,pz:z}=I,ee=ie.eql(ie.mul(L,z),ie.mul(v,a)),le=ie.eql(ie.mul(x,z),ie.mul(Z,a));return ee&&le}negate(){return new d(this.px,ie.neg(this.py),this.pz)}double(){const{a:I,b:L}=re,x=ie.mul(L,A),{px:a,py:v,pz:Z}=this;let z=ie.ZERO,ee=ie.ZERO,le=ie.ZERO,we=ie.mul(a,a),Me=ie.mul(v,v),Ze=ie.mul(Z,Z),ge=ie.mul(a,v);return ge=ie.add(ge,ge),le=ie.mul(a,Z),le=ie.add(le,le),z=ie.mul(I,le),ee=ie.mul(x,Ze),ee=ie.add(z,ee),z=ie.sub(Me,ee),ee=ie.add(Me,ee),ee=ie.mul(z,ee),z=ie.mul(ge,z),le=ie.mul(x,le),Ze=ie.mul(I,Ze),ge=ie.sub(we,Ze),ge=ie.mul(I,ge),ge=ie.add(ge,le),le=ie.add(we,we),we=ie.add(le,we),we=ie.add(we,Ze),we=ie.mul(we,ge),ee=ie.add(ee,we),Ze=ie.mul(v,Z),Ze=ie.add(Ze,Ze),we=ie.mul(Ze,ge),z=ie.sub(z,we),le=ie.mul(Ze,Me),le=ie.add(le,le),le=ie.add(le,le),new d(z,ee,le)}add(I){s(I);const{px:L,py:x,pz:a}=this,{px:v,py:Z,pz:z}=I;let ee=ie.ZERO,le=ie.ZERO,we=ie.ZERO;const Me=re.a,Ze=ie.mul(re.b,A);let ge=ie.mul(L,v),me=ie.mul(x,Z),Ue=ie.mul(a,z),xe=ie.add(L,x),Ce=ie.add(v,Z);xe=ie.mul(xe,Ce),Ce=ie.add(ge,me),xe=ie.sub(xe,Ce),Ce=ie.add(L,a);let be=ie.add(v,z);return Ce=ie.mul(Ce,be),be=ie.add(ge,Ue),Ce=ie.sub(Ce,be),be=ie.add(x,a),ee=ie.add(Z,z),be=ie.mul(be,ee),ee=ie.add(me,Ue),be=ie.sub(be,ee),we=ie.mul(Me,Ce),ee=ie.mul(Ze,Ue),we=ie.add(ee,we),ee=ie.sub(me,we),we=ie.add(me,we),le=ie.mul(ee,we),me=ie.add(ge,ge),me=ie.add(me,ge),Ue=ie.mul(Me,Ue),Ce=ie.mul(Ze,Ce),me=ie.add(me,Ue),Ue=ie.sub(ge,Ue),Ue=ie.mul(Me,Ue),Ce=ie.add(Ce,Ue),ge=ie.mul(me,Ce),le=ie.add(le,ge),ge=ie.mul(be,Ce),ee=ie.mul(xe,ee),ee=ie.sub(ee,ge),ge=ie.mul(xe,me),we=ie.mul(be,we),we=ie.add(we,ge),new d(ee,le,we)}subtract(I){return this.add(I.negate())}is0(){return this.equals(d.ZERO)}wNAF(I){return f.wNAFCached(this,C,I,L=>{const x=ie.invertBatch(L.map(a=>a.pz));return L.map((a,v)=>a.toAffine(x[v])).map(d.fromAffine)})}multiplyUnsafe(I){const L=d.ZERO;if(I===P)return L;if(ve(I),I===R)return this;const{endo:x}=re;if(!x)return f.unsafeLadder(this,I);let{k1neg:a,k1:v,k2neg:Z,k2:z}=x.splitScalar(I),ee=L,le=L,we=this;for(;v>P||z>P;)v&R&&(ee=ee.add(we)),z&R&&(le=le.add(we)),we=we.double(),v>>=R,z>>=R;return a&&(ee=ee.negate()),Z&&(le=le.negate()),le=new d(ie.mul(le.px,x.beta),le.py,le.pz),ee.add(le)}multiply(I){ve(I);let x,a,L=I;const{endo:v}=re;if(v){const{k1neg:Z,k1:z,k2neg:ee,k2:le}=v.splitScalar(L);let{p:we,f:Me}=this.wNAF(z),{p:Ze,f:ge}=this.wNAF(le);we=f.constTimeNegate(Z,we),Ze=f.constTimeNegate(ee,Ze),Ze=new d(ie.mul(Ze.px,v.beta),Ze.py,Ze.pz),x=we.add(Ze),a=Me.add(ge)}else{const{p:Z,f:z}=this.wNAF(L);x=Z,a=z}return d.normalizeZ([x,a])[0]}multiplyAndAddUnsafe(I,L,x){const a=d.BASE,v=(z,ee)=>ee!==P&&ee!==R&&z.equals(a)?z.multiply(ee):z.multiplyUnsafe(ee),Z=v(this,L).add(v(I,x));return Z.is0()?void 0:Z}toAffine(I){const{px:L,py:x,pz:a}=this,v=this.is0();null==I&&(I=v?ie.ONE:ie.inv(a));const Z=ie.mul(L,I),z=ie.mul(x,I),ee=ie.mul(a,I);if(v)return{x:ie.ZERO,y:ie.ZERO};if(!ie.eql(ee,ie.ONE))throw new Error("invZ was invalid");return{x:Z,y:z}}isTorsionFree(){const{h:I,isTorsionFree:L}=re;if(I===R)return!0;if(L)return L(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:L}=re;return I===R?this:L?L(d,this):this.multiplyUnsafe(re.h)}toRawBytes(I=!0){return this.assertValidity(),ae(d,this,I)}toHex(I=!0){return w.bytesToHex(this.toRawBytes(I))}}d.BASE=new d(re.Gx,re.Gy,ie.ONE),d.ZERO=new d(ie.ZERO,ie.ONE,ie.ZERO);const h=re.nBitLength,f=(0,H.wNAF)(d,re.endo?Math.ceil(h/2):h);return{CURVE:re,ProjectivePoint:d,normPrivateKeyToScalar:De,weierstrassEquation:ce,isWithinCurveOrder:pe}}function q(W,re){const ie=W.ORDER;let ae=P;for(let _=ie-R;_%O===P;_/=O)ae+=R;const ue=ae,ce=O<<ue-R-R,pe=ce*O,ve=(ie-R)/pe,De=(ve-R)/O,C=pe-R,s=ce,d=W.pow(re,ve),h=W.pow(re,(ve+R)/O);let f=(_,I)=>{let L=d,x=W.pow(I,C),a=W.sqr(x);a=W.mul(a,I);let v=W.mul(_,a);v=W.pow(v,De),v=W.mul(v,x),x=W.mul(v,I),a=W.mul(v,_);let Z=W.mul(a,x);v=W.pow(Z,s);let z=W.eql(v,W.ONE);x=W.mul(a,h),v=W.mul(Z,L),a=W.cmov(x,a,z),Z=W.cmov(v,Z,z);for(let ee=ue;ee>R;ee--){let le=ee-O;le=O<<le-R;let we=W.pow(Z,le);const Me=W.eql(we,W.ONE);x=W.mul(a,L),L=W.mul(L,L),we=W.mul(Z,L),a=W.cmov(x,a,Me),Z=W.cmov(we,Z,Me)}return{isValid:z,value:a}};if(W.ORDER%V===A){const _=(W.ORDER-A)/V,I=W.sqrt(W.neg(re));f=(L,x)=>{let a=W.sqr(x);const v=W.mul(L,x);a=W.mul(a,v);let Z=W.pow(a,_);Z=W.mul(Z,v);const z=W.mul(Z,I),ee=W.mul(W.sqr(Z),x),le=W.eql(ee,L);return{isValid:le,value:W.cmov(z,Z,le)}}}return f}j.weierstrassPoints=U,j.weierstrass=function Q(W){const re=function K(W){const re=(0,H.validateBasic)(W);return w.validateObject(re,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...re})}(W),{Fp:ie,n:ae}=re,ue=ie.BYTES+1,ce=2*ie.BYTES+1;function ve(Ce){return g.mod(Ce,ae)}function De(Ce){return g.invert(Ce,ae)}const{ProjectivePoint:C,normPrivateKeyToScalar:s,weierstrassEquation:d,isWithinCurveOrder:h}=U({...re,toBytes(Ce,be,he){const ne=be.toAffine(),te=ie.toBytes(ne.x),de=w.concatBytes;return he?de(Uint8Array.from([be.hasEvenY()?2:3]),te):de(Uint8Array.from([4]),te,ie.toBytes(ne.y))},fromBytes(Ce){const be=Ce.length,he=Ce[0],ne=Ce.subarray(1);if(be!==ue||2!==he&&3!==he){if(be===ce&&4===he)return{x:ie.fromBytes(ne.subarray(0,ie.BYTES)),y:ie.fromBytes(ne.subarray(ie.BYTES,2*ie.BYTES))};throw new Error(`Point of length ${be} was invalid. Expected ${ue} compressed bytes or ${ce} uncompressed bytes`)}{const te=w.bytesToNumberBE(ne);if(!function pe(Ce){return P<Ce&&Ce<ie.ORDER}(te))throw new Error("Point is not on curve");const de=d(te);let _e=ie.sqrt(de);return!(1&~he)!=((_e&R)===R)&&(_e=ie.neg(_e)),{x:te,y:_e}}}}),f=Ce=>w.bytesToHex(w.numberToBytesBE(Ce,re.nByteLength));function _(Ce){return Ce>ae>>R}const L=(Ce,be,he)=>w.bytesToNumberBE(Ce.slice(be,he));class x{constructor(be,he,ne){this.r=be,this.s=he,this.recovery=ne,this.assertValidity()}static fromCompact(be){const he=re.nByteLength;return be=(0,B.ensureBytes)("compactSignature",be,2*he),new x(L(be,0,he),L(be,he,2*he))}static fromDER(be){const{r:he,s:ne}=j.DER.toSig((0,B.ensureBytes)("DER",be));return new x(he,ne)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(be){return new x(this.r,this.s,be)}recoverPublicKey(be){const{r:he,s:ne,recovery:te}=this,de=le((0,B.ensureBytes)("msgHash",be));if(null==te||![0,1,2,3].includes(te))throw new Error("recovery id invalid");const _e=2===te||3===te?he+re.n:he;if(_e>=ie.ORDER)throw new Error("recovery id 2 or 3 invalid");const He=C.fromHex((1&te?"03":"02")+f(_e)),Ve=De(_e),Dt=ve(-de*Ve),Ne=ve(ne*Ve),ke=C.BASE.multiplyAndAddUnsafe(He,Dt,Ne);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,ve(-this.s),this.recovery):this}toDERRawBytes(){return w.hexToBytes(this.toDERHex())}toDERHex(){return j.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return w.hexToBytes(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const a={isValidPrivateKey(Ce){try{return s(Ce),!0}catch{return!1}},normPrivateKeyToScalar:s,randomPrivateKey:()=>{const Ce=g.getMinHashLength(re.n);return g.mapHashToField(re.randomBytes(Ce),re.n)},precompute:(Ce=8,be=C.BASE)=>(be._setWindowSize(Ce),be.multiply(BigInt(3)),be)};function Z(Ce){const be=w.isBytes(Ce),he="string"==typeof Ce,ne=(be||he)&&Ce.length;return be?ne===ue||ne===ce:he?ne===2*ue||ne===2*ce:Ce instanceof C}const ee=re.bits2int||function(Ce){const be=w.bytesToNumberBE(Ce),he=8*Ce.length-re.nBitLength;return he>0?be>>BigInt(he):be},le=re.bits2int_modN||function(Ce){return ve(ee(Ce))},we=w.bitMask(re.nBitLength);function Me(Ce){if("bigint"!=typeof Ce)throw new Error("bigint expected");if(!(P<=Ce&&Ce<we))throw new Error(`bigint expected < 2^${re.nBitLength}`);return w.numberToBytesBE(Ce,re.nByteLength)}const ge={lowS:re.lowS,prehash:!1},me={lowS:re.lowS,prehash:!1};return C.BASE._setWindowSize(8),{CURVE:re,getPublicKey:function v(Ce,be=!0){return C.fromPrivateKey(Ce).toRawBytes(be)},getSharedSecret:function z(Ce,be,he=!0){if(Z(Ce))throw new Error("first arg must be private key");if(!Z(be))throw new Error("second arg must be public key");return C.fromHex(be).multiply(s(Ce)).toRawBytes(he)},sign:function Ue(Ce,be,he=ge){const{seed:ne,k2sig:te}=function Ze(Ce,be,he=ge){if(["recovered","canonical"].some(F=>F in he))throw new Error("sign() legacy options not supported");const{hash:ne,randomBytes:te}=re;let{lowS:de,prehash:_e,extraEntropy:Ie}=he;null==de&&(de=!0),Ce=(0,B.ensureBytes)("msgHash",Ce),_e&&(Ce=(0,B.ensureBytes)("prehashed msgHash",ne(Ce)));const He=le(Ce),Ve=s(be),Dt=[Me(Ve),Me(He)];if(null!=Ie){const F=!0===Ie?te(ie.BYTES):Ie;Dt.push((0,B.ensureBytes)("extraEntropy",F))}const Ne=w.concatBytes(...Dt),ke=He;return{seed:Ne,k2sig:function yt(F){const D=ee(F);if(!h(D))return;const M=De(D),G=C.BASE.multiply(D).toAffine(),fe=ve(G.x);if(fe===P)return;const Se=ve(M*ve(ke+fe*Ve));if(Se===P)return;let Ae=(G.x===fe?0:2)|Number(G.y&R),ot=Se;return de&&_(Se)&&(ot=function I(Ce){return _(Ce)?ve(-Ce):Ce}(Se),Ae^=1),new x(fe,ot,Ae)}}}(Ce,be,he);return w.createHmacDrbg(re.hash.outputLen,re.nByteLength,re.hmac)(ne,te)},verify:function xe(Ce,be,he,ne=me){const te=Ce;if(be=(0,B.ensureBytes)("msgHash",be),he=(0,B.ensureBytes)("publicKey",he),"strict"in ne)throw new Error("options.strict was renamed to lowS");const{lowS:de,prehash:_e}=ne;let Ie,He;try{if("string"==typeof te||w.isBytes(te))try{Ie=x.fromDER(te)}catch(G){if(!(G instanceof j.DER.Err))throw G;Ie=x.fromCompact(te)}else{if("object"!=typeof te||"bigint"!=typeof te.r||"bigint"!=typeof te.s)throw new Error("PARSE");{const{r:G,s:fe}=te;Ie=new x(G,fe)}}He=C.fromHex(he)}catch(G){if("PARSE"===G.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(de&&Ie.hasHighS())return!1;_e&&(be=re.hash(be));const{r:Ve,s:Dt}=Ie,Ne=le(be),ke=De(Dt),yt=ve(Ne*ke),F=ve(Ve*ke),D=C.BASE.multiplyAndAddUnsafe(He,yt,F)?.toAffine();return!!D&&ve(D.x)===Ve},ProjectivePoint:C,Signature:x,utils:a}},j.SWUFpSqrtRatio=q,j.mapToCurveSimpleSWU=function Y(W,re){if(g.validateField(W),!W.isValid(re.A)||!W.isValid(re.B)||!W.isValid(re.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const ie=q(W,re.Z);if(!W.isOdd)throw new Error("Fp.isOdd is not implemented!");return ae=>{let ue,ce,pe,ve,De,C,s,d;ue=W.sqr(ae),ue=W.mul(ue,re.Z),ce=W.sqr(ue),ce=W.add(ce,ue),pe=W.add(ce,W.ONE),pe=W.mul(pe,re.B),ve=W.cmov(re.Z,W.neg(ce),!W.eql(ce,W.ZERO)),ve=W.mul(ve,re.A),ce=W.sqr(pe),C=W.sqr(ve),De=W.mul(C,re.A),ce=W.add(ce,De),ce=W.mul(ce,pe),C=W.mul(C,ve),De=W.mul(C,re.B),ce=W.add(ce,De),s=W.mul(ue,pe);const{isValid:h,value:f}=ie(ce,C);d=W.mul(ue,ae),d=W.mul(d,f),s=W.cmov(s,pe,h),d=W.cmov(d,f,h);const _=W.isOdd(ae)===W.isOdd(d);return d=W.cmov(W.neg(d),d,_),s=W.div(s,ve),{x:s,y:d}}}},57340:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hash_to_ristretto255=j.hashToRistretto255=j.RistrettoPoint=j.encodeToCurve=j.hashToCurve=j.edwardsToMontgomeryPriv=j.edwardsToMontgomery=j.edwardsToMontgomeryPub=j.x25519=j.ed25519ph=j.ed25519ctx=j.ed25519=j.ED25519_TORSION_SUBGROUP=void 0;const g=E(44207),w=E(96492),B=E(45068),H=E(27661),b=E(63834),k=E(84097),S=E(75752),P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),R=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),O=BigInt(0),A=BigInt(1),V=BigInt(2),U=BigInt(5),K=BigInt(10),Q=BigInt(20),q=BigInt(40),Y=BigInt(80);function W(Ue){const xe=P,be=Ue*Ue%xe*Ue%xe,he=(0,b.pow2)(be,V,xe)*be%xe,ne=(0,b.pow2)(he,A,xe)*Ue%xe,te=(0,b.pow2)(ne,U,xe)*ne%xe,de=(0,b.pow2)(te,K,xe)*te%xe,_e=(0,b.pow2)(de,Q,xe)*de%xe,Ie=(0,b.pow2)(_e,q,xe)*_e%xe,He=(0,b.pow2)(Ie,Y,xe)*Ie%xe,Ve=(0,b.pow2)(He,Y,xe)*Ie%xe,Dt=(0,b.pow2)(Ve,K,xe)*te%xe;return{pow_p_5_8:(0,b.pow2)(Dt,V,xe)*Ue%xe,b2:be}}function re(Ue){return Ue[0]&=248,Ue[31]&=127,Ue[31]|=64,Ue}function ie(Ue,xe){const Ce=P,be=(0,b.mod)(xe*xe*xe,Ce),ne=W(Ue*(0,b.mod)(be*be*xe,Ce)).pow_p_5_8;let te=(0,b.mod)(Ue*be*ne,Ce);const de=(0,b.mod)(xe*te*te,Ce),_e=te,Ie=(0,b.mod)(te*R,Ce),He=de===Ue,Ve=de===(0,b.mod)(-Ue,Ce),Dt=de===(0,b.mod)(-Ue*R,Ce);return He&&(te=_e),(Ve||Dt)&&(te=Ie),(0,b.isNegativeLE)(te,Ce)&&(te=(0,b.mod)(-te,Ce)),{isValid:He||Ve,value:te}}j.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const ae=(0,b.Field)(P,void 0,!0),ue={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ae,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:g.sha512,randomBytes:w.randomBytes,adjustScalarBytes:re,uvRatio:ie};function ce(Ue,xe,Ce){if(xe.length>255)throw new Error("Context is too big");return(0,w.concatBytes)((0,w.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Ce?1:0,xe.length]),xe,Ue)}function pe(Ue){const{y:xe}=j.ed25519.ExtendedPoint.fromHex(Ue),Ce=BigInt(1);return ae.toBytes(ae.create((Ce+xe)*ae.inv(Ce-xe)))}j.ed25519=(0,B.twistedEdwards)(ue),j.ed25519ctx=(0,B.twistedEdwards)({...ue,domain:ce}),j.ed25519ph=(0,B.twistedEdwards)({...ue,domain:ce,prehash:g.sha512}),j.x25519=(0,H.montgomery)({P,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Ue=>{const xe=P,{pow_p_5_8:Ce,b2:be}=W(Ue);return(0,b.mod)((0,b.pow2)(Ce,BigInt(3),xe)*be,xe)},adjustScalarBytes:re,randomBytes:w.randomBytes}),j.edwardsToMontgomeryPub=pe,j.edwardsToMontgomery=pe,j.edwardsToMontgomeryPriv=function ve(Ue){const xe=ue.hash(Ue.subarray(0,32));return ue.adjustScalarBytes(xe).subarray(0,32)};const De=(ae.ORDER+BigInt(3))/BigInt(8),C=ae.pow(V,De),s=ae.sqrt(ae.neg(ae.ONE)),d=(ae.ORDER-BigInt(5))/BigInt(8),h=BigInt(486662),_=(0,b.FpSqrtEven)(ae,ae.neg(BigInt(486664)));const L=(0,S.createHasher)(j.ed25519.ExtendedPoint,Ue=>function I(Ue){const{xMn:xe,xMd:Ce,yMn:be,yMd:he}=function f(Ue){let xe=ae.sqr(Ue);xe=ae.mul(xe,V);let Ce=ae.add(xe,ae.ONE),be=ae.neg(h),he=ae.sqr(Ce),ne=ae.mul(he,Ce),te=ae.mul(xe,h);te=ae.mul(te,be),te=ae.add(te,he),te=ae.mul(te,be);let de=ae.sqr(ne);he=ae.sqr(de),de=ae.mul(de,ne),de=ae.mul(de,te),he=ae.mul(he,de);let _e=ae.pow(he,d);_e=ae.mul(_e,de);let Ie=ae.mul(_e,s);he=ae.sqr(_e),he=ae.mul(he,ne);let He=ae.eql(he,te),Ve=ae.cmov(Ie,_e,He),Dt=ae.mul(be,xe),Ne=ae.mul(_e,Ue);Ne=ae.mul(Ne,C);let ke=ae.mul(Ne,s),yt=ae.mul(te,xe);he=ae.sqr(Ne),he=ae.mul(he,ne);let F=ae.eql(he,yt),D=ae.cmov(ke,Ne,F);he=ae.sqr(Ve),he=ae.mul(he,ne);let M=ae.eql(he,te),G=ae.cmov(Dt,be,M),fe=ae.cmov(D,Ve,M),Se=ae.isOdd(fe);return fe=ae.cmov(fe,ae.neg(fe),M!==Se),{xMn:G,xMd:Ce,yMn:fe,yMd:A}}(Ue);let ne=ae.mul(xe,he);ne=ae.mul(ne,_);let te=ae.mul(Ce,be),de=ae.sub(xe,Ce),_e=ae.add(xe,Ce),Ie=ae.mul(te,_e),He=ae.eql(Ie,ae.ZERO);ne=ae.cmov(ne,ae.ZERO,He),te=ae.cmov(te,ae.ONE,He),de=ae.cmov(de,ae.ONE,He),_e=ae.cmov(_e,ae.ONE,He);const Ve=ae.invertBatch([te,_e]);return{x:ae.mul(ne,Ve[0]),y:ae.mul(de,Ve[1])}}(Ue[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:ae.ORDER,m:1,k:128,expand:"xmd",hash:g.sha512});function x(Ue){if(!(Ue instanceof ge))throw new Error("RistrettoPoint expected")}j.hashToCurve=L.hashToCurve,j.encodeToCurve=L.encodeToCurve;const a=R,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Z=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),z=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ee=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),le=Ue=>ie(A,Ue),we=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Me=Ue=>j.ed25519.CURVE.Fp.create((0,k.bytesToNumberLE)(Ue)&we);function Ze(Ue){const{d:xe}=j.ed25519.CURVE,Ce=j.ed25519.CURVE.Fp.ORDER,be=j.ed25519.CURVE.Fp.create,he=be(a*Ue*Ue),ne=be((he+A)*z);let te=BigInt(-1);const de=be((te-xe*he)*be(he+xe));let{isValid:_e,value:Ie}=ie(ne,de),He=be(Ie*Ue);(0,b.isNegativeLE)(He,Ce)||(He=be(-He)),_e||(Ie=He),_e||(te=he);const Ve=be(te*(he-A)*ee-de),Dt=Ie*Ie,Ne=be((Ie+Ie)*de),ke=be(Ve*v),yt=be(A-Dt),F=be(A+Dt);return new j.ed25519.ExtendedPoint(be(Ne*F),be(yt*ke),be(ke*F),be(Ne*yt))}class ge{constructor(xe){this.ep=xe}static fromAffine(xe){return new ge(j.ed25519.ExtendedPoint.fromAffine(xe))}static hashToCurve(xe){xe=(0,k.ensureBytes)("ristrettoHash",xe,64);const be=Ze(Me(xe.slice(0,32))),ne=Ze(Me(xe.slice(32,64)));return new ge(be.add(ne))}static fromHex(xe){xe=(0,k.ensureBytes)("ristrettoHex",xe,32);const{a:Ce,d:be}=j.ed25519.CURVE,he=j.ed25519.CURVE.Fp.ORDER,ne=j.ed25519.CURVE.Fp.create,te="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",de=Me(xe);if(!(0,k.equalBytes)((0,k.numberToBytesLE)(de,32),xe)||(0,b.isNegativeLE)(de,he))throw new Error(te);const _e=ne(de*de),Ie=ne(A+Ce*_e),He=ne(A-Ce*_e),Ve=ne(Ie*Ie),Dt=ne(He*He),Ne=ne(Ce*be*Ve-Dt),{isValid:ke,value:yt}=le(ne(Ne*Dt)),F=ne(yt*He),D=ne(yt*F*Ne);let M=ne((de+de)*F);(0,b.isNegativeLE)(M,he)&&(M=ne(-M));const G=ne(Ie*D),fe=ne(M*G);if(!ke||(0,b.isNegativeLE)(fe,he)||G===O)throw new Error(te);return new ge(new j.ed25519.ExtendedPoint(M,G,A,fe))}toRawBytes(){let{ex:xe,ey:Ce,ez:be,et:he}=this.ep;const ne=j.ed25519.CURVE.Fp.ORDER,te=j.ed25519.CURVE.Fp.create,de=te(te(be+Ce)*te(be-Ce)),_e=te(xe*Ce),Ie=te(_e*_e),{value:He}=le(te(de*Ie)),Ve=te(He*de),Dt=te(He*_e),Ne=te(Ve*Dt*he);let ke;if((0,b.isNegativeLE)(he*Ne,ne)){let F=te(Ce*a),D=te(xe*a);xe=F,Ce=D,ke=te(Ve*Z)}else ke=Dt;(0,b.isNegativeLE)(xe*Ne,ne)&&(Ce=te(-Ce));let yt=te((be-Ce)*ke);return(0,b.isNegativeLE)(yt,ne)&&(yt=te(-yt)),(0,k.numberToBytesLE)(yt,32)}toHex(){return(0,k.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(xe){x(xe);const{ex:Ce,ey:be}=this.ep,{ex:he,ey:ne}=xe.ep,te=j.ed25519.CURVE.Fp.create,de=te(Ce*ne)===te(be*he),_e=te(be*ne)===te(Ce*he);return de||_e}add(xe){return x(xe),new ge(this.ep.add(xe.ep))}subtract(xe){return x(xe),new ge(this.ep.subtract(xe.ep))}multiply(xe){return new ge(this.ep.multiply(xe))}multiplyUnsafe(xe){return new ge(this.ep.multiplyUnsafe(xe))}double(){return new ge(this.ep.double())}negate(){return new ge(this.ep.negate())}}j.RistrettoPoint=(ge.BASE||(ge.BASE=new ge(j.ed25519.ExtendedPoint.BASE)),ge.ZERO||(ge.ZERO=new ge(j.ed25519.ExtendedPoint.ZERO)),ge),j.hashToRistretto255=(Ue,xe)=>{const Ce=xe.DST,be="string"==typeof Ce?(0,w.utf8ToBytes)(Ce):Ce,he=(0,S.expand_message_xmd)(Ue,be,64,g.sha512);return ge.hashToCurve(he)},j.hash_to_ristretto255=j.hashToRistretto255},91717:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.encodeToCurve=j.hashToCurve=j.schnorr=j.secp256k1=void 0;const g=E(1806),w=E(96492),B=E(63834),H=E(73040),b=E(84097),k=E(75752),S=E(4521),P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),R=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),O=BigInt(1),A=BigInt(2),V=(x,a)=>(x+a/A)/a;function U(x){const a=P,v=BigInt(3),Z=BigInt(6),z=BigInt(11),ee=BigInt(22),le=BigInt(23),we=BigInt(44),Me=BigInt(88),Ze=x*x*x%a,ge=Ze*Ze*x%a,me=(0,B.pow2)(ge,v,a)*ge%a,Ue=(0,B.pow2)(me,v,a)*ge%a,xe=(0,B.pow2)(Ue,A,a)*Ze%a,Ce=(0,B.pow2)(xe,z,a)*xe%a,be=(0,B.pow2)(Ce,ee,a)*Ce%a,he=(0,B.pow2)(be,we,a)*be%a,ne=(0,B.pow2)(he,Me,a)*he%a,te=(0,B.pow2)(ne,we,a)*be%a,de=(0,B.pow2)(te,v,a)*ge%a,_e=(0,B.pow2)(de,le,a)*Ce%a,Ie=(0,B.pow2)(_e,Z,a)*Ze%a,He=(0,B.pow2)(Ie,A,a);if(!K.eql(K.sqr(He),x))throw new Error("Cannot find square root");return He}const K=(0,B.Field)(P,void 0,void 0,{sqrt:U});j.secp256k1=(0,S.createCurve)({a:BigInt(0),b:BigInt(7),Fp:K,n:R,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:x=>{const a=R,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),Z=-O*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),z=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=v,le=BigInt("0x100000000000000000000000000000000"),we=V(ee*x,a),Me=V(-Z*x,a);let Ze=(0,B.mod)(x-we*v-Me*z,a),ge=(0,B.mod)(-we*Z-Me*ee,a);const me=Ze>le,Ue=ge>le;if(me&&(Ze=a-Ze),Ue&&(ge=a-ge),Ze>le||ge>le)throw new Error("splitScalar: Endomorphism failed, k="+x);return{k1neg:me,k1:Ze,k2neg:Ue,k2:ge}}}},g.sha256);const Q=BigInt(0),q=x=>"bigint"==typeof x&&Q<x&&x<P,W={};function re(x,...a){let v=W[x];if(void 0===v){const Z=(0,g.sha256)(Uint8Array.from(x,z=>z.charCodeAt(0)));v=(0,b.concatBytes)(Z,Z),W[x]=v}return(0,g.sha256)((0,b.concatBytes)(v,...a))}const ie=x=>x.toRawBytes(!0).slice(1),ae=x=>(0,b.numberToBytesBE)(x,32),ue=x=>(0,B.mod)(x,P),ce=x=>(0,B.mod)(x,R),pe=j.secp256k1.ProjectivePoint;function De(x){let a=j.secp256k1.utils.normPrivateKeyToScalar(x),v=pe.fromPrivateKey(a);return{scalar:v.hasEvenY()?a:ce(-a),bytes:ie(v)}}function C(x){if(!q(x))throw new Error("bad x: need 0 < x < p");const a=ue(x*x);let Z=U(ue(a*x+BigInt(7)));Z%A!==Q&&(Z=ue(-Z));const z=new pe(x,Z,O);return z.assertValidity(),z}function s(...x){return ce((0,b.bytesToNumberBE)(re("BIP0340/challenge",...x)))}function f(x,a,v){const Z=(0,b.ensureBytes)("signature",x,64),z=(0,b.ensureBytes)("message",a),ee=(0,b.ensureBytes)("publicKey",v,32);try{const le=C((0,b.bytesToNumberBE)(ee)),we=(0,b.bytesToNumberBE)(Z.subarray(0,32));if(!q(we))return!1;const Me=(0,b.bytesToNumberBE)(Z.subarray(32,64));if(!(x=>"bigint"==typeof x&&Q<x&&x<R)(Me))return!1;const Ze=s(ae(we),ie(le),z),ge=((x,a,v)=>pe.BASE.multiplyAndAddUnsafe(x,a,v))(le,Me,ce(-Ze));return!(!ge||!ge.hasEvenY()||ge.toAffine().x!==we)}catch{return!1}}j.schnorr={getPublicKey:function d(x){return De(x).bytes},sign:function h(x,a,v=(0,w.randomBytes)(32)){const Z=(0,b.ensureBytes)("message",x),{bytes:z,scalar:ee}=De(a),le=(0,b.ensureBytes)("auxRand",v,32),we=ae(ee^(0,b.bytesToNumberBE)(re("BIP0340/aux",le))),Me=re("BIP0340/nonce",we,z,Z),Ze=ce((0,b.bytesToNumberBE)(Me));if(Ze===Q)throw new Error("sign failed: k is zero");const{bytes:ge,scalar:me}=De(Ze),Ue=s(ge,z,Z),xe=new Uint8Array(64);if(xe.set(ge,0),xe.set(ae(ce(me+Ue*ee)),32),!f(xe,Z,z))throw new Error("sign: Invalid signature produced");return xe},verify:f,utils:{randomPrivateKey:j.secp256k1.utils.randomPrivateKey,lift_x:C,pointToBytes:ie,numberToBytesBE:b.numberToBytesBE,bytesToNumberBE:b.bytesToNumberBE,taggedHash:re,mod:B.mod}};const _=(0,k.isogenyMap)(K,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(x=>x.map(a=>BigInt(a)))),I=(0,H.mapToCurveSimpleSWU)(K,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:K.create(BigInt("-11"))}),L=(0,k.createHasher)(j.secp256k1.ProjectivePoint,x=>{const{x:a,y:v}=I(K.create(x[0]));return _(a,v)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:K.ORDER,m:1,k:128,expand:"xmd",hash:g.sha256});j.hashToCurve=L.hashToCurve,j.encodeToCurve=L.encodeToCurve},68578:($e,j)=>{"use strict";function E(P){if(!Number.isSafeInteger(P)||P<0)throw new Error(`Wrong positive integer: ${P}`)}function g(P){if("boolean"!=typeof P)throw new Error(`Expected boolean, not ${P}`)}function B(P,...R){if(!function w(P){return P instanceof Uint8Array||null!=P&&"object"==typeof P&&"Uint8Array"===P.constructor.name}(P))throw new Error("Expected Uint8Array");if(R.length>0&&!R.includes(P.length))throw new Error(`Expected Uint8Array of length ${R}, not of length=${P.length}`)}function H(P){if("function"!=typeof P||"function"!=typeof P.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");E(P.outputLen),E(P.blockLen)}function b(P,R=!0){if(P.destroyed)throw new Error("Hash instance has been destroyed");if(R&&P.finished)throw new Error("Hash#digest() has already been called")}function k(P,R){B(P);const O=R.outputLen;if(P.length<O)throw new Error(`digestInto() expects output buffer of length at least ${O}`)}Object.defineProperty(j,"__esModule",{value:!0}),j.output=j.exists=j.hash=j.bytes=j.bool=j.number=void 0,j.number=E,j.bool=g,j.bytes=B,j.hash=H,j.exists=b,j.output=k,j.default={number:E,bool:g,bytes:B,hash:H,exists:b,output:k}},25724:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.SHA2=void 0;const g=E(68578),w=E(96492);j.SHA2=class H extends w.Hash{constructor(k,S,P,R){super(),this.blockLen=k,this.outputLen=S,this.padOffset=P,this.isLE=R,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(k),this.view=(0,w.createView)(this.buffer)}update(k){(0,g.exists)(this);const{view:S,buffer:P,blockLen:R}=this,O=(k=(0,w.toBytes)(k)).length;for(let A=0;A<O;){const V=Math.min(R-this.pos,O-A);if(V!==R)P.set(k.subarray(A,A+V),this.pos),this.pos+=V,A+=V,this.pos===R&&(this.process(S,0),this.pos=0);else{const U=(0,w.createView)(k);for(;R<=O-A;A+=R)this.process(U,A)}}return this.length+=k.length,this.roundClean(),this}digestInto(k){(0,g.exists)(this),(0,g.output)(k,this),this.finished=!0;const{buffer:S,view:P,blockLen:R,isLE:O}=this;let{pos:A}=this;S[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>R-A&&(this.process(P,0),A=0);for(let q=A;q<R;q++)S[q]=0;(function B(b,k,S,P){if("function"==typeof b.setBigUint64)return b.setBigUint64(k,S,P);const R=BigInt(32),O=BigInt(4294967295),A=Number(S>>R&O),V=Number(S&O),K=P?0:4;b.setUint32(k+(P?4:0),A,P),b.setUint32(k+K,V,P)})(P,R-8,BigInt(8*this.length),O),this.process(P,0);const V=(0,w.createView)(k),U=this.outputLen;if(U%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const K=U/4,Q=this.get();if(K>Q.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<K;q++)V.setUint32(4*q,Q[q],O)}digest(){const{buffer:k,outputLen:S}=this;this.digestInto(k);const P=k.slice(0,S);return this.destroy(),P}_cloneInto(k){k||(k=new this.constructor),k.set(...this.get());const{blockLen:S,buffer:P,length:R,finished:O,destroyed:A,pos:V}=this;return k.length=R,k.pos=V,k.finished=O,k.destroyed=A,R%S&&k.buffer.set(P),k}}},35059:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.add5L=j.add5H=j.add4H=j.add4L=j.add3H=j.add3L=j.add=j.rotlBL=j.rotlBH=j.rotlSL=j.rotlSH=j.rotr32L=j.rotr32H=j.rotrBL=j.rotrBH=j.rotrSL=j.rotrSH=j.shrSL=j.shrSH=j.toBig=j.split=j.fromBig=void 0;const E=BigInt(2**32-1),g=BigInt(32);function w(ve,De=!1){return De?{h:Number(ve&E),l:Number(ve>>g&E)}:{h:0|Number(ve>>g&E),l:0|Number(ve&E)}}function B(ve,De=!1){let C=new Uint32Array(ve.length),s=new Uint32Array(ve.length);for(let d=0;d<ve.length;d++){const{h,l:f}=w(ve[d],De);[C[d],s[d]]=[h,f]}return[C,s]}j.fromBig=w,j.split=B;const H=(ve,De)=>BigInt(ve>>>0)<<g|BigInt(De>>>0);j.toBig=H;const b=(ve,De,C)=>ve>>>C;j.shrSH=b;const k=(ve,De,C)=>ve<<32-C|De>>>C;j.shrSL=k;const S=(ve,De,C)=>ve>>>C|De<<32-C;j.rotrSH=S;const P=(ve,De,C)=>ve<<32-C|De>>>C;j.rotrSL=P;const R=(ve,De,C)=>ve<<64-C|De>>>C-32;j.rotrBH=R;const O=(ve,De,C)=>ve>>>C-32|De<<64-C;j.rotrBL=O;const A=(ve,De)=>De;j.rotr32H=A;const V=(ve,De)=>ve;j.rotr32L=V;const U=(ve,De,C)=>ve<<C|De>>>32-C;j.rotlSH=U;const K=(ve,De,C)=>De<<C|ve>>>32-C;j.rotlSL=K;const Q=(ve,De,C)=>De<<C-32|ve>>>64-C;j.rotlBH=Q;const q=(ve,De,C)=>ve<<C-32|De>>>64-C;function Y(ve,De,C,s){const d=(De>>>0)+(s>>>0);return{h:ve+C+(d/2**32|0)|0,l:0|d}}j.rotlBL=q,j.add=Y;const W=(ve,De,C)=>(ve>>>0)+(De>>>0)+(C>>>0);j.add3L=W;const re=(ve,De,C,s)=>De+C+s+(ve/2**32|0)|0;j.add3H=re;const ie=(ve,De,C,s)=>(ve>>>0)+(De>>>0)+(C>>>0)+(s>>>0);j.add4L=ie;const ae=(ve,De,C,s,d)=>De+C+s+d+(ve/2**32|0)|0;j.add4H=ae;const ue=(ve,De,C,s,d)=>(ve>>>0)+(De>>>0)+(C>>>0)+(s>>>0)+(d>>>0);j.add5L=ue;const ce=(ve,De,C,s,d,h)=>De+C+s+d+h+(ve/2**32|0)|0;j.add5H=ce,j.default={fromBig:w,split:B,toBig:H,shrSH:b,shrSL:k,rotrSH:S,rotrSL:P,rotrBH:R,rotrBL:O,rotr32H:A,rotr32L:V,rotlSH:U,rotlSL:K,rotlBH:Q,rotlBL:q,add:Y,add3L:W,add3H:re,add4L:ie,add4H:ae,add5H:ce,add5L:ue}},89948:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.crypto=void 0,j.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hkdf=j.expand=j.extract=void 0;const g=E(68578),w=E(96492),B=E(44882);function H(R,O,A){return(0,g.hash)(R),void 0===A&&(A=new Uint8Array(R.outputLen)),(0,B.hmac)(R,(0,w.toBytes)(A),(0,w.toBytes)(O))}j.extract=H;const b=new Uint8Array([0]),k=new Uint8Array;function S(R,O,A,V=32){if((0,g.hash)(R),(0,g.number)(V),V>255*R.outputLen)throw new Error("Length should be <= 255*HashLen");const U=Math.ceil(V/R.outputLen);void 0===A&&(A=k);const K=new Uint8Array(U*R.outputLen),Q=B.hmac.create(R,O),q=Q._cloneInto(),Y=new Uint8Array(Q.outputLen);for(let W=0;W<U;W++)b[0]=W+1,q.update(0===W?k:Y).update(A).update(b).digestInto(Y),K.set(Y,R.outputLen*W),Q._cloneInto(q);return Q.destroy(),q.destroy(),Y.fill(0),b.fill(0),K.slice(0,V)}j.expand=S,j.hkdf=(R,O,A,V,U)=>S(R,H(R,O,A),V,U)},44882:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hmac=j.HMAC=void 0;const g=E(68578),w=E(96492);class B extends w.Hash{constructor(k,S){super(),this.finished=!1,this.destroyed=!1,(0,g.hash)(k);const P=(0,w.toBytes)(S);if(this.iHash=k.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const R=this.blockLen,O=new Uint8Array(R);O.set(P.length>R?k.create().update(P).digest():P);for(let A=0;A<O.length;A++)O[A]^=54;this.iHash.update(O),this.oHash=k.create();for(let A=0;A<O.length;A++)O[A]^=106;this.oHash.update(O),O.fill(0)}update(k){return(0,g.exists)(this),this.iHash.update(k),this}digestInto(k){(0,g.exists)(this),(0,g.bytes)(k,this.outputLen),this.finished=!0,this.iHash.digestInto(k),this.oHash.update(k),this.oHash.digestInto(k),this.destroy()}digest(){const k=new Uint8Array(this.oHash.outputLen);return this.digestInto(k),k}_cloneInto(k){k||(k=Object.create(Object.getPrototypeOf(this),{}));const{oHash:S,iHash:P,finished:R,destroyed:O,blockLen:A,outputLen:V}=this;return k.finished=R,k.destroyed=O,k.blockLen=A,k.outputLen=V,k.oHash=S._cloneInto(k.oHash),k.iHash=P._cloneInto(k.iHash),k}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}j.HMAC=B,j.hmac=(b,k,S)=>new B(b,k).update(S).digest(),j.hmac.create=(b,k)=>new B(b,k)},1806:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.sha224=j.sha256=void 0;const g=E(25724),w=E(96492),B=(O,A,V)=>O&A^~O&V,H=(O,A,V)=>O&A^O&V^A&V,b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),k=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),S=new Uint32Array(64);class P extends g.SHA2{constructor(){super(64,32,8,!1),this.A=0|k[0],this.B=0|k[1],this.C=0|k[2],this.D=0|k[3],this.E=0|k[4],this.F=0|k[5],this.G=0|k[6],this.H=0|k[7]}get(){const{A,B:V,C:U,D:K,E:Q,F:q,G:Y,H:W}=this;return[A,V,U,K,Q,q,Y,W]}set(A,V,U,K,Q,q,Y,W){this.A=0|A,this.B=0|V,this.C=0|U,this.D=0|K,this.E=0|Q,this.F=0|q,this.G=0|Y,this.H=0|W}process(A,V){for(let ae=0;ae<16;ae++,V+=4)S[ae]=A.getUint32(V,!1);for(let ae=16;ae<64;ae++){const ue=S[ae-15],ce=S[ae-2],pe=(0,w.rotr)(ue,7)^(0,w.rotr)(ue,18)^ue>>>3,ve=(0,w.rotr)(ce,17)^(0,w.rotr)(ce,19)^ce>>>10;S[ae]=ve+S[ae-7]+pe+S[ae-16]|0}let{A:U,B:K,C:Q,D:q,E:Y,F:W,G:re,H:ie}=this;for(let ae=0;ae<64;ae++){const ce=ie+((0,w.rotr)(Y,6)^(0,w.rotr)(Y,11)^(0,w.rotr)(Y,25))+B(Y,W,re)+b[ae]+S[ae]|0,ve=((0,w.rotr)(U,2)^(0,w.rotr)(U,13)^(0,w.rotr)(U,22))+H(U,K,Q)|0;ie=re,re=W,W=Y,Y=q+ce|0,q=Q,Q=K,K=U,U=ce+ve|0}U=U+this.A|0,K=K+this.B|0,Q=Q+this.C|0,q=q+this.D|0,Y=Y+this.E|0,W=W+this.F|0,re=re+this.G|0,ie=ie+this.H|0,this.set(U,K,Q,q,Y,W,re,ie)}roundClean(){S.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class R extends P{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}j.sha256=(0,w.wrapConstructor)(()=>new P),j.sha224=(0,w.wrapConstructor)(()=>new R)},44207:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.sha384=j.sha512_256=j.sha512_224=j.sha512=j.SHA512=void 0;const g=E(25724),w=E(35059),B=E(96492),[H,b]=w.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(V=>BigInt(V))),k=new Uint32Array(80),S=new Uint32Array(80);class P extends g.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:U,Al:K,Bh:Q,Bl:q,Ch:Y,Cl:W,Dh:re,Dl:ie,Eh:ae,El:ue,Fh:ce,Fl:pe,Gh:ve,Gl:De,Hh:C,Hl:s}=this;return[U,K,Q,q,Y,W,re,ie,ae,ue,ce,pe,ve,De,C,s]}set(U,K,Q,q,Y,W,re,ie,ae,ue,ce,pe,ve,De,C,s){this.Ah=0|U,this.Al=0|K,this.Bh=0|Q,this.Bl=0|q,this.Ch=0|Y,this.Cl=0|W,this.Dh=0|re,this.Dl=0|ie,this.Eh=0|ae,this.El=0|ue,this.Fh=0|ce,this.Fl=0|pe,this.Gh=0|ve,this.Gl=0|De,this.Hh=0|C,this.Hl=0|s}process(U,K){for(let f=0;f<16;f++,K+=4)k[f]=U.getUint32(K),S[f]=U.getUint32(K+=4);for(let f=16;f<80;f++){const _=0|k[f-15],I=0|S[f-15],L=w.default.rotrSH(_,I,1)^w.default.rotrSH(_,I,8)^w.default.shrSH(_,I,7),x=w.default.rotrSL(_,I,1)^w.default.rotrSL(_,I,8)^w.default.shrSL(_,I,7),a=0|k[f-2],v=0|S[f-2],Z=w.default.rotrSH(a,v,19)^w.default.rotrBH(a,v,61)^w.default.shrSH(a,v,6),z=w.default.rotrSL(a,v,19)^w.default.rotrBL(a,v,61)^w.default.shrSL(a,v,6),ee=w.default.add4L(x,z,S[f-7],S[f-16]),le=w.default.add4H(ee,L,Z,k[f-7],k[f-16]);k[f]=0|le,S[f]=0|ee}let{Ah:Q,Al:q,Bh:Y,Bl:W,Ch:re,Cl:ie,Dh:ae,Dl:ue,Eh:ce,El:pe,Fh:ve,Fl:De,Gh:C,Gl:s,Hh:d,Hl:h}=this;for(let f=0;f<80;f++){const _=w.default.rotrSH(ce,pe,14)^w.default.rotrSH(ce,pe,18)^w.default.rotrBH(ce,pe,41),I=w.default.rotrSL(ce,pe,14)^w.default.rotrSL(ce,pe,18)^w.default.rotrBL(ce,pe,41),L=ce&ve^~ce&C,a=w.default.add5L(h,I,pe&De^~pe&s,b[f],S[f]),v=w.default.add5H(a,d,_,L,H[f],k[f]),Z=0|a,z=w.default.rotrSH(Q,q,28)^w.default.rotrBH(Q,q,34)^w.default.rotrBH(Q,q,39),ee=w.default.rotrSL(Q,q,28)^w.default.rotrBL(Q,q,34)^w.default.rotrBL(Q,q,39),le=Q&Y^Q&re^Y&re,we=q&W^q&ie^W&ie;d=0|C,h=0|s,C=0|ve,s=0|De,ve=0|ce,De=0|pe,({h:ce,l:pe}=w.default.add(0|ae,0|ue,0|v,0|Z)),ae=0|re,ue=0|ie,re=0|Y,ie=0|W,Y=0|Q,W=0|q;const Me=w.default.add3L(Z,ee,we);Q=w.default.add3H(Me,v,z,le),q=0|Me}({h:Q,l:q}=w.default.add(0|this.Ah,0|this.Al,0|Q,0|q)),({h:Y,l:W}=w.default.add(0|this.Bh,0|this.Bl,0|Y,0|W)),({h:re,l:ie}=w.default.add(0|this.Ch,0|this.Cl,0|re,0|ie)),({h:ae,l:ue}=w.default.add(0|this.Dh,0|this.Dl,0|ae,0|ue)),({h:ce,l:pe}=w.default.add(0|this.Eh,0|this.El,0|ce,0|pe)),({h:ve,l:De}=w.default.add(0|this.Fh,0|this.Fl,0|ve,0|De)),({h:C,l:s}=w.default.add(0|this.Gh,0|this.Gl,0|C,0|s)),({h:d,l:h}=w.default.add(0|this.Hh,0|this.Hl,0|d,0|h)),this.set(Q,q,Y,W,re,ie,ae,ue,ce,pe,ve,De,C,s,d,h)}roundClean(){k.fill(0),S.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}j.SHA512=P;class R extends P{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class O extends P{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class A extends P{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}j.sha512=(0,B.wrapConstructor)(()=>new P),j.sha512_224=(0,B.wrapConstructor)(()=>new R),j.sha512_256=(0,B.wrapConstructor)(()=>new O),j.sha384=(0,B.wrapConstructor)(()=>new A)},96492:($e,j,E)=>{"use strict";var g=E(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.randomBytes=j.wrapXOFConstructorWithOpts=j.wrapConstructorWithOpts=j.wrapConstructor=j.checkOpts=j.Hash=j.concatBytes=j.toBytes=j.utf8ToBytes=j.asyncLoop=j.nextTick=j.hexToBytes=j.bytesToHex=j.isLE=j.rotr=j.createView=j.u32=j.u8=void 0;const w=E(89948);function b(De){return De instanceof Uint8Array||null!=De&&"object"==typeof De&&"Uint8Array"===De.constructor.name}if(j.u8=De=>new Uint8Array(De.buffer,De.byteOffset,De.byteLength),j.u32=De=>new Uint32Array(De.buffer,De.byteOffset,Math.floor(De.byteLength/4)),j.createView=De=>new DataView(De.buffer,De.byteOffset,De.byteLength),j.rotr=(De,C)=>De<<32-C|De>>>C,j.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!j.isLE)throw new Error("Non little-endian hardware is not supported");const P=Array.from({length:256},(De,C)=>C.toString(16).padStart(2,"0"));j.bytesToHex=function R(De){if(!b(De))throw new Error("Uint8Array expected");let C="";for(let s=0;s<De.length;s++)C+=P[De[s]];return C};const O__0=48,O__9=57,O__A=65,O__F=70,O__a=97,O__f=102;function A(De){return De>=O__0&&De<=O__9?De-O__0:De>=O__A&&De<=O__F?De-(O__A-10):De>=O__a&&De<=O__f?De-(O__a-10):void 0}function Q(){return(Q=g(function*(De,C,s){let d=Date.now();for(let h=0;h<De;h++){s(h);const f=Date.now()-d;f>=0&&f<C||(yield(0,j.nextTick)(),d+=f)}})).apply(this,arguments)}function q(De){if("string"!=typeof De)throw new Error("utf8ToBytes expected string, got "+typeof De);return new Uint8Array((new TextEncoder).encode(De))}function Y(De){if("string"==typeof De&&(De=q(De)),!b(De))throw new Error("expected Uint8Array, got "+typeof De);return De}j.hexToBytes=function V(De){if("string"!=typeof De)throw new Error("hex string expected, got "+typeof De);const C=De.length,s=C/2;if(C%2)throw new Error("padded hex string expected, got unpadded hex of length "+C);const d=new Uint8Array(s);for(let h=0,f=0;h<s;h++,f+=2){const _=A(De.charCodeAt(f)),I=A(De.charCodeAt(f+1));if(void 0===_||void 0===I)throw new Error('hex string expected, got non-hex character "'+(De[f]+De[f+1])+'" at index '+f);d[h]=16*_+I}return d},j.nextTick=function(){var De=g(function*(){});return function(){return De.apply(this,arguments)}}(),j.asyncLoop=function K(De,C,s){return Q.apply(this,arguments)},j.utf8ToBytes=q,j.toBytes=Y,j.concatBytes=function W(...De){let C=0;for(let d=0;d<De.length;d++){const h=De[d];if(!b(h))throw new Error("Uint8Array expected");C+=h.length}const s=new Uint8Array(C);for(let d=0,h=0;d<De.length;d++){const f=De[d];s.set(f,h),h+=f.length}return s},j.Hash=class re{clone(){return this._cloneInto()}};const ie={}.toString;j.checkOpts=function ae(De,C){if(void 0!==C&&"[object Object]"!==ie.call(C))throw new Error("Options should be object or undefined");return Object.assign(De,C)},j.wrapConstructor=function ue(De){const C=d=>De().update(Y(d)).digest(),s=De();return C.outputLen=s.outputLen,C.blockLen=s.blockLen,C.create=()=>De(),C},j.wrapConstructorWithOpts=function ce(De){const C=(d,h)=>De(h).update(Y(d)).digest(),s=De({});return C.outputLen=s.outputLen,C.blockLen=s.blockLen,C.create=d=>De(d),C},j.wrapXOFConstructorWithOpts=function pe(De){const C=(d,h)=>De(h).update(Y(d)).digest(),s=De({});return C.outputLen=s.outputLen,C.blockLen=s.blockLen,C.create=d=>De(d),C},j.randomBytes=function ve(De=32){if(w.crypto&&"function"==typeof w.crypto.getRandomValues)return w.crypto.getRandomValues(new Uint8Array(De));throw new Error("crypto.getRandomValues must be defined")}},42064:($e,j,E)=>{j.Level=E(23963).BrowserLevel},20844:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.MissingRefError=j.ValidationError=j.CodeGen=j.Name=j.nil=j.stringify=j.str=j._=j.KeywordCxt=void 0;const g=E(35419),w=E(98496),B=E(86980),H=E(87577),b="https://json-schema.org/draft/2020-12/schema";class k extends g.default{constructor(V={}){super({...V,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),w.default.forEach(V=>this.addVocabulary(V)),this.opts.discriminator&&this.addKeyword(B.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:V,meta:U}=this.opts;U&&(H.default.call(this,V),this.refs["http://json-schema.org/schema"]=b)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(b)?b:void 0)}}$e.exports=j=k,Object.defineProperty(j,"__esModule",{value:!0}),j.default=k;var S=E(40339);Object.defineProperty(j,"KeywordCxt",{enumerable:!0,get:function(){return S.KeywordCxt}});var P=E(1038);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return P._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return P.str}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return P.stringify}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return P.nil}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return P.Name}}),Object.defineProperty(j,"CodeGen",{enumerable:!0,get:function(){return P.CodeGen}});var R=E(42467);Object.defineProperty(j,"ValidationError",{enumerable:!0,get:function(){return R.default}});var O=E(26288);Object.defineProperty(j,"MissingRefError",{enumerable:!0,get:function(){return O.default}})},33337:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.regexpCode=j.getEsmExportName=j.getProperty=j.safeStringify=j.stringify=j.strConcat=j.addCodeArg=j.str=j._=j.nil=j._Code=j.Name=j.IDENTIFIER=j._CodeOrName=void 0;class E{}j._CodeOrName=E,j.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class g extends E{constructor(Y){if(super(),!j.IDENTIFIER.test(Y))throw new Error("CodeGen: name must be a valid identifier");this.str=Y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}j.Name=g;class w extends E{constructor(Y){super(),this._items="string"==typeof Y?[Y]:Y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const Y=this._items[0];return""===Y||'""'===Y}get str(){var Y;return null!==(Y=this._str)&&void 0!==Y?Y:this._str=this._items.reduce((W,re)=>`${W}${re}`,"")}get names(){var Y;return null!==(Y=this._names)&&void 0!==Y?Y:this._names=this._items.reduce((W,re)=>(re instanceof g&&(W[re.str]=(W[re.str]||0)+1),W),{})}}function B(q,...Y){const W=[q[0]];let re=0;for(;re<Y.length;)k(W,Y[re]),W.push(q[++re]);return new w(W)}j._Code=w,j.nil=new w(""),j._=B;const H=new w("+");function b(q,...Y){const W=[V(q[0])];let re=0;for(;re<Y.length;)W.push(H),k(W,Y[re]),W.push(H,V(q[++re]));return function S(q){let Y=1;for(;Y<q.length-1;){if(q[Y]===H){const W=P(q[Y-1],q[Y+1]);if(void 0!==W){q.splice(Y-1,3,W);continue}q[Y++]="+"}Y++}}(W),new w(W)}function k(q,Y){Y instanceof w?q.push(...Y._items):q.push(Y instanceof g?Y:function O(q){return"number"==typeof q||"boolean"==typeof q||null===q?q:V(Array.isArray(q)?q.join(","):q)}(Y))}function P(q,Y){return'""'===Y?q:'""'===q?Y:"string"==typeof q?Y instanceof g||'"'!==q[q.length-1]?void 0:"string"!=typeof Y?`${q.slice(0,-1)}${Y}"`:'"'===Y[0]?q.slice(0,-1)+Y.slice(1):void 0:"string"!=typeof Y||'"'!==Y[0]||q instanceof g?void 0:`"${q}${Y.slice(1)}`}function V(q){return JSON.stringify(q).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}j.str=b,j.addCodeArg=k,j.strConcat=function R(q,Y){return Y.emptyStr()?q:q.emptyStr()?Y:b`${q}${Y}`},j.stringify=function A(q){return new w(V(q))},j.safeStringify=V,j.getProperty=function U(q){return"string"==typeof q&&j.IDENTIFIER.test(q)?new w(`.${q}`):B`[${q}]`},j.getEsmExportName=function K(q){if("string"==typeof q&&j.IDENTIFIER.test(q))return new w(`${q}`);throw new Error(`CodeGen: invalid export name: ${q}, use explicit $id name mapping`)},j.regexpCode=function Q(q){return new w(q.toString())}},1038:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.or=j.and=j.not=j.CodeGen=j.operators=j.varKinds=j.ValueScopeName=j.ValueScope=j.Scope=j.Name=j.regexpCode=j.stringify=j.getProperty=j.nil=j.strConcat=j.str=j._=void 0;const g=E(33337),w=E(85934);var B=E(33337);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return B._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return B.str}}),Object.defineProperty(j,"strConcat",{enumerable:!0,get:function(){return B.strConcat}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return B.nil}}),Object.defineProperty(j,"getProperty",{enumerable:!0,get:function(){return B.getProperty}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return B.stringify}}),Object.defineProperty(j,"regexpCode",{enumerable:!0,get:function(){return B.regexpCode}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return B.Name}});var H=E(85934);Object.defineProperty(j,"Scope",{enumerable:!0,get:function(){return H.Scope}}),Object.defineProperty(j,"ValueScope",{enumerable:!0,get:function(){return H.ValueScope}}),Object.defineProperty(j,"ValueScopeName",{enumerable:!0,get:function(){return H.ValueScopeName}}),Object.defineProperty(j,"varKinds",{enumerable:!0,get:function(){return H.varKinds}}),j.operators={GT:new g._Code(">"),GTE:new g._Code(">="),LT:new g._Code("<"),LTE:new g._Code("<="),EQ:new g._Code("==="),NEQ:new g._Code("!=="),NOT:new g._Code("!"),OR:new g._Code("||"),AND:new g._Code("&&"),ADD:new g._Code("+")};class b{optimizeNodes(){return this}optimizeNames(ee,le){return this}}class k extends b{constructor(ee,le,we){super(),this.varKind=ee,this.name=le,this.rhs=we}render({es5:ee,_n:le}){return`${ee?w.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+le}optimizeNames(ee,le){if(ee[this.name.str])return this.rhs&&(this.rhs=h(this.rhs,ee,le)),this}get names(){return this.rhs instanceof g._CodeOrName?this.rhs.names:{}}}class S extends b{constructor(ee,le,we){super(),this.lhs=ee,this.rhs=le,this.sideEffects=we}render({_n:ee}){return`${this.lhs} = ${this.rhs};`+ee}optimizeNames(ee,le){if(!(this.lhs instanceof g.Name)||ee[this.lhs.str]||this.sideEffects)return this.rhs=h(this.rhs,ee,le),this}get names(){return d(this.lhs instanceof g.Name?{}:{...this.lhs.names},this.rhs)}}class P extends S{constructor(ee,le,we,Me){super(ee,we,Me),this.op=le}render({_n:ee}){return`${this.lhs} ${this.op}= ${this.rhs};`+ee}}class R extends b{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`${this.label}:`+ee}}class O extends b{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`break${this.label?` ${this.label}`:""};`+ee}}class A extends b{constructor(ee){super(),this.error=ee}render({_n:ee}){return`throw ${this.error};`+ee}get names(){return this.error.names}}class V extends b{constructor(ee){super(),this.code=ee}render({_n:ee}){return`${this.code};`+ee}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ee,le){return this.code=h(this.code,ee,le),this}get names(){return this.code instanceof g._CodeOrName?this.code.names:{}}}class U extends b{constructor(ee=[]){super(),this.nodes=ee}render(ee){return this.nodes.reduce((le,we)=>le+we.render(ee),"")}optimizeNodes(){const{nodes:ee}=this;let le=ee.length;for(;le--;){const we=ee[le].optimizeNodes();Array.isArray(we)?ee.splice(le,1,...we):we?ee[le]=we:ee.splice(le,1)}return ee.length>0?this:void 0}optimizeNames(ee,le){const{nodes:we}=this;let Me=we.length;for(;Me--;){const Ze=we[Me];Ze.optimizeNames(ee,le)||(f(ee,Ze.names),we.splice(Me,1))}return we.length>0?this:void 0}get names(){return this.nodes.reduce((ee,le)=>s(ee,le.names),{})}}class K extends U{render(ee){return"{"+ee._n+super.render(ee)+"}"+ee._n}}class Q extends U{}let q=(()=>{class z extends K{}return z.kind="else",z})(),Y=(()=>{class z extends K{constructor(le,we){super(we),this.condition=le}render(le){let we=`if(${this.condition})`+super.render(le);return this.else&&(we+="else "+this.else.render(le)),we}optimizeNodes(){super.optimizeNodes();const le=this.condition;if(!0===le)return this.nodes;let we=this.else;if(we){const Me=we.optimizeNodes();we=this.else=Array.isArray(Me)?new q(Me):Me}return we?!1===le?we instanceof z?we:we.nodes:this.nodes.length?this:new z(_(le),we instanceof z?[we]:we.nodes):!1!==le&&this.nodes.length?this:void 0}optimizeNames(le,we){var Me;if(this.else=null===(Me=this.else)||void 0===Me?void 0:Me.optimizeNames(le,we),super.optimizeNames(le,we)||this.else)return this.condition=h(this.condition,le,we),this}get names(){const le=super.names;return d(le,this.condition),this.else&&s(le,this.else.names),le}}return z.kind="if",z})(),W=(()=>{class z extends K{}return z.kind="for",z})();class re extends W{constructor(ee){super(),this.iteration=ee}render(ee){return`for(${this.iteration})`+super.render(ee)}optimizeNames(ee,le){if(super.optimizeNames(ee,le))return this.iteration=h(this.iteration,ee,le),this}get names(){return s(super.names,this.iteration.names)}}class ie extends W{constructor(ee,le,we,Me){super(),this.varKind=ee,this.name=le,this.from=we,this.to=Me}render(ee){const le=ee.es5?w.varKinds.var:this.varKind,{name:we,from:Me,to:Ze}=this;return`for(${le} ${we}=${Me}; ${we}<${Ze}; ${we}++)`+super.render(ee)}get names(){const ee=d(super.names,this.from);return d(ee,this.to)}}class ae extends W{constructor(ee,le,we,Me){super(),this.loop=ee,this.varKind=le,this.name=we,this.iterable=Me}render(ee){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ee)}optimizeNames(ee,le){if(super.optimizeNames(ee,le))return this.iterable=h(this.iterable,ee,le),this}get names(){return s(super.names,this.iterable.names)}}let ue=(()=>{class z extends K{constructor(le,we,Me){super(),this.name=le,this.args=we,this.async=Me}render(le){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(le)}}return z.kind="func",z})(),ce=(()=>{class z extends U{render(le){return"return "+super.render(le)}}return z.kind="return",z})();class pe extends K{render(ee){let le="try"+super.render(ee);return this.catch&&(le+=this.catch.render(ee)),this.finally&&(le+=this.finally.render(ee)),le}optimizeNodes(){var ee,le;return super.optimizeNodes(),null===(ee=this.catch)||void 0===ee||ee.optimizeNodes(),null===(le=this.finally)||void 0===le||le.optimizeNodes(),this}optimizeNames(ee,le){var we,Me;return super.optimizeNames(ee,le),null===(we=this.catch)||void 0===we||we.optimizeNames(ee,le),null===(Me=this.finally)||void 0===Me||Me.optimizeNames(ee,le),this}get names(){const ee=super.names;return this.catch&&s(ee,this.catch.names),this.finally&&s(ee,this.finally.names),ee}}let ve=(()=>{class z extends K{constructor(le){super(),this.error=le}render(le){return`catch(${this.error})`+super.render(le)}}return z.kind="catch",z})(),De=(()=>{class z extends K{render(le){return"finally"+super.render(le)}}return z.kind="finally",z})();function s(z,ee){for(const le in ee)z[le]=(z[le]||0)+(ee[le]||0);return z}function d(z,ee){return ee instanceof g._CodeOrName?s(z,ee.names):z}function h(z,ee,le){return z instanceof g.Name?we(z):function Me(Ze){return Ze instanceof g._Code&&Ze._items.some(ge=>ge instanceof g.Name&&1===ee[ge.str]&&void 0!==le[ge.str])}(z)?new g._Code(z._items.reduce((Ze,ge)=>(ge instanceof g.Name&&(ge=we(ge)),ge instanceof g._Code?Ze.push(...ge._items):Ze.push(ge),Ze),[])):z;function we(Ze){const ge=le[Ze.str];return void 0===ge||1!==ee[Ze.str]?Ze:(delete ee[Ze.str],ge)}}function f(z,ee){for(const le in ee)z[le]=(z[le]||0)-(ee[le]||0)}function _(z){return"boolean"==typeof z||"number"==typeof z||null===z?!z:g._`!${Z(z)}`}j.CodeGen=class C{constructor(ee,le={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...le,_n:le.lines?"\n":""},this._extScope=ee,this._scope=new w.Scope({parent:ee}),this._nodes=[new Q]}toString(){return this._root.render(this.opts)}name(ee){return this._scope.name(ee)}scopeName(ee){return this._extScope.name(ee)}scopeValue(ee,le){const we=this._extScope.value(ee,le);return(this._values[we.prefix]||(this._values[we.prefix]=new Set)).add(we),we}getScopeValue(ee,le){return this._extScope.getValue(ee,le)}scopeRefs(ee){return this._extScope.scopeRefs(ee,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ee,le,we,Me){const Ze=this._scope.toName(le);return void 0!==we&&Me&&(this._constants[Ze.str]=we),this._leafNode(new k(ee,Ze,we)),Ze}const(ee,le,we){return this._def(w.varKinds.const,ee,le,we)}let(ee,le,we){return this._def(w.varKinds.let,ee,le,we)}var(ee,le,we){return this._def(w.varKinds.var,ee,le,we)}assign(ee,le,we){return this._leafNode(new S(ee,le,we))}add(ee,le){return this._leafNode(new P(ee,j.operators.ADD,le))}code(ee){return"function"==typeof ee?ee():ee!==g.nil&&this._leafNode(new V(ee)),this}object(...ee){const le=["{"];for(const[we,Me]of ee)le.length>1&&le.push(","),le.push(we),(we!==Me||this.opts.es5)&&(le.push(":"),(0,g.addCodeArg)(le,Me));return le.push("}"),new g._Code(le)}if(ee,le,we){if(this._blockNode(new Y(ee)),le&&we)this.code(le).else().code(we).endIf();else if(le)this.code(le).endIf();else if(we)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ee){return this._elseNode(new Y(ee))}else(){return this._elseNode(new q)}endIf(){return this._endBlockNode(Y,q)}_for(ee,le){return this._blockNode(ee),le&&this.code(le).endFor(),this}for(ee,le){return this._for(new re(ee),le)}forRange(ee,le,we,Me,Ze=(this.opts.es5?w.varKinds.var:w.varKinds.let)){const ge=this._scope.toName(ee);return this._for(new ie(Ze,ge,le,we),()=>Me(ge))}forOf(ee,le,we,Me=w.varKinds.const){const Ze=this._scope.toName(ee);if(this.opts.es5){const ge=le instanceof g.Name?le:this.var("_arr",le);return this.forRange("_i",0,g._`${ge}.length`,me=>{this.var(Ze,g._`${ge}[${me}]`),we(Ze)})}return this._for(new ae("of",Me,Ze,le),()=>we(Ze))}forIn(ee,le,we,Me=(this.opts.es5?w.varKinds.var:w.varKinds.const)){if(this.opts.ownProperties)return this.forOf(ee,g._`Object.keys(${le})`,we);const Ze=this._scope.toName(ee);return this._for(new ae("in",Me,Ze,le),()=>we(Ze))}endFor(){return this._endBlockNode(W)}label(ee){return this._leafNode(new R(ee))}break(ee){return this._leafNode(new O(ee))}return(ee){const le=new ce;if(this._blockNode(le),this.code(ee),1!==le.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ce)}try(ee,le,we){if(!le&&!we)throw new Error('CodeGen: "try" without "catch" and "finally"');const Me=new pe;if(this._blockNode(Me),this.code(ee),le){const Ze=this.name("e");this._currNode=Me.catch=new ve(Ze),le(Ze)}return we&&(this._currNode=Me.finally=new De,this.code(we)),this._endBlockNode(ve,De)}throw(ee){return this._leafNode(new A(ee))}block(ee,le){return this._blockStarts.push(this._nodes.length),ee&&this.code(ee).endBlock(le),this}endBlock(ee){const le=this._blockStarts.pop();if(void 0===le)throw new Error("CodeGen: not in self-balancing block");const we=this._nodes.length-le;if(we<0||void 0!==ee&&we!==ee)throw new Error(`CodeGen: wrong number of nodes: ${we} vs ${ee} expected`);return this._nodes.length=le,this}func(ee,le=g.nil,we,Me){return this._blockNode(new ue(ee,le,we)),Me&&this.code(Me).endFunc(),this}endFunc(){return this._endBlockNode(ue)}optimize(ee=1){for(;ee-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ee){return this._currNode.nodes.push(ee),this}_blockNode(ee){this._currNode.nodes.push(ee),this._nodes.push(ee)}_endBlockNode(ee,le){const we=this._currNode;if(we instanceof ee||le&&we instanceof le)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${le?`${ee.kind}/${le.kind}`:ee.kind}"`)}_elseNode(ee){const le=this._currNode;if(!(le instanceof Y))throw new Error('CodeGen: "else" without "if"');return this._currNode=le.else=ee,this}get _root(){return this._nodes[0]}get _currNode(){const ee=this._nodes;return ee[ee.length-1]}set _currNode(ee){const le=this._nodes;le[le.length-1]=ee}},j.not=_;const I=v(j.operators.AND);j.and=function L(...z){return z.reduce(I)};const x=v(j.operators.OR);function v(z){return(ee,le)=>ee===g.nil?le:le===g.nil?ee:g._`${Z(ee)} ${z} ${Z(le)}`}function Z(z){return z instanceof g.Name?z:g._`(${z})`}j.or=function a(...z){return z.reduce(x)}},85934:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ValueScope=j.ValueScopeName=j.Scope=j.varKinds=j.UsedValueState=void 0;const g=E(33337);class w extends Error{constructor(R){super(`CodeGen: "code" for ${R} not defined`),this.value=R.value}}var B,P;(P=B=j.UsedValueState||(j.UsedValueState={}))[P.Started=0]="Started",P[P.Completed=1]="Completed",j.varKinds={const:new g.Name("const"),let:new g.Name("let"),var:new g.Name("var")};class H{constructor({prefixes:R,parent:O}={}){this._names={},this._prefixes=R,this._parent=O}toName(R){return R instanceof g.Name?R:this.name(R)}name(R){return new g.Name(this._newName(R))}_newName(R){return`${R}${(this._names[R]||this._nameGroup(R)).index++}`}_nameGroup(R){var O,A;if(null!==(A=null===(O=this._parent)||void 0===O?void 0:O._prefixes)&&void 0!==A&&A.has(R)||this._prefixes&&!this._prefixes.has(R))throw new Error(`CodeGen: prefix "${R}" is not allowed in this scope`);return this._names[R]={prefix:R,index:0}}}j.Scope=H;class b extends g.Name{constructor(R,O){super(O),this.prefix=R}setValue(R,{property:O,itemIndex:A}){this.value=R,this.scopePath=g._`.${new g.Name(O)}[${A}]`}}j.ValueScopeName=b;const k=g._`\n`;j.ValueScope=class S extends H{constructor(R){super(R),this._values={},this._scope=R.scope,this.opts={...R,_n:R.lines?k:g.nil}}get(){return this._scope}name(R){return new b(R,this._newName(R))}value(R,O){var A;if(void 0===O.ref)throw new Error("CodeGen: ref must be passed in value");const V=this.toName(R),{prefix:U}=V,K=null!==(A=O.key)&&void 0!==A?A:O.ref;let Q=this._values[U];if(Q){const W=Q.get(K);if(W)return W}else Q=this._values[U]=new Map;Q.set(K,V);const q=this._scope[U]||(this._scope[U]=[]),Y=q.length;return q[Y]=O.ref,V.setValue(O,{property:U,itemIndex:Y}),V}getValue(R,O){const A=this._values[R];if(A)return A.get(O)}scopeRefs(R,O=this._values){return this._reduceValues(O,A=>{if(void 0===A.scopePath)throw new Error(`CodeGen: name "${A}" has no value`);return g._`${R}${A.scopePath}`})}scopeCode(R=this._values,O,A){return this._reduceValues(R,V=>{if(void 0===V.value)throw new Error(`CodeGen: name "${V}" has no value`);return V.value.code},O,A)}_reduceValues(R,O,A={},V){let U=g.nil;for(const K in R){const Q=R[K];if(!Q)continue;const q=A[K]=A[K]||new Map;Q.forEach(Y=>{if(q.has(Y))return;q.set(Y,B.Started);let W=O(Y);if(W)U=g._`${U}${this.opts.es5?j.varKinds.var:j.varKinds.const} ${Y} = ${W};${this.opts._n}`;else{if(!(W=V?.(Y)))throw new w(Y);U=g._`${U}${W}${this.opts._n}`}q.set(Y,B.Completed)})}return U}}},53421:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.extendErrors=j.resetErrorsCount=j.reportExtraError=j.reportError=j.keyword$DataError=j.keywordError=void 0;const g=E(1038),w=E(27006),B=E(23432);function P(q,Y){const W=q.const("err",Y);q.if(g._`${B.default.vErrors} === null`,()=>q.assign(B.default.vErrors,g._`[${W}]`),g._`${B.default.vErrors}.push(${W})`),q.code(g._`${B.default.errors}++`)}function R(q,Y){const{gen:W,validateName:re,schemaEnv:ie}=q;ie.$async?W.throw(g._`new ${q.ValidationError}(${Y})`):(W.assign(g._`${re}.errors`,Y),W.return(!1))}j.keywordError={message:({keyword:q})=>g.str`must pass "${q}" keyword validation`},j.keyword$DataError={message:({keyword:q,schemaType:Y})=>Y?g.str`"${q}" keyword must be ${Y} ($data)`:g.str`"${q}" keyword is invalid ($data)`},j.reportError=function H(q,Y=j.keywordError,W,re){const{it:ie}=q,{gen:ae,compositeRule:ue,allErrors:ce}=ie,pe=A(q,Y,W);re??(ue||ce)?P(ae,pe):R(ie,g._`[${pe}]`)},j.reportExtraError=function b(q,Y=j.keywordError,W){const{it:re}=q,{gen:ie,compositeRule:ae,allErrors:ue}=re;P(ie,A(q,Y,W)),ae||ue||R(re,B.default.vErrors)},j.resetErrorsCount=function k(q,Y){q.assign(B.default.errors,Y),q.if(g._`${B.default.vErrors} !== null`,()=>q.if(Y,()=>q.assign(g._`${B.default.vErrors}.length`,Y),()=>q.assign(B.default.vErrors,null)))},j.extendErrors=function S({gen:q,keyword:Y,schemaValue:W,data:re,errsCount:ie,it:ae}){if(void 0===ie)throw new Error("ajv implementation error");const ue=q.name("err");q.forRange("i",ie,B.default.errors,ce=>{q.const(ue,g._`${B.default.vErrors}[${ce}]`),q.if(g._`${ue}.instancePath === undefined`,()=>q.assign(g._`${ue}.instancePath`,(0,g.strConcat)(B.default.instancePath,ae.errorPath))),q.assign(g._`${ue}.schemaPath`,g.str`${ae.errSchemaPath}/${Y}`),ae.opts.verbose&&(q.assign(g._`${ue}.schema`,W),q.assign(g._`${ue}.data`,re))})};const O={keyword:new g.Name("keyword"),schemaPath:new g.Name("schemaPath"),params:new g.Name("params"),propertyName:new g.Name("propertyName"),message:new g.Name("message"),schema:new g.Name("schema"),parentSchema:new g.Name("parentSchema")};function A(q,Y,W){const{createErrors:re}=q.it;return!1===re?g._`{}`:function V(q,Y,W={}){const{gen:re,it:ie}=q,ae=[U(ie,W),K(q,W)];return function Q(q,{params:Y,message:W},re){const{keyword:ie,data:ae,schemaValue:ue,it:ce}=q,{opts:pe,propertyName:ve,topSchemaRef:De,schemaPath:C}=ce;re.push([O.keyword,ie],[O.params,"function"==typeof Y?Y(q):Y||g._`{}`]),pe.messages&&re.push([O.message,"function"==typeof W?W(q):W]),pe.verbose&&re.push([O.schema,ue],[O.parentSchema,g._`${De}${C}`],[B.default.data,ae]),ve&&re.push([O.propertyName,ve])}(q,Y,ae),re.object(...ae)}(q,Y,W)}function U({errorPath:q},{instancePath:Y}){const W=Y?g.str`${q}${(0,w.getErrorPath)(Y,w.Type.Str)}`:q;return[B.default.instancePath,(0,g.strConcat)(B.default.instancePath,W)]}function K({keyword:q,it:{errSchemaPath:Y}},{schemaPath:W,parentSchema:re}){let ie=re?Y:g.str`${Y}/${q}`;return W&&(ie=g.str`${ie}${(0,w.getErrorPath)(W,w.Type.Str)}`),[O.schemaPath,ie]}},97692:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.resolveSchema=j.getCompilingSchema=j.resolveRef=j.compileSchema=j.SchemaEnv=void 0;const g=E(1038),w=E(42467),B=E(23432),H=E(77172),b=E(27006),k=E(40339);class S{constructor(W){var re;let ie;this.refs={},this.dynamicAnchors={},"object"==typeof W.schema&&(ie=W.schema),this.schema=W.schema,this.schemaId=W.schemaId,this.root=W.root||this,this.baseId=null!==(re=W.baseId)&&void 0!==re?re:(0,H.normalizeId)(ie?.[W.schemaId||"$id"]),this.schemaPath=W.schemaPath,this.localRefs=W.localRefs,this.meta=W.meta,this.$async=ie?.$async,this.refs={}}}function P(Y){const W=A.call(this,Y);if(W)return W;const re=(0,H.getFullPath)(this.opts.uriResolver,Y.root.baseId),{es5:ie,lines:ae}=this.opts.code,{ownProperties:ue}=this.opts,ce=new g.CodeGen(this.scope,{es5:ie,lines:ae,ownProperties:ue});let pe;Y.$async&&(pe=ce.scopeValue("Error",{ref:w.default,code:g._`require("ajv/dist/runtime/validation_error").default`}));const ve=ce.scopeName("validate");Y.validateName=ve;const De={gen:ce,allErrors:this.opts.allErrors,data:B.default.data,parentData:B.default.parentData,parentDataProperty:B.default.parentDataProperty,dataNames:[B.default.data],dataPathArr:[g.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:ce.scopeValue("schema",!0===this.opts.code.source?{ref:Y.schema,code:(0,g.stringify)(Y.schema)}:{ref:Y.schema}),validateName:ve,ValidationError:pe,schema:Y.schema,schemaEnv:Y,rootId:re,baseId:Y.baseId||re,schemaPath:g.nil,errSchemaPath:Y.schemaPath||(this.opts.jtd?"":"#"),errorPath:g._`""`,opts:this.opts,self:this};let C;try{this._compilations.add(Y),(0,k.validateFunctionCode)(De),ce.optimize(this.opts.code.optimize);const s=ce.toString();C=`${ce.scopeRefs(B.default.scope)}return ${s}`,this.opts.code.process&&(C=this.opts.code.process(C,Y));const h=new Function(`${B.default.self}`,`${B.default.scope}`,C)(this,this.scope.get());if(this.scope.value(ve,{ref:h}),h.errors=null,h.schema=Y.schema,h.schemaEnv=Y,Y.$async&&(h.$async=!0),!0===this.opts.code.source&&(h.source={validateName:ve,validateCode:s,scopeValues:ce._values}),this.opts.unevaluated){const{props:f,items:_}=De;h.evaluated={props:f instanceof g.Name?void 0:f,items:_ instanceof g.Name?void 0:_,dynamicProps:f instanceof g.Name,dynamicItems:_ instanceof g.Name},h.source&&(h.source.evaluated=(0,g.stringify)(h.evaluated))}return Y.validate=h,Y}catch(s){throw delete Y.validate,delete Y.validateName,C&&this.logger.error("Error compiling schema, function code:",C),s}finally{this._compilations.delete(Y)}}function O(Y){return(0,H.inlineRef)(Y.schema,this.opts.inlineRefs)?Y.schema:Y.validate?Y:P.call(this,Y)}function A(Y){for(const W of this._compilations)if(V(W,Y))return W}function V(Y,W){return Y.schema===W.schema&&Y.root===W.root&&Y.baseId===W.baseId}function U(Y,W){let re;for(;"string"==typeof(re=this.refs[W]);)W=re;return re||this.schemas[W]||K.call(this,Y,W)}function K(Y,W){const re=this.opts.uriResolver.parse(W),ie=(0,H._getFullPath)(this.opts.uriResolver,re);let ae=(0,H.getFullPath)(this.opts.uriResolver,Y.baseId,void 0);if(Object.keys(Y.schema).length>0&&ie===ae)return q.call(this,re,Y);const ue=(0,H.normalizeId)(ie),ce=this.refs[ue]||this.schemas[ue];if("string"==typeof ce){const pe=K.call(this,Y,ce);return"object"!=typeof pe?.schema?void 0:q.call(this,re,pe)}if("object"==typeof ce?.schema){if(ce.validate||P.call(this,ce),ue===(0,H.normalizeId)(W)){const{schema:pe}=ce,{schemaId:ve}=this.opts,De=pe[ve];return De&&(ae=(0,H.resolveUrl)(this.opts.uriResolver,ae,De)),new S({schema:pe,schemaId:ve,root:Y,baseId:ae})}return q.call(this,re,ce)}}j.SchemaEnv=S,j.compileSchema=P,j.resolveRef=function R(Y,W,re){var ie;re=(0,H.resolveUrl)(this.opts.uriResolver,W,re);const ae=Y.refs[re];if(ae)return ae;let ue=U.call(this,Y,re);if(void 0===ue){const ce=null===(ie=Y.localRefs)||void 0===ie?void 0:ie[re],{schemaId:pe}=this.opts;ce&&(ue=new S({schema:ce,schemaId:pe,root:Y,baseId:W}))}return void 0!==ue?Y.refs[re]=O.call(this,ue):void 0},j.getCompilingSchema=A,j.resolveSchema=K;const Q=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function q(Y,{baseId:W,schema:re,root:ie}){var ae;if("/"!==(null===(ae=Y.fragment)||void 0===ae?void 0:ae[0]))return;for(const pe of Y.fragment.slice(1).split("/")){if("boolean"==typeof re)return;const ve=re[(0,b.unescapeFragment)(pe)];if(void 0===ve)return;const De="object"==typeof(re=ve)&&re[this.opts.schemaId];!Q.has(pe)&&De&&(W=(0,H.resolveUrl)(this.opts.uriResolver,W,De))}let ue;if("boolean"!=typeof re&&re.$ref&&!(0,b.schemaHasRulesButRef)(re,this.RULES)){const pe=(0,H.resolveUrl)(this.opts.uriResolver,W,re.$ref);ue=K.call(this,ie,pe)}const{schemaId:ce}=this.opts;return ue=ue||new S({schema:re,schemaId:ce,root:ie,baseId:W}),ue.schema!==ue.root.schema?ue:void 0}},23432:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w={data:new g.Name("data"),valCxt:new g.Name("valCxt"),instancePath:new g.Name("instancePath"),parentData:new g.Name("parentData"),parentDataProperty:new g.Name("parentDataProperty"),rootData:new g.Name("rootData"),dynamicAnchors:new g.Name("dynamicAnchors"),vErrors:new g.Name("vErrors"),errors:new g.Name("errors"),this:new g.Name("this"),self:new g.Name("self"),scope:new g.Name("scope"),json:new g.Name("json"),jsonPos:new g.Name("jsonPos"),jsonLen:new g.Name("jsonLen"),jsonPart:new g.Name("jsonPart")};j.default=w},26288:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(77172);class w extends Error{constructor(H,b,k,S){super(S||`can't resolve reference ${k} from id ${b}`),this.missingRef=(0,g.resolveUrl)(H,b,k),this.missingSchema=(0,g.normalizeId)((0,g.getFullPath)(H,this.missingRef))}}j.default=w},77172:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getSchemaRefs=j.resolveUrl=j.normalizeId=j._getFullPath=j.getFullPath=j.inlineRef=void 0;const g=E(27006),w=E(40362),B=E(44331),H=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);j.inlineRef=function b(q,Y=!0){return"boolean"==typeof q||(!0===Y?!S(q):!!Y&&P(q)<=Y)};const k=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function S(q){for(const Y in q){if(k.has(Y))return!0;const W=q[Y];if(Array.isArray(W)&&W.some(S)||"object"==typeof W&&S(W))return!0}return!1}function P(q){let Y=0;for(const W in q){if("$ref"===W)return 1/0;if(Y++,!H.has(W)&&("object"==typeof q[W]&&(0,g.eachItem)(q[W],re=>Y+=P(re)),Y===1/0))return 1/0}return Y}function R(q,Y="",W){!1!==W&&(Y=V(Y));const re=q.parse(Y);return O(q,re)}function O(q,Y){return q.serialize(Y).split("#")[0]+"#"}j.getFullPath=R,j._getFullPath=O;const A=/#\/?$/;function V(q){return q?q.replace(A,""):""}j.normalizeId=V,j.resolveUrl=function U(q,Y,W){return W=V(W),q.resolve(Y,W)};const K=/^[a-z_][-a-z0-9._]*$/i;j.getSchemaRefs=function Q(q,Y){if("boolean"==typeof q)return{};const{schemaId:W,uriResolver:re}=this.opts,ie=V(q[W]||Y),ae={"":ie},ue=R(re,ie,!1),ce={},pe=new Set;return B(q,{allKeys:!0},(C,s,d,h)=>{if(void 0===h)return;const f=ue+s;let _=ae[h];function I(x){if(x=V(_?(0,this.opts.uriResolver.resolve)(_,x):x),pe.has(x))throw De(x);pe.add(x);let v=this.refs[x];return"string"==typeof v&&(v=this.refs[v]),"object"==typeof v?ve(C,v.schema,x):x!==V(f)&&("#"===x[0]?(ve(C,ce[x],x),ce[x]=C):this.refs[x]=f),x}function L(x){if("string"==typeof x){if(!K.test(x))throw new Error(`invalid anchor "${x}"`);I.call(this,`#${x}`)}}"string"==typeof C[W]&&(_=I.call(this,C[W])),L.call(this,C.$anchor),L.call(this,C.$dynamicAnchor),ae[s]=_}),ce;function ve(C,s,d){if(void 0!==s&&!w(C,s))throw De(d)}function De(C){return new Error(`reference "${C}" resolves to more than one schema`)}}},32203:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getRules=j.isJSONType=void 0;const g=new Set(["string","number","integer","boolean","null","object","array"]);j.isJSONType=function w(H){return"string"==typeof H&&g.has(H)},j.getRules=function B(){const H={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...H,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},H.number,H.string,H.array,H.object],post:{rules:[]},all:{},keywords:{}}}},27006:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.checkStrictMode=j.getErrorPath=j.Type=j.useFunc=j.setEvaluated=j.evaluatedPropsToName=j.mergeEvaluated=j.eachItem=j.unescapeJsonPointer=j.escapeJsonPointer=j.escapeFragment=j.unescapeFragment=j.schemaRefOrVal=j.schemaHasRulesButRef=j.schemaHasRules=j.checkUnknownRules=j.alwaysValidSchema=j.toHash=void 0;const g=E(1038),w=E(33337);function b(ue,ce=ue.schema){const{opts:pe,self:ve}=ue;if(!pe.strictSchema||"boolean"==typeof ce)return;const De=ve.RULES.keywords;for(const C in ce)De[C]||ae(ue,`unknown keyword: "${C}"`)}function k(ue,ce){if("boolean"==typeof ue)return!ue;for(const pe in ue)if(ce[pe])return!0;return!1}function A(ue){return"number"==typeof ue?`${ue}`:ue.replace(/~/g,"~0").replace(/\//g,"~1")}function V(ue){return ue.replace(/~1/g,"/").replace(/~0/g,"~")}function K({mergeNames:ue,mergeToName:ce,mergeValues:pe,resultToName:ve}){return(De,C,s,d)=>{const h=void 0===s?C:s instanceof g.Name?(C instanceof g.Name?ue(De,C,s):ce(De,C,s),s):C instanceof g.Name?(ce(De,s,C),C):pe(C,s);return d!==g.Name||h instanceof g.Name?h:ve(De,h)}}function Q(ue,ce){if(!0===ce)return ue.var("props",!0);const pe=ue.var("props",g._`{}`);return void 0!==ce&&q(ue,pe,ce),pe}function q(ue,ce,pe){Object.keys(pe).forEach(ve=>ue.assign(g._`${ce}${(0,g.getProperty)(ve)}`,!0))}j.toHash=function B(ue){const ce={};for(const pe of ue)ce[pe]=!0;return ce},j.alwaysValidSchema=function H(ue,ce){return"boolean"==typeof ce?ce:0===Object.keys(ce).length||(b(ue,ce),!k(ce,ue.self.RULES.all))},j.checkUnknownRules=b,j.schemaHasRules=k,j.schemaHasRulesButRef=function S(ue,ce){if("boolean"==typeof ue)return!ue;for(const pe in ue)if("$ref"!==pe&&ce.all[pe])return!0;return!1},j.schemaRefOrVal=function P({topSchemaRef:ue,schemaPath:ce},pe,ve,De){if(!De){if("number"==typeof pe||"boolean"==typeof pe)return pe;if("string"==typeof pe)return g._`${pe}`}return g._`${ue}${ce}${(0,g.getProperty)(ve)}`},j.unescapeFragment=function R(ue){return V(decodeURIComponent(ue))},j.escapeFragment=function O(ue){return encodeURIComponent(A(ue))},j.escapeJsonPointer=A,j.unescapeJsonPointer=V,j.eachItem=function U(ue,ce){if(Array.isArray(ue))for(const pe of ue)ce(pe);else ce(ue)},j.mergeEvaluated={props:K({mergeNames:(ue,ce,pe)=>ue.if(g._`${pe} !== true && ${ce} !== undefined`,()=>{ue.if(g._`${ce} === true`,()=>ue.assign(pe,!0),()=>ue.assign(pe,g._`${pe} || {}`).code(g._`Object.assign(${pe}, ${ce})`))}),mergeToName:(ue,ce,pe)=>ue.if(g._`${pe} !== true`,()=>{!0===ce?ue.assign(pe,!0):(ue.assign(pe,g._`${pe} || {}`),q(ue,pe,ce))}),mergeValues:(ue,ce)=>!0===ue||{...ue,...ce},resultToName:Q}),items:K({mergeNames:(ue,ce,pe)=>ue.if(g._`${pe} !== true && ${ce} !== undefined`,()=>ue.assign(pe,g._`${ce} === true ? true : ${pe} > ${ce} ? ${pe} : ${ce}`)),mergeToName:(ue,ce,pe)=>ue.if(g._`${pe} !== true`,()=>ue.assign(pe,!0===ce||g._`${pe} > ${ce} ? ${pe} : ${ce}`)),mergeValues:(ue,ce)=>!0===ue||Math.max(ue,ce),resultToName:(ue,ce)=>ue.var("items",ce)})},j.evaluatedPropsToName=Q,j.setEvaluated=q;const Y={};var re,ue;function ae(ue,ce,pe=ue.opts.strictSchema){if(pe){if(ce=`strict mode: ${ce}`,!0===pe)throw new Error(ce);ue.self.logger.warn(ce)}}j.useFunc=function W(ue,ce){return ue.scopeValue("func",{ref:ce,code:Y[ce.code]||(Y[ce.code]=new w._Code(ce.code))})},(ue=re=j.Type||(j.Type={}))[ue.Num=0]="Num",ue[ue.Str=1]="Str",j.getErrorPath=function ie(ue,ce,pe){if(ue instanceof g.Name){const ve=ce===re.Num;return pe?ve?g._`"[" + ${ue} + "]"`:g._`"['" + ${ue} + "']"`:ve?g._`"/" + ${ue}`:g._`"/" + ${ue}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return pe?(0,g.getProperty)(ue).toString():"/"+A(ue)},j.checkStrictMode=ae},22650:($e,j)=>{"use strict";function g(B,H){return H.rules.some(b=>w(B,b))}function w(B,H){var b;return void 0!==B[H.keyword]||(null===(b=H.definition.implements)||void 0===b?void 0:b.some(k=>void 0!==B[k]))}Object.defineProperty(j,"__esModule",{value:!0}),j.shouldUseRule=j.shouldUseGroup=j.schemaHasRulesForType=void 0,j.schemaHasRulesForType=function E({schema:B,self:H},b){const k=H.RULES.types[b];return k&&!0!==k&&g(B,k)},j.shouldUseGroup=g,j.shouldUseRule=w},37864:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.boolOrEmptySchema=j.topBoolOrEmptySchema=void 0;const g=E(53421),w=E(1038),B=E(23432),H={message:"boolean schema is false"};function S(P,R){const{gen:O,data:A}=P;(0,g.reportError)({gen:O,keyword:"false schema",data:A,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:P},H,void 0,R)}j.topBoolOrEmptySchema=function b(P){const{gen:R,schema:O,validateName:A}=P;!1===O?S(P,!1):"object"==typeof O&&!0===O.$async?R.return(B.default.data):(R.assign(w._`${A}.errors`,null),R.return(!0))},j.boolOrEmptySchema=function k(P,R){const{gen:O,schema:A}=P;!1===A?(O.var(R,!1),S(P)):O.var(R,!0)}},55999:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.reportTypeError=j.checkDataTypes=j.checkDataType=j.coerceAndCheckDataType=j.getJSONTypes=j.getSchemaTypes=j.DataType=void 0;const g=E(32203),w=E(22650),B=E(53421),H=E(1038),b=E(27006);var k,re;function P(re){const ie=Array.isArray(re)?re:re?[re]:[];if(ie.every(g.isJSONType))return ie;throw new Error("type must be JSONType or JSONType[]: "+ie.join(","))}(re=k=j.DataType||(j.DataType={}))[re.Correct=0]="Correct",re[re.Wrong=1]="Wrong",j.getSchemaTypes=function S(re){const ie=P(re.type);if(ie.includes("null")){if(!1===re.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!ie.length&&void 0!==re.nullable)throw new Error('"nullable" cannot be used without "type"');!0===re.nullable&&ie.push("null")}return ie},j.getJSONTypes=P,j.coerceAndCheckDataType=function R(re,ie){const{gen:ae,data:ue,opts:ce}=re,pe=function A(re,ie){return ie?re.filter(ae=>O.has(ae)||"array"===ie&&"array"===ae):[]}(ie,ce.coerceTypes),ve=ie.length>0&&!(0===pe.length&&1===ie.length&&(0,w.schemaHasRulesForType)(re,ie[0]));if(ve){const De=Q(ie,ue,ce.strictNumbers,k.Wrong);ae.if(De,()=>{pe.length?function V(re,ie,ae){const{gen:ue,data:ce,opts:pe}=re,ve=ue.let("dataType",H._`typeof ${ce}`),De=ue.let("coerced",H._`undefined`);"array"===pe.coerceTypes&&ue.if(H._`${ve} == 'object' && Array.isArray(${ce}) && ${ce}.length == 1`,()=>ue.assign(ce,H._`${ce}[0]`).assign(ve,H._`typeof ${ce}`).if(Q(ie,ce,pe.strictNumbers),()=>ue.assign(De,ce))),ue.if(H._`${De} !== undefined`);for(const s of ae)(O.has(s)||"array"===s&&"array"===pe.coerceTypes)&&C(s);function C(s){switch(s){case"string":return void ue.elseIf(H._`${ve} == "number" || ${ve} == "boolean"`).assign(De,H._`"" + ${ce}`).elseIf(H._`${ce} === null`).assign(De,H._`""`);case"number":return void ue.elseIf(H._`${ve} == "boolean" || ${ce} === null
              || (${ve} == "string" && ${ce} && ${ce} == +${ce})`).assign(De,H._`+${ce}`);case"integer":return void ue.elseIf(H._`${ve} === "boolean" || ${ce} === null
              || (${ve} === "string" && ${ce} && ${ce} == +${ce} && !(${ce} % 1))`).assign(De,H._`+${ce}`);case"boolean":return void ue.elseIf(H._`${ce} === "false" || ${ce} === 0 || ${ce} === null`).assign(De,!1).elseIf(H._`${ce} === "true" || ${ce} === 1`).assign(De,!0);case"null":return ue.elseIf(H._`${ce} === "" || ${ce} === 0 || ${ce} === false`),void ue.assign(De,null);case"array":ue.elseIf(H._`${ve} === "string" || ${ve} === "number"
              || ${ve} === "boolean" || ${ce} === null`).assign(De,H._`[${ce}]`)}}ue.else(),Y(re),ue.endIf(),ue.if(H._`${De} !== undefined`,()=>{ue.assign(ce,De),function U({gen:re,parentData:ie,parentDataProperty:ae},ue){re.if(H._`${ie} !== undefined`,()=>re.assign(H._`${ie}[${ae}]`,ue))}(re,De)})}(re,ie,pe):Y(re)})}return ve};const O=new Set(["string","number","integer","boolean","null"]);function K(re,ie,ae,ue=k.Correct){const ce=ue===k.Correct?H.operators.EQ:H.operators.NEQ;let pe;switch(re){case"null":return H._`${ie} ${ce} null`;case"array":pe=H._`Array.isArray(${ie})`;break;case"object":pe=H._`${ie} && typeof ${ie} == "object" && !Array.isArray(${ie})`;break;case"integer":pe=ve(H._`!(${ie} % 1) && !isNaN(${ie})`);break;case"number":pe=ve();break;default:return H._`typeof ${ie} ${ce} ${re}`}return ue===k.Correct?pe:(0,H.not)(pe);function ve(De=H.nil){return(0,H.and)(H._`typeof ${ie} == "number"`,De,ae?H._`isFinite(${ie})`:H.nil)}}function Q(re,ie,ae,ue){if(1===re.length)return K(re[0],ie,ae,ue);let ce;const pe=(0,b.toHash)(re);if(pe.array&&pe.object){const ve=H._`typeof ${ie} != "object"`;ce=pe.null?ve:H._`!${ie} || ${ve}`,delete pe.null,delete pe.array,delete pe.object}else ce=H.nil;pe.number&&delete pe.integer;for(const ve in pe)ce=(0,H.and)(ce,K(ve,ie,ae,ue));return ce}j.checkDataType=K,j.checkDataTypes=Q;const q={message:({schema:re})=>`must be ${re}`,params:({schema:re,schemaValue:ie})=>"string"==typeof re?H._`{type: ${re}}`:H._`{type: ${ie}}`};function Y(re){const ie=function W(re){const{gen:ie,data:ae,schema:ue}=re,ce=(0,b.schemaRefOrVal)(re,ue,"type");return{gen:ie,keyword:"type",data:ae,schema:ue.type,schemaCode:ce,schemaValue:ce,parentSchema:ue,params:{},it:re}}(re);(0,B.reportError)(ie,q)}j.reportTypeError=Y},48733:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.assignDefaults=void 0;const g=E(1038),w=E(27006);function H(b,k,S){const{gen:P,compositeRule:R,data:O,opts:A}=b;if(void 0===S)return;const V=g._`${O}${(0,g.getProperty)(k)}`;if(R)return void(0,w.checkStrictMode)(b,`default is ignored for: ${V}`);let U=g._`${V} === undefined`;"empty"===A.useDefaults&&(U=g._`${U} || ${V} === null || ${V} === ""`),P.if(U,g._`${V} = ${(0,g.stringify)(S)}`)}j.assignDefaults=function B(b,k){const{properties:S,items:P}=b.schema;if("object"===k&&S)for(const R in S)H(b,R,S[R].default);else"array"===k&&Array.isArray(P)&&P.forEach((R,O)=>H(b,O,R.default))}},40339:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getData=j.KeywordCxt=j.validateFunctionCode=void 0;const g=E(37864),w=E(55999),B=E(22650),H=E(55999),b=E(48733),k=E(76800),S=E(16334),P=E(1038),R=E(23432),O=E(77172),A=E(27006),V=E(53421);function K({gen:xe,validateName:Ce,schema:be,schemaEnv:he,opts:ne},te){ne.code.es5?xe.func(Ce,P._`${R.default.data}, ${R.default.valCxt}`,he.$async,()=>{xe.code(P._`"use strict"; ${re(be,ne)}`),function q(xe,Ce){xe.if(R.default.valCxt,()=>{xe.var(R.default.instancePath,P._`${R.default.valCxt}.${R.default.instancePath}`),xe.var(R.default.parentData,P._`${R.default.valCxt}.${R.default.parentData}`),xe.var(R.default.parentDataProperty,P._`${R.default.valCxt}.${R.default.parentDataProperty}`),xe.var(R.default.rootData,P._`${R.default.valCxt}.${R.default.rootData}`),Ce.dynamicRef&&xe.var(R.default.dynamicAnchors,P._`${R.default.valCxt}.${R.default.dynamicAnchors}`)},()=>{xe.var(R.default.instancePath,P._`""`),xe.var(R.default.parentData,P._`undefined`),xe.var(R.default.parentDataProperty,P._`undefined`),xe.var(R.default.rootData,R.default.data),Ce.dynamicRef&&xe.var(R.default.dynamicAnchors,P._`{}`)})}(xe,ne),xe.code(te)}):xe.func(Ce,P._`${R.default.data}, ${function Q(xe){return P._`{${R.default.instancePath}="", ${R.default.parentData}, ${R.default.parentDataProperty}, ${R.default.rootData}=${R.default.data}${xe.dynamicRef?P._`, ${R.default.dynamicAnchors}={}`:P.nil}}={}`}(ne)}`,he.$async,()=>xe.code(re(be,ne)).code(te))}function re(xe,Ce){const be="object"==typeof xe&&xe[Ce.schemaId];return be&&(Ce.code.source||Ce.code.process)?P._`/*# sourceURL=${be} */`:P.nil}function ae({schema:xe,self:Ce}){if("boolean"==typeof xe)return!xe;for(const be in xe)if(Ce.RULES.all[be])return!0;return!1}function ue(xe){return"boolean"!=typeof xe.schema}function pe(xe){(0,A.checkUnknownRules)(xe),function De(xe){const{schema:Ce,errSchemaPath:be,opts:he,self:ne}=xe;Ce.$ref&&he.ignoreKeywordsWithRef&&(0,A.schemaHasRulesButRef)(Ce,ne.RULES)&&ne.logger.warn(`$ref: keywords ignored in schema at path "${be}"`)}(xe)}function ve(xe,Ce){if(xe.opts.jtd)return I(xe,[],!1,Ce);const be=(0,w.getSchemaTypes)(xe.schema);I(xe,be,!(0,w.coerceAndCheckDataType)(xe,be),Ce)}function h({gen:xe,schemaEnv:Ce,schema:be,errSchemaPath:he,opts:ne}){const te=be.$comment;if(!0===ne.$comment)xe.code(P._`${R.default.self}.logger.log(${te})`);else if("function"==typeof ne.$comment){const de=P.str`${he}/$comment`,_e=xe.scopeValue("root",{ref:Ce.root});xe.code(P._`${R.default.self}.opts.$comment(${te}, ${de}, ${_e}.schema)`)}}function I(xe,Ce,be,he){const{gen:ne,schema:te,data:de,allErrors:_e,opts:Ie,self:He}=xe,{RULES:Ve}=He;function Dt(Ne){(0,B.shouldUseGroup)(te,Ne)&&(Ne.type?(ne.if((0,H.checkDataType)(Ne.type,de,Ie.strictNumbers)),L(xe,Ne),1===Ce.length&&Ce[0]===Ne.type&&be&&(ne.else(),(0,H.reportTypeError)(xe)),ne.endIf()):L(xe,Ne),_e||ne.if(P._`${R.default.errors} === ${he||0}`))}!te.$ref||!Ie.ignoreKeywordsWithRef&&(0,A.schemaHasRulesButRef)(te,Ve)?(Ie.jtd||function x(xe,Ce){xe.schemaEnv.meta||!xe.opts.strictTypes||(function a(xe,Ce){if(Ce.length){if(!xe.dataTypes.length)return void(xe.dataTypes=Ce);Ce.forEach(be=>{ee(xe.dataTypes,be)||we(xe,`type "${be}" not allowed by context "${xe.dataTypes.join(",")}"`)}),function le(xe,Ce){const be=[];for(const he of xe.dataTypes)ee(Ce,he)?be.push(he):Ce.includes("integer")&&"number"===he&&be.push("integer");xe.dataTypes=be}(xe,Ce)}}(xe,Ce),xe.opts.allowUnionTypes||function v(xe,Ce){Ce.length>1&&(2!==Ce.length||!Ce.includes("null"))&&we(xe,"use allowUnionTypes to allow union type keyword")}(xe,Ce),function Z(xe,Ce){const be=xe.self.RULES.all;for(const he in be){const ne=be[he];if("object"==typeof ne&&(0,B.shouldUseRule)(xe.schema,ne)){const{type:te}=ne.definition;te.length&&!te.some(de=>z(Ce,de))&&we(xe,`missing type "${te.join(",")}" for keyword "${he}"`)}}}(xe,xe.dataTypes))}(xe,Ce),ne.block(()=>{for(const Ne of Ve.rules)Dt(Ne);Dt(Ve.post)})):ne.block(()=>Ze(xe,"$ref",Ve.all.$ref.definition))}function L(xe,Ce){const{gen:be,schema:he,opts:{useDefaults:ne}}=xe;ne&&(0,b.assignDefaults)(xe,Ce.type),be.block(()=>{for(const te of Ce.rules)(0,B.shouldUseRule)(he,te)&&Ze(xe,te.keyword,te.definition,Ce.type)})}function z(xe,Ce){return xe.includes(Ce)||"number"===Ce&&xe.includes("integer")}function ee(xe,Ce){return xe.includes(Ce)||"integer"===Ce&&xe.includes("number")}function we(xe,Ce){(0,A.checkStrictMode)(xe,Ce+=` at "${xe.schemaEnv.baseId+xe.errSchemaPath}" (strictTypes)`,xe.opts.strictTypes)}j.validateFunctionCode=function U(xe){ue(xe)&&(pe(xe),ae(xe))?function Y(xe){const{schema:Ce,opts:be,gen:he}=xe;K(xe,()=>{be.$comment&&Ce.$comment&&h(xe),function C(xe){const{schema:Ce,opts:be}=xe;void 0!==Ce.default&&be.useDefaults&&be.strictSchema&&(0,A.checkStrictMode)(xe,"default is ignored in the schema root")}(xe),he.let(R.default.vErrors,null),he.let(R.default.errors,0),be.unevaluated&&function W(xe){const{gen:Ce,validateName:be}=xe;xe.evaluated=Ce.const("evaluated",P._`${be}.evaluated`),Ce.if(P._`${xe.evaluated}.dynamicProps`,()=>Ce.assign(P._`${xe.evaluated}.props`,P._`undefined`)),Ce.if(P._`${xe.evaluated}.dynamicItems`,()=>Ce.assign(P._`${xe.evaluated}.items`,P._`undefined`))}(xe),ve(xe),function f(xe){const{gen:Ce,schemaEnv:be,validateName:he,ValidationError:ne,opts:te}=xe;be.$async?Ce.if(P._`${R.default.errors} === 0`,()=>Ce.return(R.default.data),()=>Ce.throw(P._`new ${ne}(${R.default.vErrors})`)):(Ce.assign(P._`${he}.errors`,R.default.vErrors),te.unevaluated&&function _({gen:xe,evaluated:Ce,props:be,items:he}){be instanceof P.Name&&xe.assign(P._`${Ce}.props`,be),he instanceof P.Name&&xe.assign(P._`${Ce}.items`,he)}(xe),Ce.return(P._`${R.default.errors} === 0`))}(xe)})}(xe):K(xe,()=>(0,g.topBoolOrEmptySchema)(xe))};class Me{constructor(Ce,be,he){if((0,k.validateKeywordUsage)(Ce,be,he),this.gen=Ce.gen,this.allErrors=Ce.allErrors,this.keyword=he,this.data=Ce.data,this.schema=Ce.schema[he],this.$data=be.$data&&Ce.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,A.schemaRefOrVal)(Ce,this.schema,he,this.$data),this.schemaType=be.schemaType,this.parentSchema=Ce.schema,this.params={},this.it=Ce,this.def=be,this.$data)this.schemaCode=Ce.gen.const("vSchema",Ue(this.$data,Ce));else if(this.schemaCode=this.schemaValue,!(0,k.validSchemaType)(this.schema,be.schemaType,be.allowUndefined))throw new Error(`${he} value must be ${JSON.stringify(be.schemaType)}`);("code"in be?be.trackErrors:!1!==be.errors)&&(this.errsCount=Ce.gen.const("_errs",R.default.errors))}result(Ce,be,he){this.failResult((0,P.not)(Ce),be,he)}failResult(Ce,be,he){this.gen.if(Ce),he?he():this.error(),be?(this.gen.else(),be(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Ce,be){this.failResult((0,P.not)(Ce),void 0,be)}fail(Ce){if(void 0===Ce)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Ce),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Ce){if(!this.$data)return this.fail(Ce);const{schemaCode:be}=this;this.fail(P._`${be} !== undefined && (${(0,P.or)(this.invalid$data(),Ce)})`)}error(Ce,be,he){if(be)return this.setParams(be),this._error(Ce,he),void this.setParams({});this._error(Ce,he)}_error(Ce,be){(Ce?V.reportExtraError:V.reportError)(this,this.def.error,be)}$dataError(){(0,V.reportError)(this,this.def.$dataError||V.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,V.resetErrorsCount)(this.gen,this.errsCount)}ok(Ce){this.allErrors||this.gen.if(Ce)}setParams(Ce,be){be?Object.assign(this.params,Ce):this.params=Ce}block$data(Ce,be,he=P.nil){this.gen.block(()=>{this.check$data(Ce,he),be()})}check$data(Ce=P.nil,be=P.nil){if(!this.$data)return;const{gen:he,schemaCode:ne,schemaType:te,def:de}=this;he.if((0,P.or)(P._`${ne} === undefined`,be)),Ce!==P.nil&&he.assign(Ce,!0),(te.length||de.validateSchema)&&(he.elseIf(this.invalid$data()),this.$dataError(),Ce!==P.nil&&he.assign(Ce,!1)),he.else()}invalid$data(){const{gen:Ce,schemaCode:be,schemaType:he,def:ne,it:te}=this;return(0,P.or)(function de(){if(he.length){if(!(be instanceof P.Name))throw new Error("ajv implementation error");const Ie=Array.isArray(he)?he:[he];return P._`${(0,H.checkDataTypes)(Ie,be,te.opts.strictNumbers,H.DataType.Wrong)}`}return P.nil}(),function _e(){if(ne.validateSchema){const Ie=Ce.scopeValue("validate$data",{ref:ne.validateSchema});return P._`!${Ie}(${be})`}return P.nil}())}subschema(Ce,be){const he=(0,S.getSubschema)(this.it,Ce);(0,S.extendSubschemaData)(he,this.it,Ce),(0,S.extendSubschemaMode)(he,Ce);const ne={...this.it,...he,items:void 0,props:void 0};return function ie(xe,Ce){ue(xe)&&(pe(xe),ae(xe))?function ce(xe,Ce){const{schema:be,gen:he,opts:ne}=xe;ne.$comment&&be.$comment&&h(xe),function s(xe){const Ce=xe.schema[xe.opts.schemaId];Ce&&(xe.baseId=(0,O.resolveUrl)(xe.opts.uriResolver,xe.baseId,Ce))}(xe),function d(xe){if(xe.schema.$async&&!xe.schemaEnv.$async)throw new Error("async schema in sync schema")}(xe);const te=he.const("_errs",R.default.errors);ve(xe,te),he.var(Ce,P._`${te} === ${R.default.errors}`)}(xe,Ce):(0,g.boolOrEmptySchema)(xe,Ce)}(ne,be),ne}mergeEvaluated(Ce,be){const{it:he,gen:ne}=this;he.opts.unevaluated&&(!0!==he.props&&void 0!==Ce.props&&(he.props=A.mergeEvaluated.props(ne,Ce.props,he.props,be)),!0!==he.items&&void 0!==Ce.items&&(he.items=A.mergeEvaluated.items(ne,Ce.items,he.items,be)))}mergeValidEvaluated(Ce,be){const{it:he,gen:ne}=this;if(he.opts.unevaluated&&(!0!==he.props||!0!==he.items))return ne.if(be,()=>this.mergeEvaluated(Ce,P.Name)),!0}}function Ze(xe,Ce,be,he){const ne=new Me(xe,be,Ce);"code"in be?be.code(ne,he):ne.$data&&be.validate?(0,k.funcKeywordCode)(ne,be):"macro"in be?(0,k.macroKeywordCode)(ne,be):(be.compile||be.validate)&&(0,k.funcKeywordCode)(ne,be)}j.KeywordCxt=Me;const ge=/^\/(?:[^~]|~0|~1)*$/,me=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ue(xe,{dataLevel:Ce,dataNames:be,dataPathArr:he}){let ne,te;if(""===xe)return R.default.rootData;if("/"===xe[0]){if(!ge.test(xe))throw new Error(`Invalid JSON-pointer: ${xe}`);ne=xe,te=R.default.rootData}else{const He=me.exec(xe);if(!He)throw new Error(`Invalid JSON-pointer: ${xe}`);const Ve=+He[1];if(ne=He[2],"#"===ne){if(Ve>=Ce)throw new Error(Ie("property/index",Ve));return he[Ce-Ve]}if(Ve>Ce)throw new Error(Ie("data",Ve));if(te=be[Ce-Ve],!ne)return te}let de=te;const _e=ne.split("/");for(const He of _e)He&&(te=P._`${te}${(0,P.getProperty)((0,A.unescapeJsonPointer)(He))}`,de=P._`${de} && ${te}`);return de;function Ie(He,Ve){return`Cannot access ${He} ${Ve} levels up, current level is ${Ce}`}}j.getData=Ue},76800:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateKeywordUsage=j.validSchemaType=j.funcKeywordCode=j.macroKeywordCode=void 0;const g=E(1038),w=E(23432),B=E(42406),H=E(53421);function S(U){const{gen:K,data:Q,it:q}=U;K.if(q.parentData,()=>K.assign(Q,g._`${q.parentData}[${q.parentDataProperty}]`))}function O(U,K,Q){if(void 0===Q)throw new Error(`keyword "${K}" failed to compile`);return U.scopeValue("keyword","function"==typeof Q?{ref:Q}:{ref:Q,code:(0,g.stringify)(Q)})}j.macroKeywordCode=function b(U,K){const{gen:Q,keyword:q,schema:Y,parentSchema:W,it:re}=U,ie=K.macro.call(re.self,Y,W,re),ae=O(Q,q,ie);!1!==re.opts.validateSchema&&re.self.validateSchema(ie,!0);const ue=Q.name("valid");U.subschema({schema:ie,schemaPath:g.nil,errSchemaPath:`${re.errSchemaPath}/${q}`,topSchemaRef:ae,compositeRule:!0},ue),U.pass(ue,()=>U.error(!0))},j.funcKeywordCode=function k(U,K){var Q;const{gen:q,keyword:Y,schema:W,parentSchema:re,$data:ie,it:ae}=U;!function R({schemaEnv:U},K){if(K.async&&!U.$async)throw new Error("async keyword in sync schema")}(ae,K);const ue=!ie&&K.compile?K.compile.call(ae.self,W,re,ae):K.validate,ce=O(q,Y,ue),pe=q.let("valid");function s(h=(K.async?g._`await `:g.nil)){q.assign(pe,g._`${h}${(0,B.callValidateCode)(U,ce,ae.opts.passContext?w.default.this:w.default.self,!("compile"in K&&!ie||!1===K.schema))}`,K.modifying)}function d(h){var f;q.if((0,g.not)(null!==(f=K.valid)&&void 0!==f?f:pe),h)}U.block$data(pe,function ve(){if(!1===K.errors)s(),K.modifying&&S(U),d(()=>U.error());else{const h=K.async?function De(){const h=q.let("ruleErrs",null);return q.try(()=>s(g._`await `),f=>q.assign(pe,!1).if(g._`${f} instanceof ${ae.ValidationError}`,()=>q.assign(h,g._`${f}.errors`),()=>q.throw(f))),h}():function C(){const h=g._`${ce}.errors`;return q.assign(h,null),s(g.nil),h}();K.modifying&&S(U),d(()=>function P(U,K){const{gen:Q}=U;Q.if(g._`Array.isArray(${K})`,()=>{Q.assign(w.default.vErrors,g._`${w.default.vErrors} === null ? ${K} : ${w.default.vErrors}.concat(${K})`).assign(w.default.errors,g._`${w.default.vErrors}.length`),(0,H.extendErrors)(U)},()=>U.error())}(U,h))}}),U.ok(null!==(Q=K.valid)&&void 0!==Q?Q:pe)},j.validSchemaType=function A(U,K,Q=!1){return!K.length||K.some(q=>"array"===q?Array.isArray(U):"object"===q?U&&"object"==typeof U&&!Array.isArray(U):typeof U==q||Q&&typeof U>"u")},j.validateKeywordUsage=function V({schema:U,opts:K,self:Q,errSchemaPath:q},Y,W){if(Array.isArray(Y.keyword)?!Y.keyword.includes(W):Y.keyword!==W)throw new Error("ajv implementation error");const re=Y.dependencies;if(re?.some(ie=>!Object.prototype.hasOwnProperty.call(U,ie)))throw new Error(`parent schema must have dependencies of ${W}: ${re.join(",")}`);if(Y.validateSchema&&!Y.validateSchema(U[W])){const ae=`keyword "${W}" value is invalid at path "${q}": `+Q.errorsText(Y.validateSchema.errors);if("log"!==K.validateSchema)throw new Error(ae);Q.logger.error(ae)}}},16334:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.extendSubschemaMode=j.extendSubschemaData=j.getSubschema=void 0;const g=E(1038),w=E(27006);j.getSubschema=function B(k,{keyword:S,schemaProp:P,schema:R,schemaPath:O,errSchemaPath:A,topSchemaRef:V}){if(void 0!==S&&void 0!==R)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==S){const U=k.schema[S];return void 0===P?{schema:U,schemaPath:g._`${k.schemaPath}${(0,g.getProperty)(S)}`,errSchemaPath:`${k.errSchemaPath}/${S}`}:{schema:U[P],schemaPath:g._`${k.schemaPath}${(0,g.getProperty)(S)}${(0,g.getProperty)(P)}`,errSchemaPath:`${k.errSchemaPath}/${S}/${(0,w.escapeFragment)(P)}`}}if(void 0!==R){if(void 0===O||void 0===A||void 0===V)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:R,schemaPath:O,topSchemaRef:V,errSchemaPath:A}}throw new Error('either "keyword" or "schema" must be passed')},j.extendSubschemaData=function H(k,S,{dataProp:P,dataPropType:R,data:O,dataTypes:A,propertyName:V}){if(void 0!==O&&void 0!==P)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:U}=S;if(void 0!==P){const{errorPath:Q,dataPathArr:q,opts:Y}=S;K(U.let("data",g._`${S.data}${(0,g.getProperty)(P)}`,!0)),k.errorPath=g.str`${Q}${(0,w.getErrorPath)(P,R,Y.jsPropertySyntax)}`,k.parentDataProperty=g._`${P}`,k.dataPathArr=[...q,k.parentDataProperty]}function K(Q){k.data=Q,k.dataLevel=S.dataLevel+1,k.dataTypes=[],S.definedProperties=new Set,k.parentData=S.data,k.dataNames=[...S.dataNames,Q]}void 0!==O&&(K(O instanceof g.Name?O:U.let("data",O,!0)),void 0!==V&&(k.propertyName=V)),A&&(k.dataTypes=A)},j.extendSubschemaMode=function b(k,{jtdDiscriminator:S,jtdMetadata:P,compositeRule:R,createErrors:O,allErrors:A}){void 0!==R&&(k.compositeRule=R),void 0!==O&&(k.createErrors=O),void 0!==A&&(k.allErrors=A),k.jtdDiscriminator=S,k.jtdMetadata=P}},35419:($e,j,E)=>{"use strict";var g=E(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.CodeGen=j.Name=j.nil=j.stringify=j.str=j._=j.KeywordCxt=void 0;var w=E(40339);Object.defineProperty(j,"KeywordCxt",{enumerable:!0,get:function(){return w.KeywordCxt}});var B=E(1038);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return B._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return B.str}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return B.stringify}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return B.nil}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return B.Name}}),Object.defineProperty(j,"CodeGen",{enumerable:!0,get:function(){return B.CodeGen}});const H=E(42467),b=E(26288),k=E(32203),S=E(97692),P=E(1038),R=E(77172),O=E(55999),A=E(27006),V=E(83813),U=E(13203),K=(v,Z)=>new RegExp(v,Z);K.code="new RegExp";const Q=["removeAdditional","useDefaults","coerceTypes"],q=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},W={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function ie(v){var Z,z,ee,le,we,Me,Ze,ge,me,Ue,xe,Ce,be,he,ne,te,de,_e,Ie,He,Ve,Dt,Ne,ke,yt;const F=v.strict,D=null===(Z=v.code)||void 0===Z?void 0:Z.optimize,M=!0===D||void 0===D?1:D||0,G=null!==(ee=null===(z=v.code)||void 0===z?void 0:z.regExp)&&void 0!==ee?ee:K,fe=null!==(le=v.uriResolver)&&void 0!==le?le:U.default;return{strictSchema:null===(Me=null!==(we=v.strictSchema)&&void 0!==we?we:F)||void 0===Me||Me,strictNumbers:null===(ge=null!==(Ze=v.strictNumbers)&&void 0!==Ze?Ze:F)||void 0===ge||ge,strictTypes:null!==(Ue=null!==(me=v.strictTypes)&&void 0!==me?me:F)&&void 0!==Ue?Ue:"log",strictTuples:null!==(Ce=null!==(xe=v.strictTuples)&&void 0!==xe?xe:F)&&void 0!==Ce?Ce:"log",strictRequired:null!==(he=null!==(be=v.strictRequired)&&void 0!==be?be:F)&&void 0!==he&&he,code:v.code?{...v.code,optimize:M,regExp:G}:{optimize:M,regExp:G},loopRequired:null!==(ne=v.loopRequired)&&void 0!==ne?ne:200,loopEnum:null!==(te=v.loopEnum)&&void 0!==te?te:200,meta:null===(de=v.meta)||void 0===de||de,messages:null===(_e=v.messages)||void 0===_e||_e,inlineRefs:null===(Ie=v.inlineRefs)||void 0===Ie||Ie,schemaId:null!==(He=v.schemaId)&&void 0!==He?He:"$id",addUsedSchema:null===(Ve=v.addUsedSchema)||void 0===Ve||Ve,validateSchema:null===(Dt=v.validateSchema)||void 0===Dt||Dt,validateFormats:null===(Ne=v.validateFormats)||void 0===Ne||Ne,unicodeRegExp:null===(ke=v.unicodeRegExp)||void 0===ke||ke,int32range:null===(yt=v.int32range)||void 0===yt||yt,uriResolver:fe}}class ae{constructor(Z={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Z=this.opts={...Z,...ie(Z)};const{es5:z,lines:ee}=this.opts.code;this.scope=new P.ValueScope({scope:{},prefixes:q,es5:z,lines:ee}),this.logger=function d(v){if(!1===v)return s;if(void 0===v)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}(Z.logger);const le=Z.validateFormats;Z.validateFormats=!1,this.RULES=(0,k.getRules)(),ue.call(this,Y,Z,"NOT SUPPORTED"),ue.call(this,W,Z,"DEPRECATED","warn"),this._metaOpts=C.call(this),Z.formats&&ve.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Z.keywords&&De.call(this,Z.keywords),"object"==typeof Z.meta&&this.addMetaSchema(Z.meta),pe.call(this),Z.validateFormats=le}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Z,meta:z,schemaId:ee}=this.opts;let le=V;"id"===ee&&(le={...V},le.id=le.$id,delete le.$id),z&&Z&&this.addMetaSchema(le,le[ee],!1)}defaultMeta(){const{meta:Z,schemaId:z}=this.opts;return this.opts.defaultMeta="object"==typeof Z?Z[z]||Z:void 0}validate(Z,z){let ee;if("string"==typeof Z){if(ee=this.getSchema(Z),!ee)throw new Error(`no schema with key or ref "${Z}"`)}else ee=this.compile(Z);const le=ee(z);return"$async"in ee||(this.errors=ee.errors),le}compile(Z,z){const ee=this._addSchema(Z,z);return ee.validate||this._compileSchemaEnv(ee)}compileAsync(Z,z){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:ee}=this.opts;return le.call(this,Z,z);function le(ne,te){return we.apply(this,arguments)}function we(){return(we=g(function*(ne,te){yield Me.call(this,ne.$schema);const de=this._addSchema(ne,te);return de.validate||ge.call(this,de)})).apply(this,arguments)}function Me(ne){return Ze.apply(this,arguments)}function Ze(){return(Ze=g(function*(ne){ne&&!this.getSchema(ne)&&(yield le.call(this,{$ref:ne},!0))})).apply(this,arguments)}function ge(ne){return me.apply(this,arguments)}function me(){return(me=g(function*(ne){try{return this._compileSchemaEnv(ne)}catch(te){if(!(te instanceof b.default))throw te;return Ue.call(this,te),yield xe.call(this,te.missingSchema),ge.call(this,ne)}})).apply(this,arguments)}function Ue({missingSchema:ne,missingRef:te}){if(this.refs[ne])throw new Error(`AnySchema ${ne} is loaded but ${te} cannot be resolved`)}function xe(ne){return Ce.apply(this,arguments)}function Ce(){return(Ce=g(function*(ne){const te=yield be.call(this,ne);this.refs[ne]||(yield Me.call(this,te.$schema)),this.refs[ne]||this.addSchema(te,ne,z)})).apply(this,arguments)}function be(ne){return he.apply(this,arguments)}function he(){return(he=g(function*(ne){const te=this._loading[ne];if(te)return te;try{return yield this._loading[ne]=ee(ne)}finally{delete this._loading[ne]}})).apply(this,arguments)}}addSchema(Z,z,ee,le=this.opts.validateSchema){if(Array.isArray(Z)){for(const Me of Z)this.addSchema(Me,void 0,ee,le);return this}let we;if("object"==typeof Z){const{schemaId:Me}=this.opts;if(we=Z[Me],void 0!==we&&"string"!=typeof we)throw new Error(`schema ${Me} must be string`)}return z=(0,R.normalizeId)(z||we),this._checkUnique(z),this.schemas[z]=this._addSchema(Z,ee,z,le,!0),this}addMetaSchema(Z,z,ee=this.opts.validateSchema){return this.addSchema(Z,z,!0,ee),this}validateSchema(Z,z){if("boolean"==typeof Z)return!0;let ee;if(ee=Z.$schema,void 0!==ee&&"string"!=typeof ee)throw new Error("$schema must be a string");if(ee=ee||this.opts.defaultMeta||this.defaultMeta(),!ee)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const le=this.validate(ee,Z);if(!le&&z){const we="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(we);this.logger.error(we)}return le}getSchema(Z){let z;for(;"string"==typeof(z=ce.call(this,Z));)Z=z;if(void 0===z){const{schemaId:ee}=this.opts,le=new S.SchemaEnv({schema:{},schemaId:ee});if(z=S.resolveSchema.call(this,le,Z),!z)return;this.refs[Z]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(Z){if(Z instanceof RegExp)return this._removeAllSchemas(this.schemas,Z),this._removeAllSchemas(this.refs,Z),this;switch(typeof Z){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=ce.call(this,Z);return"object"==typeof z&&this._cache.delete(z.schema),delete this.schemas[Z],delete this.refs[Z],this}case"object":{this._cache.delete(Z);let ee=Z[this.opts.schemaId];return ee&&(ee=(0,R.normalizeId)(ee),delete this.schemas[ee],delete this.refs[ee]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Z){for(const z of Z)this.addKeyword(z);return this}addKeyword(Z,z){let ee;if("string"==typeof Z)ee=Z,"object"==typeof z&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=ee);else{if("object"!=typeof Z||void 0!==z)throw new Error("invalid addKeywords parameters");if(ee=(z=Z).keyword,Array.isArray(ee)&&!ee.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(f.call(this,ee,z),!z)return(0,A.eachItem)(ee,we=>_.call(this,we)),this;L.call(this,z);const le={...z,type:(0,O.getJSONTypes)(z.type),schemaType:(0,O.getJSONTypes)(z.schemaType)};return(0,A.eachItem)(ee,0===le.type.length?we=>_.call(this,we,le):we=>le.type.forEach(Me=>_.call(this,we,le,Me))),this}getKeyword(Z){const z=this.RULES.all[Z];return"object"==typeof z?z.definition:!!z}removeKeyword(Z){const{RULES:z}=this;delete z.keywords[Z],delete z.all[Z];for(const ee of z.rules){const le=ee.rules.findIndex(we=>we.keyword===Z);le>=0&&ee.rules.splice(le,1)}return this}addFormat(Z,z){return"string"==typeof z&&(z=new RegExp(z)),this.formats[Z]=z,this}errorsText(Z=this.errors,{separator:z=", ",dataVar:ee="data"}={}){return Z&&0!==Z.length?Z.map(le=>`${ee}${le.instancePath} ${le.message}`).reduce((le,we)=>le+z+we):"No errors"}$dataMetaSchema(Z,z){const ee=this.RULES.all;Z=JSON.parse(JSON.stringify(Z));for(const le of z){const we=le.split("/").slice(1);let Me=Z;for(const Ze of we)Me=Me[Ze];for(const Ze in ee){const ge=ee[Ze];if("object"!=typeof ge)continue;const{$data:me}=ge.definition,Ue=Me[Ze];me&&Ue&&(Me[Ze]=a(Ue))}}return Z}_removeAllSchemas(Z,z){for(const ee in Z){const le=Z[ee];(!z||z.test(ee))&&("string"==typeof le?delete Z[ee]:le&&!le.meta&&(this._cache.delete(le.schema),delete Z[ee]))}}_addSchema(Z,z,ee,le=this.opts.validateSchema,we=this.opts.addUsedSchema){let Me;const{schemaId:Ze}=this.opts;if("object"==typeof Z)Me=Z[Ze];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof Z)throw new Error("schema must be object or boolean")}let ge=this._cache.get(Z);if(void 0!==ge)return ge;ee=(0,R.normalizeId)(Me||ee);const me=R.getSchemaRefs.call(this,Z,ee);return ge=new S.SchemaEnv({schema:Z,schemaId:Ze,meta:z,baseId:ee,localRefs:me}),this._cache.set(ge.schema,ge),we&&!ee.startsWith("#")&&(ee&&this._checkUnique(ee),this.refs[ee]=ge),le&&this.validateSchema(Z,!0),ge}_checkUnique(Z){if(this.schemas[Z]||this.refs[Z])throw new Error(`schema with key or id "${Z}" already exists`)}_compileSchemaEnv(Z){if(Z.meta?this._compileMetaSchema(Z):S.compileSchema.call(this,Z),!Z.validate)throw new Error("ajv implementation error");return Z.validate}_compileMetaSchema(Z){const z=this.opts;this.opts=this._metaOpts;try{S.compileSchema.call(this,Z)}finally{this.opts=z}}}function ue(v,Z,z,ee="error"){for(const le in v)le in Z&&this.logger[ee](`${z}: option ${le}. ${v[le]}`)}function ce(v){return v=(0,R.normalizeId)(v),this.schemas[v]||this.refs[v]}function pe(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const Z in v)this.addSchema(v[Z],Z)}function ve(){for(const v in this.opts.formats){const Z=this.opts.formats[v];Z&&this.addFormat(v,Z)}}function De(v){if(Array.isArray(v))this.addVocabulary(v);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const Z in v){const z=v[Z];z.keyword||(z.keyword=Z),this.addKeyword(z)}}}function C(){const v={...this.opts};for(const Z of Q)delete v[Z];return v}j.default=ae,ae.ValidationError=H.default,ae.MissingRefError=b.default;const s={log(){},warn(){},error(){}},h=/^[a-z_$][a-z0-9_$:-]*$/i;function f(v,Z){const{RULES:z}=this;if((0,A.eachItem)(v,ee=>{if(z.keywords[ee])throw new Error(`Keyword ${ee} is already defined`);if(!h.test(ee))throw new Error(`Keyword ${ee} has invalid name`)}),Z&&Z.$data&&!("code"in Z)&&!("validate"in Z))throw new Error('$data keyword must have "code" or "validate" function')}function _(v,Z,z){var ee;const le=Z?.post;if(z&&le)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:we}=this;let Me=le?we.post:we.rules.find(({type:ge})=>ge===z);if(Me||(Me={type:z,rules:[]},we.rules.push(Me)),we.keywords[v]=!0,!Z)return;const Ze={keyword:v,definition:{...Z,type:(0,O.getJSONTypes)(Z.type),schemaType:(0,O.getJSONTypes)(Z.schemaType)}};Z.before?I.call(this,Me,Ze,Z.before):Me.rules.push(Ze),we.all[v]=Ze,null===(ee=Z.implements)||void 0===ee||ee.forEach(ge=>this.addKeyword(ge))}function I(v,Z,z){const ee=v.rules.findIndex(le=>le.keyword===z);ee>=0?v.rules.splice(ee,0,Z):(v.rules.push(Z),this.logger.warn(`rule ${z} is not defined`))}function L(v){let{metaSchema:Z}=v;void 0!==Z&&(v.$data&&this.opts.$data&&(Z=a(Z)),v.validateSchema=this.compile(Z,!0))}const x={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function a(v){return{anyOf:[v,x]}}},87577:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(6438),w=E(59608),B=E(8307),H=E(11082),b=E(93406),k=E(14516),S=E(3059),P=E(18738),R=["/properties"];j.default=function O(A){return[g,w,B,H,b,V(this,k),S,V(this,P)].forEach(U=>this.addMetaSchema(U,void 0,!1)),this;function V(U,K){return A?U.$dataMetaSchema(K,R):K}}},92281:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(40362);g.code='require("ajv/dist/runtime/equal").default',j.default=g},26488:($e,j)=>{"use strict";function E(g){const w=g.length;let b,B=0,H=0;for(;H<w;)B++,b=g.charCodeAt(H++),b>=55296&&b<=56319&&H<w&&(b=g.charCodeAt(H),56320==(64512&b)&&H++);return B}Object.defineProperty(j,"__esModule",{value:!0}),j.default=E,E.code='require("ajv/dist/runtime/ucs2length").default'},13203:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(95568);g.code='require("ajv/dist/runtime/uri").default',j.default=g},42467:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});class E extends Error{constructor(w){super("validation failed"),this.errors=w,this.ajv=this.validation=!0}}j.default=E},46934:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateAdditionalItems=void 0;const g=E(1038),w=E(27006),H={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:k}})=>g.str`must NOT have more than ${k} items`,params:({params:{len:k}})=>g._`{limit: ${k}}`},code(k){const{parentSchema:S,it:P}=k,{items:R}=S;Array.isArray(R)?b(k,R):(0,w.checkStrictMode)(P,'"additionalItems" is ignored when "items" is not an array of schemas')}};function b(k,S){const{gen:P,schema:R,data:O,keyword:A,it:V}=k;V.items=!0;const U=P.const("len",g._`${O}.length`);if(!1===R)k.setParams({len:S.length}),k.pass(g._`${U} <= ${S.length}`);else if("object"==typeof R&&!(0,w.alwaysValidSchema)(V,R)){const Q=P.var("valid",g._`${U} <= ${S.length}`);P.if((0,g.not)(Q),()=>function K(Q){P.forRange("i",S.length,U,q=>{k.subschema({keyword:A,dataProp:q,dataPropType:w.Type.Num},Q),V.allErrors||P.if((0,g.not)(Q),()=>P.break())})}(Q)),k.ok(Q)}}j.validateAdditionalItems=b,j.default=H},18445:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(42406),w=E(1038),B=E(23432),H=E(27006);j.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:S})=>w._`{additionalProperty: ${S.additionalProperty}}`},code(S){const{gen:P,schema:R,parentSchema:O,data:A,errsCount:V,it:U}=S;if(!V)throw new Error("ajv implementation error");const{allErrors:K,opts:Q}=U;if(U.props=!0,"all"!==Q.removeAdditional&&(0,H.alwaysValidSchema)(U,R))return;const q=(0,g.allSchemaProperties)(O.properties),Y=(0,g.allSchemaProperties)(O.patternProperties);function ie(ce){P.code(w._`delete ${A}[${ce}]`)}function ae(ce){if("all"===Q.removeAdditional||Q.removeAdditional&&!1===R)ie(ce);else{if(!1===R)return S.setParams({additionalProperty:ce}),S.error(),void(K||P.break());if("object"==typeof R&&!(0,H.alwaysValidSchema)(U,R)){const pe=P.name("valid");"failing"===Q.removeAdditional?(ue(ce,pe,!1),P.if((0,w.not)(pe),()=>{S.reset(),ie(ce)})):(ue(ce,pe),K||P.if((0,w.not)(pe),()=>P.break()))}}}function ue(ce,pe,ve){const De={keyword:"additionalProperties",dataProp:ce,dataPropType:H.Type.Str};!1===ve&&Object.assign(De,{compositeRule:!0,createErrors:!1,allErrors:!1}),S.subschema(De,pe)}(function W(){P.forIn("key",A,ce=>{q.length||Y.length?P.if(function re(ce){let pe;if(q.length>8){const ve=(0,H.schemaRefOrVal)(U,O.properties,"properties");pe=(0,g.isOwnProperty)(P,ve,ce)}else pe=q.length?(0,w.or)(...q.map(ve=>w._`${ce} === ${ve}`)):w.nil;return Y.length&&(pe=(0,w.or)(pe,...Y.map(ve=>w._`${(0,g.usePattern)(S,ve)}.test(${ce})`))),(0,w.not)(pe)}(ce),()=>ae(ce)):ae(ce)})})(),S.ok(w._`${V} === ${B.default.errors}`)}}},77783:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(27006);j.default={keyword:"allOf",schemaType:"array",code(B){const{gen:H,schema:b,it:k}=B;if(!Array.isArray(b))throw new Error("ajv implementation error");const S=H.name("valid");b.forEach((P,R)=>{if((0,g.alwaysValidSchema)(k,P))return;const O=B.subschema({keyword:"allOf",schemaProp:R},S);B.ok(S),B.mergeEvaluated(O)})}}},60922:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const w={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:E(42406).validateUnion,error:{message:"must match a schema in anyOf"}};j.default=w},57568:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(27006);j.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:b,max:k}})=>void 0===k?g.str`must contain at least ${b} valid item(s)`:g.str`must contain at least ${b} and no more than ${k} valid item(s)`,params:({params:{min:b,max:k}})=>void 0===k?g._`{minContains: ${b}}`:g._`{minContains: ${b}, maxContains: ${k}}`},code(b){const{gen:k,schema:S,parentSchema:P,data:R,it:O}=b;let A,V;const{minContains:U,maxContains:K}=P;O.opts.next?(A=void 0===U?1:U,V=K):A=1;const Q=k.const("len",g._`${R}.length`);if(b.setParams({min:A,max:V}),void 0===V&&0===A)return void(0,w.checkStrictMode)(O,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==V&&A>V)return(0,w.checkStrictMode)(O,'"minContains" > "maxContains" is always invalid'),void b.fail();if((0,w.alwaysValidSchema)(O,S)){let ie=g._`${Q} >= ${A}`;return void 0!==V&&(ie=g._`${ie} && ${Q} <= ${V}`),void b.pass(ie)}O.items=!0;const q=k.name("valid");function Y(){const ie=k.name("_valid"),ae=k.let("count",0);W(ie,()=>k.if(ie,()=>function re(ie){k.code(g._`${ie}++`),void 0===V?k.if(g._`${ie} >= ${A}`,()=>k.assign(q,!0).break()):(k.if(g._`${ie} > ${V}`,()=>k.assign(q,!1).break()),1===A?k.assign(q,!0):k.if(g._`${ie} >= ${A}`,()=>k.assign(q,!0)))}(ae)))}function W(ie,ae){k.forRange("i",0,Q,ue=>{b.subschema({keyword:"contains",dataProp:ue,dataPropType:w.Type.Num,compositeRule:!0},ie),ae()})}void 0===V&&1===A?W(q,()=>k.if(q,()=>k.break())):0===A?(k.let(q,!0),void 0!==V&&k.if(g._`${R}.length > 0`,Y)):(k.let(q,!1),Y()),b.result(q,()=>b.reset())}}},68032:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateSchemaDeps=j.validatePropertyDeps=j.error=void 0;const g=E(1038),w=E(27006),B=E(42406);j.error={message:({params:{property:P,depsCount:R,deps:O}})=>g.str`must have ${1===R?"property":"properties"} ${O} when property ${P} is present`,params:({params:{property:P,depsCount:R,deps:O,missingProperty:A}})=>g._`{property: ${P},
    missingProperty: ${A},
    depsCount: ${R},
    deps: ${O}}`};const H={keyword:"dependencies",type:"object",schemaType:"object",error:j.error,code(P){const[R,O]=function b({schema:P}){const R={},O={};for(const A in P)"__proto__"!==A&&((Array.isArray(P[A])?R:O)[A]=P[A]);return[R,O]}(P);k(P,R),S(P,O)}};function k(P,R=P.schema){const{gen:O,data:A,it:V}=P;if(0===Object.keys(R).length)return;const U=O.let("missing");for(const K in R){const Q=R[K];if(0===Q.length)continue;const q=(0,B.propertyInData)(O,A,K,V.opts.ownProperties);P.setParams({property:K,depsCount:Q.length,deps:Q.join(", ")}),V.allErrors?O.if(q,()=>{for(const Y of Q)(0,B.checkReportMissingProp)(P,Y)}):(O.if(g._`${q} && (${(0,B.checkMissingProp)(P,Q,U)})`),(0,B.reportMissingProp)(P,U),O.else())}}function S(P,R=P.schema){const{gen:O,data:A,keyword:V,it:U}=P,K=O.name("valid");for(const Q in R)(0,w.alwaysValidSchema)(U,R[Q])||(O.if((0,B.propertyInData)(O,A,Q,U.opts.ownProperties),()=>{const q=P.subschema({keyword:V,schemaProp:Q},K);P.mergeValidEvaluated(q,K)},()=>O.var(K,!0)),P.ok(K))}j.validatePropertyDeps=k,j.validateSchemaDeps=S,j.default=H},85164:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(68032);j.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:B=>(0,g.validateSchemaDeps)(B)}},45226:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(27006);function b(k,S){const P=k.schema[S];return void 0!==P&&!(0,w.alwaysValidSchema)(k,P)}j.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:k})=>g.str`must match "${k.ifClause}" schema`,params:({params:k})=>g._`{failingKeyword: ${k.ifClause}}`},code(k){const{gen:S,parentSchema:P,it:R}=k;void 0===P.then&&void 0===P.else&&(0,w.checkStrictMode)(R,'"if" without "then" and "else" is ignored');const O=b(R,"then"),A=b(R,"else");if(!O&&!A)return;const V=S.let("valid",!0),U=S.name("_valid");if(function K(){const q=k.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},U);k.mergeEvaluated(q)}(),k.reset(),O&&A){const q=S.let("ifClause");k.setParams({ifClause:q}),S.if(U,Q("then",q),Q("else",q))}else O?S.if(U,Q("then")):S.if((0,g.not)(U),Q("else"));function Q(q,Y){return()=>{const W=k.subschema({keyword:q},U);S.assign(V,U),k.mergeValidEvaluated(W,V),Y?S.assign(Y,g._`${q}`):k.setParams({ifClause:q})}}k.pass(V,()=>k.error(!0))}}},68261:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(46934),w=E(96537),B=E(2941),H=E(5261),b=E(57568),k=E(68032),S=E(36474),P=E(18445),R=E(34032),O=E(17330),A=E(3408),V=E(60922),U=E(88388),K=E(77783),Q=E(45226),q=E(98779);j.default=function Y(W=!1){const re=[A.default,V.default,U.default,K.default,Q.default,q.default,S.default,P.default,k.default,R.default,O.default];return W?re.push(w.default,H.default):re.push(g.default,B.default),re.push(b.default),re}},2941:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateTuple=void 0;const g=E(1038),w=E(27006),B=E(42406),H={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(k){const{schema:S,it:P}=k;if(Array.isArray(S))return b(k,"additionalItems",S);P.items=!0,!(0,w.alwaysValidSchema)(P,S)&&k.ok((0,B.validateArray)(k))}};function b(k,S,P=k.schema){const{gen:R,parentSchema:O,data:A,keyword:V,it:U}=k;(function q(Y){const{opts:W,errSchemaPath:re}=U,ie=P.length;W.strictTuples&&!(ie===Y.minItems&&(ie===Y.maxItems||!1===Y[S]))&&(0,w.checkStrictMode)(U,`"${V}" is ${ie}-tuple, but minItems or maxItems/${S} are not specified or different at path "${re}"`,W.strictTuples)})(O),U.opts.unevaluated&&P.length&&!0!==U.items&&(U.items=w.mergeEvaluated.items(R,P.length,U.items));const K=R.name("valid"),Q=R.const("len",g._`${A}.length`);P.forEach((Y,W)=>{(0,w.alwaysValidSchema)(U,Y)||(R.if(g._`${Q} > ${W}`,()=>k.subschema({keyword:V,schemaProp:W,dataProp:W},K)),k.ok(K))})}j.validateTuple=b,j.default=H},5261:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(27006),B=E(42406),H=E(46934);j.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:S}})=>g.str`must NOT have more than ${S} items`,params:({params:{len:S}})=>g._`{limit: ${S}}`},code(S){const{schema:P,parentSchema:R,it:O}=S,{prefixItems:A}=R;O.items=!0,!(0,w.alwaysValidSchema)(O,P)&&(A?(0,H.validateAdditionalItems)(S,A):S.ok((0,B.validateArray)(S)))}}},3408:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(27006);j.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(B){const{gen:H,schema:b,it:k}=B;if((0,g.alwaysValidSchema)(k,b))return void B.fail();const S=H.name("valid");B.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},S),B.failResult(S,()=>B.reset(),()=>B.error())},error:{message:"must NOT be valid"}}},88388:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(27006);j.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:b})=>g._`{passingSchemas: ${b.passing}}`},code(b){const{gen:k,schema:S,parentSchema:P,it:R}=b;if(!Array.isArray(S))throw new Error("ajv implementation error");if(R.opts.discriminator&&P.discriminator)return;const O=S,A=k.let("valid",!1),V=k.let("passing",null),U=k.name("_valid");b.setParams({passing:V}),k.block(function K(){O.forEach((Q,q)=>{let Y;(0,w.alwaysValidSchema)(R,Q)?k.var(U,!0):Y=b.subschema({keyword:"oneOf",schemaProp:q,compositeRule:!0},U),q>0&&k.if(g._`${U} && ${A}`).assign(A,!1).assign(V,g._`[${V}, ${q}]`).else(),k.if(U,()=>{k.assign(A,!0),k.assign(V,q),Y&&b.mergeEvaluated(Y,g.Name)})})}),b.result(A,()=>b.reset(),()=>b.error(!0))}}},17330:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(42406),w=E(1038),B=E(27006),H=E(27006);j.default={keyword:"patternProperties",type:"object",schemaType:"object",code(k){const{gen:S,schema:P,data:R,parentSchema:O,it:A}=k,{opts:V}=A,U=(0,g.allSchemaProperties)(P),K=U.filter(ae=>(0,B.alwaysValidSchema)(A,P[ae]));if(0===U.length||K.length===U.length&&(!A.opts.unevaluated||!0===A.props))return;const Q=V.strictSchema&&!V.allowMatchingProperties&&O.properties,q=S.name("valid");!0!==A.props&&!(A.props instanceof w.Name)&&(A.props=(0,H.evaluatedPropsToName)(S,A.props));const{props:Y}=A;function re(ae){for(const ue in Q)new RegExp(ae).test(ue)&&(0,B.checkStrictMode)(A,`property ${ue} matches pattern ${ae} (use allowMatchingProperties)`)}function ie(ae){S.forIn("key",R,ue=>{S.if(w._`${(0,g.usePattern)(k,ae)}.test(${ue})`,()=>{const ce=K.includes(ae);ce||k.subschema({keyword:"patternProperties",schemaProp:ae,dataProp:ue,dataPropType:H.Type.Str},q),A.opts.unevaluated&&!0!==Y?S.assign(w._`${Y}[${ue}]`,!0):!ce&&!A.allErrors&&S.if((0,w.not)(q),()=>S.break())})})}!function W(){for(const ae of U)Q&&re(ae),A.allErrors?ie(ae):(S.var(q,!0),ie(ae),S.if(q))}()}}},96537:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(2941);j.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:B=>(0,g.validateTuple)(B,"items")}},34032:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(40339),w=E(42406),B=E(27006),H=E(18445);j.default={keyword:"properties",type:"object",schemaType:"object",code(k){const{gen:S,schema:P,parentSchema:R,data:O,it:A}=k;"all"===A.opts.removeAdditional&&void 0===R.additionalProperties&&H.default.code(new g.KeywordCxt(A,H.default,"additionalProperties"));const V=(0,w.allSchemaProperties)(P);for(const Y of V)A.definedProperties.add(Y);A.opts.unevaluated&&V.length&&!0!==A.props&&(A.props=B.mergeEvaluated.props(S,(0,B.toHash)(V),A.props));const U=V.filter(Y=>!(0,B.alwaysValidSchema)(A,P[Y]));if(0===U.length)return;const K=S.name("valid");for(const Y of U)Q(Y)?q(Y):(S.if((0,w.propertyInData)(S,O,Y,A.opts.ownProperties)),q(Y),A.allErrors||S.else().var(K,!0),S.endIf()),k.it.definedProperties.add(Y),k.ok(K);function Q(Y){return A.opts.useDefaults&&!A.compositeRule&&void 0!==P[Y].default}function q(Y){k.subschema({keyword:"properties",schemaProp:Y,dataProp:Y},K)}}}},36474:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(27006);j.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:b})=>g._`{propertyName: ${b.propertyName}}`},code(b){const{gen:k,schema:S,data:P,it:R}=b;if((0,w.alwaysValidSchema)(R,S))return;const O=k.name("valid");k.forIn("key",P,A=>{b.setParams({propertyName:A}),b.subschema({keyword:"propertyNames",data:A,dataTypes:["string"],propertyName:A,compositeRule:!0},O),k.if((0,g.not)(O),()=>{b.error(!0),R.allErrors||k.break()})}),b.ok(O)}}},98779:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(27006);j.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:B,parentSchema:H,it:b}){void 0===H.if&&(0,g.checkStrictMode)(b,`"${B}" without "if" is ignored`)}}},42406:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateUnion=j.validateArray=j.usePattern=j.callValidateCode=j.schemaProperties=j.allSchemaProperties=j.noPropertyInData=j.propertyInData=j.isOwnProperty=j.hasPropFunc=j.reportMissingProp=j.checkMissingProp=j.checkReportMissingProp=void 0;const g=E(1038),w=E(27006),B=E(23432),H=E(27006);function P(re){return re.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:g._`Object.prototype.hasOwnProperty`})}function R(re,ie,ae){return g._`${P(re)}.call(${ie}, ${ae})`}function A(re,ie,ae,ue){const ce=g._`${ie}${(0,g.getProperty)(ae)} === undefined`;return ue?(0,g.or)(ce,(0,g.not)(R(re,ie,ae))):ce}function V(re){return re?Object.keys(re).filter(ie=>"__proto__"!==ie):[]}j.checkReportMissingProp=function b(re,ie){const{gen:ae,data:ue,it:ce}=re;ae.if(A(ae,ue,ie,ce.opts.ownProperties),()=>{re.setParams({missingProperty:g._`${ie}`},!0),re.error()})},j.checkMissingProp=function k({gen:re,data:ie,it:{opts:ae}},ue,ce){return(0,g.or)(...ue.map(pe=>(0,g.and)(A(re,ie,pe,ae.ownProperties),g._`${ce} = ${pe}`)))},j.reportMissingProp=function S(re,ie){re.setParams({missingProperty:ie},!0),re.error()},j.hasPropFunc=P,j.isOwnProperty=R,j.propertyInData=function O(re,ie,ae,ue){const ce=g._`${ie}${(0,g.getProperty)(ae)} !== undefined`;return ue?g._`${ce} && ${R(re,ie,ae)}`:ce},j.noPropertyInData=A,j.allSchemaProperties=V,j.schemaProperties=function U(re,ie){return V(ie).filter(ae=>!(0,w.alwaysValidSchema)(re,ie[ae]))},j.callValidateCode=function K({schemaCode:re,data:ie,it:{gen:ae,topSchemaRef:ue,schemaPath:ce,errorPath:pe},it:ve},De,C,s){const d=s?g._`${re}, ${ie}, ${ue}${ce}`:ie,h=[[B.default.instancePath,(0,g.strConcat)(B.default.instancePath,pe)],[B.default.parentData,ve.parentData],[B.default.parentDataProperty,ve.parentDataProperty],[B.default.rootData,B.default.rootData]];ve.opts.dynamicRef&&h.push([B.default.dynamicAnchors,B.default.dynamicAnchors]);const f=g._`${d}, ${ae.object(...h)}`;return C!==g.nil?g._`${De}.call(${C}, ${f})`:g._`${De}(${f})`};const Q=g._`new RegExp`;j.usePattern=function q({gen:re,it:{opts:ie}},ae){const ue=ie.unicodeRegExp?"u":"",{regExp:ce}=ie.code,pe=ce(ae,ue);return re.scopeValue("pattern",{key:pe.toString(),ref:pe,code:g._`${"new RegExp"===ce.code?Q:(0,H.useFunc)(re,ce)}(${ae}, ${ue})`})},j.validateArray=function Y(re){const{gen:ie,data:ae,keyword:ue,it:ce}=re,pe=ie.name("valid");if(ce.allErrors){const De=ie.let("valid",!0);return ve(()=>ie.assign(De,!1)),De}return ie.var(pe,!0),ve(()=>ie.break()),pe;function ve(De){const C=ie.const("len",g._`${ae}.length`);ie.forRange("i",0,C,s=>{re.subschema({keyword:ue,dataProp:s,dataPropType:w.Type.Num},pe),ie.if((0,g.not)(pe),De)})}},j.validateUnion=function W(re){const{gen:ie,schema:ae,keyword:ue,it:ce}=re;if(!Array.isArray(ae))throw new Error("ajv implementation error");if(ae.some(C=>(0,w.alwaysValidSchema)(ce,C))&&!ce.opts.unevaluated)return;const ve=ie.let("valid",!1),De=ie.name("_valid");ie.block(()=>ae.forEach((C,s)=>{const d=re.subschema({keyword:ue,schemaProp:s,compositeRule:!0},De);ie.assign(ve,g._`${ve} || ${De}`),re.mergeValidEvaluated(d,De)||ie.if((0,g.not)(ve))})),re.result(ve,()=>re.reset(),()=>re.error(!0))}},36846:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(36846),w=E(84862);j.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",g.default,w.default]},84862:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.callRef=j.getValidate=void 0;const g=E(26288),w=E(42406),B=E(1038),H=E(23432),b=E(97692),k=E(27006),S={keyword:"$ref",schemaType:"string",code(O){const{gen:A,schema:V,it:U}=O,{baseId:K,schemaEnv:Q,validateName:q,opts:Y,self:W}=U,{root:re}=Q;if(("#"===V||"#/"===V)&&K===re.baseId)return function ae(){if(Q===re)return R(O,q,Q,Q.$async);const pe=A.scopeValue("root",{ref:re});return R(O,B._`${pe}.validate`,re,re.$async)}();const ie=b.resolveRef.call(W,re,K,V);if(void 0===ie)throw new g.default(U.opts.uriResolver,K,V);return ie instanceof b.SchemaEnv?function ue(pe){const ve=P(O,pe);R(O,ve,pe,pe.$async)}(ie):function ce(pe){const ve=A.scopeValue("schema",!0===Y.code.source?{ref:pe,code:(0,B.stringify)(pe)}:{ref:pe}),De=A.name("valid"),C=O.subschema({schema:pe,dataTypes:[],schemaPath:B.nil,topSchemaRef:ve,errSchemaPath:V},De);O.mergeEvaluated(C),O.ok(De)}(ie)}};function P(O,A){const{gen:V}=O;return A.validate?V.scopeValue("validate",{ref:A.validate}):B._`${V.scopeValue("wrapper",{ref:A})}.validate`}function R(O,A,V,U){const{gen:K,it:Q}=O,{allErrors:q,schemaEnv:Y,opts:W}=Q,re=W.passContext?H.default.this:B.nil;function ue(pe){const ve=B._`${pe}.errors`;K.assign(H.default.vErrors,B._`${H.default.vErrors} === null ? ${ve} : ${H.default.vErrors}.concat(${ve})`),K.assign(H.default.errors,B._`${H.default.vErrors}.length`)}function ce(pe){var ve;if(!Q.opts.unevaluated)return;const De=null===(ve=V?.validate)||void 0===ve?void 0:ve.evaluated;if(!0!==Q.props)if(De&&!De.dynamicProps)void 0!==De.props&&(Q.props=k.mergeEvaluated.props(K,De.props,Q.props));else{const C=K.var("props",B._`${pe}.evaluated.props`);Q.props=k.mergeEvaluated.props(K,C,Q.props,B.Name)}if(!0!==Q.items)if(De&&!De.dynamicItems)void 0!==De.items&&(Q.items=k.mergeEvaluated.items(K,De.items,Q.items));else{const C=K.var("items",B._`${pe}.evaluated.items`);Q.items=k.mergeEvaluated.items(K,C,Q.items,B.Name)}}U?function ie(){if(!Y.$async)throw new Error("async schema referenced by sync schema");const pe=K.let("valid");K.try(()=>{K.code(B._`await ${(0,w.callValidateCode)(O,A,re)}`),ce(A),q||K.assign(pe,!0)},ve=>{K.if(B._`!(${ve} instanceof ${Q.ValidationError})`,()=>K.throw(ve)),ue(ve),q||K.assign(pe,!1)}),O.ok(pe)}():function ae(){O.result((0,w.callValidateCode)(O,A,re),()=>ce(A),()=>ue(A))}()}j.getValidate=P,j.callRef=R,j.default=S},86980:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(22145),B=E(97692),H=E(27006);j.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:S,tagName:P}})=>S===w.DiscrError.Tag?`tag "${P}" must be string`:`value of tag "${P}" must be in oneOf`,params:({params:{discrError:S,tag:P,tagName:R}})=>g._`{error: ${S}, tag: ${R}, tagValue: ${P}}`},code(S){const{gen:P,data:R,schema:O,parentSchema:A,it:V}=S,{oneOf:U}=A;if(!V.opts.discriminator)throw new Error("discriminator: requires discriminator option");const K=O.propertyName;if("string"!=typeof K)throw new Error("discriminator: requires propertyName");if(O.mapping)throw new Error("discriminator: mapping is not supported");if(!U)throw new Error("discriminator: requires oneOf keyword");const Q=P.let("valid",!1),q=P.const("tag",g._`${R}${(0,g.getProperty)(K)}`);function W(ie){const ae=P.name("valid"),ue=S.subschema({keyword:"oneOf",schemaProp:ie},ae);return S.mergeEvaluated(ue,g.Name),ae}P.if(g._`typeof ${q} == "string"`,()=>function Y(){const ie=function re(){var ie;const ae={},ue=pe(A);let ce=!0;for(let C=0;C<U.length;C++){let s=U[C];s?.$ref&&!(0,H.schemaHasRulesButRef)(s,V.self.RULES)&&(s=B.resolveRef.call(V.self,V.schemaEnv.root,V.baseId,s?.$ref),s instanceof B.SchemaEnv&&(s=s.schema));const d=null===(ie=s?.properties)||void 0===ie?void 0:ie[K];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${K}"`);ce=ce&&(ue||pe(s)),ve(d,C)}if(!ce)throw new Error(`discriminator: "${K}" must be required`);return ae;function pe({required:C}){return Array.isArray(C)&&C.includes(K)}function ve(C,s){if(C.const)De(C.const,s);else{if(!C.enum)throw new Error(`discriminator: "properties/${K}" must have "const" or "enum"`);for(const d of C.enum)De(d,s)}}function De(C,s){if("string"!=typeof C||C in ae)throw new Error(`discriminator: "${K}" values must be unique strings`);ae[C]=s}}();P.if(!1);for(const ae in ie)P.elseIf(g._`${q} === ${ae}`),P.assign(Q,W(ie[ae]));P.else(),S.error(!1,{discrError:w.DiscrError.Mapping,tag:q,tagName:K}),P.endIf()}(),()=>S.error(!1,{discrError:w.DiscrError.Tag,tag:q,tagName:K})),S.ok(Q)}}},22145:($e,j)=>{"use strict";var g;Object.defineProperty(j,"__esModule",{value:!0}),j.DiscrError=void 0,(g=j.DiscrError||(j.DiscrError={})).Tag="tag",g.Mapping="mapping"},98496:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(11867),w=E(64023),B=E(68261),H=E(79745),b=E(54458),k=E(77616),S=E(23463),P=E(3462),R=[H.default,g.default,w.default,(0,B.default)(!0),S.default,P.metadataVocabulary,P.contentVocabulary,b.default,k.default];j.default=R},61281:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.dynamicAnchor=void 0;const g=E(1038),w=E(23432),B=E(97692),H=E(84862),b={keyword:"$dynamicAnchor",schemaType:"string",code:P=>k(P,P.schema)};function k(P,R){const{gen:O,it:A}=P;A.schemaEnv.root.dynamicAnchors[R]=!0;const V=g._`${w.default.dynamicAnchors}${(0,g.getProperty)(R)}`,U="#"===A.errSchemaPath?A.validateName:function S(P){const{schemaEnv:R,schema:O,self:A}=P.it,{root:V,baseId:U,localRefs:K,meta:Q}=R.root,{schemaId:q}=A.opts,Y=new B.SchemaEnv({schema:O,schemaId:q,root:V,baseId:U,localRefs:K,meta:Q});return B.compileSchema.call(A,Y),(0,H.getValidate)(P,Y)}(P);O.if(g._`!${V}`,()=>O.assign(V,U))}j.dynamicAnchor=k,j.default=b},35207:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.dynamicRef=void 0;const g=E(1038),w=E(23432),B=E(84862),H={keyword:"$dynamicRef",schemaType:"string",code:k=>b(k,k.schema)};function b(k,S){const{gen:P,keyword:R,it:O}=k;if("#"!==S[0])throw new Error(`"${R}" only supports hash fragment reference`);const A=S.slice(1);if(O.allErrors)V();else{const K=P.let("valid",!1);V(K),k.ok(K)}function V(K){if(O.schemaEnv.root.dynamicAnchors[A]){const Q=P.let("_v",g._`${w.default.dynamicAnchors}${(0,g.getProperty)(A)}`);P.if(Q,U(Q,K),U(O.validateName,K))}else U(O.validateName,K)()}function U(K,Q){return Q?()=>P.block(()=>{(0,B.callRef)(k,K),P.let(Q,!0)}):()=>(0,B.callRef)(k,K)}}j.dynamicRef=b,j.default=H},79745:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(61281),w=E(35207),B=E(34028),H=E(65684);j.default=[g.default,w.default,B.default,H.default]},34028:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(61281),w=E(27006);j.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(H){H.schema?(0,g.dynamicAnchor)(H,""):(0,w.checkStrictMode)(H.it,"$recursiveAnchor: false is ignored")}}},65684:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(35207);j.default={keyword:"$recursiveRef",schemaType:"string",code:B=>(0,g.dynamicRef)(B,B.schema)}},98140:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038);j.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:H})=>g.str`must match format "${H}"`,params:({schemaCode:H})=>g._`{format: ${H}}`},code(H,b){const{gen:k,data:S,$data:P,schema:R,schemaCode:O,it:A}=H,{opts:V,errSchemaPath:U,schemaEnv:K,self:Q}=A;V.validateFormats&&(P?function q(){const W=k.scopeValue("formats",{ref:Q.formats,code:V.code.formats}),re=k.const("fDef",g._`${W}[${O}]`),ie=k.let("fType"),ae=k.let("format");k.if(g._`typeof ${re} == "object" && !(${re} instanceof RegExp)`,()=>k.assign(ie,g._`${re}.type || "string"`).assign(ae,g._`${re}.validate`),()=>k.assign(ie,g._`"string"`).assign(ae,re)),H.fail$data((0,g.or)(function ue(){return!1===V.strictSchema?g.nil:g._`${O} && !${ae}`}(),function ce(){const pe=K.$async?g._`(${re}.async ? await ${ae}(${S}) : ${ae}(${S}))`:g._`${ae}(${S})`,ve=g._`(typeof ${ae} == "function" ? ${pe} : ${ae}.test(${S}))`;return g._`${ae} && ${ae} !== true && ${ie} === ${b} && !${ve}`}()))}():function Y(){const W=Q.formats[R];if(!W)return void function ue(){if(!1!==V.strictSchema)throw new Error(ve());function ve(){return`unknown format "${R}" ignored in schema at path "${U}"`}Q.logger.warn(ve())}();if(!0===W)return;const[re,ie,ae]=function ce(ve){const De=ve instanceof RegExp?(0,g.regexpCode)(ve):V.code.formats?g._`${V.code.formats}${(0,g.getProperty)(R)}`:void 0,C=k.scopeValue("formats",{key:R,ref:ve,code:De});return"object"!=typeof ve||ve instanceof RegExp?["string",ve,C]:[ve.type||"string",ve.validate,g._`${C}.validate`]}(W);re===b&&H.pass(function pe(){if("object"==typeof W&&!(W instanceof RegExp)&&W.async){if(!K.$async)throw new Error("async format in sync schema");return g._`await ${ae}(${S})`}return"function"==typeof ie?g._`${ae}(${S})`:g._`${ae}.test(${S})`}())}())}}},23463:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const w=[E(98140).default];j.default=w},3462:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.contentVocabulary=j.metadataVocabulary=void 0,j.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],j.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(53037),w=E(85164),B=E(22705);j.default=[g.default,w.default,B.default]},77616:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(40425),w=E(89826);j.default=[g.default,w.default]},89826:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(27006);j.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:b}})=>g.str`must NOT have more than ${b} items`,params:({params:{len:b}})=>g._`{limit: ${b}}`},code(b){const{gen:k,schema:S,data:P,it:R}=b,O=R.items||0;if(!0===O)return;const A=k.const("len",g._`${P}.length`);if(!1===S)b.setParams({len:O}),b.fail(g._`${A} > ${O}`);else if("object"==typeof S&&!(0,w.alwaysValidSchema)(R,S)){const U=k.var("valid",g._`${A} <= ${O}`);k.if((0,g.not)(U),()=>function V(U,K){k.forRange("i",K,A,Q=>{b.subschema({keyword:"unevaluatedItems",dataProp:Q,dataPropType:w.Type.Num},U),R.allErrors||k.if((0,g.not)(U),()=>k.break())})}(U,O)),b.ok(U)}R.items=!0}}},40425:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(27006),B=E(23432);j.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:k})=>g._`{unevaluatedProperty: ${k.unevaluatedProperty}}`},code(k){const{gen:S,schema:P,data:R,errsCount:O,it:A}=k;if(!O)throw new Error("ajv implementation error");const{allErrors:V,props:U}=A;function K(Y){if(!1===P)return k.setParams({unevaluatedProperty:Y}),k.error(),void(V||S.break());if(!(0,w.alwaysValidSchema)(A,P)){const W=S.name("valid");k.subschema({keyword:"unevaluatedProperties",dataProp:Y,dataPropType:w.Type.Str},W),V||S.if((0,g.not)(W),()=>S.break())}}U instanceof g.Name?S.if(g._`${U} !== true`,()=>S.forIn("key",R,Y=>S.if(function Q(Y,W){return g._`!${Y} || !${Y}[${W}]`}(U,Y),()=>K(Y)))):!0!==U&&S.forIn("key",R,Y=>void 0===U?K(Y):S.if(function q(Y,W){const re=[];for(const ie in Y)!0===Y[ie]&&re.push(g._`${W} !== ${ie}`);return(0,g.and)(...re)}(U,Y),()=>K(Y))),A.props=!0,k.ok(g._`${O} === ${B.default.errors}`)}}},90796:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(27006),B=E(92281);j.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:k})=>g._`{allowedValue: ${k}}`},code(k){const{gen:S,data:P,$data:R,schemaCode:O,schema:A}=k;R||A&&"object"==typeof A?k.fail$data(g._`!${(0,w.useFunc)(S,B.default)}(${P}, ${O})`):k.fail(g._`${A} !== ${P}`)}}},53037:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(68032);j.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:g.error,code:B=>(0,g.validatePropertyDeps)(B)}},65266:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(27006),B=E(92281);j.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:k})=>g._`{allowedValues: ${k}}`},code(k){const{gen:S,data:P,$data:R,schema:O,schemaCode:A,it:V}=k;if(!R&&0===O.length)throw new Error("enum must have non-empty array");let K;const Q=()=>K??(K=(0,w.useFunc)(S,B.default));let q;if(O.length>=V.opts.loopEnum||R)q=S.let("valid"),k.block$data(q,function Y(){S.assign(q,!1),S.forOf("v",A,re=>S.if(g._`${Q()}(${P}, ${re})`,()=>S.assign(q,!0).break()))});else{if(!Array.isArray(O))throw new Error("ajv implementation error");const re=S.const("vSchema",A);q=(0,g.or)(...O.map((ie,ae)=>function W(re,ie){const ae=O[ie];return"object"==typeof ae&&null!==ae?g._`${Q()}(${P}, ${re}[${ie}])`:g._`${P} === ${ae}`}(re,ae)))}k.pass(q)}}},64023:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(78665),w=E(30554),B=E(13972),H=E(68753),b=E(99169),k=E(56454),S=E(85962),P=E(16598),R=E(90796),O=E(65266);j.default=[g.default,w.default,B.default,H.default,b.default,k.default,S.default,P.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},R.default,O.default]},22705:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(27006);j.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:B,parentSchema:H,it:b}){void 0===H.contains&&(0,g.checkStrictMode)(b,`"${B}" without "contains" is ignored`)}}},85962:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038);j.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:b})=>g.str`must NOT have ${"maxItems"===H?"more":"fewer"} than ${b} items`,params:({schemaCode:H})=>g._`{limit: ${H}}`},code(H){const{keyword:b,data:k,schemaCode:S}=H;H.fail$data(g._`${k}.length ${"maxItems"===b?g.operators.GT:g.operators.LT} ${S}`)}}},13972:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=E(27006),B=E(26488);j.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:k,schemaCode:S})=>g.str`must NOT have ${"maxLength"===k?"more":"fewer"} than ${S} characters`,params:({schemaCode:k})=>g._`{limit: ${k}}`},code(k){const{keyword:S,data:P,schemaCode:R,it:O}=k,A="maxLength"===S?g.operators.GT:g.operators.LT,V=!1===O.opts.unicode?g._`${P}.length`:g._`${(0,w.useFunc)(k.gen,B.default)}(${P})`;k.fail$data(g._`${V} ${A} ${R}`)}}},78665:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038),w=g.operators,B={maximum:{okStr:"<=",ok:w.LTE,fail:w.GT},minimum:{okStr:">=",ok:w.GTE,fail:w.LT},exclusiveMaximum:{okStr:"<",ok:w.LT,fail:w.GTE},exclusiveMinimum:{okStr:">",ok:w.GT,fail:w.LTE}},H={message:({keyword:k,schemaCode:S})=>g.str`must be ${B[k].okStr} ${S}`,params:({keyword:k,schemaCode:S})=>g._`{comparison: ${B[k].okStr}, limit: ${S}}`},b={keyword:Object.keys(B),type:"number",schemaType:"number",$data:!0,error:H,code(k){const{keyword:S,data:P,schemaCode:R}=k;k.fail$data(g._`${P} ${B[S].fail} ${R} || isNaN(${P})`)}};j.default=b},99169:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038);j.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:b})=>g.str`must NOT have ${"maxProperties"===H?"more":"fewer"} than ${b} properties`,params:({schemaCode:H})=>g._`{limit: ${H}}`},code(H){const{keyword:b,data:k,schemaCode:S}=H;H.fail$data(g._`Object.keys(${k}).length ${"maxProperties"===b?g.operators.GT:g.operators.LT} ${S}`)}}},30554:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(1038);j.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:H})=>g.str`must be multiple of ${H}`,params:({schemaCode:H})=>g._`{multipleOf: ${H}}`},code(H){const{gen:b,data:k,schemaCode:S,it:P}=H,R=P.opts.multipleOfPrecision,O=b.let("res"),A=R?g._`Math.abs(Math.round(${O}) - ${O}) > 1e-${R}`:g._`${O} !== parseInt(${O})`;H.fail$data(g._`(${S} === 0 || (${O} = ${k}/${S}, ${A}))`)}}},68753:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(42406),w=E(1038);j.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:b})=>w.str`must match pattern "${b}"`,params:({schemaCode:b})=>w._`{pattern: ${b}}`},code(b){const{data:k,$data:S,schema:P,schemaCode:R,it:O}=b,V=S?w._`(new RegExp(${R}, ${O.opts.unicodeRegExp?"u":""}))`:(0,g.usePattern)(b,P);b.fail$data(w._`!${V}.test(${k})`)}}},56454:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(42406),w=E(1038),B=E(27006);j.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:k}})=>w.str`must have required property '${k}'`,params:({params:{missingProperty:k}})=>w._`{missingProperty: ${k}}`},code(k){const{gen:S,schema:P,schemaCode:R,data:O,$data:A,it:V}=k,{opts:U}=V;if(!A&&0===P.length)return;const K=P.length>=U.loopRequired;if(V.allErrors?function Q(){if(K||A)k.block$data(w.nil,Y);else for(const re of P)(0,g.checkReportMissingProp)(k,re)}():function q(){const re=S.let("missing");if(K||A){const ie=S.let("valid",!0);k.block$data(ie,()=>function W(re,ie){k.setParams({missingProperty:re}),S.forOf(re,R,()=>{S.assign(ie,(0,g.propertyInData)(S,O,re,U.ownProperties)),S.if((0,w.not)(ie),()=>{k.error(),S.break()})},w.nil)}(re,ie)),k.ok(ie)}else S.if((0,g.checkMissingProp)(k,P,re)),(0,g.reportMissingProp)(k,re),S.else()}(),U.strictRequired){const re=k.parentSchema.properties,{definedProperties:ie}=k.it;for(const ae of P)void 0!==re?.[ae]||ie.has(ae)||(0,B.checkStrictMode)(V,`required property "${ae}" is not defined at "${V.schemaEnv.baseId+V.errSchemaPath}" (strictRequired)`,V.opts.strictRequired)}function Y(){S.forOf("prop",R,re=>{k.setParams({missingProperty:re}),S.if((0,g.noPropertyInData)(S,O,re,U.ownProperties),()=>k.error())})}}}},16598:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const g=E(55999),w=E(1038),B=E(27006),H=E(92281);j.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:S,j:P}})=>w.str`must NOT have duplicate items (items ## ${P} and ${S} are identical)`,params:({params:{i:S,j:P}})=>w._`{i: ${S}, j: ${P}}`},code(S){const{gen:P,data:R,$data:O,schema:A,parentSchema:V,schemaCode:U,it:K}=S;if(!O&&!A)return;const Q=P.let("valid"),q=V.items?(0,g.getSchemaTypes)(V.items):[];function re(ae,ue){const ce=P.name("item"),pe=(0,g.checkDataTypes)(q,ce,K.opts.strictNumbers,g.DataType.Wrong),ve=P.const("indices",w._`{}`);P.for(w._`;${ae}--;`,()=>{P.let(ce,w._`${R}[${ae}]`),P.if(pe,w._`continue`),q.length>1&&P.if(w._`typeof ${ce} == "string"`,w._`${ce} += "_"`),P.if(w._`typeof ${ve}[${ce}] == "number"`,()=>{P.assign(ue,w._`${ve}[${ce}]`),S.error(),P.assign(Q,!1).break()}).code(w._`${ve}[${ce}] = ${ae}`)})}function ie(ae,ue){const ce=(0,B.useFunc)(P,H.default),pe=P.name("outer");P.label(pe).for(w._`;${ae}--;`,()=>P.for(w._`${ue} = ${ae}; ${ue}--;`,()=>P.if(w._`${ce}(${R}[${ae}], ${R}[${ue}])`,()=>{S.error(),P.assign(Q,!1).break(pe)})))}S.block$data(Q,function Y(){const ae=P.let("i",w._`${R}.length`),ue=P.let("j");S.setParams({i:ae,j:ue}),P.assign(Q,!0),P.if(w._`${ae} > 1`,()=>(function W(){return q.length>0&&!q.some(ae=>"object"===ae||"array"===ae)}()?re:ie)(ae,ue))},w._`${U} === false`),S.ok(Q)}}},68316:($e,j,E)=>{"use strict";const g=E(13981),w=E(22020),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function W(F){return+F!=F&&(F=0),S.alloc(+F)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function k(F){if(F>H)throw new RangeError('The value "'+F+'" is invalid for option "size"');const D=new Uint8Array(F);return Object.setPrototypeOf(D,S.prototype),D}function S(F,D,M){if("number"==typeof F){if("string"==typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return A(F)}return P(F,D,M)}function P(F,D,M){if("string"==typeof F)return function V(F,D){if(("string"!=typeof D||""===D)&&(D="utf8"),!S.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const M=0|re(F,D);let G=k(M);const fe=G.write(F,D);return fe!==M&&(G=G.slice(0,fe)),G}(F,D);if(ArrayBuffer.isView(F))return function K(F){if(Ve(F,Uint8Array)){const D=new Uint8Array(F);return Q(D.buffer,D.byteOffset,D.byteLength)}return U(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ve(F,ArrayBuffer)||F&&Ve(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ve(F,SharedArrayBuffer)||F&&Ve(F.buffer,SharedArrayBuffer)))return Q(F,D,M);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const G=F.valueOf&&F.valueOf();if(null!=G&&G!==F)return S.from(G,D,M);const fe=function q(F){if(S.isBuffer(F)){const D=0|Y(F.length),M=k(D);return 0===M.length||F.copy(M,0,0,D),M}return void 0!==F.length?"number"!=typeof F.length||Dt(F.length)?k(0):U(F):"Buffer"===F.type&&Array.isArray(F.data)?U(F.data):void 0}(F);if(fe)return fe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return S.from(F[Symbol.toPrimitive]("string"),D,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function R(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function A(F){return R(F),k(F<0?0:0|Y(F))}function U(F){const D=F.length<0?0:0|Y(F.length),M=k(D);for(let G=0;G<D;G+=1)M[G]=255&F[G];return M}function Q(F,D,M){if(D<0||F.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<D+(M||0))throw new RangeError('"length" is outside of buffer bounds');let G;return G=void 0===D&&void 0===M?new Uint8Array(F):void 0===M?new Uint8Array(F,D):new Uint8Array(F,D,M),Object.setPrototypeOf(G,S.prototype),G}function Y(F){if(F>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|F}function re(F,D){if(S.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ve(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const M=F.length,G=arguments.length>2&&!0===arguments[2];if(!G&&0===M)return 0;let fe=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return te(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Ie(F).length;default:if(fe)return G?-1:te(F).length;D=(""+D).toLowerCase(),fe=!0}}function ie(F,D,M){let G=!1;if((void 0===D||D<0)&&(D=0),D>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(D>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return x(this,D,M);case"utf8":case"utf-8":return h(this,D,M);case"ascii":return I(this,D,M);case"latin1":case"binary":return L(this,D,M);case"base64":return d(this,D,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,D,M);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),G=!0}}function ae(F,D,M){const G=F[D];F[D]=F[M],F[M]=G}function ue(F,D,M,G,fe){if(0===F.length)return-1;if("string"==typeof M?(G=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=fe?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(fe)return-1;M=F.length-1}else if(M<0){if(!fe)return-1;M=0}if("string"==typeof D&&(D=S.from(D,G)),S.isBuffer(D))return 0===D.length?-1:ce(F,D,M,G,fe);if("number"==typeof D)return D&=255,"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(F,D,M):Uint8Array.prototype.lastIndexOf.call(F,D,M):ce(F,[D],M,G,fe);throw new TypeError("val must be string, number or Buffer")}function ce(F,D,M,G,fe){let _t,Se=1,Ae=F.length,ot=D.length;if(void 0!==G&&("ucs2"===(G=String(G).toLowerCase())||"ucs-2"===G||"utf16le"===G||"utf-16le"===G)){if(F.length<2||D.length<2)return-1;Se=2,Ae/=2,ot/=2,M/=2}function Gt(Bt,en){return 1===Se?Bt[en]:Bt.readUInt16BE(en*Se)}if(fe){let Bt=-1;for(_t=M;_t<Ae;_t++)if(Gt(F,_t)===Gt(D,-1===Bt?0:_t-Bt)){if(-1===Bt&&(Bt=_t),_t-Bt+1===ot)return Bt*Se}else-1!==Bt&&(_t-=_t-Bt),Bt=-1}else for(M+ot>Ae&&(M=Ae-ot),_t=M;_t>=0;_t--){let Bt=!0;for(let en=0;en<ot;en++)if(Gt(F,_t+en)!==Gt(D,en)){Bt=!1;break}if(Bt)return _t}return-1}function pe(F,D,M,G){M=Number(M)||0;const fe=F.length-M;G?(G=Number(G))>fe&&(G=fe):G=fe;const Se=D.length;let Ae;for(G>Se/2&&(G=Se/2),Ae=0;Ae<G;++Ae){const ot=parseInt(D.substr(2*Ae,2),16);if(Dt(ot))return Ae;F[M+Ae]=ot}return Ae}function ve(F,D,M,G){return He(te(D,F.length-M),F,M,G)}function De(F,D,M,G){return He(function de(F){const D=[];for(let M=0;M<F.length;++M)D.push(255&F.charCodeAt(M));return D}(D),F,M,G)}function C(F,D,M,G){return He(Ie(D),F,M,G)}function s(F,D,M,G){return He(function _e(F,D){let M,G,fe;const Se=[];for(let Ae=0;Ae<F.length&&!((D-=2)<0);++Ae)M=F.charCodeAt(Ae),G=M>>8,fe=M%256,Se.push(fe),Se.push(G);return Se}(D,F.length-M),F,M,G)}function d(F,D,M){return g.fromByteArray(0===D&&M===F.length?F:F.slice(D,M))}function h(F,D,M){M=Math.min(F.length,M);const G=[];let fe=D;for(;fe<M;){const Se=F[fe];let Ae=null,ot=Se>239?4:Se>223?3:Se>191?2:1;if(fe+ot<=M){let Gt,_t,Bt,en;switch(ot){case 1:Se<128&&(Ae=Se);break;case 2:Gt=F[fe+1],128==(192&Gt)&&(en=(31&Se)<<6|63&Gt,en>127&&(Ae=en));break;case 3:Gt=F[fe+1],_t=F[fe+2],128==(192&Gt)&&128==(192&_t)&&(en=(15&Se)<<12|(63&Gt)<<6|63&_t,en>2047&&(en<55296||en>57343)&&(Ae=en));break;case 4:Gt=F[fe+1],_t=F[fe+2],Bt=F[fe+3],128==(192&Gt)&&128==(192&_t)&&128==(192&Bt)&&(en=(15&Se)<<18|(63&Gt)<<12|(63&_t)<<6|63&Bt,en>65535&&en<1114112&&(Ae=en))}}null===Ae?(Ae=65533,ot=1):Ae>65535&&(Ae-=65536,G.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),G.push(Ae),fe+=ot}return function _(F){const D=F.length;if(D<=f)return String.fromCharCode.apply(String,F);let M="",G=0;for(;G<D;)M+=String.fromCharCode.apply(String,F.slice(G,G+=f));return M}(G)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function b(){try{const F=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(F,D),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(F,D,M){return P(F,D,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(F,D,M){return function O(F,D,M){return R(F),F<=0?k(F):void 0!==D?"string"==typeof M?k(F).fill(D,M):k(F).fill(D):k(F)}(F,D,M)},S.allocUnsafe=function(F){return A(F)},S.allocUnsafeSlow=function(F){return A(F)},S.isBuffer=function(D){return null!=D&&!0===D._isBuffer&&D!==S.prototype},S.compare=function(D,M){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),Ve(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(D)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===M)return 0;let G=D.length,fe=M.length;for(let Se=0,Ae=Math.min(G,fe);Se<Ae;++Se)if(D[Se]!==M[Se]){G=D[Se],fe=M[Se];break}return G<fe?-1:fe<G?1:0},S.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(D,M){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return S.alloc(0);let G;if(void 0===M)for(M=0,G=0;G<D.length;++G)M+=D[G].length;const fe=S.allocUnsafe(M);let Se=0;for(G=0;G<D.length;++G){let Ae=D[G];if(Ve(Ae,Uint8Array))Se+Ae.length>fe.length?(S.isBuffer(Ae)||(Ae=S.from(Ae)),Ae.copy(fe,Se)):Uint8Array.prototype.set.call(fe,Ae,Se);else{if(!S.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(fe,Se)}Se+=Ae.length}return fe},S.byteLength=re,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<D;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<D;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<D;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const D=this.length;return 0===D?"":0===arguments.length?h(this,0,D):ie.apply(this,arguments)},S.prototype.equals=function(D){if(!S.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===S.compare(this,D)},S.prototype.inspect=function(){let D="";const M=j.INSPECT_MAX_BYTES;return D=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(D+=" ... "),"<Buffer "+D+">"},B&&(S.prototype[B]=S.prototype.inspect),S.prototype.compare=function(D,M,G,fe,Se){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),!S.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(void 0===M&&(M=0),void 0===G&&(G=D?D.length:0),void 0===fe&&(fe=0),void 0===Se&&(Se=this.length),M<0||G>D.length||fe<0||Se>this.length)throw new RangeError("out of range index");if(fe>=Se&&M>=G)return 0;if(fe>=Se)return-1;if(M>=G)return 1;if(this===D)return 0;let Ae=(Se>>>=0)-(fe>>>=0),ot=(G>>>=0)-(M>>>=0);const Gt=Math.min(Ae,ot),_t=this.slice(fe,Se),Bt=D.slice(M,G);for(let en=0;en<Gt;++en)if(_t[en]!==Bt[en]){Ae=_t[en],ot=Bt[en];break}return Ae<ot?-1:ot<Ae?1:0},S.prototype.includes=function(D,M,G){return-1!==this.indexOf(D,M,G)},S.prototype.indexOf=function(D,M,G){return ue(this,D,M,G,!0)},S.prototype.lastIndexOf=function(D,M,G){return ue(this,D,M,G,!1)},S.prototype.write=function(D,M,G,fe){if(void 0===M)fe="utf8",G=this.length,M=0;else if(void 0===G&&"string"==typeof M)fe=M,G=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(G)?(G>>>=0,void 0===fe&&(fe="utf8")):(fe=G,G=void 0)}const Se=this.length-M;if((void 0===G||G>Se)&&(G=Se),D.length>0&&(G<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ae=!1;for(;;)switch(fe){case"hex":return pe(this,D,M,G);case"utf8":case"utf-8":return ve(this,D,M,G);case"ascii":case"latin1":case"binary":return De(this,D,M,G);case"base64":return C(this,D,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,D,M,G);default:if(Ae)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ae=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const f=4096;function I(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(127&F[fe]);return G}function L(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(F[fe]);return G}function x(F,D,M){const G=F.length;(!D||D<0)&&(D=0),(!M||M<0||M>G)&&(M=G);let fe="";for(let Se=D;Se<M;++Se)fe+=Ne[F[Se]];return fe}function a(F,D,M){const G=F.slice(D,M);let fe="";for(let Se=0;Se<G.length-1;Se+=2)fe+=String.fromCharCode(G[Se]+256*G[Se+1]);return fe}function v(F,D,M){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+D>M)throw new RangeError("Trying to access beyond buffer length")}function Z(F,D,M,G,fe,Se){if(!S.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>fe||D<Se)throw new RangeError('"value" argument is out of bounds');if(M+G>F.length)throw new RangeError("Index out of range")}function z(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,M}function ee(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M+7]=Se,Se>>=8,F[M+6]=Se,Se>>=8,F[M+5]=Se,Se>>=8,F[M+4]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M+3]=Ae,Ae>>=8,F[M+2]=Ae,Ae>>=8,F[M+1]=Ae,Ae>>=8,F[M]=Ae,M+8}function le(F,D,M,G,fe,Se){if(M+G>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function we(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,4),w.write(F,D,M,G,23,4),M+4}function Me(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,8),w.write(F,D,M,G,52,8),M+8}S.prototype.slice=function(D,M){const G=this.length;(D=~~D)<0?(D+=G)<0&&(D=0):D>G&&(D=G),(M=void 0===M?G:~~M)<0?(M+=G)<0&&(M=0):M>G&&(M=G),M<D&&(M=D);const fe=this.subarray(D,M);return Object.setPrototypeOf(fe,S.prototype),fe},S.prototype.readUintLE=S.prototype.readUIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return fe},S.prototype.readUintBE=S.prototype.readUIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D+--M],Se=1;for(;M>0&&(Se*=256);)fe+=this[D+--M]*Se;return fe},S.prototype.readUint8=S.prototype.readUInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),this[D]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]|this[D+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]<<8|this[D+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},S.prototype.readBigUInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M+256*this[++D]+65536*this[++D]+this[++D]*2**24,Se=this[++D]+256*this[++D]+65536*this[++D]+G*2**24;return BigInt(fe)+(BigInt(Se)<<BigInt(32))}),S.prototype.readBigUInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M*2**24+65536*this[++D]+256*this[++D]+this[++D],Se=this[++D]*2**24+65536*this[++D]+256*this[++D]+G;return(BigInt(fe)<<BigInt(32))+BigInt(Se)}),S.prototype.readIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return Se*=128,fe>=Se&&(fe-=Math.pow(2,8*M)),fe},S.prototype.readIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=M,Se=1,Ae=this[D+--fe];for(;fe>0&&(Se*=256);)Ae+=this[D+--fe]*Se;return Se*=128,Ae>=Se&&(Ae-=Math.pow(2,8*M)),Ae},S.prototype.readInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},S.prototype.readInt16LE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D]|this[D+1]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt16BE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D+1]|this[D]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},S.prototype.readInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},S.prototype.readBigInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];return(void 0===M||void 0===G)&&be(D,this.length-8),(BigInt(this[D+4]+256*this[D+5]+65536*this[D+6]+(G<<24))<<BigInt(32))+BigInt(M+256*this[++D]+65536*this[++D]+this[++D]*2**24)}),S.prototype.readBigInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=(M<<24)+65536*this[++D]+256*this[++D]+this[++D];return(BigInt(fe)<<BigInt(32))+BigInt(this[++D]*2**24+65536*this[++D]+256*this[++D]+G)}),S.prototype.readFloatLE=function(D,M){return D>>>=0,M||v(D,4,this.length),w.read(this,D,!0,23,4)},S.prototype.readFloatBE=function(D,M){return D>>>=0,M||v(D,4,this.length),w.read(this,D,!1,23,4)},S.prototype.readDoubleLE=function(D,M){return D>>>=0,M||v(D,8,this.length),w.read(this,D,!0,52,8)},S.prototype.readDoubleBE=function(D,M){return D>>>=0,M||v(D,8,this.length),w.read(this,D,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=1,Ae=0;for(this[M]=255&D;++Ae<G&&(Se*=256);)this[M+Ae]=D/Se&255;return M+G},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=G-1,Ae=1;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)this[M+Se]=D/Ae&255;return M+G},S.prototype.writeUint8=S.prototype.writeUInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,255,0),this[M]=255&D,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigUInt64LE=ke(function(D,M=0){return z(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ke(function(D,M=0){return ee(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Gt=Math.pow(2,8*G-1);Z(this,D,M,G,Gt-1,-Gt)}let Se=0,Ae=1,ot=0;for(this[M]=255&D;++Se<G&&(Ae*=256);)D<0&&0===ot&&0!==this[M+Se-1]&&(ot=1),this[M+Se]=(D/Ae|0)-ot&255;return M+G},S.prototype.writeIntBE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Gt=Math.pow(2,8*G-1);Z(this,D,M,G,Gt-1,-Gt)}let Se=G-1,Ae=1,ot=0;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)D<0&&0===ot&&0!==this[M+Se+1]&&(ot=1),this[M+Se]=(D/Ae|0)-ot&255;return M+G},S.prototype.writeInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,127,-128),D<0&&(D=255+D+1),this[M]=255&D,M+1},S.prototype.writeInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24,M+4},S.prototype.writeInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigInt64LE=ke(function(D,M=0){return z(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ke(function(D,M=0){return ee(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(D,M,G){return we(this,D,M,!0,G)},S.prototype.writeFloatBE=function(D,M,G){return we(this,D,M,!1,G)},S.prototype.writeDoubleLE=function(D,M,G){return Me(this,D,M,!0,G)},S.prototype.writeDoubleBE=function(D,M,G){return Me(this,D,M,!1,G)},S.prototype.copy=function(D,M,G,fe){if(!S.isBuffer(D))throw new TypeError("argument should be a Buffer");if(G||(G=0),!fe&&0!==fe&&(fe=this.length),M>=D.length&&(M=D.length),M||(M=0),fe>0&&fe<G&&(fe=G),fe===G||0===D.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),D.length-M<fe-G&&(fe=D.length-M+G);const Se=fe-G;return this===D&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,G,fe):Uint8Array.prototype.set.call(D,this.subarray(G,fe),M),Se},S.prototype.fill=function(D,M,G,fe){if("string"==typeof D){if("string"==typeof M?(fe=M,M=0,G=this.length):"string"==typeof G&&(fe=G,G=this.length),void 0!==fe&&"string"!=typeof fe)throw new TypeError("encoding must be a string");if("string"==typeof fe&&!S.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(1===D.length){const Ae=D.charCodeAt(0);("utf8"===fe&&Ae<128||"latin1"===fe)&&(D=Ae)}}else"number"==typeof D?D&=255:"boolean"==typeof D&&(D=Number(D));if(M<0||this.length<M||this.length<G)throw new RangeError("Out of range index");if(G<=M)return this;let Se;if(M>>>=0,G=void 0===G?this.length:G>>>0,D||(D=0),"number"==typeof D)for(Se=M;Se<G;++Se)this[Se]=D;else{const Ae=S.isBuffer(D)?D:S.from(D,fe),ot=Ae.length;if(0===ot)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Se=0;Se<G-M;++Se)this[Se+M]=Ae[Se%ot]}return this};const Ze={};function ge(F,D,M){Ze[F]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function me(F){let D="",M=F.length;const G="-"===F[0]?1:0;for(;M>=G+4;M-=3)D=`_${F.slice(M-3,M)}${D}`;return`${F.slice(0,M)}${D}`}function xe(F,D,M,G,fe,Se){if(F>M||F<D){const Ae="bigint"==typeof D?"n":"";let ot;throw ot=Se>3?0===D||D===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(Se+1)}${Ae}`:`>= -(2${Ae} ** ${8*(Se+1)-1}${Ae}) and < 2 ** ${8*(Se+1)-1}${Ae}`:`>= ${D}${Ae} and <= ${M}${Ae}`,new Ze.ERR_OUT_OF_RANGE("value",ot,F)}!function Ue(F,D,M){Ce(D,"offset"),(void 0===F[D]||void 0===F[D+M])&&be(D,F.length-(M+1))}(G,fe,Se)}function Ce(F,D){if("number"!=typeof F)throw new Ze.ERR_INVALID_ARG_TYPE(D,"number",F)}function be(F,D,M){throw Math.floor(F)!==F?(Ce(F,M),new Ze.ERR_OUT_OF_RANGE(M||"offset","an integer",F)):D<0?new Ze.ERR_BUFFER_OUT_OF_BOUNDS:new Ze.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${D}`,F)}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(F,D){return`The "${F}" argument must be of type number. Received type ${typeof D}`},TypeError),ge("ERR_OUT_OF_RANGE",function(F,D,M){let G=`The value of "${F}" is out of range.`,fe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?fe=me(String(M)):"bigint"==typeof M&&(fe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(fe=me(fe)),fe+="n"),G+=` It must be ${D}. Received ${fe}`,G},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function te(F,D){let M;D=D||1/0;const G=F.length;let fe=null;const Se=[];for(let Ae=0;Ae<G;++Ae){if(M=F.charCodeAt(Ae),M>55295&&M<57344){if(!fe){if(M>56319){(D-=3)>-1&&Se.push(239,191,189);continue}if(Ae+1===G){(D-=3)>-1&&Se.push(239,191,189);continue}fe=M;continue}if(M<56320){(D-=3)>-1&&Se.push(239,191,189),fe=M;continue}M=65536+(fe-55296<<10|M-56320)}else fe&&(D-=3)>-1&&Se.push(239,191,189);if(fe=null,M<128){if((D-=1)<0)break;Se.push(M)}else if(M<2048){if((D-=2)<0)break;Se.push(M>>6|192,63&M|128)}else if(M<65536){if((D-=3)<0)break;Se.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;Se.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return Se}function Ie(F){return g.toByteArray(function ne(F){if((F=(F=F.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function He(F,D,M,G){let fe;for(fe=0;fe<G&&!(fe+M>=D.length||fe>=F.length);++fe)D[fe+M]=F[fe];return fe}function Ve(F,D){return F instanceof D||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===D.name}function Dt(F){return F!=F}const Ne=function(){const F="0123456789abcdef",D=new Array(256);for(let M=0;M<16;++M){const G=16*M;for(let fe=0;fe<16;++fe)D[G+fe]=F[M]+F[fe]}return D}();function ke(F){return typeof BigInt>"u"?yt:F}function yt(){throw new Error("BigInt not supported")}},14078:$e=>{var j=1e3,E=60*j,g=60*E,w=24*g,B=7*w;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*w;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=w?P(R,O,w,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=w?Math.round(R/w)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},57062:($e,j,E)=>{"use strict";const{SymbolDispose:g}=E(56389),{AbortError:w,codes:B}=E(68154),{isNodeStream:H,isWebStream:b,kControllerErrorFunction:k}=E(32924),S=E(46017),{ERR_INVALID_ARG_TYPE:P}=B;let R;$e.exports.addAbortSignal=function(V,U){if(((A,V)=>{if("object"!=typeof A||!("aborted"in A))throw new P("signal","AbortSignal",A)})(V),!H(U)&&!b(U))throw new P("stream",["ReadableStream","WritableStream","Stream"],U);return $e.exports.addAbortSignalNoValidate(V,U)},$e.exports.addAbortSignalNoValidate=function(A,V){if("object"!=typeof A||!("aborted"in A))return V;const U=H(V)?()=>{V.destroy(new w(void 0,{cause:A.reason}))}:()=>{V[k](new w(void 0,{cause:A.reason}))};if(A.aborted)U();else{R=R||E(13509).addAbortListener;const K=R(A,U);S(V,K[g])}return V}},16630:($e,j,E)=>{"use strict";const{StringPrototypeSlice:g,SymbolIterator:w,TypedArrayPrototypeSet:B,Uint8Array:H}=E(56389),{Buffer:b}=E(68316),{inspect:k}=E(13509);$e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(P){const R={data:P,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}unshift(P){const R={data:P,next:this.head};0===this.length&&(this.tail=R),this.head=R,++this.length}shift(){if(0===this.length)return;const P=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,P}clear(){this.head=this.tail=null,this.length=0}join(P){if(0===this.length)return"";let R=this.head,O=""+R.data;for(;null!==(R=R.next);)O+=P+R.data;return O}concat(P){if(0===this.length)return b.alloc(0);const R=b.allocUnsafe(P>>>0);let O=this.head,A=0;for(;O;)B(R,O.data,A),A+=O.data.length,O=O.next;return R}consume(P,R){const O=this.head.data;if(P<O.length){const A=O.slice(0,P);return this.head.data=O.slice(P),A}return P===O.length?this.shift():R?this._getString(P):this._getBuffer(P)}first(){return this.head.data}*[w](){for(let P=this.head;P;P=P.next)yield P.data}_getString(P){let R="",O=this.head,A=0;do{const V=O.data;if(!(P>V.length)){P===V.length?(R+=V,++A,this.head=O.next?O.next:this.tail=null):(R+=g(V,0,P),this.head=O,O.data=g(V,P));break}R+=V,P-=V.length,++A}while(null!==(O=O.next));return this.length-=A,R}_getBuffer(P){const R=b.allocUnsafe(P),O=P;let A=this.head,V=0;do{const U=A.data;if(!(P>U.length)){P===U.length?(B(R,U,O-P),++V,this.head=A.next?A.next:this.tail=null):(B(R,new H(U.buffer,U.byteOffset,P),O-P),this.head=A,A.data=U.slice(P));break}B(R,U,O-P),P-=U.length,++V}while(null!==(A=A.next));return this.length-=V,R}[Symbol.for("nodejs.util.inspect.custom")](P,R){return k(this,{...R,depth:0,customInspect:!1})}}},373:($e,j,E)=>{"use strict";var g=E(29293).default;const{pipeline:w}=E(67843),B=E(13323),{destroyer:H}=E(96507),{isNodeStream:b,isReadable:k,isWritable:S,isWebStream:P,isTransformStream:R,isWritableStream:O,isReadableStream:A}=E(32924),{AbortError:V,codes:{ERR_INVALID_ARG_VALUE:U,ERR_MISSING_ARGS:K}}=E(68154),Q=E(46017);$e.exports=function(...Y){if(0===Y.length)throw new K("streams");if(1===Y.length)return B.from(Y[0]);const W=[...Y];if("function"==typeof Y[0]&&(Y[0]=B.from(Y[0])),"function"==typeof Y[Y.length-1]){const d=Y.length-1;Y[d]=B.from(Y[d])}for(let d=0;d<Y.length;++d)if(b(Y[d])||P(Y[d])){if(d<Y.length-1&&!(k(Y[d])||A(Y[d])||R(Y[d])))throw new U(`streams[${d}]`,W[d],"must be readable");if(d>0&&!(S(Y[d])||O(Y[d])||R(Y[d])))throw new U(`streams[${d}]`,W[d],"must be writable")}let re,ie,ae,ue,ce;const ve=Y[0],De=w(Y,function pe(d){const h=ue;ue=null,h?h(d):d?ce.destroy(d):!s&&!C&&ce.destroy()}),C=!!(S(ve)||O(ve)||R(ve)),s=!!(k(De)||A(De)||R(De));if(ce=new B({writableObjectMode:!(null==ve||!ve.writableObjectMode),readableObjectMode:!(null==De||!De.readableObjectMode),writable:C,readable:s}),C){if(b(ve))ce._write=function(h,f,_){ve.write(h,f)?_():re=_},ce._final=function(h){ve.end(),ie=h},ve.on("drain",function(){if(re){const h=re;re=null,h()}});else if(P(ve)){const f=(R(ve)?ve.writable:ve).getWriter();ce._write=function(){var _=g(function*(I,L,x){try{yield f.ready,f.write(I).catch(()=>{}),x()}catch(a){x(a)}});return function(I,L,x){return _.apply(this,arguments)}}(),ce._final=function(){var _=g(function*(I){try{yield f.ready,f.close().catch(()=>{}),ie=I}catch(L){I(L)}});return function(I){return _.apply(this,arguments)}}()}const d=R(De)?De.readable:De;Q(d,()=>{if(ie){const h=ie;ie=null,h()}})}if(s)if(b(De))De.on("readable",function(){if(ae){const d=ae;ae=null,d()}}),De.on("end",function(){ce.push(null)}),ce._read=function(){for(;;){const d=De.read();if(null===d)return void(ae=ce._read);if(!ce.push(d))return}};else if(P(De)){const h=(R(De)?De.readable:De).getReader();ce._read=g(function*(){for(;;)try{const{value:f,done:_}=yield h.read();if(!ce.push(f))return;if(_)return void ce.push(null)}catch{return}})}return ce._destroy=function(d,h){!d&&null!==ue&&(d=new V),ae=null,re=null,ie=null,null===ue?h(d):(ue=h,b(De)&&H(De,d))},ce}},96507:($e,j,E)=>{"use strict";const g=E(40573),{aggregateTwoErrors:w,codes:{ERR_MULTIPLE_CALLBACK:B},AbortError:H}=E(68154),{Symbol:b}=E(56389),{kIsDestroyed:k,isDestroyed:S,isFinished:P,isServerRequest:R}=E(32924),O=b("kDestroy"),A=b("kConstruct");function V(C,s,d){C&&(s&&!s.errored&&(s.errored=C),d&&!d.errored&&(d.errored=C))}function K(C,s,d){let h=!1;function f(_){if(h)return;h=!0;const I=C._readableState,L=C._writableState;V(_,L,I),L&&(L.closed=!0),I&&(I.closed=!0),"function"==typeof d&&d(_),_?g.nextTick(Q,C,_):g.nextTick(q,C)}try{C._destroy(s||null,f)}catch(_){f(_)}}function Q(C,s){Y(C,s),q(C)}function q(C){const s=C._readableState,d=C._writableState;d&&(d.closeEmitted=!0),s&&(s.closeEmitted=!0),(null!=d&&d.emitClose||null!=s&&s.emitClose)&&C.emit("close")}function Y(C,s){const d=C._readableState,h=C._writableState;null!=h&&h.errorEmitted||null!=d&&d.errorEmitted||(h&&(h.errorEmitted=!0),d&&(d.errorEmitted=!0),C.emit("error",s))}function re(C,s,d){const h=C._readableState,f=C._writableState;if(null!=f&&f.destroyed||null!=h&&h.destroyed)return this;null!=h&&h.autoDestroy||null!=f&&f.autoDestroy?C.destroy(s):s&&(f&&!f.errored&&(f.errored=s),h&&!h.errored&&(h.errored=s),d?g.nextTick(Y,C,s):Y(C,s))}function ae(C){let s=!1;function d(h){if(s)return void re(C,h??new B);s=!0;const f=C._readableState,_=C._writableState,I=_||f;f&&(f.constructed=!0),_&&(_.constructed=!0),I.destroyed?C.emit(O,h):h?re(C,h,!0):g.nextTick(ue,C)}try{C._construct(h=>{g.nextTick(d,h)})}catch(h){g.nextTick(d,h)}}function ue(C){C.emit(A)}function ce(C){return C?.setHeader&&"function"==typeof C.abort}function pe(C){C.emit("close")}function ve(C,s){C.emit("error",s),g.nextTick(pe,C)}$e.exports={construct:function ie(C,s){if("function"!=typeof C._construct)return;const d=C._readableState,h=C._writableState;d&&(d.constructed=!1),h&&(h.constructed=!1),C.once(A,s),!(C.listenerCount(A)>1)&&g.nextTick(ae,C)},destroyer:function De(C,s){!C||S(C)||(!s&&!P(C)&&(s=new H),R(C)?(C.socket=null,C.destroy(s)):ce(C)?C.abort():ce(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(s):"function"==typeof C.close?C.close():s?g.nextTick(ve,C,s):g.nextTick(pe,C),C.destroyed||(C[k]=!0))},destroy:function U(C,s){const d=this._readableState,h=this._writableState,f=h||d;return null!=h&&h.destroyed||null!=d&&d.destroyed?("function"==typeof s&&s(),this):(V(C,h,d),h&&(h.destroyed=!0),d&&(d.destroyed=!0),f.constructed?K(this,C,s):this.once(O,function(_){K(this,w(_,C),s)}),this)},undestroy:function W(){const C=this._readableState,s=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),s&&(s.constructed=!0,s.destroyed=!1,s.closed=!1,s.closeEmitted=!1,s.errored=null,s.errorEmitted=!1,s.finalCalled=!1,s.prefinished=!1,s.ended=!1===s.writable,s.ending=!1===s.writable,s.finished=!1===s.writable)},errorOrDestroy:re}},13323:($e,j,E)=>{"use strict";const{ObjectDefineProperties:g,ObjectGetOwnPropertyDescriptor:w,ObjectKeys:B,ObjectSetPrototypeOf:H}=E(56389);$e.exports=S;const b=E(84553),k=E(30009);H(S.prototype,b.prototype),H(S,b);{const A=B(k.prototype);for(let V=0;V<A.length;V++){const U=A[V];S.prototype[U]||(S.prototype[U]=k.prototype[U])}}function S(A){if(!(this instanceof S))return new S(A);b.call(this,A),k.call(this,A),A?(this.allowHalfOpen=!1!==A.allowHalfOpen,!1===A.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===A.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let P,O;function R(){return void 0===P&&(P={}),P}g(S.prototype,{writable:{__proto__:null,...w(k.prototype,"writable")},writableHighWaterMark:{__proto__:null,...w(k.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...w(k.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...w(k.prototype,"writableBuffer")},writableLength:{__proto__:null,...w(k.prototype,"writableLength")},writableFinished:{__proto__:null,...w(k.prototype,"writableFinished")},writableCorked:{__proto__:null,...w(k.prototype,"writableCorked")},writableEnded:{__proto__:null,...w(k.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...w(k.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(A){this._readableState&&this._writableState&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}}),S.fromWeb=function(A,V){return R().newStreamDuplexFromReadableWritablePair(A,V)},S.toWeb=function(A){return R().newReadableWritablePairFromDuplex(A)},S.from=function(A){return O||(O=E(44425)),O(A,"body")}},44425:($e,j,E)=>{var g=E(29293).default,w=E(53344).default,B=E(42958).default;const H=E(40573),b=E(68316),{isReadable:k,isWritable:S,isIterable:P,isNodeStream:R,isReadableNodeStream:O,isWritableNodeStream:A,isDuplexNodeStream:V,isReadableStream:U,isWritableStream:K}=E(32924),Q=E(46017),{AbortError:q,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_INVALID_RETURN_VALUE:W}}=E(68154),{destroyer:re}=E(96507),ie=E(13323),ae=E(84553),ue=E(30009),{createDeferredPromise:ce}=E(13509),pe=E(45737),ve=globalThis.Blob||b.Blob,De=typeof ve<"u"?function(I){return I instanceof ve}:function(I){return!1},C=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:s}=E(56389);class d extends ie{constructor(I){super(I),!1===I?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===I?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function f(_){const I=_.readable&&"function"!=typeof _.readable.read?ae.wrap(_.readable):_.readable,L=_.writable;let v,Z,z,ee,le,x=!!k(I),a=!!S(L);function we(Me){const Ze=ee;ee=null,Ze?Ze(Me):Me&&le.destroy(Me)}return le=new d({readableObjectMode:!(null==I||!I.readableObjectMode),writableObjectMode:!(null==L||!L.writableObjectMode),readable:x,writable:a}),a&&(Q(L,Me=>{a=!1,Me&&re(I,Me),we(Me)}),le._write=function(Me,Ze,ge){L.write(Me,Ze)?ge():v=ge},le._final=function(Me){L.end(),Z=Me},L.on("drain",function(){if(v){const Me=v;v=null,Me()}}),L.on("finish",function(){if(Z){const Me=Z;Z=null,Me()}})),x&&(Q(I,Me=>{x=!1,Me&&re(I,Me),we(Me)}),I.on("readable",function(){if(z){const Me=z;z=null,Me()}}),I.on("end",function(){le.push(null)}),le._read=function(){for(;;){const Me=I.read();if(null===Me)return void(z=le._read);if(!le.push(Me))return}}),le._destroy=function(Me,Ze){!Me&&null!==ee&&(Me=new q),z=null,v=null,Z=null,null===ee?Ze(Me):(ee=Ze,re(L,Me),re(I,Me))},le}$e.exports=function _(I,L){if(V(I))return I;if(O(I))return f({readable:I});if(A(I))return f({writable:I});if(R(I))return f({writable:!1,readable:!1});if(U(I))return f({readable:ae.fromWeb(I)});if(K(I))return f({writable:ue.fromWeb(I)});if("function"==typeof I){const{value:a,write:v,final:Z,destroy:z}=function h(_){let{promise:I,resolve:L}=ce();const x=new C,a=x.signal;return{value:_(B(function*(){for(;;){const Z=I;I=null;const{chunk:z,done:ee,cb:le}=yield w(Z);if(H.nextTick(le),ee)return;if(a.aborted)throw new q(void 0,{cause:a.reason});({promise:I,resolve:L}=ce()),yield z}})(),{signal:a}),write(Z,z,ee){const le=L;L=null,le({chunk:Z,done:!1,cb:ee})},final(Z){const z=L;L=null,z({done:!0,cb:Z})},destroy(Z,z){x.abort(),z(Z)}}}(I);if(P(a))return pe(d,a,{objectMode:!0,write:v,final:Z,destroy:z});const ee=a?.then;if("function"==typeof ee){let le;const we=s(ee,a,Me=>{if(null!=Me)throw new W("nully","body",Me)},Me=>{re(le,Me)});return le=new d({objectMode:!0,readable:!1,write:v,final(Me){Z(g(function*(){try{yield we,H.nextTick(Me,null)}catch(Ze){H.nextTick(Me,Ze)}}))},destroy:z})}throw new W("Iterable, AsyncIterable or AsyncFunction",L,a)}if(De(I))return _(I.arrayBuffer());if(P(I))return pe(d,I,{objectMode:!0,writable:!1});if(U(I?.readable)&&K(I?.writable))return d.fromWeb(I);if("object"==typeof I?.writable||"object"==typeof I?.readable)return f({readable:null!=I&&I.readable?O(I?.readable)?I?.readable:_(I.readable):void 0,writable:null!=I&&I.writable?A(I?.writable)?I?.writable:_(I.writable):void 0});const x=I?.then;if("function"==typeof x){let a;return s(x,I,v=>{null!=v&&a.push(v),a.push(null)},v=>{re(a,v)}),a=new d({objectMode:!0,writable:!1,read(){}})}throw new Y(L,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],I)}},46017:($e,j,E)=>{const g=E(40573),{AbortError:w,codes:B}=E(68154),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:b}=B,{kEmptyObject:k,once:S}=E(13509),{validateAbortSignal:P,validateFunction:R,validateObject:O,validateBoolean:A}=E(99852),{Promise:V,PromisePrototypeThen:U,SymbolDispose:K}=E(56389),{isClosed:Q,isReadable:q,isReadableNodeStream:Y,isReadableStream:W,isReadableFinished:re,isReadableErrored:ie,isWritable:ae,isWritableNodeStream:ue,isWritableStream:ce,isWritableFinished:pe,isWritableErrored:ve,isNodeStream:De,willEmitClose:C,kIsClosedPromise:s}=E(32924);let d;const f=()=>{};function _(x,a,v){var Z,z;if(2===arguments.length?(v=a,a=k):null==a?a=k:O(a,"options"),R(v,"callback"),P(a.signal,"options.signal"),v=S(v),W(x)||ce(x))return function I(x,a,v){let Z=!1,z=f;if(a.signal)if(z=()=>{Z=!0,v.call(x,new w(void 0,{cause:a.signal.reason}))},a.signal.aborted)g.nextTick(z);else{d=d||E(13509).addAbortListener;const le=d(a.signal,z),we=v;v=S((...Me)=>{le[K](),we.apply(x,Me)})}const ee=(...le)=>{Z||g.nextTick(()=>v.apply(x,le))};return U(x[s].promise,ee,ee),f}(x,a,v);if(!De(x))throw new H("stream",["ReadableStream","WritableStream","Stream"],x);const ee=null!==(Z=a.readable)&&void 0!==Z?Z:Y(x),le=null!==(z=a.writable)&&void 0!==z?z:ue(x),we=x._writableState,Me=x._readableState,Ze=()=>{x.writable||Ue()};let ge=C(x)&&Y(x)===ee&&ue(x)===le,me=pe(x,!1);const Ue=()=>{me=!0,x.destroyed&&(ge=!1),(!ge||x.readable&&!ee)&&(!ee||xe)&&v.call(x)};let xe=re(x,!1);const Ce=()=>{xe=!0,x.destroyed&&(ge=!1),(!ge||x.writable&&!le)&&(!le||me)&&v.call(x)},be=Ie=>{v.call(x,Ie)};let he=Q(x);const ne=()=>{he=!0;const Ie=ve(x)||ie(x);return Ie&&"boolean"!=typeof Ie?v.call(x,Ie):ee&&!xe&&Y(x,!0)&&!re(x,!1)?v.call(x,new b):!le||me||pe(x,!1)?void v.call(x):v.call(x,new b)},te=()=>{he=!0;const Ie=ve(x)||ie(x);if(Ie&&"boolean"!=typeof Ie)return v.call(x,Ie);v.call(x)},de=()=>{x.req.on("finish",Ue)};!function h(x){return x.setHeader&&"function"==typeof x.abort}(x)?le&&!we&&(x.on("end",Ze),x.on("close",Ze)):(x.on("complete",Ue),ge||x.on("abort",ne),x.req?de():x.on("request",de)),!ge&&"boolean"==typeof x.aborted&&x.on("aborted",ne),x.on("end",Ce),x.on("finish",Ue),!1!==a.error&&x.on("error",be),x.on("close",ne),he?g.nextTick(ne):null!=we&&we.errorEmitted||null!=Me&&Me.errorEmitted?ge||g.nextTick(te):(!ee&&(!ge||q(x))&&(me||!1===ae(x))||!le&&(!ge||ae(x))&&(xe||!1===q(x))||Me&&x.req&&x.aborted)&&g.nextTick(te);const _e=()=>{v=f,x.removeListener("aborted",ne),x.removeListener("complete",Ue),x.removeListener("abort",ne),x.removeListener("request",de),x.req&&x.req.removeListener("finish",Ue),x.removeListener("end",Ze),x.removeListener("close",Ze),x.removeListener("finish",Ue),x.removeListener("end",Ce),x.removeListener("error",be),x.removeListener("close",ne)};if(a.signal&&!he){const Ie=()=>{const He=v;_e(),He.call(x,new w(void 0,{cause:a.signal.reason}))};if(a.signal.aborted)g.nextTick(Ie);else{d=d||E(13509).addAbortListener;const He=d(a.signal,Ie),Ve=v;v=S((...Dt)=>{He[K](),Ve.apply(x,Dt)})}}return _e}$e.exports=_,$e.exports.finished=function L(x,a){var v;let Z=!1;return null===a&&(a=k),null!==(v=a)&&void 0!==v&&v.cleanup&&(A(a.cleanup,"cleanup"),Z=a.cleanup),new V((z,ee)=>{const le=_(x,a,we=>{Z&&le(),we?ee(we):z()})})}},45737:($e,j,E)=>{"use strict";var g=E(29293).default;const w=E(40573),{PromisePrototypeThen:B,SymbolAsyncIterator:H,SymbolIterator:b}=E(56389),{Buffer:k}=E(68316),{ERR_INVALID_ARG_TYPE:S,ERR_STREAM_NULL_VALUES:P}=E(68154).codes;$e.exports=function R(O,A,V){let U,K;if("string"==typeof A||A instanceof k)return new O({objectMode:!0,...V,read(){this.push(A),this.push(null)}});if(A&&A[H])K=!0,U=A[H]();else{if(!A||!A[b])throw new S("iterable",["Iterable"],A);K=!1,U=A[b]()}const Q=new O({objectMode:!0,highWaterMark:1,...V});let q=!1;function W(){return(W=g(function*(ae){if(null!=ae&&"function"==typeof U.throw){const{value:pe,done:ve}=yield U.throw(ae);if(yield pe,ve)return}if("function"==typeof U.return){const{value:pe}=yield U.return();yield pe}})).apply(this,arguments)}function ie(){return(ie=g(function*(){for(;;){try{const{value:ae,done:ue}=K?yield U.next():U.next();if(ue)Q.push(null);else{const ce=ae&&"function"==typeof ae.then?yield ae:ae;if(null===ce)throw q=!1,new P;if(Q.push(ce))continue;q=!1}}catch(ae){Q.destroy(ae)}break}})).apply(this,arguments)}return Q._read=function(){q||(q=!0,function re(){ie.apply(this,arguments)}())},Q._destroy=function(ae,ue){B(function Y(ae){return W.apply(this,arguments)}(ae),()=>w.nextTick(ue,ae),ce=>w.nextTick(ue,ce||ae))},Q}},91242:($e,j,E)=>{"use strict";const{ArrayIsArray:g,ObjectSetPrototypeOf:w}=E(56389),{EventEmitter:B}=E(44356);function H(k){B.call(this,k)}function b(k,S,P){if("function"==typeof k.prependListener)return k.prependListener(S,P);k._events&&k._events[S]?g(k._events[S])?k._events[S].unshift(P):k._events[S]=[P,k._events[S]]:k.on(S,P)}w(H.prototype,B.prototype),w(H,B),H.prototype.pipe=function(k,S){const P=this;function R(q){k.writable&&!1===k.write(q)&&P.pause&&P.pause()}function O(){P.readable&&P.resume&&P.resume()}P.on("data",R),k.on("drain",O),!k._isStdio&&(!S||!1!==S.end)&&(P.on("end",V),P.on("close",U));let A=!1;function V(){A||(A=!0,k.end())}function U(){A||(A=!0,"function"==typeof k.destroy&&k.destroy())}function K(q){Q(),0===B.listenerCount(this,"error")&&this.emit("error",q)}function Q(){P.removeListener("data",R),k.removeListener("drain",O),P.removeListener("end",V),P.removeListener("close",U),P.removeListener("error",K),k.removeListener("error",K),P.removeListener("end",Q),P.removeListener("close",Q),k.removeListener("close",Q)}return b(P,"error",K),b(k,"error",K),P.on("end",Q),P.on("close",Q),k.on("close",Q),k.emit("pipe",P),k},$e.exports={Stream:H,prependListener:b}},21840:($e,j,E)=>{"use strict";var g=E(29293).default,w=E(93513).default,B=E(82881).default,H=E(53344).default,b=E(42958).default;const k=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:S,ERR_INVALID_ARG_TYPE:P,ERR_MISSING_ARGS:R,ERR_OUT_OF_RANGE:O},AbortError:A}=E(68154),{validateAbortSignal:V,validateInteger:U,validateObject:K}=E(99852),Q=E(56389).Symbol("kWeak"),q=E(56389).Symbol("kResistStopPropagation"),{finished:Y}=E(46017),W=E(373),{addAbortSignalNoValidate:re}=E(57062),{isWritable:ie,isNodeStream:ae}=E(32924),{deprecate:ue}=E(13509),{ArrayPrototypePush:ce,Boolean:pe,MathFloor:ve,Number:De,NumberIsNaN:C,Promise:s,PromiseReject:d,PromiseResolve:h,PromisePrototypeThen:f,Symbol:_}=E(56389),I=_("kEmpty"),L=_("kEof");function a(Ie,He){if("function"!=typeof Ie)throw new P("fn",["Function","AsyncFunction"],Ie);null!=He&&K(He,"options"),null!=He?.signal&&V(He.signal,"options.signal");let Ve=1;null!=He?.concurrency&&(Ve=ve(He.concurrency));let Dt=Ve-1;return null!=He?.highWaterMark&&(Dt=ve(He.highWaterMark)),U(Ve,"options.concurrency",1),U(Dt,"options.highWaterMark",0),Dt+=Ve,function(){var Ne=b(function*(){const yt=E(13509).AbortSignalAny([He?.signal].filter(pe)),F=this,D=[],M={signal:yt};let G,fe,Se=!1,Ae=0;function ot(){Se=!0,Gt()}function Gt(){Ae-=1,_t()}function _t(){fe&&!Se&&Ae<Ve&&D.length<Dt&&(fe(),fe=null)}function en(){return(en=g(function*(){try{var tr,pn=!1,cn=!1;try{for(var on,Mn=B(F);pn=!(on=yield Mn.next()).done;pn=!1){let Qt=on.value;if(Se)return;if(yt.aborted)throw new A;try{if(Qt=Ie(Qt,M),Qt===I)continue;Qt=h(Qt)}catch(ut){Qt=d(ut)}Ae+=1,f(Qt,Gt,ot),D.push(Qt),G&&(G(),G=null),!Se&&(D.length>=Dt||Ae>=Ve)&&(yield new s(ut=>{fe=ut}))}}catch(Qt){cn=!0,tr=Qt}finally{try{pn&&null!=Mn.return&&(yield Mn.return())}finally{if(cn)throw tr}}D.push(L)}catch(Qt){const ut=d(Qt);f(ut,Gt,ot),D.push(ut)}finally{Se=!0,G&&(G(),G=null)}})).apply(this,arguments)}!function Bt(){en.apply(this,arguments)}();try{for(;;){for(;D.length>0;){const pn=yield H(D[0]);if(pn===L)return;if(yt.aborted)throw new A;pn!==I&&(yield pn),D.shift(),_t()}yield H(new s(pn=>{G=pn}))}}finally{Se=!0,fe&&(fe(),fe=null)}});return function ke(){return Ne.apply(this,arguments)}}().call(this)}function Z(Ie){return z.apply(this,arguments)}function z(){return(z=g(function*(Ie,He=void 0){var Ne,Ve=!1,Dt=!1;try{for(var ke=B(me.call(this,Ie,He));Ve=!(yield ke.next()).done;Ve=!1)return!0}catch(F){Dt=!0,Ne=F}finally{try{Ve&&null!=ke.return&&(yield ke.return())}finally{if(Dt)throw Ne}}return!1})).apply(this,arguments)}function le(){return(le=g(function*(Ie,He=void 0){if("function"!=typeof Ie)throw new P("fn",["Function","AsyncFunction"],Ie);return!(yield Z.call(this,g(function*(...Ve){return!(yield Ie(...Ve))}),He))})).apply(this,arguments)}function Me(){return(Me=g(function*(Ie,He){var Ne,Ve=!1,Dt=!1;try{for(var yt,ke=B(me.call(this,Ie,He));Ve=!(yt=yield ke.next()).done;Ve=!1)return yt.value}catch(F){Dt=!0,Ne=F}finally{try{Ve&&null!=ke.return&&(yield ke.return())}finally{if(Dt)throw Ne}}})).apply(this,arguments)}function ge(){return ge=g(function*(Ie,He){if("function"!=typeof Ie)throw new P("fn",["Function","AsyncFunction"],Ie);function Dt(){return(Dt=g(function*(M,G){return yield Ie(M,G),I})).apply(this,arguments)}var yt,Ne=!1,ke=!1;try{for(var F=B(a.call(this,function Ve(M,G){return Dt.apply(this,arguments)},He));Ne=!(yield F.next()).done;Ne=!1);}catch(M){ke=!0,yt=M}finally{try{Ne&&null!=F.return&&(yield F.return())}finally{if(ke)throw yt}}}),ge.apply(this,arguments)}function me(Ie,He){if("function"!=typeof Ie)throw new P("fn",["Function","AsyncFunction"],Ie);function Dt(){return(Dt=g(function*(Ne,ke){return(yield Ie(Ne,ke))?Ne:I})).apply(this,arguments)}return a.call(this,function Ve(Ne,ke){return Dt.apply(this,arguments)},He)}class Ue extends R{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Ce(){return Ce=g(function*(Ie,He,Ve){var Dt;if("function"!=typeof Ie)throw new P("reducer",["Function","AsyncFunction"],Ie);null!=Ve&&K(Ve,"options"),null!=Ve?.signal&&V(Ve.signal,"options.signal");let Ne=arguments.length>1;if(null!=Ve&&null!==(Dt=Ve.signal)&&void 0!==Dt&&Dt.aborted){const ot=new A(void 0,{cause:Ve.signal.reason});throw this.once("error",()=>{}),yield Y(this.destroy(ot)),ot}const ke=new k,yt=ke.signal;null!=Ve&&Ve.signal&&Ve.signal.addEventListener("abort",()=>ke.abort(),{once:!0,[Q]:this,[q]:!0});let F=!1;try{var G,D=!1,M=!1;try{for(var Se,fe=B(this);D=!(Se=yield fe.next()).done;D=!1){const ot=Se.value;var Ae;if(F=!0,null!=Ve&&null!==(Ae=Ve.signal)&&void 0!==Ae&&Ae.aborted)throw new A;Ne?He=yield Ie(He,ot,{signal:yt}):(He=ot,Ne=!0)}}catch(ot){M=!0,G=ot}finally{try{D&&null!=fe.return&&(yield fe.return())}finally{if(M)throw G}}if(!F&&!Ne)throw new Ue}finally{ke.abort()}return He}),Ce.apply(this,arguments)}function he(){return(he=g(function*(Ie){null!=Ie&&K(Ie,"options"),null!=Ie?.signal&&V(Ie.signal,"options.signal");const He=[];var Ne,Ve=!1,Dt=!1;try{for(var yt,ke=B(this);Ve=!(yt=yield ke.next()).done;Ve=!1){const D=yt.value;var F;if(null!=Ie&&null!==(F=Ie.signal)&&void 0!==F&&F.aborted)throw new A(void 0,{cause:Ie.signal.reason});ce(He,D)}}catch(D){Dt=!0,Ne=D}finally{try{Ve&&null!=ke.return&&(yield ke.return())}finally{if(Dt)throw Ne}}return He})).apply(this,arguments)}function te(Ie){if(Ie=De(Ie),C(Ie))return 0;if(Ie<0)throw new O("number",">= 0",Ie);return Ie}$e.exports.streamReturningOperators={asIndexedPairs:ue(function v(Ie=void 0){return null!=Ie&&K(Ie,"options"),null!=Ie?.signal&&V(Ie.signal,"options.signal"),function(){var He=b(function*(){let Dt=0;var yt,Ne=!1,ke=!1;try{for(var D,F=B(this);Ne=!(D=yield H(F.next())).done;Ne=!1){const G=D.value;var M;if(null!=Ie&&null!==(M=Ie.signal)&&void 0!==M&&M.aborted)throw new A({cause:Ie.signal.reason});yield[Dt++,G]}}catch(G){ke=!0,yt=G}finally{try{Ne&&null!=F.return&&(yield H(F.return()))}finally{if(ke)throw yt}}});return function Ve(){return He.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function de(Ie,He=void 0){return null!=He&&K(He,"options"),null!=He?.signal&&V(He.signal,"options.signal"),Ie=te(Ie),function(){var Ve=b(function*(){var Ne;if(null!=He&&null!==(Ne=He.signal)&&void 0!==Ne&&Ne.aborted)throw new A;var F,ke=!1,yt=!1;try{for(var M,D=B(this);ke=!(M=yield H(D.next())).done;ke=!1){const fe=M.value;var G;if(null!=He&&null!==(G=He.signal)&&void 0!==G&&G.aborted)throw new A;Ie--<=0&&(yield fe)}}catch(fe){yt=!0,F=fe}finally{try{ke&&null!=D.return&&(yield H(D.return()))}finally{if(yt)throw F}}});return function Dt(){return Ve.apply(this,arguments)}}().call(this)},filter:me,flatMap:function ne(Ie,He){const Ve=a.call(this,Ie,He);return function(){var Dt=b(function*(){var F,ke=!1,yt=!1;try{for(var M,D=B(Ve);ke=!(M=yield H(D.next())).done;ke=!1){const G=M.value;yield*w(B(G),H)}}catch(G){yt=!0,F=G}finally{try{ke&&null!=D.return&&(yield H(D.return()))}finally{if(yt)throw F}}});return function Ne(){return Dt.apply(this,arguments)}}().call(this)},map:a,take:function _e(Ie,He=void 0){return null!=He&&K(He,"options"),null!=He?.signal&&V(He.signal,"options.signal"),Ie=te(Ie),function(){var Ve=b(function*(){var Ne;if(null!=He&&null!==(Ne=He.signal)&&void 0!==Ne&&Ne.aborted)throw new A;var F,ke=!1,yt=!1;try{for(var M,D=B(this);ke=!(M=yield H(D.next())).done;ke=!1){const fe=M.value;var G;if(null!=He&&null!==(G=He.signal)&&void 0!==G&&G.aborted)throw new A;if(Ie-- >0&&(yield fe),Ie<=0)return}}catch(fe){yt=!0,F=fe}finally{try{ke&&null!=D.return&&(yield H(D.return()))}finally{if(yt)throw F}}});return function Dt(){return Ve.apply(this,arguments)}}().call(this)},compose:function x(Ie,He){if(null!=He&&K(He,"options"),null!=He?.signal&&V(He.signal,"options.signal"),ae(Ie)&&!ie(Ie))throw new S("stream",Ie,"must be writable");const Ve=W(this,Ie);return null!=He&&He.signal&&re(He.signal,Ve),Ve}},$e.exports.promiseReturningOperators={every:function ee(Ie){return le.apply(this,arguments)},forEach:function Ze(Ie,He){return ge.apply(this,arguments)},reduce:function xe(Ie,He,Ve){return Ce.apply(this,arguments)},toArray:function be(Ie){return he.apply(this,arguments)},some:Z,find:function we(Ie,He){return Me.apply(this,arguments)}}},59447:($e,j,E)=>{"use strict";const{ObjectSetPrototypeOf:g}=E(56389);$e.exports=B;const w=E(71981);function B(H){if(!(this instanceof B))return new B(H);w.call(this,H)}g(B.prototype,w.prototype),g(B,w),B.prototype._transform=function(H,b,k){k(null,H)}},67843:($e,j,E)=>{var g=E(29293).default,w=E(42958).default,B=E(53344).default,H=E(93513).default,b=E(82881).default;const k=E(40573),{ArrayIsArray:S,Promise:P,SymbolAsyncIterator:R,SymbolDispose:O}=E(56389),A=E(46017),{once:V}=E(13509),U=E(96507),K=E(13323),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:q,ERR_INVALID_RETURN_VALUE:Y,ERR_MISSING_ARGS:W,ERR_STREAM_DESTROYED:re,ERR_STREAM_PREMATURE_CLOSE:ie},AbortError:ae}=E(68154),{validateFunction:ue,validateAbortSignal:ce}=E(99852),{isIterable:pe,isReadable:ve,isReadableNodeStream:De,isNodeStream:C,isTransformStream:s,isWebStream:d,isReadableStream:h,isReadableFinished:f}=E(32924),_=globalThis.AbortController||E(9465).AbortController;let I,L,x;function a(xe,Ce,be){let he=!1;return xe.on("close",()=>{he=!0}),{destroy:te=>{he||(he=!0,U.destroyer(xe,te||new re("pipe")))},cleanup:A(xe,{readable:Ce,writable:be},te=>{he=!te})}}function Z(xe){if(pe(xe))return xe;if(De(xe))return function z(xe){return ee.apply(this,arguments)}(xe);throw new q("val",["Readable","Iterable","AsyncIterable"],xe)}function ee(){return(ee=w(function*(xe){L||(L=E(84553)),yield*H(b(L.prototype[R].call(xe)),B)})).apply(this,arguments)}function le(xe,Ce,be,he){return we.apply(this,arguments)}function we(){return(we=g(function*(xe,Ce,be,{end:he}){let ne,te=null;const de=yt=>{if(yt&&(ne=yt),te){const F=te;te=null,F()}},_e=()=>new P((yt,F)=>{ne?F(ne):te=()=>{ne?F(ne):yt()}});Ce.on("drain",de);const Ie=A(Ce,{readable:!1},de);try{Ce.writableNeedDrain&&(yield _e());var Dt,He=!1,Ve=!1;try{for(var ke,Ne=b(xe);He=!(ke=yield Ne.next()).done;He=!1)Ce.write(ke.value)||(yield _e())}catch(yt){Ve=!0,Dt=yt}finally{try{He&&null!=Ne.return&&(yield Ne.return())}finally{if(Ve)throw Dt}}he&&(Ce.end(),yield _e()),be()}catch(yt){be(ne!==yt?Q(ne,yt):yt)}finally{Ie(),Ce.off("drain",de)}})).apply(this,arguments)}function Me(xe,Ce,be,he){return Ze.apply(this,arguments)}function Ze(){return(Ze=g(function*(xe,Ce,be,{end:he}){s(Ce)&&(Ce=Ce.writable);const ne=Ce.getWriter();try{var _e,te=!1,de=!1;try{for(var He,Ie=b(xe);te=!(He=yield Ie.next()).done;te=!1){const Ve=He.value;yield ne.ready,ne.write(Ve).catch(()=>{})}}catch(Ve){de=!0,_e=Ve}finally{try{te&&null!=Ie.return&&(yield Ie.return())}finally{if(de)throw _e}}yield ne.ready,he&&(yield ne.close()),be()}catch(Ve){try{yield ne.abort(Ve),be(Ve)}catch(Dt){be(Dt)}}})).apply(this,arguments)}function me(xe,Ce,be){if(1===xe.length&&S(xe[0])&&(xe=xe[0]),xe.length<2)throw new W("streams");const he=new _,ne=he.signal,te=be?.signal,de=[];function _e(){yt(new ae)}let Ie,He,Ve;ce(te,"options.signal"),x=x||E(13509).addAbortListener,te&&(Ie=x(te,_e));const Dt=[];let F,Ne=0;function ke(fe){yt(fe,0==--Ne)}function yt(fe,Se){var Ae;if(fe&&(!He||"ERR_STREAM_PREMATURE_CLOSE"===He.code)&&(He=fe),He||Se){for(;Dt.length;)Dt.shift()(He);null===(Ae=Ie)||void 0===Ae||Ae[O](),he.abort(),Se&&(He||de.forEach(ot=>ot()),k.nextTick(Ce,He,Ve))}}for(let fe=0;fe<xe.length;fe++){const Se=xe[fe],Ae=fe<xe.length-1,ot=fe>0,Gt=Ae||!1!==be?.end,_t=fe===xe.length-1;if(C(Se)){let Bt=function(en){en&&"AbortError"!==en.name&&"ERR_STREAM_PREMATURE_CLOSE"!==en.code&&ke(en)};if(Gt){const{destroy:en,cleanup:pn}=a(Se,Ae,ot);Dt.push(en),ve(Se)&&_t&&de.push(pn)}Se.on("error",Bt),ve(Se)&&_t&&de.push(()=>{Se.removeListener("error",Bt)})}if(0===fe)if("function"==typeof Se){if(F=Se({signal:ne}),!pe(F))throw new Y("Iterable, AsyncIterable or Stream","source",F)}else F=pe(Se)||De(Se)||s(Se)?Se:K.from(Se);else if("function"==typeof Se){var D;if(F=s(F)?Z(null===(D=F)||void 0===D?void 0:D.readable):Z(F),F=Se(F,{signal:ne}),Ae){if(!pe(F,!0))throw new Y("AsyncIterable",`transform[${fe-1}]`,F)}else{var M;I||(I=E(59447));const Bt=new I({objectMode:!0}),en=null===(M=F)||void 0===M?void 0:M.then;if("function"==typeof en)Ne++,en.call(F,tr=>{Ve=tr,null!=tr&&Bt.write(tr),Gt&&Bt.end(),k.nextTick(ke)},tr=>{Bt.destroy(tr),k.nextTick(ke,tr)});else if(pe(F,!0))Ne++,le(F,Bt,ke,{end:Gt});else{if(!h(F)&&!s(F))throw new Y("AsyncIterable or Promise","destination",F);Ne++,le(F.readable||F,Bt,ke,{end:Gt})}F=Bt;const{destroy:pn,cleanup:cn}=a(F,!1,!0);Dt.push(pn),_t&&de.push(cn)}}else if(C(Se)){if(De(F)){Ne+=2;const Bt=Ue(F,Se,ke,{end:Gt});ve(Se)&&_t&&de.push(Bt)}else if(s(F)||h(F))Ne++,le(F.readable||F,Se,ke,{end:Gt});else{if(!pe(F))throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);Ne++,le(F,Se,ke,{end:Gt})}F=Se}else if(d(Se)){if(De(F))Ne++,Me(Z(F),Se,ke,{end:Gt});else if(h(F)||pe(F))Ne++,Me(F,Se,ke,{end:Gt});else{if(!s(F))throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);Ne++,Me(F.readable,Se,ke,{end:Gt})}F=Se}else F=K.from(Se)}return(null!=ne&&ne.aborted||null!=te&&te.aborted)&&k.nextTick(_e),F}function Ue(xe,Ce,be,{end:he}){let ne=!1;if(Ce.on("close",()=>{ne||be(new ie)}),xe.pipe(Ce,{end:!1}),he){let de=function(){ne=!0,Ce.end()};f(xe)?k.nextTick(de):xe.once("end",de)}else be();return A(xe,{readable:!0,writable:!1},de=>{const _e=xe._readableState;de&&"ERR_STREAM_PREMATURE_CLOSE"===de.code&&_e&&_e.ended&&!_e.errored&&!_e.errorEmitted?xe.once("end",be).once("error",be):be(de)}),A(Ce,{readable:!1,writable:!0},be)}$e.exports={pipelineImpl:me,pipeline:function ge(...xe){return me(xe,V(function v(xe){return ue(xe[xe.length-1],"streams[stream.length - 1]"),xe.pop()}(xe)))}}},84553:($e,j,E)=>{var g=E(53344).default,w=E(42958).default;const B=E(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:b,NumberIsNaN:k,NumberParseInt:S,ObjectDefineProperties:P,ObjectKeys:R,ObjectSetPrototypeOf:O,Promise:A,SafeSet:V,SymbolAsyncDispose:U,SymbolAsyncIterator:K,Symbol:Q}=E(56389);$e.exports=ke,ke.ReadableState=Ne;const{EventEmitter:q}=E(44356),{Stream:Y,prependListener:W}=E(91242),{Buffer:re}=E(68316),{addAbortSignal:ie}=E(57062),ae=E(46017);let ue=E(13509).debuglog("stream",at=>{ue=at});const ce=E(16630),pe=E(96507),{getHighWaterMark:ve,getDefaultHighWaterMark:De}=E(18212),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:s,ERR_METHOD_NOT_IMPLEMENTED:d,ERR_OUT_OF_RANGE:h,ERR_STREAM_PUSH_AFTER_EOF:f,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:_},AbortError:I}=E(68154),{validateObject:L}=E(99852),x=Q("kPaused"),{StringDecoder:a}=E(78454),v=E(45737);O(ke.prototype,Y.prototype),O(ke,Y);const Z=()=>{},{errorOrDestroy:z}=pe,ee=1,Ze=16,ge=32,me=64,he=2048,ne=4096,Ie=65536;function Dt(at){return{enumerable:!1,get(){return!!(this.state&at)},set(pt){pt?this.state|=at:this.state&=~at}}}function Ne(at,pt,ht){"boolean"!=typeof ht&&(ht=pt instanceof E(13323)),this.state=he|ne|Ze|ge,at&&at.objectMode&&(this.state|=ee),ht&&at&&at.readableObjectMode&&(this.state|=ee),this.highWaterMark=at?ve(this,at,"readableHighWaterMark",ht):De(!1),this.buffer=new ce,this.length=0,this.pipes=[],this.flowing=null,this[x]=null,at&&!1===at.emitClose&&(this.state&=~he),at&&!1===at.autoDestroy&&(this.state&=~ne),this.errored=null,this.defaultEncoding=at&&at.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,at&&at.encoding&&(this.decoder=new a(at.encoding),this.encoding=at.encoding)}function ke(at){if(!(this instanceof ke))return new ke(at);const pt=this instanceof E(13323);this._readableState=new Ne(at,this,pt),at&&("function"==typeof at.read&&(this._read=at.read),"function"==typeof at.destroy&&(this._destroy=at.destroy),"function"==typeof at.construct&&(this._construct=at.construct),at.signal&&!pt&&ie(at.signal,this)),Y.call(this,at),pe.construct(this,()=>{this._readableState.needReadable&&ot(this,this._readableState)})}function yt(at,pt,ht,Ke){ue("readableAddChunk",pt);const Ge=at._readableState;let jt;if(Ge.state&ee||("string"==typeof pt?Ge.encoding!==(ht=ht||Ge.defaultEncoding)&&(Ke&&Ge.encoding?pt=re.from(pt,ht).toString(Ge.encoding):(pt=re.from(pt,ht),ht="")):pt instanceof re?ht="":Y._isUint8Array(pt)?(pt=Y._uint8ArrayToBuffer(pt),ht=""):null!=pt&&(jt=new s("chunk",["string","Buffer","Uint8Array"],pt))),jt)z(at,jt);else if(null===pt)Ge.state&=-9,function fe(at,pt){if(ue("onEofChunk"),!pt.ended){if(pt.decoder){const ht=pt.decoder.end();ht&&ht.length&&(pt.buffer.push(ht),pt.length+=pt.objectMode?1:ht.length)}pt.ended=!0,pt.sync?Se(at):(pt.needReadable=!1,pt.emittedReadable=!0,Ae(at))}}(at,Ge);else if(Ge.state&ee||pt&&pt.length>0)if(Ke)if(4&Ge.state)z(at,new _);else{if(Ge.destroyed||Ge.errored)return!1;F(at,Ge,pt,!0)}else if(Ge.ended)z(at,new f);else{if(Ge.destroyed||Ge.errored)return!1;Ge.state&=-9,Ge.decoder&&!ht?(pt=Ge.decoder.write(pt),Ge.objectMode||0!==pt.length?F(at,Ge,pt,!1):ot(at,Ge)):F(at,Ge,pt,!1)}else Ke||(Ge.state&=-9,ot(at,Ge));return!Ge.ended&&(Ge.length<Ge.highWaterMark||0===Ge.length)}function F(at,pt,ht,Ke){pt.flowing&&0===pt.length&&!pt.sync&&at.listenerCount("data")>0?(pt.state&Ie?pt.awaitDrainWriters.clear():pt.awaitDrainWriters=null,pt.dataEmitted=!0,at.emit("data",ht)):(pt.length+=pt.objectMode?1:ht.length,Ke?pt.buffer.unshift(ht):pt.buffer.push(ht),pt.state&me&&Se(at)),ot(at,pt)}function G(at,pt){return at<=0||0===pt.length&&pt.ended?0:pt.state&ee?1:k(at)?pt.flowing&&pt.length?pt.buffer.first().length:pt.length:at<=pt.length?at:pt.ended?pt.length:0}function Se(at){const pt=at._readableState;ue("emitReadable",pt.needReadable,pt.emittedReadable),pt.needReadable=!1,pt.emittedReadable||(ue("emitReadable",pt.flowing),pt.emittedReadable=!0,B.nextTick(Ae,at))}function Ae(at){const pt=at._readableState;ue("emitReadable_",pt.destroyed,pt.length,pt.ended),!pt.destroyed&&!pt.errored&&(pt.length||pt.ended)&&(at.emit("readable"),pt.emittedReadable=!1),pt.needReadable=!pt.flowing&&!pt.ended&&pt.length<=pt.highWaterMark,tr(at)}function ot(at,pt){!pt.readingMore&&pt.constructed&&(pt.readingMore=!0,B.nextTick(Gt,at,pt))}function Gt(at,pt){for(;!pt.reading&&!pt.ended&&(pt.length<pt.highWaterMark||pt.flowing&&0===pt.length);){const ht=pt.length;if(ue("maybeReadMore read 0"),at.read(0),ht===pt.length)break}pt.readingMore=!1}function Bt(at){const pt=at._readableState;pt.readableListening=at.listenerCount("readable")>0,pt.resumeScheduled&&!1===pt[x]?pt.flowing=!0:at.listenerCount("data")>0?at.resume():pt.readableListening||(pt.flowing=null)}function en(at){ue("readable nexttick read 0"),at.read(0)}function cn(at,pt){ue("resume",pt.reading),pt.reading||at.read(0),pt.resumeScheduled=!1,at.emit("resume"),tr(at),pt.flowing&&!pt.reading&&at.read(0)}function tr(at){const pt=at._readableState;for(ue("flow",pt.flowing);pt.flowing&&null!==at.read(););}function Mn(at,pt){"function"!=typeof at.read&&(at=ke.wrap(at,{objectMode:!0}));const ht=function on(at,pt){return Qt.apply(this,arguments)}(at,pt);return ht.stream=at,ht}function Qt(){return(Qt=w(function*(at,pt){let Ge,ht=Z;function Ke(kt){this===at?(ht(),ht=Z):ht=kt}at.on("readable",Ke);const jt=ae(at,{writable:!1},kt=>{Ge=kt?C(Ge,kt):null,ht(),ht=Z});try{for(;;){const kt=at.destroyed?null:at.read();if(null!==kt)yield kt;else{if(Ge)throw Ge;if(null===Ge)return;yield g(new A(Ke))}}}catch(kt){throw Ge=C(Ge,kt),Ge}finally{!Ge&&!1===pt?.destroyOnReturn||void 0!==Ge&&!at._readableState.autoDestroy?(at.off("readable",Ke),jt()):pe.destroyer(at,null)}})).apply(this,arguments)}function ut(at,pt){if(0===pt.length)return null;let ht;return pt.objectMode?ht=pt.buffer.shift():!at||at>=pt.length?(ht=pt.decoder?pt.buffer.join(""):1===pt.buffer.length?pt.buffer.first():pt.buffer.concat(pt.length),pt.buffer.clear()):ht=pt.buffer.consume(at,pt.decoder),ht}function st(at){const pt=at._readableState;ue("endReadable",pt.endEmitted),pt.endEmitted||(pt.ended=!0,B.nextTick(Zt,pt,at))}function Zt(at,pt){if(ue("endReadableNT",at.endEmitted,at.length),!at.errored&&!at.closeEmitted&&!at.endEmitted&&0===at.length)if(at.endEmitted=!0,pt.emit("end"),pt.writable&&!1===pt.allowHalfOpen)B.nextTick(Xt,pt);else if(at.autoDestroy){const ht=pt._writableState;(!ht||ht.autoDestroy&&(ht.finished||!1===ht.writable))&&pt.destroy()}}function Xt(at){at.writable&&!at.writableEnded&&!at.destroyed&&at.end()}let rn;function Zn(){return void 0===rn&&(rn={}),rn}P(Ne.prototype,{objectMode:Dt(ee),ended:Dt(2),endEmitted:Dt(4),reading:Dt(8),constructed:Dt(Ze),sync:Dt(ge),needReadable:Dt(me),emittedReadable:Dt(128),readableListening:Dt(256),resumeScheduled:Dt(512),errorEmitted:Dt(1024),emitClose:Dt(he),autoDestroy:Dt(ne),destroyed:Dt(8192),closed:Dt(16384),closeEmitted:Dt(32768),multiAwaitDrain:Dt(Ie),readingMore:Dt(1<<17),dataEmitted:Dt(1<<18)}),ke.prototype.destroy=pe.destroy,ke.prototype._undestroy=pe.undestroy,ke.prototype._destroy=function(at,pt){pt(at)},ke.prototype[q.captureRejectionSymbol]=function(at){this.destroy(at)},ke.prototype[U]=function(){let at;return this.destroyed||(at=this.readableEnded?null:new I,this.destroy(at)),new A((pt,ht)=>ae(this,Ke=>Ke&&Ke!==at?ht(Ke):pt(null)))},ke.prototype.push=function(at,pt){return yt(this,at,pt,!1)},ke.prototype.unshift=function(at,pt){return yt(this,at,pt,!0)},ke.prototype.isPaused=function(){const at=this._readableState;return!0===at[x]||!1===at.flowing},ke.prototype.setEncoding=function(at){const pt=new a(at);this._readableState.decoder=pt,this._readableState.encoding=this._readableState.decoder.encoding;const ht=this._readableState.buffer;let Ke="";for(const Ge of ht)Ke+=pt.write(Ge);return ht.clear(),""!==Ke&&ht.push(Ke),this._readableState.length=Ke.length,this},ke.prototype.read=function(at){ue("read",at),void 0===at?at=NaN:b(at)||(at=S(at,10));const pt=this._readableState,ht=at;if(at>pt.highWaterMark&&(pt.highWaterMark=function M(at){if(at>1073741824)throw new h("size","<= 1GiB",at);return at--,at|=at>>>1,at|=at>>>2,at|=at>>>4,at|=at>>>8,at|=at>>>16,++at}(at)),0!==at&&(pt.state&=-129),0===at&&pt.needReadable&&((0!==pt.highWaterMark?pt.length>=pt.highWaterMark:pt.length>0)||pt.ended))return ue("read: emitReadable",pt.length,pt.ended),0===pt.length&&pt.ended?st(this):Se(this),null;if(0===(at=G(at,pt))&&pt.ended)return 0===pt.length&&st(this),null;let Ge,Ke=!!(pt.state&me);if(ue("need readable",Ke),(0===pt.length||pt.length-at<pt.highWaterMark)&&(Ke=!0,ue("length less than watermark",Ke)),pt.ended||pt.reading||pt.destroyed||pt.errored||!pt.constructed)Ke=!1,ue("reading, ended or constructing",Ke);else if(Ke){ue("do read"),pt.state|=8|ge,0===pt.length&&(pt.state|=me);try{this._read(pt.highWaterMark)}catch(jt){z(this,jt)}pt.state&=~ge,pt.reading||(at=G(ht,pt))}return Ge=at>0?ut(at,pt):null,null===Ge?(pt.needReadable=pt.length<=pt.highWaterMark,at=0):(pt.length-=at,pt.multiAwaitDrain?pt.awaitDrainWriters.clear():pt.awaitDrainWriters=null),0===pt.length&&(pt.ended||(pt.needReadable=!0),ht!==at&&pt.ended&&st(this)),null!==Ge&&!pt.errorEmitted&&!pt.closeEmitted&&(pt.dataEmitted=!0,this.emit("data",Ge)),Ge},ke.prototype._read=function(at){throw new d("_read()")},ke.prototype.pipe=function(at,pt){const ht=this,Ke=this._readableState;1===Ke.pipes.length&&(Ke.multiAwaitDrain||(Ke.multiAwaitDrain=!0,Ke.awaitDrainWriters=new V(Ke.awaitDrainWriters?[Ke.awaitDrainWriters]:[]))),Ke.pipes.push(at),ue("pipe count=%d opts=%j",Ke.pipes.length,pt);const jt=pt&&!1===pt.end||at===B.stdout||at===B.stderr?Oe:ln;function ln(){ue("onend"),at.end()}Ke.endEmitted?B.nextTick(jt):ht.once("end",jt),at.on("unpipe",function kt(Qe,zt){ue("onunpipe"),Qe===ht&&zt&&!1===zt.hasUnpiped&&(zt.hasUnpiped=!0,function gn(){ue("cleanup"),at.removeListener("close",Nn),at.removeListener("finish",et),On&&at.removeListener("drain",On),at.removeListener("error",Pn),at.removeListener("unpipe",kt),ht.removeListener("end",ln),ht.removeListener("end",Oe),ht.removeListener("data",er),vn=!0,On&&Ke.awaitDrainWriters&&(!at._writableState||at._writableState.needDrain)&&On()}())});let On,vn=!1;function ur(){vn||(1===Ke.pipes.length&&Ke.pipes[0]===at?(ue("false write response, pause",0),Ke.awaitDrainWriters=at,Ke.multiAwaitDrain=!1):Ke.pipes.length>1&&Ke.pipes.includes(at)&&(ue("false write response, pause",Ke.awaitDrainWriters.size),Ke.awaitDrainWriters.add(at)),ht.pause()),On||(On=function _t(at,pt){return function(){const Ke=at._readableState;Ke.awaitDrainWriters===pt?(ue("pipeOnDrain",1),Ke.awaitDrainWriters=null):Ke.multiAwaitDrain&&(ue("pipeOnDrain",Ke.awaitDrainWriters.size),Ke.awaitDrainWriters.delete(pt)),(!Ke.awaitDrainWriters||0===Ke.awaitDrainWriters.size)&&at.listenerCount("data")&&at.resume()}}(ht,at),at.on("drain",On))}function er(Qe){ue("ondata");const zt=at.write(Qe);ue("dest.write",zt),!1===zt&&ur()}function Pn(Qe){if(ue("onerror",Qe),Oe(),at.removeListener("error",Pn),0===at.listenerCount("error")){const zt=at._writableState||at._readableState;zt&&!zt.errorEmitted?z(at,Qe):at.emit("error",Qe)}}function Nn(){at.removeListener("finish",et),Oe()}function et(){ue("onfinish"),at.removeListener("close",Nn),Oe()}function Oe(){ue("unpipe"),ht.unpipe(at)}return ht.on("data",er),W(at,"error",Pn),at.once("close",Nn),at.once("finish",et),at.emit("pipe",ht),!0===at.writableNeedDrain?ur():Ke.flowing||(ue("pipe resume"),ht.resume()),at},ke.prototype.unpipe=function(at){const pt=this._readableState;if(0===pt.pipes.length)return this;if(!at){const Ge=pt.pipes;pt.pipes=[],this.pause();for(let jt=0;jt<Ge.length;jt++)Ge[jt].emit("unpipe",this,{hasUnpiped:!1});return this}const Ke=H(pt.pipes,at);return-1===Ke||(pt.pipes.splice(Ke,1),0===pt.pipes.length&&this.pause(),at.emit("unpipe",this,{hasUnpiped:!1})),this},ke.prototype.addListener=ke.prototype.on=function(at,pt){const ht=Y.prototype.on.call(this,at,pt),Ke=this._readableState;return"data"===at?(Ke.readableListening=this.listenerCount("readable")>0,!1!==Ke.flowing&&this.resume()):"readable"===at&&!Ke.endEmitted&&!Ke.readableListening&&(Ke.readableListening=Ke.needReadable=!0,Ke.flowing=!1,Ke.emittedReadable=!1,ue("on readable",Ke.length,Ke.reading),Ke.length?Se(this):Ke.reading||B.nextTick(en,this)),ht},ke.prototype.off=ke.prototype.removeListener=function(at,pt){const ht=Y.prototype.removeListener.call(this,at,pt);return"readable"===at&&B.nextTick(Bt,this),ht},ke.prototype.removeAllListeners=function(at){const pt=Y.prototype.removeAllListeners.apply(this,arguments);return("readable"===at||void 0===at)&&B.nextTick(Bt,this),pt},ke.prototype.resume=function(){const at=this._readableState;return at.flowing||(ue("resume"),at.flowing=!at.readableListening,function pn(at,pt){pt.resumeScheduled||(pt.resumeScheduled=!0,B.nextTick(cn,at,pt))}(this,at)),at[x]=!1,this},ke.prototype.pause=function(){return ue("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ue("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[x]=!0,this},ke.prototype.wrap=function(at){let pt=!1;at.on("data",Ke=>{!this.push(Ke)&&at.pause&&(pt=!0,at.pause())}),at.on("end",()=>{this.push(null)}),at.on("error",Ke=>{z(this,Ke)}),at.on("close",()=>{this.destroy()}),at.on("destroy",()=>{this.destroy()}),this._read=()=>{pt&&at.resume&&(pt=!1,at.resume())};const ht=R(at);for(let Ke=1;Ke<ht.length;Ke++){const Ge=ht[Ke];void 0===this[Ge]&&"function"==typeof at[Ge]&&(this[Ge]=at[Ge].bind(at))}return this},ke.prototype[K]=function(){return Mn(this)},ke.prototype.iterator=function(at){return void 0!==at&&L(at,"options"),Mn(this,at)},P(ke.prototype,{readable:{__proto__:null,get(){const at=this._readableState;return!(!at||!1===at.readable||at.destroyed||at.errorEmitted||at.endEmitted)},set(at){this._readableState&&(this._readableState.readable=!!at)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(at){this._readableState&&(this._readableState.flowing=at)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(at){this._readableState&&(this._readableState.destroyed=at)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),P(Ne.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[x]},set(at){this[x]=!!at}}}),ke._fromList=ut,ke.from=function(at,pt){return v(ke,at,pt)},ke.fromWeb=function(at,pt){return Zn().newStreamReadableFromReadableStream(at,pt)},ke.toWeb=function(at,pt){return Zn().newReadableStreamFromStreamReadable(at,pt)},ke.wrap=function(at,pt){var ht,Ke;return new ke({objectMode:null===(ht=null!==(Ke=at.readableObjectMode)&&void 0!==Ke?Ke:at.objectMode)||void 0===ht||ht,...pt,destroy(Ge,jt){pe.destroyer(at,Ge),jt(Ge)}}).wrap(at)}},18212:($e,j,E)=>{"use strict";const{MathFloor:g,NumberIsInteger:w}=E(56389),{validateInteger:B}=E(99852),{ERR_INVALID_ARG_VALUE:H}=E(68154).codes;let b=16384,k=16;function P(A){return A?k:b}$e.exports={getHighWaterMark:function O(A,V,U,K){const Q=function S(A,V,U){return null!=A.highWaterMark?A.highWaterMark:V?A[U]:null}(V,K,U);if(null!=Q){if(!w(Q)||Q<0)throw new H(K?`options.${U}`:"options.highWaterMark",Q);return g(Q)}return P(A.objectMode)},getDefaultHighWaterMark:P,setDefaultHighWaterMark:function R(A,V){B(V,"value",0),A?k=V:b=V}}},71981:($e,j,E)=>{"use strict";const{ObjectSetPrototypeOf:g,Symbol:w}=E(56389);$e.exports=S;const{ERR_METHOD_NOT_IMPLEMENTED:B}=E(68154).codes,H=E(13323),{getHighWaterMark:b}=E(18212);g(S.prototype,H.prototype),g(S,H);const k=w("kCallback");function S(O){if(!(this instanceof S))return new S(O);const A=O?b(this,O,"readableHighWaterMark",!0):null;0===A&&(O={...O,highWaterMark:null,readableHighWaterMark:A,writableHighWaterMark:O.writableHighWaterMark||0}),H.call(this,O),this._readableState.sync=!1,this[k]=null,O&&("function"==typeof O.transform&&(this._transform=O.transform),"function"==typeof O.flush&&(this._flush=O.flush)),this.on("prefinish",R)}function P(O){"function"!=typeof this._flush||this.destroyed?(this.push(null),O&&O()):this._flush((A,V)=>{A?O?O(A):this.destroy(A):(null!=V&&this.push(V),this.push(null),O&&O())})}function R(){this._final!==P&&P.call(this)}S.prototype._final=P,S.prototype._transform=function(O,A,V){throw new B("_transform()")},S.prototype._write=function(O,A,V){const U=this._readableState,K=this._writableState,Q=U.length;this._transform(O,A,(q,Y)=>{q?V(q):(null!=Y&&this.push(Y),K.ended||Q===U.length||U.length<U.highWaterMark?V():this[k]=V)})},S.prototype._read=function(){if(this[k]){const O=this[k];this[k]=null,O()}}},32924:($e,j,E)=>{"use strict";const{SymbolAsyncIterator:g,SymbolIterator:w,SymbolFor:B}=E(56389),H=B("nodejs.stream.destroyed"),b=B("nodejs.stream.errored"),k=B("nodejs.stream.readable"),S=B("nodejs.stream.writable"),P=B("nodejs.stream.disturbed"),R=B("nodejs.webstream.isClosedPromise"),O=B("nodejs.webstream.controllerErrorFunction");function A(v,Z=!1){var z;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||Z&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(z=v._readableState)||void 0===z?void 0:z.readable)||v._writableState&&!v._readableState)}function V(v){var Z;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(Z=v._writableState)||void 0===Z?void 0:Z.writable))}function K(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function Q(v){return!(!v||K(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function q(v){return!(!v||K(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function Y(v){return!(!v||K(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ie(v){if(!K(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[H]||null!=ee&&ee.destroyed)}function ae(v){if(!V(v))return null;if(!0===v.writableEnded)return!0;const Z=v._writableState;return(null==Z||!Z.errored)&&("boolean"!=typeof Z?.ended?null:Z.ended)}function pe(v,Z){if(!A(v))return null;const z=v._readableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.endEmitted?null:!!(z.endEmitted||!1===Z&&!0===z.ended&&0===z.length))}function ve(v){return v&&null!=v[k]?v[k]:"boolean"!=typeof v?.readable?null:!ie(v)&&A(v)&&v.readable&&!pe(v)}function De(v){return v&&null!=v[S]?v[S]:"boolean"!=typeof v?.writable?null:!ie(v)&&V(v)&&v.writable&&!ae(v)}function f(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function _(v){return"boolean"==typeof v._sent100&&f(v)}$e.exports={isDestroyed:ie,kIsDestroyed:H,isDisturbed:function x(v){var Z;return!(!v||!(null!==(Z=v[P])&&void 0!==Z?Z:v.readableDidRead||v.readableAborted))},kIsDisturbed:P,isErrored:function a(v){var Z,z,ee,le,we,Me,Ze,ge,me,Ue;return!(!v||!(null!==(Z=null!==(z=null!==(ee=null!==(le=null!==(we=null!==(Me=v[b])&&void 0!==Me?Me:v.readableErrored)&&void 0!==we?we:v.writableErrored)&&void 0!==le?le:null===(Ze=v._readableState)||void 0===Ze?void 0:Ze.errorEmitted)&&void 0!==ee?ee:null===(ge=v._writableState)||void 0===ge?void 0:ge.errorEmitted)&&void 0!==z?z:null===(me=v._readableState)||void 0===me?void 0:me.errored)&&void 0!==Z?Z:null!==(Ue=v._writableState)&&void 0!==Ue&&Ue.errored))},kIsErrored:b,isReadable:ve,kIsReadable:k,kIsClosedPromise:R,kControllerErrorFunction:O,kIsWritable:S,isClosed:function h(v){if(!K(v))return null;if("boolean"==typeof v.closed)return v.closed;const Z=v._writableState,z=v._readableState;return"boolean"==typeof Z?.closed||"boolean"==typeof z?.closed?Z?.closed||z?.closed:"boolean"==typeof v._closed&&f(v)?v._closed:null},isDuplexNodeStream:function U(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,Z){return K(v)?!!ie(v)||!(!1!==Z?.readable&&ve(v)||!1!==Z?.writable&&De(v)):null},isIterable:function re(v,Z){return null!=v&&(!0===Z?"function"==typeof v[g]:!1===Z?"function"==typeof v[w]:"function"==typeof v[g]||"function"==typeof v[w])},isReadableNodeStream:A,isReadableStream:Q,isReadableEnded:function ce(v){if(!A(v))return null;if(!0===v.readableEnded)return!0;const Z=v._readableState;return!(!Z||Z.errored)&&("boolean"!=typeof Z?.ended?null:Z.ended)},isReadableFinished:pe,isReadableErrored:function d(v){var Z,z;return K(v)?v.readableErrored?v.readableErrored:null!==(Z=null===(z=v._readableState)||void 0===z?void 0:z.errored)&&void 0!==Z?Z:null:null},isNodeStream:K,isWebStream:function W(v){return Q(v)||q(v)||Y(v)},isWritable:De,isWritableNodeStream:V,isWritableStream:q,isWritableEnded:ae,isWritableFinished:function ue(v,Z){if(!V(v))return null;if(!0===v.writableFinished)return!0;const z=v._writableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.finished?null:!!(z.finished||!1===Z&&!0===z.ended&&0===z.length))},isWritableErrored:function s(v){var Z,z;return K(v)?v.writableErrored?v.writableErrored:null!==(Z=null===(z=v._writableState)||void 0===z?void 0:z.errored)&&void 0!==Z?Z:null:null},isServerRequest:function I(v){var Z;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(Z=v.req)||void 0===Z?void 0:Z.upgradeOrConnect)},isServerResponse:_,willEmitClose:function L(v){if(!K(v))return null;const ee=v._writableState||v._readableState;return!ee&&_(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:Y}},30009:($e,j,E)=>{const g=E(40573),{ArrayPrototypeSlice:w,Error:B,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:b,ObjectDefineProperties:k,ObjectSetPrototypeOf:S,StringPrototypeToLowerCase:P,Symbol:R,SymbolHasInstance:O}=E(56389);$e.exports=_,_.WritableState=h;const{EventEmitter:A}=E(44356),V=E(91242).Stream,{Buffer:U}=E(68316),K=E(96507),{addAbortSignal:Q}=E(57062),{getHighWaterMark:q,getDefaultHighWaterMark:Y}=E(18212),{ERR_INVALID_ARG_TYPE:W,ERR_METHOD_NOT_IMPLEMENTED:re,ERR_MULTIPLE_CALLBACK:ie,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:ue,ERR_STREAM_ALREADY_FINISHED:ce,ERR_STREAM_NULL_VALUES:pe,ERR_STREAM_WRITE_AFTER_END:ve,ERR_UNKNOWN_ENCODING:De}=E(68154).codes,{errorOrDestroy:C}=K;function s(){}S(_.prototype,V.prototype),S(_,V);const d=R("kOnFinished");function h(be,he,ne){"boolean"!=typeof ne&&(ne=he instanceof E(13323)),this.objectMode=!(!be||!be.objectMode),ne&&(this.objectMode=this.objectMode||!(!be||!be.writableObjectMode)),this.highWaterMark=be?q(this,be,"writableHighWaterMark",ne):Y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(be&&!1===be.decodeStrings),this.defaultEncoding=be&&be.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,he),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,f(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!be||!1!==be.emitClose,this.autoDestroy=!be||!1!==be.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[d]=[]}function f(be){be.buffered=[],be.bufferedIndex=0,be.allBuffers=!0,be.allNoop=!0}function _(be){const he=this instanceof E(13323);if(!he&&!H(_,this))return new _(be);this._writableState=new h(be,this,he),be&&("function"==typeof be.write&&(this._write=be.write),"function"==typeof be.writev&&(this._writev=be.writev),"function"==typeof be.destroy&&(this._destroy=be.destroy),"function"==typeof be.final&&(this._final=be.final),"function"==typeof be.construct&&(this._construct=be.construct),be.signal&&Q(be.signal,this)),V.call(this,be),K.construct(this,()=>{const ne=this._writableState;ne.writing||le(this,ne),ge(this,ne)})}function I(be,he,ne,te){const de=be._writableState;if("function"==typeof ne)te=ne,ne=de.defaultEncoding;else{if(ne){if("buffer"!==ne&&!U.isEncoding(ne))throw new De(ne)}else ne=de.defaultEncoding;"function"!=typeof te&&(te=s)}if(null===he)throw new pe;if(!de.objectMode)if("string"==typeof he)!1!==de.decodeStrings&&(he=U.from(he,ne),ne="buffer");else if(he instanceof U)ne="buffer";else{if(!V._isUint8Array(he))throw new W("chunk",["string","Buffer","Uint8Array"],he);he=V._uint8ArrayToBuffer(he),ne="buffer"}let _e;return de.ending?_e=new ve:de.destroyed&&(_e=new ue("write")),_e?(g.nextTick(te,_e),C(be,_e,!0),_e):(de.pendingcb++,function L(be,he,ne,te,de){const _e=he.objectMode?1:ne.length;he.length+=_e;const Ie=he.length<he.highWaterMark;return Ie||(he.needDrain=!0),he.writing||he.corked||he.errored||!he.constructed?(he.buffered.push({chunk:ne,encoding:te,callback:de}),he.allBuffers&&"buffer"!==te&&(he.allBuffers=!1),he.allNoop&&de!==s&&(he.allNoop=!1)):(he.writelen=_e,he.writecb=de,he.writing=!0,he.sync=!0,be._write(ne,te,he.onwrite),he.sync=!1),Ie&&!he.errored&&!he.destroyed}(be,de,he,ne,te))}function x(be,he,ne,te,de,_e,Ie){he.writelen=te,he.writecb=Ie,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new ue("write")):ne?be._writev(de,he.onwrite):be._write(de,_e,he.onwrite),he.sync=!1}function a(be,he,ne,te){--he.pendingcb,te(ne),ee(he),C(be,ne)}function v(be,he){const ne=be._writableState,te=ne.sync,de=ne.writecb;"function"==typeof de?(ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0,he?(ne.errored||(ne.errored=he),be._readableState&&!be._readableState.errored&&(be._readableState.errored=he),te?g.nextTick(a,be,ne,he,de):a(be,ne,he,de)):(ne.buffered.length>ne.bufferedIndex&&le(be,ne),te?null!==ne.afterWriteTickInfo&&ne.afterWriteTickInfo.cb===de?ne.afterWriteTickInfo.count++:(ne.afterWriteTickInfo={count:1,cb:de,stream:be,state:ne},g.nextTick(Z,ne.afterWriteTickInfo)):z(be,ne,1,de))):C(be,new ie)}function Z({stream:be,state:he,count:ne,cb:te}){return he.afterWriteTickInfo=null,z(be,he,ne,te)}function z(be,he,ne,te){for(!he.ending&&!be.destroyed&&0===he.length&&he.needDrain&&(he.needDrain=!1,be.emit("drain"));ne-- >0;)he.pendingcb--,te();he.destroyed&&ee(he),ge(be,he)}function ee(be){if(be.writing)return;for(let de=be.bufferedIndex;de<be.buffered.length;++de){var he;const{chunk:_e,callback:Ie}=be.buffered[de];be.length-=be.objectMode?1:_e.length,Ie(null!==(he=be.errored)&&void 0!==he?he:new ue("write"))}const ne=be[d].splice(0);for(let de=0;de<ne.length;de++){var te;ne[de](null!==(te=be.errored)&&void 0!==te?te:new ue("end"))}f(be)}function le(be,he){if(he.corked||he.bufferProcessing||he.destroyed||!he.constructed)return;const{buffered:ne,bufferedIndex:te,objectMode:de}=he,_e=ne.length-te;if(!_e)return;let Ie=te;if(he.bufferProcessing=!0,_e>1&&be._writev){he.pendingcb-=_e-1;const He=he.allNoop?s:Dt=>{for(let Ne=Ie;Ne<ne.length;++Ne)ne[Ne].callback(Dt)},Ve=he.allNoop&&0===Ie?ne:w(ne,Ie);Ve.allBuffers=he.allBuffers,x(be,he,!0,he.length,Ve,"",He),f(he)}else{do{const{chunk:He,encoding:Ve,callback:Dt}=ne[Ie];ne[Ie++]=null,x(be,he,!1,de?1:He.length,He,Ve,Dt)}while(Ie<ne.length&&!he.writing);Ie===ne.length?f(he):Ie>256?(ne.splice(0,Ie),he.bufferedIndex=0):he.bufferedIndex=Ie}he.bufferProcessing=!1}function we(be){return be.ending&&!be.destroyed&&be.constructed&&0===be.length&&!be.errored&&0===be.buffered.length&&!be.finished&&!be.writing&&!be.errorEmitted&&!be.closeEmitted}function ge(be,he,ne){we(he)&&(function Ze(be,he){!he.prefinished&&!he.finalCalled&&("function"!=typeof be._final||he.destroyed?(he.prefinished=!0,be.emit("prefinish")):(he.finalCalled=!0,function Me(be,he){let ne=!1;function te(de){if(ne)C(be,de??ie());else if(ne=!0,he.pendingcb--,de){const _e=he[d].splice(0);for(let Ie=0;Ie<_e.length;Ie++)_e[Ie](de);C(be,de,he.sync)}else we(he)&&(he.prefinished=!0,be.emit("prefinish"),he.pendingcb++,g.nextTick(me,be,he))}he.sync=!0,he.pendingcb++;try{be._final(te)}catch(de){te(de)}he.sync=!1}(be,he)))}(be,he),0===he.pendingcb&&(ne?(he.pendingcb++,g.nextTick((te,de)=>{we(de)?me(te,de):de.pendingcb--},be,he)):we(he)&&(he.pendingcb++,me(be,he))))}function me(be,he){he.pendingcb--,he.finished=!0;const ne=he[d].splice(0);for(let te=0;te<ne.length;te++)ne[te]();if(be.emit("finish"),he.autoDestroy){const te=be._readableState;(!te||te.autoDestroy&&(te.endEmitted||!1===te.readable))&&be.destroy()}}h.prototype.getBuffer=function(){return w(this.buffered,this.bufferedIndex)},b(h.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),b(_,O,{__proto__:null,value:function(be){return!!H(this,be)||this===_&&be&&be._writableState instanceof h}}),_.prototype.pipe=function(){C(this,new ae)},_.prototype.write=function(be,he,ne){return!0===I(this,be,he,ne)},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){const be=this._writableState;be.corked&&(be.corked--,be.writing||le(this,be))},_.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=P(he)),!U.isEncoding(he))throw new De(he);return this._writableState.defaultEncoding=he,this},_.prototype._write=function(be,he,ne){if(!this._writev)throw new re("_write()");this._writev([{chunk:be,encoding:he}],ne)},_.prototype._writev=null,_.prototype.end=function(be,he,ne){const te=this._writableState;let de;if("function"==typeof be?(ne=be,be=null,he=null):"function"==typeof he&&(ne=he,he=null),null!=be){const _e=I(this,be,he);_e instanceof B&&(de=_e)}return te.corked&&(te.corked=1,this.uncork()),de||(te.errored||te.ending?te.finished?de=new ce("end"):te.destroyed&&(de=new ue("end")):(te.ending=!0,ge(this,te,!0),te.ended=!0)),"function"==typeof ne&&(de||te.finished?g.nextTick(ne,de):te[d].push(ne)),this},k(_.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(be){this._writableState&&(this._writableState.destroyed=be)}},writable:{__proto__:null,get(){const be=this._writableState;return!(!be||!1===be.writable||be.destroyed||be.errored||be.ending||be.ended)},set(be){this._writableState&&(this._writableState.writable=!!be)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const be=this._writableState;return!!be&&!be.destroyed&&!be.ending&&be.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ue=K.destroy;let xe;function Ce(){return void 0===xe&&(xe={}),xe}_.prototype.destroy=function(be,he){const ne=this._writableState;return!ne.destroyed&&(ne.bufferedIndex<ne.buffered.length||ne[d].length)&&g.nextTick(ee,ne),Ue.call(this,be,he),this},_.prototype._undestroy=K.undestroy,_.prototype._destroy=function(be,he){he(be)},_.prototype[A.captureRejectionSymbol]=function(be){this.destroy(be)},_.fromWeb=function(be,he){return Ce().newStreamWritableFromWritableStream(be,he)},_.toWeb=function(be){return Ce().newWritableStreamFromStreamWritable(be)}},99852:($e,j,E)=>{"use strict";const{ArrayIsArray:g,ArrayPrototypeIncludes:w,ArrayPrototypeJoin:B,ArrayPrototypeMap:H,NumberIsInteger:b,NumberIsNaN:k,NumberMAX_SAFE_INTEGER:S,NumberMIN_SAFE_INTEGER:P,NumberParseInt:R,ObjectPrototypeHasOwnProperty:O,RegExpPrototypeExec:A,String:V,StringPrototypeToUpperCase:U,StringPrototypeTrim:K}=E(56389),{hideStackFrames:Q,codes:{ERR_SOCKET_BAD_PORT:q,ERR_INVALID_ARG_TYPE:Y,ERR_INVALID_ARG_VALUE:W,ERR_OUT_OF_RANGE:re,ERR_UNKNOWN_SIGNAL:ie}}=E(68154),{normalizeEncoding:ae}=E(13509),{isAsyncFunction:ue,isArrayBufferView:ce}=E(13509).types,pe={},C=/^[0-7]+$/,h=Q((Ie,He,Ve=P,Dt=S)=>{if("number"!=typeof Ie)throw new Y(He,"number",Ie);if(!b(Ie))throw new re(He,"an integer",Ie);if(Ie<Ve||Ie>Dt)throw new re(He,`>= ${Ve} && <= ${Dt}`,Ie)}),f=Q((Ie,He,Ve=-2147483648,Dt=2147483647)=>{if("number"!=typeof Ie)throw new Y(He,"number",Ie);if(!b(Ie))throw new re(He,"an integer",Ie);if(Ie<Ve||Ie>Dt)throw new re(He,`>= ${Ve} && <= ${Dt}`,Ie)}),_=Q((Ie,He,Ve=!1)=>{if("number"!=typeof Ie)throw new Y(He,"number",Ie);if(!b(Ie))throw new re(He,"an integer",Ie);const Dt=Ve?1:0,Ne=4294967295;if(Ie<Dt||Ie>Ne)throw new re(He,`>= ${Dt} && <= ${Ne}`,Ie)});function I(Ie,He){if("string"!=typeof Ie)throw new Y(He,"string",Ie)}const x=Q((Ie,He,Ve)=>{if(!w(Ve,Ie)){const Ne="must be one of: "+B(H(Ve,ke=>"string"==typeof ke?`'${ke}'`:V(ke)),", ");throw new W(He,Ie,Ne)}});function a(Ie,He){if("boolean"!=typeof Ie)throw new Y(He,"boolean",Ie)}function v(Ie,He,Ve){return null!=Ie&&O(Ie,He)?Ie[He]:Ve}const Z=Q((Ie,He,Ve=null)=>{const Dt=v(Ve,"allowArray",!1),Ne=v(Ve,"allowFunction",!1);if(!v(Ve,"nullable",!1)&&null===Ie||!Dt&&g(Ie)||"object"!=typeof Ie&&(!Ne||"function"!=typeof Ie))throw new Y(He,"Object",Ie)}),z=Q((Ie,He)=>{if(null!=Ie&&"object"!=typeof Ie&&"function"!=typeof Ie)throw new Y(He,"a dictionary",Ie)}),ee=Q((Ie,He,Ve=0)=>{if(!g(Ie))throw new Y(He,"Array",Ie);if(Ie.length<Ve)throw new W(He,Ie,`must be longer than ${Ve}`)}),ge=Q((Ie,He="buffer")=>{if(!ce(Ie))throw new Y(He,["Buffer","TypedArray","DataView"],Ie)}),xe=Q((Ie,He)=>{if(void 0!==Ie&&(null===Ie||"object"!=typeof Ie||!("aborted"in Ie)))throw new Y(He,"AbortSignal",Ie)}),Ce=Q((Ie,He)=>{if("function"!=typeof Ie)throw new Y(He,"Function",Ie)}),be=Q((Ie,He)=>{if("function"!=typeof Ie||ue(Ie))throw new Y(He,"Function",Ie)}),he=Q((Ie,He)=>{if(void 0!==Ie)throw new Y(He,"undefined",Ie)}),te=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function de(Ie,He){if(typeof Ie>"u"||!A(te,Ie))throw new W(He,Ie,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}$e.exports={isInt32:function ve(Ie){return Ie===(0|Ie)},isUint32:function De(Ie){return Ie===Ie>>>0},parseFileMode:function d(Ie,He,Ve){if(typeof Ie>"u"&&(Ie=Ve),"string"==typeof Ie){if(null===A(C,Ie))throw new W(He,Ie,"must be a 32-bit unsigned integer or an octal string");Ie=R(Ie,8)}return _(Ie,He),Ie},validateArray:ee,validateStringArray:function le(Ie,He){ee(Ie,He);for(let Ve=0;Ve<Ie.length;Ve++)I(Ie[Ve],`${He}[${Ve}]`)},validateBooleanArray:function we(Ie,He){ee(Ie,He);for(let Ve=0;Ve<Ie.length;Ve++)a(Ie[Ve],`${He}[${Ve}]`)},validateAbortSignalArray:function Me(Ie,He){ee(Ie,He);for(let Ve=0;Ve<Ie.length;Ve++){const Dt=Ie[Ve],Ne=`${He}[${Ve}]`;if(null==Dt)throw new Y(Ne,"AbortSignal",Dt);xe(Dt,Ne)}},validateBoolean:a,validateBuffer:ge,validateDictionary:z,validateEncoding:function me(Ie,He){const Ve=ae(He),Dt=Ie.length;if("hex"===Ve&&Dt%2!=0)throw new W("encoding",He,`is invalid for data of length ${Dt}`)},validateFunction:Ce,validateInt32:f,validateInteger:h,validateNumber:function L(Ie,He,Ve=void 0,Dt){if("number"!=typeof Ie)throw new Y(He,"number",Ie);if(null!=Ve&&Ie<Ve||null!=Dt&&Ie>Dt||(null!=Ve||null!=Dt)&&k(Ie))throw new re(He,`${null!=Ve?`>= ${Ve}`:""}${null!=Ve&&null!=Dt?" && ":""}${null!=Dt?`<= ${Dt}`:""}`,Ie)},validateObject:Z,validateOneOf:x,validatePlainFunction:be,validatePort:function Ue(Ie,He="Port",Ve=!0){if("number"!=typeof Ie&&"string"!=typeof Ie||"string"==typeof Ie&&0===K(Ie).length||+Ie!=+Ie>>>0||Ie>65535||0===Ie&&!Ve)throw new q(He,Ie,Ve);return 0|Ie},validateSignalName:function Ze(Ie,He="signal"){if(I(Ie,He),void 0===pe[Ie])throw void 0!==pe[U(Ie)]?new ie(Ie+" (signals must use all capital letters)"):new ie(Ie)},validateString:I,validateUint32:_,validateUndefined:he,validateUnion:function ne(Ie,He,Ve){if(!w(Ve,Ie))throw new Y(He,`('${B(Ve,"|")}')`,Ie)},validateAbortSignal:xe,validateLinkHeaderValue:function _e(Ie){if("string"==typeof Ie)return de(Ie,"hints"),Ie;if(g(Ie)){const He=Ie.length;let Ve="";if(0===He)return Ve;for(let Dt=0;Dt<He;Dt++){const Ne=Ie[Dt];de(Ne,"hints"),Ve+=Ne,Dt!==He-1&&(Ve+=", ")}return Ve}throw new W("hints",Ie,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:($e,j,E)=>{"use strict";const g=E(33885),w=E(74870),B=g.Readable.destroy;$e.exports=g.Readable,$e.exports._uint8ArrayToBuffer=g._uint8ArrayToBuffer,$e.exports._isUint8Array=g._isUint8Array,$e.exports.isDisturbed=g.isDisturbed,$e.exports.isErrored=g.isErrored,$e.exports.isReadable=g.isReadable,$e.exports.Readable=g.Readable,$e.exports.Writable=g.Writable,$e.exports.Duplex=g.Duplex,$e.exports.Transform=g.Transform,$e.exports.PassThrough=g.PassThrough,$e.exports.addAbortSignal=g.addAbortSignal,$e.exports.finished=g.finished,$e.exports.destroy=g.destroy,$e.exports.destroy=B,$e.exports.pipeline=g.pipeline,$e.exports.compose=g.compose,Object.defineProperty(g,"promises",{configurable:!0,enumerable:!0,get:()=>w}),$e.exports.Stream=g.Stream,$e.exports.default=$e.exports},68154:($e,j,E)=>{"use strict";const{format:g,inspect:w,AggregateError:B}=E(13509),H=globalThis.AggregateError||B,b=Symbol("kIsNodeError"),k=["string","function","number","object","Function","Object","boolean","bigint","symbol"],S=/^([A-Z][a-z0-9]*)+$/,R={};function O(Y,W){if(!Y)throw new R.ERR_INTERNAL_ASSERTION(W)}function A(Y){let W="",re=Y.length;const ie="-"===Y[0]?1:0;for(;re>=ie+4;re-=3)W=`_${Y.slice(re-3,re)}${W}`;return`${Y.slice(0,re)}${W}`}function U(Y,W,re){re||(re=Error);class ie extends re{constructor(...ue){super(function V(Y,W,re){if("function"==typeof W)return O(W.length<=re.length,`Code: ${Y}; The provided arguments length (${re.length}) does not match the required ones (${W.length}).`),W(...re);const ie=(W.match(/%[dfijoOs]/g)||[]).length;return O(ie===re.length,`Code: ${Y}; The provided arguments length (${re.length}) does not match the required ones (${ie}).`),0===re.length?W:g(W,...re)}(Y,W,ue))}toString(){return`${this.name} [${Y}]: ${this.message}`}}Object.defineProperties(ie.prototype,{name:{value:re.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ie.prototype.code=Y,ie.prototype[b]=!0,R[Y]=ie}function K(Y){return Object.defineProperty(Y,"name",{value:"__node_internal_"+Y.name}),Y}class q extends Error{constructor(W="The operation was aborted",re=void 0){if(void 0!==re&&"object"!=typeof re)throw new R.ERR_INVALID_ARG_TYPE("options","Object",re);super(W,re),this.code="ABORT_ERR",this.name="AbortError"}}U("ERR_ASSERTION","%s",Error),U("ERR_INVALID_ARG_TYPE",(Y,W,re)=>{O("string"==typeof Y,"'name' must be a string"),Array.isArray(W)||(W=[W]);let ie="The ";Y.endsWith(" argument")?ie+=`${Y} `:ie+=`"${Y}" ${Y.includes(".")?"property":"argument"} `,ie+="must be ";const ae=[],ue=[],ce=[];for(const ve of W)O("string"==typeof ve,"All expected entries have to be of type string"),k.includes(ve)?ae.push(ve.toLowerCase()):S.test(ve)?ue.push(ve):(O("object"!==ve,'The value "object" should be written as "Object"'),ce.push(ve));if(ue.length>0){const ve=ae.indexOf("object");-1!==ve&&(ae.splice(ae,ve,1),ue.push("Object"))}if(ae.length>0){switch(ae.length){case 1:ie+=`of type ${ae[0]}`;break;case 2:ie+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const ve=ae.pop();ie+=`one of type ${ae.join(", ")}, or ${ve}`}}(ue.length>0||ce.length>0)&&(ie+=" or ")}if(ue.length>0){switch(ue.length){case 1:ie+=`an instance of ${ue[0]}`;break;case 2:ie+=`an instance of ${ue[0]} or ${ue[1]}`;break;default:{const ve=ue.pop();ie+=`an instance of ${ue.join(", ")}, or ${ve}`}}ce.length>0&&(ie+=" or ")}switch(ce.length){case 0:break;case 1:ce[0].toLowerCase()!==ce[0]&&(ie+="an "),ie+=`${ce[0]}`;break;case 2:ie+=`one of ${ce[0]} or ${ce[1]}`;break;default:{const ve=ce.pop();ie+=`one of ${ce.join(", ")}, or ${ve}`}}if(null==re)ie+=`. Received ${re}`;else if("function"==typeof re&&re.name)ie+=`. Received function ${re.name}`;else if("object"==typeof re){var pe;null!==(pe=re.constructor)&&void 0!==pe&&pe.name?ie+=`. Received an instance of ${re.constructor.name}`:ie+=`. Received ${w(re,{depth:-1})}`}else{let ve=w(re,{colors:!1});ve.length>25&&(ve=`${ve.slice(0,25)}...`),ie+=`. Received type ${typeof re} (${ve})`}return ie},TypeError),U("ERR_INVALID_ARG_VALUE",(Y,W,re="is invalid")=>{let ie=w(W);return ie.length>128&&(ie=ie.slice(0,128)+"..."),`The ${Y.includes(".")?"property":"argument"} '${Y}' ${re}. Received ${ie}`},TypeError),U("ERR_INVALID_RETURN_VALUE",(Y,W,re)=>{var ie;return`Expected ${Y} to be returned from the "${W}" function but got ${null!=re&&null!==(ie=re.constructor)&&void 0!==ie&&ie.name?`instance of ${re.constructor.name}`:"type "+typeof re}.`},TypeError),U("ERR_MISSING_ARGS",(...Y)=>{let W;O(Y.length>0,"At least one arg needs to be specified");const re=Y.length;switch(Y=(Array.isArray(Y)?Y:[Y]).map(ie=>`"${ie}"`).join(" or "),re){case 1:W+=`The ${Y[0]} argument`;break;case 2:W+=`The ${Y[0]} and ${Y[1]} arguments`;break;default:{const ie=Y.pop();W+=`The ${Y.join(", ")}, and ${ie} arguments`}}return`${W} must be specified`},TypeError),U("ERR_OUT_OF_RANGE",(Y,W,re)=>{let ie;return O(W,'Missing "range" argument'),Number.isInteger(re)&&Math.abs(re)>2**32?ie=A(String(re)):"bigint"==typeof re?(ie=String(re),(re>2n**32n||re<-(2n**32n))&&(ie=A(ie)),ie+="n"):ie=w(re),`The value of "${Y}" is out of range. It must be ${W}. Received ${ie}`},RangeError),U("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),U("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),U("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),U("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),U("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),U("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),U("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),U("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),U("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),U("ERR_STREAM_WRITE_AFTER_END","write after end",Error),U("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),$e.exports={AbortError:q,aggregateTwoErrors:K(function Q(Y,W){if(Y&&W&&Y!==W){if(Array.isArray(W.errors))return W.errors.push(Y),W;const re=new H([W,Y],W.message);return re.code=W.code,re}return Y||W}),hideStackFrames:K,codes:R}},56389:$e=>{"use strict";$e.exports={ArrayIsArray:j=>Array.isArray(j),ArrayPrototypeIncludes:(j,E)=>j.includes(E),ArrayPrototypeIndexOf:(j,E)=>j.indexOf(E),ArrayPrototypeJoin:(j,E)=>j.join(E),ArrayPrototypeMap:(j,E)=>j.map(E),ArrayPrototypePop:(j,E)=>j.pop(E),ArrayPrototypePush:(j,E)=>j.push(E),ArrayPrototypeSlice:(j,E,g)=>j.slice(E,g),Error,FunctionPrototypeCall:(j,E,...g)=>j.call(E,...g),FunctionPrototypeSymbolHasInstance:(j,E)=>Function.prototype[Symbol.hasInstance].call(j,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(j,E)=>Object.defineProperties(j,E),ObjectDefineProperty:(j,E,g)=>Object.defineProperty(j,E,g),ObjectGetOwnPropertyDescriptor:(j,E)=>Object.getOwnPropertyDescriptor(j,E),ObjectKeys:j=>Object.keys(j),ObjectSetPrototypeOf:(j,E)=>Object.setPrototypeOf(j,E),Promise,PromisePrototypeCatch:(j,E)=>j.catch(E),PromisePrototypeThen:(j,E,g)=>j.then(E,g),PromiseReject:j=>Promise.reject(j),PromiseResolve:j=>Promise.resolve(j),ReflectApply:Reflect.apply,RegExpPrototypeTest:(j,E)=>j.test(E),SafeSet:Set,String,StringPrototypeSlice:(j,E,g)=>j.slice(E,g),StringPrototypeToLowerCase:j=>j.toLowerCase(),StringPrototypeToUpperCase:j=>j.toUpperCase(),StringPrototypeTrim:j=>j.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(j,E,g)=>j.set(E,g),Boolean,Uint8Array}},13509:($e,j,E)=>{"use strict";var g=E(29293).default;const w=E(68316),{kResistStopPropagation:B,SymbolDispose:H}=E(56389),b=globalThis.AbortSignal||E(9465).AbortSignal,k=globalThis.AbortController||E(9465).AbortController,S=Object.getPrototypeOf(g(function*(){})).constructor,P=globalThis.Blob||w.Blob,R=typeof P<"u"?function(K){return K instanceof P}:function(K){return!1},O=(U,K)=>{if(void 0!==U&&(null===U||"object"!=typeof U||!("aborted"in U)))throw new ERR_INVALID_ARG_TYPE(K,"AbortSignal",U)};class V extends Error{constructor(K){if(!Array.isArray(K))throw new TypeError("Expected input to be an Array, got "+typeof K);let Q="";for(let q=0;q<K.length;q++)Q+=`    ${K[q].stack}\n`;super(Q),this.name="AggregateError",this.errors=K}}$e.exports={AggregateError:V,kEmptyObject:Object.freeze({}),once(U){let K=!1;return function(...Q){K||(K=!0,U.apply(this,Q))}},createDeferredPromise:function(){let U,K;return{promise:new Promise((q,Y)=>{U=q,K=Y}),resolve:U,reject:K}},promisify:U=>new Promise((K,Q)=>{U((q,...Y)=>q?Q(q):K(...Y))}),debuglog:()=>function(){},format:(U,...K)=>U.replace(/%([sdifj])/g,function(...[Q,q]){const Y=K.shift();return"f"===q?Y.toFixed(6):"j"===q?JSON.stringify(Y):"s"===q&&"object"==typeof Y?`${Y.constructor!==Object?Y.constructor.name:""} {}`.trim():Y.toString()}),inspect(U){switch(typeof U){case"string":if(U.includes("'")){if(!U.includes('"'))return`"${U}"`;if(!U.includes("`")&&!U.includes("${"))return`\`${U}\``}return`'${U}'`;case"number":return isNaN(U)?"NaN":Object.is(U,-0)?String(U):U;case"bigint":return`${String(U)}n`;case"boolean":case"undefined":return String(U);case"object":return"{}"}},types:{isAsyncFunction:U=>U instanceof S,isArrayBufferView:U=>ArrayBuffer.isView(U)},isBlob:R,deprecate:(U,K)=>U,addAbortListener:E(44356).addAbortListener||function(K,Q){if(void 0===K)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",K);let q;return O(K,"signal"),((U,K)=>{if("function"!=typeof U)throw new ERR_INVALID_ARG_TYPE("listener","Function",U)})(Q),K.aborted?queueMicrotask(()=>Q()):(K.addEventListener("abort",Q,{__proto__:null,once:!0,[B]:!0}),q=()=>{K.removeEventListener("abort",Q)}),{__proto__:null,[H](){var Y;null===(Y=q)||void 0===Y||Y()}}},AbortSignalAny:b.any||function(K){if(1===K.length)return K[0];const Q=new k,q=()=>Q.abort();return K.forEach(Y=>{O(Y,"signals"),Y.addEventListener("abort",q,{once:!0})}),Q.signal.addEventListener("abort",()=>{K.forEach(Y=>Y.removeEventListener("abort",q))},{once:!0}),Q.signal}},$e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:($e,j,E)=>{const{Buffer:g}=E(68316),{ObjectDefineProperty:w,ObjectKeys:B,ReflectApply:H}=E(56389),{promisify:{custom:b}}=E(13509),{streamReturningOperators:k,promiseReturningOperators:S}=E(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:P}}=E(68154),R=E(373),{setDefaultHighWaterMark:O,getDefaultHighWaterMark:A}=E(18212),{pipeline:V}=E(67843),{destroyer:U}=E(96507),K=E(46017),q=E(74870),Y=E(32924),W=$e.exports=E(91242).Stream;W.isDestroyed=Y.isDestroyed,W.isDisturbed=Y.isDisturbed,W.isErrored=Y.isErrored,W.isReadable=Y.isReadable,W.isWritable=Y.isWritable,W.Readable=E(84553);for(const ae of B(k)){let ce=function(...pe){if(new.target)throw P();return W.Readable.from(H(ue,this,pe))};const ue=k[ae];w(ce,"name",{__proto__:null,value:ue.name}),w(ce,"length",{__proto__:null,value:ue.length}),w(W.Readable.prototype,ae,{__proto__:null,value:ce,enumerable:!1,configurable:!0,writable:!0})}for(const ae of B(S)){let ce=function(...ve){if(new.target)throw P();return H(ue,this,ve)};const ue=S[ae];w(ce,"name",{__proto__:null,value:ue.name}),w(ce,"length",{__proto__:null,value:ue.length}),w(W.Readable.prototype,ae,{__proto__:null,value:ce,enumerable:!1,configurable:!0,writable:!0})}W.Writable=E(30009),W.Duplex=E(13323),W.Transform=E(71981),W.PassThrough=E(59447),W.pipeline=V;const{addAbortSignal:re}=E(57062);W.addAbortSignal=re,W.finished=K,W.destroy=U,W.compose=R,W.setDefaultHighWaterMark=O,W.getDefaultHighWaterMark=A,w(W,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>q}),w(V,b,{__proto__:null,enumerable:!0,get:()=>q.pipeline}),w(K,b,{__proto__:null,enumerable:!0,get:()=>q.finished}),W.Stream=W,W._isUint8Array=function(ue){return ue instanceof Uint8Array},W._uint8ArrayToBuffer=function(ue){return g.from(ue.buffer,ue.byteOffset,ue.byteLength)}},74870:($e,j,E)=>{"use strict";const{ArrayPrototypePop:g,Promise:w}=E(56389),{isIterable:B,isNodeStream:H,isWebStream:b}=E(32924),{pipelineImpl:k}=E(67843),{finished:S}=E(46017);E(33885),$e.exports={finished:S,pipeline:function P(...R){return new w((O,A)=>{let V,U;const K=R[R.length-1];if(K&&"object"==typeof K&&!H(K)&&!B(K)&&!b(K)){const Q=g(R);V=Q.signal,U=Q.end}k(R,(Q,q)=>{Q?A(Q):O(q)},{signal:V,end:U})})}}},94787:($e,j,E)=>{j.Level=E(23963).BrowserLevel},81447:$e=>{var j=1e3,E=60*j,g=60*E,w=24*g,B=7*w;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*w;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=w?P(R,O,w,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=w?Math.round(R/w)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},1424:($e,j,E)=>{E(23963)},44514:$e=>{var j=1e3,E=60*j,g=60*E,w=24*g,B=7*w;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*w;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=w?P(R,O,w,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=w?Math.round(R/w)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},89565:($e,j,E)=>{"use strict";const g=E(13981),w=E(22020),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function W(F){return+F!=F&&(F=0),S.alloc(+F)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function k(F){if(F>H)throw new RangeError('The value "'+F+'" is invalid for option "size"');const D=new Uint8Array(F);return Object.setPrototypeOf(D,S.prototype),D}function S(F,D,M){if("number"==typeof F){if("string"==typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return A(F)}return P(F,D,M)}function P(F,D,M){if("string"==typeof F)return function V(F,D){if(("string"!=typeof D||""===D)&&(D="utf8"),!S.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const M=0|re(F,D);let G=k(M);const fe=G.write(F,D);return fe!==M&&(G=G.slice(0,fe)),G}(F,D);if(ArrayBuffer.isView(F))return function K(F){if(Ve(F,Uint8Array)){const D=new Uint8Array(F);return Q(D.buffer,D.byteOffset,D.byteLength)}return U(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ve(F,ArrayBuffer)||F&&Ve(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ve(F,SharedArrayBuffer)||F&&Ve(F.buffer,SharedArrayBuffer)))return Q(F,D,M);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const G=F.valueOf&&F.valueOf();if(null!=G&&G!==F)return S.from(G,D,M);const fe=function q(F){if(S.isBuffer(F)){const D=0|Y(F.length),M=k(D);return 0===M.length||F.copy(M,0,0,D),M}return void 0!==F.length?"number"!=typeof F.length||Dt(F.length)?k(0):U(F):"Buffer"===F.type&&Array.isArray(F.data)?U(F.data):void 0}(F);if(fe)return fe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return S.from(F[Symbol.toPrimitive]("string"),D,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function R(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function A(F){return R(F),k(F<0?0:0|Y(F))}function U(F){const D=F.length<0?0:0|Y(F.length),M=k(D);for(let G=0;G<D;G+=1)M[G]=255&F[G];return M}function Q(F,D,M){if(D<0||F.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<D+(M||0))throw new RangeError('"length" is outside of buffer bounds');let G;return G=void 0===D&&void 0===M?new Uint8Array(F):void 0===M?new Uint8Array(F,D):new Uint8Array(F,D,M),Object.setPrototypeOf(G,S.prototype),G}function Y(F){if(F>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|F}function re(F,D){if(S.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ve(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const M=F.length,G=arguments.length>2&&!0===arguments[2];if(!G&&0===M)return 0;let fe=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return te(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Ie(F).length;default:if(fe)return G?-1:te(F).length;D=(""+D).toLowerCase(),fe=!0}}function ie(F,D,M){let G=!1;if((void 0===D||D<0)&&(D=0),D>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(D>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return x(this,D,M);case"utf8":case"utf-8":return h(this,D,M);case"ascii":return I(this,D,M);case"latin1":case"binary":return L(this,D,M);case"base64":return d(this,D,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,D,M);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),G=!0}}function ae(F,D,M){const G=F[D];F[D]=F[M],F[M]=G}function ue(F,D,M,G,fe){if(0===F.length)return-1;if("string"==typeof M?(G=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=fe?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(fe)return-1;M=F.length-1}else if(M<0){if(!fe)return-1;M=0}if("string"==typeof D&&(D=S.from(D,G)),S.isBuffer(D))return 0===D.length?-1:ce(F,D,M,G,fe);if("number"==typeof D)return D&=255,"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(F,D,M):Uint8Array.prototype.lastIndexOf.call(F,D,M):ce(F,[D],M,G,fe);throw new TypeError("val must be string, number or Buffer")}function ce(F,D,M,G,fe){let _t,Se=1,Ae=F.length,ot=D.length;if(void 0!==G&&("ucs2"===(G=String(G).toLowerCase())||"ucs-2"===G||"utf16le"===G||"utf-16le"===G)){if(F.length<2||D.length<2)return-1;Se=2,Ae/=2,ot/=2,M/=2}function Gt(Bt,en){return 1===Se?Bt[en]:Bt.readUInt16BE(en*Se)}if(fe){let Bt=-1;for(_t=M;_t<Ae;_t++)if(Gt(F,_t)===Gt(D,-1===Bt?0:_t-Bt)){if(-1===Bt&&(Bt=_t),_t-Bt+1===ot)return Bt*Se}else-1!==Bt&&(_t-=_t-Bt),Bt=-1}else for(M+ot>Ae&&(M=Ae-ot),_t=M;_t>=0;_t--){let Bt=!0;for(let en=0;en<ot;en++)if(Gt(F,_t+en)!==Gt(D,en)){Bt=!1;break}if(Bt)return _t}return-1}function pe(F,D,M,G){M=Number(M)||0;const fe=F.length-M;G?(G=Number(G))>fe&&(G=fe):G=fe;const Se=D.length;let Ae;for(G>Se/2&&(G=Se/2),Ae=0;Ae<G;++Ae){const ot=parseInt(D.substr(2*Ae,2),16);if(Dt(ot))return Ae;F[M+Ae]=ot}return Ae}function ve(F,D,M,G){return He(te(D,F.length-M),F,M,G)}function De(F,D,M,G){return He(function de(F){const D=[];for(let M=0;M<F.length;++M)D.push(255&F.charCodeAt(M));return D}(D),F,M,G)}function C(F,D,M,G){return He(Ie(D),F,M,G)}function s(F,D,M,G){return He(function _e(F,D){let M,G,fe;const Se=[];for(let Ae=0;Ae<F.length&&!((D-=2)<0);++Ae)M=F.charCodeAt(Ae),G=M>>8,fe=M%256,Se.push(fe),Se.push(G);return Se}(D,F.length-M),F,M,G)}function d(F,D,M){return g.fromByteArray(0===D&&M===F.length?F:F.slice(D,M))}function h(F,D,M){M=Math.min(F.length,M);const G=[];let fe=D;for(;fe<M;){const Se=F[fe];let Ae=null,ot=Se>239?4:Se>223?3:Se>191?2:1;if(fe+ot<=M){let Gt,_t,Bt,en;switch(ot){case 1:Se<128&&(Ae=Se);break;case 2:Gt=F[fe+1],128==(192&Gt)&&(en=(31&Se)<<6|63&Gt,en>127&&(Ae=en));break;case 3:Gt=F[fe+1],_t=F[fe+2],128==(192&Gt)&&128==(192&_t)&&(en=(15&Se)<<12|(63&Gt)<<6|63&_t,en>2047&&(en<55296||en>57343)&&(Ae=en));break;case 4:Gt=F[fe+1],_t=F[fe+2],Bt=F[fe+3],128==(192&Gt)&&128==(192&_t)&&128==(192&Bt)&&(en=(15&Se)<<18|(63&Gt)<<12|(63&_t)<<6|63&Bt,en>65535&&en<1114112&&(Ae=en))}}null===Ae?(Ae=65533,ot=1):Ae>65535&&(Ae-=65536,G.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),G.push(Ae),fe+=ot}return function _(F){const D=F.length;if(D<=f)return String.fromCharCode.apply(String,F);let M="",G=0;for(;G<D;)M+=String.fromCharCode.apply(String,F.slice(G,G+=f));return M}(G)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function b(){try{const F=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(F,D),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(F,D,M){return P(F,D,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(F,D,M){return function O(F,D,M){return R(F),F<=0?k(F):void 0!==D?"string"==typeof M?k(F).fill(D,M):k(F).fill(D):k(F)}(F,D,M)},S.allocUnsafe=function(F){return A(F)},S.allocUnsafeSlow=function(F){return A(F)},S.isBuffer=function(D){return null!=D&&!0===D._isBuffer&&D!==S.prototype},S.compare=function(D,M){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),Ve(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(D)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===M)return 0;let G=D.length,fe=M.length;for(let Se=0,Ae=Math.min(G,fe);Se<Ae;++Se)if(D[Se]!==M[Se]){G=D[Se],fe=M[Se];break}return G<fe?-1:fe<G?1:0},S.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(D,M){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return S.alloc(0);let G;if(void 0===M)for(M=0,G=0;G<D.length;++G)M+=D[G].length;const fe=S.allocUnsafe(M);let Se=0;for(G=0;G<D.length;++G){let Ae=D[G];if(Ve(Ae,Uint8Array))Se+Ae.length>fe.length?(S.isBuffer(Ae)||(Ae=S.from(Ae)),Ae.copy(fe,Se)):Uint8Array.prototype.set.call(fe,Ae,Se);else{if(!S.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(fe,Se)}Se+=Ae.length}return fe},S.byteLength=re,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<D;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<D;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<D;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const D=this.length;return 0===D?"":0===arguments.length?h(this,0,D):ie.apply(this,arguments)},S.prototype.equals=function(D){if(!S.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===S.compare(this,D)},S.prototype.inspect=function(){let D="";const M=j.INSPECT_MAX_BYTES;return D=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(D+=" ... "),"<Buffer "+D+">"},B&&(S.prototype[B]=S.prototype.inspect),S.prototype.compare=function(D,M,G,fe,Se){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),!S.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(void 0===M&&(M=0),void 0===G&&(G=D?D.length:0),void 0===fe&&(fe=0),void 0===Se&&(Se=this.length),M<0||G>D.length||fe<0||Se>this.length)throw new RangeError("out of range index");if(fe>=Se&&M>=G)return 0;if(fe>=Se)return-1;if(M>=G)return 1;if(this===D)return 0;let Ae=(Se>>>=0)-(fe>>>=0),ot=(G>>>=0)-(M>>>=0);const Gt=Math.min(Ae,ot),_t=this.slice(fe,Se),Bt=D.slice(M,G);for(let en=0;en<Gt;++en)if(_t[en]!==Bt[en]){Ae=_t[en],ot=Bt[en];break}return Ae<ot?-1:ot<Ae?1:0},S.prototype.includes=function(D,M,G){return-1!==this.indexOf(D,M,G)},S.prototype.indexOf=function(D,M,G){return ue(this,D,M,G,!0)},S.prototype.lastIndexOf=function(D,M,G){return ue(this,D,M,G,!1)},S.prototype.write=function(D,M,G,fe){if(void 0===M)fe="utf8",G=this.length,M=0;else if(void 0===G&&"string"==typeof M)fe=M,G=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(G)?(G>>>=0,void 0===fe&&(fe="utf8")):(fe=G,G=void 0)}const Se=this.length-M;if((void 0===G||G>Se)&&(G=Se),D.length>0&&(G<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ae=!1;for(;;)switch(fe){case"hex":return pe(this,D,M,G);case"utf8":case"utf-8":return ve(this,D,M,G);case"ascii":case"latin1":case"binary":return De(this,D,M,G);case"base64":return C(this,D,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,D,M,G);default:if(Ae)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ae=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const f=4096;function I(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(127&F[fe]);return G}function L(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(F[fe]);return G}function x(F,D,M){const G=F.length;(!D||D<0)&&(D=0),(!M||M<0||M>G)&&(M=G);let fe="";for(let Se=D;Se<M;++Se)fe+=Ne[F[Se]];return fe}function a(F,D,M){const G=F.slice(D,M);let fe="";for(let Se=0;Se<G.length-1;Se+=2)fe+=String.fromCharCode(G[Se]+256*G[Se+1]);return fe}function v(F,D,M){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+D>M)throw new RangeError("Trying to access beyond buffer length")}function Z(F,D,M,G,fe,Se){if(!S.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>fe||D<Se)throw new RangeError('"value" argument is out of bounds');if(M+G>F.length)throw new RangeError("Index out of range")}function z(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,M}function ee(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M+7]=Se,Se>>=8,F[M+6]=Se,Se>>=8,F[M+5]=Se,Se>>=8,F[M+4]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M+3]=Ae,Ae>>=8,F[M+2]=Ae,Ae>>=8,F[M+1]=Ae,Ae>>=8,F[M]=Ae,M+8}function le(F,D,M,G,fe,Se){if(M+G>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function we(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,4),w.write(F,D,M,G,23,4),M+4}function Me(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,8),w.write(F,D,M,G,52,8),M+8}S.prototype.slice=function(D,M){const G=this.length;(D=~~D)<0?(D+=G)<0&&(D=0):D>G&&(D=G),(M=void 0===M?G:~~M)<0?(M+=G)<0&&(M=0):M>G&&(M=G),M<D&&(M=D);const fe=this.subarray(D,M);return Object.setPrototypeOf(fe,S.prototype),fe},S.prototype.readUintLE=S.prototype.readUIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return fe},S.prototype.readUintBE=S.prototype.readUIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D+--M],Se=1;for(;M>0&&(Se*=256);)fe+=this[D+--M]*Se;return fe},S.prototype.readUint8=S.prototype.readUInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),this[D]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]|this[D+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]<<8|this[D+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},S.prototype.readBigUInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M+256*this[++D]+65536*this[++D]+this[++D]*2**24,Se=this[++D]+256*this[++D]+65536*this[++D]+G*2**24;return BigInt(fe)+(BigInt(Se)<<BigInt(32))}),S.prototype.readBigUInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M*2**24+65536*this[++D]+256*this[++D]+this[++D],Se=this[++D]*2**24+65536*this[++D]+256*this[++D]+G;return(BigInt(fe)<<BigInt(32))+BigInt(Se)}),S.prototype.readIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return Se*=128,fe>=Se&&(fe-=Math.pow(2,8*M)),fe},S.prototype.readIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=M,Se=1,Ae=this[D+--fe];for(;fe>0&&(Se*=256);)Ae+=this[D+--fe]*Se;return Se*=128,Ae>=Se&&(Ae-=Math.pow(2,8*M)),Ae},S.prototype.readInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},S.prototype.readInt16LE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D]|this[D+1]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt16BE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D+1]|this[D]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},S.prototype.readInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},S.prototype.readBigInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];return(void 0===M||void 0===G)&&be(D,this.length-8),(BigInt(this[D+4]+256*this[D+5]+65536*this[D+6]+(G<<24))<<BigInt(32))+BigInt(M+256*this[++D]+65536*this[++D]+this[++D]*2**24)}),S.prototype.readBigInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=(M<<24)+65536*this[++D]+256*this[++D]+this[++D];return(BigInt(fe)<<BigInt(32))+BigInt(this[++D]*2**24+65536*this[++D]+256*this[++D]+G)}),S.prototype.readFloatLE=function(D,M){return D>>>=0,M||v(D,4,this.length),w.read(this,D,!0,23,4)},S.prototype.readFloatBE=function(D,M){return D>>>=0,M||v(D,4,this.length),w.read(this,D,!1,23,4)},S.prototype.readDoubleLE=function(D,M){return D>>>=0,M||v(D,8,this.length),w.read(this,D,!0,52,8)},S.prototype.readDoubleBE=function(D,M){return D>>>=0,M||v(D,8,this.length),w.read(this,D,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=1,Ae=0;for(this[M]=255&D;++Ae<G&&(Se*=256);)this[M+Ae]=D/Se&255;return M+G},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=G-1,Ae=1;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)this[M+Se]=D/Ae&255;return M+G},S.prototype.writeUint8=S.prototype.writeUInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,255,0),this[M]=255&D,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigUInt64LE=ke(function(D,M=0){return z(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ke(function(D,M=0){return ee(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Gt=Math.pow(2,8*G-1);Z(this,D,M,G,Gt-1,-Gt)}let Se=0,Ae=1,ot=0;for(this[M]=255&D;++Se<G&&(Ae*=256);)D<0&&0===ot&&0!==this[M+Se-1]&&(ot=1),this[M+Se]=(D/Ae|0)-ot&255;return M+G},S.prototype.writeIntBE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Gt=Math.pow(2,8*G-1);Z(this,D,M,G,Gt-1,-Gt)}let Se=G-1,Ae=1,ot=0;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)D<0&&0===ot&&0!==this[M+Se+1]&&(ot=1),this[M+Se]=(D/Ae|0)-ot&255;return M+G},S.prototype.writeInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,127,-128),D<0&&(D=255+D+1),this[M]=255&D,M+1},S.prototype.writeInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24,M+4},S.prototype.writeInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigInt64LE=ke(function(D,M=0){return z(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ke(function(D,M=0){return ee(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(D,M,G){return we(this,D,M,!0,G)},S.prototype.writeFloatBE=function(D,M,G){return we(this,D,M,!1,G)},S.prototype.writeDoubleLE=function(D,M,G){return Me(this,D,M,!0,G)},S.prototype.writeDoubleBE=function(D,M,G){return Me(this,D,M,!1,G)},S.prototype.copy=function(D,M,G,fe){if(!S.isBuffer(D))throw new TypeError("argument should be a Buffer");if(G||(G=0),!fe&&0!==fe&&(fe=this.length),M>=D.length&&(M=D.length),M||(M=0),fe>0&&fe<G&&(fe=G),fe===G||0===D.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),D.length-M<fe-G&&(fe=D.length-M+G);const Se=fe-G;return this===D&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,G,fe):Uint8Array.prototype.set.call(D,this.subarray(G,fe),M),Se},S.prototype.fill=function(D,M,G,fe){if("string"==typeof D){if("string"==typeof M?(fe=M,M=0,G=this.length):"string"==typeof G&&(fe=G,G=this.length),void 0!==fe&&"string"!=typeof fe)throw new TypeError("encoding must be a string");if("string"==typeof fe&&!S.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(1===D.length){const Ae=D.charCodeAt(0);("utf8"===fe&&Ae<128||"latin1"===fe)&&(D=Ae)}}else"number"==typeof D?D&=255:"boolean"==typeof D&&(D=Number(D));if(M<0||this.length<M||this.length<G)throw new RangeError("Out of range index");if(G<=M)return this;let Se;if(M>>>=0,G=void 0===G?this.length:G>>>0,D||(D=0),"number"==typeof D)for(Se=M;Se<G;++Se)this[Se]=D;else{const Ae=S.isBuffer(D)?D:S.from(D,fe),ot=Ae.length;if(0===ot)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Se=0;Se<G-M;++Se)this[Se+M]=Ae[Se%ot]}return this};const Ze={};function ge(F,D,M){Ze[F]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function me(F){let D="",M=F.length;const G="-"===F[0]?1:0;for(;M>=G+4;M-=3)D=`_${F.slice(M-3,M)}${D}`;return`${F.slice(0,M)}${D}`}function xe(F,D,M,G,fe,Se){if(F>M||F<D){const Ae="bigint"==typeof D?"n":"";let ot;throw ot=Se>3?0===D||D===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(Se+1)}${Ae}`:`>= -(2${Ae} ** ${8*(Se+1)-1}${Ae}) and < 2 ** ${8*(Se+1)-1}${Ae}`:`>= ${D}${Ae} and <= ${M}${Ae}`,new Ze.ERR_OUT_OF_RANGE("value",ot,F)}!function Ue(F,D,M){Ce(D,"offset"),(void 0===F[D]||void 0===F[D+M])&&be(D,F.length-(M+1))}(G,fe,Se)}function Ce(F,D){if("number"!=typeof F)throw new Ze.ERR_INVALID_ARG_TYPE(D,"number",F)}function be(F,D,M){throw Math.floor(F)!==F?(Ce(F,M),new Ze.ERR_OUT_OF_RANGE(M||"offset","an integer",F)):D<0?new Ze.ERR_BUFFER_OUT_OF_BOUNDS:new Ze.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${D}`,F)}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(F,D){return`The "${F}" argument must be of type number. Received type ${typeof D}`},TypeError),ge("ERR_OUT_OF_RANGE",function(F,D,M){let G=`The value of "${F}" is out of range.`,fe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?fe=me(String(M)):"bigint"==typeof M&&(fe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(fe=me(fe)),fe+="n"),G+=` It must be ${D}. Received ${fe}`,G},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function te(F,D){let M;D=D||1/0;const G=F.length;let fe=null;const Se=[];for(let Ae=0;Ae<G;++Ae){if(M=F.charCodeAt(Ae),M>55295&&M<57344){if(!fe){if(M>56319){(D-=3)>-1&&Se.push(239,191,189);continue}if(Ae+1===G){(D-=3)>-1&&Se.push(239,191,189);continue}fe=M;continue}if(M<56320){(D-=3)>-1&&Se.push(239,191,189),fe=M;continue}M=65536+(fe-55296<<10|M-56320)}else fe&&(D-=3)>-1&&Se.push(239,191,189);if(fe=null,M<128){if((D-=1)<0)break;Se.push(M)}else if(M<2048){if((D-=2)<0)break;Se.push(M>>6|192,63&M|128)}else if(M<65536){if((D-=3)<0)break;Se.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;Se.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return Se}function Ie(F){return g.toByteArray(function ne(F){if((F=(F=F.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function He(F,D,M,G){let fe;for(fe=0;fe<G&&!(fe+M>=D.length||fe>=F.length);++fe)D[fe+M]=F[fe];return fe}function Ve(F,D){return F instanceof D||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===D.name}function Dt(F){return F!=F}const Ne=function(){const F="0123456789abcdef",D=new Array(256);for(let M=0;M<16;++M){const G=16*M;for(let fe=0;fe<16;++fe)D[G+fe]=F[M]+F[fe]}return D}();function ke(F){return typeof BigInt>"u"?yt:F}function yt(){throw new Error("BigInt not supported")}},24785:($e,j,E)=>{"use strict";const{AbortError:g,codes:w}=E(65109),{isNodeStream:B,isWebStream:H,kControllerErrorFunction:b}=E(51233),k=E(44268),{ERR_INVALID_ARG_TYPE:S}=w;$e.exports.addAbortSignal=function(O,A){if(((R,O)=>{if("object"!=typeof R||!("aborted"in R))throw new S("signal","AbortSignal",R)})(O),!B(A)&&!H(A))throw new S("stream",["ReadableStream","WritableStream","Stream"],A);return $e.exports.addAbortSignalNoValidate(O,A)},$e.exports.addAbortSignalNoValidate=function(R,O){if("object"!=typeof R||!("aborted"in R))return O;const A=B(O)?()=>{O.destroy(new g(void 0,{cause:R.reason}))}:()=>{O[b](new g(void 0,{cause:R.reason}))};return R.aborted?A():(R.addEventListener("abort",A),k(O,()=>R.removeEventListener("abort",A))),O}},58579:($e,j,E)=>{"use strict";const{StringPrototypeSlice:g,SymbolIterator:w,TypedArrayPrototypeSet:B,Uint8Array:H}=E(43856),{Buffer:b}=E(89565),{inspect:k}=E(55830);$e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(P){const R={data:P,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}unshift(P){const R={data:P,next:this.head};0===this.length&&(this.tail=R),this.head=R,++this.length}shift(){if(0===this.length)return;const P=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,P}clear(){this.head=this.tail=null,this.length=0}join(P){if(0===this.length)return"";let R=this.head,O=""+R.data;for(;null!==(R=R.next);)O+=P+R.data;return O}concat(P){if(0===this.length)return b.alloc(0);const R=b.allocUnsafe(P>>>0);let O=this.head,A=0;for(;O;)B(R,O.data,A),A+=O.data.length,O=O.next;return R}consume(P,R){const O=this.head.data;if(P<O.length){const A=O.slice(0,P);return this.head.data=O.slice(P),A}return P===O.length?this.shift():R?this._getString(P):this._getBuffer(P)}first(){return this.head.data}*[w](){for(let P=this.head;P;P=P.next)yield P.data}_getString(P){let R="",O=this.head,A=0;do{const V=O.data;if(!(P>V.length)){P===V.length?(R+=V,++A,this.head=O.next?O.next:this.tail=null):(R+=g(V,0,P),this.head=O,O.data=g(V,P));break}R+=V,P-=V.length,++A}while(null!==(O=O.next));return this.length-=A,R}_getBuffer(P){const R=b.allocUnsafe(P),O=P;let A=this.head,V=0;do{const U=A.data;if(!(P>U.length)){P===U.length?(B(R,U,O-P),++V,this.head=A.next?A.next:this.tail=null):(B(R,new H(U.buffer,U.byteOffset,P),O-P),this.head=A,A.data=U.slice(P));break}B(R,U,O-P),P-=U.length,++V}while(null!==(A=A.next));return this.length-=V,R}[Symbol.for("nodejs.util.inspect.custom")](P,R){return k(this,{...R,depth:0,customInspect:!1})}}},5464:($e,j,E)=>{"use strict";var g=E(29293).default;const{pipeline:w}=E(96208),B=E(97464),{destroyer:H}=E(45078),{isNodeStream:b,isReadable:k,isWritable:S,isWebStream:P,isTransformStream:R,isWritableStream:O,isReadableStream:A}=E(51233),{AbortError:V,codes:{ERR_INVALID_ARG_VALUE:U,ERR_MISSING_ARGS:K}}=E(65109),Q=E(44268);$e.exports=function(...Y){if(0===Y.length)throw new K("streams");if(1===Y.length)return B.from(Y[0]);const W=[...Y];if("function"==typeof Y[0]&&(Y[0]=B.from(Y[0])),"function"==typeof Y[Y.length-1]){const d=Y.length-1;Y[d]=B.from(Y[d])}for(let d=0;d<Y.length;++d)if(b(Y[d])||P(Y[d])){if(d<Y.length-1&&!(k(Y[d])||A(Y[d])||R(Y[d])))throw new U(`streams[${d}]`,W[d],"must be readable");if(d>0&&!(S(Y[d])||O(Y[d])||R(Y[d])))throw new U(`streams[${d}]`,W[d],"must be writable")}let re,ie,ae,ue,ce;const ve=Y[0],De=w(Y,function pe(d){const h=ue;ue=null,h?h(d):d?ce.destroy(d):!s&&!C&&ce.destroy()}),C=!!(S(ve)||O(ve)||R(ve)),s=!!(k(De)||A(De)||R(De));if(ce=new B({writableObjectMode:!(null==ve||!ve.writableObjectMode),readableObjectMode:!(null==De||!De.writableObjectMode),writable:C,readable:s}),C){if(b(ve))ce._write=function(h,f,_){ve.write(h,f)?_():re=_},ce._final=function(h){ve.end(),ie=h},ve.on("drain",function(){if(re){const h=re;re=null,h()}});else if(P(ve)){const f=(R(ve)?ve.writable:ve).getWriter();ce._write=function(){var _=g(function*(I,L,x){try{yield f.ready,f.write(I).catch(()=>{}),x()}catch(a){x(a)}});return function(I,L,x){return _.apply(this,arguments)}}(),ce._final=function(){var _=g(function*(I){try{yield f.ready,f.close().catch(()=>{}),ie=I}catch(L){I(L)}});return function(I){return _.apply(this,arguments)}}()}const d=R(De)?De.readable:De;Q(d,()=>{if(ie){const h=ie;ie=null,h()}})}if(s)if(b(De))De.on("readable",function(){if(ae){const d=ae;ae=null,d()}}),De.on("end",function(){ce.push(null)}),ce._read=function(){for(;;){const d=De.read();if(null===d)return void(ae=ce._read);if(!ce.push(d))return}};else if(P(De)){const h=(R(De)?De.readable:De).getReader();ce._read=g(function*(){for(;;)try{const{value:f,done:_}=yield h.read();if(!ce.push(f))return;if(_)return void ce.push(null)}catch{return}})}return ce._destroy=function(d,h){!d&&null!==ue&&(d=new V),ae=null,re=null,ie=null,null===ue?h(d):(ue=h,b(De)&&H(De,d))},ce}},45078:($e,j,E)=>{"use strict";const g=E(40573),{aggregateTwoErrors:w,codes:{ERR_MULTIPLE_CALLBACK:B},AbortError:H}=E(65109),{Symbol:b}=E(43856),{kDestroyed:k,isDestroyed:S,isFinished:P,isServerRequest:R}=E(51233),O=b("kDestroy"),A=b("kConstruct");function V(C,s,d){C&&(s&&!s.errored&&(s.errored=C),d&&!d.errored&&(d.errored=C))}function K(C,s,d){let h=!1;function f(_){if(h)return;h=!0;const I=C._readableState,L=C._writableState;V(_,L,I),L&&(L.closed=!0),I&&(I.closed=!0),"function"==typeof d&&d(_),_?g.nextTick(Q,C,_):g.nextTick(q,C)}try{C._destroy(s||null,f)}catch(_){f(_)}}function Q(C,s){Y(C,s),q(C)}function q(C){const s=C._readableState,d=C._writableState;d&&(d.closeEmitted=!0),s&&(s.closeEmitted=!0),(null!=d&&d.emitClose||null!=s&&s.emitClose)&&C.emit("close")}function Y(C,s){const d=C._readableState,h=C._writableState;null!=h&&h.errorEmitted||null!=d&&d.errorEmitted||(h&&(h.errorEmitted=!0),d&&(d.errorEmitted=!0),C.emit("error",s))}function re(C,s,d){const h=C._readableState,f=C._writableState;if(null!=f&&f.destroyed||null!=h&&h.destroyed)return this;null!=h&&h.autoDestroy||null!=f&&f.autoDestroy?C.destroy(s):s&&(f&&!f.errored&&(f.errored=s),h&&!h.errored&&(h.errored=s),d?g.nextTick(Y,C,s):Y(C,s))}function ae(C){let s=!1;function d(h){if(s)return void re(C,h??new B);s=!0;const f=C._readableState,_=C._writableState,I=_||f;f&&(f.constructed=!0),_&&(_.constructed=!0),I.destroyed?C.emit(O,h):h?re(C,h,!0):g.nextTick(ue,C)}try{C._construct(h=>{g.nextTick(d,h)})}catch(h){g.nextTick(d,h)}}function ue(C){C.emit(A)}function ce(C){return C?.setHeader&&"function"==typeof C.abort}function pe(C){C.emit("close")}function ve(C,s){C.emit("error",s),g.nextTick(pe,C)}$e.exports={construct:function ie(C,s){if("function"!=typeof C._construct)return;const d=C._readableState,h=C._writableState;d&&(d.constructed=!1),h&&(h.constructed=!1),C.once(A,s),!(C.listenerCount(A)>1)&&g.nextTick(ae,C)},destroyer:function De(C,s){!C||S(C)||(!s&&!P(C)&&(s=new H),R(C)?(C.socket=null,C.destroy(s)):ce(C)?C.abort():ce(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(s):"function"==typeof C.close?C.close():s?g.nextTick(ve,C,s):g.nextTick(pe,C),C.destroyed||(C[k]=!0))},destroy:function U(C,s){const d=this._readableState,h=this._writableState,f=h||d;return null!=h&&h.destroyed||null!=d&&d.destroyed?("function"==typeof s&&s(),this):(V(C,h,d),h&&(h.destroyed=!0),d&&(d.destroyed=!0),f.constructed?K(this,C,s):this.once(O,function(_){K(this,w(_,C),s)}),this)},undestroy:function W(){const C=this._readableState,s=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),s&&(s.constructed=!0,s.destroyed=!1,s.closed=!1,s.closeEmitted=!1,s.errored=null,s.errorEmitted=!1,s.finalCalled=!1,s.prefinished=!1,s.ended=!1===s.writable,s.ending=!1===s.writable,s.finished=!1===s.writable)},errorOrDestroy:re}},97464:($e,j,E)=>{"use strict";const{ObjectDefineProperties:g,ObjectGetOwnPropertyDescriptor:w,ObjectKeys:B,ObjectSetPrototypeOf:H}=E(43856);$e.exports=S;const b=E(29710),k=E(40258);H(S.prototype,b.prototype),H(S,b);{const A=B(k.prototype);for(let V=0;V<A.length;V++){const U=A[V];S.prototype[U]||(S.prototype[U]=k.prototype[U])}}function S(A){if(!(this instanceof S))return new S(A);b.call(this,A),k.call(this,A),A?(this.allowHalfOpen=!1!==A.allowHalfOpen,!1===A.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===A.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let P,O;function R(){return void 0===P&&(P={}),P}g(S.prototype,{writable:{__proto__:null,...w(k.prototype,"writable")},writableHighWaterMark:{__proto__:null,...w(k.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...w(k.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...w(k.prototype,"writableBuffer")},writableLength:{__proto__:null,...w(k.prototype,"writableLength")},writableFinished:{__proto__:null,...w(k.prototype,"writableFinished")},writableCorked:{__proto__:null,...w(k.prototype,"writableCorked")},writableEnded:{__proto__:null,...w(k.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...w(k.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(A){this._readableState&&this._writableState&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}}),S.fromWeb=function(A,V){return R().newStreamDuplexFromReadableWritablePair(A,V)},S.toWeb=function(A){return R().newReadableWritablePairFromDuplex(A)},S.from=function(A){return O||(O=E(56840)),O(A,"body")}},56840:($e,j,E)=>{var g=E(29293).default,w=E(53344).default,B=E(42958).default;const H=E(40573),b=E(89565),{isReadable:k,isWritable:S,isIterable:P,isNodeStream:R,isReadableNodeStream:O,isWritableNodeStream:A,isDuplexNodeStream:V}=E(51233),U=E(44268),{AbortError:K,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_RETURN_VALUE:q}}=E(65109),{destroyer:Y}=E(45078),W=E(97464),re=E(29710),{createDeferredPromise:ie}=E(55830),ae=E(24246),ue=globalThis.Blob||b.Blob,ce=typeof ue<"u"?function(h){return h instanceof ue}:function(h){return!1},pe=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:ve}=E(43856);class De extends W{constructor(h){super(h),!1===h?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===h?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function s(d){const h=d.readable&&"function"!=typeof d.readable.read?re.wrap(d.readable):d.readable,f=d.writable;let L,x,a,v,Z,_=!!k(h),I=!!S(f);function z(ee){const le=v;v=null,le?le(ee):ee&&Z.destroy(ee)}return Z=new De({readableObjectMode:!(null==h||!h.readableObjectMode),writableObjectMode:!(null==f||!f.writableObjectMode),readable:_,writable:I}),I&&(U(f,ee=>{I=!1,ee&&Y(h,ee),z(ee)}),Z._write=function(ee,le,we){f.write(ee,le)?we():L=we},Z._final=function(ee){f.end(),x=ee},f.on("drain",function(){if(L){const ee=L;L=null,ee()}}),f.on("finish",function(){if(x){const ee=x;x=null,ee()}})),_&&(U(h,ee=>{_=!1,ee&&Y(h,ee),z(ee)}),h.on("readable",function(){if(a){const ee=a;a=null,ee()}}),h.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){const ee=h.read();if(null===ee)return void(a=Z._read);if(!Z.push(ee))return}}),Z._destroy=function(ee,le){!ee&&null!==v&&(ee=new K),a=null,L=null,x=null,null===v?le(ee):(v=le,Y(f,ee),Y(h,ee))},Z}$e.exports=function d(h,f){if(V(h))return h;if(O(h))return s({readable:h});if(A(h))return s({writable:h});if(R(h))return s({writable:!1,readable:!1});if("function"==typeof h){const{value:I,write:L,final:x,destroy:a}=function C(d){let{promise:h,resolve:f}=ie();const _=new pe,I=_.signal;return{value:d(B(function*(){for(;;){const x=h;h=null;const{chunk:a,done:v,cb:Z}=yield w(x);if(H.nextTick(Z),v)return;if(I.aborted)throw new K(void 0,{cause:I.reason});({promise:h,resolve:f}=ie()),yield a}})(),{signal:I}),write(x,a,v){const Z=f;f=null,Z({chunk:x,done:!1,cb:v})},final(x){const a=f;f=null,a({done:!0,cb:x})},destroy(x,a){_.abort(),a(x)}}}(h);if(P(I))return ae(De,I,{objectMode:!0,write:L,final:x,destroy:a});const v=I?.then;if("function"==typeof v){let Z;const z=ve(v,I,ee=>{if(null!=ee)throw new q("nully","body",ee)},ee=>{Y(Z,ee)});return Z=new De({objectMode:!0,readable:!1,write:L,final(ee){x(g(function*(){try{yield z,H.nextTick(ee,null)}catch(le){H.nextTick(ee,le)}}))},destroy:a})}throw new q("Iterable, AsyncIterable or AsyncFunction",f,I)}if(ce(h))return d(h.arrayBuffer());if(P(h))return ae(De,h,{objectMode:!0,writable:!1});if("object"==typeof h?.writable||"object"==typeof h?.readable)return s({readable:null!=h&&h.readable?O(h?.readable)?h?.readable:d(h.readable):void 0,writable:null!=h&&h.writable?A(h?.writable)?h?.writable:d(h.writable):void 0});const _=h?.then;if("function"==typeof _){let I;return ve(_,h,L=>{null!=L&&I.push(L),I.push(null)},L=>{Y(I,L)}),I=new De({objectMode:!0,writable:!1,read(){}})}throw new Q(f,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],h)}},44268:($e,j,E)=>{const g=E(40573),{AbortError:w,codes:B}=E(65109),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:b}=B,{kEmptyObject:k,once:S}=E(55830),{validateAbortSignal:P,validateFunction:R,validateObject:O,validateBoolean:A}=E(44323),{Promise:V,PromisePrototypeThen:U}=E(43856),{isClosed:K,isReadable:Q,isReadableNodeStream:q,isReadableStream:Y,isReadableFinished:W,isReadableErrored:re,isWritable:ie,isWritableNodeStream:ae,isWritableStream:ue,isWritableFinished:ce,isWritableErrored:pe,isNodeStream:ve,willEmitClose:De,kIsClosedPromise:C}=E(51233),d=()=>{};function h(I,L,x){var a,v;if(2===arguments.length?(x=L,L=k):null==L?L=k:O(L,"options"),R(x,"callback"),P(L.signal,"options.signal"),x=S(x),Y(I)||ue(I))return function f(I,L,x){let a=!1,v=d;if(L.signal)if(v=()=>{a=!0,x.call(I,new w(void 0,{cause:L.signal.reason}))},L.signal.aborted)g.nextTick(v);else{const z=x;x=S((...ee)=>{L.signal.removeEventListener("abort",v),z.apply(I,ee)}),L.signal.addEventListener("abort",v)}const Z=(...z)=>{a||g.nextTick(()=>x.apply(I,z))};return U(I[C].promise,Z,Z),d}(I,L,x);if(!ve(I))throw new H("stream",["ReadableStream","WritableStream","Stream"],I);const Z=null!==(a=L.readable)&&void 0!==a?a:q(I),z=null!==(v=L.writable)&&void 0!==v?v:ae(I),ee=I._writableState,le=I._readableState,we=()=>{I.writable||ge()};let Me=De(I)&&q(I)===Z&&ae(I)===z,Ze=ce(I,!1);const ge=()=>{Ze=!0,I.destroyed&&(Me=!1),(!Me||I.readable&&!Z)&&(!Z||me)&&x.call(I)};let me=W(I,!1);const Ue=()=>{me=!0,I.destroyed&&(Me=!1),(!Me||I.writable&&!z)&&(!z||Ze)&&x.call(I)},xe=de=>{x.call(I,de)};let Ce=K(I);const be=()=>{Ce=!0;const de=pe(I)||re(I);return de&&"boolean"!=typeof de?x.call(I,de):Z&&!me&&q(I,!0)&&!W(I,!1)?x.call(I,new b):!z||Ze||ce(I,!1)?void x.call(I):x.call(I,new b)},he=()=>{Ce=!0;const de=pe(I)||re(I);if(de&&"boolean"!=typeof de)return x.call(I,de);x.call(I)},ne=()=>{I.req.on("finish",ge)};!function s(I){return I.setHeader&&"function"==typeof I.abort}(I)?z&&!ee&&(I.on("end",we),I.on("close",we)):(I.on("complete",ge),Me||I.on("abort",be),I.req?ne():I.on("request",ne)),!Me&&"boolean"==typeof I.aborted&&I.on("aborted",be),I.on("end",Ue),I.on("finish",ge),!1!==L.error&&I.on("error",xe),I.on("close",be),Ce?g.nextTick(be):null!=ee&&ee.errorEmitted||null!=le&&le.errorEmitted?Me||g.nextTick(he):(!Z&&(!Me||Q(I))&&(Ze||!1===ie(I))||!z&&(!Me||ie(I))&&(me||!1===Q(I))||le&&I.req&&I.aborted)&&g.nextTick(he);const te=()=>{x=d,I.removeListener("aborted",be),I.removeListener("complete",ge),I.removeListener("abort",be),I.removeListener("request",ne),I.req&&I.req.removeListener("finish",ge),I.removeListener("end",we),I.removeListener("close",we),I.removeListener("finish",ge),I.removeListener("end",Ue),I.removeListener("error",xe),I.removeListener("close",be)};if(L.signal&&!Ce){const de=()=>{const _e=x;te(),_e.call(I,new w(void 0,{cause:L.signal.reason}))};if(L.signal.aborted)g.nextTick(de);else{const _e=x;x=S((...Ie)=>{L.signal.removeEventListener("abort",de),_e.apply(I,Ie)}),L.signal.addEventListener("abort",de)}}return te}$e.exports=h,$e.exports.finished=function _(I,L){var x;let a=!1;return null===L&&(L=k),null!==(x=L)&&void 0!==x&&x.cleanup&&(A(L.cleanup,"cleanup"),a=L.cleanup),new V((v,Z)=>{const z=h(I,L,ee=>{a&&z(),ee?Z(ee):v()})})}},24246:($e,j,E)=>{"use strict";var g=E(29293).default;const w=E(40573),{PromisePrototypeThen:B,SymbolAsyncIterator:H,SymbolIterator:b}=E(43856),{Buffer:k}=E(89565),{ERR_INVALID_ARG_TYPE:S,ERR_STREAM_NULL_VALUES:P}=E(65109).codes;$e.exports=function R(O,A,V){let U,K;if("string"==typeof A||A instanceof k)return new O({objectMode:!0,...V,read(){this.push(A),this.push(null)}});if(A&&A[H])K=!0,U=A[H]();else{if(!A||!A[b])throw new S("iterable",["Iterable"],A);K=!1,U=A[b]()}const Q=new O({objectMode:!0,highWaterMark:1,...V});let q=!1;function W(){return(W=g(function*(ae){if(null!=ae&&"function"==typeof U.throw){const{value:pe,done:ve}=yield U.throw(ae);if(yield pe,ve)return}if("function"==typeof U.return){const{value:pe}=yield U.return();yield pe}})).apply(this,arguments)}function ie(){return(ie=g(function*(){for(;;){try{const{value:ae,done:ue}=K?yield U.next():U.next();if(ue)Q.push(null);else{const ce=ae&&"function"==typeof ae.then?yield ae:ae;if(null===ce)throw q=!1,new P;if(Q.push(ce))continue;q=!1}}catch(ae){Q.destroy(ae)}break}})).apply(this,arguments)}return Q._read=function(){q||(q=!0,function re(){ie.apply(this,arguments)}())},Q._destroy=function(ae,ue){B(function Y(ae){return W.apply(this,arguments)}(ae),()=>w.nextTick(ue,ae),ce=>w.nextTick(ue,ce||ae))},Q}},2649:($e,j,E)=>{"use strict";const{ArrayIsArray:g,ObjectSetPrototypeOf:w}=E(43856),{EventEmitter:B}=E(44356);function H(k){B.call(this,k)}function b(k,S,P){if("function"==typeof k.prependListener)return k.prependListener(S,P);k._events&&k._events[S]?g(k._events[S])?k._events[S].unshift(P):k._events[S]=[P,k._events[S]]:k.on(S,P)}w(H.prototype,B.prototype),w(H,B),H.prototype.pipe=function(k,S){const P=this;function R(q){k.writable&&!1===k.write(q)&&P.pause&&P.pause()}function O(){P.readable&&P.resume&&P.resume()}P.on("data",R),k.on("drain",O),!k._isStdio&&(!S||!1!==S.end)&&(P.on("end",V),P.on("close",U));let A=!1;function V(){A||(A=!0,k.end())}function U(){A||(A=!0,"function"==typeof k.destroy&&k.destroy())}function K(q){Q(),0===B.listenerCount(this,"error")&&this.emit("error",q)}function Q(){P.removeListener("data",R),k.removeListener("drain",O),P.removeListener("end",V),P.removeListener("close",U),P.removeListener("error",K),k.removeListener("error",K),P.removeListener("end",Q),P.removeListener("close",Q),k.removeListener("close",Q)}return b(P,"error",K),b(k,"error",K),P.on("end",Q),P.on("close",Q),k.on("close",Q),k.emit("pipe",P),k},$e.exports={Stream:H,prependListener:b}},37325:($e,j,E)=>{"use strict";var g=E(29293).default,w=E(93513).default,B=E(82881).default,H=E(53344).default,b=E(42958).default;const k=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:S,ERR_INVALID_ARG_TYPE:P,ERR_MISSING_ARGS:R,ERR_OUT_OF_RANGE:O},AbortError:A}=E(65109),{validateAbortSignal:V,validateInteger:U,validateObject:K}=E(44323),Q=E(43856).Symbol("kWeak"),{finished:q}=E(44268),Y=E(5464),{addAbortSignalNoValidate:W}=E(24785),{isWritable:re,isNodeStream:ie}=E(51233),{ArrayPrototypePush:ae,MathFloor:ue,Number:ce,NumberIsNaN:pe,Promise:ve,PromiseReject:De,PromisePrototypeThen:C,Symbol:s}=E(43856),d=s("kEmpty"),h=s("kEof");function _(ne,te){if("function"!=typeof ne)throw new P("fn",["Function","AsyncFunction"],ne);null!=te&&K(te,"options"),null!=te?.signal&&V(te.signal,"options.signal");let de=1;return null!=te?.concurrency&&(de=ue(te.concurrency)),U(de,"concurrency",1),function(){var _e=b(function*(){var He,Ve;const Dt=new k,Ne=this,ke=[],yt=Dt.signal,F={signal:yt},D=()=>Dt.abort();null!=te&&null!==(He=te.signal)&&void 0!==He&&He.aborted&&D(),null==te||null===(Ve=te.signal)||void 0===Ve||Ve.addEventListener("abort",D);let M,G,fe=!1;function Se(){fe=!0}function ot(){return(ot=g(function*(){try{var Bt,Gt=!1,_t=!1;try{for(var pn,en=B(Ne);Gt=!(pn=yield en.next()).done;Gt=!1){let Mn=pn.value;var cn;if(fe)return;if(yt.aborted)throw new A;try{Mn=ne(Mn,F)}catch(on){Mn=De(on)}Mn!==d&&("function"==typeof(null===(cn=Mn)||void 0===cn?void 0:cn.catch)&&Mn.catch(Se),ke.push(Mn),M&&(M(),M=null),!fe&&ke.length&&ke.length>=de&&(yield new ve(on=>{G=on})))}}catch(Mn){_t=!0,Bt=Mn}finally{try{Gt&&null!=en.return&&(yield en.return())}finally{if(_t)throw Bt}}ke.push(h)}catch(Mn){const on=De(Mn);C(on,void 0,Se),ke.push(on)}finally{var tr;fe=!0,M&&(M(),M=null),null==te||null===(tr=te.signal)||void 0===tr||tr.removeEventListener("abort",D)}})).apply(this,arguments)}!function Ae(){ot.apply(this,arguments)}();try{for(;;){for(;ke.length>0;){const Gt=yield H(ke[0]);if(Gt===h)return;if(yt.aborted)throw new A;Gt!==d&&(yield Gt),ke.shift(),G&&(G(),G=null)}yield H(new ve(Gt=>{M=Gt}))}}finally{Dt.abort(),fe=!0,G&&(G(),G=null)}});return function Ie(){return _e.apply(this,arguments)}}().call(this)}function L(ne){return x.apply(this,arguments)}function x(){return(x=g(function*(ne,te=void 0){var Ie,de=!1,_e=!1;try{for(var He=B(we.call(this,ne,te));de=!(yield He.next()).done;de=!1)return!0}catch(Dt){_e=!0,Ie=Dt}finally{try{de&&null!=He.return&&(yield He.return())}finally{if(_e)throw Ie}}return!1})).apply(this,arguments)}function v(){return(v=g(function*(ne,te=void 0){if("function"!=typeof ne)throw new P("fn",["Function","AsyncFunction"],ne);return!(yield L.call(this,g(function*(...de){return!(yield ne(...de))}),te))})).apply(this,arguments)}function z(){return(z=g(function*(ne,te){var Ie,de=!1,_e=!1;try{for(var Ve,He=B(we.call(this,ne,te));de=!(Ve=yield He.next()).done;de=!1)return Ve.value}catch(Dt){_e=!0,Ie=Dt}finally{try{de&&null!=He.return&&(yield He.return())}finally{if(_e)throw Ie}}})).apply(this,arguments)}function le(){return le=g(function*(ne,te){if("function"!=typeof ne)throw new P("fn",["Function","AsyncFunction"],ne);function _e(){return(_e=g(function*(ke,yt){return yield ne(ke,yt),d})).apply(this,arguments)}var Ve,Ie=!1,He=!1;try{for(var Dt=B(_.call(this,function de(ke,yt){return _e.apply(this,arguments)},te));Ie=!(yield Dt.next()).done;Ie=!1);}catch(ke){He=!0,Ve=ke}finally{try{Ie&&null!=Dt.return&&(yield Dt.return())}finally{if(He)throw Ve}}}),le.apply(this,arguments)}function we(ne,te){if("function"!=typeof ne)throw new P("fn",["Function","AsyncFunction"],ne);function _e(){return(_e=g(function*(Ie,He){return(yield ne(Ie,He))?Ie:d})).apply(this,arguments)}return _.call(this,function de(Ie,He){return _e.apply(this,arguments)},te)}class Me extends R{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function ge(){return ge=g(function*(ne,te,de){var _e;if("function"!=typeof ne)throw new P("reducer",["Function","AsyncFunction"],ne);null!=de&&K(de,"options"),null!=de?.signal&&V(de.signal,"options.signal");let Ie=arguments.length>1;if(null!=de&&null!==(_e=de.signal)&&void 0!==_e&&_e.aborted){const G=new A(void 0,{cause:de.signal.reason});throw this.once("error",()=>{}),yield q(this.destroy(G)),G}const He=new k,Ve=He.signal;null!=de&&de.signal&&de.signal.addEventListener("abort",()=>He.abort(),{once:!0,[Q]:this});let Dt=!1;try{var yt,Ne=!1,ke=!1;try{for(var D,F=B(this);Ne=!(D=yield F.next()).done;Ne=!1){const G=D.value;var M;if(Dt=!0,null!=de&&null!==(M=de.signal)&&void 0!==M&&M.aborted)throw new A;Ie?te=yield ne(te,G,{signal:Ve}):(te=G,Ie=!0)}}catch(G){ke=!0,yt=G}finally{try{Ne&&null!=F.return&&(yield F.return())}finally{if(ke)throw yt}}if(!Dt&&!Ie)throw new Me}finally{He.abort()}return te}),ge.apply(this,arguments)}function Ue(){return(Ue=g(function*(ne){null!=ne&&K(ne,"options"),null!=ne?.signal&&V(ne.signal,"options.signal");const te=[];var Ie,de=!1,_e=!1;try{for(var Ve,He=B(this);de=!(Ve=yield He.next()).done;de=!1){const Ne=Ve.value;var Dt;if(null!=ne&&null!==(Dt=ne.signal)&&void 0!==Dt&&Dt.aborted)throw new A(void 0,{cause:ne.signal.reason});ae(te,Ne)}}catch(Ne){_e=!0,Ie=Ne}finally{try{de&&null!=He.return&&(yield He.return())}finally{if(_e)throw Ie}}return te})).apply(this,arguments)}function Ce(ne){if(ne=ce(ne),pe(ne))return 0;if(ne<0)throw new O("number",">= 0",ne);return ne}$e.exports.streamReturningOperators={asIndexedPairs:function I(ne=void 0){return null!=ne&&K(ne,"options"),null!=ne?.signal&&V(ne.signal,"options.signal"),function(){var te=b(function*(){let _e=0;var Ve,Ie=!1,He=!1;try{for(var Ne,Dt=B(this);Ie=!(Ne=yield H(Dt.next())).done;Ie=!1){const yt=Ne.value;var ke;if(null!=ne&&null!==(ke=ne.signal)&&void 0!==ke&&ke.aborted)throw new A({cause:ne.signal.reason});yield[_e++,yt]}}catch(yt){He=!0,Ve=yt}finally{try{Ie&&null!=Dt.return&&(yield H(Dt.return()))}finally{if(He)throw Ve}}});return function de(){return te.apply(this,arguments)}}().call(this)},drop:function be(ne,te=void 0){return null!=te&&K(te,"options"),null!=te?.signal&&V(te.signal,"options.signal"),ne=Ce(ne),function(){var de=b(function*(){var Ie;if(null!=te&&null!==(Ie=te.signal)&&void 0!==Ie&&Ie.aborted)throw new A;var Dt,He=!1,Ve=!1;try{for(var ke,Ne=B(this);He=!(ke=yield H(Ne.next())).done;He=!1){const F=ke.value;var yt;if(null!=te&&null!==(yt=te.signal)&&void 0!==yt&&yt.aborted)throw new A;ne--<=0&&(yield F)}}catch(F){Ve=!0,Dt=F}finally{try{He&&null!=Ne.return&&(yield H(Ne.return()))}finally{if(Ve)throw Dt}}});return function _e(){return de.apply(this,arguments)}}().call(this)},filter:we,flatMap:function xe(ne,te){const de=_.call(this,ne,te);return function(){var _e=b(function*(){var Dt,He=!1,Ve=!1;try{for(var ke,Ne=B(de);He=!(ke=yield H(Ne.next())).done;He=!1){const yt=ke.value;yield*w(B(yt),H)}}catch(yt){Ve=!0,Dt=yt}finally{try{He&&null!=Ne.return&&(yield H(Ne.return()))}finally{if(Ve)throw Dt}}});return function Ie(){return _e.apply(this,arguments)}}().call(this)},map:_,take:function he(ne,te=void 0){return null!=te&&K(te,"options"),null!=te?.signal&&V(te.signal,"options.signal"),ne=Ce(ne),function(){var de=b(function*(){var Ie;if(null!=te&&null!==(Ie=te.signal)&&void 0!==Ie&&Ie.aborted)throw new A;var Dt,He=!1,Ve=!1;try{for(var ke,Ne=B(this);He=!(ke=yield H(Ne.next())).done;He=!1){const F=ke.value;var yt;if(null!=te&&null!==(yt=te.signal)&&void 0!==yt&&yt.aborted)throw new A;if(!(ne-- >0))return;yield F}}catch(F){Ve=!0,Dt=F}finally{try{He&&null!=Ne.return&&(yield H(Ne.return()))}finally{if(Ve)throw Dt}}});return function _e(){return de.apply(this,arguments)}}().call(this)},compose:function f(ne,te){if(null!=te&&K(te,"options"),null!=te?.signal&&V(te.signal,"options.signal"),ie(ne)&&!re(ne))throw new S("stream",ne,"must be writable");const de=Y(this,ne);return null!=te&&te.signal&&W(te.signal,de),de}},$e.exports.promiseReturningOperators={every:function a(ne){return v.apply(this,arguments)},forEach:function ee(ne,te){return le.apply(this,arguments)},reduce:function Ze(ne,te,de){return ge.apply(this,arguments)},toArray:function me(ne){return Ue.apply(this,arguments)},some:L,find:function Z(ne,te){return z.apply(this,arguments)}}},70874:($e,j,E)=>{"use strict";const{ObjectSetPrototypeOf:g}=E(43856);$e.exports=B;const w=E(66344);function B(H){if(!(this instanceof B))return new B(H);w.call(this,H)}g(B.prototype,w.prototype),g(B,w),B.prototype._transform=function(H,b,k){k(null,H)}},96208:($e,j,E)=>{var g=E(29293).default,w=E(42958).default,B=E(53344).default,H=E(93513).default,b=E(82881).default;const k=E(40573),{ArrayIsArray:S,Promise:P,SymbolAsyncIterator:R}=E(43856),O=E(44268),{once:A}=E(55830),V=E(45078),U=E(97464),{aggregateTwoErrors:K,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_RETURN_VALUE:q,ERR_MISSING_ARGS:Y,ERR_STREAM_DESTROYED:W,ERR_STREAM_PREMATURE_CLOSE:re},AbortError:ie}=E(65109),{validateFunction:ae,validateAbortSignal:ue}=E(44323),{isIterable:ce,isReadable:pe,isReadableNodeStream:ve,isNodeStream:De,isTransformStream:C,isWebStream:s,isReadableStream:d,isReadableEnded:h}=E(51233),f=globalThis.AbortController||E(9465).AbortController;let _,I;function L(me,Ue,xe){let Ce=!1;return me.on("close",()=>{Ce=!0}),{destroy:he=>{Ce||(Ce=!0,V.destroyer(me,he||new W("pipe")))},cleanup:O(me,{readable:Ue,writable:xe},he=>{Ce=!he})}}function a(me){if(ce(me))return me;if(ve(me))return function v(me){return Z.apply(this,arguments)}(me);throw new Q("val",["Readable","Iterable","AsyncIterable"],me)}function Z(){return(Z=w(function*(me){I||(I=E(29710)),yield*H(b(I.prototype[R].call(me)),B)})).apply(this,arguments)}function z(me,Ue,xe,Ce){return ee.apply(this,arguments)}function ee(){return(ee=g(function*(me,Ue,xe,{end:Ce}){let be,he=null;const ne=Ne=>{if(Ne&&(be=Ne),he){const ke=he;he=null,ke()}},te=()=>new P((Ne,ke)=>{be?ke(be):he=()=>{be?ke(be):Ne()}});Ue.on("drain",ne);const de=O(Ue,{readable:!1},ne);try{Ue.writableNeedDrain&&(yield te());var He,_e=!1,Ie=!1;try{for(var Dt,Ve=b(me);_e=!(Dt=yield Ve.next()).done;_e=!1)Ue.write(Dt.value)||(yield te())}catch(Ne){Ie=!0,He=Ne}finally{try{_e&&null!=Ve.return&&(yield Ve.return())}finally{if(Ie)throw He}}Ce&&Ue.end(),yield te(),xe()}catch(Ne){xe(be!==Ne?K(be,Ne):Ne)}finally{de(),Ue.off("drain",ne)}})).apply(this,arguments)}function le(me,Ue,xe,Ce){return we.apply(this,arguments)}function we(){return(we=g(function*(me,Ue,xe,{end:Ce}){C(Ue)&&(Ue=Ue.writable);const be=Ue.getWriter();try{var te,he=!1,ne=!1;try{for(var _e,de=b(me);he=!(_e=yield de.next()).done;he=!1){const Ie=_e.value;yield be.ready,be.write(Ie).catch(()=>{})}}catch(Ie){ne=!0,te=Ie}finally{try{he&&null!=de.return&&(yield de.return())}finally{if(ne)throw te}}yield be.ready,Ce&&(yield be.close()),xe()}catch(Ie){try{yield be.abort(Ie),xe(Ie)}catch(He){xe(He)}}})).apply(this,arguments)}function Ze(me,Ue,xe){if(1===me.length&&S(me[0])&&(me=me[0]),me.length<2)throw new Y("streams");const Ce=new f,be=Ce.signal,he=xe?.signal,ne=[];function te(){Dt(new ie)}let de,_e;ue(he,"options.signal"),he?.addEventListener("abort",te);const Ie=[];let Ne,He=0;function Ve(D){Dt(D,0==--He)}function Dt(D,M){if(D&&(!de||"ERR_STREAM_PREMATURE_CLOSE"===de.code)&&(de=D),de||M){for(;Ie.length;)Ie.shift()(de);he?.removeEventListener("abort",te),Ce.abort(),M&&(de||ne.forEach(G=>G()),k.nextTick(Ue,de,_e))}}for(let D=0;D<me.length;D++){const M=me[D],G=D<me.length-1,fe=D>0,Se=G||!1!==xe?.end,Ae=D===me.length-1;if(De(M)){let ot=function(Gt){Gt&&"AbortError"!==Gt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Gt.code&&Ve(Gt)};if(Se){const{destroy:Gt,cleanup:_t}=L(M,G,fe);Ie.push(Gt),pe(M)&&Ae&&ne.push(_t)}M.on("error",ot),pe(M)&&Ae&&ne.push(()=>{M.removeListener("error",ot)})}if(0===D)if("function"==typeof M){if(Ne=M({signal:be}),!ce(Ne))throw new q("Iterable, AsyncIterable or Stream","source",Ne)}else Ne=ce(M)||ve(M)||C(M)?M:U.from(M);else if("function"==typeof M){var ke;if(Ne=C(Ne)?a(null===(ke=Ne)||void 0===ke?void 0:ke.readable):a(Ne),Ne=M(Ne,{signal:be}),G){if(!ce(Ne,!0))throw new q("AsyncIterable",`transform[${D-1}]`,Ne)}else{var yt;_||(_=E(70874));const ot=new _({objectMode:!0}),Gt=null===(yt=Ne)||void 0===yt?void 0:yt.then;if("function"==typeof Gt)He++,Gt.call(Ne,en=>{_e=en,null!=en&&ot.write(en),Se&&ot.end(),k.nextTick(Ve)},en=>{ot.destroy(en),k.nextTick(Ve,en)});else if(ce(Ne,!0))He++,z(Ne,ot,Ve,{end:Se});else{if(!d(Ne)&&!C(Ne))throw new q("AsyncIterable or Promise","destination",Ne);He++,z(Ne.readable||Ne,ot,Ve,{end:Se})}Ne=ot;const{destroy:_t,cleanup:Bt}=L(Ne,!1,!0);Ie.push(_t),Ae&&ne.push(Bt)}}else if(De(M)){if(ve(Ne)){He+=2;const ot=ge(Ne,M,Ve,{end:Se});pe(M)&&Ae&&ne.push(ot)}else if(C(Ne)||d(Ne))He++,z(Ne.readable||Ne,M,Ve,{end:Se});else{if(!ce(Ne))throw new Q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ne);He++,z(Ne,M,Ve,{end:Se})}Ne=M}else if(s(M)){if(ve(Ne))He++,le(a(Ne),M,Ve,{end:Se});else if(d(Ne)||ce(Ne))He++,le(Ne,M,Ve,{end:Se});else{if(!C(Ne))throw new Q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ne);He++,le(Ne.readable,M,Ve,{end:Se})}Ne=M}else Ne=U.from(M)}return(null!=be&&be.aborted||null!=he&&he.aborted)&&k.nextTick(te),Ne}function ge(me,Ue,xe,{end:Ce}){let be=!1;if(Ue.on("close",()=>{be||xe(new re)}),me.pipe(Ue,{end:!1}),Ce){let ne=function(){be=!0,Ue.end()};h(me)?k.nextTick(ne):me.once("end",ne)}else xe();return O(me,{readable:!0,writable:!1},ne=>{const te=me._readableState;ne&&"ERR_STREAM_PREMATURE_CLOSE"===ne.code&&te&&te.ended&&!te.errored&&!te.errorEmitted?me.once("end",xe).once("error",xe):xe(ne)}),O(Ue,{readable:!1,writable:!0},xe)}$e.exports={pipelineImpl:Ze,pipeline:function Me(...me){return Ze(me,A(function x(me){return ae(me[me.length-1],"streams[stream.length - 1]"),me.pop()}(me)))}}},29710:($e,j,E)=>{var g=E(53344).default,w=E(42958).default;const B=E(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:b,NumberIsNaN:k,NumberParseInt:S,ObjectDefineProperties:P,ObjectKeys:R,ObjectSetPrototypeOf:O,Promise:A,SafeSet:V,SymbolAsyncIterator:U,Symbol:K}=E(43856);$e.exports=z,z.ReadableState=Z;const{EventEmitter:Q}=E(44356),{Stream:q,prependListener:Y}=E(2649),{Buffer:W}=E(89565),{addAbortSignal:re}=E(24785),ie=E(44268);let ae=E(55830).debuglog("stream",M=>{ae=M});const ue=E(58579),ce=E(45078),{getHighWaterMark:pe,getDefaultHighWaterMark:ve}=E(31081),{aggregateTwoErrors:De,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:s,ERR_OUT_OF_RANGE:d,ERR_STREAM_PUSH_AFTER_EOF:h,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:f}}=E(65109),{validateObject:_}=E(44323),I=K("kPaused"),{StringDecoder:L}=E(78454),x=E(24246);O(z.prototype,q.prototype),O(z,q);const a=()=>{},{errorOrDestroy:v}=ce;function Z(M,G,fe){"boolean"!=typeof fe&&(fe=G instanceof E(97464)),this.objectMode=!(!M||!M.objectMode),fe&&(this.objectMode=this.objectMode||!(!M||!M.readableObjectMode)),this.highWaterMark=M?pe(this,M,"readableHighWaterMark",fe):ve(!1),this.buffer=new ue,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[I]=null,this.errorEmitted=!1,this.emitClose=!M||!1!==M.emitClose,this.autoDestroy=!M||!1!==M.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,M&&M.encoding&&(this.decoder=new L(M.encoding),this.encoding=M.encoding)}function z(M){if(!(this instanceof z))return new z(M);const G=this instanceof E(97464);this._readableState=new Z(M,this,G),M&&("function"==typeof M.read&&(this._read=M.read),"function"==typeof M.destroy&&(this._destroy=M.destroy),"function"==typeof M.construct&&(this._construct=M.construct),M.signal&&!G&&re(M.signal,this)),q.call(this,M),ce.construct(this,()=>{this._readableState.needReadable&&xe(this,this._readableState)})}function ee(M,G,fe,Se){ae("readableAddChunk",G);const Ae=M._readableState;let ot;if(Ae.objectMode||("string"==typeof G?Ae.encoding!==(fe=fe||Ae.defaultEncoding)&&(Se&&Ae.encoding?G=W.from(G,fe).toString(Ae.encoding):(G=W.from(G,fe),fe="")):G instanceof W?fe="":q._isUint8Array(G)?(G=q._uint8ArrayToBuffer(G),fe=""):null!=G&&(ot=new C("chunk",["string","Buffer","Uint8Array"],G))),ot)v(M,ot);else if(null===G)Ae.reading=!1,function ge(M,G){if(ae("onEofChunk"),!G.ended){if(G.decoder){const fe=G.decoder.end();fe&&fe.length&&(G.buffer.push(fe),G.length+=G.objectMode?1:fe.length)}G.ended=!0,G.sync?me(M):(G.needReadable=!1,G.emittedReadable=!0,Ue(M))}}(M,Ae);else if(Ae.objectMode||G&&G.length>0)if(Se)if(Ae.endEmitted)v(M,new f);else{if(Ae.destroyed||Ae.errored)return!1;le(M,Ae,G,!0)}else if(Ae.ended)v(M,new h);else{if(Ae.destroyed||Ae.errored)return!1;Ae.reading=!1,Ae.decoder&&!fe?(G=Ae.decoder.write(G),Ae.objectMode||0!==G.length?le(M,Ae,G,!1):xe(M,Ae)):le(M,Ae,G,!1)}else Se||(Ae.reading=!1,xe(M,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||0===Ae.length)}function le(M,G,fe,Se){G.flowing&&0===G.length&&!G.sync&&M.listenerCount("data")>0?(G.multiAwaitDrain?G.awaitDrainWriters.clear():G.awaitDrainWriters=null,G.dataEmitted=!0,M.emit("data",fe)):(G.length+=G.objectMode?1:fe.length,Se?G.buffer.unshift(fe):G.buffer.push(fe),G.needReadable&&me(M)),xe(M,G)}function Ze(M,G){return M<=0||0===G.length&&G.ended?0:G.objectMode?1:k(M)?G.flowing&&G.length?G.buffer.first().length:G.length:M<=G.length?M:G.ended?G.length:0}function me(M){const G=M._readableState;ae("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(ae("emitReadable",G.flowing),G.emittedReadable=!0,B.nextTick(Ue,M))}function Ue(M){const G=M._readableState;ae("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&!G.errored&&(G.length||G.ended)&&(M.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,_e(M)}function xe(M,G){!G.readingMore&&G.constructed&&(G.readingMore=!0,B.nextTick(Ce,M,G))}function Ce(M,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&0===G.length);){const fe=G.length;if(ae("maybeReadMore read 0"),M.read(0),fe===G.length)break}G.readingMore=!1}function he(M){const G=M._readableState;G.readableListening=M.listenerCount("readable")>0,G.resumeScheduled&&!1===G[I]?G.flowing=!0:M.listenerCount("data")>0?M.resume():G.readableListening||(G.flowing=null)}function ne(M){ae("readable nexttick read 0"),M.read(0)}function de(M,G){ae("resume",G.reading),G.reading||M.read(0),G.resumeScheduled=!1,M.emit("resume"),_e(M),G.flowing&&!G.reading&&M.read(0)}function _e(M){const G=M._readableState;for(ae("flow",G.flowing);G.flowing&&null!==M.read(););}function Ie(M,G){"function"!=typeof M.read&&(M=z.wrap(M,{objectMode:!0}));const fe=function He(M,G){return Ve.apply(this,arguments)}(M,G);return fe.stream=M,fe}function Ve(){return(Ve=w(function*(M,G){let Ae,fe=a;function Se(Gt){this===M?(fe(),fe=a):fe=Gt}M.on("readable",Se);const ot=ie(M,{writable:!1},Gt=>{Ae=Gt?De(Ae,Gt):null,fe(),fe=a});try{for(;;){const Gt=M.destroyed?null:M.read();if(null!==Gt)yield Gt;else{if(Ae)throw Ae;if(null===Ae)return;yield g(new A(Se))}}}catch(Gt){throw Ae=De(Ae,Gt),Ae}finally{!Ae&&!1===G?.destroyOnReturn||void 0!==Ae&&!M._readableState.autoDestroy?(M.off("readable",Se),ot()):ce.destroyer(M,null)}})).apply(this,arguments)}function Dt(M,G){if(0===G.length)return null;let fe;return G.objectMode?fe=G.buffer.shift():!M||M>=G.length?(fe=G.decoder?G.buffer.join(""):1===G.buffer.length?G.buffer.first():G.buffer.concat(G.length),G.buffer.clear()):fe=G.buffer.consume(M,G.decoder),fe}function Ne(M){const G=M._readableState;ae("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,B.nextTick(ke,G,M))}function ke(M,G){if(ae("endReadableNT",M.endEmitted,M.length),!M.errored&&!M.closeEmitted&&!M.endEmitted&&0===M.length)if(M.endEmitted=!0,G.emit("end"),G.writable&&!1===G.allowHalfOpen)B.nextTick(yt,G);else if(M.autoDestroy){const fe=G._writableState;(!fe||fe.autoDestroy&&(fe.finished||!1===fe.writable))&&G.destroy()}}function yt(M){M.writable&&!M.writableEnded&&!M.destroyed&&M.end()}let F;function D(){return void 0===F&&(F={}),F}z.prototype.destroy=ce.destroy,z.prototype._undestroy=ce.undestroy,z.prototype._destroy=function(M,G){G(M)},z.prototype[Q.captureRejectionSymbol]=function(M){this.destroy(M)},z.prototype.push=function(M,G){return ee(this,M,G,!1)},z.prototype.unshift=function(M,G){return ee(this,M,G,!0)},z.prototype.isPaused=function(){const M=this._readableState;return!0===M[I]||!1===M.flowing},z.prototype.setEncoding=function(M){const G=new L(M);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;const fe=this._readableState.buffer;let Se="";for(const Ae of fe)Se+=G.write(Ae);return fe.clear(),""!==Se&&fe.push(Se),this._readableState.length=Se.length,this},z.prototype.read=function(M){ae("read",M),void 0===M?M=NaN:b(M)||(M=S(M,10));const G=this._readableState,fe=M;if(M>G.highWaterMark&&(G.highWaterMark=function Me(M){if(M>1073741824)throw new d("size","<= 1GiB",M);return M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,++M}(M)),0!==M&&(G.emittedReadable=!1),0===M&&G.needReadable&&((0!==G.highWaterMark?G.length>=G.highWaterMark:G.length>0)||G.ended))return ae("read: emitReadable",G.length,G.ended),0===G.length&&G.ended?Ne(this):me(this),null;if(0===(M=Ze(M,G))&&G.ended)return 0===G.length&&Ne(this),null;let Ae,Se=G.needReadable;if(ae("need readable",Se),(0===G.length||G.length-M<G.highWaterMark)&&(Se=!0,ae("length less than watermark",Se)),G.ended||G.reading||G.destroyed||G.errored||!G.constructed)Se=!1,ae("reading, ended or constructing",Se);else if(Se){ae("do read"),G.reading=!0,G.sync=!0,0===G.length&&(G.needReadable=!0);try{this._read(G.highWaterMark)}catch(ot){v(this,ot)}G.sync=!1,G.reading||(M=Ze(fe,G))}return Ae=M>0?Dt(M,G):null,null===Ae?(G.needReadable=G.length<=G.highWaterMark,M=0):(G.length-=M,G.multiAwaitDrain?G.awaitDrainWriters.clear():G.awaitDrainWriters=null),0===G.length&&(G.ended||(G.needReadable=!0),fe!==M&&G.ended&&Ne(this)),null!==Ae&&!G.errorEmitted&&!G.closeEmitted&&(G.dataEmitted=!0,this.emit("data",Ae)),Ae},z.prototype._read=function(M){throw new s("_read()")},z.prototype.pipe=function(M,G){const fe=this,Se=this._readableState;1===Se.pipes.length&&(Se.multiAwaitDrain||(Se.multiAwaitDrain=!0,Se.awaitDrainWriters=new V(Se.awaitDrainWriters?[Se.awaitDrainWriters]:[]))),Se.pipes.push(M),ae("pipe count=%d opts=%j",Se.pipes.length,G);const ot=G&&!1===G.end||M===B.stdout||M===B.stderr?ut:_t;function _t(){ae("onend"),M.end()}Se.endEmitted?B.nextTick(ot):fe.once("end",ot),M.on("unpipe",function Gt(st,Zt){ae("onunpipe"),st===fe&&Zt&&!1===Zt.hasUnpiped&&(Zt.hasUnpiped=!0,function pn(){ae("cleanup"),M.removeListener("close",on),M.removeListener("finish",Qt),Bt&&M.removeListener("drain",Bt),M.removeListener("error",Mn),M.removeListener("unpipe",Gt),fe.removeListener("end",_t),fe.removeListener("end",ut),fe.removeListener("data",tr),en=!0,Bt&&Se.awaitDrainWriters&&(!M._writableState||M._writableState.needDrain)&&Bt()}())});let Bt,en=!1;function cn(){en||(1===Se.pipes.length&&Se.pipes[0]===M?(ae("false write response, pause",0),Se.awaitDrainWriters=M,Se.multiAwaitDrain=!1):Se.pipes.length>1&&Se.pipes.includes(M)&&(ae("false write response, pause",Se.awaitDrainWriters.size),Se.awaitDrainWriters.add(M)),fe.pause()),Bt||(Bt=function be(M,G){return function(){const Se=M._readableState;Se.awaitDrainWriters===G?(ae("pipeOnDrain",1),Se.awaitDrainWriters=null):Se.multiAwaitDrain&&(ae("pipeOnDrain",Se.awaitDrainWriters.size),Se.awaitDrainWriters.delete(G)),(!Se.awaitDrainWriters||0===Se.awaitDrainWriters.size)&&M.listenerCount("data")&&M.resume()}}(fe,M),M.on("drain",Bt))}function tr(st){ae("ondata");const Zt=M.write(st);ae("dest.write",Zt),!1===Zt&&cn()}function Mn(st){if(ae("onerror",st),ut(),M.removeListener("error",Mn),0===M.listenerCount("error")){const Zt=M._writableState||M._readableState;Zt&&!Zt.errorEmitted?v(M,st):M.emit("error",st)}}function on(){M.removeListener("finish",Qt),ut()}function Qt(){ae("onfinish"),M.removeListener("close",on),ut()}function ut(){ae("unpipe"),fe.unpipe(M)}return fe.on("data",tr),Y(M,"error",Mn),M.once("close",on),M.once("finish",Qt),M.emit("pipe",fe),!0===M.writableNeedDrain?Se.flowing&&cn():Se.flowing||(ae("pipe resume"),fe.resume()),M},z.prototype.unpipe=function(M){const G=this._readableState;if(0===G.pipes.length)return this;if(!M){const Ae=G.pipes;G.pipes=[],this.pause();for(let ot=0;ot<Ae.length;ot++)Ae[ot].emit("unpipe",this,{hasUnpiped:!1});return this}const Se=H(G.pipes,M);return-1===Se||(G.pipes.splice(Se,1),0===G.pipes.length&&this.pause(),M.emit("unpipe",this,{hasUnpiped:!1})),this},z.prototype.addListener=z.prototype.on=function(M,G){const fe=q.prototype.on.call(this,M,G),Se=this._readableState;return"data"===M?(Se.readableListening=this.listenerCount("readable")>0,!1!==Se.flowing&&this.resume()):"readable"===M&&!Se.endEmitted&&!Se.readableListening&&(Se.readableListening=Se.needReadable=!0,Se.flowing=!1,Se.emittedReadable=!1,ae("on readable",Se.length,Se.reading),Se.length?me(this):Se.reading||B.nextTick(ne,this)),fe},z.prototype.off=z.prototype.removeListener=function(M,G){const fe=q.prototype.removeListener.call(this,M,G);return"readable"===M&&B.nextTick(he,this),fe},z.prototype.removeAllListeners=function(M){const G=q.prototype.removeAllListeners.apply(this,arguments);return("readable"===M||void 0===M)&&B.nextTick(he,this),G},z.prototype.resume=function(){const M=this._readableState;return M.flowing||(ae("resume"),M.flowing=!M.readableListening,function te(M,G){G.resumeScheduled||(G.resumeScheduled=!0,B.nextTick(de,M,G))}(this,M)),M[I]=!1,this},z.prototype.pause=function(){return ae("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ae("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[I]=!0,this},z.prototype.wrap=function(M){let G=!1;M.on("data",Se=>{!this.push(Se)&&M.pause&&(G=!0,M.pause())}),M.on("end",()=>{this.push(null)}),M.on("error",Se=>{v(this,Se)}),M.on("close",()=>{this.destroy()}),M.on("destroy",()=>{this.destroy()}),this._read=()=>{G&&M.resume&&(G=!1,M.resume())};const fe=R(M);for(let Se=1;Se<fe.length;Se++){const Ae=fe[Se];void 0===this[Ae]&&"function"==typeof M[Ae]&&(this[Ae]=M[Ae].bind(M))}return this},z.prototype[U]=function(){return Ie(this)},z.prototype.iterator=function(M){return void 0!==M&&_(M,"options"),Ie(this,M)},P(z.prototype,{readable:{__proto__:null,get(){const M=this._readableState;return!(!M||!1===M.readable||M.destroyed||M.errorEmitted||M.endEmitted)},set(M){this._readableState&&(this._readableState.readable=!!M)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(M){this._readableState&&(this._readableState.destroyed=M)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),P(Z.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[I]},set(M){this[I]=!!M}}}),z._fromList=Dt,z.from=function(M,G){return x(z,M,G)},z.fromWeb=function(M,G){return D().newStreamReadableFromReadableStream(M,G)},z.toWeb=function(M,G){return D().newReadableStreamFromStreamReadable(M,G)},z.wrap=function(M,G){var fe,Se;return new z({objectMode:null===(fe=null!==(Se=M.readableObjectMode)&&void 0!==Se?Se:M.objectMode)||void 0===fe||fe,...G,destroy(Ae,ot){ce.destroyer(M,Ae),ot(Ae)}}).wrap(M)}},31081:($e,j,E)=>{"use strict";const{MathFloor:g,NumberIsInteger:w}=E(43856),{ERR_INVALID_ARG_VALUE:B}=E(65109).codes;function b(S){return S?16:16384}$e.exports={getHighWaterMark:function k(S,P,R,O){const A=function H(S,P,R){return null!=S.highWaterMark?S.highWaterMark:P?S[R]:null}(P,O,R);if(null!=A){if(!w(A)||A<0)throw new B(O?`options.${R}`:"options.highWaterMark",A);return g(A)}return b(S.objectMode)},getDefaultHighWaterMark:b}},66344:($e,j,E)=>{"use strict";const{ObjectSetPrototypeOf:g,Symbol:w}=E(43856);$e.exports=S;const{ERR_METHOD_NOT_IMPLEMENTED:B}=E(65109).codes,H=E(97464),{getHighWaterMark:b}=E(31081);g(S.prototype,H.prototype),g(S,H);const k=w("kCallback");function S(O){if(!(this instanceof S))return new S(O);const A=O?b(this,O,"readableHighWaterMark",!0):null;0===A&&(O={...O,highWaterMark:null,readableHighWaterMark:A,writableHighWaterMark:O.writableHighWaterMark||0}),H.call(this,O),this._readableState.sync=!1,this[k]=null,O&&("function"==typeof O.transform&&(this._transform=O.transform),"function"==typeof O.flush&&(this._flush=O.flush)),this.on("prefinish",R)}function P(O){"function"!=typeof this._flush||this.destroyed?(this.push(null),O&&O()):this._flush((A,V)=>{A?O?O(A):this.destroy(A):(null!=V&&this.push(V),this.push(null),O&&O())})}function R(){this._final!==P&&P.call(this)}S.prototype._final=P,S.prototype._transform=function(O,A,V){throw new B("_transform()")},S.prototype._write=function(O,A,V){const U=this._readableState,K=this._writableState,Q=U.length;this._transform(O,A,(q,Y)=>{q?V(q):(null!=Y&&this.push(Y),K.ended||Q===U.length||U.length<U.highWaterMark?V():this[k]=V)})},S.prototype._read=function(){if(this[k]){const O=this[k];this[k]=null,O()}}},51233:($e,j,E)=>{"use strict";const{Symbol:g,SymbolAsyncIterator:w,SymbolIterator:B,SymbolFor:H}=E(43856),b=g("kDestroyed"),k=g("kIsErrored"),S=g("kIsReadable"),P=g("kIsDisturbed"),R=H("nodejs.webstream.isClosedPromise"),O=H("nodejs.webstream.controllerErrorFunction");function A(v,Z=!1){var z;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||Z&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(z=v._readableState)||void 0===z?void 0:z.readable)||v._writableState&&!v._readableState)}function V(v){var Z;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(Z=v._writableState)||void 0===Z?void 0:Z.writable))}function K(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function Q(v){return!(!v||K(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function q(v){return!(!v||K(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function Y(v){return!(!v||K(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ie(v){if(!K(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[b]||null!=ee&&ee.destroyed)}function ae(v){if(!V(v))return null;if(!0===v.writableEnded)return!0;const Z=v._writableState;return(null==Z||!Z.errored)&&("boolean"!=typeof Z?.ended?null:Z.ended)}function pe(v,Z){if(!A(v))return null;const z=v._readableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.endEmitted?null:!!(z.endEmitted||!1===Z&&!0===z.ended&&0===z.length))}function ve(v){return v&&null!=v[S]?v[S]:"boolean"!=typeof v?.readable?null:!ie(v)&&A(v)&&v.readable&&!pe(v)}function De(v){return"boolean"!=typeof v?.writable?null:!ie(v)&&V(v)&&v.writable&&!ae(v)}function f(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function _(v){return"boolean"==typeof v._sent100&&f(v)}$e.exports={kDestroyed:b,isDisturbed:function x(v){var Z;return!(!v||!(null!==(Z=v[P])&&void 0!==Z?Z:v.readableDidRead||v.readableAborted))},kIsDisturbed:P,isErrored:function a(v){var Z,z,ee,le,we,Me,Ze,ge,me,Ue;return!(!v||!(null!==(Z=null!==(z=null!==(ee=null!==(le=null!==(we=null!==(Me=v[k])&&void 0!==Me?Me:v.readableErrored)&&void 0!==we?we:v.writableErrored)&&void 0!==le?le:null===(Ze=v._readableState)||void 0===Ze?void 0:Ze.errorEmitted)&&void 0!==ee?ee:null===(ge=v._writableState)||void 0===ge?void 0:ge.errorEmitted)&&void 0!==z?z:null===(me=v._readableState)||void 0===me?void 0:me.errored)&&void 0!==Z?Z:null!==(Ue=v._writableState)&&void 0!==Ue&&Ue.errored))},kIsErrored:k,isReadable:ve,kIsReadable:S,kIsClosedPromise:R,kControllerErrorFunction:O,isClosed:function h(v){if(!K(v))return null;if("boolean"==typeof v.closed)return v.closed;const Z=v._writableState,z=v._readableState;return"boolean"==typeof Z?.closed||"boolean"==typeof z?.closed?Z?.closed||z?.closed:"boolean"==typeof v._closed&&f(v)?v._closed:null},isDestroyed:ie,isDuplexNodeStream:function U(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,Z){return K(v)?!!ie(v)||!(!1!==Z?.readable&&ve(v)||!1!==Z?.writable&&De(v)):null},isIterable:function re(v,Z){return null!=v&&(!0===Z?"function"==typeof v[w]:!1===Z?"function"==typeof v[B]:"function"==typeof v[w]||"function"==typeof v[B])},isReadableNodeStream:A,isReadableStream:Q,isReadableEnded:function ce(v){if(!A(v))return null;if(!0===v.readableEnded)return!0;const Z=v._readableState;return!(!Z||Z.errored)&&("boolean"!=typeof Z?.ended?null:Z.ended)},isReadableFinished:pe,isReadableErrored:function d(v){var Z,z;return K(v)?v.readableErrored?v.readableErrored:null!==(Z=null===(z=v._readableState)||void 0===z?void 0:z.errored)&&void 0!==Z?Z:null:null},isNodeStream:K,isWebStream:function W(v){return Q(v)||q(v)||Y(v)},isWritable:De,isWritableNodeStream:V,isWritableStream:q,isWritableEnded:ae,isWritableFinished:function ue(v,Z){if(!V(v))return null;if(!0===v.writableFinished)return!0;const z=v._writableState;return(null==z||!z.errored)&&("boolean"!=typeof z?.finished?null:!!(z.finished||!1===Z&&!0===z.ended&&0===z.length))},isWritableErrored:function s(v){var Z,z;return K(v)?v.writableErrored?v.writableErrored:null!==(Z=null===(z=v._writableState)||void 0===z?void 0:z.errored)&&void 0!==Z?Z:null:null},isServerRequest:function I(v){var Z;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(Z=v.req)||void 0===Z?void 0:Z.upgradeOrConnect)},isServerResponse:_,willEmitClose:function L(v){if(!K(v))return null;const ee=v._writableState||v._readableState;return!ee&&_(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:Y}},40258:($e,j,E)=>{const g=E(40573),{ArrayPrototypeSlice:w,Error:B,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:b,ObjectDefineProperties:k,ObjectSetPrototypeOf:S,StringPrototypeToLowerCase:P,Symbol:R,SymbolHasInstance:O}=E(43856);$e.exports=_,_.WritableState=h;const{EventEmitter:A}=E(44356),V=E(2649).Stream,{Buffer:U}=E(89565),K=E(45078),{addAbortSignal:Q}=E(24785),{getHighWaterMark:q,getDefaultHighWaterMark:Y}=E(31081),{ERR_INVALID_ARG_TYPE:W,ERR_METHOD_NOT_IMPLEMENTED:re,ERR_MULTIPLE_CALLBACK:ie,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:ue,ERR_STREAM_ALREADY_FINISHED:ce,ERR_STREAM_NULL_VALUES:pe,ERR_STREAM_WRITE_AFTER_END:ve,ERR_UNKNOWN_ENCODING:De}=E(65109).codes,{errorOrDestroy:C}=K;function s(){}S(_.prototype,V.prototype),S(_,V);const d=R("kOnFinished");function h(be,he,ne){"boolean"!=typeof ne&&(ne=he instanceof E(97464)),this.objectMode=!(!be||!be.objectMode),ne&&(this.objectMode=this.objectMode||!(!be||!be.writableObjectMode)),this.highWaterMark=be?q(this,be,"writableHighWaterMark",ne):Y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(be&&!1===be.decodeStrings),this.defaultEncoding=be&&be.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,he),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,f(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!be||!1!==be.emitClose,this.autoDestroy=!be||!1!==be.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[d]=[]}function f(be){be.buffered=[],be.bufferedIndex=0,be.allBuffers=!0,be.allNoop=!0}function _(be){const he=this instanceof E(97464);if(!he&&!H(_,this))return new _(be);this._writableState=new h(be,this,he),be&&("function"==typeof be.write&&(this._write=be.write),"function"==typeof be.writev&&(this._writev=be.writev),"function"==typeof be.destroy&&(this._destroy=be.destroy),"function"==typeof be.final&&(this._final=be.final),"function"==typeof be.construct&&(this._construct=be.construct),be.signal&&Q(be.signal,this)),V.call(this,be),K.construct(this,()=>{const ne=this._writableState;ne.writing||le(this,ne),ge(this,ne)})}function I(be,he,ne,te){const de=be._writableState;if("function"==typeof ne)te=ne,ne=de.defaultEncoding;else{if(ne){if("buffer"!==ne&&!U.isEncoding(ne))throw new De(ne)}else ne=de.defaultEncoding;"function"!=typeof te&&(te=s)}if(null===he)throw new pe;if(!de.objectMode)if("string"==typeof he)!1!==de.decodeStrings&&(he=U.from(he,ne),ne="buffer");else if(he instanceof U)ne="buffer";else{if(!V._isUint8Array(he))throw new W("chunk",["string","Buffer","Uint8Array"],he);he=V._uint8ArrayToBuffer(he),ne="buffer"}let _e;return de.ending?_e=new ve:de.destroyed&&(_e=new ue("write")),_e?(g.nextTick(te,_e),C(be,_e,!0),_e):(de.pendingcb++,function L(be,he,ne,te,de){const _e=he.objectMode?1:ne.length;he.length+=_e;const Ie=he.length<he.highWaterMark;return Ie||(he.needDrain=!0),he.writing||he.corked||he.errored||!he.constructed?(he.buffered.push({chunk:ne,encoding:te,callback:de}),he.allBuffers&&"buffer"!==te&&(he.allBuffers=!1),he.allNoop&&de!==s&&(he.allNoop=!1)):(he.writelen=_e,he.writecb=de,he.writing=!0,he.sync=!0,be._write(ne,te,he.onwrite),he.sync=!1),Ie&&!he.errored&&!he.destroyed}(be,de,he,ne,te))}function x(be,he,ne,te,de,_e,Ie){he.writelen=te,he.writecb=Ie,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new ue("write")):ne?be._writev(de,he.onwrite):be._write(de,_e,he.onwrite),he.sync=!1}function a(be,he,ne,te){--he.pendingcb,te(ne),ee(he),C(be,ne)}function v(be,he){const ne=be._writableState,te=ne.sync,de=ne.writecb;"function"==typeof de?(ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0,he?(ne.errored||(ne.errored=he),be._readableState&&!be._readableState.errored&&(be._readableState.errored=he),te?g.nextTick(a,be,ne,he,de):a(be,ne,he,de)):(ne.buffered.length>ne.bufferedIndex&&le(be,ne),te?null!==ne.afterWriteTickInfo&&ne.afterWriteTickInfo.cb===de?ne.afterWriteTickInfo.count++:(ne.afterWriteTickInfo={count:1,cb:de,stream:be,state:ne},g.nextTick(Z,ne.afterWriteTickInfo)):z(be,ne,1,de))):C(be,new ie)}function Z({stream:be,state:he,count:ne,cb:te}){return he.afterWriteTickInfo=null,z(be,he,ne,te)}function z(be,he,ne,te){for(!he.ending&&!be.destroyed&&0===he.length&&he.needDrain&&(he.needDrain=!1,be.emit("drain"));ne-- >0;)he.pendingcb--,te();he.destroyed&&ee(he),ge(be,he)}function ee(be){if(be.writing)return;for(let de=be.bufferedIndex;de<be.buffered.length;++de){var he;const{chunk:_e,callback:Ie}=be.buffered[de];be.length-=be.objectMode?1:_e.length,Ie(null!==(he=be.errored)&&void 0!==he?he:new ue("write"))}const ne=be[d].splice(0);for(let de=0;de<ne.length;de++){var te;ne[de](null!==(te=be.errored)&&void 0!==te?te:new ue("end"))}f(be)}function le(be,he){if(he.corked||he.bufferProcessing||he.destroyed||!he.constructed)return;const{buffered:ne,bufferedIndex:te,objectMode:de}=he,_e=ne.length-te;if(!_e)return;let Ie=te;if(he.bufferProcessing=!0,_e>1&&be._writev){he.pendingcb-=_e-1;const He=he.allNoop?s:Dt=>{for(let Ne=Ie;Ne<ne.length;++Ne)ne[Ne].callback(Dt)},Ve=he.allNoop&&0===Ie?ne:w(ne,Ie);Ve.allBuffers=he.allBuffers,x(be,he,!0,he.length,Ve,"",He),f(he)}else{do{const{chunk:He,encoding:Ve,callback:Dt}=ne[Ie];ne[Ie++]=null,x(be,he,!1,de?1:He.length,He,Ve,Dt)}while(Ie<ne.length&&!he.writing);Ie===ne.length?f(he):Ie>256?(ne.splice(0,Ie),he.bufferedIndex=0):he.bufferedIndex=Ie}he.bufferProcessing=!1}function we(be){return be.ending&&!be.destroyed&&be.constructed&&0===be.length&&!be.errored&&0===be.buffered.length&&!be.finished&&!be.writing&&!be.errorEmitted&&!be.closeEmitted}function ge(be,he,ne){we(he)&&(function Ze(be,he){!he.prefinished&&!he.finalCalled&&("function"!=typeof be._final||he.destroyed?(he.prefinished=!0,be.emit("prefinish")):(he.finalCalled=!0,function Me(be,he){let ne=!1;function te(de){if(ne)C(be,de??ie());else if(ne=!0,he.pendingcb--,de){const _e=he[d].splice(0);for(let Ie=0;Ie<_e.length;Ie++)_e[Ie](de);C(be,de,he.sync)}else we(he)&&(he.prefinished=!0,be.emit("prefinish"),he.pendingcb++,g.nextTick(me,be,he))}he.sync=!0,he.pendingcb++;try{be._final(te)}catch(de){te(de)}he.sync=!1}(be,he)))}(be,he),0===he.pendingcb&&(ne?(he.pendingcb++,g.nextTick((te,de)=>{we(de)?me(te,de):de.pendingcb--},be,he)):we(he)&&(he.pendingcb++,me(be,he))))}function me(be,he){he.pendingcb--,he.finished=!0;const ne=he[d].splice(0);for(let te=0;te<ne.length;te++)ne[te]();if(be.emit("finish"),he.autoDestroy){const te=be._readableState;(!te||te.autoDestroy&&(te.endEmitted||!1===te.readable))&&be.destroy()}}h.prototype.getBuffer=function(){return w(this.buffered,this.bufferedIndex)},b(h.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),b(_,O,{__proto__:null,value:function(be){return!!H(this,be)||this===_&&be&&be._writableState instanceof h}}),_.prototype.pipe=function(){C(this,new ae)},_.prototype.write=function(be,he,ne){return!0===I(this,be,he,ne)},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){const be=this._writableState;be.corked&&(be.corked--,be.writing||le(this,be))},_.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=P(he)),!U.isEncoding(he))throw new De(he);return this._writableState.defaultEncoding=he,this},_.prototype._write=function(be,he,ne){if(!this._writev)throw new re("_write()");this._writev([{chunk:be,encoding:he}],ne)},_.prototype._writev=null,_.prototype.end=function(be,he,ne){const te=this._writableState;let de;if("function"==typeof be?(ne=be,be=null,he=null):"function"==typeof he&&(ne=he,he=null),null!=be){const _e=I(this,be,he);_e instanceof B&&(de=_e)}return te.corked&&(te.corked=1,this.uncork()),de||(te.errored||te.ending?te.finished?de=new ce("end"):te.destroyed&&(de=new ue("end")):(te.ending=!0,ge(this,te,!0),te.ended=!0)),"function"==typeof ne&&(de||te.finished?g.nextTick(ne,de):te[d].push(ne)),this},k(_.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(be){this._writableState&&(this._writableState.destroyed=be)}},writable:{__proto__:null,get(){const be=this._writableState;return!(!be||!1===be.writable||be.destroyed||be.errored||be.ending||be.ended)},set(be){this._writableState&&(this._writableState.writable=!!be)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const be=this._writableState;return!!be&&!be.destroyed&&!be.ending&&be.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Ue=K.destroy;let xe;function Ce(){return void 0===xe&&(xe={}),xe}_.prototype.destroy=function(be,he){const ne=this._writableState;return!ne.destroyed&&(ne.bufferedIndex<ne.buffered.length||ne[d].length)&&g.nextTick(ee,ne),Ue.call(this,be,he),this},_.prototype._undestroy=K.undestroy,_.prototype._destroy=function(be,he){he(be)},_.prototype[A.captureRejectionSymbol]=function(be){this.destroy(be)},_.fromWeb=function(be,he){return Ce().newStreamWritableFromWritableStream(be,he)},_.toWeb=function(be){return Ce().newWritableStreamFromStreamWritable(be)}},44323:($e,j,E)=>{"use strict";const{ArrayIsArray:g,ArrayPrototypeIncludes:w,ArrayPrototypeJoin:B,ArrayPrototypeMap:H,NumberIsInteger:b,NumberIsNaN:k,NumberMAX_SAFE_INTEGER:S,NumberMIN_SAFE_INTEGER:P,NumberParseInt:R,ObjectPrototypeHasOwnProperty:O,RegExpPrototypeExec:A,String:V,StringPrototypeToUpperCase:U,StringPrototypeTrim:K}=E(43856),{hideStackFrames:Q,codes:{ERR_SOCKET_BAD_PORT:q,ERR_INVALID_ARG_TYPE:Y,ERR_INVALID_ARG_VALUE:W,ERR_OUT_OF_RANGE:re,ERR_UNKNOWN_SIGNAL:ie}}=E(65109),{normalizeEncoding:ae}=E(55830),{isAsyncFunction:ue,isArrayBufferView:ce}=E(55830).types,pe={},C=/^[0-7]+$/,h=Q((_e,Ie,He=P,Ve=S)=>{if("number"!=typeof _e)throw new Y(Ie,"number",_e);if(!b(_e))throw new re(Ie,"an integer",_e);if(_e<He||_e>Ve)throw new re(Ie,`>= ${He} && <= ${Ve}`,_e)}),f=Q((_e,Ie,He=-2147483648,Ve=2147483647)=>{if("number"!=typeof _e)throw new Y(Ie,"number",_e);if(!b(_e))throw new re(Ie,"an integer",_e);if(_e<He||_e>Ve)throw new re(Ie,`>= ${He} && <= ${Ve}`,_e)}),_=Q((_e,Ie,He=!1)=>{if("number"!=typeof _e)throw new Y(Ie,"number",_e);if(!b(_e))throw new re(Ie,"an integer",_e);const Ve=He?1:0,Dt=4294967295;if(_e<Ve||_e>Dt)throw new re(Ie,`>= ${Ve} && <= ${Dt}`,_e)});function I(_e,Ie){if("string"!=typeof _e)throw new Y(Ie,"string",_e)}const x=Q((_e,Ie,He)=>{if(!w(He,_e)){const Dt="must be one of: "+B(H(He,Ne=>"string"==typeof Ne?`'${Ne}'`:V(Ne)),", ");throw new W(Ie,_e,Dt)}});function a(_e,Ie){if("boolean"!=typeof _e)throw new Y(Ie,"boolean",_e)}function v(_e,Ie,He){return null!=_e&&O(_e,Ie)?_e[Ie]:He}const Z=Q((_e,Ie,He=null)=>{const Ve=v(He,"allowArray",!1),Dt=v(He,"allowFunction",!1);if(!v(He,"nullable",!1)&&null===_e||!Ve&&g(_e)||"object"!=typeof _e&&(!Dt||"function"!=typeof _e))throw new Y(Ie,"Object",_e)}),z=Q((_e,Ie)=>{if(null!=_e&&"object"!=typeof _e&&"function"!=typeof _e)throw new Y(Ie,"a dictionary",_e)}),ee=Q((_e,Ie,He=0)=>{if(!g(_e))throw new Y(Ie,"Array",_e);if(_e.length<He)throw new W(Ie,_e,`must be longer than ${He}`)}),Ze=Q((_e,Ie="buffer")=>{if(!ce(_e))throw new Y(Ie,["Buffer","TypedArray","DataView"],_e)}),Ue=Q((_e,Ie)=>{if(void 0!==_e&&(null===_e||"object"!=typeof _e||!("aborted"in _e)))throw new Y(Ie,"AbortSignal",_e)}),xe=Q((_e,Ie)=>{if("function"!=typeof _e)throw new Y(Ie,"Function",_e)}),Ce=Q((_e,Ie)=>{if("function"!=typeof _e||ue(_e))throw new Y(Ie,"Function",_e)}),be=Q((_e,Ie)=>{if(void 0!==_e)throw new Y(Ie,"undefined",_e)}),ne=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function te(_e,Ie){if(typeof _e>"u"||!A(ne,_e))throw new W(Ie,_e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}$e.exports={isInt32:function ve(_e){return _e===(0|_e)},isUint32:function De(_e){return _e===_e>>>0},parseFileMode:function d(_e,Ie,He){if(typeof _e>"u"&&(_e=He),"string"==typeof _e){if(null===A(C,_e))throw new W(Ie,_e,"must be a 32-bit unsigned integer or an octal string");_e=R(_e,8)}return _(_e,Ie),_e},validateArray:ee,validateStringArray:function le(_e,Ie){ee(_e,Ie);for(let He=0;He<_e.length;He++)I(_e[He],`${Ie}[${He}]`)},validateBooleanArray:function we(_e,Ie){ee(_e,Ie);for(let He=0;He<_e.length;He++)a(_e[He],`${Ie}[${He}]`)},validateBoolean:a,validateBuffer:Ze,validateDictionary:z,validateEncoding:function ge(_e,Ie){const He=ae(Ie),Ve=_e.length;if("hex"===He&&Ve%2!=0)throw new W("encoding",Ie,`is invalid for data of length ${Ve}`)},validateFunction:xe,validateInt32:f,validateInteger:h,validateNumber:function L(_e,Ie,He=void 0,Ve){if("number"!=typeof _e)throw new Y(Ie,"number",_e);if(null!=He&&_e<He||null!=Ve&&_e>Ve||(null!=He||null!=Ve)&&k(_e))throw new re(Ie,`${null!=He?`>= ${He}`:""}${null!=He&&null!=Ve?" && ":""}${null!=Ve?`<= ${Ve}`:""}`,_e)},validateObject:Z,validateOneOf:x,validatePlainFunction:Ce,validatePort:function me(_e,Ie="Port",He=!0){if("number"!=typeof _e&&"string"!=typeof _e||"string"==typeof _e&&0===K(_e).length||+_e!=+_e>>>0||_e>65535||0===_e&&!He)throw new q(Ie,_e,He);return 0|_e},validateSignalName:function Me(_e,Ie="signal"){if(I(_e,Ie),void 0===pe[_e])throw void 0!==pe[U(_e)]?new ie(_e+" (signals must use all capital letters)"):new ie(_e)},validateString:I,validateUint32:_,validateUndefined:be,validateUnion:function he(_e,Ie,He){if(!w(He,_e))throw new Y(Ie,`('${B(He,"|")}')`,_e)},validateAbortSignal:Ue,validateLinkHeaderValue:function de(_e){if("string"==typeof _e)return te(_e,"hints"),_e;if(g(_e)){const Ie=_e.length;let He="";if(0===Ie)return He;for(let Ve=0;Ve<Ie;Ve++){const Dt=_e[Ve];te(Dt,"hints"),He+=Dt,Ve!==Ie-1&&(He+=", ")}return He}throw new W("hints",_e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:($e,j,E)=>{"use strict";const g=E(3052),w=E(19905),B=g.Readable.destroy;$e.exports=g.Readable,$e.exports._uint8ArrayToBuffer=g._uint8ArrayToBuffer,$e.exports._isUint8Array=g._isUint8Array,$e.exports.isDisturbed=g.isDisturbed,$e.exports.isErrored=g.isErrored,$e.exports.isReadable=g.isReadable,$e.exports.Readable=g.Readable,$e.exports.Writable=g.Writable,$e.exports.Duplex=g.Duplex,$e.exports.Transform=g.Transform,$e.exports.PassThrough=g.PassThrough,$e.exports.addAbortSignal=g.addAbortSignal,$e.exports.finished=g.finished,$e.exports.destroy=g.destroy,$e.exports.destroy=B,$e.exports.pipeline=g.pipeline,$e.exports.compose=g.compose,Object.defineProperty(g,"promises",{configurable:!0,enumerable:!0,get:()=>w}),$e.exports.Stream=g.Stream,$e.exports.default=$e.exports},65109:($e,j,E)=>{"use strict";const{format:g,inspect:w,AggregateError:B}=E(55830),H=globalThis.AggregateError||B,b=Symbol("kIsNodeError"),k=["string","function","number","object","Function","Object","boolean","bigint","symbol"],S=/^([A-Z][a-z0-9]*)+$/,R={};function O(Y,W){if(!Y)throw new R.ERR_INTERNAL_ASSERTION(W)}function A(Y){let W="",re=Y.length;const ie="-"===Y[0]?1:0;for(;re>=ie+4;re-=3)W=`_${Y.slice(re-3,re)}${W}`;return`${Y.slice(0,re)}${W}`}function U(Y,W,re){re||(re=Error);class ie extends re{constructor(...ue){super(function V(Y,W,re){if("function"==typeof W)return O(W.length<=re.length,`Code: ${Y}; The provided arguments length (${re.length}) does not match the required ones (${W.length}).`),W(...re);const ie=(W.match(/%[dfijoOs]/g)||[]).length;return O(ie===re.length,`Code: ${Y}; The provided arguments length (${re.length}) does not match the required ones (${ie}).`),0===re.length?W:g(W,...re)}(Y,W,ue))}toString(){return`${this.name} [${Y}]: ${this.message}`}}Object.defineProperties(ie.prototype,{name:{value:re.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ie.prototype.code=Y,ie.prototype[b]=!0,R[Y]=ie}function K(Y){return Object.defineProperty(Y,"name",{value:"__node_internal_"+Y.name}),Y}class q extends Error{constructor(W="The operation was aborted",re=void 0){if(void 0!==re&&"object"!=typeof re)throw new R.ERR_INVALID_ARG_TYPE("options","Object",re);super(W,re),this.code="ABORT_ERR",this.name="AbortError"}}U("ERR_ASSERTION","%s",Error),U("ERR_INVALID_ARG_TYPE",(Y,W,re)=>{O("string"==typeof Y,"'name' must be a string"),Array.isArray(W)||(W=[W]);let ie="The ";Y.endsWith(" argument")?ie+=`${Y} `:ie+=`"${Y}" ${Y.includes(".")?"property":"argument"} `,ie+="must be ";const ae=[],ue=[],ce=[];for(const ve of W)O("string"==typeof ve,"All expected entries have to be of type string"),k.includes(ve)?ae.push(ve.toLowerCase()):S.test(ve)?ue.push(ve):(O("object"!==ve,'The value "object" should be written as "Object"'),ce.push(ve));if(ue.length>0){const ve=ae.indexOf("object");-1!==ve&&(ae.splice(ae,ve,1),ue.push("Object"))}if(ae.length>0){switch(ae.length){case 1:ie+=`of type ${ae[0]}`;break;case 2:ie+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const ve=ae.pop();ie+=`one of type ${ae.join(", ")}, or ${ve}`}}(ue.length>0||ce.length>0)&&(ie+=" or ")}if(ue.length>0){switch(ue.length){case 1:ie+=`an instance of ${ue[0]}`;break;case 2:ie+=`an instance of ${ue[0]} or ${ue[1]}`;break;default:{const ve=ue.pop();ie+=`an instance of ${ue.join(", ")}, or ${ve}`}}ce.length>0&&(ie+=" or ")}switch(ce.length){case 0:break;case 1:ce[0].toLowerCase()!==ce[0]&&(ie+="an "),ie+=`${ce[0]}`;break;case 2:ie+=`one of ${ce[0]} or ${ce[1]}`;break;default:{const ve=ce.pop();ie+=`one of ${ce.join(", ")}, or ${ve}`}}if(null==re)ie+=`. Received ${re}`;else if("function"==typeof re&&re.name)ie+=`. Received function ${re.name}`;else if("object"==typeof re){var pe;null!==(pe=re.constructor)&&void 0!==pe&&pe.name?ie+=`. Received an instance of ${re.constructor.name}`:ie+=`. Received ${w(re,{depth:-1})}`}else{let ve=w(re,{colors:!1});ve.length>25&&(ve=`${ve.slice(0,25)}...`),ie+=`. Received type ${typeof re} (${ve})`}return ie},TypeError),U("ERR_INVALID_ARG_VALUE",(Y,W,re="is invalid")=>{let ie=w(W);return ie.length>128&&(ie=ie.slice(0,128)+"..."),`The ${Y.includes(".")?"property":"argument"} '${Y}' ${re}. Received ${ie}`},TypeError),U("ERR_INVALID_RETURN_VALUE",(Y,W,re)=>{var ie;return`Expected ${Y} to be returned from the "${W}" function but got ${null!=re&&null!==(ie=re.constructor)&&void 0!==ie&&ie.name?`instance of ${re.constructor.name}`:"type "+typeof re}.`},TypeError),U("ERR_MISSING_ARGS",(...Y)=>{let W;O(Y.length>0,"At least one arg needs to be specified");const re=Y.length;switch(Y=(Array.isArray(Y)?Y:[Y]).map(ie=>`"${ie}"`).join(" or "),re){case 1:W+=`The ${Y[0]} argument`;break;case 2:W+=`The ${Y[0]} and ${Y[1]} arguments`;break;default:{const ie=Y.pop();W+=`The ${Y.join(", ")}, and ${ie} arguments`}}return`${W} must be specified`},TypeError),U("ERR_OUT_OF_RANGE",(Y,W,re)=>{let ie;return O(W,'Missing "range" argument'),Number.isInteger(re)&&Math.abs(re)>2**32?ie=A(String(re)):"bigint"==typeof re?(ie=String(re),(re>2n**32n||re<-(2n**32n))&&(ie=A(ie)),ie+="n"):ie=w(re),`The value of "${Y}" is out of range. It must be ${W}. Received ${ie}`},RangeError),U("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),U("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),U("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),U("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),U("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),U("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),U("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),U("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),U("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),U("ERR_STREAM_WRITE_AFTER_END","write after end",Error),U("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),$e.exports={AbortError:q,aggregateTwoErrors:K(function Q(Y,W){if(Y&&W&&Y!==W){if(Array.isArray(W.errors))return W.errors.push(Y),W;const re=new H([W,Y],W.message);return re.code=W.code,re}return Y||W}),hideStackFrames:K,codes:R}},43856:$e=>{"use strict";$e.exports={ArrayIsArray:j=>Array.isArray(j),ArrayPrototypeIncludes:(j,E)=>j.includes(E),ArrayPrototypeIndexOf:(j,E)=>j.indexOf(E),ArrayPrototypeJoin:(j,E)=>j.join(E),ArrayPrototypeMap:(j,E)=>j.map(E),ArrayPrototypePop:(j,E)=>j.pop(E),ArrayPrototypePush:(j,E)=>j.push(E),ArrayPrototypeSlice:(j,E,g)=>j.slice(E,g),Error,FunctionPrototypeCall:(j,E,...g)=>j.call(E,...g),FunctionPrototypeSymbolHasInstance:(j,E)=>Function.prototype[Symbol.hasInstance].call(j,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(j,E)=>Object.defineProperties(j,E),ObjectDefineProperty:(j,E,g)=>Object.defineProperty(j,E,g),ObjectGetOwnPropertyDescriptor:(j,E)=>Object.getOwnPropertyDescriptor(j,E),ObjectKeys:j=>Object.keys(j),ObjectSetPrototypeOf:(j,E)=>Object.setPrototypeOf(j,E),Promise,PromisePrototypeCatch:(j,E)=>j.catch(E),PromisePrototypeThen:(j,E,g)=>j.then(E,g),PromiseReject:j=>Promise.reject(j),ReflectApply:Reflect.apply,RegExpPrototypeTest:(j,E)=>j.test(E),SafeSet:Set,String,StringPrototypeSlice:(j,E,g)=>j.slice(E,g),StringPrototypeToLowerCase:j=>j.toLowerCase(),StringPrototypeToUpperCase:j=>j.toUpperCase(),StringPrototypeTrim:j=>j.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(j,E,g)=>j.set(E,g),Uint8Array}},55830:($e,j,E)=>{"use strict";var g=E(29293).default;const w=E(89565),B=Object.getPrototypeOf(g(function*(){})).constructor,H=globalThis.Blob||w.Blob,b=typeof H<"u"?function(P){return P instanceof H}:function(P){return!1};class k extends Error{constructor(P){if(!Array.isArray(P))throw new TypeError("Expected input to be an Array, got "+typeof P);let R="";for(let O=0;O<P.length;O++)R+=`    ${P[O].stack}\n`;super(R),this.name="AggregateError",this.errors=P}}$e.exports={AggregateError:k,kEmptyObject:Object.freeze({}),once(S){let P=!1;return function(...R){P||(P=!0,S.apply(this,R))}},createDeferredPromise:function(){let S,P;return{promise:new Promise((O,A)=>{S=O,P=A}),resolve:S,reject:P}},promisify:S=>new Promise((P,R)=>{S((O,...A)=>O?R(O):P(...A))}),debuglog:()=>function(){},format:(S,...P)=>S.replace(/%([sdifj])/g,function(...[R,O]){const A=P.shift();return"f"===O?A.toFixed(6):"j"===O?JSON.stringify(A):"s"===O&&"object"==typeof A?`${A.constructor!==Object?A.constructor.name:""} {}`.trim():A.toString()}),inspect(S){switch(typeof S){case"string":if(S.includes("'")){if(!S.includes('"'))return`"${S}"`;if(!S.includes("`")&&!S.includes("${"))return`\`${S}\``}return`'${S}'`;case"number":return isNaN(S)?"NaN":Object.is(S,-0)?String(S):S;case"bigint":return`${String(S)}n`;case"boolean":case"undefined":return String(S);case"object":return"{}"}},types:{isAsyncFunction:S=>S instanceof B,isArrayBufferView:S=>ArrayBuffer.isView(S)},isBlob:b},$e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:($e,j,E)=>{const{Buffer:g}=E(89565),{ObjectDefineProperty:w,ObjectKeys:B,ReflectApply:H}=E(43856),{promisify:{custom:b}}=E(55830),{streamReturningOperators:k,promiseReturningOperators:S}=E(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:P}}=E(65109),R=E(5464),{pipeline:O}=E(96208),{destroyer:A}=E(45078),V=E(44268),K=E(19905),Q=E(51233),q=$e.exports=E(2649).Stream;q.isDisturbed=Q.isDisturbed,q.isErrored=Q.isErrored,q.isReadable=Q.isReadable,q.Readable=E(29710);for(const re of B(k)){let ae=function(...ue){if(new.target)throw P();return q.Readable.from(H(ie,this,ue))};const ie=k[re];w(ae,"name",{__proto__:null,value:ie.name}),w(ae,"length",{__proto__:null,value:ie.length}),w(q.Readable.prototype,re,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}for(const re of B(S)){let ae=function(...ce){if(new.target)throw P();return H(ie,this,ce)};const ie=S[re];w(ae,"name",{__proto__:null,value:ie.name}),w(ae,"length",{__proto__:null,value:ie.length}),w(q.Readable.prototype,re,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}q.Writable=E(40258),q.Duplex=E(97464),q.Transform=E(66344),q.PassThrough=E(70874),q.pipeline=O;const{addAbortSignal:Y}=E(24785);q.addAbortSignal=Y,q.finished=V,q.destroy=A,q.compose=R,w(q,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>K}),w(O,b,{__proto__:null,enumerable:!0,get:()=>K.pipeline}),w(V,b,{__proto__:null,enumerable:!0,get:()=>K.finished}),q.Stream=q,q._isUint8Array=function(ie){return ie instanceof Uint8Array},q._uint8ArrayToBuffer=function(ie){return g.from(ie.buffer,ie.byteOffset,ie.byteLength)}},19905:($e,j,E)=>{"use strict";const{ArrayPrototypePop:g,Promise:w}=E(43856),{isIterable:B,isNodeStream:H,isWebStream:b}=E(51233),{pipelineImpl:k}=E(96208),{finished:S}=E(44268);E(3052),$e.exports={finished:S,pipeline:function P(...R){return new w((O,A)=>{let V,U;const K=R[R.length-1];if(K&&"object"==typeof K&&!H(K)&&!B(K)&&!b(K)){const Q=g(R);V=Q.signal,U=Q.end}k(R,(Q,q)=>{Q?A(Q):O(q)},{signal:V,end:U})})}}},37477:($e,j,E)=>{E(23963)},62108:$e=>{var j=1e3,E=60*j,g=60*E,w=24*g,B=7*w;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*w;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=w?P(R,O,w,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=w?Math.round(R/w)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},13138:($e,j,E)=>{j.Level=E(23963).BrowserLevel},64284:$e=>{var j=1e3,E=60*j,g=60*E,w=24*g,B=7*w;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*w;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=w?P(R,O,w,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=w?Math.round(R/w)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},67449:($e,j,E)=>{j.Level=E(23963).BrowserLevel},97829:$e=>{var j=1e3,E=60*j,g=60*E,w=24*g,B=7*w;function P(R,O,A,V){var U=O>=1.5*A;return Math.round(R/A)+" "+V+(U?"s":"")}$e.exports=function(R,O){O=O||{};var A=typeof R;if("string"===A&&R.length>0)return function b(R){if(!((R=String(R)).length>100)){var O=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(O){var A=parseFloat(O[1]);switch((O[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*B;case"days":case"day":case"d":return A*w;case"hours":case"hour":case"hrs":case"hr":case"h":return A*g;case"minutes":case"minute":case"mins":case"min":case"m":return A*E;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if("number"===A&&isFinite(R))return O.long?function S(R){var O=Math.abs(R);return O>=w?P(R,O,w,"day"):O>=g?P(R,O,g,"hour"):O>=E?P(R,O,E,"minute"):O>=j?P(R,O,j,"second"):R+" ms"}(R):function k(R){var O=Math.abs(R);return O>=w?Math.round(R/w)+"d":O>=g?Math.round(R/g)+"h":O>=E?Math.round(R/E)+"m":O>=j?Math.round(R/j)+"s":R+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},9465:$e=>{"use strict";const{AbortController:j,AbortSignal:E}=typeof self<"u"?self:typeof window<"u"?window:void 0;$e.exports=j,$e.exports.AbortSignal=E,$e.exports.default=j},91463:($e,j,E)=>{"use strict";const{fromCallback:g}=E(42381),w=E(61747),{getCallback:B,getOptions:H}=E(10475),b=Symbol("promise"),k=Symbol("status"),S=Symbol("operations"),P=Symbol("finishClose"),R=Symbol("closeCallbacks");j.AbstractChainedBatch=class O{constructor(V){if("object"!=typeof V||null===V)throw new TypeError("The first argument must be an abstract-level database, received "+(null===V?"null":typeof V));this[S]=[],this[R]=[],this[k]="open",this[P]=this[P].bind(this),this.db=V,this.db.attachResource(this),this.nextTick=V.nextTick}get length(){return this[S].length}put(V,U,K){if("open"!==this[k])throw new w("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const Q=this.db._checkKey(V)||this.db._checkValue(U);if(Q)throw Q;const q=K&&null!=K.sublevel?K.sublevel:this.db,Y=K,W=q.keyEncoding(K&&K.keyEncoding),re=q.valueEncoding(K&&K.valueEncoding),ie=W.format;K={...K,keyEncoding:ie,valueEncoding:re.format},q!==this.db&&(K.sublevel=null);const ae=q.prefixKey(W.encode(V),ie),ue=re.encode(U);return this._put(ae,ue,K),this[S].push({...Y,type:"put",key:V,value:U}),this}_put(V,U,K){}del(V,U){if("open"!==this[k])throw new w("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const K=this.db._checkKey(V);if(K)throw K;const Q=U&&null!=U.sublevel?U.sublevel:this.db,q=U,Y=Q.keyEncoding(U&&U.keyEncoding),W=Y.format;return U={...U,keyEncoding:W},Q!==this.db&&(U.sublevel=null),this._del(Q.prefixKey(Y.encode(V),W),U),this[S].push({...q,type:"del",key:V}),this}_del(V,U){}clear(){if("open"!==this[k])throw new w("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[S]=[],this}_clear(){}write(V,U){return U=B(V,U),U=g(U,b),V=H(V),"open"!==this[k]?this.nextTick(U,new w("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(U):(this[k]="writing",this._write(V,K=>{this[k]="closing",this[R].push(()=>U(K)),K||this.db.emit("batch",this[S]),this._close(this[P])})),U[b]}_write(V,U){}close(V){return V=g(V,b),"closing"===this[k]?this[R].push(V):"closed"===this[k]?this.nextTick(V):(this[R].push(V),"writing"!==this[k]&&(this[k]="closing",this._close(this[P]))),V[b]}_close(V){this.nextTick(V)}[P](){this[k]="closed",this.db.detachResource(this);const V=this[R];this[R]=[];for(const U of V)U()}}},63294:($e,j,E)=>{"use strict";var g=E(53344).default,w=E(42958).default;const{fromCallback:B}=E(42381),H=E(61747),{getOptions:b,getCallback:k}=E(10475),S=Symbol("promise"),P=Symbol("callback"),R=Symbol("working"),O=Symbol("handleOne"),A=Symbol("handleMany"),V=Symbol("autoClose"),U=Symbol("finishWork"),K=Symbol("returnMany"),Q=Symbol("closing"),q=Symbol("handleClose"),Y=Symbol("closed"),W=Symbol("closeCallbacks"),re=Symbol("keyEncoding"),ie=Symbol("valueEncoding"),ae=Symbol("abortOnClose"),ue=Symbol("legacy"),ce=Symbol("keys"),pe=Symbol("values"),ve=Symbol("limit"),De=Symbol("count"),C=Object.freeze({}),s=()=>{};let d=!1;class h{constructor(a,v,Z){if("object"!=typeof a||null===a)throw new TypeError("The first argument must be an abstract-level database, received "+(null===a?"null":typeof a));if("object"!=typeof v||null===v)throw new TypeError("The second argument must be an options object");this[Y]=!1,this[W]=[],this[R]=!1,this[Q]=!1,this[V]=!1,this[P]=null,this[O]=this[O].bind(this),this[A]=this[A].bind(this),this[q]=this[q].bind(this),this[re]=v[re],this[ie]=v[ie],this[ue]=Z,this[ve]=Number.isInteger(v.limit)&&v.limit>=0?v.limit:1/0,this[De]=0,this[ae]=!!v.abortOnClose,this.db=a,this.db.attachResource(this),this.nextTick=a.nextTick}get count(){return this[De]}get limit(){return this[ve]}next(a){let v;if(void 0===a)v=new Promise((Z,z)=>{a=(ee,le,we)=>{ee?z(ee):this[ue]?void 0===le&&void 0===we?Z():Z([le,we]):Z(le)}});else if("function"!=typeof a)throw new TypeError("Callback must be a function");return this[Q]?this.nextTick(a,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[R]?this.nextTick(a,new H("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[R]=!0,this[P]=a,this[De]>=this[ve]?this.nextTick(this[O],null):this._next(this[O])),v}_next(a){this.nextTick(a)}nextv(a,v,Z){return Z=k(v,Z),Z=B(Z,S),v=b(v,C),Number.isInteger(a)?(this[Q]?this.nextTick(Z,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[R]?this.nextTick(Z,new H("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(a<1&&(a=1),this[ve]<1/0&&(a=Math.min(a,this[ve]-this[De])),this[R]=!0,this[P]=Z,a<=0?this.nextTick(this[A],null,[]):this._nextv(a,v,this[A])),Z[S]):(this.nextTick(Z,new TypeError("The first argument 'size' must be an integer")),Z[S])}_nextv(a,v,Z){const z=[],ee=(le,we,Me)=>le?Z(le):(this[ue]?void 0===we&&void 0===Me:void 0===we)?Z(null,z):(z.push(this[ue]?[we,Me]:we),void(z.length===a?Z(null,z):this._next(ee)));this._next(ee)}all(a,v){return v=k(a,v),v=B(v,S),a=b(a,C),this[Q]?this.nextTick(v,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[R]?this.nextTick(v,new H("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[R]=!0,this[P]=v,this[V]=!0,this[De]>=this[ve]?this.nextTick(this[A],null,[]):this._all(a,this[A])),v[S]}_all(a,v){let Z=this[De];const z=[],ee=()=>{const we=this[ve]<1/0?Math.min(1e3,this[ve]-Z):1e3;we<=0?this.nextTick(v,null,z):this._nextv(we,C,le)},le=(we,Me)=>{we?v(we):0===Me.length?v(null,z):(z.push.apply(z,Me),Z+=Me.length,ee())};ee()}[U](){const a=this[P];return this[ae]&&null===a?s:(this[R]=!1,this[P]=null,this[Q]&&this._close(this[q]),a)}[K](a,v,Z){this[V]?this.close(a.bind(null,v,Z)):a(v,Z)}seek(a,v){if(v=b(v,C),!this[Q]){if(this[R])throw new H("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const Z=this.db.keyEncoding(v.keyEncoding||this[re]),z=Z.format;v.keyEncoding!==z&&(v={...v,keyEncoding:z});const ee=this.db.prefixKey(Z.encode(a),z);this._seek(ee,v)}}}_seek(a,v){throw new H("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(a){return a=B(a,S),this[Y]?this.nextTick(a):this[Q]?this[W].push(a):(this[Q]=!0,this[W].push(a),this[R]?this[ae]&&this[U]()(new H("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[q])),a[S]}_close(a){this.nextTick(a)}[q](){this[Y]=!0,this.db.detachResource(this);const a=this[W];this[W]=[];for(const v of a)v()}[Symbol.asyncIterator](){var a=this;return w(function*(){try{let v;for(;void 0!==(v=yield g(a.next()));)yield v}finally{a[Y]||(yield g(a.close()))}})()}}class f extends h{constructor(a,v){super(a,v,!0),this[ce]=!1!==v.keys,this[pe]=!1!==v.values}[O](a,v,Z){const z=this[U]();if(a)return z(a);try{v=this[ce]&&void 0!==v?this[re].decode(v):void 0,Z=this[pe]&&void 0!==Z?this[ie].decode(Z):void 0}catch(ee){return z(new L("entry",ee))}void 0===v&&void 0===Z||this[De]++,z(null,v,Z)}[A](a,v){const Z=this[U]();if(a)return this[K](Z,a);try{for(const z of v){const ee=z[0],le=z[1];z[0]=this[ce]&&void 0!==ee?this[re].decode(ee):void 0,z[1]=this[pe]&&void 0!==le?this[ie].decode(le):void 0}}catch(z){return this[K](Z,new L("entries",z))}this[De]+=v.length,this[K](Z,null,v)}end(a){return!d&&typeof console<"u"&&(d=!0,console.warn(new H("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(a)}}class L extends H{constructor(a,v){super(`Iterator could not decode ${a}`,{code:"LEVEL_DECODE_ERROR",cause:v})}}for(const x of["_ended property","_nexting property","_end method"])Object.defineProperty(f.prototype,x.split(" ")[0],{get(){throw new H(`The ${x} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new H(`The ${x} has been removed`,{code:"LEVEL_LEGACY"})}});f.keyEncoding=re,f.valueEncoding=ie,j.AbstractIterator=f,j.AbstractKeyIterator=class _ extends h{constructor(a,v){super(a,v,!1)}[O](a,v){const Z=this[U]();if(a)return Z(a);try{v=void 0!==v?this[re].decode(v):void 0}catch(z){return Z(new L("key",z))}void 0!==v&&this[De]++,Z(null,v)}[A](a,v){const Z=this[U]();if(a)return this[K](Z,a);try{for(let z=0;z<v.length;z++){const ee=v[z];v[z]=void 0!==ee?this[re].decode(ee):void 0}}catch(z){return this[K](Z,new L("keys",z))}this[De]+=v.length,this[K](Z,null,v)}},j.AbstractValueIterator=class I extends h{constructor(a,v){super(a,v,!1)}[O](a,v){const Z=this[U]();if(a)return Z(a);try{v=void 0!==v?this[ie].decode(v):void 0}catch(z){return Z(new L("value",z))}void 0!==v&&this[De]++,Z(null,v)}[A](a,v){const Z=this[U]();if(a)return this[K](Z,a);try{for(let z=0;z<v.length;z++){const ee=v[z];v[z]=void 0!==ee?this[ie].decode(ee):void 0}}catch(z){return this[K](Z,new L("values",z))}this[De]+=v.length,this[K](Z,null,v)}}},83764:($e,j,E)=>{"use strict";const{supports:g}=E(89061),{Transcoder:w}=E(25006),{EventEmitter:B}=E(44356),{fromCallback:H}=E(42381),b=E(61747),{AbstractIterator:k}=E(63294),{DefaultKeyIterator:S,DefaultValueIterator:P}=E(48335),{DeferredIterator:R,DeferredKeyIterator:O,DeferredValueIterator:A}=E(92745),{DefaultChainedBatch:V}=E(45776),{getCallback:U,getOptions:K}=E(10475),Q=E(4287),q=Symbol("promise"),Y=Symbol("landed"),W=Symbol("resources"),re=Symbol("closeResources"),ie=Symbol("operations"),ae=Symbol("undefer"),ue=Symbol("deferOpen"),ce=Symbol("options"),pe=Symbol("status"),ve=Symbol("defaultOptions"),De=Symbol("transcoder"),C=Symbol("keyEncoding"),s=Symbol("valueEncoding"),d=()=>{};class h extends B{constructor(x,a){if(super(),"object"!=typeof x||null===x)throw new TypeError("The first argument 'manifest' must be an object");a=K(a);const{keyEncoding:v,valueEncoding:Z,passive:z,...ee}=a;this[W]=new Set,this[ie]=[],this[ue]=!0,this[ce]=ee,this[pe]="opening",this.supports=g(x,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==x.snapshots,permanence:!1!==x.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:x.encodings||{},events:Object.assign({},x.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[De]=new w(I(this)),this[C]=this[De].encoding(v||"utf8"),this[s]=this[De].encoding(Z||"utf8");for(const le of this[De].encodings())this.supports.encodings[le.commonName]||(this.supports.encodings[le.commonName]=!0);this[ve]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[C].commonName,valueEncoding:this[s].commonName}),key:Object.freeze({keyEncoding:this[C].commonName})},this.nextTick(()=>{this[ue]&&this.open({passive:!1},d)})}get status(){return this[pe]}keyEncoding(x){return this[De].encoding(x??this[C])}valueEncoding(x){return this[De].encoding(x??this[s])}open(x,a){a=U(x,a),a=H(a,q),(x={...this[ce],...K(x)}).createIfMissing=!1!==x.createIfMissing,x.errorIfExists=!!x.errorIfExists;const v=Z=>{"closing"===this[pe]||"opening"===this[pe]?this.once(Y,Z?()=>v(Z):v):"open"!==this[pe]?a(new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:Z})):a()};return x.passive?"opening"===this[pe]?this.once(Y,v):this.nextTick(v):"closed"===this[pe]||this[ue]?(this[ue]=!1,this[pe]="opening",this.emit("opening"),this._open(x,Z=>{if(Z)return this[pe]="closed",this[re](()=>{this.emit(Y),v(Z)}),void this[ae]();this[pe]="open",this[ae](),this.emit(Y),"open"===this[pe]&&this.emit("open"),"open"===this[pe]&&this.emit("ready"),v()})):"open"===this[pe]?this.nextTick(v):this.once(Y,()=>this.open(x,a)),a[q]}_open(x,a){this.nextTick(a)}close(x){x=H(x,q);const a=v=>{"opening"===this[pe]||"closing"===this[pe]?this.once(Y,v?a(v):a):"closed"!==this[pe]?x(new b("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:v})):x()};if("open"===this[pe]){this[pe]="closing",this.emit("closing");const v=Z=>{this[pe]="open",this[ae](),this.emit(Y),a(Z)};this[re](()=>{this._close(Z=>{if(Z)return v(Z);this[pe]="closed",this[ae](),this.emit(Y),"closed"===this[pe]&&this.emit("closed"),a()})})}else"closed"===this[pe]?this.nextTick(a):this.once(Y,()=>this.close(x));return x[q]}[re](x){if(0===this[W].size)return this.nextTick(x);let a=this[W].size,v=!0;const Z=()=>{0==--a&&(v?this.nextTick(x):x())};for(const z of this[W])z.close(Z);v=!1,this[W].clear()}_close(x){this.nextTick(x)}get(x,a,v){if(v=U(a,v),v=H(v,q),a=K(a,this[ve].entry),"opening"===this[pe])return this.defer(()=>this.get(x,a,v)),v[q];if(_(this,v))return v[q];const Z=this._checkKey(x);if(Z)return this.nextTick(v,Z),v[q];const z=this.keyEncoding(a.keyEncoding),ee=this.valueEncoding(a.valueEncoding),le=z.format,we=ee.format;return(a.keyEncoding!==le||a.valueEncoding!==we)&&(a=Object.assign({},a,{keyEncoding:le,valueEncoding:we})),this._get(this.prefixKey(z.encode(x),le),a,(Me,Ze)=>{if(Me)return("LEVEL_NOT_FOUND"===Me.code||Me.notFound||/NotFound/i.test(Me))&&(Me.code||(Me.code="LEVEL_NOT_FOUND"),Me.notFound||(Me.notFound=!0),Me.status||(Me.status=404)),v(Me);try{Ze=ee.decode(Ze)}catch(ge){return v(new b("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:ge}))}v(null,Ze)}),v[q]}_get(x,a,v){this.nextTick(v,new Error("NotFound"))}getMany(x,a,v){if(v=U(a,v),v=H(v,q),a=K(a,this[ve].entry),"opening"===this[pe])return this.defer(()=>this.getMany(x,a,v)),v[q];if(_(this,v))return v[q];if(!Array.isArray(x))return this.nextTick(v,new TypeError("The first argument 'keys' must be an array")),v[q];if(0===x.length)return this.nextTick(v,null,[]),v[q];const Z=this.keyEncoding(a.keyEncoding),z=this.valueEncoding(a.valueEncoding),ee=Z.format,le=z.format;(a.keyEncoding!==ee||a.valueEncoding!==le)&&(a=Object.assign({},a,{keyEncoding:ee,valueEncoding:le}));const we=new Array(x.length);for(let Me=0;Me<x.length;Me++){const Ze=x[Me],ge=this._checkKey(Ze);if(ge)return this.nextTick(v,ge),v[q];we[Me]=this.prefixKey(Z.encode(Ze),ee)}return this._getMany(we,a,(Me,Ze)=>{if(Me)return v(Me);try{for(let ge=0;ge<Ze.length;ge++)void 0!==Ze[ge]&&(Ze[ge]=z.decode(Ze[ge]))}catch(ge){return v(new b(`Could not decode one or more of ${Ze.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:ge}))}v(null,Ze)}),v[q]}_getMany(x,a,v){this.nextTick(v,null,new Array(x.length).fill(void 0))}put(x,a,v,Z){if(Z=U(v,Z),Z=H(Z,q),v=K(v,this[ve].entry),"opening"===this[pe])return this.defer(()=>this.put(x,a,v,Z)),Z[q];if(_(this,Z))return Z[q];const z=this._checkKey(x)||this._checkValue(a);if(z)return this.nextTick(Z,z),Z[q];const ee=this.keyEncoding(v.keyEncoding),le=this.valueEncoding(v.valueEncoding),we=ee.format,Me=le.format;(v.keyEncoding!==we||v.valueEncoding!==Me)&&(v=Object.assign({},v,{keyEncoding:we,valueEncoding:Me}));const Ze=this.prefixKey(ee.encode(x),we),ge=le.encode(a);return this._put(Ze,ge,v,me=>{if(me)return Z(me);this.emit("put",x,a),Z()}),Z[q]}_put(x,a,v,Z){this.nextTick(Z)}del(x,a,v){if(v=U(a,v),v=H(v,q),a=K(a,this[ve].key),"opening"===this[pe])return this.defer(()=>this.del(x,a,v)),v[q];if(_(this,v))return v[q];const Z=this._checkKey(x);if(Z)return this.nextTick(v,Z),v[q];const z=this.keyEncoding(a.keyEncoding),ee=z.format;return a.keyEncoding!==ee&&(a=Object.assign({},a,{keyEncoding:ee})),this._del(this.prefixKey(z.encode(x),ee),a,le=>{if(le)return v(le);this.emit("del",x),v()}),v[q]}_del(x,a,v){this.nextTick(v)}batch(x,a,v){if(!arguments.length){if("opening"===this[pe])return new V(this);if("open"!==this[pe])throw new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(v="function"==typeof x?x:U(a,v),v=H(v,q),a=K(a,this[ve].empty),"opening"===this[pe])return this.defer(()=>this.batch(x,a,v)),v[q];if(_(this,v))return v[q];if(!Array.isArray(x))return this.nextTick(v,new TypeError("The first argument 'operations' must be an array")),v[q];if(0===x.length)return this.nextTick(v),v[q];const Z=new Array(x.length),{keyEncoding:z,valueEncoding:ee,...le}=a;for(let we=0;we<x.length;we++){if("object"!=typeof x[we]||null===x[we])return this.nextTick(v,new TypeError("A batch operation must be an object")),v[q];const Me=Object.assign({},x[we]);if("put"!==Me.type&&"del"!==Me.type)return this.nextTick(v,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),v[q];const Ze=this._checkKey(Me.key);if(Ze)return this.nextTick(v,Ze),v[q];const ge=null!=Me.sublevel?Me.sublevel:this,me=ge.keyEncoding(Me.keyEncoding||z),Ue=me.format;if(Me.key=ge.prefixKey(me.encode(Me.key),Ue),Me.keyEncoding=Ue,"put"===Me.type){const xe=this._checkValue(Me.value);if(xe)return this.nextTick(v,xe),v[q];const Ce=ge.valueEncoding(Me.valueEncoding||ee);Me.value=Ce.encode(Me.value),Me.valueEncoding=Ce.format}ge!==this&&(Me.sublevel=null),Z[we]=Me}return this._batch(Z,le,we=>{if(we)return v(we);this.emit("batch",x),v()}),v[q]}_batch(x,a,v){this.nextTick(v)}sublevel(x,a){return this._sublevel(x,f.defaults(a))}_sublevel(x,a){return new f(this,x,a)}prefixKey(x,a){return x}clear(x,a){if(a=U(x,a),a=H(a,q),x=K(x,this[ve].empty),"opening"===this[pe])return this.defer(()=>this.clear(x,a)),a[q];if(_(this,a))return a[q];const v=x,Z=this.keyEncoding(x.keyEncoding);return(x=Q(x,Z)).keyEncoding=Z.format,0===x.limit?this.nextTick(a):this._clear(x,z=>{if(z)return a(z);this.emit("clear",v),a()}),a[q]}_clear(x,a){this.nextTick(a)}iterator(x){const a=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=Q(x,a)).keys=!1!==x.keys,x.values=!1!==x.values,x[k.keyEncoding]=a,x[k.valueEncoding]=v,x.keyEncoding=a.format,x.valueEncoding=v.format,"opening"===this[pe])return new R(this,x);if("open"!==this[pe])throw new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(x)}_iterator(x){return new k(this,x)}keys(x){const a=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=Q(x,a))[k.keyEncoding]=a,x[k.valueEncoding]=v,x.keyEncoding=a.format,x.valueEncoding=v.format,"opening"===this[pe])return new O(this,x);if("open"!==this[pe])throw new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(x)}_keys(x){return new S(this,x)}values(x){const a=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=Q(x,a))[k.keyEncoding]=a,x[k.valueEncoding]=v,x.keyEncoding=a.format,x.valueEncoding=v.format,"opening"===this[pe])return new A(this,x);if("open"!==this[pe])throw new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(x)}_values(x){return new P(this,x)}defer(x){if("function"!=typeof x)throw new TypeError("The first argument must be a function");this[ie].push(x)}[ae](){if(0===this[ie].length)return;const x=this[ie];this[ie]=[];for(const a of x)a()}attachResource(x){if("object"!=typeof x||null===x||"function"!=typeof x.close)throw new TypeError("The first argument must be a resource object");this[W].add(x)}detachResource(x){this[W].delete(x)}_chainedBatch(){return new V(this)}_checkKey(x){if(null==x)return new b("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(x){if(null==x)return new b("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}h.prototype.nextTick=E(24585);const{AbstractSublevel:f}=E(25416)({AbstractLevel:h});j.AbstractLevel=h,j.AbstractSublevel=f;const _=function(L,x){return"open"!==L[pe]&&(L.nextTick(x,new b("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},I=function(L){return Object.keys(L.supports.encodings).filter(x=>!!L.supports.encodings[x])}},75929:($e,j,E)=>{"use strict";j.AbstractLevel=E(83764).AbstractLevel,j.AbstractSublevel=E(83764).AbstractSublevel,j.AbstractIterator=E(63294).AbstractIterator,j.AbstractKeyIterator=E(63294).AbstractKeyIterator,j.AbstractValueIterator=E(63294).AbstractValueIterator,j.AbstractChainedBatch=E(91463).AbstractChainedBatch},47519:($e,j,E)=>{"use strict";const{AbstractIterator:g,AbstractKeyIterator:w,AbstractValueIterator:B}=E(63294),H=Symbol("unfix"),b=Symbol("iterator"),k=Symbol("handleOne"),S=Symbol("handleMany"),P=Symbol("callback");class R extends g{constructor(U,K,Q,q){super(U,K),this[b]=Q,this[H]=q,this[k]=this[k].bind(this),this[S]=this[S].bind(this),this[P]=null}[k](U,K,Q){const q=this[P];if(U)return q(U);void 0!==K&&(K=this[H](K)),q(U,K,Q)}[S](U,K){const Q=this[P];if(U)return Q(U);for(const q of K){const Y=q[0];void 0!==Y&&(q[0]=this[H](Y))}Q(U,K)}}class O extends w{constructor(U,K,Q,q){super(U,K),this[b]=Q,this[H]=q,this[k]=this[k].bind(this),this[S]=this[S].bind(this),this[P]=null}[k](U,K){const Q=this[P];if(U)return Q(U);void 0!==K&&(K=this[H](K)),Q(U,K)}[S](U,K){const Q=this[P];if(U)return Q(U);for(let q=0;q<K.length;q++){const Y=K[q];void 0!==Y&&(K[q]=this[H](Y))}Q(U,K)}}class A extends B{constructor(U,K,Q){super(U,K),this[b]=Q}}for(const V of[R,O])V.prototype._next=function(U){this[P]=U,this[b].next(this[k])},V.prototype._nextv=function(U,K,Q){this[P]=Q,this[b].nextv(U,K,this[S])},V.prototype._all=function(U,K){this[P]=K,this[b].all(U,this[S])};for(const V of[A])V.prototype._next=function(U){this[b].next(U)},V.prototype._nextv=function(U,K,Q){this[b].nextv(U,K,Q)},V.prototype._all=function(U,K){this[b].all(U,K)};for(const V of[R,O,A])V.prototype._seek=function(U,K){this[b].seek(U,K)},V.prototype._close=function(U){this[b].close(U)};j.AbstractSublevelIterator=R,j.AbstractSublevelKeyIterator=O,j.AbstractSublevelValueIterator=A},25416:($e,j,E)=>{"use strict";const g=E(61747),{Buffer:w}=E(1067)||{},{AbstractSublevelIterator:B,AbstractSublevelKeyIterator:H,AbstractSublevelValueIterator:b}=E(47519),k=Symbol("prefix"),S=Symbol("upperBound"),P=Symbol("prefixRange"),R=Symbol("parent"),O=Symbol("unfix"),A=new TextEncoder,V={separator:"!"};$e.exports=function({AbstractLevel:W}){class re extends W{static defaults(ae){if("string"==typeof ae)throw new g("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(ae&&ae.open)throw new g("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==ae?V:ae.separator?ae:{...ae,separator:"!"}}constructor(ae,ue,ce){const{separator:pe,manifest:ve,...De}=re.defaults(ce);ue=Y(ue,pe);const C=pe.charCodeAt(0)+1,s=ae[R]||ae;if(!A.encode(ue).every(f=>f>C&&f<127))throw new g(`Prefix must use bytes > ${C} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(U(s,ve),De);const d=(ae.prefix||"")+pe+ue+pe,h=d.slice(0,-1)+String.fromCharCode(C);this[R]=s,this[k]=new Q(d),this[S]=new Q(h),this[O]=new q,this.nextTick=s.nextTick}prefixKey(ae,ue){if("utf8"===ue)return this[k].utf8+ae;if(0===ae.byteLength)return this[k][ue];if("view"===ue){const ce=this[k].view,pe=new Uint8Array(ce.byteLength+ae.byteLength);return pe.set(ce,0),pe.set(ae,ce.byteLength),pe}{const ce=this[k].buffer;return w.concat([ce,ae],ce.byteLength+ae.byteLength)}}[P](ae,ue){void 0!==ae.gte?ae.gte=this.prefixKey(ae.gte,ue):void 0!==ae.gt?ae.gt=this.prefixKey(ae.gt,ue):ae.gte=this[k][ue],void 0!==ae.lte?ae.lte=this.prefixKey(ae.lte,ue):void 0!==ae.lt?ae.lt=this.prefixKey(ae.lt,ue):ae.lte=this[S][ue]}get prefix(){return this[k].utf8}get db(){return this[R]}_open(ae,ue){this[R].open({passive:!0},ue)}_put(ae,ue,ce,pe){this[R].put(ae,ue,ce,pe)}_get(ae,ue,ce){this[R].get(ae,ue,ce)}_getMany(ae,ue,ce){this[R].getMany(ae,ue,ce)}_del(ae,ue,ce){this[R].del(ae,ue,ce)}_batch(ae,ue,ce){this[R].batch(ae,ue,ce)}_clear(ae,ue){this[P](ae,ae.keyEncoding),this[R].clear(ae,ue)}_iterator(ae){this[P](ae,ae.keyEncoding);const ue=this[R].iterator(ae),ce=this[O].get(this[k].utf8.length,ae.keyEncoding);return new B(this,ae,ue,ce)}_keys(ae){this[P](ae,ae.keyEncoding);const ue=this[R].keys(ae),ce=this[O].get(this[k].utf8.length,ae.keyEncoding);return new H(this,ae,ue,ce)}_values(ae){this[P](ae,ae.keyEncoding);const ue=this[R].values(ae);return new b(this,ae,ue)}}return{AbstractSublevel:re}};const U=function(W,re){return{...W.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...re,encodings:{utf8:K(W,"utf8"),buffer:K(W,"buffer"),view:K(W,"view")}}},K=function(W,re){return!!W.supports.encodings[re]&&W.keyEncoding(re).name===re};class Q{constructor(re){this.utf8=re,this.view=A.encode(re),this.buffer=w?w.from(this.view.buffer,0,this.view.byteLength):{}}}class q{constructor(){this.cache=new Map}get(re,ie){let ae=this.cache.get(ie);return void 0===ae&&(ae="view"===ie?function(ue,ce){return ce.subarray(ue)}.bind(null,re):function(ue,ce){return ce.slice(ue)}.bind(null,re),this.cache.set(ie,ae)),ae}}const Y=function(W,re){let ie=0,ae=W.length;for(;ie<ae&&W[ie]===re;)ie++;for(;ae>ie&&W[ae-1]===re;)ae--;return W.slice(ie,ae)}},10475:($e,j)=>{"use strict";j.getCallback=function(E,g){return"function"==typeof E?E:g},j.getOptions=function(E,g){return"object"==typeof E&&null!==E?E:void 0!==g?g:{}}},45776:($e,j,E)=>{"use strict";const{AbstractChainedBatch:g}=E(91463),w=E(61747),B=Symbol("encoded");j.DefaultChainedBatch=class H extends g{constructor(k){super(k),this[B]=[]}_put(k,S,P){this[B].push({...P,type:"put",key:k,value:S})}_del(k,S){this[B].push({...S,type:"del",key:k})}_clear(){this[B]=[]}_write(k,S){"opening"===this.db.status?this.db.defer(()=>this._write(k,S)):"open"===this.db.status?0===this[B].length?this.nextTick(S):this.db._batch(this[B],k,S):this.nextTick(S,new w("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:($e,j,E)=>{"use strict";const{AbstractKeyIterator:g,AbstractValueIterator:w}=E(63294),B=Symbol("iterator"),H=Symbol("callback"),b=Symbol("handleOne"),k=Symbol("handleMany");class S extends g{constructor(O,A){super(O,A),this[B]=O.iterator({...A,keys:!0,values:!1}),this[b]=this[b].bind(this),this[k]=this[k].bind(this)}}class P extends w{constructor(O,A){super(O,A),this[B]=O.iterator({...A,keys:!1,values:!0}),this[b]=this[b].bind(this),this[k]=this[k].bind(this)}}for(const R of[S,P]){const O=R===S,A=O?V=>V[0]:V=>V[1];R.prototype._next=function(V){this[H]=V,this[B].next(this[b])},R.prototype[b]=function(V,U,K){const Q=this[H];V?Q(V):Q(null,O?U:K)},R.prototype._nextv=function(V,U,K){this[H]=K,this[B].nextv(V,U,this[k])},R.prototype._all=function(V,U){this[H]=U,this[B].all(V,this[k])},R.prototype[k]=function(V,U){const K=this[H];V?K(V):K(null,U.map(A))},R.prototype._seek=function(V,U){this[B].seek(V,U)},R.prototype._close=function(V){this[B].close(V)}}j.DefaultKeyIterator=S,j.DefaultValueIterator=P},92745:($e,j,E)=>{"use strict";const{AbstractIterator:g,AbstractKeyIterator:w,AbstractValueIterator:B}=E(63294),H=E(61747),b=Symbol("nut"),k=Symbol("undefer"),S=Symbol("factory");class P extends g{constructor(V,U){super(V,U),this[b]=null,this[S]=()=>V.iterator(U),this.db.defer(()=>this[k]())}}class R extends w{constructor(V,U){super(V,U),this[b]=null,this[S]=()=>V.keys(U),this.db.defer(()=>this[k]())}}class O extends B{constructor(V,U){super(V,U),this[b]=null,this[S]=()=>V.values(U),this.db.defer(()=>this[k]())}}for(const A of[P,R,O])A.prototype[k]=function(){"open"===this.db.status&&(this[b]=this[S]())},A.prototype._next=function(V){null!==this[b]?this[b].next(V):"opening"===this.db.status?this.db.defer(()=>this._next(V)):this.nextTick(V,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._nextv=function(V,U,K){null!==this[b]?this[b].nextv(V,U,K):"opening"===this.db.status?this.db.defer(()=>this._nextv(V,U,K)):this.nextTick(K,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._all=function(V,U){null!==this[b]?this[b].all(U):"opening"===this.db.status?this.db.defer(()=>this._all(V,U)):this.nextTick(U,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._seek=function(V,U){null!==this[b]?this[b]._seek(V,U):"opening"===this.db.status&&this.db.defer(()=>this._seek(V,U))},A.prototype._close=function(V){null!==this[b]?this[b].close(V):"opening"===this.db.status?this.db.defer(()=>this._close(V)):this.nextTick(V)};j.DeferredIterator=P,j.DeferredKeyIterator=R,j.DeferredValueIterator=O},24585:($e,j,E)=>{"use strict";const g=E(24515);$e.exports=function(w,...B){g(0===B.length?w:()=>w(...B))}},4287:($e,j,E)=>{"use strict";const g=E(61747),w=Object.prototype.hasOwnProperty,B=new Set(["lt","lte","gt","gte"]);$e.exports=function(H,b){const k={};for(const S in H)if(w.call(H,S)&&"keyEncoding"!==S&&"valueEncoding"!==S){if("start"===S||"end"===S)throw new g(`The legacy range option '${S}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===S)throw new g("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});k[S]=B.has(S)?b.encode(H[S]):H[S]}return k.reverse=!!k.reverse,k.limit=Number.isInteger(k.limit)&&k.limit>=0?k.limit:-1,k}},1067:($e,j,E)=>{"use strict";const g=E(13981),w=E(22020),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function W(F){return+F!=F&&(F=0),S.alloc(+F)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function k(F){if(F>H)throw new RangeError('The value "'+F+'" is invalid for option "size"');const D=new Uint8Array(F);return Object.setPrototypeOf(D,S.prototype),D}function S(F,D,M){if("number"==typeof F){if("string"==typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return A(F)}return P(F,D,M)}function P(F,D,M){if("string"==typeof F)return function V(F,D){if(("string"!=typeof D||""===D)&&(D="utf8"),!S.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const M=0|re(F,D);let G=k(M);const fe=G.write(F,D);return fe!==M&&(G=G.slice(0,fe)),G}(F,D);if(ArrayBuffer.isView(F))return function K(F){if(Ve(F,Uint8Array)){const D=new Uint8Array(F);return Q(D.buffer,D.byteOffset,D.byteLength)}return U(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ve(F,ArrayBuffer)||F&&Ve(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ve(F,SharedArrayBuffer)||F&&Ve(F.buffer,SharedArrayBuffer)))return Q(F,D,M);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const G=F.valueOf&&F.valueOf();if(null!=G&&G!==F)return S.from(G,D,M);const fe=function q(F){if(S.isBuffer(F)){const D=0|Y(F.length),M=k(D);return 0===M.length||F.copy(M,0,0,D),M}return void 0!==F.length?"number"!=typeof F.length||Dt(F.length)?k(0):U(F):"Buffer"===F.type&&Array.isArray(F.data)?U(F.data):void 0}(F);if(fe)return fe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return S.from(F[Symbol.toPrimitive]("string"),D,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function R(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function A(F){return R(F),k(F<0?0:0|Y(F))}function U(F){const D=F.length<0?0:0|Y(F.length),M=k(D);for(let G=0;G<D;G+=1)M[G]=255&F[G];return M}function Q(F,D,M){if(D<0||F.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<D+(M||0))throw new RangeError('"length" is outside of buffer bounds');let G;return G=void 0===D&&void 0===M?new Uint8Array(F):void 0===M?new Uint8Array(F,D):new Uint8Array(F,D,M),Object.setPrototypeOf(G,S.prototype),G}function Y(F){if(F>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|F}function re(F,D){if(S.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ve(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const M=F.length,G=arguments.length>2&&!0===arguments[2];if(!G&&0===M)return 0;let fe=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return te(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Ie(F).length;default:if(fe)return G?-1:te(F).length;D=(""+D).toLowerCase(),fe=!0}}function ie(F,D,M){let G=!1;if((void 0===D||D<0)&&(D=0),D>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(D>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return x(this,D,M);case"utf8":case"utf-8":return h(this,D,M);case"ascii":return I(this,D,M);case"latin1":case"binary":return L(this,D,M);case"base64":return d(this,D,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,D,M);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),G=!0}}function ae(F,D,M){const G=F[D];F[D]=F[M],F[M]=G}function ue(F,D,M,G,fe){if(0===F.length)return-1;if("string"==typeof M?(G=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=fe?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(fe)return-1;M=F.length-1}else if(M<0){if(!fe)return-1;M=0}if("string"==typeof D&&(D=S.from(D,G)),S.isBuffer(D))return 0===D.length?-1:ce(F,D,M,G,fe);if("number"==typeof D)return D&=255,"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(F,D,M):Uint8Array.prototype.lastIndexOf.call(F,D,M):ce(F,[D],M,G,fe);throw new TypeError("val must be string, number or Buffer")}function ce(F,D,M,G,fe){let _t,Se=1,Ae=F.length,ot=D.length;if(void 0!==G&&("ucs2"===(G=String(G).toLowerCase())||"ucs-2"===G||"utf16le"===G||"utf-16le"===G)){if(F.length<2||D.length<2)return-1;Se=2,Ae/=2,ot/=2,M/=2}function Gt(Bt,en){return 1===Se?Bt[en]:Bt.readUInt16BE(en*Se)}if(fe){let Bt=-1;for(_t=M;_t<Ae;_t++)if(Gt(F,_t)===Gt(D,-1===Bt?0:_t-Bt)){if(-1===Bt&&(Bt=_t),_t-Bt+1===ot)return Bt*Se}else-1!==Bt&&(_t-=_t-Bt),Bt=-1}else for(M+ot>Ae&&(M=Ae-ot),_t=M;_t>=0;_t--){let Bt=!0;for(let en=0;en<ot;en++)if(Gt(F,_t+en)!==Gt(D,en)){Bt=!1;break}if(Bt)return _t}return-1}function pe(F,D,M,G){M=Number(M)||0;const fe=F.length-M;G?(G=Number(G))>fe&&(G=fe):G=fe;const Se=D.length;let Ae;for(G>Se/2&&(G=Se/2),Ae=0;Ae<G;++Ae){const ot=parseInt(D.substr(2*Ae,2),16);if(Dt(ot))return Ae;F[M+Ae]=ot}return Ae}function ve(F,D,M,G){return He(te(D,F.length-M),F,M,G)}function De(F,D,M,G){return He(function de(F){const D=[];for(let M=0;M<F.length;++M)D.push(255&F.charCodeAt(M));return D}(D),F,M,G)}function C(F,D,M,G){return He(Ie(D),F,M,G)}function s(F,D,M,G){return He(function _e(F,D){let M,G,fe;const Se=[];for(let Ae=0;Ae<F.length&&!((D-=2)<0);++Ae)M=F.charCodeAt(Ae),G=M>>8,fe=M%256,Se.push(fe),Se.push(G);return Se}(D,F.length-M),F,M,G)}function d(F,D,M){return g.fromByteArray(0===D&&M===F.length?F:F.slice(D,M))}function h(F,D,M){M=Math.min(F.length,M);const G=[];let fe=D;for(;fe<M;){const Se=F[fe];let Ae=null,ot=Se>239?4:Se>223?3:Se>191?2:1;if(fe+ot<=M){let Gt,_t,Bt,en;switch(ot){case 1:Se<128&&(Ae=Se);break;case 2:Gt=F[fe+1],128==(192&Gt)&&(en=(31&Se)<<6|63&Gt,en>127&&(Ae=en));break;case 3:Gt=F[fe+1],_t=F[fe+2],128==(192&Gt)&&128==(192&_t)&&(en=(15&Se)<<12|(63&Gt)<<6|63&_t,en>2047&&(en<55296||en>57343)&&(Ae=en));break;case 4:Gt=F[fe+1],_t=F[fe+2],Bt=F[fe+3],128==(192&Gt)&&128==(192&_t)&&128==(192&Bt)&&(en=(15&Se)<<18|(63&Gt)<<12|(63&_t)<<6|63&Bt,en>65535&&en<1114112&&(Ae=en))}}null===Ae?(Ae=65533,ot=1):Ae>65535&&(Ae-=65536,G.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),G.push(Ae),fe+=ot}return function _(F){const D=F.length;if(D<=f)return String.fromCharCode.apply(String,F);let M="",G=0;for(;G<D;)M+=String.fromCharCode.apply(String,F.slice(G,G+=f));return M}(G)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function b(){try{const F=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(F,D),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(F,D,M){return P(F,D,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(F,D,M){return function O(F,D,M){return R(F),F<=0?k(F):void 0!==D?"string"==typeof M?k(F).fill(D,M):k(F).fill(D):k(F)}(F,D,M)},S.allocUnsafe=function(F){return A(F)},S.allocUnsafeSlow=function(F){return A(F)},S.isBuffer=function(D){return null!=D&&!0===D._isBuffer&&D!==S.prototype},S.compare=function(D,M){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),Ve(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(D)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===M)return 0;let G=D.length,fe=M.length;for(let Se=0,Ae=Math.min(G,fe);Se<Ae;++Se)if(D[Se]!==M[Se]){G=D[Se],fe=M[Se];break}return G<fe?-1:fe<G?1:0},S.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(D,M){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return S.alloc(0);let G;if(void 0===M)for(M=0,G=0;G<D.length;++G)M+=D[G].length;const fe=S.allocUnsafe(M);let Se=0;for(G=0;G<D.length;++G){let Ae=D[G];if(Ve(Ae,Uint8Array))Se+Ae.length>fe.length?(S.isBuffer(Ae)||(Ae=S.from(Ae)),Ae.copy(fe,Se)):Uint8Array.prototype.set.call(fe,Ae,Se);else{if(!S.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(fe,Se)}Se+=Ae.length}return fe},S.byteLength=re,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<D;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<D;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<D;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const D=this.length;return 0===D?"":0===arguments.length?h(this,0,D):ie.apply(this,arguments)},S.prototype.equals=function(D){if(!S.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===S.compare(this,D)},S.prototype.inspect=function(){let D="";const M=j.INSPECT_MAX_BYTES;return D=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(D+=" ... "),"<Buffer "+D+">"},B&&(S.prototype[B]=S.prototype.inspect),S.prototype.compare=function(D,M,G,fe,Se){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),!S.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(void 0===M&&(M=0),void 0===G&&(G=D?D.length:0),void 0===fe&&(fe=0),void 0===Se&&(Se=this.length),M<0||G>D.length||fe<0||Se>this.length)throw new RangeError("out of range index");if(fe>=Se&&M>=G)return 0;if(fe>=Se)return-1;if(M>=G)return 1;if(this===D)return 0;let Ae=(Se>>>=0)-(fe>>>=0),ot=(G>>>=0)-(M>>>=0);const Gt=Math.min(Ae,ot),_t=this.slice(fe,Se),Bt=D.slice(M,G);for(let en=0;en<Gt;++en)if(_t[en]!==Bt[en]){Ae=_t[en],ot=Bt[en];break}return Ae<ot?-1:ot<Ae?1:0},S.prototype.includes=function(D,M,G){return-1!==this.indexOf(D,M,G)},S.prototype.indexOf=function(D,M,G){return ue(this,D,M,G,!0)},S.prototype.lastIndexOf=function(D,M,G){return ue(this,D,M,G,!1)},S.prototype.write=function(D,M,G,fe){if(void 0===M)fe="utf8",G=this.length,M=0;else if(void 0===G&&"string"==typeof M)fe=M,G=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(G)?(G>>>=0,void 0===fe&&(fe="utf8")):(fe=G,G=void 0)}const Se=this.length-M;if((void 0===G||G>Se)&&(G=Se),D.length>0&&(G<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ae=!1;for(;;)switch(fe){case"hex":return pe(this,D,M,G);case"utf8":case"utf-8":return ve(this,D,M,G);case"ascii":case"latin1":case"binary":return De(this,D,M,G);case"base64":return C(this,D,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,D,M,G);default:if(Ae)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ae=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const f=4096;function I(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(127&F[fe]);return G}function L(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(F[fe]);return G}function x(F,D,M){const G=F.length;(!D||D<0)&&(D=0),(!M||M<0||M>G)&&(M=G);let fe="";for(let Se=D;Se<M;++Se)fe+=Ne[F[Se]];return fe}function a(F,D,M){const G=F.slice(D,M);let fe="";for(let Se=0;Se<G.length-1;Se+=2)fe+=String.fromCharCode(G[Se]+256*G[Se+1]);return fe}function v(F,D,M){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+D>M)throw new RangeError("Trying to access beyond buffer length")}function Z(F,D,M,G,fe,Se){if(!S.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>fe||D<Se)throw new RangeError('"value" argument is out of bounds');if(M+G>F.length)throw new RangeError("Index out of range")}function z(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,M}function ee(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M+7]=Se,Se>>=8,F[M+6]=Se,Se>>=8,F[M+5]=Se,Se>>=8,F[M+4]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M+3]=Ae,Ae>>=8,F[M+2]=Ae,Ae>>=8,F[M+1]=Ae,Ae>>=8,F[M]=Ae,M+8}function le(F,D,M,G,fe,Se){if(M+G>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function we(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,4),w.write(F,D,M,G,23,4),M+4}function Me(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,8),w.write(F,D,M,G,52,8),M+8}S.prototype.slice=function(D,M){const G=this.length;(D=~~D)<0?(D+=G)<0&&(D=0):D>G&&(D=G),(M=void 0===M?G:~~M)<0?(M+=G)<0&&(M=0):M>G&&(M=G),M<D&&(M=D);const fe=this.subarray(D,M);return Object.setPrototypeOf(fe,S.prototype),fe},S.prototype.readUintLE=S.prototype.readUIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return fe},S.prototype.readUintBE=S.prototype.readUIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D+--M],Se=1;for(;M>0&&(Se*=256);)fe+=this[D+--M]*Se;return fe},S.prototype.readUint8=S.prototype.readUInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),this[D]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]|this[D+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]<<8|this[D+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},S.prototype.readBigUInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M+256*this[++D]+65536*this[++D]+this[++D]*2**24,Se=this[++D]+256*this[++D]+65536*this[++D]+G*2**24;return BigInt(fe)+(BigInt(Se)<<BigInt(32))}),S.prototype.readBigUInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M*2**24+65536*this[++D]+256*this[++D]+this[++D],Se=this[++D]*2**24+65536*this[++D]+256*this[++D]+G;return(BigInt(fe)<<BigInt(32))+BigInt(Se)}),S.prototype.readIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return Se*=128,fe>=Se&&(fe-=Math.pow(2,8*M)),fe},S.prototype.readIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=M,Se=1,Ae=this[D+--fe];for(;fe>0&&(Se*=256);)Ae+=this[D+--fe]*Se;return Se*=128,Ae>=Se&&(Ae-=Math.pow(2,8*M)),Ae},S.prototype.readInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},S.prototype.readInt16LE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D]|this[D+1]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt16BE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D+1]|this[D]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},S.prototype.readInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},S.prototype.readBigInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];return(void 0===M||void 0===G)&&be(D,this.length-8),(BigInt(this[D+4]+256*this[D+5]+65536*this[D+6]+(G<<24))<<BigInt(32))+BigInt(M+256*this[++D]+65536*this[++D]+this[++D]*2**24)}),S.prototype.readBigInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=(M<<24)+65536*this[++D]+256*this[++D]+this[++D];return(BigInt(fe)<<BigInt(32))+BigInt(this[++D]*2**24+65536*this[++D]+256*this[++D]+G)}),S.prototype.readFloatLE=function(D,M){return D>>>=0,M||v(D,4,this.length),w.read(this,D,!0,23,4)},S.prototype.readFloatBE=function(D,M){return D>>>=0,M||v(D,4,this.length),w.read(this,D,!1,23,4)},S.prototype.readDoubleLE=function(D,M){return D>>>=0,M||v(D,8,this.length),w.read(this,D,!0,52,8)},S.prototype.readDoubleBE=function(D,M){return D>>>=0,M||v(D,8,this.length),w.read(this,D,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=1,Ae=0;for(this[M]=255&D;++Ae<G&&(Se*=256);)this[M+Ae]=D/Se&255;return M+G},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=G-1,Ae=1;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)this[M+Se]=D/Ae&255;return M+G},S.prototype.writeUint8=S.prototype.writeUInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,255,0),this[M]=255&D,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigUInt64LE=ke(function(D,M=0){return z(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ke(function(D,M=0){return ee(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Gt=Math.pow(2,8*G-1);Z(this,D,M,G,Gt-1,-Gt)}let Se=0,Ae=1,ot=0;for(this[M]=255&D;++Se<G&&(Ae*=256);)D<0&&0===ot&&0!==this[M+Se-1]&&(ot=1),this[M+Se]=(D/Ae|0)-ot&255;return M+G},S.prototype.writeIntBE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Gt=Math.pow(2,8*G-1);Z(this,D,M,G,Gt-1,-Gt)}let Se=G-1,Ae=1,ot=0;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)D<0&&0===ot&&0!==this[M+Se+1]&&(ot=1),this[M+Se]=(D/Ae|0)-ot&255;return M+G},S.prototype.writeInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,127,-128),D<0&&(D=255+D+1),this[M]=255&D,M+1},S.prototype.writeInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24,M+4},S.prototype.writeInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigInt64LE=ke(function(D,M=0){return z(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ke(function(D,M=0){return ee(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(D,M,G){return we(this,D,M,!0,G)},S.prototype.writeFloatBE=function(D,M,G){return we(this,D,M,!1,G)},S.prototype.writeDoubleLE=function(D,M,G){return Me(this,D,M,!0,G)},S.prototype.writeDoubleBE=function(D,M,G){return Me(this,D,M,!1,G)},S.prototype.copy=function(D,M,G,fe){if(!S.isBuffer(D))throw new TypeError("argument should be a Buffer");if(G||(G=0),!fe&&0!==fe&&(fe=this.length),M>=D.length&&(M=D.length),M||(M=0),fe>0&&fe<G&&(fe=G),fe===G||0===D.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),D.length-M<fe-G&&(fe=D.length-M+G);const Se=fe-G;return this===D&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,G,fe):Uint8Array.prototype.set.call(D,this.subarray(G,fe),M),Se},S.prototype.fill=function(D,M,G,fe){if("string"==typeof D){if("string"==typeof M?(fe=M,M=0,G=this.length):"string"==typeof G&&(fe=G,G=this.length),void 0!==fe&&"string"!=typeof fe)throw new TypeError("encoding must be a string");if("string"==typeof fe&&!S.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(1===D.length){const Ae=D.charCodeAt(0);("utf8"===fe&&Ae<128||"latin1"===fe)&&(D=Ae)}}else"number"==typeof D?D&=255:"boolean"==typeof D&&(D=Number(D));if(M<0||this.length<M||this.length<G)throw new RangeError("Out of range index");if(G<=M)return this;let Se;if(M>>>=0,G=void 0===G?this.length:G>>>0,D||(D=0),"number"==typeof D)for(Se=M;Se<G;++Se)this[Se]=D;else{const Ae=S.isBuffer(D)?D:S.from(D,fe),ot=Ae.length;if(0===ot)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Se=0;Se<G-M;++Se)this[Se+M]=Ae[Se%ot]}return this};const Ze={};function ge(F,D,M){Ze[F]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function me(F){let D="",M=F.length;const G="-"===F[0]?1:0;for(;M>=G+4;M-=3)D=`_${F.slice(M-3,M)}${D}`;return`${F.slice(0,M)}${D}`}function xe(F,D,M,G,fe,Se){if(F>M||F<D){const Ae="bigint"==typeof D?"n":"";let ot;throw ot=Se>3?0===D||D===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(Se+1)}${Ae}`:`>= -(2${Ae} ** ${8*(Se+1)-1}${Ae}) and < 2 ** ${8*(Se+1)-1}${Ae}`:`>= ${D}${Ae} and <= ${M}${Ae}`,new Ze.ERR_OUT_OF_RANGE("value",ot,F)}!function Ue(F,D,M){Ce(D,"offset"),(void 0===F[D]||void 0===F[D+M])&&be(D,F.length-(M+1))}(G,fe,Se)}function Ce(F,D){if("number"!=typeof F)throw new Ze.ERR_INVALID_ARG_TYPE(D,"number",F)}function be(F,D,M){throw Math.floor(F)!==F?(Ce(F,M),new Ze.ERR_OUT_OF_RANGE(M||"offset","an integer",F)):D<0?new Ze.ERR_BUFFER_OUT_OF_BOUNDS:new Ze.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${D}`,F)}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(F,D){return`The "${F}" argument must be of type number. Received type ${typeof D}`},TypeError),ge("ERR_OUT_OF_RANGE",function(F,D,M){let G=`The value of "${F}" is out of range.`,fe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?fe=me(String(M)):"bigint"==typeof M&&(fe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(fe=me(fe)),fe+="n"),G+=` It must be ${D}. Received ${fe}`,G},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function te(F,D){let M;D=D||1/0;const G=F.length;let fe=null;const Se=[];for(let Ae=0;Ae<G;++Ae){if(M=F.charCodeAt(Ae),M>55295&&M<57344){if(!fe){if(M>56319){(D-=3)>-1&&Se.push(239,191,189);continue}if(Ae+1===G){(D-=3)>-1&&Se.push(239,191,189);continue}fe=M;continue}if(M<56320){(D-=3)>-1&&Se.push(239,191,189),fe=M;continue}M=65536+(fe-55296<<10|M-56320)}else fe&&(D-=3)>-1&&Se.push(239,191,189);if(fe=null,M<128){if((D-=1)<0)break;Se.push(M)}else if(M<2048){if((D-=2)<0)break;Se.push(M>>6|192,63&M|128)}else if(M<65536){if((D-=3)<0)break;Se.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;Se.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return Se}function Ie(F){return g.toByteArray(function ne(F){if((F=(F=F.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function He(F,D,M,G){let fe;for(fe=0;fe<G&&!(fe+M>=D.length||fe>=F.length);++fe)D[fe+M]=F[fe];return fe}function Ve(F,D){return F instanceof D||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===D.name}function Dt(F){return F!=F}const Ne=function(){const F="0123456789abcdef",D=new Array(256);for(let M=0;M<16;++M){const G=16*M;for(let fe=0;fe<16;++fe)D[G+fe]=F[M]+F[fe]}return D}();function ke(F){return typeof BigInt>"u"?yt:F}function yt(){throw new Error("BigInt not supported")}},49609:($e,j,E)=>{var g=j;g.bignum=E(96867),g.define=E(16626).define,g.base=E(15066),g.constants=E(47740),g.decoders=E(91558),g.encoders=E(22714)},16626:($e,j,E)=>{var g=E(49609),w=E(71993);function H(b,k){this.name=b,this.body=k,this.decoders={},this.encoders={}}j.define=function(k,S){return new H(k,S)},H.prototype._createNamed=function(k){var S;try{S=Object(function(){var R=new Error("Cannot find module 'vm'");throw R.code="MODULE_NOT_FOUND",R}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{S=function(R){this._initNamed(R)}}return w(S,k),S.prototype._initNamed=function(R){k.call(this,R)},new S(this)},H.prototype._getDecoder=function(k){return this.decoders.hasOwnProperty(k=k||"der")||(this.decoders[k]=this._createNamed(g.decoders[k])),this.decoders[k]},H.prototype.decode=function(k,S,P){return this._getDecoder(S).decode(k,P)},H.prototype._getEncoder=function(k){return this.encoders.hasOwnProperty(k=k||"der")||(this.encoders[k]=this._createNamed(g.encoders[k])),this.encoders[k]},H.prototype.encode=function(k,S,P){return this._getEncoder(S).encode(k,P)}},97290:($e,j,E)=>{var g=E(71993),w=E(15066).Reporter,B=E(83838).Buffer;function H(k,S){w.call(this,S),B.isBuffer(k)?(this.base=k,this.offset=0,this.length=k.length):this.error("Input not Buffer")}function b(k,S){if(Array.isArray(k))this.length=0,this.value=k.map(function(P){return P instanceof b||(P=new b(P,S)),this.length+=P.length,P},this);else if("number"==typeof k){if(!(0<=k&&k<=255))return S.error("non-byte EncoderBuffer value");this.value=k,this.length=1}else if("string"==typeof k)this.value=k,this.length=B.byteLength(k);else{if(!B.isBuffer(k))return S.error("Unsupported type: "+typeof k);this.value=k,this.length=k.length}}g(H,w),j.t=H,H.prototype.save=function(){return{offset:this.offset,reporter:w.prototype.save.call(this)}},H.prototype.restore=function(S){var P=new H(this.base);return P.offset=S.offset,P.length=this.offset,this.offset=S.offset,w.prototype.restore.call(this,S.reporter),P},H.prototype.isEmpty=function(){return this.offset===this.length},H.prototype.readUInt8=function(S){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(S||"DecoderBuffer overrun")},H.prototype.skip=function(S,P){if(!(this.offset+S<=this.length))return this.error(P||"DecoderBuffer overrun");var R=new H(this.base);return R._reporterState=this._reporterState,R.offset=this.offset,R.length=this.offset+S,this.offset+=S,R},H.prototype.raw=function(S){return this.base.slice(S?S.offset:this.offset,this.length)},j.d=b,b.prototype.join=function(S,P){return S||(S=new B(this.length)),P||(P=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(R){R.join(S,P),P+=R.length}):("number"==typeof this.value?S[P]=this.value:"string"==typeof this.value?S.write(this.value,P):B.isBuffer(this.value)&&this.value.copy(S,P),P+=this.length)),S}},15066:($e,j,E)=>{var g=j;g.Reporter=E(85697).a,g.DecoderBuffer=E(97290).t,g.EncoderBuffer=E(97290).d,g.Node=E(34320)},34320:($e,j,E)=>{var g=E(15066).Reporter,w=E(15066).EncoderBuffer,B=E(15066).DecoderBuffer,H=E(39210),b=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],k=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(b);function P(O,A){var V={};this._baseState=V,V.enc=O,V.parent=A||null,V.children=null,V.tag=null,V.args=null,V.reverseArgs=null,V.choice=null,V.optional=!1,V.any=!1,V.obj=!1,V.use=null,V.useDecoder=null,V.key=null,V.default=null,V.explicit=null,V.implicit=null,V.contains=null,V.parent||(V.children=[],this._wrap())}$e.exports=P;var R=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];P.prototype.clone=function(){var A=this._baseState,V={};R.forEach(function(K){V[K]=A[K]});var U=new this.constructor(V.parent);return U._baseState=V,U},P.prototype._wrap=function(){var A=this._baseState;k.forEach(function(V){this[V]=function(){var K=new this.constructor(this);return A.children.push(K),K[V].apply(K,arguments)}},this)},P.prototype._init=function(A){var V=this._baseState;H(null===V.parent),A.call(this),V.children=V.children.filter(function(U){return U._baseState.parent===this},this),H.equal(V.children.length,1,"Root node can have only one child")},P.prototype._useArgs=function(A){var V=this._baseState,U=A.filter(function(K){return K instanceof this.constructor},this);A=A.filter(function(K){return!(K instanceof this.constructor)},this),0!==U.length&&(H(null===V.children),V.children=U,U.forEach(function(K){K._baseState.parent=this},this)),0!==A.length&&(H(null===V.args),V.args=A,V.reverseArgs=A.map(function(K){if("object"!=typeof K||K.constructor!==Object)return K;var Q={};return Object.keys(K).forEach(function(q){q==(0|q)&&(q|=0),Q[K[q]]=q}),Q}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(O){P.prototype[O]=function(){throw new Error(O+" not implemented for encoding: "+this._baseState.enc)}}),b.forEach(function(O){P.prototype[O]=function(){var V=this._baseState,U=Array.prototype.slice.call(arguments);return H(null===V.tag),V.tag=O,this._useArgs(U),this}}),P.prototype.use=function(A){H(A);var V=this._baseState;return H(null===V.use),V.use=A,this},P.prototype.optional=function(){return this._baseState.optional=!0,this},P.prototype.def=function(A){var V=this._baseState;return H(null===V.default),V.default=A,V.optional=!0,this},P.prototype.explicit=function(A){var V=this._baseState;return H(null===V.explicit&&null===V.implicit),V.explicit=A,this},P.prototype.implicit=function(A){var V=this._baseState;return H(null===V.explicit&&null===V.implicit),V.implicit=A,this},P.prototype.obj=function(){var A=this._baseState,V=Array.prototype.slice.call(arguments);return A.obj=!0,0!==V.length&&this._useArgs(V),this},P.prototype.key=function(A){var V=this._baseState;return H(null===V.key),V.key=A,this},P.prototype.any=function(){return this._baseState.any=!0,this},P.prototype.choice=function(A){var V=this._baseState;return H(null===V.choice),V.choice=A,this._useArgs(Object.keys(A).map(function(U){return A[U]})),this},P.prototype.contains=function(A){var V=this._baseState;return H(null===V.use),V.contains=A,this},P.prototype._decode=function(A,V){var U=this._baseState;if(null===U.parent)return A.wrapResult(U.children[0]._decode(A,V));var re,K=U.default,Q=!0,q=null;if(null!==U.key&&(q=A.enterKey(U.key)),U.optional){var Y=null;if(null!==U.explicit?Y=U.explicit:null!==U.implicit?Y=U.implicit:null!==U.tag&&(Y=U.tag),null!==Y||U.any){if(Q=this._peekTag(A,Y,U.any),A.isError(Q))return Q}else{var W=A.save();try{null===U.choice?this._decodeGeneric(U.tag,A,V):this._decodeChoice(A,V),Q=!0}catch{Q=!1}A.restore(W)}}if(U.obj&&Q&&(re=A.enterObject()),Q){if(null!==U.explicit){var ie=this._decodeTag(A,U.explicit);if(A.isError(ie))return ie;A=ie}var ae=A.offset;if(null===U.use&&null===U.choice){U.any&&(W=A.save());var ue=this._decodeTag(A,null!==U.implicit?U.implicit:U.tag,U.any);if(A.isError(ue))return ue;U.any?K=A.raw(W):A=ue}if(V&&V.track&&null!==U.tag&&V.track(A.path(),ae,A.length,"tagged"),V&&V.track&&null!==U.tag&&V.track(A.path(),A.offset,A.length,"content"),U.any||(K=null===U.choice?this._decodeGeneric(U.tag,A,V):this._decodeChoice(A,V)),A.isError(K))return K;if(!U.any&&null===U.choice&&null!==U.children&&U.children.forEach(function(ve){ve._decode(A,V)}),U.contains&&("octstr"===U.tag||"bitstr"===U.tag)){var ce=new B(K);K=this._getUse(U.contains,A._reporterState.obj)._decode(ce,V)}}return U.obj&&Q&&(K=A.leaveObject(re)),null===U.key||null===K&&!0!==Q?null!==q&&A.exitKey(q):A.leaveKey(q,U.key,K),K},P.prototype._decodeGeneric=function(A,V,U){var K=this._baseState;return"seq"===A||"set"===A?null:"seqof"===A||"setof"===A?this._decodeList(V,A,K.args[0],U):/str$/.test(A)?this._decodeStr(V,A,U):"objid"===A&&K.args?this._decodeObjid(V,K.args[0],K.args[1],U):"objid"===A?this._decodeObjid(V,null,null,U):"gentime"===A||"utctime"===A?this._decodeTime(V,A,U):"null_"===A?this._decodeNull(V,U):"bool"===A?this._decodeBool(V,U):"objDesc"===A?this._decodeStr(V,A,U):"int"===A||"enum"===A?this._decodeInt(V,K.args&&K.args[0],U):null!==K.use?this._getUse(K.use,V._reporterState.obj)._decode(V,U):V.error("unknown tag: "+A)},P.prototype._getUse=function(A,V){var U=this._baseState;return U.useDecoder=this._use(A,V),H(null===U.useDecoder._baseState.parent),U.useDecoder=U.useDecoder._baseState.children[0],U.implicit!==U.useDecoder._baseState.implicit&&(U.useDecoder=U.useDecoder.clone(),U.useDecoder._baseState.implicit=U.implicit),U.useDecoder},P.prototype._decodeChoice=function(A,V){var U=this._baseState,K=null,Q=!1;return Object.keys(U.choice).some(function(q){var Y=A.save(),W=U.choice[q];try{var re=W._decode(A,V);if(A.isError(re))return!1;K={type:q,value:re},Q=!0}catch{return A.restore(Y),!1}return!0},this),Q?K:A.error("Choice not matched")},P.prototype._createEncoderBuffer=function(A){return new w(A,this.reporter)},P.prototype._encode=function(A,V,U){var K=this._baseState;if(null===K.default||K.default!==A){var Q=this._encodeValue(A,V,U);if(void 0!==Q&&!this._skipDefault(Q,V,U))return Q}},P.prototype._encodeValue=function(A,V,U){var K=this._baseState;if(null===K.parent)return K.children[0]._encode(A,V||new g);var W=null;if(this.reporter=V,K.optional&&void 0===A){if(null===K.default)return;A=K.default}var Q=null,q=!1;if(K.any)W=this._createEncoderBuffer(A);else if(K.choice)W=this._encodeChoice(A,V);else if(K.contains)Q=this._getUse(K.contains,U)._encode(A,V),q=!0;else if(K.children)Q=K.children.map(function(ae){if("null_"===ae._baseState.tag)return ae._encode(null,V,A);if(null===ae._baseState.key)return V.error("Child should have a key");var ue=V.enterKey(ae._baseState.key);if("object"!=typeof A)return V.error("Child expected, but input is not object");var ce=ae._encode(A[ae._baseState.key],V,A);return V.leaveKey(ue),ce},this).filter(function(ae){return ae}),Q=this._createEncoderBuffer(Q);else if("seqof"===K.tag||"setof"===K.tag){if(!K.args||1!==K.args.length)return V.error("Too many args for : "+K.tag);if(!Array.isArray(A))return V.error("seqof/setof, but data is not Array");var Y=this.clone();Y._baseState.implicit=null,Q=this._createEncoderBuffer(A.map(function(ae){return this._getUse(this._baseState.args[0],A)._encode(ae,V)},Y))}else null!==K.use?W=this._getUse(K.use,U)._encode(A,V):(Q=this._encodePrimitive(K.tag,A),q=!0);if(!K.any&&null===K.choice){var re=null!==K.implicit?K.implicit:K.tag,ie=null===K.implicit?"universal":"context";null===re?null===K.use&&V.error("Tag could be omitted only for .use()"):null===K.use&&(W=this._encodeComposite(re,q,ie,Q))}return null!==K.explicit&&(W=this._encodeComposite(K.explicit,!1,"context",W)),W},P.prototype._encodeChoice=function(A,V){var U=this._baseState,K=U.choice[A.type];return K||H(!1,A.type+" not found in "+JSON.stringify(Object.keys(U.choice))),K._encode(A.value,V)},P.prototype._encodePrimitive=function(A,V){var U=this._baseState;if(/str$/.test(A))return this._encodeStr(V,A);if("objid"===A&&U.args)return this._encodeObjid(V,U.reverseArgs[0],U.args[1]);if("objid"===A)return this._encodeObjid(V,null,null);if("gentime"===A||"utctime"===A)return this._encodeTime(V,A);if("null_"===A)return this._encodeNull();if("int"===A||"enum"===A)return this._encodeInt(V,U.args&&U.reverseArgs[0]);if("bool"===A)return this._encodeBool(V);if("objDesc"===A)return this._encodeStr(V,A);throw new Error("Unsupported tag: "+A)},P.prototype._isNumstr=function(A){return/^[0-9 ]*$/.test(A)},P.prototype._isPrintstr=function(A){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(A)}},85697:($e,j,E)=>{var g=E(71993);function w(H){this._reporterState={obj:null,path:[],options:H||{},errors:[]}}function B(H,b){this.path=H,this.rethrow(b)}j.a=w,w.prototype.isError=function(b){return b instanceof B},w.prototype.save=function(){var b=this._reporterState;return{obj:b.obj,pathLen:b.path.length}},w.prototype.restore=function(b){var k=this._reporterState;k.obj=b.obj,k.path=k.path.slice(0,b.pathLen)},w.prototype.enterKey=function(b){return this._reporterState.path.push(b)},w.prototype.exitKey=function(b){var k=this._reporterState;k.path=k.path.slice(0,b-1)},w.prototype.leaveKey=function(b,k,S){var P=this._reporterState;this.exitKey(b),null!==P.obj&&(P.obj[k]=S)},w.prototype.path=function(){return this._reporterState.path.join("/")},w.prototype.enterObject=function(){var b=this._reporterState,k=b.obj;return b.obj={},k},w.prototype.leaveObject=function(b){var k=this._reporterState,S=k.obj;return k.obj=b,S},w.prototype.error=function(b){var k,S=this._reporterState,P=b instanceof B;if(k=P?b:new B(S.path.map(function(R){return"["+JSON.stringify(R)+"]"}).join(""),b.message||b,b.stack),!S.options.partial)throw k;return P||S.errors.push(k),k},w.prototype.wrapResult=function(b){var k=this._reporterState;return k.options.partial?{result:this.isError(b)?null:b,errors:k.errors}:b},g(B,Error),B.prototype.rethrow=function(b){if(this.message=b+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,B),!this.stack)try{throw new Error(this.message)}catch(k){this.stack=k.stack}return this}},36283:($e,j,E)=>{var g=E(47740);j.tagClass={0:"universal",1:"application",2:"context",3:"private"},j.tagClassByName=g._reverse(j.tagClass),j.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},j.tagByName=g._reverse(j.tag)},47740:($e,j,E)=>{var g=j;g._reverse=function(B){var H={};return Object.keys(B).forEach(function(b){(0|b)==b&&(b|=0),H[B[b]]=b}),H},g.der=E(36283)},55941:($e,j,E)=>{var g=E(71993),w=E(49609),B=w.base,H=w.bignum,b=w.constants.der;function k(O){this.enc="der",this.name=O.name,this.entity=O,this.tree=new S,this.tree._init(O.body)}function S(O){B.Node.call(this,"der",O)}function P(O,A){var V=O.readUInt8(A);if(O.isError(V))return V;var U=b.tagClass[V>>6],K=!(32&V);if(31&~V)V&=31;else{var Q=V;for(V=0;!(128&~Q);){if(Q=O.readUInt8(A),O.isError(Q))return Q;V<<=7,V|=127&Q}}return{cls:U,primitive:K,tag:V,tagStr:b.tag[V]}}function R(O,A,V){var U=O.readUInt8(V);if(O.isError(U))return U;if(!A&&128===U)return null;if(!(128&U))return U;var K=127&U;if(K>4)return O.error("length octect is too long");U=0;for(var Q=0;Q<K;Q++){U<<=8;var q=O.readUInt8(V);if(O.isError(q))return q;U|=q}return U}$e.exports=k,k.prototype.decode=function(A,V){return A instanceof B.DecoderBuffer||(A=new B.DecoderBuffer(A,V)),this.tree._decode(A,V)},g(S,B.Node),S.prototype._peekTag=function(A,V,U){if(A.isEmpty())return!1;var K=A.save(),Q=P(A,'Failed to peek tag: "'+V+'"');return A.isError(Q)?Q:(A.restore(K),Q.tag===V||Q.tagStr===V||Q.tagStr+"of"===V||U)},S.prototype._decodeTag=function(A,V,U){var K=P(A,'Failed to decode tag of "'+V+'"');if(A.isError(K))return K;var Q=R(A,K.primitive,'Failed to get length of "'+V+'"');if(A.isError(Q))return Q;if(!U&&K.tag!==V&&K.tagStr!==V&&K.tagStr+"of"!==V)return A.error('Failed to match tag: "'+V+'"');if(K.primitive||null!==Q)return A.skip(Q,'Failed to match body of: "'+V+'"');var q=A.save(),Y=this._skipUntilEnd(A,'Failed to skip indefinite length body: "'+this.tag+'"');return A.isError(Y)?Y:(Q=A.offset-q.offset,A.restore(q),A.skip(Q,'Failed to match body of: "'+V+'"'))},S.prototype._skipUntilEnd=function(A,V){for(;;){var U=P(A,V);if(A.isError(U))return U;var Q,K=R(A,U.primitive,V);if(A.isError(K))return K;if(Q=U.primitive||null!==K?A.skip(K):this._skipUntilEnd(A,V),A.isError(Q))return Q;if("end"===U.tagStr)break}},S.prototype._decodeList=function(A,V,U,K){for(var Q=[];!A.isEmpty();){var q=this._peekTag(A,"end");if(A.isError(q))return q;var Y=U.decode(A,"der",K);if(A.isError(Y)&&q)break;Q.push(Y)}return Q},S.prototype._decodeStr=function(A,V){if("bitstr"===V){var U=A.readUInt8();return A.isError(U)?U:{unused:U,data:A.raw()}}if("bmpstr"===V){var K=A.raw();if(K.length%2==1)return A.error("Decoding of string type: bmpstr length mismatch");for(var Q="",q=0;q<K.length/2;q++)Q+=String.fromCharCode(K.readUInt16BE(2*q));return Q}if("numstr"===V){var Y=A.raw().toString("ascii");return this._isNumstr(Y)?Y:A.error("Decoding of string type: numstr unsupported characters")}if("octstr"===V)return A.raw();if("objDesc"===V)return A.raw();if("printstr"===V){var W=A.raw().toString("ascii");return this._isPrintstr(W)?W:A.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(V)?A.raw().toString():A.error("Decoding of string type: "+V+" unsupported")},S.prototype._decodeObjid=function(A,V,U){for(var K,Q=[],q=0;!A.isEmpty();){var Y=A.readUInt8();q<<=7,q|=127&Y,128&Y||(Q.push(q),q=0)}if(128&Y&&Q.push(q),K=U?Q:[Q[0]/40|0,Q[0]%40].concat(Q.slice(1)),V){var ie=V[K.join(" ")];void 0===ie&&(ie=V[K.join(".")]),void 0!==ie&&(K=ie)}return K},S.prototype._decodeTime=function(A,V){var U=A.raw().toString();if("gentime"===V)var K=0|U.slice(0,4),Q=0|U.slice(4,6),q=0|U.slice(6,8),Y=0|U.slice(8,10),W=0|U.slice(10,12),re=0|U.slice(12,14);else{if("utctime"!==V)return A.error("Decoding "+V+" time is not supported yet");K=0|U.slice(0,2),Q=0|U.slice(2,4),q=0|U.slice(4,6),Y=0|U.slice(6,8),W=0|U.slice(8,10),re=0|U.slice(10,12),K=K<70?2e3+K:1900+K}return Date.UTC(K,Q-1,q,Y,W,re,0)},S.prototype._decodeNull=function(A){return null},S.prototype._decodeBool=function(A){var V=A.readUInt8();return A.isError(V)?V:0!==V},S.prototype._decodeInt=function(A,V){var U=A.raw(),K=new H(U);return V&&(K=V[K.toString(10)]||K),K},S.prototype._use=function(A,V){return"function"==typeof A&&(A=A(V)),A._getDecoder("der").tree}},91558:($e,j,E)=>{var g=j;g.der=E(55941),g.pem=E(59316)},59316:($e,j,E)=>{var g=E(71993),w=E(83838).Buffer,B=E(55941);function H(b){B.call(this,b),this.enc="pem"}g(H,B),$e.exports=H,H.prototype.decode=function(k,S){for(var P=k.toString().split(/[\r\n]+/g),R=S.label.toUpperCase(),O=/^-----(BEGIN|END) ([^-]+)-----$/,A=-1,V=-1,U=0;U<P.length;U++){var K=P[U].match(O);if(null!==K&&K[2]===R){if(-1!==A){if("END"!==K[1])break;V=U;break}if("BEGIN"!==K[1])break;A=U}}if(-1===A||-1===V)throw new Error("PEM section not found for: "+R);var Q=P.slice(A+1,V).join("");Q.replace(/[^a-z0-9\+\/=]+/gi,"");var q=new w(Q,"base64");return B.prototype.decode.call(this,q,S)}},72193:($e,j,E)=>{var g=E(71993),w=E(83838).Buffer,B=E(49609),H=B.base,b=B.constants.der;function k(O){this.enc="der",this.name=O.name,this.entity=O,this.tree=new S,this.tree._init(O.body)}function S(O){H.Node.call(this,"der",O)}function P(O){return O<10?"0"+O:O}$e.exports=k,k.prototype.encode=function(A,V){return this.tree._encode(A,V).join()},g(S,H.Node),S.prototype._encodeComposite=function(A,V,U,K){var W,Q=function R(O,A,V,U){var K;if("seqof"===O?O="seq":"setof"===O&&(O="set"),b.tagByName.hasOwnProperty(O))K=b.tagByName[O];else{if("number"!=typeof O||(0|O)!==O)return U.error("Unknown tag: "+O);K=O}return K>=31?U.error("Multi-octet tag encoding unsupported"):(A||(K|=32),K|=b.tagClassByName[V||"universal"]<<6)}(A,V,U,this.reporter);if(K.length<128)return(W=new w(2))[0]=Q,W[1]=K.length,this._createEncoderBuffer([W,K]);for(var q=1,Y=K.length;Y>=256;Y>>=8)q++;(W=new w(2+q))[0]=Q,W[1]=128|q,Y=1+q;for(var re=K.length;re>0;Y--,re>>=8)W[Y]=255&re;return this._createEncoderBuffer([W,K])},S.prototype._encodeStr=function(A,V){if("bitstr"===V)return this._createEncoderBuffer([0|A.unused,A.data]);if("bmpstr"===V){for(var U=new w(2*A.length),K=0;K<A.length;K++)U.writeUInt16BE(A.charCodeAt(K),2*K);return this._createEncoderBuffer(U)}return"numstr"===V?this._isNumstr(A)?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===V?this._isPrintstr(A)?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(V)||"objDesc"===V?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: "+V+" unsupported")},S.prototype._encodeObjid=function(A,V,U){if("string"==typeof A){if(!V)return this.reporter.error("string objid given, but no values map found");if(!V.hasOwnProperty(A))return this.reporter.error("objid not found in values map");A=V[A].split(/[\s\.]+/g);for(var K=0;K<A.length;K++)A[K]|=0}else if(Array.isArray(A))for(A=A.slice(),K=0;K<A.length;K++)A[K]|=0;if(!Array.isArray(A))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(A));if(!U){if(A[1]>=40)return this.reporter.error("Second objid identifier OOB");A.splice(0,2,40*A[0]+A[1])}var Q=0;for(K=0;K<A.length;K++){var q=A[K];for(Q++;q>=128;q>>=7)Q++}var Y=new w(Q),W=Y.length-1;for(K=A.length-1;K>=0;K--)for(Y[W--]=127&(q=A[K]);(q>>=7)>0;)Y[W--]=128|127&q;return this._createEncoderBuffer(Y)},S.prototype._encodeTime=function(A,V){var U,K=new Date(A);return"gentime"===V?U=[P(K.getFullYear()),P(K.getUTCMonth()+1),P(K.getUTCDate()),P(K.getUTCHours()),P(K.getUTCMinutes()),P(K.getUTCSeconds()),"Z"].join(""):"utctime"===V?U=[P(K.getFullYear()%100),P(K.getUTCMonth()+1),P(K.getUTCDate()),P(K.getUTCHours()),P(K.getUTCMinutes()),P(K.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+V+" time is not supported yet"),this._encodeStr(U,"octstr")},S.prototype._encodeNull=function(){return this._createEncoderBuffer("")},S.prototype._encodeInt=function(A,V){if("string"==typeof A){if(!V)return this.reporter.error("String int or enum given, but no values map");if(!V.hasOwnProperty(A))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(A));A=V[A]}if("number"!=typeof A&&!w.isBuffer(A)){var U=A.toArray();!A.sign&&128&U[0]&&U.unshift(0),A=new w(U)}if(w.isBuffer(A)){var K=A.length;0===A.length&&K++;var q=new w(K);return A.copy(q),0===A.length&&(q[0]=0),this._createEncoderBuffer(q)}if(A<128)return this._createEncoderBuffer(A);if(A<256)return this._createEncoderBuffer([0,A]);K=1;for(var Q=A;Q>=256;Q>>=8)K++;for(Q=(q=new Array(K)).length-1;Q>=0;Q--)q[Q]=255&A,A>>=8;return 128&q[0]&&q.unshift(0),this._createEncoderBuffer(new w(q))},S.prototype._encodeBool=function(A){return this._createEncoderBuffer(A?255:0)},S.prototype._use=function(A,V){return"function"==typeof A&&(A=A(V)),A._getEncoder("der").tree},S.prototype._skipDefault=function(A,V,U){var Q,K=this._baseState;if(null===K.default)return!1;var q=A.join();if(void 0===K.defaultBuffer&&(K.defaultBuffer=this._encodeValue(K.default,V,U).join()),q.length!==K.defaultBuffer.length)return!1;for(Q=0;Q<q.length;Q++)if(q[Q]!==K.defaultBuffer[Q])return!1;return!0}},22714:($e,j,E)=>{var g=j;g.der=E(72193),g.pem=E(24816)},24816:($e,j,E)=>{var g=E(71993),w=E(72193);function B(H){w.call(this,H),this.enc="pem"}g(B,w),$e.exports=B,B.prototype.encode=function(b,k){for(var P=w.prototype.encode.call(this,b).toString("base64"),R=["-----BEGIN "+k.label+"-----"],O=0;O<P.length;O+=64)R.push(P.slice(O,O+64));return R.push("-----END "+k.label+"-----"),R.join("\n")}},96867:function($e,j,E){!function(g,w){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:w.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(78982).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,_=Math.min(C.length,d),I=s;I<_;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var _,I,L=0;if("be"===h)for(f=s.length-1,_=0;f>=0;f-=3)this.words[_]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);else if("le"===h)for(f=0,_=0;f<s.length;f+=3)this.words[_]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,_=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,_=1;_<=67108863;_*=d)f++;f--,_=_/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(_),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],_=0|s.words[0],I=f*_,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(_=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,_=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|_)).toString(16);h=0!=(_=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==_&&(h=_.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),_=h||Math.max(1,f);B(f<=_,"byte array longer than desired length"),B(_>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(_),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<_;a++)L[a]=0}else{for(a=0;a<_-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[_-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var _=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+_),_=d>>>26;for(;0!==_&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+_),_=d>>>26;if(this.length=h.length,0!==_)this.words[this.length]=_,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,_,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,_=s):(f=s,_=this);for(var I=0,L=0;L<_.length;L++)I=(d=(0|f.words[L])-(0|_.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,_=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ze=0|f[2],ge=8191&Ze,me=Ze>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,Dt=0|f[7],Ne=8191&Dt,ke=Dt>>>13,yt=0|f[8],F=8191&yt,D=yt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|_[0],Ae=8191&Se,ot=Se>>>13,Gt=0|_[1],_t=8191&Gt,Bt=Gt>>>13,en=0|_[2],pn=8191&en,cn=en>>>13,tr=0|_[3],Mn=8191&tr,on=tr>>>13,Qt=0|_[4],ut=8191&Qt,st=Qt>>>13,Zt=0|_[5],Xt=8191&Zt,rn=Zt>>>13,Zn=0|_[6],at=8191&Zn,pt=Zn>>>13,ht=0|_[7],Ke=8191&ht,Ge=ht>>>13,jt=0|_[8],kt=8191&jt,ln=jt>>>13,On=0|_[9],vn=8191&On,gn=On>>>13;h.negative=s.negative^d.negative,h.length=19;var ur=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,ot))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,ot))+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,ot))+Math.imul(Me,Ae)|0,v=Math.imul(Me,ot);var er=(L+(x=x+Math.imul(z,_t)|0)|0)+((8191&(a=(a=a+Math.imul(z,Bt)|0)+Math.imul(ee,_t)|0))<<13)|0;L=((v=v+Math.imul(ee,Bt)|0)+(a>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,ot))+Math.imul(me,Ae)|0,v=Math.imul(me,ot),x=x+Math.imul(we,_t)|0,a=(a=a+Math.imul(we,Bt)|0)+Math.imul(Me,_t)|0,v=v+Math.imul(Me,Bt)|0;var Pn=(L+(x=x+Math.imul(z,pn)|0)|0)+((8191&(a=(a=a+Math.imul(z,cn)|0)+Math.imul(ee,pn)|0))<<13)|0;L=((v=v+Math.imul(ee,cn)|0)+(a>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,ot))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,ot),x=x+Math.imul(ge,_t)|0,a=(a=a+Math.imul(ge,Bt)|0)+Math.imul(me,_t)|0,v=v+Math.imul(me,Bt)|0,x=x+Math.imul(we,pn)|0,a=(a=a+Math.imul(we,cn)|0)+Math.imul(Me,pn)|0,v=v+Math.imul(Me,cn)|0;var Nn=(L+(x=x+Math.imul(z,Mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,on)|0)+Math.imul(ee,Mn)|0))<<13)|0;L=((v=v+Math.imul(ee,on)|0)+(a>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,ot))+Math.imul(ne,Ae)|0,v=Math.imul(ne,ot),x=x+Math.imul(xe,_t)|0,a=(a=a+Math.imul(xe,Bt)|0)+Math.imul(Ce,_t)|0,v=v+Math.imul(Ce,Bt)|0,x=x+Math.imul(ge,pn)|0,a=(a=a+Math.imul(ge,cn)|0)+Math.imul(me,pn)|0,v=v+Math.imul(me,cn)|0,x=x+Math.imul(we,Mn)|0,a=(a=a+Math.imul(we,on)|0)+Math.imul(Me,Mn)|0,v=v+Math.imul(Me,on)|0;var et=(L+(x=x+Math.imul(z,ut)|0)|0)+((8191&(a=(a=a+Math.imul(z,st)|0)+Math.imul(ee,ut)|0))<<13)|0;L=((v=v+Math.imul(ee,st)|0)+(a>>>13)|0)+(et>>>26)|0,et&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,ot))+Math.imul(_e,Ae)|0,v=Math.imul(_e,ot),x=x+Math.imul(he,_t)|0,a=(a=a+Math.imul(he,Bt)|0)+Math.imul(ne,_t)|0,v=v+Math.imul(ne,Bt)|0,x=x+Math.imul(xe,pn)|0,a=(a=a+Math.imul(xe,cn)|0)+Math.imul(Ce,pn)|0,v=v+Math.imul(Ce,cn)|0,x=x+Math.imul(ge,Mn)|0,a=(a=a+Math.imul(ge,on)|0)+Math.imul(me,Mn)|0,v=v+Math.imul(me,on)|0,x=x+Math.imul(we,ut)|0,a=(a=a+Math.imul(we,st)|0)+Math.imul(Me,ut)|0,v=v+Math.imul(Me,st)|0;var Oe=(L+(x=x+Math.imul(z,Xt)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Xt)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,ot))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,ot),x=x+Math.imul(de,_t)|0,a=(a=a+Math.imul(de,Bt)|0)+Math.imul(_e,_t)|0,v=v+Math.imul(_e,Bt)|0,x=x+Math.imul(he,pn)|0,a=(a=a+Math.imul(he,cn)|0)+Math.imul(ne,pn)|0,v=v+Math.imul(ne,cn)|0,x=x+Math.imul(xe,Mn)|0,a=(a=a+Math.imul(xe,on)|0)+Math.imul(Ce,Mn)|0,v=v+Math.imul(Ce,on)|0,x=x+Math.imul(ge,ut)|0,a=(a=a+Math.imul(ge,st)|0)+Math.imul(me,ut)|0,v=v+Math.imul(me,st)|0,x=x+Math.imul(we,Xt)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Xt)|0,v=v+Math.imul(Me,rn)|0;var Qe=(L+(x=x+Math.imul(z,at)|0)|0)+((8191&(a=(a=a+Math.imul(z,pt)|0)+Math.imul(ee,at)|0))<<13)|0;L=((v=v+Math.imul(ee,pt)|0)+(a>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,ot))+Math.imul(ke,Ae)|0,v=Math.imul(ke,ot),x=x+Math.imul(He,_t)|0,a=(a=a+Math.imul(He,Bt)|0)+Math.imul(Ve,_t)|0,v=v+Math.imul(Ve,Bt)|0,x=x+Math.imul(de,pn)|0,a=(a=a+Math.imul(de,cn)|0)+Math.imul(_e,pn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(he,Mn)|0,a=(a=a+Math.imul(he,on)|0)+Math.imul(ne,Mn)|0,v=v+Math.imul(ne,on)|0,x=x+Math.imul(xe,ut)|0,a=(a=a+Math.imul(xe,st)|0)+Math.imul(Ce,ut)|0,v=v+Math.imul(Ce,st)|0,x=x+Math.imul(ge,Xt)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Xt)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,at)|0,a=(a=a+Math.imul(we,pt)|0)+Math.imul(Me,at)|0,v=v+Math.imul(Me,pt)|0;var zt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ge)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,Ge)|0)+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,ot))+Math.imul(D,Ae)|0,v=Math.imul(D,ot),x=x+Math.imul(Ne,_t)|0,a=(a=a+Math.imul(Ne,Bt)|0)+Math.imul(ke,_t)|0,v=v+Math.imul(ke,Bt)|0,x=x+Math.imul(He,pn)|0,a=(a=a+Math.imul(He,cn)|0)+Math.imul(Ve,pn)|0,v=v+Math.imul(Ve,cn)|0,x=x+Math.imul(de,Mn)|0,a=(a=a+Math.imul(de,on)|0)+Math.imul(_e,Mn)|0,v=v+Math.imul(_e,on)|0,x=x+Math.imul(he,ut)|0,a=(a=a+Math.imul(he,st)|0)+Math.imul(ne,ut)|0,v=v+Math.imul(ne,st)|0,x=x+Math.imul(xe,Xt)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Xt)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,at)|0,a=(a=a+Math.imul(ge,pt)|0)+Math.imul(me,at)|0,v=v+Math.imul(me,pt)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,Ge)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,Ge)|0;var hn=(L+(x=x+Math.imul(z,kt)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,kt)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(hn>>>26)|0,hn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,ot))+Math.imul(fe,Ae)|0,v=Math.imul(fe,ot),x=x+Math.imul(F,_t)|0,a=(a=a+Math.imul(F,Bt)|0)+Math.imul(D,_t)|0,v=v+Math.imul(D,Bt)|0,x=x+Math.imul(Ne,pn)|0,a=(a=a+Math.imul(Ne,cn)|0)+Math.imul(ke,pn)|0,v=v+Math.imul(ke,cn)|0,x=x+Math.imul(He,Mn)|0,a=(a=a+Math.imul(He,on)|0)+Math.imul(Ve,Mn)|0,v=v+Math.imul(Ve,on)|0,x=x+Math.imul(de,ut)|0,a=(a=a+Math.imul(de,st)|0)+Math.imul(_e,ut)|0,v=v+Math.imul(_e,st)|0,x=x+Math.imul(he,Xt)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Xt)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,at)|0,a=(a=a+Math.imul(xe,pt)|0)+Math.imul(Ce,at)|0,v=v+Math.imul(Ce,pt)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,Ge)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,Ge)|0,x=x+Math.imul(we,kt)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,kt)|0,v=v+Math.imul(Me,ln)|0;var Un=(L+(x=x+Math.imul(z,vn)|0)|0)+((8191&(a=(a=a+Math.imul(z,gn)|0)+Math.imul(ee,vn)|0))<<13)|0;L=((v=v+Math.imul(ee,gn)|0)+(a>>>13)|0)+(Un>>>26)|0,Un&=67108863,x=Math.imul(G,_t),a=(a=Math.imul(G,Bt))+Math.imul(fe,_t)|0,v=Math.imul(fe,Bt),x=x+Math.imul(F,pn)|0,a=(a=a+Math.imul(F,cn)|0)+Math.imul(D,pn)|0,v=v+Math.imul(D,cn)|0,x=x+Math.imul(Ne,Mn)|0,a=(a=a+Math.imul(Ne,on)|0)+Math.imul(ke,Mn)|0,v=v+Math.imul(ke,on)|0,x=x+Math.imul(He,ut)|0,a=(a=a+Math.imul(He,st)|0)+Math.imul(Ve,ut)|0,v=v+Math.imul(Ve,st)|0,x=x+Math.imul(de,Xt)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Xt)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,at)|0,a=(a=a+Math.imul(he,pt)|0)+Math.imul(ne,at)|0,v=v+Math.imul(ne,pt)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,Ge)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,Ge)|0,x=x+Math.imul(ge,kt)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,kt)|0,v=v+Math.imul(me,ln)|0;var Kn=(L+(x=x+Math.imul(we,vn)|0)|0)+((8191&(a=(a=a+Math.imul(we,gn)|0)+Math.imul(Me,vn)|0))<<13)|0;L=((v=v+Math.imul(Me,gn)|0)+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,x=Math.imul(G,pn),a=(a=Math.imul(G,cn))+Math.imul(fe,pn)|0,v=Math.imul(fe,cn),x=x+Math.imul(F,Mn)|0,a=(a=a+Math.imul(F,on)|0)+Math.imul(D,Mn)|0,v=v+Math.imul(D,on)|0,x=x+Math.imul(Ne,ut)|0,a=(a=a+Math.imul(Ne,st)|0)+Math.imul(ke,ut)|0,v=v+Math.imul(ke,st)|0,x=x+Math.imul(He,Xt)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Xt)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,at)|0,a=(a=a+Math.imul(de,pt)|0)+Math.imul(_e,at)|0,v=v+Math.imul(_e,pt)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,Ge)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,Ge)|0,x=x+Math.imul(xe,kt)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,kt)|0,v=v+Math.imul(Ce,ln)|0;var ir=(L+(x=x+Math.imul(ge,vn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,gn)|0)+Math.imul(me,vn)|0))<<13)|0;L=((v=v+Math.imul(me,gn)|0)+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(G,Mn),a=(a=Math.imul(G,on))+Math.imul(fe,Mn)|0,v=Math.imul(fe,on),x=x+Math.imul(F,ut)|0,a=(a=a+Math.imul(F,st)|0)+Math.imul(D,ut)|0,v=v+Math.imul(D,st)|0,x=x+Math.imul(Ne,Xt)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Xt)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,at)|0,a=(a=a+Math.imul(He,pt)|0)+Math.imul(Ve,at)|0,v=v+Math.imul(Ve,pt)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,Ge)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,Ge)|0,x=x+Math.imul(he,kt)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,kt)|0,v=v+Math.imul(ne,ln)|0;var mr=(L+(x=x+Math.imul(xe,vn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,gn)|0)+Math.imul(Ce,vn)|0))<<13)|0;L=((v=v+Math.imul(Ce,gn)|0)+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(G,ut),a=(a=Math.imul(G,st))+Math.imul(fe,ut)|0,v=Math.imul(fe,st),x=x+Math.imul(F,Xt)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Xt)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,at)|0,a=(a=a+Math.imul(Ne,pt)|0)+Math.imul(ke,at)|0,v=v+Math.imul(ke,pt)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,Ge)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,Ge)|0,x=x+Math.imul(de,kt)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,kt)|0,v=v+Math.imul(_e,ln)|0;var Pr=(L+(x=x+Math.imul(he,vn)|0)|0)+((8191&(a=(a=a+Math.imul(he,gn)|0)+Math.imul(ne,vn)|0))<<13)|0;L=((v=v+Math.imul(ne,gn)|0)+(a>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(G,Xt),a=(a=Math.imul(G,rn))+Math.imul(fe,Xt)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,at)|0,a=(a=a+Math.imul(F,pt)|0)+Math.imul(D,at)|0,v=v+Math.imul(D,pt)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,Ge)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,Ge)|0,x=x+Math.imul(He,kt)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,kt)|0,v=v+Math.imul(Ve,ln)|0;var Sr=(L+(x=x+Math.imul(de,vn)|0)|0)+((8191&(a=(a=a+Math.imul(de,gn)|0)+Math.imul(_e,vn)|0))<<13)|0;L=((v=v+Math.imul(_e,gn)|0)+(a>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,x=Math.imul(G,at),a=(a=Math.imul(G,pt))+Math.imul(fe,at)|0,v=Math.imul(fe,pt),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,Ge)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,Ge)|0,x=x+Math.imul(Ne,kt)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,kt)|0,v=v+Math.imul(ke,ln)|0;var Nr=(L+(x=x+Math.imul(He,vn)|0)|0)+((8191&(a=(a=a+Math.imul(He,gn)|0)+Math.imul(Ve,vn)|0))<<13)|0;L=((v=v+Math.imul(Ve,gn)|0)+(a>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,Ge))+Math.imul(fe,Ke)|0,v=Math.imul(fe,Ge),x=x+Math.imul(F,kt)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,kt)|0,v=v+Math.imul(D,ln)|0;var dr=(L+(x=x+Math.imul(Ne,vn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,gn)|0)+Math.imul(ke,vn)|0))<<13)|0;L=((v=v+Math.imul(ke,gn)|0)+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,x=Math.imul(G,kt),a=(a=Math.imul(G,ln))+Math.imul(fe,kt)|0,v=Math.imul(fe,ln);var nn=(L+(x=x+Math.imul(F,vn)|0)|0)+((8191&(a=(a=a+Math.imul(F,gn)|0)+Math.imul(D,vn)|0))<<13)|0;L=((v=v+Math.imul(D,gn)|0)+(a>>>13)|0)+(nn>>>26)|0,nn&=67108863;var yn=(L+(x=Math.imul(G,vn))|0)+((8191&(a=(a=Math.imul(G,gn))+Math.imul(fe,vn)|0))<<13)|0;return L=((v=Math.imul(fe,gn))+(a>>>13)|0)+(yn>>>26)|0,yn&=67108863,I[0]=ur,I[1]=er,I[2]=Pn,I[3]=Nn,I[4]=et,I[5]=Oe,I[6]=Qe,I[7]=zt,I[8]=hn,I[9]=Un,I[10]=Kn,I[11]=ir,I[12]=mr,I[13]=Pr,I[14]=Sr,I[15]=Nr,I[16]=dr,I[17]=nn,I[18]=yn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,_=0;_<d.length-1;_++){var I=f;f=0;for(var L=67108863&h,x=Math.min(_,s.length-1),a=Math.max(0,_-C.length+1);a<=x;a++){var ee=(0|C.words[_-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[_]=L,h=I,I=f}return 0!==h?d.words[_]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,_=0;_<d;_++)f|=(1&s)<<d-_-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,_,I){for(var L=0;L<I;L++)f[L]=d[s[L]],_[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,_,I){this.permute(I,s,d,h,f,_);for(var L=1;L<_;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<_;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ze=h[Z+le+L],ge=f[Z+le+L],me=z*Ze-ee*ge;ge=z*ge+ee*Ze,h[Z+le]=we+(Ze=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ze,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,_=0;for(h=h/2|0;h;h>>>=1)_++;return 1<<_+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var _=s[f];s[f]=s[h-f-1],s[h-f-1]=_,_=d[f],d[f]=-d[h-f-1],d[h-f-1]=-_}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var _=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&_,h=_<67108864?0:_/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var _=0,I=0;I<d;I++)h[2*I]=8191&(_+=0|s[I]),h[2*I+1]=8191&(_>>>=13),_>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===_),B(!(-8192&_))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),_=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,_),this.transform(v,I,Z,z,f,_);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,_),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,_=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=_>>>26,this.words[h]=67108863&_}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var _=h.sqr();f<d.length;f++,_=_.sqr())0!==d[f]&&(h=h.mul(_));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var _,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(_=0;_<this.length;_++){var L=this.words[_]&f;this.words[_]=(0|this.words[_])-L<<d|I,I=L>>>26-d}I&&(this.words[_]=I,this.length++)}if(0!==h){for(_=this.length-1;_>=0;_--)this.words[_+h]=this.words[_];for(_=0;_<h;_++)this.words[_]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var _=s%26,I=Math.min((s-_)/26,this.length),L=67108863^67108863>>>_<<_,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-_|Z>>>_,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var _;this._expand(s.length+h);var I,L=0;for(_=0;_<s.length;_++){I=(0|this.words[_+h])+L;var x=(0|s.words[_])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[_+h]=67108863&I}for(;_<this.length-h;_++)L=(I=(0|this.words[_+h])+L)>>26,this.words[_+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,_=0;_<this.length;_++)L=(I=-(0|this.words[_])+L)>>26,this.words[_]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),_=s,I=0|_.words[_.length-1];0!=(h=26-this._countBits(I))&&(_=_.ushln(h),f.iushln(h),I=0|_.words[_.length-1]);var a,x=f.length-_.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(_,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[_.length+z])+(0|f.words[_.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(_,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(_,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.iadd(s)),{div:f,mod:_}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.isub(s)),{div:I.div,mod:_}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,_,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),_=s.andln(1),I=h.cmp(f);return I<0||1===_&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||_.isOdd())&&(f.iadd(a),_.isub(v)),f.iushrn(1),_.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),_.isub(L)):(h.isub(d),I.isub(f),L.isub(_))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(_)):(h.isub(d),_.isub(f))}return(Z=0===d.cmpn(1)?f:_).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var _=d.cmp(h);if(_<0){var I=d;d=h,h=I}else if(0===_||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var _=f,I=h;0!==_&&I<this.length;I++){var L=0|this.words[I];_=(L+=_)>>>26,this.words[I]=L&=67108863}return 0!==_&&(this.words[I]=_,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],_=0|s.words[h];if(f!==_){f<_?d=-1:f>_&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),_=0;_<f;_++)d.words[_]=s.words[_];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,_=10;_<s.length;_++){var L=0|s.words[_];s.words[_-10]=(L&h)<<4|I>>>22,I=L}s.words[_-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,_=67108863&f;f>>>=26,s.words[h]=_,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),_=0;!f.isZero()&&0===f.andln(1);)_++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=_;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var _=2;_<f.length;_++)f[_]=this.mul(f[_-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),_=d.length-1;_>=0;_--){for(var v=d.words[_],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===_&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},13981:($e,j)=>{"use strict";j.byteLength=function S(U){var K=k(U),q=K[1];return 3*(K[0]+q)/4-q},j.toByteArray=function R(U){var K,ae,Q=k(U),q=Q[0],Y=Q[1],W=new w(function P(U,K,Q){return 3*(K+Q)/4-Q}(0,q,Y)),re=0,ie=Y>0?q-4:q;for(ae=0;ae<ie;ae+=4)K=g[U.charCodeAt(ae)]<<18|g[U.charCodeAt(ae+1)]<<12|g[U.charCodeAt(ae+2)]<<6|g[U.charCodeAt(ae+3)],W[re++]=K>>16&255,W[re++]=K>>8&255,W[re++]=255&K;return 2===Y&&(K=g[U.charCodeAt(ae)]<<2|g[U.charCodeAt(ae+1)]>>4,W[re++]=255&K),1===Y&&(K=g[U.charCodeAt(ae)]<<10|g[U.charCodeAt(ae+1)]<<4|g[U.charCodeAt(ae+2)]>>2,W[re++]=K>>8&255,W[re++]=255&K),W},j.fromByteArray=function V(U){for(var K,Q=U.length,q=Q%3,Y=[],W=16383,re=0,ie=Q-q;re<ie;re+=W)Y.push(A(U,re,re+W>ie?ie:re+W));return 1===q?Y.push(E[(K=U[Q-1])>>2]+E[K<<4&63]+"=="):2===q&&Y.push(E[(K=(U[Q-2]<<8)+U[Q-1])>>10]+E[K>>4&63]+E[K<<2&63]+"="),Y.join("")};for(var E=[],g=[],w=typeof Uint8Array<"u"?Uint8Array:Array,B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=0;H<64;++H)E[H]=B[H],g[B.charCodeAt(H)]=H;function k(U){var K=U.length;if(K%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Q=U.indexOf("=");return-1===Q&&(Q=K),[Q,Q===K?0:4-Q%4]}function O(U){return E[U>>18&63]+E[U>>12&63]+E[U>>6&63]+E[63&U]}function A(U,K,Q){for(var Y=[],W=K;W<Q;W+=3)Y.push(O((U[W]<<16&16711680)+(U[W+1]<<8&65280)+(255&U[W+2])));return Y.join("")}g[45]=62,g[95]=63},917:function($e,j,E){!function(g,w){"use strict";function B(h,f){if(!h)throw new Error(f||"Assertion failed")}function H(h,f){h.super_=f;var _=function(){};_.prototype=f.prototype,h.prototype=new _,h.prototype.constructor=h}function b(h,f,_){if(b.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,null!==h&&(("le"===f||"be"===f)&&(_=f,f=10),this._init(h||0,f||10,_||"be"))}var k;"object"==typeof g?g.exports=b:w.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(47790).Buffer}catch{}function S(h,f){var _=h.charCodeAt(f);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void B(!1,"Invalid character in "+h)}function P(h,f,_){var I=S(h,_);return _-1>=f&&(I|=S(h,_-1)<<4),I}function R(h,f,_,I){for(var L=0,x=0,a=Math.min(h.length,_),v=f;v<a;v++){var Z=h.charCodeAt(v)-48;L*=I,x=Z>=49?Z-49+10:Z>=17?Z-17+10:Z,B(Z>=0&&x<I,"Invalid character"),L+=x}return L}function O(h,f){h.words=f.words,h.length=f.length,h.negative=f.negative,h.red=f.red}if(b.isBN=function(f){return f instanceof b||null!==f&&"object"==typeof f&&f.constructor.wordSize===b.wordSize&&Array.isArray(f.words)},b.max=function(f,_){return f.cmp(_)>0?f:_},b.min=function(f,_){return f.cmp(_)<0?f:_},b.prototype._init=function(f,_,I){if("number"==typeof f)return this._initNumber(f,_,I);if("object"==typeof f)return this._initArray(f,_,I);"hex"===_&&(_=16),B(_===(0|_)&&_>=2&&_<=36);var L=0;"-"===(f=f.toString().replace(/\s+/g,""))[0]&&(L++,this.negative=1),L<f.length&&(16===_?this._parseHex(f,L,I):(this._parseBase(f,_,L),"le"===I&&this._initArray(this.toArray(),_,I)))},b.prototype._initNumber=function(f,_,I){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[67108863&f],this.length=1):f<4503599627370496?(this.words=[67108863&f,f/67108864&67108863],this.length=2):(B(f<9007199254740992),this.words=[67108863&f,f/67108864&67108863,1],this.length=3),"le"===I&&this._initArray(this.toArray(),_,I)},b.prototype._initArray=function(f,_,I){if(B("number"==typeof f.length),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var x,a,v=0;if("be"===I)for(L=f.length-1,x=0;L>=0;L-=3)this.words[x]|=(a=f[L]|f[L-1]<<8|f[L-2]<<16)<<v&67108863,this.words[x+1]=a>>>26-v&67108863,(v+=24)>=26&&(v-=26,x++);else if("le"===I)for(L=0,x=0;L<f.length;L+=3)this.words[x]|=(a=f[L]|f[L+1]<<8|f[L+2]<<16)<<v&67108863,this.words[x+1]=a>>>26-v&67108863,(v+=24)>=26&&(v-=26,x++);return this._strip()},b.prototype._parseHex=function(f,_,I){this.length=Math.ceil((f.length-_)/6),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var v,x=0,a=0;if("be"===I)for(L=f.length-1;L>=_;L-=2)v=P(f,_,L)<<x,this.words[a]|=67108863&v,x>=18?(x-=18,this.words[a+=1]|=v>>>26):x+=8;else for(L=(f.length-_)%2==0?_+1:_;L<f.length;L+=2)v=P(f,_,L)<<x,this.words[a]|=67108863&v,x>=18?(x-=18,this.words[a+=1]|=v>>>26):x+=8;this._strip()},b.prototype._parseBase=function(f,_,I){this.words=[0],this.length=1;for(var L=0,x=1;x<=67108863;x*=_)L++;L--,x=x/_|0;for(var a=f.length-I,v=a%L,Z=Math.min(a,a-v)+I,z=0,ee=I;ee<Z;ee+=L)z=R(f,ee,ee+L,_),this.imuln(x),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z);if(0!==v){var le=1;for(z=R(f,ee,f.length,_),ee=0;ee<v;ee++)le*=_;this.imuln(le),this.words[0]+z<67108864?this.words[0]+=z:this._iaddn(z)}this._strip()},b.prototype.copy=function(f){f.words=new Array(this.length);for(var _=0;_<this.length;_++)f.words[_]=this.words[_];f.length=this.length,f.negative=this.negative,f.red=this.red},b.prototype._move=function(f){O(f,this)},b.prototype.clone=function(){var f=new b(null);return this.copy(f),f},b.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},b.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{b.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{b.prototype.inspect=A}else b.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],U=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],K=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Y(h,f,_){_.negative=f.negative^h.negative;var I=h.length+f.length|0;_.length=I,I=I-1|0;var L=0|h.words[0],x=0|f.words[0],a=L*x,Z=a/67108864|0;_.words[0]=67108863&a;for(var z=1;z<I;z++){for(var ee=Z>>>26,le=67108863&Z,we=Math.min(z,f.length-1),Me=Math.max(0,z-h.length+1);Me<=we;Me++)ee+=(a=(L=0|h.words[z-Me|0])*(x=0|f.words[Me])+le)/67108864|0,le=67108863&a;_.words[z]=0|le,Z=0|ee}return 0!==Z?_.words[z]=0|Z:_.length--,_._strip()}b.prototype.toString=function(f,_){var I;if(_=0|_||1,16===(f=f||10)||"hex"===f){I="";for(var L=0,x=0,a=0;a<this.length;a++){var v=this.words[a],Z=(16777215&(v<<L|x)).toString(16);x=v>>>24-L&16777215,(L+=2)>=26&&(L-=26,a--),I=0!==x||a!==this.length-1?V[6-Z.length]+Z+I:Z+I}for(0!==x&&(I=x.toString(16)+I);I.length%_!=0;)I="0"+I;return 0!==this.negative&&(I="-"+I),I}if(f===(0|f)&&f>=2&&f<=36){var z=U[f],ee=K[f];I="";var le=this.clone();for(le.negative=0;!le.isZero();){var we=le.modrn(ee).toString(f);I=(le=le.idivn(ee)).isZero()?we+I:V[z-we.length]+we+I}for(this.isZero()&&(I="0"+I);I.length%_!=0;)I="0"+I;return 0!==this.negative&&(I="-"+I),I}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var f=this.words[0];return 2===this.length?f+=67108864*this.words[1]:3===this.length&&1===this.words[2]?f+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-f:f},b.prototype.toJSON=function(){return this.toString(16,2)},k&&(b.prototype.toBuffer=function(f,_){return this.toArrayLike(k,f,_)}),b.prototype.toArray=function(f,_){return this.toArrayLike(Array,f,_)},b.prototype.toArrayLike=function(f,_,I){this._strip();var L=this.byteLength(),x=I||Math.max(1,L);B(L<=x,"byte array longer than desired length"),B(x>0,"Requested array length <= 0");var a=function(f,_){return f.allocUnsafe?f.allocUnsafe(_):new f(_)}(f,x);return this["_toArrayLike"+("le"===_?"LE":"BE")](a,L),a},b.prototype._toArrayLikeLE=function(f,_){for(var I=0,L=0,x=0,a=0;x<this.length;x++){var v=this.words[x]<<a|L;f[I++]=255&v,I<f.length&&(f[I++]=v>>8&255),I<f.length&&(f[I++]=v>>16&255),6===a?(I<f.length&&(f[I++]=v>>24&255),L=0,a=0):(L=v>>>24,a+=2)}if(I<f.length)for(f[I++]=L;I<f.length;)f[I++]=0},b.prototype._toArrayLikeBE=function(f,_){for(var I=f.length-1,L=0,x=0,a=0;x<this.length;x++){var v=this.words[x]<<a|L;f[I--]=255&v,I>=0&&(f[I--]=v>>8&255),I>=0&&(f[I--]=v>>16&255),6===a?(I>=0&&(f[I--]=v>>24&255),L=0,a=0):(L=v>>>24,a+=2)}if(I>=0)for(f[I--]=L;I>=0;)f[I--]=0},b.prototype._countBits=Math.clz32?function(f){return 32-Math.clz32(f)}:function(f){var _=f,I=0;return _>=4096&&(I+=13,_>>>=13),_>=64&&(I+=7,_>>>=7),_>=8&&(I+=4,_>>>=4),_>=2&&(I+=2,_>>>=2),I+_},b.prototype._zeroBits=function(f){if(0===f)return 26;var _=f,I=0;return 8191&_||(I+=13,_>>>=13),127&_||(I+=7,_>>>=7),15&_||(I+=4,_>>>=4),3&_||(I+=2,_>>>=2),1&_||I++,I},b.prototype.bitLength=function(){var _=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+_},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,_=0;_<this.length;_++){var I=this._zeroBits(this.words[_]);if(f+=I,26!==I)break}return f},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(f){return 0!==this.negative?this.abs().inotn(f).iaddn(1):this.clone()},b.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var _=0;_<f.length;_++)this.words[_]=this.words[_]|f.words[_];return this._strip()},b.prototype.ior=function(f){return B(!(this.negative|f.negative)),this.iuor(f)},b.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},b.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},b.prototype.iuand=function(f){var _;_=this.length>f.length?f:this;for(var I=0;I<_.length;I++)this.words[I]=this.words[I]&f.words[I];return this.length=_.length,this._strip()},b.prototype.iand=function(f){return B(!(this.negative|f.negative)),this.iuand(f)},b.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},b.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},b.prototype.iuxor=function(f){var _,I;this.length>f.length?(_=this,I=f):(_=f,I=this);for(var L=0;L<I.length;L++)this.words[L]=_.words[L]^I.words[L];if(this!==_)for(;L<_.length;L++)this.words[L]=_.words[L];return this.length=_.length,this._strip()},b.prototype.ixor=function(f){return B(!(this.negative|f.negative)),this.iuxor(f)},b.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},b.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},b.prototype.inotn=function(f){B("number"==typeof f&&f>=0);var _=0|Math.ceil(f/26),I=f%26;this._expand(_),I>0&&_--;for(var L=0;L<_;L++)this.words[L]=67108863&~this.words[L];return I>0&&(this.words[L]=~this.words[L]&67108863>>26-I),this._strip()},b.prototype.notn=function(f){return this.clone().inotn(f)},b.prototype.setn=function(f,_){B("number"==typeof f&&f>=0);var I=f/26|0,L=f%26;return this._expand(I+1),this.words[I]=_?this.words[I]|1<<L:this.words[I]&~(1<<L),this._strip()},b.prototype.iadd=function(f){var _,I,L;if(0!==this.negative&&0===f.negative)return this.negative=0,_=this.isub(f),this.negative^=1,this._normSign();if(0===this.negative&&0!==f.negative)return f.negative=0,_=this.isub(f),f.negative=1,_._normSign();this.length>f.length?(I=this,L=f):(I=f,L=this);for(var x=0,a=0;a<L.length;a++)this.words[a]=67108863&(_=(0|I.words[a])+(0|L.words[a])+x),x=_>>>26;for(;0!==x&&a<I.length;a++)this.words[a]=67108863&(_=(0|I.words[a])+x),x=_>>>26;if(this.length=I.length,0!==x)this.words[this.length]=x,this.length++;else if(I!==this)for(;a<I.length;a++)this.words[a]=I.words[a];return this},b.prototype.add=function(f){var _;return 0!==f.negative&&0===this.negative?(f.negative=0,_=this.sub(f),f.negative^=1,_):0===f.negative&&0!==this.negative?(this.negative=0,_=f.sub(this),this.negative=1,_):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},b.prototype.isub=function(f){if(0!==f.negative){f.negative=0;var _=this.iadd(f);return f.negative=1,_._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var L,x,I=this.cmp(f);if(0===I)return this.negative=0,this.length=1,this.words[0]=0,this;I>0?(L=this,x=f):(L=f,x=this);for(var a=0,v=0;v<x.length;v++)a=(_=(0|L.words[v])-(0|x.words[v])+a)>>26,this.words[v]=67108863&_;for(;0!==a&&v<L.length;v++)a=(_=(0|L.words[v])+a)>>26,this.words[v]=67108863&_;if(0===a&&v<L.length&&L!==this)for(;v<L.length;v++)this.words[v]=L.words[v];return this.length=Math.max(this.length,v),L!==this&&(this.negative=1),this._strip()},b.prototype.sub=function(f){return this.clone().isub(f)};var W=function(f,_,I){var Z,z,ee,L=f.words,x=_.words,a=I.words,v=0,le=0|L[0],we=8191&le,Me=le>>>13,Ze=0|L[1],ge=8191&Ze,me=Ze>>>13,Ue=0|L[2],xe=8191&Ue,Ce=Ue>>>13,be=0|L[3],he=8191&be,ne=be>>>13,te=0|L[4],de=8191&te,_e=te>>>13,Ie=0|L[5],He=8191&Ie,Ve=Ie>>>13,Dt=0|L[6],Ne=8191&Dt,ke=Dt>>>13,yt=0|L[7],F=8191&yt,D=yt>>>13,M=0|L[8],G=8191&M,fe=M>>>13,Se=0|L[9],Ae=8191&Se,ot=Se>>>13,Gt=0|x[0],_t=8191&Gt,Bt=Gt>>>13,en=0|x[1],pn=8191&en,cn=en>>>13,tr=0|x[2],Mn=8191&tr,on=tr>>>13,Qt=0|x[3],ut=8191&Qt,st=Qt>>>13,Zt=0|x[4],Xt=8191&Zt,rn=Zt>>>13,Zn=0|x[5],at=8191&Zn,pt=Zn>>>13,ht=0|x[6],Ke=8191&ht,Ge=ht>>>13,jt=0|x[7],kt=8191&jt,ln=jt>>>13,On=0|x[8],vn=8191&On,gn=On>>>13,ur=0|x[9],er=8191&ur,Pn=ur>>>13;I.negative=f.negative^_.negative,I.length=19;var Nn=(v+(Z=Math.imul(we,_t))|0)+((8191&(z=(z=Math.imul(we,Bt))+Math.imul(Me,_t)|0))<<13)|0;v=((ee=Math.imul(Me,Bt))+(z>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,Z=Math.imul(ge,_t),z=(z=Math.imul(ge,Bt))+Math.imul(me,_t)|0,ee=Math.imul(me,Bt);var et=(v+(Z=Z+Math.imul(we,pn)|0)|0)+((8191&(z=(z=z+Math.imul(we,cn)|0)+Math.imul(Me,pn)|0))<<13)|0;v=((ee=ee+Math.imul(Me,cn)|0)+(z>>>13)|0)+(et>>>26)|0,et&=67108863,Z=Math.imul(xe,_t),z=(z=Math.imul(xe,Bt))+Math.imul(Ce,_t)|0,ee=Math.imul(Ce,Bt),Z=Z+Math.imul(ge,pn)|0,z=(z=z+Math.imul(ge,cn)|0)+Math.imul(me,pn)|0,ee=ee+Math.imul(me,cn)|0;var Oe=(v+(Z=Z+Math.imul(we,Mn)|0)|0)+((8191&(z=(z=z+Math.imul(we,on)|0)+Math.imul(Me,Mn)|0))<<13)|0;v=((ee=ee+Math.imul(Me,on)|0)+(z>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,Z=Math.imul(he,_t),z=(z=Math.imul(he,Bt))+Math.imul(ne,_t)|0,ee=Math.imul(ne,Bt),Z=Z+Math.imul(xe,pn)|0,z=(z=z+Math.imul(xe,cn)|0)+Math.imul(Ce,pn)|0,ee=ee+Math.imul(Ce,cn)|0,Z=Z+Math.imul(ge,Mn)|0,z=(z=z+Math.imul(ge,on)|0)+Math.imul(me,Mn)|0,ee=ee+Math.imul(me,on)|0;var Qe=(v+(Z=Z+Math.imul(we,ut)|0)|0)+((8191&(z=(z=z+Math.imul(we,st)|0)+Math.imul(Me,ut)|0))<<13)|0;v=((ee=ee+Math.imul(Me,st)|0)+(z>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,Z=Math.imul(de,_t),z=(z=Math.imul(de,Bt))+Math.imul(_e,_t)|0,ee=Math.imul(_e,Bt),Z=Z+Math.imul(he,pn)|0,z=(z=z+Math.imul(he,cn)|0)+Math.imul(ne,pn)|0,ee=ee+Math.imul(ne,cn)|0,Z=Z+Math.imul(xe,Mn)|0,z=(z=z+Math.imul(xe,on)|0)+Math.imul(Ce,Mn)|0,ee=ee+Math.imul(Ce,on)|0,Z=Z+Math.imul(ge,ut)|0,z=(z=z+Math.imul(ge,st)|0)+Math.imul(me,ut)|0,ee=ee+Math.imul(me,st)|0;var zt=(v+(Z=Z+Math.imul(we,Xt)|0)|0)+((8191&(z=(z=z+Math.imul(we,rn)|0)+Math.imul(Me,Xt)|0))<<13)|0;v=((ee=ee+Math.imul(Me,rn)|0)+(z>>>13)|0)+(zt>>>26)|0,zt&=67108863,Z=Math.imul(He,_t),z=(z=Math.imul(He,Bt))+Math.imul(Ve,_t)|0,ee=Math.imul(Ve,Bt),Z=Z+Math.imul(de,pn)|0,z=(z=z+Math.imul(de,cn)|0)+Math.imul(_e,pn)|0,ee=ee+Math.imul(_e,cn)|0,Z=Z+Math.imul(he,Mn)|0,z=(z=z+Math.imul(he,on)|0)+Math.imul(ne,Mn)|0,ee=ee+Math.imul(ne,on)|0,Z=Z+Math.imul(xe,ut)|0,z=(z=z+Math.imul(xe,st)|0)+Math.imul(Ce,ut)|0,ee=ee+Math.imul(Ce,st)|0,Z=Z+Math.imul(ge,Xt)|0,z=(z=z+Math.imul(ge,rn)|0)+Math.imul(me,Xt)|0,ee=ee+Math.imul(me,rn)|0;var hn=(v+(Z=Z+Math.imul(we,at)|0)|0)+((8191&(z=(z=z+Math.imul(we,pt)|0)+Math.imul(Me,at)|0))<<13)|0;v=((ee=ee+Math.imul(Me,pt)|0)+(z>>>13)|0)+(hn>>>26)|0,hn&=67108863,Z=Math.imul(Ne,_t),z=(z=Math.imul(Ne,Bt))+Math.imul(ke,_t)|0,ee=Math.imul(ke,Bt),Z=Z+Math.imul(He,pn)|0,z=(z=z+Math.imul(He,cn)|0)+Math.imul(Ve,pn)|0,ee=ee+Math.imul(Ve,cn)|0,Z=Z+Math.imul(de,Mn)|0,z=(z=z+Math.imul(de,on)|0)+Math.imul(_e,Mn)|0,ee=ee+Math.imul(_e,on)|0,Z=Z+Math.imul(he,ut)|0,z=(z=z+Math.imul(he,st)|0)+Math.imul(ne,ut)|0,ee=ee+Math.imul(ne,st)|0,Z=Z+Math.imul(xe,Xt)|0,z=(z=z+Math.imul(xe,rn)|0)+Math.imul(Ce,Xt)|0,ee=ee+Math.imul(Ce,rn)|0,Z=Z+Math.imul(ge,at)|0,z=(z=z+Math.imul(ge,pt)|0)+Math.imul(me,at)|0,ee=ee+Math.imul(me,pt)|0;var Un=(v+(Z=Z+Math.imul(we,Ke)|0)|0)+((8191&(z=(z=z+Math.imul(we,Ge)|0)+Math.imul(Me,Ke)|0))<<13)|0;v=((ee=ee+Math.imul(Me,Ge)|0)+(z>>>13)|0)+(Un>>>26)|0,Un&=67108863,Z=Math.imul(F,_t),z=(z=Math.imul(F,Bt))+Math.imul(D,_t)|0,ee=Math.imul(D,Bt),Z=Z+Math.imul(Ne,pn)|0,z=(z=z+Math.imul(Ne,cn)|0)+Math.imul(ke,pn)|0,ee=ee+Math.imul(ke,cn)|0,Z=Z+Math.imul(He,Mn)|0,z=(z=z+Math.imul(He,on)|0)+Math.imul(Ve,Mn)|0,ee=ee+Math.imul(Ve,on)|0,Z=Z+Math.imul(de,ut)|0,z=(z=z+Math.imul(de,st)|0)+Math.imul(_e,ut)|0,ee=ee+Math.imul(_e,st)|0,Z=Z+Math.imul(he,Xt)|0,z=(z=z+Math.imul(he,rn)|0)+Math.imul(ne,Xt)|0,ee=ee+Math.imul(ne,rn)|0,Z=Z+Math.imul(xe,at)|0,z=(z=z+Math.imul(xe,pt)|0)+Math.imul(Ce,at)|0,ee=ee+Math.imul(Ce,pt)|0,Z=Z+Math.imul(ge,Ke)|0,z=(z=z+Math.imul(ge,Ge)|0)+Math.imul(me,Ke)|0,ee=ee+Math.imul(me,Ge)|0;var Kn=(v+(Z=Z+Math.imul(we,kt)|0)|0)+((8191&(z=(z=z+Math.imul(we,ln)|0)+Math.imul(Me,kt)|0))<<13)|0;v=((ee=ee+Math.imul(Me,ln)|0)+(z>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,Z=Math.imul(G,_t),z=(z=Math.imul(G,Bt))+Math.imul(fe,_t)|0,ee=Math.imul(fe,Bt),Z=Z+Math.imul(F,pn)|0,z=(z=z+Math.imul(F,cn)|0)+Math.imul(D,pn)|0,ee=ee+Math.imul(D,cn)|0,Z=Z+Math.imul(Ne,Mn)|0,z=(z=z+Math.imul(Ne,on)|0)+Math.imul(ke,Mn)|0,ee=ee+Math.imul(ke,on)|0,Z=Z+Math.imul(He,ut)|0,z=(z=z+Math.imul(He,st)|0)+Math.imul(Ve,ut)|0,ee=ee+Math.imul(Ve,st)|0,Z=Z+Math.imul(de,Xt)|0,z=(z=z+Math.imul(de,rn)|0)+Math.imul(_e,Xt)|0,ee=ee+Math.imul(_e,rn)|0,Z=Z+Math.imul(he,at)|0,z=(z=z+Math.imul(he,pt)|0)+Math.imul(ne,at)|0,ee=ee+Math.imul(ne,pt)|0,Z=Z+Math.imul(xe,Ke)|0,z=(z=z+Math.imul(xe,Ge)|0)+Math.imul(Ce,Ke)|0,ee=ee+Math.imul(Ce,Ge)|0,Z=Z+Math.imul(ge,kt)|0,z=(z=z+Math.imul(ge,ln)|0)+Math.imul(me,kt)|0,ee=ee+Math.imul(me,ln)|0;var ir=(v+(Z=Z+Math.imul(we,vn)|0)|0)+((8191&(z=(z=z+Math.imul(we,gn)|0)+Math.imul(Me,vn)|0))<<13)|0;v=((ee=ee+Math.imul(Me,gn)|0)+(z>>>13)|0)+(ir>>>26)|0,ir&=67108863,Z=Math.imul(Ae,_t),z=(z=Math.imul(Ae,Bt))+Math.imul(ot,_t)|0,ee=Math.imul(ot,Bt),Z=Z+Math.imul(G,pn)|0,z=(z=z+Math.imul(G,cn)|0)+Math.imul(fe,pn)|0,ee=ee+Math.imul(fe,cn)|0,Z=Z+Math.imul(F,Mn)|0,z=(z=z+Math.imul(F,on)|0)+Math.imul(D,Mn)|0,ee=ee+Math.imul(D,on)|0,Z=Z+Math.imul(Ne,ut)|0,z=(z=z+Math.imul(Ne,st)|0)+Math.imul(ke,ut)|0,ee=ee+Math.imul(ke,st)|0,Z=Z+Math.imul(He,Xt)|0,z=(z=z+Math.imul(He,rn)|0)+Math.imul(Ve,Xt)|0,ee=ee+Math.imul(Ve,rn)|0,Z=Z+Math.imul(de,at)|0,z=(z=z+Math.imul(de,pt)|0)+Math.imul(_e,at)|0,ee=ee+Math.imul(_e,pt)|0,Z=Z+Math.imul(he,Ke)|0,z=(z=z+Math.imul(he,Ge)|0)+Math.imul(ne,Ke)|0,ee=ee+Math.imul(ne,Ge)|0,Z=Z+Math.imul(xe,kt)|0,z=(z=z+Math.imul(xe,ln)|0)+Math.imul(Ce,kt)|0,ee=ee+Math.imul(Ce,ln)|0,Z=Z+Math.imul(ge,vn)|0,z=(z=z+Math.imul(ge,gn)|0)+Math.imul(me,vn)|0,ee=ee+Math.imul(me,gn)|0;var mr=(v+(Z=Z+Math.imul(we,er)|0)|0)+((8191&(z=(z=z+Math.imul(we,Pn)|0)+Math.imul(Me,er)|0))<<13)|0;v=((ee=ee+Math.imul(Me,Pn)|0)+(z>>>13)|0)+(mr>>>26)|0,mr&=67108863,Z=Math.imul(Ae,pn),z=(z=Math.imul(Ae,cn))+Math.imul(ot,pn)|0,ee=Math.imul(ot,cn),Z=Z+Math.imul(G,Mn)|0,z=(z=z+Math.imul(G,on)|0)+Math.imul(fe,Mn)|0,ee=ee+Math.imul(fe,on)|0,Z=Z+Math.imul(F,ut)|0,z=(z=z+Math.imul(F,st)|0)+Math.imul(D,ut)|0,ee=ee+Math.imul(D,st)|0,Z=Z+Math.imul(Ne,Xt)|0,z=(z=z+Math.imul(Ne,rn)|0)+Math.imul(ke,Xt)|0,ee=ee+Math.imul(ke,rn)|0,Z=Z+Math.imul(He,at)|0,z=(z=z+Math.imul(He,pt)|0)+Math.imul(Ve,at)|0,ee=ee+Math.imul(Ve,pt)|0,Z=Z+Math.imul(de,Ke)|0,z=(z=z+Math.imul(de,Ge)|0)+Math.imul(_e,Ke)|0,ee=ee+Math.imul(_e,Ge)|0,Z=Z+Math.imul(he,kt)|0,z=(z=z+Math.imul(he,ln)|0)+Math.imul(ne,kt)|0,ee=ee+Math.imul(ne,ln)|0,Z=Z+Math.imul(xe,vn)|0,z=(z=z+Math.imul(xe,gn)|0)+Math.imul(Ce,vn)|0,ee=ee+Math.imul(Ce,gn)|0;var Pr=(v+(Z=Z+Math.imul(ge,er)|0)|0)+((8191&(z=(z=z+Math.imul(ge,Pn)|0)+Math.imul(me,er)|0))<<13)|0;v=((ee=ee+Math.imul(me,Pn)|0)+(z>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,Z=Math.imul(Ae,Mn),z=(z=Math.imul(Ae,on))+Math.imul(ot,Mn)|0,ee=Math.imul(ot,on),Z=Z+Math.imul(G,ut)|0,z=(z=z+Math.imul(G,st)|0)+Math.imul(fe,ut)|0,ee=ee+Math.imul(fe,st)|0,Z=Z+Math.imul(F,Xt)|0,z=(z=z+Math.imul(F,rn)|0)+Math.imul(D,Xt)|0,ee=ee+Math.imul(D,rn)|0,Z=Z+Math.imul(Ne,at)|0,z=(z=z+Math.imul(Ne,pt)|0)+Math.imul(ke,at)|0,ee=ee+Math.imul(ke,pt)|0,Z=Z+Math.imul(He,Ke)|0,z=(z=z+Math.imul(He,Ge)|0)+Math.imul(Ve,Ke)|0,ee=ee+Math.imul(Ve,Ge)|0,Z=Z+Math.imul(de,kt)|0,z=(z=z+Math.imul(de,ln)|0)+Math.imul(_e,kt)|0,ee=ee+Math.imul(_e,ln)|0,Z=Z+Math.imul(he,vn)|0,z=(z=z+Math.imul(he,gn)|0)+Math.imul(ne,vn)|0,ee=ee+Math.imul(ne,gn)|0;var Sr=(v+(Z=Z+Math.imul(xe,er)|0)|0)+((8191&(z=(z=z+Math.imul(xe,Pn)|0)+Math.imul(Ce,er)|0))<<13)|0;v=((ee=ee+Math.imul(Ce,Pn)|0)+(z>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,Z=Math.imul(Ae,ut),z=(z=Math.imul(Ae,st))+Math.imul(ot,ut)|0,ee=Math.imul(ot,st),Z=Z+Math.imul(G,Xt)|0,z=(z=z+Math.imul(G,rn)|0)+Math.imul(fe,Xt)|0,ee=ee+Math.imul(fe,rn)|0,Z=Z+Math.imul(F,at)|0,z=(z=z+Math.imul(F,pt)|0)+Math.imul(D,at)|0,ee=ee+Math.imul(D,pt)|0,Z=Z+Math.imul(Ne,Ke)|0,z=(z=z+Math.imul(Ne,Ge)|0)+Math.imul(ke,Ke)|0,ee=ee+Math.imul(ke,Ge)|0,Z=Z+Math.imul(He,kt)|0,z=(z=z+Math.imul(He,ln)|0)+Math.imul(Ve,kt)|0,ee=ee+Math.imul(Ve,ln)|0,Z=Z+Math.imul(de,vn)|0,z=(z=z+Math.imul(de,gn)|0)+Math.imul(_e,vn)|0,ee=ee+Math.imul(_e,gn)|0;var Nr=(v+(Z=Z+Math.imul(he,er)|0)|0)+((8191&(z=(z=z+Math.imul(he,Pn)|0)+Math.imul(ne,er)|0))<<13)|0;v=((ee=ee+Math.imul(ne,Pn)|0)+(z>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,Z=Math.imul(Ae,Xt),z=(z=Math.imul(Ae,rn))+Math.imul(ot,Xt)|0,ee=Math.imul(ot,rn),Z=Z+Math.imul(G,at)|0,z=(z=z+Math.imul(G,pt)|0)+Math.imul(fe,at)|0,ee=ee+Math.imul(fe,pt)|0,Z=Z+Math.imul(F,Ke)|0,z=(z=z+Math.imul(F,Ge)|0)+Math.imul(D,Ke)|0,ee=ee+Math.imul(D,Ge)|0,Z=Z+Math.imul(Ne,kt)|0,z=(z=z+Math.imul(Ne,ln)|0)+Math.imul(ke,kt)|0,ee=ee+Math.imul(ke,ln)|0,Z=Z+Math.imul(He,vn)|0,z=(z=z+Math.imul(He,gn)|0)+Math.imul(Ve,vn)|0,ee=ee+Math.imul(Ve,gn)|0;var dr=(v+(Z=Z+Math.imul(de,er)|0)|0)+((8191&(z=(z=z+Math.imul(de,Pn)|0)+Math.imul(_e,er)|0))<<13)|0;v=((ee=ee+Math.imul(_e,Pn)|0)+(z>>>13)|0)+(dr>>>26)|0,dr&=67108863,Z=Math.imul(Ae,at),z=(z=Math.imul(Ae,pt))+Math.imul(ot,at)|0,ee=Math.imul(ot,pt),Z=Z+Math.imul(G,Ke)|0,z=(z=z+Math.imul(G,Ge)|0)+Math.imul(fe,Ke)|0,ee=ee+Math.imul(fe,Ge)|0,Z=Z+Math.imul(F,kt)|0,z=(z=z+Math.imul(F,ln)|0)+Math.imul(D,kt)|0,ee=ee+Math.imul(D,ln)|0,Z=Z+Math.imul(Ne,vn)|0,z=(z=z+Math.imul(Ne,gn)|0)+Math.imul(ke,vn)|0,ee=ee+Math.imul(ke,gn)|0;var nn=(v+(Z=Z+Math.imul(He,er)|0)|0)+((8191&(z=(z=z+Math.imul(He,Pn)|0)+Math.imul(Ve,er)|0))<<13)|0;v=((ee=ee+Math.imul(Ve,Pn)|0)+(z>>>13)|0)+(nn>>>26)|0,nn&=67108863,Z=Math.imul(Ae,Ke),z=(z=Math.imul(Ae,Ge))+Math.imul(ot,Ke)|0,ee=Math.imul(ot,Ge),Z=Z+Math.imul(G,kt)|0,z=(z=z+Math.imul(G,ln)|0)+Math.imul(fe,kt)|0,ee=ee+Math.imul(fe,ln)|0,Z=Z+Math.imul(F,vn)|0,z=(z=z+Math.imul(F,gn)|0)+Math.imul(D,vn)|0,ee=ee+Math.imul(D,gn)|0;var yn=(v+(Z=Z+Math.imul(Ne,er)|0)|0)+((8191&(z=(z=z+Math.imul(Ne,Pn)|0)+Math.imul(ke,er)|0))<<13)|0;v=((ee=ee+Math.imul(ke,Pn)|0)+(z>>>13)|0)+(yn>>>26)|0,yn&=67108863,Z=Math.imul(Ae,kt),z=(z=Math.imul(Ae,ln))+Math.imul(ot,kt)|0,ee=Math.imul(ot,ln),Z=Z+Math.imul(G,vn)|0,z=(z=z+Math.imul(G,gn)|0)+Math.imul(fe,vn)|0,ee=ee+Math.imul(fe,gn)|0;var En=(v+(Z=Z+Math.imul(F,er)|0)|0)+((8191&(z=(z=z+Math.imul(F,Pn)|0)+Math.imul(D,er)|0))<<13)|0;v=((ee=ee+Math.imul(D,Pn)|0)+(z>>>13)|0)+(En>>>26)|0,En&=67108863,Z=Math.imul(Ae,vn),z=(z=Math.imul(Ae,gn))+Math.imul(ot,vn)|0,ee=Math.imul(ot,gn);var Fn=(v+(Z=Z+Math.imul(G,er)|0)|0)+((8191&(z=(z=z+Math.imul(G,Pn)|0)+Math.imul(fe,er)|0))<<13)|0;v=((ee=ee+Math.imul(fe,Pn)|0)+(z>>>13)|0)+(Fn>>>26)|0,Fn&=67108863;var Wn=(v+(Z=Math.imul(Ae,er))|0)+((8191&(z=(z=Math.imul(Ae,Pn))+Math.imul(ot,er)|0))<<13)|0;return v=((ee=Math.imul(ot,Pn))+(z>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,a[0]=Nn,a[1]=et,a[2]=Oe,a[3]=Qe,a[4]=zt,a[5]=hn,a[6]=Un,a[7]=Kn,a[8]=ir,a[9]=mr,a[10]=Pr,a[11]=Sr,a[12]=Nr,a[13]=dr,a[14]=nn,a[15]=yn,a[16]=En,a[17]=Fn,a[18]=Wn,0!==v&&(a[19]=v,I.length++),I};function re(h,f,_){_.negative=f.negative^h.negative,_.length=h.length+f.length;for(var I=0,L=0,x=0;x<_.length-1;x++){var a=L;L=0;for(var v=67108863&I,Z=Math.min(x,f.length-1),z=Math.max(0,x-h.length+1);z<=Z;z++){var Me=(0|h.words[x-z])*(0|f.words[z]),Ze=67108863&Me;v=67108863&(Ze=Ze+v|0),L+=(a=(a=a+(Me/67108864|0)|0)+(Ze>>>26)|0)>>>26,a&=67108863}_.words[x]=v,I=a,a=L}return 0!==I?_.words[x]=I:_.length--,_._strip()}function ie(h,f,_){return re(h,f,_)}function ae(h,f){this.x=h,this.y=f}Math.imul||(W=Y),b.prototype.mulTo=function(f,_){var L=this.length+f.length;return 10===this.length&&10===f.length?W(this,f,_):L<63?Y(this,f,_):L<1024?re(this,f,_):ie(this,f,_)},ae.prototype.makeRBT=function(f){for(var _=new Array(f),I=b.prototype._countBits(f)-1,L=0;L<f;L++)_[L]=this.revBin(L,I,f);return _},ae.prototype.revBin=function(f,_,I){if(0===f||f===I-1)return f;for(var L=0,x=0;x<_;x++)L|=(1&f)<<_-x-1,f>>=1;return L},ae.prototype.permute=function(f,_,I,L,x,a){for(var v=0;v<a;v++)L[v]=_[f[v]],x[v]=I[f[v]]},ae.prototype.transform=function(f,_,I,L,x,a){this.permute(a,f,_,I,L,x);for(var v=1;v<x;v<<=1)for(var Z=v<<1,z=Math.cos(2*Math.PI/Z),ee=Math.sin(2*Math.PI/Z),le=0;le<x;le+=Z)for(var we=z,Me=ee,Ze=0;Ze<v;Ze++){var ge=I[le+Ze],me=L[le+Ze],Ue=I[le+Ze+v],xe=L[le+Ze+v],Ce=we*Ue-Me*xe;xe=we*xe+Me*Ue,I[le+Ze]=ge+(Ue=Ce),L[le+Ze]=me+xe,I[le+Ze+v]=ge-Ue,L[le+Ze+v]=me-xe,Ze!==Z&&(Ce=z*we-ee*Me,Me=z*Me+ee*we,we=Ce)}},ae.prototype.guessLen13b=function(f,_){var I=1|Math.max(_,f),L=1&I,x=0;for(I=I/2|0;I;I>>>=1)x++;return 1<<x+1+L},ae.prototype.conjugate=function(f,_,I){if(!(I<=1))for(var L=0;L<I/2;L++){var x=f[L];f[L]=f[I-L-1],f[I-L-1]=x,x=_[L],_[L]=-_[I-L-1],_[I-L-1]=-x}},ae.prototype.normalize13b=function(f,_){for(var I=0,L=0;L<_/2;L++){var x=8192*Math.round(f[2*L+1]/_)+Math.round(f[2*L]/_)+I;f[L]=67108863&x,I=x<67108864?0:x/67108864|0}return f},ae.prototype.convert13b=function(f,_,I,L){for(var x=0,a=0;a<_;a++)I[2*a]=8191&(x+=0|f[a]),I[2*a+1]=8191&(x>>>=13),x>>>=13;for(a=2*_;a<L;++a)I[a]=0;B(0===x),B(!(-8192&x))},ae.prototype.stub=function(f){for(var _=new Array(f),I=0;I<f;I++)_[I]=0;return _},ae.prototype.mulp=function(f,_,I){var L=2*this.guessLen13b(f.length,_.length),x=this.makeRBT(L),a=this.stub(L),v=new Array(L),Z=new Array(L),z=new Array(L),ee=new Array(L),le=new Array(L),we=new Array(L),Me=I.words;Me.length=L,this.convert13b(f.words,f.length,v,L),this.convert13b(_.words,_.length,ee,L),this.transform(v,a,Z,z,L,x),this.transform(ee,a,le,we,L,x);for(var Ze=0;Ze<L;Ze++){var ge=Z[Ze]*le[Ze]-z[Ze]*we[Ze];z[Ze]=Z[Ze]*we[Ze]+z[Ze]*le[Ze],Z[Ze]=ge}return this.conjugate(Z,z,L),this.transform(Z,z,Me,a,L,x),this.conjugate(Me,a,L),this.normalize13b(Me,L),I.negative=f.negative^_.negative,I.length=f.length+_.length,I._strip()},b.prototype.mul=function(f){var _=new b(null);return _.words=new Array(this.length+f.length),this.mulTo(f,_)},b.prototype.mulf=function(f){var _=new b(null);return _.words=new Array(this.length+f.length),ie(this,f,_)},b.prototype.imul=function(f){return this.clone().mulTo(f,this)},b.prototype.imuln=function(f){var _=f<0;_&&(f=-f),B("number"==typeof f),B(f<67108864);for(var I=0,L=0;L<this.length;L++){var x=(0|this.words[L])*f,a=(67108863&x)+(67108863&I);I>>=26,I+=x/67108864|0,I+=a>>>26,this.words[L]=67108863&a}return 0!==I&&(this.words[L]=I,this.length++),_?this.ineg():this},b.prototype.muln=function(f){return this.clone().imuln(f)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(f){var _=function q(h){for(var f=new Array(h.bitLength()),_=0;_<f.length;_++)f[_]=h.words[_/26|0]>>>_%26&1;return f}(f);if(0===_.length)return new b(1);for(var I=this,L=0;L<_.length&&0===_[L];L++,I=I.sqr());if(++L<_.length)for(var x=I.sqr();L<_.length;L++,x=x.sqr())0!==_[L]&&(I=I.mul(x));return I},b.prototype.iushln=function(f){B("number"==typeof f&&f>=0);var x,_=f%26,I=(f-_)/26,L=67108863>>>26-_<<26-_;if(0!==_){var a=0;for(x=0;x<this.length;x++){var v=this.words[x]&L;this.words[x]=(0|this.words[x])-v<<_|a,a=v>>>26-_}a&&(this.words[x]=a,this.length++)}if(0!==I){for(x=this.length-1;x>=0;x--)this.words[x+I]=this.words[x];for(x=0;x<I;x++)this.words[x]=0;this.length+=I}return this._strip()},b.prototype.ishln=function(f){return B(0===this.negative),this.iushln(f)},b.prototype.iushrn=function(f,_,I){var L;B("number"==typeof f&&f>=0),L=_?(_-_%26)/26:0;var x=f%26,a=Math.min((f-x)/26,this.length),v=67108863^67108863>>>x<<x,Z=I;if(L-=a,L=Math.max(0,L),Z){for(var z=0;z<a;z++)Z.words[z]=this.words[z];Z.length=a}if(0!==a)if(this.length>a)for(this.length-=a,z=0;z<this.length;z++)this.words[z]=this.words[z+a];else this.words[0]=0,this.length=1;var ee=0;for(z=this.length-1;z>=0&&(0!==ee||z>=L);z--){var le=0|this.words[z];this.words[z]=ee<<26-x|le>>>x,ee=le&v}return Z&&0!==ee&&(Z.words[Z.length++]=ee),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},b.prototype.ishrn=function(f,_,I){return B(0===this.negative),this.iushrn(f,_,I)},b.prototype.shln=function(f){return this.clone().ishln(f)},b.prototype.ushln=function(f){return this.clone().iushln(f)},b.prototype.shrn=function(f){return this.clone().ishrn(f)},b.prototype.ushrn=function(f){return this.clone().iushrn(f)},b.prototype.testn=function(f){B("number"==typeof f&&f>=0);var _=f%26,I=(f-_)/26;return!(this.length<=I||!(this.words[I]&1<<_))},b.prototype.imaskn=function(f){B("number"==typeof f&&f>=0);var _=f%26,I=(f-_)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=I?this:(0!==_&&I++,this.length=Math.min(I,this.length),0!==_&&(this.words[this.length-1]&=67108863^67108863>>>_<<_),this._strip())},b.prototype.maskn=function(f){return this.clone().imaskn(f)},b.prototype.iaddn=function(f){return B("number"==typeof f),B(f<67108864),f<0?this.isubn(-f):0!==this.negative?1===this.length&&(0|this.words[0])<=f?(this.words[0]=f-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},b.prototype._iaddn=function(f){this.words[0]+=f;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},b.prototype.isubn=function(f){if(B("number"==typeof f),B(f<67108864),f<0)return this.iaddn(-f);if(0!==this.negative)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},b.prototype.addn=function(f){return this.clone().iaddn(f)},b.prototype.subn=function(f){return this.clone().isubn(f)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(f,_,I){var x;this._expand(f.length+I);var a,v=0;for(x=0;x<f.length;x++){a=(0|this.words[x+I])+v;var Z=(0|f.words[x])*_;v=((a-=67108863&Z)>>26)-(Z/67108864|0),this.words[x+I]=67108863&a}for(;x<this.length-I;x++)v=(a=(0|this.words[x+I])+v)>>26,this.words[x+I]=67108863&a;if(0===v)return this._strip();for(B(-1===v),v=0,x=0;x<this.length;x++)v=(a=-(0|this.words[x])+v)>>26,this.words[x]=67108863&a;return this.negative=1,this._strip()},b.prototype._wordDiv=function(f,_){var I,L=this.clone(),x=f,a=0|x.words[x.length-1];0!=(I=26-this._countBits(a))&&(x=x.ushln(I),L.iushln(I),a=0|x.words[x.length-1]);var z,Z=L.length-x.length;if("mod"!==_){(z=new b(null)).length=Z+1,z.words=new Array(z.length);for(var ee=0;ee<z.length;ee++)z.words[ee]=0}var le=L.clone()._ishlnsubmul(x,1,Z);0===le.negative&&(L=le,z&&(z.words[Z]=1));for(var we=Z-1;we>=0;we--){var Me=67108864*(0|L.words[x.length+we])+(0|L.words[x.length+we-1]);for(Me=Math.min(Me/a|0,67108863),L._ishlnsubmul(x,Me,we);0!==L.negative;)Me--,L.negative=0,L._ishlnsubmul(x,1,we),L.isZero()||(L.negative^=1);z&&(z.words[we]=Me)}return z&&z._strip(),L._strip(),"div"!==_&&0!==I&&L.iushrn(I),{div:z||null,mod:L}},b.prototype.divmod=function(f,_,I){return B(!f.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===f.negative?(a=this.neg().divmod(f,_),"mod"!==_&&(L=a.div.neg()),"div"!==_&&(x=a.mod.neg(),I&&0!==x.negative&&x.iadd(f)),{div:L,mod:x}):0===this.negative&&0!==f.negative?(a=this.divmod(f.neg(),_),"mod"!==_&&(L=a.div.neg()),{div:L,mod:a.mod}):this.negative&f.negative?(a=this.neg().divmod(f.neg(),_),"div"!==_&&(x=a.mod.neg(),I&&0!==x.negative&&x.isub(f)),{div:a.div,mod:x}):f.length>this.length||this.cmp(f)<0?{div:new b(0),mod:this}:1===f.length?"div"===_?{div:this.divn(f.words[0]),mod:null}:"mod"===_?{div:null,mod:new b(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new b(this.modrn(f.words[0]))}:this._wordDiv(f,_);var L,x,a},b.prototype.div=function(f){return this.divmod(f,"div",!1).div},b.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},b.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},b.prototype.divRound=function(f){var _=this.divmod(f);if(_.mod.isZero())return _.div;var I=0!==_.div.negative?_.mod.isub(f):_.mod,L=f.ushrn(1),x=f.andln(1),a=I.cmp(L);return a<0||1===x&&0===a?_.div:0!==_.div.negative?_.div.isubn(1):_.div.iaddn(1)},b.prototype.modrn=function(f){var _=f<0;_&&(f=-f),B(f<=67108863);for(var I=(1<<26)%f,L=0,x=this.length-1;x>=0;x--)L=(I*L+(0|this.words[x]))%f;return _?-L:L},b.prototype.modn=function(f){return this.modrn(f)},b.prototype.idivn=function(f){var _=f<0;_&&(f=-f),B(f<=67108863);for(var I=0,L=this.length-1;L>=0;L--){var x=(0|this.words[L])+67108864*I;this.words[L]=x/f|0,I=x%f}return this._strip(),_?this.ineg():this},b.prototype.divn=function(f){return this.clone().idivn(f)},b.prototype.egcd=function(f){B(0===f.negative),B(!f.isZero());var _=this,I=f.clone();_=0!==_.negative?_.umod(f):_.clone();for(var L=new b(1),x=new b(0),a=new b(0),v=new b(1),Z=0;_.isEven()&&I.isEven();)_.iushrn(1),I.iushrn(1),++Z;for(var z=I.clone(),ee=_.clone();!_.isZero();){for(var le=0,we=1;!(_.words[0]&we)&&le<26;++le,we<<=1);if(le>0)for(_.iushrn(le);le-- >0;)(L.isOdd()||x.isOdd())&&(L.iadd(z),x.isub(ee)),L.iushrn(1),x.iushrn(1);for(var Me=0,Ze=1;!(I.words[0]&Ze)&&Me<26;++Me,Ze<<=1);if(Me>0)for(I.iushrn(Me);Me-- >0;)(a.isOdd()||v.isOdd())&&(a.iadd(z),v.isub(ee)),a.iushrn(1),v.iushrn(1);_.cmp(I)>=0?(_.isub(I),L.isub(a),x.isub(v)):(I.isub(_),a.isub(L),v.isub(x))}return{a,b:v,gcd:I.iushln(Z)}},b.prototype._invmp=function(f){B(0===f.negative),B(!f.isZero());var le,_=this,I=f.clone();_=0!==_.negative?_.umod(f):_.clone();for(var L=new b(1),x=new b(0),a=I.clone();_.cmpn(1)>0&&I.cmpn(1)>0;){for(var v=0,Z=1;!(_.words[0]&Z)&&v<26;++v,Z<<=1);if(v>0)for(_.iushrn(v);v-- >0;)L.isOdd()&&L.iadd(a),L.iushrn(1);for(var z=0,ee=1;!(I.words[0]&ee)&&z<26;++z,ee<<=1);if(z>0)for(I.iushrn(z);z-- >0;)x.isOdd()&&x.iadd(a),x.iushrn(1);_.cmp(I)>=0?(_.isub(I),L.isub(x)):(I.isub(_),x.isub(L))}return(le=0===_.cmpn(1)?L:x).cmpn(0)<0&&le.iadd(f),le},b.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var _=this.clone(),I=f.clone();_.negative=0,I.negative=0;for(var L=0;_.isEven()&&I.isEven();L++)_.iushrn(1),I.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;I.isEven();)I.iushrn(1);var x=_.cmp(I);if(x<0){var a=_;_=I,I=a}else if(0===x||0===I.cmpn(1))break;_.isub(I)}return I.iushln(L)},b.prototype.invm=function(f){return this.egcd(f).a.umod(f)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(f){return this.words[0]&f},b.prototype.bincn=function(f){B("number"==typeof f);var _=f%26,I=(f-_)/26,L=1<<_;if(this.length<=I)return this._expand(I+1),this.words[I]|=L,this;for(var x=L,a=I;0!==x&&a<this.length;a++){var v=0|this.words[a];x=(v+=x)>>>26,this.words[a]=v&=67108863}return 0!==x&&(this.words[a]=x,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(f){var I,_=f<0;if(0!==this.negative&&!_)return-1;if(0===this.negative&&_)return 1;if(this._strip(),this.length>1)I=1;else{_&&(f=-f),B(f<=67108863,"Number is too big");var L=0|this.words[0];I=L===f?0:L<f?-1:1}return 0!==this.negative?0|-I:I},b.prototype.cmp=function(f){if(0!==this.negative&&0===f.negative)return-1;if(0===this.negative&&0!==f.negative)return 1;var _=this.ucmp(f);return 0!==this.negative?0|-_:_},b.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var _=0,I=this.length-1;I>=0;I--){var L=0|this.words[I],x=0|f.words[I];if(L!==x){L<x?_=-1:L>x&&(_=1);break}}return _},b.prototype.gtn=function(f){return 1===this.cmpn(f)},b.prototype.gt=function(f){return 1===this.cmp(f)},b.prototype.gten=function(f){return this.cmpn(f)>=0},b.prototype.gte=function(f){return this.cmp(f)>=0},b.prototype.ltn=function(f){return-1===this.cmpn(f)},b.prototype.lt=function(f){return-1===this.cmp(f)},b.prototype.lten=function(f){return this.cmpn(f)<=0},b.prototype.lte=function(f){return this.cmp(f)<=0},b.prototype.eqn=function(f){return 0===this.cmpn(f)},b.prototype.eq=function(f){return 0===this.cmp(f)},b.red=function(f){return new s(f)},b.prototype.toRed=function(f){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),f.convertTo(this)._forceRed(f)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(f){return this.red=f,this},b.prototype.forceRed=function(f){return B(!this.red,"Already a number in reduction context"),this._forceRed(f)},b.prototype.redAdd=function(f){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},b.prototype.redIAdd=function(f){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},b.prototype.redSub=function(f){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},b.prototype.redISub=function(f){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},b.prototype.redShl=function(f){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},b.prototype.redMul=function(f){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},b.prototype.redIMul=function(f){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(f){return B(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var ue={k256:null,p224:null,p192:null,p25519:null};function ce(h,f){this.name=h,this.p=new b(f,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function pe(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ve(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function De(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function s(h){if("string"==typeof h){var f=b._prime(h);this.m=f.p,this.prime=f}else B(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}function d(h){s.call(this,h),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var f=new b(null);return f.words=new Array(Math.ceil(this.n/13)),f},ce.prototype.ireduce=function(f){var I,_=f;do{this.split(_,this.tmp),I=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength()}while(I>this.n);var L=I<this.n?-1:_.ucmp(this.p);return 0===L?(_.words[0]=0,_.length=1):L>0?_.isub(this.p):void 0!==_.strip?_.strip():_._strip(),_},ce.prototype.split=function(f,_){f.iushrn(this.n,0,_)},ce.prototype.imulK=function(f){return f.imul(this.k)},H(pe,ce),pe.prototype.split=function(f,_){for(var I=4194303,L=Math.min(f.length,9),x=0;x<L;x++)_.words[x]=f.words[x];if(_.length=L,f.length<=9)return f.words[0]=0,void(f.length=1);var a=f.words[9];for(_.words[_.length++]=a&I,x=10;x<f.length;x++){var v=0|f.words[x];f.words[x-10]=(v&I)<<4|a>>>22,a=v}f.words[x-10]=a>>>=22,f.length-=0===a&&f.length>10?10:9},pe.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var _=0,I=0;I<f.length;I++){var L=0|f.words[I];f.words[I]=67108863&(_+=977*L),_=64*L+(_/67108864|0)}return 0===f.words[f.length-1]&&(f.length--,0===f.words[f.length-1]&&f.length--),f},H(ve,ce),H(De,ce),H(C,ce),C.prototype.imulK=function(f){for(var _=0,I=0;I<f.length;I++){var L=19*(0|f.words[I])+_,x=67108863&L;L>>>=26,f.words[I]=x,_=L}return 0!==_&&(f.words[f.length++]=_),f},b._prime=function(f){if(ue[f])return ue[f];var _;if("k256"===f)_=new pe;else if("p224"===f)_=new ve;else if("p192"===f)_=new De;else{if("p25519"!==f)throw new Error("Unknown prime "+f);_=new C}return ue[f]=_,_},s.prototype._verify1=function(f){B(0===f.negative,"red works only with positives"),B(f.red,"red works only with red numbers")},s.prototype._verify2=function(f,_){B(!(f.negative|_.negative),"red works only with positives"),B(f.red&&f.red===_.red,"red works only with red numbers")},s.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(O(f,f.umod(this.m)._forceRed(this)),f)},s.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},s.prototype.add=function(f,_){this._verify2(f,_);var I=f.add(_);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},s.prototype.iadd=function(f,_){this._verify2(f,_);var I=f.iadd(_);return I.cmp(this.m)>=0&&I.isub(this.m),I},s.prototype.sub=function(f,_){this._verify2(f,_);var I=f.sub(_);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},s.prototype.isub=function(f,_){this._verify2(f,_);var I=f.isub(_);return I.cmpn(0)<0&&I.iadd(this.m),I},s.prototype.shl=function(f,_){return this._verify1(f),this.imod(f.ushln(_))},s.prototype.imul=function(f,_){return this._verify2(f,_),this.imod(f.imul(_))},s.prototype.mul=function(f,_){return this._verify2(f,_),this.imod(f.mul(_))},s.prototype.isqr=function(f){return this.imul(f,f.clone())},s.prototype.sqr=function(f){return this.mul(f,f)},s.prototype.sqrt=function(f){if(f.isZero())return f.clone();var _=this.m.andln(3);if(B(_%2==1),3===_){var I=this.m.add(new b(1)).iushrn(2);return this.pow(f,I)}for(var L=this.m.subn(1),x=0;!L.isZero()&&0===L.andln(1);)x++,L.iushrn(1);B(!L.isZero());var a=new b(1).toRed(this),v=a.redNeg(),Z=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new b(2*z*z).toRed(this);0!==this.pow(z,Z).cmp(v);)z.redIAdd(v);for(var ee=this.pow(z,L),le=this.pow(f,L.addn(1).iushrn(1)),we=this.pow(f,L),Me=x;0!==we.cmp(a);){for(var Ze=we,ge=0;0!==Ze.cmp(a);ge++)Ze=Ze.redSqr();B(ge<Me);var me=this.pow(ee,new b(1).iushln(Me-ge-1));le=le.redMul(me),ee=me.redSqr(),we=we.redMul(ee),Me=ge}return le},s.prototype.invm=function(f){var _=f._invmp(this.m);return 0!==_.negative?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},s.prototype.pow=function(f,_){if(_.isZero())return new b(1).toRed(this);if(0===_.cmpn(1))return f.clone();var L=new Array(16);L[0]=new b(1).toRed(this),L[1]=f;for(var x=2;x<L.length;x++)L[x]=this.mul(L[x-1],f);var a=L[0],v=0,Z=0,z=_.bitLength()%26;for(0===z&&(z=26),x=_.length-1;x>=0;x--){for(var ee=_.words[x],le=z-1;le>=0;le--){var we=ee>>le&1;a!==L[0]&&(a=this.sqr(a)),0!==we||0!==v?(v<<=1,v|=we,(4==++Z||0===x&&0===le)&&(a=this.mul(a,L[v]),Z=0,v=0)):Z=0}z=26}return a},s.prototype.convertTo=function(f){var _=f.umod(this.m);return _===f?_.clone():_},s.prototype.convertFrom=function(f){var _=f.clone();return _.red=null,_},b.mont=function(f){return new d(f)},H(d,s),d.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},d.prototype.convertFrom=function(f){var _=this.imod(f.mul(this.rinv));return _.red=null,_},d.prototype.imul=function(f,_){if(f.isZero()||_.isZero())return f.words[0]=0,f.length=1,f;var I=f.imul(_),L=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=I.isub(L).iushrn(this.shift),a=x;return x.cmp(this.m)>=0?a=x.isub(this.m):x.cmpn(0)<0&&(a=x.iadd(this.m)),a._forceRed(this)},d.prototype.mul=function(f,_){if(f.isZero()||_.isZero())return new b(0)._forceRed(this);var I=f.mul(_),L=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=I.isub(L).iushrn(this.shift),a=x;return x.cmp(this.m)>=0?a=x.isub(this.m):x.cmpn(0)<0&&(a=x.iadd(this.m)),a._forceRed(this)},d.prototype.invm=function(f){return this.imod(f._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},35294:($e,j,E)=>{var g;function w(H){this.rand=H}if($e.exports=function(b){return g||(g=new w(null)),g.generate(b)},$e.exports.Rand=w,w.prototype.generate=function(b){return this._rand(b)},w.prototype._rand=function(b){if(this.rand.getBytes)return this.rand.getBytes(b);for(var k=new Uint8Array(b),S=0;S<k.length;S++)k[S]=this.rand.getByte();return k},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?w.prototype._rand=function(b){var k=new Uint8Array(b);return self.crypto.getRandomValues(k),k}:self.msCrypto&&self.msCrypto.getRandomValues?w.prototype._rand=function(b){var k=new Uint8Array(b);return self.msCrypto.getRandomValues(k),k}:"object"==typeof window&&(w.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var B=E(91426);if("function"!=typeof B.randomBytes)throw new Error("Not supported");w.prototype._rand=function(b){return B.randomBytes(b)}}catch{}},23963:($e,j,E)=>{"use strict";const{AbstractLevel:g}=E(75929),w=E(61747),B=E(81725),{fromCallback:H}=E(42381),{Iterator:b}=E(18229),k=E(97899),S=E(19857),P=E(57059),R="level-js-",O=Symbol("idb"),A=Symbol("namePrefix"),V=Symbol("location"),U=Symbol("version"),K=Symbol("store"),Q=Symbol("onComplete"),q=Symbol("promise");j.BrowserLevel=(()=>{class W extends g{constructor(ie,ae,ue){if("function"==typeof ae||"function"==typeof ue)throw new w("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:ce,version:pe,...ve}=ae||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},ve),"string"!=typeof ie)throw new Error("constructor requires a location string argument");this[V]=ie,this[A]=ce??R,this[U]=parseInt(pe||1,10),this[O]=null}get location(){return this[V]}get namePrefix(){return this[A]}get version(){return this[U]}get db(){return this[O]}get type(){return"browser-level"}_open(ie,ae){const ue=indexedDB.open(this[A]+this[V],this[U]);ue.onerror=function(){ae(ue.error||new Error("unknown error"))},ue.onsuccess=()=>{this[O]=ue.result,ae()},ue.onupgradeneeded=ce=>{const pe=ce.target.result;pe.objectStoreNames.contains(this[V])||pe.createObjectStore(this[V])}}[K](ie){return this[O].transaction([this[V]],ie).objectStore(this[V])}[Q](ie,ae){const ue=ie.transaction;ue.onabort=function(){ae(ue.error||new Error("aborted by user"))},ue.oncomplete=function(){ae(null,ie.result)}}_get(ie,ae,ue){const ce=this[K]("readonly");let pe;try{pe=ce.get(ie)}catch(ve){return this.nextTick(ue,ve)}this[Q](pe,function(ve,De){return ve?ue(ve):void 0===De?ue(new w("Entry not found",{code:"LEVEL_NOT_FOUND"})):void ue(null,k(De))})}_getMany(ie,ae,ue){const ce=this[K]("readonly"),pe=ie.map(ve=>De=>{let C;try{C=ce.get(ve)}catch(s){return De(s)}C.onsuccess=()=>{const s=C.result;De(null,void 0===s?s:k(s))},C.onerror=s=>{s.stopPropagation(),De(C.error)}});B(pe,16,ue)}_del(ie,ae,ue){const ce=this[K]("readwrite");let pe;try{pe=ce.delete(ie)}catch(ve){return this.nextTick(ue,ve)}this[Q](pe,ue)}_put(ie,ae,ue,ce){const pe=this[K]("readwrite");let ve;try{ve=pe.put(ae,ie)}catch(De){return this.nextTick(ce,De)}this[Q](ve,ce)}_iterator(ie){return new b(this,this[V],ie)}_batch(ie,ae,ue){const ce=this[K]("readwrite"),pe=ce.transaction;let De,ve=0;pe.onabort=function(){ue(De||pe.error||new Error("aborted by user"))},pe.oncomplete=function(){ue()},function C(){const s=ie[ve++],d=s.key;let h;try{h="del"===s.type?ce.delete(d):ce.put(s.value,d)}catch(f){return De=f,void pe.abort()}ve<ie.length?h.onsuccess=C:"function"==typeof pe.commit&&pe.commit()}()}_clear(ie,ae){let ue,ce;try{ue=P(ie)}catch{return this.nextTick(ae)}if(ie.limit>=0)return S(this,this[V],ue,ie,ae);try{const pe=this[K]("readwrite");ce=ue?pe.delete(ue):pe.clear()}catch(pe){return this.nextTick(ae,pe)}this[Q](ce,ae)}_close(ie){this[O].close(),this.nextTick(ie)}}return W.destroy=function(re,ie,ae){"function"==typeof ie&&(ae=ie,ie=R),ae=H(ae,q);const ue=indexedDB.deleteDatabase(ie+re);return ue.onsuccess=function(){ae()},ue.onerror=function(ce){ae(ce)},ae[q]},W})()},18229:($e,j,E)=>{"use strict";const{AbstractIterator:g}=E(75929),w=E(57059),B=E(97899),H=Symbol("cache"),b=Symbol("finished"),k=Symbol("options"),S=Symbol("currentOptions"),P=Symbol("position"),R=Symbol("location"),O=Symbol("first"),A={};function U(K){"function"==typeof K.commit&&K.commit()}j.Iterator=class V extends g{constructor(Q,q,Y){super(Q,Y),this[H]=[],this[b]=0===this.limit,this[k]=Y,this[S]={...Y},this[P]=void 0,this[R]=q,this[O]=!0}_nextv(Q,q,Y){if(this[O]=!1,this[b])return this.nextTick(Y,null,[]);if(this[H].length>0)return Q=Math.min(Q,this[H].length),this.nextTick(Y,null,this[H].splice(0,Q));let W;void 0!==this[P]&&(this[k].reverse?(this[S].lt=this[P],this[S].lte=void 0):(this[S].gt=this[P],this[S].gte=void 0));try{W=w(this[S])}catch{return this[b]=!0,this.nextTick(Y,null,[])}const re=this.db.db.transaction([this[R]],"readonly"),ie=re.objectStore(this[R]),ae=[];if(this[k].reverse)ie[!this[k].values&&ie.openKeyCursor?"openKeyCursor":"openCursor"](W,"prev").onsuccess=ce=>{const pe=ce.target.result;if(pe){const{key:ve,value:De}=pe;this[P]=ve,ae.push([this[k].keys&&void 0!==ve?B(ve):void 0,this[k].values&&void 0!==De?B(De):void 0]),ae.length<Q?pe.continue():U(re)}else this[b]=!0};else{let ue,ce;const pe=()=>{if(void 0===ue||void 0===ce)return;const ve=Math.max(ue.length,ce.length);0===ve||Q===1/0?this[b]=!0:this[P]=ue[ve-1],ae.length=ve;for(let De=0;De<ve;De++){const C=ue[De],s=ce[De];ae[De]=[this[k].keys&&void 0!==C?B(C):void 0,this[k].values&&void 0!==s?B(s):void 0]}U(re)};this[k].keys||Q<1/0?ie.getAllKeys(W,Q<1/0?Q:void 0).onsuccess=ve=>{ue=ve.target.result,pe()}:(ue=[],this.nextTick(pe)),this[k].values?ie.getAll(W,Q<1/0?Q:void 0).onsuccess=ve=>{ce=ve.target.result,pe()}:(ce=[],this.nextTick(pe))}re.onabort=()=>{Y(re.error||new Error("aborted by user")),Y=null},re.oncomplete=()=>{Y(null,ae),Y=null}}_next(Q){if(this[H].length>0){const[q,Y]=this[H].shift();this.nextTick(Q,null,q,Y)}else if(this[b])this.nextTick(Q);else{let q=Math.min(100,this.limit-this.count);this[O]&&(this[O]=!1,q=1),this._nextv(q,A,(Y,W)=>{if(Y)return Q(Y);this[H]=W,this._next(Q)})}}_all(Q,q){this[O]=!1;const Y=this[H].splice(0,this[H].length),W=this.limit-this.count-Y.length;if(W<=0)return this.nextTick(q,null,Y);this._nextv(W,A,(re,ie)=>{if(re)return q(re);Y.length>0&&(ie=Y.concat(ie)),q(null,ie)})}_seek(Q,q){let Y;this[O]=!0,this[H]=[],this[b]=!1,this[P]=void 0,this[S]={...this[k]};try{Y=w(this[k])}catch{return void(this[b]=!0)}null===Y||Y.includes(Q)?this[k].reverse?this[S].lte=Q:this[S].gte=Q:this[b]=!0}}},19857:$e=>{"use strict";$e.exports=function(E,g,w,B,H){if(0===B.limit)return E.nextTick(H);const b=E.db.transaction([g],"readwrite"),k=b.objectStore(g);let S=0;b.oncomplete=function(){H()},b.onabort=function(){H(b.error||new Error("aborted by user"))},k[k.openKeyCursor?"openKeyCursor":"openCursor"](w,B.reverse?"prev":"next").onsuccess=function(O){const A=O.target.result;A&&(k.delete(A.key).onsuccess=function(){(B.limit<=0||++S<B.limit)&&A.continue()})}}},97899:$e=>{"use strict";const j=new TextEncoder;$e.exports=function(E){return E instanceof Uint8Array?E:E instanceof ArrayBuffer?new Uint8Array(E):j.encode(E)}},57059:$e=>{"use strict";$e.exports=function(E){const g=void 0!==E.gte?E.gte:void 0!==E.gt?E.gt:void 0,w=void 0!==E.lte?E.lte:void 0!==E.lt?E.lt:void 0,B=void 0===E.gte,H=void 0===E.lte;return void 0!==g&&void 0!==w?IDBKeyRange.bound(g,w,B,H):void 0!==g?IDBKeyRange.lowerBound(g,B):void 0!==w?IDBKeyRange.upperBound(w,H):null}},12375:($e,j,E)=>{var g=E(27054).Buffer;function w(P){g.isBuffer(P)||(P=g.from(P));for(var R=P.length/4|0,O=new Array(R),A=0;A<R;A++)O[A]=P.readUInt32BE(4*A);return O}function B(P){for(;0<P.length;P++)P[0]=0}function H(P,R,O,A,V){for(var ae,ue,ce,pe,U=O[0],K=O[1],Q=O[2],q=O[3],Y=P[0]^R[0],W=P[1]^R[1],re=P[2]^R[2],ie=P[3]^R[3],ve=4,De=1;De<V;De++)ae=U[Y>>>24]^K[W>>>16&255]^Q[re>>>8&255]^q[255&ie]^R[ve++],ue=U[W>>>24]^K[re>>>16&255]^Q[ie>>>8&255]^q[255&Y]^R[ve++],ce=U[re>>>24]^K[ie>>>16&255]^Q[Y>>>8&255]^q[255&W]^R[ve++],pe=U[ie>>>24]^K[Y>>>16&255]^Q[W>>>8&255]^q[255&re]^R[ve++],Y=ae,W=ue,re=ce,ie=pe;return ae=(A[Y>>>24]<<24|A[W>>>16&255]<<16|A[re>>>8&255]<<8|A[255&ie])^R[ve++],ue=(A[W>>>24]<<24|A[re>>>16&255]<<16|A[ie>>>8&255]<<8|A[255&Y])^R[ve++],ce=(A[re>>>24]<<24|A[ie>>>16&255]<<16|A[Y>>>8&255]<<8|A[255&W])^R[ve++],pe=(A[ie>>>24]<<24|A[Y>>>16&255]<<16|A[W>>>8&255]<<8|A[255&re])^R[ve++],[ae>>>=0,ue>>>=0,ce>>>=0,pe>>>=0]}var b=[0,1,2,4,8,16,32,64,128,27,54],k=function(){for(var P=new Array(256),R=0;R<256;R++)P[R]=R<128?R<<1:R<<1^283;for(var O=[],A=[],V=[[],[],[],[]],U=[[],[],[],[]],K=0,Q=0,q=0;q<256;++q){var Y=Q^Q<<1^Q<<2^Q<<3^Q<<4;O[K]=Y=Y>>>8^255&Y^99,A[Y]=K;var W=P[K],re=P[W],ie=P[re],ae=257*P[Y]^16843008*Y;V[0][K]=ae<<24|ae>>>8,V[1][K]=ae<<16|ae>>>16,V[2][K]=ae<<8|ae>>>24,V[3][K]=ae,U[0][Y]=(ae=16843009*ie^65537*re^257*W^16843008*K)<<24|ae>>>8,U[1][Y]=ae<<16|ae>>>16,U[2][Y]=ae<<8|ae>>>24,U[3][Y]=ae,0===K?K=Q=1:(K=W^P[P[P[ie^W]]],Q^=P[P[Q]])}return{SBOX:O,INV_SBOX:A,SUB_MIX:V,INV_SUB_MIX:U}}();function S(P){this._key=w(P),this._reset()}S.blockSize=16,S.keySize=32,S.prototype.blockSize=S.blockSize,S.prototype.keySize=S.keySize,S.prototype._reset=function(){for(var P=this._key,R=P.length,O=R+6,A=4*(O+1),V=[],U=0;U<R;U++)V[U]=P[U];for(U=R;U<A;U++){var K=V[U-1];U%R==0?(K=k.SBOX[(K=K<<8|K>>>24)>>>24]<<24|k.SBOX[K>>>16&255]<<16|k.SBOX[K>>>8&255]<<8|k.SBOX[255&K],K^=b[U/R|0]<<24):R>6&&U%R==4&&(K=k.SBOX[K>>>24]<<24|k.SBOX[K>>>16&255]<<16|k.SBOX[K>>>8&255]<<8|k.SBOX[255&K]),V[U]=V[U-R]^K}for(var Q=[],q=0;q<A;q++){var Y=A-q,W=V[Y-(q%4?0:4)];Q[q]=q<4||Y<=4?W:k.INV_SUB_MIX[0][k.SBOX[W>>>24]]^k.INV_SUB_MIX[1][k.SBOX[W>>>16&255]]^k.INV_SUB_MIX[2][k.SBOX[W>>>8&255]]^k.INV_SUB_MIX[3][k.SBOX[255&W]]}this._nRounds=O,this._keySchedule=V,this._invKeySchedule=Q},S.prototype.encryptBlockRaw=function(P){return H(P=w(P),this._keySchedule,k.SUB_MIX,k.SBOX,this._nRounds)},S.prototype.encryptBlock=function(P){var R=this.encryptBlockRaw(P),O=g.allocUnsafe(16);return O.writeUInt32BE(R[0],0),O.writeUInt32BE(R[1],4),O.writeUInt32BE(R[2],8),O.writeUInt32BE(R[3],12),O},S.prototype.decryptBlock=function(P){var R=(P=w(P))[1];P[1]=P[3],P[3]=R;var O=H(P,this._invKeySchedule,k.INV_SUB_MIX,k.INV_SBOX,this._nRounds),A=g.allocUnsafe(16);return A.writeUInt32BE(O[0],0),A.writeUInt32BE(O[3],4),A.writeUInt32BE(O[2],8),A.writeUInt32BE(O[1],12),A},S.prototype.scrub=function(){B(this._keySchedule),B(this._invKeySchedule),B(this._key)},$e.exports.AES=S},19307:($e,j,E)=>{var g=E(12375),w=E(27054).Buffer,B=E(3247),H=E(71993),b=E(85917),k=E(13546),S=E(95725);function O(A,V,U,K){B.call(this);var Q=w.alloc(4,0);this._cipher=new g.AES(V);var q=this._cipher.encryptBlock(Q);this._ghash=new b(q),U=function R(A,V,U){if(12===V.length)return A._finID=w.concat([V,w.from([0,0,0,1])]),w.concat([V,w.from([0,0,0,2])]);var K=new b(U),Q=V.length,q=Q%16;K.update(V),q&&K.update(w.alloc(q=16-q,0)),K.update(w.alloc(8,0));var Y=8*Q,W=w.alloc(8);W.writeUIntBE(Y,0,8),K.update(W),A._finID=K.state;var re=w.from(A._finID);return S(re),re}(this,U,q),this._prev=w.from(U),this._cache=w.allocUnsafe(0),this._secCache=w.allocUnsafe(0),this._decrypt=K,this._alen=0,this._len=0,this._mode=A,this._authTag=null,this._called=!1}H(O,B),O.prototype._update=function(A){if(!this._called&&this._alen){var V=16-this._alen%16;V<16&&(V=w.alloc(V,0),this._ghash.update(V))}this._called=!0;var U=this._mode.encrypt(this,A);return this._ghash.update(this._decrypt?A:U),this._len+=A.length,U},O.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var A=k(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function P(A,V){var U=0;A.length!==V.length&&U++;for(var K=Math.min(A.length,V.length),Q=0;Q<K;++Q)U+=A[Q]^V[Q];return U}(A,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=A,this._cipher.scrub()},O.prototype.getAuthTag=function(){if(this._decrypt||!w.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},O.prototype.setAuthTag=function(V){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=V},O.prototype.setAAD=function(V){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(V),this._alen+=V.length},$e.exports=O},43388:($e,j,E)=>{var g=E(350),w=E(60102),B=E(3219);j.createCipher=j.Cipher=g.createCipher,j.createCipheriv=j.Cipheriv=g.createCipheriv,j.createDecipher=j.Decipher=w.createDecipher,j.createDecipheriv=j.Decipheriv=w.createDecipheriv,j.listCiphers=j.getCiphers=function H(){return Object.keys(B)}},60102:($e,j,E)=>{var g=E(19307),w=E(27054).Buffer,B=E(60503),H=E(91821),b=E(3247),k=E(12375),S=E(18211);function R(K,Q,q){b.call(this),this._cache=new O,this._last=void 0,this._cipher=new k.AES(Q),this._prev=w.from(q),this._mode=K,this._autopadding=!0}function O(){this.cache=w.allocUnsafe(0)}function V(K,Q,q){var Y=B[K.toLowerCase()];if(!Y)throw new TypeError("invalid suite type");if("string"==typeof q&&(q=w.from(q)),"GCM"!==Y.mode&&q.length!==Y.iv)throw new TypeError("invalid iv length "+q.length);if("string"==typeof Q&&(Q=w.from(Q)),Q.length!==Y.key/8)throw new TypeError("invalid key length "+Q.length);return"stream"===Y.type?new H(Y.module,Q,q,!0):"auth"===Y.type?new g(Y.module,Q,q,!0):new R(Y.module,Q,q)}E(71993)(R,b),R.prototype._update=function(K){this._cache.add(K);for(var Q,q,Y=[];Q=this._cache.get(this._autopadding);)q=this._mode.decrypt(this,Q),Y.push(q);return w.concat(Y)},R.prototype._final=function(){var K=this._cache.flush();if(this._autopadding)return function A(K){var Q=K[15];if(Q<1||Q>16)throw new Error("unable to decrypt data");for(var q=-1;++q<Q;)if(K[q+(16-Q)]!==Q)throw new Error("unable to decrypt data");if(16!==Q)return K.slice(0,16-Q)}(this._mode.decrypt(this,K));if(K)throw new Error("data not multiple of block length")},R.prototype.setAutoPadding=function(K){return this._autopadding=!!K,this},O.prototype.add=function(K){this.cache=w.concat([this.cache,K])},O.prototype.get=function(K){var Q;if(K){if(this.cache.length>16)return Q=this.cache.slice(0,16),this.cache=this.cache.slice(16),Q}else if(this.cache.length>=16)return Q=this.cache.slice(0,16),this.cache=this.cache.slice(16),Q;return null},O.prototype.flush=function(){if(this.cache.length)return this.cache},j.createDecipher=function U(K,Q){var q=B[K.toLowerCase()];if(!q)throw new TypeError("invalid suite type");var Y=S(Q,!1,q.key,q.iv);return V(K,Y.key,Y.iv)},j.createDecipheriv=V},350:($e,j,E)=>{var g=E(60503),w=E(19307),B=E(27054).Buffer,H=E(91821),b=E(3247),k=E(12375),S=E(18211);function R(K,Q,q){b.call(this),this._cache=new A,this._cipher=new k.AES(Q),this._prev=B.from(q),this._mode=K,this._autopadding=!0}E(71993)(R,b),R.prototype._update=function(K){this._cache.add(K);for(var Q,q,Y=[];Q=this._cache.get();)q=this._mode.encrypt(this,Q),Y.push(q);return B.concat(Y)};var O=B.alloc(16,16);function A(){this.cache=B.allocUnsafe(0)}function V(K,Q,q){var Y=g[K.toLowerCase()];if(!Y)throw new TypeError("invalid suite type");if("string"==typeof Q&&(Q=B.from(Q)),Q.length!==Y.key/8)throw new TypeError("invalid key length "+Q.length);if("string"==typeof q&&(q=B.from(q)),"GCM"!==Y.mode&&q.length!==Y.iv)throw new TypeError("invalid iv length "+q.length);return"stream"===Y.type?new H(Y.module,Q,q):"auth"===Y.type?new w(Y.module,Q,q):new R(Y.module,Q,q)}R.prototype._final=function(){var K=this._cache.flush();if(this._autopadding)return K=this._mode.encrypt(this,K),this._cipher.scrub(),K;if(!K.equals(O))throw this._cipher.scrub(),new Error("data not multiple of block length")},R.prototype.setAutoPadding=function(K){return this._autopadding=!!K,this},A.prototype.add=function(K){this.cache=B.concat([this.cache,K])},A.prototype.get=function(){if(this.cache.length>15){var K=this.cache.slice(0,16);return this.cache=this.cache.slice(16),K}return null},A.prototype.flush=function(){for(var K=16-this.cache.length,Q=B.allocUnsafe(K),q=-1;++q<K;)Q.writeUInt8(K,q);return B.concat([this.cache,Q])},j.createCipheriv=V,j.createCipher=function U(K,Q){var q=g[K.toLowerCase()];if(!q)throw new TypeError("invalid suite type");var Y=S(Q,!1,q.key,q.iv);return V(K,Y.key,Y.iv)}},85917:($e,j,E)=>{var g=E(27054).Buffer,w=g.alloc(16,0);function H(k){var S=g.allocUnsafe(16);return S.writeUInt32BE(k[0]>>>0,0),S.writeUInt32BE(k[1]>>>0,4),S.writeUInt32BE(k[2]>>>0,8),S.writeUInt32BE(k[3]>>>0,12),S}function b(k){this.h=k,this.state=g.alloc(16,0),this.cache=g.allocUnsafe(0)}b.prototype.ghash=function(k){for(var S=-1;++S<k.length;)this.state[S]^=k[S];this._multiply()},b.prototype._multiply=function(){for(var P,O,k=function B(k){return[k.readUInt32BE(0),k.readUInt32BE(4),k.readUInt32BE(8),k.readUInt32BE(12)]}(this.h),S=[0,0,0,0],A=-1;++A<128;){for(!!(this.state[~~(A/8)]&1<<7-A%8)&&(S[0]^=k[0],S[1]^=k[1],S[2]^=k[2],S[3]^=k[3]),O=!!(1&k[3]),P=3;P>0;P--)k[P]=k[P]>>>1|(1&k[P-1])<<31;k[0]=k[0]>>>1,O&&(k[0]=k[0]^225<<24)}this.state=H(S)},b.prototype.update=function(k){this.cache=g.concat([this.cache,k]);for(var S;this.cache.length>=16;)S=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(S)},b.prototype.final=function(k,S){return this.cache.length&&this.ghash(g.concat([this.cache,w],16)),this.ghash(H([0,k,0,S])),this.state},$e.exports=b},95725:$e=>{$e.exports=function j(E){for(var w,g=E.length;g--;){if(255!==(w=E.readUInt8(g))){w++,E.writeUInt8(w,g);break}E.writeUInt8(0,g)}}},34133:($e,j,E)=>{var g=E(13546);j.encrypt=function(w,B){var H=g(B,w._prev);return w._prev=w._cipher.encryptBlock(H),w._prev},j.decrypt=function(w,B){var H=w._prev;w._prev=B;var b=w._cipher.decryptBlock(B);return g(b,H)}},17090:($e,j,E)=>{var g=E(27054).Buffer,w=E(13546);function B(H,b,k){var S=b.length,P=w(b,H._cache);return H._cache=H._cache.slice(S),H._prev=g.concat([H._prev,k?b:P]),P}j.encrypt=function(H,b,k){for(var P,S=g.allocUnsafe(0);b.length;){if(0===H._cache.length&&(H._cache=H._cipher.encryptBlock(H._prev),H._prev=g.allocUnsafe(0)),!(H._cache.length<=b.length)){S=g.concat([S,B(H,b,k)]);break}S=g.concat([S,B(H,b.slice(0,P=H._cache.length),k)]),b=b.slice(P)}return S}},71039:($e,j,E)=>{var g=E(27054).Buffer;function w(H,b,k){for(var A,V,P=-1,O=0;++P<8;)O+=(128&(V=H._cipher.encryptBlock(H._prev)[0]^(A=b&1<<7-P?128:0)))>>P%8,H._prev=B(H._prev,k?A:V);return O}function B(H,b){var k=H.length,S=-1,P=g.allocUnsafe(H.length);for(H=g.concat([H,g.from([b])]);++S<k;)P[S]=H[S]<<1|H[S+1]>>7;return P}j.encrypt=function(H,b,k){for(var S=b.length,P=g.allocUnsafe(S),R=-1;++R<S;)P[R]=w(H,b[R],k);return P}},72576:($e,j,E)=>{var g=E(27054).Buffer;function w(B,H,b){var S=B._cipher.encryptBlock(B._prev)[0]^H;return B._prev=g.concat([B._prev.slice(1),g.from([b?H:S])]),S}j.encrypt=function(B,H,b){for(var k=H.length,S=g.allocUnsafe(k),P=-1;++P<k;)S[P]=w(B,H[P],b);return S}},70336:($e,j,E)=>{var g=E(13546),w=E(27054).Buffer,B=E(95725);function H(k){var S=k._cipher.encryptBlockRaw(k._prev);return B(k._prev),S}j.encrypt=function(k,S){var P=Math.ceil(S.length/16),R=k._cache.length;k._cache=w.concat([k._cache,w.allocUnsafe(16*P)]);for(var O=0;O<P;O++){var A=H(k),V=R+16*O;k._cache.writeUInt32BE(A[0],V+0),k._cache.writeUInt32BE(A[1],V+4),k._cache.writeUInt32BE(A[2],V+8),k._cache.writeUInt32BE(A[3],V+12)}var U=k._cache.slice(0,S.length);return k._cache=k._cache.slice(S.length),g(S,U)}},37513:($e,j)=>{j.encrypt=function(E,g){return E._cipher.encryptBlock(g)},j.decrypt=function(E,g){return E._cipher.decryptBlock(g)}},60503:($e,j,E)=>{var g={ECB:E(37513),CBC:E(34133),CFB:E(17090),CFB8:E(72576),CFB1:E(71039),OFB:E(46854),CTR:E(70336),GCM:E(70336)},w=E(3219);for(var B in w)w[B].module=g[w[B].mode];$e.exports=w},46854:($e,j,E)=>{var g=E(13546);function w(B){return B._prev=B._cipher.encryptBlock(B._prev),B._prev}j.encrypt=function(B,H){for(;B._cache.length<H.length;)B._cache=Buffer.concat([B._cache,w(B)]);var b=B._cache.slice(0,H.length);return B._cache=B._cache.slice(H.length),g(H,b)}},91821:($e,j,E)=>{var g=E(12375),w=E(27054).Buffer,B=E(3247);function b(k,S,P,R){B.call(this),this._cipher=new g.AES(S),this._prev=w.from(P),this._cache=w.allocUnsafe(0),this._secCache=w.allocUnsafe(0),this._decrypt=R,this._mode=k}E(71993)(b,B),b.prototype._update=function(k){return this._mode.encrypt(this,k,this._decrypt)},b.prototype._final=function(){this._cipher.scrub()},$e.exports=b},88862:($e,j,E)=>{var g=E(39799),w=E(43388),B=E(60503),H=E(59571),b=E(18211);function P(A,V,U){if(A=A.toLowerCase(),B[A])return w.createCipheriv(A,V,U);if(H[A])return new g({key:V,iv:U,mode:A});throw new TypeError("invalid suite type")}function R(A,V,U){if(A=A.toLowerCase(),B[A])return w.createDecipheriv(A,V,U);if(H[A])return new g({key:V,iv:U,mode:A,decrypt:!0});throw new TypeError("invalid suite type")}j.createCipher=j.Cipher=function k(A,V){var U,K;if(A=A.toLowerCase(),B[A])U=B[A].key,K=B[A].iv;else{if(!H[A])throw new TypeError("invalid suite type");U=8*H[A].key,K=H[A].iv}var Q=b(V,!1,U,K);return P(A,Q.key,Q.iv)},j.createCipheriv=j.Cipheriv=P,j.createDecipher=j.Decipher=function S(A,V){var U,K;if(A=A.toLowerCase(),B[A])U=B[A].key,K=B[A].iv;else{if(!H[A])throw new TypeError("invalid suite type");U=8*H[A].key,K=H[A].iv}var Q=b(V,!1,U,K);return R(A,Q.key,Q.iv)},j.createDecipheriv=j.Decipheriv=R,j.listCiphers=j.getCiphers=function O(){return Object.keys(H).concat(w.getCiphers())}},39799:($e,j,E)=>{var g=E(3247),w=E(71549),B=E(71993),H=E(27054).Buffer,b={"des-ede3-cbc":w.CBC.instantiate(w.EDE),"des-ede3":w.EDE,"des-ede-cbc":w.CBC.instantiate(w.EDE),"des-ede":w.EDE,"des-cbc":w.CBC.instantiate(w.DES),"des-ecb":w.DES};function k(S){g.call(this);var O,P=S.mode.toLowerCase(),R=b[P];O=S.decrypt?"decrypt":"encrypt";var A=S.key;H.isBuffer(A)||(A=H.from(A)),("des-ede"===P||"des-ede-cbc"===P)&&(A=H.concat([A,A.slice(0,8)]));var V=S.iv;H.isBuffer(V)||(V=H.from(V)),this._des=R.create({key:A,iv:V,type:O})}b.des=b["des-cbc"],b.des3=b["des-ede3-cbc"],$e.exports=k,B(k,g),k.prototype._update=function(S){return H.from(this._des.update(S))},k.prototype._final=function(){return H.from(this._des.final())}},59571:($e,j)=>{j["des-ecb"]={key:8,iv:0},j["des-cbc"]=j.des={key:8,iv:8},j["des-ede3-cbc"]=j.des3={key:24,iv:8},j["des-ede3"]={key:24,iv:0},j["des-ede-cbc"]={key:16,iv:8},j["des-ede"]={key:16,iv:0}},14105:($e,j,E)=>{var g=E(917),w=E(3342);function H(k){var P,S=k.modulus.byteLength();do{P=new g(w(S))}while(P.cmp(k.modulus)>=0||!P.umod(k.prime1)||!P.umod(k.prime2));return P}function b(k,S){var P=function B(k){var S=H(k);return{blinder:S.toRed(g.mont(k.modulus)).redPow(new g(k.publicExponent)).fromRed(),unblinder:S.invm(k.modulus)}}(S),R=S.modulus.byteLength(),O=new g(k).mul(P.blinder).umod(S.modulus),A=O.toRed(g.mont(S.prime1)),V=O.toRed(g.mont(S.prime2)),U=S.coefficient,K=S.prime1,Q=S.prime2,q=A.redPow(S.exponent1).fromRed(),Y=V.redPow(S.exponent2).fromRed(),W=q.isub(Y).imul(U).umod(K).imul(Q);return Y.iadd(W).imul(P.unblinder).umod(S.modulus).toArrayLike(Buffer,"be",R)}b.getr=H,$e.exports=b},99560:($e,j,E)=>{"use strict";$e.exports=E(62951)},79143:($e,j,E)=>{"use strict";var g=E(27054).Buffer,w=E(67211),B=E(64670),H=E(71993),b=E(43150),k=E(74754),S=E(62951);function P(V){B.Writable.call(this);var U=S[V];if(!U)throw new Error("Unknown message digest");this._hashType=U.hash,this._hash=w(U.hash),this._tag=U.id,this._signType=U.sign}function R(V){B.Writable.call(this);var U=S[V];if(!U)throw new Error("Unknown message digest");this._hash=w(U.hash),this._tag=U.id,this._signType=U.sign}function O(V){return new P(V)}function A(V){return new R(V)}Object.keys(S).forEach(function(V){S[V].id=g.from(S[V].id,"hex"),S[V.toLowerCase()]=S[V]}),H(P,B.Writable),P.prototype._write=function(U,K,Q){this._hash.update(U),Q()},P.prototype.update=function(U,K){return this._hash.update("string"==typeof U?g.from(U,K):U),this},P.prototype.sign=function(U,K){this.end();var Q=this._hash.digest(),q=b(Q,U,this._hashType,this._signType,this._tag);return K?q.toString(K):q},H(R,B.Writable),R.prototype._write=function(U,K,Q){this._hash.update(U),Q()},R.prototype.update=function(U,K){return this._hash.update("string"==typeof U?g.from(U,K):U),this},R.prototype.verify=function(U,K,Q){var q="string"==typeof K?g.from(K,Q):K;this.end();var Y=this._hash.digest();return k(q,Y,U,this._signType,this._tag)},$e.exports={Sign:O,Verify:A,createSign:O,createVerify:A}},43150:($e,j,E)=>{"use strict";var g=E(27054).Buffer,w=E(56432),B=E(14105),H=E(90518).ec,b=E(917),k=E(65667),S=E(64589);function U(W,re,ie,ae){if((W=g.from(W.toArray())).length<re.byteLength()){var ue=g.alloc(re.byteLength()-W.length);W=g.concat([ue,W])}var ce=ie.length,pe=function Q(W,re){W=(W=K(W,re)).mod(re);var ie=g.from(W.toArray());if(ie.length<re.byteLength()){var ae=g.alloc(re.byteLength()-ie.length);ie=g.concat([ae,ie])}return ie}(ie,re),ve=g.alloc(ce);ve.fill(1);var De=g.alloc(ce);return De=w(ae,De).update(ve).update(g.from([0])).update(W).update(pe).digest(),ve=w(ae,De).update(ve).digest(),{k:De=w(ae,De).update(ve).update(g.from([1])).update(W).update(pe).digest(),v:ve=w(ae,De).update(ve).digest()}}function K(W,re){var ie=new b(W),ae=(W.length<<3)-re.bitLength();return ae>0&&ie.ishrn(ae),ie}function q(W,re,ie){var ae,ue;do{for(ae=g.alloc(0);8*ae.length<W.bitLength();)re.v=w(ie,re.k).update(re.v).digest(),ae=g.concat([ae,re.v]);ue=K(ae,W),re.k=w(ie,re.k).update(re.v).update(g.from([0])).digest(),re.v=w(ie,re.k).update(re.v).digest()}while(-1!==ue.cmp(W));return ue}function Y(W,re,ie,ae){return W.toRed(b.mont(ie)).redPow(re).fromRed().mod(ae)}$e.exports=function R(W,re,ie,ae,ue){var ce=k(re);if(ce.curve){if("ecdsa"!==ae&&"ecdsa/rsa"!==ae)throw new Error("wrong private key type");return function O(W,re){var ie=S[re.curve.join(".")];if(!ie)throw new Error("unknown curve "+re.curve.join("."));var ce=new H(ie).keyFromPrivate(re.privateKey).sign(W);return g.from(ce.toDER())}(W,ce)}if("dsa"===ce.type){if("dsa"!==ae)throw new Error("wrong private key type");return function A(W,re,ie){for(var De,ae=re.params.priv_key,ue=re.params.p,ce=re.params.q,pe=re.params.g,ve=new b(0),C=K(W,ce).mod(ce),s=!1,d=U(ae,ce,W,ie);!1===s;)ve=Y(pe,De=q(ce,d,ie),ue,ce),0===(s=De.invm(ce).imul(C.add(ae.mul(ve))).mod(ce)).cmpn(0)&&(s=!1,ve=new b(0));return function V(W,re){W=W.toArray(),re=re.toArray(),128&W[0]&&(W=[0].concat(W)),128&re[0]&&(re=[0].concat(re));var ae=[48,W.length+re.length+4,2,W.length];return ae=ae.concat(W,[2,re.length],re),g.from(ae)}(ve,s)}(W,ce,ie)}if("rsa"!==ae&&"ecdsa/rsa"!==ae)throw new Error("wrong private key type");if(void 0!==re.padding&&1!==re.padding)throw new Error("illegal or unsupported padding mode");W=g.concat([ue,W]);for(var pe=ce.modulus.byteLength(),ve=[0,1];W.length+ve.length+1<pe;)ve.push(255);ve.push(0);for(var De=-1;++De<W.length;)ve.push(W[De]);return B(ve,ce)},$e.exports.getKey=U,$e.exports.makeKey=q},74754:($e,j,E)=>{"use strict";var g=E(27054).Buffer,w=E(917),B=E(90518).ec,H=E(65667),b=E(64589);function R(O,A){if(O.cmpn(0)<=0)throw new Error("invalid sig");if(O.cmp(A)>=0)throw new Error("invalid sig")}$e.exports=function k(O,A,V,U,K){var Q=H(V);if("ec"===Q.type){if("ecdsa"!==U&&"ecdsa/rsa"!==U)throw new Error("wrong public key type");return function S(O,A,V){var U=b[V.data.algorithm.curve.join(".")];if(!U)throw new Error("unknown curve "+V.data.algorithm.curve.join("."));return new B(U).verify(A,O,V.data.subjectPrivateKey.data)}(O,A,Q)}if("dsa"===Q.type){if("dsa"!==U)throw new Error("wrong public key type");return function P(O,A,V){var U=V.data.p,K=V.data.q,Q=V.data.g,q=V.data.pub_key,Y=H.signature.decode(O,"der"),W=Y.s,re=Y.r;R(W,K),R(re,K);var ie=w.mont(U),ae=W.invm(K);return 0===Q.toRed(ie).redPow(new w(A).mul(ae).mod(K)).fromRed().mul(q.toRed(ie).redPow(re.mul(ae).mod(K)).fromRed()).mod(U).mod(K).cmp(re)}(O,A,Q)}if("rsa"!==U&&"ecdsa/rsa"!==U)throw new Error("wrong public key type");A=g.concat([K,A]);for(var q=Q.modulus.byteLength(),Y=[1],W=0;A.length+Y.length+2<q;)Y.push(255),W+=1;Y.push(0);for(var re=-1;++re<A.length;)Y.push(A[re]);Y=g.from(Y);var ie=w.mont(Q.modulus);O=(O=new w(O).toRed(ie)).redPow(new w(Q.publicExponent)),O=g.from(O.fromRed().toArray());var ae=W<8?1:0;for(q=Math.min(O.length,Y.length),O.length!==Y.length&&(ae=1),re=-1;++re<q;)ae|=O[re]^Y[re];return 0===ae}},23827:($e,j,E)=>{"use strict";var g=E(9656),w=Object.keys||function(V){var U=[];for(var K in V)U.push(K);return U};$e.exports=R;var B=Object.create(E(27637));B.inherits=E(71993);var H=E(81217),b=E(14817);B.inherits(R,H);for(var k=w(b.prototype),S=0;S<k.length;S++){var P=k[S];R.prototype[P]||(R.prototype[P]=b.prototype[P])}function R(V){if(!(this instanceof R))return new R(V);H.call(this,V),b.call(this,V),V&&!1===V.readable&&(this.readable=!1),V&&!1===V.writable&&(this.writable=!1),this.allowHalfOpen=!0,V&&!1===V.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",O)}function O(){this.allowHalfOpen||this._writableState.ended||g.nextTick(A,this)}function A(V){V.end()}Object.defineProperty(R.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(R.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(V){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=V,this._writableState.destroyed=V)}}),R.prototype._destroy=function(V,U){this.push(null),this.end(),g.nextTick(U,V)}},75519:($e,j,E)=>{"use strict";$e.exports=B;var g=E(93045),w=Object.create(E(27637));function B(H){if(!(this instanceof B))return new B(H);g.call(this,H)}w.inherits=E(71993),w.inherits(B,g),B.prototype._transform=function(H,b,k){k(null,H)}},81217:($e,j,E)=>{"use strict";var g=E(40573),w=E(9656);$e.exports=ae;var H,B=E(20053);ae.ReadableState=ie,E(44356);var k=function(me,Ue){return me.listeners(Ue).length},S=E(62078),P=E(29783).Buffer,R=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},V=Object.create(E(27637));V.inherits=E(71993);var U=E(92668),K=void 0;K=U&&U.debuglog?U.debuglog("stream"):function(){};var Y,Q=E(10793),q=E(43357);V.inherits(ae,S);var W=["error","close","destroy","pause","resume"];function ie(me,Ue){var xe=Ue instanceof(H=H||E(23827));this.objectMode=!!(me=me||{}).objectMode,xe&&(this.objectMode=this.objectMode||!!me.readableObjectMode);var Ce=me.highWaterMark,be=me.readableHighWaterMark;this.highWaterMark=Ce||0===Ce?Ce:xe&&(be||0===be)?be:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Q,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=me.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,me.encoding&&(Y||(Y=E(49937).I),this.decoder=new Y(me.encoding),this.encoding=me.encoding)}function ae(me){if(H=H||E(23827),!(this instanceof ae))return new ae(me);this._readableState=new ie(me,this),this.readable=!0,me&&("function"==typeof me.read&&(this._read=me.read),"function"==typeof me.destroy&&(this._destroy=me.destroy)),S.call(this)}function ue(me,Ue,xe,Ce,be){var ne,he=me._readableState;return null===Ue?(he.reading=!1,function d(me,Ue){if(!Ue.ended){if(Ue.decoder){var xe=Ue.decoder.end();xe&&xe.length&&(Ue.buffer.push(xe),Ue.length+=Ue.objectMode?1:xe.length)}Ue.ended=!0,h(me)}}(me,he)):(be||(ne=function pe(me,Ue){var xe;return!function A(me){return P.isBuffer(me)||me instanceof R}(Ue)&&"string"!=typeof Ue&&void 0!==Ue&&!me.objectMode&&(xe=new TypeError("Invalid non-string/buffer chunk")),xe}(he,Ue)),ne?me.emit("error",ne):he.objectMode||Ue&&Ue.length>0?("string"!=typeof Ue&&!he.objectMode&&Object.getPrototypeOf(Ue)!==P.prototype&&(Ue=function O(me){return P.from(me)}(Ue)),Ce?he.endEmitted?me.emit("error",new Error("stream.unshift() after end event")):ce(me,he,Ue,!0):he.ended?me.emit("error",new Error("stream.push() after EOF")):(he.reading=!1,he.decoder&&!xe?(Ue=he.decoder.write(Ue),he.objectMode||0!==Ue.length?ce(me,he,Ue,!1):_(me,he)):ce(me,he,Ue,!1))):Ce||(he.reading=!1)),function ve(me){return!me.ended&&(me.needReadable||me.length<me.highWaterMark||0===me.length)}(he)}function ce(me,Ue,xe,Ce){Ue.flowing&&0===Ue.length&&!Ue.sync?(me.emit("data",xe),me.read(0)):(Ue.length+=Ue.objectMode?1:xe.length,Ce?Ue.buffer.unshift(xe):Ue.buffer.push(xe),Ue.needReadable&&h(me)),_(me,Ue)}Object.defineProperty(ae.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(me){this._readableState&&(this._readableState.destroyed=me)}}),ae.prototype.destroy=q.destroy,ae.prototype._undestroy=q.undestroy,ae.prototype._destroy=function(me,Ue){this.push(null),Ue(me)},ae.prototype.push=function(me,Ue){var Ce,xe=this._readableState;return xe.objectMode?Ce=!0:"string"==typeof me&&((Ue=Ue||xe.defaultEncoding)!==xe.encoding&&(me=P.from(me,Ue),Ue=""),Ce=!0),ue(this,me,Ue,!1,Ce)},ae.prototype.unshift=function(me){return ue(this,me,null,!0,!1)},ae.prototype.isPaused=function(){return!1===this._readableState.flowing},ae.prototype.setEncoding=function(me){return Y||(Y=E(49937).I),this._readableState.decoder=new Y(me),this._readableState.encoding=me,this};function s(me,Ue){return me<=0||0===Ue.length&&Ue.ended?0:Ue.objectMode?1:me!=me?Ue.flowing&&Ue.length?Ue.buffer.head.data.length:Ue.length:(me>Ue.highWaterMark&&(Ue.highWaterMark=function C(me){return me>=8388608?me=8388608:(me--,me|=me>>>1,me|=me>>>2,me|=me>>>4,me|=me>>>8,me|=me>>>16,me++),me}(me)),me<=Ue.length?me:Ue.ended?Ue.length:(Ue.needReadable=!0,0))}function h(me){var Ue=me._readableState;Ue.needReadable=!1,Ue.emittedReadable||(K("emitReadable",Ue.flowing),Ue.emittedReadable=!0,Ue.sync?w.nextTick(f,me):f(me))}function f(me){K("emit readable"),me.emit("readable"),Z(me)}function _(me,Ue){Ue.readingMore||(Ue.readingMore=!0,w.nextTick(I,me,Ue))}function I(me,Ue){for(var xe=Ue.length;!Ue.reading&&!Ue.flowing&&!Ue.ended&&Ue.length<Ue.highWaterMark&&(K("maybeReadMore read 0"),me.read(0),xe!==Ue.length);)xe=Ue.length;Ue.readingMore=!1}function x(me){K("readable nexttick read 0"),me.read(0)}function v(me,Ue){Ue.reading||(K("resume read 0"),me.read(0)),Ue.resumeScheduled=!1,Ue.awaitDrain=0,me.emit("resume"),Z(me),Ue.flowing&&!Ue.reading&&me.read(0)}function Z(me){var Ue=me._readableState;for(K("flow",Ue.flowing);Ue.flowing&&null!==me.read(););}function z(me,Ue){return 0===Ue.length?null:(Ue.objectMode?xe=Ue.buffer.shift():!me||me>=Ue.length?(xe=Ue.decoder?Ue.buffer.join(""):1===Ue.buffer.length?Ue.buffer.head.data:Ue.buffer.concat(Ue.length),Ue.buffer.clear()):xe=function ee(me,Ue,xe){var Ce;return me<Ue.head.data.length?(Ce=Ue.head.data.slice(0,me),Ue.head.data=Ue.head.data.slice(me)):Ce=me===Ue.head.data.length?Ue.shift():xe?function le(me,Ue){var xe=Ue.head,Ce=1,be=xe.data;for(me-=be.length;xe=xe.next;){var he=xe.data,ne=me>he.length?he.length:me;if(be+=ne===he.length?he:he.slice(0,me),0==(me-=ne)){ne===he.length?(++Ce,Ue.head=xe.next?xe.next:Ue.tail=null):(Ue.head=xe,xe.data=he.slice(ne));break}++Ce}return Ue.length-=Ce,be}(me,Ue):function we(me,Ue){var xe=P.allocUnsafe(me),Ce=Ue.head,be=1;for(Ce.data.copy(xe),me-=Ce.data.length;Ce=Ce.next;){var he=Ce.data,ne=me>he.length?he.length:me;if(he.copy(xe,xe.length-me,0,ne),0==(me-=ne)){ne===he.length?(++be,Ue.head=Ce.next?Ce.next:Ue.tail=null):(Ue.head=Ce,Ce.data=he.slice(ne));break}++be}return Ue.length-=be,xe}(me,Ue),Ce}(me,Ue.buffer,Ue.decoder),xe);var xe}function Me(me){var Ue=me._readableState;if(Ue.length>0)throw new Error('"endReadable()" called on non-empty stream');Ue.endEmitted||(Ue.ended=!0,w.nextTick(Ze,Ue,me))}function Ze(me,Ue){!me.endEmitted&&0===me.length&&(me.endEmitted=!0,Ue.readable=!1,Ue.emit("end"))}function ge(me,Ue){for(var xe=0,Ce=me.length;xe<Ce;xe++)if(me[xe]===Ue)return xe;return-1}ae.prototype.read=function(me){K("read",me),me=parseInt(me,10);var Ue=this._readableState,xe=me;if(0!==me&&(Ue.emittedReadable=!1),0===me&&Ue.needReadable&&(Ue.length>=Ue.highWaterMark||Ue.ended))return K("read: emitReadable",Ue.length,Ue.ended),0===Ue.length&&Ue.ended?Me(this):h(this),null;if(0===(me=s(me,Ue))&&Ue.ended)return 0===Ue.length&&Me(this),null;var be,Ce=Ue.needReadable;return K("need readable",Ce),(0===Ue.length||Ue.length-me<Ue.highWaterMark)&&K("length less than watermark",Ce=!0),Ue.ended||Ue.reading?K("reading or ended",Ce=!1):Ce&&(K("do read"),Ue.reading=!0,Ue.sync=!0,0===Ue.length&&(Ue.needReadable=!0),this._read(Ue.highWaterMark),Ue.sync=!1,Ue.reading||(me=s(xe,Ue))),null===(be=me>0?z(me,Ue):null)?(Ue.needReadable=!0,me=0):Ue.length-=me,0===Ue.length&&(Ue.ended||(Ue.needReadable=!0),xe!==me&&Ue.ended&&Me(this)),null!==be&&this.emit("data",be),be},ae.prototype._read=function(me){this.emit("error",new Error("_read() is not implemented"))},ae.prototype.pipe=function(me,Ue){var xe=this,Ce=this._readableState;switch(Ce.pipesCount){case 0:Ce.pipes=me;break;case 1:Ce.pipes=[Ce.pipes,me];break;default:Ce.pipes.push(me)}Ce.pipesCount+=1,K("pipe count=%d opts=%j",Ce.pipesCount,Ue);var he=Ue&&!1===Ue.end||me===g.stdout||me===g.stderr?yt:te;function te(){K("onend"),me.end()}Ce.endEmitted?w.nextTick(he):xe.once("end",he),me.on("unpipe",function ne(F,D){K("onunpipe"),F===xe&&D&&!1===D.hasUnpiped&&(D.hasUnpiped=!0,function Ie(){K("cleanup"),me.removeListener("close",Ne),me.removeListener("finish",ke),me.removeListener("drain",de),me.removeListener("error",Dt),me.removeListener("unpipe",ne),xe.removeListener("end",te),xe.removeListener("end",yt),xe.removeListener("data",Ve),_e=!0,Ce.awaitDrain&&(!me._writableState||me._writableState.needDrain)&&de()}())});var de=function L(me){return function(){var Ue=me._readableState;K("pipeOnDrain",Ue.awaitDrain),Ue.awaitDrain&&Ue.awaitDrain--,0===Ue.awaitDrain&&k(me,"data")&&(Ue.flowing=!0,Z(me))}}(xe);me.on("drain",de);var _e=!1,He=!1;function Ve(F){K("ondata"),He=!1,!1===me.write(F)&&!He&&((1===Ce.pipesCount&&Ce.pipes===me||Ce.pipesCount>1&&-1!==ge(Ce.pipes,me))&&!_e&&(K("false write response, pause",Ce.awaitDrain),Ce.awaitDrain++,He=!0),xe.pause())}function Dt(F){K("onerror",F),yt(),me.removeListener("error",Dt),0===k(me,"error")&&me.emit("error",F)}function Ne(){me.removeListener("finish",ke),yt()}function ke(){K("onfinish"),me.removeListener("close",Ne),yt()}function yt(){K("unpipe"),xe.unpipe(me)}return xe.on("data",Ve),function re(me,Ue,xe){if("function"==typeof me.prependListener)return me.prependListener(Ue,xe);me._events&&me._events[Ue]?B(me._events[Ue])?me._events[Ue].unshift(xe):me._events[Ue]=[xe,me._events[Ue]]:me.on(Ue,xe)}(me,"error",Dt),me.once("close",Ne),me.once("finish",ke),me.emit("pipe",xe),Ce.flowing||(K("pipe resume"),xe.resume()),me},ae.prototype.unpipe=function(me){var Ue=this._readableState,xe={hasUnpiped:!1};if(0===Ue.pipesCount)return this;if(1===Ue.pipesCount)return me&&me!==Ue.pipes||(me||(me=Ue.pipes),Ue.pipes=null,Ue.pipesCount=0,Ue.flowing=!1,me&&me.emit("unpipe",this,xe)),this;if(!me){var Ce=Ue.pipes,be=Ue.pipesCount;Ue.pipes=null,Ue.pipesCount=0,Ue.flowing=!1;for(var he=0;he<be;he++)Ce[he].emit("unpipe",this,{hasUnpiped:!1});return this}var ne=ge(Ue.pipes,me);return-1===ne||(Ue.pipes.splice(ne,1),Ue.pipesCount-=1,1===Ue.pipesCount&&(Ue.pipes=Ue.pipes[0]),me.emit("unpipe",this,xe)),this},ae.prototype.addListener=ae.prototype.on=function(me,Ue){var xe=S.prototype.on.call(this,me,Ue);if("data"===me)!1!==this._readableState.flowing&&this.resume();else if("readable"===me){var Ce=this._readableState;!Ce.endEmitted&&!Ce.readableListening&&(Ce.readableListening=Ce.needReadable=!0,Ce.emittedReadable=!1,Ce.reading?Ce.length&&h(this):w.nextTick(x,this))}return xe},ae.prototype.resume=function(){var me=this._readableState;return me.flowing||(K("resume"),me.flowing=!0,function a(me,Ue){Ue.resumeScheduled||(Ue.resumeScheduled=!0,w.nextTick(v,me,Ue))}(this,me)),this},ae.prototype.pause=function(){return K("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(K("pause"),this._readableState.flowing=!1,this.emit("pause")),this},ae.prototype.wrap=function(me){var Ue=this,xe=this._readableState,Ce=!1;for(var be in me.on("end",function(){if(K("wrapped end"),xe.decoder&&!xe.ended){var ne=xe.decoder.end();ne&&ne.length&&Ue.push(ne)}Ue.push(null)}),me.on("data",function(ne){K("wrapped data"),xe.decoder&&(ne=xe.decoder.write(ne)),xe.objectMode&&null==ne||!(xe.objectMode||ne&&ne.length)||Ue.push(ne)||(Ce=!0,me.pause())}),me)void 0===this[be]&&"function"==typeof me[be]&&(this[be]=function(ne){return function(){return me[ne].apply(me,arguments)}}(be));for(var he=0;he<W.length;he++)me.on(W[he],this.emit.bind(this,W[he]));return this._read=function(ne){K("wrapped _read",ne),Ce&&(Ce=!1,me.resume())},this},Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),ae._fromList=z},93045:($e,j,E)=>{"use strict";$e.exports=H;var g=E(23827),w=Object.create(E(27637));function B(S,P){var R=this._transformState;R.transforming=!1;var O=R.writecb;if(!O)return this.emit("error",new Error("write callback called multiple times"));R.writechunk=null,R.writecb=null,null!=P&&this.push(P),O(S);var A=this._readableState;A.reading=!1,(A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}function H(S){if(!(this instanceof H))return new H(S);g.call(this,S),this._transformState={afterTransform:B.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&("function"==typeof S.transform&&(this._transform=S.transform),"function"==typeof S.flush&&(this._flush=S.flush)),this.on("prefinish",b)}function b(){var S=this;"function"==typeof this._flush?this._flush(function(P,R){k(S,P,R)}):k(this,null,null)}function k(S,P,R){if(P)return S.emit("error",P);if(null!=R&&S.push(R),S._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(S._transformState.transforming)throw new Error("Calling transform done when still transforming");return S.push(null)}w.inherits=E(71993),w.inherits(H,g),H.prototype.push=function(S,P){return this._transformState.needTransform=!1,g.prototype.push.call(this,S,P)},H.prototype._transform=function(S,P,R){throw new Error("_transform() is not implemented")},H.prototype._write=function(S,P,R){var O=this._transformState;if(O.writecb=R,O.writechunk=S,O.writeencoding=P,!O.transforming){var A=this._readableState;(O.needTransform||A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}},H.prototype._read=function(S){var P=this._transformState;null!==P.writechunk&&P.writecb&&!P.transforming?(P.transforming=!0,this._transform(P.writechunk,P.writeencoding,P.afterTransform)):P.needTransform=!0},H.prototype._destroy=function(S,P){var R=this;g.prototype._destroy.call(this,S,function(O){P(O),R.emit("close")})}},14817:($e,j,E)=>{"use strict";var g=E(40573),w=E(9656);function H(a){var v=this;this.next=null,this.entry=null,this.finish=function(){!function x(a,v,Z){var z=a.entry;for(a.entry=null;z;){var ee=z.callback;v.pendingcb--,ee(Z),z=z.next}v.corkedRequestsFree.next=a}(v,a)}}$e.exports=W;var k,b=!g.browser&&["v0.10","v0.9."].indexOf(g.version.slice(0,5))>-1?setImmediate:w.nextTick;W.WritableState=q;var S=Object.create(E(27637));S.inherits=E(71993);var Y,P={deprecate:E(3398)},R=E(62078),O=E(29783).Buffer,A=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},K=E(43357);function Q(){}function q(a,v){k=k||E(23827);var Z=v instanceof k;this.objectMode=!!(a=a||{}).objectMode,Z&&(this.objectMode=this.objectMode||!!a.writableObjectMode);var z=a.highWaterMark,ee=a.writableHighWaterMark;this.highWaterMark=z||0===z?z:Z&&(ee||0===ee)?ee:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===a.decodeStrings),this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Me){!function De(a,v){var Z=a._writableState,z=Z.sync,ee=Z.writecb;if(function ve(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}(Z),v)!function pe(a,v,Z,z,ee){--v.pendingcb,Z?(w.nextTick(ee,z),w.nextTick(I,a,v),a._writableState.errorEmitted=!0,a.emit("error",z)):(ee(z),a._writableState.errorEmitted=!0,a.emit("error",z),I(a,v))}(a,Z,z,v,ee);else{var le=h(Z);!le&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&d(a,Z),z?b(C,a,Z,le,ee):C(a,Z,le,ee)}}(v,Me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new H(this)}function W(a){if(k=k||E(23827),!(Y.call(W,this)||this instanceof k))return new W(a);this._writableState=new q(a,this),this.writable=!0,a&&("function"==typeof a.write&&(this._write=a.write),"function"==typeof a.writev&&(this._writev=a.writev),"function"==typeof a.destroy&&(this._destroy=a.destroy),"function"==typeof a.final&&(this._final=a.final)),R.call(this)}function ce(a,v,Z,z,ee,le,we){v.writelen=z,v.writecb=we,v.writing=!0,v.sync=!0,Z?a._writev(ee,v.onwrite):a._write(ee,le,v.onwrite),v.sync=!1}function C(a,v,Z,z){Z||function s(a,v){0===v.length&&v.needDrain&&(v.needDrain=!1,a.emit("drain"))}(a,v),v.pendingcb--,z(),I(a,v)}function d(a,v){v.bufferProcessing=!0;var Z=v.bufferedRequest;if(a._writev&&Z&&Z.next){var ee=new Array(v.bufferedRequestCount),le=v.corkedRequestsFree;le.entry=Z;for(var we=0,Me=!0;Z;)ee[we]=Z,Z.isBuf||(Me=!1),Z=Z.next,we+=1;ee.allBuffers=Me,ce(a,v,!0,v.length,ee,"",le.finish),v.pendingcb++,v.lastBufferedRequest=null,le.next?(v.corkedRequestsFree=le.next,le.next=null):v.corkedRequestsFree=new H(v),v.bufferedRequestCount=0}else{for(;Z;){var Ze=Z.chunk;if(ce(a,v,!1,v.objectMode?1:Ze.length,Ze,Z.encoding,Z.callback),Z=Z.next,v.bufferedRequestCount--,v.writing)break}null===Z&&(v.lastBufferedRequest=null)}v.bufferedRequest=Z,v.bufferProcessing=!1}function h(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function f(a,v){a._final(function(Z){v.pendingcb--,Z&&a.emit("error",Z),v.prefinished=!0,a.emit("prefinish"),I(a,v)})}function I(a,v){var Z=h(v);return Z&&(function _(a,v){!v.prefinished&&!v.finalCalled&&("function"==typeof a._final?(v.pendingcb++,v.finalCalled=!0,w.nextTick(f,a,v)):(v.prefinished=!0,a.emit("prefinish")))}(a,v),0===v.pendingcb&&(v.finished=!0,a.emit("finish"))),Z}S.inherits(W,R),q.prototype.getBuffer=function(){for(var v=this.bufferedRequest,Z=[];v;)Z.push(v),v=v.next;return Z},function(){try{Object.defineProperty(q.prototype,"buffer",{get:P.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(a){return!!Y.call(this,a)||this===W&&a&&a._writableState instanceof q}})):Y=function(a){return a instanceof this},W.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},W.prototype.write=function(a,v,Z){var z=this._writableState,ee=!1,le=!z.objectMode&&function U(a){return O.isBuffer(a)||a instanceof A}(a);return le&&!O.isBuffer(a)&&(a=function V(a){return O.from(a)}(a)),"function"==typeof v&&(Z=v,v=null),le?v="buffer":v||(v=z.defaultEncoding),"function"!=typeof Z&&(Z=Q),z.ended?function re(a,v){var Z=new Error("write after end");a.emit("error",Z),w.nextTick(v,Z)}(this,Z):(le||function ie(a,v,Z,z){var ee=!0,le=!1;return null===Z?le=new TypeError("May not write null values to stream"):"string"!=typeof Z&&void 0!==Z&&!v.objectMode&&(le=new TypeError("Invalid non-string/buffer chunk")),le&&(a.emit("error",le),w.nextTick(z,le),ee=!1),ee}(this,z,a,Z))&&(z.pendingcb++,ee=function ue(a,v,Z,z,ee,le){if(!Z){var we=function ae(a,v,Z){return!a.objectMode&&!1!==a.decodeStrings&&"string"==typeof v&&(v=O.from(v,Z)),v}(v,z,ee);z!==we&&(Z=!0,ee="buffer",z=we)}var Me=v.objectMode?1:z.length;v.length+=Me;var Ze=v.length<v.highWaterMark;if(Ze||(v.needDrain=!0),v.writing||v.corked){var ge=v.lastBufferedRequest;v.lastBufferedRequest={chunk:z,encoding:ee,isBuf:Z,callback:le,next:null},ge?ge.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else ce(a,v,!1,Me,z,ee,le);return Ze}(this,z,le,a,v,Z)),ee},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,!a.writing&&!a.corked&&!a.bufferProcessing&&a.bufferedRequest&&d(this,a))},W.prototype.setDefaultEncoding=function(v){if("string"==typeof v&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(a,v,Z){Z(new Error("_write() is not implemented"))},W.prototype._writev=null,W.prototype.end=function(a,v,Z){var z=this._writableState;"function"==typeof a?(Z=a,a=null,v=null):"function"==typeof v&&(Z=v,v=null),null!=a&&this.write(a,v),z.corked&&(z.corked=1,this.uncork()),z.ending||function L(a,v,Z){v.ending=!0,I(a,v),Z&&(v.finished?w.nextTick(Z):a.once("finish",Z)),v.ended=!0,a.writable=!1}(this,z,Z)},Object.defineProperty(W.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),W.prototype.destroy=K.destroy,W.prototype._undestroy=K.undestroy,W.prototype._destroy=function(a,v){this.end(),v(a)}},10793:($e,j,E)=>{"use strict";var w=E(29783).Buffer,B=E(21638);function H(b,k,S){b.copy(k,S)}$e.exports=function(){function b(){(function g(b,k){if(!(b instanceof k))throw new TypeError("Cannot call a class as a function")})(this,b),this.head=null,this.tail=null,this.length=0}return b.prototype.push=function(S){var P={data:S,next:null};this.length>0?this.tail.next=P:this.head=P,this.tail=P,++this.length},b.prototype.unshift=function(S){var P={data:S,next:this.head};0===this.length&&(this.tail=P),this.head=P,++this.length},b.prototype.shift=function(){if(0!==this.length){var S=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,S}},b.prototype.clear=function(){this.head=this.tail=null,this.length=0},b.prototype.join=function(S){if(0===this.length)return"";for(var P=this.head,R=""+P.data;P=P.next;)R+=S+P.data;return R},b.prototype.concat=function(S){if(0===this.length)return w.alloc(0);for(var P=w.allocUnsafe(S>>>0),R=this.head,O=0;R;)H(R.data,P,O),O+=R.data.length,R=R.next;return P},b}(),B&&B.inspect&&B.inspect.custom&&($e.exports.prototype[B.inspect.custom]=function(){var b=B.inspect({length:this.length});return this.constructor.name+" "+b})},43357:($e,j,E)=>{"use strict";var g=E(9656);function H(b,k){b.emit("error",k)}$e.exports={destroy:function w(b,k){var S=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(k?k(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(H,this,b)):g.nextTick(H,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(O){!k&&O?S._writableState?S._writableState.errorEmitted||(S._writableState.errorEmitted=!0,g.nextTick(H,S,O)):g.nextTick(H,S,O):k&&k(O)}),this)},undestroy:function B(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:($e,j,E)=>{$e.exports=E(44356).EventEmitter},29783:($e,j,E)=>{var g=E(83838),w=g.Buffer;function B(b,k){for(var S in b)k[S]=b[S]}function H(b,k,S){return w(b,k,S)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?$e.exports=g:(B(g,j),j.Buffer=H),B(w,H),H.from=function(b,k,S){if("number"==typeof b)throw new TypeError("Argument must not be a number");return w(b,k,S)},H.alloc=function(b,k,S){if("number"!=typeof b)throw new TypeError("Argument must be a number");var P=w(b);return void 0!==k?"string"==typeof S?P.fill(k,S):P.fill(k):P.fill(0),P},H.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return w(b)},H.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return g.SlowBuffer(b)}},64670:($e,j,E)=>{(j=$e.exports=E(81217)).Stream=j,j.Readable=j,j.Writable=E(14817),j.Duplex=E(23827),j.Transform=E(93045),j.PassThrough=E(75519)},49937:($e,j,E)=>{"use strict";var g=E(37656).Buffer,w=g.isEncoding||function(W){switch((W=""+W)&&W.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function b(W){var re;switch(this.encoding=function H(W){var re=function B(W){if(!W)return"utf8";for(var re;;)switch(W){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return W;default:if(re)return;W=(""+W).toLowerCase(),re=!0}}(W);if("string"!=typeof re&&(g.isEncoding===w||!w(W)))throw new Error("Unknown encoding: "+W);return re||W}(W),this.encoding){case"utf16le":this.text=V,this.end=U,re=4;break;case"utf8":this.fillLast=R,re=4;break;case"base64":this.text=K,this.end=Q,re=3;break;default:return this.write=q,void(this.end=Y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(re)}function k(W){return W<=127?0:W>>5==6?2:W>>4==14?3:W>>3==30?4:W>>6==2?-1:-2}function R(W){var re=this.lastTotal-this.lastNeed,ie=function P(W,re,ie){if(128!=(192&re[0]))return W.lastNeed=0,"\ufffd";if(W.lastNeed>1&&re.length>1){if(128!=(192&re[1]))return W.lastNeed=1,"\ufffd";if(W.lastNeed>2&&re.length>2&&128!=(192&re[2]))return W.lastNeed=2,"\ufffd"}}(this,W);return void 0!==ie?ie:this.lastNeed<=W.length?(W.copy(this.lastChar,re,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(W.copy(this.lastChar,re,0,W.length),void(this.lastNeed-=W.length))}function V(W,re){if((W.length-re)%2==0){var ie=W.toString("utf16le",re);if(ie){var ae=ie.charCodeAt(ie.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=W[W.length-2],this.lastChar[1]=W[W.length-1],ie.slice(0,-1)}return ie}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=W[W.length-1],W.toString("utf16le",re,W.length-1)}function U(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):re}function K(W,re){var ie=(W.length-re)%3;return 0===ie?W.toString("base64",re):(this.lastNeed=3-ie,this.lastTotal=3,1===ie?this.lastChar[0]=W[W.length-1]:(this.lastChar[0]=W[W.length-2],this.lastChar[1]=W[W.length-1]),W.toString("base64",re,W.length-ie))}function Q(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+this.lastChar.toString("base64",0,3-this.lastNeed):re}function q(W){return W.toString(this.encoding)}function Y(W){return W&&W.length?this.write(W):""}j.I=b,b.prototype.write=function(W){if(0===W.length)return"";var re,ie;if(this.lastNeed){if(void 0===(re=this.fillLast(W)))return"";ie=this.lastNeed,this.lastNeed=0}else ie=0;return ie<W.length?re?re+this.text(W,ie):this.text(W,ie):re||""},b.prototype.end=function A(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+"\ufffd":re},b.prototype.text=function O(W,re){var ie=function S(W,re,ie){var ae=re.length-1;if(ae<ie)return 0;var ue=k(re[ae]);return ue>=0?(ue>0&&(W.lastNeed=ue-1),ue):--ae<ie||-2===ue?0:(ue=k(re[ae]))>=0?(ue>0&&(W.lastNeed=ue-2),ue):--ae<ie||-2===ue?0:(ue=k(re[ae]))>=0?(ue>0&&(2===ue?ue=0:W.lastNeed=ue-3),ue):0}(this,W,re);if(!this.lastNeed)return W.toString("utf8",re);this.lastTotal=ie;var ae=W.length-(ie-this.lastNeed);return W.copy(this.lastChar,0,ae),W.toString("utf8",re,ae)},b.prototype.fillLast=function(W){if(this.lastNeed<=W.length)return W.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);W.copy(this.lastChar,this.lastTotal-this.lastNeed,0,W.length),this.lastNeed-=W.length}},37656:($e,j,E)=>{var g=E(83838),w=g.Buffer;function B(b,k){for(var S in b)k[S]=b[S]}function H(b,k,S){return w(b,k,S)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?$e.exports=g:(B(g,j),j.Buffer=H),B(w,H),H.from=function(b,k,S){if("number"==typeof b)throw new TypeError("Argument must not be a number");return w(b,k,S)},H.alloc=function(b,k,S){if("number"!=typeof b)throw new TypeError("Argument must be a number");var P=w(b);return void 0!==k?"string"==typeof S?P.fill(k,S):P.fill(k):P.fill(0),P},H.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return w(b)},H.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return g.SlowBuffer(b)}},13546:$e=>{$e.exports=function(E,g){for(var w=Math.min(E.length,g.length),B=new Buffer(w),H=0;H<w;++H)B[H]=E[H]^g[H];return B}},83838:($e,j,E)=>{"use strict";var g=E(13981),w=E(22020),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function W(ne){return+ne!=ne&&(ne=0),S.alloc(+ne)},j.INSPECT_MAX_BYTES=50;var H=2147483647;function k(ne){if(ne>H)throw new RangeError('The value "'+ne+'" is invalid for option "size"');var te=new Uint8Array(ne);return Object.setPrototypeOf(te,S.prototype),te}function S(ne,te,de){if("number"==typeof ne){if("string"==typeof te)throw new TypeError('The "string" argument must be of type string. Received type number');return A(ne)}return P(ne,te,de)}function P(ne,te,de){if("string"==typeof ne)return function V(ne,te){if(("string"!=typeof te||""===te)&&(te="utf8"),!S.isEncoding(te))throw new TypeError("Unknown encoding: "+te);var de=0|re(ne,te),_e=k(de),Ie=_e.write(ne,te);return Ie!==de&&(_e=_e.slice(0,Ie)),_e}(ne,te);if(ArrayBuffer.isView(ne))return function K(ne){if(Ce(ne,Uint8Array)){var te=new Uint8Array(ne);return Q(te.buffer,te.byteOffset,te.byteLength)}return U(ne)}(ne);if(null==ne)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(Ce(ne,ArrayBuffer)||ne&&Ce(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(ne,SharedArrayBuffer)||ne&&Ce(ne.buffer,SharedArrayBuffer)))return Q(ne,te,de);if("number"==typeof ne)throw new TypeError('The "value" argument must not be of type number. Received type number');var _e=ne.valueOf&&ne.valueOf();if(null!=_e&&_e!==ne)return S.from(_e,te,de);var Ie=function q(ne){if(S.isBuffer(ne)){var te=0|Y(ne.length),de=k(te);return 0===de.length||ne.copy(de,0,0,te),de}return void 0!==ne.length?"number"!=typeof ne.length||be(ne.length)?k(0):U(ne):"Buffer"===ne.type&&Array.isArray(ne.data)?U(ne.data):void 0}(ne);if(Ie)return Ie;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ne[Symbol.toPrimitive])return S.from(ne[Symbol.toPrimitive]("string"),te,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}function R(ne){if("number"!=typeof ne)throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function A(ne){return R(ne),k(ne<0?0:0|Y(ne))}function U(ne){for(var te=ne.length<0?0:0|Y(ne.length),de=k(te),_e=0;_e<te;_e+=1)de[_e]=255&ne[_e];return de}function Q(ne,te,de){if(te<0||ne.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<te+(de||0))throw new RangeError('"length" is outside of buffer bounds');var _e;return _e=void 0===te&&void 0===de?new Uint8Array(ne):void 0===de?new Uint8Array(ne,te):new Uint8Array(ne,te,de),Object.setPrototypeOf(_e,S.prototype),_e}function Y(ne){if(ne>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|ne}function re(ne,te){if(S.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||Ce(ne,ArrayBuffer))return ne.byteLength;if("string"!=typeof ne)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);var de=ne.length,_e=arguments.length>2&&!0===arguments[2];if(!_e&&0===de)return 0;for(var Ie=!1;;)switch(te){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return Ze(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return Ue(ne).length;default:if(Ie)return _e?-1:Ze(ne).length;te=(""+te).toLowerCase(),Ie=!0}}function ie(ne,te,de){var _e=!1;if((void 0===te||te<0)&&(te=0),te>this.length||((void 0===de||de>this.length)&&(de=this.length),de<=0)||(de>>>=0)<=(te>>>=0))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return x(this,te,de);case"utf8":case"utf-8":return h(this,te,de);case"ascii":return I(this,te,de);case"latin1":case"binary":return L(this,te,de);case"base64":return d(this,te,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,te,de);default:if(_e)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),_e=!0}}function ae(ne,te,de){var _e=ne[te];ne[te]=ne[de],ne[de]=_e}function ue(ne,te,de,_e,Ie){if(0===ne.length)return-1;if("string"==typeof de?(_e=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),be(de=+de)&&(de=Ie?0:ne.length-1),de<0&&(de=ne.length+de),de>=ne.length){if(Ie)return-1;de=ne.length-1}else if(de<0){if(!Ie)return-1;de=0}if("string"==typeof te&&(te=S.from(te,_e)),S.isBuffer(te))return 0===te.length?-1:ce(ne,te,de,_e,Ie);if("number"==typeof te)return te&=255,"function"==typeof Uint8Array.prototype.indexOf?Ie?Uint8Array.prototype.indexOf.call(ne,te,de):Uint8Array.prototype.lastIndexOf.call(ne,te,de):ce(ne,[te],de,_e,Ie);throw new TypeError("val must be string, number or Buffer")}function ce(ne,te,de,_e,Ie){var ke,He=1,Ve=ne.length,Dt=te.length;if(void 0!==_e&&("ucs2"===(_e=String(_e).toLowerCase())||"ucs-2"===_e||"utf16le"===_e||"utf-16le"===_e)){if(ne.length<2||te.length<2)return-1;He=2,Ve/=2,Dt/=2,de/=2}function Ne(M,G){return 1===He?M[G]:M.readUInt16BE(G*He)}if(Ie){var yt=-1;for(ke=de;ke<Ve;ke++)if(Ne(ne,ke)===Ne(te,-1===yt?0:ke-yt)){if(-1===yt&&(yt=ke),ke-yt+1===Dt)return yt*He}else-1!==yt&&(ke-=ke-yt),yt=-1}else for(de+Dt>Ve&&(de=Ve-Dt),ke=de;ke>=0;ke--){for(var F=!0,D=0;D<Dt;D++)if(Ne(ne,ke+D)!==Ne(te,D)){F=!1;break}if(F)return ke}return-1}function pe(ne,te,de,_e){de=Number(de)||0;var Ie=ne.length-de;_e?(_e=Number(_e))>Ie&&(_e=Ie):_e=Ie;var He=te.length;_e>He/2&&(_e=He/2);for(var Ve=0;Ve<_e;++Ve){var Dt=parseInt(te.substr(2*Ve,2),16);if(be(Dt))return Ve;ne[de+Ve]=Dt}return Ve}function ve(ne,te,de,_e){return xe(Ze(te,ne.length-de),ne,de,_e)}function De(ne,te,de,_e){return xe(function ge(ne){for(var te=[],de=0;de<ne.length;++de)te.push(255&ne.charCodeAt(de));return te}(te),ne,de,_e)}function C(ne,te,de,_e){return xe(Ue(te),ne,de,_e)}function s(ne,te,de,_e){return xe(function me(ne,te){for(var de,_e,He=[],Ve=0;Ve<ne.length&&!((te-=2)<0);++Ve)_e=(de=ne.charCodeAt(Ve))>>8,He.push(de%256),He.push(_e);return He}(te,ne.length-de),ne,de,_e)}function d(ne,te,de){return g.fromByteArray(0===te&&de===ne.length?ne:ne.slice(te,de))}function h(ne,te,de){de=Math.min(ne.length,de);for(var _e=[],Ie=te;Ie<de;){var Ne,ke,yt,F,He=ne[Ie],Ve=null,Dt=He>239?4:He>223?3:He>191?2:1;if(Ie+Dt<=de)switch(Dt){case 1:He<128&&(Ve=He);break;case 2:128==(192&(Ne=ne[Ie+1]))&&(F=(31&He)<<6|63&Ne)>127&&(Ve=F);break;case 3:ke=ne[Ie+2],128==(192&(Ne=ne[Ie+1]))&&128==(192&ke)&&(F=(15&He)<<12|(63&Ne)<<6|63&ke)>2047&&(F<55296||F>57343)&&(Ve=F);break;case 4:ke=ne[Ie+2],yt=ne[Ie+3],128==(192&(Ne=ne[Ie+1]))&&128==(192&ke)&&128==(192&yt)&&(F=(15&He)<<18|(63&Ne)<<12|(63&ke)<<6|63&yt)>65535&&F<1114112&&(Ve=F)}null===Ve?(Ve=65533,Dt=1):Ve>65535&&(_e.push((Ve-=65536)>>>10&1023|55296),Ve=56320|1023&Ve),_e.push(Ve),Ie+=Dt}return function _(ne){var te=ne.length;if(te<=f)return String.fromCharCode.apply(String,ne);for(var de="",_e=0;_e<te;)de+=String.fromCharCode.apply(String,ne.slice(_e,_e+=f));return de}(_e)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function b(){try{var ne=new Uint8Array(1),te={foo:function(){return 42}};return Object.setPrototypeOf(te,Uint8Array.prototype),Object.setPrototypeOf(ne,te),42===ne.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(ne,te,de){return P(ne,te,de)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(ne,te,de){return function O(ne,te,de){return R(ne),ne<=0?k(ne):void 0!==te?"string"==typeof de?k(ne).fill(te,de):k(ne).fill(te):k(ne)}(ne,te,de)},S.allocUnsafe=function(ne){return A(ne)},S.allocUnsafeSlow=function(ne){return A(ne)},S.isBuffer=function(te){return null!=te&&!0===te._isBuffer&&te!==S.prototype},S.compare=function(te,de){if(Ce(te,Uint8Array)&&(te=S.from(te,te.offset,te.byteLength)),Ce(de,Uint8Array)&&(de=S.from(de,de.offset,de.byteLength)),!S.isBuffer(te)||!S.isBuffer(de))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(te===de)return 0;for(var _e=te.length,Ie=de.length,He=0,Ve=Math.min(_e,Ie);He<Ve;++He)if(te[He]!==de[He]){_e=te[He],Ie=de[He];break}return _e<Ie?-1:Ie<_e?1:0},S.isEncoding=function(te){switch(String(te).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(te,de){if(!Array.isArray(te))throw new TypeError('"list" argument must be an Array of Buffers');if(0===te.length)return S.alloc(0);var _e;if(void 0===de)for(de=0,_e=0;_e<te.length;++_e)de+=te[_e].length;var Ie=S.allocUnsafe(de),He=0;for(_e=0;_e<te.length;++_e){var Ve=te[_e];if(Ce(Ve,Uint8Array))He+Ve.length>Ie.length?S.from(Ve).copy(Ie,He):Uint8Array.prototype.set.call(Ie,Ve,He);else{if(!S.isBuffer(Ve))throw new TypeError('"list" argument must be an Array of Buffers');Ve.copy(Ie,He)}He+=Ve.length}return Ie},S.byteLength=re,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var te=this.length;if(te%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var de=0;de<te;de+=2)ae(this,de,de+1);return this},S.prototype.swap32=function(){var te=this.length;if(te%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var de=0;de<te;de+=4)ae(this,de,de+3),ae(this,de+1,de+2);return this},S.prototype.swap64=function(){var te=this.length;if(te%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var de=0;de<te;de+=8)ae(this,de,de+7),ae(this,de+1,de+6),ae(this,de+2,de+5),ae(this,de+3,de+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){var te=this.length;return 0===te?"":0===arguments.length?h(this,0,te):ie.apply(this,arguments)},S.prototype.equals=function(te){if(!S.isBuffer(te))throw new TypeError("Argument must be a Buffer");return this===te||0===S.compare(this,te)},S.prototype.inspect=function(){var te="",de=j.INSPECT_MAX_BYTES;return te=this.toString("hex",0,de).replace(/(.{2})/g,"$1 ").trim(),this.length>de&&(te+=" ... "),"<Buffer "+te+">"},B&&(S.prototype[B]=S.prototype.inspect),S.prototype.compare=function(te,de,_e,Ie,He){if(Ce(te,Uint8Array)&&(te=S.from(te,te.offset,te.byteLength)),!S.isBuffer(te))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof te);if(void 0===de&&(de=0),void 0===_e&&(_e=te?te.length:0),void 0===Ie&&(Ie=0),void 0===He&&(He=this.length),de<0||_e>te.length||Ie<0||He>this.length)throw new RangeError("out of range index");if(Ie>=He&&de>=_e)return 0;if(Ie>=He)return-1;if(de>=_e)return 1;if(this===te)return 0;for(var Ve=(He>>>=0)-(Ie>>>=0),Dt=(_e>>>=0)-(de>>>=0),Ne=Math.min(Ve,Dt),ke=this.slice(Ie,He),yt=te.slice(de,_e),F=0;F<Ne;++F)if(ke[F]!==yt[F]){Ve=ke[F],Dt=yt[F];break}return Ve<Dt?-1:Dt<Ve?1:0},S.prototype.includes=function(te,de,_e){return-1!==this.indexOf(te,de,_e)},S.prototype.indexOf=function(te,de,_e){return ue(this,te,de,_e,!0)},S.prototype.lastIndexOf=function(te,de,_e){return ue(this,te,de,_e,!1)},S.prototype.write=function(te,de,_e,Ie){if(void 0===de)Ie="utf8",_e=this.length,de=0;else if(void 0===_e&&"string"==typeof de)Ie=de,_e=this.length,de=0;else{if(!isFinite(de))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");de>>>=0,isFinite(_e)?(_e>>>=0,void 0===Ie&&(Ie="utf8")):(Ie=_e,_e=void 0)}var He=this.length-de;if((void 0===_e||_e>He)&&(_e=He),te.length>0&&(_e<0||de<0)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");for(var Ve=!1;;)switch(Ie){case"hex":return pe(this,te,de,_e);case"utf8":case"utf-8":return ve(this,te,de,_e);case"ascii":case"latin1":case"binary":return De(this,te,de,_e);case"base64":return C(this,te,de,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,te,de,_e);default:if(Ve)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),Ve=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var f=4096;function I(ne,te,de){var _e="";de=Math.min(ne.length,de);for(var Ie=te;Ie<de;++Ie)_e+=String.fromCharCode(127&ne[Ie]);return _e}function L(ne,te,de){var _e="";de=Math.min(ne.length,de);for(var Ie=te;Ie<de;++Ie)_e+=String.fromCharCode(ne[Ie]);return _e}function x(ne,te,de){var _e=ne.length;(!te||te<0)&&(te=0),(!de||de<0||de>_e)&&(de=_e);for(var Ie="",He=te;He<de;++He)Ie+=he[ne[He]];return Ie}function a(ne,te,de){for(var _e=ne.slice(te,de),Ie="",He=0;He<_e.length-1;He+=2)Ie+=String.fromCharCode(_e[He]+256*_e[He+1]);return Ie}function v(ne,te,de){if(ne%1!=0||ne<0)throw new RangeError("offset is not uint");if(ne+te>de)throw new RangeError("Trying to access beyond buffer length")}function Z(ne,te,de,_e,Ie,He){if(!S.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>Ie||te<He)throw new RangeError('"value" argument is out of bounds');if(de+_e>ne.length)throw new RangeError("Index out of range")}function z(ne,te,de,_e,Ie,He){if(de+_e>ne.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function ee(ne,te,de,_e,Ie){return te=+te,de>>>=0,Ie||z(ne,0,de,4),w.write(ne,te,de,_e,23,4),de+4}function le(ne,te,de,_e,Ie){return te=+te,de>>>=0,Ie||z(ne,0,de,8),w.write(ne,te,de,_e,52,8),de+8}S.prototype.slice=function(te,de){var _e=this.length;(te=~~te)<0?(te+=_e)<0&&(te=0):te>_e&&(te=_e),(de=void 0===de?_e:~~de)<0?(de+=_e)<0&&(de=0):de>_e&&(de=_e),de<te&&(de=te);var Ie=this.subarray(te,de);return Object.setPrototypeOf(Ie,S.prototype),Ie},S.prototype.readUintLE=S.prototype.readUIntLE=function(te,de,_e){te>>>=0,de>>>=0,_e||v(te,de,this.length);for(var Ie=this[te],He=1,Ve=0;++Ve<de&&(He*=256);)Ie+=this[te+Ve]*He;return Ie},S.prototype.readUintBE=S.prototype.readUIntBE=function(te,de,_e){te>>>=0,de>>>=0,_e||v(te,de,this.length);for(var Ie=this[te+--de],He=1;de>0&&(He*=256);)Ie+=this[te+--de]*He;return Ie},S.prototype.readUint8=S.prototype.readUInt8=function(te,de){return te>>>=0,de||v(te,1,this.length),this[te]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(te,de){return te>>>=0,de||v(te,2,this.length),this[te]|this[te+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(te,de){return te>>>=0,de||v(te,2,this.length),this[te]<<8|this[te+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(te,de){return te>>>=0,de||v(te,4,this.length),(this[te]|this[te+1]<<8|this[te+2]<<16)+16777216*this[te+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(te,de){return te>>>=0,de||v(te,4,this.length),16777216*this[te]+(this[te+1]<<16|this[te+2]<<8|this[te+3])},S.prototype.readIntLE=function(te,de,_e){te>>>=0,de>>>=0,_e||v(te,de,this.length);for(var Ie=this[te],He=1,Ve=0;++Ve<de&&(He*=256);)Ie+=this[te+Ve]*He;return Ie>=(He*=128)&&(Ie-=Math.pow(2,8*de)),Ie},S.prototype.readIntBE=function(te,de,_e){te>>>=0,de>>>=0,_e||v(te,de,this.length);for(var Ie=de,He=1,Ve=this[te+--Ie];Ie>0&&(He*=256);)Ve+=this[te+--Ie]*He;return Ve>=(He*=128)&&(Ve-=Math.pow(2,8*de)),Ve},S.prototype.readInt8=function(te,de){return te>>>=0,de||v(te,1,this.length),128&this[te]?-1*(255-this[te]+1):this[te]},S.prototype.readInt16LE=function(te,de){te>>>=0,de||v(te,2,this.length);var _e=this[te]|this[te+1]<<8;return 32768&_e?4294901760|_e:_e},S.prototype.readInt16BE=function(te,de){te>>>=0,de||v(te,2,this.length);var _e=this[te+1]|this[te]<<8;return 32768&_e?4294901760|_e:_e},S.prototype.readInt32LE=function(te,de){return te>>>=0,de||v(te,4,this.length),this[te]|this[te+1]<<8|this[te+2]<<16|this[te+3]<<24},S.prototype.readInt32BE=function(te,de){return te>>>=0,de||v(te,4,this.length),this[te]<<24|this[te+1]<<16|this[te+2]<<8|this[te+3]},S.prototype.readFloatLE=function(te,de){return te>>>=0,de||v(te,4,this.length),w.read(this,te,!0,23,4)},S.prototype.readFloatBE=function(te,de){return te>>>=0,de||v(te,4,this.length),w.read(this,te,!1,23,4)},S.prototype.readDoubleLE=function(te,de){return te>>>=0,de||v(te,8,this.length),w.read(this,te,!0,52,8)},S.prototype.readDoubleBE=function(te,de){return te>>>=0,de||v(te,8,this.length),w.read(this,te,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(te,de,_e,Ie){te=+te,de>>>=0,_e>>>=0,Ie||Z(this,te,de,_e,Math.pow(2,8*_e)-1,0);var Ve=1,Dt=0;for(this[de]=255&te;++Dt<_e&&(Ve*=256);)this[de+Dt]=te/Ve&255;return de+_e},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(te,de,_e,Ie){te=+te,de>>>=0,_e>>>=0,Ie||Z(this,te,de,_e,Math.pow(2,8*_e)-1,0);var Ve=_e-1,Dt=1;for(this[de+Ve]=255&te;--Ve>=0&&(Dt*=256);)this[de+Ve]=te/Dt&255;return de+_e},S.prototype.writeUint8=S.prototype.writeUInt8=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,1,255,0),this[de]=255&te,de+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,2,65535,0),this[de]=255&te,this[de+1]=te>>>8,de+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,2,65535,0),this[de]=te>>>8,this[de+1]=255&te,de+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,4,4294967295,0),this[de+3]=te>>>24,this[de+2]=te>>>16,this[de+1]=te>>>8,this[de]=255&te,de+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,4,4294967295,0),this[de]=te>>>24,this[de+1]=te>>>16,this[de+2]=te>>>8,this[de+3]=255&te,de+4},S.prototype.writeIntLE=function(te,de,_e,Ie){if(te=+te,de>>>=0,!Ie){var He=Math.pow(2,8*_e-1);Z(this,te,de,_e,He-1,-He)}var Ve=0,Dt=1,Ne=0;for(this[de]=255&te;++Ve<_e&&(Dt*=256);)te<0&&0===Ne&&0!==this[de+Ve-1]&&(Ne=1),this[de+Ve]=(te/Dt|0)-Ne&255;return de+_e},S.prototype.writeIntBE=function(te,de,_e,Ie){if(te=+te,de>>>=0,!Ie){var He=Math.pow(2,8*_e-1);Z(this,te,de,_e,He-1,-He)}var Ve=_e-1,Dt=1,Ne=0;for(this[de+Ve]=255&te;--Ve>=0&&(Dt*=256);)te<0&&0===Ne&&0!==this[de+Ve+1]&&(Ne=1),this[de+Ve]=(te/Dt|0)-Ne&255;return de+_e},S.prototype.writeInt8=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,1,127,-128),te<0&&(te=255+te+1),this[de]=255&te,de+1},S.prototype.writeInt16LE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,2,32767,-32768),this[de]=255&te,this[de+1]=te>>>8,de+2},S.prototype.writeInt16BE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,2,32767,-32768),this[de]=te>>>8,this[de+1]=255&te,de+2},S.prototype.writeInt32LE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,4,2147483647,-2147483648),this[de]=255&te,this[de+1]=te>>>8,this[de+2]=te>>>16,this[de+3]=te>>>24,de+4},S.prototype.writeInt32BE=function(te,de,_e){return te=+te,de>>>=0,_e||Z(this,te,de,4,2147483647,-2147483648),te<0&&(te=4294967295+te+1),this[de]=te>>>24,this[de+1]=te>>>16,this[de+2]=te>>>8,this[de+3]=255&te,de+4},S.prototype.writeFloatLE=function(te,de,_e){return ee(this,te,de,!0,_e)},S.prototype.writeFloatBE=function(te,de,_e){return ee(this,te,de,!1,_e)},S.prototype.writeDoubleLE=function(te,de,_e){return le(this,te,de,!0,_e)},S.prototype.writeDoubleBE=function(te,de,_e){return le(this,te,de,!1,_e)},S.prototype.copy=function(te,de,_e,Ie){if(!S.isBuffer(te))throw new TypeError("argument should be a Buffer");if(_e||(_e=0),!Ie&&0!==Ie&&(Ie=this.length),de>=te.length&&(de=te.length),de||(de=0),Ie>0&&Ie<_e&&(Ie=_e),Ie===_e||0===te.length||0===this.length)return 0;if(de<0)throw new RangeError("targetStart out of bounds");if(_e<0||_e>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),te.length-de<Ie-_e&&(Ie=te.length-de+_e);var He=Ie-_e;return this===te&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(de,_e,Ie):Uint8Array.prototype.set.call(te,this.subarray(_e,Ie),de),He},S.prototype.fill=function(te,de,_e,Ie){if("string"==typeof te){if("string"==typeof de?(Ie=de,de=0,_e=this.length):"string"==typeof _e&&(Ie=_e,_e=this.length),void 0!==Ie&&"string"!=typeof Ie)throw new TypeError("encoding must be a string");if("string"==typeof Ie&&!S.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(1===te.length){var He=te.charCodeAt(0);("utf8"===Ie&&He<128||"latin1"===Ie)&&(te=He)}}else"number"==typeof te?te&=255:"boolean"==typeof te&&(te=Number(te));if(de<0||this.length<de||this.length<_e)throw new RangeError("Out of range index");if(_e<=de)return this;var Ve;if(de>>>=0,_e=void 0===_e?this.length:_e>>>0,te||(te=0),"number"==typeof te)for(Ve=de;Ve<_e;++Ve)this[Ve]=te;else{var Dt=S.isBuffer(te)?te:S.from(te,Ie),Ne=Dt.length;if(0===Ne)throw new TypeError('The value "'+te+'" is invalid for argument "value"');for(Ve=0;Ve<_e-de;++Ve)this[Ve+de]=Dt[Ve%Ne]}return this};var we=/[^+/0-9A-Za-z-_]/g;function Ze(ne,te){te=te||1/0;for(var de,_e=ne.length,Ie=null,He=[],Ve=0;Ve<_e;++Ve){if((de=ne.charCodeAt(Ve))>55295&&de<57344){if(!Ie){if(de>56319){(te-=3)>-1&&He.push(239,191,189);continue}if(Ve+1===_e){(te-=3)>-1&&He.push(239,191,189);continue}Ie=de;continue}if(de<56320){(te-=3)>-1&&He.push(239,191,189),Ie=de;continue}de=65536+(Ie-55296<<10|de-56320)}else Ie&&(te-=3)>-1&&He.push(239,191,189);if(Ie=null,de<128){if((te-=1)<0)break;He.push(de)}else if(de<2048){if((te-=2)<0)break;He.push(de>>6|192,63&de|128)}else if(de<65536){if((te-=3)<0)break;He.push(de>>12|224,de>>6&63|128,63&de|128)}else{if(!(de<1114112))throw new Error("Invalid code point");if((te-=4)<0)break;He.push(de>>18|240,de>>12&63|128,de>>6&63|128,63&de|128)}}return He}function Ue(ne){return g.toByteArray(function Me(ne){if((ne=(ne=ne.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;ne.length%4!=0;)ne+="=";return ne}(ne))}function xe(ne,te,de,_e){for(var Ie=0;Ie<_e&&!(Ie+de>=te.length||Ie>=ne.length);++Ie)te[Ie+de]=ne[Ie];return Ie}function Ce(ne,te){return ne instanceof te||null!=ne&&null!=ne.constructor&&null!=ne.constructor.name&&ne.constructor.name===te.name}function be(ne){return ne!=ne}var he=function(){for(var ne="0123456789abcdef",te=new Array(256),de=0;de<16;++de)for(var _e=16*de,Ie=0;Ie<16;++Ie)te[_e+Ie]=ne[de]+ne[Ie];return te}()},28846:$e=>{"use strict";$e.exports=function j(E){if("number"==typeof E&&isNaN(E))throw new Error("NaN is not allowed");if("number"==typeof E&&!isFinite(E))throw new Error("Infinity is not allowed");return null===E||"object"!=typeof E?JSON.stringify(E):E.toJSON instanceof Function?j(E.toJSON()):Array.isArray(E)?`[${E.reduce((B,H,b)=>`${B}${0===b?"":","}${j(void 0===H||"symbol"==typeof H?null:H)}`,"")}]`:`{${Object.keys(E).sort().reduce((w,B)=>void 0===E[B]||"symbol"==typeof E[B]?w:`${w}${0===w.length?"":","}${j(B)}:${j(E[B])}`,"")}}`}},42381:($e,j,E)=>{"use strict";var g=E(78341);j.fromCallback=function(w,B){if(void 0===w){var H=new Promise(function(b,k){w=function(S,P){S?k(S):b(P)}});w[void 0!==B?B:"promise"]=H}else if("function"!=typeof w)throw new TypeError("Callback must be a function");return w},j.fromPromise=function(w,B){if(void 0===B)return w;w.then(function(H){g(()=>B(null,H))}).catch(function(H){g(()=>B(H))})}},78341:$e=>{$e.exports="function"==typeof queueMicrotask?queueMicrotask:j=>Promise.resolve().then(j)},3247:($e,j,E)=>{var g=E(27054).Buffer,w=E(7045).Transform,B=E(78454).StringDecoder;function b(k){w.call(this),this.hashMode="string"==typeof k,this.hashMode?this[k]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}E(71993)(b,w),b.prototype.update=function(k,S,P){"string"==typeof k&&(k=g.from(k,S));var R=this._update(k);return this.hashMode?this:(P&&(R=this._toString(R,P)),R)},b.prototype.setAutoPadding=function(){},b.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},b.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},b.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},b.prototype._transform=function(k,S,P){var R;try{this.hashMode?this._update(k):this.push(this._update(k))}catch(O){R=O}finally{P(R)}},b.prototype._flush=function(k){var S;try{this.push(this.__final())}catch(P){S=P}k(S)},b.prototype._finalOrDigest=function(k){var S=this.__final()||g.alloc(0);return k&&(S=this._toString(S,k,!0)),S},b.prototype._toString=function(k,S,P){if(this._decoder||(this._decoder=new B(S),this._encoding=S),this._encoding!==S)throw new Error("can't switch encodings");var R=this._decoder.write(k);return P&&(R+=this._decoder.end()),R},$e.exports=b},27637:($e,j,E)=>{function Q(q){return Object.prototype.toString.call(q)}j.isArray=function g(q){return Array.isArray?Array.isArray(q):"[object Array]"===Q(q)},j.isBoolean=function w(q){return"boolean"==typeof q},j.isNull=function B(q){return null===q},j.isNullOrUndefined=function H(q){return null==q},j.isNumber=function b(q){return"number"==typeof q},j.isString=function k(q){return"string"==typeof q},j.isSymbol=function S(q){return"symbol"==typeof q},j.isUndefined=function P(q){return void 0===q},j.isRegExp=function R(q){return"[object RegExp]"===Q(q)},j.isObject=function O(q){return"object"==typeof q&&null!==q},j.isDate=function A(q){return"[object Date]"===Q(q)},j.isError=function V(q){return"[object Error]"===Q(q)||q instanceof Error},j.isFunction=function U(q){return"function"==typeof q},j.isPrimitive=function K(q){return null===q||"boolean"==typeof q||"number"==typeof q||"string"==typeof q||"symbol"==typeof q||typeof q>"u"},j.isBuffer=E(83838).Buffer.isBuffer},87303:($e,j,E)=>{var g=E(90518),w=E(89606);$e.exports=function(S){return new H(S)};var B={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function H(k){this.curveType=B[k],this.curveType||(this.curveType={name:k}),this.curve=new g.ec(this.curveType.name),this.keys=void 0}function b(k,S,P){Array.isArray(k)||(k=k.toArray());var R=new Buffer(k);if(P&&R.length<P){var O=new Buffer(P-R.length);O.fill(0),R=Buffer.concat([O,R])}return S?R.toString(S):R}B.p224=B.secp224r1,B.p256=B.secp256r1=B.prime256v1,B.p192=B.secp192r1=B.prime192v1,B.p384=B.secp384r1,B.p521=B.secp521r1,H.prototype.generateKeys=function(k,S){return this.keys=this.curve.genKeyPair(),this.getPublicKey(k,S)},H.prototype.computeSecret=function(k,S,P){return S=S||"utf8",Buffer.isBuffer(k)||(k=new Buffer(k,S)),b(this.curve.keyFromPublic(k).getPublic().mul(this.keys.getPrivate()).getX(),P,this.curveType.byteLength)},H.prototype.getPublicKey=function(k,S){var P=this.keys.getPublic("compressed"===S,!0);return"hybrid"===S&&(P[0]=P[P.length-1]%2?7:6),b(P,k)},H.prototype.getPrivateKey=function(k){return b(this.keys.getPrivate(),k)},H.prototype.setPublicKey=function(k,S){return S=S||"utf8",Buffer.isBuffer(k)||(k=new Buffer(k,S)),this.keys._importPublic(k),this},H.prototype.setPrivateKey=function(k,S){S=S||"utf8",Buffer.isBuffer(k)||(k=new Buffer(k,S));var P=new w(k);return P=P.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(P),this}},89606:function($e,j,E){!function(g,w){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:w.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(77965).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,_=Math.min(C.length,d),I=s;I<_;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var _,I,L=0;if("be"===h)for(f=s.length-1,_=0;f>=0;f-=3)this.words[_]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);else if("le"===h)for(f=0,_=0;f<s.length;f+=3)this.words[_]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,_=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,_=1;_<=67108863;_*=d)f++;f--,_=_/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(_),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],_=0|s.words[0],I=f*_,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(_=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,_=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|_)).toString(16);h=0!=(_=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==_&&(h=_.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),_=h||Math.max(1,f);B(f<=_,"byte array longer than desired length"),B(_>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(_),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<_;a++)L[a]=0}else{for(a=0;a<_-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[_-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var _=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+_),_=d>>>26;for(;0!==_&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+_),_=d>>>26;if(this.length=h.length,0!==_)this.words[this.length]=_,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,_,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,_=s):(f=s,_=this);for(var I=0,L=0;L<_.length;L++)I=(d=(0|f.words[L])-(0|_.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,_=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ze=0|f[2],ge=8191&Ze,me=Ze>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,Dt=0|f[7],Ne=8191&Dt,ke=Dt>>>13,yt=0|f[8],F=8191&yt,D=yt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|_[0],Ae=8191&Se,ot=Se>>>13,Gt=0|_[1],_t=8191&Gt,Bt=Gt>>>13,en=0|_[2],pn=8191&en,cn=en>>>13,tr=0|_[3],Mn=8191&tr,on=tr>>>13,Qt=0|_[4],ut=8191&Qt,st=Qt>>>13,Zt=0|_[5],Xt=8191&Zt,rn=Zt>>>13,Zn=0|_[6],at=8191&Zn,pt=Zn>>>13,ht=0|_[7],Ke=8191&ht,Ge=ht>>>13,jt=0|_[8],kt=8191&jt,ln=jt>>>13,On=0|_[9],vn=8191&On,gn=On>>>13;h.negative=s.negative^d.negative,h.length=19;var ur=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,ot))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,ot))+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,ot))+Math.imul(Me,Ae)|0,v=Math.imul(Me,ot);var er=(L+(x=x+Math.imul(z,_t)|0)|0)+((8191&(a=(a=a+Math.imul(z,Bt)|0)+Math.imul(ee,_t)|0))<<13)|0;L=((v=v+Math.imul(ee,Bt)|0)+(a>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,ot))+Math.imul(me,Ae)|0,v=Math.imul(me,ot),x=x+Math.imul(we,_t)|0,a=(a=a+Math.imul(we,Bt)|0)+Math.imul(Me,_t)|0,v=v+Math.imul(Me,Bt)|0;var Pn=(L+(x=x+Math.imul(z,pn)|0)|0)+((8191&(a=(a=a+Math.imul(z,cn)|0)+Math.imul(ee,pn)|0))<<13)|0;L=((v=v+Math.imul(ee,cn)|0)+(a>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,ot))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,ot),x=x+Math.imul(ge,_t)|0,a=(a=a+Math.imul(ge,Bt)|0)+Math.imul(me,_t)|0,v=v+Math.imul(me,Bt)|0,x=x+Math.imul(we,pn)|0,a=(a=a+Math.imul(we,cn)|0)+Math.imul(Me,pn)|0,v=v+Math.imul(Me,cn)|0;var Nn=(L+(x=x+Math.imul(z,Mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,on)|0)+Math.imul(ee,Mn)|0))<<13)|0;L=((v=v+Math.imul(ee,on)|0)+(a>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,ot))+Math.imul(ne,Ae)|0,v=Math.imul(ne,ot),x=x+Math.imul(xe,_t)|0,a=(a=a+Math.imul(xe,Bt)|0)+Math.imul(Ce,_t)|0,v=v+Math.imul(Ce,Bt)|0,x=x+Math.imul(ge,pn)|0,a=(a=a+Math.imul(ge,cn)|0)+Math.imul(me,pn)|0,v=v+Math.imul(me,cn)|0,x=x+Math.imul(we,Mn)|0,a=(a=a+Math.imul(we,on)|0)+Math.imul(Me,Mn)|0,v=v+Math.imul(Me,on)|0;var et=(L+(x=x+Math.imul(z,ut)|0)|0)+((8191&(a=(a=a+Math.imul(z,st)|0)+Math.imul(ee,ut)|0))<<13)|0;L=((v=v+Math.imul(ee,st)|0)+(a>>>13)|0)+(et>>>26)|0,et&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,ot))+Math.imul(_e,Ae)|0,v=Math.imul(_e,ot),x=x+Math.imul(he,_t)|0,a=(a=a+Math.imul(he,Bt)|0)+Math.imul(ne,_t)|0,v=v+Math.imul(ne,Bt)|0,x=x+Math.imul(xe,pn)|0,a=(a=a+Math.imul(xe,cn)|0)+Math.imul(Ce,pn)|0,v=v+Math.imul(Ce,cn)|0,x=x+Math.imul(ge,Mn)|0,a=(a=a+Math.imul(ge,on)|0)+Math.imul(me,Mn)|0,v=v+Math.imul(me,on)|0,x=x+Math.imul(we,ut)|0,a=(a=a+Math.imul(we,st)|0)+Math.imul(Me,ut)|0,v=v+Math.imul(Me,st)|0;var Oe=(L+(x=x+Math.imul(z,Xt)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Xt)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,ot))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,ot),x=x+Math.imul(de,_t)|0,a=(a=a+Math.imul(de,Bt)|0)+Math.imul(_e,_t)|0,v=v+Math.imul(_e,Bt)|0,x=x+Math.imul(he,pn)|0,a=(a=a+Math.imul(he,cn)|0)+Math.imul(ne,pn)|0,v=v+Math.imul(ne,cn)|0,x=x+Math.imul(xe,Mn)|0,a=(a=a+Math.imul(xe,on)|0)+Math.imul(Ce,Mn)|0,v=v+Math.imul(Ce,on)|0,x=x+Math.imul(ge,ut)|0,a=(a=a+Math.imul(ge,st)|0)+Math.imul(me,ut)|0,v=v+Math.imul(me,st)|0,x=x+Math.imul(we,Xt)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Xt)|0,v=v+Math.imul(Me,rn)|0;var Qe=(L+(x=x+Math.imul(z,at)|0)|0)+((8191&(a=(a=a+Math.imul(z,pt)|0)+Math.imul(ee,at)|0))<<13)|0;L=((v=v+Math.imul(ee,pt)|0)+(a>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,ot))+Math.imul(ke,Ae)|0,v=Math.imul(ke,ot),x=x+Math.imul(He,_t)|0,a=(a=a+Math.imul(He,Bt)|0)+Math.imul(Ve,_t)|0,v=v+Math.imul(Ve,Bt)|0,x=x+Math.imul(de,pn)|0,a=(a=a+Math.imul(de,cn)|0)+Math.imul(_e,pn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(he,Mn)|0,a=(a=a+Math.imul(he,on)|0)+Math.imul(ne,Mn)|0,v=v+Math.imul(ne,on)|0,x=x+Math.imul(xe,ut)|0,a=(a=a+Math.imul(xe,st)|0)+Math.imul(Ce,ut)|0,v=v+Math.imul(Ce,st)|0,x=x+Math.imul(ge,Xt)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Xt)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,at)|0,a=(a=a+Math.imul(we,pt)|0)+Math.imul(Me,at)|0,v=v+Math.imul(Me,pt)|0;var zt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ge)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,Ge)|0)+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,ot))+Math.imul(D,Ae)|0,v=Math.imul(D,ot),x=x+Math.imul(Ne,_t)|0,a=(a=a+Math.imul(Ne,Bt)|0)+Math.imul(ke,_t)|0,v=v+Math.imul(ke,Bt)|0,x=x+Math.imul(He,pn)|0,a=(a=a+Math.imul(He,cn)|0)+Math.imul(Ve,pn)|0,v=v+Math.imul(Ve,cn)|0,x=x+Math.imul(de,Mn)|0,a=(a=a+Math.imul(de,on)|0)+Math.imul(_e,Mn)|0,v=v+Math.imul(_e,on)|0,x=x+Math.imul(he,ut)|0,a=(a=a+Math.imul(he,st)|0)+Math.imul(ne,ut)|0,v=v+Math.imul(ne,st)|0,x=x+Math.imul(xe,Xt)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Xt)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,at)|0,a=(a=a+Math.imul(ge,pt)|0)+Math.imul(me,at)|0,v=v+Math.imul(me,pt)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,Ge)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,Ge)|0;var hn=(L+(x=x+Math.imul(z,kt)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,kt)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(hn>>>26)|0,hn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,ot))+Math.imul(fe,Ae)|0,v=Math.imul(fe,ot),x=x+Math.imul(F,_t)|0,a=(a=a+Math.imul(F,Bt)|0)+Math.imul(D,_t)|0,v=v+Math.imul(D,Bt)|0,x=x+Math.imul(Ne,pn)|0,a=(a=a+Math.imul(Ne,cn)|0)+Math.imul(ke,pn)|0,v=v+Math.imul(ke,cn)|0,x=x+Math.imul(He,Mn)|0,a=(a=a+Math.imul(He,on)|0)+Math.imul(Ve,Mn)|0,v=v+Math.imul(Ve,on)|0,x=x+Math.imul(de,ut)|0,a=(a=a+Math.imul(de,st)|0)+Math.imul(_e,ut)|0,v=v+Math.imul(_e,st)|0,x=x+Math.imul(he,Xt)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Xt)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,at)|0,a=(a=a+Math.imul(xe,pt)|0)+Math.imul(Ce,at)|0,v=v+Math.imul(Ce,pt)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,Ge)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,Ge)|0,x=x+Math.imul(we,kt)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,kt)|0,v=v+Math.imul(Me,ln)|0;var Un=(L+(x=x+Math.imul(z,vn)|0)|0)+((8191&(a=(a=a+Math.imul(z,gn)|0)+Math.imul(ee,vn)|0))<<13)|0;L=((v=v+Math.imul(ee,gn)|0)+(a>>>13)|0)+(Un>>>26)|0,Un&=67108863,x=Math.imul(G,_t),a=(a=Math.imul(G,Bt))+Math.imul(fe,_t)|0,v=Math.imul(fe,Bt),x=x+Math.imul(F,pn)|0,a=(a=a+Math.imul(F,cn)|0)+Math.imul(D,pn)|0,v=v+Math.imul(D,cn)|0,x=x+Math.imul(Ne,Mn)|0,a=(a=a+Math.imul(Ne,on)|0)+Math.imul(ke,Mn)|0,v=v+Math.imul(ke,on)|0,x=x+Math.imul(He,ut)|0,a=(a=a+Math.imul(He,st)|0)+Math.imul(Ve,ut)|0,v=v+Math.imul(Ve,st)|0,x=x+Math.imul(de,Xt)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Xt)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,at)|0,a=(a=a+Math.imul(he,pt)|0)+Math.imul(ne,at)|0,v=v+Math.imul(ne,pt)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,Ge)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,Ge)|0,x=x+Math.imul(ge,kt)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,kt)|0,v=v+Math.imul(me,ln)|0;var Kn=(L+(x=x+Math.imul(we,vn)|0)|0)+((8191&(a=(a=a+Math.imul(we,gn)|0)+Math.imul(Me,vn)|0))<<13)|0;L=((v=v+Math.imul(Me,gn)|0)+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,x=Math.imul(G,pn),a=(a=Math.imul(G,cn))+Math.imul(fe,pn)|0,v=Math.imul(fe,cn),x=x+Math.imul(F,Mn)|0,a=(a=a+Math.imul(F,on)|0)+Math.imul(D,Mn)|0,v=v+Math.imul(D,on)|0,x=x+Math.imul(Ne,ut)|0,a=(a=a+Math.imul(Ne,st)|0)+Math.imul(ke,ut)|0,v=v+Math.imul(ke,st)|0,x=x+Math.imul(He,Xt)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Xt)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,at)|0,a=(a=a+Math.imul(de,pt)|0)+Math.imul(_e,at)|0,v=v+Math.imul(_e,pt)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,Ge)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,Ge)|0,x=x+Math.imul(xe,kt)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,kt)|0,v=v+Math.imul(Ce,ln)|0;var ir=(L+(x=x+Math.imul(ge,vn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,gn)|0)+Math.imul(me,vn)|0))<<13)|0;L=((v=v+Math.imul(me,gn)|0)+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(G,Mn),a=(a=Math.imul(G,on))+Math.imul(fe,Mn)|0,v=Math.imul(fe,on),x=x+Math.imul(F,ut)|0,a=(a=a+Math.imul(F,st)|0)+Math.imul(D,ut)|0,v=v+Math.imul(D,st)|0,x=x+Math.imul(Ne,Xt)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Xt)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,at)|0,a=(a=a+Math.imul(He,pt)|0)+Math.imul(Ve,at)|0,v=v+Math.imul(Ve,pt)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,Ge)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,Ge)|0,x=x+Math.imul(he,kt)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,kt)|0,v=v+Math.imul(ne,ln)|0;var mr=(L+(x=x+Math.imul(xe,vn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,gn)|0)+Math.imul(Ce,vn)|0))<<13)|0;L=((v=v+Math.imul(Ce,gn)|0)+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(G,ut),a=(a=Math.imul(G,st))+Math.imul(fe,ut)|0,v=Math.imul(fe,st),x=x+Math.imul(F,Xt)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Xt)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,at)|0,a=(a=a+Math.imul(Ne,pt)|0)+Math.imul(ke,at)|0,v=v+Math.imul(ke,pt)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,Ge)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,Ge)|0,x=x+Math.imul(de,kt)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,kt)|0,v=v+Math.imul(_e,ln)|0;var Pr=(L+(x=x+Math.imul(he,vn)|0)|0)+((8191&(a=(a=a+Math.imul(he,gn)|0)+Math.imul(ne,vn)|0))<<13)|0;L=((v=v+Math.imul(ne,gn)|0)+(a>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(G,Xt),a=(a=Math.imul(G,rn))+Math.imul(fe,Xt)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,at)|0,a=(a=a+Math.imul(F,pt)|0)+Math.imul(D,at)|0,v=v+Math.imul(D,pt)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,Ge)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,Ge)|0,x=x+Math.imul(He,kt)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,kt)|0,v=v+Math.imul(Ve,ln)|0;var Sr=(L+(x=x+Math.imul(de,vn)|0)|0)+((8191&(a=(a=a+Math.imul(de,gn)|0)+Math.imul(_e,vn)|0))<<13)|0;L=((v=v+Math.imul(_e,gn)|0)+(a>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,x=Math.imul(G,at),a=(a=Math.imul(G,pt))+Math.imul(fe,at)|0,v=Math.imul(fe,pt),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,Ge)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,Ge)|0,x=x+Math.imul(Ne,kt)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,kt)|0,v=v+Math.imul(ke,ln)|0;var Nr=(L+(x=x+Math.imul(He,vn)|0)|0)+((8191&(a=(a=a+Math.imul(He,gn)|0)+Math.imul(Ve,vn)|0))<<13)|0;L=((v=v+Math.imul(Ve,gn)|0)+(a>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,Ge))+Math.imul(fe,Ke)|0,v=Math.imul(fe,Ge),x=x+Math.imul(F,kt)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,kt)|0,v=v+Math.imul(D,ln)|0;var dr=(L+(x=x+Math.imul(Ne,vn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,gn)|0)+Math.imul(ke,vn)|0))<<13)|0;L=((v=v+Math.imul(ke,gn)|0)+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,x=Math.imul(G,kt),a=(a=Math.imul(G,ln))+Math.imul(fe,kt)|0,v=Math.imul(fe,ln);var nn=(L+(x=x+Math.imul(F,vn)|0)|0)+((8191&(a=(a=a+Math.imul(F,gn)|0)+Math.imul(D,vn)|0))<<13)|0;L=((v=v+Math.imul(D,gn)|0)+(a>>>13)|0)+(nn>>>26)|0,nn&=67108863;var yn=(L+(x=Math.imul(G,vn))|0)+((8191&(a=(a=Math.imul(G,gn))+Math.imul(fe,vn)|0))<<13)|0;return L=((v=Math.imul(fe,gn))+(a>>>13)|0)+(yn>>>26)|0,yn&=67108863,I[0]=ur,I[1]=er,I[2]=Pn,I[3]=Nn,I[4]=et,I[5]=Oe,I[6]=Qe,I[7]=zt,I[8]=hn,I[9]=Un,I[10]=Kn,I[11]=ir,I[12]=mr,I[13]=Pr,I[14]=Sr,I[15]=Nr,I[16]=dr,I[17]=nn,I[18]=yn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,_=0;_<d.length-1;_++){var I=f;f=0;for(var L=67108863&h,x=Math.min(_,s.length-1),a=Math.max(0,_-C.length+1);a<=x;a++){var ee=(0|C.words[_-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[_]=L,h=I,I=f}return 0!==h?d.words[_]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,_=0;_<d;_++)f|=(1&s)<<d-_-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,_,I){for(var L=0;L<I;L++)f[L]=d[s[L]],_[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,_,I){this.permute(I,s,d,h,f,_);for(var L=1;L<_;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<_;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ze=h[Z+le+L],ge=f[Z+le+L],me=z*Ze-ee*ge;ge=z*ge+ee*Ze,h[Z+le]=we+(Ze=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ze,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,_=0;for(h=h/2|0;h;h>>>=1)_++;return 1<<_+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var _=s[f];s[f]=s[h-f-1],s[h-f-1]=_,_=d[f],d[f]=-d[h-f-1],d[h-f-1]=-_}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var _=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&_,h=_<67108864?0:_/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var _=0,I=0;I<d;I++)h[2*I]=8191&(_+=0|s[I]),h[2*I+1]=8191&(_>>>=13),_>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===_),B(!(-8192&_))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),_=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,_),this.transform(v,I,Z,z,f,_);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,_),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,_=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=_>>>26,this.words[h]=67108863&_}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var _=h.sqr();f<d.length;f++,_=_.sqr())0!==d[f]&&(h=h.mul(_));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var _,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(_=0;_<this.length;_++){var L=this.words[_]&f;this.words[_]=(0|this.words[_])-L<<d|I,I=L>>>26-d}I&&(this.words[_]=I,this.length++)}if(0!==h){for(_=this.length-1;_>=0;_--)this.words[_+h]=this.words[_];for(_=0;_<h;_++)this.words[_]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var _=s%26,I=Math.min((s-_)/26,this.length),L=67108863^67108863>>>_<<_,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-_|Z>>>_,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var _;this._expand(s.length+h);var I,L=0;for(_=0;_<s.length;_++){I=(0|this.words[_+h])+L;var x=(0|s.words[_])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[_+h]=67108863&I}for(;_<this.length-h;_++)L=(I=(0|this.words[_+h])+L)>>26,this.words[_+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,_=0;_<this.length;_++)L=(I=-(0|this.words[_])+L)>>26,this.words[_]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),_=s,I=0|_.words[_.length-1];0!=(h=26-this._countBits(I))&&(_=_.ushln(h),f.iushln(h),I=0|_.words[_.length-1]);var a,x=f.length-_.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(_,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[_.length+z])+(0|f.words[_.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(_,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(_,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.iadd(s)),{div:f,mod:_}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.isub(s)),{div:I.div,mod:_}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,_,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),_=s.andln(1),I=h.cmp(f);return I<0||1===_&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||_.isOdd())&&(f.iadd(a),_.isub(v)),f.iushrn(1),_.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),_.isub(L)):(h.isub(d),I.isub(f),L.isub(_))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(_)):(h.isub(d),_.isub(f))}return(Z=0===d.cmpn(1)?f:_).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var _=d.cmp(h);if(_<0){var I=d;d=h,h=I}else if(0===_||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var _=f,I=h;0!==_&&I<this.length;I++){var L=0|this.words[I];_=(L+=_)>>>26,this.words[I]=L&=67108863}return 0!==_&&(this.words[I]=_,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],_=0|s.words[h];if(f!==_){f<_?d=-1:f>_&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),_=0;_<f;_++)d.words[_]=s.words[_];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,_=10;_<s.length;_++){var L=0|s.words[_];s.words[_-10]=(L&h)<<4|I>>>22,I=L}s.words[_-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,_=67108863&f;f>>>=26,s.words[h]=_,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),_=0;!f.isZero()&&0===f.andln(1);)_++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=_;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var _=2;_<f.length;_++)f[_]=this.mul(f[_-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),_=d.length-1;_>=0;_--){for(var v=d.words[_],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===_&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},67211:($e,j,E)=>{"use strict";var g=E(71993),w=E(34725),B=E(36636),H=E(25443),b=E(3247);function k(S){b.call(this,"digest"),this._hash=S}g(k,b),k.prototype._update=function(S){this._hash.update(S)},k.prototype._final=function(){return this._hash.digest()},$e.exports=function(P){return"md5"===(P=P.toLowerCase())?new w:"rmd160"===P||"ripemd160"===P?new B:new k(H(P))}},83407:($e,j,E)=>{var g=E(34725);$e.exports=function(w){return(new g).update(w).digest()}},56432:($e,j,E)=>{"use strict";var g=E(71993),w=E(90509),B=E(3247),H=E(27054).Buffer,b=E(83407),k=E(36636),S=E(25443),P=H.alloc(128);function R(O,A){B.call(this,"digest"),"string"==typeof A&&(A=H.from(A));var V="sha512"===O||"sha384"===O?128:64;this._alg=O,this._key=A,A.length>V?A=("rmd160"===O?new k:S(O)).update(A).digest():A.length<V&&(A=H.concat([A,P],V));for(var K=this._ipad=H.allocUnsafe(V),Q=this._opad=H.allocUnsafe(V),q=0;q<V;q++)K[q]=54^A[q],Q[q]=92^A[q];this._hash="rmd160"===O?new k:S(O),this._hash.update(K)}g(R,B),R.prototype._update=function(O){this._hash.update(O)},R.prototype._final=function(){var O=this._hash.digest();return("rmd160"===this._alg?new k:S(this._alg)).update(this._opad).update(O).digest()},$e.exports=function(A,V){return"rmd160"===(A=A.toLowerCase())||"ripemd160"===A?new R("rmd160",V):"md5"===A?new w(b,V):new R(A,V)}},90509:($e,j,E)=>{"use strict";var g=E(71993),w=E(27054).Buffer,B=E(3247),H=w.alloc(128),b=64;function k(S,P){B.call(this,"digest"),"string"==typeof P&&(P=w.from(P)),this._alg=S,this._key=P,P.length>b?P=S(P):P.length<b&&(P=w.concat([P,H],b));for(var R=this._ipad=w.allocUnsafe(b),O=this._opad=w.allocUnsafe(b),A=0;A<b;A++)R[A]=54^P[A],O[A]=92^P[A];this._hash=[R]}g(k,B),k.prototype._update=function(S){this._hash.push(S)},k.prototype._final=function(){var S=this._alg(w.concat(this._hash));return this._alg(w.concat([this._opad,S]))},$e.exports=k},91426:($e,j,E)=>{"use strict";j.randomBytes=j.rng=j.pseudoRandomBytes=j.prng=E(3342),j.createHash=j.Hash=E(67211),j.createHmac=j.Hmac=E(56432);var g=E(99560),w=Object.keys(g),B=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(w);j.getHashes=function(){return B};var H=E(93397);j.pbkdf2=H.pbkdf2,j.pbkdf2Sync=H.pbkdf2Sync;var b=E(88862);j.Cipher=b.Cipher,j.createCipher=b.createCipher,j.Cipheriv=b.Cipheriv,j.createCipheriv=b.createCipheriv,j.Decipher=b.Decipher,j.createDecipher=b.createDecipher,j.Decipheriv=b.Decipheriv,j.createDecipheriv=b.createDecipheriv,j.getCiphers=b.getCiphers,j.listCiphers=b.listCiphers;var k=E(4377);j.DiffieHellmanGroup=k.DiffieHellmanGroup,j.createDiffieHellmanGroup=k.createDiffieHellmanGroup,j.getDiffieHellman=k.getDiffieHellman,j.createDiffieHellman=k.createDiffieHellman,j.DiffieHellman=k.DiffieHellman;var S=E(79143);j.createSign=S.createSign,j.Sign=S.Sign,j.createVerify=S.createVerify,j.Verify=S.Verify,j.createECDH=E(87303);var P=E(52965);j.publicEncrypt=P.publicEncrypt,j.privateEncrypt=P.privateEncrypt,j.publicDecrypt=P.publicDecrypt,j.privateDecrypt=P.privateDecrypt;var R=E(9682);j.randomFill=R.randomFill,j.randomFillSync=R.randomFillSync,j.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},j.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:($e,j,E)=>{"use strict";j.utils=E(85671),j.Cipher=E(10219),j.DES=E(64166),j.CBC=E(88800),j.EDE=E(62122)},88800:($e,j,E)=>{"use strict";var g=E(39210),w=E(71993),B={};function H(k){g.equal(k.length,8,"Invalid IV length"),this.iv=new Array(8);for(var S=0;S<this.iv.length;S++)this.iv[S]=k[S]}j.instantiate=function b(k){function S(A){k.call(this,A),this._cbcInit()}w(S,k);for(var P=Object.keys(B),R=0;R<P.length;R++){var O=P[R];S.prototype[O]=B[O]}return S.create=function(V){return new S(V)},S},B._cbcInit=function(){var S=new H(this.options.iv);this._cbcState=S},B._update=function(S,P,R,O){var V=this.constructor.super_.prototype,U=this._cbcState.iv;if("encrypt"===this.type){for(var K=0;K<this.blockSize;K++)U[K]^=S[P+K];for(V._update.call(this,U,0,R,O),K=0;K<this.blockSize;K++)U[K]=R[O+K]}else{for(V._update.call(this,S,P,R,O),K=0;K<this.blockSize;K++)R[O+K]^=U[K];for(K=0;K<this.blockSize;K++)U[K]=S[P+K]}}},10219:($e,j,E)=>{"use strict";var g=E(39210);function w(B){this.options=B,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==B.padding}$e.exports=w,w.prototype._init=function(){},w.prototype.update=function(H){return 0===H.length?[]:"decrypt"===this.type?this._updateDecrypt(H):this._updateEncrypt(H)},w.prototype._buffer=function(H,b){for(var k=Math.min(this.buffer.length-this.bufferOff,H.length-b),S=0;S<k;S++)this.buffer[this.bufferOff+S]=H[b+S];return this.bufferOff+=k,k},w.prototype._flushBuffer=function(H,b){return this._update(this.buffer,0,H,b),this.bufferOff=0,this.blockSize},w.prototype._updateEncrypt=function(H){var b=0,k=0,P=new Array(((this.bufferOff+H.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(b+=this._buffer(H,b),this.bufferOff===this.buffer.length&&(k+=this._flushBuffer(P,k)));for(var R=H.length-(H.length-b)%this.blockSize;b<R;b+=this.blockSize)this._update(H,b,P,k),k+=this.blockSize;for(;b<H.length;b++,this.bufferOff++)this.buffer[this.bufferOff]=H[b];return P},w.prototype._updateDecrypt=function(H){for(var b=0,k=0,S=Math.ceil((this.bufferOff+H.length)/this.blockSize)-1,P=new Array(S*this.blockSize);S>0;S--)b+=this._buffer(H,b),k+=this._flushBuffer(P,k);return b+=this._buffer(H,b),P},w.prototype.final=function(H){var b,k;return H&&(b=this.update(H)),k="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),b?b.concat(k):k},w.prototype._pad=function(H,b){if(0===b)return!1;for(;b<H.length;)H[b++]=0;return!0},w.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var H=new Array(this.blockSize);return this._update(this.buffer,0,H,0),H},w.prototype._unpad=function(H){return H},w.prototype._finalDecrypt=function(){g.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var H=new Array(this.blockSize);return this._flushBuffer(H,0),this._unpad(H)}},64166:($e,j,E)=>{"use strict";var g=E(39210),w=E(71993),B=E(85671),H=E(10219);function b(){this.tmp=new Array(2),this.keys=null}function k(P){H.call(this,P);var R=new b;this._desState=R,this.deriveKeys(R,P.key)}w(k,H),$e.exports=k,k.create=function(R){return new k(R)};var S=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];k.prototype.deriveKeys=function(R,O){R.keys=new Array(32),g.equal(O.length,this.blockSize,"Invalid key length");var A=B.readUInt32BE(O,0),V=B.readUInt32BE(O,4);B.pc1(A,V,R.tmp,0),A=R.tmp[0],V=R.tmp[1];for(var U=0;U<R.keys.length;U+=2){var K=S[U>>>1];A=B.r28shl(A,K),V=B.r28shl(V,K),B.pc2(A,V,R.keys,U)}},k.prototype._update=function(R,O,A,V){var U=this._desState,K=B.readUInt32BE(R,O),Q=B.readUInt32BE(R,O+4);B.ip(K,Q,U.tmp,0),K=U.tmp[0],Q=U.tmp[1],"encrypt"===this.type?this._encrypt(U,K,Q,U.tmp,0):this._decrypt(U,K,Q,U.tmp,0),Q=U.tmp[1],B.writeUInt32BE(A,K=U.tmp[0],V),B.writeUInt32BE(A,Q,V+4)},k.prototype._pad=function(R,O){if(!1===this.padding)return!1;for(var A=R.length-O,V=O;V<R.length;V++)R[V]=A;return!0},k.prototype._unpad=function(R){if(!1===this.padding)return R;for(var O=R[R.length-1],A=R.length-O;A<R.length;A++)g.equal(R[A],O);return R.slice(0,R.length-O)},k.prototype._encrypt=function(R,O,A,V,U){for(var K=O,Q=A,q=0;q<R.keys.length;q+=2){var Y=R.keys[q],W=R.keys[q+1];B.expand(Q,R.tmp,0);var re=B.substitute(Y^=R.tmp[0],W^=R.tmp[1]),ae=Q;Q=(K^B.permute(re))>>>0,K=ae}B.rip(Q,K,V,U)},k.prototype._decrypt=function(R,O,A,V,U){for(var K=A,Q=O,q=R.keys.length-2;q>=0;q-=2){var Y=R.keys[q],W=R.keys[q+1];B.expand(K,R.tmp,0);var re=B.substitute(Y^=R.tmp[0],W^=R.tmp[1]),ae=K;K=(Q^B.permute(re))>>>0,Q=ae}B.rip(K,Q,V,U)}},62122:($e,j,E)=>{"use strict";var g=E(39210),w=E(71993),B=E(10219),H=E(64166);function b(S,P){g.equal(P.length,24,"Invalid key length");var R=P.slice(0,8),O=P.slice(8,16),A=P.slice(16,24);this.ciphers="encrypt"===S?[H.create({type:"encrypt",key:R}),H.create({type:"decrypt",key:O}),H.create({type:"encrypt",key:A})]:[H.create({type:"decrypt",key:A}),H.create({type:"encrypt",key:O}),H.create({type:"decrypt",key:R})]}function k(S){B.call(this,S);var P=new b(this.type,this.options.key);this._edeState=P}w(k,B),$e.exports=k,k.create=function(P){return new k(P)},k.prototype._update=function(P,R,O,A){var V=this._edeState;V.ciphers[0]._update(P,R,O,A),V.ciphers[1]._update(O,A,O,A),V.ciphers[2]._update(O,A,O,A)},k.prototype._pad=H.prototype._pad,k.prototype._unpad=H.prototype._unpad},85671:($e,j)=>{"use strict";j.readUInt32BE=function(H,b){return(H[0+b]<<24|H[1+b]<<16|H[2+b]<<8|H[3+b])>>>0},j.writeUInt32BE=function(H,b,k){H[0+k]=b>>>24,H[1+k]=b>>>16&255,H[2+k]=b>>>8&255,H[3+k]=255&b},j.ip=function(H,b,k,S){for(var P=0,R=0,O=6;O>=0;O-=2){for(var A=0;A<=24;A+=8)P<<=1,P|=b>>>A+O&1;for(A=0;A<=24;A+=8)P<<=1,P|=H>>>A+O&1}for(O=6;O>=0;O-=2){for(A=1;A<=25;A+=8)R<<=1,R|=b>>>A+O&1;for(A=1;A<=25;A+=8)R<<=1,R|=H>>>A+O&1}k[S+0]=P>>>0,k[S+1]=R>>>0},j.rip=function(H,b,k,S){for(var P=0,R=0,O=0;O<4;O++)for(var A=24;A>=0;A-=8)P<<=1,P|=b>>>A+O&1,P<<=1,P|=H>>>A+O&1;for(O=4;O<8;O++)for(A=24;A>=0;A-=8)R<<=1,R|=b>>>A+O&1,R<<=1,R|=H>>>A+O&1;k[S+0]=P>>>0,k[S+1]=R>>>0},j.pc1=function(H,b,k,S){for(var P=0,R=0,O=7;O>=5;O--){for(var A=0;A<=24;A+=8)P<<=1,P|=b>>A+O&1;for(A=0;A<=24;A+=8)P<<=1,P|=H>>A+O&1}for(A=0;A<=24;A+=8)P<<=1,P|=b>>A+O&1;for(O=1;O<=3;O++){for(A=0;A<=24;A+=8)R<<=1,R|=b>>A+O&1;for(A=0;A<=24;A+=8)R<<=1,R|=H>>A+O&1}for(A=0;A<=24;A+=8)R<<=1,R|=H>>A+O&1;k[S+0]=P>>>0,k[S+1]=R>>>0},j.r28shl=function(H,b){return H<<b&268435455|H>>>28-b};var E=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];j.pc2=function(H,b,k,S){for(var P=0,R=0,O=E.length>>>1,A=0;A<O;A++)P<<=1,P|=H>>>E[A]&1;for(A=O;A<E.length;A++)R<<=1,R|=b>>>E[A]&1;k[S+0]=P>>>0,k[S+1]=R>>>0},j.expand=function(H,b,k){var S=0,P=0;S=(1&H)<<5|H>>>27;for(var R=23;R>=15;R-=4)S<<=6,S|=H>>>R&63;for(R=11;R>=3;R-=4)P|=H>>>R&63,P<<=6;P|=(31&H)<<1|H>>>31,b[k+0]=S>>>0,b[k+1]=P>>>0};var g=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];j.substitute=function(H,b){for(var k=0,S=0;S<4;S++)k<<=4,k|=g[64*S+(H>>>18-6*S&63)];for(S=0;S<4;S++)k<<=4,k|=g[256+64*S+(b>>>18-6*S&63)];return k>>>0};var w=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];j.permute=function(H){for(var b=0,k=0;k<w.length;k++)b<<=1,b|=H>>>w[k]&1;return b>>>0},j.padSplit=function(H,b,k){for(var S=H.toString(2);S.length<b;)S="0"+S;for(var P=[],R=0;R<b;R+=k)P.push(S.slice(R,R+k));return P.join(" ")}},4377:($e,j,E)=>{var g=E(12727),w=E(23241),B=E(94593),b={binary:!0,hex:!0,base64:!0};j.DiffieHellmanGroup=j.createDiffieHellmanGroup=j.getDiffieHellman=function H(S){var P=new Buffer(w[S].prime,"hex"),R=new Buffer(w[S].gen,"hex");return new B(P,R)},j.createDiffieHellman=j.DiffieHellman=function k(S,P,R,O){return Buffer.isBuffer(P)||void 0===b[P]?k(S,"binary",P,R):(P=P||"binary",O=O||"binary",R=R||new Buffer([2]),Buffer.isBuffer(R)||(R=new Buffer(R,O)),"number"==typeof S?new B(g(S,R),R,!0):(Buffer.isBuffer(S)||(S=new Buffer(S,P)),new B(S,R,!0)))}},94593:($e,j,E)=>{var g=E(38280),B=new(E(53459)),H=new g(24),b=new g(11),k=new g(10),S=new g(3),P=new g(7),R=E(12727),O=E(3342);function A(Y,W){return W=W||"utf8",Buffer.isBuffer(Y)||(Y=new Buffer(Y,W)),this._pub=new g(Y),this}function V(Y,W){return W=W||"utf8",Buffer.isBuffer(Y)||(Y=new Buffer(Y,W)),this._priv=new g(Y),this}$e.exports=Q;var U={};function Q(Y,W,re){this.setGenerator(W),this.__prime=new g(Y),this._prime=g.mont(this.__prime),this._primeLen=Y.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,re?(this.setPublicKey=A,this.setPrivateKey=V):this._primeCode=8}function q(Y,W){var re=new Buffer(Y.toArray());return W?re.toString(W):re}Object.defineProperty(Q.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function K(Y,W){var re=W.toString("hex"),ie=[re,Y.toString(16)].join("_");if(ie in U)return U[ie];var ue,ae=0;if(Y.isEven()||!R.simpleSieve||!R.fermatTest(Y)||!B.test(Y))return ae+=1,U[ie]=ae+="02"===re||"05"===re?8:4,ae;switch(B.test(Y.shrn(1))||(ae+=2),re){case"02":Y.mod(H).cmp(b)&&(ae+=8);break;case"05":(ue=Y.mod(k)).cmp(S)&&ue.cmp(P)&&(ae+=8);break;default:ae+=4}return U[ie]=ae,ae}(this.__prime,this.__gen)),this._primeCode}}),Q.prototype.generateKeys=function(){return this._priv||(this._priv=new g(O(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},Q.prototype.computeSecret=function(Y){var W=(Y=(Y=new g(Y)).toRed(this._prime)).redPow(this._priv).fromRed(),re=new Buffer(W.toArray()),ie=this.getPrime();if(re.length<ie.length){var ae=new Buffer(ie.length-re.length);ae.fill(0),re=Buffer.concat([ae,re])}return re},Q.prototype.getPublicKey=function(W){return q(this._pub,W)},Q.prototype.getPrivateKey=function(W){return q(this._priv,W)},Q.prototype.getPrime=function(Y){return q(this.__prime,Y)},Q.prototype.getGenerator=function(Y){return q(this._gen,Y)},Q.prototype.setGenerator=function(Y,W){return W=W||"utf8",Buffer.isBuffer(Y)||(Y=new Buffer(Y,W)),this.__gen=Y,this._gen=new g(Y),this}},12727:($e,j,E)=>{var g=E(3342);$e.exports=ae,ae.simpleSieve=re,ae.fermatTest=ie;var w=E(38280),B=new w(24),b=new(E(53459)),k=new w(1),S=new w(2),P=new w(5),A=(new w(16),new w(8),new w(10)),V=new w(3),K=(new w(7),new w(11)),Q=new w(4),Y=(new w(12),null);function re(ue){for(var ce=function W(){if(null!==Y)return Y;var ce=[];ce[0]=2;for(var pe=1,ve=3;ve<1048576;ve+=2){for(var De=Math.ceil(Math.sqrt(ve)),C=0;C<pe&&ce[C]<=De&&ve%ce[C]!=0;C++);pe!==C&&ce[C]<=De||(ce[pe++]=ve)}return Y=ce,ce}(),pe=0;pe<ce.length;pe++)if(0===ue.modn(ce[pe]))return 0===ue.cmpn(ce[pe]);return!0}function ie(ue){var ce=w.mont(ue);return 0===S.toRed(ce).redPow(ue.subn(1)).fromRed().cmpn(1)}function ae(ue,ce){if(ue<16)return new w(2===ce||5===ce?[140,123]:[140,39]);ce=new w(ce);for(var pe,ve;;){for(pe=new w(g(Math.ceil(ue/8)));pe.bitLength()>ue;)pe.ishrn(1);if(pe.isEven()&&pe.iadd(k),pe.testn(1)||pe.iadd(S),ce.cmp(S)){if(!ce.cmp(P))for(;pe.mod(A).cmp(V);)pe.iadd(Q)}else for(;pe.mod(B).cmp(K);)pe.iadd(Q);if(re(ve=pe.shrn(1))&&re(pe)&&ie(ve)&&ie(pe)&&b.test(ve)&&b.test(pe))return pe}}},38280:function($e,j,E){!function(g,w){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:w.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(66089).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,_=Math.min(C.length,d),I=s;I<_;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var _,I,L=0;if("be"===h)for(f=s.length-1,_=0;f>=0;f-=3)this.words[_]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);else if("le"===h)for(f=0,_=0;f<s.length;f+=3)this.words[_]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,_=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,_=1;_<=67108863;_*=d)f++;f--,_=_/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(_),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],_=0|s.words[0],I=f*_,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(_=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,_=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|_)).toString(16);h=0!=(_=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==_&&(h=_.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),_=h||Math.max(1,f);B(f<=_,"byte array longer than desired length"),B(_>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(_),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<_;a++)L[a]=0}else{for(a=0;a<_-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[_-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var _=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+_),_=d>>>26;for(;0!==_&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+_),_=d>>>26;if(this.length=h.length,0!==_)this.words[this.length]=_,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,_,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,_=s):(f=s,_=this);for(var I=0,L=0;L<_.length;L++)I=(d=(0|f.words[L])-(0|_.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,_=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ze=0|f[2],ge=8191&Ze,me=Ze>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,Dt=0|f[7],Ne=8191&Dt,ke=Dt>>>13,yt=0|f[8],F=8191&yt,D=yt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|_[0],Ae=8191&Se,ot=Se>>>13,Gt=0|_[1],_t=8191&Gt,Bt=Gt>>>13,en=0|_[2],pn=8191&en,cn=en>>>13,tr=0|_[3],Mn=8191&tr,on=tr>>>13,Qt=0|_[4],ut=8191&Qt,st=Qt>>>13,Zt=0|_[5],Xt=8191&Zt,rn=Zt>>>13,Zn=0|_[6],at=8191&Zn,pt=Zn>>>13,ht=0|_[7],Ke=8191&ht,Ge=ht>>>13,jt=0|_[8],kt=8191&jt,ln=jt>>>13,On=0|_[9],vn=8191&On,gn=On>>>13;h.negative=s.negative^d.negative,h.length=19;var ur=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,ot))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,ot))+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,ot))+Math.imul(Me,Ae)|0,v=Math.imul(Me,ot);var er=(L+(x=x+Math.imul(z,_t)|0)|0)+((8191&(a=(a=a+Math.imul(z,Bt)|0)+Math.imul(ee,_t)|0))<<13)|0;L=((v=v+Math.imul(ee,Bt)|0)+(a>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,ot))+Math.imul(me,Ae)|0,v=Math.imul(me,ot),x=x+Math.imul(we,_t)|0,a=(a=a+Math.imul(we,Bt)|0)+Math.imul(Me,_t)|0,v=v+Math.imul(Me,Bt)|0;var Pn=(L+(x=x+Math.imul(z,pn)|0)|0)+((8191&(a=(a=a+Math.imul(z,cn)|0)+Math.imul(ee,pn)|0))<<13)|0;L=((v=v+Math.imul(ee,cn)|0)+(a>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,ot))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,ot),x=x+Math.imul(ge,_t)|0,a=(a=a+Math.imul(ge,Bt)|0)+Math.imul(me,_t)|0,v=v+Math.imul(me,Bt)|0,x=x+Math.imul(we,pn)|0,a=(a=a+Math.imul(we,cn)|0)+Math.imul(Me,pn)|0,v=v+Math.imul(Me,cn)|0;var Nn=(L+(x=x+Math.imul(z,Mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,on)|0)+Math.imul(ee,Mn)|0))<<13)|0;L=((v=v+Math.imul(ee,on)|0)+(a>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,ot))+Math.imul(ne,Ae)|0,v=Math.imul(ne,ot),x=x+Math.imul(xe,_t)|0,a=(a=a+Math.imul(xe,Bt)|0)+Math.imul(Ce,_t)|0,v=v+Math.imul(Ce,Bt)|0,x=x+Math.imul(ge,pn)|0,a=(a=a+Math.imul(ge,cn)|0)+Math.imul(me,pn)|0,v=v+Math.imul(me,cn)|0,x=x+Math.imul(we,Mn)|0,a=(a=a+Math.imul(we,on)|0)+Math.imul(Me,Mn)|0,v=v+Math.imul(Me,on)|0;var et=(L+(x=x+Math.imul(z,ut)|0)|0)+((8191&(a=(a=a+Math.imul(z,st)|0)+Math.imul(ee,ut)|0))<<13)|0;L=((v=v+Math.imul(ee,st)|0)+(a>>>13)|0)+(et>>>26)|0,et&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,ot))+Math.imul(_e,Ae)|0,v=Math.imul(_e,ot),x=x+Math.imul(he,_t)|0,a=(a=a+Math.imul(he,Bt)|0)+Math.imul(ne,_t)|0,v=v+Math.imul(ne,Bt)|0,x=x+Math.imul(xe,pn)|0,a=(a=a+Math.imul(xe,cn)|0)+Math.imul(Ce,pn)|0,v=v+Math.imul(Ce,cn)|0,x=x+Math.imul(ge,Mn)|0,a=(a=a+Math.imul(ge,on)|0)+Math.imul(me,Mn)|0,v=v+Math.imul(me,on)|0,x=x+Math.imul(we,ut)|0,a=(a=a+Math.imul(we,st)|0)+Math.imul(Me,ut)|0,v=v+Math.imul(Me,st)|0;var Oe=(L+(x=x+Math.imul(z,Xt)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Xt)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,ot))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,ot),x=x+Math.imul(de,_t)|0,a=(a=a+Math.imul(de,Bt)|0)+Math.imul(_e,_t)|0,v=v+Math.imul(_e,Bt)|0,x=x+Math.imul(he,pn)|0,a=(a=a+Math.imul(he,cn)|0)+Math.imul(ne,pn)|0,v=v+Math.imul(ne,cn)|0,x=x+Math.imul(xe,Mn)|0,a=(a=a+Math.imul(xe,on)|0)+Math.imul(Ce,Mn)|0,v=v+Math.imul(Ce,on)|0,x=x+Math.imul(ge,ut)|0,a=(a=a+Math.imul(ge,st)|0)+Math.imul(me,ut)|0,v=v+Math.imul(me,st)|0,x=x+Math.imul(we,Xt)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Xt)|0,v=v+Math.imul(Me,rn)|0;var Qe=(L+(x=x+Math.imul(z,at)|0)|0)+((8191&(a=(a=a+Math.imul(z,pt)|0)+Math.imul(ee,at)|0))<<13)|0;L=((v=v+Math.imul(ee,pt)|0)+(a>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,ot))+Math.imul(ke,Ae)|0,v=Math.imul(ke,ot),x=x+Math.imul(He,_t)|0,a=(a=a+Math.imul(He,Bt)|0)+Math.imul(Ve,_t)|0,v=v+Math.imul(Ve,Bt)|0,x=x+Math.imul(de,pn)|0,a=(a=a+Math.imul(de,cn)|0)+Math.imul(_e,pn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(he,Mn)|0,a=(a=a+Math.imul(he,on)|0)+Math.imul(ne,Mn)|0,v=v+Math.imul(ne,on)|0,x=x+Math.imul(xe,ut)|0,a=(a=a+Math.imul(xe,st)|0)+Math.imul(Ce,ut)|0,v=v+Math.imul(Ce,st)|0,x=x+Math.imul(ge,Xt)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Xt)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,at)|0,a=(a=a+Math.imul(we,pt)|0)+Math.imul(Me,at)|0,v=v+Math.imul(Me,pt)|0;var zt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ge)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,Ge)|0)+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,ot))+Math.imul(D,Ae)|0,v=Math.imul(D,ot),x=x+Math.imul(Ne,_t)|0,a=(a=a+Math.imul(Ne,Bt)|0)+Math.imul(ke,_t)|0,v=v+Math.imul(ke,Bt)|0,x=x+Math.imul(He,pn)|0,a=(a=a+Math.imul(He,cn)|0)+Math.imul(Ve,pn)|0,v=v+Math.imul(Ve,cn)|0,x=x+Math.imul(de,Mn)|0,a=(a=a+Math.imul(de,on)|0)+Math.imul(_e,Mn)|0,v=v+Math.imul(_e,on)|0,x=x+Math.imul(he,ut)|0,a=(a=a+Math.imul(he,st)|0)+Math.imul(ne,ut)|0,v=v+Math.imul(ne,st)|0,x=x+Math.imul(xe,Xt)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Xt)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,at)|0,a=(a=a+Math.imul(ge,pt)|0)+Math.imul(me,at)|0,v=v+Math.imul(me,pt)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,Ge)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,Ge)|0;var hn=(L+(x=x+Math.imul(z,kt)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,kt)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(hn>>>26)|0,hn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,ot))+Math.imul(fe,Ae)|0,v=Math.imul(fe,ot),x=x+Math.imul(F,_t)|0,a=(a=a+Math.imul(F,Bt)|0)+Math.imul(D,_t)|0,v=v+Math.imul(D,Bt)|0,x=x+Math.imul(Ne,pn)|0,a=(a=a+Math.imul(Ne,cn)|0)+Math.imul(ke,pn)|0,v=v+Math.imul(ke,cn)|0,x=x+Math.imul(He,Mn)|0,a=(a=a+Math.imul(He,on)|0)+Math.imul(Ve,Mn)|0,v=v+Math.imul(Ve,on)|0,x=x+Math.imul(de,ut)|0,a=(a=a+Math.imul(de,st)|0)+Math.imul(_e,ut)|0,v=v+Math.imul(_e,st)|0,x=x+Math.imul(he,Xt)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Xt)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,at)|0,a=(a=a+Math.imul(xe,pt)|0)+Math.imul(Ce,at)|0,v=v+Math.imul(Ce,pt)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,Ge)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,Ge)|0,x=x+Math.imul(we,kt)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,kt)|0,v=v+Math.imul(Me,ln)|0;var Un=(L+(x=x+Math.imul(z,vn)|0)|0)+((8191&(a=(a=a+Math.imul(z,gn)|0)+Math.imul(ee,vn)|0))<<13)|0;L=((v=v+Math.imul(ee,gn)|0)+(a>>>13)|0)+(Un>>>26)|0,Un&=67108863,x=Math.imul(G,_t),a=(a=Math.imul(G,Bt))+Math.imul(fe,_t)|0,v=Math.imul(fe,Bt),x=x+Math.imul(F,pn)|0,a=(a=a+Math.imul(F,cn)|0)+Math.imul(D,pn)|0,v=v+Math.imul(D,cn)|0,x=x+Math.imul(Ne,Mn)|0,a=(a=a+Math.imul(Ne,on)|0)+Math.imul(ke,Mn)|0,v=v+Math.imul(ke,on)|0,x=x+Math.imul(He,ut)|0,a=(a=a+Math.imul(He,st)|0)+Math.imul(Ve,ut)|0,v=v+Math.imul(Ve,st)|0,x=x+Math.imul(de,Xt)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Xt)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,at)|0,a=(a=a+Math.imul(he,pt)|0)+Math.imul(ne,at)|0,v=v+Math.imul(ne,pt)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,Ge)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,Ge)|0,x=x+Math.imul(ge,kt)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,kt)|0,v=v+Math.imul(me,ln)|0;var Kn=(L+(x=x+Math.imul(we,vn)|0)|0)+((8191&(a=(a=a+Math.imul(we,gn)|0)+Math.imul(Me,vn)|0))<<13)|0;L=((v=v+Math.imul(Me,gn)|0)+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,x=Math.imul(G,pn),a=(a=Math.imul(G,cn))+Math.imul(fe,pn)|0,v=Math.imul(fe,cn),x=x+Math.imul(F,Mn)|0,a=(a=a+Math.imul(F,on)|0)+Math.imul(D,Mn)|0,v=v+Math.imul(D,on)|0,x=x+Math.imul(Ne,ut)|0,a=(a=a+Math.imul(Ne,st)|0)+Math.imul(ke,ut)|0,v=v+Math.imul(ke,st)|0,x=x+Math.imul(He,Xt)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Xt)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,at)|0,a=(a=a+Math.imul(de,pt)|0)+Math.imul(_e,at)|0,v=v+Math.imul(_e,pt)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,Ge)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,Ge)|0,x=x+Math.imul(xe,kt)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,kt)|0,v=v+Math.imul(Ce,ln)|0;var ir=(L+(x=x+Math.imul(ge,vn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,gn)|0)+Math.imul(me,vn)|0))<<13)|0;L=((v=v+Math.imul(me,gn)|0)+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(G,Mn),a=(a=Math.imul(G,on))+Math.imul(fe,Mn)|0,v=Math.imul(fe,on),x=x+Math.imul(F,ut)|0,a=(a=a+Math.imul(F,st)|0)+Math.imul(D,ut)|0,v=v+Math.imul(D,st)|0,x=x+Math.imul(Ne,Xt)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Xt)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,at)|0,a=(a=a+Math.imul(He,pt)|0)+Math.imul(Ve,at)|0,v=v+Math.imul(Ve,pt)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,Ge)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,Ge)|0,x=x+Math.imul(he,kt)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,kt)|0,v=v+Math.imul(ne,ln)|0;var mr=(L+(x=x+Math.imul(xe,vn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,gn)|0)+Math.imul(Ce,vn)|0))<<13)|0;L=((v=v+Math.imul(Ce,gn)|0)+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(G,ut),a=(a=Math.imul(G,st))+Math.imul(fe,ut)|0,v=Math.imul(fe,st),x=x+Math.imul(F,Xt)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Xt)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,at)|0,a=(a=a+Math.imul(Ne,pt)|0)+Math.imul(ke,at)|0,v=v+Math.imul(ke,pt)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,Ge)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,Ge)|0,x=x+Math.imul(de,kt)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,kt)|0,v=v+Math.imul(_e,ln)|0;var Pr=(L+(x=x+Math.imul(he,vn)|0)|0)+((8191&(a=(a=a+Math.imul(he,gn)|0)+Math.imul(ne,vn)|0))<<13)|0;L=((v=v+Math.imul(ne,gn)|0)+(a>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(G,Xt),a=(a=Math.imul(G,rn))+Math.imul(fe,Xt)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,at)|0,a=(a=a+Math.imul(F,pt)|0)+Math.imul(D,at)|0,v=v+Math.imul(D,pt)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,Ge)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,Ge)|0,x=x+Math.imul(He,kt)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,kt)|0,v=v+Math.imul(Ve,ln)|0;var Sr=(L+(x=x+Math.imul(de,vn)|0)|0)+((8191&(a=(a=a+Math.imul(de,gn)|0)+Math.imul(_e,vn)|0))<<13)|0;L=((v=v+Math.imul(_e,gn)|0)+(a>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,x=Math.imul(G,at),a=(a=Math.imul(G,pt))+Math.imul(fe,at)|0,v=Math.imul(fe,pt),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,Ge)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,Ge)|0,x=x+Math.imul(Ne,kt)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,kt)|0,v=v+Math.imul(ke,ln)|0;var Nr=(L+(x=x+Math.imul(He,vn)|0)|0)+((8191&(a=(a=a+Math.imul(He,gn)|0)+Math.imul(Ve,vn)|0))<<13)|0;L=((v=v+Math.imul(Ve,gn)|0)+(a>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,Ge))+Math.imul(fe,Ke)|0,v=Math.imul(fe,Ge),x=x+Math.imul(F,kt)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,kt)|0,v=v+Math.imul(D,ln)|0;var dr=(L+(x=x+Math.imul(Ne,vn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,gn)|0)+Math.imul(ke,vn)|0))<<13)|0;L=((v=v+Math.imul(ke,gn)|0)+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,x=Math.imul(G,kt),a=(a=Math.imul(G,ln))+Math.imul(fe,kt)|0,v=Math.imul(fe,ln);var nn=(L+(x=x+Math.imul(F,vn)|0)|0)+((8191&(a=(a=a+Math.imul(F,gn)|0)+Math.imul(D,vn)|0))<<13)|0;L=((v=v+Math.imul(D,gn)|0)+(a>>>13)|0)+(nn>>>26)|0,nn&=67108863;var yn=(L+(x=Math.imul(G,vn))|0)+((8191&(a=(a=Math.imul(G,gn))+Math.imul(fe,vn)|0))<<13)|0;return L=((v=Math.imul(fe,gn))+(a>>>13)|0)+(yn>>>26)|0,yn&=67108863,I[0]=ur,I[1]=er,I[2]=Pn,I[3]=Nn,I[4]=et,I[5]=Oe,I[6]=Qe,I[7]=zt,I[8]=hn,I[9]=Un,I[10]=Kn,I[11]=ir,I[12]=mr,I[13]=Pr,I[14]=Sr,I[15]=Nr,I[16]=dr,I[17]=nn,I[18]=yn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,_=0;_<d.length-1;_++){var I=f;f=0;for(var L=67108863&h,x=Math.min(_,s.length-1),a=Math.max(0,_-C.length+1);a<=x;a++){var ee=(0|C.words[_-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[_]=L,h=I,I=f}return 0!==h?d.words[_]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,_=0;_<d;_++)f|=(1&s)<<d-_-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,_,I){for(var L=0;L<I;L++)f[L]=d[s[L]],_[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,_,I){this.permute(I,s,d,h,f,_);for(var L=1;L<_;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<_;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ze=h[Z+le+L],ge=f[Z+le+L],me=z*Ze-ee*ge;ge=z*ge+ee*Ze,h[Z+le]=we+(Ze=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ze,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,_=0;for(h=h/2|0;h;h>>>=1)_++;return 1<<_+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var _=s[f];s[f]=s[h-f-1],s[h-f-1]=_,_=d[f],d[f]=-d[h-f-1],d[h-f-1]=-_}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var _=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&_,h=_<67108864?0:_/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var _=0,I=0;I<d;I++)h[2*I]=8191&(_+=0|s[I]),h[2*I+1]=8191&(_>>>=13),_>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===_),B(!(-8192&_))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),_=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,_),this.transform(v,I,Z,z,f,_);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,_),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,_=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=_>>>26,this.words[h]=67108863&_}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var _=h.sqr();f<d.length;f++,_=_.sqr())0!==d[f]&&(h=h.mul(_));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var _,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(_=0;_<this.length;_++){var L=this.words[_]&f;this.words[_]=(0|this.words[_])-L<<d|I,I=L>>>26-d}I&&(this.words[_]=I,this.length++)}if(0!==h){for(_=this.length-1;_>=0;_--)this.words[_+h]=this.words[_];for(_=0;_<h;_++)this.words[_]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var _=s%26,I=Math.min((s-_)/26,this.length),L=67108863^67108863>>>_<<_,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-_|Z>>>_,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var _;this._expand(s.length+h);var I,L=0;for(_=0;_<s.length;_++){I=(0|this.words[_+h])+L;var x=(0|s.words[_])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[_+h]=67108863&I}for(;_<this.length-h;_++)L=(I=(0|this.words[_+h])+L)>>26,this.words[_+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,_=0;_<this.length;_++)L=(I=-(0|this.words[_])+L)>>26,this.words[_]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),_=s,I=0|_.words[_.length-1];0!=(h=26-this._countBits(I))&&(_=_.ushln(h),f.iushln(h),I=0|_.words[_.length-1]);var a,x=f.length-_.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(_,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[_.length+z])+(0|f.words[_.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(_,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(_,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.iadd(s)),{div:f,mod:_}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.isub(s)),{div:I.div,mod:_}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,_,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),_=s.andln(1),I=h.cmp(f);return I<0||1===_&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||_.isOdd())&&(f.iadd(a),_.isub(v)),f.iushrn(1),_.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),_.isub(L)):(h.isub(d),I.isub(f),L.isub(_))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(_)):(h.isub(d),_.isub(f))}return(Z=0===d.cmpn(1)?f:_).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var _=d.cmp(h);if(_<0){var I=d;d=h,h=I}else if(0===_||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var _=f,I=h;0!==_&&I<this.length;I++){var L=0|this.words[I];_=(L+=_)>>>26,this.words[I]=L&=67108863}return 0!==_&&(this.words[I]=_,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],_=0|s.words[h];if(f!==_){f<_?d=-1:f>_&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),_=0;_<f;_++)d.words[_]=s.words[_];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,_=10;_<s.length;_++){var L=0|s.words[_];s.words[_-10]=(L&h)<<4|I>>>22,I=L}s.words[_-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,_=67108863&f;f>>>=26,s.words[h]=_,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),_=0;!f.isZero()&&0===f.andln(1);)_++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=_;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var _=2;_<f.length;_++)f[_]=this.mul(f[_-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),_=d.length-1;_>=0;_--){for(var v=d.words[_],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===_&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},48967:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ephemeralKeySize=j.symmetricNonceLength=j.symmetricAlgorithm=j.isHkdfKeyCompressed=j.isEphemeralKeyCompressed=j.ellipticCurve=j.ECIES_CONFIG=void 0;var g=E(29277);j.ECIES_CONFIG=new(function(){return function R(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),j.ellipticCurve=function(){return j.ECIES_CONFIG.ellipticCurve},j.isEphemeralKeyCompressed=function(){return j.ECIES_CONFIG.isEphemeralKeyCompressed},j.isHkdfKeyCompressed=function(){return j.ECIES_CONFIG.isHkdfKeyCompressed},j.symmetricAlgorithm=function(){return j.ECIES_CONFIG.symmetricAlgorithm},j.symmetricNonceLength=function(){return j.ECIES_CONFIG.symmetricNonceLength},j.ephemeralKeySize=function(){var R={secp256k1:j.ECIES_CONFIG.isEphemeralKeyCompressed?g.COMPRESSED_PUBLIC_KEY_SIZE:g.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:g.CURVE25519_PUBLIC_KEY_SIZE,ed25519:g.CURVE25519_PUBLIC_KEY_SIZE};if(j.ECIES_CONFIG.ellipticCurve in R)return R[j.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.AEAD_TAG_LENGTH=j.XCHACHA20_NONCE_LENGTH=j.CURVE25519_PUBLIC_KEY_SIZE=j.ETH_PUBLIC_KEY_SIZE=j.UNCOMPRESSED_PUBLIC_KEY_SIZE=j.COMPRESSED_PUBLIC_KEY_SIZE=j.SECRET_KEY_LENGTH=void 0,j.SECRET_KEY_LENGTH=32,j.COMPRESSED_PUBLIC_KEY_SIZE=33,j.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,j.ETH_PUBLIC_KEY_SIZE=64,j.CURVE25519_PUBLIC_KEY_SIZE=32,j.XCHACHA20_NONCE_LENGTH=24,j.AEAD_TAG_LENGTH=16},63397:($e,j,E)=>{"use strict";j.VV=j.Yc=j.w=void 0;var w=E(23790),B=E(48967),H=E(40774),b=E(77399);j.w=function k(O,A){var q,V=new H.PrivateKey,U=O instanceof Uint8Array?new H.PublicKey(O):H.PublicKey.fromHex(O),K=V.encapsulate(U),Q=(0,b.aesEncrypt)(K,A);return q=(0,B.isEphemeralKeyCompressed)()?V.publicKey.compressed:V.publicKey.uncompressed,Buffer.from((0,w.concatBytes)(q,Q))},j.Yc=function S(O,A){var V=O instanceof Uint8Array?new H.PrivateKey(O):H.PrivateKey.fromHex(O),U=(0,B.ephemeralKeySize)(),K=new H.PublicKey(A.subarray(0,U)),Q=A.subarray(U),q=K.decapsulate(V);return Buffer.from((0,b.aesDecrypt)(q,Q))};var P=E(48967);Object.defineProperty(j,"VV",{enumerable:!0,get:function(){return P.ECIES_CONFIG}});E(40774)},1210:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PrivateKey=void 0;var g=E(23790),w=E(48967),B=E(77399),H=E(40762),b=function(){function k(S){var P=void 0===S?(0,B.getValidSecret)():S;if(!(0,B.isValidPrivateKey)(P))throw new Error("Invalid private key");this.data=P,this.publicKey=new H.PublicKey((0,B.getPublicKey)(P))}return k.fromHex=function(S){return new k((0,B.decodeHex)(S))},Object.defineProperty(k.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),k.prototype.toHex=function(){return(0,g.bytesToHex)(this.data)},k.prototype.encapsulate=function(S){var P,R;return(0,w.isHkdfKeyCompressed)()?(P=this.publicKey.compressed,R=this.multiply(S,!0)):(P=this.publicKey.uncompressed,R=this.multiply(S,!1)),(0,B.getSharedKey)(P,R)},k.prototype.multiply=function(S,P){return void 0===P&&(P=!1),(0,B.getSharedPoint)(this.data,S.compressed,P)},k.prototype.equals=function(S){return(0,g.equalBytes)(this.data,S.data)},k}();j.PrivateKey=b},40762:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PublicKey=void 0;var g=E(23790),w=E(48967),B=E(77399),H=function(){function b(k){this.data=(0,B.convertPublicKeyFormat)(k,!0)}return b.fromHex=function(k){return new b((0,B.hexToPublicKey)(k))},Object.defineProperty(b.prototype,"uncompressed",{get:function(){return Buffer.from((0,B.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),b.prototype.toHex=function(k){return void 0===k&&(k=!0),(0,g.bytesToHex)(k?this.data:this.uncompressed)},b.prototype.decapsulate=function(k){var S,P;return(0,w.isHkdfKeyCompressed)()?(S=this.data,P=k.multiply(this,!0)):(S=this.uncompressed,P=k.multiply(this,!1)),(0,B.getSharedKey)(S,P)},b.prototype.equals=function(k){return(0,g.equalBytes)(this.data,k.data)},b}();j.PublicKey=H},40774:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PublicKey=j.PrivateKey=void 0;var g=E(1210);Object.defineProperty(j,"PrivateKey",{enumerable:!0,get:function(){return g.PrivateKey}});var w=E(40762);Object.defineProperty(j,"PublicKey",{enumerable:!0,get:function(){return w.PublicKey}})},1849:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.aes256gcm=void 0;var g=E(23790),w=E(91426),B=E(29277);j.aes256gcm=function H(b,k,S){return{tagLength:B.AEAD_TAG_LENGTH,encrypt:function(O){var A=(0,w.createCipheriv)("aes-256-gcm",b,k);S&&A.setAAD(S);var V=A.update(O),U=A.final();return(0,g.concatBytes)(V,U,A.getAuthTag())},decrypt:function(O){var A=O.subarray(0,O.length-B.AEAD_TAG_LENGTH),V=O.subarray(-B.AEAD_TAG_LENGTH),U=(0,w.createDecipheriv)("aes-256-gcm",b,k);S&&U.setAAD(S),U.setAuthTag(V);var K=U.update(A),Q=U.final();return(0,g.concatBytes)(K,Q)}}}},77553:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hexToPublicKey=j.convertPublicKeyFormat=j.getSharedPoint=j.getSharedKey=j.getPublicKey=j.isValidPrivateKey=j.getValidSecret=void 0;var g=E(23790),w=E(42098),B=E(57340),H=E(91717),b=E(48967),k=E(29277),S=E(99666),P=E(63364);function O(Y){return q(function(W){return W.utils.isValidPrivateKey(Y)},function(){return!0},function(){return!0})}function q(Y,W,re){if("secp256k1"===(0,b.ellipticCurve)())return Y(H.secp256k1);if("x25519"===(0,b.ellipticCurve)())return W(B.x25519);if("ed25519"===(0,b.ellipticCurve)())return re(B.ed25519);throw new Error("Not implemented")}j.getValidSecret=function R(){var Y;do{Y=(0,w.randomBytes)(k.SECRET_KEY_LENGTH)}while(!O(Y));return Y},j.isValidPrivateKey=O,j.getPublicKey=function A(Y){return q(function(W){return W.getPublicKey(Y)},function(W){return W.getPublicKey(Y)},function(W){return W.getPublicKey(Y)})},j.getSharedKey=function V(Y,W){return(0,P.deriveKey)((0,g.concatBytes)(Y,W))},j.getSharedPoint=function U(Y,W,re){return q(function(ie){return ie.getSharedSecret(Y,W,re)},function(ie){return ie.getSharedSecret(Y,W)},function(ie){var ae=ie.utils.getExtendedPublicKey(Y).scalar;return ie.ExtendedPoint.fromHex(W).multiply(ae).toRawBytes()})},j.convertPublicKeyFormat=function K(Y,W){return q(function(re){return re.getSharedSecret(BigInt(1),Y,W)},function(){return Y},function(){return Y})},j.hexToPublicKey=function Q(Y){var W=(0,S.decodeHex)(Y);return q(function(){if(W.length===k.ETH_PUBLIC_KEY_SIZE){var re=new Uint8Array(1+W.length);return re.set([4]),re.set(W,1),re}return W},function(){return W},function(){return W})}},99666:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.decodeHex=j.remove0x=void 0;var g=E(23790);function w(H){return H.startsWith("0x")||H.startsWith("0X")?H.slice(2):H}j.remove0x=w,j.decodeHex=function B(H){return(0,g.hexToBytes)(w(H))}},77399:function($e,j,E){"use strict";var g=this&&this.__createBinding||(Object.create?function(B,H,b,k){void 0===k&&(k=b);var S=Object.getOwnPropertyDescriptor(H,b);(!S||("get"in S?!H.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return H[b]}}),Object.defineProperty(B,k,S)}:function(B,H,b,k){void 0===k&&(k=b),B[k]=H[b]}),w=this&&this.__exportStar||function(B,H){for(var b in B)"default"!==b&&!Object.prototype.hasOwnProperty.call(H,b)&&g(H,B,b)};Object.defineProperty(j,"__esModule",{value:!0}),w(E(77553),j),w(E(99666),j),w(E(63364),j)},63364:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.deriveKey=j.aesDecrypt=j.aesEncrypt=void 0;var g=E(59219),w=E(23790),B=E(42098),H=E(57334),b=E(1806),k=E(48967),S=E(29277),P=E(1849);function V(Q,q,Y){var W=(0,k.symmetricAlgorithm)(),re=Q?U:K;if("aes-256-gcm"===W)return re(P.aes256gcm,q,Y,(0,k.symmetricNonceLength)());if("xchacha20"===W)return re(g.xchacha20poly1305,q,Y,S.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function U(Q,q,Y,W){var re=(0,B.randomBytes)(W),ae=Q(q,re).encrypt(Y),ue=ae.subarray(0,ae.length-S.AEAD_TAG_LENGTH),ce=ae.subarray(-S.AEAD_TAG_LENGTH);return(0,w.concatBytes)(re,ce,ue)}function K(Q,q,Y,W){var re=W+S.AEAD_TAG_LENGTH,ie=Y.subarray(0,W),ae=Y.subarray(W,re),ue=Y.subarray(re),ce=Q(q,Uint8Array.from(ie)),pe=(0,w.concatBytes)(ue,ae);return ce.decrypt(pe)}j.aesEncrypt=function R(Q,q){return V(!0,Q,q)},j.aesDecrypt=function O(Q,q){return V(!1,Q,q)},j.deriveKey=function A(Q){return(0,H.hkdf)(b.sha256,Q,void 0,void 0,32)}},32856:($e,j)=>{"use strict";function E(S){if(!Number.isSafeInteger(S)||S<0)throw new Error(`Wrong positive integer: ${S}`)}function g(S){if("boolean"!=typeof S)throw new Error(`Expected boolean, not ${S}`)}function w(S,...P){if(!(S instanceof Uint8Array))throw new Error("Expected Uint8Array");if(P.length>0&&!P.includes(S.length))throw new Error(`Expected Uint8Array of length ${P}, not of length=${S.length}`)}function B(S){if("function"!=typeof S||"function"!=typeof S.create)throw new Error("hash must be wrapped by utils.wrapConstructor");E(S.outputLen),E(S.blockLen)}function H(S,P=!0){if(S.destroyed)throw new Error("Hash instance has been destroyed");if(P&&S.finished)throw new Error("Hash#digest() has already been called")}function b(S,P){w(S);const R=P.outputLen;if(S.length<R)throw new Error(`digestInto() expects output buffer of length at least ${R}`)}Object.defineProperty(j,"__esModule",{value:!0}),j.output=j.exists=j.hash=j.bytes=j.bool=j.number=void 0,j.number=E,j.bool=g,j.bytes=w,j.hash=B,j.exists=H,j.output=b,j.default={number:E,bool:g,bytes:w,hash:B,exists:H,output:b}},17035:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.poly1305=j.wrapConstructorWithKey=void 0;const g=E(23790),w=E(32856),B=(k,S)=>255&k[S++]|(255&k[S++])<<8;class H{constructor(S){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,S=(0,g.toBytes)(S),(0,g.ensureBytes)(S,32);const P=B(S,0),R=B(S,2),O=B(S,4),A=B(S,6),V=B(S,8),U=B(S,10),K=B(S,12),Q=B(S,14);this.r[0]=8191&P,this.r[1]=8191&(P>>>13|R<<3),this.r[2]=7939&(R>>>10|O<<6),this.r[3]=8191&(O>>>7|A<<9),this.r[4]=255&(A>>>4|V<<12),this.r[5]=V>>>1&8190,this.r[6]=8191&(V>>>14|U<<2),this.r[7]=8065&(U>>>11|K<<5),this.r[8]=8191&(K>>>8|Q<<8),this.r[9]=Q>>>5&127;for(let q=0;q<8;q++)this.pad[q]=B(S,16+2*q)}process(S,P,R=!1){const O=R?0:2048,{h:A,r:V}=this,U=V[0],K=V[1],Q=V[2],q=V[3],Y=V[4],W=V[5],re=V[6],ie=V[7],ae=V[8],ue=V[9],ce=B(S,P+0),pe=B(S,P+2),ve=B(S,P+4),De=B(S,P+6),C=B(S,P+8),s=B(S,P+10),d=B(S,P+12),h=B(S,P+14);let f=A[0]+(8191&ce),_=A[1]+(8191&(ce>>>13|pe<<3)),I=A[2]+(8191&(pe>>>10|ve<<6)),L=A[3]+(8191&(ve>>>7|De<<9)),x=A[4]+(8191&(De>>>4|C<<12)),a=A[5]+(C>>>1&8191),v=A[6]+(8191&(C>>>14|s<<2)),Z=A[7]+(8191&(s>>>11|d<<5)),z=A[8]+(8191&(d>>>8|h<<8)),ee=A[9]+(h>>>5|O),le=0,we=le+f*U+_*(5*ue)+I*(5*ae)+L*(5*ie)+x*(5*re);le=we>>>13,we&=8191,we+=a*(5*W)+v*(5*Y)+Z*(5*q)+z*(5*Q)+ee*(5*K),le+=we>>>13,we&=8191;let Me=le+f*K+_*U+I*(5*ue)+L*(5*ae)+x*(5*ie);le=Me>>>13,Me&=8191,Me+=a*(5*re)+v*(5*W)+Z*(5*Y)+z*(5*q)+ee*(5*Q),le+=Me>>>13,Me&=8191;let Ze=le+f*Q+_*K+I*U+L*(5*ue)+x*(5*ae);le=Ze>>>13,Ze&=8191,Ze+=a*(5*ie)+v*(5*re)+Z*(5*W)+z*(5*Y)+ee*(5*q),le+=Ze>>>13,Ze&=8191;let ge=le+f*q+_*Q+I*K+L*U+x*(5*ue);le=ge>>>13,ge&=8191,ge+=a*(5*ae)+v*(5*ie)+Z*(5*re)+z*(5*W)+ee*(5*Y),le+=ge>>>13,ge&=8191;let me=le+f*Y+_*q+I*Q+L*K+x*U;le=me>>>13,me&=8191,me+=a*(5*ue)+v*(5*ae)+Z*(5*ie)+z*(5*re)+ee*(5*W),le+=me>>>13,me&=8191;let Ue=le+f*W+_*Y+I*q+L*Q+x*K;le=Ue>>>13,Ue&=8191,Ue+=a*U+v*(5*ue)+Z*(5*ae)+z*(5*ie)+ee*(5*re),le+=Ue>>>13,Ue&=8191;let xe=le+f*re+_*W+I*Y+L*q+x*Q;le=xe>>>13,xe&=8191,xe+=a*K+v*U+Z*(5*ue)+z*(5*ae)+ee*(5*ie),le+=xe>>>13,xe&=8191;let Ce=le+f*ie+_*re+I*W+L*Y+x*q;le=Ce>>>13,Ce&=8191,Ce+=a*Q+v*K+Z*U+z*(5*ue)+ee*(5*ae),le+=Ce>>>13,Ce&=8191;let be=le+f*ae+_*ie+I*re+L*W+x*Y;le=be>>>13,be&=8191,be+=a*q+v*Q+Z*K+z*U+ee*(5*ue),le+=be>>>13,be&=8191;let he=le+f*ue+_*ae+I*ie+L*re+x*W;le=he>>>13,he&=8191,he+=a*Y+v*q+Z*Q+z*K+ee*U,le+=he>>>13,he&=8191,le=(le<<2)+le|0,le=le+we|0,we=8191&le,le>>>=13,Me+=le,A[0]=we,A[1]=Me,A[2]=Ze,A[3]=ge,A[4]=me,A[5]=Ue,A[6]=xe,A[7]=Ce,A[8]=be,A[9]=he}finalize(){const{h:S,pad:P}=this,R=new Uint16Array(10);let O=S[1]>>>13;S[1]&=8191;for(let U=2;U<10;U++)S[U]+=O,O=S[U]>>>13,S[U]&=8191;S[0]+=5*O,O=S[0]>>>13,S[0]&=8191,S[1]+=O,O=S[1]>>>13,S[1]&=8191,S[2]+=O,R[0]=S[0]+5,O=R[0]>>>13,R[0]&=8191;for(let U=1;U<10;U++)R[U]=S[U]+O,O=R[U]>>>13,R[U]&=8191;R[9]-=8192;let A=(1^O)-1;for(let U=0;U<10;U++)R[U]&=A;A=~A;for(let U=0;U<10;U++)S[U]=S[U]&A|R[U];S[0]=65535&(S[0]|S[1]<<13),S[1]=65535&(S[1]>>>3|S[2]<<10),S[2]=65535&(S[2]>>>6|S[3]<<7),S[3]=65535&(S[3]>>>9|S[4]<<4),S[4]=65535&(S[4]>>>12|S[5]<<1|S[6]<<14),S[5]=65535&(S[6]>>>2|S[7]<<11),S[6]=65535&(S[7]>>>5|S[8]<<8),S[7]=65535&(S[8]>>>8|S[9]<<5);let V=S[0]+P[0];S[0]=65535&V;for(let U=1;U<8;U++)V=(S[U]+P[U]|0)+(V>>>16)|0,S[U]=65535&V}update(S){w.default.exists(this);const{buffer:P,blockLen:R}=this,O=(S=(0,g.toBytes)(S)).length;for(let A=0;A<O;){const V=Math.min(R-this.pos,O-A);if(V!==R)P.set(S.subarray(A,A+V),this.pos),this.pos+=V,A+=V,this.pos===R&&(this.process(P,0,!1),this.pos=0);else for(;R<=O-A;A+=R)this.process(S,A)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(S){w.default.exists(this),w.default.output(S,this),this.finished=!0;const{buffer:P,h:R}=this;let{pos:O}=this;if(O){for(P[O++]=1;O<16;O++)P[O]=0;this.process(P,0,!0)}this.finalize();let A=0;for(let V=0;V<8;V++)S[A++]=R[V]>>>0,S[A++]=R[V]>>>8;return S}digest(){const{buffer:S,outputLen:P}=this;this.digestInto(S);const R=S.slice(0,P);return this.destroy(),R}}function b(k){const S=(R,O)=>k(O).update((0,g.toBytes)(R)).digest(),P=k(new Uint8Array(32));return S.outputLen=P.outputLen,S.blockLen=P.blockLen,S.create=R=>k(R),S}j.wrapConstructorWithKey=b,j.poly1305=b(k=>new H(k))},70580:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.salsaBasic=void 0;const g=E(32856),w=E(23790),B=(0,w.utf8ToBytes)("expand 16-byte k"),H=(0,w.utf8ToBytes)("expand 32-byte k"),b=(0,w.u32)(B),k=(0,w.u32)(H),S=R=>!(R.byteOffset%4);j.salsaBasic=R=>{const{core:O,rounds:A,counterRight:V,counterLen:U,allow128bitKeys:K,extendNonceFn:Q,blockLen:q}=(0,w.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},R);g.default.number(U),g.default.number(A),g.default.number(q),g.default.bool(V),g.default.bool(K);const Y=q/4;if(q%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(W,re,ie,ae,ue=0)=>{if(g.default.bytes(W),g.default.bytes(re),g.default.bytes(ie),ae||(ae=new Uint8Array(ie.length)),g.default.bytes(ae),g.default.number(ue),ue<0||ue>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(ae.length<ie.length)throw new Error(`Salsa/ChaCha: output (${ae.length}) is shorter than data (${ie.length})`);const ce=[];let pe,ve;if(32===W.length)S(W)?pe=W:(pe=W.slice(),ce.push(pe)),ve=k;else{if(16!==W.length||!K)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${W.length}`);pe=new Uint8Array(32),pe.set(W),pe.set(W,16),ve=b,ce.push(pe)}if(S(re)||(re=re.slice(),ce.push(re)),Q){if(re.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");pe=Q(ve,pe,re.subarray(0,16),new Uint8Array(32)),ce.push(pe),re=re.subarray(16)}const De=16-U;if(re.length!==De)throw new Error(`Salsa/ChaCha: nonce must be ${De} or 16 bytes`);if(12!==De){const L=new Uint8Array(12);L.set(re,V?0:12-re.length),ce.push(re=L)}const C=new Uint8Array(q),s=(0,w.u32)(C),d=(0,w.u32)(pe),h=(0,w.u32)(re),f=S(ie)&&(0,w.u32)(ie),_=S(ae)&&(0,w.u32)(ae);ce.push(s);const I=ie.length;for(let L=0,x=ue;L<I;x++){if(O(ve,d,h,s,x,A),x>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const a=Math.min(q,I-L);if(a===q&&_&&f){const v=L/4;if(L%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let Z=0;Z<Y;Z++)_[v+Z]=f[v+Z]^s[Z];L+=q}else{for(let v=0;v<a;v++)ae[L+v]=ie[L+v]^C[v];L+=a}}for(let L=0;L<ce.length;L++)ce[L].fill(0);return ae}}},59219:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.xchacha20poly1305=j.chacha20poly1305=j._poly1305_aead=j.chacha12=j.chacha8=j.xchacha20=j.chacha20=j.chacha20orig=j.hchacha=void 0;const g=E(23790),w=E(17035),B=E(70580),H=(A,V)=>A<<V|A>>>32-V;function b(A,V,U,K,Q,q=20){let Y=A[0],W=A[1],re=A[2],ie=A[3],ae=V[0],ue=V[1],ce=V[2],pe=V[3],ve=V[4],De=V[5],C=V[6],s=V[7],d=Q,h=U[0],f=U[1],_=U[2],I=Y,L=W,x=re,a=ie,v=ae,Z=ue,z=ce,ee=pe,le=ve,we=De,Me=C,Ze=s,ge=d,me=h,Ue=f,xe=_;for(let be=0;be<q;be+=2)I=I+v|0,ge=H(ge^I,16),le=le+ge|0,v=H(v^le,12),I=I+v|0,ge=H(ge^I,8),le=le+ge|0,v=H(v^le,7),L=L+Z|0,me=H(me^L,16),we=we+me|0,Z=H(Z^we,12),L=L+Z|0,me=H(me^L,8),we=we+me|0,Z=H(Z^we,7),x=x+z|0,Ue=H(Ue^x,16),Me=Me+Ue|0,z=H(z^Me,12),x=x+z|0,Ue=H(Ue^x,8),Me=Me+Ue|0,z=H(z^Me,7),a=a+ee|0,xe=H(xe^a,16),Ze=Ze+xe|0,ee=H(ee^Ze,12),a=a+ee|0,xe=H(xe^a,8),Ze=Ze+xe|0,ee=H(ee^Ze,7),I=I+Z|0,xe=H(xe^I,16),Me=Me+xe|0,Z=H(Z^Me,12),I=I+Z|0,xe=H(xe^I,8),Me=Me+xe|0,Z=H(Z^Me,7),L=L+z|0,ge=H(ge^L,16),Ze=Ze+ge|0,z=H(z^Ze,12),L=L+z|0,ge=H(ge^L,8),Ze=Ze+ge|0,z=H(z^Ze,7),x=x+ee|0,me=H(me^x,16),le=le+me|0,ee=H(ee^le,12),x=x+ee|0,me=H(me^x,8),le=le+me|0,ee=H(ee^le,7),a=a+v|0,Ue=H(Ue^a,16),we=we+Ue|0,v=H(v^we,12),a=a+v|0,Ue=H(Ue^a,8),we=we+Ue|0,v=H(v^we,7);let Ce=0;K[Ce++]=Y+I|0,K[Ce++]=W+L|0,K[Ce++]=re+x|0,K[Ce++]=ie+a|0,K[Ce++]=ae+v|0,K[Ce++]=ue+Z|0,K[Ce++]=ce+z|0,K[Ce++]=pe+ee|0,K[Ce++]=ve+le|0,K[Ce++]=De+we|0,K[Ce++]=C+Me|0,K[Ce++]=s+Ze|0,K[Ce++]=d+ge|0,K[Ce++]=h+me|0,K[Ce++]=f+Ue|0,K[Ce++]=_+xe|0}function k(A,V,U,K){const Q=(0,g.u32)(V),q=(0,g.u32)(U),Y=(0,g.u32)(K);let W=A[0],re=A[1],ie=A[2],ae=A[3],ue=Q[0],ce=Q[1],pe=Q[2],ve=Q[3],De=Q[4],C=Q[5],s=Q[6],d=Q[7],h=q[0],f=q[1],_=q[2],I=q[3];for(let L=0;L<20;L+=2)W=W+ue|0,h=H(h^W,16),De=De+h|0,ue=H(ue^De,12),W=W+ue|0,h=H(h^W,8),De=De+h|0,ue=H(ue^De,7),re=re+ce|0,f=H(f^re,16),C=C+f|0,ce=H(ce^C,12),re=re+ce|0,f=H(f^re,8),C=C+f|0,ce=H(ce^C,7),ie=ie+pe|0,_=H(_^ie,16),s=s+_|0,pe=H(pe^s,12),ie=ie+pe|0,_=H(_^ie,8),s=s+_|0,pe=H(pe^s,7),ae=ae+ve|0,I=H(I^ae,16),d=d+I|0,ve=H(ve^d,12),ae=ae+ve|0,I=H(I^ae,8),d=d+I|0,ve=H(ve^d,7),W=W+ce|0,I=H(I^W,16),s=s+I|0,ce=H(ce^s,12),W=W+ce|0,I=H(I^W,8),s=s+I|0,ce=H(ce^s,7),re=re+pe|0,h=H(h^re,16),d=d+h|0,pe=H(pe^d,12),re=re+pe|0,h=H(h^re,8),d=d+h|0,pe=H(pe^d,7),ie=ie+ve|0,f=H(f^ie,16),De=De+f|0,ve=H(ve^De,12),ie=ie+ve|0,f=H(f^ie,8),De=De+f|0,ve=H(ve^De,7),ae=ae+ue|0,_=H(_^ae,16),C=C+_|0,ue=H(ue^C,12),ae=ae+ue|0,_=H(_^ae,8),C=C+_|0,ue=H(ue^C,7);return Y[0]=W,Y[1]=re,Y[2]=ie,Y[3]=ae,Y[4]=h,Y[5]=f,Y[6]=_,Y[7]=I,K}j.hchacha=k,j.chacha20orig=(0,B.salsaBasic)({core:b,counterRight:!1,counterLen:8}),j.chacha20=(0,B.salsaBasic)({core:b,counterRight:!1,counterLen:4,allow128bitKeys:!1}),j.xchacha20=(0,B.salsaBasic)({core:b,counterRight:!1,counterLen:8,extendNonceFn:k,allow128bitKeys:!1}),j.chacha8=(0,B.salsaBasic)({core:b,counterRight:!1,counterLen:4,rounds:8}),j.chacha12=(0,B.salsaBasic)({core:b,counterRight:!1,counterLen:4,rounds:12});const S=new Uint8Array(16),P=(A,V)=>{A.update(V);const U=V.length%16;U&&A.update(S.subarray(U))},R=(A,V,U,K,Q)=>{const q=A(V,U,new Uint8Array(32)),Y=w.poly1305.create(q);Q&&P(Y,Q),P(Y,K);const W=new Uint8Array(16),re=(0,g.createView)(W);(0,g.setBigUint64)(re,0,BigInt(Q?Q.length:0),!0),(0,g.setBigUint64)(re,8,BigInt(K.length),!0),Y.update(W);const ie=Y.digest();return q.fill(0),ie};j._poly1305_aead=A=>(V,U,K)=>((0,g.ensureBytes)(V,32),(0,g.ensureBytes)(U),{tagLength:16,encrypt:(q,Y)=>{const W=q.length,re=W+16;Y?(0,g.ensureBytes)(Y,re):Y=new Uint8Array(re),A(V,U,q,Y,1);const ie=R(A,V,U,Y.subarray(0,-16),K);return Y.set(ie,W),Y},decrypt:(q,Y)=>{const W=q.length,re=W-16;if(W<16)throw new Error("encrypted data must be at least 16 bytes");Y?(0,g.ensureBytes)(Y,re):Y=new Uint8Array(re);const ie=q.subarray(0,-16),ae=q.subarray(-16),ue=R(A,V,U,ie,K);if(!(0,g.equalBytes)(ae,ue))throw new Error("invalid tag");return A(V,U,ie,Y,1),Y}}),j.chacha20poly1305=(0,j._poly1305_aead)(j.chacha20),j.xchacha20poly1305=(0,j._poly1305_aead)(j.xchacha20)},23790:($e,j,E)=>{"use strict";var g=E(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.setBigUint64=j.Hash=j.equalBytes=j.ensureBytes=j.checkOpts=j.concatBytes=j.toBytes=j.bytesToUtf8=j.utf8ToBytes=j.asyncLoop=j.nextTick=j.hexToBytes=j.bytesToHex=j.isLE=j.createView=j.u32=j.u16=j.u8=void 0;const w=ce=>ce instanceof Uint8Array;if(j.u8=ce=>new Uint8Array(ce.buffer,ce.byteOffset,ce.byteLength),j.u16=ce=>new Uint16Array(ce.buffer,ce.byteOffset,Math.floor(ce.byteLength/2)),j.u32=ce=>new Uint32Array(ce.buffer,ce.byteOffset,Math.floor(ce.byteLength/4)),j.createView=ce=>new DataView(ce.buffer,ce.byteOffset,ce.byteLength),j.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!j.isLE)throw new Error("Non little-endian hardware is not supported");const S=Array.from({length:256},(ce,pe)=>pe.toString(16).padStart(2,"0"));function V(){return(V=g(function*(ce,pe,ve){let De=Date.now();for(let C=0;C<ce;C++){ve(C);const s=Date.now()-De;s>=0&&s<pe||(yield(0,j.nextTick)(),De+=s)}})).apply(this,arguments)}function U(ce){if("string"!=typeof ce)throw new Error("utf8ToBytes expected string, got "+typeof ce);return new Uint8Array((new TextEncoder).encode(ce))}j.bytesToHex=function P(ce){if(!w(ce))throw new Error("Uint8Array expected");let pe="";for(let ve=0;ve<ce.length;ve++)pe+=S[ce[ve]];return pe},j.hexToBytes=function R(ce){if("string"!=typeof ce)throw new Error("hex string expected, got "+typeof ce);const pe=ce.length;if(pe%2)throw new Error("padded hex string expected, got unpadded hex of length "+pe);const ve=new Uint8Array(pe/2);for(let De=0;De<ve.length;De++){const C=2*De,s=ce.slice(C,C+2),d=Number.parseInt(s,16);if(Number.isNaN(d)||d<0)throw new Error("Invalid byte sequence");ve[De]=d}return ve},j.nextTick=function(){var ce=g(function*(){});return function(){return ce.apply(this,arguments)}}(),j.asyncLoop=function A(ce,pe,ve){return V.apply(this,arguments)},j.utf8ToBytes=U,j.bytesToUtf8=function K(ce){return(new TextDecoder).decode(ce)},j.toBytes=function Q(ce){if("string"==typeof ce&&(ce=U(ce)),!w(ce))throw new Error("expected Uint8Array, got "+typeof ce);return ce},j.concatBytes=function q(...ce){const pe=new Uint8Array(ce.reduce((De,C)=>De+C.length,0));let ve=0;return ce.forEach(De=>{if(!w(De))throw new Error("Uint8Array expected");pe.set(De,ve),ve+=De.length}),pe},j.checkOpts=function W(ce,pe){if(void 0!==pe&&("object"!=typeof pe||!(ce=>"[object Object]"===Object.prototype.toString.call(ce)&&ce.constructor===Object)(pe)))throw new Error("options must be object or undefined");return Object.assign(ce,pe)},j.ensureBytes=function re(ce,pe){if(!(ce instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof pe&&ce.length!==pe)throw new Error(`Uint8Array length ${pe} expected`)},j.equalBytes=function ie(ce,pe){if(ce.length!==pe.length)throw new Error("equalBytes: Different size of Uint8Arrays");let ve=!0;for(let De=0;De<ce.length;De++)ve&&(ve=ce[De]===pe[De]);return ve},j.Hash=class ae{},j.setBigUint64=function ue(ce,pe,ve,De){if("function"==typeof ce.setBigUint64)return ce.setBigUint64(pe,ve,De);const C=BigInt(32),s=BigInt(4294967295),d=Number(ve>>C&s),h=Number(ve&s),_=De?0:4;ce.setUint32(pe+(De?4:0),d,De),ce.setUint32(pe+_,h,De)}},89742:($e,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.crypto=void 0,j.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:($e,j,E)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getWebcryptoSubtle=j.randomBytes=void 0;const g=E(89742);j.randomBytes=function w(H=32){if(g.crypto&&"function"==typeof g.crypto.getRandomValues)return g.crypto.getRandomValues(new Uint8Array(H));throw new Error("crypto.getRandomValues must be defined")},j.getWebcryptoSubtle=function B(){if(g.crypto&&"object"==typeof g.crypto.subtle&&null!=g.crypto.subtle)return g.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:($e,j,E)=>{"use strict";var g=j;g.version=E(1636).rE,g.utils=E(3136),g.rand=E(35294),g.curve=E(8729),g.curves=E(23401),g.ec=E(29042),g.eddsa=E(83045)},98828:($e,j,E)=>{"use strict";var g=E(88723),w=E(3136),B=w.getNAF,H=w.getJSF,b=w.assert;function k(P,R){this.type=P,this.p=new g(R.p,16),this.red=R.prime?g.red(R.prime):g.mont(this.p),this.zero=new g(0).toRed(this.red),this.one=new g(1).toRed(this.red),this.two=new g(2).toRed(this.red),this.n=R.n&&new g(R.n,16),this.g=R.g&&this.pointFromJSON(R.g,R.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var O=this.n&&this.p.div(this.n);!O||O.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function S(P,R){this.curve=P,this.type=R,this.precomputed=null}$e.exports=k,k.prototype.point=function(){throw new Error("Not implemented")},k.prototype.validate=function(){throw new Error("Not implemented")},k.prototype._fixedNafMul=function(R,O){b(R.precomputed);var A=R._getDoubles(),V=B(O,1,this._bitLength),U=(1<<A.step+1)-(A.step%2==0?2:1);U/=3;var Q,q,K=[];for(Q=0;Q<V.length;Q+=A.step){q=0;for(var Y=Q+A.step-1;Y>=Q;Y--)q=(q<<1)+V[Y];K.push(q)}for(var W=this.jpoint(null,null,null),re=this.jpoint(null,null,null),ie=U;ie>0;ie--){for(Q=0;Q<K.length;Q++)(q=K[Q])===ie?re=re.mixedAdd(A.points[Q]):q===-ie&&(re=re.mixedAdd(A.points[Q].neg()));W=W.add(re)}return W.toP()},k.prototype._wnafMul=function(R,O){for(var A=4,V=R._getNAFPoints(A),U=V.points,K=B(O,A=V.wnd,this._bitLength),Q=this.jpoint(null,null,null),q=K.length-1;q>=0;q--){for(var Y=0;q>=0&&0===K[q];q--)Y++;if(q>=0&&Y++,Q=Q.dblp(Y),q<0)break;var W=K[q];b(0!==W),Q="affine"===R.type?Q.mixedAdd(W>0?U[W-1>>1]:U[-W-1>>1].neg()):Q.add(W>0?U[W-1>>1]:U[-W-1>>1].neg())}return"affine"===R.type?Q.toP():Q},k.prototype._wnafMulAdd=function(R,O,A,V,U){var W,re,ie,K=this._wnafT1,Q=this._wnafT2,q=this._wnafT3,Y=0;for(W=0;W<V;W++){var ae=(ie=O[W])._getNAFPoints(R);K[W]=ae.wnd,Q[W]=ae.points}for(W=V-1;W>=1;W-=2){var ue=W-1,ce=W;if(1===K[ue]&&1===K[ce]){var pe=[O[ue],null,null,O[ce]];0===O[ue].y.cmp(O[ce].y)?(pe[1]=O[ue].add(O[ce]),pe[2]=O[ue].toJ().mixedAdd(O[ce].neg())):0===O[ue].y.cmp(O[ce].y.redNeg())?(pe[1]=O[ue].toJ().mixedAdd(O[ce]),pe[2]=O[ue].add(O[ce].neg())):(pe[1]=O[ue].toJ().mixedAdd(O[ce]),pe[2]=O[ue].toJ().mixedAdd(O[ce].neg()));var ve=[-3,-1,-5,-7,0,7,5,1,3],De=H(A[ue],A[ce]);for(Y=Math.max(De[0].length,Y),q[ue]=new Array(Y),q[ce]=new Array(Y),re=0;re<Y;re++)q[ue][re]=ve[3*(1+(0|De[0][re]))+(1+(0|De[1][re]))],q[ce][re]=0,Q[ue]=pe}else q[ue]=B(A[ue],K[ue],this._bitLength),q[ce]=B(A[ce],K[ce],this._bitLength),Y=Math.max(q[ue].length,Y),Y=Math.max(q[ce].length,Y)}var d=this.jpoint(null,null,null),h=this._wnafT4;for(W=Y;W>=0;W--){for(var f=0;W>=0;){var _=!0;for(re=0;re<V;re++)h[re]=0|q[re][W],0!==h[re]&&(_=!1);if(!_)break;f++,W--}if(W>=0&&f++,d=d.dblp(f),W<0)break;for(re=0;re<V;re++){var I=h[re];0!==I&&(I>0?ie=Q[re][I-1>>1]:I<0&&(ie=Q[re][-I-1>>1].neg()),d="affine"===ie.type?d.mixedAdd(ie):d.add(ie))}}for(W=0;W<V;W++)Q[W]=null;return U?d:d.toP()},k.BasePoint=S,S.prototype.eq=function(){throw new Error("Not implemented")},S.prototype.validate=function(){return this.curve.validate(this)},k.prototype.decodePoint=function(R,O){R=w.toArray(R,O);var A=this.p.byteLength();if((4===R[0]||6===R[0]||7===R[0])&&R.length-1==2*A)return 6===R[0]?b(R[R.length-1]%2==0):7===R[0]&&b(R[R.length-1]%2==1),this.point(R.slice(1,1+A),R.slice(1+A,1+2*A));if((2===R[0]||3===R[0])&&R.length-1===A)return this.pointFromX(R.slice(1,1+A),3===R[0]);throw new Error("Unknown point format")},S.prototype.encodeCompressed=function(R){return this.encode(R,!0)},S.prototype._encode=function(R){var O=this.curve.p.byteLength(),A=this.getX().toArray("be",O);return R?[this.getY().isEven()?2:3].concat(A):[4].concat(A,this.getY().toArray("be",O))},S.prototype.encode=function(R,O){return w.encode(this._encode(O),R)},S.prototype.precompute=function(R){if(this.precomputed)return this;var O={doubles:null,naf:null,beta:null};return O.naf=this._getNAFPoints(8),O.doubles=this._getDoubles(4,R),O.beta=this._getBeta(),this.precomputed=O,this},S.prototype._hasDoubles=function(R){if(!this.precomputed)return!1;var O=this.precomputed.doubles;return!!O&&O.points.length>=Math.ceil((R.bitLength()+1)/O.step)},S.prototype._getDoubles=function(R,O){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var A=[this],V=this,U=0;U<O;U+=R){for(var K=0;K<R;K++)V=V.dbl();A.push(V)}return{step:R,points:A}},S.prototype._getNAFPoints=function(R){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var O=[this],A=(1<<R)-1,V=1===A?null:this.dbl(),U=1;U<A;U++)O[U]=O[U-1].add(V);return{wnd:R,points:O}},S.prototype._getBeta=function(){return null},S.prototype.dblp=function(R){for(var O=this,A=0;A<R;A++)O=O.dbl();return O}},55537:($e,j,E)=>{"use strict";var g=E(3136),w=E(88723),B=E(71993),H=E(98828),b=g.assert;function k(P){this.twisted=1!=(0|P.a),this.mOneA=this.twisted&&-1==(0|P.a),this.extended=this.mOneA,H.call(this,"edwards",P),this.a=new w(P.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new w(P.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new w(P.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),b(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|P.c)}function S(P,R,O,A,V){H.BasePoint.call(this,P,"projective"),null===R&&null===O&&null===A?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new w(R,16),this.y=new w(O,16),this.z=A?new w(A,16):this.curve.one,this.t=V&&new w(V,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}B(k,H),$e.exports=k,k.prototype._mulA=function(R){return this.mOneA?R.redNeg():this.a.redMul(R)},k.prototype._mulC=function(R){return this.oneC?R:this.c.redMul(R)},k.prototype.jpoint=function(R,O,A,V){return this.point(R,O,A,V)},k.prototype.pointFromX=function(R,O){(R=new w(R,16)).red||(R=R.toRed(this.red));var A=R.redSqr(),V=this.c2.redSub(this.a.redMul(A)),U=this.one.redSub(this.c2.redMul(this.d).redMul(A)),K=V.redMul(U.redInvm()),Q=K.redSqrt();if(0!==Q.redSqr().redSub(K).cmp(this.zero))throw new Error("invalid point");var q=Q.fromRed().isOdd();return(O&&!q||!O&&q)&&(Q=Q.redNeg()),this.point(R,Q)},k.prototype.pointFromY=function(R,O){(R=new w(R,16)).red||(R=R.toRed(this.red));var A=R.redSqr(),V=A.redSub(this.c2),U=A.redMul(this.d).redMul(this.c2).redSub(this.a),K=V.redMul(U.redInvm());if(0===K.cmp(this.zero)){if(O)throw new Error("invalid point");return this.point(this.zero,R)}var Q=K.redSqrt();if(0!==Q.redSqr().redSub(K).cmp(this.zero))throw new Error("invalid point");return Q.fromRed().isOdd()!==O&&(Q=Q.redNeg()),this.point(Q,R)},k.prototype.validate=function(R){if(R.isInfinity())return!0;R.normalize();var O=R.x.redSqr(),A=R.y.redSqr(),V=O.redMul(this.a).redAdd(A),U=this.c2.redMul(this.one.redAdd(this.d.redMul(O).redMul(A)));return 0===V.cmp(U)},B(S,H.BasePoint),k.prototype.pointFromJSON=function(R){return S.fromJSON(this,R)},k.prototype.point=function(R,O,A,V){return new S(this,R,O,A,V)},S.fromJSON=function(R,O){return new S(R,O[0],O[1],O[2])},S.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},S.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},S.prototype._extDbl=function(){var R=this.x.redSqr(),O=this.y.redSqr(),A=this.z.redSqr();A=A.redIAdd(A);var V=this.curve._mulA(R),U=this.x.redAdd(this.y).redSqr().redISub(R).redISub(O),K=V.redAdd(O),Q=K.redSub(A),q=V.redSub(O),Y=U.redMul(Q),W=K.redMul(q),re=U.redMul(q),ie=Q.redMul(K);return this.curve.point(Y,W,ie,re)},S.prototype._projDbl=function(){var V,U,K,Q,q,Y,R=this.x.redAdd(this.y).redSqr(),O=this.x.redSqr(),A=this.y.redSqr();if(this.curve.twisted){var W=(Q=this.curve._mulA(O)).redAdd(A);this.zOne?(V=R.redSub(O).redSub(A).redMul(W.redSub(this.curve.two)),U=W.redMul(Q.redSub(A)),K=W.redSqr().redSub(W).redSub(W)):(q=this.z.redSqr(),Y=W.redSub(q).redISub(q),V=R.redSub(O).redISub(A).redMul(Y),U=W.redMul(Q.redSub(A)),K=W.redMul(Y))}else Q=O.redAdd(A),q=this.curve._mulC(this.z).redSqr(),Y=Q.redSub(q).redSub(q),V=this.curve._mulC(R.redISub(Q)).redMul(Y),U=this.curve._mulC(Q).redMul(O.redISub(A)),K=Q.redMul(Y);return this.curve.point(V,U,K)},S.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},S.prototype._extAdd=function(R){var O=this.y.redSub(this.x).redMul(R.y.redSub(R.x)),A=this.y.redAdd(this.x).redMul(R.y.redAdd(R.x)),V=this.t.redMul(this.curve.dd).redMul(R.t),U=this.z.redMul(R.z.redAdd(R.z)),K=A.redSub(O),Q=U.redSub(V),q=U.redAdd(V),Y=A.redAdd(O),W=K.redMul(Q),re=q.redMul(Y),ie=K.redMul(Y),ae=Q.redMul(q);return this.curve.point(W,re,ae,ie)},S.prototype._projAdd=function(R){var re,ie,O=this.z.redMul(R.z),A=O.redSqr(),V=this.x.redMul(R.x),U=this.y.redMul(R.y),K=this.curve.d.redMul(V).redMul(U),Q=A.redSub(K),q=A.redAdd(K),Y=this.x.redAdd(this.y).redMul(R.x.redAdd(R.y)).redISub(V).redISub(U),W=O.redMul(Q).redMul(Y);return this.curve.twisted?(re=O.redMul(q).redMul(U.redSub(this.curve._mulA(V))),ie=Q.redMul(q)):(re=O.redMul(q).redMul(U.redSub(V)),ie=this.curve._mulC(Q).redMul(q)),this.curve.point(W,re,ie)},S.prototype.add=function(R){return this.isInfinity()?R:R.isInfinity()?this:this.curve.extended?this._extAdd(R):this._projAdd(R)},S.prototype.mul=function(R){return this._hasDoubles(R)?this.curve._fixedNafMul(this,R):this.curve._wnafMul(this,R)},S.prototype.mulAdd=function(R,O,A){return this.curve._wnafMulAdd(1,[this,O],[R,A],2,!1)},S.prototype.jmulAdd=function(R,O,A){return this.curve._wnafMulAdd(1,[this,O],[R,A],2,!0)},S.prototype.normalize=function(){if(this.zOne)return this;var R=this.z.redInvm();return this.x=this.x.redMul(R),this.y=this.y.redMul(R),this.t&&(this.t=this.t.redMul(R)),this.z=this.curve.one,this.zOne=!0,this},S.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},S.prototype.getX=function(){return this.normalize(),this.x.fromRed()},S.prototype.getY=function(){return this.normalize(),this.y.fromRed()},S.prototype.eq=function(R){return this===R||0===this.getX().cmp(R.getX())&&0===this.getY().cmp(R.getY())},S.prototype.eqXToP=function(R){var O=R.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(O))return!0;for(var A=R.clone(),V=this.curve.redN.redMul(this.z);;){if(A.iadd(this.curve.n),A.cmp(this.curve.p)>=0)return!1;if(O.redIAdd(V),0===this.x.cmp(O))return!0}},S.prototype.toP=S.prototype.normalize,S.prototype.mixedAdd=S.prototype.add},8729:($e,j,E)=>{"use strict";var g=j;g.base=E(98828),g.short=E(68075),g.mont=E(64947),g.edwards=E(55537)},64947:($e,j,E)=>{"use strict";var g=E(88723),w=E(71993),B=E(98828),H=E(3136);function b(S){B.call(this,"mont",S),this.a=new g(S.a,16).toRed(this.red),this.b=new g(S.b,16).toRed(this.red),this.i4=new g(4).toRed(this.red).redInvm(),this.two=new g(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function k(S,P,R){B.BasePoint.call(this,S,"projective"),null===P&&null===R?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new g(P,16),this.z=new g(R,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}w(b,B),$e.exports=b,b.prototype.validate=function(P){var R=P.normalize().x,O=R.redSqr(),A=O.redMul(R).redAdd(O.redMul(this.a)).redAdd(R);return 0===A.redSqrt().redSqr().cmp(A)},w(k,B.BasePoint),b.prototype.decodePoint=function(P,R){return this.point(H.toArray(P,R),1)},b.prototype.point=function(P,R){return new k(this,P,R)},b.prototype.pointFromJSON=function(P){return k.fromJSON(this,P)},k.prototype.precompute=function(){},k.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},k.fromJSON=function(P,R){return new k(P,R[0],R[1]||P.one)},k.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},k.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},k.prototype.dbl=function(){var R=this.x.redAdd(this.z).redSqr(),A=this.x.redSub(this.z).redSqr(),V=R.redSub(A),U=R.redMul(A),K=V.redMul(A.redAdd(this.curve.a24.redMul(V)));return this.curve.point(U,K)},k.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.diffAdd=function(P,R){var O=this.x.redAdd(this.z),A=this.x.redSub(this.z),V=P.x.redAdd(P.z),K=P.x.redSub(P.z).redMul(O),Q=V.redMul(A),q=R.z.redMul(K.redAdd(Q).redSqr()),Y=R.x.redMul(K.redISub(Q).redSqr());return this.curve.point(q,Y)},k.prototype.mul=function(P){for(var R=P.clone(),O=this,A=this.curve.point(null,null),U=[];0!==R.cmpn(0);R.iushrn(1))U.push(R.andln(1));for(var K=U.length-1;K>=0;K--)0===U[K]?(O=O.diffAdd(A,this),A=A.dbl()):(A=O.diffAdd(A,this),O=O.dbl());return A},k.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.eq=function(P){return 0===this.getX().cmp(P.getX())},k.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},k.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:($e,j,E)=>{"use strict";var g=E(3136),w=E(88723),B=E(71993),H=E(98828),b=g.assert;function k(R){H.call(this,"short",R),this.a=new w(R.a,16).toRed(this.red),this.b=new w(R.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(R),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function S(R,O,A,V){H.BasePoint.call(this,R,"affine"),null===O&&null===A?(this.x=null,this.y=null,this.inf=!0):(this.x=new w(O,16),this.y=new w(A,16),V&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function P(R,O,A,V){H.BasePoint.call(this,R,"jacobian"),null===O&&null===A&&null===V?(this.x=this.curve.one,this.y=this.curve.one,this.z=new w(0)):(this.x=new w(O,16),this.y=new w(A,16),this.z=new w(V,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}B(k,H),$e.exports=k,k.prototype._getEndomorphism=function(O){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var A,V;if(O.beta)A=new w(O.beta,16).toRed(this.red);else{var U=this._getEndoRoots(this.p);A=(A=U[0].cmp(U[1])<0?U[0]:U[1]).toRed(this.red)}if(O.lambda)V=new w(O.lambda,16);else{var K=this._getEndoRoots(this.n);0===this.g.mul(K[0]).x.cmp(this.g.x.redMul(A))?V=K[0]:b(0===this.g.mul(V=K[1]).x.cmp(this.g.x.redMul(A)))}return{beta:A,lambda:V,basis:O.basis?O.basis.map(function(q){return{a:new w(q.a,16),b:new w(q.b,16)}}):this._getEndoBasis(V)}}},k.prototype._getEndoRoots=function(O){var A=O===this.p?this.red:w.mont(O),V=new w(2).toRed(A).redInvm(),U=V.redNeg(),K=new w(3).toRed(A).redNeg().redSqrt().redMul(V);return[U.redAdd(K).fromRed(),U.redSub(K).fromRed()]},k.prototype._getEndoBasis=function(O){for(var W,re,ie,ae,ue,ce,pe,De,C,A=this.n.ushrn(Math.floor(this.n.bitLength()/2)),V=O,U=this.n.clone(),K=new w(1),Q=new w(0),q=new w(0),Y=new w(1),ve=0;0!==V.cmpn(0);){var s=U.div(V);De=U.sub(s.mul(V)),C=q.sub(s.mul(K));var d=Y.sub(s.mul(Q));if(!ie&&De.cmp(A)<0)W=pe.neg(),re=K,ie=De.neg(),ae=C;else if(ie&&2==++ve)break;pe=De,U=V,V=De,q=K,K=C,Y=Q,Q=d}ue=De.neg(),ce=C;var h=ie.sqr().add(ae.sqr());return ue.sqr().add(ce.sqr()).cmp(h)>=0&&(ue=W,ce=re),ie.negative&&(ie=ie.neg(),ae=ae.neg()),ue.negative&&(ue=ue.neg(),ce=ce.neg()),[{a:ie,b:ae},{a:ue,b:ce}]},k.prototype._endoSplit=function(O){var A=this.endo.basis,V=A[0],U=A[1],K=U.b.mul(O).divRound(this.n),Q=V.b.neg().mul(O).divRound(this.n),q=K.mul(V.a),Y=Q.mul(U.a),W=K.mul(V.b),re=Q.mul(U.b);return{k1:O.sub(q).sub(Y),k2:W.add(re).neg()}},k.prototype.pointFromX=function(O,A){(O=new w(O,16)).red||(O=O.toRed(this.red));var V=O.redSqr().redMul(O).redIAdd(O.redMul(this.a)).redIAdd(this.b),U=V.redSqrt();if(0!==U.redSqr().redSub(V).cmp(this.zero))throw new Error("invalid point");var K=U.fromRed().isOdd();return(A&&!K||!A&&K)&&(U=U.redNeg()),this.point(O,U)},k.prototype.validate=function(O){if(O.inf)return!0;var A=O.x,V=O.y,U=this.a.redMul(A),K=A.redSqr().redMul(A).redIAdd(U).redIAdd(this.b);return 0===V.redSqr().redISub(K).cmpn(0)},k.prototype._endoWnafMulAdd=function(O,A,V){for(var U=this._endoWnafT1,K=this._endoWnafT2,Q=0;Q<O.length;Q++){var q=this._endoSplit(A[Q]),Y=O[Q],W=Y._getBeta();q.k1.negative&&(q.k1.ineg(),Y=Y.neg(!0)),q.k2.negative&&(q.k2.ineg(),W=W.neg(!0)),U[2*Q]=Y,U[2*Q+1]=W,K[2*Q]=q.k1,K[2*Q+1]=q.k2}for(var re=this._wnafMulAdd(1,U,K,2*Q,V),ie=0;ie<2*Q;ie++)U[ie]=null,K[ie]=null;return re},B(S,H.BasePoint),k.prototype.point=function(O,A,V){return new S(this,O,A,V)},k.prototype.pointFromJSON=function(O,A){return S.fromJSON(this,O,A)},S.prototype._getBeta=function(){if(this.curve.endo){var O=this.precomputed;if(O&&O.beta)return O.beta;var A=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(O){var V=this.curve,U=function(K){return V.point(K.x.redMul(V.endo.beta),K.y)};O.beta=A,A.precomputed={beta:null,naf:O.naf&&{wnd:O.naf.wnd,points:O.naf.points.map(U)},doubles:O.doubles&&{step:O.doubles.step,points:O.doubles.points.map(U)}}}return A}},S.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},S.fromJSON=function(O,A,V){"string"==typeof A&&(A=JSON.parse(A));var U=O.point(A[0],A[1],V);if(!A[2])return U;function K(q){return O.point(q[0],q[1],V)}var Q=A[2];return U.precomputed={beta:null,doubles:Q.doubles&&{step:Q.doubles.step,points:[U].concat(Q.doubles.points.map(K))},naf:Q.naf&&{wnd:Q.naf.wnd,points:[U].concat(Q.naf.points.map(K))}},U},S.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},S.prototype.isInfinity=function(){return this.inf},S.prototype.add=function(O){if(this.inf)return O;if(O.inf)return this;if(this.eq(O))return this.dbl();if(this.neg().eq(O))return this.curve.point(null,null);if(0===this.x.cmp(O.x))return this.curve.point(null,null);var A=this.y.redSub(O.y);0!==A.cmpn(0)&&(A=A.redMul(this.x.redSub(O.x).redInvm()));var V=A.redSqr().redISub(this.x).redISub(O.x),U=A.redMul(this.x.redSub(V)).redISub(this.y);return this.curve.point(V,U)},S.prototype.dbl=function(){if(this.inf)return this;var O=this.y.redAdd(this.y);if(0===O.cmpn(0))return this.curve.point(null,null);var A=this.curve.a,V=this.x.redSqr(),U=O.redInvm(),K=V.redAdd(V).redIAdd(V).redIAdd(A).redMul(U),Q=K.redSqr().redISub(this.x.redAdd(this.x)),q=K.redMul(this.x.redSub(Q)).redISub(this.y);return this.curve.point(Q,q)},S.prototype.getX=function(){return this.x.fromRed()},S.prototype.getY=function(){return this.y.fromRed()},S.prototype.mul=function(O){return O=new w(O,16),this.isInfinity()?this:this._hasDoubles(O)?this.curve._fixedNafMul(this,O):this.curve.endo?this.curve._endoWnafMulAdd([this],[O]):this.curve._wnafMul(this,O)},S.prototype.mulAdd=function(O,A,V){var U=[this,A],K=[O,V];return this.curve.endo?this.curve._endoWnafMulAdd(U,K):this.curve._wnafMulAdd(1,U,K,2)},S.prototype.jmulAdd=function(O,A,V){var U=[this,A],K=[O,V];return this.curve.endo?this.curve._endoWnafMulAdd(U,K,!0):this.curve._wnafMulAdd(1,U,K,2,!0)},S.prototype.eq=function(O){return this===O||this.inf===O.inf&&(this.inf||0===this.x.cmp(O.x)&&0===this.y.cmp(O.y))},S.prototype.neg=function(O){if(this.inf)return this;var A=this.curve.point(this.x,this.y.redNeg());if(O&&this.precomputed){var V=this.precomputed,U=function(K){return K.neg()};A.precomputed={naf:V.naf&&{wnd:V.naf.wnd,points:V.naf.points.map(U)},doubles:V.doubles&&{step:V.doubles.step,points:V.doubles.points.map(U)}}}return A},S.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},B(P,H.BasePoint),k.prototype.jpoint=function(O,A,V){return new P(this,O,A,V)},P.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var O=this.z.redInvm(),A=O.redSqr(),V=this.x.redMul(A),U=this.y.redMul(A).redMul(O);return this.curve.point(V,U)},P.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},P.prototype.add=function(O){if(this.isInfinity())return O;if(O.isInfinity())return this;var A=O.z.redSqr(),V=this.z.redSqr(),U=this.x.redMul(A),K=O.x.redMul(V),Q=this.y.redMul(A.redMul(O.z)),q=O.y.redMul(V.redMul(this.z)),Y=U.redSub(K),W=Q.redSub(q);if(0===Y.cmpn(0))return 0!==W.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var re=Y.redSqr(),ie=re.redMul(Y),ae=U.redMul(re),ue=W.redSqr().redIAdd(ie).redISub(ae).redISub(ae),ce=W.redMul(ae.redISub(ue)).redISub(Q.redMul(ie)),pe=this.z.redMul(O.z).redMul(Y);return this.curve.jpoint(ue,ce,pe)},P.prototype.mixedAdd=function(O){if(this.isInfinity())return O.toJ();if(O.isInfinity())return this;var A=this.z.redSqr(),V=this.x,U=O.x.redMul(A),K=this.y,Q=O.y.redMul(A).redMul(this.z),q=V.redSub(U),Y=K.redSub(Q);if(0===q.cmpn(0))return 0!==Y.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var W=q.redSqr(),re=W.redMul(q),ie=V.redMul(W),ae=Y.redSqr().redIAdd(re).redISub(ie).redISub(ie),ue=Y.redMul(ie.redISub(ae)).redISub(K.redMul(re)),ce=this.z.redMul(q);return this.curve.jpoint(ae,ue,ce)},P.prototype.dblp=function(O){if(0===O)return this;if(this.isInfinity())return this;if(!O)return this.dbl();var A;if(this.curve.zeroA||this.curve.threeA){var V=this;for(A=0;A<O;A++)V=V.dbl();return V}var U=this.curve.a,K=this.curve.tinv,Q=this.x,q=this.y,Y=this.z,W=Y.redSqr().redSqr(),re=q.redAdd(q);for(A=0;A<O;A++){var ie=Q.redSqr(),ae=re.redSqr(),ue=ae.redSqr(),ce=ie.redAdd(ie).redIAdd(ie).redIAdd(U.redMul(W)),pe=Q.redMul(ae),ve=ce.redSqr().redISub(pe.redAdd(pe)),De=pe.redISub(ve),C=ce.redMul(De);C=C.redIAdd(C).redISub(ue);var s=re.redMul(Y);A+1<O&&(W=W.redMul(ue)),Q=ve,Y=s,re=C}return this.curve.jpoint(Q,re.redMul(K),Y)},P.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},P.prototype._zeroDbl=function(){var O,A,V;if(this.zOne){var U=this.x.redSqr(),K=this.y.redSqr(),Q=K.redSqr(),q=this.x.redAdd(K).redSqr().redISub(U).redISub(Q);q=q.redIAdd(q);var Y=U.redAdd(U).redIAdd(U),W=Y.redSqr().redISub(q).redISub(q),re=Q.redIAdd(Q);re=(re=re.redIAdd(re)).redIAdd(re),O=W,A=Y.redMul(q.redISub(W)).redISub(re),V=this.y.redAdd(this.y)}else{var ie=this.x.redSqr(),ae=this.y.redSqr(),ue=ae.redSqr(),ce=this.x.redAdd(ae).redSqr().redISub(ie).redISub(ue);ce=ce.redIAdd(ce);var pe=ie.redAdd(ie).redIAdd(ie),ve=pe.redSqr(),De=ue.redIAdd(ue);De=(De=De.redIAdd(De)).redIAdd(De),O=ve.redISub(ce).redISub(ce),A=pe.redMul(ce.redISub(O)).redISub(De),V=(V=this.y.redMul(this.z)).redIAdd(V)}return this.curve.jpoint(O,A,V)},P.prototype._threeDbl=function(){var O,A,V;if(this.zOne){var U=this.x.redSqr(),K=this.y.redSqr(),Q=K.redSqr(),q=this.x.redAdd(K).redSqr().redISub(U).redISub(Q);q=q.redIAdd(q);var Y=U.redAdd(U).redIAdd(U).redIAdd(this.curve.a),W=Y.redSqr().redISub(q).redISub(q);O=W;var re=Q.redIAdd(Q);re=(re=re.redIAdd(re)).redIAdd(re),A=Y.redMul(q.redISub(W)).redISub(re),V=this.y.redAdd(this.y)}else{var ie=this.z.redSqr(),ae=this.y.redSqr(),ue=this.x.redMul(ae),ce=this.x.redSub(ie).redMul(this.x.redAdd(ie));ce=ce.redAdd(ce).redIAdd(ce);var pe=ue.redIAdd(ue),ve=(pe=pe.redIAdd(pe)).redAdd(pe);O=ce.redSqr().redISub(ve),V=this.y.redAdd(this.z).redSqr().redISub(ae).redISub(ie);var De=ae.redSqr();De=(De=(De=De.redIAdd(De)).redIAdd(De)).redIAdd(De),A=ce.redMul(pe.redISub(O)).redISub(De)}return this.curve.jpoint(O,A,V)},P.prototype._dbl=function(){var O=this.curve.a,A=this.x,V=this.y,U=this.z,K=U.redSqr().redSqr(),Q=A.redSqr(),q=V.redSqr(),Y=Q.redAdd(Q).redIAdd(Q).redIAdd(O.redMul(K)),W=A.redAdd(A),re=(W=W.redIAdd(W)).redMul(q),ie=Y.redSqr().redISub(re.redAdd(re)),ae=re.redISub(ie),ue=q.redSqr();ue=(ue=(ue=ue.redIAdd(ue)).redIAdd(ue)).redIAdd(ue);var ce=Y.redMul(ae).redISub(ue),pe=V.redAdd(V).redMul(U);return this.curve.jpoint(ie,ce,pe)},P.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var O=this.x.redSqr(),A=this.y.redSqr(),V=this.z.redSqr(),U=A.redSqr(),K=O.redAdd(O).redIAdd(O),Q=K.redSqr(),q=this.x.redAdd(A).redSqr().redISub(O).redISub(U),Y=(q=(q=(q=q.redIAdd(q)).redAdd(q).redIAdd(q)).redISub(Q)).redSqr(),W=U.redIAdd(U);W=(W=(W=W.redIAdd(W)).redIAdd(W)).redIAdd(W);var re=K.redIAdd(q).redSqr().redISub(Q).redISub(Y).redISub(W),ie=A.redMul(re);ie=(ie=ie.redIAdd(ie)).redIAdd(ie);var ae=this.x.redMul(Y).redISub(ie);ae=(ae=ae.redIAdd(ae)).redIAdd(ae);var ue=this.y.redMul(re.redMul(W.redISub(re)).redISub(q.redMul(Y)));ue=(ue=(ue=ue.redIAdd(ue)).redIAdd(ue)).redIAdd(ue);var ce=this.z.redAdd(q).redSqr().redISub(V).redISub(Y);return this.curve.jpoint(ae,ue,ce)},P.prototype.mul=function(O,A){return O=new w(O,A),this.curve._wnafMul(this,O)},P.prototype.eq=function(O){if("affine"===O.type)return this.eq(O.toJ());if(this===O)return!0;var A=this.z.redSqr(),V=O.z.redSqr();if(0!==this.x.redMul(V).redISub(O.x.redMul(A)).cmpn(0))return!1;var U=A.redMul(this.z),K=V.redMul(O.z);return 0===this.y.redMul(K).redISub(O.y.redMul(U)).cmpn(0)},P.prototype.eqXToP=function(O){var A=this.z.redSqr(),V=O.toRed(this.curve.red).redMul(A);if(0===this.x.cmp(V))return!0;for(var U=O.clone(),K=this.curve.redN.redMul(A);;){if(U.iadd(this.curve.n),U.cmp(this.curve.p)>=0)return!1;if(V.redIAdd(K),0===this.x.cmp(V))return!0}},P.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},P.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:($e,j,E)=>{"use strict";var P,g=j,w=E(52529),B=E(8729),b=E(3136).assert;function k(R){this.curve="short"===R.type?new B.short(R):"edwards"===R.type?new B.edwards(R):new B.mont(R),this.g=this.curve.g,this.n=this.curve.n,this.hash=R.hash,b(this.g.validate(),"Invalid curve"),b(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function S(R,O){Object.defineProperty(g,R,{configurable:!0,enumerable:!0,get:function(){var A=new k(O);return Object.defineProperty(g,R,{configurable:!0,enumerable:!0,value:A}),A}})}g.PresetCurve=k,S("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:w.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),S("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:w.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),S("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:w.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),S("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:w.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),S("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:w.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),S("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:w.sha256,gRed:!1,g:["9"]}),S("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:w.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{P=E(51416)}catch{P=void 0}S("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:w.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",P]})},29042:($e,j,E)=>{"use strict";var g=E(88723),w=E(33556),B=E(3136),H=E(23401),b=E(35294),k=B.assert,S=E(60541),P=E(40484);function R(O){if(!(this instanceof R))return new R(O);"string"==typeof O&&(k(Object.prototype.hasOwnProperty.call(H,O),"Unknown curve "+O),O=H[O]),O instanceof H.PresetCurve&&(O={curve:O}),this.curve=O.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=O.curve.g,this.g.precompute(O.curve.n.bitLength()+1),this.hash=O.hash||O.curve.hash}$e.exports=R,R.prototype.keyPair=function(A){return new S(this,A)},R.prototype.keyFromPrivate=function(A,V){return S.fromPrivate(this,A,V)},R.prototype.keyFromPublic=function(A,V){return S.fromPublic(this,A,V)},R.prototype.genKeyPair=function(A){A||(A={});for(var V=new w({hash:this.hash,pers:A.pers,persEnc:A.persEnc||"utf8",entropy:A.entropy||b(this.hash.hmacStrength),entropyEnc:A.entropy&&A.entropyEnc||"utf8",nonce:this.n.toArray()}),U=this.n.byteLength(),K=this.n.sub(new g(2));;){var Q=new g(V.generate(U));if(!(Q.cmp(K)>0))return Q.iaddn(1),this.keyFromPrivate(Q)}},R.prototype._truncateToN=function(A,V){var U=8*A.byteLength()-this.n.bitLength();return U>0&&(A=A.ushrn(U)),!V&&A.cmp(this.n)>=0?A.sub(this.n):A},R.prototype.sign=function(A,V,U,K){"object"==typeof U&&(K=U,U=null),K||(K={}),V=this.keyFromPrivate(V,U),A=this._truncateToN(new g(A,16));for(var Q=this.n.byteLength(),q=V.getPrivate().toArray("be",Q),Y=A.toArray("be",Q),W=new w({hash:this.hash,entropy:q,nonce:Y,pers:K.pers,persEnc:K.persEnc||"utf8"}),re=this.n.sub(new g(1)),ie=0;;ie++){var ae=K.k?K.k(ie):new g(W.generate(this.n.byteLength()));if(!((ae=this._truncateToN(ae,!0)).cmpn(1)<=0||ae.cmp(re)>=0)){var ue=this.g.mul(ae);if(!ue.isInfinity()){var ce=ue.getX(),pe=ce.umod(this.n);if(0!==pe.cmpn(0)){var ve=ae.invm(this.n).mul(pe.mul(V.getPrivate()).iadd(A));if(0!==(ve=ve.umod(this.n)).cmpn(0)){var De=(ue.getY().isOdd()?1:0)|(0!==ce.cmp(pe)?2:0);return K.canonical&&ve.cmp(this.nh)>0&&(ve=this.n.sub(ve),De^=1),new P({r:pe,s:ve,recoveryParam:De})}}}}}},R.prototype.verify=function(A,V,U,K){A=this._truncateToN(new g(A,16)),U=this.keyFromPublic(U,K);var Q=(V=new P(V,"hex")).r,q=V.s;if(Q.cmpn(1)<0||Q.cmp(this.n)>=0||q.cmpn(1)<0||q.cmp(this.n)>=0)return!1;var ie,Y=q.invm(this.n),W=Y.mul(A).umod(this.n),re=Y.mul(Q).umod(this.n);return this.curve._maxwellTrick?!(ie=this.g.jmulAdd(W,U.getPublic(),re)).isInfinity()&&ie.eqXToP(Q):!(ie=this.g.mulAdd(W,U.getPublic(),re)).isInfinity()&&0===ie.getX().umod(this.n).cmp(Q)},R.prototype.recoverPubKey=function(O,A,V,U){k((3&V)===V,"The recovery param is more than two bits"),A=new P(A,U);var K=this.n,Q=new g(O),q=A.r,Y=A.s,W=1&V,re=V>>1;if(q.cmp(this.curve.p.umod(this.curve.n))>=0&&re)throw new Error("Unable to find sencond key candinate");q=this.curve.pointFromX(re?q.add(this.curve.n):q,W);var ie=A.r.invm(K),ae=K.sub(Q).mul(ie).umod(K),ue=Y.mul(ie).umod(K);return this.g.mulAdd(ae,q,ue)},R.prototype.getKeyRecoveryParam=function(O,A,V,U){if(null!==(A=new P(A,U)).recoveryParam)return A.recoveryParam;for(var K=0;K<4;K++){var Q;try{Q=this.recoverPubKey(O,A,K)}catch{continue}if(Q.eq(V))return K}throw new Error("Unable to find valid recovery factor")}},60541:($e,j,E)=>{"use strict";var g=E(88723),B=E(3136).assert;function H(b,k){this.ec=b,this.priv=null,this.pub=null,k.priv&&this._importPrivate(k.priv,k.privEnc),k.pub&&this._importPublic(k.pub,k.pubEnc)}$e.exports=H,H.fromPublic=function(k,S,P){return S instanceof H?S:new H(k,{pub:S,pubEnc:P})},H.fromPrivate=function(k,S,P){return S instanceof H?S:new H(k,{priv:S,privEnc:P})},H.prototype.validate=function(){var k=this.getPublic();return k.isInfinity()?{result:!1,reason:"Invalid public key"}:k.validate()?k.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},H.prototype.getPublic=function(k,S){return"string"==typeof k&&(S=k,k=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),S?this.pub.encode(S,k):this.pub},H.prototype.getPrivate=function(k){return"hex"===k?this.priv.toString(16,2):this.priv},H.prototype._importPrivate=function(k,S){this.priv=new g(k,S||16),this.priv=this.priv.umod(this.ec.curve.n)},H.prototype._importPublic=function(k,S){if(k.x||k.y)return"mont"===this.ec.curve.type?B(k.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&B(k.x&&k.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(k.x,k.y));this.pub=this.ec.curve.decodePoint(k,S)},H.prototype.derive=function(k){return k.validate()||B(k.validate(),"public point not validated"),k.mul(this.priv).getX()},H.prototype.sign=function(k,S,P){return this.ec.sign(k,this,S,P)},H.prototype.verify=function(k,S){return this.ec.verify(k,S,this)},H.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:($e,j,E)=>{"use strict";var g=E(88723),w=E(3136),B=w.assert;function H(R,O){if(R instanceof H)return R;this._importDER(R,O)||(B(R.r&&R.s,"Signature without r or s"),this.r=new g(R.r,16),this.s=new g(R.s,16),this.recoveryParam=void 0===R.recoveryParam?null:R.recoveryParam)}function b(){this.place=0}function k(R,O){var A=R[O.place++];if(!(128&A))return A;var V=15&A;if(0===V||V>4)return!1;for(var U=0,K=0,Q=O.place;K<V;K++,Q++)U<<=8,U|=R[Q],U>>>=0;return!(U<=127)&&(O.place=Q,U)}function S(R){for(var O=0,A=R.length-1;!R[O]&&!(128&R[O+1])&&O<A;)O++;return 0===O?R:R.slice(O)}function P(R,O){if(O<128)R.push(O);else{var A=1+(Math.log(O)/Math.LN2>>>3);for(R.push(128|A);--A;)R.push(O>>>(A<<3)&255);R.push(O)}}$e.exports=H,H.prototype._importDER=function(O,A){O=w.toArray(O,A);var V=new b;if(48!==O[V.place++])return!1;var U=k(O,V);if(!1===U||U+V.place!==O.length||2!==O[V.place++])return!1;var K=k(O,V);if(!1===K)return!1;var Q=O.slice(V.place,K+V.place);if(V.place+=K,2!==O[V.place++])return!1;var q=k(O,V);if(!1===q||O.length!==q+V.place)return!1;var Y=O.slice(V.place,q+V.place);if(0===Q[0]){if(!(128&Q[1]))return!1;Q=Q.slice(1)}if(0===Y[0]){if(!(128&Y[1]))return!1;Y=Y.slice(1)}return this.r=new g(Q),this.s=new g(Y),this.recoveryParam=null,!0},H.prototype.toDER=function(O){var A=this.r.toArray(),V=this.s.toArray();for(128&A[0]&&(A=[0].concat(A)),128&V[0]&&(V=[0].concat(V)),A=S(A),V=S(V);!(V[0]||128&V[1]);)V=V.slice(1);var U=[2];P(U,A.length),(U=U.concat(A)).push(2),P(U,V.length);var K=U.concat(V),Q=[48];return P(Q,K.length),Q=Q.concat(K),w.encode(Q,O)}},83045:($e,j,E)=>{"use strict";var g=E(52529),w=E(23401),B=E(3136),H=B.assert,b=B.parseBytes,k=E(87222),S=E(5451);function P(R){if(H("ed25519"===R,"only tested with ed25519 so far"),!(this instanceof P))return new P(R);this.curve=R=w[R].curve,this.g=R.g,this.g.precompute(R.n.bitLength()+1),this.pointClass=R.point().constructor,this.encodingLength=Math.ceil(R.n.bitLength()/8),this.hash=g.sha512}$e.exports=P,P.prototype.sign=function(O,A){O=b(O);var V=this.keyFromSecret(A),U=this.hashInt(V.messagePrefix(),O),K=this.g.mul(U),Q=this.encodePoint(K),q=this.hashInt(Q,V.pubBytes(),O).mul(V.priv()),Y=U.add(q).umod(this.curve.n);return this.makeSignature({R:K,S:Y,Rencoded:Q})},P.prototype.verify=function(O,A,V){O=b(O),A=this.makeSignature(A);var U=this.keyFromPublic(V),K=this.hashInt(A.Rencoded(),U.pubBytes(),O),Q=this.g.mul(A.S());return A.R().add(U.pub().mul(K)).eq(Q)},P.prototype.hashInt=function(){for(var O=this.hash(),A=0;A<arguments.length;A++)O.update(arguments[A]);return B.intFromLE(O.digest()).umod(this.curve.n)},P.prototype.keyFromPublic=function(O){return k.fromPublic(this,O)},P.prototype.keyFromSecret=function(O){return k.fromSecret(this,O)},P.prototype.makeSignature=function(O){return O instanceof S?O:new S(this,O)},P.prototype.encodePoint=function(O){var A=O.getY().toArray("le",this.encodingLength);return A[this.encodingLength-1]|=O.getX().isOdd()?128:0,A},P.prototype.decodePoint=function(O){var A=(O=B.parseBytes(O)).length-1,V=O.slice(0,A).concat(-129&O[A]),U=!!(128&O[A]),K=B.intFromLE(V);return this.curve.pointFromY(K,U)},P.prototype.encodeInt=function(O){return O.toArray("le",this.encodingLength)},P.prototype.decodeInt=function(O){return B.intFromLE(O)},P.prototype.isPoint=function(O){return O instanceof this.pointClass}},87222:($e,j,E)=>{"use strict";var g=E(3136),w=g.assert,B=g.parseBytes,H=g.cachedProperty;function b(k,S){this.eddsa=k,this._secret=B(S.secret),k.isPoint(S.pub)?this._pub=S.pub:this._pubBytes=B(S.pub)}b.fromPublic=function(S,P){return P instanceof b?P:new b(S,{pub:P})},b.fromSecret=function(S,P){return P instanceof b?P:new b(S,{secret:P})},b.prototype.secret=function(){return this._secret},H(b,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),H(b,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),H(b,"privBytes",function(){var S=this.eddsa,P=this.hash(),R=S.encodingLength-1,O=P.slice(0,S.encodingLength);return O[0]&=248,O[R]&=127,O[R]|=64,O}),H(b,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),H(b,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),H(b,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),b.prototype.sign=function(S){return w(this._secret,"KeyPair can only verify"),this.eddsa.sign(S,this)},b.prototype.verify=function(S,P){return this.eddsa.verify(S,P,this)},b.prototype.getSecret=function(S){return w(this._secret,"KeyPair is public only"),g.encode(this.secret(),S)},b.prototype.getPublic=function(S){return g.encode(this.pubBytes(),S)},$e.exports=b},5451:($e,j,E)=>{"use strict";var g=E(88723),w=E(3136),B=w.assert,H=w.cachedProperty,b=w.parseBytes;function k(S,P){this.eddsa=S,"object"!=typeof P&&(P=b(P)),Array.isArray(P)&&(P={R:P.slice(0,S.encodingLength),S:P.slice(S.encodingLength)}),B(P.R&&P.S,"Signature without R or S"),S.isPoint(P.R)&&(this._R=P.R),P.S instanceof g&&(this._S=P.S),this._Rencoded=Array.isArray(P.R)?P.R:P.Rencoded,this._Sencoded=Array.isArray(P.S)?P.S:P.Sencoded}H(k,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),H(k,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),H(k,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),H(k,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),k.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},k.prototype.toHex=function(){return w.encode(this.toBytes(),"hex").toUpperCase()},$e.exports=k},51416:$e=>{$e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:($e,j,E)=>{"use strict";var g=j,w=E(88723),B=E(39210),H=E(21832);g.assert=B,g.toArray=H.toArray,g.zero2=H.zero2,g.toHex=H.toHex,g.encode=H.encode,g.getNAF=function b(O,A,V){var K,U=new Array(Math.max(O.bitLength(),V)+1);for(K=0;K<U.length;K+=1)U[K]=0;var Q=1<<A+1,q=O.clone();for(K=0;K<U.length;K++){var Y,W=q.andln(Q-1);q.isOdd()?q.isubn(Y=W>(Q>>1)-1?(Q>>1)-W:W):Y=0,U[K]=Y,q.iushrn(1)}return U},g.getJSF=function k(O,A){var V=[[],[]];O=O.clone(),A=A.clone();for(var Q,U=0,K=0;O.cmpn(-U)>0||A.cmpn(-K)>0;){var W,re,q=O.andln(3)+U&3,Y=A.andln(3)+K&3;3===q&&(q=-1),3===Y&&(Y=-1),W=1&q?3!=(Q=O.andln(7)+U&7)&&5!==Q||2!==Y?q:-q:0,V[0].push(W),re=1&Y?3!=(Q=A.andln(7)+K&7)&&5!==Q||2!==q?Y:-Y:0,V[1].push(re),2*U===W+1&&(U=1-U),2*K===re+1&&(K=1-K),O.iushrn(1),A.iushrn(1)}return V},g.cachedProperty=function S(O,A,V){var U="_"+A;O.prototype[A]=function(){return void 0!==this[U]?this[U]:this[U]=V.call(this)}},g.parseBytes=function P(O){return"string"==typeof O?g.toArray(O,"hex"):O},g.intFromLE=function R(O){return new w(O,"hex","le")}},88723:function($e,j,E){!function(g,w){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:w.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(79368).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,_=Math.min(C.length,d),I=s;I<_;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var _,I,L=0;if("be"===h)for(f=s.length-1,_=0;f>=0;f-=3)this.words[_]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);else if("le"===h)for(f=0,_=0;f<s.length;f+=3)this.words[_]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,_=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,_=1;_<=67108863;_*=d)f++;f--,_=_/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(_),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],_=0|s.words[0],I=f*_,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(_=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,_=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|_)).toString(16);h=0!=(_=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==_&&(h=_.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),_=h||Math.max(1,f);B(f<=_,"byte array longer than desired length"),B(_>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(_),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<_;a++)L[a]=0}else{for(a=0;a<_-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[_-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var _=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+_),_=d>>>26;for(;0!==_&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+_),_=d>>>26;if(this.length=h.length,0!==_)this.words[this.length]=_,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,_,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,_=s):(f=s,_=this);for(var I=0,L=0;L<_.length;L++)I=(d=(0|f.words[L])-(0|_.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,_=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ze=0|f[2],ge=8191&Ze,me=Ze>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,Dt=0|f[7],Ne=8191&Dt,ke=Dt>>>13,yt=0|f[8],F=8191&yt,D=yt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|_[0],Ae=8191&Se,ot=Se>>>13,Gt=0|_[1],_t=8191&Gt,Bt=Gt>>>13,en=0|_[2],pn=8191&en,cn=en>>>13,tr=0|_[3],Mn=8191&tr,on=tr>>>13,Qt=0|_[4],ut=8191&Qt,st=Qt>>>13,Zt=0|_[5],Xt=8191&Zt,rn=Zt>>>13,Zn=0|_[6],at=8191&Zn,pt=Zn>>>13,ht=0|_[7],Ke=8191&ht,Ge=ht>>>13,jt=0|_[8],kt=8191&jt,ln=jt>>>13,On=0|_[9],vn=8191&On,gn=On>>>13;h.negative=s.negative^d.negative,h.length=19;var ur=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,ot))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,ot))+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,ot))+Math.imul(Me,Ae)|0,v=Math.imul(Me,ot);var er=(L+(x=x+Math.imul(z,_t)|0)|0)+((8191&(a=(a=a+Math.imul(z,Bt)|0)+Math.imul(ee,_t)|0))<<13)|0;L=((v=v+Math.imul(ee,Bt)|0)+(a>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,ot))+Math.imul(me,Ae)|0,v=Math.imul(me,ot),x=x+Math.imul(we,_t)|0,a=(a=a+Math.imul(we,Bt)|0)+Math.imul(Me,_t)|0,v=v+Math.imul(Me,Bt)|0;var Pn=(L+(x=x+Math.imul(z,pn)|0)|0)+((8191&(a=(a=a+Math.imul(z,cn)|0)+Math.imul(ee,pn)|0))<<13)|0;L=((v=v+Math.imul(ee,cn)|0)+(a>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,ot))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,ot),x=x+Math.imul(ge,_t)|0,a=(a=a+Math.imul(ge,Bt)|0)+Math.imul(me,_t)|0,v=v+Math.imul(me,Bt)|0,x=x+Math.imul(we,pn)|0,a=(a=a+Math.imul(we,cn)|0)+Math.imul(Me,pn)|0,v=v+Math.imul(Me,cn)|0;var Nn=(L+(x=x+Math.imul(z,Mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,on)|0)+Math.imul(ee,Mn)|0))<<13)|0;L=((v=v+Math.imul(ee,on)|0)+(a>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,ot))+Math.imul(ne,Ae)|0,v=Math.imul(ne,ot),x=x+Math.imul(xe,_t)|0,a=(a=a+Math.imul(xe,Bt)|0)+Math.imul(Ce,_t)|0,v=v+Math.imul(Ce,Bt)|0,x=x+Math.imul(ge,pn)|0,a=(a=a+Math.imul(ge,cn)|0)+Math.imul(me,pn)|0,v=v+Math.imul(me,cn)|0,x=x+Math.imul(we,Mn)|0,a=(a=a+Math.imul(we,on)|0)+Math.imul(Me,Mn)|0,v=v+Math.imul(Me,on)|0;var et=(L+(x=x+Math.imul(z,ut)|0)|0)+((8191&(a=(a=a+Math.imul(z,st)|0)+Math.imul(ee,ut)|0))<<13)|0;L=((v=v+Math.imul(ee,st)|0)+(a>>>13)|0)+(et>>>26)|0,et&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,ot))+Math.imul(_e,Ae)|0,v=Math.imul(_e,ot),x=x+Math.imul(he,_t)|0,a=(a=a+Math.imul(he,Bt)|0)+Math.imul(ne,_t)|0,v=v+Math.imul(ne,Bt)|0,x=x+Math.imul(xe,pn)|0,a=(a=a+Math.imul(xe,cn)|0)+Math.imul(Ce,pn)|0,v=v+Math.imul(Ce,cn)|0,x=x+Math.imul(ge,Mn)|0,a=(a=a+Math.imul(ge,on)|0)+Math.imul(me,Mn)|0,v=v+Math.imul(me,on)|0,x=x+Math.imul(we,ut)|0,a=(a=a+Math.imul(we,st)|0)+Math.imul(Me,ut)|0,v=v+Math.imul(Me,st)|0;var Oe=(L+(x=x+Math.imul(z,Xt)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Xt)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,ot))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,ot),x=x+Math.imul(de,_t)|0,a=(a=a+Math.imul(de,Bt)|0)+Math.imul(_e,_t)|0,v=v+Math.imul(_e,Bt)|0,x=x+Math.imul(he,pn)|0,a=(a=a+Math.imul(he,cn)|0)+Math.imul(ne,pn)|0,v=v+Math.imul(ne,cn)|0,x=x+Math.imul(xe,Mn)|0,a=(a=a+Math.imul(xe,on)|0)+Math.imul(Ce,Mn)|0,v=v+Math.imul(Ce,on)|0,x=x+Math.imul(ge,ut)|0,a=(a=a+Math.imul(ge,st)|0)+Math.imul(me,ut)|0,v=v+Math.imul(me,st)|0,x=x+Math.imul(we,Xt)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Xt)|0,v=v+Math.imul(Me,rn)|0;var Qe=(L+(x=x+Math.imul(z,at)|0)|0)+((8191&(a=(a=a+Math.imul(z,pt)|0)+Math.imul(ee,at)|0))<<13)|0;L=((v=v+Math.imul(ee,pt)|0)+(a>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,ot))+Math.imul(ke,Ae)|0,v=Math.imul(ke,ot),x=x+Math.imul(He,_t)|0,a=(a=a+Math.imul(He,Bt)|0)+Math.imul(Ve,_t)|0,v=v+Math.imul(Ve,Bt)|0,x=x+Math.imul(de,pn)|0,a=(a=a+Math.imul(de,cn)|0)+Math.imul(_e,pn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(he,Mn)|0,a=(a=a+Math.imul(he,on)|0)+Math.imul(ne,Mn)|0,v=v+Math.imul(ne,on)|0,x=x+Math.imul(xe,ut)|0,a=(a=a+Math.imul(xe,st)|0)+Math.imul(Ce,ut)|0,v=v+Math.imul(Ce,st)|0,x=x+Math.imul(ge,Xt)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Xt)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,at)|0,a=(a=a+Math.imul(we,pt)|0)+Math.imul(Me,at)|0,v=v+Math.imul(Me,pt)|0;var zt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ge)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,Ge)|0)+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,ot))+Math.imul(D,Ae)|0,v=Math.imul(D,ot),x=x+Math.imul(Ne,_t)|0,a=(a=a+Math.imul(Ne,Bt)|0)+Math.imul(ke,_t)|0,v=v+Math.imul(ke,Bt)|0,x=x+Math.imul(He,pn)|0,a=(a=a+Math.imul(He,cn)|0)+Math.imul(Ve,pn)|0,v=v+Math.imul(Ve,cn)|0,x=x+Math.imul(de,Mn)|0,a=(a=a+Math.imul(de,on)|0)+Math.imul(_e,Mn)|0,v=v+Math.imul(_e,on)|0,x=x+Math.imul(he,ut)|0,a=(a=a+Math.imul(he,st)|0)+Math.imul(ne,ut)|0,v=v+Math.imul(ne,st)|0,x=x+Math.imul(xe,Xt)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Xt)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,at)|0,a=(a=a+Math.imul(ge,pt)|0)+Math.imul(me,at)|0,v=v+Math.imul(me,pt)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,Ge)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,Ge)|0;var hn=(L+(x=x+Math.imul(z,kt)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,kt)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(hn>>>26)|0,hn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,ot))+Math.imul(fe,Ae)|0,v=Math.imul(fe,ot),x=x+Math.imul(F,_t)|0,a=(a=a+Math.imul(F,Bt)|0)+Math.imul(D,_t)|0,v=v+Math.imul(D,Bt)|0,x=x+Math.imul(Ne,pn)|0,a=(a=a+Math.imul(Ne,cn)|0)+Math.imul(ke,pn)|0,v=v+Math.imul(ke,cn)|0,x=x+Math.imul(He,Mn)|0,a=(a=a+Math.imul(He,on)|0)+Math.imul(Ve,Mn)|0,v=v+Math.imul(Ve,on)|0,x=x+Math.imul(de,ut)|0,a=(a=a+Math.imul(de,st)|0)+Math.imul(_e,ut)|0,v=v+Math.imul(_e,st)|0,x=x+Math.imul(he,Xt)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Xt)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,at)|0,a=(a=a+Math.imul(xe,pt)|0)+Math.imul(Ce,at)|0,v=v+Math.imul(Ce,pt)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,Ge)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,Ge)|0,x=x+Math.imul(we,kt)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,kt)|0,v=v+Math.imul(Me,ln)|0;var Un=(L+(x=x+Math.imul(z,vn)|0)|0)+((8191&(a=(a=a+Math.imul(z,gn)|0)+Math.imul(ee,vn)|0))<<13)|0;L=((v=v+Math.imul(ee,gn)|0)+(a>>>13)|0)+(Un>>>26)|0,Un&=67108863,x=Math.imul(G,_t),a=(a=Math.imul(G,Bt))+Math.imul(fe,_t)|0,v=Math.imul(fe,Bt),x=x+Math.imul(F,pn)|0,a=(a=a+Math.imul(F,cn)|0)+Math.imul(D,pn)|0,v=v+Math.imul(D,cn)|0,x=x+Math.imul(Ne,Mn)|0,a=(a=a+Math.imul(Ne,on)|0)+Math.imul(ke,Mn)|0,v=v+Math.imul(ke,on)|0,x=x+Math.imul(He,ut)|0,a=(a=a+Math.imul(He,st)|0)+Math.imul(Ve,ut)|0,v=v+Math.imul(Ve,st)|0,x=x+Math.imul(de,Xt)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Xt)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,at)|0,a=(a=a+Math.imul(he,pt)|0)+Math.imul(ne,at)|0,v=v+Math.imul(ne,pt)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,Ge)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,Ge)|0,x=x+Math.imul(ge,kt)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,kt)|0,v=v+Math.imul(me,ln)|0;var Kn=(L+(x=x+Math.imul(we,vn)|0)|0)+((8191&(a=(a=a+Math.imul(we,gn)|0)+Math.imul(Me,vn)|0))<<13)|0;L=((v=v+Math.imul(Me,gn)|0)+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,x=Math.imul(G,pn),a=(a=Math.imul(G,cn))+Math.imul(fe,pn)|0,v=Math.imul(fe,cn),x=x+Math.imul(F,Mn)|0,a=(a=a+Math.imul(F,on)|0)+Math.imul(D,Mn)|0,v=v+Math.imul(D,on)|0,x=x+Math.imul(Ne,ut)|0,a=(a=a+Math.imul(Ne,st)|0)+Math.imul(ke,ut)|0,v=v+Math.imul(ke,st)|0,x=x+Math.imul(He,Xt)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Xt)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,at)|0,a=(a=a+Math.imul(de,pt)|0)+Math.imul(_e,at)|0,v=v+Math.imul(_e,pt)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,Ge)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,Ge)|0,x=x+Math.imul(xe,kt)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,kt)|0,v=v+Math.imul(Ce,ln)|0;var ir=(L+(x=x+Math.imul(ge,vn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,gn)|0)+Math.imul(me,vn)|0))<<13)|0;L=((v=v+Math.imul(me,gn)|0)+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(G,Mn),a=(a=Math.imul(G,on))+Math.imul(fe,Mn)|0,v=Math.imul(fe,on),x=x+Math.imul(F,ut)|0,a=(a=a+Math.imul(F,st)|0)+Math.imul(D,ut)|0,v=v+Math.imul(D,st)|0,x=x+Math.imul(Ne,Xt)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Xt)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,at)|0,a=(a=a+Math.imul(He,pt)|0)+Math.imul(Ve,at)|0,v=v+Math.imul(Ve,pt)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,Ge)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,Ge)|0,x=x+Math.imul(he,kt)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,kt)|0,v=v+Math.imul(ne,ln)|0;var mr=(L+(x=x+Math.imul(xe,vn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,gn)|0)+Math.imul(Ce,vn)|0))<<13)|0;L=((v=v+Math.imul(Ce,gn)|0)+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(G,ut),a=(a=Math.imul(G,st))+Math.imul(fe,ut)|0,v=Math.imul(fe,st),x=x+Math.imul(F,Xt)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Xt)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,at)|0,a=(a=a+Math.imul(Ne,pt)|0)+Math.imul(ke,at)|0,v=v+Math.imul(ke,pt)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,Ge)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,Ge)|0,x=x+Math.imul(de,kt)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,kt)|0,v=v+Math.imul(_e,ln)|0;var Pr=(L+(x=x+Math.imul(he,vn)|0)|0)+((8191&(a=(a=a+Math.imul(he,gn)|0)+Math.imul(ne,vn)|0))<<13)|0;L=((v=v+Math.imul(ne,gn)|0)+(a>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(G,Xt),a=(a=Math.imul(G,rn))+Math.imul(fe,Xt)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,at)|0,a=(a=a+Math.imul(F,pt)|0)+Math.imul(D,at)|0,v=v+Math.imul(D,pt)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,Ge)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,Ge)|0,x=x+Math.imul(He,kt)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,kt)|0,v=v+Math.imul(Ve,ln)|0;var Sr=(L+(x=x+Math.imul(de,vn)|0)|0)+((8191&(a=(a=a+Math.imul(de,gn)|0)+Math.imul(_e,vn)|0))<<13)|0;L=((v=v+Math.imul(_e,gn)|0)+(a>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,x=Math.imul(G,at),a=(a=Math.imul(G,pt))+Math.imul(fe,at)|0,v=Math.imul(fe,pt),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,Ge)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,Ge)|0,x=x+Math.imul(Ne,kt)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,kt)|0,v=v+Math.imul(ke,ln)|0;var Nr=(L+(x=x+Math.imul(He,vn)|0)|0)+((8191&(a=(a=a+Math.imul(He,gn)|0)+Math.imul(Ve,vn)|0))<<13)|0;L=((v=v+Math.imul(Ve,gn)|0)+(a>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,Ge))+Math.imul(fe,Ke)|0,v=Math.imul(fe,Ge),x=x+Math.imul(F,kt)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,kt)|0,v=v+Math.imul(D,ln)|0;var dr=(L+(x=x+Math.imul(Ne,vn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,gn)|0)+Math.imul(ke,vn)|0))<<13)|0;L=((v=v+Math.imul(ke,gn)|0)+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,x=Math.imul(G,kt),a=(a=Math.imul(G,ln))+Math.imul(fe,kt)|0,v=Math.imul(fe,ln);var nn=(L+(x=x+Math.imul(F,vn)|0)|0)+((8191&(a=(a=a+Math.imul(F,gn)|0)+Math.imul(D,vn)|0))<<13)|0;L=((v=v+Math.imul(D,gn)|0)+(a>>>13)|0)+(nn>>>26)|0,nn&=67108863;var yn=(L+(x=Math.imul(G,vn))|0)+((8191&(a=(a=Math.imul(G,gn))+Math.imul(fe,vn)|0))<<13)|0;return L=((v=Math.imul(fe,gn))+(a>>>13)|0)+(yn>>>26)|0,yn&=67108863,I[0]=ur,I[1]=er,I[2]=Pn,I[3]=Nn,I[4]=et,I[5]=Oe,I[6]=Qe,I[7]=zt,I[8]=hn,I[9]=Un,I[10]=Kn,I[11]=ir,I[12]=mr,I[13]=Pr,I[14]=Sr,I[15]=Nr,I[16]=dr,I[17]=nn,I[18]=yn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,_=0;_<d.length-1;_++){var I=f;f=0;for(var L=67108863&h,x=Math.min(_,s.length-1),a=Math.max(0,_-C.length+1);a<=x;a++){var ee=(0|C.words[_-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[_]=L,h=I,I=f}return 0!==h?d.words[_]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,_=0;_<d;_++)f|=(1&s)<<d-_-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,_,I){for(var L=0;L<I;L++)f[L]=d[s[L]],_[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,_,I){this.permute(I,s,d,h,f,_);for(var L=1;L<_;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<_;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ze=h[Z+le+L],ge=f[Z+le+L],me=z*Ze-ee*ge;ge=z*ge+ee*Ze,h[Z+le]=we+(Ze=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ze,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,_=0;for(h=h/2|0;h;h>>>=1)_++;return 1<<_+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var _=s[f];s[f]=s[h-f-1],s[h-f-1]=_,_=d[f],d[f]=-d[h-f-1],d[h-f-1]=-_}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var _=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&_,h=_<67108864?0:_/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var _=0,I=0;I<d;I++)h[2*I]=8191&(_+=0|s[I]),h[2*I+1]=8191&(_>>>=13),_>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===_),B(!(-8192&_))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),_=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,_),this.transform(v,I,Z,z,f,_);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,_),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,_=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=_>>>26,this.words[h]=67108863&_}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var _=h.sqr();f<d.length;f++,_=_.sqr())0!==d[f]&&(h=h.mul(_));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var _,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(_=0;_<this.length;_++){var L=this.words[_]&f;this.words[_]=(0|this.words[_])-L<<d|I,I=L>>>26-d}I&&(this.words[_]=I,this.length++)}if(0!==h){for(_=this.length-1;_>=0;_--)this.words[_+h]=this.words[_];for(_=0;_<h;_++)this.words[_]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var _=s%26,I=Math.min((s-_)/26,this.length),L=67108863^67108863>>>_<<_,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-_|Z>>>_,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var _;this._expand(s.length+h);var I,L=0;for(_=0;_<s.length;_++){I=(0|this.words[_+h])+L;var x=(0|s.words[_])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[_+h]=67108863&I}for(;_<this.length-h;_++)L=(I=(0|this.words[_+h])+L)>>26,this.words[_+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,_=0;_<this.length;_++)L=(I=-(0|this.words[_])+L)>>26,this.words[_]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),_=s,I=0|_.words[_.length-1];0!=(h=26-this._countBits(I))&&(_=_.ushln(h),f.iushln(h),I=0|_.words[_.length-1]);var a,x=f.length-_.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(_,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[_.length+z])+(0|f.words[_.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(_,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(_,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.iadd(s)),{div:f,mod:_}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.isub(s)),{div:I.div,mod:_}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,_,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),_=s.andln(1),I=h.cmp(f);return I<0||1===_&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||_.isOdd())&&(f.iadd(a),_.isub(v)),f.iushrn(1),_.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),_.isub(L)):(h.isub(d),I.isub(f),L.isub(_))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(_)):(h.isub(d),_.isub(f))}return(Z=0===d.cmpn(1)?f:_).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var _=d.cmp(h);if(_<0){var I=d;d=h,h=I}else if(0===_||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var _=f,I=h;0!==_&&I<this.length;I++){var L=0|this.words[I];_=(L+=_)>>>26,this.words[I]=L&=67108863}return 0!==_&&(this.words[I]=_,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],_=0|s.words[h];if(f!==_){f<_?d=-1:f>_&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),_=0;_<f;_++)d.words[_]=s.words[_];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,_=10;_<s.length;_++){var L=0|s.words[_];s.words[_-10]=(L&h)<<4|I>>>22,I=L}s.words[_-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,_=67108863&f;f>>>=26,s.words[h]=_,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),_=0;!f.isZero()&&0===f.andln(1);)_++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=_;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var _=2;_<f.length;_++)f[_]=this.mul(f[_-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),_=d.length-1;_>=0;_--){for(var v=d.words[_],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===_&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},44356:$e=>{"use strict";var g,j="object"==typeof Reflect?Reflect:null,E=j&&"function"==typeof j.apply?j.apply:function(ie,ae,ue){return Function.prototype.apply.call(ie,ae,ue)};g=j&&"function"==typeof j.ownKeys?j.ownKeys:Object.getOwnPropertySymbols?function(ie){return Object.getOwnPropertyNames(ie).concat(Object.getOwnPropertySymbols(ie))}:function(ie){return Object.getOwnPropertyNames(ie)};var B=Number.isNaN||function(ie){return ie!=ie};function H(){H.init.call(this)}$e.exports=H,$e.exports.once=function q(re,ie){return new Promise(function(ae,ue){function ce(ve){re.removeListener(ie,pe),ue(ve)}function pe(){"function"==typeof re.removeListener&&re.removeListener("error",ce),ae([].slice.call(arguments))}W(re,ie,pe,{once:!0}),"error"!==ie&&function Y(re,ie,ae){"function"==typeof re.on&&W(re,"error",ie,ae)}(re,ce,{once:!0})})},H.EventEmitter=H,H.prototype._events=void 0,H.prototype._eventsCount=0,H.prototype._maxListeners=void 0;var b=10;function k(re){if("function"!=typeof re)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof re)}function S(re){return void 0===re._maxListeners?H.defaultMaxListeners:re._maxListeners}function P(re,ie,ae,ue){var ce,pe,ve;if(k(ae),void 0===(pe=re._events)?(pe=re._events=Object.create(null),re._eventsCount=0):(void 0!==pe.newListener&&(re.emit("newListener",ie,ae.listener?ae.listener:ae),pe=re._events),ve=pe[ie]),void 0===ve)ve=pe[ie]=ae,++re._eventsCount;else if("function"==typeof ve?ve=pe[ie]=ue?[ae,ve]:[ve,ae]:ue?ve.unshift(ae):ve.push(ae),(ce=S(re))>0&&ve.length>ce&&!ve.warned){ve.warned=!0;var De=new Error("Possible EventEmitter memory leak detected. "+ve.length+" "+String(ie)+" listeners added. Use emitter.setMaxListeners() to increase limit");De.name="MaxListenersExceededWarning",De.emitter=re,De.type=ie,De.count=ve.length,function w(re){console&&console.warn&&console.warn(re)}(De)}return re}function R(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(re,ie,ae){var ue={fired:!1,wrapFn:void 0,target:re,type:ie,listener:ae},ce=R.bind(ue);return ce.listener=ae,ue.wrapFn=ce,ce}function A(re,ie,ae){var ue=re._events;if(void 0===ue)return[];var ce=ue[ie];return void 0===ce?[]:"function"==typeof ce?ae?[ce.listener||ce]:[ce]:ae?function Q(re){for(var ie=new Array(re.length),ae=0;ae<ie.length;++ae)ie[ae]=re[ae].listener||re[ae];return ie}(ce):U(ce,ce.length)}function V(re){var ie=this._events;if(void 0!==ie){var ae=ie[re];if("function"==typeof ae)return 1;if(void 0!==ae)return ae.length}return 0}function U(re,ie){for(var ae=new Array(ie),ue=0;ue<ie;++ue)ae[ue]=re[ue];return ae}function W(re,ie,ae,ue){if("function"==typeof re.on)ue.once?re.once(ie,ae):re.on(ie,ae);else{if("function"!=typeof re.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof re);re.addEventListener(ie,function ce(pe){ue.once&&re.removeEventListener(ie,ce),ae(pe)})}}Object.defineProperty(H,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(re){if("number"!=typeof re||re<0||B(re))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+re+".");b=re}}),H.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},H.prototype.setMaxListeners=function(ie){if("number"!=typeof ie||ie<0||B(ie))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ie+".");return this._maxListeners=ie,this},H.prototype.getMaxListeners=function(){return S(this)},H.prototype.emit=function(ie){for(var ae=[],ue=1;ue<arguments.length;ue++)ae.push(arguments[ue]);var ce="error"===ie,pe=this._events;if(void 0!==pe)ce=ce&&void 0===pe.error;else if(!ce)return!1;if(ce){var ve;if(ae.length>0&&(ve=ae[0]),ve instanceof Error)throw ve;var De=new Error("Unhandled error."+(ve?" ("+ve.message+")":""));throw De.context=ve,De}var C=pe[ie];if(void 0===C)return!1;if("function"==typeof C)E(C,this,ae);else{var s=C.length,d=U(C,s);for(ue=0;ue<s;++ue)E(d[ue],this,ae)}return!0},H.prototype.on=H.prototype.addListener=function(ie,ae){return P(this,ie,ae,!1)},H.prototype.prependListener=function(ie,ae){return P(this,ie,ae,!0)},H.prototype.once=function(ie,ae){return k(ae),this.on(ie,O(this,ie,ae)),this},H.prototype.prependOnceListener=function(ie,ae){return k(ae),this.prependListener(ie,O(this,ie,ae)),this},H.prototype.off=H.prototype.removeListener=function(ie,ae){var ue,ce,pe,ve,De;if(k(ae),void 0===(ce=this._events))return this;if(void 0===(ue=ce[ie]))return this;if(ue===ae||ue.listener===ae)0==--this._eventsCount?this._events=Object.create(null):(delete ce[ie],ce.removeListener&&this.emit("removeListener",ie,ue.listener||ae));else if("function"!=typeof ue){for(pe=-1,ve=ue.length-1;ve>=0;ve--)if(ue[ve]===ae||ue[ve].listener===ae){De=ue[ve].listener,pe=ve;break}if(pe<0)return this;0===pe?ue.shift():function K(re,ie){for(;ie+1<re.length;ie++)re[ie]=re[ie+1];re.pop()}(ue,pe),1===ue.length&&(ce[ie]=ue[0]),void 0!==ce.removeListener&&this.emit("removeListener",ie,De||ae)}return this},H.prototype.removeAllListeners=function(ie){var ae,ue,ce;if(void 0===(ue=this._events))return this;if(void 0===ue.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ue[ie]&&(0==--this._eventsCount?this._events=Object.create(null):delete ue[ie]),this;if(0===arguments.length){var ve,pe=Object.keys(ue);for(ce=0;ce<pe.length;++ce)"removeListener"!==(ve=pe[ce])&&this.removeAllListeners(ve);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ae=ue[ie]))this.removeListener(ie,ae);else if(void 0!==ae)for(ce=ae.length-1;ce>=0;ce--)this.removeListener(ie,ae[ce]);return this},H.prototype.listeners=function(ie){return A(this,ie,!0)},H.prototype.rawListeners=function(ie){return A(this,ie,!1)},H.listenerCount=function(re,ie){return"function"==typeof re.listenerCount?re.listenerCount(ie):V.call(re,ie)},H.prototype.listenerCount=V,H.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]}},18211:($e,j,E)=>{var g=E(27054).Buffer,w=E(34725);$e.exports=function B(H,b,k,S){if(g.isBuffer(H)||(H=g.from(H,"binary")),b&&(g.isBuffer(b)||(b=g.from(b,"binary")),8!==b.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var P=k/8,R=g.alloc(P),O=g.alloc(S||0),A=g.alloc(0);P>0||S>0;){var V=new w;V.update(A),V.update(H),b&&V.update(b),A=V.digest();var U=0;if(P>0){var K=R.length-P;U=Math.min(P,A.length),A.copy(R,K,0,U),P-=U}if(U<A.length&&S>0){var Q=O.length-S,q=Math.min(S,A.length-U);A.copy(O,Q,U,U+q),S-=q}}return A.fill(0),{key:R,iv:O}}},40362:$e=>{"use strict";$e.exports=function j(E,g){if(E===g)return!0;if(E&&g&&"object"==typeof E&&"object"==typeof g){if(E.constructor!==g.constructor)return!1;var w,B,H;if(Array.isArray(E)){if((w=E.length)!=g.length)return!1;for(B=w;0!=B--;)if(!j(E[B],g[B]))return!1;return!0}if(E.constructor===RegExp)return E.source===g.source&&E.flags===g.flags;if(E.valueOf!==Object.prototype.valueOf)return E.valueOf()===g.valueOf();if(E.toString!==Object.prototype.toString)return E.toString()===g.toString();if((w=(H=Object.keys(E)).length)!==Object.keys(g).length)return!1;for(B=w;0!=B--;)if(!Object.prototype.hasOwnProperty.call(g,H[B]))return!1;for(B=w;0!=B--;){var b=H[B];if(!j(E[b],g[b]))return!1}return!0}return E!=E&&g!=g}},13686:($e,j,E)=>{"use strict";var g=E(27054).Buffer,w=E(7045).Transform;function b(k){w.call(this),this._block=g.allocUnsafe(k),this._blockSize=k,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}E(71993)(b,w),b.prototype._transform=function(k,S,P){var R=null;try{this.update(k,S)}catch(O){R=O}P(R)},b.prototype._flush=function(k){var S=null;try{this.push(this.digest())}catch(P){S=P}k(S)},b.prototype.update=function(k,S){if(function H(k,S){if(!g.isBuffer(k)&&"string"!=typeof k)throw new TypeError(S+" must be a string or a buffer")}(k,"Data"),this._finalized)throw new Error("Digest already called");g.isBuffer(k)||(k=g.from(k,S));for(var P=this._block,R=0;this._blockOffset+k.length-R>=this._blockSize;){for(var O=this._blockOffset;O<this._blockSize;)P[O++]=k[R++];this._update(),this._blockOffset=0}for(;R<k.length;)P[this._blockOffset++]=k[R++];for(var A=0,V=8*k.length;V>0;++A)this._length[A]+=V,(V=this._length[A]/4294967296|0)>0&&(this._length[A]-=4294967296*V);return this},b.prototype._update=function(){throw new Error("_update is not implemented")},b.prototype.digest=function(k){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var S=this._digest();void 0!==k&&(S=S.toString(k)),this._block.fill(0),this._blockOffset=0;for(var P=0;P<4;++P)this._length[P]=0;return S},b.prototype._digest=function(){throw new Error("_digest is not implemented")},$e.exports=b},52529:($e,j,E)=>{var g=j;g.utils=E(68283),g.common=E(12901),g.sha=E(78528),g.ripemd=E(15283),g.hmac=E(37163),g.sha1=g.sha.sha1,g.sha256=g.sha.sha256,g.sha224=g.sha.sha224,g.sha384=g.sha.sha384,g.sha512=g.sha.sha512,g.ripemd160=g.ripemd.ripemd160},12901:($e,j,E)=>{"use strict";var g=E(68283),w=E(39210);function B(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}j.BlockHash=B,B.prototype.update=function(b,k){if(b=g.toArray(b,k),this.pending=this.pending?this.pending.concat(b):b,this.pendingTotal+=b.length,this.pending.length>=this._delta8){var S=(b=this.pending).length%this._delta8;this.pending=b.slice(b.length-S,b.length),0===this.pending.length&&(this.pending=null),b=g.join32(b,0,b.length-S,this.endian);for(var P=0;P<b.length;P+=this._delta32)this._update(b,P,P+this._delta32)}return this},B.prototype.digest=function(b){return this.update(this._pad()),w(null===this.pending),this._digest(b)},B.prototype._pad=function(){var b=this.pendingTotal,k=this._delta8,S=k-(b+this.padLength)%k,P=new Array(S+this.padLength);P[0]=128;for(var R=1;R<S;R++)P[R]=0;if(b<<=3,"big"===this.endian){for(var O=8;O<this.padLength;O++)P[R++]=0;P[R++]=0,P[R++]=0,P[R++]=0,P[R++]=0,P[R++]=b>>>24&255,P[R++]=b>>>16&255,P[R++]=b>>>8&255,P[R++]=255&b}else for(P[R++]=255&b,P[R++]=b>>>8&255,P[R++]=b>>>16&255,P[R++]=b>>>24&255,P[R++]=0,P[R++]=0,P[R++]=0,P[R++]=0,O=8;O<this.padLength;O++)P[R++]=0;return P}},37163:($e,j,E)=>{"use strict";var g=E(68283),w=E(39210);function B(H,b,k){if(!(this instanceof B))return new B(H,b,k);this.Hash=H,this.blockSize=H.blockSize/8,this.outSize=H.outSize/8,this.inner=null,this.outer=null,this._init(g.toArray(b,k))}$e.exports=B,B.prototype._init=function(b){b.length>this.blockSize&&(b=(new this.Hash).update(b).digest()),w(b.length<=this.blockSize);for(var k=b.length;k<this.blockSize;k++)b.push(0);for(k=0;k<b.length;k++)b[k]^=54;for(this.inner=(new this.Hash).update(b),k=0;k<b.length;k++)b[k]^=106;this.outer=(new this.Hash).update(b)},B.prototype.update=function(b,k){return this.inner.update(b,k),this},B.prototype.digest=function(b){return this.outer.update(this.inner.digest()),this.outer.digest(b)}},15283:($e,j,E)=>{"use strict";var g=E(68283),w=E(12901),B=g.rotl32,H=g.sum32,b=g.sum32_3,k=g.sum32_4,S=w.BlockHash;function P(){if(!(this instanceof P))return new P;S.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function R(q,Y,W,re){return q<=15?Y^W^re:q<=31?Y&W|~Y&re:q<=47?(Y|~W)^re:q<=63?Y&re|W&~re:Y^(W|~re)}function A(q){return q<=15?1352829926:q<=31?1548603684:q<=47?1836072691:q<=63?2053994217:0}g.inherits(P,S),j.ripemd160=P,P.blockSize=512,P.outSize=160,P.hmacStrength=192,P.padLength=64,P.prototype._update=function(Y,W){for(var re=this.h[0],ie=this.h[1],ae=this.h[2],ue=this.h[3],ce=this.h[4],pe=re,ve=ie,De=ae,C=ue,s=ce,d=0;d<80;d++){var h=H(B(k(re,R(d,ie,ae,ue),Y[V[d]+W],(q=d)<=15?0:q<=31?1518500249:q<=47?1859775393:q<=63?2400959708:2840853838),K[d]),ce);re=ce,ce=ue,ue=B(ae,10),ae=ie,ie=h,h=H(B(k(pe,R(79-d,ve,De,C),Y[U[d]+W],A(d)),Q[d]),s),pe=s,s=C,C=B(De,10),De=ve,ve=h}var q;h=b(this.h[1],ae,C),this.h[1]=b(this.h[2],ue,s),this.h[2]=b(this.h[3],ce,pe),this.h[3]=b(this.h[4],re,ve),this.h[4]=b(this.h[0],ie,De),this.h[0]=h},P.prototype._digest=function(Y){return"hex"===Y?g.toHex32(this.h,"little"):g.split32(this.h,"little")};var V=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],U=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],K=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Q=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:($e,j,E)=>{"use strict";j.sha1=E(33468),j.sha224=E(5563),j.sha256=E(27138),j.sha384=E(93898),j.sha512=E(10827)},33468:($e,j,E)=>{"use strict";var g=E(68283),w=E(12901),B=E(95542),H=g.rotl32,b=g.sum32,k=g.sum32_5,S=B.ft_1,P=w.BlockHash,R=[1518500249,1859775393,2400959708,3395469782];function O(){if(!(this instanceof O))return new O;P.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}g.inherits(O,P),$e.exports=O,O.blockSize=512,O.outSize=160,O.hmacStrength=80,O.padLength=64,O.prototype._update=function(V,U){for(var K=this.W,Q=0;Q<16;Q++)K[Q]=V[U+Q];for(;Q<K.length;Q++)K[Q]=H(K[Q-3]^K[Q-8]^K[Q-14]^K[Q-16],1);var q=this.h[0],Y=this.h[1],W=this.h[2],re=this.h[3],ie=this.h[4];for(Q=0;Q<K.length;Q++){var ae=~~(Q/20),ue=k(H(q,5),S(ae,Y,W,re),ie,K[Q],R[ae]);ie=re,re=W,W=H(Y,30),Y=q,q=ue}this.h[0]=b(this.h[0],q),this.h[1]=b(this.h[1],Y),this.h[2]=b(this.h[2],W),this.h[3]=b(this.h[3],re),this.h[4]=b(this.h[4],ie)},O.prototype._digest=function(V){return"hex"===V?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},5563:($e,j,E)=>{"use strict";var g=E(68283),w=E(27138);function B(){if(!(this instanceof B))return new B;w.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}g.inherits(B,w),$e.exports=B,B.blockSize=512,B.outSize=224,B.hmacStrength=192,B.padLength=64,B.prototype._digest=function(b){return"hex"===b?g.toHex32(this.h.slice(0,7),"big"):g.split32(this.h.slice(0,7),"big")}},27138:($e,j,E)=>{"use strict";var g=E(68283),w=E(12901),B=E(95542),H=E(39210),b=g.sum32,k=g.sum32_4,S=g.sum32_5,P=B.ch32,R=B.maj32,O=B.s0_256,A=B.s1_256,V=B.g0_256,U=B.g1_256,K=w.BlockHash,Q=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function q(){if(!(this instanceof q))return new q;K.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Q,this.W=new Array(64)}g.inherits(q,K),$e.exports=q,q.blockSize=512,q.outSize=256,q.hmacStrength=192,q.padLength=64,q.prototype._update=function(W,re){for(var ie=this.W,ae=0;ae<16;ae++)ie[ae]=W[re+ae];for(;ae<ie.length;ae++)ie[ae]=k(U(ie[ae-2]),ie[ae-7],V(ie[ae-15]),ie[ae-16]);var ue=this.h[0],ce=this.h[1],pe=this.h[2],ve=this.h[3],De=this.h[4],C=this.h[5],s=this.h[6],d=this.h[7];for(H(this.k.length===ie.length),ae=0;ae<ie.length;ae++){var h=S(d,A(De),P(De,C,s),this.k[ae],ie[ae]),f=b(O(ue),R(ue,ce,pe));d=s,s=C,C=De,De=b(ve,h),ve=pe,pe=ce,ce=ue,ue=b(h,f)}this.h[0]=b(this.h[0],ue),this.h[1]=b(this.h[1],ce),this.h[2]=b(this.h[2],pe),this.h[3]=b(this.h[3],ve),this.h[4]=b(this.h[4],De),this.h[5]=b(this.h[5],C),this.h[6]=b(this.h[6],s),this.h[7]=b(this.h[7],d)},q.prototype._digest=function(W){return"hex"===W?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},93898:($e,j,E)=>{"use strict";var g=E(68283),w=E(10827);function B(){if(!(this instanceof B))return new B;w.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}g.inherits(B,w),$e.exports=B,B.blockSize=1024,B.outSize=384,B.hmacStrength=192,B.padLength=128,B.prototype._digest=function(b){return"hex"===b?g.toHex32(this.h.slice(0,12),"big"):g.split32(this.h.slice(0,12),"big")}},10827:($e,j,E)=>{"use strict";var g=E(68283),w=E(12901),B=E(39210),H=g.rotr64_hi,b=g.rotr64_lo,k=g.shr64_hi,S=g.shr64_lo,P=g.sum64,R=g.sum64_hi,O=g.sum64_lo,A=g.sum64_4_hi,V=g.sum64_4_lo,U=g.sum64_5_hi,K=g.sum64_5_lo,Q=w.BlockHash,q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(){if(!(this instanceof Y))return new Y;Q.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=q,this.W=new Array(160)}function W(h,f,_,I,L){var x=h&_^~h&L;return x<0&&(x+=4294967296),x}function re(h,f,_,I,L,x){var a=f&I^~f&x;return a<0&&(a+=4294967296),a}function ie(h,f,_,I,L){var x=h&_^h&L^_&L;return x<0&&(x+=4294967296),x}function ae(h,f,_,I,L,x){var a=f&I^f&x^I&x;return a<0&&(a+=4294967296),a}function ue(h,f){var x=H(h,f,28)^H(f,h,2)^H(f,h,7);return x<0&&(x+=4294967296),x}function ce(h,f){var x=b(h,f,28)^b(f,h,2)^b(f,h,7);return x<0&&(x+=4294967296),x}function pe(h,f){var x=H(h,f,14)^H(h,f,18)^H(f,h,9);return x<0&&(x+=4294967296),x}function ve(h,f){var x=b(h,f,14)^b(h,f,18)^b(f,h,9);return x<0&&(x+=4294967296),x}function De(h,f){var x=H(h,f,1)^H(h,f,8)^k(h,f,7);return x<0&&(x+=4294967296),x}function C(h,f){var x=b(h,f,1)^b(h,f,8)^S(h,f,7);return x<0&&(x+=4294967296),x}function s(h,f){var x=H(h,f,19)^H(f,h,29)^k(h,f,6);return x<0&&(x+=4294967296),x}function d(h,f){var x=b(h,f,19)^b(f,h,29)^S(h,f,6);return x<0&&(x+=4294967296),x}g.inherits(Y,Q),$e.exports=Y,Y.blockSize=1024,Y.outSize=512,Y.hmacStrength=192,Y.padLength=128,Y.prototype._prepareBlock=function(f,_){for(var I=this.W,L=0;L<32;L++)I[L]=f[_+L];for(;L<I.length;L+=2){var x=s(I[L-4],I[L-3]),a=d(I[L-4],I[L-3]),v=I[L-14],Z=I[L-13],z=De(I[L-30],I[L-29]),ee=C(I[L-30],I[L-29]),le=I[L-32],we=I[L-31];I[L]=A(x,a,v,Z,z,ee,le,we),I[L+1]=V(x,a,v,Z,z,ee,le,we)}},Y.prototype._update=function(f,_){this._prepareBlock(f,_);var I=this.W,L=this.h[0],x=this.h[1],a=this.h[2],v=this.h[3],Z=this.h[4],z=this.h[5],ee=this.h[6],le=this.h[7],we=this.h[8],Me=this.h[9],Ze=this.h[10],ge=this.h[11],me=this.h[12],Ue=this.h[13],xe=this.h[14],Ce=this.h[15];B(this.k.length===I.length);for(var be=0;be<I.length;be+=2){var he=xe,ne=Ce,te=pe(we,Me),de=ve(we,Me),_e=W(we,0,Ze,0,me),Ie=re(0,Me,0,ge,0,Ue),He=this.k[be],Ve=this.k[be+1],Dt=I[be],Ne=I[be+1],ke=U(he,ne,te,de,_e,Ie,He,Ve,Dt,Ne),yt=K(he,ne,te,de,_e,Ie,He,Ve,Dt,Ne);he=ue(L,x),ne=ce(L,x),te=ie(L,0,a,0,Z),de=ae(0,x,0,v,0,z);var F=R(he,ne,te,de),D=O(he,ne,te,de);xe=me,Ce=Ue,me=Ze,Ue=ge,Ze=we,ge=Me,we=R(ee,le,ke,yt),Me=O(le,le,ke,yt),ee=Z,le=z,Z=a,z=v,a=L,v=x,L=R(ke,yt,F,D),x=O(ke,yt,F,D)}P(this.h,0,L,x),P(this.h,2,a,v),P(this.h,4,Z,z),P(this.h,6,ee,le),P(this.h,8,we,Me),P(this.h,10,Ze,ge),P(this.h,12,me,Ue),P(this.h,14,xe,Ce)},Y.prototype._digest=function(f){return"hex"===f?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},95542:($e,j,E)=>{"use strict";var w=E(68283).rotr32;function H(A,V,U){return A&V^~A&U}function b(A,V,U){return A&V^A&U^V&U}function k(A,V,U){return A^V^U}j.ft_1=function B(A,V,U,K){return 0===A?H(V,U,K):1===A||3===A?k(V,U,K):2===A?b(V,U,K):void 0},j.ch32=H,j.maj32=b,j.p32=k,j.s0_256=function S(A){return w(A,2)^w(A,13)^w(A,22)},j.s1_256=function P(A){return w(A,6)^w(A,11)^w(A,25)},j.g0_256=function R(A){return w(A,7)^w(A,18)^A>>>3},j.g1_256=function O(A){return w(A,17)^w(A,19)^A>>>10}},68283:($e,j,E)=>{"use strict";var g=E(39210),w=E(71993);function B(d,h){return!(55296!=(64512&d.charCodeAt(h))||h<0||h+1>=d.length)&&56320==(64512&d.charCodeAt(h+1))}function k(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function P(d){return 1===d.length?"0"+d:d}function R(d){return 7===d.length?"0"+d:6===d.length?"00"+d:5===d.length?"000"+d:4===d.length?"0000"+d:3===d.length?"00000"+d:2===d.length?"000000"+d:1===d.length?"0000000"+d:d}j.inherits=w,j.toArray=function H(d,h){if(Array.isArray(d))return d.slice();if(!d)return[];var f=[];if("string"==typeof d)if(h){if("hex"===h)for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),I=0;I<d.length;I+=2)f.push(parseInt(d[I]+d[I+1],16))}else for(var _=0,I=0;I<d.length;I++){var L=d.charCodeAt(I);L<128?f[_++]=L:L<2048?(f[_++]=L>>6|192,f[_++]=63&L|128):B(d,I)?(L=65536+((1023&L)<<10)+(1023&d.charCodeAt(++I)),f[_++]=L>>18|240,f[_++]=L>>12&63|128,f[_++]=L>>6&63|128,f[_++]=63&L|128):(f[_++]=L>>12|224,f[_++]=L>>6&63|128,f[_++]=63&L|128)}else for(I=0;I<d.length;I++)f[I]=0|d[I];return f},j.toHex=function b(d){for(var h="",f=0;f<d.length;f++)h+=P(d[f].toString(16));return h},j.htonl=k,j.toHex32=function S(d,h){for(var f="",_=0;_<d.length;_++){var I=d[_];"little"===h&&(I=k(I)),f+=R(I.toString(16))}return f},j.zero2=P,j.zero8=R,j.join32=function O(d,h,f,_){var I=f-h;g(I%4==0);for(var L=new Array(I/4),x=0,a=h;x<L.length;x++,a+=4)L[x]=("big"===_?d[a]<<24|d[a+1]<<16|d[a+2]<<8|d[a+3]:d[a+3]<<24|d[a+2]<<16|d[a+1]<<8|d[a])>>>0;return L},j.split32=function A(d,h){for(var f=new Array(4*d.length),_=0,I=0;_<d.length;_++,I+=4){var L=d[_];"big"===h?(f[I]=L>>>24,f[I+1]=L>>>16&255,f[I+2]=L>>>8&255,f[I+3]=255&L):(f[I+3]=L>>>24,f[I+2]=L>>>16&255,f[I+1]=L>>>8&255,f[I]=255&L)}return f},j.rotr32=function V(d,h){return d>>>h|d<<32-h},j.rotl32=function U(d,h){return d<<h|d>>>32-h},j.sum32=function K(d,h){return d+h>>>0},j.sum32_3=function Q(d,h,f){return d+h+f>>>0},j.sum32_4=function q(d,h,f,_){return d+h+f+_>>>0},j.sum32_5=function Y(d,h,f,_,I){return d+h+f+_+I>>>0},j.sum64=function W(d,h,f,_){var x=_+d[h+1]>>>0;d[h]=(x<_?1:0)+f+d[h]>>>0,d[h+1]=x},j.sum64_hi=function re(d,h,f,_){return(h+_>>>0<h?1:0)+d+f>>>0},j.sum64_lo=function ie(d,h,f,_){return h+_>>>0},j.sum64_4_hi=function ae(d,h,f,_,I,L,x,a){var v=0,Z=h;return v+=(Z=Z+_>>>0)<h?1:0,v+=(Z=Z+L>>>0)<L?1:0,d+f+I+x+(v+=(Z=Z+a>>>0)<a?1:0)>>>0},j.sum64_4_lo=function ue(d,h,f,_,I,L,x,a){return h+_+L+a>>>0},j.sum64_5_hi=function ce(d,h,f,_,I,L,x,a,v,Z){var z=0,ee=h;return z+=(ee=ee+_>>>0)<h?1:0,z+=(ee=ee+L>>>0)<L?1:0,z+=(ee=ee+a>>>0)<a?1:0,d+f+I+x+v+(z+=(ee=ee+Z>>>0)<Z?1:0)>>>0},j.sum64_5_lo=function pe(d,h,f,_,I,L,x,a,v,Z){return h+_+L+a+Z>>>0},j.rotr64_hi=function ve(d,h,f){return(h<<32-f|d>>>f)>>>0},j.rotr64_lo=function De(d,h,f){return(d<<32-f|h>>>f)>>>0},j.shr64_hi=function C(d,h,f){return d>>>f},j.shr64_lo=function s(d,h,f){return(d<<32-f|h>>>f)>>>0}},33556:($e,j,E)=>{"use strict";var g=E(52529),w=E(21832),B=E(39210);function H(b){if(!(this instanceof H))return new H(b);this.hash=b.hash,this.predResist=!!b.predResist,this.outLen=this.hash.outSize,this.minEntropy=b.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var k=w.toArray(b.entropy,b.entropyEnc||"hex"),S=w.toArray(b.nonce,b.nonceEnc||"hex"),P=w.toArray(b.pers,b.persEnc||"hex");B(k.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(k,S,P)}$e.exports=H,H.prototype._init=function(k,S,P){var R=k.concat(S).concat(P);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var O=0;O<this.V.length;O++)this.K[O]=0,this.V[O]=1;this._update(R),this._reseed=1,this.reseedInterval=281474976710656},H.prototype._hmac=function(){return new g.hmac(this.hash,this.K)},H.prototype._update=function(k){var S=this._hmac().update(this.V).update([0]);k&&(S=S.update(k)),this.K=S.digest(),this.V=this._hmac().update(this.V).digest(),k&&(this.K=this._hmac().update(this.V).update([1]).update(k).digest(),this.V=this._hmac().update(this.V).digest())},H.prototype.reseed=function(k,S,P,R){"string"!=typeof S&&(R=P,P=S,S=null),k=w.toArray(k,S),P=w.toArray(P,R),B(k.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(k.concat(P||[])),this._reseed=1},H.prototype.generate=function(k,S,P,R){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof S&&(R=P,P=S,S=null),P&&(P=w.toArray(P,R||"hex"),this._update(P));for(var O=[];O.length<k;)this.V=this._hmac().update(this.V).digest(),O=O.concat(this.V);var A=O.slice(0,k);return this._update(P),this._reseed++,w.encode(A,S)}},22020:($e,j)=>{j.read=function(E,g,w,B,H){var b,k,S=8*H-B-1,P=(1<<S)-1,R=P>>1,O=-7,A=w?H-1:0,V=w?-1:1,U=E[g+A];for(A+=V,b=U&(1<<-O)-1,U>>=-O,O+=S;O>0;b=256*b+E[g+A],A+=V,O-=8);for(k=b&(1<<-O)-1,b>>=-O,O+=B;O>0;k=256*k+E[g+A],A+=V,O-=8);if(0===b)b=1-R;else{if(b===P)return k?NaN:1/0*(U?-1:1);k+=Math.pow(2,B),b-=R}return(U?-1:1)*k*Math.pow(2,b-B)},j.write=function(E,g,w,B,H,b){var k,S,P,R=8*b-H-1,O=(1<<R)-1,A=O>>1,V=23===H?Math.pow(2,-24)-Math.pow(2,-77):0,U=B?0:b-1,K=B?1:-1,Q=g<0||0===g&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(S=isNaN(g)?1:0,k=O):(k=Math.floor(Math.log(g)/Math.LN2),g*(P=Math.pow(2,-k))<1&&(k--,P*=2),(g+=k+A>=1?V/P:V*Math.pow(2,1-A))*P>=2&&(k++,P/=2),k+A>=O?(S=0,k=O):k+A>=1?(S=(g*P-1)*Math.pow(2,H),k+=A):(S=g*Math.pow(2,A-1)*Math.pow(2,H),k=0));H>=8;E[w+U]=255&S,U+=K,S/=256,H-=8);for(k=k<<H|S,R+=H;R>0;E[w+U]=255&k,U+=K,k/=256,R-=8);E[w+U-K]|=128*Q}},71993:$e=>{$e.exports="function"==typeof Object.create?function(E,g){g&&(E.super_=g,E.prototype=Object.create(g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}))}:function(E,g){if(g){E.super_=g;var w=function(){};w.prototype=g.prototype,E.prototype=new w,E.prototype.constructor=E}}},42853:$e=>{"use strict";function j(g,w){for(const B in w)Object.defineProperty(g,B,{value:w[B],enumerable:!0,configurable:!0});return g}$e.exports=function E(g,w,B){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");B||(B={}),"object"==typeof w&&(B=w,w=""),w&&(B.code=w);try{return j(g,B)}catch{B.message=g.message,B.stack=g.stack;const b=function(){};return b.prototype=Object.create(Object.getPrototypeOf(g)),j(new b,B)}}},5014:$e=>{"use strict";function j(g,w){for(const B in w)Object.defineProperty(g,B,{value:w[B],enumerable:!0,configurable:!0});return g}$e.exports=function E(g,w,B){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");B||(B={}),"object"==typeof w&&(B=w,w=""),w&&(B.code=w);try{return j(g,B)}catch{B.message=g.message,B.stack=g.stack;const b=function(){};return b.prototype=Object.create(Object.getPrototypeOf(g)),j(new b,B)}}},3087:$e=>{"use strict";function j(g,w){for(const B in w)Object.defineProperty(g,B,{value:w[B],enumerable:!0,configurable:!0});return g}$e.exports=function E(g,w,B){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");B||(B={}),"object"==typeof w&&(B=w,w=""),w&&(B.code=w);try{return j(g,B)}catch{B.message=g.message,B.stack=g.stack;const b=function(){};return b.prototype=Object.create(Object.getPrototypeOf(g)),j(new b,B)}}},20053:$e=>{var j={}.toString;$e.exports=Array.isArray||function(E){return"[object Array]"==j.call(E)}},89994:function($e){$e.exports=function(){"use strict";var j=Math.imul,E=Math.clz32;function g(ce){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(ce)}function B(ce,pe){for(var ve,De=0;De<pe.length;De++)(ve=pe[De]).enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(ce,ve.key,ve)}function k(ce){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(ce)}function S(ce,pe){return(S=Object.setPrototypeOf||function(ve,De){return ve.__proto__=De,ve})(ce,pe)}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(){return(R=P()?Reflect.construct:function(ce,pe,ve){var De=[null];De.push.apply(De,pe);var s=new(Function.bind.apply(ce,De));return ve&&S(s,ve.prototype),s}).apply(null,arguments)}function A(ce){var pe="function"==typeof Map?new Map:void 0;return A=function(ve){function De(){return R(ve,arguments,k(this).constructor)}if(null===ve||!function O(ce){return-1!==Function.toString.call(ce).indexOf("[native code]")}(ve))return ve;if("function"!=typeof ve)throw new TypeError("Super expression must either be null or a function");if(typeof pe<"u"){if(pe.has(ve))return pe.get(ve);pe.set(ve,De)}return De.prototype=Object.create(ve.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}),S(De,ve)},A(ce)}function V(ce){if(void 0===ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function K(ce){var pe=P();return function(){var ve,De=k(ce);if(pe){var C=k(this).constructor;ve=Reflect.construct(De,arguments,C)}else ve=De.apply(this,arguments);return function U(ce,pe){if(pe&&("object"==typeof pe||"function"==typeof pe))return pe;if(void 0!==pe)throw new TypeError("Derived constructors may only return object or undefined");return V(ce)}(this,ve)}}function Q(ce,pe){return function q(ce){if(Array.isArray(ce))return ce}(ce)||function Y(ce,pe){var ve=null==ce?null:typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(null!=ve){var De,C,s=[],d=!0,h=!1;try{for(ve=ve.call(ce);!(d=(De=ve.next()).done)&&(s.push(De.value),!pe||s.length!==pe);d=!0);}catch(f){h=!0,C=f}finally{try{d||null==ve.return||ve.return()}finally{if(h)throw C}}return s}}(ce,pe)||W(ce,pe)||function ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(ce,pe){if(ce){if("string"==typeof ce)return re(ce,pe);var ve=Object.prototype.toString.call(ce).slice(8,-1);return"Object"===ve&&ce.constructor&&(ve=ce.constructor.name),"Map"===ve||"Set"===ve?Array.from(ce):"Arguments"===ve||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve)?re(ce,pe):void 0}}function re(ce,pe){(null==pe||pe>ce.length)&&(pe=ce.length);for(var ve=0,De=Array(pe);ve<pe;ve++)De[ve]=ce[ve];return De}var ue=function(ce){var pe=Math.abs,ve=Math.max,De=Math.floor;function C(d,h){var f;if(function w(ce,pe){if(!(ce instanceof pe))throw new TypeError("Cannot call a class as a function")}(this,C),(f=s.call(this,d)).sign=h,Object.setPrototypeOf(V(f),C.prototype),d>C.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return f}!function b(ce,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(pe&&pe.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Object.defineProperty(ce,"prototype",{writable:!1}),pe&&S(ce,pe)}(C,ce);var s=K(C);return function H(ce,pe,ve){return pe&&B(ce.prototype,pe),ve&&B(ce,ve),Object.defineProperty(ce,"prototype",{writable:!1}),ce}(C,[{key:"toDebugString",value:function(){var d,h=["BigInt["],f=function ae(ce,pe){var ve=typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(!ve){if(Array.isArray(ce)||(ve=W(ce))||pe&&ce&&"number"==typeof ce.length){ve&&(ce=ve);var De=0,C=function(){};return{s:C,n:function(){return De>=ce.length?{done:!0}:{done:!1,value:ce[De++]}},e:function(f){throw f},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,d=!0,h=!1;return{s:function(){ve=ve.call(ce)},n:function(){var f=ve.next();return d=f.done,f},e:function(f){h=!0,s=f},f:function(){try{d||null==ve.return||ve.return()}finally{if(h)throw s}}}}(this);try{for(f.s();!(d=f.n()).done;){var _=d.value;h.push((_&&(_>>>0).toString(16))+", ")}}catch(I){f.e(I)}finally{f.f()}return h.push("]"),h.join("")}},{key:"toString",value:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>d||36<d)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":d&d-1?C.__toStringGeneric(this,d,!1):C.__toStringBasePowerOfTwo(this,d)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var d=new C(this.length,this.sign),h=0;h<this.length;h++)d[h]=this[h];return d}},{key:"__trim",value:function(){for(var d=this.length,h=this[d-1];0===h;)h=this[--d-1],this.pop();return 0===d&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var d=0;d<this.length;d++)this[d]=0}},{key:"__clzmsd",value:function(){return C.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(d,h,f){f>this.length&&(f=this.length);for(var _=32767&d,I=d>>>15,L=0,x=h,a=0;a<f;a++){var v=this.__digit(a),Z=32767&v,z=v>>>15,ee=C.__imul(Z,_),le=C.__imul(Z,I),we=C.__imul(z,_),Ze=x+ee+L;L=Ze>>>30,Ze&=1073741823,L+=(Ze+=((32767&le)<<15)+((32767&we)<<15))>>>30,x=C.__imul(z,I)+(le>>>15)+(we>>>15),this.__setDigit(a,1073741823&Ze)}if(0!==L||0!==x)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(d,h,f){for(var _,I=0,L=0;L<f;L++)I=(_=this.__halfDigit(h+L)+d.__halfDigit(L)+I)>>>15,this.__setHalfDigit(h+L,32767&_);return I}},{key:"__inplaceSub",value:function(d,h,f){var _=0;if(1&h){for(var I=this.__digit(h>>=1),L=32767&I,x=0;x<f-1>>>1;x++){var a=d.__digit(x),v=(I>>>15)-(32767&a)-_;_=1&v>>>15,this.__setDigit(h+x,(32767&v)<<15|32767&L),_=1&(L=(32767&(I=this.__digit(h+x+1)))-(a>>>15)-_)>>>15}var Z=d.__digit(x),z=(I>>>15)-(32767&Z)-_;if(_=1&z>>>15,this.__setDigit(h+x,(32767&z)<<15|32767&L),h+x+1>=this.length)throw new RangeError("out of bounds");!(1&f)&&(_=1&(L=(32767&(I=this.__digit(h+x+1)))-(Z>>>15)-_)>>>15,this.__setDigit(h+d.length,1073709056&I|32767&L))}else{h>>=1;for(var ee=0;ee<d.length-1;ee++){var le=this.__digit(h+ee),we=d.__digit(ee),Me=(32767&le)-(32767&we)-_,Ze=(le>>>15)-(we>>>15)-(_=1&Me>>>15);_=1&Ze>>>15,this.__setDigit(h+ee,(32767&Ze)<<15|32767&Me)}var ge=this.__digit(h+ee),me=d.__digit(ee),Ue=(32767&ge)-(32767&me)-_;_=1&Ue>>>15;var xe=0;!(1&f)&&(_=1&(xe=(ge>>>15)-(me>>>15)-_)>>>15),this.__setDigit(h+ee,(32767&xe)<<15|32767&Ue)}return _}},{key:"__inplaceRightShift",value:function(d){if(0!==d){for(var h,f=this.__digit(0)>>>d,_=this.length-1,I=0;I<_;I++)h=this.__digit(I+1),this.__setDigit(I,1073741823&h<<30-d|f),f=h>>>d;this.__setDigit(_,f)}}},{key:"__digit",value:function(d){return this[d]}},{key:"__unsignedDigit",value:function(d){return this[d]>>>0}},{key:"__setDigit",value:function(d,h){this[d]=0|h}},{key:"__setDigitGrow",value:function(d,h){this[d]=0|h}},{key:"__halfDigitLength",value:function(){var d=this.length;return 32767>=this.__unsignedDigit(d-1)?2*d-1:2*d}},{key:"__halfDigit",value:function(d){return 32767&this[d>>>1]>>>15*(1&d)}},{key:"__setHalfDigit",value:function(d,h){var f=d>>>1,_=this.__digit(f);this.__setDigit(f,1&d?32767&_|h<<15:1073709056&_|32767&h)}}],[{key:"BigInt",value:function(d){var h=Number.isFinite;if("number"==typeof d){if(0===d)return C.__zero();if(C.__isOneDigitInt(d))return 0>d?C.__oneDigit(-d,!0):C.__oneDigit(d,!1);if(!h(d)||De(d)!==d)throw new RangeError("The number "+d+" cannot be converted to BigInt because it is not an integer");return C.__fromDouble(d)}if("string"==typeof d){var f=C.__fromString(d);if(null===f)throw new SyntaxError("Cannot convert "+d+" to a BigInt");return f}if("boolean"==typeof d)return!0===d?C.__oneDigit(1,!1):C.__zero();if("object"===g(d)){if(d.constructor===C)return d;var _=C.__toPrimitive(d);return C.BigInt(_)}throw new TypeError("Cannot convert "+d+" to a BigInt")}},{key:"toNumber",value:function(d){var h=d.length;if(0===h)return 0;if(1===h){var f=d.__unsignedDigit(0);return d.sign?-f:f}var _=d.__digit(h-1),I=C.__clz30(_),L=30*h-I;if(1024<L)return d.sign?-1/0:1/0;var x=L-1,a=_,v=h-1,Z=I+3,z=32===Z?0:a<<Z;z>>>=12;var ee=Z-12,le=12<=Z?0:a<<20+Z,we=20+Z;for(0<ee&&0<v&&(v--,z|=(a=d.__digit(v))>>>30-ee,le=a<<ee+2,we=ee+2);0<we&&0<v;)v--,a=d.__digit(v),le|=30<=we?a<<we-30:a>>>30-we,we-=30;var Me=C.__decideRounding(d,we,v,a);return 1!==Me&&(0!==Me||1&~le)||0!=(le=le+1>>>0)||!(++z>>>20!=0&&(z=0,1023<++x))?(C.__kBitConversionInts[1]=(d.sign?-2147483648:0)|(x=x+1023<<20)|z,C.__kBitConversionInts[0]=le,C.__kBitConversionDouble[0]):d.sign?-1/0:1/0}},{key:"unaryMinus",value:function(d){if(0===d.length)return d;var h=d.__copy();return h.sign=!d.sign,h}},{key:"bitwiseNot",value:function(d){return d.sign?C.__absoluteSubOne(d).__trim():C.__absoluteAddOne(d,!0)}},{key:"exponentiate",value:function(d,h){if(h.sign)throw new RangeError("Exponent must be positive");if(0===h.length)return C.__oneDigit(1,!1);if(0===d.length)return d;if(1===d.length&&1===d.__digit(0))return!d.sign||1&h.__digit(0)?d:C.unaryMinus(d);if(1<h.length)throw new RangeError("BigInt too big");var f=h.__unsignedDigit(0);if(1===f)return d;if(f>=C.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===d.length&&2===d.__digit(0)){var _=1+(0|f/30),L=new C(_,d.sign&&!!(1&f));return L.__initializeDigits(),L.__setDigit(_-1,1<<f%30),L}var a=null,v=d;for(1&f&&(a=d),f>>=1;0!==f;f>>=1)v=C.multiply(v,v),1&f&&(a=null===a?v:C.multiply(a,v));return a}},{key:"multiply",value:function(d,h){if(0===d.length)return d;if(0===h.length)return h;var f=d.length+h.length;30<=d.__clzmsd()+h.__clzmsd()&&f--;var _=new C(f,d.sign!==h.sign);_.__initializeDigits();for(var I=0;I<d.length;I++)C.__multiplyAccumulate(h,d.__digit(I),_,I);return _.__trim()}},{key:"divide",value:function(d,h){if(0===h.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(d,h))return C.__zero();var f,_=d.sign!==h.sign,I=h.__unsignedDigit(0);if(1===h.length&&32767>=I){if(1===I)return _===d.sign?d:C.unaryMinus(d);f=C.__absoluteDivSmall(d,I,null)}else f=C.__absoluteDivLarge(d,h,!0,!1);return f.sign=_,f.__trim()}},{key:"remainder",value:function(h,f){if(0===f.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(h,f))return h;var _=f.__unsignedDigit(0);if(1===f.length&&32767>=_){if(1===_)return C.__zero();var I=C.__absoluteModSmall(h,_);return 0===I?C.__zero():C.__oneDigit(I,h.sign)}var L=C.__absoluteDivLarge(h,f,!1,!0);return L.sign=h.sign,L.__trim()}},{key:"add",value:function(d,h){var f=d.sign;return f===h.sign?C.__absoluteAdd(d,h,f):0<=C.__absoluteCompare(d,h)?C.__absoluteSub(d,h,f):C.__absoluteSub(h,d,!f)}},{key:"subtract",value:function(d,h){var f=d.sign;return f===h.sign?0<=C.__absoluteCompare(d,h)?C.__absoluteSub(d,h,f):C.__absoluteSub(h,d,!f):C.__absoluteAdd(d,h,f)}},{key:"leftShift",value:function(d,h){return 0===h.length||0===d.length?d:h.sign?C.__rightShiftByAbsolute(d,h):C.__leftShiftByAbsolute(d,h)}},{key:"signedRightShift",value:function(d,h){return 0===h.length||0===d.length?d:h.sign?C.__leftShiftByAbsolute(d,h):C.__rightShiftByAbsolute(d,h)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(d,h){return 0>C.__compareToBigInt(d,h)}},{key:"lessThanOrEqual",value:function(d,h){return 0>=C.__compareToBigInt(d,h)}},{key:"greaterThan",value:function(d,h){return 0<C.__compareToBigInt(d,h)}},{key:"greaterThanOrEqual",value:function(d,h){return 0<=C.__compareToBigInt(d,h)}},{key:"equal",value:function(d,h){if(d.sign!==h.sign||d.length!==h.length)return!1;for(var f=0;f<d.length;f++)if(d.__digit(f)!==h.__digit(f))return!1;return!0}},{key:"notEqual",value:function(d,h){return!C.equal(d,h)}},{key:"bitwiseAnd",value:function(d,h){if(!d.sign&&!h.sign)return C.__absoluteAnd(d,h).__trim();if(d.sign&&h.sign){var f=ve(d.length,h.length)+1,_=C.__absoluteSubOne(d,f),I=C.__absoluteSubOne(h);return _=C.__absoluteOr(_,I,_),C.__absoluteAddOne(_,!0,_).__trim()}if(d.sign){var L=[h,d];d=L[0],h=L[1]}return C.__absoluteAndNot(d,C.__absoluteSubOne(h)).__trim()}},{key:"bitwiseXor",value:function(d,h){if(!d.sign&&!h.sign)return C.__absoluteXor(d,h).__trim();if(d.sign&&h.sign){var f=ve(d.length,h.length),_=C.__absoluteSubOne(d,f),I=C.__absoluteSubOne(h);return C.__absoluteXor(_,I,_).__trim()}var L=ve(d.length,h.length)+1;if(d.sign){var x=[h,d];d=x[0],h=x[1]}var a=C.__absoluteSubOne(h,L);return a=C.__absoluteXor(a,d,a),C.__absoluteAddOne(a,!0,a).__trim()}},{key:"bitwiseOr",value:function(d,h){var f=ve(d.length,h.length);if(!d.sign&&!h.sign)return C.__absoluteOr(d,h).__trim();if(d.sign&&h.sign){var _=C.__absoluteSubOne(d,f),I=C.__absoluteSubOne(h);return _=C.__absoluteAnd(_,I,_),C.__absoluteAddOne(_,!0,_).__trim()}if(d.sign){var L=[h,d];d=L[0],h=L[1]}var x=C.__absoluteSubOne(h,f);return x=C.__absoluteAndNot(x,d,x),C.__absoluteAddOne(x,!0,x).__trim()}},{key:"asIntN",value:function(d,h){if(0===h.length)return h;if(0>(d=De(d)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===d)return C.__zero();if(d>=C.__kMaxLengthBits)return h;var f=0|(d+29)/30;if(h.length<f)return h;var _=h.__unsignedDigit(f-1),I=1<<(d-1)%30;if(h.length===f&&_<I)return h;if((_&I)!==I)return C.__truncateToNBits(d,h);if(!h.sign)return C.__truncateAndSubFromPowerOfTwo(d,h,!0);if(!(_&I-1)){for(var L=f-2;0<=L;L--)if(0!==h.__digit(L))return C.__truncateAndSubFromPowerOfTwo(d,h,!1);return h.length===f&&_===I?h:C.__truncateToNBits(d,h)}return C.__truncateAndSubFromPowerOfTwo(d,h,!1)}},{key:"asUintN",value:function(d,h){if(0===h.length)return h;if(0>(d=De(d)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===d)return C.__zero();if(h.sign){if(d>C.__kMaxLengthBits)throw new RangeError("BigInt too big");return C.__truncateAndSubFromPowerOfTwo(d,h,!1)}if(d>=C.__kMaxLengthBits)return h;var f=0|(d+29)/30;if(h.length<f)return h;var _=d%30;if(h.length==f){if(0===_)return h;if(!(h.__digit(f-1)>>>_))return h}return C.__truncateToNBits(d,h)}},{key:"ADD",value:function(d,h){if(d=C.__toPrimitive(d),h=C.__toPrimitive(h),"string"==typeof d)return"string"!=typeof h&&(h=h.toString()),d+h;if("string"==typeof h)return d.toString()+h;if(d=C.__toNumeric(d),h=C.__toNumeric(h),C.__isBigInt(d)&&C.__isBigInt(h))return C.add(d,h);if("number"==typeof d&&"number"==typeof h)return d+h;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(d,h){return C.__compare(d,h,0)}},{key:"LE",value:function(d,h){return C.__compare(d,h,1)}},{key:"GT",value:function(d,h){return C.__compare(d,h,2)}},{key:"GE",value:function(d,h){return C.__compare(d,h,3)}},{key:"EQ",value:function(d,h){for(;;){if(C.__isBigInt(d))return C.__isBigInt(h)?C.equal(d,h):C.EQ(h,d);if("number"==typeof d){if(C.__isBigInt(h))return C.__equalToNumber(h,d);if("object"!==g(h))return d==h;h=C.__toPrimitive(h)}else if("string"==typeof d){if(C.__isBigInt(h))return null!==(d=C.__fromString(d))&&C.equal(d,h);if("object"!==g(h))return d==h;h=C.__toPrimitive(h)}else if("boolean"==typeof d){if(C.__isBigInt(h))return C.__equalToNumber(h,+d);if("object"!==g(h))return d==h;h=C.__toPrimitive(h)}else if("symbol"===g(d)){if(C.__isBigInt(h))return!1;if("object"!==g(h))return d==h;h=C.__toPrimitive(h)}else{if("object"!==g(d))return d==h;if("object"===g(h)&&h.constructor!==C)return d==h;d=C.__toPrimitive(d)}}}},{key:"NE",value:function(d,h){return!C.EQ(d,h)}},{key:"DataViewGetBigInt64",value:function(d,h){return C.asIntN(64,C.DataViewGetBigUint64(d,h,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]&&arguments[2],I=Q(f?[4,0]:[0,4],2),x=I[1],a=d.getUint32(h+I[0],f),v=d.getUint32(h+x,f),Z=new C(3,!1);return Z.__setDigit(0,1073741823&v),Z.__setDigit(1,(268435455&a)<<2|v>>>30),Z.__setDigit(2,a>>>28),Z.__trim()}},{key:"DataViewSetBigInt64",value:function(d,h,f){C.DataViewSetBigUint64(d,h,f,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(d,h,f){var _=3<arguments.length&&void 0!==arguments[3]&&arguments[3],I=0,L=0;if(0<(f=C.asUintN(64,f)).length&&(L=f.__digit(0),1<f.length)){var x=f.__digit(1);L|=x<<30,I=x>>>2,2<f.length&&(I|=f.__digit(2)<<28)}var v=Q(_?[4,0]:[0,4],2),z=v[1];d.setUint32(h+v[0],I,_),d.setUint32(h+z,L,_)}},{key:"__zero",value:function(){return new C(0,!1)}},{key:"__oneDigit",value:function(d,h){var f=new C(1,h);return f.__setDigit(0,d),f}},{key:"__decideRounding",value:function(d,h,f,_){if(0<h)return-1;var I;if(0>h)I=-h-1;else{if(0===f)return-1;f--,_=d.__digit(f),I=29}var L=1<<I;if(!(_&L))return-1;if(_&(L-=1))return 1;for(;0<f;)if(f--,0!==d.__digit(f))return 1;return 0}},{key:"__fromDouble",value:function(d){C.__kBitConversionDouble[0]=d;var h,_=(2047&C.__kBitConversionInts[1]>>>20)-1023,I=1+(0|_/30),L=new C(I,0>d),x=1048575&C.__kBitConversionInts[1]|1048576,a=C.__kBitConversionInts[0],Z=_%30,z=0;if(Z<20){var ee=20-Z;z=ee+32,h=x>>>ee,x=x<<32-ee|a>>>ee,a<<=32-ee}else if(20===Z)z=32,h=x,x=a,a=0;else{var le=Z-20;z=32-le,h=x<<le|a>>>32-le,x=a<<le,a=0}L.__setDigit(I-1,h);for(var we=I-2;0<=we;we--)0<z?(z-=30,h=x>>>2,x=x<<30|a>>>2,a<<=30):h=0,L.__setDigit(we,h);return L.__trim()}},{key:"__isWhitespace",value:function(d){return 13>=d&&9<=d||(159>=d?32==d:131071>=d?160==d||5760==d:196607>=d?10>=(d&=131071)||40==d||41==d||47==d||95==d||4096==d:65279==d)}},{key:"__fromString",value:function(d){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=0,_=d.length,I=0;if(I===_)return C.__zero();for(var L=d.charCodeAt(I);C.__isWhitespace(L);){if(++I===_)return C.__zero();L=d.charCodeAt(I)}if(43===L){if(++I===_)return null;L=d.charCodeAt(I),f=1}else if(45===L){if(++I===_)return null;L=d.charCodeAt(I),f=-1}if(0===h){if(h=10,48===L){if(++I===_)return C.__zero();if(88===(L=d.charCodeAt(I))||120===L){if(h=16,++I===_)return null;L=d.charCodeAt(I)}else if(79===L||111===L){if(h=8,++I===_)return null;L=d.charCodeAt(I)}else if(66===L||98===L){if(h=2,++I===_)return null;L=d.charCodeAt(I)}}}else if(16===h&&48===L){if(++I===_)return C.__zero();if(88===(L=d.charCodeAt(I))||120===L){if(++I===_)return null;L=d.charCodeAt(I)}}if(0!==f&&10!==h)return null;for(;48===L;){if(++I===_)return C.__zero();L=d.charCodeAt(I)}var x=_-I,a=C.__kMaxBitsPerChar[h],v=C.__kBitsPerCharTableMultiplier-1;if(x>1073741824/a)return null;var z=new C(0|(29+(a*x+v>>>C.__kBitsPerCharTableShift))/30,!1),ee=10>h?h:10,le=10<h?h-10:0;if(h&h-1){z.__initializeDigits();var xe=!1,Ce=0;do{for(var be,he=0,ne=1;;){if(be=void 0,L-48>>>0<ee)be=L-48;else{if(!((32|L)-97>>>0<le)){xe=!0;break}be=(32|L)-87}var te=ne*h;if(1073741823<te)break;if(ne=te,he=he*h+be,Ce++,++I===_){xe=!0;break}L=d.charCodeAt(I)}z.__inplaceMultiplyAdd(ne,he,0|(a*Ce+(v=30*C.__kBitsPerCharTableMultiplier-1)>>>C.__kBitsPerCharTableShift)/30)}while(!xe)}else{a>>=C.__kBitsPerCharTableShift;var we=[],Me=[],Ze=!1;do{for(var ge,me=0,Ue=0;;){if(ge=void 0,L-48>>>0<ee)ge=L-48;else{if(!((32|L)-97>>>0<le)){Ze=!0;break}ge=(32|L)-87}if(Ue+=a,me=me<<a|ge,++I===_){Ze=!0;break}if(L=d.charCodeAt(I),30<Ue+a)break}we.push(me),Me.push(Ue)}while(!Ze);C.__fillFromParts(z,we,Me)}if(I!==_){if(!C.__isWhitespace(L))return null;for(I++;I<_;I++)if(L=d.charCodeAt(I),!C.__isWhitespace(L))return null}return z.sign=-1===f,z.__trim()}},{key:"__fillFromParts",value:function(d,h,f){for(var _=0,I=0,L=0,x=h.length-1;0<=x;x--){var a=h[x],v=f[x];I|=a<<L,30===(L+=v)?(d.__setDigit(_++,I),L=0,I=0):30<L&&(d.__setDigit(_++,1073741823&I),I=a>>>v-(L-=30))}if(0!==I){if(_>=d.length)throw new Error("implementation bug");d.__setDigit(_++,I)}for(;_<d.length;_++)d.__setDigit(_,0)}},{key:"__toStringBasePowerOfTwo",value:function(d,h){var f=d.length,_=h-1,I=_=(15&(_=(51&(_=(85&_>>>1)+(85&_))>>>2)+(51&_))>>>4)+(15&_),L=h-1,x=d.__digit(f-1),v=0|(30*f-C.__clz30(x)+I-1)/I;if(d.sign&&v++,268435456<v)throw new Error("string too long");for(var Z=Array(v),z=v-1,ee=0,le=0,we=0;we<f-1;we++){var Me=d.__digit(we);Z[z--]=C.__kConversionChars[(ee|Me<<le)&L];var ge=I-le;for(ee=Me>>>ge,le=30-ge;le>=I;)Z[z--]=C.__kConversionChars[ee&L],ee>>>=I,le-=I}for(Z[z--]=C.__kConversionChars[(ee|x<<le)&L],ee=x>>>I-le;0!==ee;)Z[z--]=C.__kConversionChars[ee&L],ee>>>=I;if(d.sign&&(Z[z--]="-"),-1!==z)throw new Error("implementation bug");return Z.join("")}},{key:"__toStringGeneric",value:function(d,h,f){var _=d.length;if(0===_)return"";if(1===_){var I=d.__unsignedDigit(0).toString(h);return!1===f&&d.sign&&(I="-"+I),I}var Z,z,L=30*_-C.__clz30(d.__digit(_-1)),a=C.__kMaxBitsPerChar[h]-1,v=L*C.__kBitsPerCharTableMultiplier,ee=1+(v=0|(v+=a-1)/a)>>1,le=C.exponentiate(C.__oneDigit(h,!1),C.__oneDigit(ee,!1)),we=le.__unsignedDigit(0);if(1===le.length&&32767>=we){(Z=new C(d.length,!1)).__initializeDigits();for(var Me,Ze=0,ge=2*d.length-1;0<=ge;ge--)Me=Ze<<15|d.__halfDigit(ge),Z.__setHalfDigit(ge,0|Me/we),Ze=0|Me%we;z=Ze.toString(h)}else{var me=C.__absoluteDivLarge(d,le,!0,!0);Z=me.quotient;var Ue=me.remainder.__trim();z=C.__toStringGeneric(Ue,h,!0)}Z.__trim();for(var xe=C.__toStringGeneric(Z,h,!0);z.length<ee;)z="0"+z;return!1===f&&d.sign&&(xe="-"+xe),xe+z}},{key:"__unequalSign",value:function(d){return d?-1:1}},{key:"__absoluteGreater",value:function(d){return d?-1:1}},{key:"__absoluteLess",value:function(d){return d?1:-1}},{key:"__compareToBigInt",value:function(d,h){var f=d.sign;if(f!==h.sign)return C.__unequalSign(f);var _=C.__absoluteCompare(d,h);return 0<_?C.__absoluteGreater(f):0>_?C.__absoluteLess(f):0}},{key:"__compareToNumber",value:function(d,h){if(C.__isOneDigitInt(h)){var f=d.sign,_=0>h;if(f!==_)return C.__unequalSign(f);if(0===d.length){if(_)throw new Error("implementation bug");return 0===h?0:-1}if(1<d.length)return C.__absoluteGreater(f);var I=pe(h),L=d.__unsignedDigit(0);return L>I?C.__absoluteGreater(f):L<I?C.__absoluteLess(f):0}return C.__compareToDouble(d,h)}},{key:"__compareToDouble",value:function(d,h){if(h!=h)return h;if(h===1/0)return-1;if(h===-1/0)return 1;var f=d.sign;if(f!==0>h)return C.__unequalSign(f);if(0===h)throw new Error("implementation bug: should be handled elsewhere");if(0===d.length)return-1;C.__kBitConversionDouble[0]=h;var _=2047&C.__kBitConversionInts[1]>>>20;if(2047==_)throw new Error("implementation bug: handled elsewhere");var I=_-1023;if(0>I)return C.__absoluteGreater(f);var L=d.length,x=d.__digit(L-1),a=C.__clz30(x),v=30*L-a,Z=I+1;if(v<Z)return C.__absoluteLess(f);if(v>Z)return C.__absoluteGreater(f);var z=1048576|1048575&C.__kBitConversionInts[1],ee=C.__kBitConversionInts[0],we=29-a;if(we!==(0|(v-1)%30))throw new Error("implementation bug");var Me,Ze=0;if(we<20){var ge=20-we;Ze=ge+32,Me=z>>>ge,z=z<<32-ge|ee>>>ge,ee<<=32-ge}else if(20===we)Ze=32,Me=z,z=ee,ee=0;else{var me=we-20;Ze=32-me,Me=z<<me|ee>>>32-me,z=ee<<me,ee=0}if((x>>>=0)>(Me>>>=0))return C.__absoluteGreater(f);if(x<Me)return C.__absoluteLess(f);for(var Ue=L-2;0<=Ue;Ue--){0<Ze?(Ze-=30,Me=z>>>2,z=z<<30|ee>>>2,ee<<=30):Me=0;var xe=d.__unsignedDigit(Ue);if(xe>Me)return C.__absoluteGreater(f);if(xe<Me)return C.__absoluteLess(f)}if(0!==z||0!==ee){if(0===Ze)throw new Error("implementation bug");return C.__absoluteLess(f)}return 0}},{key:"__equalToNumber",value:function(d,h){return C.__isOneDigitInt(h)?0===h?0===d.length:1===d.length&&d.sign===0>h&&d.__unsignedDigit(0)===pe(h):0===C.__compareToDouble(d,h)}},{key:"__comparisonResultToBool",value:function(d,h){return 0===h?0>d:1===h?0>=d:2===h?0<d:3===h?0<=d:void 0}},{key:"__compare",value:function(d,h,f){if(d=C.__toPrimitive(d),h=C.__toPrimitive(h),"string"==typeof d&&"string"==typeof h)switch(f){case 0:return d<h;case 1:return d<=h;case 2:return d>h;case 3:return d>=h}if(C.__isBigInt(d)&&"string"==typeof h)return null!==(h=C.__fromString(h))&&C.__comparisonResultToBool(C.__compareToBigInt(d,h),f);if("string"==typeof d&&C.__isBigInt(h))return null!==(d=C.__fromString(d))&&C.__comparisonResultToBool(C.__compareToBigInt(d,h),f);if(d=C.__toNumeric(d),h=C.__toNumeric(h),C.__isBigInt(d)){if(C.__isBigInt(h))return C.__comparisonResultToBool(C.__compareToBigInt(d,h),f);if("number"!=typeof h)throw new Error("implementation bug");return C.__comparisonResultToBool(C.__compareToNumber(d,h),f)}if("number"!=typeof d)throw new Error("implementation bug");if(C.__isBigInt(h))return C.__comparisonResultToBool(C.__compareToNumber(h,d),2^f);if("number"!=typeof h)throw new Error("implementation bug");return 0===f?d<h:1===f?d<=h:2===f?d>h:3===f?d>=h:void 0}},{key:"__absoluteAdd",value:function(d,h,f){if(d.length<h.length)return C.__absoluteAdd(h,d,f);if(0===d.length)return d;if(0===h.length)return d.sign===f?d:C.unaryMinus(d);var _=d.length;(0===d.__clzmsd()||h.length===d.length&&0===h.__clzmsd())&&_++;for(var I,L=new C(_,f),x=0,a=0;a<h.length;a++)x=(I=d.__digit(a)+h.__digit(a)+x)>>>30,L.__setDigit(a,1073741823&I);for(;a<d.length;a++){var v=d.__digit(a)+x;x=v>>>30,L.__setDigit(a,1073741823&v)}return a<L.length&&L.__setDigit(a,x),L.__trim()}},{key:"__absoluteSub",value:function(d,h,f){if(0===d.length)return d;if(0===h.length)return d.sign===f?d:C.unaryMinus(d);for(var _,I=new C(d.length,f),L=0,x=0;x<h.length;x++)L=1&(_=d.__digit(x)-h.__digit(x)-L)>>>30,I.__setDigit(x,1073741823&_);for(;x<d.length;x++){var a=d.__digit(x)-L;L=1&a>>>30,I.__setDigit(x,1073741823&a)}return I.__trim()}},{key:"__absoluteAddOne",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,_=d.length;null===f?f=new C(_,h):f.sign=h;for(var I,L=1,x=0;x<_;x++)L=(I=d.__digit(x)+L)>>>30,f.__setDigit(x,1073741823&I);return 0!==L&&f.__setDigitGrow(_,1),f}},{key:"__absoluteSubOne",value:function(d,h){for(var _,f=d.length,I=new C(h=h||f,!1),L=1,x=0;x<f;x++)L=1&(_=d.__digit(x)-L)>>>30,I.__setDigit(x,1073741823&_);if(0!==L)throw new Error("implementation bug");for(var a=f;a<h;a++)I.__setDigit(a,0);return I}},{key:"__absoluteAnd",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,_=d.length,I=h.length,L=I;if(_<I){L=_;var x=d,a=_;d=h,_=I,h=x,I=a}var v=L;null===f?f=new C(v,!1):v=f.length;for(var Z=0;Z<L;Z++)f.__setDigit(Z,d.__digit(Z)&h.__digit(Z));for(;Z<v;Z++)f.__setDigit(Z,0);return f}},{key:"__absoluteAndNot",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,_=d.length,I=h.length,L=I;_<I&&(L=_);var x=_;null===f?f=new C(x,!1):x=f.length;for(var a=0;a<L;a++)f.__setDigit(a,d.__digit(a)&~h.__digit(a));for(;a<_;a++)f.__setDigit(a,d.__digit(a));for(;a<x;a++)f.__setDigit(a,0);return f}},{key:"__absoluteOr",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,_=d.length,I=h.length,L=I;if(_<I){L=_;var x=d,a=_;d=h,_=I,h=x,I=a}var v=_;null===f?f=new C(v,!1):v=f.length;for(var Z=0;Z<L;Z++)f.__setDigit(Z,d.__digit(Z)|h.__digit(Z));for(;Z<_;Z++)f.__setDigit(Z,d.__digit(Z));for(;Z<v;Z++)f.__setDigit(Z,0);return f}},{key:"__absoluteXor",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,_=d.length,I=h.length,L=I;if(_<I){L=_;var x=d,a=_;d=h,_=I,h=x,I=a}var v=_;null===f?f=new C(v,!1):v=f.length;for(var Z=0;Z<L;Z++)f.__setDigit(Z,d.__digit(Z)^h.__digit(Z));for(;Z<_;Z++)f.__setDigit(Z,d.__digit(Z));for(;Z<v;Z++)f.__setDigit(Z,0);return f}},{key:"__absoluteCompare",value:function(d,h){var f=d.length-h.length;if(0!=f)return f;for(var _=d.length-1;0<=_&&d.__digit(_)===h.__digit(_);)_--;return 0>_?0:d.__unsignedDigit(_)>h.__unsignedDigit(_)?1:-1}},{key:"__multiplyAccumulate",value:function(d,h,f,_){if(0!==h){for(var I=32767&h,L=h>>>15,x=0,a=0,v=0;v<d.length;v++,_++){var Z=f.__digit(_),z=d.__digit(v),ee=32767&z,le=z>>>15,we=C.__imul(ee,I),Me=C.__imul(ee,L),Ze=C.__imul(le,I);x=(Z+=a+we+x)>>>30,Z&=1073741823,x+=(Z+=((32767&Me)<<15)+((32767&Ze)<<15))>>>30,a=C.__imul(le,L)+(Me>>>15)+(Ze>>>15),f.__setDigit(_,1073741823&Z)}for(;0!==x||0!==a;_++){var me=f.__digit(_);me+=x+a,a=0,x=me>>>30,f.__setDigit(_,1073741823&me)}}}},{key:"__internalMultiplyAdd",value:function(d,h,f,_,I){for(var L=f,x=0,a=0;a<_;a++){var v=d.__digit(a),Z=C.__imul(32767&v,h),z=C.__imul(v>>>15,h),ee=Z+((32767&z)<<15)+x+L;L=ee>>>30,x=z>>>15,I.__setDigit(a,1073741823&ee)}if(I.length>_)for(I.__setDigit(_++,L+x);_<I.length;)I.__setDigit(_++,0);else if(L+x!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(d,h){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===f&&(f=new C(d.length,!1));for(var _=0,I=2*d.length-1;0<=I;I-=2){var L=(_<<15|d.__halfDigit(I))>>>0,x=0|L/h;_=0|(L=((_=0|L%h)<<15|d.__halfDigit(I-1))>>>0)%h,f.__setDigit(I>>>1,x<<15|L/h)}return f}},{key:"__absoluteModSmall",value:function(d,h){for(var _=0,I=2*d.length-1;0<=I;I--)_=0|((_<<15|d.__halfDigit(I))>>>0)%h;return _}},{key:"__absoluteDivLarge",value:function(d,h,f,_){var I=h.__halfDigitLength(),L=h.length,x=d.__halfDigitLength()-I,a=null;f&&(a=new C(x+2>>>1,!1)).__initializeDigits();var v=new C(I+2>>>1,!1);v.__initializeDigits();var Z=C.__clz15(h.__halfDigit(I-1));0<Z&&(h=C.__specialLeftShift(h,Z,0));for(var z=C.__specialLeftShift(d,Z,1),ee=h.__halfDigit(I-1),le=0,we=x;0<=we;we--){var Me=32767,Ze=z.__halfDigit(we+I);if(Ze!==ee){var ge=(Ze<<15|z.__halfDigit(we+I-1))>>>0;Me=0|ge/ee;for(var me=0|ge%ee,Ue=h.__halfDigit(I-2),xe=z.__halfDigit(we+I-2);C.__imul(Me,Ue)>>>0>(me<<16|xe)>>>0&&(Me--,!(32767<(me+=ee))););}C.__internalMultiplyAdd(h,Me,0,L,v);var Ce=z.__inplaceSub(v,we,I+1);0!==Ce&&(Ce=z.__inplaceAdd(h,we,I),z.__setHalfDigit(we+I,32767&z.__halfDigit(we+I)+Ce),Me--),f&&(1&we?le=Me<<15:a.__setDigit(we>>>1,le|Me))}if(_)return z.__inplaceRightShift(Z),f?{quotient:a,remainder:z}:z;if(f)return a;throw new Error("unreachable")}},{key:"__clz15",value:function(d){return C.__clz30(d)-15}},{key:"__specialLeftShift",value:function(d,h,f){var _=d.length,I=new C(_+f,!1);if(0===h){for(var L=0;L<_;L++)I.__setDigit(L,d.__digit(L));return 0<f&&I.__setDigit(_,0),I}for(var x,a=0,v=0;v<_;v++)x=d.__digit(v),I.__setDigit(v,1073741823&x<<h|a),a=x>>>30-h;return 0<f&&I.__setDigit(_,a),I}},{key:"__leftShiftByAbsolute",value:function(d,h){var f=C.__toShiftAmount(h);if(0>f)throw new RangeError("BigInt too big");var _=0|f/30,I=f%30,L=d.length,x=0!==I&&d.__digit(L-1)>>>30-I!=0,a=L+_+(x?1:0),v=new C(a,d.sign);if(0===I){for(var Z=0;Z<_;Z++)v.__setDigit(Z,0);for(;Z<a;Z++)v.__setDigit(Z,d.__digit(Z-_))}else{for(var z=0,ee=0;ee<_;ee++)v.__setDigit(ee,0);for(var le,we=0;we<L;we++)le=d.__digit(we),v.__setDigit(we+_,1073741823&le<<I|z),z=le>>>30-I;if(x)v.__setDigit(L+_,z);else if(0!==z)throw new Error("implementation bug")}return v.__trim()}},{key:"__rightShiftByAbsolute",value:function(d,h){var f=d.length,_=d.sign,I=C.__toShiftAmount(h);if(0>I)return C.__rightShiftByMaximum(_);var L=0|I/30,x=I%30,a=f-L;if(0>=a)return C.__rightShiftByMaximum(_);var v=!1;if(_)if(d.__digit(L)&(1<<x)-1)v=!0;else for(var Z=0;Z<L;Z++)if(0!==d.__digit(Z)){v=!0;break}v&&0===x&&!~d.__digit(f-1)&&a++;var ee=new C(a,_);if(0===x){ee.__setDigit(a-1,0);for(var le=L;le<f;le++)ee.__setDigit(le-L,d.__digit(le))}else{for(var we,Me=d.__digit(L)>>>x,Ze=f-L-1,ge=0;ge<Ze;ge++)we=d.__digit(ge+L+1),ee.__setDigit(ge,1073741823&we<<30-x|Me),Me=we>>>x;ee.__setDigit(Ze,Me)}return v&&(ee=C.__absoluteAddOne(ee,!0,ee)),ee.__trim()}},{key:"__rightShiftByMaximum",value:function(d){return d?C.__oneDigit(1,!0):C.__zero()}},{key:"__toShiftAmount",value:function(d){if(1<d.length)return-1;var h=d.__unsignedDigit(0);return h>C.__kMaxLengthBits?-1:h}},{key:"__toPrimitive",value:function(d){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==g(d)||d.constructor===C)return d;if(typeof Symbol<"u"&&"symbol"===g(Symbol.toPrimitive)){var f=d[Symbol.toPrimitive];if(f){var _=f(h);if("object"!==g(_))return _;throw new TypeError("Cannot convert object to primitive value")}}var I=d.valueOf;if(I){var L=I.call(d);if("object"!==g(L))return L}var x=d.toString;if(x){var a=x.call(d);if("object"!==g(a))return a}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(d){return C.__isBigInt(d)?d:+d}},{key:"__isBigInt",value:function(d){return"object"===g(d)&&null!==d&&d.constructor===C}},{key:"__truncateToNBits",value:function(d,h){for(var f=0|(d+29)/30,_=new C(f,h.sign),I=f-1,L=0;L<I;L++)_.__setDigit(L,h.__digit(L));var x=h.__digit(I);if(d%30!=0){var a=32-d%30;x=x<<a>>>a}return _.__setDigit(I,x),_.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(d,h,f){for(var I,_=Math.min,L=0|(d+29)/30,x=new C(L,f),a=0,v=L-1,Z=0,z=_(v,h.length);a<z;a++)Z=1&(I=0-h.__digit(a)-Z)>>>30,x.__setDigit(a,1073741823&I);for(;a<v;a++)x.__setDigit(a,1073741823&-Z);var ee,le=v<h.length?h.__digit(v):0,we=d%30;if(0===we)ee=0-le-Z,ee&=1073741823;else{var Me=32-we,Ze=1<<32-Me;ee=Ze-(le=le<<Me>>>Me)-Z,ee&=Ze-1}return x.__setDigit(v,ee),x.__trim()}},{key:"__digitPow",value:function(d,h){for(var f=1;0<h;)1&h&&(f*=d),h>>>=1,d*=d;return f}},{key:"__isOneDigitInt",value:function(d){return(1073741823&d)===d}}]),C}(A(Array));return ue.__kMaxLength=33554432,ue.__kMaxLengthBits=ue.__kMaxLength<<5,ue.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],ue.__kBitsPerCharTableShift=5,ue.__kBitsPerCharTableMultiplier=1<<ue.__kBitsPerCharTableShift,ue.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ue.__kBitConversionBuffer=new ArrayBuffer(8),ue.__kBitConversionDouble=new Float64Array(ue.__kBitConversionBuffer),ue.__kBitConversionInts=new Int32Array(ue.__kBitConversionBuffer),ue.__clz30=E?function(ce){return E(ce)-2}:function(ce){var pe=Math.LN2,ve=Math.log;return 0===ce?30:0|29-(0|ve(ce>>>0)/pe)},ue.__imul=j||function(ce,pe){return 0|ce*pe},ue}()},44331:$e=>{"use strict";var j=$e.exports=function(w,B,H){"function"==typeof B&&(H=B,B={}),E(B,"function"==typeof(H=B.cb||H)?H:H.pre||function(){},H.post||function(){},w,"",w)};function E(w,B,H,b,k,S,P,R,O,A){if(b&&"object"==typeof b&&!Array.isArray(b)){for(var V in B(b,k,S,P,R,O,A),b){var U=b[V];if(Array.isArray(U)){if(V in j.arrayKeywords)for(var K=0;K<U.length;K++)E(w,B,H,U[K],k+"/"+V+"/"+K,S,k,V,b,K)}else if(V in j.propsKeywords){if(U&&"object"==typeof U)for(var Q in U)E(w,B,H,U[Q],k+"/"+V+"/"+g(Q),S,k,V,b,Q)}else(V in j.keywords||w.allKeys&&!(V in j.skipKeywords))&&E(w,B,H,U,k+"/"+V,S,k,V,b)}H(b,k,S,P,R,O,A)}}function g(w){return w.replace(/~/g,"~0").replace(/\//g,"~1")}j.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},j.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},j.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},j.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:($e,j)=>{"use strict";j.supports=function(...g){const w=g.reduce((B,H)=>Object.assign(B,H),{});return Object.assign(w,{snapshots:w.snapshots||!1,permanence:w.permanence||!1,seek:w.seek||!1,clear:w.clear||!1,getMany:w.getMany||!1,keyIterator:w.keyIterator||!1,valueIterator:w.valueIterator||!1,iteratorNextv:w.iteratorNextv||!1,iteratorAll:w.iteratorAll||!1,status:w.status||!1,createIfMissing:w.createIfMissing||!1,errorIfExists:w.errorIfExists||!1,deferredOpen:w.deferredOpen||!1,promises:w.promises||!1,streams:w.streams||!1,encodings:Object.assign({},w.encodings),events:Object.assign({},w.events),additionalMethods:Object.assign({},w.additionalMethods)})}},25006:($e,j,E)=>{"use strict";const g=E(61747),w=E(40080),{Encoding:B}=E(15045),{BufferFormat:H,ViewFormat:b,UTF8Format:k}=E(48262),S=Symbol("formats"),P=Symbol("encodings"),R=new Set(["buffer","view","utf8"]);j.Transcoder=class O{constructor(Y){if(!Array.isArray(Y))throw new TypeError("The first argument 'formats' must be an array");if(!Y.every(W=>R.has(W)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[P]=new Map,this[S]=new Set(Y);for(const W in w)try{this.encoding(W)}catch(re){if("LEVEL_ENCODING_NOT_SUPPORTED"!==re.code)throw re}}encodings(){return Array.from(new Set(this[P].values()))}encoding(Y){let W=this[P].get(Y);if(void 0===W){if("string"==typeof Y&&""!==Y){if(W=K[Y],!W)throw new g(`Encoding '${Y}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof Y||null===Y)throw new TypeError("First argument 'encoding' must be a string or object");W=function A(q){if(q instanceof B)return q;const W=q.name||("type"in q&&"string"==typeof q.type?q.type:void 0)||"anonymous-"+Q++;switch(function V(q){return"format"in q&&void 0!==q.format?q.format:"buffer"in q&&"boolean"==typeof q.buffer?q.buffer?"buffer":"utf8":"code"in q&&Number.isInteger(q.code)?"view":"buffer"}(q)){case"view":return new b({...q,name:W});case"utf8":return new k({...q,name:W});case"buffer":return new H({...q,name:W});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(Y)}const{name:re,format:ie}=W;if(!this[S].has(ie))if(this[S].has("view"))W=W.createViewTranscoder();else if(this[S].has("buffer"))W=W.createBufferTranscoder();else{if(!this[S].has("utf8"))throw new g(`Encoding '${re}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});W=W.createUTF8Transcoder()}for(const ae of[Y,re,W.name,W.commonName])this[P].set(ae,W)}return W}};const U={binary:w.buffer,"utf-8":w.utf8},K={...w,...U};let Q=0},15045:($e,j,E)=>{"use strict";const g=E(61747),w=new Set(["buffer","view","utf8"]);j.Encoding=class B{constructor(b){if(this.encode=b.encode||this.encode,this.decode=b.decode||this.decode,this.name=b.name||this.name,this.format=b.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!w.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");b.createViewTranscoder&&(this.createViewTranscoder=b.createViewTranscoder),b.createBufferTranscoder&&(this.createBufferTranscoder=b.createBufferTranscoder),b.createUTF8Transcoder&&(this.createUTF8Transcoder=b.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new g(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new g(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new g(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:($e,j,E)=>{"use strict";const{Buffer:g}=E(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:w,textDecoder:B}=E(33619)(),{BufferFormat:H,ViewFormat:b,UTF8Format:k}=E(48262),S=P=>P;j.utf8=new k({encode:function(P){return g.isBuffer(P)?P.toString("utf8"):ArrayBuffer.isView(P)?B.decode(P):String(P)},decode:S,name:"utf8",createViewTranscoder(){return new b({encode:function(P){return ArrayBuffer.isView(P)?P:w.encode(P)},decode:function(P){return B.decode(P)},name:`${this.name}+view`})},createBufferTranscoder(){return new H({encode:function(P){return g.isBuffer(P)?P:ArrayBuffer.isView(P)?g.from(P.buffer,P.byteOffset,P.byteLength):g.from(String(P),"utf8")},decode:function(P){return P.toString("utf8")},name:`${this.name}+buffer`})}}),j.json=new k({encode:JSON.stringify,decode:JSON.parse,name:"json"}),j.buffer=new H({encode:function(P){return g.isBuffer(P)?P:ArrayBuffer.isView(P)?g.from(P.buffer,P.byteOffset,P.byteLength):g.from(String(P),"utf8")},decode:S,name:"buffer",createViewTranscoder(){return new b({encode:function(P){return ArrayBuffer.isView(P)?P:g.from(String(P),"utf8")},decode:function(P){return g.from(P.buffer,P.byteOffset,P.byteLength)},name:`${this.name}+view`})}}),j.view=new b({encode:function(P){return ArrayBuffer.isView(P)?P:w.encode(P)},decode:S,name:"view",createBufferTranscoder(){return new H({encode:function(P){return g.isBuffer(P)?P:ArrayBuffer.isView(P)?g.from(P.buffer,P.byteOffset,P.byteLength):g.from(String(P),"utf8")},decode:S,name:`${this.name}+buffer`})}}),j.hex=new H({encode:function(P){return g.isBuffer(P)?P:g.from(String(P),"hex")},decode:function(P){return P.toString("hex")},name:"hex"}),j.base64=new H({encode:function(P){return g.isBuffer(P)?P:g.from(String(P),"base64")},decode:function(P){return P.toString("base64")},name:"base64"})},48262:($e,j,E)=>{"use strict";const{Buffer:g}=E(484)||{},{Encoding:w}=E(15045),B=E(33619);class H extends w{constructor(P){super({...P,format:"buffer"})}createViewTranscoder(){return new b({encode:this.encode,decode:P=>this.decode(g.from(P.buffer,P.byteOffset,P.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class b extends w{constructor(P){super({...P,format:"view"})}createBufferTranscoder(){return new H({encode:P=>{const R=this.encode(P);return g.from(R.buffer,R.byteOffset,R.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}j.BufferFormat=H,j.ViewFormat=b,j.UTF8Format=class k extends w{constructor(P){super({...P,format:"utf8"})}createBufferTranscoder(){return new H({encode:P=>g.from(this.encode(P),"utf8"),decode:P=>this.decode(P.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:P,textDecoder:R}=B();return new b({encode:O=>P.encode(this.encode(O)),decode:O=>this.decode(R.decode(O)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:$e=>{"use strict";let j=null;$e.exports=function(){return null===j&&(j={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),j}},484:($e,j,E)=>{"use strict";const g=E(13981),w=E(22020),B="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function W(F){return+F!=F&&(F=0),S.alloc(+F)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function k(F){if(F>H)throw new RangeError('The value "'+F+'" is invalid for option "size"');const D=new Uint8Array(F);return Object.setPrototypeOf(D,S.prototype),D}function S(F,D,M){if("number"==typeof F){if("string"==typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return A(F)}return P(F,D,M)}function P(F,D,M){if("string"==typeof F)return function V(F,D){if(("string"!=typeof D||""===D)&&(D="utf8"),!S.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const M=0|re(F,D);let G=k(M);const fe=G.write(F,D);return fe!==M&&(G=G.slice(0,fe)),G}(F,D);if(ArrayBuffer.isView(F))return function K(F){if(Ve(F,Uint8Array)){const D=new Uint8Array(F);return Q(D.buffer,D.byteOffset,D.byteLength)}return U(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ve(F,ArrayBuffer)||F&&Ve(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ve(F,SharedArrayBuffer)||F&&Ve(F.buffer,SharedArrayBuffer)))return Q(F,D,M);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const G=F.valueOf&&F.valueOf();if(null!=G&&G!==F)return S.from(G,D,M);const fe=function q(F){if(S.isBuffer(F)){const D=0|Y(F.length),M=k(D);return 0===M.length||F.copy(M,0,0,D),M}return void 0!==F.length?"number"!=typeof F.length||Dt(F.length)?k(0):U(F):"Buffer"===F.type&&Array.isArray(F.data)?U(F.data):void 0}(F);if(fe)return fe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return S.from(F[Symbol.toPrimitive]("string"),D,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function R(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function A(F){return R(F),k(F<0?0:0|Y(F))}function U(F){const D=F.length<0?0:0|Y(F.length),M=k(D);for(let G=0;G<D;G+=1)M[G]=255&F[G];return M}function Q(F,D,M){if(D<0||F.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<D+(M||0))throw new RangeError('"length" is outside of buffer bounds');let G;return G=void 0===D&&void 0===M?new Uint8Array(F):void 0===M?new Uint8Array(F,D):new Uint8Array(F,D,M),Object.setPrototypeOf(G,S.prototype),G}function Y(F){if(F>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|F}function re(F,D){if(S.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ve(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const M=F.length,G=arguments.length>2&&!0===arguments[2];if(!G&&0===M)return 0;let fe=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return te(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Ie(F).length;default:if(fe)return G?-1:te(F).length;D=(""+D).toLowerCase(),fe=!0}}function ie(F,D,M){let G=!1;if((void 0===D||D<0)&&(D=0),D>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(D>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return x(this,D,M);case"utf8":case"utf-8":return h(this,D,M);case"ascii":return I(this,D,M);case"latin1":case"binary":return L(this,D,M);case"base64":return d(this,D,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,D,M);default:if(G)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),G=!0}}function ae(F,D,M){const G=F[D];F[D]=F[M],F[M]=G}function ue(F,D,M,G,fe){if(0===F.length)return-1;if("string"==typeof M?(G=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=fe?0:F.length-1),M<0&&(M=F.length+M),M>=F.length){if(fe)return-1;M=F.length-1}else if(M<0){if(!fe)return-1;M=0}if("string"==typeof D&&(D=S.from(D,G)),S.isBuffer(D))return 0===D.length?-1:ce(F,D,M,G,fe);if("number"==typeof D)return D&=255,"function"==typeof Uint8Array.prototype.indexOf?fe?Uint8Array.prototype.indexOf.call(F,D,M):Uint8Array.prototype.lastIndexOf.call(F,D,M):ce(F,[D],M,G,fe);throw new TypeError("val must be string, number or Buffer")}function ce(F,D,M,G,fe){let _t,Se=1,Ae=F.length,ot=D.length;if(void 0!==G&&("ucs2"===(G=String(G).toLowerCase())||"ucs-2"===G||"utf16le"===G||"utf-16le"===G)){if(F.length<2||D.length<2)return-1;Se=2,Ae/=2,ot/=2,M/=2}function Gt(Bt,en){return 1===Se?Bt[en]:Bt.readUInt16BE(en*Se)}if(fe){let Bt=-1;for(_t=M;_t<Ae;_t++)if(Gt(F,_t)===Gt(D,-1===Bt?0:_t-Bt)){if(-1===Bt&&(Bt=_t),_t-Bt+1===ot)return Bt*Se}else-1!==Bt&&(_t-=_t-Bt),Bt=-1}else for(M+ot>Ae&&(M=Ae-ot),_t=M;_t>=0;_t--){let Bt=!0;for(let en=0;en<ot;en++)if(Gt(F,_t+en)!==Gt(D,en)){Bt=!1;break}if(Bt)return _t}return-1}function pe(F,D,M,G){M=Number(M)||0;const fe=F.length-M;G?(G=Number(G))>fe&&(G=fe):G=fe;const Se=D.length;let Ae;for(G>Se/2&&(G=Se/2),Ae=0;Ae<G;++Ae){const ot=parseInt(D.substr(2*Ae,2),16);if(Dt(ot))return Ae;F[M+Ae]=ot}return Ae}function ve(F,D,M,G){return He(te(D,F.length-M),F,M,G)}function De(F,D,M,G){return He(function de(F){const D=[];for(let M=0;M<F.length;++M)D.push(255&F.charCodeAt(M));return D}(D),F,M,G)}function C(F,D,M,G){return He(Ie(D),F,M,G)}function s(F,D,M,G){return He(function _e(F,D){let M,G,fe;const Se=[];for(let Ae=0;Ae<F.length&&!((D-=2)<0);++Ae)M=F.charCodeAt(Ae),G=M>>8,fe=M%256,Se.push(fe),Se.push(G);return Se}(D,F.length-M),F,M,G)}function d(F,D,M){return g.fromByteArray(0===D&&M===F.length?F:F.slice(D,M))}function h(F,D,M){M=Math.min(F.length,M);const G=[];let fe=D;for(;fe<M;){const Se=F[fe];let Ae=null,ot=Se>239?4:Se>223?3:Se>191?2:1;if(fe+ot<=M){let Gt,_t,Bt,en;switch(ot){case 1:Se<128&&(Ae=Se);break;case 2:Gt=F[fe+1],128==(192&Gt)&&(en=(31&Se)<<6|63&Gt,en>127&&(Ae=en));break;case 3:Gt=F[fe+1],_t=F[fe+2],128==(192&Gt)&&128==(192&_t)&&(en=(15&Se)<<12|(63&Gt)<<6|63&_t,en>2047&&(en<55296||en>57343)&&(Ae=en));break;case 4:Gt=F[fe+1],_t=F[fe+2],Bt=F[fe+3],128==(192&Gt)&&128==(192&_t)&&128==(192&Bt)&&(en=(15&Se)<<18|(63&Gt)<<12|(63&_t)<<6|63&Bt,en>65535&&en<1114112&&(Ae=en))}}null===Ae?(Ae=65533,ot=1):Ae>65535&&(Ae-=65536,G.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),G.push(Ae),fe+=ot}return function _(F){const D=F.length;if(D<=f)return String.fromCharCode.apply(String,F);let M="",G=0;for(;G<D;)M+=String.fromCharCode.apply(String,F.slice(G,G+=f));return M}(G)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function b(){try{const F=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(F,D),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(F,D,M){return P(F,D,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(F,D,M){return function O(F,D,M){return R(F),F<=0?k(F):void 0!==D?"string"==typeof M?k(F).fill(D,M):k(F).fill(D):k(F)}(F,D,M)},S.allocUnsafe=function(F){return A(F)},S.allocUnsafeSlow=function(F){return A(F)},S.isBuffer=function(D){return null!=D&&!0===D._isBuffer&&D!==S.prototype},S.compare=function(D,M){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),Ve(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(D)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===M)return 0;let G=D.length,fe=M.length;for(let Se=0,Ae=Math.min(G,fe);Se<Ae;++Se)if(D[Se]!==M[Se]){G=D[Se],fe=M[Se];break}return G<fe?-1:fe<G?1:0},S.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(D,M){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return S.alloc(0);let G;if(void 0===M)for(M=0,G=0;G<D.length;++G)M+=D[G].length;const fe=S.allocUnsafe(M);let Se=0;for(G=0;G<D.length;++G){let Ae=D[G];if(Ve(Ae,Uint8Array))Se+Ae.length>fe.length?(S.isBuffer(Ae)||(Ae=S.from(Ae)),Ae.copy(fe,Se)):Uint8Array.prototype.set.call(fe,Ae,Se);else{if(!S.isBuffer(Ae))throw new TypeError('"list" argument must be an Array of Buffers');Ae.copy(fe,Se)}Se+=Ae.length}return fe},S.byteLength=re,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const D=this.length;if(D%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<D;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const D=this.length;if(D%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<D;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const D=this.length;if(D%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<D;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const D=this.length;return 0===D?"":0===arguments.length?h(this,0,D):ie.apply(this,arguments)},S.prototype.equals=function(D){if(!S.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D||0===S.compare(this,D)},S.prototype.inspect=function(){let D="";const M=j.INSPECT_MAX_BYTES;return D=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(D+=" ... "),"<Buffer "+D+">"},B&&(S.prototype[B]=S.prototype.inspect),S.prototype.compare=function(D,M,G,fe,Se){if(Ve(D,Uint8Array)&&(D=S.from(D,D.offset,D.byteLength)),!S.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(void 0===M&&(M=0),void 0===G&&(G=D?D.length:0),void 0===fe&&(fe=0),void 0===Se&&(Se=this.length),M<0||G>D.length||fe<0||Se>this.length)throw new RangeError("out of range index");if(fe>=Se&&M>=G)return 0;if(fe>=Se)return-1;if(M>=G)return 1;if(this===D)return 0;let Ae=(Se>>>=0)-(fe>>>=0),ot=(G>>>=0)-(M>>>=0);const Gt=Math.min(Ae,ot),_t=this.slice(fe,Se),Bt=D.slice(M,G);for(let en=0;en<Gt;++en)if(_t[en]!==Bt[en]){Ae=_t[en],ot=Bt[en];break}return Ae<ot?-1:ot<Ae?1:0},S.prototype.includes=function(D,M,G){return-1!==this.indexOf(D,M,G)},S.prototype.indexOf=function(D,M,G){return ue(this,D,M,G,!0)},S.prototype.lastIndexOf=function(D,M,G){return ue(this,D,M,G,!1)},S.prototype.write=function(D,M,G,fe){if(void 0===M)fe="utf8",G=this.length,M=0;else if(void 0===G&&"string"==typeof M)fe=M,G=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(G)?(G>>>=0,void 0===fe&&(fe="utf8")):(fe=G,G=void 0)}const Se=this.length-M;if((void 0===G||G>Se)&&(G=Se),D.length>0&&(G<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");fe||(fe="utf8");let Ae=!1;for(;;)switch(fe){case"hex":return pe(this,D,M,G);case"utf8":case"utf-8":return ve(this,D,M,G);case"ascii":case"latin1":case"binary":return De(this,D,M,G);case"base64":return C(this,D,M,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,D,M,G);default:if(Ae)throw new TypeError("Unknown encoding: "+fe);fe=(""+fe).toLowerCase(),Ae=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const f=4096;function I(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(127&F[fe]);return G}function L(F,D,M){let G="";M=Math.min(F.length,M);for(let fe=D;fe<M;++fe)G+=String.fromCharCode(F[fe]);return G}function x(F,D,M){const G=F.length;(!D||D<0)&&(D=0),(!M||M<0||M>G)&&(M=G);let fe="";for(let Se=D;Se<M;++Se)fe+=Ne[F[Se]];return fe}function a(F,D,M){const G=F.slice(D,M);let fe="";for(let Se=0;Se<G.length-1;Se+=2)fe+=String.fromCharCode(G[Se]+256*G[Se+1]);return fe}function v(F,D,M){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+D>M)throw new RangeError("Trying to access beyond buffer length")}function Z(F,D,M,G,fe,Se){if(!S.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>fe||D<Se)throw new RangeError('"value" argument is out of bounds');if(M+G>F.length)throw new RangeError("Index out of range")}function z(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se,Se>>=8,F[M++]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,Ae>>=8,F[M++]=Ae,M}function ee(F,D,M,G,fe){xe(D,G,fe,F,M,7);let Se=Number(D&BigInt(4294967295));F[M+7]=Se,Se>>=8,F[M+6]=Se,Se>>=8,F[M+5]=Se,Se>>=8,F[M+4]=Se;let Ae=Number(D>>BigInt(32)&BigInt(4294967295));return F[M+3]=Ae,Ae>>=8,F[M+2]=Ae,Ae>>=8,F[M+1]=Ae,Ae>>=8,F[M]=Ae,M+8}function le(F,D,M,G,fe,Se){if(M+G>F.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function we(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,4),w.write(F,D,M,G,23,4),M+4}function Me(F,D,M,G,fe){return D=+D,M>>>=0,fe||le(F,0,M,8),w.write(F,D,M,G,52,8),M+8}S.prototype.slice=function(D,M){const G=this.length;(D=~~D)<0?(D+=G)<0&&(D=0):D>G&&(D=G),(M=void 0===M?G:~~M)<0?(M+=G)<0&&(M=0):M>G&&(M=G),M<D&&(M=D);const fe=this.subarray(D,M);return Object.setPrototypeOf(fe,S.prototype),fe},S.prototype.readUintLE=S.prototype.readUIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return fe},S.prototype.readUintBE=S.prototype.readUIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D+--M],Se=1;for(;M>0&&(Se*=256);)fe+=this[D+--M]*Se;return fe},S.prototype.readUint8=S.prototype.readUInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),this[D]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]|this[D+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(D,M){return D>>>=0,M||v(D,2,this.length),this[D]<<8|this[D+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])},S.prototype.readBigUInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M+256*this[++D]+65536*this[++D]+this[++D]*2**24,Se=this[++D]+256*this[++D]+65536*this[++D]+G*2**24;return BigInt(fe)+(BigInt(Se)<<BigInt(32))}),S.prototype.readBigUInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=M*2**24+65536*this[++D]+256*this[++D]+this[++D],Se=this[++D]*2**24+65536*this[++D]+256*this[++D]+G;return(BigInt(fe)<<BigInt(32))+BigInt(Se)}),S.prototype.readIntLE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=this[D],Se=1,Ae=0;for(;++Ae<M&&(Se*=256);)fe+=this[D+Ae]*Se;return Se*=128,fe>=Se&&(fe-=Math.pow(2,8*M)),fe},S.prototype.readIntBE=function(D,M,G){D>>>=0,M>>>=0,G||v(D,M,this.length);let fe=M,Se=1,Ae=this[D+--fe];for(;fe>0&&(Se*=256);)Ae+=this[D+--fe]*Se;return Se*=128,Ae>=Se&&(Ae-=Math.pow(2,8*M)),Ae},S.prototype.readInt8=function(D,M){return D>>>=0,M||v(D,1,this.length),128&this[D]?-1*(255-this[D]+1):this[D]},S.prototype.readInt16LE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D]|this[D+1]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt16BE=function(D,M){D>>>=0,M||v(D,2,this.length);const G=this[D+1]|this[D]<<8;return 32768&G?4294901760|G:G},S.prototype.readInt32LE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},S.prototype.readInt32BE=function(D,M){return D>>>=0,M||v(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},S.prototype.readBigInt64LE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];return(void 0===M||void 0===G)&&be(D,this.length-8),(BigInt(this[D+4]+256*this[D+5]+65536*this[D+6]+(G<<24))<<BigInt(32))+BigInt(M+256*this[++D]+65536*this[++D]+this[++D]*2**24)}),S.prototype.readBigInt64BE=ke(function(D){Ce(D>>>=0,"offset");const M=this[D],G=this[D+7];(void 0===M||void 0===G)&&be(D,this.length-8);const fe=(M<<24)+65536*this[++D]+256*this[++D]+this[++D];return(BigInt(fe)<<BigInt(32))+BigInt(this[++D]*2**24+65536*this[++D]+256*this[++D]+G)}),S.prototype.readFloatLE=function(D,M){return D>>>=0,M||v(D,4,this.length),w.read(this,D,!0,23,4)},S.prototype.readFloatBE=function(D,M){return D>>>=0,M||v(D,4,this.length),w.read(this,D,!1,23,4)},S.prototype.readDoubleLE=function(D,M){return D>>>=0,M||v(D,8,this.length),w.read(this,D,!0,52,8)},S.prototype.readDoubleBE=function(D,M){return D>>>=0,M||v(D,8,this.length),w.read(this,D,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=1,Ae=0;for(this[M]=255&D;++Ae<G&&(Se*=256);)this[M+Ae]=D/Se&255;return M+G},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(D,M,G,fe){D=+D,M>>>=0,G>>>=0,fe||Z(this,D,M,G,Math.pow(2,8*G)-1,0);let Se=G-1,Ae=1;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)this[M+Se]=D/Ae&255;return M+G},S.prototype.writeUint8=S.prototype.writeUInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,255,0),this[M]=255&D,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,65535,0),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M+3]=D>>>24,this[M+2]=D>>>16,this[M+1]=D>>>8,this[M]=255&D,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,4294967295,0),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigUInt64LE=ke(function(D,M=0){return z(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ke(function(D,M=0){return ee(this,D,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Gt=Math.pow(2,8*G-1);Z(this,D,M,G,Gt-1,-Gt)}let Se=0,Ae=1,ot=0;for(this[M]=255&D;++Se<G&&(Ae*=256);)D<0&&0===ot&&0!==this[M+Se-1]&&(ot=1),this[M+Se]=(D/Ae|0)-ot&255;return M+G},S.prototype.writeIntBE=function(D,M,G,fe){if(D=+D,M>>>=0,!fe){const Gt=Math.pow(2,8*G-1);Z(this,D,M,G,Gt-1,-Gt)}let Se=G-1,Ae=1,ot=0;for(this[M+Se]=255&D;--Se>=0&&(Ae*=256);)D<0&&0===ot&&0!==this[M+Se+1]&&(ot=1),this[M+Se]=(D/Ae|0)-ot&255;return M+G},S.prototype.writeInt8=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,1,127,-128),D<0&&(D=255+D+1),this[M]=255&D,M+1},S.prototype.writeInt16LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=255&D,this[M+1]=D>>>8,M+2},S.prototype.writeInt16BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,2,32767,-32768),this[M]=D>>>8,this[M+1]=255&D,M+2},S.prototype.writeInt32LE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),this[M]=255&D,this[M+1]=D>>>8,this[M+2]=D>>>16,this[M+3]=D>>>24,M+4},S.prototype.writeInt32BE=function(D,M,G){return D=+D,M>>>=0,G||Z(this,D,M,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[M]=D>>>24,this[M+1]=D>>>16,this[M+2]=D>>>8,this[M+3]=255&D,M+4},S.prototype.writeBigInt64LE=ke(function(D,M=0){return z(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ke(function(D,M=0){return ee(this,D,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(D,M,G){return we(this,D,M,!0,G)},S.prototype.writeFloatBE=function(D,M,G){return we(this,D,M,!1,G)},S.prototype.writeDoubleLE=function(D,M,G){return Me(this,D,M,!0,G)},S.prototype.writeDoubleBE=function(D,M,G){return Me(this,D,M,!1,G)},S.prototype.copy=function(D,M,G,fe){if(!S.isBuffer(D))throw new TypeError("argument should be a Buffer");if(G||(G=0),!fe&&0!==fe&&(fe=this.length),M>=D.length&&(M=D.length),M||(M=0),fe>0&&fe<G&&(fe=G),fe===G||0===D.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(fe<0)throw new RangeError("sourceEnd out of bounds");fe>this.length&&(fe=this.length),D.length-M<fe-G&&(fe=D.length-M+G);const Se=fe-G;return this===D&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,G,fe):Uint8Array.prototype.set.call(D,this.subarray(G,fe),M),Se},S.prototype.fill=function(D,M,G,fe){if("string"==typeof D){if("string"==typeof M?(fe=M,M=0,G=this.length):"string"==typeof G&&(fe=G,G=this.length),void 0!==fe&&"string"!=typeof fe)throw new TypeError("encoding must be a string");if("string"==typeof fe&&!S.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);if(1===D.length){const Ae=D.charCodeAt(0);("utf8"===fe&&Ae<128||"latin1"===fe)&&(D=Ae)}}else"number"==typeof D?D&=255:"boolean"==typeof D&&(D=Number(D));if(M<0||this.length<M||this.length<G)throw new RangeError("Out of range index");if(G<=M)return this;let Se;if(M>>>=0,G=void 0===G?this.length:G>>>0,D||(D=0),"number"==typeof D)for(Se=M;Se<G;++Se)this[Se]=D;else{const Ae=S.isBuffer(D)?D:S.from(D,fe),ot=Ae.length;if(0===ot)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Se=0;Se<G-M;++Se)this[Se+M]=Ae[Se%ot]}return this};const Ze={};function ge(F,D,M){Ze[F]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fe,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function me(F){let D="",M=F.length;const G="-"===F[0]?1:0;for(;M>=G+4;M-=3)D=`_${F.slice(M-3,M)}${D}`;return`${F.slice(0,M)}${D}`}function xe(F,D,M,G,fe,Se){if(F>M||F<D){const Ae="bigint"==typeof D?"n":"";let ot;throw ot=Se>3?0===D||D===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(Se+1)}${Ae}`:`>= -(2${Ae} ** ${8*(Se+1)-1}${Ae}) and < 2 ** ${8*(Se+1)-1}${Ae}`:`>= ${D}${Ae} and <= ${M}${Ae}`,new Ze.ERR_OUT_OF_RANGE("value",ot,F)}!function Ue(F,D,M){Ce(D,"offset"),(void 0===F[D]||void 0===F[D+M])&&be(D,F.length-(M+1))}(G,fe,Se)}function Ce(F,D){if("number"!=typeof F)throw new Ze.ERR_INVALID_ARG_TYPE(D,"number",F)}function be(F,D,M){throw Math.floor(F)!==F?(Ce(F,M),new Ze.ERR_OUT_OF_RANGE(M||"offset","an integer",F)):D<0?new Ze.ERR_BUFFER_OUT_OF_BOUNDS:new Ze.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${D}`,F)}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(F,D){return`The "${F}" argument must be of type number. Received type ${typeof D}`},TypeError),ge("ERR_OUT_OF_RANGE",function(F,D,M){let G=`The value of "${F}" is out of range.`,fe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?fe=me(String(M)):"bigint"==typeof M&&(fe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(fe=me(fe)),fe+="n"),G+=` It must be ${D}. Received ${fe}`,G},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function te(F,D){let M;D=D||1/0;const G=F.length;let fe=null;const Se=[];for(let Ae=0;Ae<G;++Ae){if(M=F.charCodeAt(Ae),M>55295&&M<57344){if(!fe){if(M>56319){(D-=3)>-1&&Se.push(239,191,189);continue}if(Ae+1===G){(D-=3)>-1&&Se.push(239,191,189);continue}fe=M;continue}if(M<56320){(D-=3)>-1&&Se.push(239,191,189),fe=M;continue}M=65536+(fe-55296<<10|M-56320)}else fe&&(D-=3)>-1&&Se.push(239,191,189);if(fe=null,M<128){if((D-=1)<0)break;Se.push(M)}else if(M<2048){if((D-=2)<0)break;Se.push(M>>6|192,63&M|128)}else if(M<65536){if((D-=3)<0)break;Se.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;Se.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return Se}function Ie(F){return g.toByteArray(function ne(F){if((F=(F=F.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function He(F,D,M,G){let fe;for(fe=0;fe<G&&!(fe+M>=D.length||fe>=F.length);++fe)D[fe+M]=F[fe];return fe}function Ve(F,D){return F instanceof D||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===D.name}function Dt(F){return F!=F}const Ne=function(){const F="0123456789abcdef",D=new Array(256);for(let M=0;M<16;++M){const G=16*M;for(let fe=0;fe<16;++fe)D[G+fe]=F[M]+F[fe]}return D}();function ke(F){return typeof BigInt>"u"?yt:F}function yt(){throw new Error("BigInt not supported")}},54626:($e,j,E)=>{j.Level=E(23963).BrowserLevel},8516:($e,j,E)=>{var g=E(81464);$e.exports=g.Symbol},61057:($e,j,E)=>{var g=E(8516),w=E(8488),B=E(53327),k=g?g.toStringTag:void 0;$e.exports=function S(P){return null==P?void 0===P?"[object Undefined]":"[object Null]":k&&k in Object(P)?w(P):B(P)}},78657:$e=>{var j="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;$e.exports=j},46902:($e,j,E)=>{var w=E(72852)(Object.getPrototypeOf,Object);$e.exports=w},8488:($e,j,E)=>{var g=E(8516),w=Object.prototype,B=w.hasOwnProperty,H=w.toString,b=g?g.toStringTag:void 0;$e.exports=function k(S){var P=B.call(S,b),R=S[b];try{S[b]=void 0;var O=!0}catch{}var A=H.call(S);return O&&(P?S[b]=R:delete S[b]),A}},53327:$e=>{var E=Object.prototype.toString;$e.exports=function g(w){return E.call(w)}},72852:$e=>{$e.exports=function j(E,g){return function(w){return E(g(w))}}},81464:($e,j,E)=>{var g=E(78657),w="object"==typeof self&&self&&self.Object===Object&&self,B=g||w||Function("return this")();$e.exports=B},57433:$e=>{$e.exports=function j(E){return null!=E&&"object"==typeof E}},49970:($e,j,E)=>{var g=E(61057),w=E(46902),B=E(57433),S=Function.prototype.toString,P=Object.prototype.hasOwnProperty,R=S.call(Object);$e.exports=function O(A){if(!B(A)||"[object Object]"!=g(A))return!1;var V=w(A);if(null===V)return!0;var U=P.call(V,"constructor")&&V.constructor;return"function"==typeof U&&U instanceof U&&S.call(U)==R}},34725:($e,j,E)=>{"use strict";var g=E(71993),w=E(13686),B=E(27054).Buffer,H=new Array(16);function b(){w.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function k(A,V){return A<<V|A>>>32-V}function S(A,V,U,K,Q,q,Y){return k(A+(V&U|~V&K)+Q+q|0,Y)+V|0}function P(A,V,U,K,Q,q,Y){return k(A+(V&K|U&~K)+Q+q|0,Y)+V|0}function R(A,V,U,K,Q,q,Y){return k(A+(V^U^K)+Q+q|0,Y)+V|0}function O(A,V,U,K,Q,q,Y){return k(A+(U^(V|~K))+Q+q|0,Y)+V|0}g(b,w),b.prototype._update=function(){for(var A=H,V=0;V<16;++V)A[V]=this._block.readInt32LE(4*V);var U=this._a,K=this._b,Q=this._c,q=this._d;U=S(U,K,Q,q,A[0],3614090360,7),q=S(q,U,K,Q,A[1],3905402710,12),Q=S(Q,q,U,K,A[2],606105819,17),K=S(K,Q,q,U,A[3],3250441966,22),U=S(U,K,Q,q,A[4],4118548399,7),q=S(q,U,K,Q,A[5],1200080426,12),Q=S(Q,q,U,K,A[6],2821735955,17),K=S(K,Q,q,U,A[7],4249261313,22),U=S(U,K,Q,q,A[8],1770035416,7),q=S(q,U,K,Q,A[9],2336552879,12),Q=S(Q,q,U,K,A[10],4294925233,17),K=S(K,Q,q,U,A[11],2304563134,22),U=S(U,K,Q,q,A[12],1804603682,7),q=S(q,U,K,Q,A[13],4254626195,12),Q=S(Q,q,U,K,A[14],2792965006,17),U=P(U,K=S(K,Q,q,U,A[15],1236535329,22),Q,q,A[1],4129170786,5),q=P(q,U,K,Q,A[6],3225465664,9),Q=P(Q,q,U,K,A[11],643717713,14),K=P(K,Q,q,U,A[0],3921069994,20),U=P(U,K,Q,q,A[5],3593408605,5),q=P(q,U,K,Q,A[10],38016083,9),Q=P(Q,q,U,K,A[15],3634488961,14),K=P(K,Q,q,U,A[4],3889429448,20),U=P(U,K,Q,q,A[9],568446438,5),q=P(q,U,K,Q,A[14],3275163606,9),Q=P(Q,q,U,K,A[3],4107603335,14),K=P(K,Q,q,U,A[8],1163531501,20),U=P(U,K,Q,q,A[13],2850285829,5),q=P(q,U,K,Q,A[2],4243563512,9),Q=P(Q,q,U,K,A[7],1735328473,14),U=R(U,K=P(K,Q,q,U,A[12],2368359562,20),Q,q,A[5],4294588738,4),q=R(q,U,K,Q,A[8],2272392833,11),Q=R(Q,q,U,K,A[11],1839030562,16),K=R(K,Q,q,U,A[14],4259657740,23),U=R(U,K,Q,q,A[1],2763975236,4),q=R(q,U,K,Q,A[4],1272893353,11),Q=R(Q,q,U,K,A[7],4139469664,16),K=R(K,Q,q,U,A[10],3200236656,23),U=R(U,K,Q,q,A[13],681279174,4),q=R(q,U,K,Q,A[0],3936430074,11),Q=R(Q,q,U,K,A[3],3572445317,16),K=R(K,Q,q,U,A[6],76029189,23),U=R(U,K,Q,q,A[9],3654602809,4),q=R(q,U,K,Q,A[12],3873151461,11),Q=R(Q,q,U,K,A[15],530742520,16),U=O(U,K=R(K,Q,q,U,A[2],3299628645,23),Q,q,A[0],4096336452,6),q=O(q,U,K,Q,A[7],1126891415,10),Q=O(Q,q,U,K,A[14],2878612391,15),K=O(K,Q,q,U,A[5],4237533241,21),U=O(U,K,Q,q,A[12],1700485571,6),q=O(q,U,K,Q,A[3],2399980690,10),Q=O(Q,q,U,K,A[10],4293915773,15),K=O(K,Q,q,U,A[1],2240044497,21),U=O(U,K,Q,q,A[8],1873313359,6),q=O(q,U,K,Q,A[15],4264355552,10),Q=O(Q,q,U,K,A[6],2734768916,15),K=O(K,Q,q,U,A[13],1309151649,21),U=O(U,K,Q,q,A[4],4149444226,6),q=O(q,U,K,Q,A[11],3174756917,10),Q=O(Q,q,U,K,A[2],718787259,15),K=O(K,Q,q,U,A[9],3951481745,21),this._a=this._a+U|0,this._b=this._b+K|0,this._c=this._c+Q|0,this._d=this._d+q|0},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=B.allocUnsafe(16);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A},$e.exports=b},53459:($e,j,E)=>{var g=E(57223),w=E(35294);function B(H){this.rand=H||new w.Rand}$e.exports=B,B.create=function(b){return new B(b)},B.prototype._randbelow=function(b){var k=b.bitLength(),S=Math.ceil(k/8);do{var P=new g(this.rand.generate(S))}while(P.cmp(b)>=0);return P},B.prototype._randrange=function(b,k){var S=k.sub(b);return b.add(this._randbelow(S))},B.prototype.test=function(b,k,S){var P=b.bitLength(),R=g.mont(b),O=new g(1).toRed(R);k||(k=Math.max(1,P/48|0));for(var A=b.subn(1),V=0;!A.testn(V);V++);for(var U=b.shrn(V),K=A.toRed(R);k>0;k--){var q=this._randrange(new g(2),A);S&&S(q);var Y=q.toRed(R).redPow(U);if(0!==Y.cmp(O)&&0!==Y.cmp(K)){for(var W=1;W<V;W++){if(0===(Y=Y.redSqr()).cmp(O))return!1;if(0===Y.cmp(K))break}if(W===V)return!1}}return!0},B.prototype.getDivisor=function(b,k){var S=b.bitLength(),P=g.mont(b),R=new g(1).toRed(P);k||(k=Math.max(1,S/48|0));for(var O=b.subn(1),A=0;!O.testn(A);A++);for(var V=b.shrn(A),U=O.toRed(P);k>0;k--){var K=this._randrange(new g(2),O),Q=b.gcd(K);if(0!==Q.cmpn(1))return Q;var q=K.toRed(P).redPow(V);if(0!==q.cmp(R)&&0!==q.cmp(U)){for(var Y=1;Y<A;Y++){if(0===(q=q.redSqr()).cmp(R))return q.fromRed().subn(1).gcd(b);if(0===q.cmp(U))break}if(Y===A)return(q=q.redSqr()).fromRed().subn(1).gcd(b)}}return!1}},57223:function($e,j,E){!function(g,w){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:w.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(64688).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,_=Math.min(C.length,d),I=s;I<_;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var _,I,L=0;if("be"===h)for(f=s.length-1,_=0;f>=0;f-=3)this.words[_]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);else if("le"===h)for(f=0,_=0;f<s.length;f+=3)this.words[_]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,_=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,_=1;_<=67108863;_*=d)f++;f--,_=_/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(_),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],_=0|s.words[0],I=f*_,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(_=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,_=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|_)).toString(16);h=0!=(_=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==_&&(h=_.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),_=h||Math.max(1,f);B(f<=_,"byte array longer than desired length"),B(_>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(_),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<_;a++)L[a]=0}else{for(a=0;a<_-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[_-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var _=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+_),_=d>>>26;for(;0!==_&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+_),_=d>>>26;if(this.length=h.length,0!==_)this.words[this.length]=_,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,_,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,_=s):(f=s,_=this);for(var I=0,L=0;L<_.length;L++)I=(d=(0|f.words[L])-(0|_.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,_=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ze=0|f[2],ge=8191&Ze,me=Ze>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,Dt=0|f[7],Ne=8191&Dt,ke=Dt>>>13,yt=0|f[8],F=8191&yt,D=yt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|_[0],Ae=8191&Se,ot=Se>>>13,Gt=0|_[1],_t=8191&Gt,Bt=Gt>>>13,en=0|_[2],pn=8191&en,cn=en>>>13,tr=0|_[3],Mn=8191&tr,on=tr>>>13,Qt=0|_[4],ut=8191&Qt,st=Qt>>>13,Zt=0|_[5],Xt=8191&Zt,rn=Zt>>>13,Zn=0|_[6],at=8191&Zn,pt=Zn>>>13,ht=0|_[7],Ke=8191&ht,Ge=ht>>>13,jt=0|_[8],kt=8191&jt,ln=jt>>>13,On=0|_[9],vn=8191&On,gn=On>>>13;h.negative=s.negative^d.negative,h.length=19;var ur=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,ot))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,ot))+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,ot))+Math.imul(Me,Ae)|0,v=Math.imul(Me,ot);var er=(L+(x=x+Math.imul(z,_t)|0)|0)+((8191&(a=(a=a+Math.imul(z,Bt)|0)+Math.imul(ee,_t)|0))<<13)|0;L=((v=v+Math.imul(ee,Bt)|0)+(a>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,ot))+Math.imul(me,Ae)|0,v=Math.imul(me,ot),x=x+Math.imul(we,_t)|0,a=(a=a+Math.imul(we,Bt)|0)+Math.imul(Me,_t)|0,v=v+Math.imul(Me,Bt)|0;var Pn=(L+(x=x+Math.imul(z,pn)|0)|0)+((8191&(a=(a=a+Math.imul(z,cn)|0)+Math.imul(ee,pn)|0))<<13)|0;L=((v=v+Math.imul(ee,cn)|0)+(a>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,ot))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,ot),x=x+Math.imul(ge,_t)|0,a=(a=a+Math.imul(ge,Bt)|0)+Math.imul(me,_t)|0,v=v+Math.imul(me,Bt)|0,x=x+Math.imul(we,pn)|0,a=(a=a+Math.imul(we,cn)|0)+Math.imul(Me,pn)|0,v=v+Math.imul(Me,cn)|0;var Nn=(L+(x=x+Math.imul(z,Mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,on)|0)+Math.imul(ee,Mn)|0))<<13)|0;L=((v=v+Math.imul(ee,on)|0)+(a>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,ot))+Math.imul(ne,Ae)|0,v=Math.imul(ne,ot),x=x+Math.imul(xe,_t)|0,a=(a=a+Math.imul(xe,Bt)|0)+Math.imul(Ce,_t)|0,v=v+Math.imul(Ce,Bt)|0,x=x+Math.imul(ge,pn)|0,a=(a=a+Math.imul(ge,cn)|0)+Math.imul(me,pn)|0,v=v+Math.imul(me,cn)|0,x=x+Math.imul(we,Mn)|0,a=(a=a+Math.imul(we,on)|0)+Math.imul(Me,Mn)|0,v=v+Math.imul(Me,on)|0;var et=(L+(x=x+Math.imul(z,ut)|0)|0)+((8191&(a=(a=a+Math.imul(z,st)|0)+Math.imul(ee,ut)|0))<<13)|0;L=((v=v+Math.imul(ee,st)|0)+(a>>>13)|0)+(et>>>26)|0,et&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,ot))+Math.imul(_e,Ae)|0,v=Math.imul(_e,ot),x=x+Math.imul(he,_t)|0,a=(a=a+Math.imul(he,Bt)|0)+Math.imul(ne,_t)|0,v=v+Math.imul(ne,Bt)|0,x=x+Math.imul(xe,pn)|0,a=(a=a+Math.imul(xe,cn)|0)+Math.imul(Ce,pn)|0,v=v+Math.imul(Ce,cn)|0,x=x+Math.imul(ge,Mn)|0,a=(a=a+Math.imul(ge,on)|0)+Math.imul(me,Mn)|0,v=v+Math.imul(me,on)|0,x=x+Math.imul(we,ut)|0,a=(a=a+Math.imul(we,st)|0)+Math.imul(Me,ut)|0,v=v+Math.imul(Me,st)|0;var Oe=(L+(x=x+Math.imul(z,Xt)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Xt)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,ot))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,ot),x=x+Math.imul(de,_t)|0,a=(a=a+Math.imul(de,Bt)|0)+Math.imul(_e,_t)|0,v=v+Math.imul(_e,Bt)|0,x=x+Math.imul(he,pn)|0,a=(a=a+Math.imul(he,cn)|0)+Math.imul(ne,pn)|0,v=v+Math.imul(ne,cn)|0,x=x+Math.imul(xe,Mn)|0,a=(a=a+Math.imul(xe,on)|0)+Math.imul(Ce,Mn)|0,v=v+Math.imul(Ce,on)|0,x=x+Math.imul(ge,ut)|0,a=(a=a+Math.imul(ge,st)|0)+Math.imul(me,ut)|0,v=v+Math.imul(me,st)|0,x=x+Math.imul(we,Xt)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Xt)|0,v=v+Math.imul(Me,rn)|0;var Qe=(L+(x=x+Math.imul(z,at)|0)|0)+((8191&(a=(a=a+Math.imul(z,pt)|0)+Math.imul(ee,at)|0))<<13)|0;L=((v=v+Math.imul(ee,pt)|0)+(a>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,ot))+Math.imul(ke,Ae)|0,v=Math.imul(ke,ot),x=x+Math.imul(He,_t)|0,a=(a=a+Math.imul(He,Bt)|0)+Math.imul(Ve,_t)|0,v=v+Math.imul(Ve,Bt)|0,x=x+Math.imul(de,pn)|0,a=(a=a+Math.imul(de,cn)|0)+Math.imul(_e,pn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(he,Mn)|0,a=(a=a+Math.imul(he,on)|0)+Math.imul(ne,Mn)|0,v=v+Math.imul(ne,on)|0,x=x+Math.imul(xe,ut)|0,a=(a=a+Math.imul(xe,st)|0)+Math.imul(Ce,ut)|0,v=v+Math.imul(Ce,st)|0,x=x+Math.imul(ge,Xt)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Xt)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,at)|0,a=(a=a+Math.imul(we,pt)|0)+Math.imul(Me,at)|0,v=v+Math.imul(Me,pt)|0;var zt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ge)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,Ge)|0)+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,ot))+Math.imul(D,Ae)|0,v=Math.imul(D,ot),x=x+Math.imul(Ne,_t)|0,a=(a=a+Math.imul(Ne,Bt)|0)+Math.imul(ke,_t)|0,v=v+Math.imul(ke,Bt)|0,x=x+Math.imul(He,pn)|0,a=(a=a+Math.imul(He,cn)|0)+Math.imul(Ve,pn)|0,v=v+Math.imul(Ve,cn)|0,x=x+Math.imul(de,Mn)|0,a=(a=a+Math.imul(de,on)|0)+Math.imul(_e,Mn)|0,v=v+Math.imul(_e,on)|0,x=x+Math.imul(he,ut)|0,a=(a=a+Math.imul(he,st)|0)+Math.imul(ne,ut)|0,v=v+Math.imul(ne,st)|0,x=x+Math.imul(xe,Xt)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Xt)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,at)|0,a=(a=a+Math.imul(ge,pt)|0)+Math.imul(me,at)|0,v=v+Math.imul(me,pt)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,Ge)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,Ge)|0;var hn=(L+(x=x+Math.imul(z,kt)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,kt)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(hn>>>26)|0,hn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,ot))+Math.imul(fe,Ae)|0,v=Math.imul(fe,ot),x=x+Math.imul(F,_t)|0,a=(a=a+Math.imul(F,Bt)|0)+Math.imul(D,_t)|0,v=v+Math.imul(D,Bt)|0,x=x+Math.imul(Ne,pn)|0,a=(a=a+Math.imul(Ne,cn)|0)+Math.imul(ke,pn)|0,v=v+Math.imul(ke,cn)|0,x=x+Math.imul(He,Mn)|0,a=(a=a+Math.imul(He,on)|0)+Math.imul(Ve,Mn)|0,v=v+Math.imul(Ve,on)|0,x=x+Math.imul(de,ut)|0,a=(a=a+Math.imul(de,st)|0)+Math.imul(_e,ut)|0,v=v+Math.imul(_e,st)|0,x=x+Math.imul(he,Xt)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Xt)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,at)|0,a=(a=a+Math.imul(xe,pt)|0)+Math.imul(Ce,at)|0,v=v+Math.imul(Ce,pt)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,Ge)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,Ge)|0,x=x+Math.imul(we,kt)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,kt)|0,v=v+Math.imul(Me,ln)|0;var Un=(L+(x=x+Math.imul(z,vn)|0)|0)+((8191&(a=(a=a+Math.imul(z,gn)|0)+Math.imul(ee,vn)|0))<<13)|0;L=((v=v+Math.imul(ee,gn)|0)+(a>>>13)|0)+(Un>>>26)|0,Un&=67108863,x=Math.imul(G,_t),a=(a=Math.imul(G,Bt))+Math.imul(fe,_t)|0,v=Math.imul(fe,Bt),x=x+Math.imul(F,pn)|0,a=(a=a+Math.imul(F,cn)|0)+Math.imul(D,pn)|0,v=v+Math.imul(D,cn)|0,x=x+Math.imul(Ne,Mn)|0,a=(a=a+Math.imul(Ne,on)|0)+Math.imul(ke,Mn)|0,v=v+Math.imul(ke,on)|0,x=x+Math.imul(He,ut)|0,a=(a=a+Math.imul(He,st)|0)+Math.imul(Ve,ut)|0,v=v+Math.imul(Ve,st)|0,x=x+Math.imul(de,Xt)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Xt)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,at)|0,a=(a=a+Math.imul(he,pt)|0)+Math.imul(ne,at)|0,v=v+Math.imul(ne,pt)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,Ge)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,Ge)|0,x=x+Math.imul(ge,kt)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,kt)|0,v=v+Math.imul(me,ln)|0;var Kn=(L+(x=x+Math.imul(we,vn)|0)|0)+((8191&(a=(a=a+Math.imul(we,gn)|0)+Math.imul(Me,vn)|0))<<13)|0;L=((v=v+Math.imul(Me,gn)|0)+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,x=Math.imul(G,pn),a=(a=Math.imul(G,cn))+Math.imul(fe,pn)|0,v=Math.imul(fe,cn),x=x+Math.imul(F,Mn)|0,a=(a=a+Math.imul(F,on)|0)+Math.imul(D,Mn)|0,v=v+Math.imul(D,on)|0,x=x+Math.imul(Ne,ut)|0,a=(a=a+Math.imul(Ne,st)|0)+Math.imul(ke,ut)|0,v=v+Math.imul(ke,st)|0,x=x+Math.imul(He,Xt)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Xt)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,at)|0,a=(a=a+Math.imul(de,pt)|0)+Math.imul(_e,at)|0,v=v+Math.imul(_e,pt)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,Ge)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,Ge)|0,x=x+Math.imul(xe,kt)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,kt)|0,v=v+Math.imul(Ce,ln)|0;var ir=(L+(x=x+Math.imul(ge,vn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,gn)|0)+Math.imul(me,vn)|0))<<13)|0;L=((v=v+Math.imul(me,gn)|0)+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(G,Mn),a=(a=Math.imul(G,on))+Math.imul(fe,Mn)|0,v=Math.imul(fe,on),x=x+Math.imul(F,ut)|0,a=(a=a+Math.imul(F,st)|0)+Math.imul(D,ut)|0,v=v+Math.imul(D,st)|0,x=x+Math.imul(Ne,Xt)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Xt)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,at)|0,a=(a=a+Math.imul(He,pt)|0)+Math.imul(Ve,at)|0,v=v+Math.imul(Ve,pt)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,Ge)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,Ge)|0,x=x+Math.imul(he,kt)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,kt)|0,v=v+Math.imul(ne,ln)|0;var mr=(L+(x=x+Math.imul(xe,vn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,gn)|0)+Math.imul(Ce,vn)|0))<<13)|0;L=((v=v+Math.imul(Ce,gn)|0)+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(G,ut),a=(a=Math.imul(G,st))+Math.imul(fe,ut)|0,v=Math.imul(fe,st),x=x+Math.imul(F,Xt)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Xt)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,at)|0,a=(a=a+Math.imul(Ne,pt)|0)+Math.imul(ke,at)|0,v=v+Math.imul(ke,pt)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,Ge)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,Ge)|0,x=x+Math.imul(de,kt)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,kt)|0,v=v+Math.imul(_e,ln)|0;var Pr=(L+(x=x+Math.imul(he,vn)|0)|0)+((8191&(a=(a=a+Math.imul(he,gn)|0)+Math.imul(ne,vn)|0))<<13)|0;L=((v=v+Math.imul(ne,gn)|0)+(a>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(G,Xt),a=(a=Math.imul(G,rn))+Math.imul(fe,Xt)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,at)|0,a=(a=a+Math.imul(F,pt)|0)+Math.imul(D,at)|0,v=v+Math.imul(D,pt)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,Ge)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,Ge)|0,x=x+Math.imul(He,kt)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,kt)|0,v=v+Math.imul(Ve,ln)|0;var Sr=(L+(x=x+Math.imul(de,vn)|0)|0)+((8191&(a=(a=a+Math.imul(de,gn)|0)+Math.imul(_e,vn)|0))<<13)|0;L=((v=v+Math.imul(_e,gn)|0)+(a>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,x=Math.imul(G,at),a=(a=Math.imul(G,pt))+Math.imul(fe,at)|0,v=Math.imul(fe,pt),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,Ge)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,Ge)|0,x=x+Math.imul(Ne,kt)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,kt)|0,v=v+Math.imul(ke,ln)|0;var Nr=(L+(x=x+Math.imul(He,vn)|0)|0)+((8191&(a=(a=a+Math.imul(He,gn)|0)+Math.imul(Ve,vn)|0))<<13)|0;L=((v=v+Math.imul(Ve,gn)|0)+(a>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,Ge))+Math.imul(fe,Ke)|0,v=Math.imul(fe,Ge),x=x+Math.imul(F,kt)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,kt)|0,v=v+Math.imul(D,ln)|0;var dr=(L+(x=x+Math.imul(Ne,vn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,gn)|0)+Math.imul(ke,vn)|0))<<13)|0;L=((v=v+Math.imul(ke,gn)|0)+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,x=Math.imul(G,kt),a=(a=Math.imul(G,ln))+Math.imul(fe,kt)|0,v=Math.imul(fe,ln);var nn=(L+(x=x+Math.imul(F,vn)|0)|0)+((8191&(a=(a=a+Math.imul(F,gn)|0)+Math.imul(D,vn)|0))<<13)|0;L=((v=v+Math.imul(D,gn)|0)+(a>>>13)|0)+(nn>>>26)|0,nn&=67108863;var yn=(L+(x=Math.imul(G,vn))|0)+((8191&(a=(a=Math.imul(G,gn))+Math.imul(fe,vn)|0))<<13)|0;return L=((v=Math.imul(fe,gn))+(a>>>13)|0)+(yn>>>26)|0,yn&=67108863,I[0]=ur,I[1]=er,I[2]=Pn,I[3]=Nn,I[4]=et,I[5]=Oe,I[6]=Qe,I[7]=zt,I[8]=hn,I[9]=Un,I[10]=Kn,I[11]=ir,I[12]=mr,I[13]=Pr,I[14]=Sr,I[15]=Nr,I[16]=dr,I[17]=nn,I[18]=yn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,_=0;_<d.length-1;_++){var I=f;f=0;for(var L=67108863&h,x=Math.min(_,s.length-1),a=Math.max(0,_-C.length+1);a<=x;a++){var ee=(0|C.words[_-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[_]=L,h=I,I=f}return 0!==h?d.words[_]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,_=0;_<d;_++)f|=(1&s)<<d-_-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,_,I){for(var L=0;L<I;L++)f[L]=d[s[L]],_[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,_,I){this.permute(I,s,d,h,f,_);for(var L=1;L<_;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<_;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ze=h[Z+le+L],ge=f[Z+le+L],me=z*Ze-ee*ge;ge=z*ge+ee*Ze,h[Z+le]=we+(Ze=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ze,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,_=0;for(h=h/2|0;h;h>>>=1)_++;return 1<<_+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var _=s[f];s[f]=s[h-f-1],s[h-f-1]=_,_=d[f],d[f]=-d[h-f-1],d[h-f-1]=-_}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var _=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&_,h=_<67108864?0:_/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var _=0,I=0;I<d;I++)h[2*I]=8191&(_+=0|s[I]),h[2*I+1]=8191&(_>>>=13),_>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===_),B(!(-8192&_))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),_=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,_),this.transform(v,I,Z,z,f,_);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,_),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,_=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=_>>>26,this.words[h]=67108863&_}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var _=h.sqr();f<d.length;f++,_=_.sqr())0!==d[f]&&(h=h.mul(_));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var _,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(_=0;_<this.length;_++){var L=this.words[_]&f;this.words[_]=(0|this.words[_])-L<<d|I,I=L>>>26-d}I&&(this.words[_]=I,this.length++)}if(0!==h){for(_=this.length-1;_>=0;_--)this.words[_+h]=this.words[_];for(_=0;_<h;_++)this.words[_]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var _=s%26,I=Math.min((s-_)/26,this.length),L=67108863^67108863>>>_<<_,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-_|Z>>>_,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var _;this._expand(s.length+h);var I,L=0;for(_=0;_<s.length;_++){I=(0|this.words[_+h])+L;var x=(0|s.words[_])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[_+h]=67108863&I}for(;_<this.length-h;_++)L=(I=(0|this.words[_+h])+L)>>26,this.words[_+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,_=0;_<this.length;_++)L=(I=-(0|this.words[_])+L)>>26,this.words[_]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),_=s,I=0|_.words[_.length-1];0!=(h=26-this._countBits(I))&&(_=_.ushln(h),f.iushln(h),I=0|_.words[_.length-1]);var a,x=f.length-_.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(_,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[_.length+z])+(0|f.words[_.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(_,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(_,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.iadd(s)),{div:f,mod:_}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.isub(s)),{div:I.div,mod:_}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,_,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),_=s.andln(1),I=h.cmp(f);return I<0||1===_&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||_.isOdd())&&(f.iadd(a),_.isub(v)),f.iushrn(1),_.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),_.isub(L)):(h.isub(d),I.isub(f),L.isub(_))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(_)):(h.isub(d),_.isub(f))}return(Z=0===d.cmpn(1)?f:_).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var _=d.cmp(h);if(_<0){var I=d;d=h,h=I}else if(0===_||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var _=f,I=h;0!==_&&I<this.length;I++){var L=0|this.words[I];_=(L+=_)>>>26,this.words[I]=L&=67108863}return 0!==_&&(this.words[I]=_,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],_=0|s.words[h];if(f!==_){f<_?d=-1:f>_&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),_=0;_<f;_++)d.words[_]=s.words[_];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,_=10;_<s.length;_++){var L=0|s.words[_];s.words[_-10]=(L&h)<<4|I>>>22,I=L}s.words[_-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,_=67108863&f;f>>>=26,s.words[h]=_,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),_=0;!f.isZero()&&0===f.andln(1);)_++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=_;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var _=2;_<f.length;_++)f[_]=this.mul(f[_-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),_=d.length-1;_>=0;_--){for(var v=d.words[_],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===_&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},39210:$e=>{function j(E,g){if(!E)throw new Error(g||"Assertion failed")}$e.exports=j,j.equal=function(g,w,B){if(g!=w)throw new Error(B||"Assertion failed: "+g+" != "+w)}},21832:($e,j)=>{"use strict";var E=j;function w(H){return 1===H.length?"0"+H:H}function B(H){for(var b="",k=0;k<H.length;k++)b+=w(H[k].toString(16));return b}E.toArray=function g(H,b){if(Array.isArray(H))return H.slice();if(!H)return[];var k=[];if("string"!=typeof H){for(var S=0;S<H.length;S++)k[S]=0|H[S];return k}if("hex"===b)for((H=H.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(H="0"+H),S=0;S<H.length;S+=2)k.push(parseInt(H[S]+H[S+1],16));else for(S=0;S<H.length;S++){var P=H.charCodeAt(S),R=P>>8,O=255&P;R?k.push(R,O):k.push(O)}return k},E.zero2=w,E.toHex=B,E.encode=function(b,k){return"hex"===k?B(b):b}},61747:$e=>{"use strict";$e.exports=class extends Error{constructor(E,g){super(E||""),"object"==typeof g&&null!==g&&(g.code&&(this.code=String(g.code)),g.expected&&(this.expected=!0),g.transient&&(this.transient=!0),g.cause&&(this.cause=g.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:($e,j,E)=>{$e.exports=E(3116)},3116:function($e,j){!function(E,g){"use strict";var w={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function B(U){if(!Array.isArray(U)&&!ArrayBuffer.isView(U))return!1;for(var K=0;K<U.length;K++)if(!Number.isInteger(U[K])||U[K]<0||U[K]>255)return!1;return!0}function H(U,K){return(65535&U)*K+(((U>>>16)*K&65535)<<16)}function b(U,K){return U<<K|U>>>32-K}function k(U){return U=H(U^=U>>>16,2246822507),(U=H(U^=U>>>13,3266489909))^U>>>16}function S(U,K){var Q=[0,0,0,0];return Q[3]+=(U=[U[0]>>>16,65535&U[0],U[1]>>>16,65535&U[1]])[3]+(K=[K[0]>>>16,65535&K[0],K[1]>>>16,65535&K[1]])[3],Q[2]+=Q[3]>>>16,Q[3]&=65535,Q[2]+=U[2]+K[2],Q[1]+=Q[2]>>>16,Q[2]&=65535,Q[1]+=U[1]+K[1],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[0]+=U[0]+K[0],Q[0]&=65535,[Q[0]<<16|Q[1],Q[2]<<16|Q[3]]}function P(U,K){var Q=[0,0,0,0];return Q[3]+=(U=[U[0]>>>16,65535&U[0],U[1]>>>16,65535&U[1]])[3]*(K=[K[0]>>>16,65535&K[0],K[1]>>>16,65535&K[1]])[3],Q[2]+=Q[3]>>>16,Q[3]&=65535,Q[2]+=U[2]*K[3],Q[1]+=Q[2]>>>16,Q[2]&=65535,Q[2]+=U[3]*K[2],Q[1]+=Q[2]>>>16,Q[2]&=65535,Q[1]+=U[1]*K[3],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[1]+=U[2]*K[2],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[1]+=U[3]*K[1],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[0]+=U[0]*K[3]+U[1]*K[2]+U[2]*K[1]+U[3]*K[0],Q[0]&=65535,[Q[0]<<16|Q[1],Q[2]<<16|Q[3]]}function R(U,K){return 32==(K%=64)?[U[1],U[0]]:K<32?[U[0]<<K|U[1]>>>32-K,U[1]<<K|U[0]>>>32-K]:[U[1]<<(K-=32)|U[0]>>>32-K,U[0]<<K|U[1]>>>32-K]}function O(U,K){return 0==(K%=64)?U:K<32?[U[0]<<K|U[1]>>>32-K,U[1]<<K]:[U[1]<<K-32,0]}function A(U,K){return[U[0]^K[0],U[1]^K[1]]}function V(U){return U=A(U,[0,U[0]>>>1]),U=A(U=P(U,[4283543511,3981806797]),[0,U[0]>>>1]),A(U=P(U,[3301882366,444984403]),[0,U[0]>>>1])}w.x86.hash32=function(U,K){if(w.inputValidation&&!B(U))return g;for(var Q=U.length%4,q=U.length-Q,Y=K=K||0,W=0,re=3432918353,ie=461845907,ae=0;ae<q;ae+=4)W=H(W=U[ae]|U[ae+1]<<8|U[ae+2]<<16|U[ae+3]<<24,re),W=H(W=b(W,15),ie),Y=H(Y=b(Y^=W,13),5)+3864292196;switch(W=0,Q){case 3:W^=U[ae+2]<<16;case 2:W^=U[ae+1]<<8;case 1:W=H(W^=U[ae],re),Y^=W=H(W=b(W,15),ie)}return(Y=k(Y^=U.length))>>>0},w.x86.hash128=function(U,K){if(w.inputValidation&&!B(U))return g;for(var Q=U.length%16,q=U.length-Q,Y=K=K||0,W=K,re=K,ie=K,ae=0,ue=0,ce=0,pe=0,ve=597399067,De=2869860233,C=951274213,s=2716044179,d=0;d<q;d+=16)ue=U[d+4]|U[d+5]<<8|U[d+6]<<16|U[d+7]<<24,ce=U[d+8]|U[d+9]<<8|U[d+10]<<16|U[d+11]<<24,pe=U[d+12]|U[d+13]<<8|U[d+14]<<16|U[d+15]<<24,ae=b(ae=H(ae=U[d]|U[d+1]<<8|U[d+2]<<16|U[d+3]<<24,ve),15),Y=b(Y^=ae=H(ae,De),19),Y=H(Y+=W,5)+1444728091,ue=b(ue=H(ue,De),16),W=b(W^=ue=H(ue,C),17),W=H(W+=re,5)+197830471,ce=b(ce=H(ce,C),17),re=b(re^=ce=H(ce,s),15),re=H(re+=ie,5)+2530024501,pe=b(pe=H(pe,s),18),ie=b(ie^=pe=H(pe,ve),13),ie=H(ie+=Y,5)+850148119;switch(ae=0,ue=0,ce=0,pe=0,Q){case 15:pe^=U[d+14]<<16;case 14:pe^=U[d+13]<<8;case 13:pe=H(pe^=U[d+12],s),ie^=pe=H(pe=b(pe,18),ve);case 12:ce^=U[d+11]<<24;case 11:ce^=U[d+10]<<16;case 10:ce^=U[d+9]<<8;case 9:ce=H(ce^=U[d+8],C),re^=ce=H(ce=b(ce,17),s);case 8:ue^=U[d+7]<<24;case 7:ue^=U[d+6]<<16;case 6:ue^=U[d+5]<<8;case 5:ue=H(ue^=U[d+4],De),W^=ue=H(ue=b(ue,16),C);case 4:ae^=U[d+3]<<24;case 3:ae^=U[d+2]<<16;case 2:ae^=U[d+1]<<8;case 1:ae=H(ae^=U[d],ve),Y^=ae=H(ae=b(ae,15),De)}return Y^=U.length,Y+=W^=U.length,Y+=re^=U.length,W+=Y+=ie^=U.length,re+=Y,ie+=Y,Y=k(Y),Y+=W=k(W),Y+=re=k(re),W+=Y+=ie=k(ie),re+=Y,ie+=Y,("00000000"+(Y>>>0).toString(16)).slice(-8)+("00000000"+(W>>>0).toString(16)).slice(-8)+("00000000"+(re>>>0).toString(16)).slice(-8)+("00000000"+(ie>>>0).toString(16)).slice(-8)},w.x64.hash128=function(U,K){if(w.inputValidation&&!B(U))return g;for(var Q=U.length%16,q=U.length-Q,Y=[0,K=K||0],W=[0,K],re=[0,0],ie=[0,0],ae=[2277735313,289559509],ue=[1291169091,658871167],ce=0;ce<q;ce+=16)ie=[U[ce+12]|U[ce+13]<<8|U[ce+14]<<16|U[ce+15]<<24,U[ce+8]|U[ce+9]<<8|U[ce+10]<<16|U[ce+11]<<24],re=R(re=P(re=[U[ce+4]|U[ce+5]<<8|U[ce+6]<<16|U[ce+7]<<24,U[ce]|U[ce+1]<<8|U[ce+2]<<16|U[ce+3]<<24],ae),31),Y=S(Y=R(Y=A(Y,re=P(re,ue)),27),W),Y=S(P(Y,[0,5]),[0,1390208809]),ie=R(ie=P(ie,ue),33),W=S(W=R(W=A(W,ie=P(ie,ae)),31),Y),W=S(P(W,[0,5]),[0,944331445]);switch(re=[0,0],ie=[0,0],Q){case 15:ie=A(ie,O([0,U[ce+14]],48));case 14:ie=A(ie,O([0,U[ce+13]],40));case 13:ie=A(ie,O([0,U[ce+12]],32));case 12:ie=A(ie,O([0,U[ce+11]],24));case 11:ie=A(ie,O([0,U[ce+10]],16));case 10:ie=A(ie,O([0,U[ce+9]],8));case 9:ie=P(ie=A(ie,[0,U[ce+8]]),ue),W=A(W,ie=P(ie=R(ie,33),ae));case 8:re=A(re,O([0,U[ce+7]],56));case 7:re=A(re,O([0,U[ce+6]],48));case 6:re=A(re,O([0,U[ce+5]],40));case 5:re=A(re,O([0,U[ce+4]],32));case 4:re=A(re,O([0,U[ce+3]],24));case 3:re=A(re,O([0,U[ce+2]],16));case 2:re=A(re,O([0,U[ce+1]],8));case 1:re=P(re=A(re,[0,U[ce]]),ae),Y=A(Y,re=P(re=R(re,31),ue))}return Y=S(Y=A(Y,[0,U.length]),W=A(W,[0,U.length])),W=S(W,Y),Y=S(Y=V(Y),W=V(W)),W=S(W,Y),("00000000"+(Y[0]>>>0).toString(16)).slice(-8)+("00000000"+(Y[1]>>>0).toString(16)).slice(-8)+("00000000"+(W[0]>>>0).toString(16)).slice(-8)+("00000000"+(W[1]>>>0).toString(16)).slice(-8)},$e.exports&&(j=$e.exports=w),j.murmurHash3=w}()},50233:$e=>{"use strict";var j=Object.prototype.hasOwnProperty,E="~";function g(){}function w(k,S,P){this.fn=k,this.context=S,this.once=P||!1}function B(k,S,P,R,O){if("function"!=typeof P)throw new TypeError("The listener must be a function");var A=new w(P,R||k,O),V=E?E+S:S;return k._events[V]?k._events[V].fn?k._events[V]=[k._events[V],A]:k._events[V].push(A):(k._events[V]=A,k._eventsCount++),k}function H(k,S){0==--k._eventsCount?k._events=new g:delete k._events[S]}function b(){this._events=new g,this._eventsCount=0}Object.create&&(g.prototype=Object.create(null),(new g).__proto__||(E=!1)),b.prototype.eventNames=function(){var P,R,S=[];if(0===this._eventsCount)return S;for(R in P=this._events)j.call(P,R)&&S.push(E?R.slice(1):R);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(P)):S},b.prototype.listeners=function(S){var R=this._events[E?E+S:S];if(!R)return[];if(R.fn)return[R.fn];for(var O=0,A=R.length,V=new Array(A);O<A;O++)V[O]=R[O].fn;return V},b.prototype.listenerCount=function(S){var R=this._events[E?E+S:S];return R?R.fn?1:R.length:0},b.prototype.emit=function(S,P,R,O,A,V){var U=E?E+S:S;if(!this._events[U])return!1;var q,Y,K=this._events[U],Q=arguments.length;if(K.fn){switch(K.once&&this.removeListener(S,K.fn,void 0,!0),Q){case 1:return K.fn.call(K.context),!0;case 2:return K.fn.call(K.context,P),!0;case 3:return K.fn.call(K.context,P,R),!0;case 4:return K.fn.call(K.context,P,R,O),!0;case 5:return K.fn.call(K.context,P,R,O,A),!0;case 6:return K.fn.call(K.context,P,R,O,A,V),!0}for(Y=1,q=new Array(Q-1);Y<Q;Y++)q[Y-1]=arguments[Y];K.fn.apply(K.context,q)}else{var re,W=K.length;for(Y=0;Y<W;Y++)switch(K[Y].once&&this.removeListener(S,K[Y].fn,void 0,!0),Q){case 1:K[Y].fn.call(K[Y].context);break;case 2:K[Y].fn.call(K[Y].context,P);break;case 3:K[Y].fn.call(K[Y].context,P,R);break;case 4:K[Y].fn.call(K[Y].context,P,R,O);break;default:if(!q)for(re=1,q=new Array(Q-1);re<Q;re++)q[re-1]=arguments[re];K[Y].fn.apply(K[Y].context,q)}}return!0},b.prototype.on=function(S,P,R){return B(this,S,P,R,!1)},b.prototype.once=function(S,P,R){return B(this,S,P,R,!0)},b.prototype.removeListener=function(S,P,R,O){var A=E?E+S:S;if(!this._events[A])return this;if(!P)return H(this,A),this;var V=this._events[A];if(V.fn)V.fn===P&&(!O||V.once)&&(!R||V.context===R)&&H(this,A);else{for(var U=0,K=[],Q=V.length;U<Q;U++)(V[U].fn!==P||O&&!V[U].once||R&&V[U].context!==R)&&K.push(V[U]);K.length?this._events[A]=1===K.length?K[0]:K:H(this,A)}return this},b.prototype.removeAllListeners=function(S){var P;return S?this._events[P=E?E+S:S]&&H(this,P):(this._events=new g,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=E,b.EventEmitter=b,$e.exports=b},83138:($e,j,E)=>{"use strict";var g=E(49609);j.certificate=E(94772);var w=g.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});j.RSAPrivateKey=w;var B=g.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});j.RSAPublicKey=B;var H=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),b=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())});j.PublicKey=b;var k=g.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(H),this.key("subjectPrivateKey").octstr())});j.PrivateKey=k;var S=g.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});j.EncryptedPrivateKey=S;var P=g.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});j.DSAPrivateKey=P,j.DSAparam=g.define("DSAparam",function(){this.int()});var R=g.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),O=g.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(R),this.key("publicKey").optional().explicit(1).bitstr())});j.ECPrivateKey=O,j.signature=g.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:($e,j,E)=>{"use strict";var g=E(49609),w=g.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),B=g.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),H=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),b=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())}),k=g.define("RelativeDistinguishedName",function(){this.setof(B)}),S=g.define("RDNSequence",function(){this.seqof(k)}),P=g.define("Name",function(){this.choice({rdnSequence:this.use(S)})}),R=g.define("Validity",function(){this.seq().obj(this.key("notBefore").use(w),this.key("notAfter").use(w))}),O=g.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),A=g.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(H),this.key("issuer").use(P),this.key("validity").use(R),this.key("subject").use(P),this.key("subjectPublicKeyInfo").use(b),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(O).optional())}),V=g.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(A),this.key("signatureAlgorithm").use(H),this.key("signatureValue").bitstr())});$e.exports=V},89472:($e,j,E)=>{"use strict";var g=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,w=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,B=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,H=E(18211),b=E(43388),k=E(27054).Buffer;$e.exports=function(S,P){var A,R=S.toString(),O=R.match(g);if(O){var U="aes"+O[1],K=k.from(O[2],"hex"),Q=k.from(O[3].replace(/[\r\n]/g,""),"base64"),q=H(P,K.slice(0,8),parseInt(O[1],10)).key,Y=[],W=b.createDecipheriv(U,q,K);Y.push(W.update(Q)),Y.push(W.final()),A=k.concat(Y)}else{var V=R.match(B);A=k.from(V[2].replace(/[\r\n]/g,""),"base64")}return{tag:R.match(w)[1],data:A}}},65667:($e,j,E)=>{"use strict";var g=E(83138),w=E(15579),B=E(89472),H=E(43388),b=E(93397),k=E(27054).Buffer;function P(R){var O;"object"==typeof R&&!k.isBuffer(R)&&(O=R.passphrase,R=R.key),"string"==typeof R&&(R=k.from(R));var K,Q,A=B(R,O),V=A.tag,U=A.data;switch(V){case"CERTIFICATE":Q=g.certificate.decode(U,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Q||(Q=g.PublicKey.decode(U,"der")),K=Q.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return g.RSAPublicKey.decode(Q.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Q.subjectPrivateKey=Q.subjectPublicKey,{type:"ec",data:Q};case"1.2.840.10040.4.1":return Q.algorithm.params.pub_key=g.DSAparam.decode(Q.subjectPublicKey.data,"der"),{type:"dsa",data:Q.algorithm.params};default:throw new Error("unknown key id "+K)}case"ENCRYPTED PRIVATE KEY":U=function S(R,O){var A=R.algorithm.decrypt.kde.kdeparams.salt,V=parseInt(R.algorithm.decrypt.kde.kdeparams.iters.toString(),10),U=w[R.algorithm.decrypt.cipher.algo.join(".")],K=R.algorithm.decrypt.cipher.iv,Q=R.subjectPrivateKey,q=parseInt(U.split("-")[1],10)/8,Y=b.pbkdf2Sync(O,A,V,q,"sha1"),W=H.createDecipheriv(U,Y,K),re=[];return re.push(W.update(Q)),re.push(W.final()),k.concat(re)}(U=g.EncryptedPrivateKey.decode(U,"der"),O);case"PRIVATE KEY":switch(K=(Q=g.PrivateKey.decode(U,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return g.RSAPrivateKey.decode(Q.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Q.algorithm.curve,privateKey:g.ECPrivateKey.decode(Q.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Q.algorithm.params.priv_key=g.DSAparam.decode(Q.subjectPrivateKey,"der"),{type:"dsa",params:Q.algorithm.params};default:throw new Error("unknown key id "+K)}case"RSA PUBLIC KEY":return g.RSAPublicKey.decode(U,"der");case"RSA PRIVATE KEY":return g.RSAPrivateKey.decode(U,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:g.DSAPrivateKey.decode(U,"der")};case"EC PRIVATE KEY":return{curve:(U=g.ECPrivateKey.decode(U,"der")).parameters.value,privateKey:U.privateKey};default:throw new Error("unknown key type "+V)}}P.signature=g.signature,$e.exports=P},93397:($e,j,E)=>{j.pbkdf2=E(82685),j.pbkdf2Sync=E(59111)},82685:($e,j,E)=>{var k,A,g=E(27054).Buffer,w=E(86111),B=E(45392),H=E(59111),b=E(76643),S=globalThis.crypto&&globalThis.crypto.subtle,P={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},R=[];function V(){return A||(A=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function U(Q,q,Y,W,re){return S.importKey("raw",Q,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ie){return S.deriveBits({name:"PBKDF2",salt:q,iterations:Y,hash:{name:re}},ie,W<<3)}).then(function(ie){return g.from(ie)})}$e.exports=function(Q,q,Y,W,re,ie){"function"==typeof re&&(ie=re,re=void 0);var ae=P[(re=re||"sha1").toLowerCase()];if(ae&&"function"==typeof globalThis.Promise){if(w(Y,W),Q=b(Q,B,"Password"),q=b(q,B,"Salt"),"function"!=typeof ie)throw new Error("No callback provided to pbkdf2");!function K(Q,q){Q.then(function(Y){V()(function(){q(null,Y)})},function(Y){V()(function(){q(Y)})})}(function O(Q){if(globalThis.process&&!globalThis.process.browser||!S||!S.importKey||!S.deriveBits)return Promise.resolve(!1);if(void 0!==R[Q])return R[Q];var q=U(k=k||g.alloc(8),k,10,128,Q).then(function(){return!0}).catch(function(){return!1});return R[Q]=q,q}(ae).then(function(ue){return ue?U(Q,q,Y,W,ae):H(Q,q,Y,W,re)}),ie)}else V()(function(){var ue;try{ue=H(Q,q,Y,W,re)}catch(ce){return ie(ce)}ie(null,ue)})}},45392:($e,j,E)=>{var w,g=E(40573);w=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(g.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",$e.exports=w},86111:$e=>{var j=Math.pow(2,30)-1;$e.exports=function(E,g){if("number"!=typeof E)throw new TypeError("Iterations not a number");if(E<0)throw new TypeError("Bad iterations");if("number"!=typeof g)throw new TypeError("Key length not a number");if(g<0||g>j||g!=g)throw new TypeError("Bad key length")}},59111:($e,j,E)=>{var g=E(83407),w=E(36636),B=E(25443),H=E(27054).Buffer,b=E(86111),k=E(45392),S=E(76643),P=H.alloc(128),R={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function O(U,K,Q){var q=function A(U){return"rmd160"===U||"ripemd160"===U?function Q(q){return(new w).update(q).digest()}:"md5"===U?g:function K(q){return B(U).update(q).digest()}}(U),Y="sha512"===U||"sha384"===U?128:64;K.length>Y?K=q(K):K.length<Y&&(K=H.concat([K,P],Y));for(var W=H.allocUnsafe(Y+R[U]),re=H.allocUnsafe(Y+R[U]),ie=0;ie<Y;ie++)W[ie]=54^K[ie],re[ie]=92^K[ie];var ae=H.allocUnsafe(Y+Q+4);W.copy(ae,0,0,Y),this.ipad1=ae,this.ipad2=W,this.opad=re,this.alg=U,this.blocksize=Y,this.hash=q,this.size=R[U]}O.prototype.run=function(U,K){return U.copy(K,this.blocksize),this.hash(K).copy(this.opad,this.blocksize),this.hash(this.opad)},$e.exports=function V(U,K,Q,q,Y){b(Q,q);var W=new O(Y=Y||"sha1",U=S(U,k,"Password"),(K=S(K,k,"Salt")).length),re=H.allocUnsafe(q),ie=H.allocUnsafe(K.length+4);K.copy(ie,0,0,K.length);for(var ae=0,ue=R[Y],ce=Math.ceil(q/ue),pe=1;pe<=ce;pe++){ie.writeUInt32BE(pe,K.length);for(var ve=W.run(ie,W.ipad1),De=ve,C=1;C<Q;C++){De=W.run(De,W.ipad2);for(var s=0;s<ue;s++)ve[s]^=De[s]}ve.copy(re,ae),ae+=ue}return re}},76643:($e,j,E)=>{var g=E(27054).Buffer;$e.exports=function(w,B,H){if(g.isBuffer(w))return w;if("string"==typeof w)return g.from(w,B);if(ArrayBuffer.isView(w))return g.from(w.buffer);throw new TypeError(H+" must be a string, a Buffer, a typed array or a DataView")}},9656:($e,j,E)=>{"use strict";var g=E(40573);$e.exports=typeof g>"u"||!g.version||0===g.version.indexOf("v0.")||0===g.version.indexOf("v1.")&&0!==g.version.indexOf("v1.8.")?{nextTick:function w(B,H,b,k){if("function"!=typeof B)throw new TypeError('"callback" argument must be a function');var P,R,S=arguments.length;switch(S){case 0:case 1:return g.nextTick(B);case 2:return g.nextTick(function(){B.call(null,H)});case 3:return g.nextTick(function(){B.call(null,H,b)});case 4:return g.nextTick(function(){B.call(null,H,b,k)});default:for(P=new Array(S-1),R=0;R<P.length;)P[R++]=arguments[R];return g.nextTick(function(){B.apply(null,P)})}}}:g},40573:$e=>{var E,g,j=$e.exports={};function w(){throw new Error("setTimeout has not been defined")}function B(){throw new Error("clearTimeout has not been defined")}function H(K){if(E===setTimeout)return setTimeout(K,0);if((E===w||!E)&&setTimeout)return E=setTimeout,setTimeout(K,0);try{return E(K,0)}catch{try{return E.call(null,K,0)}catch{return E.call(this,K,0)}}}!function(){try{E="function"==typeof setTimeout?setTimeout:w}catch{E=w}try{g="function"==typeof clearTimeout?clearTimeout:B}catch{g=B}}();var P,k=[],S=!1,R=-1;function O(){!S||!P||(S=!1,P.length?k=P.concat(k):R=-1,k.length&&A())}function A(){if(!S){var K=H(O);S=!0;for(var Q=k.length;Q;){for(P=k,k=[];++R<Q;)P&&P[R].run();R=-1,Q=k.length}P=null,S=!1,function b(K){if(g===clearTimeout)return clearTimeout(K);if((g===B||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(K);try{return g(K)}catch{try{return g.call(null,K)}catch{return g.call(this,K)}}}(K)}}function V(K,Q){this.fun=K,this.array=Q}function U(){}j.nextTick=function(K){var Q=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)Q[q-1]=arguments[q];k.push(new V(K,Q)),1===k.length&&!S&&H(A)},V.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=U,j.addListener=U,j.once=U,j.off=U,j.removeListener=U,j.removeAllListeners=U,j.emit=U,j.prependListener=U,j.prependOnceListener=U,j.listeners=function(K){return[]},j.binding=function(K){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(K){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},52965:($e,j,E)=>{j.publicEncrypt=E(87267),j.privateDecrypt=E(98613),j.privateEncrypt=function(w,B){return j.publicEncrypt(w,B,!0)},j.publicDecrypt=function(w,B){return j.privateDecrypt(w,B,!0)}},30715:($e,j,E)=>{var g=E(67211),w=E(27054).Buffer;function B(H){var b=w.allocUnsafe(4);return b.writeUInt32BE(H,0),b}$e.exports=function(H,b){for(var P,k=w.alloc(0),S=0;k.length<b;)P=B(S++),k=w.concat([k,g("sha1").update(H).update(P).digest()]);return k.slice(0,b)}},16508:function($e,j,E){!function(g,w){"use strict";function B(C,s){if(!C)throw new Error(s||"Assertion failed")}function H(C,s){C.super_=s;var d=function(){};d.prototype=s.prototype,C.prototype=new d,C.prototype.constructor=C}function b(C,s,d){if(b.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===s||"be"===s)&&(d=s,s=10),this._init(C||0,s||10,d||"be"))}var k;"object"==typeof g?g.exports=b:w.BN=b,b.BN=b,b.wordSize=26;try{k=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(51069).Buffer}catch{}function S(C,s){var d=C.charCodeAt(s);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function P(C,s,d){var h=S(C,d);return d-1>=s&&(h|=S(C,d-1)<<4),h}function R(C,s,d,h){for(var f=0,_=Math.min(C.length,d),I=s;I<_;I++){var L=C.charCodeAt(I)-48;f*=h,f+=L>=49?L-49+10:L>=17?L-17+10:L}return f}b.isBN=function(s){return s instanceof b||null!==s&&"object"==typeof s&&s.constructor.wordSize===b.wordSize&&Array.isArray(s.words)},b.max=function(s,d){return s.cmp(d)>0?s:d},b.min=function(s,d){return s.cmp(d)<0?s:d},b.prototype._init=function(s,d,h){if("number"==typeof s)return this._initNumber(s,d,h);if("object"==typeof s)return this._initArray(s,d,h);"hex"===d&&(d=16),B(d===(0|d)&&d>=2&&d<=36);var f=0;"-"===(s=s.toString().replace(/\s+/g,""))[0]&&(f++,this.negative=1),f<s.length&&(16===d?this._parseHex(s,f,h):(this._parseBase(s,d,f),"le"===h&&this._initArray(this.toArray(),d,h)))},b.prototype._initNumber=function(s,d,h){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[67108863&s],this.length=1):s<4503599627370496?(this.words=[67108863&s,s/67108864&67108863],this.length=2):(B(s<9007199254740992),this.words=[67108863&s,s/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),d,h)},b.prototype._initArray=function(s,d,h){if(B("number"==typeof s.length),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var _,I,L=0;if("be"===h)for(f=s.length-1,_=0;f>=0;f-=3)this.words[_]|=(I=s[f]|s[f-1]<<8|s[f-2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);else if("le"===h)for(f=0,_=0;f<s.length;f+=3)this.words[_]|=(I=s[f]|s[f+1]<<8|s[f+2]<<16)<<L&67108863,this.words[_+1]=I>>>26-L&67108863,(L+=24)>=26&&(L-=26,_++);return this.strip()},b.prototype._parseHex=function(s,d,h){this.length=Math.ceil((s.length-d)/6),this.words=new Array(this.length);for(var f=0;f<this.length;f++)this.words[f]=0;var L,_=0,I=0;if("be"===h)for(f=s.length-1;f>=d;f-=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;else for(f=(s.length-d)%2==0?d+1:d;f<s.length;f+=2)L=P(s,d,f)<<_,this.words[I]|=67108863&L,_>=18?(_-=18,this.words[I+=1]|=L>>>26):_+=8;this.strip()},b.prototype._parseBase=function(s,d,h){this.words=[0],this.length=1;for(var f=0,_=1;_<=67108863;_*=d)f++;f--,_=_/d|0;for(var I=s.length-h,L=I%f,x=Math.min(I,I-L)+h,a=0,v=h;v<x;v+=f)a=R(s,v,v+f,d),this.imuln(_),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==L){var Z=1;for(a=R(s,v,s.length,d),v=0;v<L;v++)Z*=d;this.imuln(Z),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},b.prototype.copy=function(s){s.words=new Array(this.length);for(var d=0;d<this.length;d++)s.words[d]=this.words[d];s.length=this.length,s.negative=this.negative,s.red=this.red},b.prototype.clone=function(){var s=new b(null);return this.copy(s),s},b.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},b.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},b.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},b.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function K(C,s,d){d.negative=s.negative^C.negative;var h=C.length+s.length|0;d.length=h,h=h-1|0;var f=0|C.words[0],_=0|s.words[0],I=f*_,x=I/67108864|0;d.words[0]=67108863&I;for(var a=1;a<h;a++){for(var v=x>>>26,Z=67108863&x,z=Math.min(a,s.length-1),ee=Math.max(0,a-C.length+1);ee<=z;ee++)v+=(I=(f=0|C.words[a-ee|0])*(_=0|s.words[ee])+Z)/67108864|0,Z=67108863&I;d.words[a]=0|Z,x=0|v}return 0!==x?d.words[a]=0|x:d.length--,d.strip()}b.prototype.toString=function(s,d){var h;if(d=0|d||1,16===(s=s||10)||"hex"===s){h="";for(var f=0,_=0,I=0;I<this.length;I++){var L=this.words[I],x=(16777215&(L<<f|_)).toString(16);h=0!=(_=L>>>24-f&16777215)||I!==this.length-1?O[6-x.length]+x+h:x+h,(f+=2)>=26&&(f-=26,I--)}for(0!==_&&(h=_.toString(16)+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(s===(0|s)&&s>=2&&s<=36){var a=A[s],v=V[s];h="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var z=Z.modn(v).toString(s);h=(Z=Z.idivn(v)).isZero()?z+h:O[a-z.length]+z+h}for(this.isZero()&&(h="0"+h);h.length%d!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}B(!1,"Base should be between 2 and 36")},b.prototype.toNumber=function(){var s=this.words[0];return 2===this.length?s+=67108864*this.words[1]:3===this.length&&1===this.words[2]?s+=4503599627370496+67108864*this.words[1]:this.length>2&&B(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-s:s},b.prototype.toJSON=function(){return this.toString(16)},b.prototype.toBuffer=function(s,d){return B(typeof k<"u"),this.toArrayLike(k,s,d)},b.prototype.toArray=function(s,d){return this.toArrayLike(Array,s,d)},b.prototype.toArrayLike=function(s,d,h){var f=this.byteLength(),_=h||Math.max(1,f);B(f<=_,"byte array longer than desired length"),B(_>0,"Requested array length <= 0"),this.strip();var x,a,I="le"===d,L=new s(_),v=this.clone();if(I){for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[a]=x;for(;a<_;a++)L[a]=0}else{for(a=0;a<_-f;a++)L[a]=0;for(a=0;!v.isZero();a++)x=v.andln(255),v.iushrn(8),L[_-a-1]=x}return L},b.prototype._countBits=Math.clz32?function(s){return 32-Math.clz32(s)}:function(s){var d=s,h=0;return d>=4096&&(h+=13,d>>>=13),d>=64&&(h+=7,d>>>=7),d>=8&&(h+=4,d>>>=4),d>=2&&(h+=2,d>>>=2),h+d},b.prototype._zeroBits=function(s){if(0===s)return 26;var d=s,h=0;return 8191&d||(h+=13,d>>>=13),127&d||(h+=7,d>>>=7),15&d||(h+=4,d>>>=4),3&d||(h+=2,d>>>=2),1&d||h++,h},b.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},b.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,d=0;d<this.length;d++){var h=this._zeroBits(this.words[d]);if(s+=h,26!==h)break}return s},b.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},b.prototype.toTwos=function(s){return 0!==this.negative?this.abs().inotn(s).iaddn(1):this.clone()},b.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},b.prototype.isNeg=function(){return 0!==this.negative},b.prototype.neg=function(){return this.clone().ineg()},b.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},b.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var d=0;d<s.length;d++)this.words[d]=this.words[d]|s.words[d];return this.strip()},b.prototype.ior=function(s){return B(!(this.negative|s.negative)),this.iuor(s)},b.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},b.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},b.prototype.iuand=function(s){var d;d=this.length>s.length?s:this;for(var h=0;h<d.length;h++)this.words[h]=this.words[h]&s.words[h];return this.length=d.length,this.strip()},b.prototype.iand=function(s){return B(!(this.negative|s.negative)),this.iuand(s)},b.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},b.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},b.prototype.iuxor=function(s){var d,h;this.length>s.length?(d=this,h=s):(d=s,h=this);for(var f=0;f<h.length;f++)this.words[f]=d.words[f]^h.words[f];if(this!==d)for(;f<d.length;f++)this.words[f]=d.words[f];return this.length=d.length,this.strip()},b.prototype.ixor=function(s){return B(!(this.negative|s.negative)),this.iuxor(s)},b.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},b.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},b.prototype.inotn=function(s){B("number"==typeof s&&s>=0);var d=0|Math.ceil(s/26),h=s%26;this._expand(d),h>0&&d--;for(var f=0;f<d;f++)this.words[f]=67108863&~this.words[f];return h>0&&(this.words[f]=~this.words[f]&67108863>>26-h),this.strip()},b.prototype.notn=function(s){return this.clone().inotn(s)},b.prototype.setn=function(s,d){B("number"==typeof s&&s>=0);var h=s/26|0,f=s%26;return this._expand(h+1),this.words[h]=d?this.words[h]|1<<f:this.words[h]&~(1<<f),this.strip()},b.prototype.iadd=function(s){var d,h,f;if(0!==this.negative&&0===s.negative)return this.negative=0,d=this.isub(s),this.negative^=1,this._normSign();if(0===this.negative&&0!==s.negative)return s.negative=0,d=this.isub(s),s.negative=1,d._normSign();this.length>s.length?(h=this,f=s):(h=s,f=this);for(var _=0,I=0;I<f.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+(0|f.words[I])+_),_=d>>>26;for(;0!==_&&I<h.length;I++)this.words[I]=67108863&(d=(0|h.words[I])+_),_=d>>>26;if(this.length=h.length,0!==_)this.words[this.length]=_,this.length++;else if(h!==this)for(;I<h.length;I++)this.words[I]=h.words[I];return this},b.prototype.add=function(s){var d;return 0!==s.negative&&0===this.negative?(s.negative=0,d=this.sub(s),s.negative^=1,d):0===s.negative&&0!==this.negative?(this.negative=0,d=s.sub(this),this.negative=1,d):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},b.prototype.isub=function(s){if(0!==s.negative){s.negative=0;var d=this.iadd(s);return s.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f,_,h=this.cmp(s);if(0===h)return this.negative=0,this.length=1,this.words[0]=0,this;h>0?(f=this,_=s):(f=s,_=this);for(var I=0,L=0;L<_.length;L++)I=(d=(0|f.words[L])-(0|_.words[L])+I)>>26,this.words[L]=67108863&d;for(;0!==I&&L<f.length;L++)I=(d=(0|f.words[L])+I)>>26,this.words[L]=67108863&d;if(0===I&&L<f.length&&f!==this)for(;L<f.length;L++)this.words[L]=f.words[L];return this.length=Math.max(this.length,L),f!==this&&(this.negative=1),this.strip()},b.prototype.sub=function(s){return this.clone().isub(s)};var Q=function(s,d,h){var x,a,v,f=s.words,_=d.words,I=h.words,L=0,Z=0|f[0],z=8191&Z,ee=Z>>>13,le=0|f[1],we=8191&le,Me=le>>>13,Ze=0|f[2],ge=8191&Ze,me=Ze>>>13,Ue=0|f[3],xe=8191&Ue,Ce=Ue>>>13,be=0|f[4],he=8191&be,ne=be>>>13,te=0|f[5],de=8191&te,_e=te>>>13,Ie=0|f[6],He=8191&Ie,Ve=Ie>>>13,Dt=0|f[7],Ne=8191&Dt,ke=Dt>>>13,yt=0|f[8],F=8191&yt,D=yt>>>13,M=0|f[9],G=8191&M,fe=M>>>13,Se=0|_[0],Ae=8191&Se,ot=Se>>>13,Gt=0|_[1],_t=8191&Gt,Bt=Gt>>>13,en=0|_[2],pn=8191&en,cn=en>>>13,tr=0|_[3],Mn=8191&tr,on=tr>>>13,Qt=0|_[4],ut=8191&Qt,st=Qt>>>13,Zt=0|_[5],Xt=8191&Zt,rn=Zt>>>13,Zn=0|_[6],at=8191&Zn,pt=Zn>>>13,ht=0|_[7],Ke=8191&ht,Ge=ht>>>13,jt=0|_[8],kt=8191&jt,ln=jt>>>13,On=0|_[9],vn=8191&On,gn=On>>>13;h.negative=s.negative^d.negative,h.length=19;var ur=(L+(x=Math.imul(z,Ae))|0)+((8191&(a=(a=Math.imul(z,ot))+Math.imul(ee,Ae)|0))<<13)|0;L=((v=Math.imul(ee,ot))+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,x=Math.imul(we,Ae),a=(a=Math.imul(we,ot))+Math.imul(Me,Ae)|0,v=Math.imul(Me,ot);var er=(L+(x=x+Math.imul(z,_t)|0)|0)+((8191&(a=(a=a+Math.imul(z,Bt)|0)+Math.imul(ee,_t)|0))<<13)|0;L=((v=v+Math.imul(ee,Bt)|0)+(a>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(ge,Ae),a=(a=Math.imul(ge,ot))+Math.imul(me,Ae)|0,v=Math.imul(me,ot),x=x+Math.imul(we,_t)|0,a=(a=a+Math.imul(we,Bt)|0)+Math.imul(Me,_t)|0,v=v+Math.imul(Me,Bt)|0;var Pn=(L+(x=x+Math.imul(z,pn)|0)|0)+((8191&(a=(a=a+Math.imul(z,cn)|0)+Math.imul(ee,pn)|0))<<13)|0;L=((v=v+Math.imul(ee,cn)|0)+(a>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,x=Math.imul(xe,Ae),a=(a=Math.imul(xe,ot))+Math.imul(Ce,Ae)|0,v=Math.imul(Ce,ot),x=x+Math.imul(ge,_t)|0,a=(a=a+Math.imul(ge,Bt)|0)+Math.imul(me,_t)|0,v=v+Math.imul(me,Bt)|0,x=x+Math.imul(we,pn)|0,a=(a=a+Math.imul(we,cn)|0)+Math.imul(Me,pn)|0,v=v+Math.imul(Me,cn)|0;var Nn=(L+(x=x+Math.imul(z,Mn)|0)|0)+((8191&(a=(a=a+Math.imul(z,on)|0)+Math.imul(ee,Mn)|0))<<13)|0;L=((v=v+Math.imul(ee,on)|0)+(a>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(he,Ae),a=(a=Math.imul(he,ot))+Math.imul(ne,Ae)|0,v=Math.imul(ne,ot),x=x+Math.imul(xe,_t)|0,a=(a=a+Math.imul(xe,Bt)|0)+Math.imul(Ce,_t)|0,v=v+Math.imul(Ce,Bt)|0,x=x+Math.imul(ge,pn)|0,a=(a=a+Math.imul(ge,cn)|0)+Math.imul(me,pn)|0,v=v+Math.imul(me,cn)|0,x=x+Math.imul(we,Mn)|0,a=(a=a+Math.imul(we,on)|0)+Math.imul(Me,Mn)|0,v=v+Math.imul(Me,on)|0;var et=(L+(x=x+Math.imul(z,ut)|0)|0)+((8191&(a=(a=a+Math.imul(z,st)|0)+Math.imul(ee,ut)|0))<<13)|0;L=((v=v+Math.imul(ee,st)|0)+(a>>>13)|0)+(et>>>26)|0,et&=67108863,x=Math.imul(de,Ae),a=(a=Math.imul(de,ot))+Math.imul(_e,Ae)|0,v=Math.imul(_e,ot),x=x+Math.imul(he,_t)|0,a=(a=a+Math.imul(he,Bt)|0)+Math.imul(ne,_t)|0,v=v+Math.imul(ne,Bt)|0,x=x+Math.imul(xe,pn)|0,a=(a=a+Math.imul(xe,cn)|0)+Math.imul(Ce,pn)|0,v=v+Math.imul(Ce,cn)|0,x=x+Math.imul(ge,Mn)|0,a=(a=a+Math.imul(ge,on)|0)+Math.imul(me,Mn)|0,v=v+Math.imul(me,on)|0,x=x+Math.imul(we,ut)|0,a=(a=a+Math.imul(we,st)|0)+Math.imul(Me,ut)|0,v=v+Math.imul(Me,st)|0;var Oe=(L+(x=x+Math.imul(z,Xt)|0)|0)+((8191&(a=(a=a+Math.imul(z,rn)|0)+Math.imul(ee,Xt)|0))<<13)|0;L=((v=v+Math.imul(ee,rn)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,x=Math.imul(He,Ae),a=(a=Math.imul(He,ot))+Math.imul(Ve,Ae)|0,v=Math.imul(Ve,ot),x=x+Math.imul(de,_t)|0,a=(a=a+Math.imul(de,Bt)|0)+Math.imul(_e,_t)|0,v=v+Math.imul(_e,Bt)|0,x=x+Math.imul(he,pn)|0,a=(a=a+Math.imul(he,cn)|0)+Math.imul(ne,pn)|0,v=v+Math.imul(ne,cn)|0,x=x+Math.imul(xe,Mn)|0,a=(a=a+Math.imul(xe,on)|0)+Math.imul(Ce,Mn)|0,v=v+Math.imul(Ce,on)|0,x=x+Math.imul(ge,ut)|0,a=(a=a+Math.imul(ge,st)|0)+Math.imul(me,ut)|0,v=v+Math.imul(me,st)|0,x=x+Math.imul(we,Xt)|0,a=(a=a+Math.imul(we,rn)|0)+Math.imul(Me,Xt)|0,v=v+Math.imul(Me,rn)|0;var Qe=(L+(x=x+Math.imul(z,at)|0)|0)+((8191&(a=(a=a+Math.imul(z,pt)|0)+Math.imul(ee,at)|0))<<13)|0;L=((v=v+Math.imul(ee,pt)|0)+(a>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,x=Math.imul(Ne,Ae),a=(a=Math.imul(Ne,ot))+Math.imul(ke,Ae)|0,v=Math.imul(ke,ot),x=x+Math.imul(He,_t)|0,a=(a=a+Math.imul(He,Bt)|0)+Math.imul(Ve,_t)|0,v=v+Math.imul(Ve,Bt)|0,x=x+Math.imul(de,pn)|0,a=(a=a+Math.imul(de,cn)|0)+Math.imul(_e,pn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(he,Mn)|0,a=(a=a+Math.imul(he,on)|0)+Math.imul(ne,Mn)|0,v=v+Math.imul(ne,on)|0,x=x+Math.imul(xe,ut)|0,a=(a=a+Math.imul(xe,st)|0)+Math.imul(Ce,ut)|0,v=v+Math.imul(Ce,st)|0,x=x+Math.imul(ge,Xt)|0,a=(a=a+Math.imul(ge,rn)|0)+Math.imul(me,Xt)|0,v=v+Math.imul(me,rn)|0,x=x+Math.imul(we,at)|0,a=(a=a+Math.imul(we,pt)|0)+Math.imul(Me,at)|0,v=v+Math.imul(Me,pt)|0;var zt=(L+(x=x+Math.imul(z,Ke)|0)|0)+((8191&(a=(a=a+Math.imul(z,Ge)|0)+Math.imul(ee,Ke)|0))<<13)|0;L=((v=v+Math.imul(ee,Ge)|0)+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,x=Math.imul(F,Ae),a=(a=Math.imul(F,ot))+Math.imul(D,Ae)|0,v=Math.imul(D,ot),x=x+Math.imul(Ne,_t)|0,a=(a=a+Math.imul(Ne,Bt)|0)+Math.imul(ke,_t)|0,v=v+Math.imul(ke,Bt)|0,x=x+Math.imul(He,pn)|0,a=(a=a+Math.imul(He,cn)|0)+Math.imul(Ve,pn)|0,v=v+Math.imul(Ve,cn)|0,x=x+Math.imul(de,Mn)|0,a=(a=a+Math.imul(de,on)|0)+Math.imul(_e,Mn)|0,v=v+Math.imul(_e,on)|0,x=x+Math.imul(he,ut)|0,a=(a=a+Math.imul(he,st)|0)+Math.imul(ne,ut)|0,v=v+Math.imul(ne,st)|0,x=x+Math.imul(xe,Xt)|0,a=(a=a+Math.imul(xe,rn)|0)+Math.imul(Ce,Xt)|0,v=v+Math.imul(Ce,rn)|0,x=x+Math.imul(ge,at)|0,a=(a=a+Math.imul(ge,pt)|0)+Math.imul(me,at)|0,v=v+Math.imul(me,pt)|0,x=x+Math.imul(we,Ke)|0,a=(a=a+Math.imul(we,Ge)|0)+Math.imul(Me,Ke)|0,v=v+Math.imul(Me,Ge)|0;var hn=(L+(x=x+Math.imul(z,kt)|0)|0)+((8191&(a=(a=a+Math.imul(z,ln)|0)+Math.imul(ee,kt)|0))<<13)|0;L=((v=v+Math.imul(ee,ln)|0)+(a>>>13)|0)+(hn>>>26)|0,hn&=67108863,x=Math.imul(G,Ae),a=(a=Math.imul(G,ot))+Math.imul(fe,Ae)|0,v=Math.imul(fe,ot),x=x+Math.imul(F,_t)|0,a=(a=a+Math.imul(F,Bt)|0)+Math.imul(D,_t)|0,v=v+Math.imul(D,Bt)|0,x=x+Math.imul(Ne,pn)|0,a=(a=a+Math.imul(Ne,cn)|0)+Math.imul(ke,pn)|0,v=v+Math.imul(ke,cn)|0,x=x+Math.imul(He,Mn)|0,a=(a=a+Math.imul(He,on)|0)+Math.imul(Ve,Mn)|0,v=v+Math.imul(Ve,on)|0,x=x+Math.imul(de,ut)|0,a=(a=a+Math.imul(de,st)|0)+Math.imul(_e,ut)|0,v=v+Math.imul(_e,st)|0,x=x+Math.imul(he,Xt)|0,a=(a=a+Math.imul(he,rn)|0)+Math.imul(ne,Xt)|0,v=v+Math.imul(ne,rn)|0,x=x+Math.imul(xe,at)|0,a=(a=a+Math.imul(xe,pt)|0)+Math.imul(Ce,at)|0,v=v+Math.imul(Ce,pt)|0,x=x+Math.imul(ge,Ke)|0,a=(a=a+Math.imul(ge,Ge)|0)+Math.imul(me,Ke)|0,v=v+Math.imul(me,Ge)|0,x=x+Math.imul(we,kt)|0,a=(a=a+Math.imul(we,ln)|0)+Math.imul(Me,kt)|0,v=v+Math.imul(Me,ln)|0;var Un=(L+(x=x+Math.imul(z,vn)|0)|0)+((8191&(a=(a=a+Math.imul(z,gn)|0)+Math.imul(ee,vn)|0))<<13)|0;L=((v=v+Math.imul(ee,gn)|0)+(a>>>13)|0)+(Un>>>26)|0,Un&=67108863,x=Math.imul(G,_t),a=(a=Math.imul(G,Bt))+Math.imul(fe,_t)|0,v=Math.imul(fe,Bt),x=x+Math.imul(F,pn)|0,a=(a=a+Math.imul(F,cn)|0)+Math.imul(D,pn)|0,v=v+Math.imul(D,cn)|0,x=x+Math.imul(Ne,Mn)|0,a=(a=a+Math.imul(Ne,on)|0)+Math.imul(ke,Mn)|0,v=v+Math.imul(ke,on)|0,x=x+Math.imul(He,ut)|0,a=(a=a+Math.imul(He,st)|0)+Math.imul(Ve,ut)|0,v=v+Math.imul(Ve,st)|0,x=x+Math.imul(de,Xt)|0,a=(a=a+Math.imul(de,rn)|0)+Math.imul(_e,Xt)|0,v=v+Math.imul(_e,rn)|0,x=x+Math.imul(he,at)|0,a=(a=a+Math.imul(he,pt)|0)+Math.imul(ne,at)|0,v=v+Math.imul(ne,pt)|0,x=x+Math.imul(xe,Ke)|0,a=(a=a+Math.imul(xe,Ge)|0)+Math.imul(Ce,Ke)|0,v=v+Math.imul(Ce,Ge)|0,x=x+Math.imul(ge,kt)|0,a=(a=a+Math.imul(ge,ln)|0)+Math.imul(me,kt)|0,v=v+Math.imul(me,ln)|0;var Kn=(L+(x=x+Math.imul(we,vn)|0)|0)+((8191&(a=(a=a+Math.imul(we,gn)|0)+Math.imul(Me,vn)|0))<<13)|0;L=((v=v+Math.imul(Me,gn)|0)+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,x=Math.imul(G,pn),a=(a=Math.imul(G,cn))+Math.imul(fe,pn)|0,v=Math.imul(fe,cn),x=x+Math.imul(F,Mn)|0,a=(a=a+Math.imul(F,on)|0)+Math.imul(D,Mn)|0,v=v+Math.imul(D,on)|0,x=x+Math.imul(Ne,ut)|0,a=(a=a+Math.imul(Ne,st)|0)+Math.imul(ke,ut)|0,v=v+Math.imul(ke,st)|0,x=x+Math.imul(He,Xt)|0,a=(a=a+Math.imul(He,rn)|0)+Math.imul(Ve,Xt)|0,v=v+Math.imul(Ve,rn)|0,x=x+Math.imul(de,at)|0,a=(a=a+Math.imul(de,pt)|0)+Math.imul(_e,at)|0,v=v+Math.imul(_e,pt)|0,x=x+Math.imul(he,Ke)|0,a=(a=a+Math.imul(he,Ge)|0)+Math.imul(ne,Ke)|0,v=v+Math.imul(ne,Ge)|0,x=x+Math.imul(xe,kt)|0,a=(a=a+Math.imul(xe,ln)|0)+Math.imul(Ce,kt)|0,v=v+Math.imul(Ce,ln)|0;var ir=(L+(x=x+Math.imul(ge,vn)|0)|0)+((8191&(a=(a=a+Math.imul(ge,gn)|0)+Math.imul(me,vn)|0))<<13)|0;L=((v=v+Math.imul(me,gn)|0)+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,x=Math.imul(G,Mn),a=(a=Math.imul(G,on))+Math.imul(fe,Mn)|0,v=Math.imul(fe,on),x=x+Math.imul(F,ut)|0,a=(a=a+Math.imul(F,st)|0)+Math.imul(D,ut)|0,v=v+Math.imul(D,st)|0,x=x+Math.imul(Ne,Xt)|0,a=(a=a+Math.imul(Ne,rn)|0)+Math.imul(ke,Xt)|0,v=v+Math.imul(ke,rn)|0,x=x+Math.imul(He,at)|0,a=(a=a+Math.imul(He,pt)|0)+Math.imul(Ve,at)|0,v=v+Math.imul(Ve,pt)|0,x=x+Math.imul(de,Ke)|0,a=(a=a+Math.imul(de,Ge)|0)+Math.imul(_e,Ke)|0,v=v+Math.imul(_e,Ge)|0,x=x+Math.imul(he,kt)|0,a=(a=a+Math.imul(he,ln)|0)+Math.imul(ne,kt)|0,v=v+Math.imul(ne,ln)|0;var mr=(L+(x=x+Math.imul(xe,vn)|0)|0)+((8191&(a=(a=a+Math.imul(xe,gn)|0)+Math.imul(Ce,vn)|0))<<13)|0;L=((v=v+Math.imul(Ce,gn)|0)+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(G,ut),a=(a=Math.imul(G,st))+Math.imul(fe,ut)|0,v=Math.imul(fe,st),x=x+Math.imul(F,Xt)|0,a=(a=a+Math.imul(F,rn)|0)+Math.imul(D,Xt)|0,v=v+Math.imul(D,rn)|0,x=x+Math.imul(Ne,at)|0,a=(a=a+Math.imul(Ne,pt)|0)+Math.imul(ke,at)|0,v=v+Math.imul(ke,pt)|0,x=x+Math.imul(He,Ke)|0,a=(a=a+Math.imul(He,Ge)|0)+Math.imul(Ve,Ke)|0,v=v+Math.imul(Ve,Ge)|0,x=x+Math.imul(de,kt)|0,a=(a=a+Math.imul(de,ln)|0)+Math.imul(_e,kt)|0,v=v+Math.imul(_e,ln)|0;var Pr=(L+(x=x+Math.imul(he,vn)|0)|0)+((8191&(a=(a=a+Math.imul(he,gn)|0)+Math.imul(ne,vn)|0))<<13)|0;L=((v=v+Math.imul(ne,gn)|0)+(a>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(G,Xt),a=(a=Math.imul(G,rn))+Math.imul(fe,Xt)|0,v=Math.imul(fe,rn),x=x+Math.imul(F,at)|0,a=(a=a+Math.imul(F,pt)|0)+Math.imul(D,at)|0,v=v+Math.imul(D,pt)|0,x=x+Math.imul(Ne,Ke)|0,a=(a=a+Math.imul(Ne,Ge)|0)+Math.imul(ke,Ke)|0,v=v+Math.imul(ke,Ge)|0,x=x+Math.imul(He,kt)|0,a=(a=a+Math.imul(He,ln)|0)+Math.imul(Ve,kt)|0,v=v+Math.imul(Ve,ln)|0;var Sr=(L+(x=x+Math.imul(de,vn)|0)|0)+((8191&(a=(a=a+Math.imul(de,gn)|0)+Math.imul(_e,vn)|0))<<13)|0;L=((v=v+Math.imul(_e,gn)|0)+(a>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,x=Math.imul(G,at),a=(a=Math.imul(G,pt))+Math.imul(fe,at)|0,v=Math.imul(fe,pt),x=x+Math.imul(F,Ke)|0,a=(a=a+Math.imul(F,Ge)|0)+Math.imul(D,Ke)|0,v=v+Math.imul(D,Ge)|0,x=x+Math.imul(Ne,kt)|0,a=(a=a+Math.imul(Ne,ln)|0)+Math.imul(ke,kt)|0,v=v+Math.imul(ke,ln)|0;var Nr=(L+(x=x+Math.imul(He,vn)|0)|0)+((8191&(a=(a=a+Math.imul(He,gn)|0)+Math.imul(Ve,vn)|0))<<13)|0;L=((v=v+Math.imul(Ve,gn)|0)+(a>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x=Math.imul(G,Ke),a=(a=Math.imul(G,Ge))+Math.imul(fe,Ke)|0,v=Math.imul(fe,Ge),x=x+Math.imul(F,kt)|0,a=(a=a+Math.imul(F,ln)|0)+Math.imul(D,kt)|0,v=v+Math.imul(D,ln)|0;var dr=(L+(x=x+Math.imul(Ne,vn)|0)|0)+((8191&(a=(a=a+Math.imul(Ne,gn)|0)+Math.imul(ke,vn)|0))<<13)|0;L=((v=v+Math.imul(ke,gn)|0)+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,x=Math.imul(G,kt),a=(a=Math.imul(G,ln))+Math.imul(fe,kt)|0,v=Math.imul(fe,ln);var nn=(L+(x=x+Math.imul(F,vn)|0)|0)+((8191&(a=(a=a+Math.imul(F,gn)|0)+Math.imul(D,vn)|0))<<13)|0;L=((v=v+Math.imul(D,gn)|0)+(a>>>13)|0)+(nn>>>26)|0,nn&=67108863;var yn=(L+(x=Math.imul(G,vn))|0)+((8191&(a=(a=Math.imul(G,gn))+Math.imul(fe,vn)|0))<<13)|0;return L=((v=Math.imul(fe,gn))+(a>>>13)|0)+(yn>>>26)|0,yn&=67108863,I[0]=ur,I[1]=er,I[2]=Pn,I[3]=Nn,I[4]=et,I[5]=Oe,I[6]=Qe,I[7]=zt,I[8]=hn,I[9]=Un,I[10]=Kn,I[11]=ir,I[12]=mr,I[13]=Pr,I[14]=Sr,I[15]=Nr,I[16]=dr,I[17]=nn,I[18]=yn,0!==L&&(I[19]=L,h.length++),h};function Y(C,s,d){return(new W).mulp(C,s,d)}function W(C,s){this.x=C,this.y=s}Math.imul||(Q=K),b.prototype.mulTo=function(s,d){var h,f=this.length+s.length;return h=10===this.length&&10===s.length?Q(this,s,d):f<63?K(this,s,d):f<1024?function q(C,s,d){d.negative=s.negative^C.negative,d.length=C.length+s.length;for(var h=0,f=0,_=0;_<d.length-1;_++){var I=f;f=0;for(var L=67108863&h,x=Math.min(_,s.length-1),a=Math.max(0,_-C.length+1);a<=x;a++){var ee=(0|C.words[_-a])*(0|s.words[a]),le=67108863&ee;L=67108863&(le=le+L|0),f+=(I=(I=I+(ee/67108864|0)|0)+(le>>>26)|0)>>>26,I&=67108863}d.words[_]=L,h=I,I=f}return 0!==h?d.words[_]=h:d.length--,d.strip()}(this,s,d):Y(this,s,d),h},W.prototype.makeRBT=function(s){for(var d=new Array(s),h=b.prototype._countBits(s)-1,f=0;f<s;f++)d[f]=this.revBin(f,h,s);return d},W.prototype.revBin=function(s,d,h){if(0===s||s===h-1)return s;for(var f=0,_=0;_<d;_++)f|=(1&s)<<d-_-1,s>>=1;return f},W.prototype.permute=function(s,d,h,f,_,I){for(var L=0;L<I;L++)f[L]=d[s[L]],_[L]=h[s[L]]},W.prototype.transform=function(s,d,h,f,_,I){this.permute(I,s,d,h,f,_);for(var L=1;L<_;L<<=1)for(var x=L<<1,a=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),Z=0;Z<_;Z+=x)for(var z=a,ee=v,le=0;le<L;le++){var we=h[Z+le],Me=f[Z+le],Ze=h[Z+le+L],ge=f[Z+le+L],me=z*Ze-ee*ge;ge=z*ge+ee*Ze,h[Z+le]=we+(Ze=me),f[Z+le]=Me+ge,h[Z+le+L]=we-Ze,f[Z+le+L]=Me-ge,le!==x&&(me=a*z-v*ee,ee=a*ee+v*z,z=me)}},W.prototype.guessLen13b=function(s,d){var h=1|Math.max(d,s),f=1&h,_=0;for(h=h/2|0;h;h>>>=1)_++;return 1<<_+1+f},W.prototype.conjugate=function(s,d,h){if(!(h<=1))for(var f=0;f<h/2;f++){var _=s[f];s[f]=s[h-f-1],s[h-f-1]=_,_=d[f],d[f]=-d[h-f-1],d[h-f-1]=-_}},W.prototype.normalize13b=function(s,d){for(var h=0,f=0;f<d/2;f++){var _=8192*Math.round(s[2*f+1]/d)+Math.round(s[2*f]/d)+h;s[f]=67108863&_,h=_<67108864?0:_/67108864|0}return s},W.prototype.convert13b=function(s,d,h,f){for(var _=0,I=0;I<d;I++)h[2*I]=8191&(_+=0|s[I]),h[2*I+1]=8191&(_>>>=13),_>>>=13;for(I=2*d;I<f;++I)h[I]=0;B(0===_),B(!(-8192&_))},W.prototype.stub=function(s){for(var d=new Array(s),h=0;h<s;h++)d[h]=0;return d},W.prototype.mulp=function(s,d,h){var f=2*this.guessLen13b(s.length,d.length),_=this.makeRBT(f),I=this.stub(f),L=new Array(f),x=new Array(f),a=new Array(f),v=new Array(f),Z=new Array(f),z=new Array(f),ee=h.words;ee.length=f,this.convert13b(s.words,s.length,L,f),this.convert13b(d.words,d.length,v,f),this.transform(L,I,x,a,f,_),this.transform(v,I,Z,z,f,_);for(var le=0;le<f;le++){var we=x[le]*Z[le]-a[le]*z[le];a[le]=x[le]*z[le]+a[le]*Z[le],x[le]=we}return this.conjugate(x,a,f),this.transform(x,a,ee,I,f,_),this.conjugate(ee,I,f),this.normalize13b(ee,f),h.negative=s.negative^d.negative,h.length=s.length+d.length,h.strip()},b.prototype.mul=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),this.mulTo(s,d)},b.prototype.mulf=function(s){var d=new b(null);return d.words=new Array(this.length+s.length),Y(this,s,d)},b.prototype.imul=function(s){return this.clone().mulTo(s,this)},b.prototype.imuln=function(s){B("number"==typeof s),B(s<67108864);for(var d=0,h=0;h<this.length;h++){var f=(0|this.words[h])*s,_=(67108863&f)+(67108863&d);d>>=26,d+=f/67108864|0,d+=_>>>26,this.words[h]=67108863&_}return 0!==d&&(this.words[h]=d,this.length++),this},b.prototype.muln=function(s){return this.clone().imuln(s)},b.prototype.sqr=function(){return this.mul(this)},b.prototype.isqr=function(){return this.imul(this.clone())},b.prototype.pow=function(s){var d=function U(C){for(var s=new Array(C.bitLength()),d=0;d<s.length;d++){var f=d%26;s[d]=(C.words[d/26|0]&1<<f)>>>f}return s}(s);if(0===d.length)return new b(1);for(var h=this,f=0;f<d.length&&0===d[f];f++,h=h.sqr());if(++f<d.length)for(var _=h.sqr();f<d.length;f++,_=_.sqr())0!==d[f]&&(h=h.mul(_));return h},b.prototype.iushln=function(s){B("number"==typeof s&&s>=0);var _,d=s%26,h=(s-d)/26,f=67108863>>>26-d<<26-d;if(0!==d){var I=0;for(_=0;_<this.length;_++){var L=this.words[_]&f;this.words[_]=(0|this.words[_])-L<<d|I,I=L>>>26-d}I&&(this.words[_]=I,this.length++)}if(0!==h){for(_=this.length-1;_>=0;_--)this.words[_+h]=this.words[_];for(_=0;_<h;_++)this.words[_]=0;this.length+=h}return this.strip()},b.prototype.ishln=function(s){return B(0===this.negative),this.iushln(s)},b.prototype.iushrn=function(s,d,h){var f;B("number"==typeof s&&s>=0),f=d?(d-d%26)/26:0;var _=s%26,I=Math.min((s-_)/26,this.length),L=67108863^67108863>>>_<<_,x=h;if(f-=I,f=Math.max(0,f),x){for(var a=0;a<I;a++)x.words[a]=this.words[a];x.length=I}if(0!==I)if(this.length>I)for(this.length-=I,a=0;a<this.length;a++)this.words[a]=this.words[a+I];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(0!==v||a>=f);a--){var Z=0|this.words[a];this.words[a]=v<<26-_|Z>>>_,v=Z&L}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},b.prototype.ishrn=function(s,d,h){return B(0===this.negative),this.iushrn(s,d,h)},b.prototype.shln=function(s){return this.clone().ishln(s)},b.prototype.ushln=function(s){return this.clone().iushln(s)},b.prototype.shrn=function(s){return this.clone().ishrn(s)},b.prototype.ushrn=function(s){return this.clone().iushrn(s)},b.prototype.testn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return!(this.length<=h||!(this.words[h]&1<<d))},b.prototype.imaskn=function(s){B("number"==typeof s&&s>=0);var d=s%26,h=(s-d)/26;return B(0===this.negative,"imaskn works only with positive numbers"),this.length<=h?this:(0!==d&&h++,this.length=Math.min(h,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},b.prototype.maskn=function(s){return this.clone().imaskn(s)},b.prototype.iaddn=function(s){return B("number"==typeof s),B(s<67108864),s<0?this.isubn(-s):0!==this.negative?1===this.length&&(0|this.words[0])<s?(this.words[0]=s-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},b.prototype._iaddn=function(s){this.words[0]+=s;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},b.prototype.isubn=function(s){if(B("number"==typeof s),B(s<67108864),s<0)return this.iaddn(-s);if(0!==this.negative)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},b.prototype.addn=function(s){return this.clone().iaddn(s)},b.prototype.subn=function(s){return this.clone().isubn(s)},b.prototype.iabs=function(){return this.negative=0,this},b.prototype.abs=function(){return this.clone().iabs()},b.prototype._ishlnsubmul=function(s,d,h){var _;this._expand(s.length+h);var I,L=0;for(_=0;_<s.length;_++){I=(0|this.words[_+h])+L;var x=(0|s.words[_])*d;L=((I-=67108863&x)>>26)-(x/67108864|0),this.words[_+h]=67108863&I}for(;_<this.length-h;_++)L=(I=(0|this.words[_+h])+L)>>26,this.words[_+h]=67108863&I;if(0===L)return this.strip();for(B(-1===L),L=0,_=0;_<this.length;_++)L=(I=-(0|this.words[_])+L)>>26,this.words[_]=67108863&I;return this.negative=1,this.strip()},b.prototype._wordDiv=function(s,d){var h,f=this.clone(),_=s,I=0|_.words[_.length-1];0!=(h=26-this._countBits(I))&&(_=_.ushln(h),f.iushln(h),I=0|_.words[_.length-1]);var a,x=f.length-_.length;if("mod"!==d){(a=new b(null)).length=x+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var Z=f.clone()._ishlnsubmul(_,1,x);0===Z.negative&&(f=Z,a&&(a.words[x]=1));for(var z=x-1;z>=0;z--){var ee=67108864*(0|f.words[_.length+z])+(0|f.words[_.length+z-1]);for(ee=Math.min(ee/I|0,67108863),f._ishlnsubmul(_,ee,z);0!==f.negative;)ee--,f.negative=0,f._ishlnsubmul(_,1,z),f.isZero()||(f.negative^=1);a&&(a.words[z]=ee)}return a&&a.strip(),f.strip(),"div"!==d&&0!==h&&f.iushrn(h),{div:a||null,mod:f}},b.prototype.divmod=function(s,d,h){return B(!s.isZero()),this.isZero()?{div:new b(0),mod:new b(0)}:0!==this.negative&&0===s.negative?(I=this.neg().divmod(s,d),"mod"!==d&&(f=I.div.neg()),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.iadd(s)),{div:f,mod:_}):0===this.negative&&0!==s.negative?(I=this.divmod(s.neg(),d),"mod"!==d&&(f=I.div.neg()),{div:f,mod:I.mod}):this.negative&s.negative?(I=this.neg().divmod(s.neg(),d),"div"!==d&&(_=I.mod.neg(),h&&0!==_.negative&&_.isub(s)),{div:I.div,mod:_}):s.length>this.length||this.cmp(s)<0?{div:new b(0),mod:this}:1===s.length?"div"===d?{div:this.divn(s.words[0]),mod:null}:"mod"===d?{div:null,mod:new b(this.modn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new b(this.modn(s.words[0]))}:this._wordDiv(s,d);var f,_,I},b.prototype.div=function(s){return this.divmod(s,"div",!1).div},b.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},b.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},b.prototype.divRound=function(s){var d=this.divmod(s);if(d.mod.isZero())return d.div;var h=0!==d.div.negative?d.mod.isub(s):d.mod,f=s.ushrn(1),_=s.andln(1),I=h.cmp(f);return I<0||1===_&&0===I?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},b.prototype.modn=function(s){B(s<=67108863);for(var d=(1<<26)%s,h=0,f=this.length-1;f>=0;f--)h=(d*h+(0|this.words[f]))%s;return h},b.prototype.idivn=function(s){B(s<=67108863);for(var d=0,h=this.length-1;h>=0;h--){var f=(0|this.words[h])+67108864*d;this.words[h]=f/s|0,d=f%s}return this.strip()},b.prototype.divn=function(s){return this.clone().idivn(s)},b.prototype.egcd=function(s){B(0===s.negative),B(!s.isZero());var d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=new b(0),L=new b(1),x=0;d.isEven()&&h.isEven();)d.iushrn(1),h.iushrn(1),++x;for(var a=h.clone(),v=d.clone();!d.isZero();){for(var Z=0,z=1;!(d.words[0]&z)&&Z<26;++Z,z<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(f.isOdd()||_.isOdd())&&(f.iadd(a),_.isub(v)),f.iushrn(1),_.iushrn(1);for(var ee=0,le=1;!(h.words[0]&le)&&ee<26;++ee,le<<=1);if(ee>0)for(h.iushrn(ee);ee-- >0;)(I.isOdd()||L.isOdd())&&(I.iadd(a),L.isub(v)),I.iushrn(1),L.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(I),_.isub(L)):(h.isub(d),I.isub(f),L.isub(_))}return{a:I,b:L,gcd:h.iushln(x)}},b.prototype._invmp=function(s){B(0===s.negative),B(!s.isZero());var Z,d=this,h=s.clone();d=0!==d.negative?d.umod(s):d.clone();for(var f=new b(1),_=new b(0),I=h.clone();d.cmpn(1)>0&&h.cmpn(1)>0;){for(var L=0,x=1;!(d.words[0]&x)&&L<26;++L,x<<=1);if(L>0)for(d.iushrn(L);L-- >0;)f.isOdd()&&f.iadd(I),f.iushrn(1);for(var a=0,v=1;!(h.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(h.iushrn(a);a-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);d.cmp(h)>=0?(d.isub(h),f.isub(_)):(h.isub(d),_.isub(f))}return(Z=0===d.cmpn(1)?f:_).cmpn(0)<0&&Z.iadd(s),Z},b.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var d=this.clone(),h=s.clone();d.negative=0,h.negative=0;for(var f=0;d.isEven()&&h.isEven();f++)d.iushrn(1),h.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;h.isEven();)h.iushrn(1);var _=d.cmp(h);if(_<0){var I=d;d=h,h=I}else if(0===_||0===h.cmpn(1))break;d.isub(h)}return h.iushln(f)},b.prototype.invm=function(s){return this.egcd(s).a.umod(s)},b.prototype.isEven=function(){return!(1&this.words[0])},b.prototype.isOdd=function(){return!(1&~this.words[0])},b.prototype.andln=function(s){return this.words[0]&s},b.prototype.bincn=function(s){B("number"==typeof s);var d=s%26,h=(s-d)/26,f=1<<d;if(this.length<=h)return this._expand(h+1),this.words[h]|=f,this;for(var _=f,I=h;0!==_&&I<this.length;I++){var L=0|this.words[I];_=(L+=_)>>>26,this.words[I]=L&=67108863}return 0!==_&&(this.words[I]=_,this.length++),this},b.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},b.prototype.cmpn=function(s){var h,d=s<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)h=1;else{d&&(s=-s),B(s<=67108863,"Number is too big");var f=0|this.words[0];h=f===s?0:f<s?-1:1}return 0!==this.negative?0|-h:h},b.prototype.cmp=function(s){if(0!==this.negative&&0===s.negative)return-1;if(0===this.negative&&0!==s.negative)return 1;var d=this.ucmp(s);return 0!==this.negative?0|-d:d},b.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var d=0,h=this.length-1;h>=0;h--){var f=0|this.words[h],_=0|s.words[h];if(f!==_){f<_?d=-1:f>_&&(d=1);break}}return d},b.prototype.gtn=function(s){return 1===this.cmpn(s)},b.prototype.gt=function(s){return 1===this.cmp(s)},b.prototype.gten=function(s){return this.cmpn(s)>=0},b.prototype.gte=function(s){return this.cmp(s)>=0},b.prototype.ltn=function(s){return-1===this.cmpn(s)},b.prototype.lt=function(s){return-1===this.cmp(s)},b.prototype.lten=function(s){return this.cmpn(s)<=0},b.prototype.lte=function(s){return this.cmp(s)<=0},b.prototype.eqn=function(s){return 0===this.cmpn(s)},b.prototype.eq=function(s){return 0===this.cmp(s)},b.red=function(s){return new ve(s)},b.prototype.toRed=function(s){return B(!this.red,"Already a number in reduction context"),B(0===this.negative,"red works only with positives"),s.convertTo(this)._forceRed(s)},b.prototype.fromRed=function(){return B(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},b.prototype._forceRed=function(s){return this.red=s,this},b.prototype.forceRed=function(s){return B(!this.red,"Already a number in reduction context"),this._forceRed(s)},b.prototype.redAdd=function(s){return B(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},b.prototype.redIAdd=function(s){return B(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},b.prototype.redSub=function(s){return B(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},b.prototype.redISub=function(s){return B(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},b.prototype.redShl=function(s){return B(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},b.prototype.redMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},b.prototype.redIMul=function(s){return B(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},b.prototype.redSqr=function(){return B(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},b.prototype.redISqr=function(){return B(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},b.prototype.redSqrt=function(){return B(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},b.prototype.redInvm=function(){return B(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},b.prototype.redNeg=function(){return B(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},b.prototype.redPow=function(s){return B(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var re={k256:null,p224:null,p192:null,p25519:null};function ie(C,s){this.name=C,this.p=new b(s,16),this.n=this.p.bitLength(),this.k=new b(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ie.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){ie.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ce(){ie.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function pe(){ie.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ve(C){if("string"==typeof C){var s=b._prime(C);this.m=s.p,this.prime=s}else B(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function De(C){ve.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new b(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie.prototype._tmp=function(){var s=new b(null);return s.words=new Array(Math.ceil(this.n/13)),s},ie.prototype.ireduce=function(s){var h,d=s;do{this.split(d,this.tmp),h=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(h>this.n);var f=h<this.n?-1:d.ucmp(this.p);return 0===f?(d.words[0]=0,d.length=1):f>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ie.prototype.split=function(s,d){s.iushrn(this.n,0,d)},ie.prototype.imulK=function(s){return s.imul(this.k)},H(ae,ie),ae.prototype.split=function(s,d){for(var h=4194303,f=Math.min(s.length,9),_=0;_<f;_++)d.words[_]=s.words[_];if(d.length=f,s.length<=9)return s.words[0]=0,void(s.length=1);var I=s.words[9];for(d.words[d.length++]=I&h,_=10;_<s.length;_++){var L=0|s.words[_];s.words[_-10]=(L&h)<<4|I>>>22,I=L}s.words[_-10]=I>>>=22,s.length-=0===I&&s.length>10?10:9},ae.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var d=0,h=0;h<s.length;h++){var f=0|s.words[h];s.words[h]=67108863&(d+=977*f),d=64*f+(d/67108864|0)}return 0===s.words[s.length-1]&&(s.length--,0===s.words[s.length-1]&&s.length--),s},H(ue,ie),H(ce,ie),H(pe,ie),pe.prototype.imulK=function(s){for(var d=0,h=0;h<s.length;h++){var f=19*(0|s.words[h])+d,_=67108863&f;f>>>=26,s.words[h]=_,d=f}return 0!==d&&(s.words[s.length++]=d),s},b._prime=function(s){if(re[s])return re[s];var d;if("k256"===s)d=new ae;else if("p224"===s)d=new ue;else if("p192"===s)d=new ce;else{if("p25519"!==s)throw new Error("Unknown prime "+s);d=new pe}return re[s]=d,d},ve.prototype._verify1=function(s){B(0===s.negative,"red works only with positives"),B(s.red,"red works only with red numbers")},ve.prototype._verify2=function(s,d){B(!(s.negative|d.negative),"red works only with positives"),B(s.red&&s.red===d.red,"red works only with red numbers")},ve.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):s.umod(this.m)._forceRed(this)},ve.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},ve.prototype.add=function(s,d){this._verify2(s,d);var h=s.add(d);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},ve.prototype.iadd=function(s,d){this._verify2(s,d);var h=s.iadd(d);return h.cmp(this.m)>=0&&h.isub(this.m),h},ve.prototype.sub=function(s,d){this._verify2(s,d);var h=s.sub(d);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},ve.prototype.isub=function(s,d){this._verify2(s,d);var h=s.isub(d);return h.cmpn(0)<0&&h.iadd(this.m),h},ve.prototype.shl=function(s,d){return this._verify1(s),this.imod(s.ushln(d))},ve.prototype.imul=function(s,d){return this._verify2(s,d),this.imod(s.imul(d))},ve.prototype.mul=function(s,d){return this._verify2(s,d),this.imod(s.mul(d))},ve.prototype.isqr=function(s){return this.imul(s,s.clone())},ve.prototype.sqr=function(s){return this.mul(s,s)},ve.prototype.sqrt=function(s){if(s.isZero())return s.clone();var d=this.m.andln(3);if(B(d%2==1),3===d){var h=this.m.add(new b(1)).iushrn(2);return this.pow(s,h)}for(var f=this.m.subn(1),_=0;!f.isZero()&&0===f.andln(1);)_++,f.iushrn(1);B(!f.isZero());var I=new b(1).toRed(this),L=I.redNeg(),x=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new b(2*a*a).toRed(this);0!==this.pow(a,x).cmp(L);)a.redIAdd(L);for(var v=this.pow(a,f),Z=this.pow(s,f.addn(1).iushrn(1)),z=this.pow(s,f),ee=_;0!==z.cmp(I);){for(var le=z,we=0;0!==le.cmp(I);we++)le=le.redSqr();B(we<ee);var Me=this.pow(v,new b(1).iushln(ee-we-1));Z=Z.redMul(Me),v=Me.redSqr(),z=z.redMul(v),ee=we}return Z},ve.prototype.invm=function(s){var d=s._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ve.prototype.pow=function(s,d){if(d.isZero())return new b(1).toRed(this);if(0===d.cmpn(1))return s.clone();var f=new Array(16);f[0]=new b(1).toRed(this),f[1]=s;for(var _=2;_<f.length;_++)f[_]=this.mul(f[_-1],s);var I=f[0],L=0,x=0,a=d.bitLength()%26;for(0===a&&(a=26),_=d.length-1;_>=0;_--){for(var v=d.words[_],Z=a-1;Z>=0;Z--){var z=v>>Z&1;I!==f[0]&&(I=this.sqr(I)),0!==z||0!==L?(L<<=1,L|=z,(4==++x||0===_&&0===Z)&&(I=this.mul(I,f[L]),x=0,L=0)):x=0}a=26}return I},ve.prototype.convertTo=function(s){var d=s.umod(this.m);return d===s?d.clone():d},ve.prototype.convertFrom=function(s){var d=s.clone();return d.red=null,d},b.mont=function(s){return new De(s)},H(De,ve),De.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},De.prototype.convertFrom=function(s){var d=this.imod(s.mul(this.rinv));return d.red=null,d},De.prototype.imul=function(s,d){if(s.isZero()||d.isZero())return s.words[0]=0,s.length=1,s;var h=s.imul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.mul=function(s,d){if(s.isZero()||d.isZero())return new b(0)._forceRed(this);var h=s.mul(d),f=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(f).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},De.prototype.invm=function(s){return this.imod(s._invmp(this.m).mul(this.r2))._forceRed(this)}}($e=E.nmd($e),this)},98613:($e,j,E)=>{var g=E(65667),w=E(30715),B=E(37196),H=E(16508),b=E(14105),k=E(67211),S=E(10568),P=E(27054).Buffer;$e.exports=function(U,K,Q){var q;q=U.padding?U.padding:Q?1:4;var re,Y=g(U),W=Y.modulus.byteLength();if(K.length>W||new H(K).cmp(Y.modulus)>=0)throw new Error("decryption error");re=Q?S(new H(K),Y):b(K,Y);var ie=P.alloc(W-re.length);if(re=P.concat([ie,re],W),4===q)return function R(V,U){var K=V.modulus.byteLength(),Q=k("sha1").update(P.alloc(0)).digest(),q=Q.length;if(0!==U[0])throw new Error("decryption error");var Y=U.slice(1,q+1),W=U.slice(q+1),re=B(Y,w(W,q)),ie=B(W,w(re,K-q-1));if(function A(V,U){V=P.from(V),U=P.from(U);var K=0,Q=V.length;V.length!==U.length&&(K++,Q=Math.min(V.length,U.length));for(var q=-1;++q<Q;)K+=V[q]^U[q];return K}(Q,ie.slice(0,q)))throw new Error("decryption error");for(var ae=q;0===ie[ae];)ae++;if(1!==ie[ae++])throw new Error("decryption error");return ie.slice(ae)}(Y,re);if(1===q)return function O(V,U,K){for(var Q=U.slice(0,2),q=2,Y=0;0!==U[q++];)if(q>=U.length){Y++;break}var W=U.slice(2,q-1);if(("0002"!==Q.toString("hex")&&!K||"0001"!==Q.toString("hex")&&K)&&Y++,W.length<8&&Y++,Y)throw new Error("decryption error");return U.slice(q)}(0,re,Q);if(3===q)return re;throw new Error("unknown padding")}},87267:($e,j,E)=>{var g=E(65667),w=E(3342),B=E(67211),H=E(30715),b=E(37196),k=E(16508),S=E(10568),P=E(14105),R=E(27054).Buffer;$e.exports=function(K,Q,q){var Y;Y=K.padding?K.padding:q?1:4;var re,W=g(K);if(4===Y)re=function O(U,K){var Q=U.modulus.byteLength(),q=K.length,Y=B("sha1").update(R.alloc(0)).digest(),W=Y.length,re=2*W;if(q>Q-re-2)throw new Error("message too long");var ie=R.alloc(Q-q-re-2),ae=Q-W-1,ue=w(W),ce=b(R.concat([Y,ie,R.alloc(1,1),K],ae),H(ue,ae)),pe=b(ue,H(ce,W));return new k(R.concat([R.alloc(1),pe,ce],Q))}(W,Q);else if(1===Y)re=function A(U,K,Q){var W,q=K.length,Y=U.modulus.byteLength();if(q>Y-11)throw new Error("message too long");return W=Q?R.alloc(Y-q-3,255):function V(U){for(var W,K=R.allocUnsafe(U),Q=0,q=w(2*U),Y=0;Q<U;)Y===q.length&&(q=w(2*U),Y=0),(W=q[Y++])&&(K[Q++]=W);return K}(Y-q-3),new k(R.concat([R.from([0,Q?1:2]),W,R.alloc(1),K],Y))}(W,Q,q);else{if(3!==Y)throw new Error("unknown padding");if((re=new k(Q)).cmp(W.modulus)>=0)throw new Error("data too long for modulus")}return q?P(re,W):S(re,W)}},10568:($e,j,E)=>{var g=E(16508),w=E(27054).Buffer;$e.exports=function B(H,b){return w.from(H.toRed(g.mont(b.modulus)).redPow(new g(b.publicExponent)).fromRed().toArray())}},37196:$e=>{$e.exports=function(E,g){for(var w=E.length,B=-1;++B<w;)E[B]^=g[B];return E}},24515:$e=>{let j;$e.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):E=>(j||(j=Promise.resolve())).then(E).catch(g=>setTimeout(()=>{throw g},0))},3342:($e,j,E)=>{"use strict";var g=E(40573),w=65536,b=E(27054).Buffer,k=globalThis.crypto||globalThis.msCrypto;$e.exports=k&&k.getRandomValues?function S(P,R){if(P>4294967295)throw new RangeError("requested too many random bytes");var O=b.allocUnsafe(P);if(P>0)if(P>w)for(var A=0;A<P;A+=w)k.getRandomValues(O.slice(A,A+w));else k.getRandomValues(O);return"function"==typeof R?g.nextTick(function(){R(null,O)}):O}:function H(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:($e,j,E)=>{"use strict";var g=E(40573);function w(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var B=E(27054),H=E(3342),b=B.Buffer,k=B.kMaxLength,S=globalThis.crypto||globalThis.msCrypto,P=Math.pow(2,32)-1;function R(K,Q){if("number"!=typeof K||K!=K)throw new TypeError("offset must be a number");if(K>P||K<0)throw new TypeError("offset must be a uint32");if(K>k||K>Q)throw new RangeError("offset out of range")}function O(K,Q,q){if("number"!=typeof K||K!=K)throw new TypeError("size must be a number");if(K>P||K<0)throw new TypeError("size must be a uint32");if(K+Q>q||K>k)throw new RangeError("buffer too small")}function V(K,Q,q,Y){if(g.browser){var re=new Uint8Array(K.buffer,Q,q);return S.getRandomValues(re),Y?void g.nextTick(function(){Y(null,K)}):K}if(!Y)return H(q).copy(K,Q),K;H(q,function(ae,ue){if(ae)return Y(ae);ue.copy(K,Q),Y(null,K)})}S&&S.getRandomValues||!g.browser?(j.randomFill=function A(K,Q,q,Y){if(!(b.isBuffer(K)||K instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof Q)Y=Q,Q=0,q=K.length;else if("function"==typeof q)Y=q,q=K.length-Q;else if("function"!=typeof Y)throw new TypeError('"cb" argument must be a function');return R(Q,K.length),O(q,Q,K.length),V(K,Q,q,Y)},j.randomFillSync=function U(K,Q,q){if(typeof Q>"u"&&(Q=0),!(b.isBuffer(K)||K instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return R(Q,K.length),void 0===q&&(q=K.length-Q),O(q,Q,K.length),V(K,Q,q)}):(j.randomFill=w,j.randomFillSync=w)},26113:$e=>{"use strict";var E={};function g(k,S,P){P||(P=Error);var O=function(A){function V(U,K,Q){return A.call(this,function R(A,V,U){return"string"==typeof S?S:S(A,V,U)}(U,K,Q))||this}return function j(k,S){k.prototype=Object.create(S.prototype),k.prototype.constructor=k,k.__proto__=S}(V,A),V}(P);O.prototype.name=P.name,O.prototype.code=k,E[k]=O}function w(k,S){if(Array.isArray(k)){var P=k.length;return k=k.map(function(R){return String(R)}),P>2?"one of ".concat(S," ").concat(k.slice(0,P-1).join(", "),", or ")+k[P-1]:2===P?"one of ".concat(S," ").concat(k[0]," or ").concat(k[1]):"of ".concat(S," ").concat(k[0])}return"of ".concat(S," ").concat(String(k))}g("ERR_INVALID_OPT_VALUE",function(k,S){return'The value "'+S+'" is invalid for option "'+k+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(k,S,P){var R,O;if("string"==typeof S&&function B(k,S,P){return k.substr(!P||P<0?0:+P,S.length)===S}(S,"not ")?(R="must not be",S=S.replace(/^not /,"")):R="must be",function H(k,S,P){return(void 0===P||P>k.length)&&(P=k.length),k.substring(P-S.length,P)===S}(k," argument"))O="The ".concat(k," ").concat(R," ").concat(w(S,"type"));else{var A=function b(k,S,P){return"number"!=typeof P&&(P=0),!(P+S.length>k.length)&&-1!==k.indexOf(S,P)}(k,".")?"property":"argument";O='The "'.concat(k,'" ').concat(A," ").concat(R," ").concat(w(S,"type"))}return O+". Received type ".concat(typeof P)},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(k){return"The "+k+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(k){return"Cannot call "+k+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(k){return"Unknown encoding: "+k},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),$e.exports.F=E},74075:($e,j,E)=>{"use strict";var g=E(40573),w=Object.keys||function(A){var V=[];for(var U in A)V.push(U);return V};$e.exports=P;var B=E(19609),H=E(47849);E(71993)(P,B);for(var b=w(H.prototype),k=0;k<b.length;k++){var S=b[k];P.prototype[S]||(P.prototype[S]=H.prototype[S])}function P(A){if(!(this instanceof P))return new P(A);B.call(this,A),H.call(this,A),this.allowHalfOpen=!0,A&&(!1===A.readable&&(this.readable=!1),!1===A.writable&&(this.writable=!1),!1===A.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",R)))}function R(){this._writableState.ended||g.nextTick(O,this)}function O(A){A.end()}Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(V){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=V,this._writableState.destroyed=V)}})},18823:($e,j,E)=>{"use strict";$e.exports=w;var g=E(2909);function w(B){if(!(this instanceof w))return new w(B);g.call(this,B)}E(71993)(w,g),w.prototype._transform=function(B,H,b){b(null,B)}},19609:($e,j,E)=>{"use strict";var w,g=E(40573);$e.exports=s,s.ReadableState=C,E(44356);var A,H=function(he,ne){return he.listeners(ne).length},b=E(18342),k=E(83838).Buffer,S=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},O=E(79838);A=O&&O.debuglog?O.debuglog("stream"):function(){};var ae,ue,ce,V=E(19588),U=E(21509),Q=E(42934).getHighWaterMark,q=E(26113).F,Y=q.ERR_INVALID_ARG_TYPE,W=q.ERR_STREAM_PUSH_AFTER_EOF,re=q.ERR_METHOD_NOT_IMPLEMENTED,ie=q.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;E(71993)(s,b);var pe=U.errorOrDestroy,ve=["error","close","destroy","pause","resume"];function C(be,he,ne){w=w||E(74075),"boolean"!=typeof ne&&(ne=he instanceof w),this.objectMode=!!(be=be||{}).objectMode,ne&&(this.objectMode=this.objectMode||!!be.readableObjectMode),this.highWaterMark=Q(this,be,"readableHighWaterMark",ne),this.buffer=new V,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==be.emitClose,this.autoDestroy=!!be.autoDestroy,this.destroyed=!1,this.defaultEncoding=be.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,be.encoding&&(ae||(ae=E(78454).StringDecoder),this.decoder=new ae(be.encoding),this.encoding=be.encoding)}function s(be){if(w=w||E(74075),!(this instanceof s))return new s(be);this._readableState=new C(be,this,this instanceof w),this.readable=!0,be&&("function"==typeof be.read&&(this._read=be.read),"function"==typeof be.destroy&&(this._destroy=be.destroy)),b.call(this)}function d(be,he,ne,te,de){A("readableAddChunk",he);var Ie,_e=be._readableState;if(null===he)_e.reading=!1,function x(be,he){if(A("onEofChunk"),!he.ended){if(he.decoder){var ne=he.decoder.end();ne&&ne.length&&(he.buffer.push(ne),he.length+=he.objectMode?1:ne.length)}he.ended=!0,he.sync?a(be):(he.needReadable=!1,he.emittedReadable||(he.emittedReadable=!0,v(be)))}}(be,_e);else if(de||(Ie=function f(be,he){var ne;return!function R(be){return k.isBuffer(be)||be instanceof S}(he)&&"string"!=typeof he&&void 0!==he&&!be.objectMode&&(ne=new Y("chunk",["string","Buffer","Uint8Array"],he)),ne}(_e,he)),Ie)pe(be,Ie);else if(_e.objectMode||he&&he.length>0)if("string"!=typeof he&&!_e.objectMode&&Object.getPrototypeOf(he)!==k.prototype&&(he=function P(be){return k.from(be)}(he)),te)_e.endEmitted?pe(be,new ie):h(be,_e,he,!0);else if(_e.ended)pe(be,new W);else{if(_e.destroyed)return!1;_e.reading=!1,_e.decoder&&!ne?(he=_e.decoder.write(he),_e.objectMode||0!==he.length?h(be,_e,he,!1):Z(be,_e)):h(be,_e,he,!1)}else te||(_e.reading=!1,Z(be,_e));return!_e.ended&&(_e.length<_e.highWaterMark||0===_e.length)}function h(be,he,ne,te){he.flowing&&0===he.length&&!he.sync?(he.awaitDrain=0,be.emit("data",ne)):(he.length+=he.objectMode?1:ne.length,te?he.buffer.unshift(ne):he.buffer.push(ne),he.needReadable&&a(be)),Z(be,he)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(he){this._readableState&&(this._readableState.destroyed=he)}}),s.prototype.destroy=U.destroy,s.prototype._undestroy=U.undestroy,s.prototype._destroy=function(be,he){he(be)},s.prototype.push=function(be,he){var te,ne=this._readableState;return ne.objectMode?te=!0:"string"==typeof be&&((he=he||ne.defaultEncoding)!==ne.encoding&&(be=k.from(be,he),he=""),te=!0),d(this,be,he,!1,te)},s.prototype.unshift=function(be){return d(this,be,null,!0,!1)},s.prototype.isPaused=function(){return!1===this._readableState.flowing},s.prototype.setEncoding=function(be){ae||(ae=E(78454).StringDecoder);var he=new ae(be);this._readableState.decoder=he,this._readableState.encoding=this._readableState.decoder.encoding;for(var ne=this._readableState.buffer.head,te="";null!==ne;)te+=he.write(ne.data),ne=ne.next;return this._readableState.buffer.clear(),""!==te&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};var _=1073741824;function L(be,he){return be<=0||0===he.length&&he.ended?0:he.objectMode?1:be!=be?he.flowing&&he.length?he.buffer.head.data.length:he.length:(be>he.highWaterMark&&(he.highWaterMark=function I(be){return be>=_?be=_:(be--,be|=be>>>1,be|=be>>>2,be|=be>>>4,be|=be>>>8,be|=be>>>16,be++),be}(be)),be<=he.length?be:he.ended?he.length:(he.needReadable=!0,0))}function a(be){var he=be._readableState;A("emitReadable",he.needReadable,he.emittedReadable),he.needReadable=!1,he.emittedReadable||(A("emitReadable",he.flowing),he.emittedReadable=!0,g.nextTick(v,be))}function v(be){var he=be._readableState;A("emitReadable_",he.destroyed,he.length,he.ended),!he.destroyed&&(he.length||he.ended)&&(be.emit("readable"),he.emittedReadable=!1),he.needReadable=!he.flowing&&!he.ended&&he.length<=he.highWaterMark,ge(be)}function Z(be,he){he.readingMore||(he.readingMore=!0,g.nextTick(z,be,he))}function z(be,he){for(;!he.reading&&!he.ended&&(he.length<he.highWaterMark||he.flowing&&0===he.length);){var ne=he.length;if(A("maybeReadMore read 0"),be.read(0),ne===he.length)break}he.readingMore=!1}function le(be){var he=be._readableState;he.readableListening=be.listenerCount("readable")>0,he.resumeScheduled&&!he.paused?he.flowing=!0:be.listenerCount("data")>0&&be.resume()}function we(be){A("readable nexttick read 0"),be.read(0)}function Ze(be,he){A("resume",he.reading),he.reading||be.read(0),he.resumeScheduled=!1,be.emit("resume"),ge(be),he.flowing&&!he.reading&&be.read(0)}function ge(be){var he=be._readableState;for(A("flow",he.flowing);he.flowing&&null!==be.read(););}function me(be,he){return 0===he.length?null:(he.objectMode?ne=he.buffer.shift():!be||be>=he.length?(ne=he.decoder?he.buffer.join(""):1===he.buffer.length?he.buffer.first():he.buffer.concat(he.length),he.buffer.clear()):ne=he.buffer.consume(be,he.decoder),ne);var ne}function Ue(be){var he=be._readableState;A("endReadable",he.endEmitted),he.endEmitted||(he.ended=!0,g.nextTick(xe,he,be))}function xe(be,he){if(A("endReadableNT",be.endEmitted,be.length),!be.endEmitted&&0===be.length&&(be.endEmitted=!0,he.readable=!1,he.emit("end"),be.autoDestroy)){var ne=he._writableState;(!ne||ne.autoDestroy&&ne.finished)&&he.destroy()}}function Ce(be,he){for(var ne=0,te=be.length;ne<te;ne++)if(be[ne]===he)return ne;return-1}s.prototype.read=function(be){A("read",be),be=parseInt(be,10);var he=this._readableState,ne=be;if(0!==be&&(he.emittedReadable=!1),0===be&&he.needReadable&&((0!==he.highWaterMark?he.length>=he.highWaterMark:he.length>0)||he.ended))return A("read: emitReadable",he.length,he.ended),0===he.length&&he.ended?Ue(this):a(this),null;if(0===(be=L(be,he))&&he.ended)return 0===he.length&&Ue(this),null;var de,te=he.needReadable;return A("need readable",te),(0===he.length||he.length-be<he.highWaterMark)&&A("length less than watermark",te=!0),he.ended||he.reading?A("reading or ended",te=!1):te&&(A("do read"),he.reading=!0,he.sync=!0,0===he.length&&(he.needReadable=!0),this._read(he.highWaterMark),he.sync=!1,he.reading||(be=L(ne,he))),null===(de=be>0?me(be,he):null)?(he.needReadable=he.length<=he.highWaterMark,be=0):(he.length-=be,he.awaitDrain=0),0===he.length&&(he.ended||(he.needReadable=!0),ne!==be&&he.ended&&Ue(this)),null!==de&&this.emit("data",de),de},s.prototype._read=function(be){pe(this,new re("_read()"))},s.prototype.pipe=function(be,he){var ne=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=be;break;case 1:te.pipes=[te.pipes,be];break;default:te.pipes.push(be)}te.pipesCount+=1,A("pipe count=%d opts=%j",te.pipesCount,he);var _e=he&&!1===he.end||be===g.stdout||be===g.stderr?M:He;function He(){A("onend"),be.end()}te.endEmitted?g.nextTick(_e):ne.once("end",_e),be.on("unpipe",function Ie(G,fe){A("onunpipe"),G===ne&&fe&&!1===fe.hasUnpiped&&(fe.hasUnpiped=!0,function Ne(){A("cleanup"),be.removeListener("close",F),be.removeListener("finish",D),be.removeListener("drain",Ve),be.removeListener("error",yt),be.removeListener("unpipe",Ie),ne.removeListener("end",He),ne.removeListener("end",M),ne.removeListener("data",ke),Dt=!0,te.awaitDrain&&(!be._writableState||be._writableState.needDrain)&&Ve()}())});var Ve=function ee(be){return function(){var ne=be._readableState;A("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,0===ne.awaitDrain&&H(be,"data")&&(ne.flowing=!0,ge(be))}}(ne);be.on("drain",Ve);var Dt=!1;function ke(G){A("ondata");var fe=be.write(G);A("dest.write",fe),!1===fe&&((1===te.pipesCount&&te.pipes===be||te.pipesCount>1&&-1!==Ce(te.pipes,be))&&!Dt&&(A("false write response, pause",te.awaitDrain),te.awaitDrain++),ne.pause())}function yt(G){A("onerror",G),M(),be.removeListener("error",yt),0===H(be,"error")&&pe(be,G)}function F(){be.removeListener("finish",D),M()}function D(){A("onfinish"),be.removeListener("close",F),M()}function M(){A("unpipe"),ne.unpipe(be)}return ne.on("data",ke),function De(be,he,ne){if("function"==typeof be.prependListener)return be.prependListener(he,ne);be._events&&be._events[he]?Array.isArray(be._events[he])?be._events[he].unshift(ne):be._events[he]=[ne,be._events[he]]:be.on(he,ne)}(be,"error",yt),be.once("close",F),be.once("finish",D),be.emit("pipe",ne),te.flowing||(A("pipe resume"),ne.resume()),be},s.prototype.unpipe=function(be){var he=this._readableState,ne={hasUnpiped:!1};if(0===he.pipesCount)return this;if(1===he.pipesCount)return be&&be!==he.pipes||(be||(be=he.pipes),he.pipes=null,he.pipesCount=0,he.flowing=!1,be&&be.emit("unpipe",this,ne)),this;if(!be){var te=he.pipes,de=he.pipesCount;he.pipes=null,he.pipesCount=0,he.flowing=!1;for(var _e=0;_e<de;_e++)te[_e].emit("unpipe",this,{hasUnpiped:!1});return this}var Ie=Ce(he.pipes,be);return-1===Ie||(he.pipes.splice(Ie,1),he.pipesCount-=1,1===he.pipesCount&&(he.pipes=he.pipes[0]),be.emit("unpipe",this,ne)),this},s.prototype.addListener=s.prototype.on=function(be,he){var ne=b.prototype.on.call(this,be,he),te=this._readableState;return"data"===be?(te.readableListening=this.listenerCount("readable")>0,!1!==te.flowing&&this.resume()):"readable"===be&&!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,A("on readable",te.length,te.reading),te.length?a(this):te.reading||g.nextTick(we,this)),ne},s.prototype.removeListener=function(be,he){var ne=b.prototype.removeListener.call(this,be,he);return"readable"===be&&g.nextTick(le,this),ne},s.prototype.removeAllListeners=function(be){var he=b.prototype.removeAllListeners.apply(this,arguments);return("readable"===be||void 0===be)&&g.nextTick(le,this),he},s.prototype.resume=function(){var be=this._readableState;return be.flowing||(A("resume"),be.flowing=!be.readableListening,function Me(be,he){he.resumeScheduled||(he.resumeScheduled=!0,g.nextTick(Ze,be,he))}(this,be)),be.paused=!1,this},s.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},s.prototype.wrap=function(be){var he=this,ne=this._readableState,te=!1;for(var de in be.on("end",function(){if(A("wrapped end"),ne.decoder&&!ne.ended){var Ie=ne.decoder.end();Ie&&Ie.length&&he.push(Ie)}he.push(null)}),be.on("data",function(Ie){A("wrapped data"),ne.decoder&&(Ie=ne.decoder.write(Ie)),ne.objectMode&&null==Ie||!(ne.objectMode||Ie&&Ie.length)||he.push(Ie)||(te=!0,be.pause())}),be)void 0===this[de]&&"function"==typeof be[de]&&(this[de]=function(He){return function(){return be[He].apply(be,arguments)}}(de));for(var _e=0;_e<ve.length;_e++)be.on(ve[_e],this.emit.bind(this,ve[_e]));return this._read=function(Ie){A("wrapped _read",Ie),te&&(te=!1,be.resume())},this},"function"==typeof Symbol&&(s.prototype[Symbol.asyncIterator]=function(){return void 0===ue&&(ue=E(6320)),ue(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(he){this._readableState&&(this._readableState.flowing=he)}}),s._fromList=me,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(s.from=function(be,he){return void 0===ce&&(ce=E(87654)),ce(s,be,he)})},2909:($e,j,E)=>{"use strict";$e.exports=P;var g=E(26113).F,w=g.ERR_METHOD_NOT_IMPLEMENTED,B=g.ERR_MULTIPLE_CALLBACK,H=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=g.ERR_TRANSFORM_WITH_LENGTH_0,k=E(74075);function S(A,V){var U=this._transformState;U.transforming=!1;var K=U.writecb;if(null===K)return this.emit("error",new B);U.writechunk=null,U.writecb=null,null!=V&&this.push(V),K(A);var Q=this._readableState;Q.reading=!1,(Q.needReadable||Q.length<Q.highWaterMark)&&this._read(Q.highWaterMark)}function P(A){if(!(this instanceof P))return new P(A);k.call(this,A),this._transformState={afterTransform:S.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&("function"==typeof A.transform&&(this._transform=A.transform),"function"==typeof A.flush&&(this._flush=A.flush)),this.on("prefinish",R)}function R(){var A=this;"function"!=typeof this._flush||this._readableState.destroyed?O(this,null,null):this._flush(function(V,U){O(A,V,U)})}function O(A,V,U){if(V)return A.emit("error",V);if(null!=U&&A.push(U),A._writableState.length)throw new b;if(A._transformState.transforming)throw new H;return A.push(null)}E(71993)(P,k),P.prototype.push=function(A,V){return this._transformState.needTransform=!1,k.prototype.push.call(this,A,V)},P.prototype._transform=function(A,V,U){U(new w("_transform()"))},P.prototype._write=function(A,V,U){var K=this._transformState;if(K.writecb=U,K.writechunk=A,K.writeencoding=V,!K.transforming){var Q=this._readableState;(K.needTransform||Q.needReadable||Q.length<Q.highWaterMark)&&this._read(Q.highWaterMark)}},P.prototype._read=function(A){var V=this._transformState;null===V.writechunk||V.transforming?V.needTransform=!0:(V.transforming=!0,this._transform(V.writechunk,V.writeencoding,V.afterTransform))},P.prototype._destroy=function(A,V){k.prototype._destroy.call(this,A,function(U){V(U)})}},47849:($e,j,E)=>{"use strict";var H,g=E(40573);function B(ge){var me=this;this.next=null,this.entry=null,this.finish=function(){!function Ze(ge,me,Ue){var xe=ge.entry;for(ge.entry=null;xe;){var Ce=xe.callback;me.pendingcb--,Ce(Ue),xe=xe.next}me.corkedRequestsFree.next=ge}(me,ge)}}$e.exports=C,C.WritableState=ve;var De,b={deprecate:E(3398)},k=E(18342),S=E(83838).Buffer,P=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},A=E(21509),U=E(42934).getHighWaterMark,K=E(26113).F,Q=K.ERR_INVALID_ARG_TYPE,q=K.ERR_METHOD_NOT_IMPLEMENTED,Y=K.ERR_MULTIPLE_CALLBACK,W=K.ERR_STREAM_CANNOT_PIPE,re=K.ERR_STREAM_DESTROYED,ie=K.ERR_STREAM_NULL_VALUES,ae=K.ERR_STREAM_WRITE_AFTER_END,ue=K.ERR_UNKNOWN_ENCODING,ce=A.errorOrDestroy;function pe(){}function ve(ge,me,Ue){H=H||E(74075),"boolean"!=typeof Ue&&(Ue=me instanceof H),this.objectMode=!!(ge=ge||{}).objectMode,Ue&&(this.objectMode=this.objectMode||!!ge.writableObjectMode),this.highWaterMark=U(this,ge,"writableHighWaterMark",Ue),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ge.decodeStrings),this.defaultEncoding=ge.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ce){!function x(ge,me){var Ue=ge._writableState,xe=Ue.sync,Ce=Ue.writecb;if("function"!=typeof Ce)throw new Y;if(function L(ge){ge.writing=!1,ge.writecb=null,ge.length-=ge.writelen,ge.writelen=0}(Ue),me)!function I(ge,me,Ue,xe,Ce){--me.pendingcb,Ue?(g.nextTick(Ce,xe),g.nextTick(we,ge,me),ge._writableState.errorEmitted=!0,ce(ge,xe)):(Ce(xe),ge._writableState.errorEmitted=!0,ce(ge,xe),we(ge,me))}(ge,Ue,xe,me,Ce);else{var be=z(Ue)||ge.destroyed;!be&&!Ue.corked&&!Ue.bufferProcessing&&Ue.bufferedRequest&&Z(ge,Ue),xe?g.nextTick(a,ge,Ue,be,Ce):a(ge,Ue,be,Ce)}}(me,Ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==ge.emitClose,this.autoDestroy=!!ge.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new B(this)}function C(ge){var me=this instanceof(H=H||E(74075));if(!me&&!De.call(C,this))return new C(ge);this._writableState=new ve(ge,this,me),this.writable=!0,ge&&("function"==typeof ge.write&&(this._write=ge.write),"function"==typeof ge.writev&&(this._writev=ge.writev),"function"==typeof ge.destroy&&(this._destroy=ge.destroy),"function"==typeof ge.final&&(this._final=ge.final)),k.call(this)}function _(ge,me,Ue,xe,Ce,be,he){me.writelen=xe,me.writecb=he,me.writing=!0,me.sync=!0,me.destroyed?me.onwrite(new re("write")):Ue?ge._writev(Ce,me.onwrite):ge._write(Ce,be,me.onwrite),me.sync=!1}function a(ge,me,Ue,xe){Ue||function v(ge,me){0===me.length&&me.needDrain&&(me.needDrain=!1,ge.emit("drain"))}(ge,me),me.pendingcb--,xe(),we(ge,me)}function Z(ge,me){me.bufferProcessing=!0;var Ue=me.bufferedRequest;if(ge._writev&&Ue&&Ue.next){var Ce=new Array(me.bufferedRequestCount),be=me.corkedRequestsFree;be.entry=Ue;for(var he=0,ne=!0;Ue;)Ce[he]=Ue,Ue.isBuf||(ne=!1),Ue=Ue.next,he+=1;Ce.allBuffers=ne,_(ge,me,!0,me.length,Ce,"",be.finish),me.pendingcb++,me.lastBufferedRequest=null,be.next?(me.corkedRequestsFree=be.next,be.next=null):me.corkedRequestsFree=new B(me),me.bufferedRequestCount=0}else{for(;Ue;){var te=Ue.chunk;if(_(ge,me,!1,me.objectMode?1:te.length,te,Ue.encoding,Ue.callback),Ue=Ue.next,me.bufferedRequestCount--,me.writing)break}null===Ue&&(me.lastBufferedRequest=null)}me.bufferedRequest=Ue,me.bufferProcessing=!1}function z(ge){return ge.ending&&0===ge.length&&null===ge.bufferedRequest&&!ge.finished&&!ge.writing}function ee(ge,me){ge._final(function(Ue){me.pendingcb--,Ue&&ce(ge,Ue),me.prefinished=!0,ge.emit("prefinish"),we(ge,me)})}function we(ge,me){var Ue=z(me);if(Ue&&(function le(ge,me){!me.prefinished&&!me.finalCalled&&("function"!=typeof ge._final||me.destroyed?(me.prefinished=!0,ge.emit("prefinish")):(me.pendingcb++,me.finalCalled=!0,g.nextTick(ee,ge,me)))}(ge,me),0===me.pendingcb&&(me.finished=!0,ge.emit("finish"),me.autoDestroy))){var xe=ge._readableState;(!xe||xe.autoDestroy&&xe.endEmitted)&&ge.destroy()}return Ue}E(71993)(C,k),ve.prototype.getBuffer=function(){for(var me=this.bufferedRequest,Ue=[];me;)Ue.push(me),me=me.next;return Ue},function(){try{Object.defineProperty(ve.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(De=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(me){return!!De.call(this,me)||this===C&&me&&me._writableState instanceof ve}})):De=function(me){return me instanceof this},C.prototype.pipe=function(){ce(this,new W)},C.prototype.write=function(ge,me,Ue){var xe=this._writableState,Ce=!1,be=!xe.objectMode&&function O(ge){return S.isBuffer(ge)||ge instanceof P}(ge);return be&&!S.isBuffer(ge)&&(ge=function R(ge){return S.from(ge)}(ge)),"function"==typeof me&&(Ue=me,me=null),be?me="buffer":me||(me=xe.defaultEncoding),"function"!=typeof Ue&&(Ue=pe),xe.ending?function s(ge,me){var Ue=new ae;ce(ge,Ue),g.nextTick(me,Ue)}(this,Ue):(be||function d(ge,me,Ue,xe){var Ce;return null===Ue?Ce=new ie:"string"!=typeof Ue&&!me.objectMode&&(Ce=new Q("chunk",["string","Buffer"],Ue)),!Ce||(ce(ge,Ce),g.nextTick(xe,Ce),!1)}(this,xe,ge,Ue))&&(xe.pendingcb++,Ce=function f(ge,me,Ue,xe,Ce,be){if(!Ue){var he=function h(ge,me,Ue){return!ge.objectMode&&!1!==ge.decodeStrings&&"string"==typeof me&&(me=S.from(me,Ue)),me}(me,xe,Ce);xe!==he&&(Ue=!0,Ce="buffer",xe=he)}var ne=me.objectMode?1:xe.length;me.length+=ne;var te=me.length<me.highWaterMark;if(te||(me.needDrain=!0),me.writing||me.corked){var de=me.lastBufferedRequest;me.lastBufferedRequest={chunk:xe,encoding:Ce,isBuf:Ue,callback:be,next:null},de?de.next=me.lastBufferedRequest:me.bufferedRequest=me.lastBufferedRequest,me.bufferedRequestCount+=1}else _(ge,me,!1,ne,xe,Ce,be);return te}(this,xe,be,ge,me,Ue)),Ce},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var ge=this._writableState;ge.corked&&(ge.corked--,!ge.writing&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&Z(this,ge))},C.prototype.setDefaultEncoding=function(me){if("string"==typeof me&&(me=me.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((me+"").toLowerCase())>-1))throw new ue(me);return this._writableState.defaultEncoding=me,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(ge,me,Ue){Ue(new q("_write()"))},C.prototype._writev=null,C.prototype.end=function(ge,me,Ue){var xe=this._writableState;return"function"==typeof ge?(Ue=ge,ge=null,me=null):"function"==typeof me&&(Ue=me,me=null),null!=ge&&this.write(ge,me),xe.corked&&(xe.corked=1,this.uncork()),xe.ending||function Me(ge,me,Ue){me.ending=!0,we(ge,me),Ue&&(me.finished?g.nextTick(Ue):ge.once("finish",Ue)),me.ended=!0,ge.writable=!1}(this,xe,Ue),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(me){this._writableState&&(this._writableState.destroyed=me)}}),C.prototype.destroy=A.destroy,C.prototype._undestroy=A.undestroy,C.prototype._destroy=function(ge,me){me(ge)}},6320:($e,j,E)=>{"use strict";var w,g=E(40573);function B(ae,ue,ce){return ue=function H(ae){var ue=function b(ae,ue){if("object"!=typeof ae||null===ae)return ae;var ce=ae[Symbol.toPrimitive];if(void 0!==ce){var pe=ce.call(ae,ue||"default");if("object"!=typeof pe)return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ue?String:Number)(ae)}(ae,"string");return"symbol"==typeof ue?ue:String(ue)}(ue),ue in ae?Object.defineProperty(ae,ue,{value:ce,enumerable:!0,configurable:!0,writable:!0}):ae[ue]=ce,ae}var k=E(33139),S=Symbol("lastResolve"),P=Symbol("lastReject"),R=Symbol("error"),O=Symbol("ended"),A=Symbol("lastPromise"),V=Symbol("handlePromise"),U=Symbol("stream");function K(ae,ue){return{value:ae,done:ue}}function Q(ae){var ue=ae[S];if(null!==ue){var ce=ae[U].read();null!==ce&&(ae[A]=null,ae[S]=null,ae[P]=null,ue(K(ce,!1)))}}function q(ae){g.nextTick(Q,ae)}var W=Object.getPrototypeOf(function(){}),re=Object.setPrototypeOf((B(w={get stream(){return this[U]},next:function(){var ue=this,ce=this[R];if(null!==ce)return Promise.reject(ce);if(this[O])return Promise.resolve(K(void 0,!0));if(this[U].destroyed)return new Promise(function(C,s){g.nextTick(function(){ue[R]?s(ue[R]):C(K(void 0,!0))})});var ve,pe=this[A];if(pe)ve=new Promise(function Y(ae,ue){return function(ce,pe){ae.then(function(){ue[O]?ce(K(void 0,!0)):ue[V](ce,pe)},pe)}}(pe,this));else{var De=this[U].read();if(null!==De)return Promise.resolve(K(De,!1));ve=new Promise(this[V])}return this[A]=ve,ve}},Symbol.asyncIterator,function(){return this}),B(w,"return",function(){var ue=this;return new Promise(function(ce,pe){ue[U].destroy(null,function(ve){ve?pe(ve):ce(K(void 0,!0))})})}),w),W);$e.exports=function(ue){var ce,pe=Object.create(re,(B(ce={},U,{value:ue,writable:!0}),B(ce,S,{value:null,writable:!0}),B(ce,P,{value:null,writable:!0}),B(ce,R,{value:null,writable:!0}),B(ce,O,{value:ue._readableState.endEmitted,writable:!0}),B(ce,V,{value:function(De,C){var s=pe[U].read();s?(pe[A]=null,pe[S]=null,pe[P]=null,De(K(s,!1))):(pe[S]=De,pe[P]=C)},writable:!0}),ce));return pe[A]=null,k(ue,function(ve){if(ve&&"ERR_STREAM_PREMATURE_CLOSE"!==ve.code){var De=pe[P];return null!==De&&(pe[A]=null,pe[S]=null,pe[P]=null,De(ve)),void(pe[R]=ve)}var C=pe[S];null!==C&&(pe[A]=null,pe[S]=null,pe[P]=null,C(K(void 0,!0))),pe[O]=!0}),ue.on("readable",q.bind(null,pe)),pe}},19588:($e,j,E)=>{"use strict";function g(Q,q){var Y=Object.keys(Q);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Q);q&&(W=W.filter(function(re){return Object.getOwnPropertyDescriptor(Q,re).enumerable})),Y.push.apply(Y,W)}return Y}function w(Q){for(var q=1;q<arguments.length;q++){var Y=null!=arguments[q]?arguments[q]:{};q%2?g(Object(Y),!0).forEach(function(W){B(Q,W,Y[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(Y)):g(Object(Y)).forEach(function(W){Object.defineProperty(Q,W,Object.getOwnPropertyDescriptor(Y,W))})}return Q}function B(Q,q,Y){return(q=S(q))in Q?Object.defineProperty(Q,q,{value:Y,enumerable:!0,configurable:!0,writable:!0}):Q[q]=Y,Q}function b(Q,q){for(var Y=0;Y<q.length;Y++){var W=q[Y];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Q,S(W.key),W)}}function S(Q){var q=function P(Q,q){if("object"!=typeof Q||null===Q)return Q;var Y=Q[Symbol.toPrimitive];if(void 0!==Y){var W=Y.call(Q,q||"default");if("object"!=typeof W)return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===q?String:Number)(Q)}(Q,"string");return"symbol"==typeof q?q:String(q)}var O=E(83838).Buffer,V=E(15340).inspect,U=V&&V.custom||"inspect";function K(Q,q,Y){O.prototype.copy.call(Q,q,Y)}$e.exports=function(){function Q(){(function H(Q,q){if(!(Q instanceof q))throw new TypeError("Cannot call a class as a function")})(this,Q),this.head=null,this.tail=null,this.length=0}return function k(Q,q,Y){q&&b(Q.prototype,q),Y&&b(Q,Y),Object.defineProperty(Q,"prototype",{writable:!1})}(Q,[{key:"push",value:function(Y){var W={data:Y,next:null};this.length>0?this.tail.next=W:this.head=W,this.tail=W,++this.length}},{key:"unshift",value:function(Y){var W={data:Y,next:this.head};0===this.length&&(this.tail=W),this.head=W,++this.length}},{key:"shift",value:function(){if(0!==this.length){var Y=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,Y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Y){if(0===this.length)return"";for(var W=this.head,re=""+W.data;W=W.next;)re+=Y+W.data;return re}},{key:"concat",value:function(Y){if(0===this.length)return O.alloc(0);for(var W=O.allocUnsafe(Y>>>0),re=this.head,ie=0;re;)K(re.data,W,ie),ie+=re.data.length,re=re.next;return W}},{key:"consume",value:function(Y,W){var re;return Y<this.head.data.length?(re=this.head.data.slice(0,Y),this.head.data=this.head.data.slice(Y)):re=Y===this.head.data.length?this.shift():W?this._getString(Y):this._getBuffer(Y),re}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Y){var W=this.head,re=1,ie=W.data;for(Y-=ie.length;W=W.next;){var ae=W.data,ue=Y>ae.length?ae.length:Y;if(ie+=ue===ae.length?ae:ae.slice(0,Y),0==(Y-=ue)){ue===ae.length?(++re,this.head=W.next?W.next:this.tail=null):(this.head=W,W.data=ae.slice(ue));break}++re}return this.length-=re,ie}},{key:"_getBuffer",value:function(Y){var W=O.allocUnsafe(Y),re=this.head,ie=1;for(re.data.copy(W),Y-=re.data.length;re=re.next;){var ae=re.data,ue=Y>ae.length?ae.length:Y;if(ae.copy(W,W.length-Y,0,ue),0==(Y-=ue)){ue===ae.length?(++ie,this.head=re.next?re.next:this.tail=null):(this.head=re,re.data=ae.slice(ue));break}++ie}return this.length-=ie,W}},{key:U,value:function(Y,W){return V(this,w(w({},W),{},{depth:0,customInspect:!1}))}}]),Q}()},21509:($e,j,E)=>{"use strict";var g=E(40573);function B(P,R){k(P,R),H(P)}function H(P){P._writableState&&!P._writableState.emitClose||P._readableState&&!P._readableState.emitClose||P.emit("close")}function k(P,R){P.emit("error",R)}$e.exports={destroy:function w(P,R){var O=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(R?R(P):P&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(k,this,P)):g.nextTick(k,this,P)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(P||null,function(U){!R&&U?O._writableState?O._writableState.errorEmitted?g.nextTick(H,O):(O._writableState.errorEmitted=!0,g.nextTick(B,O,U)):g.nextTick(B,O,U):R?(g.nextTick(H,O),R(U)):g.nextTick(H,O)}),this)},undestroy:function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function S(P,R){var O=P._readableState,A=P._writableState;O&&O.autoDestroy||A&&A.autoDestroy?P.destroy(R):P.emit("error",R)}}},33139:($e,j,E)=>{"use strict";var g=E(26113).F.ERR_STREAM_PREMATURE_CLOSE;function B(){}$e.exports=function b(k,S,P){if("function"==typeof S)return b(k,null,S);S||(S={}),P=function w(k){var S=!1;return function(){if(!S){S=!0;for(var P=arguments.length,R=new Array(P),O=0;O<P;O++)R[O]=arguments[O];k.apply(this,R)}}}(P||B);var R=S.readable||!1!==S.readable&&k.readable,O=S.writable||!1!==S.writable&&k.writable,A=function(){k.writable||U()},V=k._writableState&&k._writableState.finished,U=function(){O=!1,V=!0,R||P.call(k)},K=k._readableState&&k._readableState.endEmitted,Q=function(){R=!1,K=!0,O||P.call(k)},q=function(ie){P.call(k,ie)},Y=function(){var ie;return R&&!K?((!k._readableState||!k._readableState.ended)&&(ie=new g),P.call(k,ie)):O&&!V?((!k._writableState||!k._writableState.ended)&&(ie=new g),P.call(k,ie)):void 0},W=function(){k.req.on("finish",U)};return function H(k){return k.setHeader&&"function"==typeof k.abort}(k)?(k.on("complete",U),k.on("abort",Y),k.req?W():k.on("request",W)):O&&!k._writableState&&(k.on("end",A),k.on("close",A)),k.on("end",Q),k.on("finish",U),!1!==S.error&&k.on("error",q),k.on("close",Y),function(){k.removeListener("complete",U),k.removeListener("abort",Y),k.removeListener("request",W),k.req&&k.req.removeListener("finish",U),k.removeListener("end",A),k.removeListener("close",A),k.removeListener("finish",U),k.removeListener("end",Q),k.removeListener("error",q),k.removeListener("close",Y)}}},87654:$e=>{$e.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:($e,j,E)=>{"use strict";var g,B=E(26113).F,H=B.ERR_MISSING_ARGS,b=B.ERR_STREAM_DESTROYED;function k(U){if(U)throw U}function R(U){U()}function O(U,K){return U.pipe(K)}$e.exports=function V(){for(var U=arguments.length,K=new Array(U),Q=0;Q<U;Q++)K[Q]=arguments[Q];var q=function A(U){return U.length&&"function"==typeof U[U.length-1]?U.pop():k}(K);if(Array.isArray(K[0])&&(K=K[0]),K.length<2)throw new H("streams");var Y,W=K.map(function(re,ie){var ae=ie<K.length-1;return function P(U,K,Q,q){q=function w(U){var K=!1;return function(){K||(K=!0,U.apply(void 0,arguments))}}(q);var Y=!1;U.on("close",function(){Y=!0}),void 0===g&&(g=E(33139)),g(U,{readable:K,writable:Q},function(re){if(re)return q(re);Y=!0,q()});var W=!1;return function(re){if(!Y&&!W){if(W=!0,function S(U){return U.setHeader&&"function"==typeof U.abort}(U))return U.abort();if("function"==typeof U.destroy)return U.destroy();q(re||new b("pipe"))}}}(re,ae,ie>0,function(ce){Y||(Y=ce),ce&&W.forEach(R),!ae&&(W.forEach(R),q(Y))})});return K.reduce(O)}},42934:($e,j,E)=>{"use strict";var g=E(26113).F.ERR_INVALID_OPT_VALUE;$e.exports={getHighWaterMark:function B(H,b,k,S){var P=function w(H,b,k){return null!=H.highWaterMark?H.highWaterMark:b?H[k]:null}(b,S,k);if(null!=P){if(!isFinite(P)||Math.floor(P)!==P||P<0)throw new g(S?k:"highWaterMark",P);return Math.floor(P)}return H.objectMode?16:16384}}},18342:($e,j,E)=>{$e.exports=E(44356).EventEmitter},5942:($e,j,E)=>{(j=$e.exports=E(19609)).Stream=j,j.Readable=j,j.Writable=E(47849),j.Duplex=E(74075),j.Transform=E(2909),j.PassThrough=E(18823),j.finished=E(33139),j.pipeline=E(96249)},85493:($e,j,E)=>{"use strict";var w=E(29293).default;j.s=void 0;const B=E(5942);j.s=class H extends B.Readable{constructor(k){super(),this.bytesRead=0,this.released=!1,this.reader=k.getReader()}_read(){var k=this;return w(function*(){if(k.released)return void k.push(null);k.pendingRead=k.reader.read();const S=yield k.pendingRead;delete k.pendingRead,S.done||k.released?k.push(null):(k.bytesRead+=S.value.length,k.push(S.value))})()}waitForReadToComplete(){var k=this;return w(function*(){k.pendingRead&&(yield k.pendingRead)})()}close(){var k=this;return w(function*(){yield k.syncAndRelease()})()}syncAndRelease(){var k=this;return w(function*(){k.released=!0,yield k.waitForReadToComplete(),yield k.reader.releaseLock()})()}}},36636:($e,j,E)=>{"use strict";var g=E(83838).Buffer,w=E(71993),B=E(13686),H=new Array(16),b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],S=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],P=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],R=[0,1518500249,1859775393,2400959708,2840853838],O=[1352829926,1548603684,1836072691,2053994217,0];function A(){B.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function V(W,re){return W<<re|W>>>32-re}function U(W,re,ie,ae,ue,ce,pe,ve){return V(W+(re^ie^ae)+ce+pe|0,ve)+ue|0}function K(W,re,ie,ae,ue,ce,pe,ve){return V(W+(re&ie|~re&ae)+ce+pe|0,ve)+ue|0}function Q(W,re,ie,ae,ue,ce,pe,ve){return V(W+((re|~ie)^ae)+ce+pe|0,ve)+ue|0}function q(W,re,ie,ae,ue,ce,pe,ve){return V(W+(re&ae|ie&~ae)+ce+pe|0,ve)+ue|0}function Y(W,re,ie,ae,ue,ce,pe,ve){return V(W+(re^(ie|~ae))+ce+pe|0,ve)+ue|0}w(A,B),A.prototype._update=function(){for(var W=H,re=0;re<16;++re)W[re]=this._block.readInt32LE(4*re);for(var ie=0|this._a,ae=0|this._b,ue=0|this._c,ce=0|this._d,pe=0|this._e,ve=0|this._a,De=0|this._b,C=0|this._c,s=0|this._d,d=0|this._e,h=0;h<80;h+=1){var f,_;h<16?(f=U(ie,ae,ue,ce,pe,W[b[h]],R[0],S[h]),_=Y(ve,De,C,s,d,W[k[h]],O[0],P[h])):h<32?(f=K(ie,ae,ue,ce,pe,W[b[h]],R[1],S[h]),_=q(ve,De,C,s,d,W[k[h]],O[1],P[h])):h<48?(f=Q(ie,ae,ue,ce,pe,W[b[h]],R[2],S[h]),_=Q(ve,De,C,s,d,W[k[h]],O[2],P[h])):h<64?(f=q(ie,ae,ue,ce,pe,W[b[h]],R[3],S[h]),_=K(ve,De,C,s,d,W[k[h]],O[3],P[h])):(f=Y(ie,ae,ue,ce,pe,W[b[h]],R[4],S[h]),_=U(ve,De,C,s,d,W[k[h]],O[4],P[h])),ie=pe,pe=ce,ce=V(ue,10),ue=ae,ae=f,ve=d,d=s,s=V(C,10),C=De,De=_}var I=this._b+ue+s|0;this._b=this._c+ce+d|0,this._c=this._d+pe+ve|0,this._d=this._e+ie+De|0,this._e=this._a+ae+C|0,this._a=I},A.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var W=g.alloc?g.alloc(20):new g(20);return W.writeInt32LE(this._a,0),W.writeInt32LE(this._b,4),W.writeInt32LE(this._c,8),W.writeInt32LE(this._d,12),W.writeInt32LE(this._e,16),W},$e.exports=A},81725:($e,j,E)=>{$e.exports=function w(B,H,b){if("number"!=typeof H)throw new Error("second argument must be a Number");let k,S,P,R,O,V,A=!0;function U(Q){function q(){b&&b(Q,k),b=null}A?g(q):q()}function K(Q,q,Y){if(k[Q]=Y,q&&(O=!0),0==--P||q)U(q);else if(!O&&V<S){let W;R?(W=R[V],V+=1,B[W](function(re,ie){K(W,re,ie)})):(W=V,V+=1,B[W](function(re,ie){K(W,re,ie)}))}}Array.isArray(B)?(k=[],P=S=B.length):(R=Object.keys(B),k={},P=S=R.length),V=H,P?R?R.some(function(Q,q){return B[Q](function(Y,W){K(Q,Y,W)}),q===H-1}):B.some(function(Q,q){return Q(function(Y,W){K(q,Y,W)}),q===H-1}):U(null),A=!1};const g=E(24515)},84412:($e,j,E)=>{"use strict";E.d(j,{t:()=>w});var g=E(21413);class w extends g.B{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const b=super._subscribe(H);return!b.closed&&H.next(this._value),b}getValue(){const{hasError:H,thrownError:b,_value:k}=this;if(H)throw b;return this._throwIfClosed(),k}next(H){super.next(this._value=H)}}},71985:($e,j,E)=>{"use strict";E.d(j,{c:()=>P});var g=E(47707),w=E(18359),B=E(3494),H=E(71203),b=E(41026),k=E(98071),S=E(49786);let P=(()=>{class V{constructor(K){K&&(this._subscribe=K)}lift(K){const Q=new V;return Q.source=this,Q.operator=K,Q}subscribe(K,Q,q){const Y=function A(V){return V&&V instanceof g.vU||function O(V){return V&&(0,k.T)(V.next)&&(0,k.T)(V.error)&&(0,k.T)(V.complete)}(V)&&(0,w.Uv)(V)}(K)?K:new g.Ms(K,Q,q);return(0,S.Y)(()=>{const{operator:W,source:re}=this;Y.add(W?W.call(Y,re):re?this._subscribe(Y):this._trySubscribe(Y))}),Y}_trySubscribe(K){try{return this._subscribe(K)}catch(Q){K.error(Q)}}forEach(K,Q){return new(Q=R(Q))((q,Y)=>{const W=new g.Ms({next:re=>{try{K(re)}catch(ie){Y(ie),W.unsubscribe()}},error:Y,complete:q});this.subscribe(W)})}_subscribe(K){var Q;return null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(K)}[B.s](){return this}pipe(...K){return(0,H.m)(K)(this)}toPromise(K){return new(K=R(K))((Q,q)=>{let Y;this.subscribe(W=>Y=W,W=>q(W),()=>Q(Y))})}}return V.create=U=>new V(U),V})();function R(V){var U;return null!==(U=V??b.$.Promise)&&void 0!==U?U:Promise}},92771:($e,j,E)=>{"use strict";E.d(j,{m:()=>B});var g=E(21413),w=E(86129);class B extends g.B{constructor(b=1/0,k=1/0,S=w.U){super(),this._bufferSize=b,this._windowTime=k,this._timestampProvider=S,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=k===1/0,this._bufferSize=Math.max(1,b),this._windowTime=Math.max(1,k)}next(b){const{isStopped:k,_buffer:S,_infiniteTimeWindow:P,_timestampProvider:R,_windowTime:O}=this;k||(S.push(b),!P&&S.push(R.now()+O)),this._trimBuffer(),super.next(b)}_subscribe(b){this._throwIfClosed(),this._trimBuffer();const k=this._innerSubscribe(b),{_infiniteTimeWindow:S,_buffer:P}=this,R=P.slice();for(let O=0;O<R.length&&!b.closed;O+=S?1:2)b.next(R[O]);return this._checkFinalizedStatuses(b),k}_trimBuffer(){const{_bufferSize:b,_timestampProvider:k,_buffer:S,_infiniteTimeWindow:P}=this,R=(P?1:2)*b;if(b<1/0&&R<S.length&&S.splice(0,S.length-R),!P){const O=k.now();let A=0;for(let V=1;V<S.length&&S[V]<=O;V+=2)A=V;A&&S.splice(0,A+1)}}}},21413:($e,j,E)=>{"use strict";E.d(j,{B:()=>S});var g=E(71985),w=E(18359);const H=(0,E(81853).L)(R=>function(){R(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var b=E(57908),k=E(49786);let S=(()=>{class R extends g.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(A){const V=new P(this,this);return V.operator=A,V}_throwIfClosed(){if(this.closed)throw new H}next(A){(0,k.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const V of this.currentObservers)V.next(A)}})}error(A){(0,k.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=A;const{observers:V}=this;for(;V.length;)V.shift().error(A)}})}complete(){(0,k.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:A}=this;for(;A.length;)A.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var A;return(null===(A=this.observers)||void 0===A?void 0:A.length)>0}_trySubscribe(A){return this._throwIfClosed(),super._trySubscribe(A)}_subscribe(A){return this._throwIfClosed(),this._checkFinalizedStatuses(A),this._innerSubscribe(A)}_innerSubscribe(A){const{hasError:V,isStopped:U,observers:K}=this;return V||U?w.Kn:(this.currentObservers=null,K.push(A),new w.yU(()=>{this.currentObservers=null,(0,b.o)(K,A)}))}_checkFinalizedStatuses(A){const{hasError:V,thrownError:U,isStopped:K}=this;V?A.error(U):K&&A.complete()}asObservable(){const A=new g.c;return A.source=this,A}}return R.create=(O,A)=>new P(O,A),R})();class P extends S{constructor(O,A){super(),this.destination=O,this.source=A}next(O){var A,V;null===(V=null===(A=this.destination)||void 0===A?void 0:A.next)||void 0===V||V.call(A,O)}error(O){var A,V;null===(V=null===(A=this.destination)||void 0===A?void 0:A.error)||void 0===V||V.call(A,O)}complete(){var O,A;null===(A=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===A||A.call(O)}_subscribe(O){var A,V;return null!==(V=null===(A=this.source)||void 0===A?void 0:A.subscribe(O))&&void 0!==V?V:w.Kn}}},47707:($e,j,E)=>{"use strict";E.d(j,{Ms:()=>q,vU:()=>V});var g=E(98071),w=E(18359),B=E(41026),H=E(45334),b=E(85343);const k=R("C",void 0,void 0);function R(ae,ue,ce){return{kind:ae,value:ue,error:ce}}var O=E(19270),A=E(49786);class V extends w.yU{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,w.Uv)(ue)&&ue.add(this)):this.destination=ie}static create(ue,ce,pe){return new q(ue,ce,pe)}next(ue){this.isStopped?re(function P(ae){return R("N",ae,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?re(function S(ae){return R("E",void 0,ae)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?re(k,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const U=Function.prototype.bind;function K(ae,ue){return U.call(ae,ue)}class Q{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:ce}=this;if(ce.next)try{ce.next(ue)}catch(pe){Y(pe)}}error(ue){const{partialObserver:ce}=this;if(ce.error)try{ce.error(ue)}catch(pe){Y(pe)}else Y(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(ce){Y(ce)}}}class q extends V{constructor(ue,ce,pe){let ve;if(super(),(0,g.T)(ue)||!ue)ve={next:ue??void 0,error:ce??void 0,complete:pe??void 0};else{let De;this&&B.$.useDeprecatedNextContext?(De=Object.create(ue),De.unsubscribe=()=>this.unsubscribe(),ve={next:ue.next&&K(ue.next,De),error:ue.error&&K(ue.error,De),complete:ue.complete&&K(ue.complete,De)}):ve=ue}this.destination=new Q(ve)}}function Y(ae){B.$.useDeprecatedSynchronousErrorHandling?(0,A.l)(ae):(0,H.m)(ae)}function re(ae,ue){const{onStoppedNotification:ce}=B.$;ce&&O.f.setTimeout(()=>ce(ae,ue))}const ie={closed:!0,next:b.l,error:function W(ae){throw ae},complete:b.l}},18359:($e,j,E)=>{"use strict";E.d(j,{Kn:()=>k,yU:()=>b,Uv:()=>S});var g=E(98071);const B=(0,E(81853).L)(R=>function(A){R(this),this.message=A?`${A.length} errors occurred during unsubscription:\n${A.map((V,U)=>`${U+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=A});var H=E(57908);class b{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:A}=this;if(A)if(this._parentage=null,Array.isArray(A))for(const K of A)K.remove(this);else A.remove(this);const{initialTeardown:V}=this;if((0,g.T)(V))try{V()}catch(K){O=K instanceof B?K.errors:[K]}const{_finalizers:U}=this;if(U){this._finalizers=null;for(const K of U)try{P(K)}catch(Q){O=O??[],Q instanceof B?O=[...O,...Q.errors]:O.push(Q)}}if(O)throw new B(O)}}add(O){var A;if(O&&O!==this)if(this.closed)P(O);else{if(O instanceof b){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._finalizers=null!==(A=this._finalizers)&&void 0!==A?A:[]).push(O)}}_hasParent(O){const{_parentage:A}=this;return A===O||Array.isArray(A)&&A.includes(O)}_addParent(O){const{_parentage:A}=this;this._parentage=Array.isArray(A)?(A.push(O),A):A?[A,O]:O}_removeParent(O){const{_parentage:A}=this;A===O?this._parentage=null:Array.isArray(A)&&(0,H.o)(A,O)}remove(O){const{_finalizers:A}=this;A&&(0,H.o)(A,O),O instanceof b&&O._removeParent(this)}}b.EMPTY=(()=>{const R=new b;return R.closed=!0,R})();const k=b.EMPTY;function S(R){return R instanceof b||R&&"closed"in R&&(0,g.T)(R.remove)&&(0,g.T)(R.add)&&(0,g.T)(R.unsubscribe)}function P(R){(0,g.T)(R)?R():R.unsubscribe()}},41026:($e,j,E)=>{"use strict";E.d(j,{$:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:($e,j,E)=>{"use strict";E.d(j,{G:()=>k});var g=E(71985),w=E(18359),B=E(99898),H=E(54360),b=E(39974);class k extends g.c{constructor(P,R){super(),this.source=P,this.subjectFactory=R,this._subject=null,this._refCount=0,this._connection=null,(0,b.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new w.yU;const R=this.getSubject();P.add(this.source.subscribe((0,H._)(R,void 0,()=>{this._teardown(),R.complete()},O=>{this._teardown(),R.error(O)},()=>this._teardown()))),P.closed&&(this._connection=null,P=w.yU.EMPTY)}return P}refCount(){return(0,B.B)()(this)}}},84572:($e,j,E)=>{"use strict";E.d(j,{z:()=>O});var g=E(71985),w=E(93073),B=E(86648),H=E(33669),b=E(6450),k=E(9326),S=E(58496),P=E(54360),R=E(45225);function O(...U){const K=(0,k.lI)(U),Q=(0,k.ms)(U),{args:q,keys:Y}=(0,w.D)(U);if(0===q.length)return(0,B.H)([],K);const W=new g.c(function A(U,K,Q=H.D){return q=>{V(K,()=>{const{length:Y}=U,W=new Array(Y);let re=Y,ie=Y;for(let ae=0;ae<Y;ae++)V(K,()=>{const ue=(0,B.H)(U[ae],K);let ce=!1;ue.subscribe((0,P._)(q,pe=>{W[ae]=pe,ce||(ce=!0,ie--),ie||q.next(Q(W.slice()))},()=>{--re||q.complete()}))},q)},q)}}(q,K,Y?re=>(0,S.e)(Y,re):H.D));return Q?W.pipe((0,b.I)(Q)):W}function V(U,K,Q){U?(0,R.N)(Q,U,K):K()}},28793:($e,j,E)=>{"use strict";E.d(j,{x:()=>b});var g=E(26365),B=E(9326),H=E(86648);function b(...k){return function w(){return(0,g.U)(1)}()((0,H.H)(k,(0,B.lI)(k)))}},59030:($e,j,E)=>{"use strict";E.d(j,{v:()=>B});var g=E(71985),w=E(58750);function B(H){return new g.c(b=>{(0,w.Tg)(H()).subscribe(b)})}},983:($e,j,E)=>{"use strict";E.d(j,{w:()=>w});const w=new(E(71985).c)(b=>b.complete())},27468:($e,j,E)=>{"use strict";E.d(j,{p:()=>P});var g=E(71985),w=E(93073),B=E(58750),H=E(9326),b=E(54360),k=E(6450),S=E(58496);function P(...R){const O=(0,H.ms)(R),{args:A,keys:V}=(0,w.D)(R),U=new g.c(K=>{const{length:Q}=A;if(!Q)return void K.complete();const q=new Array(Q);let Y=Q,W=Q;for(let re=0;re<Q;re++){let ie=!1;(0,B.Tg)(A[re]).subscribe((0,b._)(K,ae=>{ie||(ie=!0,W--),q[re]=ae},()=>Y--,void 0,()=>{(!Y||!ie)&&(W||K.next(V?(0,S.e)(V,q):q),K.complete())}))}});return O?U.pipe((0,k.I)(O)):U}},86648:($e,j,E)=>{"use strict";E.d(j,{H:()=>pe});var g=E(58750),w=E(45225),B=E(39974),H=E(54360);function b(ve,De=0){return(0,B.N)((C,s)=>{C.subscribe((0,H._)(s,d=>(0,w.N)(s,ve,()=>s.next(d),De),()=>(0,w.N)(s,ve,()=>s.complete(),De),d=>(0,w.N)(s,ve,()=>s.error(d),De)))})}function k(ve,De=0){return(0,B.N)((C,s)=>{s.add(ve.schedule(()=>C.subscribe(s),De))})}var R=E(71985),A=E(4761),V=E(98071);function K(ve,De){if(!ve)throw new Error("Iterable cannot be null");return new R.c(C=>{(0,w.N)(C,De,()=>{const s=ve[Symbol.asyncIterator]();(0,w.N)(C,De,()=>{s.next().then(d=>{d.done?C.complete():C.next(d.value)})},0,!0)})})}var Q=E(55055),q=E(59858),Y=E(47441),W=E(85397),re=E(37953),ie=E(50591),ae=E(15196);function pe(ve,De){return De?function ce(ve,De){if(null!=ve){if((0,Q.l)(ve))return function S(ve,De){return(0,g.Tg)(ve).pipe(k(De),b(De))}(ve,De);if((0,Y.X)(ve))return function O(ve,De){return new R.c(C=>{let s=0;return De.schedule(function(){s===ve.length?C.complete():(C.next(ve[s++]),C.closed||this.schedule())})})}(ve,De);if((0,q.y)(ve))return function P(ve,De){return(0,g.Tg)(ve).pipe(k(De),b(De))}(ve,De);if((0,re.T)(ve))return K(ve,De);if((0,W.x)(ve))return function U(ve,De){return new R.c(C=>{let s;return(0,w.N)(C,De,()=>{s=ve[A.l](),(0,w.N)(C,De,()=>{let d,h;try{({value:d,done:h}=s.next())}catch(f){return void C.error(f)}h?C.complete():C.next(d)},0,!0)}),()=>(0,V.T)(s?.return)&&s.return()})}(ve,De);if((0,ae.U)(ve))return function ue(ve,De){return K((0,ae.C)(ve),De)}(ve,De)}throw(0,ie.L)(ve)}(ve,De):(0,g.Tg)(ve)}},33726:($e,j,E)=>{"use strict";E.d(j,{R:()=>O});var g=E(58750),w=E(71985),B=E(31397),H=E(47441),b=E(98071),k=E(6450);const S=["addListener","removeListener"],P=["addEventListener","removeEventListener"],R=["on","off"];function O(Q,q,Y,W){if((0,b.T)(Y)&&(W=Y,Y=void 0),W)return O(Q,q,Y).pipe((0,k.I)(W));const[re,ie]=function K(Q){return(0,b.T)(Q.addEventListener)&&(0,b.T)(Q.removeEventListener)}(Q)?P.map(ae=>ue=>Q[ae](q,ue,Y)):function V(Q){return(0,b.T)(Q.addListener)&&(0,b.T)(Q.removeListener)}(Q)?S.map(A(Q,q)):function U(Q){return(0,b.T)(Q.on)&&(0,b.T)(Q.off)}(Q)?R.map(A(Q,q)):[];if(!re&&(0,H.X)(Q))return(0,B.Z)(ae=>O(ae,q,Y))((0,g.Tg)(Q));if(!re)throw new TypeError("Invalid event target");return new w.c(ae=>{const ue=(...ce)=>ae.next(1<ce.length?ce:ce[0]);return re(ue),()=>ie(ue)})}function A(Q,q){return Y=>W=>Q[Y](q,W)}},58750:($e,j,E)=>{"use strict";E.d(j,{Tg:()=>U});var g=E(31635),w=E(47441),B=E(59858),H=E(71985),b=E(55055),k=E(37953),S=E(50591),P=E(85397),R=E(15196),O=E(98071),A=E(45334),V=E(3494);function U(ae){if(ae instanceof H.c)return ae;if(null!=ae){if((0,b.l)(ae))return function K(ae){return new H.c(ue=>{const ce=ae[V.s]();if((0,O.T)(ce.subscribe))return ce.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,w.X)(ae))return function Q(ae){return new H.c(ue=>{for(let ce=0;ce<ae.length&&!ue.closed;ce++)ue.next(ae[ce]);ue.complete()})}(ae);if((0,B.y)(ae))return function q(ae){return new H.c(ue=>{ae.then(ce=>{ue.closed||(ue.next(ce),ue.complete())},ce=>ue.error(ce)).then(null,A.m)})}(ae);if((0,k.T)(ae))return W(ae);if((0,P.x)(ae))return function Y(ae){return new H.c(ue=>{for(const ce of ae)if(ue.next(ce),ue.closed)return;ue.complete()})}(ae);if((0,R.U)(ae))return function re(ae){return W((0,R.C)(ae))}(ae)}throw(0,S.L)(ae)}function W(ae){return new H.c(ue=>{(function ie(ae,ue){var ce,pe,ve,De;return(0,g.sH)(this,void 0,void 0,function*(){try{for(ce=(0,g.xN)(ae);!(pe=yield ce.next()).done;)if(ue.next(pe.value),ue.closed)return}catch(C){ve={error:C}}finally{try{pe&&!pe.done&&(De=ce.return)&&(yield De.call(ce))}finally{if(ve)throw ve.error}}ue.complete()})})(ae,ue).catch(ce=>ue.error(ce))})}},57786:($e,j,E)=>{"use strict";E.d(j,{h:()=>k});var g=E(26365),w=E(58750),B=E(983),H=E(9326),b=E(86648);function k(...S){const P=(0,H.lI)(S),R=(0,H.R0)(S,1/0),O=S;return O.length?1===O.length?(0,w.Tg)(O[0]):(0,g.U)(R)((0,b.H)(O,P)):B.w}},7673:($e,j,E)=>{"use strict";E.d(j,{of:()=>B});var g=E(9326),w=E(86648);function B(...H){const b=(0,g.lI)(H);return(0,w.H)(H,b)}},18810:($e,j,E)=>{"use strict";E.d(j,{$:()=>B});var g=E(71985),w=E(98071);function B(H,b){const k=(0,w.T)(H)?H:()=>H,S=P=>P.error(k());return new g.c(b?P=>b.schedule(S,0,P):S)}},41584:($e,j,E)=>{"use strict";E.d(j,{O:()=>b});var g=E(71985),w=E(43236),B=E(79470);function b(k=0,S,P=w.b){let R=-1;return null!=S&&((0,B.m)(S)?P=S:R=S),new g.c(O=>{let A=function H(k){return k instanceof Date&&!isNaN(k)}(k)?+k-P.now():k;A<0&&(A=0);let V=0;return P.schedule(function(){O.closed||(O.next(V++),0<=R?this.schedule(void 0,R):O.complete())},A)})}},54360:($e,j,E)=>{"use strict";E.d(j,{_:()=>w});var g=E(47707);function w(H,b,k,S,P){return new B(H,b,k,S,P)}class B extends g.vU{constructor(b,k,S,P,R,O){super(b),this.onFinalize=R,this.shouldUnsubscribe=O,this._next=k?function(A){try{k(A)}catch(V){b.error(V)}}:super._next,this._error=P?function(A){try{P(A)}catch(V){b.error(V)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch(A){b.error(A)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:k}=this;super.unsubscribe(),!k&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}},99437:($e,j,E)=>{"use strict";E.d(j,{W:()=>H});var g=E(58750),w=E(54360),B=E(39974);function H(b){return(0,B.N)((k,S)=>{let O,P=null,R=!1;P=k.subscribe((0,w._)(S,void 0,void 0,A=>{O=(0,g.Tg)(b(A,H(b)(k))),P?(P.unsubscribe(),P=null,O.subscribe(S)):R=!0})),R&&(P.unsubscribe(),P=null,O.subscribe(S))})}},70274:($e,j,E)=>{"use strict";E.d(j,{H:()=>B});var g=E(31397),w=E(98071);function B(H,b){return(0,w.T)(b)?(0,g.Z)(H,b,1):(0,g.Z)(H,1)}},70152:($e,j,E)=>{"use strict";E.d(j,{B:()=>H});var g=E(43236),w=E(39974),B=E(54360);function H(b,k=g.E){return(0,w.N)((S,P)=>{let R=null,O=null,A=null;const V=()=>{if(R){R.unsubscribe(),R=null;const K=O;O=null,P.next(K)}};function U(){const K=A+b,Q=k.now();if(Q<K)return R=this.schedule(void 0,K-Q),void P.add(R);V()}S.subscribe((0,B._)(P,K=>{O=K,A=k.now(),R||(R=k.schedule(U,b),P.add(R))},()=>{V(),P.complete()},void 0,()=>{O=R=null}))})}},91986:($e,j,E)=>{"use strict";E.d(j,{c:()=>U});var g=E(43236),w=E(28793),B=E(96697),H=E(39974),b=E(54360),k=E(85343),P=E(73703),R=E(31397),O=E(58750);function A(K,Q){return Q?q=>(0,w.x)(Q.pipe((0,B.s)(1),function S(){return(0,H.N)((K,Q)=>{K.subscribe((0,b._)(Q,k.l))})}()),q.pipe(A(K))):(0,R.Z)((q,Y)=>(0,O.Tg)(K(q,Y)).pipe((0,B.s)(1),(0,P.u)(q)))}var V=E(41584);function U(K,Q=g.E){const q=(0,V.O)(K,Q);return A(()=>q)}},23294:($e,j,E)=>{"use strict";E.d(j,{F:()=>H});var g=E(33669),w=E(39974),B=E(54360);function H(k,S=g.D){return k=k??b,(0,w.N)((P,R)=>{let O,A=!0;P.subscribe((0,B._)(R,V=>{const U=S(V);(A||!k(O,U))&&(A=!1,O=U,R.next(V))}))})}function b(k,S){return k===S}},5964:($e,j,E)=>{"use strict";E.d(j,{p:()=>B});var g=E(39974),w=E(54360);function B(H,b){return(0,g.N)((k,S)=>{let P=0;k.subscribe((0,w._)(S,R=>H.call(b,R,P++)&&S.next(R)))})}},70980:($e,j,E)=>{"use strict";E.d(j,{j:()=>w});var g=E(39974);function w(B){return(0,g.N)((H,b)=>{try{H.subscribe(b)}finally{b.add(B)}})}},96354:($e,j,E)=>{"use strict";E.d(j,{T:()=>B});var g=E(39974),w=E(54360);function B(H,b){return(0,g.N)((k,S)=>{let P=0;k.subscribe((0,w._)(S,R=>{S.next(H.call(b,R,P++))}))})}},73703:($e,j,E)=>{"use strict";E.d(j,{u:()=>w});var g=E(96354);function w(B){return(0,g.T)(()=>B)}},26365:($e,j,E)=>{"use strict";E.d(j,{U:()=>B});var g=E(31397),w=E(33669);function B(H=1/0){return(0,g.Z)(w.D,H)}},31397:($e,j,E)=>{"use strict";E.d(j,{Z:()=>P});var g=E(96354),w=E(58750),B=E(39974),H=E(45225),b=E(54360),S=E(98071);function P(R,O,A=1/0){return(0,S.T)(O)?P((V,U)=>(0,g.T)((K,Q)=>O(V,K,U,Q))((0,w.Tg)(R(V,U))),A):("number"==typeof O&&(A=O),(0,B.N)((V,U)=>function k(R,O,A,V,U,K,Q,q){const Y=[];let W=0,re=0,ie=!1;const ae=()=>{ie&&!Y.length&&!W&&O.complete()},ue=pe=>W<V?ce(pe):Y.push(pe),ce=pe=>{K&&O.next(pe),W++;let ve=!1;(0,w.Tg)(A(pe,re++)).subscribe((0,b._)(O,De=>{U?.(De),K?ue(De):O.next(De)},()=>{ve=!0},void 0,()=>{if(ve)try{for(W--;Y.length&&W<V;){const De=Y.shift();Q?(0,H.N)(O,Q,()=>ce(De)):ce(De)}ae()}catch(De){O.error(De)}}))};return R.subscribe((0,b._)(O,ue,()=>{ie=!0,ae()})),()=>{q?.()}}(V,U,R,A)))}},99898:($e,j,E)=>{"use strict";E.d(j,{B:()=>B});var g=E(39974),w=E(54360);function B(){return(0,g.N)((H,b)=>{let k=null;H._refCount++;const S=(0,w._)(b,void 0,void 0,void 0,()=>{if(!H||H._refCount<=0||0<--H._refCount)return void(k=null);const P=H._connection,R=k;k=null,P&&(!R||P===R)&&P.unsubscribe(),b.unsubscribe()});H.subscribe(S),S.closed||(k=H.connect())})}},97647:($e,j,E)=>{"use strict";E.d(j,{u:()=>b});var g=E(58750),w=E(21413),B=E(47707),H=E(39974);function b(S={}){const{connector:P=(()=>new w.B),resetOnError:R=!0,resetOnComplete:O=!0,resetOnRefCountZero:A=!0}=S;return V=>{let U,K,Q,q=0,Y=!1,W=!1;const re=()=>{K?.unsubscribe(),K=void 0},ie=()=>{re(),U=Q=void 0,Y=W=!1},ae=()=>{const ue=U;ie(),ue?.unsubscribe()};return(0,H.N)((ue,ce)=>{q++,!W&&!Y&&re();const pe=Q=Q??P();ce.add(()=>{q--,0===q&&!W&&!Y&&(K=k(ae,A))}),pe.subscribe(ce),!U&&q>0&&(U=new B.Ms({next:ve=>pe.next(ve),error:ve=>{W=!0,re(),K=k(ie,R,ve),pe.error(ve)},complete:()=>{Y=!0,re(),K=k(ie,O),pe.complete()}}),(0,g.Tg)(ue).subscribe(U))})(V)}}function k(S,P,...R){if(!0===P)return void S();if(!1===P)return;const O=new B.Ms({next:()=>{O.unsubscribe(),S()}});return(0,g.Tg)(P(...R)).subscribe(O)}},44668:($e,j,E)=>{"use strict";E.d(j,{t:()=>B});var g=E(92771),w=E(97647);function B(H,b,k){let S,P=!1;return H&&"object"==typeof H?({bufferSize:S=1/0,windowTime:b=1/0,refCount:P=!1,scheduler:k}=H):S=H??1/0,(0,w.u)({connector:()=>new g.m(S,b,k),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:P})}},65245:($e,j,E)=>{"use strict";E.d(j,{i:()=>w});var g=E(5964);function w(B){return(0,g.p)((H,b)=>B<=b)}},99172:($e,j,E)=>{"use strict";E.d(j,{Z:()=>H});var g=E(28793),w=E(9326),B=E(39974);function H(...b){const k=(0,w.lI)(b);return(0,B.N)((S,P)=>{(k?(0,g.x)(b,S,k):(0,g.x)(b,S)).subscribe(P)})}},25558:($e,j,E)=>{"use strict";E.d(j,{n:()=>H});var g=E(58750),w=E(39974),B=E(54360);function H(b,k){return(0,w.N)((S,P)=>{let R=null,O=0,A=!1;const V=()=>A&&!R&&P.complete();S.subscribe((0,B._)(P,U=>{R?.unsubscribe();let K=0;const Q=O++;(0,g.Tg)(b(U,Q)).subscribe(R=(0,B._)(P,q=>P.next(k?k(U,q,Q,K++):q),()=>{R=null,V()}))},()=>{A=!0,V()}))})}},96697:($e,j,E)=>{"use strict";E.d(j,{s:()=>H});var g=E(983),w=E(39974),B=E(54360);function H(b){return b<=0?()=>g.w:(0,w.N)((k,S)=>{let P=0;k.subscribe((0,B._)(S,R=>{++P<=b&&(S.next(R),b<=P&&S.complete())}))})}},56977:($e,j,E)=>{"use strict";E.d(j,{Q:()=>b});var g=E(39974),w=E(54360),B=E(58750),H=E(85343);function b(k){return(0,g.N)((S,P)=>{(0,B.Tg)(k).subscribe((0,w._)(P,()=>P.complete(),H.l)),!P.closed&&S.subscribe(P)})}},88141:($e,j,E)=>{"use strict";E.d(j,{M:()=>b});var g=E(98071),w=E(39974),B=E(54360),H=E(33669);function b(k,S,P){const R=(0,g.T)(k)||S||P?{next:k,error:S,complete:P}:k;return R?(0,w.N)((O,A)=>{var V;null===(V=R.subscribe)||void 0===V||V.call(R);let U=!0;O.subscribe((0,B._)(A,K=>{var Q;null===(Q=R.next)||void 0===Q||Q.call(R,K),A.next(K)},()=>{var K;U=!1,null===(K=R.complete)||void 0===K||K.call(R),A.complete()},K=>{var Q;U=!1,null===(Q=R.error)||void 0===Q||Q.call(R,K),A.error(K)},()=>{var K,Q;U&&(null===(K=R.unsubscribe)||void 0===K||K.call(R)),null===(Q=R.finalize)||void 0===Q||Q.call(R)}))}):H.D}},96780:($e,j,E)=>{"use strict";E.d(j,{R:()=>b});var g=E(18359);class w extends g.yU{constructor(S,P){super()}schedule(S,P=0){return this}}const B={setInterval(k,S,...P){const{delegate:R}=B;return R?.setInterval?R.setInterval(k,S,...P):setInterval(k,S,...P)},clearInterval(k){const{delegate:S}=B;return(S?.clearInterval||clearInterval)(k)},delegate:void 0};var H=E(57908);class b extends w{constructor(S,P){super(S,P),this.scheduler=S,this.work=P,this.pending=!1}schedule(S,P=0){var R;if(this.closed)return this;this.state=S;const O=this.id,A=this.scheduler;return null!=O&&(this.id=this.recycleAsyncId(A,O,P)),this.pending=!0,this.delay=P,this.id=null!==(R=this.id)&&void 0!==R?R:this.requestAsyncId(A,this.id,P),this}requestAsyncId(S,P,R=0){return B.setInterval(S.flush.bind(S,this),R)}recycleAsyncId(S,P,R=0){if(null!=R&&this.delay===R&&!1===this.pending)return P;null!=P&&B.clearInterval(P)}execute(S,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const R=this._execute(S,P);if(R)return R;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,P){let O,R=!1;try{this.work(S)}catch(A){R=!0,O=A||new Error("Scheduled action threw falsy error")}if(R)return this.unsubscribe(),O}unsubscribe(){if(!this.closed){const{id:S,scheduler:P}=this,{actions:R}=P;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.o)(R,this),null!=S&&(this.id=this.recycleAsyncId(P,S,null)),this.delay=null,super.unsubscribe()}}}},39687:($e,j,E)=>{"use strict";E.d(j,{q:()=>B});var g=E(86129);class w{constructor(b,k=w.now){this.schedulerActionCtor=b,this.now=k}schedule(b,k=0,S){return new this.schedulerActionCtor(this,b).schedule(S,k)}}w.now=g.U.now;class B extends w{constructor(b,k=w.now){super(b,k),this.actions=[],this._active=!1}flush(b){const{actions:k}=this;if(this._active)return void k.push(b);let S;this._active=!0;do{if(S=b.execute(b.state,b.delay))break}while(b=k.shift());if(this._active=!1,S){for(;b=k.shift();)b.unsubscribe();throw S}}}},30536:($e,j,E)=>{"use strict";E.d(j,{X:()=>S});var g=E(96780),w=E(18359);const B={schedule(R){let O=requestAnimationFrame,A=cancelAnimationFrame;const{delegate:V}=B;V&&(O=V.requestAnimationFrame,A=V.cancelAnimationFrame);const U=O(K=>{A=void 0,R(K)});return new w.yU(()=>A?.(U))},requestAnimationFrame(...R){const{delegate:O}=B;return(O?.requestAnimationFrame||requestAnimationFrame)(...R)},cancelAnimationFrame(...R){const{delegate:O}=B;return(O?.cancelAnimationFrame||cancelAnimationFrame)(...R)},delegate:void 0};var b=E(39687);const S=new class k extends b.q{flush(O){this._active=!0;const A=this._scheduled;this._scheduled=void 0;const{actions:V}=this;let U;O=O||V.shift();do{if(U=O.execute(O.state,O.delay))break}while((O=V[0])&&O.id===A&&V.shift());if(this._active=!1,U){for(;(O=V[0])&&O.id===A&&V.shift();)O.unsubscribe();throw U}}}(class H extends g.R{constructor(O,A){super(O,A),this.scheduler=O,this.work=A}requestAsyncId(O,A,V=0){return null!==V&&V>0?super.requestAsyncId(O,A,V):(O.actions.push(this),O._scheduled||(O._scheduled=B.requestAnimationFrame(()=>O.flush(void 0))))}recycleAsyncId(O,A,V=0){var U;if(null!=V?V>0:this.delay>0)return super.recycleAsyncId(O,A,V);const{actions:K}=O;null!=A&&(null===(U=K[K.length-1])||void 0===U?void 0:U.id)!==A&&(B.cancelAnimationFrame(A),O._scheduled=void 0)}})},25007:($e,j,E)=>{"use strict";E.d(j,{$:()=>K});var g=E(96780);let B,w=1;const H={};function b(q){return q in H&&(delete H[q],!0)}const k={setImmediate(q){const Y=w++;return H[Y]=!0,B||(B=Promise.resolve()),B.then(()=>b(Y)&&q()),Y},clearImmediate(q){b(q)}},{setImmediate:P,clearImmediate:R}=k,O={setImmediate(...q){const{delegate:Y}=O;return(Y?.setImmediate||P)(...q)},clearImmediate(q){const{delegate:Y}=O;return(Y?.clearImmediate||R)(q)},delegate:void 0};var V=E(39687);const K=new class U extends V.q{flush(Y){this._active=!0;const W=this._scheduled;this._scheduled=void 0;const{actions:re}=this;let ie;Y=Y||re.shift();do{if(ie=Y.execute(Y.state,Y.delay))break}while((Y=re[0])&&Y.id===W&&re.shift());if(this._active=!1,ie){for(;(Y=re[0])&&Y.id===W&&re.shift();)Y.unsubscribe();throw ie}}}(class A extends g.R{constructor(Y,W){super(Y,W),this.scheduler=Y,this.work=W}requestAsyncId(Y,W,re=0){return null!==re&&re>0?super.requestAsyncId(Y,W,re):(Y.actions.push(this),Y._scheduled||(Y._scheduled=O.setImmediate(Y.flush.bind(Y,void 0))))}recycleAsyncId(Y,W,re=0){var ie;if(null!=re?re>0:this.delay>0)return super.recycleAsyncId(Y,W,re);const{actions:ae}=Y;null!=W&&(null===(ie=ae[ae.length-1])||void 0===ie?void 0:ie.id)!==W&&(O.clearImmediate(W),Y._scheduled===W&&(Y._scheduled=void 0))}})},43236:($e,j,E)=>{"use strict";E.d(j,{E:()=>B,b:()=>H});var g=E(96780);const B=new(E(39687).q)(g.R),H=B},86129:($e,j,E)=>{"use strict";E.d(j,{U:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},19270:($e,j,E)=>{"use strict";E.d(j,{f:()=>g});const g={setTimeout(w,B,...H){const{delegate:b}=g;return b?.setTimeout?b.setTimeout(w,B,...H):setTimeout(w,B,...H)},clearTimeout(w){const{delegate:B}=g;return(B?.clearTimeout||clearTimeout)(w)},delegate:void 0}},4761:($e,j,E)=>{"use strict";E.d(j,{l:()=>w});const w=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:($e,j,E)=>{"use strict";E.d(j,{s:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:($e,j,E)=>{"use strict";E.d(j,{R0:()=>k,lI:()=>b,ms:()=>H});var g=E(98071),w=E(79470);function B(S){return S[S.length-1]}function H(S){return(0,g.T)(B(S))?S.pop():void 0}function b(S){return(0,w.m)(B(S))?S.pop():void 0}function k(S,P){return"number"==typeof B(S)?S.pop():P}},93073:($e,j,E)=>{"use strict";E.d(j,{D:()=>b});const{isArray:g}=Array,{getPrototypeOf:w,prototype:B,keys:H}=Object;function b(S){if(1===S.length){const P=S[0];if(g(P))return{args:P,keys:null};if(function k(S){return S&&"object"==typeof S&&w(S)===B}(P)){const R=H(P);return{args:R.map(O=>P[O]),keys:R}}}return{args:S,keys:null}}},57908:($e,j,E)=>{"use strict";function g(w,B){if(w){const H=w.indexOf(B);0<=H&&w.splice(H,1)}}E.d(j,{o:()=>g})},81853:($e,j,E)=>{"use strict";function g(w){const H=w(b=>{Error.call(b),b.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}E.d(j,{L:()=>g})},58496:($e,j,E)=>{"use strict";function g(w,B){return w.reduce((H,b,k)=>(H[b]=B[k],H),{})}E.d(j,{e:()=>g})},49786:($e,j,E)=>{"use strict";E.d(j,{Y:()=>B,l:()=>H});var g=E(41026);let w=null;function B(b){if(g.$.useDeprecatedSynchronousErrorHandling){const k=!w;if(k&&(w={errorThrown:!1,error:null}),b(),k){const{errorThrown:S,error:P}=w;if(w=null,S)throw P}}else b()}function H(b){g.$.useDeprecatedSynchronousErrorHandling&&w&&(w.errorThrown=!0,w.error=b)}},45225:($e,j,E)=>{"use strict";function g(w,B,H,b=0,k=!1){const S=B.schedule(function(){H(),k?w.add(this.schedule(null,b)):this.unsubscribe()},b);if(w.add(S),!k)return S}E.d(j,{N:()=>g})},33669:($e,j,E)=>{"use strict";function g(w){return w}E.d(j,{D:()=>g})},47441:($e,j,E)=>{"use strict";E.d(j,{X:()=>g});const g=w=>w&&"number"==typeof w.length&&"function"!=typeof w},37953:($e,j,E)=>{"use strict";E.d(j,{T:()=>w});var g=E(98071);function w(B){return Symbol.asyncIterator&&(0,g.T)(B?.[Symbol.asyncIterator])}},98071:($e,j,E)=>{"use strict";function g(w){return"function"==typeof w}E.d(j,{T:()=>g})},55055:($e,j,E)=>{"use strict";E.d(j,{l:()=>B});var g=E(3494),w=E(98071);function B(H){return(0,w.T)(H[g.s])}},85397:($e,j,E)=>{"use strict";E.d(j,{x:()=>B});var g=E(4761),w=E(98071);function B(H){return(0,w.T)(H?.[g.l])}},74402:($e,j,E)=>{"use strict";E.d(j,{A:()=>B});var g=E(71985),w=E(98071);function B(H){return!!H&&(H instanceof g.c||(0,w.T)(H.lift)&&(0,w.T)(H.subscribe))}},59858:($e,j,E)=>{"use strict";E.d(j,{y:()=>w});var g=E(98071);function w(B){return(0,g.T)(B?.then)}},15196:($e,j,E)=>{"use strict";E.d(j,{C:()=>B,U:()=>H});var g=E(31635),w=E(98071);function B(b){return(0,g.AQ)(this,arguments,function*(){const S=b.getReader();try{for(;;){const{value:P,done:R}=yield(0,g.N3)(S.read());if(R)return yield(0,g.N3)(void 0);yield yield(0,g.N3)(P)}}finally{S.releaseLock()}})}function H(b){return(0,w.T)(b?.getReader)}},79470:($e,j,E)=>{"use strict";E.d(j,{m:()=>w});var g=E(98071);function w(B){return B&&(0,g.T)(B.schedule)}},39974:($e,j,E)=>{"use strict";E.d(j,{N:()=>B,S:()=>w});var g=E(98071);function w(H){return(0,g.T)(H?.lift)}function B(H){return b=>{if(w(b))return b.lift(function(k){try{return H(k,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:($e,j,E)=>{"use strict";E.d(j,{I:()=>H});var g=E(96354);const{isArray:w}=Array;function H(b){return(0,g.T)(k=>function B(b,k){return w(k)?b(...k):b(k)}(b,k))}},85343:($e,j,E)=>{"use strict";function g(){}E.d(j,{l:()=>g})},71203:($e,j,E)=>{"use strict";E.d(j,{F:()=>w,m:()=>B});var g=E(33669);function w(...H){return B(H)}function B(H){return 0===H.length?g.D:1===H.length?H[0]:function(k){return H.reduce((S,P)=>P(S),k)}}},45334:($e,j,E)=>{"use strict";E.d(j,{m:()=>B});var g=E(41026),w=E(19270);function B(H){w.f.setTimeout(()=>{const{onUnhandledError:b}=g.$;if(!b)throw H;b(H)})}},50591:($e,j,E)=>{"use strict";function g(w){return new TypeError(`You provided ${null!==w&&"object"==typeof w?"an invalid object":`'${w}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(j,{L:()=>g})},27054:($e,j,E)=>{var g=E(83838),w=g.Buffer;function B(b,k){for(var S in b)k[S]=b[S]}function H(b,k,S){return w(b,k,S)}w.from&&w.alloc&&w.allocUnsafe&&w.allocUnsafeSlow?$e.exports=g:(B(g,j),j.Buffer=H),H.prototype=Object.create(w.prototype),B(w,H),H.from=function(b,k,S){if("number"==typeof b)throw new TypeError("Argument must not be a number");return w(b,k,S)},H.alloc=function(b,k,S){if("number"!=typeof b)throw new TypeError("Argument must be a number");var P=w(b);return void 0!==k?"string"==typeof S?P.fill(k,S):P.fill(k):P.fill(0),P},H.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return w(b)},H.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return g.SlowBuffer(b)}},70463:($e,j,E)=>{var g=E(27054).Buffer;function w(B,H){this._block=g.alloc(B),this._finalSize=H,this._blockSize=B,this._len=0}w.prototype.update=function(B,H){"string"==typeof B&&(B=g.from(B,H=H||"utf8"));for(var b=this._block,k=this._blockSize,S=B.length,P=this._len,R=0;R<S;){for(var O=P%k,A=Math.min(S-R,k-O),V=0;V<A;V++)b[O+V]=B[R+V];R+=A,(P+=A)%k==0&&this._update(b)}return this._len+=S,this},w.prototype.digest=function(B){var H=this._len%this._blockSize;this._block[H]=128,this._block.fill(0,H+1),H>=this._finalSize&&(this._update(this._block),this._block.fill(0));var b=8*this._len;if(b<=4294967295)this._block.writeUInt32BE(b,this._blockSize-4);else{var k=(4294967295&b)>>>0;this._block.writeUInt32BE((b-k)/4294967296,this._blockSize-8),this._block.writeUInt32BE(k,this._blockSize-4)}this._update(this._block);var P=this._hash();return B?P.toString(B):P},w.prototype._update=function(){throw new Error("_update must be implemented by subclass")},$e.exports=w},25443:($e,j,E)=>{var g=$e.exports=function(B){B=B.toLowerCase();var H=g[B];if(!H)throw new Error(B+" is not supported (we accept pull requests)");return new H};g.sha=E(48585),g.sha1=E(21270),g.sha224=E(42709),g.sha256=E(32148),g.sha384=E(51856),g.sha512=E(3121)},48585:($e,j,E)=>{var g=E(71993),w=E(70463),B=E(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function k(){this.init(),this._w=b,w.call(this,64,56)}function S(O){return O<<5|O>>>27}function P(O){return O<<30|O>>>2}function R(O,A,V,U){return 0===O?A&V|~A&U:2===O?A&V|A&U|V&U:A^V^U}g(k,w),k.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},k.prototype._update=function(O){for(var A=this._w,V=0|this._a,U=0|this._b,K=0|this._c,Q=0|this._d,q=0|this._e,Y=0;Y<16;++Y)A[Y]=O.readInt32BE(4*Y);for(;Y<80;++Y)A[Y]=A[Y-3]^A[Y-8]^A[Y-14]^A[Y-16];for(var W=0;W<80;++W){var re=~~(W/20),ie=S(V)+R(re,U,K,Q)+q+A[W]+H[re]|0;q=Q,Q=K,K=P(U),U=V,V=ie}this._a=V+this._a|0,this._b=U+this._b|0,this._c=K+this._c|0,this._d=Q+this._d|0,this._e=q+this._e|0},k.prototype._hash=function(){var O=B.allocUnsafe(20);return O.writeInt32BE(0|this._a,0),O.writeInt32BE(0|this._b,4),O.writeInt32BE(0|this._c,8),O.writeInt32BE(0|this._d,12),O.writeInt32BE(0|this._e,16),O},$e.exports=k},21270:($e,j,E)=>{var g=E(71993),w=E(70463),B=E(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],b=new Array(80);function k(){this.init(),this._w=b,w.call(this,64,56)}function S(A){return A<<1|A>>>31}function P(A){return A<<5|A>>>27}function R(A){return A<<30|A>>>2}function O(A,V,U,K){return 0===A?V&U|~V&K:2===A?V&U|V&K|U&K:V^U^K}g(k,w),k.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},k.prototype._update=function(A){for(var V=this._w,U=0|this._a,K=0|this._b,Q=0|this._c,q=0|this._d,Y=0|this._e,W=0;W<16;++W)V[W]=A.readInt32BE(4*W);for(;W<80;++W)V[W]=S(V[W-3]^V[W-8]^V[W-14]^V[W-16]);for(var re=0;re<80;++re){var ie=~~(re/20),ae=P(U)+O(ie,K,Q,q)+Y+V[re]+H[ie]|0;Y=q,q=Q,Q=R(K),K=U,U=ae}this._a=U+this._a|0,this._b=K+this._b|0,this._c=Q+this._c|0,this._d=q+this._d|0,this._e=Y+this._e|0},k.prototype._hash=function(){var A=B.allocUnsafe(20);return A.writeInt32BE(0|this._a,0),A.writeInt32BE(0|this._b,4),A.writeInt32BE(0|this._c,8),A.writeInt32BE(0|this._d,12),A.writeInt32BE(0|this._e,16),A},$e.exports=k},42709:($e,j,E)=>{var g=E(71993),w=E(32148),B=E(70463),H=E(27054).Buffer,b=new Array(64);function k(){this.init(),this._w=b,B.call(this,64,56)}g(k,w),k.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},k.prototype._hash=function(){var S=H.allocUnsafe(28);return S.writeInt32BE(this._a,0),S.writeInt32BE(this._b,4),S.writeInt32BE(this._c,8),S.writeInt32BE(this._d,12),S.writeInt32BE(this._e,16),S.writeInt32BE(this._f,20),S.writeInt32BE(this._g,24),S},$e.exports=k},32148:($e,j,E)=>{var g=E(71993),w=E(70463),B=E(27054).Buffer,H=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],b=new Array(64);function k(){this.init(),this._w=b,w.call(this,64,56)}function S(U,K,Q){return Q^U&(K^Q)}function P(U,K,Q){return U&K|Q&(U|K)}function R(U){return(U>>>2|U<<30)^(U>>>13|U<<19)^(U>>>22|U<<10)}function O(U){return(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7)}function A(U){return(U>>>7|U<<25)^(U>>>18|U<<14)^U>>>3}function V(U){return(U>>>17|U<<15)^(U>>>19|U<<13)^U>>>10}g(k,w),k.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},k.prototype._update=function(U){for(var K=this._w,Q=0|this._a,q=0|this._b,Y=0|this._c,W=0|this._d,re=0|this._e,ie=0|this._f,ae=0|this._g,ue=0|this._h,ce=0;ce<16;++ce)K[ce]=U.readInt32BE(4*ce);for(;ce<64;++ce)K[ce]=V(K[ce-2])+K[ce-7]+A(K[ce-15])+K[ce-16]|0;for(var pe=0;pe<64;++pe){var ve=ue+O(re)+S(re,ie,ae)+H[pe]+K[pe]|0,De=R(Q)+P(Q,q,Y)|0;ue=ae,ae=ie,ie=re,re=W+ve|0,W=Y,Y=q,q=Q,Q=ve+De|0}this._a=Q+this._a|0,this._b=q+this._b|0,this._c=Y+this._c|0,this._d=W+this._d|0,this._e=re+this._e|0,this._f=ie+this._f|0,this._g=ae+this._g|0,this._h=ue+this._h|0},k.prototype._hash=function(){var U=B.allocUnsafe(32);return U.writeInt32BE(this._a,0),U.writeInt32BE(this._b,4),U.writeInt32BE(this._c,8),U.writeInt32BE(this._d,12),U.writeInt32BE(this._e,16),U.writeInt32BE(this._f,20),U.writeInt32BE(this._g,24),U.writeInt32BE(this._h,28),U},$e.exports=k},51856:($e,j,E)=>{var g=E(71993),w=E(3121),B=E(70463),H=E(27054).Buffer,b=new Array(160);function k(){this.init(),this._w=b,B.call(this,128,112)}g(k,w),k.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},k.prototype._hash=function(){var S=H.allocUnsafe(48);function P(R,O,A){S.writeInt32BE(R,A),S.writeInt32BE(O,A+4)}return P(this._ah,this._al,0),P(this._bh,this._bl,8),P(this._ch,this._cl,16),P(this._dh,this._dl,24),P(this._eh,this._el,32),P(this._fh,this._fl,40),S},$e.exports=k},3121:($e,j,E)=>{var g=E(71993),w=E(70463),B=E(27054).Buffer,H=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],b=new Array(160);function k(){this.init(),this._w=b,w.call(this,128,112)}function S(q,Y,W){return W^q&(Y^W)}function P(q,Y,W){return q&Y|W&(q|Y)}function R(q,Y){return(q>>>28|Y<<4)^(Y>>>2|q<<30)^(Y>>>7|q<<25)}function O(q,Y){return(q>>>14|Y<<18)^(q>>>18|Y<<14)^(Y>>>9|q<<23)}function A(q,Y){return(q>>>1|Y<<31)^(q>>>8|Y<<24)^q>>>7}function V(q,Y){return(q>>>1|Y<<31)^(q>>>8|Y<<24)^(q>>>7|Y<<25)}function U(q,Y){return(q>>>19|Y<<13)^(Y>>>29|q<<3)^q>>>6}function K(q,Y){return(q>>>19|Y<<13)^(Y>>>29|q<<3)^(q>>>6|Y<<26)}function Q(q,Y){return q>>>0<Y>>>0?1:0}g(k,w),k.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},k.prototype._update=function(q){for(var Y=this._w,W=0|this._ah,re=0|this._bh,ie=0|this._ch,ae=0|this._dh,ue=0|this._eh,ce=0|this._fh,pe=0|this._gh,ve=0|this._hh,De=0|this._al,C=0|this._bl,s=0|this._cl,d=0|this._dl,h=0|this._el,f=0|this._fl,_=0|this._gl,I=0|this._hl,L=0;L<32;L+=2)Y[L]=q.readInt32BE(4*L),Y[L+1]=q.readInt32BE(4*L+4);for(;L<160;L+=2){var x=Y[L-30],a=Y[L-30+1],v=A(x,a),Z=V(a,x),z=U(x=Y[L-4],a=Y[L-4+1]),ee=K(a,x),Me=Y[L-32],Ze=Y[L-32+1],ge=Z+Y[L-14+1]|0,me=v+Y[L-14]+Q(ge,Z)|0;me=(me=me+z+Q(ge=ge+ee|0,ee)|0)+Me+Q(ge=ge+Ze|0,Ze)|0,Y[L]=me,Y[L+1]=ge}for(var Ue=0;Ue<160;Ue+=2){me=Y[Ue],ge=Y[Ue+1];var xe=P(W,re,ie),Ce=P(De,C,s),be=R(W,De),he=R(De,W),ne=O(ue,h),te=O(h,ue),de=H[Ue],_e=H[Ue+1],Ie=S(ue,ce,pe),He=S(h,f,_),Ve=I+te|0,Dt=ve+ne+Q(Ve,I)|0;Dt=(Dt=(Dt=Dt+Ie+Q(Ve=Ve+He|0,He)|0)+de+Q(Ve=Ve+_e|0,_e)|0)+me+Q(Ve=Ve+ge|0,ge)|0;var Ne=he+Ce|0,ke=be+xe+Q(Ne,he)|0;ve=pe,I=_,pe=ce,_=f,ce=ue,f=h,ue=ae+Dt+Q(h=d+Ve|0,d)|0,ae=ie,d=s,ie=re,s=C,re=W,C=De,W=Dt+ke+Q(De=Ve+Ne|0,Ve)|0}this._al=this._al+De|0,this._bl=this._bl+C|0,this._cl=this._cl+s|0,this._dl=this._dl+d|0,this._el=this._el+h|0,this._fl=this._fl+f|0,this._gl=this._gl+_|0,this._hl=this._hl+I|0,this._ah=this._ah+W+Q(this._al,De)|0,this._bh=this._bh+re+Q(this._bl,C)|0,this._ch=this._ch+ie+Q(this._cl,s)|0,this._dh=this._dh+ae+Q(this._dl,d)|0,this._eh=this._eh+ue+Q(this._el,h)|0,this._fh=this._fh+ce+Q(this._fl,f)|0,this._gh=this._gh+pe+Q(this._gl,_)|0,this._hh=this._hh+ve+Q(this._hl,I)|0},k.prototype._hash=function(){var q=B.allocUnsafe(64);function Y(W,re,ie){q.writeInt32BE(W,ie),q.writeInt32BE(re,ie+4)}return Y(this._ah,this._al,0),Y(this._bh,this._bl,8),Y(this._ch,this._cl,16),Y(this._dh,this._dl,24),Y(this._eh,this._el,32),Y(this._fh,this._fl,40),Y(this._gh,this._gl,48),Y(this._hh,this._hl,56),q},$e.exports=k},18876:$e=>{"use strict";function E(H,b){return H+g(b)}function g(H){let b=H;return b-=b>>1&1431655765,b=(858993459&b)+(b>>2&858993459),16843009*(b+(b>>4)&252645135)>>24}function w(H,b){return H[0]-b[0]}function B(H){return H[1]}$e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(b,k){let S=this._internalPositionFor(b,!1);if(void 0===k)-1!==S&&(this._unsetInternalPos(S),this._unsetBit(b),this._changedLength=!0,this._changedData=!0);else{let P=!1;-1===S?(S=this._data.length,this._setBit(b),this._changedData=!0):P=!0,this._setInternalPos(S,b,k,P),this._changedLength=!0}}unset(b){this.set(b,void 0)}get(b){this._sortData();const k=this._internalPositionFor(b,!0);if(-1!==k)return this._data[k][1]}push(b){return this.set(this.length,b),this.length}get length(){if(this._sortData(),this._changedLength){const b=this._data[this._data.length-1];this._length=b?b[0]+1:0,this._changedLength=!1}return this._length}forEach(b){let k=0;for(;k<this.length;)b(this.get(k),k,this),k++}map(b){let k=0,S=new Array(this.length);for(;k<this.length;)S[k]=b(this.get(k),k,this),k++;return S}reduce(b,k){let S=0,P=k;for(;S<this.length;)P=b(P,this.get(S),S),S++;return P}find(b){let S,P,k=0;for(;k<this.length&&!S;)P=this.get(k),S=b(P),k++;return S?P:void 0}_internalPositionFor(b,k){const S=this._bytePosFor(b,k);if(S>=this._bitArrays.length)return-1;const P=this._bitArrays[S],R=b-7*S;return(P&1<<R)>0?this._bitArrays.slice(0,S).reduce(E,0)+g(P&~(4294967295<<R+1))-1:-1}_bytePosFor(b,k){const S=Math.floor(b/7),P=S+1;for(;!k&&this._bitArrays.length<P;)this._bitArrays.push(0);return S}_setBit(b){const k=this._bytePosFor(b,!1);this._bitArrays[k]|=1<<b-7*k}_unsetBit(b){const k=this._bytePosFor(b,!1);this._bitArrays[k]&=~(1<<b-7*k)}_setInternalPos(b,k,S,P){const R=this._data,O=[k,S];if(P)this._sortData(),R[b]=O;else{if(R.length)if(R[R.length-1][0]>=k)R.push(O);else if(R[0][0]<=k)R.unshift(O);else{const A=Math.round(R.length/2);this._data=R.slice(0,A).concat(O).concat(R.slice(A))}else this._data.push(O);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(b){this._data.splice(b,1)}_sortData(){this._changedData&&this._data.sort(w),this._changedData=!1}bitField(){const b=[];let R,k=8,S=0,P=0;const O=this._bitArrays.slice();for(;O.length||S;){0===S&&(R=O.shift(),S=7);const V=Math.min(S,k);P|=(R&~(255<<V))<<8-k,R>>>=V,S-=V,k-=V,(!k||!S&&!O.length)&&(b.push(P),P=0,k=8)}for(var A=b.length-1;A>0&&0===b[A];A--)b.pop();return b}compactArray(){return this._sortData(),this._data.map(B)}}},7045:($e,j,E)=>{$e.exports=B;var g=E(44356).EventEmitter;function B(){g.call(this)}E(71993)(B,g),B.Readable=E(19609),B.Writable=E(47849),B.Duplex=E(74075),B.Transform=E(2909),B.PassThrough=E(18823),B.finished=E(33139),B.pipeline=E(96249),B.Stream=B,B.prototype.pipe=function(H,b){var k=this;function S(K){H.writable&&!1===H.write(K)&&k.pause&&k.pause()}function P(){k.readable&&k.resume&&k.resume()}k.on("data",S),H.on("drain",P),!H._isStdio&&(!b||!1!==b.end)&&(k.on("end",O),k.on("close",A));var R=!1;function O(){R||(R=!0,H.end())}function A(){R||(R=!0,"function"==typeof H.destroy&&H.destroy())}function V(K){if(U(),0===g.listenerCount(this,"error"))throw K}function U(){k.removeListener("data",S),H.removeListener("drain",P),k.removeListener("end",O),k.removeListener("close",A),k.removeListener("error",V),H.removeListener("error",V),k.removeListener("end",U),k.removeListener("close",U),H.removeListener("close",U)}return k.on("error",V),H.on("error",V),k.on("end",U),k.on("close",U),H.on("close",U),H.emit("pipe",k),H}},78454:($e,j,E)=>{"use strict";var g=E(27054).Buffer,w=g.isEncoding||function(W){switch((W=""+W)&&W.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function b(W){var re;switch(this.encoding=function H(W){var re=function B(W){if(!W)return"utf8";for(var re;;)switch(W){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return W;default:if(re)return;W=(""+W).toLowerCase(),re=!0}}(W);if("string"!=typeof re&&(g.isEncoding===w||!w(W)))throw new Error("Unknown encoding: "+W);return re||W}(W),this.encoding){case"utf16le":this.text=V,this.end=U,re=4;break;case"utf8":this.fillLast=R,re=4;break;case"base64":this.text=K,this.end=Q,re=3;break;default:return this.write=q,void(this.end=Y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(re)}function k(W){return W<=127?0:W>>5==6?2:W>>4==14?3:W>>3==30?4:W>>6==2?-1:-2}function R(W){var re=this.lastTotal-this.lastNeed,ie=function P(W,re,ie){if(128!=(192&re[0]))return W.lastNeed=0,"\ufffd";if(W.lastNeed>1&&re.length>1){if(128!=(192&re[1]))return W.lastNeed=1,"\ufffd";if(W.lastNeed>2&&re.length>2&&128!=(192&re[2]))return W.lastNeed=2,"\ufffd"}}(this,W);return void 0!==ie?ie:this.lastNeed<=W.length?(W.copy(this.lastChar,re,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(W.copy(this.lastChar,re,0,W.length),void(this.lastNeed-=W.length))}function V(W,re){if((W.length-re)%2==0){var ie=W.toString("utf16le",re);if(ie){var ae=ie.charCodeAt(ie.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=W[W.length-2],this.lastChar[1]=W[W.length-1],ie.slice(0,-1)}return ie}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=W[W.length-1],W.toString("utf16le",re,W.length-1)}function U(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):re}function K(W,re){var ie=(W.length-re)%3;return 0===ie?W.toString("base64",re):(this.lastNeed=3-ie,this.lastTotal=3,1===ie?this.lastChar[0]=W[W.length-1]:(this.lastChar[0]=W[W.length-2],this.lastChar[1]=W[W.length-1]),W.toString("base64",re,W.length-ie))}function Q(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+this.lastChar.toString("base64",0,3-this.lastNeed):re}function q(W){return W.toString(this.encoding)}function Y(W){return W&&W.length?this.write(W):""}j.StringDecoder=b,b.prototype.write=function(W){if(0===W.length)return"";var re,ie;if(this.lastNeed){if(void 0===(re=this.fillLast(W)))return"";ie=this.lastNeed,this.lastNeed=0}else ie=0;return ie<W.length?re?re+this.text(W,ie):this.text(W,ie):re||""},b.prototype.end=function A(W){var re=W&&W.length?this.write(W):"";return this.lastNeed?re+"\ufffd":re},b.prototype.text=function O(W,re){var ie=function S(W,re,ie){var ae=re.length-1;if(ae<ie)return 0;var ue=k(re[ae]);return ue>=0?(ue>0&&(W.lastNeed=ue-1),ue):--ae<ie||-2===ue?0:(ue=k(re[ae]))>=0?(ue>0&&(W.lastNeed=ue-2),ue):--ae<ie||-2===ue?0:(ue=k(re[ae]))>=0?(ue>0&&(2===ue?ue=0:W.lastNeed=ue-3),ue):0}(this,W,re);if(!this.lastNeed)return W.toString("utf8",re);this.lastTotal=ie;var ae=W.length-(ie-this.lastNeed);return W.copy(this.lastChar,0,ae),W.toString("utf8",re,ae)},b.prototype.fillLast=function(W){if(this.lastNeed<=W.length)return W.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);W.copy(this.lastChar,this.lastTotal-this.lastNeed,0,W.length),this.lastNeed-=W.length}},95568:function($e,j){!function(E){"use strict";function g(){for(var ht=arguments.length,Ke=Array(ht),Ge=0;Ge<ht;Ge++)Ke[Ge]=arguments[Ge];if(Ke.length>1){Ke[0]=Ke[0].slice(0,-1);for(var jt=Ke.length-1,kt=1;kt<jt;++kt)Ke[kt]=Ke[kt].slice(1,-1);return Ke[jt]=Ke[jt].slice(1),Ke.join("")}return Ke[0]}function w(ht){return"(?:"+ht+")"}function B(ht){return void 0===ht?"undefined":null===ht?"null":Object.prototype.toString.call(ht).split(" ").pop().split("]").shift().toLowerCase()}function H(ht){return ht.toUpperCase()}function S(ht){var Ke="[A-Za-z]",jt="[0-9]",ln=g(jt,"[A-Fa-f]"),gn=w(w("%[EFef]"+ln+"%"+ln+ln+"%"+ln+ln)+"|"+w("%[89A-Fa-f]"+ln+"%"+ln+ln)+"|"+w("%"+ln+ln)),er="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Pn=g("[\\:\\/\\?\\#\\[\\]\\@]",er),et=ht?"[\\uE000-\\uF8FF]":"[]",Oe=g(Ke,jt,"[\\-\\.\\_\\~]",ht?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Qe=w(Ke+g(Ke,jt,"[\\+\\-\\.]")+"*"),zt=w(w(gn+"|"+g(Oe,er,"[\\:]"))+"*"),Un=(w(w("25[0-5]")+"|"+w("2[0-4]"+jt)+"|"+w("1"+jt+jt)+"|"+w("[1-9]"+jt)+"|"+jt),w(w("25[0-5]")+"|"+w("2[0-4]"+jt)+"|"+w("1"+jt+jt)+"|"+w("0?[1-9]"+jt)+"|0?0?"+jt)),Kn=w(Un+"\\."+Un+"\\."+Un+"\\."+Un),ir=w(ln+"{1,4}"),mr=w(w(ir+"\\:"+ir)+"|"+Kn),Pr=w(w(ir+"\\:")+"{6}"+mr),Sr=w("\\:\\:"+w(ir+"\\:")+"{5}"+mr),Nr=w(w(ir)+"?\\:\\:"+w(ir+"\\:")+"{4}"+mr),dr=w(w(w(ir+"\\:")+"{0,1}"+ir)+"?\\:\\:"+w(ir+"\\:")+"{3}"+mr),nn=w(w(w(ir+"\\:")+"{0,2}"+ir)+"?\\:\\:"+w(ir+"\\:")+"{2}"+mr),yn=w(w(w(ir+"\\:")+"{0,3}"+ir)+"?\\:\\:"+ir+"\\:"+mr),En=w(w(w(ir+"\\:")+"{0,4}"+ir)+"?\\:\\:"+mr),Fn=w(w(w(ir+"\\:")+"{0,5}"+ir)+"?\\:\\:"+ir),Wn=w(w(w(ir+"\\:")+"{0,6}"+ir)+"?\\:\\:"),cr=w([Pr,Sr,Nr,dr,nn,yn,En,Fn,Wn].join("|")),hr=w(w(Oe+"|"+gn)+"+"),Or=(w(cr+"\\%25"+hr),w(cr+w("\\%25|\\%(?!"+ln+"{2})")+hr)),$i=w("[vV]"+ln+"+\\."+g(Oe,er,"[\\:]")+"+"),oo=w("\\["+w(Or+"|"+cr+"|"+$i)+"\\]"),Hi=w(w(gn+"|"+g(Oe,er))+"*"),bi=w(oo+"|"+Kn+"(?!"+Hi+")|"+Hi),pi=w(jt+"*"),So=w(w(zt+"@")+"?"+bi+w("\\:"+pi)+"?"),wi=w(gn+"|"+g(Oe,er,"[\\:\\@]")),gt=w(wi+"*"),Ft=w(wi+"+"),We=w(w(gn+"|"+g(Oe,er,"[\\@]"))+"+"),qe=w(w("\\/"+gt)+"*"),Mt=w("\\/"+w(Ft+qe)+"?"),Lt=w(We+qe),Yt=w(Ft+qe),mn="(?!"+wi+")",Tn=(w(qe+"|"+Mt+"|"+Lt+"|"+Yt+"|"+mn),w(w(wi+"|"+g("[\\/\\?]",et))+"*")),un=w(w(wi+"|[\\/\\?]")+"*"),Bn=w(w("\\/\\/"+So+qe)+"|"+Mt+"|"+Yt+"|"+mn),qt=w(Qe+"\\:"+Bn+w("\\?"+Tn)+"?"+w("\\#"+un)+"?"),lt=w(w("\\/\\/"+So+qe)+"|"+Mt+"|"+Lt+"|"+mn),St=w(lt+w("\\?"+Tn)+"?"+w("\\#"+un)+"?");return w(qt+"|"+St),w(Qe+"\\:"+Bn+w("\\?"+Tn)+"?"),w(w("\\/\\/("+w("("+zt+")@")+"?("+bi+")"+w("\\:("+pi+")")+"?)")+"?("+qe+"|"+Mt+"|"+Yt+"|"+mn+")"),w("\\?("+Tn+")"),w("\\#("+un+")"),w(w("\\/\\/("+w("("+zt+")@")+"?("+bi+")"+w("\\:("+pi+")")+"?)")+"?("+qe+"|"+Mt+"|"+Lt+"|"+mn+")"),w("\\?("+Tn+")"),w("\\#("+un+")"),w(w("\\/\\/("+w("("+zt+")@")+"?("+bi+")"+w("\\:("+pi+")")+"?)")+"?("+qe+"|"+Mt+"|"+Yt+"|"+mn+")"),w("\\?("+Tn+")"),w("\\#("+un+")"),w("("+zt+")@"),w("\\:("+pi+")"),{NOT_SCHEME:new RegExp(g("[^]",Ke,jt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(g("[^\\%\\:]",Oe,er),"g"),NOT_HOST:new RegExp(g("[^\\%\\[\\]\\:]",Oe,er),"g"),NOT_PATH:new RegExp(g("[^\\%\\/\\:\\@]",Oe,er),"g"),NOT_PATH_NOSCHEME:new RegExp(g("[^\\%\\/\\@]",Oe,er),"g"),NOT_QUERY:new RegExp(g("[^\\%]",Oe,er,"[\\:\\@\\/\\?]",et),"g"),NOT_FRAGMENT:new RegExp(g("[^\\%]",Oe,er,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(g("[^]",Oe,er),"g"),UNRESERVED:new RegExp(Oe,"g"),OTHER_CHARS:new RegExp(g("[^\\%]",Oe,Pn),"g"),PCT_ENCODED:new RegExp(gn,"g"),IPV4ADDRESS:new RegExp("^("+Kn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+cr+")"+w(w("\\%25|\\%(?!"+ln+"{2})")+"("+hr+")")+"?\\]?$")}}var P=S(!1),R=S(!0),O=function(){return function(Ke,Ge){if(Array.isArray(Ke))return Ke;if(Symbol.iterator in Object(Ke))return function ht(Ke,Ge){var jt=[],kt=!0,ln=!1,On=void 0;try{for(var gn,vn=Ke[Symbol.iterator]();!(kt=(gn=vn.next()).done)&&(jt.push(gn.value),!Ge||jt.length!==Ge);kt=!0);}catch(ur){ln=!0,On=ur}finally{try{!kt&&vn.return&&vn.return()}finally{if(ln)throw On}}return jt}(Ke,Ge);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),V=2147483647,U=36,ae=/^xn--/,ue=/[^\0-\x7E]/,ce=/[\x2E\u3002\uFF0E\uFF61]/g,pe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},De=Math.floor,C=String.fromCharCode;function s(ht){throw new RangeError(pe[ht])}function h(ht,Ke){var Ge=ht.split("@"),jt="";return Ge.length>1&&(jt=Ge[0]+"@",ht=Ge[1]),jt+function d(ht,Ke){for(var Ge=[],jt=ht.length;jt--;)Ge[jt]=Ke(ht[jt]);return Ge}((ht=ht.replace(ce,".")).split("."),Ke).join(".")}function f(ht){for(var Ke=[],Ge=0,jt=ht.length;Ge<jt;){var kt=ht.charCodeAt(Ge++);if(kt>=55296&&kt<=56319&&Ge<jt){var ln=ht.charCodeAt(Ge++);56320==(64512&ln)?Ke.push(((1023&kt)<<10)+(1023&ln)+65536):(Ke.push(kt),Ge--)}else Ke.push(kt)}return Ke}var I=function(Ke){return Ke-48<10?Ke-22:Ke-65<26?Ke-65:Ke-97<26?Ke-97:U},L=function(Ke,Ge){return Ke+22+75*(Ke<26)-((0!=Ge)<<5)},x=function(Ke,Ge,jt){var kt=0;for(Ke=jt?De(Ke/700):Ke>>1,Ke+=De(Ke/Ge);Ke>455;kt+=U)Ke=De(Ke/35);return De(kt+36*Ke/(Ke+38))},a=function(Ke){var Ge=[],jt=Ke.length,kt=0,ln=128,On=72,vn=Ke.lastIndexOf("-");vn<0&&(vn=0);for(var gn=0;gn<vn;++gn)Ke.charCodeAt(gn)>=128&&s("not-basic"),Ge.push(Ke.charCodeAt(gn));for(var ur=vn>0?vn+1:0;ur<jt;){for(var er=kt,Pn=1,Nn=U;;Nn+=U){ur>=jt&&s("invalid-input");var et=I(Ke.charCodeAt(ur++));(et>=U||et>De((V-kt)/Pn))&&s("overflow"),kt+=et*Pn;var Oe=Nn<=On?1:Nn>=On+26?26:Nn-On;if(et<Oe)break;var Qe=U-Oe;Pn>De(V/Qe)&&s("overflow"),Pn*=Qe}var zt=Ge.length+1;On=x(kt-er,zt,0==er),De(kt/zt)>V-ln&&s("overflow"),ln+=De(kt/zt),kt%=zt,Ge.splice(kt++,0,ln)}return String.fromCodePoint.apply(String,Ge)},v=function(Ke){var Ge=[],jt=(Ke=f(Ke)).length,kt=128,ln=0,On=72,vn=!0,gn=!1,ur=void 0;try{for(var Pn,er=Ke[Symbol.iterator]();!(vn=(Pn=er.next()).done);vn=!0){var Nn=Pn.value;Nn<128&&Ge.push(C(Nn))}}catch(Or){gn=!0,ur=Or}finally{try{!vn&&er.return&&er.return()}finally{if(gn)throw ur}}var et=Ge.length,Oe=et;for(et&&Ge.push("-");Oe<jt;){var Qe=V,zt=!0,hn=!1,Un=void 0;try{for(var ir,Kn=Ke[Symbol.iterator]();!(zt=(ir=Kn.next()).done);zt=!0){var mr=ir.value;mr>=kt&&mr<Qe&&(Qe=mr)}}catch(Or){hn=!0,Un=Or}finally{try{!zt&&Kn.return&&Kn.return()}finally{if(hn)throw Un}}var Pr=Oe+1;Qe-kt>De((V-ln)/Pr)&&s("overflow"),ln+=(Qe-kt)*Pr,kt=Qe;var Sr=!0,Nr=!1,dr=void 0;try{for(var yn,nn=Ke[Symbol.iterator]();!(Sr=(yn=nn.next()).done);Sr=!0){var En=yn.value;if(En<kt&&++ln>V&&s("overflow"),En==kt){for(var Fn=ln,Wn=U;;Wn+=U){var cr=Wn<=On?1:Wn>=On+26?26:Wn-On;if(Fn<cr)break;var hr=Fn-cr,jr=U-cr;Ge.push(C(L(cr+hr%jr,0))),Fn=De(hr/jr)}Ge.push(C(L(Fn,0))),On=x(ln,Pr,Oe==et),ln=0,++Oe}}}catch(Or){Nr=!0,dr=Or}finally{try{!Sr&&nn.return&&nn.return()}finally{if(Nr)throw dr}}++ln,++kt}return Ge.join("")},ee={version:"2.1.0",ucs2:{decode:f,encode:function(Ke){return String.fromCodePoint.apply(String,function(ht){if(Array.isArray(ht)){for(var Ke=0,Ge=Array(ht.length);Ke<ht.length;Ke++)Ge[Ke]=ht[Ke];return Ge}return Array.from(ht)}(Ke))}},decode:a,encode:v,toASCII:function(Ke){return h(Ke,function(Ge){return ue.test(Ge)?"xn--"+v(Ge):Ge})},toUnicode:function(Ke){return h(Ke,function(Ge){return ae.test(Ge)?a(Ge.slice(4).toLowerCase()):Ge})}},le={};function we(ht){var Ke=ht.charCodeAt(0);return Ke<16?"%0"+Ke.toString(16).toUpperCase():Ke<128?"%"+Ke.toString(16).toUpperCase():Ke<2048?"%"+(Ke>>6|192).toString(16).toUpperCase()+"%"+(63&Ke|128).toString(16).toUpperCase():"%"+(Ke>>12|224).toString(16).toUpperCase()+"%"+(Ke>>6&63|128).toString(16).toUpperCase()+"%"+(63&Ke|128).toString(16).toUpperCase()}function Me(ht){for(var Ke="",Ge=0,jt=ht.length;Ge<jt;){var kt=parseInt(ht.substr(Ge+1,2),16);if(kt<128)Ke+=String.fromCharCode(kt),Ge+=3;else if(kt>=194&&kt<224){if(jt-Ge>=6){var ln=parseInt(ht.substr(Ge+4,2),16);Ke+=String.fromCharCode((31&kt)<<6|63&ln)}else Ke+=ht.substr(Ge,6);Ge+=6}else if(kt>=224){if(jt-Ge>=9){var On=parseInt(ht.substr(Ge+4,2),16),vn=parseInt(ht.substr(Ge+7,2),16);Ke+=String.fromCharCode((15&kt)<<12|(63&On)<<6|63&vn)}else Ke+=ht.substr(Ge,9);Ge+=9}else Ke+=ht.substr(Ge,3),Ge+=3}return Ke}function Ze(ht,Ke){function Ge(jt){var kt=Me(jt);return kt.match(Ke.UNRESERVED)?kt:jt}return ht.scheme&&(ht.scheme=String(ht.scheme).replace(Ke.PCT_ENCODED,Ge).toLowerCase().replace(Ke.NOT_SCHEME,"")),void 0!==ht.userinfo&&(ht.userinfo=String(ht.userinfo).replace(Ke.PCT_ENCODED,Ge).replace(Ke.NOT_USERINFO,we).replace(Ke.PCT_ENCODED,H)),void 0!==ht.host&&(ht.host=String(ht.host).replace(Ke.PCT_ENCODED,Ge).toLowerCase().replace(Ke.NOT_HOST,we).replace(Ke.PCT_ENCODED,H)),void 0!==ht.path&&(ht.path=String(ht.path).replace(Ke.PCT_ENCODED,Ge).replace(ht.scheme?Ke.NOT_PATH:Ke.NOT_PATH_NOSCHEME,we).replace(Ke.PCT_ENCODED,H)),void 0!==ht.query&&(ht.query=String(ht.query).replace(Ke.PCT_ENCODED,Ge).replace(Ke.NOT_QUERY,we).replace(Ke.PCT_ENCODED,H)),void 0!==ht.fragment&&(ht.fragment=String(ht.fragment).replace(Ke.PCT_ENCODED,Ge).replace(Ke.NOT_FRAGMENT,we).replace(Ke.PCT_ENCODED,H)),ht}function ge(ht){return ht.replace(/^0*(.*)/,"$1")||"0"}function me(ht,Ke){var Ge=ht.match(Ke.IPV4ADDRESS)||[],kt=O(Ge,2)[1];return kt?kt.split(".").map(ge).join("."):ht}function Ue(ht,Ke){var Ge=ht.match(Ke.IPV6ADDRESS)||[],jt=O(Ge,3),kt=jt[1],ln=jt[2];if(kt){for(var On=kt.toLowerCase().split("::").reverse(),vn=O(On,2),gn=vn[0],ur=vn[1],er=ur?ur.split(":").map(ge):[],Pn=gn.split(":").map(ge),Nn=Ke.IPV4ADDRESS.test(Pn[Pn.length-1]),et=Nn?7:8,Oe=Pn.length-et,Qe=Array(et),zt=0;zt<et;++zt)Qe[zt]=er[zt]||Pn[Oe+zt]||"";Nn&&(Qe[et-1]=me(Qe[et-1],Ke));var Un=Qe.reduce(function(Pr,Sr,Nr){if(!Sr||"0"===Sr){var dr=Pr[Pr.length-1];dr&&dr.index+dr.length===Nr?dr.length++:Pr.push({index:Nr,length:1})}return Pr},[]).sort(function(Pr,Sr){return Sr.length-Pr.length})[0],Kn=void 0;if(Un&&Un.length>1){var ir=Qe.slice(0,Un.index),mr=Qe.slice(Un.index+Un.length);Kn=ir.join(":")+"::"+mr.join(":")}else Kn=Qe.join(":");return ln&&(Kn+="%"+ln),Kn}return ht}var xe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ce=void 0==="".match(/(){0}/)[1];function be(ht){var Ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ge={},jt=!1!==Ke.iri?R:P;"suffix"===Ke.reference&&(ht=(Ke.scheme?Ke.scheme+":":"")+"//"+ht);var kt=ht.match(xe);if(kt){Ce?(Ge.scheme=kt[1],Ge.userinfo=kt[3],Ge.host=kt[4],Ge.port=parseInt(kt[5],10),Ge.path=kt[6]||"",Ge.query=kt[7],Ge.fragment=kt[8],isNaN(Ge.port)&&(Ge.port=kt[5])):(Ge.scheme=kt[1]||void 0,Ge.userinfo=-1!==ht.indexOf("@")?kt[3]:void 0,Ge.host=-1!==ht.indexOf("//")?kt[4]:void 0,Ge.port=parseInt(kt[5],10),Ge.path=kt[6]||"",Ge.query=-1!==ht.indexOf("?")?kt[7]:void 0,Ge.fragment=-1!==ht.indexOf("#")?kt[8]:void 0,isNaN(Ge.port)&&(Ge.port=ht.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?kt[4]:void 0)),Ge.host&&(Ge.host=Ue(me(Ge.host,jt),jt)),Ge.reference=void 0!==Ge.scheme||void 0!==Ge.userinfo||void 0!==Ge.host||void 0!==Ge.port||Ge.path||void 0!==Ge.query?void 0===Ge.scheme?"relative":void 0===Ge.fragment?"absolute":"uri":"same-document",Ke.reference&&"suffix"!==Ke.reference&&Ke.reference!==Ge.reference&&(Ge.error=Ge.error||"URI is not a "+Ke.reference+" reference.");var ln=le[(Ke.scheme||Ge.scheme||"").toLowerCase()];if(Ke.unicodeSupport||ln&&ln.unicodeSupport)Ze(Ge,jt);else{if(Ge.host&&(Ke.domainHost||ln&&ln.domainHost))try{Ge.host=ee.toASCII(Ge.host.replace(jt.PCT_ENCODED,Me).toLowerCase())}catch(On){Ge.error=Ge.error||"Host's domain name can not be converted to ASCII via punycode: "+On}Ze(Ge,P)}ln&&ln.parse&&ln.parse(Ge,Ke)}else Ge.error=Ge.error||"URI can not be parsed.";return Ge}var ne=/^\.\.?\//,te=/^\/\.(\/|$)/,de=/^\/\.\.(\/|$)/,_e=/^\/?(?:.|\n)*?(?=\/|$)/;function Ie(ht){for(var Ke=[];ht.length;)if(ht.match(ne))ht=ht.replace(ne,"");else if(ht.match(te))ht=ht.replace(te,"/");else if(ht.match(de))ht=ht.replace(de,"/"),Ke.pop();else if("."===ht||".."===ht)ht="";else{var Ge=ht.match(_e);if(!Ge)throw new Error("Unexpected dot segment condition");var jt=Ge[0];ht=ht.slice(jt.length),Ke.push(jt)}return Ke.join("")}function He(ht){var Ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ge=Ke.iri?R:P,jt=[],kt=le[(Ke.scheme||ht.scheme||"").toLowerCase()];if(kt&&kt.serialize&&kt.serialize(ht,Ke),ht.host&&!Ge.IPV6ADDRESS.test(ht.host)&&(Ke.domainHost||kt&&kt.domainHost))try{ht.host=Ke.iri?ee.toUnicode(ht.host):ee.toASCII(ht.host.replace(Ge.PCT_ENCODED,Me).toLowerCase())}catch(vn){ht.error=ht.error||"Host's domain name can not be converted to "+(Ke.iri?"Unicode":"ASCII")+" via punycode: "+vn}Ze(ht,Ge),"suffix"!==Ke.reference&&ht.scheme&&(jt.push(ht.scheme),jt.push(":"));var ln=function he(ht,Ke){var Ge=!1!==Ke.iri?R:P,jt=[];return void 0!==ht.userinfo&&(jt.push(ht.userinfo),jt.push("@")),void 0!==ht.host&&jt.push(Ue(me(String(ht.host),Ge),Ge).replace(Ge.IPV6ADDRESS,function(kt,ln,On){return"["+ln+(On?"%25"+On:"")+"]"})),("number"==typeof ht.port||"string"==typeof ht.port)&&(jt.push(":"),jt.push(String(ht.port))),jt.length?jt.join(""):void 0}(ht,Ke);if(void 0!==ln&&("suffix"!==Ke.reference&&jt.push("//"),jt.push(ln),ht.path&&"/"!==ht.path.charAt(0)&&jt.push("/")),void 0!==ht.path){var On=ht.path;!Ke.absolutePath&&(!kt||!kt.absolutePath)&&(On=Ie(On)),void 0===ln&&(On=On.replace(/^\/\//,"/%2F")),jt.push(On)}return void 0!==ht.query&&(jt.push("?"),jt.push(ht.query)),void 0!==ht.fragment&&(jt.push("#"),jt.push(ht.fragment)),jt.join("")}function Ve(ht,Ke){var Ge=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},kt={};return arguments[3]||(ht=be(He(ht,Ge),Ge),Ke=be(He(Ke,Ge),Ge)),!(Ge=Ge||{}).tolerant&&Ke.scheme?(kt.scheme=Ke.scheme,kt.userinfo=Ke.userinfo,kt.host=Ke.host,kt.port=Ke.port,kt.path=Ie(Ke.path||""),kt.query=Ke.query):(void 0!==Ke.userinfo||void 0!==Ke.host||void 0!==Ke.port?(kt.userinfo=Ke.userinfo,kt.host=Ke.host,kt.port=Ke.port,kt.path=Ie(Ke.path||""),kt.query=Ke.query):(Ke.path?("/"===Ke.path.charAt(0)?kt.path=Ie(Ke.path):(kt.path=void 0===ht.userinfo&&void 0===ht.host&&void 0===ht.port||ht.path?ht.path?ht.path.slice(0,ht.path.lastIndexOf("/")+1)+Ke.path:Ke.path:"/"+Ke.path,kt.path=Ie(kt.path)),kt.query=Ke.query):(kt.path=ht.path,kt.query=void 0!==Ke.query?Ke.query:ht.query),kt.userinfo=ht.userinfo,kt.host=ht.host,kt.port=ht.port),kt.scheme=ht.scheme),kt.fragment=Ke.fragment,kt}function F(ht,Ke){return ht&&ht.toString().replace(Ke&&Ke.iri?R.PCT_ENCODED:P.PCT_ENCODED,Me)}var D={scheme:"http",domainHost:!0,parse:function(Ke,Ge){return Ke.host||(Ke.error=Ke.error||"HTTP URIs must have a host."),Ke},serialize:function(Ke,Ge){var jt="https"===String(Ke.scheme).toLowerCase();return(Ke.port===(jt?443:80)||""===Ke.port)&&(Ke.port=void 0),Ke.path||(Ke.path="/"),Ke}},M={scheme:"https",domainHost:D.domainHost,parse:D.parse,serialize:D.serialize};function G(ht){return"boolean"==typeof ht.secure?ht.secure:"wss"===String(ht.scheme).toLowerCase()}var fe={scheme:"ws",domainHost:!0,parse:function(Ke,Ge){var jt=Ke;return jt.secure=G(jt),jt.resourceName=(jt.path||"/")+(jt.query?"?"+jt.query:""),jt.path=void 0,jt.query=void 0,jt},serialize:function(Ke,Ge){if((Ke.port===(G(Ke)?443:80)||""===Ke.port)&&(Ke.port=void 0),"boolean"==typeof Ke.secure&&(Ke.scheme=Ke.secure?"wss":"ws",Ke.secure=void 0),Ke.resourceName){var jt=Ke.resourceName.split("?"),kt=O(jt,2),ln=kt[0],On=kt[1];Ke.path=ln&&"/"!==ln?ln:void 0,Ke.query=On,Ke.resourceName=void 0}return Ke.fragment=void 0,Ke}},Se={scheme:"wss",domainHost:fe.domainHost,parse:fe.parse,serialize:fe.serialize},Ae={},Gt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",_t="[0-9A-Fa-f]",Bt=w(w("%[EFef]"+_t+"%"+_t+_t+"%"+_t+_t)+"|"+w("%[89A-Fa-f]"+_t+"%"+_t+_t)+"|"+w("%"+_t+_t)),cn=g("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Mn=new RegExp(Gt,"g"),on=new RegExp(Bt,"g"),Qt=new RegExp(g("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',cn),"g"),ut=new RegExp(g("[^]",Gt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),st=ut;function Zt(ht){var Ke=Me(ht);return Ke.match(Mn)?Ke:ht}var Xt={scheme:"mailto",parse:function(Ke,Ge){var jt=Ke,kt=jt.to=jt.path?jt.path.split(","):[];if(jt.path=void 0,jt.query){for(var ln=!1,On={},vn=jt.query.split("&"),gn=0,ur=vn.length;gn<ur;++gn){var er=vn[gn].split("=");switch(er[0]){case"to":for(var Pn=er[1].split(","),Nn=0,et=Pn.length;Nn<et;++Nn)kt.push(Pn[Nn]);break;case"subject":jt.subject=F(er[1],Ge);break;case"body":jt.body=F(er[1],Ge);break;default:ln=!0,On[F(er[0],Ge)]=F(er[1],Ge)}}ln&&(jt.headers=On)}jt.query=void 0;for(var Oe=0,Qe=kt.length;Oe<Qe;++Oe){var zt=kt[Oe].split("@");if(zt[0]=F(zt[0]),Ge.unicodeSupport)zt[1]=F(zt[1],Ge).toLowerCase();else try{zt[1]=ee.toASCII(F(zt[1],Ge).toLowerCase())}catch(hn){jt.error=jt.error||"Email address's domain name can not be converted to ASCII via punycode: "+hn}kt[Oe]=zt.join("@")}return jt},serialize:function(Ke,Ge){var jt=Ke,kt=function b(ht){return null!=ht?ht instanceof Array?ht:"number"!=typeof ht.length||ht.split||ht.setInterval||ht.call?[ht]:Array.prototype.slice.call(ht):[]}(Ke.to);if(kt){for(var ln=0,On=kt.length;ln<On;++ln){var vn=String(kt[ln]),gn=vn.lastIndexOf("@"),ur=vn.slice(0,gn).replace(on,Zt).replace(on,H).replace(Qt,we),er=vn.slice(gn+1);try{er=Ge.iri?ee.toUnicode(er):ee.toASCII(F(er,Ge).toLowerCase())}catch(Oe){jt.error=jt.error||"Email address's domain name can not be converted to "+(Ge.iri?"Unicode":"ASCII")+" via punycode: "+Oe}kt[ln]=ur+"@"+er}jt.path=kt.join(",")}var Pn=Ke.headers=Ke.headers||{};Ke.subject&&(Pn.subject=Ke.subject),Ke.body&&(Pn.body=Ke.body);var Nn=[];for(var et in Pn)Pn[et]!==Ae[et]&&Nn.push(et.replace(on,Zt).replace(on,H).replace(ut,we)+"="+Pn[et].replace(on,Zt).replace(on,H).replace(st,we));return Nn.length&&(jt.query=Nn.join("&")),jt}},rn=/^([^\:]+)\:(.*)/,Zn={scheme:"urn",parse:function(Ke,Ge){var jt=Ke.path&&Ke.path.match(rn),kt=Ke;if(jt){var ln=Ge.scheme||kt.scheme||"urn",On=jt[1].toLowerCase(),vn=jt[2],ur=le[ln+":"+(Ge.nid||On)];kt.nid=On,kt.nss=vn,kt.path=void 0,ur&&(kt=ur.parse(kt,Ge))}else kt.error=kt.error||"URN can not be parsed.";return kt},serialize:function(Ke,Ge){var kt=Ke.nid,On=le[(Ge.scheme||Ke.scheme||"urn")+":"+(Ge.nid||kt)];On&&(Ke=On.serialize(Ke,Ge));var vn=Ke;return vn.path=(kt||Ge.nid)+":"+Ke.nss,vn}},at=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,pt={scheme:"urn:uuid",parse:function(Ke,Ge){var jt=Ke;return jt.uuid=jt.nss,jt.nss=void 0,!Ge.tolerant&&(!jt.uuid||!jt.uuid.match(at))&&(jt.error=jt.error||"UUID is not valid."),jt},serialize:function(Ke,Ge){var jt=Ke;return jt.nss=(Ke.uuid||"").toLowerCase(),jt}};le[D.scheme]=D,le[M.scheme]=M,le[fe.scheme]=fe,le[Se.scheme]=Se,le[Xt.scheme]=Xt,le[Zn.scheme]=Zn,le[pt.scheme]=pt,E.SCHEMES=le,E.pctEncChar=we,E.pctDecChars=Me,E.parse=be,E.removeDotSegments=Ie,E.serialize=He,E.resolveComponents=Ve,E.resolve=function Dt(ht,Ke,Ge){var jt=function k(ht,Ke){var Ge=ht;if(Ke)for(var jt in Ke)Ge[jt]=Ke[jt];return Ge}({scheme:"null"},Ge);return He(Ve(be(ht,jt),be(Ke,jt),jt,!0),jt)},E.normalize=function Ne(ht,Ke){return"string"==typeof ht?ht=He(be(ht,Ke),Ke):"object"===B(ht)&&(ht=be(He(ht,Ke),Ke)),ht},E.equal=function ke(ht,Ke,Ge){return"string"==typeof ht?ht=He(be(ht,Ge),Ge):"object"===B(ht)&&(ht=He(ht,Ge)),"string"==typeof Ke?Ke=He(be(Ke,Ge),Ge):"object"===B(Ke)&&(Ke=He(Ke,Ge)),ht===Ke},E.escapeComponent=function yt(ht,Ke){return ht&&ht.toString().replace(Ke&&Ke.iri?R.ESCAPE:P.ESCAPE,we)},E.unescapeComponent=F,Object.defineProperty(E,"__esModule",{value:!0})}(j)},3398:$e=>{function E(g){try{if(!globalThis.localStorage)return!1}catch{return!1}var w=globalThis.localStorage[g];return null!=w&&"true"===String(w).toLowerCase()}$e.exports=function j(g,w){if(E("noDeprecation"))return g;var B=!1;return function H(){if(!B){if(E("throwDeprecation"))throw new Error(w);E("traceDeprecation")?console.trace(w):console.warn(w),B=!0}return g.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},67490:($e,j,E)=>{var g=E(25172);function w(B){var H,b;function k(P,R){try{var O=B[P](R),A=O.value,V=A instanceof g;Promise.resolve(V?A.v:A).then(function(U){if(V){var K="return"===P?"return":"next";if(!A.k||U.done)return k(K,U);U=B[K](U).value}S(O.done?"return":"normal",U)},function(U){k("throw",U)})}catch(U){S("throw",U)}}function S(P,R){switch(P){case"return":H.resolve({value:R,done:!0});break;case"throw":H.reject(R);break;default:H.resolve({value:R,done:!1})}(H=H.next)?k(H.key,H.arg):b=null}this._invoke=function(P,R){return new Promise(function(O,A){var V={key:P,arg:R,resolve:O,reject:A,next:null};b?b=b.next=V:(H=b=V,k(P,R))})},"function"!=typeof B.return&&(this.return=void 0)}w.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},w.prototype.next=function(B){return this._invoke("next",B)},w.prototype.throw=function(B){return this._invoke("throw",B)},w.prototype.return=function(B){return this._invoke("return",B)},$e.exports=w,$e.exports.__esModule=!0,$e.exports.default=$e.exports},25172:$e=>{$e.exports=function j(E,g){this.v=E,this.k=g},$e.exports.__esModule=!0,$e.exports.default=$e.exports},93513:($e,j,E)=>{var g=E(25172);$e.exports=function w(B){var H={},b=!1;function k(S,P){return b=!0,P=new Promise(function(R){R(B[S](P))}),{done:!1,value:new g(P,1)}}return H[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},H.next=function(S){return b?(b=!1,S):k("next",S)},"function"==typeof B.throw&&(H.throw=function(S){if(b)throw b=!1,S;return k("throw",S)}),"function"==typeof B.return&&(H.return=function(S){return b?(b=!1,S):k("return",S)}),H},$e.exports.__esModule=!0,$e.exports.default=$e.exports},82881:$e=>{function E(g){function w(B){if(Object(B)!==B)return Promise.reject(new TypeError(B+" is not an object."));var H=B.done;return Promise.resolve(B.value).then(function(b){return{value:b,done:H}})}return(E=function(H){this.s=H,this.n=H.next}).prototype={s:null,n:null,next:function(){return w(this.n.apply(this.s,arguments))},return:function(H){var b=this.s.return;return void 0===b?Promise.resolve({value:H,done:!0}):w(b.apply(this.s,arguments))},throw:function(H){var b=this.s.return;return void 0===b?Promise.reject(H):w(b.apply(this.s,arguments))}},new E(g)}$e.exports=function j(g){var w,B,H,b=2;for(typeof Symbol<"u"&&(B=Symbol.asyncIterator,H=Symbol.iterator);b--;){if(B&&null!=(w=g[B]))return w.call(g);if(H&&null!=(w=g[H]))return new E(w.call(g));B="@@asyncIterator",H="@@iterator"}throw new TypeError("Object is not async iterable")},$e.exports.__esModule=!0,$e.exports.default=$e.exports},29293:$e=>{function j(g,w,B,H,b,k,S){try{var P=g[k](S),R=P.value}catch(O){return void B(O)}P.done?w(R):Promise.resolve(R).then(H,b)}$e.exports=function E(g){return function(){var w=this,B=arguments;return new Promise(function(H,b){var k=g.apply(w,B);function S(R){j(k,H,b,S,P,"next",R)}function P(R){j(k,H,b,S,P,"throw",R)}S(void 0)})}},$e.exports.__esModule=!0,$e.exports.default=$e.exports},53344:($e,j,E)=>{var g=E(25172);$e.exports=function w(B){return new g(B,0)},$e.exports.__esModule=!0,$e.exports.default=$e.exports},42958:($e,j,E)=>{var g=E(67490);$e.exports=function w(B){return function(){return new g(B.apply(this,arguments))}},$e.exports.__esModule=!0,$e.exports.default=$e.exports},49969:($e,j,E)=>{"use strict";E.d(j,{FX:()=>De,If:()=>g,K2:()=>k,MA:()=>V,P:()=>K,hZ:()=>B,i0:()=>H,i7:()=>R,iF:()=>S,kY:()=>O,kp:()=>w,sf:()=>pe,ui:()=>ve,wk:()=>P});var g=function(C){return C[C.State=0]="State",C[C.Transition=1]="Transition",C[C.Sequence=2]="Sequence",C[C.Group=3]="Group",C[C.Animate=4]="Animate",C[C.Keyframes=5]="Keyframes",C[C.Style=6]="Style",C[C.Trigger=7]="Trigger",C[C.Reference=8]="Reference",C[C.AnimateChild=9]="AnimateChild",C[C.AnimateRef=10]="AnimateRef",C[C.Query=11]="Query",C[C.Stagger=12]="Stagger",C}(g||{});const w="*";function B(C,s){return{type:g.Trigger,name:C,definitions:s,options:{}}}function H(C,s=null){return{type:g.Animate,styles:s,timings:C}}function k(C,s=null){return{type:g.Sequence,steps:C,options:s}}function S(C){return{type:g.Style,styles:C,offset:null}}function P(C,s,d){return{type:g.State,name:C,styles:s,options:d}}function R(C){return{type:g.Keyframes,steps:C}}function O(C,s,d=null){return{type:g.Transition,expr:C,animation:s,options:d}}function V(C=null){return{type:g.AnimateChild,options:C}}function K(C,s,d=null){return{type:g.Query,selector:C,animation:s,options:d}}class pe{constructor(s=0,d=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=s+d}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(s){this._position=this.totalTime?s*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(s){const d="start"==s?this._onStartFns:this._onDoneFns;d.forEach(h=>h()),d.length=0}}class ve{constructor(s){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=s;let d=0,h=0,f=0;const _=this.players.length;0==_?queueMicrotask(()=>this._onFinish()):this.players.forEach(I=>{I.onDone(()=>{++d==_&&this._onFinish()}),I.onDestroy(()=>{++h==_&&this._onDestroy()}),I.onStart(()=>{++f==_&&this._onStart()})}),this.totalTime=this.players.reduce((I,L)=>Math.max(I,L.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this.players.forEach(s=>s.init())}onStart(s){this._onStartFns.push(s)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(s=>s()),this._onStartFns=[])}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(s=>s.play())}pause(){this.players.forEach(s=>s.pause())}restart(){this.players.forEach(s=>s.restart())}finish(){this._onFinish(),this.players.forEach(s=>s.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(s=>s.destroy()),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this.players.forEach(s=>s.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(s){const d=s*this.totalTime;this.players.forEach(h=>{const f=h.totalTime?Math.min(1,d/h.totalTime):1;h.setPosition(f)})}getPosition(){const s=this.players.reduce((d,h)=>null===d||h.totalTime>d.totalTime?h:d,null);return null!=s?s.getPosition():0}beforeDestroy(){this.players.forEach(s=>{s.beforeDestroy&&s.beforeDestroy()})}triggerCallback(s){const d="start"==s?this._onStartFns:this._onDoneFns;d.forEach(h=>h()),d.length=0}}const De="!"},18617:($e,j,E)=>{"use strict";E.d(j,{Ae:()=>ue,Ai:()=>fe,Au:()=>_,Bu:()=>I,FN:()=>_t,GX:()=>Ce,Pd:()=>on,Q_:()=>Mn,Z7:()=>x,_G:()=>Ie,px:()=>ae,vR:()=>Bt,vr:()=>s,w6:()=>He});var g=E(60177),w=E(93953),B=E(36860),H=E(21413),b=E(18359),k=E(84412),S=E(7673),P=E(67336),R=E(88141),O=E(70152),A=E(5964),V=E(96354),U=E(96697),K=E(65245),Q=E(23294),q=E(56977),Y=E(72318),W=E(14085),re=E(99327);const ie=" ";function ae(Qt,ut,st){const Zt=ce(Qt,ut);st=st.trim(),!Zt.some(Xt=>Xt.trim()===st)&&(Zt.push(st),Qt.setAttribute(ut,Zt.join(ie)))}function ue(Qt,ut,st){const Zt=ce(Qt,ut);st=st.trim();const Xt=Zt.filter(rn=>rn!==st);Xt.length?Qt.setAttribute(ut,Xt.join(ie)):Qt.removeAttribute(ut)}function ce(Qt,ut){return Qt.getAttribute(ut)?.match(/\S+/g)??[]}const ve="cdk-describedby-message",De="cdk-describedby-host";let C=0,s=(()=>{class Qt{constructor(st,Zt){this._platform=Zt,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+C++,this._document=st,this._id=(0,w.WQX)(w.sZ2)+"-"+C++}describe(st,Zt,Xt){if(!this._canBeDescribed(st,Zt))return;const rn=d(Zt,Xt);"string"!=typeof Zt?(h(Zt,this._id),this._messageRegistry.set(rn,{messageElement:Zt,referenceCount:0})):this._messageRegistry.has(rn)||this._createMessageElement(Zt,Xt),this._isElementDescribedByMessage(st,rn)||this._addMessageReference(st,rn)}removeDescription(st,Zt,Xt){if(!Zt||!this._isElementNode(st))return;const rn=d(Zt,Xt);if(this._isElementDescribedByMessage(st,rn)&&this._removeMessageReference(st,rn),"string"==typeof Zt){const Zn=this._messageRegistry.get(rn);Zn&&0===Zn.referenceCount&&this._deleteMessageElement(rn)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const st=this._document.querySelectorAll(`[${De}="${this._id}"]`);for(let Zt=0;Zt<st.length;Zt++)this._removeCdkDescribedByReferenceIds(st[Zt]),st[Zt].removeAttribute(De);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(st,Zt){const Xt=this._document.createElement("div");h(Xt,this._id),Xt.textContent=st,Zt&&Xt.setAttribute("role",Zt),this._createMessagesContainer(),this._messagesContainer.appendChild(Xt),this._messageRegistry.set(d(st,Zt),{messageElement:Xt,referenceCount:0})}_deleteMessageElement(st){this._messageRegistry.get(st)?.messageElement?.remove(),this._messageRegistry.delete(st)}_createMessagesContainer(){if(this._messagesContainer)return;const st="cdk-describedby-message-container",Zt=this._document.querySelectorAll(`.${st}[platform="server"]`);for(let rn=0;rn<Zt.length;rn++)Zt[rn].remove();const Xt=this._document.createElement("div");Xt.style.visibility="hidden",Xt.classList.add(st),Xt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Xt.setAttribute("platform","server"),this._document.body.appendChild(Xt),this._messagesContainer=Xt}_removeCdkDescribedByReferenceIds(st){const Zt=ce(st,"aria-describedby").filter(Xt=>0!=Xt.indexOf(ve));st.setAttribute("aria-describedby",Zt.join(" "))}_addMessageReference(st,Zt){const Xt=this._messageRegistry.get(Zt);ae(st,"aria-describedby",Xt.messageElement.id),st.setAttribute(De,this._id),Xt.referenceCount++}_removeMessageReference(st,Zt){const Xt=this._messageRegistry.get(Zt);Xt.referenceCount--,ue(st,"aria-describedby",Xt.messageElement.id),st.removeAttribute(De)}_isElementDescribedByMessage(st,Zt){const Xt=ce(st,"aria-describedby"),rn=this._messageRegistry.get(Zt),Zn=rn&&rn.messageElement.id;return!!Zn&&-1!=Xt.indexOf(Zn)}_canBeDescribed(st,Zt){if(!this._isElementNode(st))return!1;if(Zt&&"object"==typeof Zt)return!0;const Xt=null==Zt?"":`${Zt}`.trim(),rn=st.getAttribute("aria-label");return!(!Xt||rn&&rn.trim()===Xt)}_isElementNode(st){return st.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Zt){return new(Zt||Qt)(w.KVO(g.qQ),w.KVO(B.OD))};static#t=this.\u0275prov=w.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();function d(Qt,ut){return"string"==typeof Qt?`${ut||""}/${Qt}`:Qt}function h(Qt,ut){Qt.id||(Qt.id=`${ve}-${ut}-${C++}`)}class f{constructor(ut,st){this._items=ut,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new H.B,this._typeaheadSubscription=b.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Zt=>Zt.disabled,this._pressedLetters=[],this.tabOut=new H.B,this.change=new H.B,ut instanceof w.rOR?this._itemChangesSubscription=ut.changes.subscribe(Zt=>this._itemsChanged(Zt.toArray())):(0,w.Hps)(ut)&&(this._effectRef=(0,w.QZP)(()=>this._itemsChanged(ut()),{injector:st}))}skipPredicate(ut){return this._skipPredicateFn=ut,this}withWrap(ut=!0){return this._wrap=ut,this}withVerticalOrientation(ut=!0){return this._vertical=ut,this}withHorizontalOrientation(ut){return this._horizontal=ut,this}withAllowedModifierKeys(ut){return this._allowedModifierKeys=ut,this}withTypeAhead(ut=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,R.M)(st=>this._pressedLetters.push(st)),(0,O.B)(ut),(0,A.p)(()=>this._pressedLetters.length>0),(0,V.T)(()=>this._pressedLetters.join(""))).subscribe(st=>{const Zt=this._getItemsArray();for(let Xt=1;Xt<Zt.length+1;Xt++){const rn=(this._activeItemIndex+Xt)%Zt.length,Zn=Zt[rn];if(!this._skipPredicateFn(Zn)&&0===Zn.getLabel().toUpperCase().trim().indexOf(st)){this.setActiveItem(rn);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ut=!0){return this._homeAndEnd=ut,this}withPageUpDown(ut=!0,st=10){return this._pageUpAndDown={enabled:ut,delta:st},this}setActiveItem(ut){const st=this._activeItem;this.updateActiveItem(ut),this._activeItem!==st&&this.change.next(this._activeItemIndex)}onKeydown(ut){const st=ut.keyCode,Xt=["altKey","ctrlKey","metaKey","shiftKey"].every(rn=>!ut[rn]||this._allowedModifierKeys.indexOf(rn)>-1);switch(st){case P.wn:return void this.tabOut.next();case P.n6:if(this._vertical&&Xt){this.setNextItemActive();break}return;case P.i7:if(this._vertical&&Xt){this.setPreviousItemActive();break}return;case P.LE:if(this._horizontal&&Xt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case P.UQ:if(this._horizontal&&Xt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case P.yZ:if(this._homeAndEnd&&Xt){this.setFirstItemActive();break}return;case P.Kp:if(this._homeAndEnd&&Xt){this.setLastItemActive();break}return;case P.w_:if(this._pageUpAndDown.enabled&&Xt){const rn=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(rn>0?rn:0,1);break}return;case P.dB:if(this._pageUpAndDown.enabled&&Xt){const rn=this._activeItemIndex+this._pageUpAndDown.delta,Zn=this._getItemsArray().length;this._setActiveItemByIndex(rn<Zn?rn:Zn-1,-1);break}return;default:return void((Xt||(0,P.rp)(ut,"shiftKey"))&&(ut.key&&1===ut.key.length?this._letterKeyStream.next(ut.key.toLocaleUpperCase()):(st>=P.A&&st<=P.Z||st>=P.f2&&st<=P.bn)&&this._letterKeyStream.next(String.fromCharCode(st))))}this._pressedLetters=[],ut.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ut){const st=this._getItemsArray(),Zt="number"==typeof ut?ut:st.indexOf(ut);this._activeItem=st[Zt]??null,this._activeItemIndex=Zt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ut){this._wrap?this._setActiveInWrapMode(ut):this._setActiveInDefaultMode(ut)}_setActiveInWrapMode(ut){const st=this._getItemsArray();for(let Zt=1;Zt<=st.length;Zt++){const Xt=(this._activeItemIndex+ut*Zt+st.length)%st.length;if(!this._skipPredicateFn(st[Xt]))return void this.setActiveItem(Xt)}}_setActiveInDefaultMode(ut){this._setActiveItemByIndex(this._activeItemIndex+ut,ut)}_setActiveItemByIndex(ut,st){const Zt=this._getItemsArray();if(Zt[ut]){for(;this._skipPredicateFn(Zt[ut]);)if(!Zt[ut+=st])return;this.setActiveItem(ut)}}_getItemsArray(){return(0,w.Hps)(this._items)?this._items():this._items instanceof w.rOR?this._items.toArray():this._items}_itemsChanged(ut){if(this._activeItem){const st=ut.indexOf(this._activeItem);st>-1&&st!==this._activeItemIndex&&(this._activeItemIndex=st)}}}class _ extends f{setActiveItem(ut){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ut),this.activeItem&&this.activeItem.setActiveStyles()}}class I extends f{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ut){return this._origin=ut,this}setActiveItem(ut){super.setActiveItem(ut),this.activeItem&&this.activeItem.focus(this._origin)}}let x=(()=>{class Qt{constructor(st){this._platform=st}isDisabled(st){return st.hasAttribute("disabled")}isVisible(st){return function v(Qt){return!!(Qt.offsetWidth||Qt.offsetHeight||"function"==typeof Qt.getClientRects&&Qt.getClientRects().length)}(st)&&"visible"===getComputedStyle(st).visibility}isTabbable(st){if(!this._platform.isBrowser)return!1;const Zt=function a(Qt){try{return Qt.frameElement}catch{return null}}(function Ue(Qt){return Qt.ownerDocument&&Qt.ownerDocument.defaultView||window}(st));if(Zt&&(-1===Ze(Zt)||!this.isVisible(Zt)))return!1;let Xt=st.nodeName.toLowerCase(),rn=Ze(st);return st.hasAttribute("contenteditable")?-1!==rn:!("iframe"===Xt||"object"===Xt||this._platform.WEBKIT&&this._platform.IOS&&!function ge(Qt){let ut=Qt.nodeName.toLowerCase(),st="input"===ut&&Qt.type;return"text"===st||"password"===st||"select"===ut||"textarea"===ut}(st))&&("audio"===Xt?!!st.hasAttribute("controls")&&-1!==rn:"video"===Xt?-1!==rn&&(null!==rn||this._platform.FIREFOX||st.hasAttribute("controls")):st.tabIndex>=0)}isFocusable(st,Zt){return function me(Qt){return!function z(Qt){return function le(Qt){return"input"==Qt.nodeName.toLowerCase()}(Qt)&&"hidden"==Qt.type}(Qt)&&(function Z(Qt){let ut=Qt.nodeName.toLowerCase();return"input"===ut||"select"===ut||"button"===ut||"textarea"===ut}(Qt)||function ee(Qt){return function we(Qt){return"a"==Qt.nodeName.toLowerCase()}(Qt)&&Qt.hasAttribute("href")}(Qt)||Qt.hasAttribute("contenteditable")||Me(Qt))}(st)&&!this.isDisabled(st)&&(Zt?.ignoreVisibility||this.isVisible(st))}static#e=this.\u0275fac=function(Zt){return new(Zt||Qt)(w.KVO(B.OD))};static#t=this.\u0275prov=w.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();function Me(Qt){if(!Qt.hasAttribute("tabindex")||void 0===Qt.tabIndex)return!1;let ut=Qt.getAttribute("tabindex");return!(!ut||isNaN(parseInt(ut,10)))}function Ze(Qt){if(!Me(Qt))return null;const ut=parseInt(Qt.getAttribute("tabindex")||"",10);return isNaN(ut)?-1:ut}class xe{get enabled(){return this._enabled}set enabled(ut){this._enabled=ut,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ut,this._startAnchor),this._toggleAnchorTabIndex(ut,this._endAnchor))}constructor(ut,st,Zt,Xt,rn=!1,Zn){this._element=ut,this._checker=st,this._ngZone=Zt,this._document=Xt,this._injector=Zn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,rn||this.attachAnchors()}destroy(){const ut=this._startAnchor,st=this._endAnchor;ut&&(ut.removeEventListener("focus",this.startAnchorListener),ut.remove()),st&&(st.removeEventListener("focus",this.endAnchorListener),st.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ut){return new Promise(st=>{this._executeOnStable(()=>st(this.focusInitialElement(ut)))})}focusFirstTabbableElementWhenReady(ut){return new Promise(st=>{this._executeOnStable(()=>st(this.focusFirstTabbableElement(ut)))})}focusLastTabbableElementWhenReady(ut){return new Promise(st=>{this._executeOnStable(()=>st(this.focusLastTabbableElement(ut)))})}_getRegionBoundary(ut){const st=this._element.querySelectorAll(`[cdk-focus-region-${ut}], [cdkFocusRegion${ut}], [cdk-focus-${ut}]`);return"start"==ut?st.length?st[0]:this._getFirstTabbableElement(this._element):st.length?st[st.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ut){const st=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(st){if(!this._checker.isFocusable(st)){const Zt=this._getFirstTabbableElement(st);return Zt?.focus(ut),!!Zt}return st.focus(ut),!0}return this.focusFirstTabbableElement(ut)}focusFirstTabbableElement(ut){const st=this._getRegionBoundary("start");return st&&st.focus(ut),!!st}focusLastTabbableElement(ut){const st=this._getRegionBoundary("end");return st&&st.focus(ut),!!st}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ut){if(this._checker.isFocusable(ut)&&this._checker.isTabbable(ut))return ut;const st=ut.children;for(let Zt=0;Zt<st.length;Zt++){const Xt=st[Zt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(st[Zt]):null;if(Xt)return Xt}return null}_getLastTabbableElement(ut){if(this._checker.isFocusable(ut)&&this._checker.isTabbable(ut))return ut;const st=ut.children;for(let Zt=st.length-1;Zt>=0;Zt--){const Xt=st[Zt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(st[Zt]):null;if(Xt)return Xt}return null}_createAnchor(){const ut=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ut),ut.classList.add("cdk-visually-hidden"),ut.classList.add("cdk-focus-trap-anchor"),ut.setAttribute("aria-hidden","true"),ut}_toggleAnchorTabIndex(ut,st){ut?st.setAttribute("tabindex","0"):st.removeAttribute("tabindex")}toggleAnchors(ut){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ut,this._startAnchor),this._toggleAnchorTabIndex(ut,this._endAnchor))}_executeOnStable(ut){this._ngZone.isStable?this._injector?(0,w.mal)(ut,{injector:this._injector}):ut():this._ngZone.onStable.pipe((0,U.s)(1)).subscribe(ut)}}let Ce=(()=>{class Qt{constructor(st,Zt,Xt){this._checker=st,this._ngZone=Zt,this._injector=(0,w.WQX)(w.zZn),this._document=Xt}create(st,Zt=!1){return new xe(st,this._checker,this._ngZone,this._document,Zt,this._injector)}static#e=this.\u0275fac=function(Zt){return new(Zt||Qt)(w.KVO(x),w.KVO(w.SKi),w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();function Ie(Qt){return 0===Qt.buttons||0===Qt.detail}function He(Qt){const ut=Qt.touches&&Qt.touches[0]||Qt.changedTouches&&Qt.changedTouches[0];return!(!ut||-1!==ut.identifier||null!=ut.radiusX&&1!==ut.radiusX||null!=ut.radiusY&&1!==ut.radiusY)}const Ve=new w.nKC("cdk-input-modality-detector-options"),Dt={ignoreKeys:[P.A$,P.W3,P.eg,P.Ge,P.FX]},ke=(0,B.BQ)({passive:!0,capture:!0});let yt=(()=>{class Qt{get mostRecentModality(){return this._modality.value}constructor(st,Zt,Xt,rn){this._platform=st,this._mostRecentTarget=null,this._modality=new k.t(null),this._lastTouchMs=0,this._onKeydown=Zn=>{this._options?.ignoreKeys?.some(at=>at===Zn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,B.Fb)(Zn))},this._onMousedown=Zn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ie(Zn)?"keyboard":"mouse"),this._mostRecentTarget=(0,B.Fb)(Zn))},this._onTouchstart=Zn=>{He(Zn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,B.Fb)(Zn))},this._options={...Dt,...rn},this.modalityDetected=this._modality.pipe((0,K.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Q.F)()),st.isBrowser&&Zt.runOutsideAngular(()=>{Xt.addEventListener("keydown",this._onKeydown,ke),Xt.addEventListener("mousedown",this._onMousedown,ke),Xt.addEventListener("touchstart",this._onTouchstart,ke)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ke),document.removeEventListener("mousedown",this._onMousedown,ke),document.removeEventListener("touchstart",this._onTouchstart,ke))}static#e=this.\u0275fac=function(Zt){return new(Zt||Qt)(w.KVO(B.OD),w.KVO(w.SKi),w.KVO(g.qQ),w.KVO(Ve,8))};static#t=this.\u0275prov=w.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();const F=new w.nKC("liveAnnouncerElement",{providedIn:"root",factory:function D(){return null}}),M=new w.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let G=0,fe=(()=>{class Qt{constructor(st,Zt,Xt,rn){this._ngZone=Zt,this._defaultOptions=rn,this._document=Xt,this._liveElement=st||this._createLiveElement()}announce(st,...Zt){const Xt=this._defaultOptions;let rn,Zn;return 1===Zt.length&&"number"==typeof Zt[0]?Zn=Zt[0]:[rn,Zn]=Zt,this.clear(),clearTimeout(this._previousTimeout),rn||(rn=Xt&&Xt.politeness?Xt.politeness:"polite"),null==Zn&&Xt&&(Zn=Xt.duration),this._liveElement.setAttribute("aria-live",rn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(at=>this._currentResolve=at)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=st,"number"==typeof Zn&&(this._previousTimeout=setTimeout(()=>this.clear(),Zn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const st="cdk-live-announcer-element",Zt=this._document.getElementsByClassName(st),Xt=this._document.createElement("div");for(let rn=0;rn<Zt.length;rn++)Zt[rn].remove();return Xt.classList.add(st),Xt.classList.add("cdk-visually-hidden"),Xt.setAttribute("aria-atomic","true"),Xt.setAttribute("aria-live","polite"),Xt.id="cdk-live-announcer-"+G++,this._document.body.appendChild(Xt),Xt}_exposeAnnouncerToModals(st){const Zt=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Xt=0;Xt<Zt.length;Xt++){const rn=Zt[Xt],Zn=rn.getAttribute("aria-owns");Zn?-1===Zn.indexOf(st)&&rn.setAttribute("aria-owns",Zn+" "+st):rn.setAttribute("aria-owns",st)}}static#e=this.\u0275fac=function(Zt){return new(Zt||Qt)(w.KVO(F,8),w.KVO(w.SKi),w.KVO(g.qQ),w.KVO(M,8))};static#t=this.\u0275prov=w.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})();var Ae=function(Qt){return Qt[Qt.IMMEDIATE=0]="IMMEDIATE",Qt[Qt.EVENTUAL=1]="EVENTUAL",Qt}(Ae||{});const ot=new w.nKC("cdk-focus-monitor-default-options"),Gt=(0,B.BQ)({passive:!0,capture:!0});let _t=(()=>{class Qt{constructor(st,Zt,Xt,rn,Zn){this._ngZone=st,this._platform=Zt,this._inputModalityDetector=Xt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new H.B,this._rootNodeFocusAndBlurListener=at=>{for(let ht=(0,B.Fb)(at);ht;ht=ht.parentElement)"focus"===at.type?this._onFocus(at,ht):this._onBlur(at,ht)},this._document=rn,this._detectionMode=Zn?.detectionMode||Ae.IMMEDIATE}monitor(st,Zt=!1){const Xt=(0,W.i8)(st);if(!this._platform.isBrowser||1!==Xt.nodeType)return(0,S.of)();const rn=(0,B.KT)(Xt)||this._getDocument(),Zn=this._elementInfo.get(Xt);if(Zn)return Zt&&(Zn.checkChildren=!0),Zn.subject;const at={checkChildren:Zt,subject:new H.B,rootNode:rn};return this._elementInfo.set(Xt,at),this._registerGlobalListeners(at),at.subject}stopMonitoring(st){const Zt=(0,W.i8)(st),Xt=this._elementInfo.get(Zt);Xt&&(Xt.subject.complete(),this._setClasses(Zt),this._elementInfo.delete(Zt),this._removeGlobalListeners(Xt))}focusVia(st,Zt,Xt){const rn=(0,W.i8)(st);rn===this._getDocument().activeElement?this._getClosestElementsInfo(rn).forEach(([at,pt])=>this._originChanged(at,Zt,pt)):(this._setOrigin(Zt),"function"==typeof rn.focus&&rn.focus(Xt))}ngOnDestroy(){this._elementInfo.forEach((st,Zt)=>this.stopMonitoring(Zt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(st){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(st)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:st&&this._isLastInteractionFromInputLabel(st)?"mouse":"program"}_shouldBeAttributedToTouch(st){return this._detectionMode===Ae.EVENTUAL||!!st?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(st,Zt){st.classList.toggle("cdk-focused",!!Zt),st.classList.toggle("cdk-touch-focused","touch"===Zt),st.classList.toggle("cdk-keyboard-focused","keyboard"===Zt),st.classList.toggle("cdk-mouse-focused","mouse"===Zt),st.classList.toggle("cdk-program-focused","program"===Zt)}_setOrigin(st,Zt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=st,this._originFromTouchInteraction="touch"===st&&Zt,this._detectionMode===Ae.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(st,Zt){const Xt=this._elementInfo.get(Zt),rn=(0,B.Fb)(st);!Xt||!Xt.checkChildren&&Zt!==rn||this._originChanged(Zt,this._getFocusOrigin(rn),Xt)}_onBlur(st,Zt){const Xt=this._elementInfo.get(Zt);!Xt||Xt.checkChildren&&st.relatedTarget instanceof Node&&Zt.contains(st.relatedTarget)||(this._setClasses(Zt),this._emitOrigin(Xt,null))}_emitOrigin(st,Zt){st.subject.observers.length&&this._ngZone.run(()=>st.subject.next(Zt))}_registerGlobalListeners(st){if(!this._platform.isBrowser)return;const Zt=st.rootNode,Xt=this._rootNodeFocusListenerCount.get(Zt)||0;Xt||this._ngZone.runOutsideAngular(()=>{Zt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gt),Zt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gt)}),this._rootNodeFocusListenerCount.set(Zt,Xt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,q.Q)(this._stopInputModalityDetector)).subscribe(rn=>{this._setOrigin(rn,!0)}))}_removeGlobalListeners(st){const Zt=st.rootNode;if(this._rootNodeFocusListenerCount.has(Zt)){const Xt=this._rootNodeFocusListenerCount.get(Zt);Xt>1?this._rootNodeFocusListenerCount.set(Zt,Xt-1):(Zt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gt),Zt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gt),this._rootNodeFocusListenerCount.delete(Zt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(st,Zt,Xt){this._setClasses(st,Zt),this._emitOrigin(Xt,Zt),this._lastFocusOrigin=Zt}_getClosestElementsInfo(st){const Zt=[];return this._elementInfo.forEach((Xt,rn)=>{(rn===st||Xt.checkChildren&&rn.contains(st))&&Zt.push([rn,Xt])}),Zt}_isLastInteractionFromInputLabel(st){const{_mostRecentTarget:Zt,mostRecentModality:Xt}=this._inputModalityDetector;if("mouse"!==Xt||!Zt||Zt===st||"INPUT"!==st.nodeName&&"TEXTAREA"!==st.nodeName||st.disabled)return!1;const rn=st.labels;if(rn)for(let Zn=0;Zn<rn.length;Zn++)if(rn[Zn].contains(Zt))return!0;return!1}static#e=this.\u0275fac=function(Zt){return new(Zt||Qt)(w.KVO(w.SKi),w.KVO(B.OD),w.KVO(yt),w.KVO(g.qQ,8),w.KVO(ot,8))};static#t=this.\u0275prov=w.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})(),Bt=(()=>{class Qt{constructor(st,Zt){this._elementRef=st,this._focusMonitor=Zt,this._focusOrigin=null,this.cdkFocusChange=new w.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const st=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(st,1===st.nodeType&&st.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Zt=>{this._focusOrigin=Zt,this.cdkFocusChange.emit(Zt)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(Zt){return new(Zt||Qt)(w.rXU(w.aKT),w.rXU(_t))};static#t=this.\u0275dir=w.FsC({type:Qt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return Qt})();var en=function(Qt){return Qt[Qt.NONE=0]="NONE",Qt[Qt.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Qt[Qt.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Qt}(en||{});const pn="cdk-high-contrast-black-on-white",cn="cdk-high-contrast-white-on-black",tr="cdk-high-contrast-active";let Mn=(()=>{class Qt{constructor(st,Zt){this._platform=st,this._document=Zt,this._breakpointSubscription=(0,w.WQX)(re.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return en.NONE;const st=this._document.createElement("div");st.style.backgroundColor="rgb(1,2,3)",st.style.position="absolute",this._document.body.appendChild(st);const Zt=this._document.defaultView||window,Xt=Zt&&Zt.getComputedStyle?Zt.getComputedStyle(st):null,rn=(Xt&&Xt.backgroundColor||"").replace(/ /g,"");switch(st.remove(),rn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return en.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return en.BLACK_ON_WHITE}return en.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const st=this._document.body.classList;st.remove(tr,pn,cn),this._hasCheckedHighContrastMode=!0;const Zt=this.getHighContrastMode();Zt===en.BLACK_ON_WHITE?st.add(tr,pn):Zt===en.WHITE_ON_BLACK&&st.add(tr,cn)}}static#e=this.\u0275fac=function(Zt){return new(Zt||Qt)(w.KVO(B.OD),w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})(),on=(()=>{class Qt{constructor(st){st._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Zt){return new(Zt||Qt)(w.KVO(Mn))};static#t=this.\u0275mod=w.$C({type:Qt});static#n=this.\u0275inj=w.G2t({imports:[Y.w5]})}return Qt})()},28203:($e,j,E)=>{"use strict";E.d(j,{dS:()=>S,jI:()=>R});var g=E(93953),w=E(60177);const B=new g.nKC("cdk-dir-doc",{providedIn:"root",factory:function H(){return(0,g.WQX)(w.qQ)}}),b=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let S=(()=>{class O{constructor(V){this.value="ltr",this.change=new g.bkB,V&&(this.value=function k(O){const A=O?.toLowerCase()||"";return"auto"===A&&typeof navigator<"u"&&navigator?.language?b.test(navigator.language)?"rtl":"ltr":"rtl"===A?"rtl":"ltr"}((V.body?V.body.dir:null)||(V.documentElement?V.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(U){return new(U||O)(g.KVO(B,8))};static#t=this.\u0275prov=g.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})(),R=(()=>{class O{static#e=this.\u0275fac=function(U){return new(U||O)};static#t=this.\u0275mod=g.$C({type:O});static#n=this.\u0275inj=g.G2t({})}return O})()},14085:($e,j,E)=>{"use strict";E.d(j,{FG:()=>b,OE:()=>B,a1:()=>k,he:()=>w,i8:()=>S,o1:()=>H});var g=E(93953);function w(R){return null!=R&&"false"!=`${R}`}function B(R,O=0){return H(R)?Number(R):O}function H(R){return!isNaN(parseFloat(R))&&!isNaN(Number(R))}function b(R){return Array.isArray(R)?R:[R]}function k(R){return null==R?"":"string"==typeof R?R:`${R}px`}function S(R){return R instanceof g.aKT?R.nativeElement:R}},45024:($e,j,E)=>{"use strict";E.d(j,{CB:()=>U,DQ:()=>V,Q3:()=>R,qS:()=>k,sL:()=>O,xn:()=>A,y4:()=>S,zP:()=>Q});var g=E(30017),H=(E(74402),E(7673),E(21413)),b=E(93953);class k{}function S(q){return q&&"function"==typeof q.connect&&!(q instanceof g.G)}var R=function(q){return q[q.REPLACED=0]="REPLACED",q[q.INSERTED=1]="INSERTED",q[q.MOVED=2]="MOVED",q[q.REMOVED=3]="REMOVED",q}(R||{});const O=new b.nKC("_ViewRepeater");class A{applyChanges(Y,W,re,ie,ae){Y.forEachOperation((ue,ce,pe)=>{let ve,De;if(null==ue.previousIndex){const C=re(ue,ce,pe);ve=W.createEmbeddedView(C.templateRef,C.context,C.index),De=R.INSERTED}else null==pe?(W.remove(ce),De=R.REMOVED):(ve=W.get(ce),W.move(ve,pe),De=R.MOVED);ae&&ae({context:ve?.context,operation:De,record:ue})})}detach(){}}class V{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Y,W,re,ie,ae){Y.forEachOperation((ue,ce,pe)=>{let ve,De;null==ue.previousIndex?(ve=this._insertView(()=>re(ue,ce,pe),pe,W,ie(ue)),De=ve?R.INSERTED:R.REPLACED):null==pe?(this._detachAndCacheView(ce,W),De=R.REMOVED):(ve=this._moveView(ce,pe,W,ie(ue)),De=R.MOVED),ae&&ae({context:ve?.context,operation:De,record:ue})})}detach(){for(const Y of this._viewCache)Y.destroy();this._viewCache=[]}_insertView(Y,W,re,ie){const ae=this._insertViewFromCache(W,re);if(ae)return void(ae.context.$implicit=ie);const ue=Y();return re.createEmbeddedView(ue.templateRef,ue.context,ue.index)}_detachAndCacheView(Y,W){const re=W.detach(Y);this._maybeCacheView(re,W)}_moveView(Y,W,re,ie){const ae=re.get(Y);return re.move(ae,W),ae.context.$implicit=ie,ae}_maybeCacheView(Y,W){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Y);else{const re=W.indexOf(Y);-1===re?Y.destroy():W.remove(re)}}_insertViewFromCache(Y,W){const re=this._viewCache.pop();return re&&W.insert(re,Y),re||null}}class U{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(Y=!1,W,re=!0,ie){this._multiple=Y,this._emitChanges=re,this.compareWith=ie,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new H.B,W&&W.length&&(Y?W.forEach(ae=>this._markSelected(ae)):this._markSelected(W[0]),this._selectedToEmit.length=0)}select(...Y){this._verifyValueAssignment(Y),Y.forEach(re=>this._markSelected(re));const W=this._hasQueuedChanges();return this._emitChangeEvent(),W}deselect(...Y){this._verifyValueAssignment(Y),Y.forEach(re=>this._unmarkSelected(re));const W=this._hasQueuedChanges();return this._emitChangeEvent(),W}setSelection(...Y){this._verifyValueAssignment(Y);const W=this.selected,re=new Set(Y);Y.forEach(ae=>this._markSelected(ae)),W.filter(ae=>!re.has(this._getConcreteValue(ae,re))).forEach(ae=>this._unmarkSelected(ae));const ie=this._hasQueuedChanges();return this._emitChangeEvent(),ie}toggle(Y){return this.isSelected(Y)?this.deselect(Y):this.select(Y)}clear(Y=!0){this._unmarkAll();const W=this._hasQueuedChanges();return Y&&this._emitChangeEvent(),W}isSelected(Y){return this._selection.has(this._getConcreteValue(Y))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Y){this._multiple&&this.selected&&this._selected.sort(Y)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Y){Y=this._getConcreteValue(Y),this.isSelected(Y)||(this._multiple||this._unmarkAll(),this.isSelected(Y)||this._selection.add(Y),this._emitChanges&&this._selectedToEmit.push(Y))}_unmarkSelected(Y){Y=this._getConcreteValue(Y),this.isSelected(Y)&&(this._selection.delete(Y),this._emitChanges&&this._deselectedToEmit.push(Y))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Y=>this._unmarkSelected(Y))}_verifyValueAssignment(Y){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(Y,W){if(this.compareWith){W=W??this._selection;for(let re of W)if(this.compareWith(Y,re))return re;return Y}return Y}}let Q=(()=>{class q{constructor(){this._listeners=[]}notify(W,re){for(let ie of this._listeners)ie(W,re)}listen(W){return this._listeners.push(W),()=>{this._listeners=this._listeners.filter(re=>W!==re)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(re){return new(re||q)};static#t=this.\u0275prov=b.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})()},67336:($e,j,E)=>{"use strict";E.d(j,{A:()=>z,A$:()=>P,FX:()=>k,Fm:()=>b,Ge:()=>M,Kp:()=>Q,LE:()=>re,UQ:()=>Y,W3:()=>S,Z:()=>D,_f:()=>A,bn:()=>L,dB:()=>K,eg:()=>Wn,f2:()=>ve,i7:()=>W,n6:()=>ie,rp:()=>cr,t6:()=>V,w_:()=>U,wn:()=>B,yZ:()=>q});const B=9,b=13,k=16,S=17,P=18,A=27,V=32,U=33,K=34,Q=35,q=36,Y=37,W=38,re=39,ie=40,ve=48,L=57,z=65,D=90,M=91,Wn=224;function cr(hr,...jr){return jr.length?jr.some(Or=>hr[Or]):hr.altKey||hr.shiftKey||hr.ctrlKey||hr.metaKey}},99327:($e,j,E)=>{"use strict";E.d(j,{QP:()=>ie,Rp:()=>ue});var g=E(93953),w=E(14085),B=E(21413),H=E(84572),b=E(28793),k=E(71985),S=E(96697),P=E(65245),R=E(70152),O=E(96354),A=E(99172),V=E(56977),U=E(36860);const Q=new Set;let q,Y=(()=>{class ce{constructor(ve,De){this._platform=ve,this._nonce=De,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):re}matchMedia(ve){return(this._platform.WEBKIT||this._platform.BLINK)&&function W(ce,pe){if(!Q.has(ce))try{q||(q=document.createElement("style"),pe&&q.setAttribute("nonce",pe),q.setAttribute("type","text/css"),document.head.appendChild(q)),q.sheet&&(q.sheet.insertRule(`@media ${ce} {body{ }}`,0),Q.add(ce))}catch(ve){console.error(ve)}}(ve,this._nonce),this._matchMedia(ve)}static#e=this.\u0275fac=function(De){return new(De||ce)(g.KVO(U.OD),g.KVO(g.BIS,8))};static#t=this.\u0275prov=g.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();function re(ce){return{matches:"all"===ce||""===ce,media:ce,addListener:()=>{},removeListener:()=>{}}}let ie=(()=>{class ce{constructor(ve,De){this._mediaMatcher=ve,this._zone=De,this._queries=new Map,this._destroySubject=new B.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ve){return ae((0,w.FG)(ve)).some(C=>this._registerQuery(C).mql.matches)}observe(ve){const C=ae((0,w.FG)(ve)).map(d=>this._registerQuery(d).observable);let s=(0,H.z)(C);return s=(0,b.x)(s.pipe((0,S.s)(1)),s.pipe((0,P.i)(1),(0,R.B)(0))),s.pipe((0,O.T)(d=>{const h={matches:!1,breakpoints:{}};return d.forEach(({matches:f,query:_})=>{h.matches=h.matches||f,h.breakpoints[_]=f}),h}))}_registerQuery(ve){if(this._queries.has(ve))return this._queries.get(ve);const De=this._mediaMatcher.matchMedia(ve),s={observable:new k.c(d=>{const h=f=>this._zone.run(()=>d.next(f));return De.addListener(h),()=>{De.removeListener(h)}}).pipe((0,A.Z)(De),(0,O.T)(({matches:d})=>({query:ve,matches:d})),(0,V.Q)(this._destroySubject)),mql:De};return this._queries.set(ve,s),s}static#e=this.\u0275fac=function(De){return new(De||ce)(g.KVO(Y),g.KVO(g.SKi))};static#t=this.\u0275prov=g.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();function ae(ce){return ce.map(pe=>pe.split(",")).reduce((pe,ve)=>pe.concat(ve)).map(pe=>pe.trim())}const ue={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},72318:($e,j,E)=>{"use strict";E.d(j,{Wv:()=>A,w5:()=>V});var g=E(14085),w=E(93953),B=E(71985),H=E(21413),b=E(96354),k=E(5964),S=E(70152);let R=(()=>{class U{create(Q){return typeof MutationObserver>"u"?null:new MutationObserver(Q)}static#e=this.\u0275fac=function(q){return new(q||U)};static#t=this.\u0275prov=w.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),O=(()=>{class U{constructor(Q){this._mutationObserverFactory=Q,this._observedElements=new Map,this._ngZone=(0,w.WQX)(w.SKi)}ngOnDestroy(){this._observedElements.forEach((Q,q)=>this._cleanupObserver(q))}observe(Q){const q=(0,g.i8)(Q);return new B.c(Y=>{const re=this._observeElement(q).pipe((0,b.T)(ie=>ie.filter(ae=>!function P(U){if("characterData"===U.type&&U.target instanceof Comment)return!0;if("childList"===U.type){for(let K=0;K<U.addedNodes.length;K++)if(!(U.addedNodes[K]instanceof Comment))return!1;for(let K=0;K<U.removedNodes.length;K++)if(!(U.removedNodes[K]instanceof Comment))return!1;return!0}return!1}(ae))),(0,k.p)(ie=>!!ie.length)).subscribe(ie=>{this._ngZone.run(()=>{Y.next(ie)})});return()=>{re.unsubscribe(),this._unobserveElement(q)}})}_observeElement(Q){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(Q))this._observedElements.get(Q).count++;else{const q=new H.B,Y=this._mutationObserverFactory.create(W=>q.next(W));Y&&Y.observe(Q,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Q,{observer:Y,stream:q,count:1})}return this._observedElements.get(Q).stream})}_unobserveElement(Q){this._observedElements.has(Q)&&(this._observedElements.get(Q).count--,this._observedElements.get(Q).count||this._cleanupObserver(Q))}_cleanupObserver(Q){if(this._observedElements.has(Q)){const{observer:q,stream:Y}=this._observedElements.get(Q);q&&q.disconnect(),Y.complete(),this._observedElements.delete(Q)}}static#e=this.\u0275fac=function(q){return new(q||U)(w.KVO(R))};static#t=this.\u0275prov=w.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),A=(()=>{class U{get disabled(){return this._disabled}set disabled(Q){this._disabled=Q,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Q){this._debounce=(0,g.OE)(Q),this._subscribe()}constructor(Q,q){this._contentObserver=Q,this._elementRef=q,this.event=new w.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Q=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?Q.pipe((0,S.B)(this.debounce)):Q).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(q){return new(q||U)(w.rXU(O),w.rXU(w.aKT))};static#t=this.\u0275dir=w.FsC({type:U,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",w.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[w.GFd]})}return U})(),V=(()=>{class U{static#e=this.\u0275fac=function(q){return new(q||U)};static#t=this.\u0275mod=w.$C({type:U});static#n=this.\u0275inj=w.G2t({providers:[R]})}return U})()},98170:($e,j,E)=>{"use strict";E.d(j,{a:()=>R});var g=E(93953),w=E(21413),B=E(71985),H=E(5964),b=E(44668),k=E(56977);class P{constructor(A){this._box=A,this._destroyed=new w.B,this._resizeSubject=new w.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(V=>this._resizeSubject.next(V)))}observe(A){return this._elementObservables.has(A)||this._elementObservables.set(A,new B.c(V=>{const U=this._resizeSubject.subscribe(V);return this._resizeObserver?.observe(A,{box:this._box}),()=>{this._resizeObserver?.unobserve(A),U.unsubscribe(),this._elementObservables.delete(A)}}).pipe((0,H.p)(V=>V.some(U=>U.target===A)),(0,b.t)({bufferSize:1,refCount:!0}),(0,k.Q)(this._destroyed))),this._elementObservables.get(A)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let R=(()=>{class O{constructor(){this._observers=new Map,this._ngZone=(0,g.WQX)(g.SKi)}ngOnDestroy(){for(const[,V]of this._observers)V.destroy();this._observers.clear()}observe(V,U){const K=U?.box||"content-box";return this._observers.has(K)||this._observers.set(K,new P(K)),this._observers.get(K).observe(V)}static#e=this.\u0275fac=function(U){return new(U||O)};static#t=this.\u0275prov=g.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},66969:($e,j,E)=>{"use strict";E.d(j,{WB:()=>_e,$Q:()=>de,hJ:()=>he,rR:()=>De,z_:()=>Ve});var g=E(67333),w=E(60177),B=E(93953),H=E(14085),b=E(36860),k=E(5964),S=E(56977),P=E(39974),R=E(54360),A=E(28203),V=E(76939),U=E(21413),K=E(18359),Q=E(57786),q=E(67336);const Y=(0,b.CZ)();class W{constructor(ke,yt){this._viewportRuler=ke,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=yt}attach(){}enable(){if(this._canBeEnabled()){const ke=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ke.style.left||"",this._previousHTMLStyles.top=ke.style.top||"",ke.style.left=(0,H.a1)(-this._previousScrollPosition.left),ke.style.top=(0,H.a1)(-this._previousScrollPosition.top),ke.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ke=this._document.documentElement,F=ke.style,D=this._document.body.style,M=F.scrollBehavior||"",G=D.scrollBehavior||"";this._isEnabled=!1,F.left=this._previousHTMLStyles.left,F.top=this._previousHTMLStyles.top,ke.classList.remove("cdk-global-scrollblock"),Y&&(F.scrollBehavior=D.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Y&&(F.scrollBehavior=M,D.scrollBehavior=G)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const yt=this._document.body,F=this._viewportRuler.getViewportSize();return yt.scrollHeight>F.height||yt.scrollWidth>F.width}}class ie{constructor(ke,yt,F,D){this._scrollDispatcher=ke,this._ngZone=yt,this._viewportRuler=F,this._config=D,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ke){this._overlayRef=ke}enable(){if(this._scrollSubscription)return;const ke=this._scrollDispatcher.scrolled(0).pipe((0,k.p)(yt=>!yt||!this._overlayRef.overlayElement.contains(yt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ke.subscribe(()=>{const yt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(yt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ke.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ae{enable(){}disable(){}attach(){}}function ue(Ne,ke){return ke.some(yt=>Ne.bottom<yt.top||Ne.top>yt.bottom||Ne.right<yt.left||Ne.left>yt.right)}function ce(Ne,ke){return ke.some(yt=>Ne.top<yt.top||Ne.bottom>yt.bottom||Ne.left<yt.left||Ne.right>yt.right)}class pe{constructor(ke,yt,F,D){this._scrollDispatcher=ke,this._viewportRuler=yt,this._ngZone=F,this._config=D,this._scrollSubscription=null}attach(ke){this._overlayRef=ke}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const yt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:F,height:D}=this._viewportRuler.getViewportSize();ue(yt,[{width:F,height:D,bottom:D,right:F,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ve=(()=>{class Ne{constructor(yt,F,D,M){this._scrollDispatcher=yt,this._viewportRuler=F,this._ngZone=D,this.noop=()=>new ae,this.close=G=>new ie(this._scrollDispatcher,this._ngZone,this._viewportRuler,G),this.block=()=>new W(this._viewportRuler,this._document),this.reposition=G=>new pe(this._scrollDispatcher,this._viewportRuler,this._ngZone,G),this._document=M}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(g.R),B.KVO(g.Xj),B.KVO(B.SKi),B.KVO(w.qQ))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();class De{constructor(ke){if(this.scrollStrategy=new ae,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ke){const yt=Object.keys(ke);for(const F of yt)void 0!==ke[F]&&(this[F]=ke[F])}}}class d{constructor(ke,yt){this.connectionPair=ke,this.scrollableViewProperties=yt}}let _=(()=>{class Ne{constructor(yt){this._attachedOverlays=[],this._document=yt}ngOnDestroy(){this.detach()}add(yt){this.remove(yt),this._attachedOverlays.push(yt)}remove(yt){const F=this._attachedOverlays.indexOf(yt);F>-1&&this._attachedOverlays.splice(F,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(w.qQ))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})(),I=(()=>{class Ne extends _{constructor(yt,F){super(yt),this._ngZone=F,this._keydownListener=D=>{const M=this._attachedOverlays;for(let G=M.length-1;G>-1;G--)if(M[G]._keydownEvents.observers.length>0){const fe=M[G]._keydownEvents;this._ngZone?this._ngZone.run(()=>fe.next(D)):fe.next(D);break}}}add(yt){super.add(yt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(w.qQ),B.KVO(B.SKi,8))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})(),L=(()=>{class Ne extends _{constructor(yt,F,D){super(yt),this._platform=F,this._ngZone=D,this._cursorStyleIsSet=!1,this._pointerDownListener=M=>{this._pointerDownEventTarget=(0,b.Fb)(M)},this._clickListener=M=>{const G=(0,b.Fb)(M),fe="click"===M.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:G;this._pointerDownEventTarget=null;const Se=this._attachedOverlays.slice();for(let Ae=Se.length-1;Ae>-1;Ae--){const ot=Se[Ae];if(ot._outsidePointerEvents.observers.length<1||!ot.hasAttached())continue;if(x(ot.overlayElement,G)||x(ot.overlayElement,fe))break;const Gt=ot._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Gt.next(M)):Gt.next(M)}}}add(yt){if(super.add(yt),!this._isAttached){const F=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(F)):this._addEventListeners(F),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=F.style.cursor,F.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const yt=this._document.body;yt.removeEventListener("pointerdown",this._pointerDownListener,!0),yt.removeEventListener("click",this._clickListener,!0),yt.removeEventListener("auxclick",this._clickListener,!0),yt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(yt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(yt){yt.addEventListener("pointerdown",this._pointerDownListener,!0),yt.addEventListener("click",this._clickListener,!0),yt.addEventListener("auxclick",this._clickListener,!0),yt.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(w.qQ),B.KVO(b.OD),B.KVO(B.SKi,8))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();function x(Ne,ke){const yt=typeof ShadowRoot<"u"&&ShadowRoot;let F=ke;for(;F;){if(F===Ne)return!0;F=yt&&F instanceof ShadowRoot?F.host:F.parentNode}return!1}let a=(()=>{class Ne{constructor(yt,F){this._platform=F,this._document=yt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const yt="cdk-overlay-container";if(this._platform.isBrowser||(0,b.v8)()){const D=this._document.querySelectorAll(`.${yt}[platform="server"], .${yt}[platform="test"]`);for(let M=0;M<D.length;M++)D[M].remove()}const F=this._document.createElement("div");F.classList.add(yt),(0,b.v8)()?F.setAttribute("platform","test"):this._platform.isBrowser||F.setAttribute("platform","server"),this._document.body.appendChild(F),this._containerElement=F}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(w.qQ),B.KVO(b.OD))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();class v{constructor(ke,yt,F,D,M,G,fe,Se,Ae,ot=!1,Gt){this._portalOutlet=ke,this._host=yt,this._pane=F,this._config=D,this._ngZone=M,this._keyboardDispatcher=G,this._document=fe,this._location=Se,this._outsideClickDispatcher=Ae,this._animationsDisabled=ot,this._injector=Gt,this._backdropElement=null,this._backdropClick=new U.B,this._attachments=new U.B,this._detachments=new U.B,this._locationChanges=K.yU.EMPTY,this._backdropClickHandler=_t=>this._backdropClick.next(_t),this._backdropTransitionendHandler=_t=>{this._disposeBackdrop(_t.target)},this._keydownEvents=new U.B,this._outsidePointerEvents=new U.B,this._renders=new U.B,D.scrollStrategy&&(this._scrollStrategy=D.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=D.positionStrategy,this._afterRenderRef=(0,B.O8t)(()=>(0,B.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ke){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const yt=this._portalOutlet.attach(ke);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,B.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof yt?.onDestroy&&yt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),yt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ke=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ke}dispose(){const ke=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ke&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ke){ke!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ke,this.hasAttached()&&(ke.attach(this),this.updatePosition()))}updateSize(ke){this._config={...this._config,...ke},this._updateElementSize()}setDirection(ke){this._config={...this._config,direction:ke},this._updateElementDirection()}addPanelClass(ke){this._pane&&this._toggleClasses(this._pane,ke,!0)}removePanelClass(ke){this._pane&&this._toggleClasses(this._pane,ke,!1)}getDirection(){const ke=this._config.direction;return ke?"string"==typeof ke?ke:ke.value:"ltr"}updateScrollStrategy(ke){ke!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ke,this.hasAttached()&&(ke.attach(this),ke.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ke=this._pane.style;ke.width=(0,H.a1)(this._config.width),ke.height=(0,H.a1)(this._config.height),ke.minWidth=(0,H.a1)(this._config.minWidth),ke.minHeight=(0,H.a1)(this._config.minHeight),ke.maxWidth=(0,H.a1)(this._config.maxWidth),ke.maxHeight=(0,H.a1)(this._config.maxHeight)}_togglePointerEvents(ke){this._pane.style.pointerEvents=ke?"":"none"}_attachBackdrop(){const ke="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ke)})}):this._backdropElement.classList.add(ke)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ke=this._backdropElement;if(ke){if(this._animationsDisabled)return void this._disposeBackdrop(ke);ke.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ke.addEventListener("transitionend",this._backdropTransitionendHandler)}),ke.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ke)},500))}}_toggleClasses(ke,yt,F){const D=(0,H.FG)(yt||[]).filter(M=>!!M);D.length&&(F?ke.classList.add(...D):ke.classList.remove(...D))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const ke=this._renders.pipe((0,S.Q)((0,Q.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ke.unsubscribe())})})}_disposeScrollStrategy(){const ke=this._scrollStrategy;ke&&(ke.disable(),ke.detach&&ke.detach())}_disposeBackdrop(ke){ke&&(ke.removeEventListener("click",this._backdropClickHandler),ke.removeEventListener("transitionend",this._backdropTransitionendHandler),ke.remove(),this._backdropElement===ke&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Z="cdk-overlay-connected-position-bounding-box",z=/([A-Za-z%]+)$/;class ee{get positions(){return this._preferredPositions}constructor(ke,yt,F,D,M){this._viewportRuler=yt,this._document=F,this._platform=D,this._overlayContainer=M,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.B,this._resizeSubscription=K.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ke)}attach(ke){this._validatePositions(),ke.hostElement.classList.add(Z),this._overlayRef=ke,this._boundingBox=ke.hostElement,this._pane=ke.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ke=this._originRect,yt=this._overlayRect,F=this._viewportRect,D=this._containerRect,M=[];let G;for(let fe of this._preferredPositions){let Se=this._getOriginPoint(ke,D,fe),Ae=this._getOverlayPoint(Se,yt,fe),ot=this._getOverlayFit(Ae,yt,F,fe);if(ot.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(fe,Se);this._canFitWithFlexibleDimensions(ot,Ae,F)?M.push({position:fe,origin:Se,overlayRect:yt,boundingBoxRect:this._calculateBoundingBoxRect(Se,fe)}):(!G||G.overlayFit.visibleArea<ot.visibleArea)&&(G={overlayFit:ot,overlayPoint:Ae,originPoint:Se,position:fe,overlayRect:yt})}if(M.length){let fe=null,Se=-1;for(const Ae of M){const ot=Ae.boundingBoxRect.width*Ae.boundingBoxRect.height*(Ae.position.weight||1);ot>Se&&(Se=ot,fe=Ae)}return this._isPushed=!1,void this._applyPosition(fe.position,fe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(G.position,G.originPoint);this._applyPosition(G.position,G.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&le(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Z),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ke=this._lastPosition;if(ke){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const yt=this._getOriginPoint(this._originRect,this._containerRect,ke);this._applyPosition(ke,yt)}else this.apply()}withScrollableContainers(ke){return this._scrollables=ke,this}withPositions(ke){return this._preferredPositions=ke,-1===ke.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ke){return this._viewportMargin=ke,this}withFlexibleDimensions(ke=!0){return this._hasFlexibleDimensions=ke,this}withGrowAfterOpen(ke=!0){return this._growAfterOpen=ke,this}withPush(ke=!0){return this._canPush=ke,this}withLockedPosition(ke=!0){return this._positionLocked=ke,this}setOrigin(ke){return this._origin=ke,this}withDefaultOffsetX(ke){return this._offsetX=ke,this}withDefaultOffsetY(ke){return this._offsetY=ke,this}withTransformOriginOn(ke){return this._transformOriginSelector=ke,this}_getOriginPoint(ke,yt,F){let D,M;if("center"==F.originX)D=ke.left+ke.width/2;else{const G=this._isRtl()?ke.right:ke.left,fe=this._isRtl()?ke.left:ke.right;D="start"==F.originX?G:fe}return yt.left<0&&(D-=yt.left),M="center"==F.originY?ke.top+ke.height/2:"top"==F.originY?ke.top:ke.bottom,yt.top<0&&(M-=yt.top),{x:D,y:M}}_getOverlayPoint(ke,yt,F){let D,M;return D="center"==F.overlayX?-yt.width/2:"start"===F.overlayX?this._isRtl()?-yt.width:0:this._isRtl()?0:-yt.width,M="center"==F.overlayY?-yt.height/2:"top"==F.overlayY?0:-yt.height,{x:ke.x+D,y:ke.y+M}}_getOverlayFit(ke,yt,F,D){const M=Me(yt);let{x:G,y:fe}=ke,Se=this._getOffset(D,"x"),Ae=this._getOffset(D,"y");Se&&(G+=Se),Ae&&(fe+=Ae);let _t=0-fe,Bt=fe+M.height-F.height,en=this._subtractOverflows(M.width,0-G,G+M.width-F.width),pn=this._subtractOverflows(M.height,_t,Bt),cn=en*pn;return{visibleArea:cn,isCompletelyWithinViewport:M.width*M.height===cn,fitsInViewportVertically:pn===M.height,fitsInViewportHorizontally:en==M.width}}_canFitWithFlexibleDimensions(ke,yt,F){if(this._hasFlexibleDimensions){const D=F.bottom-yt.y,M=F.right-yt.x,G=we(this._overlayRef.getConfig().minHeight),fe=we(this._overlayRef.getConfig().minWidth);return(ke.fitsInViewportVertically||null!=G&&G<=D)&&(ke.fitsInViewportHorizontally||null!=fe&&fe<=M)}return!1}_pushOverlayOnScreen(ke,yt,F){if(this._previousPushAmount&&this._positionLocked)return{x:ke.x+this._previousPushAmount.x,y:ke.y+this._previousPushAmount.y};const D=Me(yt),M=this._viewportRect,G=Math.max(ke.x+D.width-M.width,0),fe=Math.max(ke.y+D.height-M.height,0),Se=Math.max(M.top-F.top-ke.y,0),Ae=Math.max(M.left-F.left-ke.x,0);let ot=0,Gt=0;return ot=D.width<=M.width?Ae||-G:ke.x<this._viewportMargin?M.left-F.left-ke.x:0,Gt=D.height<=M.height?Se||-fe:ke.y<this._viewportMargin?M.top-F.top-ke.y:0,this._previousPushAmount={x:ot,y:Gt},{x:ke.x+ot,y:ke.y+Gt}}_applyPosition(ke,yt){if(this._setTransformOrigin(ke),this._setOverlayElementStyles(yt,ke),this._setBoundingBoxStyles(yt,ke),ke.panelClass&&this._addPanelClasses(ke.panelClass),this._positionChanges.observers.length){const F=this._getScrollVisibility();if(ke!==this._lastPosition||!this._lastScrollVisibility||!function Ze(Ne,ke){return Ne===ke||Ne.isOriginClipped===ke.isOriginClipped&&Ne.isOriginOutsideView===ke.isOriginOutsideView&&Ne.isOverlayClipped===ke.isOverlayClipped&&Ne.isOverlayOutsideView===ke.isOverlayOutsideView}(this._lastScrollVisibility,F)){const D=new d(ke,F);this._positionChanges.next(D)}this._lastScrollVisibility=F}this._lastPosition=ke,this._isInitialRender=!1}_setTransformOrigin(ke){if(!this._transformOriginSelector)return;const yt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let F,D=ke.overlayY;F="center"===ke.overlayX?"center":this._isRtl()?"start"===ke.overlayX?"right":"left":"start"===ke.overlayX?"left":"right";for(let M=0;M<yt.length;M++)yt[M].style.transformOrigin=`${F} ${D}`}_calculateBoundingBoxRect(ke,yt){const F=this._viewportRect,D=this._isRtl();let M,G,fe,ot,Gt,_t;if("top"===yt.overlayY)G=ke.y,M=F.height-G+this._viewportMargin;else if("bottom"===yt.overlayY)fe=F.height-ke.y+2*this._viewportMargin,M=F.height-fe+this._viewportMargin;else{const Bt=Math.min(F.bottom-ke.y+F.top,ke.y),en=this._lastBoundingBoxSize.height;M=2*Bt,G=ke.y-Bt,M>en&&!this._isInitialRender&&!this._growAfterOpen&&(G=ke.y-en/2)}if("end"===yt.overlayX&&!D||"start"===yt.overlayX&&D)_t=F.width-ke.x+2*this._viewportMargin,ot=ke.x-this._viewportMargin;else if("start"===yt.overlayX&&!D||"end"===yt.overlayX&&D)Gt=ke.x,ot=F.right-ke.x;else{const Bt=Math.min(F.right-ke.x+F.left,ke.x),en=this._lastBoundingBoxSize.width;ot=2*Bt,Gt=ke.x-Bt,ot>en&&!this._isInitialRender&&!this._growAfterOpen&&(Gt=ke.x-en/2)}return{top:G,left:Gt,bottom:fe,right:_t,width:ot,height:M}}_setBoundingBoxStyles(ke,yt){const F=this._calculateBoundingBoxRect(ke,yt);!this._isInitialRender&&!this._growAfterOpen&&(F.height=Math.min(F.height,this._lastBoundingBoxSize.height),F.width=Math.min(F.width,this._lastBoundingBoxSize.width));const D={};if(this._hasExactPosition())D.top=D.left="0",D.bottom=D.right=D.maxHeight=D.maxWidth="",D.width=D.height="100%";else{const M=this._overlayRef.getConfig().maxHeight,G=this._overlayRef.getConfig().maxWidth;D.height=(0,H.a1)(F.height),D.top=(0,H.a1)(F.top),D.bottom=(0,H.a1)(F.bottom),D.width=(0,H.a1)(F.width),D.left=(0,H.a1)(F.left),D.right=(0,H.a1)(F.right),D.alignItems="center"===yt.overlayX?"center":"end"===yt.overlayX?"flex-end":"flex-start",D.justifyContent="center"===yt.overlayY?"center":"bottom"===yt.overlayY?"flex-end":"flex-start",M&&(D.maxHeight=(0,H.a1)(M)),G&&(D.maxWidth=(0,H.a1)(G))}this._lastBoundingBoxSize=F,le(this._boundingBox.style,D)}_resetBoundingBoxStyles(){le(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){le(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ke,yt){const F={},D=this._hasExactPosition(),M=this._hasFlexibleDimensions,G=this._overlayRef.getConfig();if(D){const ot=this._viewportRuler.getViewportScrollPosition();le(F,this._getExactOverlayY(yt,ke,ot)),le(F,this._getExactOverlayX(yt,ke,ot))}else F.position="static";let fe="",Se=this._getOffset(yt,"x"),Ae=this._getOffset(yt,"y");Se&&(fe+=`translateX(${Se}px) `),Ae&&(fe+=`translateY(${Ae}px)`),F.transform=fe.trim(),G.maxHeight&&(D?F.maxHeight=(0,H.a1)(G.maxHeight):M&&(F.maxHeight="")),G.maxWidth&&(D?F.maxWidth=(0,H.a1)(G.maxWidth):M&&(F.maxWidth="")),le(this._pane.style,F)}_getExactOverlayY(ke,yt,F){let D={top:"",bottom:""},M=this._getOverlayPoint(yt,this._overlayRect,ke);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,F)),"bottom"===ke.overlayY?D.bottom=this._document.documentElement.clientHeight-(M.y+this._overlayRect.height)+"px":D.top=(0,H.a1)(M.y),D}_getExactOverlayX(ke,yt,F){let G,D={left:"",right:""},M=this._getOverlayPoint(yt,this._overlayRect,ke);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,F)),G=this._isRtl()?"end"===ke.overlayX?"left":"right":"end"===ke.overlayX?"right":"left","right"===G?D.right=this._document.documentElement.clientWidth-(M.x+this._overlayRect.width)+"px":D.left=(0,H.a1)(M.x),D}_getScrollVisibility(){const ke=this._getOriginRect(),yt=this._pane.getBoundingClientRect(),F=this._scrollables.map(D=>D.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ce(ke,F),isOriginOutsideView:ue(ke,F),isOverlayClipped:ce(yt,F),isOverlayOutsideView:ue(yt,F)}}_subtractOverflows(ke,...yt){return yt.reduce((F,D)=>F-Math.max(D,0),ke)}_getNarrowedViewportRect(){const ke=this._document.documentElement.clientWidth,yt=this._document.documentElement.clientHeight,F=this._viewportRuler.getViewportScrollPosition();return{top:F.top+this._viewportMargin,left:F.left+this._viewportMargin,right:F.left+ke-this._viewportMargin,bottom:F.top+yt-this._viewportMargin,width:ke-2*this._viewportMargin,height:yt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ke,yt){return"x"===yt?null==ke.offsetX?this._offsetX:ke.offsetX:null==ke.offsetY?this._offsetY:ke.offsetY}_validatePositions(){}_addPanelClasses(ke){this._pane&&(0,H.FG)(ke).forEach(yt=>{""!==yt&&-1===this._appliedPanelClasses.indexOf(yt)&&(this._appliedPanelClasses.push(yt),this._pane.classList.add(yt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ke=>{this._pane.classList.remove(ke)}),this._appliedPanelClasses=[])}_getOriginRect(){const ke=this._origin;if(ke instanceof B.aKT)return ke.nativeElement.getBoundingClientRect();if(ke instanceof Element)return ke.getBoundingClientRect();const yt=ke.width||0,F=ke.height||0;return{top:ke.y,bottom:ke.y+F,left:ke.x,right:ke.x+yt,height:F,width:yt}}}function le(Ne,ke){for(let yt in ke)ke.hasOwnProperty(yt)&&(Ne[yt]=ke[yt]);return Ne}function we(Ne){if("number"!=typeof Ne&&null!=Ne){const[ke,yt]=Ne.split(z);return yt&&"px"!==yt?null:parseFloat(ke)}return Ne||null}function Me(Ne){return{top:Math.floor(Ne.top),right:Math.floor(Ne.right),bottom:Math.floor(Ne.bottom),left:Math.floor(Ne.left),width:Math.floor(Ne.width),height:Math.floor(Ne.height)}}const Ue="cdk-global-overlay-wrapper";class xe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ke){const yt=ke.getConfig();this._overlayRef=ke,this._width&&!yt.width&&ke.updateSize({width:this._width}),this._height&&!yt.height&&ke.updateSize({height:this._height}),ke.hostElement.classList.add(Ue),this._isDisposed=!1}top(ke=""){return this._bottomOffset="",this._topOffset=ke,this._alignItems="flex-start",this}left(ke=""){return this._xOffset=ke,this._xPosition="left",this}bottom(ke=""){return this._topOffset="",this._bottomOffset=ke,this._alignItems="flex-end",this}right(ke=""){return this._xOffset=ke,this._xPosition="right",this}start(ke=""){return this._xOffset=ke,this._xPosition="start",this}end(ke=""){return this._xOffset=ke,this._xPosition="end",this}width(ke=""){return this._overlayRef?this._overlayRef.updateSize({width:ke}):this._width=ke,this}height(ke=""){return this._overlayRef?this._overlayRef.updateSize({height:ke}):this._height=ke,this}centerHorizontally(ke=""){return this.left(ke),this._xPosition="center",this}centerVertically(ke=""){return this.top(ke),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ke=this._overlayRef.overlayElement.style,yt=this._overlayRef.hostElement.style,F=this._overlayRef.getConfig(),{width:D,height:M,maxWidth:G,maxHeight:fe}=F,Se=!("100%"!==D&&"100vw"!==D||G&&"100%"!==G&&"100vw"!==G),Ae=!("100%"!==M&&"100vh"!==M||fe&&"100%"!==fe&&"100vh"!==fe),ot=this._xPosition,Gt=this._xOffset,_t="rtl"===this._overlayRef.getConfig().direction;let Bt="",en="",pn="";Se?pn="flex-start":"center"===ot?(pn="center",_t?en=Gt:Bt=Gt):_t?"left"===ot||"end"===ot?(pn="flex-end",Bt=Gt):("right"===ot||"start"===ot)&&(pn="flex-start",en=Gt):"left"===ot||"start"===ot?(pn="flex-start",Bt=Gt):("right"===ot||"end"===ot)&&(pn="flex-end",en=Gt),ke.position=this._cssPosition,ke.marginLeft=Se?"0":Bt,ke.marginTop=Ae?"0":this._topOffset,ke.marginBottom=this._bottomOffset,ke.marginRight=Se?"0":en,yt.justifyContent=pn,yt.alignItems=Ae?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ke=this._overlayRef.overlayElement.style,yt=this._overlayRef.hostElement,F=yt.style;yt.classList.remove(Ue),F.justifyContent=F.alignItems=ke.marginTop=ke.marginBottom=ke.marginLeft=ke.marginRight=ke.position="",this._overlayRef=null,this._isDisposed=!0}}let Ce=(()=>{class Ne{constructor(yt,F,D,M){this._viewportRuler=yt,this._document=F,this._platform=D,this._overlayContainer=M}global(){return new xe}flexibleConnectedTo(yt){return new ee(yt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(g.Xj),B.KVO(w.qQ),B.KVO(b.OD),B.KVO(a))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})(),be=0,he=(()=>{class Ne{constructor(yt,F,D,M,G,fe,Se,Ae,ot,Gt,_t,Bt){this.scrollStrategies=yt,this._overlayContainer=F,this._componentFactoryResolver=D,this._positionBuilder=M,this._keyboardDispatcher=G,this._injector=fe,this._ngZone=Se,this._document=Ae,this._directionality=ot,this._location=Gt,this._outsideClickDispatcher=_t,this._animationsModuleType=Bt}create(yt){const F=this._createHostElement(),D=this._createPaneElement(F),M=this._createPortalOutlet(D),G=new De(yt);return G.direction=G.direction||this._directionality.value,new v(M,F,D,G,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(B.uvJ))}position(){return this._positionBuilder}_createPaneElement(yt){const F=this._document.createElement("div");return F.id="cdk-overlay-"+be++,F.classList.add("cdk-overlay-pane"),yt.appendChild(F),F}_createHostElement(){const yt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(yt),yt}_createPortalOutlet(yt){return this._appRef||(this._appRef=this._injector.get(B.o8S)),new V.aI(yt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.KVO(ve),B.KVO(a),B.KVO(B.OM3),B.KVO(Ce),B.KVO(I),B.KVO(B.zZn),B.KVO(B.SKi),B.KVO(w.qQ),B.KVO(A.dS),B.KVO(w.aZ),B.KVO(L),B.KVO(B.bc$,8))};static#t=this.\u0275prov=B.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();const ne=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],te=new B.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const Ne=(0,B.WQX)(he);return()=>Ne.scrollStrategies.reposition()}});let de=(()=>{class Ne{constructor(yt){this.elementRef=yt}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.rXU(B.aKT))};static#t=this.\u0275dir=B.FsC({type:Ne,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Ne})(),_e=(()=>{class Ne{get offsetX(){return this._offsetX}set offsetX(yt){this._offsetX=yt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(yt){this._offsetY=yt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(yt){this._disposeOnNavigation=yt}constructor(yt,F,D,M,G){this._overlay=yt,this._dir=G,this._backdropSubscription=K.yU.EMPTY,this._attachSubscription=K.yU.EMPTY,this._detachSubscription=K.yU.EMPTY,this._positionSubscription=K.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,B.WQX)(B.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new B.bkB,this.positionChange=new B.bkB,this.attach=new B.bkB,this.detach=new B.bkB,this.overlayKeydown=new B.bkB,this.overlayOutsideClick=new B.bkB,this._templatePortal=new V.VA(F,D),this._scrollStrategyFactory=M,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(yt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),yt.origin&&this.open&&this._position.apply()),yt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ne);const yt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=yt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=yt.detachments().subscribe(()=>this.detach.emit()),yt.keydownEvents().subscribe(F=>{this.overlayKeydown.next(F),F.keyCode===q._f&&!this.disableClose&&!(0,q.rp)(F)&&(F.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(F=>{const D=this._getOriginElement(),M=(0,b.Fb)(F);(!D||D!==M&&!D.contains(M))&&this.overlayOutsideClick.next(F)})}_buildConfig(){const yt=this._position=this.positionStrategy||this._createPositionStrategy(),F=new De({direction:this._dir,positionStrategy:yt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(F.width=this.width),(this.height||0===this.height)&&(F.height=this.height),(this.minWidth||0===this.minWidth)&&(F.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(F.minHeight=this.minHeight),this.backdropClass&&(F.backdropClass=this.backdropClass),this.panelClass&&(F.panelClass=this.panelClass),F}_updatePositionStrategy(yt){const F=this.positions.map(D=>({originX:D.originX,originY:D.originY,overlayX:D.overlayX,overlayY:D.overlayY,offsetX:D.offsetX||this.offsetX,offsetY:D.offsetY||this.offsetY,panelClass:D.panelClass||void 0}));return yt.setOrigin(this._getOrigin()).withPositions(F).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const yt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(yt),yt}_getOrigin(){return this.origin instanceof de?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof de?this.origin.elementRef.nativeElement:this.origin instanceof B.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(yt=>{this.backdropClick.emit(yt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function O(Ne,ke=!1){return(0,P.N)((yt,F)=>{let D=0;yt.subscribe((0,R._)(F,M=>{const G=Ne(M,D++);(G||ke)&&F.next(M),!G&&F.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(yt=>{this._ngZone.run(()=>this.positionChange.emit(yt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(F){return new(F||Ne)(B.rXU(he),B.rXU(B.C4Q),B.rXU(B.c1b),B.rXU(te),B.rXU(A.dS,8))};static#t=this.\u0275dir=B.FsC({type:Ne,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",B.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",B.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",B.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",B.L39],push:[2,"cdkConnectedOverlayPush","push",B.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",B.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[B.GFd,B.OA$]})}return Ne})();const He={provide:te,deps:[he],useFactory:function Ie(Ne){return()=>Ne.scrollStrategies.reposition()}};let Ve=(()=>{class Ne{static#e=this.\u0275fac=function(F){return new(F||Ne)};static#t=this.\u0275mod=B.$C({type:Ne});static#n=this.\u0275inj=B.G2t({providers:[he,He],imports:[A.jI,V.jc,g.E9,g.E9]})}return Ne})()},36860:($e,j,E)=>{"use strict";E.d(j,{BD:()=>q,BQ:()=>A,CZ:()=>Q,Fb:()=>ae,KT:()=>re,MU:()=>P,OD:()=>H,r5:()=>V,v8:()=>ue,vc:()=>ie});var g=E(93953),w=E(60177);let B;try{B=typeof Intl<"u"&&Intl.v8BreakIterator}catch{B=!1}let k,H=(()=>{class ce{constructor(ve){this._platformId=ve,this.isBrowser=this._platformId?(0,w.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!B)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(De){return new(De||ce)(g.KVO(g.Agw))};static#t=this.\u0275prov=g.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const S=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function P(){if(k)return k;if("object"!=typeof document||!document)return k=new Set(S),k;let ce=document.createElement("input");return k=new Set(S.filter(pe=>(ce.setAttribute("type",pe),ce.type===pe))),k}let R;function A(ce){return function O(){if(null==R&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>R=!0}))}finally{R=R||!1}return R}()?ce:!!ce.capture}var V=function(ce){return ce[ce.NORMAL=0]="NORMAL",ce[ce.NEGATED=1]="NEGATED",ce[ce.INVERTED=2]="INVERTED",ce}(V||{});let U,K,Y;function Q(){if(null==K){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return K=!1,K;if("scrollBehavior"in document.documentElement.style)K=!0;else{const ce=Element.prototype.scrollTo;K=!!ce&&!/\{\s*\[native code\]\s*\}/.test(ce.toString())}}return K}function q(){if("object"!=typeof document||!document)return V.NORMAL;if(null==U){const ce=document.createElement("div"),pe=ce.style;ce.dir="rtl",pe.width="1px",pe.overflow="auto",pe.visibility="hidden",pe.pointerEvents="none",pe.position="absolute";const ve=document.createElement("div"),De=ve.style;De.width="2px",De.height="1px",ce.appendChild(ve),document.body.appendChild(ce),U=V.NORMAL,0===ce.scrollLeft&&(ce.scrollLeft=1,U=0===ce.scrollLeft?V.NEGATED:V.INVERTED),ce.remove()}return U}function re(ce){if(function W(){if(null==Y){const ce=typeof document<"u"?document.head:null;Y=!(!ce||!ce.createShadowRoot&&!ce.attachShadow)}return Y}()){const pe=ce.getRootNode?ce.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&pe instanceof ShadowRoot)return pe}return null}function ie(){let ce=typeof document<"u"&&document?document.activeElement:null;for(;ce&&ce.shadowRoot;){const pe=ce.shadowRoot.activeElement;if(pe===ce)break;ce=pe}return ce}function ae(ce){return ce.composedPath?ce.composedPath()[0]:ce.target}function ue(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:($e,j,E)=>{"use strict";E.d(j,{A8:()=>O,I3:()=>re,VA:()=>A,aI:()=>Q,bV:()=>Y,jc:()=>ae,lb:()=>U});var g=E(93953),w=E(60177);class R{attach(pe){return this._attachedHost=pe,pe.attach(this)}detach(){let pe=this._attachedHost;null!=pe&&(this._attachedHost=null,pe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(pe){this._attachedHost=pe}}class O extends R{constructor(pe,ve,De,C,s){super(),this.component=pe,this.viewContainerRef=ve,this.injector=De,this.componentFactoryResolver=C,this.projectableNodes=s}}class A extends R{constructor(pe,ve,De,C){super(),this.templateRef=pe,this.viewContainerRef=ve,this.context=De,this.injector=C}get origin(){return this.templateRef.elementRef}attach(pe,ve=this.context){return this.context=ve,super.attach(pe)}detach(){return this.context=void 0,super.detach()}}class V extends R{constructor(pe){super(),this.element=pe instanceof g.aKT?pe.nativeElement:pe}}class U{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(pe){return pe instanceof O?(this._attachedPortal=pe,this.attachComponentPortal(pe)):pe instanceof A?(this._attachedPortal=pe,this.attachTemplatePortal(pe)):this.attachDomPortal&&pe instanceof V?(this._attachedPortal=pe,this.attachDomPortal(pe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(pe){this._disposeFn=pe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Q extends U{constructor(pe,ve,De,C,s){super(),this.outletElement=pe,this._componentFactoryResolver=ve,this._appRef=De,this._defaultInjector=C,this.attachDomPortal=d=>{const h=d.element,f=this._document.createComment("dom-portal");h.parentNode.insertBefore(f,h),this.outletElement.appendChild(h),this._attachedPortal=d,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(h,f)})},this._document=s}attachComponentPortal(pe){const De=(pe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(pe.component);let C;return pe.viewContainerRef?(C=pe.viewContainerRef.createComponent(De,pe.viewContainerRef.length,pe.injector||pe.viewContainerRef.injector,pe.projectableNodes||void 0),this.setDisposeFn(()=>C.destroy())):(C=De.create(pe.injector||this._defaultInjector||g.zZn.NULL),this._appRef.attachView(C.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(C.hostView),C.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(C)),this._attachedPortal=pe,C}attachTemplatePortal(pe){let ve=pe.viewContainerRef,De=ve.createEmbeddedView(pe.templateRef,pe.context,{injector:pe.injector});return De.rootNodes.forEach(C=>this.outletElement.appendChild(C)),De.detectChanges(),this.setDisposeFn(()=>{let C=ve.indexOf(De);-1!==C&&ve.remove(C)}),this._attachedPortal=pe,De}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(pe){return pe.hostView.rootNodes[0]}}let Y=(()=>{class ce extends A{constructor(ve,De){super(ve,De)}static#e=this.\u0275fac=function(De){return new(De||ce)(g.rXU(g.C4Q),g.rXU(g.c1b))};static#t=this.\u0275dir=g.FsC({type:ce,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[g.Vt3]})}return ce})(),re=(()=>{class ce extends U{constructor(ve,De,C){super(),this._componentFactoryResolver=ve,this._viewContainerRef=De,this._isInitialized=!1,this.attached=new g.bkB,this.attachDomPortal=s=>{const d=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),d.parentNode.insertBefore(h,d),this._getRootNode().appendChild(d),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(d,h)})},this._document=C}get portal(){return this._attachedPortal}set portal(ve){this.hasAttached()&&!ve&&!this._isInitialized||(this.hasAttached()&&super.detach(),ve&&super.attach(ve),this._attachedPortal=ve||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(ve){ve.setAttachedHost(this);const De=null!=ve.viewContainerRef?ve.viewContainerRef:this._viewContainerRef,s=(ve.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ve.component),d=De.createComponent(s,De.length,ve.injector||De.injector,ve.projectableNodes||void 0);return De!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=ve,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(ve){ve.setAttachedHost(this);const De=this._viewContainerRef.createEmbeddedView(ve.templateRef,ve.context,{injector:ve.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ve,this._attachedRef=De,this.attached.emit(De),De}_getRootNode(){const ve=this._viewContainerRef.element.nativeElement;return ve.nodeType===ve.ELEMENT_NODE?ve:ve.parentNode}static#e=this.\u0275fac=function(De){return new(De||ce)(g.rXU(g.OM3),g.rXU(g.c1b),g.rXU(w.qQ))};static#t=this.\u0275dir=g.FsC({type:ce,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[g.Vt3]})}return ce})(),ae=(()=>{class ce{static#e=this.\u0275fac=function(De){return new(De||ce)};static#t=this.\u0275mod=g.$C({type:ce});static#n=this.\u0275inj=g.G2t({})}return ce})()},67333:($e,j,E)=>{"use strict";E.d(j,{uv:()=>d,Gj:()=>le,R:()=>s,E9:()=>we,Xj:()=>f});var g=E(14085),w=E(93953),B=E(21413),H=E(7673),b=E(71985),k=E(33726),R=(E(30536),E(25007),E(43236)),O=E(39974),A=E(58750),V=E(54360),K=E(41584);function Q(Me,Ze=R.E){return function U(Me){return(0,O.N)((Ze,ge)=>{let me=!1,Ue=null,xe=null,Ce=!1;const be=()=>{if(xe?.unsubscribe(),xe=null,me){me=!1;const ne=Ue;Ue=null,ge.next(ne)}Ce&&ge.complete()},he=()=>{xe=null,Ce&&ge.complete()};Ze.subscribe((0,V._)(ge,ne=>{me=!0,Ue=ne,xe||(0,A.Tg)(Me(ne)).subscribe(xe=(0,V._)(ge,be,he))},()=>{Ce=!0,(!me||!xe||xe.closed)&&ge.complete()}))})}(()=>(0,K.O)(Me,Ze))}var q=E(5964),Y=E(56977),W=E(36860),re=E(60177),ie=E(28203);let s=(()=>{class Me{constructor(ge,me,Ue){this._ngZone=ge,this._platform=me,this._scrolled=new B.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ue}register(ge){this.scrollContainers.has(ge)||this.scrollContainers.set(ge,ge.elementScrolled().subscribe(()=>this._scrolled.next(ge)))}deregister(ge){const me=this.scrollContainers.get(ge);me&&(me.unsubscribe(),this.scrollContainers.delete(ge))}scrolled(ge=20){return this._platform.isBrowser?new b.c(me=>{this._globalSubscription||this._addGlobalListener();const Ue=ge>0?this._scrolled.pipe(Q(ge)).subscribe(me):this._scrolled.subscribe(me);return this._scrolledCount++,()=>{Ue.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,H.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ge,me)=>this.deregister(me)),this._scrolled.complete()}ancestorScrolled(ge,me){const Ue=this.getAncestorScrollContainers(ge);return this.scrolled(me).pipe((0,q.p)(xe=>!xe||Ue.indexOf(xe)>-1))}getAncestorScrollContainers(ge){const me=[];return this.scrollContainers.forEach((Ue,xe)=>{this._scrollableContainsElement(xe,ge)&&me.push(xe)}),me}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ge,me){let Ue=(0,g.i8)(me),xe=ge.getElementRef().nativeElement;do{if(Ue==xe)return!0}while(Ue=Ue.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ge=this._getWindow();return(0,k.R)(ge.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(me){return new(me||Me)(w.KVO(w.SKi),w.KVO(W.OD),w.KVO(re.qQ,8))};static#t=this.\u0275prov=w.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})(),d=(()=>{class Me{constructor(ge,me,Ue,xe){this.elementRef=ge,this.scrollDispatcher=me,this.ngZone=Ue,this.dir=xe,this._destroyed=new B.B,this._elementScrolled=new b.c(Ce=>this.ngZone.runOutsideAngular(()=>(0,k.R)(this.elementRef.nativeElement,"scroll").pipe((0,Y.Q)(this._destroyed)).subscribe(Ce)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ge){const me=this.elementRef.nativeElement,Ue=this.dir&&"rtl"==this.dir.value;null==ge.left&&(ge.left=Ue?ge.end:ge.start),null==ge.right&&(ge.right=Ue?ge.start:ge.end),null!=ge.bottom&&(ge.top=me.scrollHeight-me.clientHeight-ge.bottom),Ue&&(0,W.BD)()!=W.r5.NORMAL?(null!=ge.left&&(ge.right=me.scrollWidth-me.clientWidth-ge.left),(0,W.BD)()==W.r5.INVERTED?ge.left=ge.right:(0,W.BD)()==W.r5.NEGATED&&(ge.left=ge.right?-ge.right:ge.right)):null!=ge.right&&(ge.left=me.scrollWidth-me.clientWidth-ge.right),this._applyScrollToOptions(ge)}_applyScrollToOptions(ge){const me=this.elementRef.nativeElement;(0,W.CZ)()?me.scrollTo(ge):(null!=ge.top&&(me.scrollTop=ge.top),null!=ge.left&&(me.scrollLeft=ge.left))}measureScrollOffset(ge){const me="left",xe=this.elementRef.nativeElement;if("top"==ge)return xe.scrollTop;if("bottom"==ge)return xe.scrollHeight-xe.clientHeight-xe.scrollTop;const Ce=this.dir&&"rtl"==this.dir.value;return"start"==ge?ge=Ce?"right":me:"end"==ge&&(ge=Ce?me:"right"),Ce&&(0,W.BD)()==W.r5.INVERTED?ge==me?xe.scrollWidth-xe.clientWidth-xe.scrollLeft:xe.scrollLeft:Ce&&(0,W.BD)()==W.r5.NEGATED?ge==me?xe.scrollLeft+xe.scrollWidth-xe.clientWidth:-xe.scrollLeft:ge==me?xe.scrollLeft:xe.scrollWidth-xe.clientWidth-xe.scrollLeft}static#e=this.\u0275fac=function(me){return new(me||Me)(w.rXU(w.aKT),w.rXU(s),w.rXU(w.SKi),w.rXU(ie.dS,8))};static#t=this.\u0275dir=w.FsC({type:Me,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Me})(),f=(()=>{class Me{constructor(ge,me,Ue){this._platform=ge,this._change=new B.B,this._changeListener=xe=>{this._change.next(xe)},this._document=Ue,me.runOutsideAngular(()=>{if(ge.isBrowser){const xe=this._getWindow();xe.addEventListener("resize",this._changeListener),xe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ge=this._getWindow();ge.removeEventListener("resize",this._changeListener),ge.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ge={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ge}getViewportRect(){const ge=this.getViewportScrollPosition(),{width:me,height:Ue}=this.getViewportSize();return{top:ge.top,left:ge.left,bottom:ge.top+Ue,right:ge.left+me,height:Ue,width:me}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ge=this._document,me=this._getWindow(),Ue=ge.documentElement,xe=Ue.getBoundingClientRect();return{top:-xe.top||ge.body.scrollTop||me.scrollY||Ue.scrollTop||0,left:-xe.left||ge.body.scrollLeft||me.scrollX||Ue.scrollLeft||0}}change(ge=20){return ge>0?this._change.pipe(Q(ge)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ge=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ge.innerWidth,height:ge.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(me){return new(me||Me)(w.KVO(W.OD),w.KVO(w.SKi),w.KVO(re.qQ,8))};static#t=this.\u0275prov=w.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})(),le=(()=>{class Me{static#e=this.\u0275fac=function(me){return new(me||Me)};static#t=this.\u0275mod=w.$C({type:Me});static#n=this.\u0275inj=w.G2t({})}return Me})(),we=(()=>{class Me{static#e=this.\u0275fac=function(me){return new(me||Me)};static#t=this.\u0275mod=w.$C({type:Me});static#n=this.\u0275inj=w.G2t({imports:[ie.jI,le,ie.jI,le]})}return Me})()},60177:($e,j,E)=>{"use strict";E.d(j,{AJ:()=>so,Jj:()=>Tn,MD:()=>Kr,N0:()=>Ui,QT:()=>B,Sm:()=>q,Sq:()=>En,T3:()=>We,UE:()=>Rr,VF:()=>b,Vy:()=>Vr,Xr:()=>vr,YU:()=>Nr,ZD:()=>H,_b:()=>mr,aZ:()=>W,bT:()=>cr,fw:()=>Y,hb:()=>K,hj:()=>R,qQ:()=>S,vh:()=>nt});var g=E(93953);let w=null;function B(){return w}function H(Je){w??=Je}class b{}const S=new g.nKC("");let P=(()=>{class Je{historyGo(mt){throw new Error("")}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)};static#t=this.\u0275prov=g.jDH({token:Je,factory:()=>(0,g.WQX)(O),providedIn:"platform"})}return Je})();const R=new g.nKC("");let O=(()=>{class Je extends P{constructor(){super(),this._doc=(0,g.WQX)(S),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(mt){const Ut=B().getGlobalEventTarget(this._doc,"window");return Ut.addEventListener("popstate",mt,!1),()=>Ut.removeEventListener("popstate",mt)}onHashChange(mt){const Ut=B().getGlobalEventTarget(this._doc,"window");return Ut.addEventListener("hashchange",mt,!1),()=>Ut.removeEventListener("hashchange",mt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(mt){this._location.pathname=mt}pushState(mt,Ut,bn){this._history.pushState(mt,Ut,bn)}replaceState(mt,Ut,bn){this._history.replaceState(mt,Ut,bn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(mt=0){this._history.go(mt)}getState(){return this._history.state}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)};static#t=this.\u0275prov=g.jDH({token:Je,factory:()=>new Je,providedIn:"platform"})}return Je})();function A(Je,$t){if(0==Je.length)return $t;if(0==$t.length)return Je;let mt=0;return Je.endsWith("/")&&mt++,$t.startsWith("/")&&mt++,2==mt?Je+$t.substring(1):1==mt?Je+$t:Je+"/"+$t}function V(Je){const $t=Je.match(/#|\?|$/),mt=$t&&$t.index||Je.length;return Je.slice(0,mt-("/"===Je[mt-1]?1:0))+Je.slice(mt)}function U(Je){return Je&&"?"!==Je[0]?"?"+Je:Je}let K=(()=>{class Je{historyGo(mt){throw new Error("")}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)};static#t=this.\u0275prov=g.jDH({token:Je,factory:()=>(0,g.WQX)(q),providedIn:"root"})}return Je})();const Q=new g.nKC("");let q=(()=>{class Je extends K{constructor(mt,Ut){super(),this._platformLocation=mt,this._removeListenerFns=[],this._baseHref=Ut??this._platformLocation.getBaseHrefFromDOM()??(0,g.WQX)(S).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(mt){this._removeListenerFns.push(this._platformLocation.onPopState(mt),this._platformLocation.onHashChange(mt))}getBaseHref(){return this._baseHref}prepareExternalUrl(mt){return A(this._baseHref,mt)}path(mt=!1){const Ut=this._platformLocation.pathname+U(this._platformLocation.search),bn=this._platformLocation.hash;return bn&&mt?`${Ut}${bn}`:Ut}pushState(mt,Ut,bn,Rn){const fr=this.prepareExternalUrl(bn+U(Rn));this._platformLocation.pushState(mt,Ut,fr)}replaceState(mt,Ut,bn,Rn){const fr=this.prepareExternalUrl(bn+U(Rn));this._platformLocation.replaceState(mt,Ut,fr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(mt=0){this._platformLocation.historyGo?.(mt)}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)(g.KVO(P),g.KVO(Q,8))};static#t=this.\u0275prov=g.jDH({token:Je,factory:Je.\u0275fac,providedIn:"root"})}return Je})(),Y=(()=>{class Je extends K{constructor(mt,Ut){super(),this._platformLocation=mt,this._baseHref="",this._removeListenerFns=[],null!=Ut&&(this._baseHref=Ut)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(mt){this._removeListenerFns.push(this._platformLocation.onPopState(mt),this._platformLocation.onHashChange(mt))}getBaseHref(){return this._baseHref}path(mt=!1){const Ut=this._platformLocation.hash??"#";return Ut.length>0?Ut.substring(1):Ut}prepareExternalUrl(mt){const Ut=A(this._baseHref,mt);return Ut.length>0?"#"+Ut:Ut}pushState(mt,Ut,bn,Rn){let fr=this.prepareExternalUrl(bn+U(Rn));0==fr.length&&(fr=this._platformLocation.pathname),this._platformLocation.pushState(mt,Ut,fr)}replaceState(mt,Ut,bn,Rn){let fr=this.prepareExternalUrl(bn+U(Rn));0==fr.length&&(fr=this._platformLocation.pathname),this._platformLocation.replaceState(mt,Ut,fr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(mt=0){this._platformLocation.historyGo?.(mt)}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)(g.KVO(P),g.KVO(Q,8))};static#t=this.\u0275prov=g.jDH({token:Je,factory:Je.\u0275fac})}return Je})(),W=(()=>{class Je{constructor(mt){this._subject=new g.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=mt;const Ut=this._locationStrategy.getBaseHref();this._basePath=function ue(Je){if(new RegExp("^(https?:)?//").test(Je)){const[,mt]=Je.split(/\/\/[^\/]+/);return mt}return Je}(V(ae(Ut))),this._locationStrategy.onPopState(bn=>{this._subject.emit({url:this.path(!0),pop:!0,state:bn.state,type:bn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(mt=!1){return this.normalize(this._locationStrategy.path(mt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(mt,Ut=""){return this.path()==this.normalize(mt+U(Ut))}normalize(mt){return Je.stripTrailingSlash(function ie(Je,$t){if(!Je||!$t.startsWith(Je))return $t;const mt=$t.substring(Je.length);return""===mt||["/",";","?","#"].includes(mt[0])?mt:$t}(this._basePath,ae(mt)))}prepareExternalUrl(mt){return mt&&"/"!==mt[0]&&(mt="/"+mt),this._locationStrategy.prepareExternalUrl(mt)}go(mt,Ut="",bn=null){this._locationStrategy.pushState(bn,"",mt,Ut),this._notifyUrlChangeListeners(this.prepareExternalUrl(mt+U(Ut)),bn)}replaceState(mt,Ut="",bn=null){this._locationStrategy.replaceState(bn,"",mt,Ut),this._notifyUrlChangeListeners(this.prepareExternalUrl(mt+U(Ut)),bn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(mt=0){this._locationStrategy.historyGo?.(mt)}onUrlChange(mt){return this._urlChangeListeners.push(mt),this._urlChangeSubscription??=this.subscribe(Ut=>{this._notifyUrlChangeListeners(Ut.url,Ut.state)}),()=>{const Ut=this._urlChangeListeners.indexOf(mt);this._urlChangeListeners.splice(Ut,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(mt="",Ut){this._urlChangeListeners.forEach(bn=>bn(mt,Ut))}subscribe(mt,Ut,bn){return this._subject.subscribe({next:mt,error:Ut,complete:bn})}static#e=this.normalizeQueryParams=U;static#t=this.joinWithSlash=A;static#n=this.stripTrailingSlash=V;static#f=this.\u0275fac=function(Ut){return new(Ut||Je)(g.KVO(K))};static#D=this.\u0275prov=g.jDH({token:Je,factory:()=>function re(){return new W((0,g.KVO)(K))}(),providedIn:"root"})}return Je})();function ae(Je){return Je.replace(/\/index.html$/,"")}var De=function(Je){return Je[Je.Format=0]="Format",Je[Je.Standalone=1]="Standalone",Je}(De||{}),C=function(Je){return Je[Je.Narrow=0]="Narrow",Je[Je.Abbreviated=1]="Abbreviated",Je[Je.Wide=2]="Wide",Je[Je.Short=3]="Short",Je}(C||{}),s=function(Je){return Je[Je.Short=0]="Short",Je[Je.Medium=1]="Medium",Je[Je.Long=2]="Long",Je[Je.Full=3]="Full",Je}(s||{});const d={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Z(Je,$t){return ne((0,g.H5H)(Je)[g.KH2.DateFormat],$t)}function z(Je,$t){return ne((0,g.H5H)(Je)[g.KH2.TimeFormat],$t)}function ee(Je,$t){return ne((0,g.H5H)(Je)[g.KH2.DateTimeFormat],$t)}function le(Je,$t){const mt=(0,g.H5H)(Je),Ut=mt[g.KH2.NumberSymbols][$t];if(typeof Ut>"u"){if($t===d.CurrencyDecimal)return mt[g.KH2.NumberSymbols][d.Decimal];if($t===d.CurrencyGroup)return mt[g.KH2.NumberSymbols][d.Group]}return Ut}function xe(Je){if(!Je[g.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${Je[g.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ne(Je,$t){for(let mt=$t;mt>-1;mt--)if(typeof Je[mt]<"u")return Je[mt];throw new Error("Locale data API: locale data undefined")}function te(Je){const[$t,mt]=Je.split(":");return{hours:+$t,minutes:+mt}}const He=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ve={},Dt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ne=function(Je){return Je[Je.Short=0]="Short",Je[Je.ShortGMT=1]="ShortGMT",Je[Je.Long=2]="Long",Je[Je.Extended=3]="Extended",Je}(Ne||{}),ke=function(Je){return Je[Je.FullYear=0]="FullYear",Je[Je.Month=1]="Month",Je[Je.Date=2]="Date",Je[Je.Hours=3]="Hours",Je[Je.Minutes=4]="Minutes",Je[Je.Seconds=5]="Seconds",Je[Je.FractionalSeconds=6]="FractionalSeconds",Je[Je.Day=7]="Day",Je}(ke||{}),yt=function(Je){return Je[Je.DayPeriods=0]="DayPeriods",Je[Je.Days=1]="Days",Je[Je.Months=2]="Months",Je[Je.Eras=3]="Eras",Je}(yt||{});function F(Je,$t,mt,Ut){let bn=function rn(Je){if(at(Je))return Je;if("number"==typeof Je&&!isNaN(Je))return new Date(Je);if("string"==typeof Je){if(Je=Je.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Je)){const[bn,Rn=1,fr=1]=Je.split("-").map(Jr=>+Jr);return D(bn,Rn-1,fr)}const mt=parseFloat(Je);if(!isNaN(Je-mt))return new Date(mt);let Ut;if(Ut=Je.match(He))return function Zn(Je){const $t=new Date(0);let mt=0,Ut=0;const bn=Je[8]?$t.setUTCFullYear:$t.setFullYear,Rn=Je[8]?$t.setUTCHours:$t.setHours;Je[9]&&(mt=Number(Je[9]+Je[10]),Ut=Number(Je[9]+Je[11])),bn.call($t,Number(Je[1]),Number(Je[2])-1,Number(Je[3]));const fr=Number(Je[4]||0)-mt,Jr=Number(Je[5]||0)-Ut,Pi=Number(Je[6]||0),Ho=Math.floor(1e3*parseFloat("0."+(Je[7]||0)));return Rn.call($t,fr,Jr,Pi,Ho),$t}(Ut)}const $t=new Date(Je);if(!at($t))throw new Error(`Unable to convert "${Je}" into a date`);return $t}(Je);$t=M(mt,$t)||$t;let Jr,fr=[];for(;$t;){if(Jr=Dt.exec($t),!Jr){fr.push($t);break}{fr=fr.concat(Jr.slice(1));const Ro=fr.pop();if(!Ro)break;$t=Ro}}let Pi=bn.getTimezoneOffset();Ut&&(Pi=st(Ut,Pi),bn=function Xt(Je,$t,mt){const Ut=mt?-1:1,bn=Je.getTimezoneOffset();return function Zt(Je,$t){return(Je=new Date(Je.getTime())).setMinutes(Je.getMinutes()+$t),Je}(Je,Ut*(st($t,bn)-bn))}(bn,Ut,!0));let Ho="";return fr.forEach(Ro=>{const ti=function ut(Je){if(Qt[Je])return Qt[Je];let $t;switch(Je){case"G":case"GG":case"GGG":$t=Gt(yt.Eras,C.Abbreviated);break;case"GGGG":$t=Gt(yt.Eras,C.Wide);break;case"GGGGG":$t=Gt(yt.Eras,C.Narrow);break;case"y":$t=Ae(ke.FullYear,1,0,!1,!0);break;case"yy":$t=Ae(ke.FullYear,2,0,!0,!0);break;case"yyy":$t=Ae(ke.FullYear,3,0,!1,!0);break;case"yyyy":$t=Ae(ke.FullYear,4,0,!1,!0);break;case"Y":$t=on(1);break;case"YY":$t=on(2,!0);break;case"YYY":$t=on(3);break;case"YYYY":$t=on(4);break;case"M":case"L":$t=Ae(ke.Month,1,1);break;case"MM":case"LL":$t=Ae(ke.Month,2,1);break;case"MMM":$t=Gt(yt.Months,C.Abbreviated);break;case"MMMM":$t=Gt(yt.Months,C.Wide);break;case"MMMMM":$t=Gt(yt.Months,C.Narrow);break;case"LLL":$t=Gt(yt.Months,C.Abbreviated,De.Standalone);break;case"LLLL":$t=Gt(yt.Months,C.Wide,De.Standalone);break;case"LLLLL":$t=Gt(yt.Months,C.Narrow,De.Standalone);break;case"w":$t=Mn(1);break;case"ww":$t=Mn(2);break;case"W":$t=Mn(1,!0);break;case"d":$t=Ae(ke.Date,1);break;case"dd":$t=Ae(ke.Date,2);break;case"c":case"cc":$t=Ae(ke.Day,1);break;case"ccc":$t=Gt(yt.Days,C.Abbreviated,De.Standalone);break;case"cccc":$t=Gt(yt.Days,C.Wide,De.Standalone);break;case"ccccc":$t=Gt(yt.Days,C.Narrow,De.Standalone);break;case"cccccc":$t=Gt(yt.Days,C.Short,De.Standalone);break;case"E":case"EE":case"EEE":$t=Gt(yt.Days,C.Abbreviated);break;case"EEEE":$t=Gt(yt.Days,C.Wide);break;case"EEEEE":$t=Gt(yt.Days,C.Narrow);break;case"EEEEEE":$t=Gt(yt.Days,C.Short);break;case"a":case"aa":case"aaa":$t=Gt(yt.DayPeriods,C.Abbreviated);break;case"aaaa":$t=Gt(yt.DayPeriods,C.Wide);break;case"aaaaa":$t=Gt(yt.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":$t=Gt(yt.DayPeriods,C.Abbreviated,De.Standalone,!0);break;case"bbbb":$t=Gt(yt.DayPeriods,C.Wide,De.Standalone,!0);break;case"bbbbb":$t=Gt(yt.DayPeriods,C.Narrow,De.Standalone,!0);break;case"B":case"BB":case"BBB":$t=Gt(yt.DayPeriods,C.Abbreviated,De.Format,!0);break;case"BBBB":$t=Gt(yt.DayPeriods,C.Wide,De.Format,!0);break;case"BBBBB":$t=Gt(yt.DayPeriods,C.Narrow,De.Format,!0);break;case"h":$t=Ae(ke.Hours,1,-12);break;case"hh":$t=Ae(ke.Hours,2,-12);break;case"H":$t=Ae(ke.Hours,1);break;case"HH":$t=Ae(ke.Hours,2);break;case"m":$t=Ae(ke.Minutes,1);break;case"mm":$t=Ae(ke.Minutes,2);break;case"s":$t=Ae(ke.Seconds,1);break;case"ss":$t=Ae(ke.Seconds,2);break;case"S":$t=Ae(ke.FractionalSeconds,1);break;case"SS":$t=Ae(ke.FractionalSeconds,2);break;case"SSS":$t=Ae(ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":$t=Bt(Ne.Short);break;case"ZZZZZ":$t=Bt(Ne.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":$t=Bt(Ne.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":$t=Bt(Ne.Long);break;default:return null}return Qt[Je]=$t,$t}(Ro);Ho+=ti?ti(bn,mt,Pi):"''"===Ro?"'":Ro.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ho}function D(Je,$t,mt){const Ut=new Date(0);return Ut.setFullYear(Je,$t,mt),Ut.setHours(0,0,0),Ut}function M(Je,$t){const mt=function f(Je){return(0,g.H5H)(Je)[g.KH2.LocaleId]}(Je);if(Ve[mt]??={},Ve[mt][$t])return Ve[mt][$t];let Ut="";switch($t){case"shortDate":Ut=Z(Je,s.Short);break;case"mediumDate":Ut=Z(Je,s.Medium);break;case"longDate":Ut=Z(Je,s.Long);break;case"fullDate":Ut=Z(Je,s.Full);break;case"shortTime":Ut=z(Je,s.Short);break;case"mediumTime":Ut=z(Je,s.Medium);break;case"longTime":Ut=z(Je,s.Long);break;case"fullTime":Ut=z(Je,s.Full);break;case"short":const bn=M(Je,"shortTime"),Rn=M(Je,"shortDate");Ut=G(ee(Je,s.Short),[bn,Rn]);break;case"medium":const fr=M(Je,"mediumTime"),Jr=M(Je,"mediumDate");Ut=G(ee(Je,s.Medium),[fr,Jr]);break;case"long":const Pi=M(Je,"longTime"),Ho=M(Je,"longDate");Ut=G(ee(Je,s.Long),[Pi,Ho]);break;case"full":const Ro=M(Je,"fullTime"),ti=M(Je,"fullDate");Ut=G(ee(Je,s.Full),[Ro,ti])}return Ut&&(Ve[mt][$t]=Ut),Ut}function G(Je,$t){return $t&&(Je=Je.replace(/\{([^}]+)}/g,function(mt,Ut){return null!=$t&&Ut in $t?$t[Ut]:mt})),Je}function fe(Je,$t,mt="-",Ut,bn){let Rn="";(Je<0||bn&&Je<=0)&&(bn?Je=1-Je:(Je=-Je,Rn=mt));let fr=String(Je);for(;fr.length<$t;)fr="0"+fr;return Ut&&(fr=fr.slice(fr.length-$t)),Rn+fr}function Ae(Je,$t,mt=0,Ut=!1,bn=!1){return function(Rn,fr){let Jr=function ot(Je,$t){switch(Je){case ke.FullYear:return $t.getFullYear();case ke.Month:return $t.getMonth();case ke.Date:return $t.getDate();case ke.Hours:return $t.getHours();case ke.Minutes:return $t.getMinutes();case ke.Seconds:return $t.getSeconds();case ke.FractionalSeconds:return $t.getMilliseconds();case ke.Day:return $t.getDay();default:throw new Error(`Unknown DateType value "${Je}".`)}}(Je,Rn);if((mt>0||Jr>-mt)&&(Jr+=mt),Je===ke.Hours)0===Jr&&-12===mt&&(Jr=12);else if(Je===ke.FractionalSeconds)return function Se(Je,$t){return fe(Je,3).substring(0,$t)}(Jr,$t);const Pi=le(fr,d.MinusSign);return fe(Jr,$t,Pi,Ut,bn)}}function Gt(Je,$t,mt=De.Format,Ut=!1){return function(bn,Rn){return function _t(Je,$t,mt,Ut,bn,Rn){switch(mt){case yt.Months:return function L(Je,$t,mt){const Ut=(0,g.H5H)(Je),Rn=ne([Ut[g.KH2.MonthsFormat],Ut[g.KH2.MonthsStandalone]],$t);return ne(Rn,mt)}($t,bn,Ut)[Je.getMonth()];case yt.Days:return function I(Je,$t,mt){const Ut=(0,g.H5H)(Je),Rn=ne([Ut[g.KH2.DaysFormat],Ut[g.KH2.DaysStandalone]],$t);return ne(Rn,mt)}($t,bn,Ut)[Je.getDay()];case yt.DayPeriods:const fr=Je.getHours(),Jr=Je.getMinutes();if(Rn){const Ho=function Ce(Je){const $t=(0,g.H5H)(Je);return xe($t),($t[g.KH2.ExtraData][2]||[]).map(Ut=>"string"==typeof Ut?te(Ut):[te(Ut[0]),te(Ut[1])])}($t),Ro=function be(Je,$t,mt){const Ut=(0,g.H5H)(Je);xe(Ut);const Rn=ne([Ut[g.KH2.ExtraData][0],Ut[g.KH2.ExtraData][1]],$t)||[];return ne(Rn,mt)||[]}($t,bn,Ut),ti=Ho.findIndex(Us=>{if(Array.isArray(Us)){const[Wo,To]=Us,cc=fr>=Wo.hours&&Jr>=Wo.minutes,yd=fr<To.hours||fr===To.hours&&Jr<To.minutes;if(Wo.hours<To.hours){if(cc&&yd)return!0}else if(cc||yd)return!0}else if(Us.hours===fr&&Us.minutes===Jr)return!0;return!1});if(-1!==ti)return Ro[ti]}return function _(Je,$t,mt){const Ut=(0,g.H5H)(Je),Rn=ne([Ut[g.KH2.DayPeriodsFormat],Ut[g.KH2.DayPeriodsStandalone]],$t);return ne(Rn,mt)}($t,bn,Ut)[fr<12?0:1];case yt.Eras:return function x(Je,$t){return ne((0,g.H5H)(Je)[g.KH2.Eras],$t)}($t,Ut)[Je.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${mt}`)}}(bn,Rn,Je,$t,mt,Ut)}}function Bt(Je){return function($t,mt,Ut){const bn=-1*Ut,Rn=le(mt,d.MinusSign),fr=bn>0?Math.floor(bn/60):Math.ceil(bn/60);switch(Je){case Ne.Short:return(bn>=0?"+":"")+fe(fr,2,Rn)+fe(Math.abs(bn%60),2,Rn);case Ne.ShortGMT:return"GMT"+(bn>=0?"+":"")+fe(fr,1,Rn);case Ne.Long:return"GMT"+(bn>=0?"+":"")+fe(fr,2,Rn)+":"+fe(Math.abs(bn%60),2,Rn);case Ne.Extended:return 0===Ut?"Z":(bn>=0?"+":"")+fe(fr,2,Rn)+":"+fe(Math.abs(bn%60),2,Rn);default:throw new Error(`Unknown zone width "${Je}"`)}}}const en=0,pn=4;function tr(Je){const $t=Je.getDay(),mt=0===$t?-3:pn-$t;return D(Je.getFullYear(),Je.getMonth(),Je.getDate()+mt)}function Mn(Je,$t=!1){return function(mt,Ut){let bn;if($t){const Rn=new Date(mt.getFullYear(),mt.getMonth(),1).getDay()-1,fr=mt.getDate();bn=1+Math.floor((fr+Rn)/7)}else{const Rn=tr(mt),fr=function cn(Je){const $t=D(Je,en,1).getDay();return D(Je,0,1+($t<=pn?pn:pn+7)-$t)}(Rn.getFullYear()),Jr=Rn.getTime()-fr.getTime();bn=1+Math.round(Jr/6048e5)}return fe(bn,Je,le(Ut,d.MinusSign))}}function on(Je,$t=!1){return function(mt,Ut){return fe(tr(mt).getFullYear(),Je,le(Ut,d.MinusSign),$t)}}const Qt={};function st(Je,$t){Je=Je.replace(/:/g,"");const mt=Date.parse("Jan 01, 1970 00:00:00 "+Je)/6e4;return isNaN(mt)?$t:mt}function at(Je){return Je instanceof Date&&!isNaN(Je.valueOf())}function mr(Je,$t){$t=encodeURIComponent($t);for(const mt of Je.split(";")){const Ut=mt.indexOf("="),[bn,Rn]=-1==Ut?[mt,""]:[mt.slice(0,Ut),mt.slice(Ut+1)];if(bn.trim()===$t)return decodeURIComponent(Rn)}return null}const Pr=/\s+/,Sr=[];let Nr=(()=>{class Je{constructor(mt,Ut){this._ngEl=mt,this._renderer=Ut,this.initialClasses=Sr,this.stateMap=new Map}set klass(mt){this.initialClasses=null!=mt?mt.trim().split(Pr):Sr}set ngClass(mt){this.rawClass="string"==typeof mt?mt.trim().split(Pr):mt}ngDoCheck(){for(const Ut of this.initialClasses)this._updateState(Ut,!0);const mt=this.rawClass;if(Array.isArray(mt)||mt instanceof Set)for(const Ut of mt)this._updateState(Ut,!0);else if(null!=mt)for(const Ut of Object.keys(mt))this._updateState(Ut,!!mt[Ut]);this._applyStateDiff()}_updateState(mt,Ut){const bn=this.stateMap.get(mt);void 0!==bn?(bn.enabled!==Ut&&(bn.changed=!0,bn.enabled=Ut),bn.touched=!0):this.stateMap.set(mt,{enabled:Ut,changed:!0,touched:!0})}_applyStateDiff(){for(const mt of this.stateMap){const Ut=mt[0],bn=mt[1];bn.changed?(this._toggleClass(Ut,bn.enabled),bn.changed=!1):bn.touched||(bn.enabled&&this._toggleClass(Ut,!1),this.stateMap.delete(Ut)),bn.touched=!1}}_toggleClass(mt,Ut){(mt=mt.trim()).length>0&&mt.split(Pr).forEach(bn=>{Ut?this._renderer.addClass(this._ngEl.nativeElement,bn):this._renderer.removeClass(this._ngEl.nativeElement,bn)})}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)(g.rXU(g.aKT),g.rXU(g.sFG))};static#t=this.\u0275dir=g.FsC({type:Je,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return Je})();class yn{constructor($t,mt,Ut,bn){this.$implicit=$t,this.ngForOf=mt,this.index=Ut,this.count=bn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let En=(()=>{class Je{set ngForOf(mt){this._ngForOf=mt,this._ngForOfDirty=!0}set ngForTrackBy(mt){this._trackByFn=mt}get ngForTrackBy(){return this._trackByFn}constructor(mt,Ut,bn){this._viewContainer=mt,this._template=Ut,this._differs=bn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(mt){mt&&(this._template=mt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const mt=this._ngForOf;!this._differ&&mt&&(this._differ=this._differs.find(mt).create(this.ngForTrackBy))}if(this._differ){const mt=this._differ.diff(this._ngForOf);mt&&this._applyChanges(mt)}}_applyChanges(mt){const Ut=this._viewContainer;mt.forEachOperation((bn,Rn,fr)=>{if(null==bn.previousIndex)Ut.createEmbeddedView(this._template,new yn(bn.item,this._ngForOf,-1,-1),null===fr?void 0:fr);else if(null==fr)Ut.remove(null===Rn?void 0:Rn);else if(null!==Rn){const Jr=Ut.get(Rn);Ut.move(Jr,fr),Fn(Jr,bn)}});for(let bn=0,Rn=Ut.length;bn<Rn;bn++){const Jr=Ut.get(bn).context;Jr.index=bn,Jr.count=Rn,Jr.ngForOf=this._ngForOf}mt.forEachIdentityChange(bn=>{Fn(Ut.get(bn.currentIndex),bn)})}static ngTemplateContextGuard(mt,Ut){return!0}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)(g.rXU(g.c1b),g.rXU(g.C4Q),g.rXU(g._q3))};static#t=this.\u0275dir=g.FsC({type:Je,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return Je})();function Fn(Je,$t){Je.context.$implicit=$t.item}let cr=(()=>{class Je{constructor(mt,Ut){this._viewContainer=mt,this._context=new hr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ut}set ngIf(mt){this._context.$implicit=this._context.ngIf=mt,this._updateView()}set ngIfThen(mt){jr("ngIfThen",mt),this._thenTemplateRef=mt,this._thenViewRef=null,this._updateView()}set ngIfElse(mt){jr("ngIfElse",mt),this._elseTemplateRef=mt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(mt,Ut){return!0}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)(g.rXU(g.c1b),g.rXU(g.C4Q))};static#t=this.\u0275dir=g.FsC({type:Je,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return Je})();class hr{constructor(){this.$implicit=null,this.ngIf=null}}function jr(Je,$t){if($t&&!$t.createEmbeddedView)throw new Error(`${Je} must be a TemplateRef, but received '${(0,g.Tbb)($t)}'.`)}let We=(()=>{class Je{constructor(mt){this._viewContainerRef=mt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(mt){if(this._shouldRecreateView(mt)){const Ut=this._viewContainerRef;if(this._viewRef&&Ut.remove(Ut.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const bn=this._createContextForwardProxy();this._viewRef=Ut.createEmbeddedView(this.ngTemplateOutlet,bn,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(mt){return!!mt.ngTemplateOutlet||!!mt.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(mt,Ut,bn)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Ut,bn),get:(mt,Ut,bn)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Ut,bn)}})}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)(g.rXU(g.c1b))};static#t=this.\u0275dir=g.FsC({type:Je,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.OA$]})}return Je})();function Mt(Je,$t){return new g.wOt(2100,!1)}class Lt{createSubscription($t,mt){return(0,g.O8t)(()=>$t.subscribe({next:mt,error:Ut=>{throw Ut}}))}dispose($t){(0,g.O8t)(()=>$t.unsubscribe())}}class Yt{createSubscription($t,mt){return $t.then(mt,Ut=>{throw Ut})}dispose($t){}}const mn=new Yt,Ln=new Lt;let Tn=(()=>{class Je{constructor(mt){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=mt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(mt){if(!this._obj){if(mt)try{this.markForCheckOnValueUpdate=!1,this._subscribe(mt)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return mt!==this._obj?(this._dispose(),this.transform(mt)):this._latestValue}_subscribe(mt){this._obj=mt,this._strategy=this._selectStrategy(mt),this._subscription=this._strategy.createSubscription(mt,Ut=>this._updateLatestValue(mt,Ut))}_selectStrategy(mt){if((0,g.jNT)(mt))return mn;if((0,g.zjR)(mt))return Ln;throw Mt()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(mt,Ut){mt===this._obj&&(this._latestValue=Ut,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)(g.rXU(g.gRc,16))};static#t=this.\u0275pipe=g.EJ8({name:"async",type:Je,pure:!1,standalone:!0})}return Je})();const Rt=new g.nKC(""),tt=new g.nKC("");let nt=(()=>{class Je{constructor(mt,Ut,bn){this.locale=mt,this.defaultTimezone=Ut,this.defaultOptions=bn}transform(mt,Ut,bn,Rn){if(null==mt||""===mt||mt!=mt)return null;try{return F(mt,Ut??this.defaultOptions?.dateFormat??"mediumDate",Rn||this.locale,bn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(fr){throw Mt()}}static#e=this.\u0275fac=function(Ut){return new(Ut||Je)(g.rXU(g.xe9,16),g.rXU(Rt,24),g.rXU(tt,24))};static#t=this.\u0275pipe=g.EJ8({name:"date",type:Je,pure:!0,standalone:!0})}return Je})(),Kr=(()=>{class Je{static#e=this.\u0275fac=function(Ut){return new(Ut||Je)};static#t=this.\u0275mod=g.$C({type:Je});static#n=this.\u0275inj=g.G2t({})}return Je})();const so="browser",$r="server";function Rr(Je){return Je===so}function Vr(Je){return Je===$r}let vr=(()=>{class Je{static#e=this.\u0275prov=(0,g.jDH)({token:Je,providedIn:"root",factory:()=>Rr((0,g.WQX)(g.Agw))?new ni((0,g.WQX)(S),window):new co})}return Je})();class ni{constructor($t,mt){this.document=$t,this.window=mt,this.offset=()=>[0,0]}setOffset($t){this.offset=Array.isArray($t)?()=>$t:$t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition($t){this.window.scrollTo($t[0],$t[1])}scrollToAnchor($t){const mt=function Zi(Je,$t){const mt=Je.getElementById($t)||Je.getElementsByName($t)[0];if(mt)return mt;if("function"==typeof Je.createTreeWalker&&Je.body&&"function"==typeof Je.body.attachShadow){const Ut=Je.createTreeWalker(Je.body,NodeFilter.SHOW_ELEMENT);let bn=Ut.currentNode;for(;bn;){const Rn=bn.shadowRoot;if(Rn){const fr=Rn.getElementById($t)||Rn.querySelector(`[name="${$t}"]`);if(fr)return fr}bn=Ut.nextNode()}}return null}(this.document,$t);mt&&(this.scrollToElement(mt),mt.focus())}setHistoryScrollRestoration($t){this.window.history.scrollRestoration=$t}scrollToElement($t){const mt=$t.getBoundingClientRect(),Ut=mt.left+this.window.pageXOffset,bn=mt.top+this.window.pageYOffset,Rn=this.offset();this.window.scrollTo(Ut-Rn[0],bn-Rn[1])}}class co{setOffset($t){}getScrollPosition(){return[0,0]}scrollToPosition($t){}scrollToAnchor($t){}setHistoryScrollRestoration($t){}}class Ui{}},21626:($e,j,E)=>{"use strict";E.d(j,{Qq:()=>ee,q1:()=>ln});var g=E(10467),w=E(93953),B=E(7673),H=E(71985),b=E(86648),k=E(70274),S=E(5964),P=E(96354),R=E(70980),O=E(25558),A=E(60177);class V{}class U{}class K{constructor(yn){this.normalizedNames=new Map,this.lazyUpdate=null,yn?"string"==typeof yn?this.lazyInit=()=>{this.headers=new Map,yn.split("\n").forEach(En=>{const Fn=En.indexOf(":");if(Fn>0){const Wn=En.slice(0,Fn),cr=Wn.toLowerCase(),hr=En.slice(Fn+1).trim();this.maybeSetNormalizedName(Wn,cr),this.headers.has(cr)?this.headers.get(cr).push(hr):this.headers.set(cr,[hr])}})}:typeof Headers<"u"&&yn instanceof Headers?(this.headers=new Map,yn.forEach((En,Fn)=>{this.setHeaderEntries(Fn,En)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(yn).forEach(([En,Fn])=>{this.setHeaderEntries(En,Fn)})}:this.headers=new Map}has(yn){return this.init(),this.headers.has(yn.toLowerCase())}get(yn){this.init();const En=this.headers.get(yn.toLowerCase());return En&&En.length>0?En[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(yn){return this.init(),this.headers.get(yn.toLowerCase())||null}append(yn,En){return this.clone({name:yn,value:En,op:"a"})}set(yn,En){return this.clone({name:yn,value:En,op:"s"})}delete(yn,En){return this.clone({name:yn,value:En,op:"d"})}maybeSetNormalizedName(yn,En){this.normalizedNames.has(En)||this.normalizedNames.set(En,yn)}init(){this.lazyInit&&(this.lazyInit instanceof K?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(yn=>this.applyUpdate(yn)),this.lazyUpdate=null))}copyFrom(yn){yn.init(),Array.from(yn.headers.keys()).forEach(En=>{this.headers.set(En,yn.headers.get(En)),this.normalizedNames.set(En,yn.normalizedNames.get(En))})}clone(yn){const En=new K;return En.lazyInit=this.lazyInit&&this.lazyInit instanceof K?this.lazyInit:this,En.lazyUpdate=(this.lazyUpdate||[]).concat([yn]),En}applyUpdate(yn){const En=yn.name.toLowerCase();switch(yn.op){case"a":case"s":let Fn=yn.value;if("string"==typeof Fn&&(Fn=[Fn]),0===Fn.length)return;this.maybeSetNormalizedName(yn.name,En);const Wn=("a"===yn.op?this.headers.get(En):void 0)||[];Wn.push(...Fn),this.headers.set(En,Wn);break;case"d":const cr=yn.value;if(cr){let hr=this.headers.get(En);if(!hr)return;hr=hr.filter(jr=>-1===cr.indexOf(jr)),0===hr.length?(this.headers.delete(En),this.normalizedNames.delete(En)):this.headers.set(En,hr)}else this.headers.delete(En),this.normalizedNames.delete(En)}}setHeaderEntries(yn,En){const Fn=(Array.isArray(En)?En:[En]).map(cr=>cr.toString()),Wn=yn.toLowerCase();this.headers.set(Wn,Fn),this.maybeSetNormalizedName(yn,Wn)}forEach(yn){this.init(),Array.from(this.normalizedNames.keys()).forEach(En=>yn(this.normalizedNames.get(En),this.headers.get(En)))}}class q{encodeKey(yn){return ie(yn)}encodeValue(yn){return ie(yn)}decodeKey(yn){return decodeURIComponent(yn)}decodeValue(yn){return decodeURIComponent(yn)}}const W=/%(\d[a-f0-9])/gi,re={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ie(nn){return encodeURIComponent(nn).replace(W,(yn,En)=>re[En]??yn)}function ae(nn){return`${nn}`}class ue{constructor(yn={}){if(this.updates=null,this.cloneFrom=null,this.encoder=yn.encoder||new q,yn.fromString){if(yn.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Y(nn,yn){const En=new Map;return nn.length>0&&nn.replace(/^\?/,"").split("&").forEach(Wn=>{const cr=Wn.indexOf("="),[hr,jr]=-1==cr?[yn.decodeKey(Wn),""]:[yn.decodeKey(Wn.slice(0,cr)),yn.decodeValue(Wn.slice(cr+1))],Or=En.get(hr)||[];Or.push(jr),En.set(hr,Or)}),En}(yn.fromString,this.encoder)}else yn.fromObject?(this.map=new Map,Object.keys(yn.fromObject).forEach(En=>{const Fn=yn.fromObject[En],Wn=Array.isArray(Fn)?Fn.map(ae):[ae(Fn)];this.map.set(En,Wn)})):this.map=null}has(yn){return this.init(),this.map.has(yn)}get(yn){this.init();const En=this.map.get(yn);return En?En[0]:null}getAll(yn){return this.init(),this.map.get(yn)||null}keys(){return this.init(),Array.from(this.map.keys())}append(yn,En){return this.clone({param:yn,value:En,op:"a"})}appendAll(yn){const En=[];return Object.keys(yn).forEach(Fn=>{const Wn=yn[Fn];Array.isArray(Wn)?Wn.forEach(cr=>{En.push({param:Fn,value:cr,op:"a"})}):En.push({param:Fn,value:Wn,op:"a"})}),this.clone(En)}set(yn,En){return this.clone({param:yn,value:En,op:"s"})}delete(yn,En){return this.clone({param:yn,value:En,op:"d"})}toString(){return this.init(),this.keys().map(yn=>{const En=this.encoder.encodeKey(yn);return this.map.get(yn).map(Fn=>En+"="+this.encoder.encodeValue(Fn)).join("&")}).filter(yn=>""!==yn).join("&")}clone(yn){const En=new ue({encoder:this.encoder});return En.cloneFrom=this.cloneFrom||this,En.updates=(this.updates||[]).concat(yn),En}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(yn=>this.map.set(yn,this.cloneFrom.map.get(yn))),this.updates.forEach(yn=>{switch(yn.op){case"a":case"s":const En=("a"===yn.op?this.map.get(yn.param):void 0)||[];En.push(ae(yn.value)),this.map.set(yn.param,En);break;case"d":if(void 0===yn.value){this.map.delete(yn.param);break}{let Fn=this.map.get(yn.param)||[];const Wn=Fn.indexOf(ae(yn.value));-1!==Wn&&Fn.splice(Wn,1),Fn.length>0?this.map.set(yn.param,Fn):this.map.delete(yn.param)}}}),this.cloneFrom=this.updates=null)}}class pe{constructor(){this.map=new Map}set(yn,En){return this.map.set(yn,En),this}get(yn){return this.map.has(yn)||this.map.set(yn,yn.defaultValue()),this.map.get(yn)}delete(yn){return this.map.delete(yn),this}has(yn){return this.map.has(yn)}keys(){return this.map.keys()}}function De(nn){return typeof ArrayBuffer<"u"&&nn instanceof ArrayBuffer}function C(nn){return typeof Blob<"u"&&nn instanceof Blob}function s(nn){return typeof FormData<"u"&&nn instanceof FormData}class h{constructor(yn,En,Fn,Wn){let cr;if(this.url=En,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=yn.toUpperCase(),function ve(nn){switch(nn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Wn?(this.body=void 0!==Fn?Fn:null,cr=Wn):cr=Fn,cr&&(this.reportProgress=!!cr.reportProgress,this.withCredentials=!!cr.withCredentials,cr.responseType&&(this.responseType=cr.responseType),cr.headers&&(this.headers=cr.headers),cr.context&&(this.context=cr.context),cr.params&&(this.params=cr.params),this.transferCache=cr.transferCache),this.headers??=new K,this.context??=new pe,this.params){const hr=this.params.toString();if(0===hr.length)this.urlWithParams=En;else{const jr=En.indexOf("?");this.urlWithParams=En+(-1===jr?"?":jr<En.length-1?"&":"")+hr}}else this.params=new ue,this.urlWithParams=En}serializeBody(){return null===this.body?null:"string"==typeof this.body||De(this.body)||C(this.body)||s(this.body)||function d(nn){return typeof URLSearchParams<"u"&&nn instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||s(this.body)?null:C(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(yn={}){const En=yn.method||this.method,Fn=yn.url||this.url,Wn=yn.responseType||this.responseType,cr=yn.transferCache??this.transferCache,hr=void 0!==yn.body?yn.body:this.body,jr=yn.withCredentials??this.withCredentials,Or=yn.reportProgress??this.reportProgress;let $i=yn.headers||this.headers,oo=yn.params||this.params;const Hi=yn.context??this.context;return void 0!==yn.setHeaders&&($i=Object.keys(yn.setHeaders).reduce((bi,pi)=>bi.set(pi,yn.setHeaders[pi]),$i)),yn.setParams&&(oo=Object.keys(yn.setParams).reduce((bi,pi)=>bi.set(pi,yn.setParams[pi]),oo)),new h(En,Fn,hr,{params:oo,headers:$i,context:Hi,reportProgress:Or,responseType:Wn,withCredentials:jr,transferCache:cr})}}var f=function(nn){return nn[nn.Sent=0]="Sent",nn[nn.UploadProgress=1]="UploadProgress",nn[nn.ResponseHeader=2]="ResponseHeader",nn[nn.DownloadProgress=3]="DownloadProgress",nn[nn.Response=4]="Response",nn[nn.User=5]="User",nn}(f||{});class _{constructor(yn,En=200,Fn="OK"){this.headers=yn.headers||new K,this.status=void 0!==yn.status?yn.status:En,this.statusText=yn.statusText||Fn,this.url=yn.url||null,this.ok=this.status>=200&&this.status<300}}class I extends _{constructor(yn={}){super(yn),this.type=f.ResponseHeader}clone(yn={}){return new I({headers:yn.headers||this.headers,status:void 0!==yn.status?yn.status:this.status,statusText:yn.statusText||this.statusText,url:yn.url||this.url||void 0})}}class L extends _{constructor(yn={}){super(yn),this.type=f.Response,this.body=void 0!==yn.body?yn.body:null}clone(yn={}){return new L({body:void 0!==yn.body?yn.body:this.body,headers:yn.headers||this.headers,status:void 0!==yn.status?yn.status:this.status,statusText:yn.statusText||this.statusText,url:yn.url||this.url||void 0})}}class x extends _{constructor(yn){super(yn,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${yn.url||"(unknown url)"}`:`Http failure response for ${yn.url||"(unknown url)"}: ${yn.status} ${yn.statusText}`,this.error=yn.error||null}}function z(nn,yn){return{body:yn,headers:nn.headers,context:nn.context,observe:nn.observe,params:nn.params,reportProgress:nn.reportProgress,responseType:nn.responseType,withCredentials:nn.withCredentials,transferCache:nn.transferCache}}let ee=(()=>{class nn{constructor(En){this.handler=En}request(En,Fn,Wn={}){let cr;if(En instanceof h)cr=En;else{let Or,$i;Or=Wn.headers instanceof K?Wn.headers:new K(Wn.headers),Wn.params&&($i=Wn.params instanceof ue?Wn.params:new ue({fromObject:Wn.params})),cr=new h(En,Fn,void 0!==Wn.body?Wn.body:null,{headers:Or,context:Wn.context,params:$i,reportProgress:Wn.reportProgress,responseType:Wn.responseType||"json",withCredentials:Wn.withCredentials,transferCache:Wn.transferCache})}const hr=(0,B.of)(cr).pipe((0,k.H)(Or=>this.handler.handle(Or)));if(En instanceof h||"events"===Wn.observe)return hr;const jr=hr.pipe((0,S.p)(Or=>Or instanceof L));switch(Wn.observe||"body"){case"body":switch(cr.responseType){case"arraybuffer":return jr.pipe((0,P.T)(Or=>{if(null!==Or.body&&!(Or.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Or.body}));case"blob":return jr.pipe((0,P.T)(Or=>{if(null!==Or.body&&!(Or.body instanceof Blob))throw new Error("Response is not a Blob.");return Or.body}));case"text":return jr.pipe((0,P.T)(Or=>{if(null!==Or.body&&"string"!=typeof Or.body)throw new Error("Response is not a string.");return Or.body}));default:return jr.pipe((0,P.T)(Or=>Or.body))}case"response":return jr;default:throw new Error(`Unreachable: unhandled observe type ${Wn.observe}}`)}}delete(En,Fn={}){return this.request("DELETE",En,Fn)}get(En,Fn={}){return this.request("GET",En,Fn)}head(En,Fn={}){return this.request("HEAD",En,Fn)}jsonp(En,Fn){return this.request("JSONP",En,{params:(new ue).append(Fn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(En,Fn={}){return this.request("OPTIONS",En,Fn)}patch(En,Fn,Wn={}){return this.request("PATCH",En,z(Wn,Fn))}post(En,Fn,Wn={}){return this.request("POST",En,z(Wn,Fn))}put(En,Fn,Wn={}){return this.request("PUT",En,z(Wn,Fn))}static#e=this.\u0275fac=function(Fn){return new(Fn||nn)(w.KVO(V))};static#t=this.\u0275prov=w.jDH({token:nn,factory:nn.\u0275fac})}return nn})();const le=/^\)\]\}',?\n/;function Me(nn){if(nn.url)return nn.url;const yn="X-Request-URL".toLocaleLowerCase();return nn.headers.get(yn)}let Ze=(()=>{class nn{constructor(){this.fetchImpl=(0,w.WQX)(ge,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,w.WQX)(w.SKi)}handle(En){return new H.c(Fn=>{const Wn=new AbortController;return this.doRequest(En,Wn.signal,Fn).then(me,cr=>Fn.error(new x({error:cr}))),()=>Wn.abort()})}doRequest(En,Fn,Wn){var cr=this;return(0,g.A)(function*(){const hr=cr.createRequestInit(En);let jr;try{const So=cr.fetchImpl(En.urlWithParams,{signal:Fn,...hr});(function Ue(nn){nn.then(me,me)})(So),Wn.next({type:f.Sent}),jr=yield So}catch(So){return void Wn.error(new x({error:So,status:So.status??0,statusText:So.statusText,url:En.urlWithParams,headers:So.headers}))}const Or=new K(jr.headers),$i=jr.statusText,oo=Me(jr)??En.urlWithParams;let Hi=jr.status,bi=null;if(En.reportProgress&&Wn.next(new I({headers:Or,status:Hi,statusText:$i,url:oo})),jr.body){const So=jr.headers.get("content-length"),wi=[],gt=jr.body.getReader();let We,qe,Ft=0;const Mt=typeof Zone<"u"&&Zone.current;yield cr.ngZone.runOutsideAngular((0,g.A)(function*(){for(;;){const{done:Yt,value:mn}=yield gt.read();if(Yt)break;if(wi.push(mn),Ft+=mn.length,En.reportProgress){qe="text"===En.responseType?(qe??"")+(We??=new TextDecoder).decode(mn,{stream:!0}):void 0;const Ln=()=>Wn.next({type:f.DownloadProgress,total:So?+So:void 0,loaded:Ft,partialText:qe});Mt?Mt.run(Ln):Ln()}}}));const Lt=cr.concatChunks(wi,Ft);try{const Yt=jr.headers.get("Content-Type")??"";bi=cr.parseBody(En,Lt,Yt)}catch(Yt){return void Wn.error(new x({error:Yt,headers:new K(jr.headers),status:jr.status,statusText:jr.statusText,url:Me(jr)??En.urlWithParams}))}}0===Hi&&(Hi=bi?200:0),Hi>=200&&Hi<300?(Wn.next(new L({body:bi,headers:Or,status:Hi,statusText:$i,url:oo})),Wn.complete()):Wn.error(new x({error:bi,headers:Or,status:Hi,statusText:$i,url:oo}))})()}parseBody(En,Fn,Wn){switch(En.responseType){case"json":const cr=(new TextDecoder).decode(Fn).replace(le,"");return""===cr?null:JSON.parse(cr);case"text":return(new TextDecoder).decode(Fn);case"blob":return new Blob([Fn],{type:Wn});case"arraybuffer":return Fn.buffer}}createRequestInit(En){const Fn={},Wn=En.withCredentials?"include":void 0;if(En.headers.forEach((cr,hr)=>Fn[cr]=hr.join(",")),Fn.Accept??="application/json, text/plain, */*",!Fn["Content-Type"]){const cr=En.detectContentTypeHeader();null!==cr&&(Fn["Content-Type"]=cr)}return{body:En.serializeBody(),method:En.method,headers:Fn,credentials:Wn}}concatChunks(En,Fn){const Wn=new Uint8Array(Fn);let cr=0;for(const hr of En)Wn.set(hr,cr),cr+=hr.length;return Wn}static#e=this.\u0275fac=function(Fn){return new(Fn||nn)};static#t=this.\u0275prov=w.jDH({token:nn,factory:nn.\u0275fac})}return nn})();class ge{}function me(){}function xe(nn,yn){return yn(nn)}function Ce(nn,yn){return(En,Fn)=>yn.intercept(En,{handle:Wn=>nn(Wn,Fn)})}const he=new w.nKC(""),ne=new w.nKC(""),te=new w.nKC(""),de=new w.nKC("",{providedIn:"root",factory:()=>!0});function _e(){let nn=null;return(yn,En)=>{null===nn&&(nn=((0,w.WQX)(he,{optional:!0})??[]).reduceRight(Ce,xe));const Fn=(0,w.WQX)(w.TgB);if((0,w.WQX)(de)){const cr=Fn.add();return nn(yn,En).pipe((0,R.j)(()=>Fn.remove(cr)))}return nn(yn,En)}}let Ve=(()=>{class nn extends V{constructor(En,Fn){super(),this.backend=En,this.injector=Fn,this.chain=null,this.pendingTasks=(0,w.WQX)(w.TgB),this.contributeToStability=(0,w.WQX)(de)}handle(En){if(null===this.chain){const Fn=Array.from(new Set([...this.injector.get(ne),...this.injector.get(te,[])]));this.chain=Fn.reduceRight((Wn,cr)=>function be(nn,yn,En){return(Fn,Wn)=>(0,w.N4e)(En,()=>yn(Fn,cr=>nn(cr,Wn)))}(Wn,cr,this.injector),xe)}if(this.contributeToStability){const Fn=this.pendingTasks.add();return this.chain(En,Wn=>this.backend.handle(Wn)).pipe((0,R.j)(()=>this.pendingTasks.remove(Fn)))}return this.chain(En,Fn=>this.backend.handle(Fn))}static#e=this.\u0275fac=function(Fn){return new(Fn||nn)(w.KVO(U),w.KVO(w.uvJ))};static#t=this.\u0275prov=w.jDH({token:nn,factory:nn.\u0275fac})}return nn})();const ot=/^\)\]\}',?\n/;let _t=(()=>{class nn{constructor(En){this.xhrFactory=En}handle(En){if("JSONP"===En.method)throw new w.wOt(-2800,!1);const Fn=this.xhrFactory;return(Fn.\u0275loadImpl?(0,b.H)(Fn.\u0275loadImpl()):(0,B.of)(null)).pipe((0,O.n)(()=>new H.c(cr=>{const hr=Fn.build();if(hr.open(En.method,En.urlWithParams),En.withCredentials&&(hr.withCredentials=!0),En.headers.forEach((wi,gt)=>hr.setRequestHeader(wi,gt.join(","))),En.headers.has("Accept")||hr.setRequestHeader("Accept","application/json, text/plain, */*"),!En.headers.has("Content-Type")){const wi=En.detectContentTypeHeader();null!==wi&&hr.setRequestHeader("Content-Type",wi)}if(En.responseType){const wi=En.responseType.toLowerCase();hr.responseType="json"!==wi?wi:"text"}const jr=En.serializeBody();let Or=null;const $i=()=>{if(null!==Or)return Or;const wi=hr.statusText||"OK",gt=new K(hr.getAllResponseHeaders()),Ft=function Gt(nn){return"responseURL"in nn&&nn.responseURL?nn.responseURL:/^X-Request-URL:/m.test(nn.getAllResponseHeaders())?nn.getResponseHeader("X-Request-URL"):null}(hr)||En.url;return Or=new I({headers:gt,status:hr.status,statusText:wi,url:Ft}),Or},oo=()=>{let{headers:wi,status:gt,statusText:Ft,url:We}=$i(),qe=null;204!==gt&&(qe=typeof hr.response>"u"?hr.responseText:hr.response),0===gt&&(gt=qe?200:0);let Mt=gt>=200&&gt<300;if("json"===En.responseType&&"string"==typeof qe){const Lt=qe;qe=qe.replace(ot,"");try{qe=""!==qe?JSON.parse(qe):null}catch(Yt){qe=Lt,Mt&&(Mt=!1,qe={error:Yt,text:qe})}}Mt?(cr.next(new L({body:qe,headers:wi,status:gt,statusText:Ft,url:We||void 0})),cr.complete()):cr.error(new x({error:qe,headers:wi,status:gt,statusText:Ft,url:We||void 0}))},Hi=wi=>{const{url:gt}=$i(),Ft=new x({error:wi,status:hr.status||0,statusText:hr.statusText||"Unknown Error",url:gt||void 0});cr.error(Ft)};let bi=!1;const pi=wi=>{bi||(cr.next($i()),bi=!0);let gt={type:f.DownloadProgress,loaded:wi.loaded};wi.lengthComputable&&(gt.total=wi.total),"text"===En.responseType&&hr.responseText&&(gt.partialText=hr.responseText),cr.next(gt)},So=wi=>{let gt={type:f.UploadProgress,loaded:wi.loaded};wi.lengthComputable&&(gt.total=wi.total),cr.next(gt)};return hr.addEventListener("load",oo),hr.addEventListener("error",Hi),hr.addEventListener("timeout",Hi),hr.addEventListener("abort",Hi),En.reportProgress&&(hr.addEventListener("progress",pi),null!==jr&&hr.upload&&hr.upload.addEventListener("progress",So)),hr.send(jr),cr.next({type:f.Sent}),()=>{hr.removeEventListener("error",Hi),hr.removeEventListener("abort",Hi),hr.removeEventListener("load",oo),hr.removeEventListener("timeout",Hi),En.reportProgress&&(hr.removeEventListener("progress",pi),null!==jr&&hr.upload&&hr.upload.removeEventListener("progress",So)),hr.readyState!==hr.DONE&&hr.abort()}})))}static#e=this.\u0275fac=function(Fn){return new(Fn||nn)(w.KVO(A.N0))};static#t=this.\u0275prov=w.jDH({token:nn,factory:nn.\u0275fac})}return nn})();const Bt=new w.nKC(""),pn=new w.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),tr=new w.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Mn{}let on=(()=>{class nn{constructor(En,Fn,Wn){this.doc=En,this.platform=Fn,this.cookieName=Wn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const En=this.doc.cookie||"";return En!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,A._b)(En,this.cookieName),this.lastCookieString=En),this.lastToken}static#e=this.\u0275fac=function(Fn){return new(Fn||nn)(w.KVO(A.qQ),w.KVO(w.Agw),w.KVO(pn))};static#t=this.\u0275prov=w.jDH({token:nn,factory:nn.\u0275fac})}return nn})();function Qt(nn,yn){const En=nn.url.toLowerCase();if(!(0,w.WQX)(Bt)||"GET"===nn.method||"HEAD"===nn.method||En.startsWith("http://")||En.startsWith("https://"))return yn(nn);const Fn=(0,w.WQX)(Mn).getToken(),Wn=(0,w.WQX)(tr);return null!=Fn&&!nn.headers.has(Wn)&&(nn=nn.clone({headers:nn.headers.set(Wn,Fn)})),yn(nn)}var st=function(nn){return nn[nn.Interceptors=0]="Interceptors",nn[nn.LegacyInterceptors=1]="LegacyInterceptors",nn[nn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",nn[nn.NoXsrfProtection=3]="NoXsrfProtection",nn[nn.JsonpSupport=4]="JsonpSupport",nn[nn.RequestsMadeViaParent=5]="RequestsMadeViaParent",nn[nn.Fetch=6]="Fetch",nn}(st||{});function Xt(...nn){const yn=[ee,_t,Ve,{provide:V,useExisting:Ve},{provide:U,useFactory:()=>(0,w.WQX)(Ze,{optional:!0})??(0,w.WQX)(_t)},{provide:ne,useValue:Qt,multi:!0},{provide:Bt,useValue:!0},{provide:Mn,useClass:on}];for(const En of nn)yn.push(...En.\u0275providers);return(0,w.EmA)(yn)}const Zn=new w.nKC("");function at(){return function Zt(nn,yn){return{\u0275kind:nn,\u0275providers:yn}}(st.LegacyInterceptors,[{provide:Zn,useFactory:_e},{provide:ne,useExisting:Zn,multi:!0}])}let ln=(()=>{class nn{static#e=this.\u0275fac=function(Fn){return new(Fn||nn)};static#t=this.\u0275mod=w.$C({type:nn});static#n=this.\u0275inj=w.G2t({providers:[Xt(at())]})}return nn})()},93953:($e,j,E)=>{"use strict";function g(i,c){return Object.is(i,c)}E.d(j,{bc$:()=>X3,iLQ:()=>A_,sZ2:()=>Sb,hnV:()=>ZT,wjH:()=>wf,o8S:()=>pl,BIS:()=>$8,gRc:()=>Ax,Ql9:()=>ak,OM3:()=>o0,Ocv:()=>jf,abz:()=>ip,Z63:()=>uu,aKT:()=>lh,uvJ:()=>Jd,zcH:()=>Rl,bkB:()=>nl,$GK:()=>$t,nKC:()=>Wi,zZn:()=>Fa,_q3:()=>jx,MKu:()=>$f,xe9:()=>Ku,Co$:()=>wI,Vns:()=>vh,SKi:()=>Ps,Xx1:()=>Kh,Agw:()=>cp,PLl:()=>Y3,rOR:()=>Y1,sFG:()=>zD,_9s:()=>vw,czy:()=>zm,WPN:()=>up,kdw:()=>xg,C4Q:()=>e0,NYb:()=>HT,giA:()=>WT,RxE:()=>rc,c1b:()=>ph,gXe:()=>Ml,mal:()=>bw,Tzd:()=>eE,Af3:()=>Rg,tdH:()=>G6,L39:()=>OA,EWP:()=>NA,a0P:()=>wR,Ol2:()=>ja,w6W:()=>l5,QZP:()=>Hk,Rfq:()=>zo,WQX:()=>ei,naY:()=>F_,Hps:()=>eo,QuC:()=>hu,EmA:()=>pu,geq:()=>Gn,Udg:()=>sc,Jn2:()=>nR,HJs:()=>_R,N4e:()=>sf,vPA:()=>Sw,O8t:()=>q_,An2:()=>Ep,H3F:()=>vx,H8p:()=>mM,KH2:()=>kf,TgB:()=>op,wOt:()=>xr,WHO:()=>VT,e01:()=>zT,lNU:()=>ci,h9k:()=>ay,$MX:()=>Bb,ZF7:()=>Fm,Kcf:()=>dC,e5t:()=>hC,UyX:()=>uC,cWb:()=>lC,osQ:()=>fC,H5H:()=>Yl,Zy3:()=>Do,mq5:()=>Mh,JZv:()=>ss,TL3:()=>Ok,LfX:()=>wl,plB:()=>hh,jNT:()=>_x,zjR:()=>Ex,ngT:()=>ks,TL$:()=>Z3,Tbb:()=>Cs,rcV:()=>yf,Vt3:()=>Tw,GFd:()=>fE,OA$:()=>vu,Jv_:()=>rs,aNF:()=>qp,R7$:()=>VC,BMQ:()=>xc,HbH:()=>_E,ZvI:()=>Gl,AVh:()=>Yy,vxM:()=>o_,wni:()=>pT,VBU:()=>$n,FsC:()=>Od,jDH:()=>yi,G2t:()=>Xf,$C:()=>Yi,EJ8:()=>Yo,rXU:()=>Zm,nrm:()=>a_,eu8:()=>c_,bVm:()=>tv,qex:()=>ev,k0s:()=>Lu,j41:()=>Qy,RV6:()=>dd,xGo:()=>V1,Mr5:()=>U0,pXf:()=>oT,KVO:()=>fo,kS0:()=>tl,QTQ:()=>aD,bIt:()=>cv,lsd:()=>J0,joV:()=>U1,qSk:()=>L1,XpG:()=>dT,nI1:()=>Ch,bMT:()=>Oi,i5U:()=>Ni,SdG:()=>fT,NAR:()=>uT,Y8G:()=>ls,FS9:()=>Xp,lJ4:()=>fv,eq3:()=>Th,l_i:()=>cx,mGM:()=>Dh,sdS:()=>m_,Dyx:()=>Hp,Z7z:()=>AE,fX1:()=>Jy,Vm6:()=>xh,Njj:()=>kM,eBV:()=>CM,B4B:()=>Fb,n$t:()=>KS,xc7:()=>Xw,Kam:()=>WE,zvX:()=>nv,DNE:()=>Ow,C5r:()=>j5,EFF:()=>Nf,JRh:()=>nx,SpI:()=>y_,DH7:()=>sx,mxI:()=>Ih,R50:()=>ox,GBs:()=>JE});let w=null,B=!1,H=1;const b=Symbol("SIGNAL");function k(i){const c=w;return w=i,c}function S(){return w}const O={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function A(i){if(B)throw new Error("");if(null===w)return;w.consumerOnSignalRead(i);const c=w.nextProducerIndex++;pe(w),c<w.producerNode.length&&w.producerNode[c]!==i&&ce(w)&&ue(w.producerNode[c],w.producerIndexOfThis[c]),w.producerNode[c]!==i&&(w.producerNode[c]=i,w.producerIndexOfThis[c]=ce(w)?ae(i,w,c):0),w.producerLastReadVersion[c]=i.version}function U(i){if((!ce(i)||i.dirty)&&(i.dirty||i.lastCleanEpoch!==H)){if(!i.producerMustRecompute(i)&&!re(i))return i.dirty=!1,void(i.lastCleanEpoch=H);i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=H}}function K(i){if(void 0===i.liveConsumerNode)return;const c=B;B=!0;try{for(const m of i.liveConsumerNode)m.dirty||q(m)}finally{B=c}}function Q(){return!1!==w?.consumerAllowSignalWrites}function q(i){i.dirty=!0,K(i),i.consumerMarkedDirty?.(i)}function Y(i){return i&&(i.nextProducerIndex=0),k(i)}function W(i,c){if(k(c),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(ce(i))for(let m=i.nextProducerIndex;m<i.producerNode.length;m++)ue(i.producerNode[m],i.producerIndexOfThis[m]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function re(i){pe(i);for(let c=0;c<i.producerNode.length;c++){const m=i.producerNode[c],T=i.producerLastReadVersion[c];if(T!==m.version||(U(m),T!==m.version))return!0}return!1}function ie(i){if(pe(i),ce(i))for(let c=0;c<i.producerNode.length;c++)ue(i.producerNode[c],i.producerIndexOfThis[c]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function ae(i,c,m){if(ve(i),0===i.liveConsumerNode.length&&De(i))for(let T=0;T<i.producerNode.length;T++)i.producerIndexOfThis[T]=ae(i.producerNode[T],i,T);return i.liveConsumerIndexOfThis.push(m),i.liveConsumerNode.push(c)-1}function ue(i,c){if(ve(i),1===i.liveConsumerNode.length&&De(i))for(let T=0;T<i.producerNode.length;T++)ue(i.producerNode[T],i.producerIndexOfThis[T]);const m=i.liveConsumerNode.length-1;if(i.liveConsumerNode[c]=i.liveConsumerNode[m],i.liveConsumerIndexOfThis[c]=i.liveConsumerIndexOfThis[m],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,c<i.liveConsumerNode.length){const T=i.liveConsumerIndexOfThis[c],$=i.liveConsumerNode[c];pe($),$.producerIndexOfThis[T]=c}}function ce(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function pe(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function ve(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function De(i){return void 0!==i.producerNode}const s=Symbol("UNSET"),d=Symbol("COMPUTING"),h=Symbol("ERRORED"),f={...O,value:s,dirty:!0,error:null,equal:g,producerMustRecompute:i=>i.value===s||i.value===d,producerRecomputeValue(i){if(i.value===d)throw new Error("Detected cycle in computations.");const c=i.value;i.value=d;const m=Y(i);let T;try{T=i.computation()}catch($){T=h,i.error=$}finally{W(i,m)}c!==s&&c!==h&&T!==h&&i.equal(c,T)?i.value=c:(i.value=T,i.version++)}};let I=function _(){throw new Error};function L(){I()}let a=null;function ee(i,c){Q()||L(),i.equal(i.value,c)||(i.value=c,function Me(i){i.version++,function V(){H++}(),K(i),a?.()}(i))}const we={...O,equal:g,value:void 0};const ge=()=>{},me={...O,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{null!==i.schedule&&i.schedule(i.ref)},hasRun:!1,cleanupFn:ge};var xe=E(84412),Ce=E(21413),be=E(18359),he=E(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const ci="https://g.co/ng/security#xss";class xr extends Error{constructor(c,m){super(Do(c,m)),this.code=c}}function Do(i,c){return`NG0${Math.abs(i)}${c?": "+c:""}`}const Io=Symbol("InputSignalNode#UNSET"),Da={...we,transformFn:void 0,applyValueToInputSignal(i,c){ee(i,c)}};function da(i){return{toString:i}.toString()}const La="__parameters__";function au(i,c,m){return da(()=>{const T=function Zd(i){return function(...m){if(i){const T=i(...m);for(const $ in T)this[$]=T[$]}}}(c);function $(...se){if(this instanceof $)return T.apply(this,se),this;const ye=new $(...se);return Te.annotation=ye,Te;function Te(Ye,Et,Nt){const dn=Ye.hasOwnProperty(La)?Ye[La]:Object.defineProperty(Ye,La,{value:[]})[La];for(;dn.length<=Nt;)dn.push(null);return(dn[Nt]=dn[Nt]||[]).push(ye),Ye}}return m&&($.prototype=Object.create(m.prototype)),$.prototype.ngMetadataName=i,$.annotationCls=$,$})}const ss=globalThis;function yo(i){for(let c in i)if(i[c]===yo)return c;throw Error("Could not find renamed property on target object.")}function la(i,c){for(const m in c)c.hasOwnProperty(m)&&!i.hasOwnProperty(m)&&(i[m]=c[m])}function Cs(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Cs).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const c=i.toString();if(null==c)return""+c;const m=c.indexOf("\n");return-1===m?c:c.substring(0,m)}function Yf(i,c){return null==i||""===i?null===c?"":c:null==c||""===c?i:i+" "+c}const du=yo({__forward_ref__:yo});function zo(i){return i.__forward_ref__=zo,i.toString=function(){return Cs(this())},i}function xi(i){return Ad(i)?i():i}function Ad(i){return"function"==typeof i&&i.hasOwnProperty(du)&&i.__forward_ref__===zo}function dt(i,c,m){i!=c&&function Ai(i,c,m,T){throw new Error(`ASSERTION ERROR: ${i}`+(null==T?"":` [Expected=> ${m} ${T} ${c} <=Actual]`))}(m,i,c,"==")}function yi(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xf(i){return{providers:i.providers||[],imports:i.imports||[]}}function Jf(i){return fm(i,Gc)||fm(i,ys)}function wl(i){return null!==Jf(i)}function fm(i,c){return i.hasOwnProperty(c)?i[c]:null}function _l(i){return i&&(i.hasOwnProperty(qf)||i.hasOwnProperty(c1))?i[qf]:null}const Gc=yo({\u0275prov:yo}),qf=yo({\u0275inj:yo}),ys=yo({ngInjectableDef:yo}),c1=yo({ngInjectorDef:yo});class Wi{constructor(c,m){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof m?this.__NG_ELEMENT_ID__=m:void 0!==m&&(this.\u0275prov=yi({token:this,providedIn:m.providedIn||"root",factory:m.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qu(i){return i&&!!i.\u0275providers}const $s=yo({\u0275cmp:yo}),jh=yo({\u0275dir:yo}),ef=yo({\u0275pipe:yo}),eh=yo({\u0275mod:yo}),kd=yo({\u0275fac:yo}),th=yo({__NG_ELEMENT_ID__:yo}),Bv=yo({__NG_ENV_ID__:yo});function pr(i){return"string"==typeof i?i:null==i?"":String(i)}function Je(i,c){throw new xr(-201,!1)}var $t=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}($t||{});let mt;function Ut(){return mt}function bn(i){const c=mt;return mt=i,c}function Rn(i,c,m){const T=Jf(i);return T&&"root"==T.providedIn?void 0===T.value?T.value=T.factory():T.value:m&$t.Optional?null:void 0!==c?c:void Je()}const Pi={},Ho="__NG_DI_FLAG__",Ro="ngTempTokenPath",Us=/\n/gm,To="__source";let cc;function ha(i){const c=cc;return cc=i,c}function Pc(i,c=$t.Default){if(void 0===cc)throw new xr(-203,!1);return null===cc?Rn(i,void 0,c):cc.get(i,c&$t.Optional?null:void 0,c)}function fo(i,c=$t.Default){return(Ut()||Pc)(xi(i),c)}function ei(i,c=$t.Default){return fo(i,lu(c))}function lu(i){return typeof i>"u"||"number"==typeof i?i:(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Ks(i){const c=[];for(let m=0;m<i.length;m++){const T=xi(i[m]);if(Array.isArray(T)){if(0===T.length)throw new xr(900,!1);let $,se=$t.Default;for(let ye=0;ye<T.length;ye++){const Te=T[ye],Ye=Lv(Te);"number"==typeof Ye?-1===Ye?$=Te.token:se|=Ye:$=Te}c.push(fo($,se))}else c.push(fo(T))}return c}function $h(i,c){return i[Ho]=c,i.prototype[Ho]=c,i}function Lv(i){return i[Ho]}const Kh=$h(au("Optional"),8),xg=$h(au("SkipSelf"),4);function Yd(i,c){return i.hasOwnProperty(kd)?i[kd]:null}function ih(i,c){i.forEach(m=>Array.isArray(m)?ih(m,c):c(m))}function Xd(i,c,m){c>=i.length?i.push(m):i.splice(c,0,m)}function Mg(i,c){return c>=i.length-1?i.pop():i.splice(c,1)[0]}function Rc(i,c,m){let T=Aa(i,c);return T>=0?i[1|T]=m:(T=~T,function Ta(i,c,m,T){let $=i.length;if($==c)i.push(m,T);else if(1===$)i.push(T,i[0]),i[0]=m;else{for($--,i.push(i[$-1],i[$]);$>c;)i[$]=i[$-2],$--;i[c]=m,i[c+1]=T}}(i,T,c,m)),T}function xl(i,c){const m=Aa(i,c);if(m>=0)return i[1|m]}function Aa(i,c){return function jv(i,c,m){let T=0,$=i.length>>m;for(;$!==T;){const se=T+($-T>>1),ye=i[se<<m];if(c===ye)return se<<m;ye>c?$=se:T=se+1}return~($<<m)}(i,c,1)}const za={},Fo=[],uu=new Wi(""),zh=new Wi("",-1),Sg=new Wi("");class Dg{get(c,m=Pi){if(m===Pi){const T=new Error(`NullInjectorError: No provider for ${Cs(c)}!`);throw T.name="NullInjectorError",T}return m}}var tf=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(tf||{}),Ml=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Ml||{}),Hh=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(Hh||{});function $v(i,c,m){let T=i.length;for(;;){const $=i.indexOf(c,m);if(-1===$)return $;if(0===$||i.charCodeAt($-1)<=32){const se=c.length;if($+se===T||i.charCodeAt($+se)<=32)return $}m=$+1}}function fu(i,c,m){let T=0;for(;T<m.length;){const $=m[T];if("number"==typeof $){if(0!==$)break;T++;const se=m[T++],ye=m[T++],Te=m[T++];i.setAttribute(c,ye,Te,se)}else{const se=$,ye=m[++T];Kv(se)?i.setProperty(c,se,ye):i.setAttribute(c,se,ye),T++}}return T}function Ig(i){return 3===i||4===i||6===i}function Kv(i){return 64===i.charCodeAt(0)}function Wh(i,c){if(null!==c&&0!==c.length)if(null===i||0===i.length)i=c.slice();else{let m=-1;for(let T=0;T<c.length;T++){const $=c[T];"number"==typeof $?m=$:0===m||Tg(i,m,$,null,-1===m||2===m?c[++T]:null)}}return i}function Tg(i,c,m,T,$){let se=0,ye=i.length;if(-1===c)ye=-1;else for(;se<i.length;){const Te=i[se++];if("number"==typeof Te){if(Te===c){ye=-1;break}if(Te>c){ye=se-1;break}}}for(;se<i.length;){const Te=i[se];if("number"==typeof Te)break;if(Te===m){if(null===T)return void(null!==$&&(i[se+1]=$));if(T===i[se+1])return void(i[se+2]=$)}se++,null!==T&&se++,null!==$&&se++}-1!==ye&&(i.splice(ye,0,c),se=ye+1),i.splice(se++,0,m),null!==T&&i.splice(se++,0,T),null!==$&&i.splice(se++,0,$)}const Gh="ng-template";function xo(i,c,m,T){let $=0;if(T){for(;$<c.length&&"string"==typeof c[$];$+=2)if("class"===c[$]&&-1!==$v(c[$+1].toLowerCase(),m,0))return!0}else if(ra(i))return!1;if($=c.indexOf(1,$),$>-1){let se;for(;++$<c.length&&"string"==typeof(se=c[$]);)if(se.toLowerCase()===m)return!0}return!1}function ra(i){return 4===i.type&&i.value!==Gh}function dM(i,c,m){return c===(4!==i.type||m?i.value:Gh)}function lM(i,c,m){let T=4;const $=i.attrs,se=null!==$?function rt(i){for(let c=0;c<i.length;c++)if(Ig(i[c]))return c;return i.length}($):0;let ye=!1;for(let Te=0;Te<c.length;Te++){const Ye=c[Te];if("number"!=typeof Ye){if(!ye)if(4&T){if(T=2|1&T,""!==Ye&&!dM(i,Ye,m)||""===Ye&&1===c.length){if(Rd(T))return!1;ye=!0}}else if(8&T){if(null===$||!xo(i,$,Ye,m)){if(Rd(T))return!1;ye=!0}}else{const Et=c[++Te],Nt=lc(Ye,$,ra(i),m);if(-1===Nt){if(Rd(T))return!1;ye=!0;continue}if(""!==Et){let dn;if(dn=Nt>se?"":$[Nt+1].toLowerCase(),2&T&&Et!==dn){if(Rd(T))return!1;ye=!0}}}}else{if(!ye&&!Rd(T)&&!Rd(Ye))return!1;if(ye&&Rd(Ye))continue;ye=!1,T=Ye|1&T}}return Rd(T)||ye}function Rd(i){return!(1&i)}function lc(i,c,m,T){if(null===c)return-1;let $=0;if(T||!m){let se=!1;for(;$<c.length;){const ye=c[$];if(ye===i)return $;if(3===ye||6===ye)se=!0;else{if(1===ye||2===ye){let Te=c[++$];for(;"string"==typeof Te;)Te=c[++$];continue}if(4===ye)break;if(0===ye){$+=4;continue}}$+=se?1:2}return-1}return function ze(i,c){let m=i.indexOf(4);if(m>-1)for(m++;m<i.length;){const T=i[m];if("number"==typeof T)return-1;if(T===c)return m;m++}return-1}(c,i)}function h1(i,c,m=!1){for(let T=0;T<c.length;T++)if(lM(i,c[T],m))return!0;return!1}function ct(i,c){e:for(let m=0;m<c.length;m++){const T=c[m];if(i.length===T.length){for(let $=0;$<i.length;$++)if(i[$]!==T[$])continue e;return!0}}return!1}function At(i,c){return i?":not("+c.trim()+")":c}function sn(i){let c=i[0],m=1,T=2,$="",se=!1;for(;m<i.length;){let ye=i[m];if("string"==typeof ye)if(2&T){const Te=i[++m];$+="["+ye+(Te.length>0?'="'+Te+'"':"")+"]"}else 8&T?$+="."+ye:4&T&&($+=" "+ye);else""!==$&&!Rd(ye)&&(c+=At(se,$),$=""),T=ye,se=se||!Rd(T);m++}return""!==$&&(c+=At(se,$)),c}function $n(i){return da(()=>{const c=uM(i),m={...c,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===tf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Ml.Emulated,styles:i.styles||Fo,_:null,schemas:i.schemas||null,tView:null,id:""};fM(m);const T=i.dependencies;return m.directiveDefs=Vv(T,!1),m.pipeDefs=Vv(T,!0),m.id=function Mi(i){let c=0;const m=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const $ of m)c=Math.imul(31,c)+$.charCodeAt(0)|0;return c+=2147483648,"c"+c}(m),m})}function Tr(i){return Ri(i)||Go(i)}function Ci(i){return null!==i}function Yi(i){return da(()=>({type:i.type,bootstrap:i.bootstrap||Fo,declarations:i.declarations||Fo,imports:i.imports||Fo,exports:i.exports||Fo,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ho(i,c){if(null==i)return za;const m={};for(const T in i)if(i.hasOwnProperty(T)){const $=i[T];let se,ye,Te=Hh.None;Array.isArray($)?(Te=$[0],se=$[1],ye=$[2]??se):(se=$,ye=$),c?(m[se]=Te!==Hh.None?[T,Te]:T,c[se]=ye):m[se]=T}return m}function Od(i){return da(()=>{const c=uM(i);return fM(c),c})}function Yo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ri(i){return i[$s]||null}function Go(i){return i[jh]||null}function Zo(i){return i[ef]||null}function hu(i){const c=Ri(i)||Go(i)||Zo(i);return null!==c&&c.standalone}function pa(i,c){const m=i[eh]||null;if(!m&&!0===c)throw new Error(`Type ${Cs(i)} does not have '\u0275mod' property.`);return m}function uM(i){const c={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:i.inputs||za,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Fo,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ho(i.inputs,c),outputs:ho(i.outputs),debugInfo:null}}function fM(i){i.features?.forEach(c=>c(i))}function Vv(i,c){if(!i)return null;const m=c?Zo:Tr;return()=>("function"==typeof i?i():i).map(T=>m(T)).filter(Ci)}function pu(i){return{\u0275providers:i}}function QA(...i){return{\u0275providers:p1(0,i),\u0275fromNgModule:!0}}function p1(i,...c){const m=[],T=new Set;let $;const se=ye=>{m.push(ye)};return ih(c,ye=>{const Te=ye;Cg(Te,se,[],T)&&($||=[],$.push(Te))}),void 0!==$&&Ag($,se),m}function Ag(i,c){for(let m=0;m<i.length;m++){const{ngModule:T,providers:$}=i[m];m1($,se=>{c(se,T)})}}function Cg(i,c,m,T){if(!(i=xi(i)))return!1;let $=null,se=_l(i);const ye=!se&&Ri(i);if(se||ye){if(ye&&!ye.standalone)return!1;$=i}else{const Ye=i.ngModule;if(se=_l(Ye),!se)return!1;$=Ye}const Te=T.has($);if(ye){if(Te)return!1;if(T.add($),ye.dependencies){const Ye="function"==typeof ye.dependencies?ye.dependencies():ye.dependencies;for(const Et of Ye)Cg(Et,c,m,T)}}else{if(!se)return!1;{if(null!=se.imports&&!Te){let Et;T.add($);try{ih(se.imports,Nt=>{Cg(Nt,c,m,T)&&(Et||=[],Et.push(Nt))})}finally{}void 0!==Et&&Ag(Et,c)}if(!Te){const Et=Yd($)||(()=>new $);c({provide:$,useFactory:Et,deps:Fo},$),c({provide:Sg,useValue:$,multi:!0},$),c({provide:uu,useValue:()=>fo($),multi:!0},$)}const Ye=se.providers;if(null!=Ye&&!Te){const Et=i;m1(Ye,Nt=>{c(Nt,Et)})}}}return $!==i&&void 0!==i.providers}function m1(i,c){for(let m of i)Qu(m)&&(m=m.\u0275providers),Array.isArray(m)?m1(m,c):c(m)}const nf=yo({provide:String,useValue:yo});function kg(i){return null!==i&&"object"==typeof i&&nf in i}function mm(i){return"function"==typeof i}const mM=new Wi(""),zv={},gM={};let Hv;function Pg(){return void 0===Hv&&(Hv=new Dg),Hv}class Jd{}class gm extends Jd{get destroyed(){return this._destroyed}constructor(c,m,T,$){super(),this.parent=m,this.source=T,this.scopes=$,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rf(c,ye=>this.processProvider(ye)),this.records.set(zh,Sl(void 0,this)),$.has("environment")&&this.records.set(Jd,Sl(void 0,this));const se=this.records.get(mM);null!=se&&"string"==typeof se.value&&this.scopes.add(se.value),this.injectorDefTypes=new Set(this.get(Sg,Fo,$t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const c=k(null);try{for(const T of this._ngOnDestroyHooks)T.ngOnDestroy();const m=this._onDestroyHooks;this._onDestroyHooks=[];for(const T of m)T()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(c)}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const m=ha(this),T=bn(void 0);try{return c()}finally{ha(m),bn(T)}}get(c,m=Pi,T=$t.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(Bv))return c[Bv](this);T=lu(T);const se=ha(this),ye=bn(void 0);try{if(!(T&$t.SkipSelf)){let Ye=this.records.get(c);if(void 0===Ye){const Et=function Yh(i){return"function"==typeof i||"object"==typeof i&&i instanceof Wi}(c)&&Jf(c);Ye=Et&&this.injectableDefInScope(Et)?Sl(Wv(c),zv):null,this.records.set(c,Ye)}if(null!=Ye)return this.hydrate(c,Ye)}return(T&$t.Self?Pg():this.parent).get(c,m=T&$t.Optional&&m===Pi?null:m)}catch(Te){if("NullInjectorError"===Te.name){if((Te[Ro]=Te[Ro]||[]).unshift(Cs(c)),se)throw Te;return function Hs(i,c,m,T){const $=i[Ro];throw c[To]&&$.unshift(c[To]),i.message=function Uv(i,c,m,T=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let $=Cs(c);if(Array.isArray(c))$=c.map(Cs).join(" -> ");else if("object"==typeof c){let se=[];for(let ye in c)if(c.hasOwnProperty(ye)){let Te=c[ye];se.push(ye+":"+("string"==typeof Te?JSON.stringify(Te):Cs(Te)))}$=`{${se.join(", ")}}`}return`${m}${T?"("+T+")":""}[${$}]: ${i.replace(Us,"\n  ")}`}("\n"+i.message,$,m,T),i.ngTokenPath=$,i[Ro]=null,i}(Te,c,"R3InjectorError",this.source)}throw Te}finally{bn(ye),ha(se)}}resolveInjectorInitializers(){const c=k(null),m=ha(this),T=bn(void 0);try{const se=this.get(uu,Fo,$t.Self);for(const ye of se)ye()}finally{ha(m),bn(T),k(c)}}toString(){const c=[],m=this.records;for(const T of m.keys())c.push(Cs(T));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xr(205,!1)}processProvider(c){let m=mm(c=xi(c))?c:xi(c&&c.provide);const T=function yM(i){return kg(i)?Sl(void 0,i.useValue):Sl(ym(i),zv)}(c);if(!mm(c)&&!0===c.multi){let $=this.records.get(m);$||($=Sl(void 0,zv,!0),$.factory=()=>Ks($.multi),this.records.set(m,$)),m=c,$.multi.push(c)}this.records.set(m,T)}hydrate(c,m){const T=k(null);try{return m.value===zv&&(m.value=gM,m.value=m.factory()),"object"==typeof m.value&&m.value&&function Zh(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(m.value)&&this._ngOnDestroyHooks.add(m.value),m.value}finally{k(T)}}injectableDefInScope(c){if(!c.providedIn)return!1;const m=xi(c.providedIn);return"string"==typeof m?"any"===m||this.scopes.has(m):this.injectorDefTypes.has(m)}removeOnDestroy(c){const m=this._onDestroyHooks.indexOf(c);-1!==m&&this._onDestroyHooks.splice(m,1)}}function Wv(i){const c=Jf(i),m=null!==c?c.factory:Yd(i);if(null!==m)return m;if(i instanceof Wi)throw new xr(204,!1);if(i instanceof Function)return function Oo(i){if(i.length>0)throw new xr(204,!1);const m=function a1(i){return i&&(i[Gc]||i[ys])||null}(i);return null!==m?()=>m.factory(i):()=>new i}(i);throw new xr(204,!1)}function ym(i,c,m){let T;if(mm(i)){const $=xi(i);return Yd($)||Wv($)}if(kg(i))T=()=>xi(i.useValue);else if(function pM(i){return!(!i||!i.useFactory)}(i))T=()=>i.useFactory(...Ks(i.deps||[]));else if(function hM(i){return!(!i||!i.useExisting)}(i))T=()=>fo(xi(i.useExisting));else{const $=xi(i&&(i.useClass||i.provide));if(!function uc(i){return!!i.deps}(i))return Yd($)||Wv($);T=()=>new $(...Ks(i.deps))}return T}function Sl(i,c,m=!1){return{factory:i,value:c,multi:m?[]:void 0}}function rf(i,c){for(const m of i)Array.isArray(m)?rf(m,c):m&&Qu(m)?rf(m.\u0275providers,c):c(m)}function sf(i,c){i instanceof gm&&i.assertNotDestroyed();const T=ha(i),$=bn(void 0);try{return c()}finally{ha(T),bn($)}}function vM(){return void 0!==Ut()||null!=function yd(){return cc}()}function Rg(i){if(!vM())throw new xr(-203,!1)}const Ws=0,kr=1,vi=2,ia=3,Dl=4,ma=5,Jc=6,bm=7,Fs=8,Ca=9,mu=10,Qi=11,gu=12,_M=13,wm=14,Gs=15,Jh=16,_m=17,af=18,oh=19,qh=20,sh=21,Zv=22,qd=23,ki=25,b1=1,Qd=7,Em=9,ga=10;var Xv=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(Xv||{});function Ha(i){return Array.isArray(i)&&"object"==typeof i[b1]}function Wa(i){return Array.isArray(i)&&!0===i[b1]}function w1(i){return!!(4&i.flags)}function Qh(i){return i.componentOffset>-1}function Jv(i){return!(1&~i.flags)}function Il(i){return!!i.template}function Lg(i){return!!(512&i[vi])}class qv{constructor(c,m,T){this.previousValue=c,this.currentValue=m,this.firstChange=T}isFirstChange(){return this.firstChange}}function cf(i,c,m,T){null!==c?c.applyValueToInputSignal(c,T):i[m]=T}function vu(){return Fg}function Fg(i){return i.type.prototype.ngOnChanges&&(i.setInput=f3),u3}function u3(){const i=IM(this),c=i?.current;if(c){const m=i.previous;if(m===za)i.previous=c;else for(let T in c)m[T]=c[T];i.current=null,this.ngOnChanges(c)}}function f3(i,c,m,T,$){const se=this.declaredInputs[T],ye=IM(i)||function h3(i,c){return i[M1]=c}(i,{previous:za,current:null}),Te=ye.current||(ye.current={}),Ye=ye.previous,Et=Ye[se];Te[se]=new qv(Et&&Et.currentValue,m,Ye===za),cf(i,c,$,m)}vu.ngInherit=!0;const M1="__ngSimpleChanges__";function IM(i){return i[M1]||null}const vd=function(i,c,m){},jg="svg";function ts(i){for(;Array.isArray(i);)i=i[Ws];return i}function $g(i,c){return ts(c[i])}function qc(i,c){return ts(c[i.index])}function Kg(i,c){return i.data[c]}function xm(i,c){return i[c]}function Nd(i,c){const m=c[i];return Ha(m)?m:m[Ws]}function AM(i){return!(128&~i[vi])}function bd(i,c){return null==c?null:i[c]}function y3(i){i[_m]=0}function v3(i){1024&i[vi]||(i[vi]|=1024,AM(i)&&Qv(i))}function Vg(i){return!!(9216&i[vi]||i[qd]?.dirty)}function D1(i){i[mu].changeDetectionScheduler?.notify(7),64&i[vi]&&(i[vi]|=1024),Vg(i)&&Qv(i)}function Qv(i){i[mu].changeDetectionScheduler?.notify(0);let c=bu(i);for(;null!==c&&!(8192&c[vi])&&(c[vi]|=8192,AM(c));)c=bu(c)}function zg(i,c){if(!(256&~i[vi]))throw new xr(911,!1);null===i[sh]&&(i[sh]=[]),i[sh].push(c)}function bu(i){const c=i[ia];return Wa(c)?c[ia]:c}const Xi={lFrame:N1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let wu=!1;function w3(){return Xi.bindingsEnabled}function Mm(){return null!==Xi.skipHydrationRootTNode}function ar(){return Xi.lFrame.lView}function Mo(){return Xi.lFrame.tView}function CM(i){return Xi.lFrame.contextLView=i,i[Fs]}function kM(i){return Xi.lFrame.contextLView=null,i}function hs(){let i=C1();for(;null!==i&&64===i.type;)i=i.parent;return i}function C1(){return Xi.lFrame.currentTNode}function Hg(){const i=Xi.lFrame,c=i.currentTNode;return i.isParent?c:c.parent}function _u(i,c){const m=Xi.lFrame;m.currentTNode=i,m.isParent=c}function tb(){return Xi.lFrame.isParent}function Wg(){Xi.lFrame.isParent=!1}function RM(){return wu}function OM(i){wu=i}function Qc(){const i=Xi.lFrame;let c=i.bindingRootIndex;return-1===c&&(c=i.bindingRootIndex=i.tView.bindingStartIndex),c}function Cl(){return Xi.lFrame.bindingIndex++}function lf(i){const c=Xi.lFrame,m=c.bindingIndex;return c.bindingIndex=c.bindingIndex+i,m}function Gg(i){Xi.lFrame.inI18n=i}function k1(i,c){const m=Xi.lFrame;m.bindingIndex=m.bindingRootIndex=i,Sm(c)}function Sm(i){Xi.lFrame.currentDirectiveIndex=i}function P1(i){const c=Xi.lFrame.currentDirectiveIndex;return-1===c?null:i[c]}function R1(){return Xi.lFrame.currentQueryIndex}function rb(i){Xi.lFrame.currentQueryIndex=i}function O1(i){const c=i[kr];return 2===c.type?c.declTNode:1===c.type?i[ma]:null}function ib(i,c,m){if(m&$t.SkipSelf){let $=c,se=i;for(;!($=$.parent,null!==$||m&$t.Host||($=O1(se),null===$||(se=se[wm],10&$.type))););if(null===$)return!1;c=$,i=se}const T=Xi.lFrame=x3();return T.currentTNode=c,T.lView=i,!0}function BM(i){const c=x3(),m=i[kr];Xi.lFrame=c,c.currentTNode=m.firstChild,c.lView=i,c.tView=m,c.contextLView=i,c.bindingIndex=m.bindingStartIndex,c.inI18n=!1}function x3(){const i=Xi.lFrame,c=null===i?null:i.child;return null===c?N1(i):c}function N1(i){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=c),c}function ob(){const i=Xi.lFrame;return Xi.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ka=ob;function B1(){const i=ob();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Oc(){return Xi.lFrame.selectedIndex}function kl(i){Xi.lFrame.selectedIndex=i}function js(){const i=Xi.lFrame;return Kg(i.tView,i.selectedIndex)}function L1(){Xi.lFrame.currentNamespace=jg}function U1(){!function D3(){Xi.lFrame.currentNamespace=null}()}let UM=!0;function Zg(){return UM}function Eu(i){UM=i}function sb(i,c){for(let m=c.directiveStart,T=c.directiveEnd;m<T;m++){const se=i.data[m].type.prototype,{ngAfterContentInit:ye,ngAfterContentChecked:Te,ngAfterViewInit:Ye,ngAfterViewChecked:Et,ngOnDestroy:Nt}=se;ye&&(i.contentHooks??=[]).push(-m,ye),Te&&((i.contentHooks??=[]).push(m,Te),(i.contentCheckHooks??=[]).push(m,Te)),Ye&&(i.viewHooks??=[]).push(-m,Ye),Et&&((i.viewHooks??=[]).push(m,Et),(i.viewCheckHooks??=[]).push(m,Et)),null!=Nt&&(i.destroyHooks??=[]).push(m,Nt)}}function tp(i,c,m){el(i,c,3,m)}function ab(i,c,m,T){(3&i[vi])===m&&el(i,c,m,T)}function cb(i,c){let m=i[vi];(3&m)===c&&(m&=16383,m+=1,i[vi]=m)}function el(i,c,m,T){const se=T??-1,ye=c.length-1;let Te=0;for(let Ye=void 0!==T?65535&i[_m]:0;Ye<ye;Ye++)if("number"==typeof c[Ye+1]){if(Te=c[Ye],null!=T&&Te>=T)break}else c[Ye]<0&&(i[_m]+=65536),(Te<se||-1==se)&&(db(i,m,c,Ye),i[_m]=(4294901760&i[_m])+Ye+2),Ye++}function uf(i,c){vd(4,i,c);const m=k(null);try{c.call(i)}finally{k(m),vd(5,i,c)}}function db(i,c,m,T){const $=m[T]<0,se=m[T+1],Te=i[$?-m[T]:m[T]];$?i[vi]>>14<i[_m]>>16&&(3&i[vi])===c&&(i[vi]+=16384,uf(Te,se)):uf(Te,se)}const oa=-1;class ch{constructor(c,m,T){this.factory=c,this.resolving=!1,this.canSeeViewProviders=m,this.injectImpl=T}}const Dm={};class np{constructor(c,m){this.injector=c,this.parentInjector=m}get(c,m,T){T=lu(T);const $=this.injector.get(c,Dm,T);return $!==Dm||m===Dm?$:this.parentInjector.get(c,m,T)}}function j1(i){return i!==oa}function Xg(i){return 32767&i}function Im(i,c){let m=function $M(i){return i>>16}(i),T=c;for(;m>0;)T=T[wm],m--;return T}let xu=!0;function Tm(i){const c=xu;return xu=i,c}const $1=255,KM=5;let VM=0;const Pl={};function Mu(i,c){const m=zM(i,c);if(-1!==m)return m;const T=c[kr];T.firstCreatePass&&(i.injectorIndex=c.length,K1(T.data,i),K1(c,null),K1(T.blueprint,null));const $=fb(i,c),se=i.injectorIndex;if(j1($)){const ye=Xg($),Te=Im($,c),Ye=Te[kr].data;for(let Et=0;Et<8;Et++)c[se+Et]=Te[ye+Et]|Ye[ye+Et]}return c[se+8]=$,se}function K1(i,c){i.push(0,0,0,0,0,0,0,0,c)}function zM(i,c){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===c[i.injectorIndex+8]?-1:i.injectorIndex}function fb(i,c){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let m=0,T=null,$=c;for(;null!==$;){if(T=YM($),null===T)return oa;if(m++,$=$[wm],-1!==T.injectorIndex)return T.injectorIndex|m<<16}return oa}function HM(i,c,m){!function ub(i,c,m){let T;"string"==typeof m?T=m.charCodeAt(0)||0:m.hasOwnProperty(th)&&(T=m[th]),null==T&&(T=m[th]=VM++);const $=T&$1;c.data[i+($>>KM)]|=1<<$}(i,c,m)}function WM(i,c,m){if(m&$t.Optional||void 0!==i)return i;Je()}function hb(i,c,m,T){if(m&$t.Optional&&void 0===T&&(T=null),!(m&($t.Self|$t.Host))){const $=i[Ca],se=bn(void 0);try{return $?$.get(c,T,m&$t.Optional):Rn(c,T,m&$t.Optional)}finally{bn(se)}}return WM(T,0,m)}function I3(i,c,m,T=$t.Default,$){if(null!==i){if(2048&c[vi]&&!(T&$t.Self)){const ye=function k3(i,c,m,T,$){let se=i,ye=c;for(;null!==se&&null!==ye&&2048&ye[vi]&&!(512&ye[vi]);){const Te=T3(se,ye,m,T|$t.Self,Pl);if(Te!==Pl)return Te;let Ye=se.parent;if(!Ye){const Et=ye[qh];if(Et){const Nt=Et.get(m,Pl,T);if(Nt!==Pl)return Nt}Ye=YM(ye),ye=ye[wm]}se=Ye}return $}(i,c,m,T,Pl);if(ye!==Pl)return ye}const se=T3(i,c,m,T,Pl);if(se!==Pl)return se}return hb(c,m,T,$)}function T3(i,c,m,T,$){const se=function A3(i){if("string"==typeof i)return i.charCodeAt(0)||0;const c=i.hasOwnProperty(th)?i[th]:void 0;return"number"==typeof c?c>=0?c&$1:C3:c}(m);if("function"==typeof se){if(!ib(c,i,T))return T&$t.Host?WM($,0,T):hb(c,m,T,$);try{let ye;if(ye=se(T),null!=ye||T&$t.Optional)return ye;Je()}finally{ka()}}else if("number"==typeof se){let ye=null,Te=zM(i,c),Ye=oa,Et=T&$t.Host?c[Gs][ma]:null;for((-1===Te||T&$t.SkipSelf)&&(Ye=-1===Te?fb(i,c):c[Te+8],Ye!==oa&&ZM(T,!1)?(ye=c[kr],Te=Xg(Ye),c=Im(Ye,c)):Te=-1);-1!==Te;){const Nt=c[kr];if(GM(se,Te,Nt.data)){const dn=D8(Te,c,m,ye,T,Et);if(dn!==Pl)return dn}Ye=c[Te+8],Ye!==oa&&ZM(T,c[kr].data[Te+8]===Et)&&GM(se,Te,c)?(ye=Nt,Te=Xg(Ye),c=Im(Ye,c)):Te=-1}}return $}function D8(i,c,m,T,$,se){const ye=c[kr],Te=ye.data[i+8],Nt=pb(Te,ye,m,null==T?Qh(Te)&&xu:T!=ye&&!!(3&Te.type),$&$t.Host&&se===Te);return null!==Nt?rp(c,ye,Nt,Te):Pl}function pb(i,c,m,T,$){const se=i.providerIndexes,ye=c.data,Te=1048575&se,Ye=i.directiveStart,Nt=se>>20,Sn=$?Te+Nt:i.directiveEnd;for(let Cn=T?Te:Te+Nt;Cn<Sn;Cn++){const Vn=ye[Cn];if(Cn<Ye&&m===Vn||Cn>=Ye&&Vn.type===m)return Cn}if($){const Cn=ye[Ye];if(Cn&&Il(Cn)&&Cn.type===m)return Ye}return null}function rp(i,c,m,T){let $=i[m];const se=c.data;if(function jM(i){return i instanceof ch}($)){const ye=$;ye.resolving&&function na(i,c){throw c&&c.join(" > "),new xr(-200,i)}(function ui(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():pr(i)}(se[m]));const Te=Tm(ye.canSeeViewProviders);ye.resolving=!0;const Et=ye.injectImpl?bn(ye.injectImpl):null;ib(i,T,$t.Default);try{$=i[m]=ye.factory(void 0,se,i,T),c.firstCreatePass&&m>=T.directiveStart&&function FM(i,c,m){const{ngOnChanges:T,ngOnInit:$,ngDoCheck:se}=c.type.prototype;if(T){const ye=Fg(c);(m.preOrderHooks??=[]).push(i,ye),(m.preOrderCheckHooks??=[]).push(i,ye)}$&&(m.preOrderHooks??=[]).push(0-i,$),se&&((m.preOrderHooks??=[]).push(i,se),(m.preOrderCheckHooks??=[]).push(i,se))}(m,se[m],c)}finally{null!==Et&&bn(Et),Tm(Te),ye.resolving=!1,ka()}}return $}function GM(i,c,m){return!!(m[c+(i>>KM)]&1<<i)}function ZM(i,c){return!(i&$t.Self||i&$t.Host&&c)}class Pa{constructor(c,m){this._tNode=c,this._lView=m}get(c,m,T){return I3(this._tNode,this._lView,c,lu(T),m)}}function C3(){return new Pa(hs(),ar())}function V1(i){return da(()=>{const c=i.prototype.constructor,m=c[kd]||mb(c),T=Object.prototype;let $=Object.getPrototypeOf(i.prototype).constructor;for(;$&&$!==T;){const se=$[kd]||mb($);if(se&&se!==m)return se;$=Object.getPrototypeOf($)}return se=>new se})}function mb(i){return Ad(i)?()=>{const c=mb(xi(i));return c&&c()}:Yd(i)}function YM(i){const c=i[kr],m=c.type;return 2===m?c.declTNode:1===m?i[ma]:null}function tl(i){return function S8(i,c){if("class"===c)return i.classes;if("style"===c)return i.styles;const m=i.attrs;if(m){const T=m.length;let $=0;for(;$<T;){const se=m[$];if(Ig(se))break;if(0===se)$+=2;else if("number"==typeof se)for($++;$<T&&"string"==typeof m[$];)$++;else{if(se===c)return m[$+1];$+=2}}}return null}(hs(),i)}function qM(i,c=null,m=null,T){const $=QM(i,c,m,T);return $.resolveInjectorInitializers(),$}function QM(i,c=null,m=null,T,$=new Set){const se=[m||Fo,QA(i)];return T=T||("object"==typeof i?void 0:Cs(i)),new gm(se,c||Pg(),T||null,$)}class Fa{static#e=this.THROW_IF_NOT_FOUND=Pi;static#t=this.NULL=new Dg;static create(c,m){if(Array.isArray(c))return qM({name:""},m,c,"");{const T=c.name??"";return qM({name:T},c.parent,c.providers,T)}}static#n=this.\u0275prov=yi({token:Fa,providedIn:"any",factory:()=>fo(zh)});static#f=this.__NG_ELEMENT_ID__=-1}new Wi("").__NG_ELEMENT_ID__=i=>{const c=hs();if(null===c)throw new xr(204,!1);if(2&c.type)return c.value;if(i&$t.Optional)return null;throw new xr(204,!1)};function H1(i){return i.ngOriginalError}class Rl{constructor(){this._console=console}handleError(c){const m=this._findOriginalError(c);this._console.error("ERROR",c),m&&this._console.error("ORIGINAL ERROR",m)}_findOriginalError(c){let m=c&&H1(c);for(;m&&H1(m);)m=H1(m);return m||null}}const eS=new Wi("",{providedIn:"root",factory:()=>ei(Rl).handleError.bind(void 0)});let ip=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=j3;static#t=this.__NG_ENV_ID__=m=>m}return i})();class F3 extends ip{constructor(c){super(),this._lView=c}onDestroy(c){return zg(this._lView,c),()=>function I1(i,c){if(null===i[sh])return;const m=i[sh].indexOf(c);-1!==m&&i[sh].splice(m,1)}(this._lView,c)}}function j3(){return new F3(ar())}class tS{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=ei(Rl,{optional:!0}),this.destroyRef=ei(ip),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(c){if(this.destroyed)throw new xr(953,!1);return(this.listeners??=[]).push(c),{unsubscribe:()=>{const m=this.listeners?.indexOf(c);void 0!==m&&-1!==m&&this.listeners?.splice(m,1)}}}emit(c){if(this.destroyed)throw new xr(953,!1);if(null===this.listeners)return;const m=k(null);try{for(const T of this.listeners)try{T(c)}catch($){this.errorHandler?.handleError($)}}finally{k(m)}}}function G1(){return ff(hs(),ar())}function ff(i,c){return new lh(qc(i,c))}let lh=(()=>{class i{constructor(m){this.nativeElement=m}static#e=this.__NG_ELEMENT_ID__=G1}return i})();function nS(i){return i instanceof lh?i.nativeElement:i}let op=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const m=this.taskId++;return this.pendingTasks.add(m),m}remove(m){this.pendingTasks.delete(m),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=yi({token:i,providedIn:"root",factory:()=>new i})}return i})();const nl=class Z1 extends Ce.B{constructor(c=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=c,vM()&&(this.destroyRef=ei(ip,{optional:!0})??void 0,this.pendingTasks=ei(op,{optional:!0})??void 0)}emit(c){const m=k(null);try{super.next(c)}finally{k(m)}}subscribe(c,m,T){let $=c,se=m||(()=>null),ye=T;if(c&&"object"==typeof c){const Ye=c;$=Ye.next?.bind(Ye),se=Ye.error?.bind(Ye),ye=Ye.complete?.bind(Ye)}this.__isAsync&&(se=this.wrapInTimeout(se),$&&($=this.wrapInTimeout($)),ye&&(ye=this.wrapInTimeout(ye)));const Te=super.subscribe({next:$,error:se,complete:ye});return c instanceof be.yU&&c.add(Te),Te}wrapInTimeout(c){return m=>{const T=this.pendingTasks?.add();setTimeout(()=>{c(m),void 0!==T&&this.pendingTasks?.remove(T)})}}};function U8(){return this._results[Symbol.iterator]()}class Y1{static#e=Symbol.iterator;get changes(){return this._changes??=new nl}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const m=Y1.prototype;m[Symbol.iterator]||(m[Symbol.iterator]=U8)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,m){return this._results.reduce(c,m)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,m){this.dirty=!1;const T=function Xc(i){return i.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function l1(i,c,m){if(i.length!==c.length)return!1;for(let T=0;T<i.length;T++){let $=i[T],se=c[T];if(m&&($=m($),se=m(se)),se!==$)return!1}return!0}(this._results,T,m))&&(this._results=T,this.length=T.length,this.last=T[this.length-1],this.first=T[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(c){this._onDirty=c}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function vb(i){return!(128&~i.flags)}const sp=new Map;let $3=0;const Jg="__ngContext__";function Nc(i,c){Ha(c)?(i[Jg]=c[oh],function K3(i){sp.set(i[oh],i)}(c)):i[Jg]=c}function hf(i){return pS(i[gu])}function e2(i){return pS(i[Dl])}function pS(i){for(;null!==i&&!Wa(i);)i=i[Dl];return i}let Mb;function Z3(i){Mb=i}function mf(){if(void 0!==Mb)return Mb;if(typeof document<"u")return document;throw new xr(210,!1)}const Sb=new Wi("",{providedIn:"root",factory:()=>j8}),j8="ng",Y3=new Wi(""),cp=new Wi("",{providedIn:"platform",factory:()=>"unknown"}),X3=new Wi(""),$8=new Wi("",{providedIn:"root",factory:()=>mf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ny=()=>null;function _S(i,c,m=!1){return ny(i,c,m)}const TS=new Wi("",{providedIn:"root",factory:()=>!1});let Ob,Nb;function Su(i){return function u2(){if(void 0===Ob&&(Ob=null,ss.trustedTypes))try{Ob=ss.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ob}()?.createHTML(i)||i}function kS(i){return function f2(){if(void 0===Nb&&(Nb=null,ss.trustedTypes))try{Nb=ss.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Nb}()?.createScriptURL(i)||i}class lp{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ci})`}}class iC extends lp{getTypeName(){return"HTML"}}class gf extends lp{getTypeName(){return"Style"}}class oC extends lp{getTypeName(){return"Script"}}class sC extends lp{getTypeName(){return"URL"}}class aC extends lp{getTypeName(){return"ResourceURL"}}function yf(i){return i instanceof lp?i.changingThisBreaksApplicationSecurity:i}function Fm(i,c){const m=function cC(i){return i instanceof lp&&i.getTypeName()||null}(i);if(null!=m&&m!==c){if("ResourceURL"===m&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${m} (see ${ci})`)}return m===c}function dC(i){return new iC(i)}function lC(i){return new gf(i)}function uC(i){return new oC(i)}function fC(i){return new sC(i)}function hC(i){return new aC(i)}function PS(i){const c=new mC(i);return function gC(){try{return!!(new window.DOMParser).parseFromString(Su(""),"text/html")}catch{return!1}}()?new pC(c):c}class pC{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const m=(new window.DOMParser).parseFromString(Su(c),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(c):(m.removeChild(m.firstChild),m)}catch{return null}}}class mC{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const m=this.inertDocument.createElement("template");return m.innerHTML=Su(c),m}}const yC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bb(i){return(i=String(i)).match(yC)?i:"unsafe:"+i}function vf(i){const c={};for(const m of i.split(","))c[m]=!0;return c}function jm(...i){const c={};for(const m of i)for(const T in m)m.hasOwnProperty(T)&&(c[T]=!0);return c}const RS=vf("area,br,col,hr,img,wbr"),OS=vf("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),NS=vf("rp,rt"),Lb=jm(RS,jm(OS,vf("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jm(NS,vf("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jm(NS,OS)),oy=vf("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),BS=jm(oy,vf("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vf("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bC=vf("script,style,template");class wC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let m=c.firstChild,T=!0,$=[];for(;m;)if(m.nodeType===Node.ELEMENT_NODE?T=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,T&&m.firstChild)$.push(m),m=xC(m);else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let se=EC(m);if(se){m=se;break}m=$.pop()}return this.buf.join("")}startElement(c){const m=LS(c).toLowerCase();if(!Lb.hasOwnProperty(m))return this.sanitizedSomething=!0,!bC.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const T=c.attributes;for(let $=0;$<T.length;$++){const se=T.item($),ye=se.name,Te=ye.toLowerCase();if(!BS.hasOwnProperty(Te)){this.sanitizedSomething=!0;continue}let Ye=se.value;oy[Te]&&(Ye=Bb(Ye)),this.buf.push(" ",ye,'="',sy(Ye),'"')}return this.buf.push(">"),!0}endElement(c){const m=LS(c).toLowerCase();Lb.hasOwnProperty(m)&&!RS.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(c){this.buf.push(sy(c))}}function EC(i){const c=i.nextSibling;if(c&&i!==c.previousSibling)throw US(c);return c}function xC(i){const c=i.firstChild;if(c&&function _C(i,c){return(i.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(i,c))throw US(c);return c}function LS(i){const c=i.nodeName;return"string"==typeof c?c:"FORM"}function US(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`)}const MC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SC=/([^\#-~ |!])/g;function sy(i){return i.replace(/&/g,"&amp;").replace(MC,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(SC,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $m;function ay(i,c){let m=null;try{$m=$m||PS(i);let T=c?String(c):"";m=$m.getInertBodyElement(T);let $=5,se=T;do{if(0===$)throw new Error("Failed to sanitize html because the input is unstable");$--,T=se,se=m.innerHTML,m=$m.getInertBodyElement(T)}while(T!==se);return Su((new wC).sanitizeChildren(Km(m)||m))}finally{if(m){const T=Km(m)||m;for(;T.firstChild;)T.removeChild(T.firstChild)}}}function Km(i){return"content"in i&&function Ub(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var up=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(up||{});function Fb(i){const c=cy();return c?c.sanitize(up.URL,i)||"":Fm(i,"URL")?yf(i):Bb(pr(i))}function FS(i){const c=cy();if(c)return kS(c.sanitize(up.RESOURCE_URL,i)||"");if(Fm(i,"ResourceURL"))return kS(yf(i));throw new xr(904,!1)}function KS(i,c,m){return function $S(i,c){return"src"===c&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===c&&("base"===i||"link"===i)?FS:Fb}(c,m)(i)}function cy(){const i=ar();return i&&i[mu].sanitizer}const p2=/^>|^->|<!--|-->|--!>|<!-$/g,nP=/(<|>)/g,rP="\u200b$1\u200b";function rd(i){return i instanceof Function?i():i}function wd(i){return"browser"===(i??ei(Fa)).get(cp)}var zm=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(zm||{});let zb;function w2(i,c){return zb(i,c)}function uy(i,c,m,T,$){if(null!=T){let se,ye=!1;Wa(T)?se=T:Ha(T)&&(ye=!0,T=T[Ws]);const Te=ts(T);0===i&&null!==m?null==$?Gb(c,m,Te):hp(c,m,Te,$||null,!0):1===i&&null!==m?hp(c,m,Te,$||null,!0):2===i?function Wm(i,c,m){const T=Zb(i,c);T&&function jC(i,c,m,T){i.removeChild(c,m,T)}(i,T,c,m)}(c,Te,ye):3===i&&c.destroyNode(Te),null!=se&&function KC(i,c,m,T,$){const se=m[Qd];se!==ts(m)&&uy(c,i,T,se,$);for(let Te=ga;Te<m.length;Te++){const Ye=m[Te];Gm(Ye[kr],Ye,i,c,T,se)}}(c,i,se,m,$)}}function rl(i,c){return i.createText(c)}function Hb(i,c){return i.createComment(function m2(i){return i.replace(p2,c=>c.replace(nP,rP))}(c))}function hy(i,c,m){return i.createElement(c,m)}function E2(i,c){c[mu].changeDetectionScheduler?.notify(8),Gm(i,c,c[Qi],2,null,null)}function XS(i,c){const m=i[Em],T=c[ia];(Ha(T)||c[Gs]!==T[ia][Gs])&&(i[vi]|=Xv.HasTransplantedViews),null===m?i[Em]=[c]:m.push(c)}function fp(i,c){const m=i[Em],T=m.indexOf(c);m.splice(T,1)}function py(i,c){if(i.length<=ga)return;const m=ga+c,T=i[m];if(T){const $=T[Jh];null!==$&&$!==i&&fp($,T),c>0&&(i[m-1][Dl]=T[Dl]);const se=Mg(i,ga+c);!function UC(i,c){E2(i,c),c[Ws]=null,c[ma]=null}(T[kr],T);const ye=se[af];null!==ye&&ye.detachView(se[kr]),T[ia]=null,T[Dl]=null,T[vi]&=-129}return T}function Wb(i,c){if(!(256&c[vi])){const m=c[Qi];m.destroyNode&&Gm(i,c,m,3,null,null),function Nl(i){let c=i[gu];if(!c)return _d(i[kr],i);for(;c;){let m=null;if(Ha(c))m=c[gu];else{const T=c[ga];T&&(m=T)}if(!m){for(;c&&!c[Dl]&&c!==i;)Ha(c)&&_d(c[kr],c),c=c[ia];null===c&&(c=i),Ha(c)&&_d(c[kr],c),m=c&&c[Dl]}c=m}}(c)}}function _d(i,c){if(256&c[vi])return;const m=k(null);try{c[vi]&=-129,c[vi]|=256,c[qd]&&ie(c[qd]),function FC(i,c){let m;if(null!=i&&null!=(m=i.destroyHooks))for(let T=0;T<m.length;T+=2){const $=c[m[T]];if(!($ instanceof ch)){const se=m[T+1];if(Array.isArray(se))for(let ye=0;ye<se.length;ye+=2){const Te=$[se[ye]],Ye=se[ye+1];vd(4,Te,Ye);try{Ye.call(Te)}finally{vd(5,Te,Ye)}}else{vd(4,$,se);try{se.call($)}finally{vd(5,$,se)}}}}}(i,c),function Hm(i,c){const m=i.cleanup,T=c[bm];if(null!==m)for(let se=0;se<m.length-1;se+=2)if("string"==typeof m[se]){const ye=m[se+3];ye>=0?T[ye]():T[-ye].unsubscribe(),se+=2}else m[se].call(T[m[se+1]]);null!==T&&(c[bm]=null);const $=c[sh];if(null!==$){c[sh]=null;for(let se=0;se<$.length;se++)(0,$[se])()}}(i,c),1===c[kr].type&&c[Qi].destroy();const T=c[Jh];if(null!==T&&Wa(c[ia])){T!==c[ia]&&fp(T,c);const $=c[af];null!==$&&$.detachView(i)}!function J1(i){sp.delete(i[oh])}(c)}finally{k(m)}}function il(i,c,m){return JS(i,c.parent,m)}function JS(i,c,m){let T=c;for(;null!==T&&40&T.type;)T=(c=T).parent;if(null===T)return m[Ws];{const{componentOffset:$}=T;if($>-1){const{encapsulation:se}=i.data[T.directiveStart+$];if(se===Ml.None||se===Ml.Emulated)return null}return qc(T,m)}}function hp(i,c,m,T,$){i.insertBefore(c,m,T,$)}function Gb(i,c,m){i.appendChild(c,m)}function M2(i,c,m,T,$){null!==T?hp(i,c,m,T,$):Gb(i,c,m)}function Zb(i,c){return i.parentNode(c)}function qS(i,c,m){return eD(i,c,m)}function QS(i,c,m){return 40&i.type?qc(i,m):null}let S2,eD=QS;function tD(i,c){eD=i,S2=c}function Yb(i,c,m,T){const $=il(i,T,c),se=c[Qi],Te=qS(T.parent||c[ma],T,c);if(null!=$)if(Array.isArray(m))for(let Ye=0;Ye<m.length;Ye++)M2(se,$,m[Ye],Te,!1);else M2(se,$,m,Te,!1);void 0!==S2&&S2(se,T,c,m,$)}function my(i,c){if(null!==c){const m=c.type;if(3&m)return qc(c,i);if(4&m)return rD(-1,i[c.index]);if(8&m){const T=c.child;if(null!==T)return my(i,T);{const $=i[c.index];return Wa($)?rD(-1,$):ts($)}}if(32&m)return w2(c,i)()||ts(i[c.index]);{const T=nD(i,c);return null!==T?Array.isArray(T)?T[0]:my(bu(i[Gs]),T):my(i,c.next)}}return null}function nD(i,c){return null!==c?i[Gs][ma].projection[c.projection]:null}function rD(i,c){const m=ga+i+1;if(m<c.length){const T=c[m],$=T[kr].firstChild;if(null!==$)return my(T,$)}return c[Qd]}function pp(i,c,m,T,$,se,ye){for(;null!=m;){const Te=T[m.index],Ye=m.type;if(ye&&0===c&&(Te&&Nc(ts(Te),T),m.flags|=2),32&~m.flags)if(8&Ye)pp(i,c,m.child,T,$,se,!1),uy(c,i,$,Te,se);else if(32&Ye){const Et=w2(m,T);let Nt;for(;Nt=Et();)uy(c,i,$,Nt,se);uy(c,i,$,Te,se)}else 16&Ye?Xb(i,c,T,m,$,se):uy(c,i,$,Te,se);m=ye?m.projectionNext:m.next}}function Gm(i,c,m,T,$,se){pp(m,T,i.firstChild,c,$,se,!1)}function Xb(i,c,m,T,$,se){const ye=m[Gs],Ye=ye[ma].projection[T.projection];if(Array.isArray(Ye))for(let Et=0;Et<Ye.length;Et++)uy(c,i,$,Ye[Et],se);else{let Et=Ye;const Nt=ye[ia];vb(T)&&(Et.flags|=128),pp(i,c,Et,Nt,$,se,!0)}}function sD(i,c,m){""===m?i.removeAttribute(c,"class"):i.setAttribute(c,"class",m)}function Jb(i,c,m){const{mergedAttrs:T,classes:$,styles:se}=m;null!==T&&fu(i,c,T),null!==$&&sD(i,c,$),null!==se&&function oD(i,c,m){i.setAttribute(c,"style",m)}(i,c,se)}const uo={};function VC(i=1){zC(Mo(),ar(),Oc()+i,!1)}function zC(i,c,m,T){if(!T)if(3&~c[vi]){const se=i.preOrderHooks;null!==se&&ab(c,se,0,m)}else{const se=i.preOrderCheckHooks;null!==se&&tp(c,se,m)}kl(m)}function Zm(i,c=$t.Default){const m=ar();return null===m?fo(i,c):I3(hs(),m,xi(i),c)}function aD(){throw new Error("invalid")}function cD(i,c,m,T,$,se){const ye=k(null);try{let Te=null;$&Hh.SignalBased&&(Te=c[T][b]),null!==Te&&void 0!==Te.transformFn&&(se=Te.transformFn(se)),$&Hh.HasDecoratorInputTransform&&(se=i.inputTransforms[T].call(c,se)),null!==i.setInput?i.setInput(c,Te,se,m,T):cf(c,Te,T,se)}finally{k(ye)}}function qb(i,c,m,T,$,se,ye,Te,Ye,Et,Nt){const dn=c.blueprint.slice();return dn[Ws]=$,dn[vi]=204|T,(null!==Et||i&&2048&i[vi])&&(dn[vi]|=2048),y3(dn),dn[ia]=dn[wm]=i,dn[Fs]=m,dn[mu]=ye||i&&i[mu],dn[Qi]=Te||i&&i[Qi],dn[Ca]=Ye||i&&i[Ca]||null,dn[ma]=se,dn[oh]=function iS(){return $3++}(),dn[Jc]=Nt,dn[qh]=Et,dn[Gs]=2==c.type?i[Gs]:dn,dn}function Ym(i,c,m,T,$){let se=i.data[c];if(null===se)se=I2(i,c,m,T,$),function E3(){return Xi.lFrame.inI18n}()&&(se.flags|=32);else if(64&se.type){se.type=m,se.value=T,se.attrs=$;const ye=Hg();se.injectorIndex=null===ye?-1:ye.injectorIndex}return _u(se,!0),se}function I2(i,c,m,T,$){const se=C1(),ye=tb(),Ye=i.data[c]=function mP(i,c,m,T,$,se){let ye=c?c.injectorIndex:-1,Te=0;return Mm()&&(Te|=128),{type:m,index:T,insertBeforeIndex:null,injectorIndex:ye,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Te,providerIndexes:0,value:$,attrs:se,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ye?se:se&&se.parent,m,c,T,$);return null===i.firstChild&&(i.firstChild=Ye),null!==se&&(ye?null==se.child&&null!==Ye.parent&&(se.child=Ye):null===se.next&&(se.next=Ye,Ye.prev=se)),Ye}function Xm(i,c,m,T){if(0===m)return-1;const $=c.length;for(let se=0;se<m;se++)c.push(T),i.blueprint.push(T),i.data.push(null);return $}function dD(i,c,m,T,$){const se=Oc(),ye=2&T;try{kl(-1),ye&&c.length>ki&&zC(i,c,ki,!1),vd(ye?2:0,$),m(T,$)}finally{kl(se),vd(ye?3:1,$)}}function Qb(i,c,m){if(w1(c)){const T=k(null);try{const se=c.directiveEnd;for(let ye=c.directiveStart;ye<se;ye++){const Te=i.data[ye];Te.contentQueries&&Te.contentQueries(1,m[ye],ye)}}finally{k(T)}}}function ew(i,c,m){w3()&&(function A2(i,c,m,T){const $=m.directiveStart,se=m.directiveEnd;Qh(m)&&function i6(i,c,m){const T=qc(c,i),$=lD(m);let ye=16;m.signals?ye=4096:m.onPush&&(ye=64);const Te=mp(i,qb(i,$,null,ye,T,c,null,i[mu].rendererFactory.createRenderer(T,m),null,null,null));i[c.index]=Te}(c,m,i.data[$+m.componentOffset]),i.firstCreatePass||Mu(m,c),Nc(T,c);const ye=m.initialInputs;for(let Te=$;Te<se;Te++){const Ye=i.data[Te],Et=rp(c,i,Te,m);Nc(Et,c),null!==ye&&o6(0,Te-$,Et,Ye,0,ye),Il(Ye)&&(Nd(m.index,c)[Fs]=rp(c,i,Te,m))}}(i,c,m,qc(m,c)),!(64&~m.flags)&&hD(i,c,m))}function T2(i,c,m=qc){const T=c.localNames;if(null!==T){let $=c.index+1;for(let se=0;se<T.length;se+=2){const ye=T[se+1],Te=-1===ye?m(c,i):i[ye];i[$++]=Te}}}function lD(i){const c=i.tView;return null===c||c.incompleteFirstPass?i.tView=Bl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):c}function Bl(i,c,m,T,$,se,ye,Te,Ye,Et,Nt){const dn=ki+T,Sn=dn+$,Cn=function tw(i,c){const m=[];for(let T=0;T<c;T++)m.push(T<i?null:uo);return m}(dn,Sn),Vn="function"==typeof Et?Et():Et;return Cn[kr]={type:i,blueprint:Cn,template:m,queries:null,viewQuery:Te,declTNode:c,data:Cn.slice().fill(null,dn),bindingStartIndex:dn,expandoStartIndex:Sn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof se?se():se,pipeRegistry:"function"==typeof ye?ye():ye,firstChild:null,schemas:Ye,consts:Vn,incompleteFirstPass:!1,ssrId:Nt}}let WC=()=>null;function GC(i,c,m,T,$){for(let se in c){if(!c.hasOwnProperty(se))continue;const ye=c[se];if(void 0===ye)continue;T??={};let Te,Ye=Hh.None;Array.isArray(ye)?(Te=ye[0],Ye=ye[1]):Te=ye;let Et=se;if(null!==$){if(!$.hasOwnProperty(se))continue;Et=$[se]}0===i?bf(T,m,Et,Te,Ye):bf(T,m,Et,Te)}return T}function bf(i,c,m,T,$){let se;i.hasOwnProperty(m)?(se=i[m]).push(c,T):se=i[m]=[c,T],void 0!==$&&se.push($)}function id(i,c,m,T,$,se,ye,Te){const Ye=qc(c,m);let Nt,Et=c.inputs;!Te&&null!=Et&&(Nt=Et[T])?(mD(i,m,Nt,T,$),Qh(c)&&function YC(i,c){const m=Nd(c,i);16&m[vi]||(m[vi]|=64)}(m,c.index)):3&c.type&&(T=function ZC(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(T),$=null!=ye?ye($,c.value||"",T):$,se.setProperty(Ye,T,$))}function nw(i,c,m,T){if(w3()){const $=null===T?null:{"":-1},se=function QC(i,c){const m=i.directiveRegistry;let T=null,$=null;if(m)for(let se=0;se<m.length;se++){const ye=m[se];if(h1(c,ye.selectors,!1))if(T||(T=[]),Il(ye))if(null!==ye.findHostDirectiveDefs){const Te=[];$=$||new Map,ye.findHostDirectiveDefs(ye,Te,$),T.unshift(...Te,ye),C2(i,c,Te.length)}else T.unshift(ye),C2(i,c,0);else $=$||new Map,ye.findHostDirectiveDefs?.(ye,T,$),T.push(ye)}return null===T?null:[T,$]}(i,m);let ye,Te;null===se?ye=Te=null:[ye,Te]=se,null!==ye&&uD(i,c,m,ye,$,Te),$&&function e6(i,c,m){if(c){const T=i.localNames=[];for(let $=0;$<c.length;$+=2){const se=m[c[$+1]];if(null==se)throw new xr(-301,!1);T.push(c[$],se)}}}(m,T,$)}m.mergedAttrs=Wh(m.mergedAttrs,m.attrs)}function uD(i,c,m,T,$,se){for(let Et=0;Et<T.length;Et++)HM(Mu(m,c),i,T[Et].type);!function n6(i,c,m){i.flags|=1,i.directiveStart=c,i.directiveEnd=c+m,i.providerIndexes=c}(m,i.data.length,T.length);for(let Et=0;Et<T.length;Et++){const Nt=T[Et];Nt.providersResolver&&Nt.providersResolver(Nt)}let ye=!1,Te=!1,Ye=Xm(i,c,T.length,null);for(let Et=0;Et<T.length;Et++){const Nt=T[Et];m.mergedAttrs=Wh(m.mergedAttrs,Nt.hostAttrs),r6(i,m,c,Ye,Nt),t6(Ye,Nt,$),null!==Nt.contentQueries&&(m.flags|=4),(null!==Nt.hostBindings||null!==Nt.hostAttrs||0!==Nt.hostVars)&&(m.flags|=64);const dn=Nt.type.prototype;!ye&&(dn.ngOnChanges||dn.ngOnInit||dn.ngDoCheck)&&((i.preOrderHooks??=[]).push(m.index),ye=!0),!Te&&(dn.ngOnChanges||dn.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(m.index),Te=!0),Ye++}!function gP(i,c,m){const $=c.directiveEnd,se=i.data,ye=c.attrs,Te=[];let Ye=null,Et=null;for(let Nt=c.directiveStart;Nt<$;Nt++){const dn=se[Nt],Sn=m?m.get(dn):null,Vn=Sn?Sn.outputs:null;Ye=GC(0,dn.inputs,Nt,Ye,Sn?Sn.inputs:null),Et=GC(1,dn.outputs,Nt,Et,Vn);const or=null===Ye||null===ye||ra(c)?null:rw(Ye,Nt,ye);Te.push(or)}null!==Ye&&(Ye.hasOwnProperty("class")&&(c.flags|=8),Ye.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=Te,c.inputs=Ye,c.outputs=Et}(i,m,se)}function hD(i,c,m){const T=m.directiveStart,$=m.directiveEnd,se=m.index,ye=function nb(){return Xi.lFrame.currentDirectiveIndex}();try{kl(se);for(let Te=T;Te<$;Te++){const Ye=i.data[Te],Et=c[Te];Sm(Te),(null!==Ye.hostBindings||0!==Ye.hostVars||null!==Ye.hostAttrs)&&qC(Ye,Et)}}finally{kl(-1),Sm(ye)}}function qC(i,c){null!==i.hostBindings&&i.hostBindings(1,c)}function C2(i,c,m){c.componentOffset=m,(i.components??=[]).push(c.index)}function t6(i,c,m){if(m){if(c.exportAs)for(let T=0;T<c.exportAs.length;T++)m[c.exportAs[T]]=i;Il(c)&&(m[""]=i)}}function r6(i,c,m,T,$){i.data[T]=$;const se=$.factory||($.factory=Yd($.type)),ye=new ch(se,Il($),Zm);i.blueprint[T]=ye,m[T]=ye,function JC(i,c,m,T,$){const se=$.hostBindings;if(se){let ye=i.hostBindingOpCodes;null===ye&&(ye=i.hostBindingOpCodes=[]);const Te=~c.index;(function fD(i){let c=i.length;for(;c>0;){const m=i[--c];if("number"==typeof m&&m<0)return m}return 0})(ye)!=Te&&ye.push(Te),ye.push(m,T,se)}}(i,c,T,Xm(i,m,$.hostVars,uo),$)}function Du(i,c,m,T,$,se){const ye=qc(i,c);!function k2(i,c,m,T,$,se,ye){if(null==se)i.removeAttribute(c,$,m);else{const Te=null==ye?pr(se):ye(se,T||"",$);i.setAttribute(c,$,Te,m)}}(c[Qi],ye,se,i.value,m,T,$)}function o6(i,c,m,T,$,se){const ye=se[c];if(null!==ye)for(let Te=0;Te<ye.length;)cD(T,m,ye[Te++],ye[Te++],ye[Te++],ye[Te++])}function rw(i,c,m){let T=null,$=0;for(;$<m.length;){const se=m[$];if(0!==se)if(5!==se){if("number"==typeof se)break;if(i.hasOwnProperty(se)){null===T&&(T=[]);const ye=i[se];for(let Te=0;Te<ye.length;Te+=3)if(ye[Te]===c){T.push(se,ye[Te+1],ye[Te+2],m[$+1]);break}}$+=2}else $+=2;else $+=4}return T}function iw(i,c,m,T){return[i,!0,0,c,null,T,null,m,null,null]}function gy(i,c){const m=i.contentQueries;if(null!==m){const T=k(null);try{for(let $=0;$<m.length;$+=2){const ye=m[$+1];if(-1!==ye){const Te=i.data[ye];rb(m[$]),Te.contentQueries(2,c[ye],ye)}}}finally{k(T)}}}function mp(i,c){return i[gu]?i[_M][Dl]=c:i[gu]=c,i[_M]=c,c}function yy(i,c,m){rb(0);const T=k(null);try{c(i,m)}finally{k(T)}}function pD(i){return i[bm]??=[]}function ow(i){return i.cleanup??=[]}function sw(i,c,m){return(null===i||Il(i))&&(m=function ep(i){for(;Array.isArray(i);){if("object"==typeof i[b1])return i;i=i[Ws]}return null}(m[c.index])),m[Qi]}function P2(i,c){const m=i[Ca],T=m?m.get(Rl,null):null;T&&T.handleError(c)}function mD(i,c,m,T,$){for(let se=0;se<m.length;){const ye=m[se++],Te=m[se++],Ye=m[se++];cD(i.data[ye],c[ye],T,Te,Ye,$)}}function R2(i,c){const m=Nd(c,i),T=m[kr];!function hc(i,c){for(let m=c.length;m<i.blueprint.length;m++)c.push(i.blueprint[m])}(T,m);const $=m[Ws];null!==$&&null===m[Jc]&&(m[Jc]=_S($,m[Ca])),O2(T,m,m[Fs])}function O2(i,c,m){BM(c);try{const T=i.viewQuery;null!==T&&yy(1,T,m);const $=i.template;null!==$&&dD(i,c,$,1,m),i.firstCreatePass&&(i.firstCreatePass=!1),c[af]?.finishViewCreation(i),i.staticContentQueries&&gy(i,c),i.staticViewQueries&&yy(2,i.viewQuery,m);const se=i.components;null!==se&&function s6(i,c){for(let m=0;m<c.length;m++)R2(i,c[m])}(c,se)}catch(T){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),T}finally{c[vi]&=-5,B1()}}function Jm(i,c,m,T){const $=k(null);try{const se=c.tView,Ye=qb(i,se,m,4096&i[vi]?4096:16,null,c,null,null,T?.injector??null,T?.embeddedViewInjector??null,T?.dehydratedView??null);Ye[Jh]=i[c.index];const Nt=i[af];return null!==Nt&&(Ye[af]=Nt.createEmbeddedView(se)),O2(se,Ye,m),Ye}finally{k($)}}function qm(i,c){const m=ga+c;if(m<i.length)return i[m]}function gp(i,c){return!c||null===c.firstChild||vb(i)}function yp(i,c,m,T=!0){const $=c[kr];if(function x2(i,c,m,T){const $=ga+T,se=m.length;T>0&&(m[$-1][Dl]=c),T<se-ga?(c[Dl]=m[$],Xd(m,ga+T,c)):(m.push(c),c[Dl]=null),c[ia]=m;const ye=c[Jh];null!==ye&&m!==ye&&XS(ye,c);const Te=c[af];null!==Te&&Te.insertView(i),D1(c),c[vi]|=128}($,c,i,m),T){const ye=rD(m,i),Te=c[Qi],Ye=Zb(Te,i[Qd]);null!==Ye&&function YS(i,c,m,T,$,se){T[Ws]=$,T[ma]=c,Gm(i,T,m,1,$,se)}($,i[ma],Te,c,Ye,ye)}const se=c[Jc];null!==se&&null!==se.firstChild&&(se.firstChild=null)}function N2(i,c){const m=py(i,c);return void 0!==m&&Wb(m[kr],m),m}function vp(i,c,m,T,$=!1){for(;null!==m;){const se=c[m.index];null!==se&&T.push(ts(se)),Wa(se)&&gD(se,T);const ye=m.type;if(8&ye)vp(i,c,m.child,T);else if(32&ye){const Te=w2(m,c);let Ye;for(;Ye=Te();)T.push(Ye)}else if(16&ye){const Te=nD(c,m);if(Array.isArray(Te))T.push(...Te);else{const Ye=bu(c[Gs]);vp(Ye[kr],Ye,Te,T,!0)}}m=$?m.projectionNext:m.next}return T}function gD(i,c){for(let m=ga;m<i.length;m++){const T=i[m],$=T[kr].firstChild;null!==$&&vp(T[kr],T,$,c)}i[Qd]!==i[Ws]&&c.push(i[Qd])}let aw=[];const wP={...O,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Qv(i.lView)},consumerOnSignalRead(){this.lView[qd]=this}},d6={...O,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{let c=bu(i.lView);for(;c&&!l6(c[kr]);)c=bu(c);c&&v3(c)},consumerOnSignalRead(){this.lView[qd]=this}};function l6(i){return 2!==i.type}const _P=100;function cw(i,c=!0,m=0){const T=i[mu],$=T.rendererFactory;$.begin?.();try{!function Qm(i,c){const m=RM();try{OM(!0),B2(i,c);let T=0;for(;Vg(i);){if(T===_P)throw new xr(103,!1);T++,B2(i,1)}}finally{OM(m)}}(i,m)}catch(ye){throw c&&P2(i,ye),ye}finally{$.end?.(),T.inlineEffectRunner?.flush()}}function f6(i,c,m,T){const $=c[vi];if(!(256&~$))return;c[mu].inlineEffectRunner?.flush(),BM(c);let Te=!0,Ye=null,Et=null;l6(i)?(Et=function a6(i){return i[qd]??function bP(i){const c=aw.pop()??Object.create(wP);return c.lView=i,c}(i)}(c),Ye=Y(Et)):null===S()?(Te=!1,Et=function c6(i){const c=i[qd]??Object.create(d6);return c.lView=i,c}(c),Ye=Y(Et)):c[qd]&&(ie(c[qd]),c[qd]=null);try{y3(c),function NM(i){return Xi.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==m&&dD(i,c,m,2,T);const Nt=!(3&~$);if(Nt){const Cn=i.preOrderCheckHooks;null!==Cn&&tp(c,Cn,null)}else{const Cn=i.preOrderHooks;null!==Cn&&ab(c,Cn,0,null),cb(c,0)}if(function h6(i){for(let c=hf(i);null!==c;c=e2(c)){if(!(c[vi]&Xv.HasTransplantedViews))continue;const m=c[Em];for(let T=0;T<m.length;T++)v3(m[T])}}(c),vD(c,0),null!==i.contentQueries&&gy(i,c),Nt){const Cn=i.contentCheckHooks;null!==Cn&&tp(c,Cn)}else{const Cn=i.contentHooks;null!==Cn&&ab(c,Cn,1),cb(c,1)}!function HC(i,c){const m=i.hostBindingOpCodes;if(null!==m)try{for(let T=0;T<m.length;T++){const $=m[T];if($<0)kl(~$);else{const se=$,ye=m[++T],Te=m[++T];k1(ye,se),Te(2,c[se])}}}finally{kl(-1)}}(i,c);const dn=i.components;null!==dn&&wD(c,dn,0);const Sn=i.viewQuery;if(null!==Sn&&yy(2,Sn,T),Nt){const Cn=i.viewCheckHooks;null!==Cn&&tp(c,Cn)}else{const Cn=i.viewHooks;null!==Cn&&ab(c,Cn,2),cb(c,2)}if(!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),c[Zv]){for(const Cn of c[Zv])Cn();c[Zv]=null}c[vi]&=-73}catch(Nt){throw Qv(c),Nt}finally{null!==Et&&(W(Et,Ye),Te&&function yD(i){i.lView[qd]!==i&&(i.lView=null,aw.push(i))}(Et)),B1()}}function vD(i,c){for(let m=hf(i);null!==m;m=e2(m))for(let T=ga;T<m.length;T++)bD(m[T],c)}function p6(i,c,m){bD(Nd(c,i),m)}function bD(i,c){AM(i)&&B2(i,c)}function B2(i,c){const T=i[kr],$=i[vi],se=i[qd];let ye=!!(0===c&&16&$);if(ye||=!!(64&$&&0===c),ye||=!!(1024&$),ye||=!(!se?.dirty||!re(se)),ye||=!1,se&&(se.dirty=!1),i[vi]&=-9217,ye)f6(T,i,T.template,i[Fs]);else if(8192&$){vD(i,1);const Te=T.components;null!==Te&&wD(i,Te,1)}}function wD(i,c,m){for(let T=0;T<c.length;T++)p6(i,c[T],m)}function vy(i,c){const m=RM()?64:1088;for(i[mu].changeDetectionScheduler?.notify(c);i;){i[vi]|=m;const T=bu(i);if(Lg(i)&&!T)return i;i=T}return null}class by{get rootNodes(){const c=this._lView,m=c[kr];return vp(m,c,m.firstChild,[])}constructor(c,m,T=!0){this._lView=c,this._cdRefInjectingView=m,this.notifyErrorHandler=T,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fs]}set context(c){this._lView[Fs]=c}get destroyed(){return!(256&~this._lView[vi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[ia];if(Wa(c)){const m=c[8],T=m?m.indexOf(this):-1;T>-1&&(py(c,T),Mg(m,T))}this._attachedToViewContainer=!1}Wb(this._lView[kr],this._lView)}onDestroy(c){zg(this._lView,c)}markForCheck(){vy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[vi]&=-129}reattach(){D1(this._lView),this._lView[vi]|=128}detectChanges(){this._lView[vi]|=1024,cw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const c=Lg(this._lView),m=this._lView[Jh];null!==m&&!c&&fp(m,this._lView),E2(this._lView[kr],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xr(902,!1);this._appRef=c;const m=Lg(this._lView),T=this._lView[Jh];null!==T&&!m&&XS(T,this._lView),D1(this._lView)}}let e0=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=wy}return i})();const m6=e0,dw=class extends m6{constructor(c,m,T){super(),this._declarationLView=c,this._declarationTContainer=m,this.elementRef=T}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,m){return this.createEmbeddedViewImpl(c,m)}createEmbeddedViewImpl(c,m,T){const $=Jm(this._declarationLView,this._declarationTContainer,c,{embeddedViewInjector:m,dehydratedView:T});return new by($)}};function wy(){return lw(hs(),ar())}function lw(i,c){return 4&i.type?new dw(c,i,ff(i,c)):null}function xD(i,c,m){const T=c.insertBeforeIndex,$=Array.isArray(T)?T[0]:T;return null===$?QS(i,0,m):ts(m[$])}function MD(i,c,m,T,$){const se=c.insertBeforeIndex;if(Array.isArray(se)){let ye=T,Te=null;if(3&c.type||(Te=ye,ye=$),null!==ye&&-1===c.componentOffset)for(let Ye=1;Ye<se.length;Ye++)hp(i,ye,m[se[Ye]],Te,!1)}}function Tu(i,c){if(i.push(c),i.length>1)for(let m=i.length-2;m>=0;m--){const T=i[m];SD(T)||M6(T,c)&&null===S6(T)&&D6(T,c.index)}}function SD(i){return!(64&i.type)}function M6(i,c){return SD(c)||i.index>c.index}function S6(i){const c=i.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function D6(i,c){const m=i.insertBeforeIndex;Array.isArray(m)?m[0]=c:(tD(xD,MD),i.insertBeforeIndex=c)}function A6(i,c,m){const T=I2(i,m,64,null,null);return Tu(c,T),T}let OD=()=>{},W2=()=>null;function _p(i,c){return W2(i,c)}class Ep{}const Dy=new Wi("",{providedIn:"root",factory:()=>!1}),jD=new Wi("");class $D{}class KD{}class TP{resolveComponentFactory(c){throw function VD(i){const c=Error(`No component factory found for ${Cs(i)}.`);return c.ngComponent=i,c}(c)}}class o0{static#e=this.NULL=new TP}class vw{}let zD=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Z2(){const i=ar(),m=Nd(hs().index,i);return(Ha(m)?m:i)[Qi]}()}return i})(),AP=(()=>{class i{static#e=this.\u0275prov=yi({token:i,providedIn:"root",factory:()=>null})}return i})();function G6(i,c){if(null!==S())throw new xr(-602,!1)}const HD=new Set;function ks(i){HD.has(i)||(HD.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function WD(i){let c=!0;return setTimeout(()=>{c&&(c=!1,i())}),"function"==typeof ss.requestAnimationFrame&&ss.requestAnimationFrame(()=>{c&&(c=!1,i())}),()=>{c=!1}}function GD(i){let c=!0;return queueMicrotask(()=>{c&&i()}),()=>{c=!1}}function ZD(...i){}class Ps{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:m=!1,shouldCoalesceRunChangeDetection:T=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nl(!1),this.onMicrotaskEmpty=new nl(!1),this.onStable=new nl(!1),this.onError=new nl(!1),typeof Zone>"u")throw new xr(908,!1);Zone.assertZonePatched();const $=this;$._nesting=0,$._outer=$._inner=Zone.current,Zone.TaskTrackingZoneSpec&&($._inner=$._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&($._inner=$._inner.fork(Zone.longStackTraceZoneSpec)),$.shouldCoalesceEventChangeDetection=!T&&m,$.shouldCoalesceRunChangeDetection=T,$.callbackScheduled=!1,function X6(i){const c=()=>{!function Y6(i){i.isCheckStableRunning||i.callbackScheduled||(i.callbackScheduled=!0,Zone.root.run(()=>{WD(()=>{i.callbackScheduled=!1,X2(i),i.isCheckStableRunning=!0,Y2(i),i.isCheckStableRunning=!1})}),X2(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(m,T,$,se,ye,Te)=>{if(function JD(i){return QD(i,"__ignore_ng_zone__")}(Te))return m.invokeTask($,se,ye,Te);try{return YD(i),m.invokeTask($,se,ye,Te)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===se.type||i.shouldCoalesceRunChangeDetection)&&c(),XD(i)}},onInvoke:(m,T,$,se,ye,Te,Ye)=>{try{return YD(i),m.invoke($,se,ye,Te,Ye)}finally{i.shouldCoalesceRunChangeDetection&&!i.callbackScheduled&&!function qD(i){return QD(i,"__scheduler_tick__")}(Te)&&c(),XD(i)}},onHasTask:(m,T,$,se)=>{m.hasTask($,se),T===$&&("microTask"==se.change?(i._hasPendingMicrotasks=se.microTask,X2(i),Y2(i)):"macroTask"==se.change&&(i.hasPendingMacrotasks=se.macroTask))},onHandleError:(m,T,$,se)=>(m.handleError($,se),i.runOutsideAngular(()=>i.onError.emit(se)),!1)})}($)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ps.isInAngularZone())throw new xr(909,!1)}static assertNotInAngularZone(){if(Ps.isInAngularZone())throw new xr(909,!1)}run(c,m,T){return this._inner.run(c,m,T)}runTask(c,m,T,$){const se=this._inner,ye=se.scheduleEventTask("NgZoneEvent: "+$,c,CP,ZD,ZD);try{return se.runTask(ye,m,T)}finally{se.cancelTask(ye)}}runGuarded(c,m,T){return this._inner.runGuarded(c,m,T)}runOutsideAngular(c){return this._outer.run(c)}}const CP={};function Y2(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function X2(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&!0===i.callbackScheduled)}function YD(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function XD(i){i._nesting--,Y2(i)}class J2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nl,this.onMicrotaskEmpty=new nl,this.onStable=new nl,this.onError=new nl}run(c,m,T){return c.apply(m,T)}runGuarded(c,m,T){return c.apply(m,T)}runOutsideAngular(c){return c()}runTask(c,m,T,$){return c.apply(m,T)}}function QD(i,c){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0]?.data?.[c]}var wf=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(wf||{});const eI={destroy(){}};function eE(i,c){!c&&Rg();const m=c?.injector??ei(Fa);if(!wd(m))return eI;ks("NgAfterRender");const T=m.get(s0),$=T.handler??=new tE,se=c?.phase??wf.MixedReadWrite,ye=()=>{$.unregister(Ye),Te()},Te=m.get(ip).onDestroy(ye),Ye=sf(m,()=>new tI(se,i));return $.register(Ye),{destroy:ye}}function bw(i,c){!c&&Rg();const m=c?.injector??ei(Fa);if(!wd(m))return eI;ks("NgAfterNextRender");const T=m.get(s0),$=T.handler??=new tE,se=c?.phase??wf.MixedReadWrite,ye=()=>{$.unregister(Ye),Te()},Te=m.get(ip).onDestroy(ye),Ye=sf(m,()=>new tI(se,()=>{ye(),i()}));return $.register(Ye),{destroy:ye}}class tI{constructor(c,m){this.phase=c,this.callbackFn=m,this.zone=ei(Ps),this.errorHandler=ei(Rl,{optional:!0}),ei(Ep,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(c){this.errorHandler?.handleError(c)}}}class tE{constructor(){this.executingCallbacks=!1,this.buckets={[wf.EarlyRead]:new Set,[wf.Write]:new Set,[wf.MixedReadWrite]:new Set,[wf.Read]:new Set},this.deferredCallbacks=new Set}register(c){(this.executingCallbacks?this.deferredCallbacks:this.buckets[c.phase]).add(c)}unregister(c){this.buckets[c.phase].delete(c),this.deferredCallbacks.delete(c)}execute(){this.executingCallbacks=!0;for(const c of Object.values(this.buckets))for(const m of c)m.invoke();this.executingCallbacks=!1;for(const c of this.deferredCallbacks)this.buckets[c.phase].add(c);this.deferredCallbacks.clear()}destroy(){for(const c of Object.values(this.buckets))c.clear();this.deferredCallbacks.clear()}}let s0=(()=>{class i{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const m=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const T of m)T()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=yi({token:i,providedIn:"root",factory:()=>new i})}return i})();function hh(i){return!!pa(i)}function c0(i,c,m){let T=m?i.styles:null,$=m?i.classes:null,se=0;if(null!==c)for(let ye=0;ye<c.length;ye++){const Te=c[ye];"number"==typeof Te?se=Te:1==se?$=Yf($,Te):2==se&&(T=Yf(T,Te+": "+c[++ye]+";"))}m?i.styles=T:i.stylesWithoutHost=T,m?i.classes=$:i.classesWithoutHost=$}class q6 extends o0{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const m=Ri(c);return new Mp(m,this.ngModule)}}function ww(i){const c=[];for(const m in i){if(!i.hasOwnProperty(m))continue;const T=i[m];void 0!==T&&c.push({propName:Array.isArray(T)?T[0]:T,templateName:m})}return c}class Mp extends KD{get inputs(){const c=this.componentDef,m=c.inputTransforms,T=ww(c.inputs);if(null!==m)for(const $ of T)m.hasOwnProperty($.propName)&&($.transform=m[$.propName]);return T}get outputs(){return ww(this.componentDef.outputs)}constructor(c,m){super(),this.componentDef=c,this.ngModule=m,this.componentType=c.type,this.selector=function wn(i){return i.map(sn).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!m}create(c,m,T,$){const se=k(null);try{let ye=($=$||this.ngModule)instanceof Jd?$:$?.injector;ye&&null!==this.componentDef.getStandaloneInjector&&(ye=this.componentDef.getStandaloneInjector(ye)||ye);const Te=ye?new np(c,ye):c,Ye=Te.get(vw,null);if(null===Ye)throw new xr(407,!1);const Et=Te.get(AP,null),Sn={rendererFactory:Ye,sanitizer:Et,inlineEffectRunner:null,afterRenderEventManager:Te.get(s0,null),changeDetectionScheduler:Te.get(Ep,null)},Cn=Ye.createRenderer(null,this.componentDef),Vn=this.componentDef.selectors[0][0]||"div",or=T?function lP(i,c,m,T){const se=T.get(TS,!1)||m===Ml.ShadowDom,ye=i.selectRootElement(c,se);return function uP(i){WC(i)}(ye),ye}(Cn,T,this.componentDef.encapsulation,Te):hy(Cn,Vn,function kP(i){const c=i.toLowerCase();return"svg"===c?jg:"math"===c?"math":null}(Vn));let Dr=512;this.componentDef.signals?Dr|=4096:this.componentDef.onPush||(Dr|=16);let Cr=null;null!==or&&(Cr=_S(or,Te,!0));const lr=Bl(0,null,null,1,0,null,null,null,null,null,null),di=qb(null,lr,null,Dr,null,null,Sn,Cn,Te,null,Cr);let $o,Uo;BM(di);try{const Ba=this.componentDef;let ea,Lh=null;Ba.findHostDirectiveDefs?(ea=[],Lh=new Map,Ba.findHostDirectiveDefs(Ba,ea,Lh),ea.push(Ba)):ea=[Ba];const Q_=function rE(i,c){const m=i[kr],T=ki;return i[T]=c,Ym(m,T,2,"#host",null)}(di,or),Hf=function iE(i,c,m,T,$,se,ye){const Te=$[kr];!function oI(i,c,m,T){for(const $ of i)c.mergedAttrs=Wh(c.mergedAttrs,$.hostAttrs);null!==c.mergedAttrs&&(c0(c,c.mergedAttrs,!0),null!==m&&Jb(T,m,c))}(T,i,c,ye);let Ye=null;null!==c&&(Ye=_S(c,$[Ca]));const Et=se.rendererFactory.createRenderer(c,m);let Nt=16;m.signals?Nt=4096:m.onPush&&(Nt=64);const dn=qb($,lD(m),null,Nt,$[i.index],i,se,Et,null,null,Ye);return Te.firstCreatePass&&C2(Te,i,T.length-1),mp($,dn),$[i.index]=dn}(Q_,or,Ba,ea,di,Sn,Cn);Uo=Kg(lr,ki),or&&function aI(i,c,m,T){if(T)fu(i,m,["ng-version","18.0.4"]);else{const{attrs:$,classes:se}=function Jn(i){const c=[],m=[];let T=1,$=2;for(;T<i.length;){let se=i[T];if("string"==typeof se)2===$?""!==se&&c.push(se,i[++T]):8===$&&m.push(se);else{if(!Rd($))break;$=se}T++}return{attrs:c,classes:m}}(c.selectors[0]);$&&fu(i,m,$),se&&se.length>0&&sD(i,m,se.join(" "))}}(Cn,Ba,or,T),void 0!==m&&function gc(i,c,m){const T=i.projection=[];for(let $=0;$<c.length;$++){const se=m[$];T.push(null!=se?Array.from(se):null)}}(Uo,this.ngContentSelectors,m),$o=function sI(i,c,m,T,$,se){const ye=hs(),Te=$[kr],Ye=qc(ye,$);uD(Te,$,ye,m,null,T);for(let Nt=0;Nt<m.length;Nt++)Nc(rp($,Te,ye.directiveStart+Nt,ye),$);hD(Te,$,ye),Ye&&Nc(Ye,$);const Et=rp($,Te,ye.directiveStart+ye.componentOffset,ye);if(i[Fs]=$[Fs]=Et,null!==se)for(const Nt of se)Nt(Et,c);return Qb(Te,ye,$),Et}(Hf,Ba,ea,Lh,di,[cI]),O2(lr,di,null)}finally{B1()}return new PP(this.componentType,$o,ff(Uo,di),di,Uo)}finally{k(se)}}}class PP extends $D{constructor(c,m,T,$,se){super(),this.location=T,this._rootLView=$,this._tNode=se,this.previousInputValues=null,this.instance=m,this.hostView=this.changeDetectorRef=new by($,void 0,!1),this.componentType=c}setInput(c,m){const T=this._tNode.inputs;let $;if(null!==T&&($=T[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),m))return;const se=this._rootLView;mD(se[kr],se,$,c,m),this.previousInputValues.set(c,m),vy(Nd(this._tNode.index,se),1)}}get injector(){return new Pa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function cI(){const i=hs();sb(ar()[kr],i)}let ph=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=Cy}return i})();function Cy(){return l0(hs(),ar())}const _w=ph,d0=class extends _w{constructor(c,m,T){super(),this._lContainer=c,this._hostTNode=m,this._hostLView=T}get element(){return ff(this._hostTNode,this._hostLView)}get injector(){return new Pa(this._hostTNode,this._hostLView)}get parentInjector(){const c=fb(this._hostTNode,this._hostLView);if(j1(c)){const m=Im(c,this._hostLView),T=Xg(c);return new Pa(m[kr].data[T+8],m)}return new Pa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const m=Ew(this._lContainer);return null!==m&&m[c]||null}get length(){return this._lContainer.length-ga}createEmbeddedView(c,m,T){let $,se;"number"==typeof T?$=T:null!=T&&($=T.index,se=T.injector);const ye=_p(this._lContainer,c.ssrId),Te=c.createEmbeddedViewImpl(m||{},se,ye);return this.insertImpl(Te,$,gp(this._hostTNode,ye)),Te}createComponent(c,m,T,$,se){const ye=c&&!function Og(i){return"function"==typeof i}(c);let Te;if(ye)Te=m;else{const Vn=m||{};Te=Vn.index,T=Vn.injector,$=Vn.projectableNodes,se=Vn.environmentInjector||Vn.ngModuleRef}const Ye=ye?c:new Mp(Ri(c)),Et=T||this.parentInjector;if(!se&&null==Ye.ngModule){const or=(ye?Et:this.parentInjector).get(Jd,null);or&&(se=or)}const Nt=Ri(Ye.componentType??{}),dn=_p(this._lContainer,Nt?.id??null),Cn=Ye.create(Et,$,dn?.firstChild??null,se);return this.insertImpl(Cn.hostView,Te,gp(this._hostTNode,dn)),Cn}insert(c,m){return this.insertImpl(c,m,!0)}insertImpl(c,m,T){const $=c._lView;if(function g3(i){return Wa(i[ia])}($)){const Te=this.indexOf(c);if(-1!==Te)this.detach(Te);else{const Ye=$[ia],Et=new d0(Ye,Ye[ma],Ye[ia]);Et.detach(Et.indexOf(c))}}const se=this._adjustIndex(m),ye=this._lContainer;return yp(ye,$,se,T),c.attachToViewContainerRef(),Xd(xw(ye),se,c),c}move(c,m){return this.insert(c,m)}indexOf(c){const m=Ew(this._lContainer);return null!==m?m.indexOf(c):-1}remove(c){const m=this._adjustIndex(c,-1),T=py(this._lContainer,m);T&&(Mg(xw(this._lContainer),m),Wb(T[kr],T))}detach(c){const m=this._adjustIndex(c,-1),T=py(this._lContainer,m);return T&&null!=Mg(xw(this._lContainer),m)?new by(T):null}_adjustIndex(c,m=0){return c??this.length+m}};function Ew(i){return i[8]}function xw(i){return i[8]||(i[8]=[])}function l0(i,c){let m;const T=c[i.index];return Wa(T)?m=T:(m=iw(T,c,null,i),c[i.index]=m,mp(c,m)),Q6(m,c,i,T),new d0(m,i,c)}let Q6=function Ld(i,c,m,T){if(i[Qd])return;let $;$=8&m.type?ts(T):function Sp(i,c){const m=i[Qi],T=m.createComment(""),$=qc(c,i);return hp(m,Zb(m,$),T,function $C(i,c){return i.nextSibling(c)}(m,$),!1),T}(c,m),i[Qd]=$},oE=()=>!1;class aE{constructor(c){this.queryList=c,this.matches=null}clone(){return new aE(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lc{constructor(c=[]){this.queries=c}createEmbeddedView(c){const m=c.queries;if(null!==m){const T=null!==c.contentQueries?c.contentQueries[0]:m.length,$=[];for(let se=0;se<T;se++){const ye=m.getByIndex(se);$.push(this.queries[ye.indexInDeclarationView].clone())}return new Lc($)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}finishViewCreation(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let m=0;m<this.queries.length;m++)null!==Ry(c,m).matches&&this.queries[m].setDirty()}}class Ll{constructor(c,m,T=null){this.flags=m,this.read=T,this.predicate="string"==typeof c?function Py(i){return i.split(",").map(c=>c.trim())}(c):c}}class Ar{constructor(c=[]){this.queries=c}elementStart(c,m){for(let T=0;T<this.queries.length;T++)this.queries[T].elementStart(c,m)}elementEnd(c){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(c)}embeddedTView(c){let m=null;for(let T=0;T<this.length;T++){const $=null!==m?m.length:0,se=this.getByIndex(T).embeddedTView(c,$);se&&(se.indexInDeclarationView=T,null!==m?m.push(se):m=[se])}return null!==m?new Ar(m):null}template(c,m){for(let T=0;T<this.queries.length;T++)this.queries[T].template(c,m)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class cE{constructor(c,m=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=m}elementStart(c,m){this.isApplyingToNode(m)&&this.matchTNode(c,m)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,m){this.elementStart(c,m)}embeddedTView(c,m){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,m),new cE(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1&~this.metadata.flags){const m=this._declarationNodeIndex;let T=c.parent;for(;null!==T&&8&T.type&&T.index!==m;)T=T.parent;return m===(null!==T?T.index:-1)}return this._appliesToNextNode}matchTNode(c,m){const T=this.metadata.predicate;if(Array.isArray(T))for(let $=0;$<T.length;$++){const se=T[$];this.matchTNodeWithReadOption(c,m,Ul(m,se)),this.matchTNodeWithReadOption(c,m,pb(m,c,se,!1,!1))}else T===e0?4&m.type&&this.matchTNodeWithReadOption(c,m,-1):this.matchTNodeWithReadOption(c,m,pb(m,c,T,!1,!1))}matchTNodeWithReadOption(c,m,T){if(null!==T){const $=this.metadata.read;if(null!==$)if($===lh||$===ph||$===e0&&4&m.type)this.addMatch(m.index,-2);else{const se=pb(m,c,$,!1,!1);null!==se&&this.addMatch(m.index,se)}else this.addMatch(m.index,T)}}addMatch(c,m){null===this.matches?this.matches=[c,m]:this.matches.push(c,m)}}function Ul(i,c){const m=i.localNames;if(null!==m)for(let T=0;T<m.length;T+=2)if(m[T]===c)return m[T+1];return null}function e5(i,c,m,T){return-1===m?function Ud(i,c){return 11&i.type?ff(i,c):4&i.type?lw(i,c):null}(c,i):-2===m?function od(i,c,m){return m===lh?ff(c,i):m===e0?lw(c,i):m===ph?l0(c,i):void 0}(i,c,T):rp(i,i[kr],m,c)}function dI(i,c,m,T){const $=c[af].queries[T];if(null===$.matches){const se=i.data,ye=m.matches,Te=[];for(let Ye=0;null!==ye&&Ye<ye.length;Ye+=2){const Et=ye[Ye];Te.push(Et<0?null:e5(c,se[Et],ye[Ye+1],m.metadata.read))}$.matches=Te}return $.matches}function Fi(i,c,m,T){const $=i.queries.getByIndex(m),se=$.matches;if(null!==se){const ye=dI(i,c,$,m);for(let Te=0;Te<se.length;Te+=2){const Ye=se[Te];if(Ye>0)T.push(ye[Te/2]);else{const Et=se[Te+1],Nt=c[-Ye];for(let dn=ga;dn<Nt.length;dn++){const Sn=Nt[dn];Sn[Jh]===Sn[ia]&&Fi(Sn[kr],Sn,Et,T)}if(null!==Nt[Em]){const dn=Nt[Em];for(let Sn=0;Sn<dn.length;Sn++){const Cn=dn[Sn];Fi(Cn[kr],Cn,Et,T)}}}}}return T}function mh(i,c,m){const T=new Y1(!(4&~m));return function pP(i,c,m,T){const $=pD(c);$.push(m),i.firstCreatePass&&ow(i).push(T,$.length-1)}(i,c,T,T.destroy),(c[af]??=new Lc).queries.push(new aE(T))-1}function dE(i,c,m){null===i.queries&&(i.queries=new Ar),i.queries.track(new cE(c,m))}function Ry(i,c){return i.queries.getByIndex(c)}function lI(i,c){const m=i[kr],T=Ry(m,c);return T.crossesNgTemplate?Fi(m,i,c,[]):dI(m,i,T,c)}function eo(i){return"function"==typeof i&&void 0!==i[b]}function Sw(i,c){ks("NgSignals");const m=function v(i){const c=Object.create(we);c.value=i;const m=()=>(A(c),c.value);return m[b]=c,m}(i),T=m[b];return c?.equal&&(T.equal=c.equal),m.set=$=>ee(T,$),m.update=$=>function le(i,c){Q()||L(),ee(i,c(i.value))}(T,$),m.asReadonly=Oy.bind(m),m}function Oy(){const i=this[b];if(void 0===i.readonlyFn){const c=()=>this();c[b]=i,i.readonlyFn=c}return i.readonlyFn}function Uc(i){return eo(i)&&"function"==typeof i.set}function Ki(i){const c=Object.create(Da),m=new tS;function T(){return A(c),Vi(c.value),c.value}return c.value=i,T[b]=c,T.asReadonly=Oy.bind(T),T.set=$=>{c.equal(c.value,$)||(ee(c,$),m.emit($))},T.update=$=>{Vi(c.value),T.set($(c.value))},T.subscribe=m.subscribe.bind(m),T.destroyRef=m.destroyRef,T}function Vi(i){if(i===Io)throw new xr(952,!1)}function zi(i){return Ki(i)}const Gn=(zi.required=function Gi(){return Ki(Io)},zi);function Tw(i){let c=function h0(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),m=!0;const T=[i];for(;c;){let $;if(Il(i))$=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xr(903,!1);$=c.\u0275dir}if($){if(m){T.push($);const ye=i;ye.inputs=Cw(i.inputs),ye.inputTransforms=Cw(i.inputTransforms),ye.declaredInputs=Cw(i.declaredInputs),ye.outputs=Cw(i.outputs);const Te=$.hostBindings;Te&&yI(i,Te);const Ye=$.viewQuery,Et=$.contentQueries;if(Ye&&mI(i,Ye),Et&&gI(i,Et),Aw(i,$),la(i.outputs,$.outputs),Il($)&&$.data.animation){const Nt=i.data;Nt.animation=(Nt.animation||[]).concat($.data.animation)}}const se=$.features;if(se)for(let ye=0;ye<se.length;ye++){const Te=se[ye];Te&&Te.ngInherit&&Te(i),Te===Tw&&(m=!1)}}c=Object.getPrototypeOf(c)}!function uE(i){let c=0,m=null;for(let T=i.length-1;T>=0;T--){const $=i[T];$.hostVars=c+=$.hostVars,$.hostAttrs=Wh($.hostAttrs,m=Wh(m,$.hostAttrs))}}(T)}function Aw(i,c){for(const m in c.inputs){if(!c.inputs.hasOwnProperty(m)||i.inputs.hasOwnProperty(m))continue;const T=c.inputs[m];if(void 0!==T&&(i.inputs[m]=T,i.declaredInputs[m]=c.declaredInputs[m],null!==c.inputTransforms)){const $=Array.isArray(T)?T[0]:T;if(!c.inputTransforms.hasOwnProperty($))continue;i.inputTransforms??={},i.inputTransforms[$]=c.inputTransforms[$]}}}function Cw(i){return i===za?{}:i===Fo?[]:i}function mI(i,c){const m=i.viewQuery;i.viewQuery=m?(T,$)=>{c(T,$),m(T,$)}:c}function gI(i,c){const m=i.contentQueries;i.contentQueries=m?(T,$,se)=>{c(T,$,se),m(T,$,se)}:c}function yI(i,c){const m=i.hostBindings;i.hostBindings=m?(T,$)=>{c(T,$),m(T,$)}:c}function fE(i){const c=i.inputConfig,m={};for(const T in c)if(c.hasOwnProperty(T)){const $=c[T];Array.isArray($)&&$[3]&&(m[T]=$[3])}i.inputTransforms=m}class vh{}class wI{}function l5(i,c){return new _c(i,c??null,[])}class _c extends vh{constructor(c,m,T){super(),this._parent=m,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new q6(this);const $=pa(c);this._bootstrapComponents=rd($.bootstrap),this._r3Injector=QM(c,m,[{provide:vh,useValue:this},{provide:o0,useValue:this.componentFactoryResolver},...T],Cs(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class bh extends wI{constructor(c){super(),this.moduleType=c}create(c){return new _c(this.moduleType,c,[])}}class Ny extends vh{constructor(c){super(),this.componentFactoryResolver=new q6(this),this.instance=null;const m=new gm([...c.providers,{provide:vh,useValue:this},{provide:o0,useValue:this.componentFactoryResolver}],c.parent||Pg(),c.debugName,new Set(["environment"]));this.injector=m,c.runEnvironmentInitializers&&m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function ja(i,c,m=null){return new Ny({providers:i,parent:c,debugName:m,runEnvironmentInitializers:!0}).injector}function Rw(i){return!!p0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function p0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Bo(i,c,m){return i[c]=m}function cs(i,c,m){return!Object.is(i[c],m)&&(i[c]=m,!0)}function m0(i,c,m,T,$,se,ye,Te,Ye,Et){const Nt=m+ki,dn=c.firstCreatePass?function p5(i,c,m,T,$,se,ye,Te,Ye){const Et=c.consts,Nt=Ym(c,i,4,ye||null,Te||null);nw(c,m,Nt,bd(Et,Ye)),sb(c,Nt);const dn=Nt.tView=Bl(2,Nt,T,$,se,c.directiveRegistry,c.pipeRegistry,null,c.schemas,Et,null);return null!==c.queries&&(c.queries.template(c,Nt),dn.queries=c.queries.embeddedTView(Nt)),Nt}(Nt,c,i,T,$,se,ye,Te,Ye):c.data[Nt];_u(dn,!1);const Sn=$l(c,i,dn,m);Zg()&&Yb(c,i,Sn,dn),Nc(Sn,i);const Cn=iw(Sn,i,Sn,dn);return i[Nt]=Cn,mp(i,Cn),function ky(i,c,m){return oE(i,c,m)}(Cn,dn,i),Jv(dn)&&ew(c,i,dn),null!=Ye&&T2(i,dn,Et),dn}function Ow(i,c,m,T,$,se,ye,Te){const Ye=ar(),Et=Mo();return m0(Ye,Et,i,c,m,T,$,bd(Et.consts,se),ye,Te),Ow}let $l=function g0(i,c,m,T){return Eu(!0),c[Qi].createComment("")};function xc(i,c,m,T){const $=ar();return cs($,Cl(),c)&&(Mo(),Du(js(),$,i,c,m,T)),xc}function Pu(i,c,m,T){return cs(i,Cl(),m)?c+pr(m)+T:uo}function C0(i,c){return i<<17|c<<2}function Ou(i){return i>>17&32767}function k0(i){return 2|i}function Nu(i){return(131068&i)>>2}function P0(i,c){return-131069&i|c<<2}function Kp(i){return 1|i}function vE(i,c,m,T){const $=i[m+1],se=null===c;let ye=T?Ou($):Nu($),Te=!1;for(;0!==ye&&(!1===Te||se);){const Et=i[ye+1];Mf(i[ye],c)&&(Te=!0,i[ye+1]=T?Kp(Et):k0(Et)),ye=T?Ou(Et):Nu(Et)}Te&&(i[m+1]=T?k0($):Kp($))}function Mf(i,c){return null===i||null==c||(Array.isArray(i)?i[1]:i)===c||!(!Array.isArray(i)||"string"!=typeof c)&&Aa(i,c)>=0}const zs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Vp(i){return i.substring(zs.key,zs.keyEnd)}function bE(i,c){const m=zs.textEnd;return m===c?-1:(c=zs.keyEnd=function wE(i,c,m){for(;c<m&&i.charCodeAt(c)>32;)c++;return c}(i,zs.key=c,m),zc(i,c,m))}function zc(i,c,m){for(;c<m&&i.charCodeAt(c)<=32;)c++;return c}function ls(i,c,m){const T=ar();return cs(T,Cl(),c)&&id(Mo(),js(),T,i,c,T[Qi],m,!1),ls}function O0(i,c,m,T,$){const ye=$?"class":"style";mD(i,m,c.inputs[ye],ye,T)}function Xw(i,c,m){return cl(i,c,m,!1),Xw}function Yy(i,c){return cl(i,c,null,!0),Yy}function _E(i){Hc(CI,Wl,i,!0)}function Wl(i,c){for(let m=function Gy(i){return function Yw(i){zs.key=0,zs.keyEnd=0,zs.value=0,zs.valueEnd=0,zs.textEnd=i.length}(i),bE(i,zc(i,0,zs.textEnd))}(c);m>=0;m=bE(c,m))Rc(i,Vp(c),!0)}function cl(i,c,m,T){const $=ar(),se=Mo(),ye=lf(2);se.firstUpdatePass&&Jw(se,i,ye,T),c!==uo&&cs($,ye,c)&&If(se,se.data[Oc()],$,$[Qi],i,$[ye+1]=function e_(i,c){return null==i||""===i||("string"==typeof c?i+=c:"object"==typeof i&&(i=Cs(yf(i)))),i}(c,m),T,ye)}function Hc(i,c,m,T){const $=Mo(),se=lf(2);$.firstUpdatePass&&Jw($,null,se,T);const ye=ar();if(m!==uo&&cs(ye,se,m)){const Te=$.data[Oc()];if(ME(Te,T)&&!Sf($,se)){let Ye=T?Te.classesWithoutHost:Te.stylesWithoutHost;null!==Ye&&(m=Yf(Ye,m||"")),O0($,Te,ye,m,T)}else!function xE(i,c,m,T,$,se,ye,Te){$===uo&&($=Fo);let Ye=0,Et=0,Nt=0<$.length?$[0]:null,dn=0<se.length?se[0]:null;for(;null!==Nt||null!==dn;){const Sn=Ye<$.length?$[Ye+1]:void 0,Cn=Et<se.length?se[Et+1]:void 0;let or,Vn=null;Nt===dn?(Ye+=2,Et+=2,Sn!==Cn&&(Vn=dn,or=Cn)):null===dn||null!==Nt&&Nt<dn?(Ye+=2,Vn=Nt):(Et+=2,Vn=dn,or=Cn),null!==Vn&&If(i,c,m,T,Vn,or,ye,Te),Nt=Ye<$.length?$[Ye]:null,dn=Et<se.length?se[Et]:null}}($,Te,ye,ye[Qi],ye[se+1],ye[se+1]=function AI(i,c,m){if(null==m||""===m)return Fo;const T=[],$=yf(m);if(Array.isArray($))for(let se=0;se<$.length;se++)i(T,$[se],!0);else if("object"==typeof $)for(const se in $)$.hasOwnProperty(se)&&i(T,se,$[se]);else"string"==typeof $&&c(T,$);return T}(i,c,m),T,se)}}function Sf(i,c){return c>=i.expandoStartIndex}function Jw(i,c,m,T){const $=i.data;if(null===$[m+1]){const se=$[Oc()],ye=Sf(i,m);ME(se,T)&&null===c&&!ye&&(c=!1),c=function Df(i,c,m,T){const $=P1(i);let se=T?c.residualClasses:c.residualStyles;if(null===$)0===(T?c.classBindings:c.styleBindings)&&(m=N0(m=Qw(null,i,c,m,T),c.attrs,T),se=null);else{const ye=c.directiveStylingLast;if(-1===ye||i[ye]!==$)if(m=Qw($,i,c,m,T),null===se){let Ye=function qw(i,c,m){const T=m?c.classBindings:c.styleBindings;if(0!==Nu(T))return i[Ou(T)]}(i,c,T);void 0!==Ye&&Array.isArray(Ye)&&(Ye=Qw(null,i,c,Ye[1],T),Ye=N0(Ye,c.attrs,T),function TI(i,c,m,T){i[Ou(m?c.classBindings:c.styleBindings)]=T}(i,c,T,Ye))}else se=function Eh(i,c,m){let T;const $=c.directiveEnd;for(let se=1+c.directiveStylingLast;se<$;se++)T=N0(T,i[se].hostAttrs,m);return N0(T,c.attrs,m)}(i,c,T)}return void 0!==se&&(T?c.residualClasses=se:c.residualStyles=se),m}($,se,c,T),function Wy(i,c,m,T,$,se){let ye=se?c.classBindings:c.styleBindings,Te=Ou(ye),Ye=Nu(ye);i[T]=m;let Nt,Et=!1;if(Array.isArray(m)?(Nt=m[1],(null===Nt||Aa(m,Nt)>0)&&(Et=!0)):Nt=m,$)if(0!==Ye){const Sn=Ou(i[Te+1]);i[T+1]=C0(Sn,Te),0!==Sn&&(i[Sn+1]=P0(i[Sn+1],T)),i[Te+1]=function Gw(i,c){return 131071&i|c<<17}(i[Te+1],T)}else i[T+1]=C0(Te,0),0!==Te&&(i[Te+1]=P0(i[Te+1],T)),Te=T;else i[T+1]=C0(Ye,0),0===Te?Te=T:i[Ye+1]=P0(i[Ye+1],T),Ye=T;Et&&(i[T+1]=k0(i[T+1])),vE(i,Nt,T,!0),vE(i,Nt,T,!1),function Zw(i,c,m,T,$){const se=$?i.residualClasses:i.residualStyles;null!=se&&"string"==typeof c&&Aa(se,c)>=0&&(m[T+1]=Kp(m[T+1]))}(c,Nt,i,T,se),ye=C0(Te,Ye),se?c.classBindings=ye:c.styleBindings=ye}($,se,c,m,ye,T)}}function Qw(i,c,m,T,$){let se=null;const ye=m.directiveEnd;let Te=m.directiveStylingLast;for(-1===Te?Te=m.directiveStart:Te++;Te<ye&&(se=c[Te],T=N0(T,se.hostAttrs,$),se!==i);)Te++;return null!==i&&(m.directiveStylingLast=Te),T}function N0(i,c,m){const T=m?1:2;let $=-1;if(null!==c)for(let se=0;se<c.length;se++){const ye=c[se];"number"==typeof ye?$=ye:$===T&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Rc(i,ye,!!m||c[++se]))}return void 0===i?null:i}function CI(i,c,m){const T=String(c);""!==T&&!T.includes(" ")&&Rc(i,T,m)}function If(i,c,m,T,$,se,ye,Te){if(!(3&c.type))return;const Ye=i.data,Et=Ye[Te+1],Nt=function cd(i){return!(1&~i)}(Et)?Bu(Ye,c,m,$,Nu(Et),ye):void 0;B0(Nt)||(B0(se)||function yE(i){return!(2&~i)}(Et)&&(se=Bu(Ye,null,m,$,Te,ye)),function dP(i,c,m,T,$){if(c)$?i.addClass(m,T):i.removeClass(m,T);else{let se=-1===T.indexOf("-")?void 0:zm.DashCase;null==$?i.removeStyle(m,T,se):("string"==typeof $&&$.endsWith("!important")&&($=$.slice(0,-10),se|=zm.Important),i.setStyle(m,T,$,se))}}(T,ye,$g(Oc(),m),$,se))}function Bu(i,c,m,T,$,se){const ye=null===c;let Te;for(;$>0;){const Ye=i[$],Et=Array.isArray(Ye),Nt=Et?Ye[1]:Ye,dn=null===Nt;let Sn=m[$+1];Sn===uo&&(Sn=dn?Fo:void 0);let Cn=dn?xl(Sn,T):Nt===T?Sn:void 0;if(Et&&!B0(Cn)&&(Cn=xl(Ye,T)),B0(Cn)&&(Te=Cn,ye))return Te;const Vn=i[$+1];$=ye?Ou(Vn):Nu(Vn)}if(null!==c){let Ye=se?c.residualClasses:c.residualStyles;null!=Ye&&(Te=xl(Ye,T))}return Te}function B0(i){return void 0!==i}function ME(i,c){return!!(i.flags&(c?8:16))}function Gl(i,c,m){Hc(Rc,Wl,Pu(ar(),i,c,m),!0)}class PI{destroy(c){}updateValue(c,m){}swap(c,m){const T=Math.min(c,m),$=Math.max(c,m),se=this.detach($);if($-T>1){const ye=this.detach(T);this.attach(T,se),this.attach($,ye)}else this.attach(T,se)}move(c,m){this.attach(m,this.detach(c))}}function i_(i,c,m,T,$){return i===m&&Object.is(c,T)?1:Object.is($(i,c),$(m,T))?-1:0}function _a(i,c,m,T){return!(void 0===c||!c.has(T)||(i.attach(m,c.get(T)),c.delete(T),0))}function Zl(i,c,m,T,$){if(_a(i,c,T,m(T,$)))i.updateValue(T,$);else{const se=i.create(T,$);i.attach(T,se)}}function IE(i,c,m,T){const $=new Set;for(let se=c;se<=m;se++)$.add(T(se,i.at(se)));return $}class Xy{constructor(){this.kvMap=new Map,this._vMap=void 0}has(c){return this.kvMap.has(c)}delete(c){if(!this.has(c))return!1;const m=this.kvMap.get(c);return void 0!==this._vMap&&this._vMap.has(m)?(this.kvMap.set(c,this._vMap.get(m)),this._vMap.delete(m)):this.kvMap.delete(c),!0}get(c){return this.kvMap.get(c)}set(c,m){if(this.kvMap.has(c)){let T=this.kvMap.get(c);void 0===this._vMap&&(this._vMap=new Map);const $=this._vMap;for(;$.has(T);)T=$.get(T);$.set(T,m)}else this.kvMap.set(c,m)}forEach(c){for(let[m,T]of this.kvMap)if(c(T,m),void 0!==this._vMap){const $=this._vMap;for(;$.has(T);)T=$.get(T),c(T,m)}}}function o_(i,c){ks("NgControlFlow");const m=ar(),T=Cl(),$=m[T]!==uo?m[T]:-1,se=-1!==$?qy(m,ki+$):void 0;if(cs(m,T,i)){const Te=k(null);try{if(void 0!==se&&N2(se,0),-1!==i){const Ye=ki+i,Et=qy(m,Ye),Nt=s_(m[kr],Ye),dn=_p(Et,Nt.tView.ssrId);yp(Et,Jm(m,Nt,c,{dehydratedView:dn}),0,gp(Nt,dn))}}finally{k(Te)}}else if(void 0!==se){const Te=qm(se,0);void 0!==Te&&(Te[Fs]=c)}}class OI{constructor(c,m,T){this.lContainer=c,this.$implicit=m,this.$index=T}get $count(){return this.lContainer.length-ga}}function xh(i){return i}function Jy(i,c){return c}class TE{constructor(c,m,T){this.hasEmptyBlock=c,this.trackByFn=m,this.liveCollection=T}}function AE(i,c,m,T,$,se,ye,Te,Ye,Et,Nt,dn,Sn){ks("NgControlFlow");const Cn=ar(),Vn=Mo(),or=void 0!==Ye,Dr=ar(),Cr=Te?ye.bind(Dr[Gs][Fs]):ye,lr=new TE(or,Cr);Dr[ki+i]=lr,m0(Cn,Vn,i+1,c,m,T,$,bd(Vn.consts,se)),or&&m0(Cn,Vn,i+2,Ye,Et,Nt,dn,bd(Vn.consts,Sn))}class LI extends PI{constructor(c,m,T){super(),this.lContainer=c,this.hostLView=m,this.templateTNode=T,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ga}at(c){return this.getLView(c)[Fs].$implicit}attach(c,m){const T=m[Jc];this.needsIndexUpdate||=c!==this.length,yp(this.lContainer,m,c,gp(this.templateTNode,T))}detach(c){return this.needsIndexUpdate||=c!==this.length-1,function UI(i,c){return py(i,c)}(this.lContainer,c)}create(c,m){const T=_p(this.lContainer,this.templateTNode.tView.ssrId),$=Jm(this.hostLView,this.templateTNode,new OI(this.lContainer,m,c),{dehydratedView:T});return this.operationsCounter?.recordCreate(),$}destroy(c){Wb(c[kr],c),this.operationsCounter?.recordDestroy()}updateValue(c,m){this.getLView(c)[Fs].$implicit=m}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let c=0;c<this.length;c++)this.getLView(c)[Fs].$index=c}getLView(c){return function FI(i,c){return qm(i,c)}(this.lContainer,c)}}function Hp(i){const c=k(null),m=Oc();try{const T=ar(),$=T[kr],se=T[m],ye=m+1,Te=qy(T,ye);if(void 0===se.liveCollection){const Et=s_($,ye);se.liveCollection=new LI(Te,T,Et)}else se.liveCollection.reset();const Ye=se.liveCollection;if(function RI(i,c,m){let T,$,se=0,ye=i.length-1;if(Array.isArray(c)){let Ye=c.length-1;for(;se<=ye&&se<=Ye;){const Et=i.at(se),Nt=c[se],dn=i_(se,Et,se,Nt,m);if(0!==dn){dn<0&&i.updateValue(se,Nt),se++;continue}const Sn=i.at(ye),Cn=c[Ye],Vn=i_(ye,Sn,Ye,Cn,m);if(0!==Vn){Vn<0&&i.updateValue(ye,Cn),ye--,Ye--;continue}const or=m(se,Et),Dr=m(ye,Sn),Cr=m(se,Nt);if(Object.is(Cr,Dr)){const lr=m(Ye,Cn);Object.is(lr,or)?(i.swap(se,ye),i.updateValue(ye,Cn),Ye--,ye--):i.move(ye,se),i.updateValue(se,Nt),se++}else if(T??=new Xy,$??=IE(i,se,ye,m),_a(i,T,se,Cr))i.updateValue(se,Nt),se++,ye++;else if($.has(Cr))T.set(or,i.detach(se)),ye--;else{const lr=i.create(se,c[se]);i.attach(se,lr),se++,ye++}}for(;se<=Ye;)Zl(i,T,m,se,c[se]),se++}else if(null!=c){const Ye=c[Symbol.iterator]();let Et=Ye.next();for(;!Et.done&&se<=ye;){const Nt=i.at(se),dn=Et.value,Sn=i_(se,Nt,se,dn,m);if(0!==Sn)Sn<0&&i.updateValue(se,dn),se++,Et=Ye.next();else{T??=new Xy,$??=IE(i,se,ye,m);const Cn=m(se,dn);if(_a(i,T,se,Cn))i.updateValue(se,dn),se++,ye++,Et=Ye.next();else if($.has(Cn)){const Vn=m(se,Nt);T.set(Vn,i.detach(se)),ye--}else i.attach(se,i.create(se,dn)),se++,ye++,Et=Ye.next()}}for(;!Et.done;)Zl(i,T,m,i.length,Et.value),Et=Ye.next()}for(;se<=ye;)i.destroy(i.detach(ye--));T?.forEach(Ye=>{i.destroy(Ye)})}(Ye,i,se.trackByFn),Ye.updateIndexes(),se.hasEmptyBlock){const Et=Cl(),Nt=0===Ye.length;if(cs(T,Et,Nt)){const dn=m+2,Sn=qy(T,dn);if(Nt){const Cn=s_($,dn),Vn=_p(Sn,Cn.tView.ssrId);yp(Sn,Jm(T,Cn,void 0,{dehydratedView:Vn}),0,gp(Cn,Vn))}else N2(Sn,0)}}}finally{k(c)}}function qy(i,c){return i[c]}function s_(i,c){return Kg(i,c)}function Qy(i,c,m,T){const $=ar(),se=Mo(),ye=ki+i,Te=$[Qi],Ye=se.firstCreatePass?function jI(i,c,m,T,$,se){const ye=c.consts,Ye=Ym(c,i,2,T,bd(ye,$));return nw(c,m,Ye,bd(ye,se)),null!==Ye.attrs&&c0(Ye,Ye.attrs,!1),null!==Ye.mergedAttrs&&c0(Ye,Ye.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,Ye),Ye}(ye,se,$,c,m,T):se.data[ye],Et=CE(se,$,Ye,Te,c,i);$[ye]=Et;const Nt=Jv(Ye);return _u(Ye,!0),Jb(Te,Et,Ye),!function sd(i){return!(32&~i.flags)}(Ye)&&Zg()&&Yb(se,$,Et,Ye),0===function g8(){return Xi.lFrame.elementDepthCount}()&&Nc(Et,$),function y8(){Xi.lFrame.elementDepthCount++}(),Nt&&(ew(se,$,Ye),Qb(se,Ye,$)),null!==T&&T2($,Ye),Qy}function Lu(){let i=hs();tb()?Wg():(i=i.parent,_u(i,!1));const c=i;(function b8(i){return Xi.skipHydrationRootTNode===i})(c)&&function E8(){Xi.skipHydrationRootTNode=null}(),function v8(){Xi.lFrame.elementDepthCount--}();const m=Mo();return m.firstCreatePass&&(sb(m,i),w1(i)&&m.queries.elementEnd(i)),null!=c.classesWithoutHost&&function si(i){return!!(8&i.flags)}(c)&&O0(m,c,ar(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Yg(i){return!!(16&i.flags)}(c)&&O0(m,c,ar(),c.stylesWithoutHost,!1),Lu}function a_(i,c,m,T){return Qy(i,c,m,T),Lu(),a_}let CE=(i,c,m,T,$,se)=>(Eu(!0),hy(T,$,function LM(){return Xi.lFrame.currentNamespace}()));function ev(i,c,m){const T=ar(),$=Mo(),se=i+ki,ye=$.firstCreatePass?function Fd(i,c,m,T,$){const se=c.consts,ye=bd(se,T),Te=Ym(c,i,8,"ng-container",ye);return null!==ye&&c0(Te,ye,!0),nw(c,m,Te,bd(se,$)),null!==c.queries&&c.queries.elementStart(c,Te),Te}(se,$,T,c,m):$.data[se];_u(ye,!0);const Te=RE($,T,ye,i);return T[se]=Te,Zg()&&Yb($,T,Te,ye),Nc(Te,T),Jv(ye)&&(ew($,T,ye),Qb($,ye,T)),null!=m&&T2(T,ye),ev}function tv(){let i=hs();const c=Mo();return tb()?Wg():(i=i.parent,_u(i,!1)),c.firstCreatePass&&(sb(c,i),w1(i)&&c.queries.elementEnd(i)),tv}function c_(i,c,m){return ev(i,c,m),tv(),c_}let RE=(i,c,m,T)=>(Eu(!0),Hb(c[Qi],""));function dd(){return ar()}function U0(i,c,m){const T=ar();return cs(T,Cl(),c)&&id(Mo(),js(),T,i,c,T[Qi],m,!0),U0}function nv(i,c,m){const T=ar();if(cs(T,Cl(),c)){const se=Mo(),ye=js();id(se,ye,T,i,c,sw(P1(se.data),ye,T),m,!0)}return nv}const Af=void 0;var ec=["en",[["a","p"],["AM","PM"],Af],[["AM","PM"],Af,Af],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Af,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Af,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Af,"{1} 'at' {0}",Af],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function d_(i){const m=Math.floor(Math.abs(i)),T=i.toString().replace(/^[^.]*\.?/,"").length;return 1===m&&0===T?1:5}];let Wp={};function Yl(i){const c=function rv(i){return i.toLowerCase().replace(/_/g,"-")}(i);let m=Zp(c);if(m)return m;const T=c.split("-")[0];if(m=Zp(T),m)return m;if("en"===T)return ec;throw new xr(701,!1)}function Mh(i){return Yl(i)[kf.PluralCase]}function Zp(i){return i in Wp||(Wp[i]=ss.ng&&ss.ng.common&&ss.ng.common.locales&&ss.ng.common.locales[i]),Wp[i]}var kf=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(kf||{});const ll="en-US",Pf={marker:"element"},Xl={marker:"ICU"};var Ea=function(i){return i[i.SHIFT=2]="SHIFT",i[i.APPEND_EAGERLY=1]="APPEND_EAGERLY",i[i.COMMENT=2]="COMMENT",i}(Ea||{});let Uu=ll;let $0=(i,c,m,T)=>(Eu(!0),function NE(i,c,m){const T=i[Qi];switch(m){case Node.COMMENT_NODE:return Hb(T,c);case Node.TEXT_NODE:return rl(T,c);case Node.ELEMENT_NODE:return hy(T,c,null)}}(i,m,T));function Rf(){const i=[];let m,T,c=-1;function se(Te,Ye){c=0;const Et=function fw(i,c){const m=c[i.currentCaseLViewIndex];return null===m?m:m<0?~m:m}(Te,Ye);T=null!==Et?Te.remove[Et]:Fo}function ye(){if(c<T.length){const Te=T[c++];return Te>0?m[Te]:(i.push(c,T),se(m[kr].data[~Te],m),ye())}return 0===i.length?null:(T=i.pop(),c=i.pop(),ye())}return function $(Te,Ye){for(m=Ye;i.length;)i.pop();return se(Te.value,Ye),ye}}const ul=/\ufffd(\d+):?\d*\ufffd/gi,v5=/\ufffd(\d+)\ufffd/,ZI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,sv="\ufffd",b5=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,w5=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,_5=/\uE500/g;function FE(i,c,m,T,$,se,ye){const Te=Xm(i,T,1,null);let Ye=Te<<Ea.SHIFT,Et=Hg();c===Et&&(Et=null),null===Et&&(Ye|=Ea.APPEND_EAGERLY),ye&&(Ye|=Ea.COMMENT,function _2(i){void 0===zb&&(zb=i())}(Rf)),$.push(Ye,null===se?"":se);const Nt=I2(i,Te,ye?32:1,null===se?"":se,null);Tu(m,Nt);const dn=Nt.index;return _u(Nt,!1),null!==Et&&c!==Et&&function T6(i,c){let m=i.insertBeforeIndex;null===m?(tD(xD,MD),m=i.insertBeforeIndex=[null,c]):(dt(Array.isArray(m),!0,"Expecting array here"),m.push(c))}(Et,dn),Nt}function G0(i,c,m,T,$,se,ye,Te){const Ye=Te.match(ul),Nt=FE(c,m,T,ye,$,Ye?null:Te,!1).index;Ye&&Wc(se,Te,Nt,null,0,null),i.push({kind:0,index:Nt})}function Wc(i,c,m,T,$,se){const ye=i.length,Te=ye+1;i.push(null,null);const Ye=ye+2,Et=c.split(ul);let Nt=0;for(let dn=0;dn<Et.length;dn++){const Sn=Et[dn];if(1&dn){const Cn=$+parseInt(Sn,10);i.push(-1-Cn),Nt|=JI(Cn)}else""!==Sn&&i.push(Sn)}return i.push(m<<2|(T?1:0)),T&&i.push(T,se),i[ye]=Nt,i[Te]=i.length-Ye,Nt}function JI(i){return 1<<Math.min(i,31)}function qI(i){let c,se,m="",T=0,$=!1;for(;null!==(c=b5.exec(i));)$?c[0]===`${sv}/*${se}${sv}`&&(T=c.index,$=!1):(m+=i.substring(T,c.index+c[0].length),se=c[1],$=!0);return m+=i.slice(T),m}function QI(i,c,m,T,$,se,ye){let Te=0;const Ye={type:se.type,currentCaseLViewIndex:Xm(c,m,1,null),anchorIdx:ye,cases:[],create:[],remove:[],update:[]};(function eT(i,c,m){i.push(JI(c.mainBinding),2,-1-c.mainBinding,m<<2|2)})(T,se,ye),function I6(i,c,m){const T=i.data[c];null===T?i.data[c]=m:T.value=m}(c,ye,Ye);const Et=se.values,Nt=[];for(let dn=0;dn<Et.length;dn++){const Sn=Et[dn],Cn=[];for(let or=0;or<Sn.length;or++){const Dr=Sn[or];if("string"!=typeof Dr){const Cr=Cn.push(Dr)-1;Sn[or]=`\x3c!--\ufffd${Cr}\ufffd--\x3e`}}const Vn=[];Nt.push(Vn),Te=jE(Vn,c,Ye,m,T,$,se.cases[dn],Sn.join(""),Cn)|Te}Te&&function xs(i,c,m){i.push(c,1,m<<2|3)}(T,Te,ye),i.push({kind:3,index:ye,cases:Nt,currentCaseLViewIndex:Ye.currentCaseLViewIndex})}function x5(i){const c=[],m=[];let T=1,$=0;const se=av(i=i.replace(ZI,function(ye,Te,Ye){return T="select"===Ye?0:1,$=parseInt(Te.slice(1),10),""}));for(let ye=0;ye<se.length;){let Te=se[ye++].trim();1===T&&(Te=Te.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Te.length&&c.push(Te);const Ye=av(se[ye++]);c.length>m.length&&m.push(Ye)}return{type:T,mainBinding:$,cases:c,values:m}}function av(i){if(!i)return[];let c=0;const m=[],T=[],$=/[{}]/g;let se;for($.lastIndex=0;se=$.exec(i);){const Te=se.index;if("}"==se[0]){if(m.pop(),0==m.length){const Ye=i.substring(c,Te);ZI.test(Ye)?T.push(x5(Ye)):T.push(Ye),c=Te+1}}else{if(0==m.length){const Ye=i.substring(c,Te);T.push(Ye),c=Te+1}m.push("{")}}const ye=i.substring(c);return T.push(ye),T}function jE(i,c,m,T,$,se,ye,Te,Ye){const Et=[],Nt=[],dn=[];m.cases.push(ye),m.create.push(Et),m.remove.push(Nt),m.update.push(dn);const Cn=PS(mf()).getInertBodyElement(Te),Vn=Km(Cn)||Cn;return Vn?$E(i,c,m,T,$,Et,Nt,dn,Vn,se,Ye,0):0}function $E(i,c,m,T,$,se,ye,Te,Ye,Et,Nt,dn){let Sn=0,Cn=Ye.firstChild;for(;Cn;){const Vn=Xm(c,T,1,null);switch(Cn.nodeType){case Node.ELEMENT_NODE:const or=Cn,Dr=or.tagName.toLowerCase();if(Lb.hasOwnProperty(Dr)){Ms(se,Pf,Dr,Et,Vn),c.data[Vn]=Dr;const $o=or.attributes;for(let Ba=0;Ba<$o.length;Ba++){const ea=$o.item(Ba),Lh=ea.name.toLowerCase();ea.value.match(ul)?BS.hasOwnProperty(Lh)&&Wc(Te,ea.value,Vn,ea.name,0,oy[Lh]?Bb:null):VE(se,Vn,ea)}const Uo={kind:1,index:Vn,children:[]};i.push(Uo),Sn=$E(Uo.children,c,m,T,$,se,ye,Te,Cn,Vn,Nt,dn+1)|Sn,KE(ye,Vn,dn)}break;case Node.TEXT_NODE:const Cr=Cn.textContent||"",lr=Cr.match(ul);Ms(se,null,lr?"":Cr,Et,Vn),KE(ye,Vn,dn),lr&&(Sn=Wc(Te,Cr,Vn,null,0,null)|Sn),i.push({kind:0,index:Vn});break;case Node.COMMENT_NODE:const di=v5.exec(Cn.textContent||"");if(di){const Uo=Nt[parseInt(di[1],10)];Ms(se,Xl,"",Et,Vn),QI(i,c,T,$,Et,Uo,Vn),tc(ye,Vn,dn)}}Cn=Cn.nextSibling}return Sn}function KE(i,c,m){0===m&&i.push(c)}function tc(i,c,m){0===m&&(i.push(~c),i.push(c))}function Ms(i,c,m,T,$){null!==c&&i.push(c),i.push(m,$,function C6(i,c,m){return i|c<<17|m<<1}(0,T,$))}function VE(i,c,m){i.push(c<<1|1,m.name,m.value)}function rT(i,c,m=-1){const T=Mo(),$=ar(),se=ki+i,ye=bd(T.consts,c),Te=Hg();T.firstCreatePass&&function W0(i,c,m,T,$,se){const ye=Hg(),Te=[],Ye=[],Et=[[]],Nt=[[]];$=function E5(i,c){if(function AD(i){return-1===i}(c))return qI(i);{const m=i.indexOf(`:${c}${sv}`)+2+c.toString().length,T=i.search(new RegExp(`${sv}\\/\\*\\d+:${c}${sv}`));return qI(i.substring(m,T))}}($,se);const dn=function UE(i){return i.replace(_5," ")}($).split(w5);for(let Sn=0;Sn<dn.length;Sn++){let Cn=dn[Sn];if(1&Sn){const Vn=47===Cn.charCodeAt(0),or=Cn.charCodeAt(Vn?1:0),Dr=ki+Number.parseInt(Cn.substring(Vn?2:1));if(Vn)Et.shift(),Nt.shift(),_u(Hg(),!1);else{const Cr=A6(i,Et[0],Dr);Et.unshift([]),_u(Cr,!0);const lr={kind:2,index:Dr,children:[],type:35===or?0:1};Nt[0].push(lr),Nt.unshift(lr.children)}}else{const Vn=av(Cn);for(let or=0;or<Vn.length;or++){let Dr=Vn[or];if(1&or){const Cr=Dr;if("object"!=typeof Cr)throw new Error(`Unable to parse ICU expression in "${$}" message.`);const di=FE(i,ye,Et[0],m,Te,"",!0).index;QI(Nt[0],i,m,Ye,c,Cr,di)}else""!==Dr&&G0(Nt[0],i,ye,Et[0],Te,Ye,m,Dr)}}}i.data[T]={create:Te,update:Ye,ast:Nt[0]}}(T,null===Te?0:Te.index,$,se,ye,m),2===T.type?$[Gs][vi]|=32:$[vi]|=32;const Ye=T.data[se],Nt=JS(T,Te===$[ma]?null:Te,$),dn=Te&&8&Te.type?$[Te.index]:null;(function U6(i,c,m,T){OD(i,c,m,T)})($,se,Te,m),function K0(i,c,m,T){const $=i[Qi];for(let se=0;se<c.length;se++){const ye=c[se++],Et=(ye&Ea.APPEND_EAGERLY)===Ea.APPEND_EAGERLY,Nt=ye>>>Ea.SHIFT;let dn=i[Nt],Sn=!1;null===dn&&(dn=i[Nt]=$0(i,Nt,c[se],(ye&Ea.COMMENT)===Ea.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Sn=Zg()),Et&&null!==m&&Sn&&hp($,m,dn,T,!1)}}($,Ye.create,Nt,dn),Gg(!0)}function oT(i,c,m){rT(i,c,m),function iT(){Gg(!1)}()}let HE=(i,c,m)=>{};function cv(i,c,m,T){const $=ar(),se=Mo(),ye=hs();return GE(se,$,$[Qi],ye,i,c,T),cv}function WE(i,c){const m=hs(),T=ar(),$=Mo();return GE($,T,sw(P1($.data),m,T),m,i,c),WE}function GE(i,c,m,T,$,se,ye){const Te=Jv(T),Et=i.firstCreatePass&&ow(i),Nt=c[Fs],dn=pD(c);let Sn=!0;if(3&T.type||ye){const or=qc(T,c),Dr=ye?ye(or):or,Cr=dn.length,lr=ye?$o=>ye(ts($o[T.index])):T.index;let di=null;if(!ye&&Te&&(di=function T5(i,c,m,T){const $=i.cleanup;if(null!=$)for(let se=0;se<$.length-1;se+=2){const ye=$[se];if(ye===m&&$[se+1]===T){const Te=c[bm],Ye=$[se+2];return Te.length>Ye?Te[Ye]:null}"string"==typeof ye&&(se+=2)}return null}(i,c,$,T.index)),null!==di)(di.__ngLastListenerFn__||di).__ngNextListenerFn__=se,di.__ngLastListenerFn__=se,Sn=!1;else{se=cT(T,c,Nt,se),HE(or,$,se);const $o=m.listen(Dr,$,se);dn.push(se,$o),Et&&Et.push($,lr,Cr,Cr+1)}}else se=cT(T,c,Nt,se);const Cn=T.outputs;let Vn;if(Sn&&null!==Cn&&(Vn=Cn[$])){const or=Vn.length;if(or)for(let Dr=0;Dr<or;Dr+=2){const Uo=c[Vn[Dr]][Vn[Dr+1]].subscribe(se),Ba=dn.length;dn.push(se,Uo),Et&&Et.push($,T.index,Ba,-(Ba+1))}}}function aT(i,c,m,T){const $=k(null);try{return vd(6,c,m),!1!==m(T)}catch(se){return P2(i,se),!1}finally{vd(7,c,m),k($)}}function cT(i,c,m,T){return function $(se){if(se===Function)return T;vy(i.componentOffset>-1?Nd(i.index,c):c,5);let Te=aT(c,m,T,se),Ye=$.__ngNextListenerFn__;for(;Ye;)Te=aT(c,m,Ye,se)&&Te,Ye=Ye.__ngNextListenerFn__;return Te}}function dT(i=1){return function M3(i){return(Xi.lFrame.contextLView=function b3(i,c){for(;i>0;)c=c[wm],i--;return c}(i,Xi.lFrame.contextLView))[Fs]}(i)}function lT(i,c){let m=null;const T=function je(i){const c=i.attrs;if(null!=c){const m=c.indexOf(5);if(!(1&m))return c[m+1]}return null}(i);for(let $=0;$<c.length;$++){const se=c[$];if("*"!==se){if(null===T?h1(i,se,!0):ct(T,se))return $}else m=$}return m}function uT(i){const c=ar()[Gs][ma];if(!c.projection){const T=c.projection=function Fv(i,c){const m=[];for(let T=0;T<i;T++)m.push(c);return m}(i?i.length:1,null),$=T.slice();let se=c.child;for(;null!==se;){const ye=i?lT(se,i):0;null!==ye&&($[ye]?$[ye].projectionNext=se:T[ye]=se,$[ye]=se),se=se.next}}}function fT(i,c=0,m,T,$,se){const ye=ar(),Te=Mo(),Ye=T?i+1:null;null!==Ye&&m0(ye,Te,Ye,T,$,se,null,m);const Et=Ym(Te,ki+i,16,null,m||null);null===Et.projection&&(Et.projection=c),Wg();const dn=!ye[Jc]||Mm();null===ye[Gs][ma].projection[Et.projection]&&null!==Ye?function A5(i,c,m){const T=ki+m,$=c.data[T],se=i[T],ye=_p(se,$.tView.ssrId);yp(se,Jm(i,$,void 0,{dehydratedView:ye}),0,gp($,ye))}(ye,Te,Ye):dn&&32&~Et.flags&&function D2(i,c,m){Xb(c[Qi],0,c,m,il(i,m,c),qS(m.parent||c[ma],m,c))}(Te,ye,Et)}function Xp(i,c,m){return Jp(i,"",c,"",m),Xp}function Jp(i,c,m,T,$){const se=ar(),ye=Pu(se,c,m,T);return ye!==uo&&id(Mo(),js(),se,i,ye,se[Qi],$,!1),Jp}function pT(i,c,m,T){!function Ip(i,c,m,T){const $=Mo();if($.firstCreatePass){const se=hs();dE($,new Ll(c,m,T),se.index),function t5(i,c){const m=i.contentQueries||(i.contentQueries=[]);c!==(m.length?m[m.length-1]:-1)&&m.push(i.queries.length-1,c)}($,i),!(2&~m)&&($.staticContentQueries=!0)}return mh($,ar(),m)}(i,c,m,T)}function JE(i,c,m){!function Dp(i,c,m){const T=Mo();return T.firstCreatePass&&(dE(T,new Ll(i,c,m),-1),!(2&~c)&&(T.staticViewQueries=!0)),mh(T,ar(),c)}(i,c,m)}function Dh(i){const c=ar(),m=Mo(),T=R1();rb(T+1);const $=Ry(m,T);if(i.dirty&&function m8(i){return!(4&~i[vi])}(c)===!(2&~$.metadata.flags)){if(null===$.matches)i.reset([]);else{const se=lI(c,T);i.reset(se,nS),i.notifyOnChanges()}return!0}return!1}function J0(){return function ii(i,c){return i[af].queries[c].queryList}(ar(),R1())}function m_(i){return xm(function _3(){return Xi.lFrame.contextLView}(),ki+i)}function Nf(i,c=""){const m=ar(),T=Mo(),$=i+ki,se=T.firstCreatePass?Ym(T,$,1,c,null):T.data[$],ye=tx(T,m,se,c,i);m[$]=ye,Zg()&&Yb(T,m,ye,se),_u(se,!1)}let tx=(i,c,m,T,$)=>(Eu(!0),rl(c[Qi],T));function nx(i){return y_("",i,""),nx}function y_(i,c,m){const T=ar(),$=Pu(T,i,c,m);return $!==uo&&function Iu(i,c,m){const T=$g(c,i);!function fy(i,c,m){i.setValue(c,m)}(i[Qi],T,m)}(T,Oc(),$),y_}function ox(i,c,m){Uc(c)&&(c=c());const T=ar();return cs(T,Cl(),c)&&id(Mo(),js(),T,i,c,T[Qi],m,!1),ox}function sx(i,c){const m=Uc(i);return m&&i.set(c),m}function Ih(i,c){const m=ar(),T=Mo(),$=hs();return GE(T,m,m[Qi],$,i,c),Ih}function Ma(i,c,m,T,$){if(i=xi(i),Array.isArray(i))for(let se=0;se<i.length;se++)Ma(i[se],c,m,T,$);else{const se=Mo(),ye=ar(),Te=hs();let Ye=mm(i)?i:xi(i.provide);const Et=ym(i),Nt=1048575&Te.providerIndexes,dn=Te.directiveStart,Sn=Te.providerIndexes>>20;if(mm(i)||!i.multi){const Cn=new ch(Et,$,Zm),Vn=ld(Ye,c,$?Nt:Nt+Sn,dn);-1===Vn?(HM(Mu(Te,ye),se,Ye),b_(se,i,c.length),c.push(Ye),Te.directiveStart++,Te.directiveEnd++,$&&(Te.providerIndexes+=1048576),m.push(Cn),ye.push(Cn)):(m[Vn]=Cn,ye[Vn]=Cn)}else{const Cn=ld(Ye,c,Nt+Sn,dn),Vn=ld(Ye,c,Nt,Nt+Sn),Dr=Vn>=0&&m[Vn];if($&&!Dr||!$&&!(Cn>=0&&m[Cn])){HM(Mu(Te,ye),se,Ye);const Cr=function w_(i,c,m,T,$){const se=new ch(i,m,Zm);return se.multi=[],se.index=c,se.componentProviders=0,xT(se,$,T&&!m),se}($?L5:B5,m.length,$,T,Et);!$&&Dr&&(m[Vn].providerFactory=Cr),b_(se,i,c.length,0),c.push(Ye),Te.directiveStart++,Te.directiveEnd++,$&&(Te.providerIndexes+=1048576),m.push(Cr),ye.push(Cr)}else b_(se,i,Cn>-1?Cn:Vn,xT(m[$?Vn:Cn],Et,!$&&T));!$&&T&&Dr&&m[Vn].componentProviders++}}}function b_(i,c,m,T){const $=mm(c),se=function u8(i){return!!i.useClass}(c);if($||se){const Ye=(se?xi(c.useClass):c).prototype.ngOnDestroy;if(Ye){const Et=i.destroyHooks||(i.destroyHooks=[]);if(!$&&c.multi){const Nt=Et.indexOf(m);-1===Nt?Et.push(m,[T,Ye]):Et[Nt+1].push(T,Ye)}else Et.push(m,Ye)}}}function xT(i,c,m){return m&&i.componentProviders++,i.multi.push(c)-1}function ld(i,c,m,T){for(let $=m;$<T;$++)if(c[$]===i)return $;return-1}function B5(i,c,m,T){return lv(this.multi,[])}function L5(i,c,m,T){const $=this.multi;let se;if(this.providerFactory){const ye=this.providerFactory.componentProviders,Te=rp(m,m[kr],this.providerFactory.index,T);se=Te.slice(0,ye),lv($,se);for(let Ye=ye;Ye<Te.length;Ye++)se.push(Te[Ye])}else se=[],lv($,se);return se}function lv(i,c){for(let m=0;m<i.length;m++)c.push((0,i[m])());return c}function rs(i,c=[]){return m=>{m.providersResolver=(T,$)=>function rg(i,c,m){const T=Mo();if(T.firstCreatePass){const $=Il(i);Ma(m,T.data,T.blueprint,$,!0),Ma(c,T.data,T.blueprint,$,!1)}}(T,$?$(i):i,c)}}let ax=(()=>{class i{constructor(m){this._injector=m,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(m){if(!m.standalone)return null;if(!this.cachedInjectors.has(m)){const T=p1(0,m.type),$=T.length>0?ja([T],this._injector,`Standalone[${m.type.name}]`):null;this.cachedInjectors.set(m,$)}return this.cachedInjectors.get(m)}ngOnDestroy(){try{for(const m of this.cachedInjectors.values())null!==m&&m.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=yi({token:i,providedIn:"environment",factory:()=>new i(fo(Jd))})}return i})();function qp(i){ks("NgStandalone"),i.getStandaloneInjector=c=>c.get(ax).getOrCreateStandaloneInjector(i)}function fv(i,c,m){const T=Qc()+i,$=ar();return $[T]===uo?Bo($,T,m?c.call(m):c()):function Cu(i,c){return i[c]}($,T)}function Th(i,c,m,T){return E_(ar(),Qc(),i,c,m,T)}function cx(i,c,m,T,$){return ig(ar(),Qc(),i,c,m,T,$)}function Qp(i,c){const m=i[c];return m===uo?void 0:m}function E_(i,c,m,T,$,se){const ye=c+m;return cs(i,ye,$)?Bo(i,ye+1,se?T.call(se,$):T($)):Qp(i,ye+1)}function ig(i,c,m,T,$,se,ye){const Te=c+m;return function wh(i,c,m,T){const $=cs(i,c,m);return cs(i,c+1,T)||$}(i,Te,$,se)?Bo(i,Te+2,ye?T.call(ye,$,se):T($,se)):Qp(i,Te+2)}function Ch(i,c){const m=Mo();let T;const $=i+ki;m.firstCreatePass?(T=function x_(i,c){if(c)for(let m=c.length-1;m>=0;m--){const T=c[m];if(i===T.name)return T}}(c,m.pipeRegistry),m.data[$]=T,T.onDestroy&&(m.destroyHooks??=[]).push($,T.onDestroy)):T=m.data[$];const se=T.factory||(T.factory=Yd(T.type)),Te=bn(Zm);try{const Ye=Tm(!1),Et=se();return Tm(Ye),function P5(i,c,m,T){m>=i.data.length&&(i.data[m]=null,i.blueprint[m]=null),c[m]=T}(m,ar(),$,Et),Et}finally{bn(Te)}}function Oi(i,c,m){const T=i+ki,$=ar(),se=xm($,T);return ud($,T)?E_($,Qc(),c,se.transform,m,se):se.transform(m)}function Ni(i,c,m,T){const $=i+ki,se=ar(),ye=xm(se,$);return ud(se,$)?ig(se,Qc(),c,ye.transform,m,T,ye):ye.transform(m,T)}function ud(i,c){return i[kr].data[c].pure}function j5(i,c){return lw(i,c)}class rc{constructor(c){this.full=c;const m=c.split(".");this.major=m[0],this.minor=m[1],this.patch=m.slice(2).join(".")}}let vx=(()=>{class i{log(m){console.log(m)}warn(m){console.warn(m)}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=yi({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const VT=new Wi(""),zT=new Wi("");let wx,HT=(()=>{class i{constructor(m,T,$){this._ngZone=m,this.registry=T,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,wx||(function GT(i){wx=i}($),$.addToWindow(T)),this._watchAngularEvents(),m.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb()}});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(T=>!T.updateCb||!T.updateCb(m)||(clearTimeout(T.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,T,$){let se=-1;T&&T>0&&(se=setTimeout(()=>{this._callbacks=this._callbacks.filter(ye=>ye.timeoutId!==se),m()},T)),this._callbacks.push({doneCb:m,timeoutId:se,updateCb:$})}whenStable(m,T,$){if($&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,T,$),this._runCallbacksIfReady()}registerApplication(m){this.registry.registerApplication(m,this)}unregisterApplication(m){this.registry.unregisterApplication(m)}findProviders(m,T,$){return[]}static#e=this.\u0275fac=function(T){return new(T||i)(fo(Ps),fo(WT),fo(zT))};static#t=this.\u0275prov=yi({token:i,factory:i.\u0275fac})}return i})(),WT=(()=>{class i{constructor(){this._applications=new Map}registerApplication(m,T){this._applications.set(m,T)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,T=!0){return wx?.findTestabilityInTree(this,m,T)??null}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=yi({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function _x(i){return!!i&&"function"==typeof i.then}function Ex(i){return!!i&&"function"==typeof i.subscribe}const ZT=new Wi("");let xx=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((m,T)=>{this.resolve=m,this.reject=T}),this.appInits=ei(ZT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const m=[];for(const $ of this.appInits){const se=$();if(_x(se))m.push(se);else if(Ex(se)){const ye=new Promise((Te,Ye)=>{se.subscribe({complete:Te,error:Ye})});m.push(ye)}}const T=()=>{this.done=!0,this.resolve()};Promise.all(m).then(()=>{T()}).catch($=>{this.reject($)}),0===m.length&&T(),this.initialized=!0}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=yi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const A_=new Wi("");let pl=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ei(eS),this.afterRenderEffectManager=ei(s0),this.zonelessEnabled=ei(Dy),this.externalTestViews=new Set,this.beforeRender=new Ce.B,this.afterTick=new Ce.B,this.componentTypes=[],this.components=[],this.isStable=ei(op).hasPendingTasks.pipe((0,he.T)(m=>!m)),this._injector=ei(Jd)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(m,T){const $=m instanceof KD;if(!this._injector.get(xx).done)throw!$&&hu(m),new xr(405,!1);let ye;ye=$?m:this._injector.get(o0).resolveComponentFactory(m),this.componentTypes.push(ye.componentType);const Te=function Mx(i){return i.isBoundToModule}(ye)?void 0:this._injector.get(vh),Et=ye.create(Fa.NULL,[],T||ye.selector,Te),Nt=Et.location.nativeElement,dn=Et.injector.get(VT,null);return dn?.registerApplication(Nt),Et.onDestroy(()=>{this.detachView(Et.hostView),lg(this.components,Et),dn?.unregisterApplication(Nt)}),this._loadComponent(Et),Et}tick(){this._tick(!0)}_tick(m){if(this._runningTick)throw new xr(101,!1);const T=k(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(m)}catch($){this.internalErrorHandler($)}finally{this._runningTick=!1,k(T),this.afterTick.next()}}detectChangesInAttachedViews(m){let T=null;this._injector.destroyed||(T=this._injector.get(vw,null,{optional:!0}));let $=0;const se=this.afterRenderEffectManager;for(;$<10;){const ye=0===$;if(m||!ye){this.beforeRender.next(ye);for(let{_lView:Te,notifyErrorHandler:Ye}of this._views)eR(Te,Ye,ye,this.zonelessEnabled)}else T?.begin?.(),T?.end?.();if($++,se.executeInternalCallbacks(),!this.allViews.some(({_lView:Te})=>Vg(Te))&&(se.execute(),!this.allViews.some(({_lView:Te})=>Vg(Te))))break}}attachView(m){const T=m;this._views.push(T),T.attachToAppRef(this)}detachView(m){const T=m;lg(this._views,T),T.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView),this.tick(),this.components.push(m);const T=this._injector.get(A_,[]);[...this._bootstrapListeners,...T].forEach($=>$(m))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(m=>m()),this._views.slice().forEach(m=>m.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(m){return this._destroyListeners.push(m),()=>lg(this._destroyListeners,m)}destroy(){if(this._destroyed)throw new xr(406,!1);const m=this._injector;m.destroy&&!m.destroyed&&m.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=yi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function lg(i,c){const m=i.indexOf(c);m>-1&&i.splice(m,1)}function eR(i,c,m,T){(m||Vg(i))&&cw(i,c,m&&!T?0:1)}class XT{constructor(c,m){this.ngModuleFactory=c,this.componentFactories=m}}let ak=(()=>{class i{compileModuleSync(m){return new bh(m)}compileModuleAsync(m){return Promise.resolve(this.compileModuleSync(m))}compileModuleAndAllComponentsSync(m){const T=this.compileModuleSync(m),se=rd(pa(m).declarations).reduce((ye,Te)=>{const Ye=Ri(Te);return Ye&&ye.push(new Mp(Ye)),ye},[]);return new XT(T,se)}compileModuleAndAllComponentsAsync(m){return Promise.resolve(this.compileModuleAndAllComponentsSync(m))}clearCache(){}clearCacheFor(m){}getModuleId(m){}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=yi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),qT=(()=>{class i{constructor(){this.zone=ei(Ps),this.changeDetectionScheduler=ei(Ep),this.applicationRef=ei(pl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=yi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const QT=new Wi("",{factory:()=>!1});function Ev({ngZoneFactory:i,ignoreChangesOutsideZone:c}){return i??=()=>new Ps(Dx()),[{provide:Ps,useFactory:i},{provide:uu,multi:!0,useFactory:()=>{const m=ei(qT,{optional:!0});return()=>m.initialize()}},{provide:uu,multi:!0,useFactory:()=>{const m=ei(lk);return()=>{m.initialize()}}},{provide:eS,useFactory:dk},!0===c?{provide:jD,useValue:!0}:[]]}function dk(){const i=ei(Ps),c=ei(Rl);return m=>i.runOutsideAngular(()=>c.handleError(m))}function nR(i){const c=i?.ignoreChangesOutsideZone,m=Ev({ngZoneFactory:()=>{const T=Dx(i);return T.shouldCoalesceEventChangeDetection&&ks("NgZone_CoalesceEvent"),new Ps(T)},ignoreChangesOutsideZone:c});return pu([{provide:QT,useValue:!0},{provide:Dy,useValue:!1},m])}function Dx(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}let lk=(()=>{class i{constructor(){this.subscription=new be.yU,this.initialized=!1,this.zone=ei(Ps),this.pendingTasks=ei(op)}initialize(){if(this.initialized)return;this.initialized=!0;let m=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(m=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{null!==m&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(m),m=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ps.assertInAngularZone(),m??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=yi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ug=(()=>{class i{constructor(){this.appRef=ei(pl),this.taskService=ei(op),this.ngZone=ei(Ps),this.zonelessEnabled=ei(Dy),this.disableScheduling=ei(jD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new be.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof J2||!this.zoneIsDefined)}notify(m){if(!this.zonelessEnabled&&5===m)return;switch(m){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const T=this.useMicrotaskScheduler?GD:WD;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=T(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=T(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ps.isInAngularZone())}tick(m){if(this.runningTick||this.appRef.destroyed)return;const T=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(m)},void 0,this.schedulerTickApplyArgs)}catch($){throw this.taskService.remove(T),$}finally{this.cleanup()}this.useMicrotaskScheduler=!0,GD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(T)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const m=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(m)}}static#e=this.\u0275fac=function(T){return new(T||i)};static#t=this.\u0275prov=yi({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Ku=new Wi("",{providedIn:"root",factory:()=>ei(Ku,$t.Optional|$t.SkipSelf)||function hk(){return typeof $localize<"u"&&$localize.locale||ll}()}),jf=new Wi("",{providedIn:"root",factory:()=>"USD"}),ai=new Wi("");let ml=null;function F_(){return!1}let Ax=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=j_}return i})();function j_(i){return function Cx(i,c,m){if(Qh(i)&&!m){const T=Nd(i.index,c);return new by(T,T)}return 47&i.type?new by(c[Gs],c):null}(hs(),ar(),!(16&~i))}class oA{constructor(){}supports(c){return Rw(c)}create(c){return new xk(c)}}const Ek=(i,c)=>c;class xk{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||Ek}forEachItem(c){let m;for(m=this._itHead;null!==m;m=m._next)c(m)}forEachOperation(c){let m=this._itHead,T=this._removalsHead,$=0,se=null;for(;m||T;){const ye=!T||m&&m.currentIndex<V_(T,$,se)?m:T,Te=V_(ye,$,se),Ye=ye.currentIndex;if(ye===T)$--,T=T._nextRemoved;else if(m=m._next,null==ye.previousIndex)$++;else{se||(se=[]);const Et=Te-$,Nt=Ye-$;if(Et!=Nt){for(let Sn=0;Sn<Et;Sn++){const Cn=Sn<se.length?se[Sn]:se[Sn]=0,Vn=Cn+Sn;Nt<=Vn&&Vn<Et&&(se[Sn]=Cn+1)}se[ye.previousIndex]=Nt-Et}}Te!==Ye&&c(ye,Te,Ye)}}forEachPreviousItem(c){let m;for(m=this._previousItHead;null!==m;m=m._nextPrevious)c(m)}forEachAddedItem(c){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)c(m)}forEachMovedItem(c){let m;for(m=this._movesHead;null!==m;m=m._nextMoved)c(m)}forEachRemovedItem(c){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)c(m)}forEachIdentityChange(c){let m;for(m=this._identityChangesHead;null!==m;m=m._nextIdentityChange)c(m)}diff(c){if(null==c&&(c=[]),!Rw(c))throw new xr(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let $,se,ye,m=this._itHead,T=!1;if(Array.isArray(c)){this.length=c.length;for(let Te=0;Te<this.length;Te++)se=c[Te],ye=this._trackByFn(Te,se),null!==m&&Object.is(m.trackById,ye)?(T&&(m=this._verifyReinsertion(m,se,ye,Te)),Object.is(m.item,se)||this._addIdentityChange(m,se)):(m=this._mismatch(m,se,ye,Te),T=!0),m=m._next}else $=0,function f5(i,c){if(Array.isArray(i))for(let m=0;m<i.length;m++)c(i[m]);else{const m=i[Symbol.iterator]();let T;for(;!(T=m.next()).done;)c(T.value)}}(c,Te=>{ye=this._trackByFn($,Te),null!==m&&Object.is(m.trackById,ye)?(T&&(m=this._verifyReinsertion(m,Te,ye,$)),Object.is(m.item,Te)||this._addIdentityChange(m,Te)):(m=this._mismatch(m,Te,ye,$),T=!0),m=m._next,$++}),this.length=$;return this._truncate(m),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,m,T,$){let se;return null===c?se=this._itTail:(se=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(T,null))?(Object.is(c.item,m)||this._addIdentityChange(c,m),this._reinsertAfter(c,se,$)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(T,$))?(Object.is(c.item,m)||this._addIdentityChange(c,m),this._moveAfter(c,se,$)):c=this._addAfter(new Mk(m,T),se,$),c}_verifyReinsertion(c,m,T,$){let se=null===this._unlinkedRecords?null:this._unlinkedRecords.get(T,null);return null!==se?c=this._reinsertAfter(se,c._prev,$):c.currentIndex!=$&&(c.currentIndex=$,this._addToMoves(c,$)),c}_truncate(c){for(;null!==c;){const m=c._next;this._addToRemovals(this._unlink(c)),c=m}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,m,T){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const $=c._prevRemoved,se=c._nextRemoved;return null===$?this._removalsHead=se:$._nextRemoved=se,null===se?this._removalsTail=$:se._prevRemoved=$,this._insertAfter(c,m,T),this._addToMoves(c,T),c}_moveAfter(c,m,T){return this._unlink(c),this._insertAfter(c,m,T),this._addToMoves(c,T),c}_addAfter(c,m,T){return this._insertAfter(c,m,T),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,m,T){const $=null===m?this._itHead:m._next;return c._next=$,c._prev=m,null===$?this._itTail=c:$._prev=c,null===m?this._itHead=c:m._next=c,null===this._linkedRecords&&(this._linkedRecords=new Ux),this._linkedRecords.put(c),c.currentIndex=T,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const m=c._prev,T=c._next;return null===m?this._itHead=T:m._next=T,null===T?this._itTail=m:T._prev=m,c}_addToMoves(c,m){return c.previousIndex===m||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ux),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,m){return c.item=m,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class Mk{constructor(c,m){this.item=c,this.trackById=m,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lx{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,m){let T;for(T=this._head;null!==T;T=T._nextDup)if((null===m||m<=T.currentIndex)&&Object.is(T.trackById,c))return T;return null}remove(c){const m=c._prevDup,T=c._nextDup;return null===m?this._head=T:m._nextDup=T,null===T?this._tail=m:T._prevDup=m,null===this._head}}class Ux{constructor(){this.map=new Map}put(c){const m=c.trackById;let T=this.map.get(m);T||(T=new Lx,this.map.set(m,T)),T.add(c)}get(c,m){const $=this.map.get(c);return $?$.get(c,m):null}remove(c){const m=c.trackById;return this.map.get(m).remove(c)&&this.map.delete(m),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function V_(i,c,m){const T=i.previousIndex;if(null===T)return T;let $=0;return m&&T<m.length&&($=m[T]),T+c+$}class Sk{constructor(){}supports(c){return c instanceof Map||p0(c)}create(){return new Fx}}class Fx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let m;for(m=this._mapHead;null!==m;m=m._next)c(m)}forEachPreviousItem(c){let m;for(m=this._previousMapHead;null!==m;m=m._nextPrevious)c(m)}forEachChangedItem(c){let m;for(m=this._changesHead;null!==m;m=m._nextChanged)c(m)}forEachAddedItem(c){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)c(m)}forEachRemovedItem(c){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)c(m)}diff(c){if(c){if(!(c instanceof Map||p0(c)))throw new xr(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let m=this._mapHead;if(this._appendAfter=null,this._forEach(c,(T,$)=>{if(m&&m.key===$)this._maybeAddToChanges(m,T),this._appendAfter=m,m=m._next;else{const se=this._getOrCreateRecordForKey($,T);m=this._insertBeforeOrAppend(m,se)}}),m){m._prev&&(m._prev._next=null),this._removalsHead=m;for(let T=m;null!==T;T=T._nextRemoved)T===this._mapHead&&(this._mapHead=null),this._records.delete(T.key),T._nextRemoved=T._next,T.previousValue=T.currentValue,T.currentValue=null,T._prev=null,T._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,m){if(c){const T=c._prev;return m._next=c,m._prev=T,c._prev=m,T&&(T._next=m),c===this._mapHead&&(this._mapHead=m),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=m,m._prev=this._appendAfter):this._mapHead=m,this._appendAfter=m,null}_getOrCreateRecordForKey(c,m){if(this._records.has(c)){const $=this._records.get(c);this._maybeAddToChanges($,m);const se=$._prev,ye=$._next;return se&&(se._next=ye),ye&&(ye._prev=se),$._next=null,$._prev=null,$}const T=new Oh(c);return this._records.set(c,T),T.currentValue=m,this._addToAdditions(T),T}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,m){Object.is(m,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=m,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,m){c instanceof Map?c.forEach(m):Object.keys(c).forEach(T=>m(c[T],T))}}class Oh{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sA(){return new jx([new oA])}let jx=(()=>{class i{static#e=this.\u0275prov=yi({token:i,providedIn:"root",factory:sA});constructor(m){this.factories=m}static create(m,T){if(null!=T){const $=T.factories.slice();m=m.concat($)}return new i(m)}static extend(m){return{provide:i,useFactory:T=>i.create(m,T||sA()),deps:[[i,new xg,new Kh]]}}find(m){const T=this.factories.find($=>$.supports(m));if(null!=T)return T;throw new xr(901,!1)}}return i})();function pg(){return new $f([new Sk])}let $f=(()=>{class i{static#e=this.\u0275prov=yi({token:i,providedIn:"root",factory:pg});constructor(m){this.factories=m}static create(m,T){if(T){const $=T.factories.slice();m=m.concat($)}return new i(m)}static extend(m){return{provide:i,useFactory:T=>i.create(m,T||pg()),deps:[[i,new xg,new Kh]]}}find(m){const T=this.factories.find($=>$.supports(m));if(T)return T;throw new xr(901,!1)}}return i})();function Ok(i){try{const{rootComponent:c,appProviders:m,platformProviders:T}=i,$=function zd(i=[]){if(ml)return ml;const c=function hg(i=[],c){return Fa.create({name:c,providers:[{provide:mM,useValue:"platform"},{provide:ai,useValue:new Set([()=>ml=null])},...i]})}(i);return ml=c,function YT(){!function x(i){I=i}(()=>{throw new xr(600,!1)})}(),function xv(i){i.get(Y3,null)?.forEach(m=>m())}(c),c}(T),se=[Ev({}),{provide:Ep,useExisting:ug},...m||[]],Te=new Ny({providers:se,parent:$,debugName:"",runEnvironmentInitializers:!1}).injector,Ye=Te.get(Ps);return Ye.run(()=>{Te.resolveInjectorInitializers();const Et=Te.get(Rl,null);let Nt;Ye.runOutsideAngular(()=>{Nt=Ye.onError.subscribe({next:Cn=>{Et.handleError(Cn)}})});const dn=()=>Te.destroy(),Sn=$.get(ai);return Sn.add(dn),Te.onDestroy(()=>{Nt.unsubscribe(),Sn.delete(dn)}),function k_(i,c,m){try{const T=m();return _x(T)?T.catch($=>{throw c.runOutsideAngular(()=>i.handleError($)),$}):T}catch(T){throw c.runOutsideAngular(()=>i.handleError(T)),T}}(Et,Ye,()=>{const Cn=Te.get(xx);return Cn.runInitializers(),Cn.donePromise.then(()=>{!function Jl(i){"string"==typeof i&&(Uu=i.toLowerCase().replace(/_/g,"-"))}(Te.get(Ku,ll)||ll);const or=Te.get(pl);return void 0!==c&&or.bootstrap(c),or})})})}catch(c){return Promise.reject(c)}}function OA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function sc(i,c=NaN){return isNaN(parseFloat(i))||isNaN(Number(i))?c:Number(i)}function NA(i,c){ks("NgSignals");const m=function C(i){const c=Object.create(f);c.computation=i;const m=()=>{if(U(c),A(c),c.value===h)throw c.error;return c.value};return m[b]=c,m}(i);return c?.equal&&(m[b].equal=c.equal),m}function q_(i){const c=k(null);try{return i()}finally{k(c)}}const zf=new Wi("",{providedIn:"root",factory:()=>ei(Na)});let Na=(()=>{class i{static#e=this.\u0275prov=yi({token:i,providedIn:"root",factory:()=>new Jx})}return i})();class Jx{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ei(op),this.taskId=null}scheduleEffect(c){if(this.enqueue(c),null===this.taskId){const m=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(m),this.taskId=null})}}enqueue(c){const m=c.creationZone;this.queues.has(m)||this.queues.set(m,new Set);const T=this.queues.get(m);T.has(c)||(this.queuedEffectCount++,T.add(c))}flush(){for(;this.queuedEffectCount>0;)for(const[c,m]of this.queues)null===c?this.flushQueue(m):c.run(()=>this.flushQueue(m))}flushQueue(c){for(const m of c)c.delete(m),this.queuedEffectCount--,m.run()}}class cm{constructor(c,m,T,$,se,ye){this.scheduler=c,this.effectFn=m,this.creationZone=T,this.injector=se,this.watcher=function Ze(i,c,m){const T=Object.create(me);m&&(T.consumerAllowSignalWrites=!0),T.fn=i,T.schedule=c;const $=Ye=>{T.cleanupFn=Ye};return T.ref={notify:()=>q(T),run:()=>{if(null===T.fn)return;if(function P(){return B}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(T.dirty=!1,T.hasRun&&!re(T))return;T.hasRun=!0;const Ye=Y(T);try{T.cleanupFn(),T.cleanupFn=ge,T.fn($)}finally{W(T,Ye)}},cleanup:()=>T.cleanupFn(),destroy:()=>function ye(Ye){(function se(Ye){return null===Ye.fn&&null===Ye.schedule})(Ye)||(ie(Ye),Ye.cleanupFn(),Ye.fn=null,Ye.schedule=null,Ye.cleanupFn=ge)}(T),[b]:T},T.ref}(Te=>this.runEffect(Te),()=>this.schedule(),ye),this.unregisterOnDestroy=$?.onDestroy(()=>this.destroy())}runEffect(c){try{this.effectFn(c)}catch(m){this.injector.get(Rl,null,{optional:!0})?.handleError(m)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Hk(i,c){ks("NgSignals"),!c?.injector&&Rg();const m=c?.injector??ei(Fa),T=!0!==c?.manualCleanup?m.get(ip):null,$=new cm(m.get(zf),i,typeof Zone>"u"?null:Zone.current,T,m,c?.allowSignalWrites??!1),se=m.get(Ax,null,{optional:!0});return se&&8&se._lView[vi]?(se._lView[Zv]??=[]).push($.watcher.notify):$.watcher.notify(),$}function wR(i,c){const m=Ri(i),T=c.elementInjector||Pg();return new Mp(m).create(T,c.projectableNodes,c.hostElement,c.environmentInjector)}function _R(i){const c=Ri(i);if(!c)return null;const m=new Mp(c);return{get selector(){return m.selector},get type(){return m.componentType},get inputs(){return m.inputs},get outputs(){return m.outputs},get ngContentSelectors(){return m.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},89417:($e,j,E)=>{"use strict";E.d(j,{BC:()=>de,JD:()=>Kr,MJ:()=>wi,Q0:()=>St,X1:()=>qu,YN:()=>Ua,cV:()=>bi,cb:()=>_e,cz:()=>W,j4:()=>fn,k0:()=>ae,kq:()=>R,l_:()=>Kt,me:()=>Q,ok:()=>du,qT:()=>qt,tU:()=>Zd,vO:()=>be,vS:()=>Bn,xq:()=>Cc});var g=E(93953),w=E(60177),B=E(86648),H=E(27468),b=E(21413),k=E(96354);let S=(()=>{class Ot{constructor(dt,tn){this._renderer=dt,this._elementRef=tn,this.onChange=kn=>{},this.onTouched=()=>{}}setProperty(dt,tn){this._renderer.setProperty(this._elementRef.nativeElement,dt,tn)}registerOnTouched(dt){this.onTouched=dt}registerOnChange(dt){this.onChange=dt}setDisabledState(dt){this.setProperty("disabled",dt)}static#e=this.\u0275fac=function(tn){return new(tn||Ot)(g.rXU(g.sFG),g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:Ot})}return Ot})(),P=(()=>{class Ot extends S{static#e=this.\u0275fac=(()=>{let dt;return function(kn){return(dt||(dt=g.xGo(Ot)))(kn||Ot)}})();static#t=this.\u0275dir=g.FsC({type:Ot,features:[g.Vt3]})}return Ot})();const R=new g.nKC(""),V={provide:R,useExisting:(0,g.Rfq)(()=>Q),multi:!0},K=new g.nKC("");let Q=(()=>{class Ot extends S{constructor(dt,tn,kn){super(dt,tn),this._compositionMode=kn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function U(){const Ot=(0,w.QT)()?(0,w.QT)().getUserAgent():"";return/android (\d+)/.test(Ot.toLowerCase())}())}writeValue(dt){this.setProperty("value",dt??"")}_handleInput(dt){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(dt)}_compositionStart(){this._composing=!0}_compositionEnd(dt){this._composing=!1,this._compositionMode&&this.onChange(dt)}static#e=this.\u0275fac=function(tn){return new(tn||Ot)(g.rXU(g.sFG),g.rXU(g.aKT),g.rXU(K,8))};static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(tn,kn){1&tn&&g.bIt("input",function(lo){return kn._handleInput(lo.target.value)})("blur",function(){return kn.onTouched()})("compositionstart",function(){return kn._compositionStart()})("compositionend",function(lo){return kn._compositionEnd(lo.target.value)})},features:[g.Jv_([V]),g.Vt3]})}return Ot})();function q(Ot){return null==Ot||("string"==typeof Ot||Array.isArray(Ot))&&0===Ot.length}function Y(Ot){return null!=Ot&&"number"==typeof Ot.length}const W=new g.nKC(""),re=new g.nKC(""),ie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(Pt){return function ue(Ot){return Pt=>{if(q(Pt.value)||q(Ot))return null;const dt=parseFloat(Pt.value);return!isNaN(dt)&&dt<Ot?{min:{min:Ot,actual:Pt.value}}:null}}(Pt)}static max(Pt){return function ce(Ot){return Pt=>{if(q(Pt.value)||q(Ot))return null;const dt=parseFloat(Pt.value);return!isNaN(dt)&&dt>Ot?{max:{max:Ot,actual:Pt.value}}:null}}(Pt)}static required(Pt){return pe(Pt)}static requiredTrue(Pt){return ve(Pt)}static email(Pt){return function De(Ot){return q(Ot.value)||ie.test(Ot.value)?null:{email:!0}}(Pt)}static minLength(Pt){return function C(Ot){return Pt=>q(Pt.value)||!Y(Pt.value)?null:Pt.value.length<Ot?{minlength:{requiredLength:Ot,actualLength:Pt.value.length}}:null}(Pt)}static maxLength(Pt){return s(Pt)}static pattern(Pt){return function d(Ot){if(!Ot)return h;let Pt,dt;return"string"==typeof Ot?(dt="","^"!==Ot.charAt(0)&&(dt+="^"),dt+=Ot,"$"!==Ot.charAt(Ot.length-1)&&(dt+="$"),Pt=new RegExp(dt)):(dt=Ot.toString(),Pt=Ot),tn=>{if(q(tn.value))return null;const kn=tn.value;return Pt.test(kn)?null:{pattern:{requiredPattern:dt,actualValue:kn}}}}(Pt)}static nullValidator(Pt){return null}static compose(Pt){return v(Pt)}static composeAsync(Pt){return z(Pt)}}function pe(Ot){return q(Ot.value)?{required:!0}:null}function ve(Ot){return!0===Ot.value?null:{required:!0}}function s(Ot){return Pt=>Y(Pt.value)&&Pt.value.length>Ot?{maxlength:{requiredLength:Ot,actualLength:Pt.value.length}}:null}function h(Ot){return null}function f(Ot){return null!=Ot}function _(Ot){return(0,g.jNT)(Ot)?(0,B.H)(Ot):Ot}function I(Ot){let Pt={};return Ot.forEach(dt=>{Pt=null!=dt?{...Pt,...dt}:Pt}),0===Object.keys(Pt).length?null:Pt}function L(Ot,Pt){return Pt.map(dt=>dt(Ot))}function a(Ot){return Ot.map(Pt=>function x(Ot){return!Ot.validate}(Pt)?Pt:dt=>Pt.validate(dt))}function v(Ot){if(!Ot)return null;const Pt=Ot.filter(f);return 0==Pt.length?null:function(dt){return I(L(dt,Pt))}}function Z(Ot){return null!=Ot?v(a(Ot)):null}function z(Ot){if(!Ot)return null;const Pt=Ot.filter(f);return 0==Pt.length?null:function(dt){const tn=L(dt,Pt).map(_);return(0,H.p)(tn).pipe((0,k.T)(I))}}function ee(Ot){return null!=Ot?z(a(Ot)):null}function le(Ot,Pt){return null===Ot?[Pt]:Array.isArray(Ot)?[...Ot,Pt]:[Ot,Pt]}function we(Ot){return Ot._rawValidators}function Me(Ot){return Ot._rawAsyncValidators}function Ze(Ot){return Ot?Array.isArray(Ot)?Ot:[Ot]:[]}function ge(Ot,Pt){return Array.isArray(Ot)?Ot.includes(Pt):Ot===Pt}function me(Ot,Pt){const dt=Ze(Pt);return Ze(Ot).forEach(kn=>{ge(dt,kn)||dt.push(kn)}),dt}function Ue(Ot,Pt){return Ze(Pt).filter(dt=>!ge(Ot,dt))}class xe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Pt){this._rawValidators=Pt||[],this._composedValidatorFn=Z(this._rawValidators)}_setAsyncValidators(Pt){this._rawAsyncValidators=Pt||[],this._composedAsyncValidatorFn=ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Pt){this._onDestroyCallbacks.push(Pt)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Pt=>Pt()),this._onDestroyCallbacks=[]}reset(Pt=void 0){this.control&&this.control.reset(Pt)}hasError(Pt,dt){return!!this.control&&this.control.hasError(Pt,dt)}getError(Pt,dt){return this.control?this.control.getError(Pt,dt):null}}class Ce extends xe{get formDirective(){return null}get path(){return null}}class be extends xe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class he{constructor(Pt){this._cd=Pt}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let de=(()=>{class Ot extends he{constructor(dt){super(dt)}static#e=this.\u0275fac=function(tn){return new(tn||Ot)(g.rXU(be,2))};static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(tn,kn){2&tn&&g.AVh("ng-untouched",kn.isUntouched)("ng-touched",kn.isTouched)("ng-pristine",kn.isPristine)("ng-dirty",kn.isDirty)("ng-valid",kn.isValid)("ng-invalid",kn.isInvalid)("ng-pending",kn.isPending)},features:[g.Vt3]})}return Ot})(),_e=(()=>{class Ot extends he{constructor(dt){super(dt)}static#e=this.\u0275fac=function(tn){return new(tn||Ot)(g.rXU(Ce,10))};static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(tn,kn){2&tn&&g.AVh("ng-untouched",kn.isUntouched)("ng-touched",kn.isTouched)("ng-pristine",kn.isPristine)("ng-dirty",kn.isDirty)("ng-valid",kn.isValid)("ng-invalid",kn.isInvalid)("ng-pending",kn.isPending)("ng-submitted",kn.isSubmitted)},features:[g.Vt3]})}return Ot})();const en="VALID",pn="INVALID",cn="PENDING",tr="DISABLED";class Mn{}class on extends Mn{constructor(Pt,dt){super(),this.value=Pt,this.source=dt}}class Qt extends Mn{constructor(Pt,dt){super(),this.pristine=Pt,this.source=dt}}class ut extends Mn{constructor(Pt,dt){super(),this.touched=Pt,this.source=dt}}class st extends Mn{constructor(Pt,dt){super(),this.status=Pt,this.source=dt}}class Zt extends Mn{constructor(Pt){super(),this.source=Pt}}class Xt extends Mn{constructor(Pt){super(),this.source=Pt}}function rn(Ot){return(ht(Ot)?Ot.validators:Ot)||null}function at(Ot,Pt){return(ht(Pt)?Pt.asyncValidators:Ot)||null}function ht(Ot){return null!=Ot&&!Array.isArray(Ot)&&"object"==typeof Ot}function Ke(Ot,Pt,dt){const tn=Ot.controls;if(!(Pt?Object.keys(tn):tn).length)throw new g.wOt(1e3,"");if(!tn[dt])throw new g.wOt(1001,"")}function Ge(Ot,Pt,dt){Ot._forEachChild((tn,kn)=>{if(void 0===dt[kn])throw new g.wOt(1002,"")})}class jt{constructor(Pt,dt){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new b.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Pt),this._assignAsyncValidators(dt)}get validator(){return this._composedValidatorFn}set validator(Pt){this._rawValidators=this._composedValidatorFn=Pt}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Pt){this._rawAsyncValidators=this._composedAsyncValidatorFn=Pt}get parent(){return this._parent}get valid(){return this.status===en}get invalid(){return this.status===pn}get pending(){return this.status==cn}get disabled(){return this.status===tr}get enabled(){return this.status!==tr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Pt){this._assignValidators(Pt)}setAsyncValidators(Pt){this._assignAsyncValidators(Pt)}addValidators(Pt){this.setValidators(me(Pt,this._rawValidators))}addAsyncValidators(Pt){this.setAsyncValidators(me(Pt,this._rawAsyncValidators))}removeValidators(Pt){this.setValidators(Ue(Pt,this._rawValidators))}removeAsyncValidators(Pt){this.setAsyncValidators(Ue(Pt,this._rawAsyncValidators))}hasValidator(Pt){return ge(this._rawValidators,Pt)}hasAsyncValidator(Pt){return ge(this._rawAsyncValidators,Pt)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Pt={}){const dt=!1===this.touched;this.touched=!0;const tn=Pt.sourceControl??this;this._parent&&!Pt.onlySelf&&this._parent.markAsTouched({...Pt,sourceControl:tn}),dt&&!1!==Pt.emitEvent&&this._events.next(new ut(!0,tn))}markAllAsTouched(Pt={}){this.markAsTouched({onlySelf:!0,emitEvent:Pt.emitEvent,sourceControl:this}),this._forEachChild(dt=>dt.markAllAsTouched(Pt))}markAsUntouched(Pt={}){const dt=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const tn=Pt.sourceControl??this;this._forEachChild(kn=>{kn.markAsUntouched({onlySelf:!0,emitEvent:Pt.emitEvent,sourceControl:tn})}),this._parent&&!Pt.onlySelf&&this._parent._updateTouched(Pt,tn),dt&&!1!==Pt.emitEvent&&this._events.next(new ut(!1,tn))}markAsDirty(Pt={}){const dt=!0===this.pristine;this.pristine=!1;const tn=Pt.sourceControl??this;this._parent&&!Pt.onlySelf&&this._parent.markAsDirty({...Pt,sourceControl:tn}),dt&&!1!==Pt.emitEvent&&this._events.next(new Qt(!1,tn))}markAsPristine(Pt={}){const dt=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const tn=Pt.sourceControl??this;this._forEachChild(kn=>{kn.markAsPristine({onlySelf:!0,emitEvent:Pt.emitEvent})}),this._parent&&!Pt.onlySelf&&this._parent._updatePristine(Pt,tn),dt&&!1!==Pt.emitEvent&&this._events.next(new Qt(!0,tn))}markAsPending(Pt={}){this.status=cn;const dt=Pt.sourceControl??this;!1!==Pt.emitEvent&&(this._events.next(new st(this.status,dt)),this.statusChanges.emit(this.status)),this._parent&&!Pt.onlySelf&&this._parent.markAsPending({...Pt,sourceControl:dt})}disable(Pt={}){const dt=this._parentMarkedDirty(Pt.onlySelf);this.status=tr,this.errors=null,this._forEachChild(kn=>{kn.disable({...Pt,onlySelf:!0})}),this._updateValue();const tn=Pt.sourceControl??this;!1!==Pt.emitEvent&&(this._events.next(new on(this.value,tn)),this._events.next(new st(this.status,tn)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Pt,skipPristineCheck:dt},this),this._onDisabledChange.forEach(kn=>kn(!0))}enable(Pt={}){const dt=this._parentMarkedDirty(Pt.onlySelf);this.status=en,this._forEachChild(tn=>{tn.enable({...Pt,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Pt.emitEvent}),this._updateAncestors({...Pt,skipPristineCheck:dt},this),this._onDisabledChange.forEach(tn=>tn(!1))}_updateAncestors(Pt,dt){this._parent&&!Pt.onlySelf&&(this._parent.updateValueAndValidity(Pt),Pt.skipPristineCheck||this._parent._updatePristine({},dt),this._parent._updateTouched({},dt))}setParent(Pt){this._parent=Pt}getRawValue(){return this.value}updateValueAndValidity(Pt={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const tn=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===en||this.status===cn)&&this._runAsyncValidator(tn,Pt.emitEvent)}const dt=Pt.sourceControl??this;!1!==Pt.emitEvent&&(this._events.next(new on(this.value,dt)),this._events.next(new st(this.status,dt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Pt.onlySelf&&this._parent.updateValueAndValidity({...Pt,sourceControl:dt})}_updateTreeValidity(Pt={emitEvent:!0}){this._forEachChild(dt=>dt._updateTreeValidity(Pt)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Pt.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tr:en}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Pt,dt){if(this.asyncValidator){this.status=cn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==dt};const tn=_(this.asyncValidator(this));this._asyncValidationSubscription=tn.subscribe(kn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(kn,{emitEvent:dt,shouldHaveEmitted:Pt})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Pt=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Pt}return!1}setErrors(Pt,dt={}){this.errors=Pt,this._updateControlsErrors(!1!==dt.emitEvent,this,dt.shouldHaveEmitted)}get(Pt){let dt=Pt;return null==dt||(Array.isArray(dt)||(dt=dt.split(".")),0===dt.length)?null:dt.reduce((tn,kn)=>tn&&tn._find(kn),this)}getError(Pt,dt){const tn=dt?this.get(dt):this;return tn&&tn.errors?tn.errors[Pt]:null}hasError(Pt,dt){return!!this.getError(Pt,dt)}get root(){let Pt=this;for(;Pt._parent;)Pt=Pt._parent;return Pt}_updateControlsErrors(Pt,dt,tn){this.status=this._calculateStatus(),Pt&&this.statusChanges.emit(this.status),(Pt||tn)&&this._events.next(new st(this.status,dt)),this._parent&&this._parent._updateControlsErrors(Pt,dt,tn)}_initObservables(){this.valueChanges=new g.bkB,this.statusChanges=new g.bkB}_calculateStatus(){return this._allControlsDisabled()?tr:this.errors?pn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cn)?cn:this._anyControlsHaveStatus(pn)?pn:en}_anyControlsHaveStatus(Pt){return this._anyControls(dt=>dt.status===Pt)}_anyControlsDirty(){return this._anyControls(Pt=>Pt.dirty)}_anyControlsTouched(){return this._anyControls(Pt=>Pt.touched)}_updatePristine(Pt,dt){const tn=!this._anyControlsDirty(),kn=this.pristine!==tn;this.pristine=tn,this._parent&&!Pt.onlySelf&&this._parent._updatePristine(Pt,dt),kn&&this._events.next(new Qt(this.pristine,dt))}_updateTouched(Pt={},dt){this.touched=this._anyControlsTouched(),this._events.next(new ut(this.touched,dt)),this._parent&&!Pt.onlySelf&&this._parent._updateTouched(Pt,dt)}_registerOnCollectionChange(Pt){this._onCollectionChange=Pt}_setUpdateStrategy(Pt){ht(Pt)&&null!=Pt.updateOn&&(this._updateOn=Pt.updateOn)}_parentMarkedDirty(Pt){return!Pt&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Pt){return null}_assignValidators(Pt){this._rawValidators=Array.isArray(Pt)?Pt.slice():Pt,this._composedValidatorFn=function Zn(Ot){return Array.isArray(Ot)?Z(Ot):Ot||null}(this._rawValidators)}_assignAsyncValidators(Pt){this._rawAsyncValidators=Array.isArray(Pt)?Pt.slice():Pt,this._composedAsyncValidatorFn=function pt(Ot){return Array.isArray(Ot)?ee(Ot):Ot||null}(this._rawAsyncValidators)}}class kt extends jt{constructor(Pt,dt,tn){super(rn(dt),at(tn,dt)),this.controls=Pt,this._initObservables(),this._setUpdateStrategy(dt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Pt,dt){return this.controls[Pt]?this.controls[Pt]:(this.controls[Pt]=dt,dt.setParent(this),dt._registerOnCollectionChange(this._onCollectionChange),dt)}addControl(Pt,dt,tn={}){this.registerControl(Pt,dt),this.updateValueAndValidity({emitEvent:tn.emitEvent}),this._onCollectionChange()}removeControl(Pt,dt={}){this.controls[Pt]&&this.controls[Pt]._registerOnCollectionChange(()=>{}),delete this.controls[Pt],this.updateValueAndValidity({emitEvent:dt.emitEvent}),this._onCollectionChange()}setControl(Pt,dt,tn={}){this.controls[Pt]&&this.controls[Pt]._registerOnCollectionChange(()=>{}),delete this.controls[Pt],dt&&this.registerControl(Pt,dt),this.updateValueAndValidity({emitEvent:tn.emitEvent}),this._onCollectionChange()}contains(Pt){return this.controls.hasOwnProperty(Pt)&&this.controls[Pt].enabled}setValue(Pt,dt={}){Ge(this,0,Pt),Object.keys(Pt).forEach(tn=>{Ke(this,!0,tn),this.controls[tn].setValue(Pt[tn],{onlySelf:!0,emitEvent:dt.emitEvent})}),this.updateValueAndValidity(dt)}patchValue(Pt,dt={}){null!=Pt&&(Object.keys(Pt).forEach(tn=>{const kn=this.controls[tn];kn&&kn.patchValue(Pt[tn],{onlySelf:!0,emitEvent:dt.emitEvent})}),this.updateValueAndValidity(dt))}reset(Pt={},dt={}){this._forEachChild((tn,kn)=>{tn.reset(Pt?Pt[kn]:null,{onlySelf:!0,emitEvent:dt.emitEvent})}),this._updatePristine(dt,this),this._updateTouched(dt,this),this.updateValueAndValidity(dt)}getRawValue(){return this._reduceChildren({},(Pt,dt,tn)=>(Pt[tn]=dt.getRawValue(),Pt))}_syncPendingControls(){let Pt=this._reduceChildren(!1,(dt,tn)=>!!tn._syncPendingControls()||dt);return Pt&&this.updateValueAndValidity({onlySelf:!0}),Pt}_forEachChild(Pt){Object.keys(this.controls).forEach(dt=>{const tn=this.controls[dt];tn&&Pt(tn,dt)})}_setUpControls(){this._forEachChild(Pt=>{Pt.setParent(this),Pt._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Pt){for(const[dt,tn]of Object.entries(this.controls))if(this.contains(dt)&&Pt(tn))return!0;return!1}_reduceValue(){return this._reduceChildren({},(dt,tn,kn)=>((tn.enabled||this.disabled)&&(dt[kn]=tn.value),dt))}_reduceChildren(Pt,dt){let tn=Pt;return this._forEachChild((kn,Xr)=>{tn=dt(tn,kn,Xr)}),tn}_allControlsDisabled(){for(const Pt of Object.keys(this.controls))if(this.controls[Pt].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Pt){return this.controls.hasOwnProperty(Pt)?this.controls[Pt]:null}}class gn extends kt{}const er=new g.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Pn}),Pn="always";function Nn(Ot,Pt){return[...Pt.path,Ot]}function et(Ot,Pt,dt=Pn){hn(Ot,Pt),Pt.valueAccessor.writeValue(Ot.value),(Ot.disabled||"always"===dt)&&Pt.valueAccessor.setDisabledState?.(Ot.disabled),function Kn(Ot,Pt){Pt.valueAccessor.registerOnChange(dt=>{Ot._pendingValue=dt,Ot._pendingChange=!0,Ot._pendingDirty=!0,"change"===Ot.updateOn&&mr(Ot,Pt)})}(Ot,Pt),function Pr(Ot,Pt){const dt=(tn,kn)=>{Pt.valueAccessor.writeValue(tn),kn&&Pt.viewToModelUpdate(tn)};Ot.registerOnChange(dt),Pt._registerOnDestroy(()=>{Ot._unregisterOnChange(dt)})}(Ot,Pt),function ir(Ot,Pt){Pt.valueAccessor.registerOnTouched(()=>{Ot._pendingTouched=!0,"blur"===Ot.updateOn&&Ot._pendingChange&&mr(Ot,Pt),"submit"!==Ot.updateOn&&Ot.markAsTouched()})}(Ot,Pt),function zt(Ot,Pt){if(Pt.valueAccessor.setDisabledState){const dt=tn=>{Pt.valueAccessor.setDisabledState(tn)};Ot.registerOnDisabledChange(dt),Pt._registerOnDestroy(()=>{Ot._unregisterOnDisabledChange(dt)})}}(Ot,Pt)}function Oe(Ot,Pt,dt=!0){const tn=()=>{};Pt.valueAccessor&&(Pt.valueAccessor.registerOnChange(tn),Pt.valueAccessor.registerOnTouched(tn)),Un(Ot,Pt),Ot&&(Pt._invokeOnDestroyCallbacks(),Ot._registerOnCollectionChange(()=>{}))}function Qe(Ot,Pt){Ot.forEach(dt=>{dt.registerOnValidatorChange&&dt.registerOnValidatorChange(Pt)})}function hn(Ot,Pt){const dt=we(Ot);null!==Pt.validator?Ot.setValidators(le(dt,Pt.validator)):"function"==typeof dt&&Ot.setValidators([dt]);const tn=Me(Ot);null!==Pt.asyncValidator?Ot.setAsyncValidators(le(tn,Pt.asyncValidator)):"function"==typeof tn&&Ot.setAsyncValidators([tn]);const kn=()=>Ot.updateValueAndValidity();Qe(Pt._rawValidators,kn),Qe(Pt._rawAsyncValidators,kn)}function Un(Ot,Pt){let dt=!1;if(null!==Ot){if(null!==Pt.validator){const kn=we(Ot);if(Array.isArray(kn)&&kn.length>0){const Xr=kn.filter(lo=>lo!==Pt.validator);Xr.length!==kn.length&&(dt=!0,Ot.setValidators(Xr))}}if(null!==Pt.asyncValidator){const kn=Me(Ot);if(Array.isArray(kn)&&kn.length>0){const Xr=kn.filter(lo=>lo!==Pt.asyncValidator);Xr.length!==kn.length&&(dt=!0,Ot.setAsyncValidators(Xr))}}}const tn=()=>{};return Qe(Pt._rawValidators,tn),Qe(Pt._rawAsyncValidators,tn),dt}function mr(Ot,Pt){Ot._pendingDirty&&Ot.markAsDirty(),Ot.setValue(Ot._pendingValue,{emitModelToViewChange:!1}),Pt.viewToModelUpdate(Ot._pendingValue),Ot._pendingChange=!1}function Sr(Ot,Pt){hn(Ot,Pt)}function Wn(Ot,Pt){if(!Ot.hasOwnProperty("model"))return!1;const dt=Ot.model;return!!dt.isFirstChange()||!Object.is(Pt,dt.currentValue)}function hr(Ot,Pt){Ot._syncPendingControls(),Pt.forEach(dt=>{const tn=dt.control;"submit"===tn.updateOn&&tn._pendingChange&&(dt.viewToModelUpdate(tn._pendingValue),tn._pendingChange=!1)})}function jr(Ot,Pt){if(!Pt)return null;let dt,tn,kn;return Array.isArray(Pt),Pt.forEach(Xr=>{Xr.constructor===Q?dt=Xr:function cr(Ot){return Object.getPrototypeOf(Ot.constructor)===P}(Xr)?tn=Xr:kn=Xr}),kn||tn||dt||null}const oo={provide:Ce,useExisting:(0,g.Rfq)(()=>bi)},Hi=Promise.resolve();let bi=(()=>{class Ot extends Ce{constructor(dt,tn,kn){super(),this.callSetDisabledState=kn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.bkB,this.form=new kt({},Z(dt),ee(tn))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(dt){Hi.then(()=>{const tn=this._findContainer(dt.path);dt.control=tn.registerControl(dt.name,dt.control),et(dt.control,dt,this.callSetDisabledState),dt.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(dt)})}getControl(dt){return this.form.get(dt.path)}removeControl(dt){Hi.then(()=>{const tn=this._findContainer(dt.path);tn&&tn.removeControl(dt.name),this._directives.delete(dt)})}addFormGroup(dt){Hi.then(()=>{const tn=this._findContainer(dt.path),kn=new kt({});Sr(kn,dt),tn.registerControl(dt.name,kn),kn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(dt){Hi.then(()=>{const tn=this._findContainer(dt.path);tn&&tn.removeControl(dt.name)})}getFormGroup(dt){return this.form.get(dt.path)}updateModel(dt,tn){Hi.then(()=>{this.form.get(dt.path).setValue(tn)})}setValue(dt){this.control.setValue(dt)}onSubmit(dt){return this.submitted=!0,hr(this.form,this._directives),this.ngSubmit.emit(dt),"dialog"===dt?.target?.method}onReset(){this.resetForm()}resetForm(dt=void 0){this.form.reset(dt),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(dt){return dt.pop(),dt.length?this.form.get(dt):this.form}static#e=this.\u0275fac=function(tn){return new(tn||Ot)(g.rXU(W,10),g.rXU(re,10),g.rXU(er,8))};static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(tn,kn){1&tn&&g.bIt("submit",function(lo){return kn.onSubmit(lo)})("reset",function(){return kn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g.Jv_([oo]),g.Vt3]})}return Ot})();function pi(Ot,Pt){const dt=Ot.indexOf(Pt);dt>-1&&Ot.splice(dt,1)}function So(Ot){return"object"==typeof Ot&&null!==Ot&&2===Object.keys(Ot).length&&"value"in Ot&&"disabled"in Ot}const wi=class extends jt{constructor(Pt=null,dt,tn){super(rn(dt),at(tn,dt)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Pt),this._setUpdateStrategy(dt),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ht(dt)&&(dt.nonNullable||dt.initialValueIsDefault)&&(this.defaultValue=So(Pt)?Pt.value:Pt)}setValue(Pt,dt={}){this.value=this._pendingValue=Pt,this._onChange.length&&!1!==dt.emitModelToViewChange&&this._onChange.forEach(tn=>tn(this.value,!1!==dt.emitViewToModelChange)),this.updateValueAndValidity(dt)}patchValue(Pt,dt={}){this.setValue(Pt,dt)}reset(Pt=this.defaultValue,dt={}){this._applyFormState(Pt),this.markAsPristine(dt),this.markAsUntouched(dt),this.setValue(this.value,dt),this._pendingChange=!1}_updateValue(){}_anyControls(Pt){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Pt){this._onChange.push(Pt)}_unregisterOnChange(Pt){pi(this._onChange,Pt)}registerOnDisabledChange(Pt){this._onDisabledChange.push(Pt)}_unregisterOnDisabledChange(Pt){pi(this._onDisabledChange,Pt)}_forEachChild(Pt){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Pt){So(Pt)?(this.value=this._pendingValue=Pt.value,Pt.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Pt}},Tn={provide:be,useExisting:(0,g.Rfq)(()=>Bn)},un=Promise.resolve();let Bn=(()=>{class Ot extends be{constructor(dt,tn,kn,Xr,lo,ac){super(),this._changeDetectorRef=lo,this.callSetDisabledState=ac,this.control=new wi,this._registered=!1,this.name="",this.update=new g.bkB,this._parent=dt,this._setValidators(tn),this._setAsyncValidators(kn),this.valueAccessor=jr(0,Xr)}ngOnChanges(dt){if(this._checkForErrors(),!this._registered||"name"in dt){if(this._registered&&(this._checkName(),this.formDirective)){const tn=dt.name.previousValue;this.formDirective.removeControl({name:tn,path:this._getPath(tn)})}this._setUpControl()}"isDisabled"in dt&&this._updateDisabled(dt),Wn(dt,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(dt){this.viewModel=dt,this.update.emit(dt)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){et(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(dt){un.then(()=>{this.control.setValue(dt,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(dt){const tn=dt.isDisabled.currentValue,kn=0!==tn&&(0,g.L39)(tn);un.then(()=>{kn&&!this.control.disabled?this.control.disable():!kn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(dt){return this._parent?Nn(dt,this._parent):[dt]}static#e=this.\u0275fac=function(tn){return new(tn||Ot)(g.rXU(Ce,9),g.rXU(W,10),g.rXU(re,10),g.rXU(R,10),g.rXU(g.gRc,8),g.rXU(er,8))};static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g.Jv_([Tn]),g.Vt3,g.OA$]})}return Ot})(),qt=(()=>{class Ot{static#e=this.\u0275fac=function(tn){return new(tn||Ot)};static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Ot})();const lt={provide:R,useExisting:(0,g.Rfq)(()=>St),multi:!0};let St=(()=>{class Ot extends P{writeValue(dt){this.setProperty("value",dt??"")}registerOnChange(dt){this.onChange=tn=>{dt(""==tn?null:parseFloat(tn))}}static#e=this.\u0275fac=(()=>{let dt;return function(kn){return(dt||(dt=g.xGo(Ot)))(kn||Ot)}})();static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(tn,kn){1&tn&&g.bIt("input",function(lo){return kn.onChange(lo.target.value)})("blur",function(){return kn.onTouched()})},features:[g.Jv_([lt]),g.Vt3]})}return Ot})();const ft=new g.nKC(""),it={provide:be,useExisting:(0,g.Rfq)(()=>Kt)};let Kt=(()=>{class Ot extends be{set isDisabled(dt){}static#e=this._ngModelWarningSentOnce=!1;constructor(dt,tn,kn,Xr,lo){super(),this._ngModelWarningConfig=Xr,this.callSetDisabledState=lo,this.update=new g.bkB,this._ngModelWarningSent=!1,this._setValidators(dt),this._setAsyncValidators(tn),this.valueAccessor=jr(0,kn)}ngOnChanges(dt){if(this._isControlChanged(dt)){const tn=dt.form.previousValue;tn&&Oe(tn,this,!1),et(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Wn(dt,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Oe(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(dt){this.viewModel=dt,this.update.emit(dt)}_isControlChanged(dt){return dt.hasOwnProperty("form")}static#t=this.\u0275fac=function(tn){return new(tn||Ot)(g.rXU(W,10),g.rXU(re,10),g.rXU(R,10),g.rXU(ft,8),g.rXU(er,8))};static#n=this.\u0275dir=g.FsC({type:Ot,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[g.Jv_([it]),g.Vt3,g.OA$]})}return Ot})();const xn={provide:Ce,useExisting:(0,g.Rfq)(()=>fn)};let fn=(()=>{class Ot extends Ce{constructor(dt,tn,kn){super(),this.callSetDisabledState=kn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.bkB,this._setValidators(dt),this._setAsyncValidators(tn)}ngOnChanges(dt){this._checkFormPresent(),dt.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Un(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(dt){const tn=this.form.get(dt.path);return et(tn,dt,this.callSetDisabledState),tn.updateValueAndValidity({emitEvent:!1}),this.directives.push(dt),tn}getControl(dt){return this.form.get(dt.path)}removeControl(dt){Oe(dt.control||null,dt,!1),function Or(Ot,Pt){const dt=Ot.indexOf(Pt);dt>-1&&Ot.splice(dt,1)}(this.directives,dt)}addFormGroup(dt){this._setUpFormContainer(dt)}removeFormGroup(dt){this._cleanUpFormContainer(dt)}getFormGroup(dt){return this.form.get(dt.path)}addFormArray(dt){this._setUpFormContainer(dt)}removeFormArray(dt){this._cleanUpFormContainer(dt)}getFormArray(dt){return this.form.get(dt.path)}updateModel(dt,tn){this.form.get(dt.path).setValue(tn)}onSubmit(dt){return this.submitted=!0,hr(this.form,this.directives),this.ngSubmit.emit(dt),this.form._events.next(new Zt(this.control)),"dialog"===dt?.target?.method}onReset(){this.resetForm()}resetForm(dt=void 0){this.form.reset(dt),this.submitted=!1,this.form._events.next(new Xt(this.form))}_updateDomValue(){this.directives.forEach(dt=>{const tn=dt.control,kn=this.form.get(dt.path);tn!==kn&&(Oe(tn||null,dt),(Ot=>Ot instanceof wi)(kn)&&(et(kn,dt,this.callSetDisabledState),dt.control=kn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(dt){const tn=this.form.get(dt.path);Sr(tn,dt),tn.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(dt){if(this.form){const tn=this.form.get(dt.path);tn&&function Nr(Ot,Pt){return Un(Ot,Pt)}(tn,dt)&&tn.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hn(this.form,this),this._oldForm&&Un(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(tn){return new(tn||Ot)(g.rXU(W,10),g.rXU(re,10),g.rXU(er,8))};static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["","formGroup",""]],hostBindings:function(tn,kn){1&tn&&g.bIt("submit",function(lo){return kn.onSubmit(lo)})("reset",function(){return kn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g.Jv_([xn]),g.Vt3,g.OA$]})}return Ot})();const Br={provide:be,useExisting:(0,g.Rfq)(()=>Kr)};let Kr=(()=>{class Ot extends be{set isDisabled(dt){}static#e=this._ngModelWarningSentOnce=!1;constructor(dt,tn,kn,Xr,lo){super(),this._ngModelWarningConfig=lo,this._added=!1,this.name=null,this.update=new g.bkB,this._ngModelWarningSent=!1,this._parent=dt,this._setValidators(tn),this._setAsyncValidators(kn),this.valueAccessor=jr(0,Xr)}ngOnChanges(dt){this._added||this._setUpControl(),Wn(dt,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(dt){this.viewModel=dt,this.update.emit(dt)}get path(){return Nn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(tn){return new(tn||Ot)(g.rXU(Ce,13),g.rXU(W,10),g.rXU(re,10),g.rXU(R,10),g.rXU(ft,8))};static#n=this.\u0275dir=g.FsC({type:Ot,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[g.Jv_([Br]),g.Vt3,g.OA$]})}return Ot})();let Po=(()=>{class Ot{constructor(){this._validator=h}ngOnChanges(dt){if(this.inputName in dt){const tn=this.normalizeInput(dt[this.inputName].currentValue);this._enabled=this.enabled(tn),this._validator=this._enabled?this.createValidator(tn):h,this._onChange&&this._onChange()}}validate(dt){return this._validator(dt)}registerOnValidatorChange(dt){this._onChange=dt}enabled(dt){return null!=dt}static#e=this.\u0275fac=function(tn){return new(tn||Ot)};static#t=this.\u0275dir=g.FsC({type:Ot,features:[g.OA$]})}return Ot})();const Da={provide:W,useExisting:(0,g.Rfq)(()=>Ac),multi:!0},vl={provide:W,useExisting:(0,g.Rfq)(()=>Cc),multi:!0};let Ac=(()=>{class Ot extends Po{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.L39,this.createValidator=dt=>pe}enabled(dt){return dt}static#e=this.\u0275fac=(()=>{let dt;return function(kn){return(dt||(dt=g.xGo(Ot)))(kn||Ot)}})();static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(tn,kn){2&tn&&g.BMQ("required",kn._enabled?"":null)},inputs:{required:"required"},features:[g.Jv_([Da]),g.Vt3]})}return Ot})(),Cc=(()=>{class Ot extends Ac{constructor(){super(...arguments),this.createValidator=dt=>ve}static#e=this.\u0275fac=(()=>{let dt;return function(kn){return(dt||(dt=g.xGo(Ot)))(kn||Ot)}})();static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(tn,kn){2&tn&&g.BMQ("required",kn._enabled?"":null)},features:[g.Jv_([vl]),g.Vt3]})}return Ot})();const Zf={provide:W,useExisting:(0,g.Rfq)(()=>Zd),multi:!0};let Zd=(()=>{class Ot extends Po{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=dt=>function Eo(Ot){return"number"==typeof Ot?Ot:parseInt(Ot,10)}(dt),this.createValidator=dt=>s(dt)}static#e=this.\u0275fac=(()=>{let dt;return function(kn){return(dt||(dt=g.xGo(Ot)))(kn||Ot)}})();static#t=this.\u0275dir=g.FsC({type:Ot,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(tn,kn){2&tn&&g.BMQ("maxlength",kn._enabled?kn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[g.Jv_([Zf]),g.Vt3]})}return Ot})(),yo=(()=>{class Ot{static#e=this.\u0275fac=function(tn){return new(tn||Ot)};static#t=this.\u0275mod=g.$C({type:Ot});static#n=this.\u0275inj=g.G2t({})}return Ot})();class la extends jt{constructor(Pt,dt,tn){super(rn(dt),at(tn,dt)),this.controls=Pt,this._initObservables(),this._setUpdateStrategy(dt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Pt){return this.controls[this._adjustIndex(Pt)]}push(Pt,dt={}){this.controls.push(Pt),this._registerControl(Pt),this.updateValueAndValidity({emitEvent:dt.emitEvent}),this._onCollectionChange()}insert(Pt,dt,tn={}){this.controls.splice(Pt,0,dt),this._registerControl(dt),this.updateValueAndValidity({emitEvent:tn.emitEvent})}removeAt(Pt,dt={}){let tn=this._adjustIndex(Pt);tn<0&&(tn=0),this.controls[tn]&&this.controls[tn]._registerOnCollectionChange(()=>{}),this.controls.splice(tn,1),this.updateValueAndValidity({emitEvent:dt.emitEvent})}setControl(Pt,dt,tn={}){let kn=this._adjustIndex(Pt);kn<0&&(kn=0),this.controls[kn]&&this.controls[kn]._registerOnCollectionChange(()=>{}),this.controls.splice(kn,1),dt&&(this.controls.splice(kn,0,dt),this._registerControl(dt)),this.updateValueAndValidity({emitEvent:tn.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Pt,dt={}){Ge(this,0,Pt),Pt.forEach((tn,kn)=>{Ke(this,!1,kn),this.at(kn).setValue(tn,{onlySelf:!0,emitEvent:dt.emitEvent})}),this.updateValueAndValidity(dt)}patchValue(Pt,dt={}){null!=Pt&&(Pt.forEach((tn,kn)=>{this.at(kn)&&this.at(kn).patchValue(tn,{onlySelf:!0,emitEvent:dt.emitEvent})}),this.updateValueAndValidity(dt))}reset(Pt=[],dt={}){this._forEachChild((tn,kn)=>{tn.reset(Pt[kn],{onlySelf:!0,emitEvent:dt.emitEvent})}),this._updatePristine(dt,this),this._updateTouched(dt,this),this.updateValueAndValidity(dt)}getRawValue(){return this.controls.map(Pt=>Pt.getRawValue())}clear(Pt={}){this.controls.length<1||(this._forEachChild(dt=>dt._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Pt.emitEvent}))}_adjustIndex(Pt){return Pt<0?Pt+this.length:Pt}_syncPendingControls(){let Pt=this.controls.reduce((dt,tn)=>!!tn._syncPendingControls()||dt,!1);return Pt&&this.updateValueAndValidity({onlySelf:!0}),Pt}_forEachChild(Pt){this.controls.forEach((dt,tn)=>{Pt(dt,tn)})}_updateValue(){this.value=this.controls.filter(Pt=>Pt.enabled||this.disabled).map(Pt=>Pt.value)}_anyControls(Pt){return this.controls.some(dt=>dt.enabled&&Pt(dt))}_setUpControls(){this._forEachChild(Pt=>this._registerControl(Pt))}_allControlsDisabled(){for(const Pt of this.controls)if(Pt.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Pt){Pt.setParent(this),Pt._registerOnCollectionChange(this._onCollectionChange)}_find(Pt){return this.at(Pt)??null}}function cu(Ot){return!!Ot&&(void 0!==Ot.asyncValidators||void 0!==Ot.validators||void 0!==Ot.updateOn)}let du=(()=>{class Ot{constructor(){this.useNonNullable=!1}get nonNullable(){const dt=new Ot;return dt.useNonNullable=!0,dt}group(dt,tn=null){const kn=this._reduceControls(dt);let Xr={};return cu(tn)?Xr=tn:null!==tn&&(Xr.validators=tn.validator,Xr.asyncValidators=tn.asyncValidator),new kt(kn,Xr)}record(dt,tn=null){const kn=this._reduceControls(dt);return new gn(kn,tn)}control(dt,tn,kn){let Xr={};return this.useNonNullable?(cu(tn)?Xr=tn:(Xr.validators=tn,Xr.asyncValidators=kn),new wi(dt,{...Xr,nonNullable:!0})):new wi(dt,tn,kn)}array(dt,tn,kn){const Xr=dt.map(lo=>this._createControl(lo));return new la(Xr,tn,kn)}_reduceControls(dt){const tn={};return Object.keys(dt).forEach(kn=>{tn[kn]=this._createControl(dt[kn])}),tn}_createControl(dt){return dt instanceof wi||dt instanceof jt?dt:Array.isArray(dt)?this.control(dt[0],dt.length>1?dt[1]:null,dt.length>2?dt[2]:null):this.control(dt)}static#e=this.\u0275fac=function(tn){return new(tn||Ot)};static#t=this.\u0275prov=g.jDH({token:Ot,factory:Ot.\u0275fac,providedIn:"root"})}return Ot})(),Ua=(()=>{class Ot{static withConfig(dt){return{ngModule:Ot,providers:[{provide:er,useValue:dt.callSetDisabledState??Pn}]}}static#e=this.\u0275fac=function(tn){return new(tn||Ot)};static#t=this.\u0275mod=g.$C({type:Ot});static#n=this.\u0275inj=g.G2t({imports:[yo]})}return Ot})(),qu=(()=>{class Ot{static withConfig(dt){return{ngModule:Ot,providers:[{provide:ft,useValue:dt.warnOnNgModelWithFormControl??"always"},{provide:er,useValue:dt.callSetDisabledState??Pn}]}}static#e=this.\u0275fac=function(tn){return new(tn||Ot)};static#t=this.\u0275mod=g.$C({type:Ot});static#n=this.\u0275inj=g.G2t({imports:[yo]})}return Ot})()},94073:()=>{"use strict";const $e=":";Error;const le=function(Ze,...ge){if(le.translate){const Ue=le.translate(Ze,ge);Ze=Ue[0],ge=Ue[1]}let me=Me(Ze[0],Ze.raw[0]);for(let Ue=1;Ue<Ze.length;Ue++)me+=ge[Ue-1]+Me(Ze[Ue],Ze.raw[Ue]);return me},we=":";function Me(Ze,ge){return ge.charAt(0)===we?Ze.substring(function h(Ze,ge){for(let me=1,Ue=1;me<Ze.length;me++,Ue++)if("\\"===ge[Ue])Ue++;else if(Ze[me]===$e)return me;throw new Error(`Unterminated $localize metadata block in "${ge}".`)}(Ze,ge)+1):Ze}globalThis.$localize=le},88834:($e,j,E)=>{"use strict";E.d(j,{$z:()=>ue,Hl:()=>I,It:()=>ce,iY:()=>f,pQ:()=>_});var g=E(36860),w=E(93953),B=E(18617),H=E(86600);const b=["mat-button",""],k=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],S=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],R=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",U=["mat-icon-button",""],K=["*"],q=new w.nKC("MAT_BUTTON_CONFIG"),W=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let re=(()=>{class L{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(a){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,a)}get disableRipple(){return this._disableRipple}set disableRipple(a){this._disableRipple=a,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(a){this._disabled=a,this._updateRippleDisabled()}constructor(a,v,Z,z){this._elementRef=a,this._platform=v,this._ngZone=Z,this._animationMode=z,this._focusMonitor=(0,w.WQX)(B.FN),this._rippleLoader=(0,w.WQX)(H.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const ee=(0,w.WQX)(q,{optional:!0}),le=a.nativeElement,we=le.classList;this.disabledInteractive=ee?.disabledInteractive??!1,this._rippleLoader?.configureRipple(le,{className:"mat-mdc-button-ripple"});for(const{attribute:Me,mdcClasses:Ze}of W)le.hasAttribute(Me)&&we.add(...Ze)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(a="program",v){a?this._focusMonitor.focusVia(this._elementRef.nativeElement,a,v):this._elementRef.nativeElement.focus(v)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(v){w.QTQ()};static#t=this.\u0275dir=w.FsC({type:L,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",w.L39],disabled:[2,"disabled","disabled",w.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",w.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",w.L39]},features:[w.GFd]})}return L})(),ae=(()=>{class L extends re{constructor(a,v,Z,z){super(a,v,Z,z),this._haltDisabledEvents=ee=>{this.disabled&&(ee.preventDefault(),ee.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(v){w.QTQ()};static#t=this.\u0275dir=w.FsC({type:L,inputs:{tabIndex:[2,"tabIndex","tabIndex",a=>null==a?void 0:(0,w.Udg)(a)]},features:[w.GFd,w.Vt3]})}return L})(),ue=(()=>{class L extends re{constructor(a,v,Z,z){super(a,v,Z,z)}static#e=this.\u0275fac=function(v){return new(v||L)(w.rXU(w.aKT),w.rXU(g.OD),w.rXU(w.SKi),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:L,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(v,Z){2&v&&(w.BMQ("disabled",Z._getDisabledAttribute())("aria-disabled",Z._getAriaDisabled()),w.HbH(Z.color?"mat-"+Z.color:""),w.AVh("mat-mdc-button-disabled",Z.disabled)("mat-mdc-button-disabled-interactive",Z.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Z._animationMode)("mat-unthemed",!Z.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[w.Vt3,w.aNF],attrs:b,ngContentSelectors:S,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,Z){1&v&&(w.NAR(k),w.nrm(0,"span",0),w.SdG(1),w.j41(2,"span",1),w.SdG(3,1),w.k0s(),w.SdG(4,2),w.nrm(5,"span",2)(6,"span",3)),2&v&&w.AVh("mdc-button__ripple",!Z._isFab)("mdc-fab__ripple",Z._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return L})(),ce=(()=>{class L extends ae{constructor(a,v,Z,z){super(a,v,Z,z)}static#e=this.\u0275fac=function(v){return new(v||L)(w.rXU(w.aKT),w.rXU(g.OD),w.rXU(w.SKi),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:L,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(v,Z){2&v&&(w.BMQ("disabled",Z._getDisabledAttribute())("tabindex",Z.disabled&&!Z.disabledInteractive?-1:Z.tabIndex)("aria-disabled",Z._getDisabledAttribute()),w.HbH(Z.color?"mat-"+Z.color:""),w.AVh("mat-mdc-button-disabled",Z.disabled)("mat-mdc-button-disabled-interactive",Z.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Z._animationMode)("mat-unthemed",!Z.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[w.Vt3,w.aNF],attrs:b,ngContentSelectors:S,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,Z){1&v&&(w.NAR(k),w.nrm(0,"span",0),w.SdG(1),w.j41(2,"span",1),w.SdG(3,1),w.k0s(),w.SdG(4,2),w.nrm(5,"span",2)(6,"span",3)),2&v&&w.AVh("mdc-button__ripple",!Z._isFab)("mdc-fab__ripple",Z._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',R],encapsulation:2,changeDetection:0})}return L})(),f=(()=>{class L extends re{constructor(a,v,Z,z){super(a,v,Z,z),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(v){return new(v||L)(w.rXU(w.aKT),w.rXU(g.OD),w.rXU(w.SKi),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:L,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(v,Z){2&v&&(w.BMQ("disabled",Z._getDisabledAttribute())("aria-disabled",Z._getAriaDisabled()),w.HbH(Z.color?"mat-"+Z.color:""),w.AVh("mat-mdc-button-disabled",Z.disabled)("mat-mdc-button-disabled-interactive",Z.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Z._animationMode)("mat-unthemed",!Z.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[w.Vt3,w.aNF],attrs:U,ngContentSelectors:K,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,Z){1&v&&(w.NAR(),w.nrm(0,"span",0),w.SdG(1),w.nrm(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',R],encapsulation:2,changeDetection:0})}return L})(),_=(()=>{class L extends ae{constructor(a,v,Z,z){super(a,v,Z,z)}static#e=this.\u0275fac=function(v){return new(v||L)(w.rXU(w.aKT),w.rXU(g.OD),w.rXU(w.SKi),w.rXU(w.bc$,8))};static#t=this.\u0275cmp=w.VBU({type:L,selectors:[["a","mat-icon-button",""]],hostVars:15,hostBindings:function(v,Z){2&v&&(w.BMQ("disabled",Z._getDisabledAttribute())("tabindex",Z.disabled&&!Z.disabledInteractive?-1:Z.tabIndex)("aria-disabled",Z._getDisabledAttribute()),w.HbH(Z.color?"mat-"+Z.color:""),w.AVh("mat-mdc-button-disabled",Z.disabled)("mat-mdc-button-disabled-interactive",Z.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Z._animationMode)("mat-unthemed",!Z.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[w.Vt3,w.aNF],attrs:U,ngContentSelectors:K,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,Z){1&v&&(w.NAR(),w.nrm(0,"span",0),w.SdG(1),w.nrm(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',R],encapsulation:2,changeDetection:0})}return L})(),I=(()=>{class L{static#e=this.\u0275fac=function(v){return new(v||L)};static#t=this.\u0275mod=w.$C({type:L});static#n=this.\u0275inj=w.G2t({imports:[H.yE,H.pZ,H.yE]})}return L})()},86600:($e,j,E)=>{"use strict";E.d(j,{r5:()=>ae,ed:()=>ue,es:()=>xe,QC:()=>Gt,is:()=>Ae,$E:()=>D,yE:()=>ve,Np:()=>ne,wT:()=>pn,Sy:()=>Mn,wg:()=>fe,O5:()=>Se,r6:()=>M,Ej:()=>rn,pZ:()=>G,ug:()=>yt,X0:()=>I,tO:()=>Zn,jb:()=>cn,TL:()=>tr});var g=E(93953),w=E(18617),B=E(28203),b=E(60177),k=E(36860),S=E(14085),P=E(21413),R=E(67336);const V=["text"],U=[[["mat-icon"]],"*"],K=["mat-icon","*"];function Q(at,pt){if(1&at&&g.nrm(0,"mat-pseudo-checkbox",1),2&at){const ht=g.XpG();g.Y8G("disabled",ht.disabled)("state",ht.selected?"checked":"unchecked")}}function q(at,pt){if(1&at&&g.nrm(0,"mat-pseudo-checkbox",3),2&at){const ht=g.XpG();g.Y8G("disabled",ht.disabled)}}function Y(at,pt){if(1&at&&(g.j41(0,"span",4),g.EFF(1),g.k0s()),2&at){const ht=g.XpG();g.R7$(),g.SpI("(",ht.group.label,")")}}const W=["mat-internal-form-field",""],re=["*"];let ae=(()=>{class at{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return at})(),ue=(()=>{class at{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return at})();const pe=new g.nKC("mat-sanity-checks",{providedIn:"root",factory:function ce(){return!0}});let ve=(()=>{class at{constructor(ht,Ke,Ge){this._sanityChecks=Ke,this._document=Ge,this._hasDoneGlobalChecks=!1,ht._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ht){return!(0,k.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ht])}static#e=this.\u0275fac=function(Ke){return new(Ke||at)(g.KVO(w.Q_),g.KVO(pe,8),g.KVO(b.qQ))};static#t=this.\u0275mod=g.$C({type:at});static#n=this.\u0275inj=g.G2t({imports:[B.jI,B.jI]})}return at})();class I{constructor(pt,ht,Ke,Ge,jt){this._defaultMatcher=pt,this.ngControl=ht,this._parentFormGroup=Ke,this._parentForm=Ge,this._stateChanges=jt,this.errorState=!1}updateErrorState(){const pt=this.errorState,ht=this._parentFormGroup||this._parentForm,Ke=this.matcher||this._defaultMatcher,Ge=this.ngControl?this.ngControl.control:null,jt=Ke?.isErrorState(Ge,ht)??!1;jt!==pt&&(this.errorState=jt,this._stateChanges.next())}}let xe=(()=>{class at{isErrorState(ht,Ke){return!!(ht&&ht.invalid&&(ht.touched||Ke&&Ke.submitted))}static#e=this.\u0275fac=function(Ke){return new(Ke||at)};static#t=this.\u0275prov=g.jDH({token:at,factory:at.\u0275fac,providedIn:"root"})}return at})(),ne=(()=>{class at{static#e=this.\u0275fac=function(Ke){return new(Ke||at)};static#t=this.\u0275mod=g.$C({type:at});static#n=this.\u0275inj=g.G2t({imports:[ve,ve]})}return at})();var te=function(at){return at[at.FADING_IN=0]="FADING_IN",at[at.VISIBLE=1]="VISIBLE",at[at.FADING_OUT=2]="FADING_OUT",at[at.HIDDEN=3]="HIDDEN",at}(te||{});class de{constructor(pt,ht,Ke,Ge=!1){this._renderer=pt,this.element=ht,this.config=Ke,this._animationForciblyDisabledThroughCss=Ge,this.state=te.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const _e=(0,k.BQ)({passive:!0,capture:!0});class Ie{constructor(){this._events=new Map,this._delegateEventHandler=pt=>{const ht=(0,k.Fb)(pt);ht&&this._events.get(pt.type)?.forEach((Ke,Ge)=>{(Ge===ht||Ge.contains(ht))&&Ke.forEach(jt=>jt.handleEvent(pt))})}}addHandler(pt,ht,Ke,Ge){const jt=this._events.get(ht);if(jt){const kt=jt.get(Ke);kt?kt.add(Ge):jt.set(Ke,new Set([Ge]))}else this._events.set(ht,new Map([[Ke,new Set([Ge])]])),pt.runOutsideAngular(()=>{document.addEventListener(ht,this._delegateEventHandler,_e)})}removeHandler(pt,ht,Ke){const Ge=this._events.get(pt);if(!Ge)return;const jt=Ge.get(ht);jt&&(jt.delete(Ke),0===jt.size&&Ge.delete(ht),0===Ge.size&&(this._events.delete(pt),document.removeEventListener(pt,this._delegateEventHandler,_e)))}}const He={enterDuration:225,exitDuration:150},Dt=(0,k.BQ)({passive:!0,capture:!0}),Ne=["mousedown","touchstart"],ke=["mouseup","mouseleave","touchend","touchcancel"];class yt{static#e=this._eventManager=new Ie;constructor(pt,ht,Ke,Ge){this._target=pt,this._ngZone=ht,this._platform=Ge,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Ge.isBrowser&&(this._containerElement=(0,S.i8)(Ke))}fadeInRipple(pt,ht,Ke={}){const Ge=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),jt={...He,...Ke.animation};Ke.centered&&(pt=Ge.left+Ge.width/2,ht=Ge.top+Ge.height/2);const kt=Ke.radius||function F(at,pt,ht){const Ke=Math.max(Math.abs(at-ht.left),Math.abs(at-ht.right)),Ge=Math.max(Math.abs(pt-ht.top),Math.abs(pt-ht.bottom));return Math.sqrt(Ke*Ke+Ge*Ge)}(pt,ht,Ge),ln=pt-Ge.left,On=ht-Ge.top,vn=jt.enterDuration,gn=document.createElement("div");gn.classList.add("mat-ripple-element"),gn.style.left=ln-kt+"px",gn.style.top=On-kt+"px",gn.style.height=2*kt+"px",gn.style.width=2*kt+"px",null!=Ke.color&&(gn.style.backgroundColor=Ke.color),gn.style.transitionDuration=`${vn}ms`,this._containerElement.appendChild(gn);const ur=window.getComputedStyle(gn),Pn=ur.transitionDuration,Nn="none"===ur.transitionProperty||"0s"===Pn||"0s, 0s"===Pn||0===Ge.width&&0===Ge.height,et=new de(this,gn,Ke,Nn);gn.style.transform="scale3d(1, 1, 1)",et.state=te.FADING_IN,Ke.persistent||(this._mostRecentTransientRipple=et);let Oe=null;return!Nn&&(vn||jt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Qe=()=>this._finishRippleTransition(et),zt=()=>this._destroyRipple(et);gn.addEventListener("transitionend",Qe),gn.addEventListener("transitioncancel",zt),Oe={onTransitionEnd:Qe,onTransitionCancel:zt}}),this._activeRipples.set(et,Oe),(Nn||!vn)&&this._finishRippleTransition(et),et}fadeOutRipple(pt){if(pt.state===te.FADING_OUT||pt.state===te.HIDDEN)return;const ht=pt.element,Ke={...He,...pt.config.animation};ht.style.transitionDuration=`${Ke.exitDuration}ms`,ht.style.opacity="0",pt.state=te.FADING_OUT,(pt._animationForciblyDisabledThroughCss||!Ke.exitDuration)&&this._finishRippleTransition(pt)}fadeOutAll(){this._getActiveRipples().forEach(pt=>pt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(pt=>{pt.config.persistent||pt.fadeOut()})}setupTriggerEvents(pt){const ht=(0,S.i8)(pt);!this._platform.isBrowser||!ht||ht===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ht,Ne.forEach(Ke=>{yt._eventManager.addHandler(this._ngZone,Ke,ht,this)}))}handleEvent(pt){"mousedown"===pt.type?this._onMousedown(pt):"touchstart"===pt.type?this._onTouchStart(pt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ke.forEach(ht=>{this._triggerElement.addEventListener(ht,this,Dt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(pt){pt.state===te.FADING_IN?this._startFadeOutTransition(pt):pt.state===te.FADING_OUT&&this._destroyRipple(pt)}_startFadeOutTransition(pt){const ht=pt===this._mostRecentTransientRipple,{persistent:Ke}=pt.config;pt.state=te.VISIBLE,!Ke&&(!ht||!this._isPointerDown)&&pt.fadeOut()}_destroyRipple(pt){const ht=this._activeRipples.get(pt)??null;this._activeRipples.delete(pt),this._activeRipples.size||(this._containerRect=null),pt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),pt.state=te.HIDDEN,null!==ht&&(pt.element.removeEventListener("transitionend",ht.onTransitionEnd),pt.element.removeEventListener("transitioncancel",ht.onTransitionCancel)),pt.element.remove()}_onMousedown(pt){const ht=(0,w._G)(pt),Ke=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ht&&!Ke&&(this._isPointerDown=!0,this.fadeInRipple(pt.clientX,pt.clientY,this._target.rippleConfig))}_onTouchStart(pt){if(!this._target.rippleDisabled&&!(0,w.w6)(pt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ht=pt.changedTouches;if(ht)for(let Ke=0;Ke<ht.length;Ke++)this.fadeInRipple(ht[Ke].clientX,ht[Ke].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(pt=>{!pt.config.persistent&&(pt.state===te.VISIBLE||pt.config.terminateOnPointerUp&&pt.state===te.FADING_IN)&&pt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const pt=this._triggerElement;pt&&(Ne.forEach(ht=>yt._eventManager.removeHandler(ht,pt,this)),this._pointerUpEventsRegistered&&(ke.forEach(ht=>pt.removeEventListener(ht,this,Dt)),this._pointerUpEventsRegistered=!1))}}const D=new g.nKC("mat-ripple-global-options");let M=(()=>{class at{get disabled(){return this._disabled}set disabled(ht){ht&&this.fadeOutAllNonPersistent(),this._disabled=ht,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ht){this._trigger=ht,this._setupTriggerEventsIfEnabled()}constructor(ht,Ke,Ge,jt,kt){this._elementRef=ht,this._animationMode=kt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=jt||{},this._rippleRenderer=new yt(this,Ke,ht,Ge)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ht,Ke=0,Ge){return"number"==typeof ht?this._rippleRenderer.fadeInRipple(ht,Ke,{...this.rippleConfig,...Ge}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ht})}static#e=this.\u0275fac=function(Ke){return new(Ke||at)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(k.OD),g.rXU(D,8),g.rXU(g.bc$,8))};static#t=this.\u0275dir=g.FsC({type:at,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ke,Ge){2&Ke&&g.AVh("mat-ripple-unbounded",Ge.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return at})(),G=(()=>{class at{static#e=this.\u0275fac=function(Ke){return new(Ke||at)};static#t=this.\u0275mod=g.$C({type:at});static#n=this.\u0275inj=g.G2t({imports:[ve,ve]})}return at})(),fe=(()=>{class at{constructor(ht){this._animationMode=ht,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Ke){return new(Ke||at)(g.rXU(g.bc$,8))};static#t=this.\u0275cmp=g.VBU({type:at,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Ke,Ge){2&Ke&&g.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Ge.state)("mat-pseudo-checkbox-checked","checked"===Ge.state)("mat-pseudo-checkbox-disabled",Ge.disabled)("mat-pseudo-checkbox-minimal","minimal"===Ge.appearance)("mat-pseudo-checkbox-full","full"===Ge.appearance)("_mat-animation-noopable","NoopAnimations"===Ge._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[g.aNF],decls:0,vars:0,template:function(Ke,Ge){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return at})(),Se=(()=>{class at{static#e=this.\u0275fac=function(Ke){return new(Ke||at)};static#t=this.\u0275mod=g.$C({type:at});static#n=this.\u0275inj=g.G2t({imports:[ve]})}return at})();const Ae=new g.nKC("MAT_OPTION_PARENT_COMPONENT"),Gt=new g.nKC("MatOptgroup");let Bt=0;class en{constructor(pt,ht=!1){this.source=pt,this.isUserInput=ht}}let pn=(()=>{class at{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(ht){this._disabled=ht}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(ht,Ke,Ge,jt){this._element=ht,this._changeDetectorRef=Ke,this._parent=Ge,this.group=jt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Bt++,this.onSelectionChange=new g.bkB,this._stateChanges=new P.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(ht=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),ht&&this._emitSelectionChangeEvent())}deselect(ht=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),ht&&this._emitSelectionChangeEvent())}focus(ht,Ke){const Ge=this._getHostElement();"function"==typeof Ge.focus&&Ge.focus(Ke)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(ht){(ht.keyCode===R.Fm||ht.keyCode===R.t6)&&!(0,R.rp)(ht)&&(this._selectViaInteraction(),ht.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const ht=this.viewValue;ht!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=ht)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(ht=!1){this.onSelectionChange.emit(new en(this,ht))}static#e=this.\u0275fac=function(Ke){return new(Ke||at)(g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(Ae,8),g.rXU(Gt,8))};static#t=this.\u0275cmp=g.VBU({type:at,selectors:[["mat-option"]],viewQuery:function(Ke,Ge){if(1&Ke&&g.GBs(V,7),2&Ke){let jt;g.mGM(jt=g.lsd())&&(Ge._text=jt.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Ke,Ge){1&Ke&&g.bIt("click",function(){return Ge._selectViaInteraction()})("keydown",function(kt){return Ge._handleKeydown(kt)}),2&Ke&&(g.Mr5("id",Ge.id),g.BMQ("aria-selected",Ge.selected)("aria-disabled",Ge.disabled.toString()),g.AVh("mdc-list-item--selected",Ge.selected)("mat-mdc-option-multiple",Ge.multiple)("mat-mdc-option-active",Ge.active)("mdc-list-item--disabled",Ge.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",g.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:K,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Ke,Ge){1&Ke&&(g.NAR(U),g.DNE(0,Q,1,2,"mat-pseudo-checkbox",1),g.SdG(1),g.j41(2,"span",2,0),g.SdG(4,1),g.k0s(),g.DNE(5,q,1,1,"mat-pseudo-checkbox",3)(6,Y,2,1,"span",4),g.nrm(7,"div",5)),2&Ke&&(g.vxM(Ge.multiple?0:-1),g.R7$(5),g.vxM(Ge.multiple||!Ge.selected||Ge.hideSingleSelectionIndicator?-1:5),g.R7$(),g.vxM(Ge.group&&Ge.group._inert?6:-1),g.R7$(),g.Y8G("matRippleTrigger",Ge._getHostElement())("matRippleDisabled",Ge.disabled||Ge.disableRipple))},dependencies:[fe,M],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return at})();function cn(at,pt,ht){if(ht.length){let Ke=pt.toArray(),Ge=ht.toArray(),jt=0;for(let kt=0;kt<at+1;kt++)Ke[kt].group&&Ke[kt].group===Ge[jt]&&jt++;return jt}return 0}function tr(at,pt,ht,Ke){return at<ht?at:at+pt>ht+Ke?Math.max(0,at-Ke+pt):ht}let Mn=(()=>{class at{static#e=this.\u0275fac=function(Ke){return new(Ke||at)};static#t=this.\u0275mod=g.$C({type:at});static#n=this.\u0275inj=g.G2t({imports:[G,ve,Se]})}return at})();const on={capture:!0},Qt=["focus","mousedown","mouseenter","touchstart"],ut="mat-ripple-loader-uninitialized",st="mat-ripple-loader-class-name",Zt="mat-ripple-loader-centered",Xt="mat-ripple-loader-disabled";let rn=(()=>{class at{constructor(){this._document=(0,g.WQX)(b.qQ,{optional:!0}),this._animationMode=(0,g.WQX)(g.bc$,{optional:!0}),this._globalRippleOptions=(0,g.WQX)(D,{optional:!0}),this._platform=(0,g.WQX)(k.OD),this._ngZone=(0,g.WQX)(g.SKi),this._hosts=new Map,this._onInteraction=ht=>{const Ke=(0,k.Fb)(ht);if(Ke instanceof HTMLElement){const Ge=Ke.closest(`[${ut}="${this._globalRippleOptions?.namespace??""}"]`);Ge&&this._createRipple(Ge)}},this._ngZone.runOutsideAngular(()=>{for(const ht of Qt)this._document?.addEventListener(ht,this._onInteraction,on)})}ngOnDestroy(){const ht=this._hosts.keys();for(const Ke of ht)this.destroyRipple(Ke);for(const Ke of Qt)this._document?.removeEventListener(Ke,this._onInteraction,on)}configureRipple(ht,Ke){ht.setAttribute(ut,this._globalRippleOptions?.namespace??""),(Ke.className||!ht.hasAttribute(st))&&ht.setAttribute(st,Ke.className||""),Ke.centered&&ht.setAttribute(Zt,""),Ke.disabled&&ht.setAttribute(Xt,"")}getRipple(ht){return this._hosts.get(ht)||this._createRipple(ht)}setDisabled(ht,Ke){const Ge=this._hosts.get(ht);Ge?Ge.disabled=Ke:Ke?ht.setAttribute(Xt,""):ht.removeAttribute(Xt)}_createRipple(ht){if(!this._document)return;const Ke=this._hosts.get(ht);if(Ke)return Ke;ht.querySelector(".mat-ripple")?.remove();const Ge=this._document.createElement("span");Ge.classList.add("mat-ripple",ht.getAttribute(st)),ht.append(Ge);const jt=new M(new g.aKT(Ge),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return jt._isInitialized=!0,jt.trigger=ht,jt.centered=ht.hasAttribute(Zt),jt.disabled=ht.hasAttribute(Xt),this.attachRipple(ht,jt),jt}attachRipple(ht,Ke){ht.removeAttribute(ut),this._hosts.set(ht,Ke)}destroyRipple(ht){const Ke=this._hosts.get(ht);Ke&&(Ke.ngOnDestroy(),this._hosts.delete(ht))}static#e=this.\u0275fac=function(Ke){return new(Ke||at)};static#t=this.\u0275prov=g.jDH({token:at,factory:at.\u0275fac,providedIn:"root"})}return at})(),Zn=(()=>{class at{static#e=this.\u0275fac=function(Ke){return new(Ke||at)};static#t=this.\u0275cmp=g.VBU({type:at,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Ke,Ge){2&Ke&&g.AVh("mdc-form-field--align-end","before"===Ge.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[g.aNF],attrs:W,ngContentSelectors:re,decls:1,vars:0,template:function(Ke,Ge){1&Ke&&(g.NAR(),g.SdG(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}return at})()},71997:($e,j,E)=>{"use strict";E.d(j,{q:()=>H,w:()=>b});var g=E(93953),w=E(14085),B=E(86600);let H=(()=>{class k{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(P){this._vertical=(0,w.he)(P)}get inset(){return this._inset}set inset(P){this._inset=(0,w.he)(P)}static#e=this.\u0275fac=function(R){return new(R||k)};static#t=this.\u0275cmp=g.VBU({type:k,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(R,O){2&R&&(g.BMQ("aria-orientation",O.vertical?"vertical":"horizontal"),g.AVh("mat-divider-vertical",O.vertical)("mat-divider-horizontal",!O.vertical)("mat-divider-inset",O.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[g.aNF],decls:0,vars:0,template:function(R,O){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return k})(),b=(()=>{class k{static#e=this.\u0275fac=function(R){return new(R||k)};static#t=this.\u0275mod=g.$C({type:k});static#n=this.\u0275inj=g.G2t({imports:[B.yE,B.yE]})}return k})()},53719:($e,j,E)=>{"use strict";E.d(j,{MV:()=>Ze,RG:()=>Ae,TL:()=>we,nJ:()=>z,qT:()=>He,rl:()=>Se,xb:()=>ke,yw:()=>xe});var g=E(93953),w=E(28203),B=E(14085),H=E(36860),b=E(60177),k=E(18359),S=E(21413),P=E(57786),R=E(56977),O=E(98170),A=E(49969),V=E(72318),U=E(86600);const K=["notch"],Q=["matFormFieldNotchedOutline",""],q=["*"],Y=["textField"],W=["iconPrefixContainer"],re=["textPrefixContainer"],ie=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ae=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function ue(ot,Gt){1&ot&&g.nrm(0,"span",19)}function ce(ot,Gt){if(1&ot&&(g.j41(0,"label",18),g.SdG(1,1),g.DNE(2,ue,1,0,"span",19),g.k0s()),2&ot){const _t=g.XpG(2);g.Y8G("floating",_t._shouldLabelFloat())("monitorResize",_t._hasOutline())("id",_t._labelId),g.BMQ("for",_t._control.disableAutomaticLabeling?null:_t._control.id),g.R7$(2),g.vxM(!_t.hideRequiredMarker&&_t._control.required?2:-1)}}function pe(ot,Gt){if(1&ot&&g.DNE(0,ce,3,5,"label",18),2&ot){const _t=g.XpG();g.vxM(_t._hasFloatingLabel()?0:-1)}}function ve(ot,Gt){1&ot&&g.nrm(0,"div",5)}function De(ot,Gt){}function C(ot,Gt){if(1&ot&&g.DNE(0,De,0,0,"ng-template",11),2&ot){g.XpG(2);const _t=g.sdS(1);g.Y8G("ngTemplateOutlet",_t)}}function s(ot,Gt){if(1&ot&&(g.j41(0,"div",7),g.DNE(1,C,1,1,null,11),g.k0s()),2&ot){const _t=g.XpG();g.Y8G("matFormFieldNotchedOutlineOpen",_t._shouldLabelFloat()),g.R7$(),g.vxM(_t._forceDisplayInfixLabel()?-1:1)}}function d(ot,Gt){1&ot&&(g.j41(0,"div",8,2),g.SdG(2,2),g.k0s())}function h(ot,Gt){1&ot&&(g.j41(0,"div",9,3),g.SdG(2,3),g.k0s())}function f(ot,Gt){}function _(ot,Gt){if(1&ot&&g.DNE(0,f,0,0,"ng-template",11),2&ot){g.XpG();const _t=g.sdS(1);g.Y8G("ngTemplateOutlet",_t)}}function I(ot,Gt){1&ot&&(g.j41(0,"div",12),g.SdG(1,4),g.k0s())}function L(ot,Gt){1&ot&&(g.j41(0,"div",13),g.SdG(1,5),g.k0s())}function x(ot,Gt){1&ot&&g.nrm(0,"div",14)}function a(ot,Gt){if(1&ot&&(g.j41(0,"div",16),g.SdG(1,6),g.k0s()),2&ot){const _t=g.XpG();g.Y8G("@transitionMessages",_t._subscriptAnimationState)}}function v(ot,Gt){if(1&ot&&(g.j41(0,"mat-hint",20),g.EFF(1),g.k0s()),2&ot){const _t=g.XpG(2);g.Y8G("id",_t._hintLabelId),g.R7$(),g.JRh(_t.hintLabel)}}function Z(ot,Gt){if(1&ot&&(g.j41(0,"div",17),g.DNE(1,v,2,2,"mat-hint",20),g.SdG(2,7),g.nrm(3,"div",21),g.SdG(4,8),g.k0s()),2&ot){const _t=g.XpG();g.Y8G("@transitionMessages",_t._subscriptAnimationState),g.R7$(),g.vxM(_t.hintLabel?1:-1)}}let z=(()=>{class ot{static#e=this.\u0275fac=function(Bt){return new(Bt||ot)};static#t=this.\u0275dir=g.FsC({type:ot,selectors:[["mat-label"]],standalone:!0})}return ot})(),ee=0;const le=new g.nKC("MatError");let we=(()=>{class ot{constructor(_t,Bt){this.id="mat-mdc-error-"+ee++,_t||Bt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Bt){return new(Bt||ot)(g.kS0("aria-live"),g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:ot,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Bt,en){2&Bt&&g.Mr5("id",en.id)},inputs:{id:"id"},standalone:!0,features:[g.Jv_([{provide:le,useExisting:ot}])]})}return ot})(),Me=0,Ze=(()=>{class ot{constructor(){this.align="start",this.id="mat-mdc-hint-"+Me++}static#e=this.\u0275fac=function(Bt){return new(Bt||ot)};static#t=this.\u0275dir=g.FsC({type:ot,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Bt,en){2&Bt&&(g.Mr5("id",en.id),g.BMQ("align",null),g.AVh("mat-mdc-form-field-hint-end","end"===en.align))},inputs:{align:"align",id:"id"},standalone:!0})}return ot})();const ge=new g.nKC("MatPrefix"),Ue=new g.nKC("MatSuffix");let xe=(()=>{class ot{constructor(){this._isText=!1}set _isTextSelector(_t){this._isText=!0}static#e=this.\u0275fac=function(Bt){return new(Bt||ot)};static#t=this.\u0275dir=g.FsC({type:ot,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[g.Jv_([{provide:Ue,useExisting:ot}])]})}return ot})();const Ce=new g.nKC("FloatingLabelParent");let be=(()=>{class ot{get floating(){return this._floating}set floating(_t){this._floating=_t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(_t){this._monitorResize=_t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(_t){this._elementRef=_t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,g.WQX)(O.a),this._ngZone=(0,g.WQX)(g.SKi),this._parent=(0,g.WQX)(Ce),this._resizeSubscription=new k.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function he(ot){if(null!==ot.offsetParent)return ot.scrollWidth;const _t=ot.cloneNode(!0);_t.style.setProperty("position","absolute"),_t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(_t);const Bt=_t.scrollWidth;return _t.remove(),Bt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Bt){return new(Bt||ot)(g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:ot,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Bt,en){2&Bt&&g.AVh("mdc-floating-label--float-above",en.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return ot})();const ne="mdc-line-ripple--active",te="mdc-line-ripple--deactivating";let de=(()=>{class ot{constructor(_t,Bt){this._elementRef=_t,this._handleTransitionEnd=en=>{const pn=this._elementRef.nativeElement.classList,cn=pn.contains(te);"opacity"===en.propertyName&&cn&&pn.remove(ne,te)},Bt.runOutsideAngular(()=>{_t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const _t=this._elementRef.nativeElement.classList;_t.remove(te),_t.add(ne)}deactivate(){this._elementRef.nativeElement.classList.add(te)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Bt){return new(Bt||ot)(g.rXU(g.aKT),g.rXU(g.SKi))};static#t=this.\u0275dir=g.FsC({type:ot,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return ot})(),_e=(()=>{class ot{constructor(_t,Bt){this._elementRef=_t,this._ngZone=Bt,this.open=!1}ngAfterViewInit(){const _t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");_t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(_t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>_t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(_t){this._notch.nativeElement.style.width=this.open&&_t?`calc(${_t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Bt){return new(Bt||ot)(g.rXU(g.aKT),g.rXU(g.SKi))};static#t=this.\u0275cmp=g.VBU({type:ot,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Bt,en){if(1&Bt&&g.GBs(K,5),2&Bt){let pn;g.mGM(pn=g.lsd())&&(en._notch=pn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Bt,en){2&Bt&&g.AVh("mdc-notched-outline--notched",en.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[g.aNF],attrs:Q,ngContentSelectors:q,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(Bt,en){1&Bt&&(g.NAR(),g.nrm(0,"div",1),g.j41(1,"div",2,0),g.SdG(3),g.k0s(),g.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return ot})();const Ie={transitionMessages:(0,A.hZ)("transitionMessages",[(0,A.wk)("enter",(0,A.iF)({opacity:1,transform:"translateY(0%)"})),(0,A.kY)("void => enter",[(0,A.iF)({opacity:0,transform:"translateY(-5px)"}),(0,A.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let He=(()=>{class ot{static#e=this.\u0275fac=function(Bt){return new(Bt||ot)};static#t=this.\u0275dir=g.FsC({type:ot})}return ot})();const ke=new g.nKC("MatFormField"),yt=new g.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let F=0;const D="fill",G="fixed";let Se=(()=>{class ot{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(_t){this._hideRequiredMarker=(0,B.he)(_t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(_t){_t!==this._floatLabel&&(this._floatLabel=_t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(_t){const Bt=this._appearance;this._appearance=_t||this._defaults?.appearance||D,"outline"===this._appearance&&this._appearance!==Bt&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||G}set subscriptSizing(_t){this._subscriptSizing=_t||this._defaults?.subscriptSizing||G}get hintLabel(){return this._hintLabel}set hintLabel(_t){this._hintLabel=_t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(_t){this._explicitFormFieldControl=_t}constructor(_t,Bt,en,pn,cn,tr,Mn,on){this._elementRef=_t,this._changeDetectorRef=Bt,this._dir=pn,this._platform=cn,this._defaults=tr,this._animationMode=Mn,this._hideRequiredMarker=!1,this.color="primary",this._appearance=D,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+F++,this._hintLabelId="mat-mdc-hint-"+F++,this._subscriptAnimationState="",this._destroyed=new S.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,g.WQX)(g.zZn),tr&&(tr.appearance&&(this.appearance=tr.appearance),this._hideRequiredMarker=!!tr?.hideRequiredMarker,tr.color&&(this.color=tr.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const _t=this._control;_t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${_t.controlType}`),_t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),_t.ngControl&&_t.ngControl.valueChanges&&_t.ngControl.valueChanges.pipe((0,R.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(_t=>!_t._isText),this._hasTextPrefix=!!this._prefixChildren.find(_t=>_t._isText),this._hasIconSuffix=!!this._suffixChildren.find(_t=>!_t._isText),this._hasTextSuffix=!!this._suffixChildren.find(_t=>_t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,P.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,g.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,R.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(_t){const Bt=this._control?this._control.ngControl:null;return Bt&&Bt[_t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let _t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&_t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Bt=this._hintChildren?this._hintChildren.find(pn=>"start"===pn.align):null,en=this._hintChildren?this._hintChildren.find(pn=>"end"===pn.align):null;Bt?_t.push(Bt.id):this._hintLabel&&_t.push(this._hintLabelId),en&&_t.push(en.id)}else this._errorChildren&&_t.push(...this._errorChildren.map(Bt=>Bt.id));this._control.setDescribedByIds(_t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const _t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(_t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Bt=this._iconPrefixContainer?.nativeElement,en=this._textPrefixContainer?.nativeElement,pn=Bt?.getBoundingClientRect().width??0,cn=en?.getBoundingClientRect().width??0;_t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${pn+cn}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const _t=this._elementRef.nativeElement;if(_t.getRootNode){const Bt=_t.getRootNode();return Bt&&Bt!==_t}return document.documentElement.contains(_t)}static#e=this.\u0275fac=function(Bt){return new(Bt||ot)(g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(g.SKi),g.rXU(w.dS),g.rXU(H.OD),g.rXU(yt,8),g.rXU(g.bc$,8),g.rXU(b.qQ))};static#t=this.\u0275cmp=g.VBU({type:ot,selectors:[["mat-form-field"]],contentQueries:function(Bt,en,pn){if(1&Bt&&(g.wni(pn,z,5),g.wni(pn,z,7),g.wni(pn,He,5),g.wni(pn,ge,5),g.wni(pn,Ue,5),g.wni(pn,le,5),g.wni(pn,Ze,5)),2&Bt){let cn;g.mGM(cn=g.lsd())&&(en._labelChildNonStatic=cn.first),g.mGM(cn=g.lsd())&&(en._labelChildStatic=cn.first),g.mGM(cn=g.lsd())&&(en._formFieldControl=cn.first),g.mGM(cn=g.lsd())&&(en._prefixChildren=cn),g.mGM(cn=g.lsd())&&(en._suffixChildren=cn),g.mGM(cn=g.lsd())&&(en._errorChildren=cn),g.mGM(cn=g.lsd())&&(en._hintChildren=cn)}},viewQuery:function(Bt,en){if(1&Bt&&(g.GBs(Y,5),g.GBs(W,5),g.GBs(re,5),g.GBs(be,5),g.GBs(_e,5),g.GBs(de,5)),2&Bt){let pn;g.mGM(pn=g.lsd())&&(en._textField=pn.first),g.mGM(pn=g.lsd())&&(en._iconPrefixContainer=pn.first),g.mGM(pn=g.lsd())&&(en._textPrefixContainer=pn.first),g.mGM(pn=g.lsd())&&(en._floatingLabel=pn.first),g.mGM(pn=g.lsd())&&(en._notchedOutline=pn.first),g.mGM(pn=g.lsd())&&(en._lineRipple=pn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Bt,en){2&Bt&&g.AVh("mat-mdc-form-field-label-always-float",en._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",en._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",en._hasIconSuffix)("mat-form-field-invalid",en._control.errorState)("mat-form-field-disabled",en._control.disabled)("mat-form-field-autofilled",en._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===en._animationMode)("mat-form-field-appearance-fill","fill"==en.appearance)("mat-form-field-appearance-outline","outline"==en.appearance)("mat-form-field-hide-placeholder",en._hasFloatingLabel()&&!en._shouldLabelFloat())("mat-focused",en._control.focused)("mat-primary","accent"!==en.color&&"warn"!==en.color)("mat-accent","accent"===en.color)("mat-warn","warn"===en.color)("ng-untouched",en._shouldForward("untouched"))("ng-touched",en._shouldForward("touched"))("ng-pristine",en._shouldForward("pristine"))("ng-dirty",en._shouldForward("dirty"))("ng-valid",en._shouldForward("valid"))("ng-invalid",en._shouldForward("invalid"))("ng-pending",en._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[g.Jv_([{provide:ke,useExisting:ot},{provide:Ce,useExisting:ot}]),g.aNF],ngContentSelectors:ae,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Bt,en){if(1&Bt){const pn=g.RV6();g.NAR(ie),g.DNE(0,pe,1,1,"ng-template",null,0,g.C5r),g.j41(2,"div",4,1),g.bIt("click",function(tr){return g.eBV(pn),g.Njj(en._control.onContainerClick(tr))}),g.DNE(4,ve,1,0,"div",5),g.j41(5,"div",6),g.DNE(6,s,2,2,"div",7)(7,d,3,0,"div",8)(8,h,3,0,"div",9),g.j41(9,"div",10),g.DNE(10,_,1,1,null,11),g.SdG(11),g.k0s(),g.DNE(12,I,2,0,"div",12)(13,L,2,0,"div",13),g.k0s(),g.DNE(14,x,1,0,"div",14),g.k0s(),g.j41(15,"div",15),g.DNE(16,a,2,1,"div",16)(17,Z,5,2,"div",17),g.k0s()}if(2&Bt){let pn;g.R7$(2),g.AVh("mdc-text-field--filled",!en._hasOutline())("mdc-text-field--outlined",en._hasOutline())("mdc-text-field--no-label",!en._hasFloatingLabel())("mdc-text-field--disabled",en._control.disabled)("mdc-text-field--invalid",en._control.errorState),g.R7$(2),g.vxM(en._hasOutline()||en._control.disabled?-1:4),g.R7$(2),g.vxM(en._hasOutline()?6:-1),g.R7$(),g.vxM(en._hasIconPrefix?7:-1),g.R7$(),g.vxM(en._hasTextPrefix?8:-1),g.R7$(2),g.vxM(!en._hasOutline()||en._forceDisplayInfixLabel()?10:-1),g.R7$(2),g.vxM(en._hasTextSuffix?12:-1),g.R7$(),g.vxM(en._hasIconSuffix?13:-1),g.R7$(),g.vxM(en._hasOutline()?-1:14),g.R7$(),g.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===en.subscriptSizing),g.R7$(),g.vxM("error"===(pn=en._getDisplayedMessages())?16:"hint"===pn?17:-1)}},dependencies:[be,_e,b.T3,de,Ze],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ie.transitionMessages]},changeDetection:0})}return ot})(),Ae=(()=>{class ot{static#e=this.\u0275fac=function(Bt){return new(Bt||ot)};static#t=this.\u0275mod=g.$C({type:ot});static#n=this.\u0275inj=g.G2t({imports:[U.yE,b.MD,V.w5,U.yE]})}return ot})()},99213:($e,j,E)=>{"use strict";E.d(j,{An:()=>v,m_:()=>Z});var g=E(93953),w=E(86600),B=E(60177),H=E(7673),b=E(18810),k=E(27468),S=E(18359),P=E(88141),R=E(96354),O=E(99437),A=E(70980),V=E(97647),U=E(96697),K=E(21626),Q=E(345);const q=["*"];let Y;function re(z){return function W(){if(void 0===Y&&(Y=null,typeof window<"u")){const z=window;void 0!==z.trustedTypes&&(Y=z.trustedTypes.createPolicy("angular#components",{createHTML:ee=>ee}))}return Y}()?.createHTML(z)||z}function ie(z){return Error(`Unable to find icon with the name "${z}"`)}function ue(z){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${z}".`)}function ce(z){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${z}".`)}class pe{constructor(ee,le,we){this.url=ee,this.svgText=le,this.options=we}}let ve=(()=>{class z{constructor(le,we,Me,Ze){this._httpClient=le,this._sanitizer=we,this._errorHandler=Ze,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Me}addSvgIcon(le,we,Me){return this.addSvgIconInNamespace("",le,we,Me)}addSvgIconLiteral(le,we,Me){return this.addSvgIconLiteralInNamespace("",le,we,Me)}addSvgIconInNamespace(le,we,Me,Ze){return this._addSvgIconConfig(le,we,new pe(Me,null,Ze))}addSvgIconResolver(le){return this._resolvers.push(le),this}addSvgIconLiteralInNamespace(le,we,Me,Ze){const ge=this._sanitizer.sanitize(g.WPN.HTML,Me);if(!ge)throw ce(Me);const me=re(ge);return this._addSvgIconConfig(le,we,new pe("",me,Ze))}addSvgIconSet(le,we){return this.addSvgIconSetInNamespace("",le,we)}addSvgIconSetLiteral(le,we){return this.addSvgIconSetLiteralInNamespace("",le,we)}addSvgIconSetInNamespace(le,we,Me){return this._addSvgIconSetConfig(le,new pe(we,null,Me))}addSvgIconSetLiteralInNamespace(le,we,Me){const Ze=this._sanitizer.sanitize(g.WPN.HTML,we);if(!Ze)throw ce(we);const ge=re(Ze);return this._addSvgIconSetConfig(le,new pe("",ge,Me))}registerFontClassAlias(le,we=le){return this._fontCssClassesByAlias.set(le,we),this}classNameForFontAlias(le){return this._fontCssClassesByAlias.get(le)||le}setDefaultFontSetClass(...le){return this._defaultFontSetClass=le,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(le){const we=this._sanitizer.sanitize(g.WPN.RESOURCE_URL,le);if(!we)throw ue(le);const Me=this._cachedIconsByUrl.get(we);return Me?(0,H.of)(s(Me)):this._loadSvgIconFromConfig(new pe(le,null)).pipe((0,P.M)(Ze=>this._cachedIconsByUrl.set(we,Ze)),(0,R.T)(Ze=>s(Ze)))}getNamedSvgIcon(le,we=""){const Me=d(we,le);let Ze=this._svgIconConfigs.get(Me);if(Ze)return this._getSvgFromConfig(Ze);if(Ze=this._getIconConfigFromResolvers(we,le),Ze)return this._svgIconConfigs.set(Me,Ze),this._getSvgFromConfig(Ze);const ge=this._iconSetConfigs.get(we);return ge?this._getSvgFromIconSetConfigs(le,ge):(0,b.$)(ie(Me))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(le){return le.svgText?(0,H.of)(s(this._svgElementFromConfig(le))):this._loadSvgIconFromConfig(le).pipe((0,R.T)(we=>s(we)))}_getSvgFromIconSetConfigs(le,we){const Me=this._extractIconWithNameFromAnySet(le,we);if(Me)return(0,H.of)(Me);const Ze=we.filter(ge=>!ge.svgText).map(ge=>this._loadSvgIconSetFromConfig(ge).pipe((0,O.W)(me=>{const xe=`Loading icon set URL: ${this._sanitizer.sanitize(g.WPN.RESOURCE_URL,ge.url)} failed: ${me.message}`;return this._errorHandler.handleError(new Error(xe)),(0,H.of)(null)})));return(0,k.p)(Ze).pipe((0,R.T)(()=>{const ge=this._extractIconWithNameFromAnySet(le,we);if(!ge)throw ie(le);return ge}))}_extractIconWithNameFromAnySet(le,we){for(let Me=we.length-1;Me>=0;Me--){const Ze=we[Me];if(Ze.svgText&&Ze.svgText.toString().indexOf(le)>-1){const ge=this._svgElementFromConfig(Ze),me=this._extractSvgIconFromSet(ge,le,Ze.options);if(me)return me}}return null}_loadSvgIconFromConfig(le){return this._fetchIcon(le).pipe((0,P.M)(we=>le.svgText=we),(0,R.T)(()=>this._svgElementFromConfig(le)))}_loadSvgIconSetFromConfig(le){return le.svgText?(0,H.of)(null):this._fetchIcon(le).pipe((0,P.M)(we=>le.svgText=we))}_extractSvgIconFromSet(le,we,Me){const Ze=le.querySelector(`[id="${we}"]`);if(!Ze)return null;const ge=Ze.cloneNode(!0);if(ge.removeAttribute("id"),"svg"===ge.nodeName.toLowerCase())return this._setSvgAttributes(ge,Me);if("symbol"===ge.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ge),Me);const me=this._svgElementFromString(re("<svg></svg>"));return me.appendChild(ge),this._setSvgAttributes(me,Me)}_svgElementFromString(le){const we=this._document.createElement("DIV");we.innerHTML=le;const Me=we.querySelector("svg");if(!Me)throw Error("<svg> tag not found");return Me}_toSvgElement(le){const we=this._svgElementFromString(re("<svg></svg>")),Me=le.attributes;for(let Ze=0;Ze<Me.length;Ze++){const{name:ge,value:me}=Me[Ze];"id"!==ge&&we.setAttribute(ge,me)}for(let Ze=0;Ze<le.childNodes.length;Ze++)le.childNodes[Ze].nodeType===this._document.ELEMENT_NODE&&we.appendChild(le.childNodes[Ze].cloneNode(!0));return we}_setSvgAttributes(le,we){return le.setAttribute("fit",""),le.setAttribute("height","100%"),le.setAttribute("width","100%"),le.setAttribute("preserveAspectRatio","xMidYMid meet"),le.setAttribute("focusable","false"),we&&we.viewBox&&le.setAttribute("viewBox",we.viewBox),le}_fetchIcon(le){const{url:we,options:Me}=le,Ze=Me?.withCredentials??!1;if(!this._httpClient)throw function ae(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==we)throw Error(`Cannot fetch icon from URL "${we}".`);const ge=this._sanitizer.sanitize(g.WPN.RESOURCE_URL,we);if(!ge)throw ue(we);const me=this._inProgressUrlFetches.get(ge);if(me)return me;const Ue=this._httpClient.get(ge,{responseType:"text",withCredentials:Ze}).pipe((0,R.T)(xe=>re(xe)),(0,A.j)(()=>this._inProgressUrlFetches.delete(ge)),(0,V.u)());return this._inProgressUrlFetches.set(ge,Ue),Ue}_addSvgIconConfig(le,we,Me){return this._svgIconConfigs.set(d(le,we),Me),this}_addSvgIconSetConfig(le,we){const Me=this._iconSetConfigs.get(le);return Me?Me.push(we):this._iconSetConfigs.set(le,[we]),this}_svgElementFromConfig(le){if(!le.svgElement){const we=this._svgElementFromString(le.svgText);this._setSvgAttributes(we,le.options),le.svgElement=we}return le.svgElement}_getIconConfigFromResolvers(le,we){for(let Me=0;Me<this._resolvers.length;Me++){const Ze=this._resolvers[Me](we,le);if(Ze)return h(Ze)?new pe(Ze.url,null,Ze.options):new pe(Ze,null)}}static#e=this.\u0275fac=function(we){return new(we||z)(g.KVO(K.Qq,8),g.KVO(Q.up),g.KVO(B.qQ,8),g.KVO(g.zcH))};static#t=this.\u0275prov=g.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();function s(z){return z.cloneNode(!0)}function d(z,ee){return z+":"+ee}function h(z){return!(!z.url||!z.options)}const f=new g.nKC("MAT_ICON_DEFAULT_OPTIONS"),_=new g.nKC("mat-icon-location",{providedIn:"root",factory:function I(){const z=(0,g.WQX)(B.qQ),ee=z?z.location:null;return{getPathname:()=>ee?ee.pathname+ee.search:""}}}),L=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],x=L.map(z=>`[${z}]`).join(", "),a=/^url\(['"]?#(.*?)['"]?\)$/;let v=(()=>{class z{get color(){return this._color||this._defaultColor}set color(le){this._color=le}get svgIcon(){return this._svgIcon}set svgIcon(le){le!==this._svgIcon&&(le?this._updateSvgIcon(le):this._svgIcon&&this._clearSvgElement(),this._svgIcon=le)}get fontSet(){return this._fontSet}set fontSet(le){const we=this._cleanupFontValue(le);we!==this._fontSet&&(this._fontSet=we,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(le){const we=this._cleanupFontValue(le);we!==this._fontIcon&&(this._fontIcon=we,this._updateFontIconClasses())}constructor(le,we,Me,Ze,ge,me){this._elementRef=le,this._iconRegistry=we,this._location=Ze,this._errorHandler=ge,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=S.yU.EMPTY,me&&(me.color&&(this.color=this._defaultColor=me.color),me.fontSet&&(this.fontSet=me.fontSet)),Me||le.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(le){if(!le)return["",""];const we=le.split(":");switch(we.length){case 1:return["",we[0]];case 2:return we;default:throw Error(`Invalid icon name: "${le}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const le=this._elementsWithExternalReferences;if(le&&le.size){const we=this._location.getPathname();we!==this._previousPath&&(this._previousPath=we,this._prependPathToReferences(we))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(le){this._clearSvgElement();const we=this._location.getPathname();this._previousPath=we,this._cacheChildrenWithExternalReferences(le),this._prependPathToReferences(we),this._elementRef.nativeElement.appendChild(le)}_clearSvgElement(){const le=this._elementRef.nativeElement;let we=le.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();we--;){const Me=le.childNodes[we];(1!==Me.nodeType||"svg"===Me.nodeName.toLowerCase())&&Me.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const le=this._elementRef.nativeElement,we=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Me=>Me.length>0);this._previousFontSetClass.forEach(Me=>le.classList.remove(Me)),we.forEach(Me=>le.classList.add(Me)),this._previousFontSetClass=we,this.fontIcon!==this._previousFontIconClass&&!we.includes("mat-ligature-font")&&(this._previousFontIconClass&&le.classList.remove(this._previousFontIconClass),this.fontIcon&&le.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(le){return"string"==typeof le?le.trim().split(" ")[0]:le}_prependPathToReferences(le){const we=this._elementsWithExternalReferences;we&&we.forEach((Me,Ze)=>{Me.forEach(ge=>{Ze.setAttribute(ge.name,`url('${le}#${ge.value}')`)})})}_cacheChildrenWithExternalReferences(le){const we=le.querySelectorAll(x),Me=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ze=0;Ze<we.length;Ze++)L.forEach(ge=>{const me=we[Ze],Ue=me.getAttribute(ge),xe=Ue?Ue.match(a):null;if(xe){let Ce=Me.get(me);Ce||(Ce=[],Me.set(me,Ce)),Ce.push({name:ge,value:xe[1]})}})}_updateSvgIcon(le){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),le){const[we,Me]=this._splitIconName(le);we&&(this._svgNamespace=we),Me&&(this._svgName=Me),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Me,we).pipe((0,U.s)(1)).subscribe(Ze=>this._setSvgElement(Ze),Ze=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${we}:${Me}! ${Ze.message}`))})}}static#e=this.\u0275fac=function(we){return new(we||z)(g.rXU(g.aKT),g.rXU(ve),g.kS0("aria-hidden"),g.rXU(_),g.rXU(g.zcH),g.rXU(f,8))};static#t=this.\u0275cmp=g.VBU({type:z,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(we,Me){2&we&&(g.BMQ("data-mat-icon-type",Me._usingFontIcon()?"font":"svg")("data-mat-icon-name",Me._svgName||Me.fontIcon)("data-mat-icon-namespace",Me._svgNamespace||Me.fontSet)("fontIcon",Me._usingFontIcon()?Me.fontIcon:null),g.HbH(Me.color?"mat-"+Me.color:""),g.AVh("mat-icon-inline",Me.inline)("mat-icon-no-color","primary"!==Me.color&&"accent"!==Me.color&&"warn"!==Me.color))},inputs:{color:"color",inline:[2,"inline","inline",g.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(we,Me){1&we&&(g.NAR(),g.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return z})(),Z=(()=>{class z{static#e=this.\u0275fac=function(we){return new(we||z)};static#t=this.\u0275mod=g.$C({type:z});static#n=this.\u0275inj=g.G2t({imports:[w.yE,w.yE]})}return z})()},99631:($e,j,E)=>{"use strict";E.d(j,{fg:()=>W,fS:()=>re});var g=E(14085),w=E(36860),B=E(93953),H=E(983),b=E(21413);const k=(0,w.BQ)({passive:!0});let S=(()=>{class ie{constructor(ue,ce){this._platform=ue,this._ngZone=ce,this._monitoredElements=new Map}monitor(ue){if(!this._platform.isBrowser)return H.w;const ce=(0,g.i8)(ue),pe=this._monitoredElements.get(ce);if(pe)return pe.subject;const ve=new b.B,De="cdk-text-field-autofilled",C=s=>{"cdk-text-field-autofill-start"!==s.animationName||ce.classList.contains(De)?"cdk-text-field-autofill-end"===s.animationName&&ce.classList.contains(De)&&(ce.classList.remove(De),this._ngZone.run(()=>ve.next({target:s.target,isAutofilled:!1}))):(ce.classList.add(De),this._ngZone.run(()=>ve.next({target:s.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ce.addEventListener("animationstart",C,k),ce.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ce,{subject:ve,unlisten:()=>{ce.removeEventListener("animationstart",C,k)}}),ve}stopMonitoring(ue){const ce=(0,g.i8)(ue),pe=this._monitoredElements.get(ce);pe&&(pe.unlisten(),pe.subject.complete(),ce.classList.remove("cdk-text-field-autofill-monitored"),ce.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ce))}ngOnDestroy(){this._monitoredElements.forEach((ue,ce)=>this.stopMonitoring(ce))}static#e=this.\u0275fac=function(ce){return new(ce||ie)(B.KVO(w.OD),B.KVO(B.SKi))};static#t=this.\u0275prov=B.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})(),O=(()=>{class ie{static#e=this.\u0275fac=function(ce){return new(ce||ie)};static#t=this.\u0275mod=B.$C({type:ie});static#n=this.\u0275inj=B.G2t({})}return ie})();var A=E(89417),V=E(86600),U=E(53719);const Q=new B.nKC("MAT_INPUT_VALUE_ACCESSOR"),q=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Y=0,W=(()=>{class ie{get disabled(){return this._disabled}set disabled(ue){this._disabled=(0,g.he)(ue),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(ue){this._id=ue||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(A.k0.required)??!1}set required(ue){this._required=(0,g.he)(ue)}get type(){return this._type}set type(ue){this._type=ue||"text",this._validateType(),!this._isTextarea&&(0,w.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ue){this._errorStateTracker.matcher=ue}get value(){return this._inputValueAccessor.value}set value(ue){ue!==this.value&&(this._inputValueAccessor.value=ue,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(ue){this._readonly=(0,g.he)(ue)}get errorState(){return this._errorStateTracker.errorState}set errorState(ue){this._errorStateTracker.errorState=ue}constructor(ue,ce,pe,ve,De,C,s,d,h,f){this._elementRef=ue,this._platform=ce,this.ngControl=pe,this._autofillMonitor=d,this._formField=f,this._uid="mat-input-"+Y++,this.focused=!1,this.stateChanges=new b.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(L=>(0,w.MU)().has(L)),this._iOSKeyupListener=L=>{const x=L.target;!x.value&&0===x.selectionStart&&0===x.selectionEnd&&(x.setSelectionRange(1,1),x.setSelectionRange(0,0))};const _=this._elementRef.nativeElement,I=_.nodeName.toLowerCase();this._inputValueAccessor=s||_,this._previousNativeValue=this.value,this.id=this.id,ce.IOS&&h.runOutsideAngular(()=>{ue.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new V.X0(C,pe,De,ve,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===I,this._isTextarea="textarea"===I,this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=_.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(ue=>{this.autofilled=ue.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(ue){this._elementRef.nativeElement.focus(ue)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(ue){ue!==this.focused&&(this.focused=ue,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const ue=this._elementRef.nativeElement.value;this._previousNativeValue!==ue&&(this._previousNativeValue=ue,this.stateChanges.next())}_dirtyCheckPlaceholder(){const ue=this._getPlaceholder();if(ue!==this._previousPlaceholder){const ce=this._elementRef.nativeElement;this._previousPlaceholder=ue,ue?ce.setAttribute("placeholder",ue):ce.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){q.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let ue=this._elementRef.nativeElement.validity;return ue&&ue.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const ue=this._elementRef.nativeElement,ce=ue.options[0];return this.focused||ue.multiple||!this.empty||!!(ue.selectedIndex>-1&&ce&&ce.label)}return this.focused||!this.empty}setDescribedByIds(ue){ue.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ue.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const ue=this._elementRef.nativeElement;return this._isNativeSelect&&(ue.multiple||ue.size>1)}static#e=this.\u0275fac=function(ce){return new(ce||ie)(B.rXU(B.aKT),B.rXU(w.OD),B.rXU(A.vO,10),B.rXU(A.cV,8),B.rXU(A.j4,8),B.rXU(V.es),B.rXU(Q,10),B.rXU(S),B.rXU(B.SKi),B.rXU(U.xb,8))};static#t=this.\u0275dir=B.FsC({type:ie,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(ce,pe){1&ce&&B.bIt("focus",function(){return pe._focusChanged(!0)})("blur",function(){return pe._focusChanged(!1)})("input",function(){return pe._onInput()}),2&ce&&(B.Mr5("id",pe.id)("disabled",pe.disabled)("required",pe.required),B.BMQ("name",pe.name||null)("readonly",pe.readonly&&!pe._isNativeSelect||null)("aria-invalid",pe.empty&&pe.required?null:pe.errorState)("aria-required",pe.required)("id",pe.id),B.AVh("mat-input-server",pe._isServer)("mat-mdc-form-field-textarea-control",pe._isInFormField&&pe._isTextarea)("mat-mdc-form-field-input-control",pe._isInFormField)("mdc-text-field__input",pe._isInFormField)("mat-mdc-native-select-inline",pe._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[B.Jv_([{provide:U.qT,useExisting:ie}]),B.OA$]})}return ie})(),re=(()=>{class ie{static#e=this.\u0275fac=function(ce){return new(ce||ie)};static#t=this.\u0275mod=B.$C({type:ie});static#n=this.\u0275inj=B.G2t({imports:[V.yE,U.RG,U.RG,O,V.yE]})}return ie})()},3902:($e,j,E)=>{"use strict";E.d(j,{C_:()=>le,EI:()=>Ie,Fg:()=>yt,YE:()=>te,ZV:()=>ge,_L:()=>Ve,jt:()=>ne,yE:()=>ee,zi:()=>Ze});var g=E(93953),w=E(14085),B=E(36860),H=E(86600),b=E(18359),k=E(57786),P=(E(21413),E(72318)),R=E(60177),O=E(71997);E(18617),E(45024),E(67336),E(89417),E(56977);const q=["*"],Y='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',W=["unscopedContent"],re=["text"],ie=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ae=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],z=new g.nKC("ListOption");let ee=(()=>{class F{constructor(M){this._elementRef=M}static#e=this.\u0275fac=function(G){return new(G||F)(g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return F})(),le=(()=>{class F{constructor(M){this._elementRef=M}static#e=this.\u0275fac=function(G){return new(G||F)(g.rXU(g.aKT))};static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return F})(),we=(()=>{class F{static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return F})(),Me=(()=>{class F{constructor(M){this._listOption=M}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(G){return new(G||F)(g.rXU(z,8))};static#t=this.\u0275dir=g.FsC({type:F,hostVars:4,hostBindings:function(G,fe){2&G&&g.AVh("mdc-list-item__start",fe._isAlignedAtStart())("mdc-list-item__end",!fe._isAlignedAtStart())},standalone:!0})}return F})(),Ze=(()=>{class F extends Me{static#e=this.\u0275fac=(()=>{let M;return function(fe){return(M||(M=g.xGo(F)))(fe||F)}})();static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[g.Vt3]})}return F})(),ge=(()=>{class F extends Me{static#e=this.\u0275fac=(()=>{let M;return function(fe){return(M||(M=g.xGo(F)))(fe||F)}})();static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[g.Vt3]})}return F})();const me=new g.nKC("MAT_LIST_CONFIG");let Ue=(()=>{class F{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,g.WQX)(me,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(M){this._disableRipple=(0,w.he)(M)}get disabled(){return this._disabled}set disabled(M){this._disabled=(0,w.he)(M)}static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275dir=g.FsC({type:F,hostVars:1,hostBindings:function(G,fe){2&G&&g.BMQ("aria-disabled",fe.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return F})(),xe=(()=>{class F{set lines(M){this._explicitLines=(0,w.OE)(M,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(M){this._disableRipple=(0,w.he)(M)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(M){this._disabled=(0,w.he)(M)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(M,G,fe,Se,Ae,ot){this._elementRef=M,this._ngZone=G,this._listBase=fe,this._platform=Se,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new b.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=Ae||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===ot,fe&&!fe._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new H.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,k.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(M){if(!this._lines||!this._titles||!this._unscopedContent)return;M&&this._checkDomForUnscopedTextContent();const G=this._explicitLines??this._inferLinesFromContent(),fe=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",G<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",G<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===G),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===G),this._hasUnscopedTextContent){const Se=0===this._titles.length&&1===G;fe.classList.toggle("mdc-list-item__primary-text",Se),fe.classList.toggle("mdc-list-item__secondary-text",!Se)}else fe.classList.remove("mdc-list-item__primary-text"),fe.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let M=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(M+=1),M}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(M=>M.nodeType!==M.COMMENT_NODE).some(M=>!(!M.textContent||!M.textContent.trim()))}static#e=this.\u0275fac=function(G){return new(G||F)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(Ue,8),g.rXU(B.OD),g.rXU(H.$E,8),g.rXU(g.bc$,8))};static#t=this.\u0275dir=g.FsC({type:F,contentQueries:function(G,fe,Se){if(1&G&&(g.wni(Se,Ze,4),g.wni(Se,ge,4)),2&G){let Ae;g.mGM(Ae=g.lsd())&&(fe._avatars=Ae),g.mGM(Ae=g.lsd())&&(fe._icons=Ae)}},hostVars:4,hostBindings:function(G,fe){2&G&&(g.BMQ("aria-disabled",fe.disabled)("disabled",fe._isButtonElement&&fe.disabled||null),g.AVh("mdc-list-item--disabled",fe.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return F})(),ne=(()=>{class F extends Ue{static#e=this.\u0275fac=(()=>{let M;return function(fe){return(M||(M=g.xGo(F)))(fe||F)}})();static#t=this.\u0275cmp=g.VBU({type:F,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[g.Jv_([{provide:Ue,useExisting:F}]),g.Vt3,g.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(G,fe){1&G&&(g.NAR(),g.SdG(0))},styles:[Y],encapsulation:2,changeDetection:0})}return F})(),te=(()=>{class F extends xe{get activated(){return this._activated}set activated(M){this._activated=(0,w.he)(M)}constructor(M,G,fe,Se,Ae,ot){super(M,G,fe,Se,Ae,ot),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(G){return new(G||F)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(Ue,8),g.rXU(B.OD),g.rXU(H.$E,8),g.rXU(g.bc$,8))};static#t=this.\u0275cmp=g.VBU({type:F,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(G,fe,Se){if(1&G&&(g.wni(Se,le,5),g.wni(Se,ee,5),g.wni(Se,we,5)),2&G){let Ae;g.mGM(Ae=g.lsd())&&(fe._lines=Ae),g.mGM(Ae=g.lsd())&&(fe._titles=Ae),g.mGM(Ae=g.lsd())&&(fe._meta=Ae)}},viewQuery:function(G,fe){if(1&G&&(g.GBs(W,5),g.GBs(re,5)),2&G){let Se;g.mGM(Se=g.lsd())&&(fe._unscopedContent=Se.first),g.mGM(Se=g.lsd())&&(fe._itemText=Se.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(G,fe){2&G&&(g.BMQ("aria-current",fe._getAriaCurrent()),g.AVh("mdc-list-item--activated",fe.activated)("mdc-list-item--with-leading-avatar",0!==fe._avatars.length)("mdc-list-item--with-leading-icon",0!==fe._icons.length)("mdc-list-item--with-trailing-meta",0!==fe._meta.length)("_mat-animation-noopable",fe._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[g.Vt3,g.aNF],ngContentSelectors:ae,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(G,fe){if(1&G){const Se=g.RV6();g.NAR(ie),g.SdG(0),g.j41(1,"span",1),g.SdG(2,1),g.SdG(3,2),g.j41(4,"span",2,0),g.bIt("cdkObserveContent",function(){return g.eBV(Se),g.Njj(fe._updateItemLines(!0))}),g.SdG(6,3),g.k0s()(),g.SdG(7,4),g.SdG(8,5),g.nrm(9,"div",3)}},dependencies:[P.Wv],encapsulation:2,changeDetection:0})}return F})(),Ie=(()=>{class F{static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return F})(),Ve=(()=>{class F extends Ue{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let M;return function(fe){return(M||(M=g.xGo(F)))(fe||F)}})();static#t=this.\u0275cmp=g.VBU({type:F,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[g.Jv_([{provide:Ue,useExisting:F}]),g.Vt3,g.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(G,fe){1&G&&(g.NAR(),g.SdG(0))},styles:[Y],encapsulation:2,changeDetection:0})}return F})(),yt=(()=>{class F{static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275mod=g.$C({type:F});static#n=this.\u0275inj=g.G2t({imports:[P.w5,R.MD,H.yE,H.pZ,H.O5,O.w]})}return F})()},59115:($e,j,E)=>{"use strict";E.d(j,{Cn:()=>Ce,Cp:()=>xe,fb:()=>h,kk:()=>we});var g=E(93953),w=E(18617),B=E(67336),H=E(21413),b=E(57786),k=E(18359),S=E(7673),P=E(25007),R=E(99172),O=E(25558),A=E(56977),V=E(5964),U=E(96697),K=E(91986),Q=E(60177),q=E(86600),Y=E(76939),W=E(49969),re=E(28203),ie=E(66969),ae=E(36860),ue=E(67333);const ce=["mat-menu-item",""],pe=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],ve=["mat-icon, [matMenuItemIcon]","*"];function De(be,he){1&be&&(g.qSk(),g.j41(0,"svg",2),g.nrm(1,"polygon",3),g.k0s())}const C=["*"];function s(be,he){if(1&be){const ne=g.RV6();g.j41(0,"div",0),g.bIt("keydown",function(de){g.eBV(ne);const _e=g.XpG();return g.Njj(_e._handleKeydown(de))})("click",function(){g.eBV(ne);const de=g.XpG();return g.Njj(de.closed.emit("click"))})("@transformMenu.start",function(de){g.eBV(ne);const _e=g.XpG();return g.Njj(_e._onAnimationStart(de))})("@transformMenu.done",function(de){g.eBV(ne);const _e=g.XpG();return g.Njj(_e._onAnimationDone(de))}),g.j41(1,"div",1),g.SdG(2),g.k0s()()}if(2&be){const ne=g.XpG();g.HbH(ne._classList),g.Y8G("id",ne.panelId)("@transformMenu",ne._panelAnimationState),g.BMQ("aria-label",ne.ariaLabel||null)("aria-labelledby",ne.ariaLabelledby||null)("aria-describedby",ne.ariaDescribedby||null)}}const d=new g.nKC("MAT_MENU_PANEL");let h=(()=>{class be{constructor(ne,te,de,_e,Ie){this._elementRef=ne,this._document=te,this._focusMonitor=de,this._parentMenu=_e,this._changeDetectorRef=Ie,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new H.B,this._focused=new H.B,this._highlighted=!1,this._triggersSubmenu=!1,_e?.addItem?.(this)}focus(ne,te){this._focusMonitor&&ne?this._focusMonitor.focusVia(this._getHostElement(),ne,te):this._getHostElement().focus(te),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ne){this.disabled&&(ne.preventDefault(),ne.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const ne=this._elementRef.nativeElement.cloneNode(!0),te=ne.querySelectorAll("mat-icon, .material-icons");for(let de=0;de<te.length;de++)te[de].remove();return ne.textContent?.trim()||""}_setHighlighted(ne){this._highlighted=ne,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(ne){this._triggersSubmenu=ne,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(te){return new(te||be)(g.rXU(g.aKT),g.rXU(Q.qQ),g.rXU(w.FN),g.rXU(d,8),g.rXU(g.gRc))};static#t=this.\u0275cmp=g.VBU({type:be,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(te,de){1&te&&g.bIt("click",function(Ie){return de._checkDisabled(Ie)})("mouseenter",function(){return de._handleMouseEnter()}),2&te&&(g.BMQ("role",de.role)("tabindex",de._getTabIndex())("aria-disabled",de.disabled)("disabled",de.disabled||null),g.AVh("mat-mdc-menu-item-highlighted",de._highlighted)("mat-mdc-menu-item-submenu-trigger",de._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",g.L39],disableRipple:[2,"disableRipple","disableRipple",g.L39]},exportAs:["matMenuItem"],standalone:!0,features:[g.GFd,g.aNF],attrs:ce,ngContentSelectors:ve,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(te,de){1&te&&(g.NAR(pe),g.SdG(0),g.j41(1,"span",0),g.SdG(2,1),g.k0s(),g.nrm(3,"div",1),g.DNE(4,De,2,0,":svg:svg",2)),2&te&&(g.R7$(3),g.Y8G("matRippleDisabled",de.disableRipple||de.disabled)("matRippleTrigger",de._getHostElement()),g.R7$(),g.vxM(de._triggersSubmenu?4:-1))},dependencies:[q.r6],encapsulation:2,changeDetection:0})}return be})();const L=new g.nKC("MatMenuContent"),a={transformMenu:(0,W.hZ)("transformMenu",[(0,W.wk)("void",(0,W.iF)({opacity:0,transform:"scale(0.8)"})),(0,W.kY)("void => enter",(0,W.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,W.iF)({opacity:1,transform:"scale(1)"}))),(0,W.kY)("* => void",(0,W.i0)("100ms 25ms linear",(0,W.iF)({opacity:0})))]),fadeInItems:(0,W.hZ)("fadeInItems",[(0,W.wk)("showing",(0,W.iF)({opacity:1})),(0,W.kY)("void => *",[(0,W.iF)({opacity:0}),(0,W.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let z=0;const ee=new g.nKC("mat-menu-default-options",{providedIn:"root",factory:function le(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let we=(()=>{class be{get xPosition(){return this._xPosition}set xPosition(ne){this._xPosition=ne,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ne){this._yPosition=ne,this.setPositionClasses()}set panelClass(ne){const te=this._previousPanelClass,de={...this._classList};te&&te.length&&te.split(" ").forEach(_e=>{de[_e]=!1}),this._previousPanelClass=ne,ne&&ne.length&&(ne.split(" ").forEach(_e=>{de[_e]=!0}),this._elementRef.nativeElement.className=""),this._classList=de}get classList(){return this.panelClass}set classList(ne){this.panelClass=ne}constructor(ne,te,de,_e){this._elementRef=ne,this._changeDetectorRef=_e,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new g.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new H.B,this.closed=new g.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+z++,this._injector=(0,g.WQX)(g.zZn),this.overlayPanelClass=de.overlayPanelClass||"",this._xPosition=de.xPosition,this._yPosition=de.yPosition,this.backdropClass=de.backdropClass,this.overlapTrigger=de.overlapTrigger,this.hasBackdrop=de.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new w.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,R.Z)(this._directDescendantItems),(0,O.n)(ne=>(0,b.h)(...ne.map(te=>te._focused)))).subscribe(ne=>this._keyManager.updateActiveItem(ne)),this._directDescendantItems.changes.subscribe(ne=>{const te=this._keyManager;if("enter"===this._panelAnimationState&&te.activeItem?._hasFocus()){const de=ne.toArray(),_e=Math.max(0,Math.min(de.length-1,te.activeItemIndex||0));de[_e]&&!de[_e].disabled?te.setActiveItem(_e):te.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,R.Z)(this._directDescendantItems),(0,O.n)(te=>(0,b.h)(...te.map(de=>de._hovered))))}addItem(ne){}removeItem(ne){}_handleKeydown(ne){const te=ne.keyCode,de=this._keyManager;switch(te){case B._f:(0,B.rp)(ne)||(ne.preventDefault(),this.closed.emit("keydown"));break;case B.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case B.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(te===B.i7||te===B.n6)&&de.setFocusOrigin("keyboard"),void de.onKeydown(ne)}ne.stopPropagation()}focusFirstItem(ne="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,g.mal)(()=>{let te=null;if(this._directDescendantItems.length&&(te=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!te||!te.contains(document.activeElement)){const de=this._keyManager;de.setFocusOrigin(ne).setFirstItemActive(),!de.activeItem&&te&&te.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ne){if(null===this._baseElevation){const He=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(He)}const te=Math.min(this._baseElevation+ne,24),de=`${this._elevationPrefix}${te}`,_e=Object.keys(this._classList).find(Ie=>Ie.startsWith(this._elevationPrefix));if(!_e||_e===this._previousElevation){const Ie={...this._classList};this._previousElevation&&(Ie[this._previousElevation]=!1),Ie[de]=!0,this._previousElevation=de,this._classList=Ie}}setPositionClasses(ne=this.xPosition,te=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===ne,"mat-menu-after":"after"===ne,"mat-menu-above":"above"===te,"mat-menu-below":"below"===te},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ne){this._animationDone.next(ne),this._isAnimating=!1}_onAnimationStart(ne){this._isAnimating=!0,"enter"===ne.toState&&0===this._keyManager.activeItemIndex&&(ne.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,R.Z)(this._allItems)).subscribe(ne=>{this._directDescendantItems.reset(ne.filter(te=>te._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(te){return new(te||be)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(ee),g.rXU(g.gRc))};static#t=this.\u0275cmp=g.VBU({type:be,selectors:[["mat-menu"]],contentQueries:function(te,de,_e){if(1&te&&(g.wni(_e,L,5),g.wni(_e,h,5),g.wni(_e,h,4)),2&te){let Ie;g.mGM(Ie=g.lsd())&&(de.lazyContent=Ie.first),g.mGM(Ie=g.lsd())&&(de._allItems=Ie),g.mGM(Ie=g.lsd())&&(de.items=Ie)}},viewQuery:function(te,de){if(1&te&&g.GBs(g.C4Q,5),2&te){let _e;g.mGM(_e=g.lsd())&&(de.templateRef=_e.first)}},hostVars:3,hostBindings:function(te,de){2&te&&g.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",g.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",ne=>null==ne?null:(0,g.L39)(ne)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[g.Jv_([{provide:d,useExisting:be}]),g.GFd,g.aNF],ngContentSelectors:C,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(te,de){1&te&&(g.NAR(),g.DNE(0,s,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[a.transformMenu,a.fadeInItems]},changeDetection:0})}return be})();const Me=new g.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const be=(0,g.WQX)(ie.hJ);return()=>be.scrollStrategies.reposition()}}),ge={provide:Me,deps:[ie.hJ],useFactory:function Ze(be){return()=>be.scrollStrategies.reposition()}},me=(0,ae.BQ)({passive:!0});let xe=(()=>{class be{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ne){this.menu=ne}get menu(){return this._menu}set menu(ne){ne!==this._menu&&(this._menu=ne,this._menuCloseSubscription.unsubscribe(),ne&&(this._menuCloseSubscription=ne.close.subscribe(te=>{this._destroyMenu(te),("click"===te||"tab"===te)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(te)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(ne,te,de,_e,Ie,He,Ve,Dt,Ne){this._overlay=ne,this._element=te,this._viewContainerRef=de,this._menuItemInstance=He,this._dir=Ve,this._focusMonitor=Dt,this._ngZone=Ne,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=k.yU.EMPTY,this._hoverSubscription=k.yU.EMPTY,this._menuCloseSubscription=k.yU.EMPTY,this._changeDetectorRef=(0,g.WQX)(g.gRc),this._handleTouchStart=ke=>{(0,w.w6)(ke)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new g.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new g.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=_e,this._parentMaterialMenu=Ie instanceof we?Ie:void 0,te.nativeElement.addEventListener("touchstart",this._handleTouchStart,me)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,me),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ne=this.menu;if(this._menuOpen||!ne)return;const te=this._createOverlay(ne),de=te.getConfig(),_e=de.positionStrategy;this._setPosition(ne,_e),de.hasBackdrop=null==ne.hasBackdrop?!this.triggersSubmenu():ne.hasBackdrop,te.attach(this._getPortal(ne)),ne.lazyContent&&ne.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ne),ne instanceof we&&(ne._startAnimation(),ne._directDescendantItems.changes.pipe((0,A.Q)(ne.close)).subscribe(()=>{_e.withLockedPosition(!1).reapplyLastPosition(),_e.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(ne,te){this._focusMonitor&&ne?this._focusMonitor.focusVia(this._element,ne,te):this._element.nativeElement.focus(te)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(ne){if(!this._overlayRef||!this.menuOpen)return;const te=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ne||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,te instanceof we?(te._resetAnimation(),te.lazyContent?te._animationDone.pipe((0,V.p)(de=>"void"===de.toState),(0,U.s)(1),(0,A.Q)(te.lazyContent._attached)).subscribe({next:()=>te.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),te?.lazyContent?.detach())}_initMenu(ne){ne.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ne.direction=this.dir,this._setMenuElevation(ne),ne.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ne){if(ne.setElevation){let te=0,de=ne.parentMenu;for(;de;)te++,de=de.parentMenu;ne.setElevation(te)}}_setIsMenuOpen(ne){ne!==this._menuOpen&&(this._menuOpen=ne,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ne),this._changeDetectorRef.markForCheck())}_createOverlay(ne){if(!this._overlayRef){const te=this._getOverlayConfig(ne);this._subscribeToPositions(ne,te.positionStrategy),this._overlayRef=this._overlay.create(te),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ne){return new ie.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ne.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ne.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ne,te){ne.setPositionClasses&&te.positionChanges.subscribe(de=>{const _e="start"===de.connectionPair.overlayX?"after":"before",Ie="top"===de.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ne.setPositionClasses(_e,Ie)):ne.setPositionClasses(_e,Ie)})}_setPosition(ne,te){let[de,_e]="before"===ne.xPosition?["end","start"]:["start","end"],[Ie,He]="above"===ne.yPosition?["bottom","top"]:["top","bottom"],[Ve,Dt]=[Ie,He],[Ne,ke]=[de,_e],yt=0;if(this.triggersSubmenu()){if(ke=de="before"===ne.xPosition?"start":"end",_e=Ne="end"===de?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const F=this._parentMaterialMenu.items.first;this._parentInnerPadding=F?F._getHostElement().offsetTop:0}yt="bottom"===Ie?this._parentInnerPadding:-this._parentInnerPadding}}else ne.overlapTrigger||(Ve="top"===Ie?"bottom":"top",Dt="top"===He?"bottom":"top");te.withPositions([{originX:de,originY:Ve,overlayX:Ne,overlayY:Ie,offsetY:yt},{originX:_e,originY:Ve,overlayX:ke,overlayY:Ie,offsetY:yt},{originX:de,originY:Dt,overlayX:Ne,overlayY:He,offsetY:-yt},{originX:_e,originY:Dt,overlayX:ke,overlayY:He,offsetY:-yt}])}_menuClosingActions(){const ne=this._overlayRef.backdropClick(),te=this._overlayRef.detachments(),de=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,S.of)(),_e=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,V.p)(Ie=>Ie!==this._menuItemInstance),(0,V.p)(()=>this._menuOpen)):(0,S.of)();return(0,b.h)(ne,de,_e,te)}_handleMousedown(ne){(0,w._G)(ne)||(this._openedBy=0===ne.button?"mouse":void 0,this.triggersSubmenu()&&ne.preventDefault())}_handleKeydown(ne){const te=ne.keyCode;(te===B.Fm||te===B.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(te===B.LE&&"ltr"===this.dir||te===B.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ne){this.triggersSubmenu()?(ne.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,V.p)(ne=>ne===this._menuItemInstance&&!ne.disabled),(0,K.c)(0,P.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof we&&this.menu._isAnimating?this.menu._animationDone.pipe((0,U.s)(1),(0,K.c)(0,P.$),(0,A.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ne){return(!this._portal||this._portal.templateRef!==ne.templateRef)&&(this._portal=new Y.VA(ne.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(te){return new(te||be)(g.rXU(ie.hJ),g.rXU(g.aKT),g.rXU(g.c1b),g.rXU(Me),g.rXU(d,8),g.rXU(h,10),g.rXU(re.dS,8),g.rXU(w.FN),g.rXU(g.SKi))};static#t=this.\u0275dir=g.FsC({type:be,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(te,de){1&te&&g.bIt("click",function(Ie){return de._handleClick(Ie)})("mousedown",function(Ie){return de._handleMousedown(Ie)})("keydown",function(Ie){return de._handleKeydown(Ie)}),2&te&&g.BMQ("aria-haspopup",de.menu?"menu":null)("aria-expanded",de.menuOpen)("aria-controls",de.menuOpen?de.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return be})(),Ce=(()=>{class be{static#e=this.\u0275fac=function(te){return new(te||be)};static#t=this.\u0275mod=g.$C({type:be});static#n=this.\u0275inj=g.G2t({providers:[ge],imports:[Q.MD,q.pZ,q.yE,ie.z_,ue.Gj,q.yE]})}return be})()},55911:($e,j,E)=>{"use strict";E.d(j,{KQ:()=>P,s5:()=>O});var g=E(93953),w=E(86600),B=E(36860),H=E(60177);const b=["*",[["mat-toolbar-row"]]],k=["*","mat-toolbar-row"];let S=(()=>{class A{static#e=this.\u0275fac=function(K){return new(K||A)};static#t=this.\u0275dir=g.FsC({type:A,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return A})(),P=(()=>{class A{constructor(U,K,Q){this._elementRef=U,this._platform=K,this._document=Q}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(K){return new(K||A)(g.rXU(g.aKT),g.rXU(B.OD),g.rXU(H.qQ))};static#t=this.\u0275cmp=g.VBU({type:A,selectors:[["mat-toolbar"]],contentQueries:function(K,Q,q){if(1&K&&g.wni(q,S,5),2&K){let Y;g.mGM(Y=g.lsd())&&(Q._toolbarRows=Y)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(K,Q){2&K&&(g.HbH(Q.color?"mat-"+Q.color:""),g.AVh("mat-toolbar-multiple-rows",Q._toolbarRows.length>0)("mat-toolbar-single-row",0===Q._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[g.aNF],ngContentSelectors:k,decls:2,vars:0,template:function(K,Q){1&K&&(g.NAR(b),g.SdG(0),g.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return A})(),O=(()=>{class A{static#e=this.\u0275fac=function(K){return new(K||A)};static#t=this.\u0275mod=g.$C({type:A});static#n=this.\u0275inj=g.G2t({imports:[w.yE,w.yE]})}return A})()},345:($e,j,E)=>{"use strict";E.d(j,{B7:()=>ve,B8:()=>Z,hE:()=>te,up:()=>Se});var g=E(60177),w=E(93953);class B extends g.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends B{static makeCurrent(){(0,g.ZD)(new H)}onAndCancel(Qt,ut,st){return Qt.addEventListener(ut,st),()=>{Qt.removeEventListener(ut,st)}}dispatchEvent(Qt,ut){Qt.dispatchEvent(ut)}remove(Qt){Qt.parentNode&&Qt.parentNode.removeChild(Qt)}createElement(Qt,ut){return(ut=ut||this.getDefaultDocument()).createElement(Qt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Qt){return Qt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Qt){return Qt instanceof DocumentFragment}getGlobalEventTarget(Qt,ut){return"window"===ut?window:"document"===ut?Qt:"body"===ut?Qt.body:null}getBaseHref(Qt){const ut=function k(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==ut?null:function S(on){return new URL(on,document.baseURI).pathname}(ut)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie(Qt){return(0,g._b)(document.cookie,Qt)}}let b=null,R=(()=>{class on{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(st){return new(st||on)};static#t=this.\u0275prov=w.jDH({token:on,factory:on.\u0275fac})}return on})();const O=new w.nKC("");let A=(()=>{class on{constructor(ut,st){this._zone=st,this._eventNameToPlugin=new Map,ut.forEach(Zt=>{Zt.manager=this}),this._plugins=ut.slice().reverse()}addEventListener(ut,st,Zt){return this._findPluginFor(st).addEventListener(ut,st,Zt)}getZone(){return this._zone}_findPluginFor(ut){let st=this._eventNameToPlugin.get(ut);if(st)return st;if(st=this._plugins.find(Xt=>Xt.supports(ut)),!st)throw new w.wOt(5101,!1);return this._eventNameToPlugin.set(ut,st),st}static#e=this.\u0275fac=function(st){return new(st||on)(w.KVO(O),w.KVO(w.SKi))};static#t=this.\u0275prov=w.jDH({token:on,factory:on.\u0275fac})}return on})();class V{constructor(Qt){this._doc=Qt}}const U="ng-app-id";let K=(()=>{class on{constructor(ut,st,Zt,Xt={}){this.doc=ut,this.appId=st,this.nonce=Zt,this.platformId=Xt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.Vy)(Xt),this.resetHostNodes()}addStyles(ut){for(const st of ut)1===this.changeUsageCount(st,1)&&this.onStyleAdded(st)}removeStyles(ut){for(const st of ut)this.changeUsageCount(st,-1)<=0&&this.onStyleRemoved(st)}ngOnDestroy(){const ut=this.styleNodesInDOM;ut&&(ut.forEach(st=>st.remove()),ut.clear());for(const st of this.getAllStyles())this.onStyleRemoved(st);this.resetHostNodes()}addHost(ut){this.hostNodes.add(ut);for(const st of this.getAllStyles())this.addStyleToHost(ut,st)}removeHost(ut){this.hostNodes.delete(ut)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ut){for(const st of this.hostNodes)this.addStyleToHost(st,ut)}onStyleRemoved(ut){const st=this.styleRef;st.get(ut)?.elements?.forEach(Zt=>Zt.remove()),st.delete(ut)}collectServerRenderedStyles(){const ut=this.doc.head?.querySelectorAll(`style[${U}="${this.appId}"]`);if(ut?.length){const st=new Map;return ut.forEach(Zt=>{null!=Zt.textContent&&st.set(Zt.textContent,Zt)}),st}return null}changeUsageCount(ut,st){const Zt=this.styleRef;if(Zt.has(ut)){const Xt=Zt.get(ut);return Xt.usage+=st,Xt.usage}return Zt.set(ut,{usage:st,elements:[]}),st}getStyleElement(ut,st){const Zt=this.styleNodesInDOM,Xt=Zt?.get(st);if(Xt?.parentNode===ut)return Zt.delete(st),Xt.removeAttribute(U),Xt;{const rn=this.doc.createElement("style");return this.nonce&&rn.setAttribute("nonce",this.nonce),rn.textContent=st,this.platformIsServer&&rn.setAttribute(U,this.appId),ut.appendChild(rn),rn}}addStyleToHost(ut,st){const Zt=this.getStyleElement(ut,st),Xt=this.styleRef,rn=Xt.get(st)?.elements;rn?rn.push(Zt):Xt.set(st,{elements:[Zt],usage:1})}resetHostNodes(){const ut=this.hostNodes;ut.clear(),ut.add(this.doc.head)}static#e=this.\u0275fac=function(st){return new(st||on)(w.KVO(g.qQ),w.KVO(w.sZ2),w.KVO(w.BIS,8),w.KVO(w.Agw))};static#t=this.\u0275prov=w.jDH({token:on,factory:on.\u0275fac})}return on})();const Q={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},q=/%COMP%/g,Y="%COMP%",W=`_nghost-${Y}`,re=`_ngcontent-${Y}`,ae=new w.nKC("",{providedIn:"root",factory:()=>!0});function pe(on,Qt){return Qt.map(ut=>ut.replace(q,on))}let ve=(()=>{class on{constructor(ut,st,Zt,Xt,rn,Zn,at,pt=null){this.eventManager=ut,this.sharedStylesHost=st,this.appId=Zt,this.removeStylesOnCompDestroy=Xt,this.doc=rn,this.platformId=Zn,this.ngZone=at,this.nonce=pt,this.rendererByCompId=new Map,this.platformIsServer=(0,g.Vy)(Zn),this.defaultRenderer=new De(ut,rn,at,this.platformIsServer)}createRenderer(ut,st){if(!ut||!st)return this.defaultRenderer;this.platformIsServer&&st.encapsulation===w.gXe.ShadowDom&&(st={...st,encapsulation:w.gXe.Emulated});const Zt=this.getOrCreateRenderer(ut,st);return Zt instanceof _?Zt.applyToHost(ut):Zt instanceof f&&Zt.applyStyles(),Zt}getOrCreateRenderer(ut,st){const Zt=this.rendererByCompId;let Xt=Zt.get(st.id);if(!Xt){const rn=this.doc,Zn=this.ngZone,at=this.eventManager,pt=this.sharedStylesHost,ht=this.removeStylesOnCompDestroy,Ke=this.platformIsServer;switch(st.encapsulation){case w.gXe.Emulated:Xt=new _(at,pt,st,this.appId,ht,rn,Zn,Ke);break;case w.gXe.ShadowDom:return new h(at,pt,ut,st,rn,Zn,this.nonce,Ke);default:Xt=new f(at,pt,st,ht,rn,Zn,Ke)}Zt.set(st.id,Xt)}return Xt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(st){return new(st||on)(w.KVO(A),w.KVO(K),w.KVO(w.sZ2),w.KVO(ae),w.KVO(g.qQ),w.KVO(w.Agw),w.KVO(w.SKi),w.KVO(w.BIS))};static#t=this.\u0275prov=w.jDH({token:on,factory:on.\u0275fac})}return on})();class De{constructor(Qt,ut,st,Zt){this.eventManager=Qt,this.doc=ut,this.ngZone=st,this.platformIsServer=Zt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Qt,ut){return ut?this.doc.createElementNS(Q[ut]||ut,Qt):this.doc.createElement(Qt)}createComment(Qt){return this.doc.createComment(Qt)}createText(Qt){return this.doc.createTextNode(Qt)}appendChild(Qt,ut){(d(Qt)?Qt.content:Qt).appendChild(ut)}insertBefore(Qt,ut,st){Qt&&(d(Qt)?Qt.content:Qt).insertBefore(ut,st)}removeChild(Qt,ut){Qt&&Qt.removeChild(ut)}selectRootElement(Qt,ut){let st="string"==typeof Qt?this.doc.querySelector(Qt):Qt;if(!st)throw new w.wOt(-5104,!1);return ut||(st.textContent=""),st}parentNode(Qt){return Qt.parentNode}nextSibling(Qt){return Qt.nextSibling}setAttribute(Qt,ut,st,Zt){if(Zt){ut=Zt+":"+ut;const Xt=Q[Zt];Xt?Qt.setAttributeNS(Xt,ut,st):Qt.setAttribute(ut,st)}else Qt.setAttribute(ut,st)}removeAttribute(Qt,ut,st){if(st){const Zt=Q[st];Zt?Qt.removeAttributeNS(Zt,ut):Qt.removeAttribute(`${st}:${ut}`)}else Qt.removeAttribute(ut)}addClass(Qt,ut){Qt.classList.add(ut)}removeClass(Qt,ut){Qt.classList.remove(ut)}setStyle(Qt,ut,st,Zt){Zt&(w.czy.DashCase|w.czy.Important)?Qt.style.setProperty(ut,st,Zt&w.czy.Important?"important":""):Qt.style[ut]=st}removeStyle(Qt,ut,st){st&w.czy.DashCase?Qt.style.removeProperty(ut):Qt.style[ut]=""}setProperty(Qt,ut,st){null!=Qt&&(Qt[ut]=st)}setValue(Qt,ut){Qt.nodeValue=ut}listen(Qt,ut,st){if("string"==typeof Qt&&!(Qt=(0,g.QT)().getGlobalEventTarget(this.doc,Qt)))throw new Error(`Unsupported event target ${Qt} for event ${ut}`);return this.eventManager.addEventListener(Qt,ut,this.decoratePreventDefault(st))}decoratePreventDefault(Qt){return ut=>{if("__ngUnwrap__"===ut)return Qt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Qt(ut)):Qt(ut))&&ut.preventDefault()}}}function d(on){return"TEMPLATE"===on.tagName&&void 0!==on.content}class h extends De{constructor(Qt,ut,st,Zt,Xt,rn,Zn,at){super(Qt,Xt,rn,at),this.sharedStylesHost=ut,this.hostEl=st,this.shadowRoot=st.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const pt=pe(Zt.id,Zt.styles);for(const ht of pt){const Ke=document.createElement("style");Zn&&Ke.setAttribute("nonce",Zn),Ke.textContent=ht,this.shadowRoot.appendChild(Ke)}}nodeOrShadowRoot(Qt){return Qt===this.hostEl?this.shadowRoot:Qt}appendChild(Qt,ut){return super.appendChild(this.nodeOrShadowRoot(Qt),ut)}insertBefore(Qt,ut,st){return super.insertBefore(this.nodeOrShadowRoot(Qt),ut,st)}removeChild(Qt,ut){return super.removeChild(this.nodeOrShadowRoot(Qt),ut)}parentNode(Qt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Qt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class f extends De{constructor(Qt,ut,st,Zt,Xt,rn,Zn,at){super(Qt,Xt,rn,Zn),this.sharedStylesHost=ut,this.removeStylesOnCompDestroy=Zt,this.styles=at?pe(at,st.styles):st.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class _ extends f{constructor(Qt,ut,st,Zt,Xt,rn,Zn,at){const pt=Zt+"-"+st.id;super(Qt,ut,st,Xt,rn,Zn,at,pt),this.contentAttr=function ue(on){return re.replace(q,on)}(pt),this.hostAttr=function ce(on){return W.replace(q,on)}(pt)}applyToHost(Qt){this.applyStyles(),this.setAttribute(Qt,this.hostAttr,"")}createElement(Qt,ut){const st=super.createElement(Qt,ut);return super.setAttribute(st,this.contentAttr,""),st}}let I=(()=>{class on extends V{constructor(ut){super(ut)}supports(ut){return!0}addEventListener(ut,st,Zt){return ut.addEventListener(st,Zt,!1),()=>this.removeEventListener(ut,st,Zt)}removeEventListener(ut,st,Zt){return ut.removeEventListener(st,Zt)}static#e=this.\u0275fac=function(st){return new(st||on)(w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:on,factory:on.\u0275fac})}return on})();const L=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},a={alt:on=>on.altKey,control:on=>on.ctrlKey,meta:on=>on.metaKey,shift:on=>on.shiftKey};let v=(()=>{class on extends V{constructor(ut){super(ut)}supports(ut){return null!=on.parseEventName(ut)}addEventListener(ut,st,Zt){const Xt=on.parseEventName(st),rn=on.eventCallback(Xt.fullKey,Zt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.QT)().onAndCancel(ut,Xt.domEventName,rn))}static parseEventName(ut){const st=ut.toLowerCase().split("."),Zt=st.shift();if(0===st.length||"keydown"!==Zt&&"keyup"!==Zt)return null;const Xt=on._normalizeKey(st.pop());let rn="",Zn=st.indexOf("code");if(Zn>-1&&(st.splice(Zn,1),rn="code."),L.forEach(pt=>{const ht=st.indexOf(pt);ht>-1&&(st.splice(ht,1),rn+=pt+".")}),rn+=Xt,0!=st.length||0===Xt.length)return null;const at={};return at.domEventName=Zt,at.fullKey=rn,at}static matchEventFullKeyCode(ut,st){let Zt=x[ut.key]||ut.key,Xt="";return st.indexOf("code.")>-1&&(Zt=ut.code,Xt="code."),!(null==Zt||!Zt)&&(Zt=Zt.toLowerCase()," "===Zt?Zt="space":"."===Zt&&(Zt="dot"),L.forEach(rn=>{rn!==Zt&&(0,a[rn])(ut)&&(Xt+=rn+".")}),Xt+=Zt,Xt===st)}static eventCallback(ut,st,Zt){return Xt=>{on.matchEventFullKeyCode(Xt,ut)&&Zt.runGuarded(()=>st(Xt))}}static _normalizeKey(ut){return"esc"===ut?"escape":ut}static#e=this.\u0275fac=function(st){return new(st||on)(w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:on,factory:on.\u0275fac})}return on})();function Z(on,Qt){return(0,w.TL3)({rootComponent:on,...ee(Qt)})}function ee(on){return{appProviders:[...Ce,...on?.providers??[]],platformProviders:ge}}const ge=[{provide:w.Agw,useValue:g.AJ},{provide:w.PLl,useValue:function we(){H.makeCurrent()},multi:!0},{provide:g.qQ,useFactory:function Ze(){return(0,w.TL$)(document),document},deps:[]}],Ce=[{provide:w.H8p,useValue:"root"},{provide:w.zcH,useFactory:function Me(){return new w.zcH},deps:[]},{provide:O,useClass:I,multi:!0,deps:[g.qQ,w.SKi,w.Agw]},{provide:O,useClass:v,multi:!0,deps:[g.qQ]},ve,K,A,{provide:w._9s,useExisting:ve},{provide:g.N0,useClass:R,deps:[]},[]];let te=(()=>{class on{constructor(ut){this._doc=ut}getTitle(){return this._doc.title}setTitle(ut){this._doc.title=ut||""}static#e=this.\u0275fac=function(st){return new(st||on)(w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})(),Se=(()=>{class on{static#e=this.\u0275fac=function(st){return new(st||on)};static#t=this.\u0275prov=w.jDH({token:on,factory:function(st){let Zt=null;return Zt=st?new(st||on):w.KVO(Ae),Zt},providedIn:"root"})}return on})(),Ae=(()=>{class on extends Se{constructor(ut){super(),this._doc=ut}sanitize(ut,st){if(null==st)return null;switch(ut){case w.WPN.NONE:return st;case w.WPN.HTML:return(0,w.ZF7)(st,"HTML")?(0,w.rcV)(st):(0,w.h9k)(this._doc,String(st)).toString();case w.WPN.STYLE:return(0,w.ZF7)(st,"Style")?(0,w.rcV)(st):st;case w.WPN.SCRIPT:if((0,w.ZF7)(st,"Script"))return(0,w.rcV)(st);throw new w.wOt(5200,!1);case w.WPN.URL:return(0,w.ZF7)(st,"URL")?(0,w.rcV)(st):(0,w.$MX)(String(st));case w.WPN.RESOURCE_URL:if((0,w.ZF7)(st,"ResourceURL"))return(0,w.rcV)(st);throw new w.wOt(5201,!1);default:throw new w.wOt(5202,!1)}}bypassSecurityTrustHtml(ut){return(0,w.Kcf)(ut)}bypassSecurityTrustStyle(ut){return(0,w.cWb)(ut)}bypassSecurityTrustScript(ut){return(0,w.UyX)(ut)}bypassSecurityTrustUrl(ut){return(0,w.osQ)(ut)}bypassSecurityTrustResourceUrl(ut){return(0,w.e5t)(ut)}static#e=this.\u0275fac=function(st){return new(st||on)(w.KVO(g.qQ))};static#t=this.\u0275prov=w.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})()},18498:($e,j,E)=>{"use strict";E.d(j,{nX:()=>it,wF:()=>jr,Z:()=>hr,Ix:()=>Ks,Wk:()=>Hs,wQ:()=>Uv,iI:()=>$v,n3:()=>Br,lh:()=>Xc});var g=E(10467),w=E(93953),B=E(74402),H=E(86648),b=E(7673),k=E(84412),S=E(84572);const R=(0,E(81853).L)(je=>function(){je(this),this.name="EmptyError",this.message="no elements in sequence"});var O=E(28793),A=E(59030),V=E(71203),U=E(18810),K=E(983),Q=E(30017),q=E(21413),Y=E(18359),W=E(60177),re=E(96354),ie=E(25558),ae=E(96697),ue=E(99172),ce=E(5964),pe=E(31397),ve=E(39974),De=E(54360);function C(je){return(0,ve.N)((rt,ze)=>{let ct=!1;rt.subscribe((0,De._)(ze,At=>{ct=!0,ze.next(At)},()=>{ct||ze.next(je),ze.complete()}))})}function s(je=d){return(0,ve.N)((rt,ze)=>{let ct=!1;rt.subscribe((0,De._)(ze,At=>{ct=!0,ze.next(At)},()=>ct?ze.complete():ze.error(je())))})}function d(){return new R}var h=E(33669);function f(je,rt){const ze=arguments.length>=2;return ct=>ct.pipe(je?(0,ce.p)((At,sn)=>je(At,sn,ct)):h.D,(0,ae.s)(1),ze?C(rt):s(()=>new R))}var _=E(70274),I=E(88141),L=E(99437);function v(je){return je<=0?()=>K.w:(0,ve.N)((rt,ze)=>{let ct=[];rt.subscribe((0,De._)(ze,At=>{ct.push(At),je<ct.length&&ct.shift()},()=>{for(const At of ct)ze.next(At);ze.complete()},void 0,()=>{ct=null}))})}var z=E(73703),ee=E(70980),le=E(99898),we=E(56977),Me=E(26365),Ze=E(345);const ge="primary",me=Symbol("RouteTitle");class Ue{constructor(rt){this.params=rt||{}}has(rt){return Object.prototype.hasOwnProperty.call(this.params,rt)}get(rt){if(this.has(rt)){const ze=this.params[rt];return Array.isArray(ze)?ze[0]:ze}return null}getAll(rt){if(this.has(rt)){const ze=this.params[rt];return Array.isArray(ze)?ze:[ze]}return[]}get keys(){return Object.keys(this.params)}}function xe(je){return new Ue(je)}function Ce(je,rt,ze){const ct=ze.path.split("/");if(ct.length>je.length||"full"===ze.pathMatch&&(rt.hasChildren()||ct.length<je.length))return null;const At={};for(let sn=0;sn<ct.length;sn++){const wn=ct[sn],Jn=je[sn];if(":"===wn[0])At[wn.substring(1)]=Jn;else if(wn!==Jn.path)return null}return{consumed:je.slice(0,ct.length),posParams:At}}function he(je,rt){const ze=je?ne(je):void 0,ct=rt?ne(rt):void 0;if(!ze||!ct||ze.length!=ct.length)return!1;let At;for(let sn=0;sn<ze.length;sn++)if(At=ze[sn],!te(je[At],rt[At]))return!1;return!0}function ne(je){return[...Object.keys(je),...Object.getOwnPropertySymbols(je)]}function te(je,rt){if(Array.isArray(je)&&Array.isArray(rt)){if(je.length!==rt.length)return!1;const ze=[...je].sort(),ct=[...rt].sort();return ze.every((At,sn)=>ct[sn]===At)}return je===rt}function de(je){return je.length>0?je[je.length-1]:null}function _e(je){return(0,B.A)(je)?je:(0,w.jNT)(je)?(0,H.H)(Promise.resolve(je)):(0,b.of)(je)}const Ie={exact:function Ne(je,rt,ze){if(!Ae(je.segments,rt.segments)||!D(je.segments,rt.segments,ze)||je.numberOfChildren!==rt.numberOfChildren)return!1;for(const ct in rt.children)if(!je.children[ct]||!Ne(je.children[ct],rt.children[ct],ze))return!1;return!0},subset:yt},He={exact:function Dt(je,rt){return he(je,rt)},subset:function ke(je,rt){return Object.keys(rt).length<=Object.keys(je).length&&Object.keys(rt).every(ze=>te(je[ze],rt[ze]))},ignored:()=>!0};function Ve(je,rt,ze){return Ie[ze.paths](je.root,rt.root,ze.matrixParams)&&He[ze.queryParams](je.queryParams,rt.queryParams)&&!("exact"===ze.fragment&&je.fragment!==rt.fragment)}function yt(je,rt,ze){return F(je,rt,rt.segments,ze)}function F(je,rt,ze,ct){if(je.segments.length>ze.length){const At=je.segments.slice(0,ze.length);return!(!Ae(At,ze)||rt.hasChildren()||!D(At,ze,ct))}if(je.segments.length===ze.length){if(!Ae(je.segments,ze)||!D(je.segments,ze,ct))return!1;for(const At in rt.children)if(!je.children[At]||!yt(je.children[At],rt.children[At],ct))return!1;return!0}{const At=ze.slice(0,je.segments.length),sn=ze.slice(je.segments.length);return!!(Ae(je.segments,At)&&D(je.segments,At,ct)&&je.children[ge])&&F(je.children[ge],rt,sn,ct)}}function D(je,rt,ze){return rt.every((ct,At)=>He[ze](je[At].parameters,ct.parameters))}class M{constructor(rt=new G([],{}),ze={},ct=null){this.root=rt,this.queryParams=ze,this.fragment=ct}get queryParamMap(){return this._queryParamMap??=xe(this.queryParams),this._queryParamMap}toString(){return Bt.serialize(this)}}class G{constructor(rt,ze){this.segments=rt,this.children=ze,this.parent=null,Object.values(ze).forEach(ct=>ct.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return en(this)}}class fe{constructor(rt,ze){this.path=rt,this.parameters=ze}get parameterMap(){return this._parameterMap??=xe(this.parameters),this._parameterMap}toString(){return st(this)}}function Ae(je,rt){return je.length===rt.length&&je.every((ze,ct)=>ze.path===rt[ct].path)}let Gt=(()=>{class je{static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275prov=w.jDH({token:je,factory:()=>new _t,providedIn:"root"})}return je})();class _t{parse(rt){const ze=new kt(rt);return new M(ze.parseRootSegment(),ze.parseQueryParams(),ze.parseFragment())}serialize(rt){const ze=`/${pn(rt.root,!0)}`,ct=function Xt(je){const rt=Object.entries(je).map(([ze,ct])=>Array.isArray(ct)?ct.map(At=>`${tr(ze)}=${tr(At)}`).join("&"):`${tr(ze)}=${tr(ct)}`).filter(ze=>ze);return rt.length?`?${rt.join("&")}`:""}(rt.queryParams);return`${ze}${ct}${"string"==typeof rt.fragment?`#${function Mn(je){return encodeURI(je)}(rt.fragment)}`:""}`}}const Bt=new _t;function en(je){return je.segments.map(rt=>st(rt)).join("/")}function pn(je,rt){if(!je.hasChildren())return en(je);if(rt){const ze=je.children[ge]?pn(je.children[ge],!1):"",ct=[];return Object.entries(je.children).forEach(([At,sn])=>{At!==ge&&ct.push(`${At}:${pn(sn,!1)}`)}),ct.length>0?`${ze}(${ct.join("//")})`:ze}{const ze=function ot(je,rt){let ze=[];return Object.entries(je.children).forEach(([ct,At])=>{ct===ge&&(ze=ze.concat(rt(At,ct)))}),Object.entries(je.children).forEach(([ct,At])=>{ct!==ge&&(ze=ze.concat(rt(At,ct)))}),ze}(je,(ct,At)=>At===ge?[pn(je.children[ge],!1)]:[`${At}:${pn(ct,!1)}`]);return 1===Object.keys(je.children).length&&null!=je.children[ge]?`${en(je)}/${ze[0]}`:`${en(je)}/(${ze.join("//")})`}}function cn(je){return encodeURIComponent(je).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tr(je){return cn(je).replace(/%3B/gi,";")}function on(je){return cn(je).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qt(je){return decodeURIComponent(je)}function ut(je){return Qt(je.replace(/\+/g,"%20"))}function st(je){return`${on(je.path)}${function Zt(je){return Object.entries(je).map(([rt,ze])=>`;${on(rt)}=${on(ze)}`).join("")}(je.parameters)}`}const rn=/^[^\/()?;#]+/;function Zn(je){const rt=je.match(rn);return rt?rt[0]:""}const at=/^[^\/()?;=#]+/,ht=/^[^=?&#]+/,Ge=/^[^&#]+/;class kt{constructor(rt){this.url=rt,this.remaining=rt}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new G([],{}):new G([],this.parseChildren())}parseQueryParams(){const rt={};if(this.consumeOptional("?"))do{this.parseQueryParam(rt)}while(this.consumeOptional("&"));return rt}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const rt=[];for(this.peekStartsWith("(")||rt.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),rt.push(this.parseSegment());let ze={};this.peekStartsWith("/(")&&(this.capture("/"),ze=this.parseParens(!0));let ct={};return this.peekStartsWith("(")&&(ct=this.parseParens(!1)),(rt.length>0||Object.keys(ze).length>0)&&(ct[ge]=new G(rt,ze)),ct}parseSegment(){const rt=Zn(this.remaining);if(""===rt&&this.peekStartsWith(";"))throw new w.wOt(4009,!1);return this.capture(rt),new fe(Qt(rt),this.parseMatrixParams())}parseMatrixParams(){const rt={};for(;this.consumeOptional(";");)this.parseParam(rt);return rt}parseParam(rt){const ze=function pt(je){const rt=je.match(at);return rt?rt[0]:""}(this.remaining);if(!ze)return;this.capture(ze);let ct="";if(this.consumeOptional("=")){const At=Zn(this.remaining);At&&(ct=At,this.capture(ct))}rt[Qt(ze)]=Qt(ct)}parseQueryParam(rt){const ze=function Ke(je){const rt=je.match(ht);return rt?rt[0]:""}(this.remaining);if(!ze)return;this.capture(ze);let ct="";if(this.consumeOptional("=")){const wn=function jt(je){const rt=je.match(Ge);return rt?rt[0]:""}(this.remaining);wn&&(ct=wn,this.capture(ct))}const At=ut(ze),sn=ut(ct);if(rt.hasOwnProperty(At)){let wn=rt[At];Array.isArray(wn)||(wn=[wn],rt[At]=wn),wn.push(sn)}else rt[At]=sn}parseParens(rt){const ze={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const ct=Zn(this.remaining),At=this.remaining[ct.length];if("/"!==At&&")"!==At&&";"!==At)throw new w.wOt(4010,!1);let sn;ct.indexOf(":")>-1?(sn=ct.slice(0,ct.indexOf(":")),this.capture(sn),this.capture(":")):rt&&(sn=ge);const wn=this.parseChildren();ze[sn]=1===Object.keys(wn).length?wn[ge]:new G([],wn),this.consumeOptional("//")}return ze}peekStartsWith(rt){return this.remaining.startsWith(rt)}consumeOptional(rt){return!!this.peekStartsWith(rt)&&(this.remaining=this.remaining.substring(rt.length),!0)}capture(rt){if(!this.consumeOptional(rt))throw new w.wOt(4011,!1)}}function ln(je){return je.segments.length>0?new G([],{[ge]:je}):je}function On(je){const rt={};for(const[ct,At]of Object.entries(je.children)){const sn=On(At);if(ct===ge&&0===sn.segments.length&&sn.hasChildren())for(const[wn,Jn]of Object.entries(sn.children))rt[wn]=Jn;else(sn.segments.length>0||sn.hasChildren())&&(rt[ct]=sn)}return function vn(je){if(1===je.numberOfChildren&&je.children[ge]){const rt=je.children[ge];return new G(je.segments.concat(rt.segments),rt.children)}return je}(new G(je.segments,rt))}function gn(je){return je instanceof M}function er(je){let rt;const At=ln(function ze(sn){const wn={};for(const $n of sn.children){const Tr=ze($n);wn[$n.outlet]=Tr}const Jn=new G(sn.url,wn);return sn===je&&(rt=Jn),Jn}(je.root));return rt??At}function Pn(je,rt,ze,ct){let At=je;for(;At.parent;)At=At.parent;if(0===rt.length)return Oe(At,At,At,ze,ct);const sn=function hn(je){if("string"==typeof je[0]&&1===je.length&&"/"===je[0])return new zt(!0,0,je);let rt=0,ze=!1;const ct=je.reduce((At,sn,wn)=>{if("object"==typeof sn&&null!=sn){if(sn.outlets){const Jn={};return Object.entries(sn.outlets).forEach(([$n,Tr])=>{Jn[$n]="string"==typeof Tr?Tr.split("/"):Tr}),[...At,{outlets:Jn}]}if(sn.segmentPath)return[...At,sn.segmentPath]}return"string"!=typeof sn?[...At,sn]:0===wn?(sn.split("/").forEach((Jn,$n)=>{0==$n&&"."===Jn||(0==$n&&""===Jn?ze=!0:".."===Jn?rt++:""!=Jn&&At.push(Jn))}),At):[...At,sn]},[]);return new zt(ze,rt,ct)}(rt);if(sn.toRoot())return Oe(At,At,new G([],{}),ze,ct);const wn=function Kn(je,rt,ze){if(je.isAbsolute)return new Un(rt,!0,0);if(!ze)return new Un(rt,!1,NaN);if(null===ze.parent)return new Un(ze,!0,0);const ct=Nn(je.commands[0])?0:1;return function ir(je,rt,ze){let ct=je,At=rt,sn=ze;for(;sn>At;){if(sn-=At,ct=ct.parent,!ct)throw new w.wOt(4005,!1);At=ct.segments.length}return new Un(ct,!1,At-sn)}(ze,ze.segments.length-1+ct,je.numberOfDoubleDots)}(sn,At,je),Jn=wn.processChildren?Sr(wn.segmentGroup,wn.index,sn.commands):Pr(wn.segmentGroup,wn.index,sn.commands);return Oe(At,wn.segmentGroup,Jn,ze,ct)}function Nn(je){return"object"==typeof je&&null!=je&&!je.outlets&&!je.segmentPath}function et(je){return"object"==typeof je&&null!=je&&je.outlets}function Oe(je,rt,ze,ct,At){let wn,sn={};ct&&Object.entries(ct).forEach(([$n,Tr])=>{sn[$n]=Array.isArray(Tr)?Tr.map(Ci=>`${Ci}`):`${Tr}`}),wn=je===rt?ze:Qe(je,rt,ze);const Jn=ln(On(wn));return new M(Jn,sn,At)}function Qe(je,rt,ze){const ct={};return Object.entries(je.children).forEach(([At,sn])=>{ct[At]=sn===rt?ze:Qe(sn,rt,ze)}),new G(je.segments,ct)}class zt{constructor(rt,ze,ct){if(this.isAbsolute=rt,this.numberOfDoubleDots=ze,this.commands=ct,rt&&ct.length>0&&Nn(ct[0]))throw new w.wOt(4003,!1);const At=ct.find(et);if(At&&At!==de(ct))throw new w.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Un{constructor(rt,ze,ct){this.segmentGroup=rt,this.processChildren=ze,this.index=ct}}function Pr(je,rt,ze){if(je??=new G([],{}),0===je.segments.length&&je.hasChildren())return Sr(je,rt,ze);const ct=function Nr(je,rt,ze){let ct=0,At=rt;const sn={match:!1,pathIndex:0,commandIndex:0};for(;At<je.segments.length;){if(ct>=ze.length)return sn;const wn=je.segments[At],Jn=ze[ct];if(et(Jn))break;const $n=`${Jn}`,Tr=ct<ze.length-1?ze[ct+1]:null;if(At>0&&void 0===$n)break;if($n&&Tr&&"object"==typeof Tr&&void 0===Tr.outlets){if(!En($n,Tr,wn))return sn;ct+=2}else{if(!En($n,{},wn))return sn;ct++}At++}return{match:!0,pathIndex:At,commandIndex:ct}}(je,rt,ze),At=ze.slice(ct.commandIndex);if(ct.match&&ct.pathIndex<je.segments.length){const sn=new G(je.segments.slice(0,ct.pathIndex),{});return sn.children[ge]=new G(je.segments.slice(ct.pathIndex),je.children),Sr(sn,0,At)}return ct.match&&0===At.length?new G(je.segments,{}):ct.match&&!je.hasChildren()?dr(je,rt,ze):ct.match?Sr(je,0,At):dr(je,rt,ze)}function Sr(je,rt,ze){if(0===ze.length)return new G(je.segments,{});{const ct=function mr(je){return et(je[0])?je[0].outlets:{[ge]:je}}(ze),At={};if(Object.keys(ct).some(sn=>sn!==ge)&&je.children[ge]&&1===je.numberOfChildren&&0===je.children[ge].segments.length){const sn=Sr(je.children[ge],rt,ze);return new G(je.segments,sn.children)}return Object.entries(ct).forEach(([sn,wn])=>{"string"==typeof wn&&(wn=[wn]),null!==wn&&(At[sn]=Pr(je.children[sn],rt,wn))}),Object.entries(je.children).forEach(([sn,wn])=>{void 0===ct[sn]&&(At[sn]=wn)}),new G(je.segments,At)}}function dr(je,rt,ze){const ct=je.segments.slice(0,rt);let At=0;for(;At<ze.length;){const sn=ze[At];if(et(sn)){const $n=nn(sn.outlets);return new G(ct,$n)}if(0===At&&Nn(ze[0])){ct.push(new fe(je.segments[rt].path,yn(ze[0]))),At++;continue}const wn=et(sn)?sn.outlets[ge]:`${sn}`,Jn=At<ze.length-1?ze[At+1]:null;wn&&Jn&&Nn(Jn)?(ct.push(new fe(wn,yn(Jn))),At+=2):(ct.push(new fe(wn,{})),At++)}return new G(ct,{})}function nn(je){const rt={};return Object.entries(je).forEach(([ze,ct])=>{"string"==typeof ct&&(ct=[ct]),null!==ct&&(rt[ze]=dr(new G([],{}),0,ct))}),rt}function yn(je){const rt={};return Object.entries(je).forEach(([ze,ct])=>rt[ze]=`${ct}`),rt}function En(je,rt,ze){return je==ze.path&&he(rt,ze.parameters)}const Fn="imperative";var Wn=function(je){return je[je.NavigationStart=0]="NavigationStart",je[je.NavigationEnd=1]="NavigationEnd",je[je.NavigationCancel=2]="NavigationCancel",je[je.NavigationError=3]="NavigationError",je[je.RoutesRecognized=4]="RoutesRecognized",je[je.ResolveStart=5]="ResolveStart",je[je.ResolveEnd=6]="ResolveEnd",je[je.GuardsCheckStart=7]="GuardsCheckStart",je[je.GuardsCheckEnd=8]="GuardsCheckEnd",je[je.RouteConfigLoadStart=9]="RouteConfigLoadStart",je[je.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",je[je.ChildActivationStart=11]="ChildActivationStart",je[je.ChildActivationEnd=12]="ChildActivationEnd",je[je.ActivationStart=13]="ActivationStart",je[je.ActivationEnd=14]="ActivationEnd",je[je.Scroll=15]="Scroll",je[je.NavigationSkipped=16]="NavigationSkipped",je}(Wn||{});class cr{constructor(rt,ze){this.id=rt,this.url=ze}}class hr extends cr{constructor(rt,ze,ct="imperative",At=null){super(rt,ze),this.type=Wn.NavigationStart,this.navigationTrigger=ct,this.restoredState=At}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jr extends cr{constructor(rt,ze,ct){super(rt,ze),this.urlAfterRedirects=ct,this.type=Wn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Or=function(je){return je[je.Redirect=0]="Redirect",je[je.SupersededByNewNavigation=1]="SupersededByNewNavigation",je[je.NoDataFromResolver=2]="NoDataFromResolver",je[je.GuardRejected=3]="GuardRejected",je}(Or||{}),$i=function(je){return je[je.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",je[je.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",je}($i||{});class oo extends cr{constructor(rt,ze,ct,At){super(rt,ze),this.reason=ct,this.code=At,this.type=Wn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hi extends cr{constructor(rt,ze,ct,At){super(rt,ze),this.reason=ct,this.code=At,this.type=Wn.NavigationSkipped}}class bi extends cr{constructor(rt,ze,ct,At){super(rt,ze),this.error=ct,this.target=At,this.type=Wn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pi extends cr{constructor(rt,ze,ct,At){super(rt,ze),this.urlAfterRedirects=ct,this.state=At,this.type=Wn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class So extends cr{constructor(rt,ze,ct,At){super(rt,ze),this.urlAfterRedirects=ct,this.state=At,this.type=Wn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends cr{constructor(rt,ze,ct,At,sn){super(rt,ze),this.urlAfterRedirects=ct,this.state=At,this.shouldActivate=sn,this.type=Wn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gt extends cr{constructor(rt,ze,ct,At){super(rt,ze),this.urlAfterRedirects=ct,this.state=At,this.type=Wn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ft extends cr{constructor(rt,ze,ct,At){super(rt,ze),this.urlAfterRedirects=ct,this.state=At,this.type=Wn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We{constructor(rt){this.route=rt,this.type=Wn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qe{constructor(rt){this.route=rt,this.type=Wn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mt{constructor(rt){this.snapshot=rt,this.type=Wn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lt{constructor(rt){this.snapshot=rt,this.type=Wn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yt{constructor(rt){this.snapshot=rt,this.type=Wn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mn{constructor(rt){this.snapshot=rt,this.type=Wn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ln{constructor(rt,ze,ct){this.routerEvent=rt,this.position=ze,this.anchor=ct,this.type=Wn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Tn{}class un{constructor(rt,ze){this.url=rt,this.navigationBehaviorOptions=ze}}class qt{constructor(rt){this.injector=rt,this.outlet=null,this.route=null,this.children=new lt(this.injector),this.attachRef=null}}let lt=(()=>{class je{constructor(ze){this.parentInjector=ze,this.contexts=new Map}onChildOutletCreated(ze,ct){const At=this.getOrCreateContext(ze);At.outlet=ct,this.contexts.set(ze,At)}onChildOutletDestroyed(ze){const ct=this.getContext(ze);ct&&(ct.outlet=null,ct.attachRef=null)}onOutletDeactivated(){const ze=this.contexts;return this.contexts=new Map,ze}onOutletReAttached(ze){this.contexts=ze}getOrCreateContext(ze){let ct=this.getContext(ze);return ct||(ct=new qt(this.parentInjector),this.contexts.set(ze,ct)),ct}getContext(ze){return this.contexts.get(ze)||null}static#e=this.\u0275fac=function(ct){return new(ct||je)(w.KVO(w.uvJ))};static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();class St{constructor(rt){this._root=rt}get root(){return this._root.value}parent(rt){const ze=this.pathFromRoot(rt);return ze.length>1?ze[ze.length-2]:null}children(rt){const ze=Rt(rt,this._root);return ze?ze.children.map(ct=>ct.value):[]}firstChild(rt){const ze=Rt(rt,this._root);return ze&&ze.children.length>0?ze.children[0].value:null}siblings(rt){const ze=tt(rt,this._root);return ze.length<2?[]:ze[ze.length-2].children.map(At=>At.value).filter(At=>At!==rt)}pathFromRoot(rt){return tt(rt,this._root).map(ze=>ze.value)}}function Rt(je,rt){if(je===rt.value)return rt;for(const ze of rt.children){const ct=Rt(je,ze);if(ct)return ct}return null}function tt(je,rt){if(je===rt.value)return[rt];for(const ze of rt.children){const ct=tt(je,ze);if(ct.length)return ct.unshift(rt),ct}return[]}class nt{constructor(rt,ze){this.value=rt,this.children=ze}toString(){return`TreeNode(${this.value})`}}function Be(je){const rt={};return je&&je.children.forEach(ze=>rt[ze.value.outlet]=ze),rt}class Fe extends St{constructor(rt,ze){super(rt),this.snapshot=ze,Ht(this,rt)}toString(){return this.snapshot.toString()}}function xt(je){const rt=function ft(je){const sn=new xn([],{},{},"",{},ge,je,null,{});return new fn("",new nt(sn,[]))}(je),ze=new k.t([new fe("",{})]),ct=new k.t({}),At=new k.t({}),sn=new k.t({}),wn=new k.t(""),Jn=new it(ze,ct,sn,wn,At,ge,je,rt.root);return Jn.snapshot=rt.root,new Fe(new nt(Jn,[]),rt)}class it{constructor(rt,ze,ct,At,sn,wn,Jn,$n){this.urlSubject=rt,this.paramsSubject=ze,this.queryParamsSubject=ct,this.fragmentSubject=At,this.dataSubject=sn,this.outlet=wn,this.component=Jn,this._futureSnapshot=$n,this.title=this.dataSubject?.pipe((0,re.T)(Tr=>Tr[me]))??(0,b.of)(void 0),this.url=rt,this.params=ze,this.queryParams=ct,this.fragment=At,this.data=sn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,re.T)(rt=>xe(rt))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,re.T)(rt=>xe(rt))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kt(je,rt,ze="emptyOnly"){let ct;const{routeConfig:At}=je;return ct=null===rt||"always"!==ze&&""!==At?.path&&(rt.component||rt.routeConfig?.loadComponent)?{params:{...je.params},data:{...je.data},resolve:{...je.data,...je._resolvedData??{}}}:{params:{...rt.params,...je.params},data:{...rt.data,...je.data},resolve:{...je.data,...rt.data,...At?.data,...je._resolvedData}},At&&Ur(At)&&(ct.resolve[me]=At.title),ct}class xn{get title(){return this.data?.[me]}constructor(rt,ze,ct,At,sn,wn,Jn,$n,Tr){this.url=rt,this.params=ze,this.queryParams=ct,this.fragment=At,this.data=sn,this.outlet=wn,this.component=Jn,this.routeConfig=$n,this._resolve=Tr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xe(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(ct=>ct.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fn extends St{constructor(rt,ze){super(ze),this.url=rt,Ht(this,ze)}toString(){return _n(this._root)}}function Ht(je,rt){rt.value._routerState=je,rt.children.forEach(ze=>Ht(je,ze))}function _n(je){const rt=je.children.length>0?` { ${je.children.map(_n).join(", ")} } `:"";return`${je.value}${rt}`}function rr(je){if(je.snapshot){const rt=je.snapshot,ze=je._futureSnapshot;je.snapshot=ze,he(rt.queryParams,ze.queryParams)||je.queryParamsSubject.next(ze.queryParams),rt.fragment!==ze.fragment&&je.fragmentSubject.next(ze.fragment),he(rt.params,ze.params)||je.paramsSubject.next(ze.params),function be(je,rt){if(je.length!==rt.length)return!1;for(let ze=0;ze<je.length;++ze)if(!he(je[ze],rt[ze]))return!1;return!0}(rt.url,ze.url)||je.urlSubject.next(ze.url),he(rt.data,ze.data)||je.dataSubject.next(ze.data)}else je.snapshot=je._futureSnapshot,je.dataSubject.next(je._futureSnapshot.data)}function br(je,rt){const ze=he(je.params,rt.params)&&function Se(je,rt){return Ae(je,rt)&&je.every((ze,ct)=>he(ze.parameters,rt[ct].parameters))}(je.url,rt.url);return ze&&!(!je.parent!=!rt.parent)&&(!je.parent||br(je.parent,rt.parent))}function Ur(je){return"string"==typeof je.title||null===je.title}let Br=(()=>{class je{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new w.bkB,this.deactivateEvents=new w.bkB,this.attachEvents=new w.bkB,this.detachEvents=new w.bkB,this.parentContexts=(0,w.WQX)(lt),this.location=(0,w.WQX)(w.c1b),this.changeDetector=(0,w.WQX)(w.gRc),this.inputBinder=(0,w.WQX)(so,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(ze){if(ze.name){const{firstChange:ct,previousValue:At}=ze.name;if(ct)return;this.isTrackedInParentContexts(At)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(At)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(ze){return this.parentContexts.getContext(ze)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const ze=this.parentContexts.getContext(this.name);ze?.route&&(ze.attachRef?this.attach(ze.attachRef,ze.route):this.activateWith(ze.route,ze.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.wOt(4012,!1);this.location.detach();const ze=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(ze.instance),ze}attach(ze,ct){this.activated=ze,this._activatedRoute=ct,this.location.insert(ze.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(ze.instance)}deactivate(){if(this.activated){const ze=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ze)}}activateWith(ze,ct){if(this.isActivated)throw new w.wOt(4013,!1);this._activatedRoute=ze;const At=this.location,wn=ze.snapshot.component,Jn=this.parentContexts.getOrCreateContext(this.name).children,$n=new Kr(ze,Jn,At.injector);this.activated=At.createComponent(wn,{index:At.length,injector:$n,environmentInjector:ct}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275dir=w.FsC({type:je,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.OA$]})}return je})();class Kr{__ngOutletInjector(rt){return new Kr(this.route,this.childContexts,rt)}constructor(rt,ze,ct){this.route=rt,this.childContexts=ze,this.parent=ct}get(rt,ze){return rt===it?this.route:rt===lt?this.childContexts:this.parent.get(rt,ze)}}const so=new w.nKC("");let $r=(()=>{class je{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ze){this.unsubscribeFromRouteData(ze),this.subscribeToRouteData(ze)}unsubscribeFromRouteData(ze){this.outletDataSubscriptions.get(ze)?.unsubscribe(),this.outletDataSubscriptions.delete(ze)}subscribeToRouteData(ze){const{activatedRoute:ct}=ze,At=(0,S.z)([ct.queryParams,ct.params,ct.data]).pipe((0,ie.n)(([sn,wn,Jn],$n)=>(Jn={...sn,...wn,...Jn},0===$n?(0,b.of)(Jn):Promise.resolve(Jn)))).subscribe(sn=>{if(!ze.isActivated||!ze.activatedComponentRef||ze.activatedRoute!==ct||null===ct.component)return void this.unsubscribeFromRouteData(ze);const wn=(0,w.HJs)(ct.component);if(wn)for(const{templateName:Jn}of wn.inputs)ze.activatedComponentRef.setInput(Jn,sn[Jn]);else this.unsubscribeFromRouteData(ze)});this.outletDataSubscriptions.set(ze,At)}static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac})}return je})();function Vr(je,rt,ze){if(ze&&je.shouldReuseRoute(rt.value,ze.value.snapshot)){const ct=ze.value;ct._futureSnapshot=rt.value;const At=function qr(je,rt,ze){return rt.children.map(ct=>{for(const At of ze.children)if(je.shouldReuseRoute(ct.value,At.value.snapshot))return Vr(je,ct,At);return Vr(je,ct)})}(je,rt,ze);return new nt(ct,At)}{if(je.shouldAttach(rt.value)){const sn=je.retrieve(rt.value);if(null!==sn){const wn=sn.route;return wn.value._futureSnapshot=rt.value,wn.children=rt.children.map(Jn=>Vr(je,Jn)),wn}}const ct=function vr(je){return new it(new k.t(je.url),new k.t(je.params),new k.t(je.queryParams),new k.t(je.fragment),new k.t(je.data),je.outlet,je.component,je)}(rt.value),At=rt.children.map(sn=>Vr(je,sn));return new nt(ct,At)}}class ni{constructor(rt,ze){this.redirectTo=rt,this.navigationBehaviorOptions=ze}}const Zi="ngNavigationCancelingError";function co(je,rt){const{redirectTo:ze,navigationBehaviorOptions:ct}=gn(rt)?{redirectTo:rt,navigationBehaviorOptions:void 0}:rt,At=Ui(!1,Or.Redirect);return At.url=ze,At.navigationBehaviorOptions=ct,At}function Ui(je,rt){const ze=new Error(`NavigationCancelingError: ${je||""}`);return ze[Zi]=!0,ze.cancellationCode=rt,ze}function Eo(je){return!!je&&je[Zi]}let Ei=(()=>{class je{static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275cmp=w.VBU({type:je,selectors:[["ng-component"]],standalone:!0,features:[w.aNF],decls:1,vars:0,template:function(ct,At){1&ct&&w.nrm(0,"router-outlet")},dependencies:[Br],encapsulation:2})}return je})();function da(je){const rt=je.children&&je.children.map(da),ze=rt?{...je,children:rt}:{...je};return!ze.component&&!ze.loadComponent&&(rt||ze.loadChildren)&&ze.outlet&&ze.outlet!==ge&&(ze.component=Ei),ze}function gs(je){return je.outlet||ge}function Va(je){if(!je)return null;if(je.routeConfig?._injector)return je.routeConfig._injector;for(let rt=je.parent;rt;rt=rt.parent){const ze=rt.routeConfig;if(ze?._loadedInjector)return ze._loadedInjector;if(ze?._injector)return ze._injector}return null}class au{constructor(rt,ze,ct,At,sn){this.routeReuseStrategy=rt,this.futureState=ze,this.currState=ct,this.forwardEvent=At,this.inputBindingEnabled=sn}activate(rt){const ze=this.futureState._root,ct=this.currState?this.currState._root:null;this.deactivateChildRoutes(ze,ct,rt),rr(this.futureState.root),this.activateChildRoutes(ze,ct,rt)}deactivateChildRoutes(rt,ze,ct){const At=Be(ze);rt.children.forEach(sn=>{const wn=sn.value.outlet;this.deactivateRoutes(sn,At[wn],ct),delete At[wn]}),Object.values(At).forEach(sn=>{this.deactivateRouteAndItsChildren(sn,ct)})}deactivateRoutes(rt,ze,ct){const At=rt.value,sn=ze?ze.value:null;if(At===sn)if(At.component){const wn=ct.getContext(At.outlet);wn&&this.deactivateChildRoutes(rt,ze,wn.children)}else this.deactivateChildRoutes(rt,ze,ct);else sn&&this.deactivateRouteAndItsChildren(ze,ct)}deactivateRouteAndItsChildren(rt,ze){rt.value.component&&this.routeReuseStrategy.shouldDetach(rt.value.snapshot)?this.detachAndStoreRouteSubtree(rt,ze):this.deactivateRouteAndOutlet(rt,ze)}detachAndStoreRouteSubtree(rt,ze){const ct=ze.getContext(rt.value.outlet),At=ct&&rt.value.component?ct.children:ze,sn=Be(rt);for(const wn of Object.values(sn))this.deactivateRouteAndItsChildren(wn,At);if(ct&&ct.outlet){const wn=ct.outlet.detach(),Jn=ct.children.onOutletDeactivated();this.routeReuseStrategy.store(rt.value.snapshot,{componentRef:wn,route:rt,contexts:Jn})}}deactivateRouteAndOutlet(rt,ze){const ct=ze.getContext(rt.value.outlet),At=ct&&rt.value.component?ct.children:ze,sn=Be(rt);for(const wn of Object.values(sn))this.deactivateRouteAndItsChildren(wn,At);ct&&(ct.outlet&&(ct.outlet.deactivate(),ct.children.onOutletDeactivated()),ct.attachRef=null,ct.route=null)}activateChildRoutes(rt,ze,ct){const At=Be(ze);rt.children.forEach(sn=>{this.activateRoutes(sn,At[sn.value.outlet],ct),this.forwardEvent(new mn(sn.value.snapshot))}),rt.children.length&&this.forwardEvent(new Lt(rt.value.snapshot))}activateRoutes(rt,ze,ct){const At=rt.value,sn=ze?ze.value:null;if(rr(At),At===sn)if(At.component){const wn=ct.getOrCreateContext(At.outlet);this.activateChildRoutes(rt,ze,wn.children)}else this.activateChildRoutes(rt,ze,ct);else if(At.component){const wn=ct.getOrCreateContext(At.outlet);if(this.routeReuseStrategy.shouldAttach(At.snapshot)){const Jn=this.routeReuseStrategy.retrieve(At.snapshot);this.routeReuseStrategy.store(At.snapshot,null),wn.children.onOutletReAttached(Jn.contexts),wn.attachRef=Jn.componentRef,wn.route=Jn.route.value,wn.outlet&&wn.outlet.attach(Jn.componentRef,Jn.route.value),rr(Jn.route.value),this.activateChildRoutes(rt,null,wn.children)}else{const Jn=Va(At.snapshot);wn.attachRef=null,wn.route=At,wn.injector=Jn??wn.injector,wn.outlet&&wn.outlet.activateWith(At,wn.injector),this.activateChildRoutes(rt,null,wn.children)}}else this.activateChildRoutes(rt,null,ct)}}class Ju{constructor(rt){this.path=rt,this.route=this.path[this.path.length-1]}}class ss{constructor(rt,ze){this.component=rt,this.route=ze}}function _g(je,rt,ze){const ct=je._root;return la(ct,rt?rt._root:null,ze,[ct.value])}function yo(je,rt){const ze=Symbol(),ct=rt.get(je,ze);return ct===ze?"function"!=typeof je||(0,w.LfX)(je)?rt.get(je):je:ct}function la(je,rt,ze,ct,At={canDeactivateChecks:[],canActivateChecks:[]}){const sn=Be(rt);return je.children.forEach(wn=>{(function Cs(je,rt,ze,ct,At={canDeactivateChecks:[],canActivateChecks:[]}){const sn=je.value,wn=rt?rt.value:null,Jn=ze?ze.getContext(je.value.outlet):null;if(wn&&sn.routeConfig===wn.routeConfig){const $n=function Yf(je,rt,ze){if("function"==typeof ze)return ze(je,rt);switch(ze){case"pathParamsChange":return!Ae(je.url,rt.url);case"pathParamsOrQueryParamsChange":return!Ae(je.url,rt.url)||!he(je.queryParams,rt.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!br(je,rt)||!he(je.queryParams,rt.queryParams);default:return!br(je,rt)}}(wn,sn,sn.routeConfig.runGuardsAndResolvers);$n?At.canActivateChecks.push(new Ju(ct)):(sn.data=wn.data,sn._resolvedData=wn._resolvedData),la(je,rt,sn.component?Jn?Jn.children:null:ze,ct,At),$n&&Jn&&Jn.outlet&&Jn.outlet.isActivated&&At.canDeactivateChecks.push(new ss(Jn.outlet.component,wn))}else wn&&cu(rt,Jn,At),At.canActivateChecks.push(new Ju(ct)),la(je,null,sn.component?Jn?Jn.children:null:ze,ct,At)})(wn,sn[wn.value.outlet],ze,ct.concat([wn.value]),At),delete sn[wn.value.outlet]}),Object.entries(sn).forEach(([wn,Jn])=>cu(Jn,ze.getContext(wn),At)),At}function cu(je,rt,ze){const ct=Be(je),At=je.value;Object.entries(ct).forEach(([sn,wn])=>{cu(wn,At.component?rt?rt.children.getContext(sn):null:rt,ze)}),ze.canDeactivateChecks.push(new ss(At.component&&rt&&rt.outlet&&rt.outlet.isActivated?rt.outlet.component:null,At))}function du(je){return"function"==typeof je}function Pt(je){return je instanceof R||"EmptyError"===je?.name}const dt=Symbol("INITIAL_VALUE");function tn(){return(0,ie.n)(je=>(0,S.z)(je.map(rt=>rt.pipe((0,ae.s)(1),(0,ue.Z)(dt)))).pipe((0,re.T)(rt=>{for(const ze of rt)if(!0!==ze){if(ze===dt)return dt;if(!1===ze||kn(ze))return ze}return!0}),(0,ce.p)(rt=>rt!==dt),(0,ae.s)(1)))}function kn(je){return gn(je)||je instanceof ni}function Ov(je){return(0,V.F)((0,I.M)(rt=>{if("boolean"!=typeof rt)throw co(0,rt)}),(0,re.T)(rt=>!0===rt))}class gd{constructor(rt){this.segmentGroup=rt||null}}class vo extends Error{constructor(rt){super(),this.urlTree=rt}}function yi(je){return(0,U.$)(new gd(je))}class wl{constructor(rt,ze){this.urlSerializer=rt,this.urlTree=ze}lineralizeSegments(rt,ze){let ct=[],At=ze.root;for(;;){if(ct=ct.concat(At.segments),0===At.numberOfChildren)return(0,b.of)(ct);if(At.numberOfChildren>1||!At.children[ge])return(0,U.$)(new w.wOt(4e3,!1));At=At.children[ge]}}applyRedirectCommands(rt,ze,ct,At,sn){if("string"!=typeof ze){const Jn=ze,{queryParams:$n,fragment:Tr,routeConfig:Ci,url:Yi,outlet:ho,params:Od,data:Yo,title:Ri}=At,Go=(0,w.N4e)(sn,()=>Jn({params:Od,data:Yo,queryParams:$n,fragment:Tr,routeConfig:Ci,url:Yi,outlet:ho,title:Ri}));if(Go instanceof M)throw new vo(Go);ze=Go}const wn=this.applyRedirectCreateUrlTree(ze,this.urlSerializer.parse(ze),rt,ct);if("/"===ze[0])throw new vo(wn);return wn}applyRedirectCreateUrlTree(rt,ze,ct,At){const sn=this.createSegmentGroup(rt,ze.root,ct,At);return new M(sn,this.createQueryParams(ze.queryParams,this.urlTree.queryParams),ze.fragment)}createQueryParams(rt,ze){const ct={};return Object.entries(rt).forEach(([At,sn])=>{if("string"==typeof sn&&":"===sn[0]){const Jn=sn.substring(1);ct[At]=ze[Jn]}else ct[At]=sn}),ct}createSegmentGroup(rt,ze,ct,At){const sn=this.createSegments(rt,ze.segments,ct,At);let wn={};return Object.entries(ze.children).forEach(([Jn,$n])=>{wn[Jn]=this.createSegmentGroup(rt,$n,ct,At)}),new G(sn,wn)}createSegments(rt,ze,ct,At){return ze.map(sn=>":"===sn.path[0]?this.findPosParam(rt,sn,At):this.findOrReturn(sn,ct))}findPosParam(rt,ze,ct){const At=ct[ze.path.substring(1)];if(!At)throw new w.wOt(4001,!1);return At}findOrReturn(rt,ze){let ct=0;for(const At of ze){if(At.path===rt.path)return ze.splice(ct),At;ct++}return rt}}const fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a1(je,rt,ze,ct,At){const sn=_l(je,rt,ze);return sn.matched?(ct=function Po(je,rt){return je.providers&&!je._injector&&(je._injector=(0,w.Ol2)(je.providers,rt,`Route: ${je.path}`)),je._injector??rt}(rt,ct),function s1(je,rt,ze,ct){const At=rt.canMatch;if(!At||0===At.length)return(0,b.of)(!0);const sn=At.map(wn=>{const Jn=yo(wn,je);return _e(function Ot(je){return je&&du(je.canMatch)}(Jn)?Jn.canMatch(rt,ze):(0,w.N4e)(je,()=>Jn(rt,ze)))});return(0,b.of)(sn).pipe(tn(),Ov())}(ct,rt,ze).pipe((0,re.T)(wn=>!0===wn?sn:{...fm}))):(0,b.of)(sn)}function _l(je,rt,ze){if("**"===rt.path)return function Gc(je){return{matched:!0,parameters:je.length>0?de(je).parameters:{},consumedSegments:je,remainingSegments:[],positionalParamSegments:{}}}(ze);if(""===rt.path)return"full"===rt.pathMatch&&(je.hasChildren()||ze.length>0)?{...fm}:{matched:!0,consumedSegments:[],remainingSegments:ze,parameters:{},positionalParamSegments:{}};const At=(rt.matcher||Ce)(ze,je,rt);if(!At)return{...fm};const sn={};Object.entries(At.posParams??{}).forEach(([Jn,$n])=>{sn[Jn]=$n.path});const wn=At.consumed.length>0?{...sn,...At.consumed[At.consumed.length-1].parameters}:sn;return{matched:!0,consumedSegments:At.consumed,remainingSegments:ze.slice(At.consumed.length),parameters:wn,positionalParamSegments:At.posParams??{}}}function qf(je,rt,ze,ct){return ze.length>0&&function Wi(je,rt,ze){return ze.some(ct=>Qf(je,rt,ct)&&gs(ct)!==ge)}(je,ze,ct)?{segmentGroup:new G(rt,c1(ct,new G(ze,je.children))),slicedSegments:[]}:0===ze.length&&function Zc(je,rt,ze){return ze.some(ct=>Qf(je,rt,ct))}(je,ze,ct)?{segmentGroup:new G(je.segments,ys(je,ze,ct,je.children)),slicedSegments:ze}:{segmentGroup:new G(je.segments,je.children),slicedSegments:ze}}function ys(je,rt,ze,ct){const At={};for(const sn of ze)if(Qf(je,rt,sn)&&!ct[gs(sn)]){const wn=new G([],{});At[gs(sn)]=wn}return{...ct,...At}}function c1(je,rt){const ze={};ze[ge]=rt;for(const ct of je)if(""===ct.path&&gs(ct)!==ge){const At=new G([],{});ze[gs(ct)]=At}return ze}function Qf(je,rt,ze){return(!(je.hasChildren()||rt.length>0)||"full"!==ze.pathMatch)&&""===ze.path}class Fh{}class Ia{constructor(rt,ze,ct,At,sn,wn,Jn){this.injector=rt,this.configLoader=ze,this.rootComponentType=ct,this.config=At,this.urlTree=sn,this.paramsInheritanceStrategy=wn,this.urlSerializer=Jn,this.applyRedirects=new wl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(rt){return new w.wOt(4002,`'${rt.segmentGroup}'`)}recognize(){const rt=qf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(rt).pipe((0,re.T)(({children:ze,rootSnapshot:ct})=>{const At=new nt(ct,ze),sn=new fn("",At),wn=function ur(je,rt,ze=null,ct=null){return Pn(er(je),rt,ze,ct)}(ct,[],this.urlTree.queryParams,this.urlTree.fragment);return wn.queryParams=this.urlTree.queryParams,sn.url=this.urlSerializer.serialize(wn),{state:sn,tree:wn}}))}match(rt){const ze=new xn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,rt,ge,ze).pipe((0,re.T)(ct=>({children:ct,rootSnapshot:ze})),(0,L.W)(ct=>{if(ct instanceof vo)return this.urlTree=ct.urlTree,this.match(ct.urlTree.root);throw ct instanceof gd?this.noMatchError(ct):ct}))}processSegmentGroup(rt,ze,ct,At,sn){return 0===ct.segments.length&&ct.hasChildren()?this.processChildren(rt,ze,ct,sn):this.processSegment(rt,ze,ct,ct.segments,At,!0,sn).pipe((0,re.T)(wn=>wn instanceof nt?[wn]:[]))}processChildren(rt,ze,ct,At){const sn=[];for(const wn of Object.keys(ct.children))"primary"===wn?sn.unshift(wn):sn.push(wn);return(0,H.H)(sn).pipe((0,_.H)(wn=>{const Jn=ct.children[wn],$n=function La(je,rt){const ze=je.filter(ct=>gs(ct)===rt);return ze.push(...je.filter(ct=>gs(ct)!==rt)),ze}(ze,wn);return this.processSegmentGroup(rt,$n,Jn,wn,At)}),function a(je,rt){return(0,ve.N)(function x(je,rt,ze,ct,At){return(sn,wn)=>{let Jn=ze,$n=rt,Tr=0;sn.subscribe((0,De._)(wn,Ci=>{const Yi=Tr++;$n=Jn?je($n,Ci,Yi):(Jn=!0,Ci),ct&&wn.next($n)},At&&(()=>{Jn&&wn.next($n),wn.complete()})))}}(je,rt,arguments.length>=2,!0))}((wn,Jn)=>(wn.push(...Jn),wn)),C(null),function Z(je,rt){const ze=arguments.length>=2;return ct=>ct.pipe(je?(0,ce.p)((At,sn)=>je(At,sn,ct)):h.D,v(1),ze?C(rt):s(()=>new R))}(),(0,pe.Z)(wn=>{if(null===wn)return yi(ct);const Jn=Qu(wn);return function Nv(je){je.sort((rt,ze)=>rt.value.outlet===ge?-1:ze.value.outlet===ge?1:rt.value.outlet.localeCompare(ze.value.outlet))}(Jn),(0,b.of)(Jn)}))}processSegment(rt,ze,ct,At,sn,wn,Jn){return(0,H.H)(ze).pipe((0,_.H)($n=>this.processSegmentAgainstRoute($n._injector??rt,ze,$n,ct,At,sn,wn,Jn).pipe((0,L.W)(Tr=>{if(Tr instanceof gd)return(0,b.of)(null);throw Tr}))),f($n=>!!$n),(0,L.W)($n=>{if(Pt($n))return function No(je,rt,ze){return 0===rt.length&&!je.children[ze]}(ct,At,sn)?(0,b.of)(new Fh):yi(ct);throw $n}))}processSegmentAgainstRoute(rt,ze,ct,At,sn,wn,Jn,$n){return function hm(je,rt,ze,ct){return!!(gs(je)===ct||ct!==ge&&Qf(rt,ze,je))&&_l(rt,je,ze).matched}(ct,At,sn,wn)?void 0===ct.redirectTo?this.matchSegmentAgainstRoute(rt,At,ct,sn,wn,$n):this.allowRedirects&&Jn?this.expandSegmentAgainstRouteUsingRedirect(rt,At,ze,ct,sn,wn,$n):yi(At):yi(At)}expandSegmentAgainstRouteUsingRedirect(rt,ze,ct,At,sn,wn,Jn){const{matched:$n,parameters:Tr,consumedSegments:Ci,positionalParamSegments:Yi,remainingSegments:ho}=_l(ze,At,sn);if(!$n)return yi(ze);"string"==typeof At.redirectTo&&"/"===At.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Od=new xn(sn,Tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jh(At),gs(At),At.component??At._loadedComponent??null,At,ef(At)),Yo=Kt(Od,Jn,this.paramsInheritanceStrategy);Od.params=Object.freeze(Yo.params),Od.data=Object.freeze(Yo.data);const Ri=this.applyRedirects.applyRedirectCommands(Ci,At.redirectTo,Yi,Od,rt);return this.applyRedirects.lineralizeSegments(At,Ri).pipe((0,pe.Z)(Go=>this.processSegment(rt,ct,ze,Go.concat(ho),wn,!1,Jn)))}matchSegmentAgainstRoute(rt,ze,ct,At,sn,wn){const Jn=a1(ze,ct,At,rt);return"**"===ct.path&&(ze.children={}),Jn.pipe((0,ie.n)($n=>$n.matched?this.getChildConfig(rt=ct._injector??rt,ct,At).pipe((0,ie.n)(({routes:Tr})=>{const Ci=ct._loadedInjector??rt,{parameters:Yi,consumedSegments:ho,remainingSegments:Od}=$n,Yo=new xn(ho,Yi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jh(ct),gs(ct),ct.component??ct._loadedComponent??null,ct,ef(ct)),Ri=Kt(Yo,wn,this.paramsInheritanceStrategy);Yo.params=Object.freeze(Ri.params),Yo.data=Object.freeze(Ri.data);const{segmentGroup:Go,slicedSegments:Zo}=qf(ze,ho,Od,Tr);if(0===Zo.length&&Go.hasChildren())return this.processChildren(Ci,Tr,Go,Yo).pipe((0,re.T)(pa=>new nt(Yo,pa)));if(0===Tr.length&&0===Zo.length)return(0,b.of)(new nt(Yo,[]));const hu=gs(ct)===sn;return this.processSegment(Ci,Tr,Go,Zo,hu?ge:sn,!0,Yo).pipe((0,re.T)(pa=>new nt(Yo,pa instanceof nt?[pa]:[])))})):yi(ze)))}getChildConfig(rt,ze,ct){return ze.children?(0,b.of)({routes:ze.children,injector:rt}):ze.loadChildren?void 0!==ze._loadedRoutes?(0,b.of)({routes:ze._loadedRoutes,injector:ze._loadedInjector}):function Rv(je,rt,ze,ct){const At=rt.canLoad;if(void 0===At||0===At.length)return(0,b.of)(!0);const sn=At.map(wn=>{const Jn=yo(wn,je);return _e(function xi(je){return je&&du(je.canLoad)}(Jn)?Jn.canLoad(rt,ze):(0,w.N4e)(je,()=>Jn(rt,ze)))});return(0,b.of)(sn).pipe(tn(),Ov())}(rt,ze,ct).pipe((0,pe.Z)(At=>At?this.configLoader.loadChildren(rt,ze).pipe((0,I.M)(sn=>{ze._loadedRoutes=sn.routes,ze._loadedInjector=sn.injector})):function Jf(je){return(0,U.$)(Ui(!1,Or.GuardRejected))}())):(0,b.of)({routes:[],injector:rt})}}function d1(je){const rt=je.value.routeConfig;return rt&&""===rt.path}function Qu(je){const rt=[],ze=new Set;for(const ct of je){if(!d1(ct)){rt.push(ct);continue}const At=rt.find(sn=>ct.value.routeConfig===sn.value.routeConfig);void 0!==At?(At.children.push(...ct.children),ze.add(At)):rt.push(ct)}for(const ct of ze){const At=Qu(ct.children);rt.push(new nt(ct.value,At))}return rt.filter(ct=>!ze.has(ct))}function jh(je){return je.data||{}}function ef(je){return je.resolve||{}}function th(je){const rt=je.children.map(ze=>th(ze)).flat();return[je,...rt]}function Eg(je){return(0,ie.n)(rt=>{const ze=je(rt);return ze?(0,H.H)(ze).pipe((0,re.T)(()=>rt)):(0,b.of)(rt)})}let pm=(()=>{class je{buildTitle(ze){let ct,At=ze.root;for(;void 0!==At;)ct=this.getResolvedTitleForRoute(At)??ct,At=At.children.find(sn=>sn.outlet===ge);return ct}getResolvedTitleForRoute(ze){return ze.data[me]}static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275prov=w.jDH({token:je,factory:()=>(0,w.WQX)(na),providedIn:"root"})}return je})(),na=(()=>{class je extends pm{constructor(ze){super(),this.title=ze}updateTitle(ze){const ct=this.buildTitle(ze);void 0!==ct&&this.title.setTitle(ct)}static#e=this.\u0275fac=function(ct){return new(ct||je)(w.KVO(Ze.hE))};static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();const nh=new w.nKC("",{providedIn:"root",factory:()=>({})}),rh=new w.nKC("");let Je=(()=>{class je{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.WQX)(w.Ql9)}loadComponent(ze){if(this.componentLoaders.get(ze))return this.componentLoaders.get(ze);if(ze._loadedComponent)return(0,b.of)(ze._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(ze);const ct=_e(ze.loadComponent()).pipe((0,re.T)(Ut),(0,I.M)(sn=>{this.onLoadEndListener&&this.onLoadEndListener(ze),ze._loadedComponent=sn}),(0,ee.j)(()=>{this.componentLoaders.delete(ze)})),At=new Q.G(ct,()=>new q.B).pipe((0,le.B)());return this.componentLoaders.set(ze,At),At}loadChildren(ze,ct){if(this.childrenLoaders.get(ct))return this.childrenLoaders.get(ct);if(ct._loadedRoutes)return(0,b.of)({routes:ct._loadedRoutes,injector:ct._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(ct);const sn=function $t(je,rt,ze,ct){return _e(je.loadChildren()).pipe((0,re.T)(Ut),(0,pe.Z)(At=>At instanceof w.Co$||Array.isArray(At)?(0,b.of)(At):(0,H.H)(rt.compileModuleAsync(At))),(0,re.T)(At=>{ct&&ct(je);let sn,wn,Jn=!1;return Array.isArray(At)?(wn=At,!0):(sn=At.create(ze).injector,wn=sn.get(rh,[],{optional:!0,self:!0}).flat()),{routes:wn.map(da),injector:sn}}))}(ct,this.compiler,ze,this.onLoadEndListener).pipe((0,ee.j)(()=>{this.childrenLoaders.delete(ct)})),wn=new Q.G(sn,()=>new q.B).pipe((0,le.B)());return this.childrenLoaders.set(ct,wn),wn}static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();function Ut(je){return function mt(je){return je&&"object"==typeof je&&"default"in je}(je)?je.default:je}let bn=(()=>{class je{static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275prov=w.jDH({token:je,factory:()=>(0,w.WQX)(Rn),providedIn:"root"})}return je})(),Rn=(()=>{class je{shouldProcessUrl(ze){return!0}extract(ze){return ze}merge(ze,ct){return ze}static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();const fr=new w.nKC(""),Jr=new w.nKC("");function Pi(je,rt,ze){const ct=je.get(Jr),At=je.get(W.qQ);return je.get(w.SKi).runOutsideAngular(()=>{if(!At.startViewTransition||ct.skipNextTransition)return ct.skipNextTransition=!1,new Promise(Tr=>setTimeout(Tr));let sn;const wn=new Promise(Tr=>{sn=Tr}),Jn=At.startViewTransition(()=>(sn(),function Ho(je){return new Promise(rt=>{(0,w.mal)(()=>setTimeout(rt),{injector:je,phase:w.wjH.Read})})}(je))),{onViewTransitionCreated:$n}=ct;return $n&&(0,w.N4e)(je,()=>$n({transition:Jn,from:rt,to:ze})),wn})}const Ro=new w.nKC("");let ti=(()=>{class je{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q.B,this.transitionAbortSubject=new q.B,this.configLoader=(0,w.WQX)(Je),this.environmentInjector=(0,w.WQX)(w.uvJ),this.urlSerializer=(0,w.WQX)(Gt),this.rootContexts=(0,w.WQX)(lt),this.location=(0,w.WQX)(W.aZ),this.inputBindingEnabled=null!==(0,w.WQX)(so,{optional:!0}),this.titleStrategy=(0,w.WQX)(pm),this.options=(0,w.WQX)(nh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,w.WQX)(bn),this.createViewTransition=(0,w.WQX)(fr,{optional:!0}),this.navigationErrorHandler=(0,w.WQX)(Ro,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,b.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=At=>this.events.next(new qe(At)),this.configLoader.onLoadStartListener=At=>this.events.next(new We(At))}complete(){this.transitions?.complete()}handleNavigationRequest(ze){const ct=++this.navigationId;this.transitions?.next({...this.transitions.value,...ze,id:ct})}setupNavigations(ze,ct,At){return this.transitions=new k.t({id:0,currentUrlTree:ct,currentRawUrl:ct,extractedUrl:this.urlHandlingStrategy.extract(ct),urlAfterRedirects:this.urlHandlingStrategy.extract(ct),rawUrl:ct,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Fn,restoredState:null,currentSnapshot:At.snapshot,targetSnapshot:null,currentRouterState:At,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ce.p)(sn=>0!==sn.id),(0,re.T)(sn=>({...sn,extractedUrl:this.urlHandlingStrategy.extract(sn.rawUrl)})),(0,ie.n)(sn=>{let wn=!1,Jn=!1;return(0,b.of)(sn).pipe((0,ie.n)($n=>{if(this.navigationId>sn.id)return this.cancelNavigationTransition(sn,"",Or.SupersededByNewNavigation),K.w;this.currentTransition=sn,this.currentNavigation={id:$n.id,initialUrl:$n.rawUrl,extractedUrl:$n.extractedUrl,trigger:$n.source,extras:$n.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Tr=!ze.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Tr&&"reload"!==($n.extras.onSameUrlNavigation??ze.onSameUrlNavigation)){const Yi="";return this.events.next(new Hi($n.id,this.urlSerializer.serialize($n.rawUrl),Yi,$i.IgnoredSameUrlNavigation)),$n.resolve(!1),K.w}if(this.urlHandlingStrategy.shouldProcessUrl($n.rawUrl))return(0,b.of)($n).pipe((0,ie.n)(Yi=>{const ho=this.transitions?.getValue();return this.events.next(new hr(Yi.id,this.urlSerializer.serialize(Yi.extractedUrl),Yi.source,Yi.restoredState)),ho!==this.transitions?.getValue()?K.w:Promise.resolve(Yi)}),function eh(je,rt,ze,ct,At,sn){return(0,pe.Z)(wn=>function Wr(je,rt,ze,ct,At,sn,wn="emptyOnly"){return new Ia(je,rt,ze,ct,At,wn,sn).recognize()}(je,rt,ze,ct,wn.extractedUrl,At,sn).pipe((0,re.T)(({state:Jn,tree:$n})=>({...wn,targetSnapshot:Jn,urlAfterRedirects:$n}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,ze.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,I.M)(Yi=>{sn.targetSnapshot=Yi.targetSnapshot,sn.urlAfterRedirects=Yi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Yi.urlAfterRedirects};const ho=new pi(Yi.id,this.urlSerializer.serialize(Yi.extractedUrl),this.urlSerializer.serialize(Yi.urlAfterRedirects),Yi.targetSnapshot);this.events.next(ho)}));if(Tr&&this.urlHandlingStrategy.shouldProcessUrl($n.currentRawUrl)){const{id:Yi,extractedUrl:ho,source:Od,restoredState:Yo,extras:Ri}=$n,Go=new hr(Yi,this.urlSerializer.serialize(ho),Od,Yo);this.events.next(Go);const Zo=xt(this.rootComponentType).snapshot;return this.currentTransition=sn={...$n,targetSnapshot:Zo,urlAfterRedirects:ho,extras:{...Ri,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ho,(0,b.of)(sn)}{const Yi="";return this.events.next(new Hi($n.id,this.urlSerializer.serialize($n.extractedUrl),Yi,$i.IgnoredByUrlHandlingStrategy)),$n.resolve(!1),K.w}}),(0,I.M)($n=>{const Tr=new So($n.id,this.urlSerializer.serialize($n.extractedUrl),this.urlSerializer.serialize($n.urlAfterRedirects),$n.targetSnapshot);this.events.next(Tr)}),(0,re.T)($n=>(this.currentTransition=sn={...$n,guards:_g($n.targetSnapshot,$n.currentSnapshot,this.rootContexts)},sn)),function Xr(je,rt){return(0,pe.Z)(ze=>{const{targetSnapshot:ct,currentSnapshot:At,guards:{canActivateChecks:sn,canDeactivateChecks:wn}}=ze;return 0===wn.length&&0===sn.length?(0,b.of)({...ze,guardsResult:!0}):function lo(je,rt,ze,ct){return(0,H.H)(je).pipe((0,pe.Z)(At=>function Ai(je,rt,ze,ct,At){const sn=rt&&rt.routeConfig?rt.routeConfig.canDeactivate:null;if(!sn||0===sn.length)return(0,b.of)(!0);const wn=sn.map(Jn=>{const $n=Va(rt)??At,Tr=yo(Jn,$n);return _e(function qu(je){return je&&du(je.canDeactivate)}(Tr)?Tr.canDeactivate(je,rt,ze,ct):(0,w.N4e)($n,()=>Tr(je,rt,ze,ct))).pipe(f())});return(0,b.of)(wn).pipe(tn())}(At.component,At.route,ze,rt,ct)),f(At=>!0!==At,!0))}(wn,ct,At,je).pipe((0,pe.Z)(Jn=>Jn&&function zo(je){return"boolean"==typeof je}(Jn)?function ac(je,rt,ze,ct){return(0,H.H)(rt).pipe((0,_.H)(At=>(0,O.x)(function bl(je,rt){return null!==je&&rt&&rt(new Mt(je)),(0,b.of)(!0)}(At.route.parent,ct),function Cd(je,rt){return null!==je&&rt&&rt(new Yt(je)),(0,b.of)(!0)}(At.route,ct),function kc(je,rt,ze){const ct=rt[rt.length-1],sn=rt.slice(0,rt.length-1).reverse().map(wn=>function Uh(je){const rt=je.routeConfig?je.routeConfig.canActivateChild:null;return rt&&0!==rt.length?{node:je,guards:rt}:null}(wn)).filter(wn=>null!==wn).map(wn=>(0,A.v)(()=>{const Jn=wn.guards.map($n=>{const Tr=Va(wn.node)??ze,Ci=yo($n,Tr);return _e(function Ua(je){return je&&du(je.canActivateChild)}(Ci)?Ci.canActivateChild(ct,je):(0,w.N4e)(Tr,()=>Ci(ct,je))).pipe(f())});return(0,b.of)(Jn).pipe(tn())}));return(0,b.of)(sn).pipe(tn())}(je,At.path,ze),function Pv(je,rt,ze){const ct=rt.routeConfig?rt.routeConfig.canActivate:null;if(!ct||0===ct.length)return(0,b.of)(!0);const At=ct.map(sn=>(0,A.v)(()=>{const wn=Va(rt)??ze,Jn=yo(sn,wn);return _e(function Ad(je){return je&&du(je.canActivate)}(Jn)?Jn.canActivate(rt,je):(0,w.N4e)(wn,()=>Jn(rt,je))).pipe(f())}));return(0,b.of)(At).pipe(tn())}(je,At.route,ze))),f(At=>!0!==At,!0))}(ct,sn,je,rt):(0,b.of)(Jn)),(0,re.T)(Jn=>({...ze,guardsResult:Jn})))})}(this.environmentInjector,$n=>this.events.next($n)),(0,I.M)($n=>{if(sn.guardsResult=$n.guardsResult,$n.guardsResult&&"boolean"!=typeof $n.guardsResult)throw co(0,$n.guardsResult);const Tr=new wi($n.id,this.urlSerializer.serialize($n.extractedUrl),this.urlSerializer.serialize($n.urlAfterRedirects),$n.targetSnapshot,!!$n.guardsResult);this.events.next(Tr)}),(0,ce.p)($n=>!!$n.guardsResult||(this.cancelNavigationTransition($n,"",Or.GuardRejected),!1)),Eg($n=>{if($n.guards.canActivateChecks.length)return(0,b.of)($n).pipe((0,I.M)(Tr=>{const Ci=new gt(Tr.id,this.urlSerializer.serialize(Tr.extractedUrl),this.urlSerializer.serialize(Tr.urlAfterRedirects),Tr.targetSnapshot);this.events.next(Ci)}),(0,ie.n)(Tr=>{let Ci=!1;return(0,b.of)(Tr).pipe(function kd(je,rt){return(0,pe.Z)(ze=>{const{targetSnapshot:ct,guards:{canActivateChecks:At}}=ze;if(!At.length)return(0,b.of)(ze);const sn=new Set(At.map($n=>$n.route)),wn=new Set;for(const $n of sn)if(!wn.has($n))for(const Tr of th($n))wn.add(Tr);let Jn=0;return(0,H.H)(wn).pipe((0,_.H)($n=>sn.has($n)?function Bv(je,rt,ze,ct){const At=je.routeConfig,sn=je._resolve;return void 0!==At?.title&&!Ur(At)&&(sn[me]=At.title),function pr(je,rt,ze,ct){const At=ne(je);if(0===At.length)return(0,b.of)({});const sn={};return(0,H.H)(At).pipe((0,pe.Z)(wn=>function ui(je,rt,ze,ct){const At=Va(rt)??ct,sn=yo(je,At);return _e(sn.resolve?sn.resolve(rt,ze):(0,w.N4e)(At,()=>sn(rt,ze)))}(je[wn],rt,ze,ct).pipe(f(),(0,I.M)(Jn=>{if(Jn instanceof ni)throw co(new _t,Jn);sn[wn]=Jn}))),v(1),(0,z.u)(sn),(0,L.W)(wn=>Pt(wn)?K.w:(0,U.$)(wn)))}(sn,je,rt,ct).pipe((0,re.T)(wn=>(je._resolvedData=wn,je.data=Kt(je,je.parent,ze).resolve,null)))}($n,ct,je,rt):($n.data=Kt($n,$n.parent,je).resolve,(0,b.of)(void 0))),(0,I.M)(()=>Jn++),v(1),(0,pe.Z)($n=>Jn===wn.size?(0,b.of)(ze):K.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,I.M)({next:()=>Ci=!0,complete:()=>{Ci||this.cancelNavigationTransition(Tr,"",Or.NoDataFromResolver)}}))}),(0,I.M)(Tr=>{const Ci=new Ft(Tr.id,this.urlSerializer.serialize(Tr.extractedUrl),this.urlSerializer.serialize(Tr.urlAfterRedirects),Tr.targetSnapshot);this.events.next(Ci)}))}),Eg($n=>{const Tr=Ci=>{const Yi=[];Ci.routeConfig?.loadComponent&&!Ci.routeConfig._loadedComponent&&Yi.push(this.configLoader.loadComponent(Ci.routeConfig).pipe((0,I.M)(ho=>{Ci.component=ho}),(0,re.T)(()=>{})));for(const ho of Ci.children)Yi.push(...Tr(ho));return Yi};return(0,S.z)(Tr($n.targetSnapshot.root)).pipe(C(null),(0,ae.s)(1))}),Eg(()=>this.afterPreactivation()),(0,ie.n)(()=>{const{currentSnapshot:$n,targetSnapshot:Tr}=sn,Ci=this.createViewTransition?.(this.environmentInjector,$n.root,Tr.root);return Ci?(0,H.H)(Ci).pipe((0,re.T)(()=>sn)):(0,b.of)(sn)}),(0,re.T)($n=>{const Tr=function Rr(je,rt,ze){const ct=Vr(je,rt._root,ze?ze._root:void 0);return new Fe(ct,rt)}(ze.routeReuseStrategy,$n.targetSnapshot,$n.currentRouterState);return this.currentTransition=sn={...$n,targetRouterState:Tr},this.currentNavigation.targetRouterState=Tr,sn}),(0,I.M)(()=>{this.events.next(new Tn)}),((je,rt,ze,ct)=>(0,re.T)(At=>(new au(rt,At.targetRouterState,At.currentRouterState,ze,ct).activate(je),At)))(this.rootContexts,ze.routeReuseStrategy,$n=>this.events.next($n),this.inputBindingEnabled),(0,ae.s)(1),(0,I.M)({next:$n=>{wn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jr($n.id,this.urlSerializer.serialize($n.extractedUrl),this.urlSerializer.serialize($n.urlAfterRedirects))),this.titleStrategy?.updateTitle($n.targetRouterState.snapshot),$n.resolve(!0)},complete:()=>{wn=!0}}),(0,we.Q)(this.transitionAbortSubject.pipe((0,I.M)($n=>{throw $n}))),(0,ee.j)(()=>{!wn&&!Jn&&this.cancelNavigationTransition(sn,"",Or.SupersededByNewNavigation),this.currentTransition?.id===sn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,L.W)($n=>{if(Jn=!0,Eo($n))this.events.next(new oo(sn.id,this.urlSerializer.serialize(sn.extractedUrl),$n.message,$n.cancellationCode)),function _o(je){return Eo(je)&&gn(je.url)}($n)?this.events.next(new un($n.url,$n.navigationBehaviorOptions)):sn.resolve(!1);else{const Tr=new bi(sn.id,this.urlSerializer.serialize(sn.extractedUrl),$n,sn.targetSnapshot??void 0);try{const Ci=(0,w.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Tr));if(Ci instanceof ni){const{message:Yi,cancellationCode:ho}=co(0,Ci);this.events.next(new oo(sn.id,this.urlSerializer.serialize(sn.extractedUrl),Yi,ho)),this.events.next(new un(Ci.redirectTo,Ci.navigationBehaviorOptions))}else{this.events.next(Tr);const Yi=ze.errorHandler($n);sn.resolve(!!Yi)}}catch(Ci){this.options.resolveNavigationPromiseOnError?sn.resolve(!1):sn.reject(Ci)}}return K.w}))}))}cancelNavigationTransition(ze,ct,At){const sn=new oo(ze.id,this.urlSerializer.serialize(ze.extractedUrl),ct,At);this.events.next(sn),ze.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();function Us(je){return je!==Fn}let Wo=(()=>{class je{static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275prov=w.jDH({token:je,factory:()=>(0,w.WQX)(cc),providedIn:"root"})}return je})();class To{shouldDetach(rt){return!1}store(rt,ze){}shouldAttach(rt){return!1}retrieve(rt){return null}shouldReuseRoute(rt,ze){return rt.routeConfig===ze.routeConfig}}let cc=(()=>{class je extends To{static#e=this.\u0275fac=(()=>{let ze;return function(At){return(ze||(ze=w.xGo(je)))(At||je)}})();static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})(),yd=(()=>{class je{static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275prov=w.jDH({token:je,factory:()=>(0,w.WQX)(ha),providedIn:"root"})}return je})(),ha=(()=>{class je extends yd{constructor(){super(...arguments),this.location=(0,w.WQX)(W.aZ),this.urlSerializer=(0,w.WQX)(Gt),this.options=(0,w.WQX)(nh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,w.WQX)(bn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new M,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(ze){return this.location.subscribe(ct=>{"popstate"===ct.type&&ze(ct.url,ct.state)})}handleRouterEvent(ze,ct){if(ze instanceof hr)this.stateMemento=this.createStateMemento();else if(ze instanceof Hi)this.rawUrlTree=ct.initialUrl;else if(ze instanceof pi){if("eager"===this.urlUpdateStrategy&&!ct.extras.skipLocationChange){const At=this.urlHandlingStrategy.merge(ct.finalUrl,ct.initialUrl);this.setBrowserUrl(At,ct)}}else ze instanceof Tn?(this.currentUrlTree=ct.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(ct.finalUrl,ct.initialUrl),this.routerState=ct.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ct.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ct))):ze instanceof oo&&(ze.code===Or.GuardRejected||ze.code===Or.NoDataFromResolver)?this.restoreHistory(ct):ze instanceof bi?this.restoreHistory(ct,!0):ze instanceof jr&&(this.lastSuccessfulId=ze.id,this.currentPageId=this.browserPageId)}setBrowserUrl(ze,ct){const At=this.urlSerializer.serialize(ze);if(this.location.isCurrentPathEqualTo(At)||ct.extras.replaceUrl){const wn={...ct.extras.state,...this.generateNgRouterState(ct.id,this.browserPageId)};this.location.replaceState(At,"",wn)}else{const sn={...ct.extras.state,...this.generateNgRouterState(ct.id,this.browserPageId+1)};this.location.go(At,"",sn)}}restoreHistory(ze,ct=!1){if("computed"===this.canceledNavigationResolution){const sn=this.currentPageId-this.browserPageId;0!==sn?this.location.historyGo(sn):this.currentUrlTree===ze.finalUrl&&0===sn&&(this.resetState(ze),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(ct&&this.resetState(ze),this.resetUrlToCurrentUrlTree())}resetState(ze){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,ze.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(ze,ct){return"computed"===this.canceledNavigationResolution?{navigationId:ze,\u0275routerPageId:ct}:{navigationId:ze}}static#e=this.\u0275fac=(()=>{let ze;return function(At){return(ze||(ze=w.xGo(je)))(At||je)}})();static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();var Pc=function(je){return je[je.COMPLETE=0]="COMPLETE",je[je.FAILED=1]="FAILED",je[je.REDIRECTING=2]="REDIRECTING",je}(Pc||{});function fo(je,rt){je.events.pipe((0,ce.p)(ze=>ze instanceof jr||ze instanceof oo||ze instanceof bi||ze instanceof Hi),(0,re.T)(ze=>ze instanceof jr||ze instanceof Hi?Pc.COMPLETE:ze instanceof oo&&(ze.code===Or.Redirect||ze.code===Or.SupersededByNewNavigation)?Pc.REDIRECTING:Pc.FAILED),(0,ce.p)(ze=>ze!==Pc.REDIRECTING),(0,ae.s)(1)).subscribe(()=>{rt()})}function Pd(je){throw je}const ei={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ks=(()=>{class je{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,w.WQX)(w.H3F),this.stateManager=(0,w.WQX)(yd),this.options=(0,w.WQX)(nh,{optional:!0})||{},this.pendingTasks=(0,w.WQX)(w.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,w.WQX)(ti),this.urlSerializer=(0,w.WQX)(Gt),this.location=(0,w.WQX)(W.aZ),this.urlHandlingStrategy=(0,w.WQX)(bn),this._events=new q.B,this.errorHandler=this.options.errorHandler||Pd,this.navigated=!1,this.routeReuseStrategy=(0,w.WQX)(Wo),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,w.WQX)(rh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,w.WQX)(so,{optional:!0}),this.eventsSubscription=new Y.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ze=>{this.console.warn(ze)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const ze=this.navigationTransitions.events.subscribe(ct=>{try{const At=this.navigationTransitions.currentTransition,sn=this.navigationTransitions.currentNavigation;if(null!==At&&null!==sn)if(this.stateManager.handleRouterEvent(ct,sn),ct instanceof oo&&ct.code!==Or.Redirect&&ct.code!==Or.SupersededByNewNavigation)this.navigated=!0;else if(ct instanceof jr)this.navigated=!0;else if(ct instanceof un){const wn=ct.navigationBehaviorOptions,Jn=this.urlHandlingStrategy.merge(ct.url,At.currentRawUrl),$n={info:At.extras.info,skipLocationChange:At.extras.skipLocationChange,replaceUrl:At.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Us(At.source),...wn};this.scheduleNavigation(Jn,Fn,null,$n,{resolve:At.resolve,reject:At.reject,promise:At.promise})}(function Lv(je){return!(je instanceof Tn||je instanceof un)})(ct)&&this._events.next(ct)}catch(At){this.navigationTransitions.transitionAbortSubject.next(At)}});this.eventsSubscription.add(ze)}resetRootComponentType(ze){this.routerState.root.component=ze,this.navigationTransitions.rootComponentType=ze}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((ze,ct)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(ze,"popstate",ct)},0)})}navigateToSyncWithBrowser(ze,ct,At){const sn={replaceUrl:!0},wn=At?.navigationId?At:null;if(At){const $n={...At};delete $n.navigationId,delete $n.\u0275routerPageId,0!==Object.keys($n).length&&(sn.state=$n)}const Jn=this.parseUrl(ze);this.scheduleNavigation(Jn,ct,wn,sn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(ze){this.config=ze.map(da),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(ze,ct={}){const{relativeTo:At,queryParams:sn,fragment:wn,queryParamsHandling:Jn,preserveFragment:$n}=ct,Tr=$n?this.currentUrlTree.fragment:wn;let Yi,Ci=null;switch(Jn){case"merge":Ci={...this.currentUrlTree.queryParams,...sn};break;case"preserve":Ci=this.currentUrlTree.queryParams;break;default:Ci=sn||null}null!==Ci&&(Ci=this.removeEmptyProps(Ci));try{Yi=er(At?At.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof ze[0]||"/"!==ze[0][0])&&(ze=[]),Yi=this.currentUrlTree.root}return Pn(Yi,ze,Ci,Tr??null)}navigateByUrl(ze,ct={skipLocationChange:!1}){const At=gn(ze)?ze:this.parseUrl(ze),sn=this.urlHandlingStrategy.merge(At,this.rawUrlTree);return this.scheduleNavigation(sn,Fn,null,ct)}navigate(ze,ct={skipLocationChange:!1}){return function $h(je){for(let rt=0;rt<je.length;rt++)if(null==je[rt])throw new w.wOt(4008,!1)}(ze),this.navigateByUrl(this.createUrlTree(ze,ct),ct)}serializeUrl(ze){return this.urlSerializer.serialize(ze)}parseUrl(ze){try{return this.urlSerializer.parse(ze)}catch{return this.urlSerializer.parse("/")}}isActive(ze,ct){let At;if(At=!0===ct?{...ei}:!1===ct?{...lu}:ct,gn(ze))return Ve(this.currentUrlTree,ze,At);const sn=this.parseUrl(ze);return Ve(this.currentUrlTree,sn,At)}removeEmptyProps(ze){return Object.entries(ze).reduce((ct,[At,sn])=>(null!=sn&&(ct[At]=sn),ct),{})}scheduleNavigation(ze,ct,At,sn,wn){if(this.disposed)return Promise.resolve(!1);let Jn,$n,Tr;wn?(Jn=wn.resolve,$n=wn.reject,Tr=wn.promise):Tr=new Promise((Yi,ho)=>{Jn=Yi,$n=ho});const Ci=this.pendingTasks.add();return fo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ci))}),this.navigationTransitions.handleNavigationRequest({source:ct,restoredState:At,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:ze,extras:sn,resolve:Jn,reject:$n,promise:Tr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tr.catch(Yi=>Promise.reject(Yi))}static#e=this.\u0275fac=function(ct){return new(ct||je)};static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})(),Hs=(()=>{class je{constructor(ze,ct,At,sn,wn,Jn){this.router=ze,this.route=ct,this.tabIndexAttribute=At,this.renderer=sn,this.el=wn,this.locationStrategy=Jn,this.href=null,this.commands=null,this.onChanges=new q.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const $n=wn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===$n||"area"===$n,this.isAnchorElement?this.subscription=ze.events.subscribe(Tr=>{Tr instanceof jr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(ze){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ze)}ngOnChanges(ze){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(ze){null!=ze?(this.commands=Array.isArray(ze)?ze:[ze],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(ze,ct,At,sn,wn){const Jn=this.urlTree;return!!(null===Jn||this.isAnchorElement&&(0!==ze||ct||At||sn||wn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Jn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const ze=this.urlTree;this.href=null!==ze&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(ze)):null;const ct=null===this.href?null:(0,w.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ct)}applyAttributeValue(ze,ct){const At=this.renderer,sn=this.el.nativeElement;null!==ct?At.setAttribute(sn,ze,ct):At.removeAttribute(sn,ze)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(ct){return new(ct||je)(w.rXU(Ks),w.rXU(it),w.kS0("tabindex"),w.rXU(w.sFG),w.rXU(w.aKT),w.rXU(W.hb))};static#t=this.\u0275dir=w.FsC({type:je,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(ct,At){1&ct&&w.bIt("click",function(wn){return At.onClick(wn.button,wn.ctrlKey,wn.shiftKey,wn.altKey,wn.metaKey)}),2&ct&&w.BMQ("target",At.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",w.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",w.L39],replaceUrl:[2,"replaceUrl","replaceUrl",w.L39],routerLink:"routerLink"},standalone:!0,features:[w.GFd,w.OA$]})}return je})(),Uv=(()=>{class je{get isActive(){return this._isActive}constructor(ze,ct,At,sn,wn){this.router=ze,this.element=ct,this.renderer=At,this.cdr=sn,this.link=wn,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new w.bkB,this.routerEventsSubscription=ze.events.subscribe(Jn=>{Jn instanceof jr&&this.update()})}ngAfterContentInit(){(0,b.of)(this.links.changes,(0,b.of)(null)).pipe((0,Me.U)()).subscribe(ze=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const ze=[...this.links.toArray(),this.link].filter(ct=>!!ct).map(ct=>ct.onChanges);this.linkInputChangesSubscription=(0,H.H)(ze).pipe((0,Me.U)()).subscribe(ct=>{this._isActive!==this.isLinkActive(this.router)(ct)&&this.update()})}set routerLinkActive(ze){const ct=Array.isArray(ze)?ze:ze.split(" ");this.classes=ct.filter(At=>!!At)}ngOnChanges(ze){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const ze=this.hasActiveLinks();this.classes.forEach(ct=>{ze?this.renderer.addClass(this.element.nativeElement,ct):this.renderer.removeClass(this.element.nativeElement,ct)}),ze&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==ze&&(this._isActive=ze,this.cdr.markForCheck(),this.isActiveChange.emit(ze))})}isLinkActive(ze){const ct=function dc(je){return!!je.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return At=>{const sn=At.urlTree;return!!sn&&ze.isActive(sn,ct)}}hasActiveLinks(){const ze=this.isLinkActive(this.router);return this.link&&ze(this.link)||this.links.some(ze)}static#e=this.\u0275fac=function(ct){return new(ct||je)(w.rXU(Ks),w.rXU(w.aKT),w.rXU(w.sFG),w.rXU(w.gRc),w.rXU(Hs,8))};static#t=this.\u0275dir=w.FsC({type:je,selectors:[["","routerLinkActive",""]],contentQueries:function(ct,At,sn){if(1&ct&&w.wni(sn,Hs,5),2&ct){let wn;w.mGM(wn=w.lsd())&&(At.links=wn)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[w.OA$]})}return je})();class Kh{}let cM=(()=>{class je{constructor(ze,ct,At,sn,wn){this.router=ze,this.injector=At,this.preloadingStrategy=sn,this.loader=wn}setUpPreloading(){this.subscription=this.router.events.pipe((0,ce.p)(ze=>ze instanceof jr),(0,_.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ze,ct){const At=[];for(const sn of ct){sn.providers&&!sn._injector&&(sn._injector=(0,w.Ol2)(sn.providers,ze,`Route: ${sn.path}`));const wn=sn._injector??ze,Jn=sn._loadedInjector??wn;(sn.loadChildren&&!sn._loadedRoutes&&void 0===sn.canLoad||sn.loadComponent&&!sn._loadedComponent)&&At.push(this.preloadConfig(wn,sn)),(sn.children||sn._loadedRoutes)&&At.push(this.processRoutes(Jn,sn.children??sn._loadedRoutes))}return(0,H.H)(At).pipe((0,Me.U)())}preloadConfig(ze,ct){return this.preloadingStrategy.preload(ct,()=>{let At;At=ct.loadChildren&&void 0===ct.canLoad?this.loader.loadChildren(ze,ct):(0,b.of)(null);const sn=At.pipe((0,pe.Z)(wn=>null===wn?(0,b.of)(void 0):(ct._loadedRoutes=wn.routes,ct._loadedInjector=wn.injector,this.processRoutes(wn.injector??ze,wn.routes))));if(ct.loadComponent&&!ct._loadedComponent){const wn=this.loader.loadComponent(ct);return(0,H.H)([sn,wn]).pipe((0,Me.U)())}return sn})}static#e=this.\u0275fac=function(ct){return new(ct||je)(w.KVO(Ks),w.KVO(w.Ql9),w.KVO(w.uvJ),w.KVO(Kh),w.KVO(Je))};static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();const Yd=new w.nKC("");let l1=(()=>{class je{constructor(ze,ct,At,sn,wn={}){this.urlSerializer=ze,this.transitions=ct,this.viewportScroller=At,this.zone=sn,this.options=wn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,w.WQX)(w.uvJ),wn.scrollPositionRestoration||="disabled",wn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ze=>{ze instanceof hr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ze.navigationTrigger,this.restoredId=ze.restoredState?ze.restoredState.navigationId:0):ze instanceof jr?(this.lastId=ze.id,this.scheduleScrollEvent(ze,this.urlSerializer.parse(ze.urlAfterRedirects).fragment)):ze instanceof Hi&&ze.code===$i.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ze,this.urlSerializer.parse(ze.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ze=>{ze instanceof Ln&&(ze.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ze.position):ze.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ze.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ze,ct){var At=this;this.zone.runOutsideAngular((0,g.A)(function*(){yield new Promise(sn=>{setTimeout(()=>{sn()}),(0,w.mal)(()=>{sn()},{injector:At.environmentInjector})}),At.zone.run(()=>{At.transitions.events.next(new Ln(ze,"popstate"===At.lastSource?At.store[At.restoredId]:null,ct))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(ct){w.QTQ()};static#t=this.\u0275prov=w.jDH({token:je,factory:je.\u0275fac})}return je})();function Xc(je,...rt){return(0,w.EmA)([{provide:rh,multi:!0,useValue:je},[],{provide:it,useFactory:ih,deps:[Ks]},{provide:w.iLQ,multi:!0,useFactory:Ta},rt.map(ze=>ze.\u0275providers)])}function ih(je){return je.routerState.root}function Xd(je,rt){return{\u0275kind:je,\u0275providers:rt}}function Ta(){const je=(0,w.WQX)(w.zZn);return rt=>{const ze=je.get(w.o8S);if(rt!==ze.components[0])return;const ct=je.get(Ks),At=je.get(f1);1===je.get(Rc)&&ct.initialNavigation(),je.get(jv,null,w.$GK.Optional)?.setUpPreloading(),je.get(Yd,null,w.$GK.Optional)?.init(),ct.resetRootComponentType(ze.componentTypes[0]),At.closed||(At.next(),At.complete(),At.unsubscribe())}}const f1=new w.nKC("",{factory:()=>new q.B}),Rc=new w.nKC("",{providedIn:"root",factory:()=>1}),jv=new w.nKC("");function za(je){return Xd(0,[{provide:jv,useExisting:cM},{provide:Kh,useExisting:je}])}function Dg(je){return Xd(9,[{provide:fr,useValue:Pi},{provide:Jr,useValue:{skipNextTransition:!!je?.skipInitialTransition,...je}}])}const Ml=new w.nKC("ROUTER_FORROOT_GUARD"),Hh=[W.aZ,{provide:Gt,useClass:_t},Ks,lt,{provide:it,useFactory:ih,deps:[Ks]},Je,[]];let $v=(()=>{class je{constructor(ze){}static forRoot(ze,ct){return{ngModule:je,providers:[Hh,[],{provide:rh,multi:!0,useValue:ze},{provide:Ml,useFactory:Wh,deps:[[Ks,new w.Xx1,new w.kdw]]},{provide:nh,useValue:ct||{}},ct?.useHash?{provide:W.hb,useClass:W.fw}:{provide:W.hb,useClass:W.Sm},{provide:Yd,useFactory:()=>{const je=(0,w.WQX)(W.Xr),rt=(0,w.WQX)(w.SKi),ze=(0,w.WQX)(nh),ct=(0,w.WQX)(ti),At=(0,w.WQX)(Gt);return ze.scrollOffset&&je.setOffset(ze.scrollOffset),new l1(At,ct,je,rt,ze)}},ct?.preloadingStrategy?za(ct.preloadingStrategy).\u0275providers:[],ct?.initialNavigation?Tg(ct):[],ct?.bindToComponentInputs?Xd(8,[$r,{provide:so,useExisting:$r}]).\u0275providers:[],ct?.enableViewTransitions?Dg().\u0275providers:[],[{provide:Gh,useFactory:Ta},{provide:w.iLQ,multi:!0,useExisting:Gh}]]}}static forChild(ze){return{ngModule:je,providers:[{provide:rh,multi:!0,useValue:ze}]}}static#e=this.\u0275fac=function(ct){return new(ct||je)(w.KVO(Ml,8))};static#t=this.\u0275mod=w.$C({type:je});static#n=this.\u0275inj=w.G2t({})}return je})();function Wh(je){return"guarded"}function Tg(je){return["disabled"===je.initialNavigation?Xd(3,[{provide:w.hnV,multi:!0,useFactory:()=>{const rt=(0,w.WQX)(Ks);return()=>{rt.setUpLocationChangeListener()}}},{provide:Rc,useValue:2}]).\u0275providers:[],"enabledBlocking"===je.initialNavigation?Xd(2,[{provide:Rc,useValue:0},{provide:w.hnV,multi:!0,deps:[w.zZn],useFactory:rt=>{const ze=rt.get(W.hj,Promise.resolve());return()=>ze.then(()=>new Promise(ct=>{const At=rt.get(Ks),sn=rt.get(f1);fo(At,()=>{ct(!0)}),rt.get(ti).afterPreactivation=()=>(ct(!0),sn.closed?(0,b.of)(void 0):sn),At.initialNavigation()}))}}]).\u0275providers:[]]}const Gh=new w.nKC("")},52039:($e,j,E)=>{"use strict";E.d(j,{oU:()=>on,Q2:()=>tr});class w extends Error{constructor(Ge,jt){super(`${Ge}: ${jt}`),this.code=Ge,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class A{constructor(Ge,jt,kt){this.name=Ge,this.prefix=jt,this.baseEncode=kt}encode(Ge){if(Ge instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Ge)}`;throw Error("Unknown type, must be binary type")}}class V{constructor(Ge,jt,kt){if(this.name=Ge,this.prefix=jt,void 0===jt.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=jt.codePointAt(0),this.baseDecode=kt}decode(Ge){if("string"==typeof Ge){if(Ge.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Ge)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Ge.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(Ge){return K(this,Ge)}}class U{constructor(Ge){this.decoders=Ge}or(Ge){return K(this,Ge)}decode(Ge){const kt=this.decoders[Ge[0]];if(kt)return kt.decode(Ge);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Ge)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const K=(Ke,Ge)=>new U({...Ke.decoders||{[Ke.prefix]:Ke},...Ge.decoders||{[Ge.prefix]:Ge}});class Q{constructor(Ge,jt,kt,ln){this.name=Ge,this.prefix=jt,this.baseEncode=kt,this.baseDecode=ln,this.encoder=new A(Ge,jt,kt),this.decoder=new V(Ge,jt,ln)}encode(Ge){return this.encoder.encode(Ge)}decode(Ge){return this.decoder.decode(Ge)}}const ie=({name:Ke,prefix:Ge,bitsPerChar:jt,alphabet:kt})=>(({name:Ke,prefix:Ge,encode:jt,decode:kt})=>new Q(Ke,Ge,jt,kt))({prefix:Ge,name:Ke,encode:ln=>((Ke,Ge,jt)=>{const kt="="===Ge[Ge.length-1],ln=(1<<jt)-1;let On="",vn=0,gn=0;for(let ur=0;ur<Ke.length;++ur)for(gn=gn<<8|Ke[ur],vn+=8;vn>jt;)vn-=jt,On+=Ge[ln&gn>>vn];if(vn&&(On+=Ge[ln&gn<<jt-vn]),kt)for(;On.length*jt&7;)On+="=";return On})(ln,kt,jt),decode:ln=>((Ke,Ge,jt,kt)=>{const ln={};for(let Pn=0;Pn<Ge.length;++Pn)ln[Ge[Pn]]=Pn;let On=Ke.length;for(;"="===Ke[On-1];)--On;const vn=new Uint8Array(On*jt/8|0);let gn=0,ur=0,er=0;for(let Pn=0;Pn<On;++Pn){const Nn=ln[Ke[Pn]];if(void 0===Nn)throw new SyntaxError(`Non-${kt} character`);ur=ur<<jt|Nn,gn+=jt,gn>=8&&(gn-=8,vn[er++]=255&ur>>gn)}if(gn>=jt||255&ur<<8-gn)throw new SyntaxError("Unexpected end of data");return vn})(ln,kt,jt,Ke)}),ce=(ie({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ie({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ie({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));ie({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class ve{static encode(Ge){return ce.baseEncode(Ge)}static decodeAsBytes(Ge,jt){if(!ve.isBase64UrlString(Ge))throw new w("EncodedStringIncorrectEncoding",`Given ${jt} must be base64url string.`);return ce.baseDecode(Ge)}static decodeAsString(Ge,jt){const kt=ve.decodeAsBytes(Ge,jt);return ve.bytesToString(kt)}static isBase64UrlString(Ge){return/^[A-Za-z0-9_-]+$/.test(Ge)}static stringToBytes(Ge){return(new TextEncoder).encode(Ge)}static bytesToString(Ge){return(new TextDecoder).decode(Ge)}}var De=E(95568),C=function(Ke){return Ke.Public="public",Ke.Private="private",Ke}(C||{});const s=C;class d{static validateEs256kOperationKey(Ge,jt){const kt=new Set(["kty","crv","x","y"]);jt===s.Private&&kt.add("d");for(const ln in Ge)if(!kt.has(ln))throw new w("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${ln}'.`);if("secp256k1"!==Ge.crv)throw new w("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${Ge.crv}.'`);if("EC"!==Ge.kty)throw new w("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${Ge.kty}.'`);if(43!==Ge.x.length)throw new w("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==Ge.y.length)throw new w("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(jt===s.Private&&(void 0===Ge.d||43!==Ge.d.length))throw new w("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(Ge){if(Ge.length>50)throw new w("IdTooLong",`Key ID length ${Ge.length} exceed max allowed length of 50.`);if(!ve.isBase64UrlString(Ge))throw new w("IdNotUsingBase64UrlCharacterSet",`Key ID '${Ge}' is not a Base64URL string.`)}static validatePublicKeyPurposes(Ge){if(void 0===Ge)return;const jt=new Set;for(const kt of Ge){if(jt.has(kt))throw new w("PublicKeyPurposeDuplicated",`Public key purpose '${kt}' already specified.`);jt.add(kt)}}}const f=(()=>{class Ke{}return Ke.hashAlgorithmInMultihashCode=18,Ke.maxCanonicalizedDeltaSizeInBytes=1e3,Ke})();var _=E(28846);class I{static canonicalizeAsBytes(Ge){const jt=I.removeAllUndefinedProperties(Ge),kt=_(jt);return ve.stringToBytes(kt)}static removeAllUndefinedProperties(Ge){for(const jt in Ge)"object"==typeof Ge[jt]?I.removeAllUndefinedProperties(Ge[jt]):void 0===Ge[jt]&&delete Ge[jt];return Ge}}var x=128,v=-128,Z=Math.pow(2,31),le=128,we=127,Ze=Math.pow(2,7),ge=Math.pow(2,14),me=Math.pow(2,21),Ue=Math.pow(2,28),xe=Math.pow(2,35),Ce=Math.pow(2,42),be=Math.pow(2,49),he=Math.pow(2,56),ne=Math.pow(2,63);const Ie={encode:function z(Ke,Ge,jt){Ge=Ge||[];for(var kt=jt=jt||0;Ke>=Z;)Ge[jt++]=255&Ke|x,Ke/=128;for(;Ke&v;)Ge[jt++]=255&Ke|x,Ke>>>=7;return Ge[jt]=0|Ke,z.bytes=jt-kt+1,Ge},decode:function Me(Ke,kt){var vn,jt=0,ln=0,On=kt=kt||0,gn=Ke.length;do{if(On>=gn)throw Me.bytes=0,new RangeError("Could not decode varint");vn=Ke[On++],jt+=ln<28?(vn&we)<<ln:(vn&we)*Math.pow(2,ln),ln+=7}while(vn>=le);return Me.bytes=On-kt,jt},encodingLength:function(Ke){return Ke<Ze?1:Ke<ge?2:Ke<me?3:Ke<Ue?4:Ke<xe?5:Ke<Ce?6:Ke<be?7:Ke<he?8:Ke<ne?9:10}},He=(Ke,Ge=0)=>[Ie.decode(Ke,Ge),Ie.decode.bytes],Ve=(Ke,Ge,jt=0)=>(Ie.encode(Ke,Ge,jt),Ge),Dt=Ke=>Ie.encodingLength(Ke),Ne=(Ke,Ge)=>{const jt=Ge.byteLength,kt=Dt(Ke),ln=kt+Dt(jt),On=new Uint8Array(ln+jt);return Ve(Ke,On,0),Ve(jt,On,kt),On.set(Ge,ln),new F(Ke,jt,Ge,On)};class F{constructor(Ge,jt,kt,ln){this.code=Ge,this.size=jt,this.digest=kt,this.bytes=ln}}var D=E(10467);const M=({name:Ke,code:Ge,encode:jt})=>new G(Ke,Ge,jt);class G{constructor(Ge,jt,kt){this.name=Ge,this.code=jt,this.encode=kt}digest(Ge){if(Ge instanceof Uint8Array){const jt=this.encode(Ge);return jt instanceof Uint8Array?Ne(this.code,jt):jt.then(kt=>Ne(this.code,kt))}throw Error("Unknown type, must be binary type")}}const fe=Ke=>function(){var Ge=(0,D.A)(function*(jt){return new Uint8Array(yield crypto.subtle.digest(Ke,jt))});return function(jt){return Ge.apply(this,arguments)}}(),Se=M({name:"sha2-256",code:18,encode:fe("SHA-256")});M({name:"sha2-512",code:19,encode:fe("SHA-512")});var ot=function(Ke,Ge,jt,kt){return new(jt||(jt=Promise))(function(On,vn){function gn(Pn){try{er(kt.next(Pn))}catch(Nn){vn(Nn)}}function ur(Pn){try{er(kt.throw(Pn))}catch(Nn){vn(Nn)}}function er(Pn){Pn.done?On(Pn.value):function ln(On){return On instanceof jt?On:new jt(function(vn){vn(On)})}(Pn.value).then(gn,ur)}er((kt=kt.apply(Ke,Ge||[])).next())})};class Gt{static hash(Ge,jt){return ot(this,void 0,void 0,function*(){let kt;if(18!==jt)throw new w("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${jt} is not supported.`);return kt=(yield Se.digest(Ge)).bytes,kt})}static hashAsNonMultihashBytes(Ge,jt){return ot(this,void 0,void 0,function*(){let kt;if(18!==jt)throw new w("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${jt} is not supported.`);return kt=yield Se.encode(Ge),kt})}static canonicalizeThenHashThenEncode(Ge,jt){return ot(this,void 0,void 0,function*(){const kt=I.canonicalizeAsBytes(Ge);return yield Gt.hashThenEncode(kt,jt)})}static canonicalizeThenDoubleHashThenEncode(Ge,jt){return ot(this,void 0,void 0,function*(){const kt=I.canonicalizeAsBytes(Ge),ln=yield Gt.hashAsNonMultihashBytes(kt,jt);return yield Gt.hashThenEncode(ln,jt)})}static hashThenEncode(Ge,jt){return ot(this,void 0,void 0,function*(){const kt=yield Gt.hash(Ge,jt);return ve.encode(kt)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(Ge,jt){let kt;const ln=ve.decodeAsBytes(Ge,jt);try{kt=(Ke=>{const Ge=(Ke=>{if(Ke instanceof Uint8Array&&"Uint8Array"===Ke.constructor.name)return Ke;if(Ke instanceof ArrayBuffer)return new Uint8Array(Ke);if(ArrayBuffer.isView(Ke))return new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength);throw new Error("Unknown type, must be binary type")})(Ke),[jt,kt]=He(Ge),[ln,On]=He(Ge.subarray(kt)),vn=Ge.subarray(kt+On);if(vn.byteLength!==ln)throw new Error("Incorrect length");return new F(jt,ln,vn,Ge)})(ln)}catch{throw new w("MultihashStringNotAMultihash",`Given ${jt} string '${Ge}' is not a multihash after decoding.`)}const On=f.hashAlgorithmInMultihashCode;if(On!==kt.code)throw new w("MultihashUnsupportedHashAlgorithm",`Given ${jt} uses unsupported multihash algorithm with code ${kt.code}, should use ${On} or change IonSdkConfig to desired hashing algorithm.`)}}var _t=function(Ke){return Ke.Create="create",Ke.Update="update",Ke.Deactivate="deactivate",Ke.Recover="recover",Ke}(_t||{});const Bt=_t;var en=function(Ke){return Ke.Replace="replace",Ke.AddPublicKeys="add-public-keys",Ke.RemovePublicKeys="remove-public-keys",Ke.AddServices="add-services",Ke.RemoveServices="remove-services",Ke}(en||{});const pn=en;var cn=function(Ke,Ge,jt,kt){return new(jt||(jt=Promise))(function(On,vn){function gn(Pn){try{er(kt.next(Pn))}catch(Nn){vn(Nn)}}function ur(Pn){try{er(kt.throw(Pn))}catch(Nn){vn(Nn)}}function er(Pn){Pn.done?On(Pn.value):function ln(On){return On instanceof jt?On:new jt(function(vn){vn(On)})}(Pn.value).then(gn,ur)}er((kt=kt.apply(Ke,Ge||[])).next())})};class tr{static createCreateRequest(Ge){return cn(this,void 0,void 0,function*(){const jt=Ge.recoveryKey,kt=Ge.updateKey,ln=Ge.document.publicKeys,On=Ge.document.services;d.validateEs256kOperationKey(jt,s.Public),d.validateEs256kOperationKey(kt,s.Public),tr.validateDidDocumentKeys(ln),tr.validateServices(On);const vn=f.hashAlgorithmInMultihashCode,gn=[{action:pn.Replace,document:Ge.document}],ur={updateCommitment:yield Gt.canonicalizeThenDoubleHashThenEncode(kt,vn),patches:gn};tr.validateDeltaSize(ur);const Pn={deltaHash:yield Gt.canonicalizeThenHashThenEncode(ur,vn),recoveryCommitment:yield Gt.canonicalizeThenDoubleHashThenEncode(jt,vn)};return{type:Bt.Create,suffixData:Pn,delta:ur}})}static createDeactivateRequest(Ge){return cn(this,void 0,void 0,function*(){tr.validateDidSuffix(Ge.didSuffix),d.validateEs256kOperationKey(Ge.recoveryPublicKey,s.Public);const jt=f.hashAlgorithmInMultihashCode,kt=yield Gt.canonicalizeThenHashThenEncode(Ge.recoveryPublicKey,jt),ln={didSuffix:Ge.didSuffix,recoveryKey:Ge.recoveryPublicKey},On=yield Ge.signer.sign({alg:"ES256K"},ln);return{type:Bt.Deactivate,didSuffix:Ge.didSuffix,revealValue:kt,signedData:On}})}static createRecoverRequest(Ge){return cn(this,void 0,void 0,function*(){tr.validateDidSuffix(Ge.didSuffix),d.validateEs256kOperationKey(Ge.recoveryPublicKey,s.Public),d.validateEs256kOperationKey(Ge.nextRecoveryPublicKey,s.Public),d.validateEs256kOperationKey(Ge.nextUpdatePublicKey,s.Public),tr.validateDidDocumentKeys(Ge.document.publicKeys),tr.validateServices(Ge.document.services);const jt=f.hashAlgorithmInMultihashCode,kt=yield Gt.canonicalizeThenHashThenEncode(Ge.recoveryPublicKey,jt),vn={patches:[{action:pn.Replace,document:Ge.document}],updateCommitment:yield Gt.canonicalizeThenDoubleHashThenEncode(Ge.nextUpdatePublicKey,jt)},gn=yield Gt.canonicalizeThenHashThenEncode(vn,jt),er={recoveryCommitment:yield Gt.canonicalizeThenDoubleHashThenEncode(Ge.nextRecoveryPublicKey,jt),recoveryKey:Ge.recoveryPublicKey,deltaHash:gn},Pn=yield Ge.signer.sign({alg:"ES256K"},er);return{type:Bt.Recover,didSuffix:Ge.didSuffix,revealValue:kt,delta:vn,signedData:Pn}})}static createUpdateRequest(Ge){return cn(this,void 0,void 0,function*(){if(tr.validateDidSuffix(Ge.didSuffix),d.validateEs256kOperationKey(Ge.updatePublicKey,s.Public),d.validateEs256kOperationKey(Ge.nextUpdatePublicKey,s.Public),tr.validateServices(Ge.servicesToAdd),tr.validateDidDocumentKeys(Ge.publicKeysToAdd),void 0!==Ge.idsOfServicesToRemove)for(const Qe of Ge.idsOfServicesToRemove)d.validateId(Qe);if(void 0!==Ge.idsOfPublicKeysToRemove)for(const Qe of Ge.idsOfPublicKeysToRemove)d.validateId(Qe);const jt=[],kt=Ge.servicesToAdd;void 0!==kt&&kt.length>0&&jt.push({action:pn.AddServices,services:kt});const ln=Ge.idsOfServicesToRemove;void 0!==ln&&ln.length>0&&jt.push({action:pn.RemoveServices,ids:ln});const On=Ge.publicKeysToAdd;void 0!==On&&On.length>0&&jt.push({action:pn.AddPublicKeys,publicKeys:On});const vn=Ge.idsOfPublicKeysToRemove;void 0!==vn&&vn.length>0&&jt.push({action:pn.RemovePublicKeys,ids:vn});const gn=f.hashAlgorithmInMultihashCode,ur=yield Gt.canonicalizeThenHashThenEncode(Ge.updatePublicKey,gn),Pn={patches:jt,updateCommitment:yield Gt.canonicalizeThenDoubleHashThenEncode(Ge.nextUpdatePublicKey,gn)},Nn=yield Gt.canonicalizeThenHashThenEncode(Pn,gn),et={updateKey:Ge.updatePublicKey,deltaHash:Nn},Oe=yield Ge.signer.sign({alg:"ES256K"},et);return{type:Bt.Update,didSuffix:Ge.didSuffix,revealValue:ur,delta:Pn,signedData:Oe}})}static validateDidSuffix(Ge){Gt.validateEncodedHashComputedUsingSupportedHashAlgorithm(Ge,"didSuffix")}static validateDidDocumentKeys(Ge){if(void 0===Ge)return;const jt=new Set;for(const kt of Ge){if(Array.isArray(kt.publicKeyJwk))throw new w("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(d.validateId(kt.id),jt.has(kt.id))throw new w("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${kt.id}' already exists.`);jt.add(kt.id),d.validatePublicKeyPurposes(kt.purposes)}}static validateServices(Ge){if(void 0!==Ge&&0!==Ge.length){const jt=new Set;for(const kt of Ge){if(tr.validateService(kt),jt.has(kt.id))throw new w("DidDocumentServiceIdDuplicated","Service id has to be unique");jt.add(kt.id)}}}static validateService(Ge){if(d.validateId(Ge.id),Ge.type.length>30)throw new w("ServiceTypeTooLong",`Service endpoint type length ${Ge.type.length} exceeds max allowed length of 30.`);if(Array.isArray(Ge.serviceEndpoint))throw new w("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof Ge.serviceEndpoint&&void 0!==De.parse(Ge.serviceEndpoint).error)throw new w("ServiceEndpointStringNotValidUri",`Service endpoint string '${Ge.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(Ge){const jt=I.canonicalizeAsBytes(Ge);if(jt.length>f.maxCanonicalizedDeltaSizeInBytes)throw new w("DeltaExceedsMaximumSize",`Delta of ${jt.length} bytes exceeded limit of ${f.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var Mn=function(Ke,Ge,jt,kt){return new(jt||(jt=Promise))(function(On,vn){function gn(Pn){try{er(kt.next(Pn))}catch(Nn){vn(Nn)}}function ur(Pn){try{er(kt.throw(Pn))}catch(Nn){vn(Nn)}}function er(Pn){Pn.done?On(Pn.value):function ln(On){return On instanceof jt?On:new jt(function(vn){vn(On)})}(Pn.value).then(gn,ur)}er((kt=kt.apply(Ke,Ge||[])).next())})};class on{static createLongFormDid(Ge){return Mn(this,void 0,void 0,function*(){const jt=yield tr.createCreateRequest(Ge),kt=yield on.computeDidUniqueSuffix(jt.suffixData);let ln;ln=void 0===f.network||"mainnet"===f.network?`did:ion:${kt}`:`did:ion:${f.network}:${kt}`;const vn=I.canonicalizeAsBytes({suffixData:jt.suffixData,delta:jt.delta});return`${ln}:${ve.encode(vn)}`})}static computeDidUniqueSuffix(Ge){return Mn(this,void 0,void 0,function*(){const jt=I.canonicalizeAsBytes(Ge),kt=yield Gt.hash(jt,f.hashAlgorithmInMultihashCode);return ve.encode(kt)})}}E(63741),E(68464)},49402:($e,j,E)=>{"use strict";E.d(j,{hB:()=>Zt,D4:()=>On,lF:()=>ln});const g=/^(\d{1,3}\.){3,3}\d{1,3}$/,B=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,b={name:"v4",size:4,isFormat:et=>g.test(et),encode(et,Oe,Qe){Qe=~~Qe,Oe=Oe||new Uint8Array(Qe+4);const zt=et.length;let hn=0;for(let Un=0;Un<zt;){const Kn=et.charCodeAt(Un++);46===Kn?(Oe[Qe++]=hn,hn=0):hn=10*hn+(Kn-48)}return Oe[Qe]=hn,Oe},decode:(et,Oe)=>(Oe=~~Oe,`${et[Oe++]}.${et[Oe++]}.${et[Oe++]}.${et[Oe]}`)},k={name:"v6",size:16,isFormat:et=>et.length>0&&B.test(et),encode(et,Oe,Qe){let zt=16+(Qe=~~Qe),hn=-1,Un=0,Kn=0,ir=!0,mr=!1;Oe=Oe||new Uint8Array(Qe+16);for(let Pr=0;Pr<et.length;Pr++){let Sr=et.charCodeAt(Pr);58===Sr?(ir?-1!==hn?(Qe<zt&&(Oe[Qe]=0),Qe<zt-1&&(Oe[Qe+1]=0),Qe+=2):Qe<zt&&(hn=Qe):(!0===mr?(Qe<zt&&(Oe[Qe]=Kn),Qe++):(Qe<zt&&(Oe[Qe]=Un>>8),Qe<zt-1&&(Oe[Qe+1]=255&Un),Qe+=2),Un=0,Kn=0),ir=!0,mr=!1):46===Sr?(Qe<zt&&(Oe[Qe]=Kn),Qe++,Kn=0,Un=0,ir=!1,mr=!0):(ir=!1,Sr>=97?Sr-=87:Sr>=65?Sr-=55:(Sr-=48,Kn=10*Kn+Sr),Un=(Un<<4)+Sr)}if(!1===ir)!0===mr?(Qe<zt&&(Oe[Qe]=Kn),Qe++):(Qe<zt&&(Oe[Qe]=Un>>8),Qe<zt-1&&(Oe[Qe+1]=255&Un),Qe+=2);else if(0===hn)Qe<zt&&(Oe[Qe]=0),Qe<zt-1&&(Oe[Qe+1]=0),Qe+=2;else if(-1!==hn){Qe+=2;for(let Pr=Math.min(Qe-1,zt-1);Pr>=hn+2;Pr--)Oe[Pr]=Oe[Pr-2];Oe[hn]=0,Oe[hn+1]=0,hn=Qe}if(hn!==Qe&&-1!==hn)for(Qe>zt-2&&(Qe=zt-2);zt>hn;)Oe[--zt]=Qe<zt&&Qe>hn?Oe[--Qe]:0;else for(;Qe<zt;)Oe[Qe++]=0;return Oe},decode(et,Oe){Oe=~~Oe;let Qe="";for(let zt=0;zt<16;zt+=2)0!==zt&&(Qe+=":"),Qe+=(et[Oe+zt]<<8|et[Oe+zt+1]).toString(16);return Qe.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function P(et){if(b.isFormat(et))return b.size;if(k.isFormat(et))return k.size;throw Error(`Invalid ip address: ${et}`)}function V(et){switch(et){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+et}function U(et){switch(et.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return et.toUpperCase().startsWith("UNKNOWN_")?parseInt(et.slice(8)):0}function K(et){switch(et){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+et}function q(et){switch(et){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+et}function W(et){switch(et){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+et}function re(et){switch(et.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function ae(et){if("number"==typeof et)return et;if(!et)return-1;switch(et.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const Oe=et.match(/_(\d+)$/);return Oe?parseInt(Oe[1],10):-1}const ue=55296,ce=56320;function ve(et){let Oe=0;const Qe=et.length;for(let zt=0;zt<Qe;zt+=1){const hn=et.charCodeAt(zt);if(hn<=127)Oe+=1;else if(hn<=2047)Oe+=2;else if((63488&hn)!==ue)Oe+=3;else{const Un=zt+1;Un===Qe||hn>=ce||(64512&et.charCodeAt(Un))!==ce?Oe+=3:(zt=Un,Oe+=4)}}return Oe}function De(et,Oe,Qe){const zt=et.length;null==Qe&&(Qe=0),void 0===Oe&&(Oe=new Uint8Array(ve(et)+Qe));let hn=Qe;for(let Un=0;Un<zt;Un+=1){let Kn=et.charCodeAt(Un);if(Kn<=127)Oe[hn++]=Kn;else if(Kn<=2047)Oe[hn++]=192|(1984&Kn)>>6,Oe[hn++]=128|63&Kn;else if((63488&Kn)!==ue)Oe[hn++]=224|(61440&Kn)>>12,Oe[hn++]=128|(4032&Kn)>>6,Oe[hn++]=128|63&Kn;else{const ir=Un+1;if(ir===zt||Kn>=ce)Oe[hn++]=239,Oe[hn++]=191,Oe[hn++]=189;else{const mr=et.charCodeAt(ir);(64512&mr)!==ce?(Oe[hn++]=239,Oe[hn++]=191,Oe[hn++]=189):(Un=ir,Kn=65536|(1023&Kn)<<10|1023&mr,Oe[hn++]=240|(1835008&Kn)>>18,Oe[hn++]=128|(258048&Kn)>>12,Oe[hn++]=128|(4032&Kn)>>6,Oe[hn++]=128|63&Kn)}}}return De.bytes=hn-Qe,Oe}function C(et,Oe,Qe){let zt="";null==Oe&&(Oe=0),null==Qe&&(Qe=et.length);for(let hn=Oe;hn<Qe;){const Un=et[hn++];let Kn;Un<=128?Kn=Un:Un>191&&Un<224?Kn=(31&Un)<<6|63&et[hn++]:Un>239&&Un<365?(Kn=((7&Un)<<18|(63&et[hn++])<<12|(63&et[hn++])<<6|63&et[hn++])-65536,zt+=String.fromCharCode(ue|Kn>>10&1023),Kn=ce|1023&Kn):Kn=(15&Un)<<12|(63&et[hn++])<<6|63&et[hn++],zt+=String.fromCharCode(Kn)}return C.bytes=Qe-Oe,zt}De.bytes=0,C.bytes=0;const s=et=>et instanceof Uint8Array;function d(et){return"string"==typeof et?ve(et):et.byteLength}function h(et){return et instanceof Uint8Array?et:Array.isArray(et)?new Uint8Array(et):De(et)}function f(et,Oe,Qe){if("string"!=typeof Oe)throw new Error("unknown input type");return De(Oe,et,Qe),De.bytes}const _={},I=new Array(255);for(let et=0;et<=15;et+=1){const Oe=et.toString(16),Qe=Oe.toUpperCase();for(let zt=0;zt<=15;zt+=1){const hn=zt.toString(16),Un=hn.toUpperCase(),Kn=et<<4|zt,ir=`${Oe}${hn}`;I[Kn]=ir,_[ir]=Kn,_[`${Qe}${hn}`]=Kn,_[`${Oe}${Un}`]=Kn,_[`${Qe}${Un}`]=Kn}}function x(et){return et.length>>>1}const v=Math.pow(2,24),Z=Math.pow(2,16),z=Math.pow(2,8),ee=(et,Oe)=>et[Oe]*v+et[Oe+1]*Z+et[Oe+2]*z+et[Oe+3],le=(et,Oe)=>et[Oe]<<8|et[Oe+1],we=(et,Oe,Qe)=>(et[Qe+3]=Oe=+Oe,et[Qe+2]=Oe>>>=8,et[Qe+1]=Oe>>>=8,et[Qe]=Oe>>>=8,Qe+4),Me=(et,Oe,Qe)=>(et[Qe]=Oe>>8,et[Qe+1]=255&Oe,Qe+2);function Ze(et,Oe,Qe,zt,hn){return Qe<0&&(zt-=Qe,Qe=0),zt<0&&(zt=0),hn<0?new Uint8Array(0):Qe>=Oe.length||zt>=hn?0:function ge(et,Oe,Qe,zt,hn){hn-zt>Oe.length-Qe&&(hn=zt+Oe.length-Qe);let Un=hn-zt;const Kn=et.length-zt;return Un>Kn&&(Un=Kn),(0!==zt||hn<et.length)&&(et=new Uint8Array(et.buffer,et.byteOffset+zt,Un)),Oe.set(et,Qe),Un}(et,Oe,Qe,zt,hn)}function ne({bytes:et=0,encode:Oe,decode:Qe,encodingLength:zt}){return Oe.bytes=et,Qe.bytes=et,{encode:Oe,decode:Qe,encodingLength:zt||(()=>et)}}const te=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(te.encodingLength(et))),Qe||(Qe=0);const zt=Qe,hn=et.replace(/^\.|\.$/gm,"");if(hn.length){const Un=hn.split(".");for(let Kn=0;Kn<Un.length;Kn++){const ir=f(Oe,Un[Kn],Qe+1);Oe[Qe]=ir,Qe+=ir+1}}return Oe[Qe++]=0,te.encode.bytes=Qe-zt,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=[];let zt=Oe,hn=0,Un=0,Kn=!1;for(;;){if(Oe>=et.length)throw new Error("Cannot decode name (buffer overflow)");const ir=et[Oe++];if(Un+=Kn?0:1,0===ir)break;if(192&ir){if(192&~ir)throw new Error("Cannot decode name (bad label)");{if(Oe+1>et.length)throw new Error("Cannot decode name (buffer overflow)");const mr=le(et,Oe-1)-49152;if(mr>=zt)throw new Error("Cannot decode name (bad pointer)");Oe=mr,zt=mr,Un+=Kn?0:1,Kn=!0}}else{if(Oe+ir>et.length)throw new Error("Cannot decode name (buffer overflow)");if(hn+=ir+1,hn>254)throw new Error("Cannot decode name (name too long)");Qe.push(C(et,Oe,Oe+ir)),Oe+=ir,Un+=Kn?0:ir}}return te.decode.bytes=Un,0===Qe.length?".":Qe.join(".")},encodingLength:et=>"."===et||".."===et?1:d(et.replace(/^\.|\.$/gm,""))+2}),de=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(de.encodingLength(et))),Qe||(Qe=0);const zt=f(Oe,et,Qe+1);return Oe[Qe]=zt,de.encode.bytes=zt+1,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=et[Oe],zt=C(et,Oe+1,Oe+1+Qe);return de.decode.bytes=Qe+1,zt},encodingLength:et=>d(et)+1}),_e=ne({bytes:12,encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(_e.encodingLength(et))),Qe||(Qe=0);const zt=32767&(et.flags||0),hn="response"===et.type?32768:0;return Me(Oe,et.id||0,Qe),Me(Oe,zt|hn,Qe+2),Me(Oe,et.questions.length,Qe+4),Me(Oe,et.answers.length,Qe+6),Me(Oe,et.authorities.length,Qe+8),Me(Oe,et.additionals.length,Qe+10),Oe},decode(et,Oe){if(Oe||(Oe=0),et.length<12)throw new Error("Header must be 12 bytes");const Qe=le(et,Oe+2);return{id:le(et,Oe),type:32768&Qe?"response":"query",flags:32767&Qe,flag_qr:1==(Qe>>15&1),opcode:q(Qe>>11&15),flag_aa:1==(Qe>>10&1),flag_tc:1==(Qe>>9&1),flag_rd:1==(Qe>>8&1),flag_ra:1==(Qe>>7&1),flag_z:1==(Qe>>6&1),flag_ad:1==(Qe>>5&1),flag_cd:1==(Qe>>4&1),rcode:K(15&Qe),questions:new Array(le(et,Oe+4)),answers:new Array(le(et,Oe+6)),authorities:new Array(le(et,Oe+8)),additionals:new Array(le(et,Oe+10))}},encodingLength:()=>12}),Ie=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(Ie.encodingLength(et))),Qe||(Qe=0);const zt=et.length;return Me(Oe,zt,Qe),Ze(et,Oe,Qe+2,0,zt),Ie.encode.bytes=zt+2,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=le(et,Oe),zt=et.slice(Oe+2,Oe+2+Qe);return Ie.decode.bytes=Qe+2,zt},encodingLength:et=>et.length+2}),He=ne({encode:(et,Oe,Qe)=>(Oe||(Oe=new Uint8Array(He.encodingLength(et))),Qe||(Qe=0),te.encode(et,Oe,Qe+2),Me(Oe,te.encode.bytes,Qe),He.encode.bytes=te.encode.bytes+2,Oe),decode(et,Oe){Oe||(Oe=0);const Qe=le(et,Oe),zt=te.decode(et,Oe+2);return He.decode.bytes=Qe+2,zt},encodingLength:et=>te.encodingLength(et)+2}),Ve=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(Ve.encodingLength(et))),Qe||(Qe=0);const zt=Qe;return te.encode(et.mname,Oe,Qe+=2),te.encode(et.rname,Oe,Qe+=te.encode.bytes),we(Oe,et.serial||0,Qe+=te.encode.bytes),we(Oe,et.refresh||0,Qe+=4),we(Oe,et.retry||0,Qe+=4),we(Oe,et.expire||0,Qe+=4),we(Oe,et.minimum||0,Qe+=4),Me(Oe,(Qe+=4)-zt-2,zt),Ve.encode.bytes=Qe-zt,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={};return zt.mname=te.decode(et,Oe+=2),zt.rname=te.decode(et,Oe+=te.decode.bytes),zt.serial=ee(et,Oe+=te.decode.bytes),zt.refresh=ee(et,Oe+=4),zt.retry=ee(et,Oe+=4),zt.expire=ee(et,Oe+=4),zt.minimum=ee(et,Oe+=4),Ve.decode.bytes=(Oe+=4)-Qe,zt},encodingLength:et=>22+te.encodingLength(et.mname)+te.encodingLength(et.rname)}),Dt=ne({encode(et,Oe,Qe){Array.isArray(et)||(et=[et]);for(let hn=0;hn<et.length;hn++)if("string"==typeof et[hn]&&(et[hn]=h(et[hn])),!s(et[hn]))throw new Error("Must be a Buffer");Oe||(Oe=new Uint8Array(Dt.encodingLength(et))),Qe||(Qe=0);const zt=Qe;return Qe+=2,et.forEach(function(hn){Oe[Qe++]=hn.length,Ze(hn,Oe,Qe,0,hn.length),Qe+=hn.length}),Me(Oe,Qe-zt-2,zt),Dt.encode.bytes=Qe-zt,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe;let zt=le(et,Oe);Oe+=2;const hn=[];for(;zt>0;){const Un=et[Oe++];if(--zt,zt<Un)throw new Error("Buffer overflow");hn.push(et.slice(Oe,Oe+Un)),Oe+=Un,zt-=Un}return Dt.decode.bytes=Oe-Qe,hn},encodingLength(et){Array.isArray(et)||(et=[et]);let Oe=2;return et.forEach(function(Qe){Oe+="string"==typeof Qe?d(Qe)+1:Qe.length+1}),Oe}}),Ne=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(Ne.encodingLength(et))),Qe||(Qe=0),"string"==typeof et&&(et=h(et)),et||(et=new Uint8Array(0));const zt=Qe,hn=et.length;return Ze(et,Oe,Qe+=2,0,hn),Me(Oe,(Qe+=hn)-zt-2,zt),Ne.encode.bytes=Qe-zt,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt=le(et,Oe),hn=et.slice(Oe+=2,Oe+zt);return Ne.decode.bytes=(Oe+=zt)-Qe,hn},encodingLength:et=>et?(s(et)?et.length:d(et))+2:2}),ke=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(ke.encodingLength(et))),Qe||(Qe=0);const zt=Qe;return de.encode(et.cpu,Oe,Qe+=2),de.encode(et.os,Oe,Qe+=de.encode.bytes),Me(Oe,(Qe+=de.encode.bytes)-zt-2,zt),ke.encode.bytes=Qe-zt,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={};return zt.cpu=de.decode(et,Oe+=2),zt.os=de.decode(et,Oe+=de.decode.bytes),ke.decode.bytes=(Oe+=de.decode.bytes)-Qe,zt},encodingLength:et=>de.encodingLength(et.cpu)+de.encodingLength(et.os)+2}),yt=ne({encode:(et,Oe,Qe)=>(Oe||(Oe=new Uint8Array(yt.encodingLength(et))),Qe||(Qe=0),te.encode(et,Oe,Qe+2),Me(Oe,te.encode.bytes,Qe),yt.encode.bytes=te.encode.bytes+2,Oe),decode(et,Oe){Oe||(Oe=0);const Qe=te.decode(et,Oe+2);return yt.decode.bytes=te.decode.bytes+2,Qe},encodingLength:et=>te.encodingLength(et)+2}),F=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(F.encodingLength(et))),Qe||(Qe=0),Me(Oe,et.priority||0,Qe+2),Me(Oe,et.weight||0,Qe+4),Me(Oe,et.port||0,Qe+6),te.encode(et.target,Oe,Qe+8);const zt=te.encode.bytes+6;return Me(Oe,zt,Qe),F.encode.bytes=zt+2,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=le(et,Oe),zt={};return zt.priority=le(et,Oe+2),zt.weight=le(et,Oe+4),zt.port=le(et,Oe+6),zt.target=te.decode(et,Oe+8),F.decode.bytes=Qe+2,zt},encodingLength:et=>8+te.encodingLength(et.target)}),D=ne({encode(et,Oe,Qe){const zt=D.encodingLength(et);return Oe||(Oe=new Uint8Array(D.encodingLength(et))),Qe||(Qe=0),et.issuerCritical&&(et.flags=D.ISSUER_CRITICAL),Me(Oe,zt-2,Qe),Oe[Qe+=2]=et.flags||0,de.encode(et.tag,Oe,Qe+=1),f(Oe,et.value,Qe+=de.encode.bytes),Qe+=d(et.value),D.encode.bytes=zt,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=le(et,Oe),zt=Oe+=2,hn={};return hn.flags=et[Oe],hn.tag=de.decode(et,Oe+=1),hn.value=C(et,Oe+=de.decode.bytes,zt+Qe),hn.issuerCritical=!!(hn.flags&D.ISSUER_CRITICAL),D.decode.bytes=Qe+2,hn},encodingLength:et=>de.encodingLength(et.tag)+de.encodingLength(et.value)+2});D.ISSUER_CRITICAL=128;const M=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(M.encodingLength(et))),Qe||(Qe=0);const zt=Qe;return Me(Oe,et.preference||0,Qe+=2),te.encode(et.exchange,Oe,Qe+=2),Me(Oe,(Qe+=te.encode.bytes)-zt-2,zt),M.encode.bytes=Qe-zt,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={};return zt.preference=le(et,Oe+=2),zt.exchange=te.decode(et,Oe+=2),M.decode.bytes=(Oe+=te.decode.bytes)-Qe,zt},encodingLength:et=>4+te.encodingLength(et.exchange)}),G=ne({encode:(et,Oe,Qe)=>(Oe||(Oe=new Uint8Array(G.encodingLength(et))),Qe||(Qe=0),Me(Oe,4,Qe),b.encode(et,Oe,Qe+=2),Oe),decode:(et,Oe)=>(Oe||(Oe=0),b.decode(et,Oe+=2)),bytes:6}),fe=ne({encode:(et,Oe,Qe)=>(Oe||(Oe=new Uint8Array(fe.encodingLength(et))),Qe||(Qe=0),Me(Oe,16,Qe),k.encode(et,Oe,Qe+=2),fe.encode.bytes=18,Oe),decode(et,Oe){Oe||(Oe=0);const Qe=k.decode(et,Oe+=2);return fe.decode.bytes=18,Qe},bytes:18}),Se=et=>new Uint8Array(et),Ae=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(Ae.encodingLength(et))),Qe||(Qe=0);const zt=Qe,hn=ae(et.code);if(Me(Oe,hn,Qe),Qe+=2,et.data)Me(Oe,et.data.length,Qe),Ze(et.data,Oe,Qe+=2),Qe+=et.data.length;else switch(hn){case 8:{const Un=et.sourcePrefixLength||0,Kn=et.family||function R(et){return P(et)===b.size?1:2}(et.ip),ir=function O(et,Oe,Qe){Qe=~~Qe;const zt=P(et);return"function"==typeof Oe&&(Oe=Oe(Qe+zt)),zt===b.size?b.encode(et,Oe,Qe):k.encode(et,Oe,Qe)}(et.ip,Se),mr=Math.ceil(Un/8);Me(Oe,mr+4,Qe),Me(Oe,Kn,Qe+=2),Qe+=2,Oe[Qe++]=Un,Oe[Qe++]=et.scopePrefixLength||0,Ze(ir,Oe,Qe,0,mr),Qe+=mr}break;case 11:et.timeout?(Me(Oe,2,Qe),Me(Oe,et.timeout,Qe+=2),Qe+=2):(Me(Oe,0,Qe),Qe+=2);break;case 12:{const Un=et.length||0;Me(Oe,Un,Qe),Oe.fill(0,Qe+=2,Qe+Un),Qe+=Un}break;case 14:Me(Oe,2*et.tags.length,Qe),Qe+=2;for(const Kn of et.tags)Me(Oe,Kn,Qe),Qe+=2;break;default:throw new Error(`Unknown roption code: ${et.code}`)}return Ae.encode.bytes=Qe-zt,Oe},decode(et,Oe){Oe||(Oe=0);const Qe={};Qe.code=le(et,Oe),Qe.type=function ie(et){switch(et){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return et<0?null:`OPTION_${et}`}(Qe.code);const zt=le(et,Oe+=2);switch(Qe.data=et.slice(Oe+=2,Oe+zt),Qe.code){case 8:Qe.family=le(et,Oe),Oe+=2,Qe.sourcePrefixLength=et[Oe++],Qe.scopePrefixLength=et[Oe++];{const hn=new Uint8Array(1===Qe.family?4:16);Ze(et,hn,0,Oe,Oe+zt-4),Qe.ip=function A(et,Oe,Qe){if(Oe=~~Oe,(Qe=Qe||et.length-Oe)===b.size)return b.decode(et,Oe,Qe);if(Qe===k.size)return k.decode(et,Oe,Qe);throw Error(`Invalid buffer size needs to be ${b.size} for v4 or ${k.size} for v6.`)}(hn)}break;case 11:zt>0&&(Qe.timeout=le(et,Oe),Oe+=2);break;case 14:Qe.tags=[];for(let hn=0;hn<zt;hn+=2)Qe.tags.push(le(et,Oe)),Oe+=2}return Ae.decode.bytes=zt+4,Qe},encodingLength(et){if(et.data)return et.data.length+4;switch(ae(et.code)){case 8:return Math.ceil((et.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof et.timeout?6:4;case 12:return et.length+4;case 14:return 4+2*et.tags.length}throw new Error(`Unknown roption code: ${et.code}`)}}),ot=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(ot.encodingLength(et))),Qe||(Qe=0);const zt=Qe,hn=er(et,Ae);return Me(Oe,hn,Qe),Qe=Pn(et,Ae,Oe,Qe+2),ot.encode.bytes=Qe-zt,Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt=[];let hn=le(et,Oe);Oe+=2;let Un=0;for(;hn>0;)zt[Un++]=Ae.decode(et,Oe),Oe+=Ae.decode.bytes,hn-=Ae.decode.bytes;return ot.decode.bytes=Oe-Qe,zt},encodingLength:et=>2+er(et||[],Ae)}),Gt=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(Gt.encodingLength(et))),Qe||(Qe=0);const zt=Qe,hn=et.key;if(!s(hn))throw new Error("Key must be a Buffer");return Me(Oe,et.flags,Qe+=2),Oe[Qe+=2]=Gt.PROTOCOL_DNSSEC,Oe[Qe+=1]=et.algorithm,Ze(hn,Oe,Qe+=1,0,hn.length),Gt.encode.bytes=(Qe+=hn.length)-zt,Me(Oe,Gt.encode.bytes-2,zt),Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={},hn=le(et,Oe);if(zt.flags=le(et,Oe+=2),et[Oe+=2]!==Gt.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return zt.algorithm=et[Oe+=1],zt.key=et.slice(Oe+=1,Qe+hn+2),Gt.decode.bytes=(Oe+=zt.key.length)-Qe,zt},encodingLength:et=>6+d(et.key)});Gt.PROTOCOL_DNSSEC=3,Gt.ZONE_KEY=128,Gt.SECURE_ENTRYPOINT=32768;const _t=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(_t.encodingLength(et))),Qe||(Qe=0);const zt=Qe,hn=et.signature;if(!s(hn))throw new Error("Signature must be a Buffer");return Qe+=2,Me(Oe,U(et.typeCovered),Qe),Oe[Qe+=2]=et.algorithm,Oe[Qe+=1]=et.labels,we(Oe,et.originalTTL,Qe+=1),we(Oe,et.expiration,Qe+=4),we(Oe,et.inception,Qe+=4),Me(Oe,et.keyTag,Qe+=4),te.encode(et.signersName,Oe,Qe+=2),Ze(hn,Oe,Qe+=te.encode.bytes,0,hn.length),_t.encode.bytes=(Qe+=hn.length)-zt,Me(Oe,_t.encode.bytes-2,zt),Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={},hn=le(et,Oe);return zt.typeCovered=V(le(et,Oe+=2)),zt.algorithm=et[Oe+=2],zt.labels=et[Oe+=1],zt.originalTTL=ee(et,Oe+=1),zt.expiration=ee(et,Oe+=4),zt.inception=ee(et,Oe+=4),zt.keyTag=le(et,Oe+=4),zt.signersName=te.decode(et,Oe+=2),zt.signature=et.slice(Oe+=te.decode.bytes,Qe+hn+2),_t.decode.bytes=(Oe+=zt.signature.length)-Qe,zt},encodingLength:et=>20+te.encodingLength(et.signersName)+d(et.signature)}),Bt=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(Bt.encodingLength(et))),Qe||(Qe=0);const zt=Qe;return te.encode(et.mbox||".",Oe,Qe+=2),te.encode(et.txt||".",Oe,Qe+=te.encode.bytes),Bt.encode.bytes=(Qe+=te.encode.bytes)-zt,Me(Oe,Bt.encode.bytes-2,zt),Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={};return zt.mbox=te.decode(et,Oe+=2)||".",zt.txt=te.decode(et,Oe+=te.decode.bytes)||".",Bt.decode.bytes=(Oe+=te.decode.bytes)-Qe,zt},encodingLength:et=>2+te.encodingLength(et.mbox||".")+te.encodingLength(et.txt||".")}),en=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(en.encodingLength(et))),Qe||(Qe=0);const zt=Qe,hn=[];for(let Un=0;Un<et.length;Un++){const Kn=U(et[Un]);void 0===hn[Kn>>8]&&(hn[Kn>>8]=[]),hn[Kn>>8][Kn>>3&31]|=1<<7-(7&Kn)}for(let Un=0;Un<hn.length;Un++)if(void 0!==hn[Un]){const Kn=h(hn[Un]);Oe[Qe]=Un,Oe[Qe+=1]=Kn.length,Ze(Kn,Oe,Qe+=1,0,Kn.length),Qe+=Kn.length}return en.encode.bytes=Qe-zt,Oe},decode(et,Oe,Qe){Oe||(Oe=0);const zt=Oe,hn=[];for(;Oe-zt<Qe;){const Un=et[Oe],Kn=et[Oe+=1];Oe+=1;for(let ir=0;ir<Kn;ir++){const mr=et[Oe+ir];for(let Pr=0;Pr<8;Pr++)if(mr&1<<7-Pr){const Sr=V(Un<<8|ir<<3|Pr);hn.push(Sr)}}Oe+=Kn}return en.decode.bytes=Oe-zt,hn},encodingLength(et){const Oe=[];for(let zt=0;zt<et.length;zt++){const hn=U(et[zt]);Oe[hn>>8]=Math.max(Oe[hn>>8]||0,255&hn)}let Qe=0;for(let zt=0;zt<Oe.length;zt++)void 0!==Oe[zt]&&(Qe+=2+Math.ceil((Oe[zt]+1)/8));return Qe}}),pn=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(pn.encodingLength(et))),Qe||(Qe=0);const zt=Qe;return te.encode(et.nextDomain,Oe,Qe+=2),en.encode(et.rrtypes,Oe,Qe+=te.encode.bytes),pn.encode.bytes=(Qe+=en.encode.bytes)-zt,Me(Oe,pn.encode.bytes-2,zt),Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={},hn=le(et,Oe);return zt.nextDomain=te.decode(et,Oe+=2),zt.rrtypes=en.decode(et,Oe+=te.decode.bytes,hn-(Oe-Qe)),pn.decode.bytes=(Oe+=en.decode.bytes)-Qe,zt},encodingLength:et=>2+te.encodingLength(et.nextDomain)+en.encodingLength(et.rrtypes)}),cn=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(cn.encodingLength(et))),Qe||(Qe=0);const zt=Qe,hn=et.salt;if(!s(hn))throw new Error("salt must be a Buffer");const Un=et.nextDomain;if(!s(Un))throw new Error("nextDomain must be a Buffer");return Oe[Qe+=2]=et.algorithm,Oe[Qe+=1]=et.flags,Me(Oe,et.iterations,Qe+=1),Oe[Qe+=2]=hn.length,Ze(hn,Oe,Qe+=1,0,hn.length),Oe[Qe+=hn.length]=Un.length,Ze(Un,Oe,Qe+=1,0,Un.length),en.encode(et.rrtypes,Oe,Qe+=Un.length),cn.encode.bytes=(Qe+=en.encode.bytes)-zt,Me(Oe,cn.encode.bytes-2,zt),Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={},hn=le(et,Oe);zt.algorithm=et[Oe+=2],zt.flags=et[Oe+=1],zt.iterations=le(et,Oe+=1);const Un=et[Oe+=2];zt.salt=et.slice(Oe+=1,Oe+Un);const Kn=et[Oe+=Un];return zt.nextDomain=et.slice(Oe+=1,Oe+Kn),zt.rrtypes=en.decode(et,Oe+=Kn,hn-(Oe-Qe)),cn.decode.bytes=(Oe+=en.decode.bytes)-Qe,zt},encodingLength:et=>8+et.salt.length+et.nextDomain.length+en.encodingLength(et.rrtypes)}),tr=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(tr.encodingLength(et))),Qe||(Qe=0);const zt=Qe,hn=et.digest;if(!s(hn))throw new Error("Digest must be a Buffer");return Me(Oe,et.keyTag,Qe+=2),Oe[Qe+=2]=et.algorithm,Oe[Qe+=1]=et.digestType,Ze(hn,Oe,Qe+=1,0,hn.length),tr.encode.bytes=(Qe+=hn.length)-zt,Me(Oe,tr.encode.bytes-2,zt),Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={},hn=le(et,Oe);return zt.keyTag=le(et,Oe+=2),zt.algorithm=et[Oe+=2],zt.digestType=et[Oe+=1],zt.digest=et.slice(Oe+=1,Qe+hn+2),tr.decode.bytes=(Oe+=zt.digest.length)-Qe,zt},encodingLength:et=>6+d(et.digest)}),Mn=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(Mn.encodingLength(et))),Qe||(Qe=0);const zt=Qe;Oe[Qe+=2]=et.algorithm,Oe[Qe+=1]=et.hash,Qe+=1;const hn=x(et.fingerprint),Un=on(et.hash);if(hn!==Un)throw new Error(`Invalid length of fingerprint "${et.fingerprint}" for hashType=${et.hash}: ${hn} != ${Un}`);return function a(et,Oe,Qe,zt){let hn=0;for(;Qe<zt;){const Un=Oe.substr(hn,2),Kn=_[Un];if(void 0===Kn)return;et[Qe++]=Kn,hn+=2}}(Oe,et.fingerprint,Qe,Qe+=hn),Mn.encode.bytes=Qe-zt,Me(Oe,Mn.encode.bytes-2,zt),Oe},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={};zt.algorithm=et[Oe+=2],zt.hash=et[Oe+=1],Oe+=1;const hn=on(zt.hash);return zt.fingerprint=function L(et,Oe,Qe){let zt="";for(let hn=Oe;hn<Qe;){const Un=et[hn++];zt+=I[Un]}return zt}(et,Oe,Oe+hn),Mn.decode.bytes=(Oe+=hn)-Qe,zt},encodingLength:et=>4+x(et.fingerprint)});function on(et){if(1===et)return 20;if(2===et)return 32;throw new Error(`Invalid hashType=${et}, supported=1,2`)}function Qt(et){switch(et.toUpperCase()){case"A":return G;case"PTR":case"CNAME":case"DNAME":return yt;case"TXT":return Dt;case"NULL":return Ne;case"AAAA":return fe;case"SRV":return F;case"HINFO":return ke;case"CAA":return D;case"NS":return He;case"SOA":return Ve;case"MX":return M;case"OPT":return ot;case"DNSKEY":return Gt;case"RRSIG":return _t;case"RP":return Bt;case"NSEC":return pn;case"NSEC3":return cn;case"SSHFP":return Mn;case"DS":return tr}return Ie}Mn.getFingerprintLengthForHashType=on;const ut=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(ut.encodingLength(et))),Qe||(Qe=0);const zt=Qe;if(te.encode(et.name,Oe,Qe),Qe+=te.encode.bytes,Me(Oe,U(et.type),Qe),"OPT"===et.type.toUpperCase()){if("."!==et.name)throw new Error("OPT name must be root.");Me(Oe,et.udpPayloadSize||4096,Qe+2),Oe[Qe+4]=et.extendedRcode||0,Oe[Qe+5]=et.ednsVersion||0,Me(Oe,et.flags||0,Qe+6),ot.encode(et.options||[],Oe,Qe+=8),Qe+=ot.encode.bytes}else{let hn=re(void 0===et.class?"IN":et.class);et.flush&&(hn|=32768),Me(Oe,hn,Qe+2),we(Oe,et.ttl||0,Qe+4),Qe+=8;const Un=Qt(et.type);Un.encode(et.data,Oe,Qe),Qe+=Un.encode.bytes}return ut.encode.bytes=Qe-zt,Oe},decode(et,Oe){Oe||(Oe=0);const Qe={},zt=Oe;if(Qe.name=te.decode(et,Oe),Qe.type=V(le(et,Oe+=te.decode.bytes)),"OPT"===Qe.type)Qe.udpPayloadSize=le(et,Oe+2),Qe.extendedRcode=et[Oe+4],Qe.ednsVersion=et[Oe+5],Qe.flags=le(et,Oe+6),Qe.flag_do=1==(Qe.flags>>15&1),Qe.options=ot.decode(et,Oe+8),Oe+=8+ot.decode.bytes;else{const hn=le(et,Oe+2);Qe.ttl=ee(et,Oe+4),Qe.class=W(-32769&hn),Qe.flush=!!(32768&hn);const Un=Qt(Qe.type);Qe.data=Un.decode(et,Oe+8),Oe+=8+Un.decode.bytes}return ut.decode.bytes=Oe-zt,Qe},encodingLength(et){const Oe=null!=et.data?et.data:et.options;return te.encodingLength(et.name)+8+Qt(et.type).encodingLength(Oe)}}),st=ne({encode(et,Oe,Qe){Oe||(Oe=new Uint8Array(st.encodingLength(et))),Qe||(Qe=0);const zt=Qe;return te.encode(et.name,Oe,Qe),Qe+=te.encode.bytes,Me(Oe,U(et.type),Qe),Qe+=2,Me(Oe,re(void 0===et.class?"IN":et.class),Qe),st.encode.bytes=(Qe+=2)-zt,et},decode(et,Oe){Oe||(Oe=0);const Qe=Oe,zt={};return zt.name=te.decode(et,Oe),zt.type=V(le(et,Oe+=te.decode.bytes)),zt.class=W(le(et,Oe+=2)),Oe+=2,!!(32768&zt.class)&&(zt.class&=-32769),st.decode.bytes=Oe-Qe,zt},encodingLength:et=>te.encodingLength(et.name)+4}),Zt=1024,Ke={encode:function(et,Oe,Qe){const zt=!Oe;zt&&(Oe=new Uint8Array(vn(et))),Qe||(Qe=0);const hn=Qe;return et.questions||(et.questions=[]),et.answers||(et.answers=[]),et.authorities||(et.authorities=[]),et.additionals||(et.additionals=[]),_e.encode(et,Oe,Qe),Qe=Pn(et.questions,st,Oe,Qe+=_e.encode.bytes),Qe=Pn(et.answers,ut,Oe,Qe),Qe=Pn(et.authorities,ut,Oe,Qe),Qe=Pn(et.additionals,ut,Oe,Qe),Ke.encode.bytes=Qe-hn,zt&&ln.bytes!==Oe.length?Oe.slice(0,ln.bytes):Oe},decode:function(et,Oe){Oe||(Oe=0);const Qe=Oe,zt=_e.decode(et,Oe);return Oe=Nn(zt.questions,st,et,Oe+=_e.decode.bytes),Oe=Nn(zt.answers,ut,et,Oe),Oe=Nn(zt.authorities,ut,et,Oe),Oe=Nn(zt.additionals,ut,et,Oe),Ke.decode.bytes=Oe-Qe,zt},encodingLength:function(et){return _e.encodingLength(et)+er(et.questions||[],st)+er(et.answers||[],ut)+er(et.authorities||[],ut)+er(et.additionals||[],ut)}};function Ge(et,Oe){if(et.questions)throw new Error("Only one .question object expected instead of a .questions array!");const Qe=Object.assign({type:Oe},et);return Qe.question&&(Qe.questions=[Qe.question],delete Qe.question),Qe}Ke.encode.bytes=0,Ke.decode.bytes=0;const jt={encode:function(et,Oe,Qe){return Oe=Ke.encode(Ge(et,"query"),Oe,Qe),jt.encode.bytes=Ke.encode.bytes,Oe},decode:function(et,Oe){const Qe=Ke.decode(et,Oe);return jt.decode.bytes=Ke.decode.bytes,Qe.questions&&(Qe.question=Qe.questions[0],delete Qe.questions),Qe},encodingLength:function(et){return Ke.encodingLength(Ge(et,"query"))}};jt.encode.bytes=0,jt.decode.bytes=0;const kt={encode:function(et,Oe,Qe){return Oe=Ke.encode(Ge(et,"response"),Oe,Qe),kt.encode.bytes=Ke.encode.bytes,Oe},decode:function(et,Oe){const Qe=Ke.decode(et,Oe);return kt.decode.bytes=Ke.decode.bytes,Qe.questions&&(Qe.question=Qe.questions[0],delete Qe.questions),Qe},encodingLength:function(et){return Ke.encodingLength(Ge(et,"response"))}};kt.encode.bytes=0,kt.decode.bytes=0;const ln=Ke.encode,On=Ke.decode,vn=Ke.encodingLength;function er(et,Oe){let Qe=0;for(let zt=0;zt<et.length;zt++)Qe+=Oe.encodingLength(et[zt]);return Qe}function Pn(et,Oe,Qe,zt){for(let hn=0;hn<et.length;hn++)Oe.encode(et[hn],Qe,zt),zt+=Oe.encode.bytes;return zt}function Nn(et,Oe,Qe,zt){for(let hn=0;hn<et.length;hn++)et[hn]=Oe.decode(Qe,zt),zt+=Oe.decode.bytes;return zt}},34931:($e,j,E)=>{"use strict";function g(O){if(!Number.isSafeInteger(O)||O<0)throw new Error(`wrong positive integer: ${O}`)}function w(O){if("boolean"!=typeof O)throw new Error(`boolean expected, not ${O}`)}function H(O,...A){if(!function B(O){return null!=O&&"object"==typeof O&&(O instanceof Uint8Array||"Uint8Array"===O.constructor.name)}(O))throw new Error("Uint8Array expected");if(A.length>0&&!A.includes(O.length))throw new Error(`Uint8Array expected of length ${A}, not of length=${O.length}`)}function k(O,A=!0){if(O.destroyed)throw new Error("Hash instance has been destroyed");if(A&&O.finished)throw new Error("Hash#digest() has already been called")}function S(O,A){H(O);const V=A.outputLen;if(O.length<V)throw new Error(`digestInto() expects output buffer of length at least ${V}`)}E.d(j,{CG:()=>S,ai:()=>g,ee:()=>H,lc:()=>w,t2:()=>k})},25953:($e,j,E)=>{"use strict";E.d(j,{AI:()=>W,DH:()=>B,O8:()=>b,ZJ:()=>ie,ex:()=>ve,qj:()=>pe,qn:()=>C,tY:()=>ce,zp:()=>s});const B=h=>new Uint32Array(h.buffer,h.byteOffset,Math.floor(h.byteLength/4));function H(h){return h instanceof Uint8Array||null!=h&&"object"==typeof h&&"Uint8Array"===h.constructor.name}const b=h=>new DataView(h.buffer,h.byteOffset,h.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function W(h){if("string"!=typeof h)throw new Error("utf8ToBytes expected string, got "+typeof h);return new Uint8Array((new TextEncoder).encode(h))}function ie(h){if("string"==typeof h)h=W(h);else{if(!H(h))throw new Error("expected Uint8Array, got "+typeof h);h=h.slice()}return h}const ue=h=>"[object Object]"===Object.prototype.toString.call(h)&&h.constructor===Object;function ce(h,f){if(void 0!==f&&("object"!=typeof f||!ue(f)))throw new Error("options must be object or undefined");return Object.assign(h,f)}function pe(h,f){if(!H(h))throw new Error("Uint8Array expected");if("number"==typeof f&&h.length!==f)throw new Error(`Uint8Array length ${f} expected`)}function ve(h,f){if(h.length!==f.length)return!1;let _=0;for(let I=0;I<h.length;I++)_|=h[I]^f[I];return 0===_}const C=(h,f)=>(Object.assign(f,h),f);function s(h,f,_,I){if("function"==typeof h.setBigUint64)return h.setBigUint64(f,_,I);const L=BigInt(32),x=BigInt(4294967295),a=Number(_>>L&x),v=Number(_&x),z=I?0:4;h.setUint32(f+(I?4:0),a,I),h.setUint32(f+z,v,I)}},91879:($e,j,E)=>{"use strict";E.d(j,{NZ:()=>b});const g="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function b(){if(g&&"object"==typeof g.subtle&&null!=g.subtle)return g.subtle;throw new Error("crypto.subtle must be defined")}E(25953),E(34931)},2716:($e,j,E)=>{"use strict";E.d(j,{s:()=>ae});var g=E(75781),w=E(62953),B=E(35765),H=E(91006),b=E(7184);const{bytesToNumberBE:S,hexToBytes:P}=H,R={Err:class extends Error{constructor(ce=""){super(ce)}},_parseInt(ue){const{Err:ce}=R;if(ue.length<2||2!==ue[0])throw new ce("Invalid signature integer tag");const pe=ue[1],ve=ue.subarray(2,pe+2);if(!pe||ve.length!==pe)throw new ce("Invalid signature integer: wrong length");if(128&ve[0])throw new ce("Invalid signature integer: negative");if(0===ve[0]&&!(128&ve[1]))throw new ce("Invalid signature integer: unnecessary leading zero");return{d:S(ve),l:ue.subarray(pe+2)}},toSig(ue){const{Err:ce}=R,pe="string"==typeof ue?P(ue):ue;if(!H.aY(pe))throw new Error("ui8a expected");let ve=pe.length;if(ve<2||48!=pe[0])throw new ce("Invalid signature tag");if(pe[1]!==ve-2)throw new ce("Invalid signature: incorrect length");const{d:De,l:C}=R._parseInt(pe.subarray(2)),{d:s,l:d}=R._parseInt(C);if(d.length)throw new ce("Invalid signature: left bytes after parsing");return{r:De,s}},hexFromSig(ue){const ce=f=>8&Number.parseInt(f[0],16)?"00"+f:f,pe=f=>{const _=f.toString(16);return 1&_.length?`0${_}`:_},ve=ce(pe(ue.s)),De=ce(pe(ue.r)),C=ve.length/2,s=De.length/2,d=pe(C),h=pe(s);return`30${pe(s+C+4)}02${h}${De}02${d}${ve}`}},O=BigInt(0),A=BigInt(1),U=(BigInt(2),BigInt(3));function Y(ue){const ce=function q(ue){const ce=(0,b.h)(ue);return H.Q5(ce,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ce})}(ue),{Fp:pe,n:ve}=ce,De=pe.BYTES+1,C=2*pe.BYTES+1;function d(te){return B.zi(te,ve)}function h(te){return B.B8(te,ve)}const{ProjectivePoint:f,normPrivateKeyToScalar:_,weierstrassEquation:I,isWithinCurveOrder:L}=function Q(ue){const ce=function k(ue){const ce=(0,b.h)(ue);H.Q5(ce,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:pe,Fp:ve,a:De}=ce;if(pe){if(!ve.eql(De,ve.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof pe||"bigint"!=typeof pe.beta||"function"!=typeof pe.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ce})}(ue),{Fp:pe}=ce,ve=ce.toBytes||((a,v,Z)=>{const z=v.toAffine();return H.Id(Uint8Array.from([4]),pe.toBytes(z.x),pe.toBytes(z.y))}),De=ce.fromBytes||(a=>{const v=a.subarray(1);return{x:pe.fromBytes(v.subarray(0,pe.BYTES)),y:pe.fromBytes(v.subarray(pe.BYTES,2*pe.BYTES))}});function C(a){const{a:v,b:Z}=ce,z=pe.sqr(a),ee=pe.mul(z,a);return pe.add(pe.add(ee,pe.mul(a,v)),Z)}if(!pe.eql(pe.sqr(ce.Gy),C(ce.Gx)))throw new Error("bad generator point: equation left != right");function s(a){return"bigint"==typeof a&&O<a&&a<ce.n}function d(a){if(!s(a))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function h(a){const{allowedPrivateKeyLengths:v,nByteLength:Z,wrapPrivateKey:z,n:ee}=ce;if(v&&"bigint"!=typeof a){if(H.aY(a)&&(a=H.My(a)),"string"!=typeof a||!v.includes(a.length))throw new Error("Invalid key");a=a.padStart(2*Z,"0")}let le;try{le="bigint"==typeof a?a:H.bytesToNumberBE((0,H.qj)("private key",a,Z))}catch{throw new Error(`private key must be ${Z} bytes, hex or bigint, not ${typeof a}`)}return z&&(le=B.zi(le,ee)),d(le),le}const f=new Map;function _(a){if(!(a instanceof I))throw new Error("ProjectivePoint expected")}class I{constructor(v,Z,z){if(this.px=v,this.py=Z,this.pz=z,null==v||!pe.isValid(v))throw new Error("x required");if(null==Z||!pe.isValid(Z))throw new Error("y required");if(null==z||!pe.isValid(z))throw new Error("z required")}static fromAffine(v){const{x:Z,y:z}=v||{};if(!v||!pe.isValid(Z)||!pe.isValid(z))throw new Error("invalid affine point");if(v instanceof I)throw new Error("projective point not allowed");const ee=le=>pe.eql(le,pe.ZERO);return ee(Z)&&ee(z)?I.ZERO:new I(Z,z,pe.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const Z=pe.invertBatch(v.map(z=>z.pz));return v.map((z,ee)=>z.toAffine(Z[ee])).map(I.fromAffine)}static fromHex(v){const Z=I.fromAffine(De((0,H.qj)("pointHex",v)));return Z.assertValidity(),Z}static fromPrivateKey(v){return I.BASE.multiply(h(v))}_setWindowSize(v){this._WINDOW_SIZE=v,f.delete(this)}assertValidity(){if(this.is0()){if(ce.allowInfinityPoint&&!pe.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:Z}=this.toAffine();if(!pe.isValid(v)||!pe.isValid(Z))throw new Error("bad point: x or y not FE");const z=pe.sqr(Z),ee=C(v);if(!pe.eql(z,ee))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(pe.isOdd)return!pe.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){_(v);const{px:Z,py:z,pz:ee}=this,{px:le,py:we,pz:Me}=v,Ze=pe.eql(pe.mul(Z,Me),pe.mul(le,ee)),ge=pe.eql(pe.mul(z,Me),pe.mul(we,ee));return Ze&&ge}negate(){return new I(this.px,pe.neg(this.py),this.pz)}double(){const{a:v,b:Z}=ce,z=pe.mul(Z,U),{px:ee,py:le,pz:we}=this;let Me=pe.ZERO,Ze=pe.ZERO,ge=pe.ZERO,me=pe.mul(ee,ee),Ue=pe.mul(le,le),xe=pe.mul(we,we),Ce=pe.mul(ee,le);return Ce=pe.add(Ce,Ce),ge=pe.mul(ee,we),ge=pe.add(ge,ge),Me=pe.mul(v,ge),Ze=pe.mul(z,xe),Ze=pe.add(Me,Ze),Me=pe.sub(Ue,Ze),Ze=pe.add(Ue,Ze),Ze=pe.mul(Me,Ze),Me=pe.mul(Ce,Me),ge=pe.mul(z,ge),xe=pe.mul(v,xe),Ce=pe.sub(me,xe),Ce=pe.mul(v,Ce),Ce=pe.add(Ce,ge),ge=pe.add(me,me),me=pe.add(ge,me),me=pe.add(me,xe),me=pe.mul(me,Ce),Ze=pe.add(Ze,me),xe=pe.mul(le,we),xe=pe.add(xe,xe),me=pe.mul(xe,Ce),Me=pe.sub(Me,me),ge=pe.mul(xe,Ue),ge=pe.add(ge,ge),ge=pe.add(ge,ge),new I(Me,Ze,ge)}add(v){_(v);const{px:Z,py:z,pz:ee}=this,{px:le,py:we,pz:Me}=v;let Ze=pe.ZERO,ge=pe.ZERO,me=pe.ZERO;const Ue=ce.a,xe=pe.mul(ce.b,U);let Ce=pe.mul(Z,le),be=pe.mul(z,we),he=pe.mul(ee,Me),ne=pe.add(Z,z),te=pe.add(le,we);ne=pe.mul(ne,te),te=pe.add(Ce,be),ne=pe.sub(ne,te),te=pe.add(Z,ee);let de=pe.add(le,Me);return te=pe.mul(te,de),de=pe.add(Ce,he),te=pe.sub(te,de),de=pe.add(z,ee),Ze=pe.add(we,Me),de=pe.mul(de,Ze),Ze=pe.add(be,he),de=pe.sub(de,Ze),me=pe.mul(Ue,te),Ze=pe.mul(xe,he),me=pe.add(Ze,me),Ze=pe.sub(be,me),me=pe.add(be,me),ge=pe.mul(Ze,me),be=pe.add(Ce,Ce),be=pe.add(be,Ce),he=pe.mul(Ue,he),te=pe.mul(xe,te),be=pe.add(be,he),he=pe.sub(Ce,he),he=pe.mul(Ue,he),te=pe.add(te,he),Ce=pe.mul(be,te),ge=pe.add(ge,Ce),Ce=pe.mul(de,te),Ze=pe.mul(ne,Ze),Ze=pe.sub(Ze,Ce),Ce=pe.mul(ne,be),me=pe.mul(de,me),me=pe.add(me,Ce),new I(Ze,ge,me)}subtract(v){return this.add(v.negate())}is0(){return this.equals(I.ZERO)}wNAF(v){return x.wNAFCached(this,f,v,Z=>{const z=pe.invertBatch(Z.map(ee=>ee.pz));return Z.map((ee,le)=>ee.toAffine(z[le])).map(I.fromAffine)})}multiplyUnsafe(v){const Z=I.ZERO;if(v===O)return Z;if(d(v),v===A)return this;const{endo:z}=ce;if(!z)return x.unsafeLadder(this,v);let{k1neg:ee,k1:le,k2neg:we,k2:Me}=z.splitScalar(v),Ze=Z,ge=Z,me=this;for(;le>O||Me>O;)le&A&&(Ze=Ze.add(me)),Me&A&&(ge=ge.add(me)),me=me.double(),le>>=A,Me>>=A;return ee&&(Ze=Ze.negate()),we&&(ge=ge.negate()),ge=new I(pe.mul(ge.px,z.beta),ge.py,ge.pz),Ze.add(ge)}multiply(v){d(v);let z,ee,Z=v;const{endo:le}=ce;if(le){const{k1neg:we,k1:Me,k2neg:Ze,k2:ge}=le.splitScalar(Z);let{p:me,f:Ue}=this.wNAF(Me),{p:xe,f:Ce}=this.wNAF(ge);me=x.constTimeNegate(we,me),xe=x.constTimeNegate(Ze,xe),xe=new I(pe.mul(xe.px,le.beta),xe.py,xe.pz),z=me.add(xe),ee=Ue.add(Ce)}else{const{p:we,f:Me}=this.wNAF(Z);z=we,ee=Me}return I.normalizeZ([z,ee])[0]}multiplyAndAddUnsafe(v,Z,z){const ee=I.BASE,le=(Me,Ze)=>Ze!==O&&Ze!==A&&Me.equals(ee)?Me.multiply(Ze):Me.multiplyUnsafe(Ze),we=le(this,Z).add(le(v,z));return we.is0()?void 0:we}toAffine(v){const{px:Z,py:z,pz:ee}=this,le=this.is0();null==v&&(v=le?pe.ONE:pe.inv(ee));const we=pe.mul(Z,v),Me=pe.mul(z,v),Ze=pe.mul(ee,v);if(le)return{x:pe.ZERO,y:pe.ZERO};if(!pe.eql(Ze,pe.ONE))throw new Error("invZ was invalid");return{x:we,y:Me}}isTorsionFree(){const{h:v,isTorsionFree:Z}=ce;if(v===A)return!0;if(Z)return Z(I,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:Z}=ce;return v===A?this:Z?Z(I,this):this.multiplyUnsafe(ce.h)}toRawBytes(v=!0){return this.assertValidity(),ve(I,this,v)}toHex(v=!0){return H.My(this.toRawBytes(v))}}I.BASE=new I(ce.Gx,ce.Gy,pe.ONE),I.ZERO=new I(pe.ZERO,pe.ONE,pe.ZERO);const L=ce.nBitLength,x=(0,b.A)(I,ce.endo?Math.ceil(L/2):L);return{CURVE:ce,ProjectivePoint:I,normPrivateKeyToScalar:h,weierstrassEquation:C,isWithinCurveOrder:s}}({...ce,toBytes(te,de,_e){const Ie=de.toAffine(),He=pe.toBytes(Ie.x),Ve=H.Id;return _e?Ve(Uint8Array.from([de.hasEvenY()?2:3]),He):Ve(Uint8Array.from([4]),He,pe.toBytes(Ie.y))},fromBytes(te){const de=te.length,_e=te[0],Ie=te.subarray(1);if(de!==De||2!==_e&&3!==_e){if(de===C&&4===_e)return{x:pe.fromBytes(Ie.subarray(0,pe.BYTES)),y:pe.fromBytes(Ie.subarray(pe.BYTES,2*pe.BYTES))};throw new Error(`Point of length ${de} was invalid. Expected ${De} compressed bytes or ${C} uncompressed bytes`)}{const He=H.bytesToNumberBE(Ie);if(!function s(te){return O<te&&te<pe.ORDER}(He))throw new Error("Point is not on curve");const Ve=I(He);let Dt=pe.sqrt(Ve);return!(1&~_e)!=((Dt&A)===A)&&(Dt=pe.neg(Dt)),{x:He,y:Dt}}}}),x=te=>H.My(H.lq(te,ce.nByteLength));function a(te){return te>ve>>A}const Z=(te,de,_e)=>H.bytesToNumberBE(te.slice(de,_e));class z{constructor(de,_e,Ie){this.r=de,this.s=_e,this.recovery=Ie,this.assertValidity()}static fromCompact(de){const _e=ce.nByteLength;return de=(0,H.qj)("compactSignature",de,2*_e),new z(Z(de,0,_e),Z(de,_e,2*_e))}static fromDER(de){const{r:_e,s:Ie}=R.toSig((0,H.qj)("DER",de));return new z(_e,Ie)}assertValidity(){if(!L(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!L(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(de){return new z(this.r,this.s,de)}recoverPublicKey(de){const{r:_e,s:Ie,recovery:He}=this,Ve=ge((0,H.qj)("msgHash",de));if(null==He||![0,1,2,3].includes(He))throw new Error("recovery id invalid");const Dt=2===He||3===He?_e+ce.n:_e;if(Dt>=pe.ORDER)throw new Error("recovery id 2 or 3 invalid");const ke=f.fromHex((1&He?"03":"02")+x(Dt)),yt=h(Dt),F=d(-Ve*yt),D=d(Ie*yt),M=f.BASE.multiplyAndAddUnsafe(ke,F,D);if(!M)throw new Error("point at infinify");return M.assertValidity(),M}hasHighS(){return a(this.s)}normalizeS(){return this.hasHighS()?new z(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return H.hexToBytes(this.toDERHex())}toDERHex(){return R.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return H.hexToBytes(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const ee={isValidPrivateKey(te){try{return _(te),!0}catch{return!1}},normPrivateKeyToScalar:_,randomPrivateKey:()=>{const te=B.Tp(ce.n);return B.qy(ce.randomBytes(te),ce.n)},precompute:(te=8,de=f.BASE)=>(de._setWindowSize(te),de.multiply(BigInt(3)),de)};function we(te){const de=H.aY(te),_e="string"==typeof te,Ie=(de||_e)&&te.length;return de?Ie===De||Ie===C:_e?Ie===2*De||Ie===2*C:te instanceof f}const Ze=ce.bits2int||function(te){const de=H.bytesToNumberBE(te),_e=8*te.length-ce.nBitLength;return _e>0?de>>BigInt(_e):de},ge=ce.bits2int_modN||function(te){return d(Ze(te))},me=H.OG(ce.nBitLength);function Ue(te){if("bigint"!=typeof te)throw new Error("bigint expected");if(!(O<=te&&te<me))throw new Error(`bigint expected < 2^${ce.nBitLength}`);return H.lq(te,ce.nByteLength)}const Ce={lowS:ce.lowS,prehash:!1},be={lowS:ce.lowS,prehash:!1};return f.BASE._setWindowSize(8),{CURVE:ce,getPublicKey:function le(te,de=!0){return f.fromPrivateKey(te).toRawBytes(de)},getSharedSecret:function Me(te,de,_e=!0){if(we(te))throw new Error("first arg must be private key");if(!we(de))throw new Error("second arg must be public key");return f.fromHex(de).multiply(_(te)).toRawBytes(_e)},sign:function he(te,de,_e=Ce){const{seed:Ie,k2sig:He}=function xe(te,de,_e=Ce){if(["recovered","canonical"].some(fe=>fe in _e))throw new Error("sign() legacy options not supported");const{hash:Ie,randomBytes:He}=ce;let{lowS:Ve,prehash:Dt,extraEntropy:Ne}=_e;null==Ve&&(Ve=!0),te=(0,H.qj)("msgHash",te),Dt&&(te=(0,H.qj)("prehashed msgHash",Ie(te)));const ke=ge(te),yt=_(de),F=[Ue(yt),Ue(ke)];if(null!=Ne){const fe=!0===Ne?He(pe.BYTES):Ne;F.push((0,H.qj)("extraEntropy",fe))}const D=H.Id(...F),M=ke;return{seed:D,k2sig:function G(fe){const Se=Ze(fe);if(!L(Se))return;const Ae=h(Se),ot=f.BASE.multiply(Se).toAffine(),Gt=d(ot.x);if(Gt===O)return;const _t=d(Ae*d(M+Gt*yt));if(_t===O)return;let Bt=(ot.x===Gt?0:2)|Number(ot.y&A),en=_t;return Ve&&a(_t)&&(en=function v(te){return a(te)?d(-te):te}(_t),Bt^=1),new z(Gt,en,Bt)}}}(te,de,_e);return H.fg(ce.hash.outputLen,ce.nByteLength,ce.hmac)(Ie,He)},verify:function ne(te,de,_e,Ie=be){const He=te;if(de=(0,H.qj)("msgHash",de),_e=(0,H.qj)("publicKey",_e),"strict"in Ie)throw new Error("options.strict was renamed to lowS");const{lowS:Ve,prehash:Dt}=Ie;let Ne,ke;try{if("string"==typeof He||H.aY(He))try{Ne=z.fromDER(He)}catch(ot){if(!(ot instanceof R.Err))throw ot;Ne=z.fromCompact(He)}else{if("object"!=typeof He||"bigint"!=typeof He.r||"bigint"!=typeof He.s)throw new Error("PARSE");{const{r:ot,s:Gt}=He;Ne=new z(ot,Gt)}}ke=f.fromHex(_e)}catch(ot){if("PARSE"===ot.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ve&&Ne.hasHighS())return!1;Dt&&(de=ce.hash(de));const{r:yt,s:F}=Ne,D=ge(de),M=h(F),G=d(D*M),fe=d(yt*M),Se=f.BASE.multiplyAndAddUnsafe(ke,G,fe)?.toAffine();return!!Se&&d(Se.x)===yt},ProjectivePoint:f,Signature:z,utils:ee}}function ie(ue){return{hash:ue,hmac:(ce,...pe)=>(0,g.w)(ue,ce,(0,w.Id)(...pe)),randomBytes:w.po}}function ae(ue,ce){const pe=ve=>Y({...ue,...ie(ve)});return Object.freeze({...pe(ce),create:pe})}BigInt(4)},7184:($e,j,E)=>{"use strict";E.d(j,{A:()=>b,h:()=>k});var g=E(35765),w=E(91006);const B=BigInt(0),H=BigInt(1);function b(S,P){const R=(A,V)=>{const U=V.negate();return A?U:V},O=A=>({windows:Math.ceil(P/A)+1,windowSize:2**(A-1)});return{constTimeNegate:R,unsafeLadder(A,V){let U=S.ZERO,K=A;for(;V>B;)V&H&&(U=U.add(K)),K=K.double(),V>>=H;return U},precomputeWindow(A,V){const{windows:U,windowSize:K}=O(V),Q=[];let q=A,Y=q;for(let W=0;W<U;W++){Y=q,Q.push(Y);for(let re=1;re<K;re++)Y=Y.add(q),Q.push(Y);q=Y.double()}return Q},wNAF(A,V,U){const{windows:K,windowSize:Q}=O(A);let q=S.ZERO,Y=S.BASE;const W=BigInt(2**A-1),re=2**A,ie=BigInt(A);for(let ae=0;ae<K;ae++){const ue=ae*Q;let ce=Number(U&W);U>>=ie,ce>Q&&(ce-=re,U+=H);const pe=ue,ve=ue+Math.abs(ce)-1,C=ce<0;0===ce?Y=Y.add(R(ae%2!=0,V[pe])):q=q.add(R(C,V[ve]))}return{p:q,f:Y}},wNAFCached(A,V,U,K){const Q=A._WINDOW_SIZE||1;let q=V.get(A);return q||(q=this.precomputeWindow(A,Q),1!==Q&&V.set(A,K(q))),this.wNAF(Q,q,U)}}}function k(S){return(0,g.jr)(S.Fp),(0,w.Q5)(S,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,g.LH)(S.n,S.nBitLength),...S,p:S.Fp.ORDER})}},35765:($e,j,E)=>{"use strict";E.d(j,{B8:()=>K,D0:()=>ve,LH:()=>pe,Tp:()=>h,Tv:()=>C,dQ:()=>Y,jr:()=>re,n7:()=>V,qy:()=>f,zH:()=>U,zi:()=>A});var g=E(91006);const w=BigInt(0),B=BigInt(1),H=BigInt(2),b=BigInt(3),k=BigInt(4),S=BigInt(5),P=BigInt(8);function A(_,I){const L=_%I;return L>=w?L:I+L}function V(_,I,L){if(L<=w||I<w)throw new Error("Expected power/modulo > 0");if(L===B)return w;let x=B;for(;I>w;)I&B&&(x=x*_%L),_=_*_%L,I>>=B;return x}function U(_,I,L){let x=_;for(;I-- >w;)x*=x,x%=L;return x}function K(_,I){if(_===w||I<=w)throw new Error(`invert: expected positive integers, got n=${_} mod=${I}`);let L=A(_,I),x=I,a=w,v=B,Z=B,z=w;for(;L!==w;){const le=x/L,we=x%L,Me=a-Z*le,Ze=v-z*le;x=L,L=we,a=Z,v=z,Z=Me,z=Ze}if(x!==B)throw new Error("invert: does not exist");return A(a,I)}BigInt(9),BigInt(16);const Y=(_,I)=>(A(_,I)&B)===B,W=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function re(_){const L=W.reduce((x,a)=>(x[a]="function",x),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,g.Q5)(_,L)}function pe(_,I){const L=void 0!==I?I:_.toString(2).length;return{nBitLength:L,nByteLength:Math.ceil(L/8)}}function ve(_,I,L=!1,x={}){if(_<=w)throw new Error(`Expected Field ORDER > 0, got ${_}`);const{nBitLength:a,nByteLength:v}=pe(_,I);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const Z=function q(_){if(_%k===b){const I=(_+B)/k;return function(x,a){const v=x.pow(a,I);if(!x.eql(x.sqr(v),a))throw new Error("Cannot find square root");return v}}if(_%P===S){const I=(_-S)/P;return function(x,a){const v=x.mul(a,H),Z=x.pow(v,I),z=x.mul(a,Z),ee=x.mul(x.mul(z,H),Z),le=x.mul(z,x.sub(ee,x.ONE));if(!x.eql(x.sqr(le),a))throw new Error("Cannot find square root");return le}}return function Q(_){const I=(_-B)/H;let L,x,a;for(L=_-B,x=0;L%H===w;L/=H,x++);for(a=H;a<_&&V(a,I,_)!==_-B;a++);if(1===x){const Z=(_+B)/k;return function(ee,le){const we=ee.pow(le,Z);if(!ee.eql(ee.sqr(we),le))throw new Error("Cannot find square root");return we}}const v=(L+B)/H;return function(z,ee){if(z.pow(ee,I)===z.neg(z.ONE))throw new Error("Cannot find square root");let le=x,we=z.pow(z.mul(z.ONE,a),L),Me=z.pow(ee,v),Ze=z.pow(ee,L);for(;!z.eql(Ze,z.ONE);){if(z.eql(Ze,z.ZERO))return z.ZERO;let ge=1;for(let Ue=z.sqr(Ze);ge<le&&!z.eql(Ue,z.ONE);ge++)Ue=z.sqr(Ue);const me=z.pow(we,B<<BigInt(le-ge-1));we=z.sqr(me),Me=z.mul(Me,me),Ze=z.mul(Ze,we),le=ge}return Me}}(_)}(_),z=Object.freeze({ORDER:_,BITS:a,BYTES:v,MASK:(0,g.OG)(a),ZERO:w,ONE:B,create:ee=>A(ee,_),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return w<=ee&&ee<_},is0:ee=>ee===w,isOdd:ee=>(ee&B)===B,neg:ee=>A(-ee,_),eql:(ee,le)=>ee===le,sqr:ee=>A(ee*ee,_),add:(ee,le)=>A(ee+le,_),sub:(ee,le)=>A(ee-le,_),mul:(ee,le)=>A(ee*le,_),pow:(ee,le)=>function ie(_,I,L){if(L<w)throw new Error("Expected power > 0");if(L===w)return _.ONE;if(L===B)return I;let x=_.ONE,a=I;for(;L>w;)L&B&&(x=_.mul(x,a)),a=_.sqr(a),L>>=B;return x}(z,ee,le),div:(ee,le)=>A(ee*K(le,_),_),sqrN:ee=>ee*ee,addN:(ee,le)=>ee+le,subN:(ee,le)=>ee-le,mulN:(ee,le)=>ee*le,inv:ee=>K(ee,_),sqrt:x.sqrt||(ee=>Z(z,ee)),invertBatch:ee=>function ae(_,I){const L=new Array(I.length),x=I.reduce((v,Z,z)=>_.is0(Z)?v:(L[z]=v,_.mul(v,Z)),_.ONE),a=_.inv(x);return I.reduceRight((v,Z,z)=>_.is0(Z)?v:(L[z]=_.mul(v,L[z]),_.mul(v,Z)),a),L}(z,ee),cmov:(ee,le,we)=>we?le:ee,toBytes:ee=>L?(0,g.z)(ee,v):(0,g.lq)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return L?(0,g.lX)(ee):(0,g.bytesToNumberBE)(ee)}});return Object.freeze(z)}function C(_,I){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const L=_.sqrt(I);return _.isOdd(L)?_.neg(L):L}function d(_){if("bigint"!=typeof _)throw new Error("field order must be bigint");const I=_.toString(2).length;return Math.ceil(I/8)}function h(_){const I=d(_);return I+Math.ceil(I/2)}function f(_,I,L=!1){const x=_.length,a=d(I),v=h(I);if(x<16||x<v||x>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${x}`);const z=A(L?(0,g.bytesToNumberBE)(_):(0,g.lX)(_),I-B)+B;return L?(0,g.z)(z,a):(0,g.lq)(z,a)}},91006:($e,j,E)=>{"use strict";E.d(j,{Id:()=>W,My:()=>k,OG:()=>pe,Q5:()=>d,aY:()=>H,bytesToNumberBE:()=>V,fg:()=>C,hexToBytes:()=>A,lX:()=>U,lq:()=>K,qj:()=>Y,z:()=>Q}),BigInt(0);const w=BigInt(1),B=BigInt(2);function H(h){return h instanceof Uint8Array||null!=h&&"object"==typeof h&&"Uint8Array"===h.constructor.name}const b=Array.from({length:256},(h,f)=>f.toString(16).padStart(2,"0"));function k(h){if(!H(h))throw new Error("Uint8Array expected");let f="";for(let _=0;_<h.length;_++)f+=b[h[_]];return f}function P(h){if("string"!=typeof h)throw new Error("hex string expected, got "+typeof h);return BigInt(""===h?"0":`0x${h}`)}const R={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function O(h){return h>=R._0&&h<=R._9?h-R._0:h>=R._A&&h<=R._F?h-(R._A-10):h>=R._a&&h<=R._f?h-(R._a-10):void 0}function A(h){if("string"!=typeof h)throw new Error("hex string expected, got "+typeof h);const f=h.length,_=f/2;if(f%2)throw new Error("padded hex string expected, got unpadded hex of length "+f);const I=new Uint8Array(_);for(let L=0,x=0;L<_;L++,x+=2){const a=O(h.charCodeAt(x)),v=O(h.charCodeAt(x+1));if(void 0===a||void 0===v)throw new Error('hex string expected, got non-hex character "'+(h[x]+h[x+1])+'" at index '+x);I[L]=16*a+v}return I}function V(h){return P(k(h))}function U(h){if(!H(h))throw new Error("Uint8Array expected");return P(k(Uint8Array.from(h).reverse()))}function K(h,f){return A(h.toString(16).padStart(2*f,"0"))}function Q(h,f){return K(h,f).reverse()}function Y(h,f,_){let I;if("string"==typeof f)try{I=A(f)}catch(x){throw new Error(`${h} must be valid hex string, got "${f}". Cause: ${x}`)}else{if(!H(f))throw new Error(`${h} must be hex string or Uint8Array`);I=Uint8Array.from(f)}const L=I.length;if("number"==typeof _&&L!==_)throw new Error(`${h} expected ${_} bytes, got ${L}`);return I}function W(...h){let f=0;for(let L=0;L<h.length;L++){const x=h[L];if(!H(x))throw new Error("Uint8Array expected");f+=x.length}let _=new Uint8Array(f),I=0;for(let L=0;L<h.length;L++){const x=h[L];_.set(x,I),I+=x.length}return _}const pe=h=>(B<<BigInt(h-1))-w,ve=h=>new Uint8Array(h),De=h=>Uint8Array.from(h);function C(h,f,_){if("number"!=typeof h||h<2)throw new Error("hashLen must be a number");if("number"!=typeof f||f<2)throw new Error("qByteLen must be a number");if("function"!=typeof _)throw new Error("hmacFn must be a function");let I=ve(h),L=ve(h),x=0;const a=()=>{I.fill(1),L.fill(0),x=0},v=(...le)=>_(L,I,...le),Z=(le=ve())=>{L=v(De([0]),le),I=v(),0!==le.length&&(L=v(De([1]),le),I=v())},z=()=>{if(x++>=1e3)throw new Error("drbg: tried 1000 values");let le=0;const we=[];for(;le<f;){I=v();const Me=I.slice();we.push(Me),le+=I.length}return W(...we)};return(le,we)=>{let Me;for(a(),Z(le);!(Me=we(z()));)Z();return a(),Me}}const s={bigint:h=>"bigint"==typeof h,function:h=>"function"==typeof h,boolean:h=>"boolean"==typeof h,string:h=>"string"==typeof h,stringOrUint8Array:h=>"string"==typeof h||H(h),isSafeInteger:h=>Number.isSafeInteger(h),array:h=>Array.isArray(h),field:(h,f)=>f.Fp.isValid(h),hash:h=>"function"==typeof h&&Number.isSafeInteger(h.outputLen)};function d(h,f,_={}){const I=(L,x,a)=>{const v=s[x];if("function"!=typeof v)throw new Error(`Invalid validator "${x}", expected function`);const Z=h[L];if(!(a&&void 0===Z||v(Z,h)))throw new Error(`Invalid param ${String(L)}=${Z} (${typeof Z}), expected ${x}`)};for(const[L,x]of Object.entries(f))I(L,x,!1);for(const[L,x]of Object.entries(_))I(L,x,!0);return h}},86295:($e,j,E)=>{"use strict";E.d(j,{ev:()=>I,OA:()=>ee,GU:()=>Z,TU:()=>v});var g=E(25431),w=E(62953),B=E(35765),H=E(91006),b=E(7184);const k=BigInt(0),S=BigInt(1),P=BigInt(2),R=BigInt(8),O={zip215:!0};function V(G){const fe=function A(G){const fe=(0,b.h)(G);return H.Q5(G,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...fe})}(G),{Fp:Se,n:Ae,prehash:ot,hash:Gt,randomBytes:_t,nByteLength:Bt,h:en}=fe,pn=P<<BigInt(8*Bt)-S,cn=Se.create,tr=fe.uvRatio||((Pn,Nn)=>{try{return{isValid:!0,value:Se.sqrt(Pn*Se.inv(Nn))}}catch{return{isValid:!1,value:k}}}),Mn=fe.adjustScalarBytes||(Pn=>Pn),on=fe.domain||((Pn,Nn,et)=>{if(Nn.length||et)throw new Error("Contexts/pre-hash are not supported");return Pn}),Qt=Pn=>"bigint"==typeof Pn&&k<Pn,ut=(Pn,Nn)=>Qt(Pn)&&Qt(Nn)&&Pn<Nn,st=Pn=>Pn===k||ut(Pn,pn);function Zt(Pn,Nn){if(ut(Pn,Nn))return Pn;throw new Error(`Expected valid scalar < ${Nn}, got ${typeof Pn} ${Pn}`)}function Xt(Pn){return Pn===k?Pn:Zt(Pn,Ae)}const rn=new Map;function Zn(Pn){if(!(Pn instanceof at))throw new Error("ExtendedPoint expected")}class at{constructor(Nn,et,Oe,Qe){if(this.ex=Nn,this.ey=et,this.ez=Oe,this.et=Qe,!st(Nn))throw new Error("x required");if(!st(et))throw new Error("y required");if(!st(Oe))throw new Error("z required");if(!st(Qe))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Nn){if(Nn instanceof at)throw new Error("extended point not allowed");const{x:et,y:Oe}=Nn||{};if(!st(et)||!st(Oe))throw new Error("invalid affine point");return new at(et,Oe,S,cn(et*Oe))}static normalizeZ(Nn){const et=Se.invertBatch(Nn.map(Oe=>Oe.ez));return Nn.map((Oe,Qe)=>Oe.toAffine(et[Qe])).map(at.fromAffine)}_setWindowSize(Nn){this._WINDOW_SIZE=Nn,rn.delete(this)}assertValidity(){const{a:Nn,d:et}=fe;if(this.is0())throw new Error("bad point: ZERO");const{ex:Oe,ey:Qe,ez:zt,et:hn}=this,Un=cn(Oe*Oe),Kn=cn(Qe*Qe),ir=cn(zt*zt),mr=cn(ir*ir),Pr=cn(Un*Nn);if(cn(ir*cn(Pr+Kn))!==cn(mr+cn(et*cn(Un*Kn))))throw new Error("bad point: equation left != right (1)");if(cn(Oe*Qe)!==cn(zt*hn))throw new Error("bad point: equation left != right (2)")}equals(Nn){Zn(Nn);const{ex:et,ey:Oe,ez:Qe}=this,{ex:zt,ey:hn,ez:Un}=Nn,Kn=cn(et*Un),ir=cn(zt*Qe),mr=cn(Oe*Un),Pr=cn(hn*Qe);return Kn===ir&&mr===Pr}is0(){return this.equals(at.ZERO)}negate(){return new at(cn(-this.ex),this.ey,this.ez,cn(-this.et))}double(){const{a:Nn}=fe,{ex:et,ey:Oe,ez:Qe}=this,zt=cn(et*et),hn=cn(Oe*Oe),Un=cn(P*cn(Qe*Qe)),Kn=cn(Nn*zt),ir=et+Oe,mr=cn(cn(ir*ir)-zt-hn),Pr=Kn+hn,Sr=Pr-Un,Nr=Kn-hn,dr=cn(mr*Sr),nn=cn(Pr*Nr),yn=cn(mr*Nr),En=cn(Sr*Pr);return new at(dr,nn,En,yn)}add(Nn){Zn(Nn);const{a:et,d:Oe}=fe,{ex:Qe,ey:zt,ez:hn,et:Un}=this,{ex:Kn,ey:ir,ez:mr,et:Pr}=Nn;if(et===BigInt(-1)){const $i=cn((zt-Qe)*(ir+Kn)),oo=cn((zt+Qe)*(ir-Kn)),Hi=cn(oo-$i);if(Hi===k)return this.double();const bi=cn(hn*P*Pr),pi=cn(Un*P*mr),So=pi+bi,wi=oo+$i,gt=pi-bi,Ft=cn(So*Hi),We=cn(wi*gt),qe=cn(So*gt),Mt=cn(Hi*wi);return new at(Ft,We,Mt,qe)}const Sr=cn(Qe*Kn),Nr=cn(zt*ir),dr=cn(Un*Oe*Pr),nn=cn(hn*mr),yn=cn((Qe+zt)*(Kn+ir)-Sr-Nr),En=nn-dr,Fn=nn+dr,Wn=cn(Nr-et*Sr),cr=cn(yn*En),hr=cn(Fn*Wn),jr=cn(yn*Wn),Or=cn(En*Fn);return new at(cr,hr,Or,jr)}subtract(Nn){return this.add(Nn.negate())}wNAF(Nn){return Ke.wNAFCached(this,rn,Nn,at.normalizeZ)}multiply(Nn){const{p:et,f:Oe}=this.wNAF(Zt(Nn,Ae));return at.normalizeZ([et,Oe])[0]}multiplyUnsafe(Nn){let et=Xt(Nn);return et===k?ht:this.equals(ht)||et===S?this:this.equals(pt)?this.wNAF(et).p:Ke.unsafeLadder(this,et)}isSmallOrder(){return this.multiplyUnsafe(en).is0()}isTorsionFree(){return Ke.unsafeLadder(this,Ae).is0()}toAffine(Nn){const{ex:et,ey:Oe,ez:Qe}=this,zt=this.is0();null==Nn&&(Nn=zt?R:Se.inv(Qe));const hn=cn(et*Nn),Un=cn(Oe*Nn),Kn=cn(Qe*Nn);if(zt)return{x:k,y:S};if(Kn!==S)throw new Error("invZ was invalid");return{x:hn,y:Un}}clearCofactor(){const{h:Nn}=fe;return Nn===S?this:this.multiplyUnsafe(Nn)}static fromHex(Nn,et=!1){const{d:Oe,a:Qe}=fe,zt=Se.BYTES,hn=(Nn=(0,H.qj)("pointHex",Nn,zt)).slice(),Un=Nn[zt-1];hn[zt-1]=-129&Un;const Kn=H.lX(hn);Kn===k||Zt(Kn,et?pn:Se.ORDER);const ir=cn(Kn*Kn),mr=cn(ir-S),Pr=cn(Oe*ir-Qe);let{isValid:Sr,value:Nr}=tr(mr,Pr);if(!Sr)throw new Error("Point.fromHex: invalid y coordinate");const dr=(Nr&S)===S,nn=!!(128&Un);if(!et&&Nr===k&&nn)throw new Error("Point.fromHex: x=0 and x_0=1");return nn!==dr&&(Nr=cn(-Nr)),at.fromAffine({x:Nr,y:Kn})}static fromPrivateKey(Nn){return kt(Nn).point}toRawBytes(){const{x:Nn,y:et}=this.toAffine(),Oe=H.z(et,Se.BYTES);return Oe[Oe.length-1]|=Nn&S?128:0,Oe}toHex(){return H.My(this.toRawBytes())}}at.BASE=new at(fe.Gx,fe.Gy,S,cn(fe.Gx*fe.Gy)),at.ZERO=new at(k,S,S,k);const{BASE:pt,ZERO:ht}=at,Ke=(0,b.A)(at,8*Bt);function Ge(Pn){return(0,B.zi)(Pn,Ae)}function jt(Pn){return Ge(H.lX(Pn))}function kt(Pn){const Nn=Bt;Pn=(0,H.qj)("private key",Pn,Nn);const et=(0,H.qj)("hashed private key",Gt(Pn),2*Nn),Oe=Mn(et.slice(0,Nn)),Qe=et.slice(Nn,2*Nn),zt=jt(Oe),hn=pt.multiply(zt),Un=hn.toRawBytes();return{head:Oe,prefix:Qe,scalar:zt,point:hn,pointBytes:Un}}function On(Pn=new Uint8Array,...Nn){const et=H.Id(...Nn);return jt(Gt(on(et,(0,H.qj)("context",Pn),!!ot)))}const gn=O;return pt._setWindowSize(8),{CURVE:fe,getPublicKey:function ln(Pn){return kt(Pn).pointBytes},sign:function vn(Pn,Nn,et={}){Pn=(0,H.qj)("message",Pn),ot&&(Pn=ot(Pn));const{prefix:Oe,scalar:Qe,pointBytes:zt}=kt(Nn),hn=On(et.context,Oe,Pn),Un=pt.multiply(hn).toRawBytes(),ir=Ge(hn+On(et.context,Un,zt,Pn)*Qe);Xt(ir);const mr=H.Id(Un,H.z(ir,Se.BYTES));return(0,H.qj)("result",mr,2*Bt)},verify:function ur(Pn,Nn,et,Oe=gn){const{context:Qe,zip215:zt}=Oe,hn=Se.BYTES;Pn=(0,H.qj)("signature",Pn,2*hn),Nn=(0,H.qj)("message",Nn),ot&&(Nn=ot(Nn));const Un=H.lX(Pn.slice(hn,2*hn));let Kn,ir,mr;try{Kn=at.fromHex(et,zt),ir=at.fromHex(Pn.slice(0,hn),zt),mr=pt.multiplyUnsafe(Un)}catch{return!1}if(!zt&&Kn.isSmallOrder())return!1;const Pr=On(Qe,ir.toRawBytes(),Kn.toRawBytes(),Nn);return ir.add(Kn.multiplyUnsafe(Pr)).subtract(mr).clearCofactor().equals(at.ZERO)},ExtendedPoint:at,utils:{getExtendedPublicKey:kt,randomPrivateKey:()=>_t(Se.BYTES),precompute:(Pn=8,Nn=at.BASE)=>(Nn._setWindowSize(Pn),Nn.multiply(BigInt(3)),Nn)}}}const U=BigInt(0),K=BigInt(1),Y=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),W=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ie=(BigInt(0),BigInt(1)),ae=BigInt(2),ue=BigInt(5),ce=BigInt(10),pe=BigInt(20),ve=BigInt(40),De=BigInt(80);function C(G){const fe=Y,Ae=G*G%fe*G%fe,ot=(0,B.zH)(Ae,ae,fe)*Ae%fe,Gt=(0,B.zH)(ot,ie,fe)*G%fe,_t=(0,B.zH)(Gt,ue,fe)*Gt%fe,Bt=(0,B.zH)(_t,ce,fe)*_t%fe,en=(0,B.zH)(Bt,pe,fe)*Bt%fe,pn=(0,B.zH)(en,ve,fe)*en%fe,cn=(0,B.zH)(pn,De,fe)*pn%fe,tr=(0,B.zH)(cn,De,fe)*pn%fe,Mn=(0,B.zH)(tr,ce,fe)*_t%fe;return{pow_p_5_8:(0,B.zH)(Mn,ae,fe)*G%fe,b2:Ae}}function s(G){return G[0]&=248,G[31]&=127,G[31]|=64,G}const f=(0,B.D0)(Y,void 0,!0),_={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:f,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:g.Zf,randomBytes:w.po,adjustScalarBytes:s,uvRatio:function d(G,fe){const Se=Y,Ae=(0,B.zi)(fe*fe*fe,Se),Gt=C(G*(0,B.zi)(Ae*Ae*fe,Se)).pow_p_5_8;let _t=(0,B.zi)(G*Ae*Gt,Se);const Bt=(0,B.zi)(fe*_t*_t,Se),en=_t,pn=(0,B.zi)(_t*W,Se),cn=Bt===G,tr=Bt===(0,B.zi)(-G,Se),Mn=Bt===(0,B.zi)(-G*W,Se);return cn&&(_t=en),(tr||Mn)&&(_t=pn),(0,B.dQ)(_t,Se)&&(_t=(0,B.zi)(-_t,Se)),{isValid:cn||tr,value:_t}}},I=V(_);const v=function q(G){const fe=function Q(G){return(0,H.Q5)(G,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...G})}(G),{P:Se}=fe,Ae=rn=>(0,B.zi)(rn,Se),ot=fe.montgomeryBits,Gt=Math.ceil(ot/8),_t=fe.nByteLength,Bt=fe.adjustScalarBytes||(rn=>rn),en=fe.powPminus2||(rn=>(0,B.n7)(rn,Se-BigInt(2),Se));function pn(rn,Zn,at){const pt=Ae(rn*(Zn-at));return[Zn=Ae(Zn-pt),at=Ae(at+pt)]}function cn(rn){if("bigint"==typeof rn&&U<=rn&&rn<Se)return rn;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const tr=(fe.a-BigInt(2))/BigInt(4);function on(rn){return(0,H.z)(Ae(rn),Gt)}function st(rn,Zn){const at=function Qt(rn){const Zn=(0,H.qj)("u coordinate",rn,Gt);return 32===_t&&(Zn[31]&=127),(0,H.lX)(Zn)}(Zn),pt=function ut(rn){const Zn=(0,H.qj)("scalar",rn),at=Zn.length;if(at!==Gt&&at!==_t)throw new Error(`Expected ${Gt} or ${_t} bytes, got ${at}`);return(0,H.lX)(Bt(Zn))}(rn),ht=function Mn(rn,Zn){const at=cn(rn),pt=cn(Zn),ht=at;let On,Ke=K,Ge=U,jt=at,kt=K,ln=U;for(let gn=BigInt(ot-1);gn>=U;gn--){const ur=pt>>gn&K;ln^=ur,On=pn(ln,Ke,jt),Ke=On[0],jt=On[1],On=pn(ln,Ge,kt),Ge=On[0],kt=On[1],ln=ur;const er=Ke+Ge,Pn=Ae(er*er),Nn=Ke-Ge,et=Ae(Nn*Nn),Oe=Pn-et,Qe=jt+kt,hn=Ae((jt-kt)*er),Un=Ae(Qe*Nn),Kn=hn+Un,ir=hn-Un;jt=Ae(Kn*Kn),kt=Ae(ht*Ae(ir*ir)),Ke=Ae(Pn*et),Ge=Ae(Oe*(Pn+Ae(tr*Oe)))}On=pn(ln,Ke,jt),Ke=On[0],jt=On[1],On=pn(ln,Ge,kt),Ge=On[0],kt=On[1];const vn=en(Ge);return Ae(Ke*vn)}(at,pt);if(ht===U)throw new Error("Invalid private or public key received");return on(ht)}const Zt=on(fe.Gu);function Xt(rn){return st(rn,Zt)}return{scalarMult:st,scalarMultBase:Xt,getSharedSecret:(rn,Zn)=>st(rn,Zn),getPublicKey:rn=>Xt(rn),utils:{randomPrivateKey:()=>fe.randomBytes(fe.nByteLength)},GuBytes:Zt}}({P:Y,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:G=>{const fe=Y,{pow_p_5_8:Se,b2:Ae}=C(G);return(0,B.zi)((0,B.zH)(Se,BigInt(3),fe)*Ae,fe)},adjustScalarBytes:s,randomBytes:w.po});function Z(G){const{y:fe}=I.ExtendedPoint.fromHex(G),Se=BigInt(1);return f.toBytes(f.create((Se+fe)*f.inv(Se-fe)))}function ee(G){const fe=_.hash(G.subarray(0,32));return _.adjustScalarBytes(fe).subarray(0,32)}const le=(f.ORDER+BigInt(3))/BigInt(8);f.pow(ae,le),f.sqrt(f.neg(f.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,B.Tv)(f,f.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:($e,j,E)=>{"use strict";E.d(j,{Ag:()=>P,s9:()=>S});var g=E(2716),w=E(47565);const H=(0,E(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),b=H.create(BigInt("-3")),k=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),S=(0,g.s)({a:b,b:k,Fp:H,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},w.s),P=S},63741:($e,j,E)=>{"use strict";E.d(j,{Rn:()=>a,Wp:()=>Ue,kv:()=>Me,wJ:()=>ee});var g=E(10467);const w=2n**255n-19n,B=2n**252n+27742317777372353535851937790883648493n,H=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,b=0x6666666666666666666666666666666666666666666666666666666666666658n,k={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:w,n:B,h:8,Gx:H,Gy:b},S=(he="")=>{throw new Error(he)},P=he=>"string"==typeof he,R=(he,ne)=>!(he instanceof Uint8Array)||"number"==typeof ne&&ne>0&&he.length!==ne?S("Uint8Array expected"):he,O=he=>new Uint8Array(he),A=(he,ne)=>R(P(he)?ie(he):O(he),ne),V=(he,ne=w)=>{let te=he%ne;return te>=0n?te:ne+te},U=he=>he instanceof Q?he:S("Point expected");let K;class Q{constructor(ne,te,de,_e){this.ex=ne,this.ey=te,this.ez=de,this.et=_e}static fromAffine(ne){return new Q(ne.x,ne.y,1n,V(ne.x*ne.y))}static fromHex(ne,te=!0){const{d:de}=k,_e=(ne=A(ne,32)).slice();_e[31]=-129&ne[31];const Ie=ue(_e);0n===Ie||(te&&!(0n<Ie&&Ie<w)&&S("bad y coord 1"),!te&&!(0n<Ie&&Ie<2n**256n)&&S("bad y coord 2"));const He=V(Ie*Ie),Ve=V(He-1n),Dt=V(de*He+1n);let{isValid:Ne,value:ke}=s(Ve,Dt);return Ne||S("bad y coordinate 3"),!!(128&ne[31])!=(1n===(1n&ke))&&(ke=V(-ke)),new Q(ke,Ie,1n,V(ke*Ie))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(ne){const{ex:te,ey:de,ez:_e}=this,{ex:Ie,ey:He,ez:Ve}=U(ne),Dt=V(te*Ve),Ne=V(Ie*_e),ke=V(de*Ve),yt=V(He*_e);return Dt===Ne&&ke===yt}is0(){return this.equals(Y)}negate(){return new Q(V(-this.ex),this.ey,this.ez,V(-this.et))}double(){const{ex:ne,ey:te,ez:de}=this,{a:_e}=k,Ie=V(ne*ne),He=V(te*te),Ve=V(2n*V(de*de)),Dt=V(_e*Ie),Ne=ne+te,ke=V(V(Ne*Ne)-Ie-He),yt=Dt+He,F=yt-Ve,D=Dt-He,M=V(ke*F),G=V(yt*D),fe=V(ke*D),Se=V(F*yt);return new Q(M,G,Se,fe)}add(ne){const{ex:te,ey:de,ez:_e,et:Ie}=this,{ex:He,ey:Ve,ez:Dt,et:Ne}=U(ne),{a:ke,d:yt}=k,F=V(te*He),D=V(de*Ve),M=V(Ie*yt*Ne),G=V(_e*Dt),fe=V((te+de)*(He+Ve)-F-D),Se=V(G-M),Ae=V(G+M),ot=V(D-ke*F),Gt=V(fe*Se),_t=V(Ae*ot),Bt=V(fe*ot),en=V(Se*Ae);return new Q(Gt,_t,en,Bt)}mul(ne,te=!0){if(0n===ne)return!0===te?S("cannot multiply by 0"):Y;if("bigint"==typeof ne&&0n<ne&&ne<B||S("invalid scalar, must be < L"),!te&&this.is0()||1n===ne)return this;if(this.equals(q))return be(ne).p;let de=Y,_e=q;for(let Ie=this;ne>0n;Ie=Ie.double(),ne>>=1n)1n&ne?de=de.add(Ie):te&&(_e=_e.add(Ie));return de}multiply(ne){return this.mul(ne)}clearCofactor(){return this.mul(BigInt(k.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let ne=this.mul(B/2n,!1).double();return ne=ne.add(this),ne.is0()}toAffine(){const{ex:ne,ey:te,ez:de}=this;if(this.is0())return{x:0n,y:0n};const _e=pe(de);return 1n!==V(de*_e)&&S("invalid inverse"),{x:V(ne*_e),y:V(te*_e)}}toRawBytes(){const{x:ne,y:te}=this.toAffine(),de=ae(te);return de[31]|=1n&ne?128:0,de}toHex(){return re(this.toRawBytes())}}Q.BASE=new Q(H,b,1n,V(H*b)),Q.ZERO=new Q(0n,1n,1n,0n);const{BASE:q,ZERO:Y}=Q,W=(he,ne)=>he.toString(16).padStart(ne,"0"),re=he=>Array.from(he).map(ne=>W(ne,2)).join(""),ie=he=>{const ne=he.length;(!P(he)||ne%2)&&S("hex invalid 1");const te=O(ne/2);for(let de=0;de<te.length;de++){const _e=2*de,Ie=he.slice(_e,_e+2),He=Number.parseInt(Ie,16);(Number.isNaN(He)||He<0)&&S("hex invalid 2"),te[de]=He}return te},ae=he=>ie(W(he,64)).reverse(),ue=he=>BigInt("0x"+re(O(R(he)).reverse())),ce=(...he)=>{const ne=O(he.reduce((de,_e)=>de+R(_e).length,0));let te=0;return he.forEach(de=>{ne.set(de,te),te+=de.length}),ne},pe=(he,ne=w)=>{(0n===he||ne<=0n)&&S("no inverse n="+he+" mod="+ne);let te=V(he,ne),de=ne,_e=0n,Ie=1n,He=1n,Ve=0n;for(;0n!==te;){const Dt=de/te,Ne=de%te,ke=_e-He*Dt,yt=Ie-Ve*Dt;de=te,te=Ne,_e=He,Ie=Ve,He=ke,Ve=yt}return 1n===de?V(_e,ne):S("no inverse")},ve=(he,ne)=>{let te=he;for(;ne-- >0n;)te*=te,te%=w;return te},C=19681161376707505956807079304988542015446066515923890162744021073123829784752n,s=(he,ne)=>{const te=V(ne*ne*ne),_e=(he=>{const te=he*he%w*he%w,de=ve(te,2n)*te%w,_e=ve(de,1n)*he%w,Ie=ve(_e,5n)*_e%w,He=ve(Ie,10n)*Ie%w,Ve=ve(He,20n)*He%w,Dt=ve(Ve,40n)*Ve%w,Ne=ve(Dt,80n)*Dt%w,ke=ve(Ne,80n)*Dt%w,yt=ve(ke,10n)*Ie%w;return{pow_p_5_8:ve(yt,2n)*he%w,b2:te}})(he*V(te*te*ne)).pow_p_5_8;let Ie=V(he*te*_e);const He=V(ne*Ie*Ie),Ve=Ie,Dt=V(Ie*C),Ne=He===he,ke=He===V(-he),yt=He===V(-he*C);return Ne&&(Ie=Ve),(ke||yt)&&(Ie=Dt),1n===(1n&V(Ie))&&(Ie=V(-Ie)),{isValid:Ne||ke,value:Ie}},d=he=>V(ue(he),B);let h;const f=(...he)=>me.sha512Async(...he),_=(...he)=>"function"==typeof h?h(...he):S("etc.sha512Sync not set"),I=he=>{const ne=he.slice(0,32);ne[0]&=248,ne[31]&=127,ne[31]|=64;const te=he.slice(32,64),de=d(ne),_e=q.mul(de),Ie=_e.toRawBytes();return{head:ne,prefix:te,scalar:de,point:_e,pointBytes:Ie}},L=he=>f(A(he,32)).then(I),a=he=>L(he).then(ne=>ne.pointBytes);function Z(he,ne){return he?f(ne.hashable).then(ne.finish):ne.finish(_(ne.hashable))}const ee=function(){var he=(0,g.A)(function*(ne,te){const de=A(ne),_e=yield L(te);return Z(!0,((he,ne,te)=>{const{pointBytes:de,scalar:_e}=he,Ie=d(ne),He=q.mul(Ie).toRawBytes();return{hashable:ce(He,de,te),finish:Ne=>{const ke=V(Ie+d(Ne)*_e,B);return R(ce(He,ae(ke)),64)}}})(_e,yield f(_e.prefix,de),de))});return function(te,de){return he.apply(this,arguments)}}(),Me=function(){var he=(0,g.A)(function*(ne,te,de){return Z(!0,((he,ne,te)=>{ne=A(ne),he=A(he,64);const de=Q.fromHex(te,!1),_e=Q.fromHex(he.slice(0,32),!1),Ie=ue(he.slice(32,64)),He=q.mul(Ie,!1);return{hashable:ce(_e.toRawBytes(),de.toRawBytes(),ne),finish:Ne=>{const ke=d(Ne);return _e.add(de.mul(ke,!1)).add(He.negate()).clearCofactor().is0()}}})(ne,te,de))});return function(te,de,_e){return he.apply(this,arguments)}}(),ge=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,me={bytesToHex:re,hexToBytes:ie,concatBytes:ce,mod:V,invert:pe,randomBytes:he=>{const ne=ge();return ne||S("crypto.getRandomValues must be defined"),ne.getRandomValues(O(he))},sha512Async:(he=(0,g.A)(function*(...ne){const te=ge();te||S("crypto.subtle or etc.sha512Async must be defined");const de=ce(...ne);return O(yield te.subtle.digest("SHA-512",de.buffer))}),function(){return he.apply(this,arguments)}),sha512Sync:void 0};var he;Object.defineProperties(me,{sha512Sync:{configurable:!1,get:()=>h,set(he){h||(h=he)}}});const Ue={getExtendedPublicKeyAsync:L,getExtendedPublicKey:he=>I(_(A(he,32))),randomPrivateKey:()=>me.randomBytes(32),precompute:(he=8,ne=q)=>(ne.multiply(3n),ne)},be=he=>{const ne=K||(K=(()=>{const he=[];let te=q,de=te;for(let _e=0;_e<33;_e++){de=te,he.push(de);for(let Ie=1;Ie<128;Ie++)de=de.add(te),he.push(de);te=de.double()}return he})()),te=(ke,yt)=>{let F=yt.negate();return ke?F:yt};let de=Y,_e=q;const Ve=BigInt(255),Ne=BigInt(8);for(let ke=0;ke<33;ke++){const yt=128*ke;let F=Number(he&Ve);he>>=Ne,F>128&&(F-=256,he+=1n);const D=yt,M=yt+Math.abs(F)-1,fe=F<0;0===F?_e=_e.add(te(ke%2!=0,ne[D])):de=de.add(te(fe,ne[M]))}return{p:de,f:_e}}},37099:($e,j,E)=>{"use strict";function g(O){if(!Number.isSafeInteger(O)||O<0)throw new Error(`Wrong positive integer: ${O}`)}function H(O,...A){if(!function B(O){return O instanceof Uint8Array||null!=O&&"object"==typeof O&&"Uint8Array"===O.constructor.name}(O))throw new Error("Expected Uint8Array");if(A.length>0&&!A.includes(O.length))throw new Error(`Expected Uint8Array of length ${A}, not of length=${O.length}`)}function b(O){if("function"!=typeof O||"function"!=typeof O.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");g(O.outputLen),g(O.blockLen)}function k(O,A=!0){if(O.destroyed)throw new Error("Hash instance has been destroyed");if(A&&O.finished)throw new Error("Hash#digest() has already been called")}function S(O,A){H(O);const V=A.outputLen;if(O.length<V)throw new Error(`digestInto() expects output buffer of length at least ${V}`)}E.d(j,{CG:()=>S,ai:()=>g,ee:()=>H,t2:()=>k,tW:()=>b})},36405:($e,j,E)=>{"use strict";E.d(j,{D:()=>H});var g=E(37099),w=E(62953);class H extends w.Vw{constructor(k,S,P,R){super(),this.blockLen=k,this.outputLen=S,this.padOffset=P,this.isLE=R,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(k),this.view=(0,w.O8)(this.buffer)}update(k){(0,g.t2)(this);const{view:S,buffer:P,blockLen:R}=this,O=(k=(0,w.ZJ)(k)).length;for(let A=0;A<O;){const V=Math.min(R-this.pos,O-A);if(V!==R)P.set(k.subarray(A,A+V),this.pos),this.pos+=V,A+=V,this.pos===R&&(this.process(S,0),this.pos=0);else{const U=(0,w.O8)(k);for(;R<=O-A;A+=R)this.process(U,A)}}return this.length+=k.length,this.roundClean(),this}digestInto(k){(0,g.t2)(this),(0,g.CG)(k,this),this.finished=!0;const{buffer:S,view:P,blockLen:R,isLE:O}=this;let{pos:A}=this;S[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>R-A&&(this.process(P,0),A=0);for(let q=A;q<R;q++)S[q]=0;(function B(b,k,S,P){if("function"==typeof b.setBigUint64)return b.setBigUint64(k,S,P);const R=BigInt(32),O=BigInt(4294967295),A=Number(S>>R&O),V=Number(S&O),K=P?0:4;b.setUint32(k+(P?4:0),A,P),b.setUint32(k+K,V,P)})(P,R-8,BigInt(8*this.length),O),this.process(P,0);const V=(0,w.O8)(k),U=this.outputLen;if(U%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const K=U/4,Q=this.get();if(K>Q.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<K;q++)V.setUint32(4*q,Q[q],O)}digest(){const{buffer:k,outputLen:S}=this;this.digestInto(k);const P=k.slice(0,S);return this.destroy(),P}_cloneInto(k){k||(k=new this.constructor),k.set(...this.get());const{blockLen:S,buffer:P,length:R,finished:O,destroyed:A,pos:V}=this;return k.length=R,k.pos=V,k.finished=O,k.destroyed=A,R%S&&k.buffer.set(P),k}}},86703:($e,j,E)=>{"use strict";E.d(j,{E:()=>g});const g="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:($e,j,E)=>{"use strict";E.d(j,{w:()=>H});var g=E(37099),w=E(62953);class B extends w.Vw{constructor(k,S){super(),this.finished=!1,this.destroyed=!1,(0,g.tW)(k);const P=(0,w.ZJ)(S);if(this.iHash=k.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const R=this.blockLen,O=new Uint8Array(R);O.set(P.length>R?k.create().update(P).digest():P);for(let A=0;A<O.length;A++)O[A]^=54;this.iHash.update(O),this.oHash=k.create();for(let A=0;A<O.length;A++)O[A]^=106;this.oHash.update(O),O.fill(0)}update(k){return(0,g.t2)(this),this.iHash.update(k),this}digestInto(k){(0,g.t2)(this),(0,g.ee)(k,this.outputLen),this.finished=!0,this.iHash.digestInto(k),this.oHash.update(k),this.oHash.digestInto(k),this.destroy()}digest(){const k=new Uint8Array(this.oHash.outputLen);return this.digestInto(k),k}_cloneInto(k){k||(k=Object.create(Object.getPrototypeOf(this),{}));const{oHash:S,iHash:P,finished:R,destroyed:O,blockLen:A,outputLen:V}=this;return k.finished=R,k.destroyed=O,k.blockLen=A,k.outputLen=V,k.oHash=S._cloneInto(k.oHash),k.iHash=P._cloneInto(k.iHash),k}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const H=(b,k,S)=>new B(b,k).update(S).digest();H.create=(b,k)=>new B(b,k)},47565:($e,j,E)=>{"use strict";E.d(j,{s:()=>O});var g=E(36405),w=E(62953);const B=(V,U,K)=>V&U^~V&K,H=(V,U,K)=>V&U^V&K^U&K,b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),k=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),S=new Uint32Array(64);class P extends g.D{constructor(){super(64,32,8,!1),this.A=0|k[0],this.B=0|k[1],this.C=0|k[2],this.D=0|k[3],this.E=0|k[4],this.F=0|k[5],this.G=0|k[6],this.H=0|k[7]}get(){const{A:U,B:K,C:Q,D:q,E:Y,F:W,G:re,H:ie}=this;return[U,K,Q,q,Y,W,re,ie]}set(U,K,Q,q,Y,W,re,ie){this.A=0|U,this.B=0|K,this.C=0|Q,this.D=0|q,this.E=0|Y,this.F=0|W,this.G=0|re,this.H=0|ie}process(U,K){for(let ce=0;ce<16;ce++,K+=4)S[ce]=U.getUint32(K,!1);for(let ce=16;ce<64;ce++){const pe=S[ce-15],ve=S[ce-2],De=(0,w.Ow)(pe,7)^(0,w.Ow)(pe,18)^pe>>>3,C=(0,w.Ow)(ve,17)^(0,w.Ow)(ve,19)^ve>>>10;S[ce]=C+S[ce-7]+De+S[ce-16]|0}let{A:Q,B:q,C:Y,D:W,E:re,F:ie,G:ae,H:ue}=this;for(let ce=0;ce<64;ce++){const ve=ue+((0,w.Ow)(re,6)^(0,w.Ow)(re,11)^(0,w.Ow)(re,25))+B(re,ie,ae)+b[ce]+S[ce]|0,C=((0,w.Ow)(Q,2)^(0,w.Ow)(Q,13)^(0,w.Ow)(Q,22))+H(Q,q,Y)|0;ue=ae,ae=ie,ie=re,re=W+ve|0,W=Y,Y=q,q=Q,Q=ve+C|0}Q=Q+this.A|0,q=q+this.B|0,Y=Y+this.C|0,W=W+this.D|0,re=re+this.E|0,ie=ie+this.F|0,ae=ae+this.G|0,ue=ue+this.H|0,this.set(Q,q,Y,W,re,ie,ae,ue)}roundClean(){S.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const O=(0,w.ld)(()=>new P)},25431:($e,j,E)=>{"use strict";E.d(j,{Zf:()=>v});var g=E(36405);const w=BigInt(2**32-1),B=BigInt(32);function H(le,we=!1){return we?{h:Number(le&w),l:Number(le>>B&w)}:{h:0|Number(le>>B&w),l:0|Number(le&w)}}const C_split=function b(le,we=!1){let Me=new Uint32Array(le.length),Ze=new Uint32Array(le.length);for(let ge=0;ge<le.length;ge++){const{h:me,l:Ue}=H(le[ge],we);[Me[ge],Ze[ge]]=[me,Ue]}return[Me,Ze]},C_shrSH=(le,we,Me)=>le>>>Me,C_shrSL=(le,we,Me)=>le<<32-Me|we>>>Me,C_rotrSH=(le,we,Me)=>le>>>Me|we<<32-Me,C_rotrSL=(le,we,Me)=>le<<32-Me|we>>>Me,C_rotrBH=(le,we,Me)=>le<<64-Me|we>>>Me-32,C_rotrBL=(le,we,Me)=>le>>>Me-32|we<<64-Me,C_add=function re(le,we,Me,Ze){const ge=(we>>>0)+(Ze>>>0);return{h:le+Me+(ge/2**32|0)|0,l:0|ge}},C_add3L=(le,we,Me)=>(le>>>0)+(we>>>0)+(Me>>>0),C_add3H=(le,we,Me,Ze)=>we+Me+Ze+(le/2**32|0)|0,C_add4L=(le,we,Me,Ze)=>(le>>>0)+(we>>>0)+(Me>>>0)+(Ze>>>0),C_add4H=(le,we,Me,Ze,ge)=>we+Me+Ze+ge+(le/2**32|0)|0,C_add5H=(le,we,Me,Ze,ge,me)=>we+Me+Ze+ge+me+(le/2**32|0)|0,C_add5L=(le,we,Me,Ze,ge)=>(le>>>0)+(we>>>0)+(Me>>>0)+(Ze>>>0)+(ge>>>0);var s=E(62953);const[d,h]=C_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(le=>BigInt(le))),f=new Uint32Array(80),_=new Uint32Array(80);class I extends g.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:we,Al:Me,Bh:Ze,Bl:ge,Ch:me,Cl:Ue,Dh:xe,Dl:Ce,Eh:be,El:he,Fh:ne,Fl:te,Gh:de,Gl:_e,Hh:Ie,Hl:He}=this;return[we,Me,Ze,ge,me,Ue,xe,Ce,be,he,ne,te,de,_e,Ie,He]}set(we,Me,Ze,ge,me,Ue,xe,Ce,be,he,ne,te,de,_e,Ie,He){this.Ah=0|we,this.Al=0|Me,this.Bh=0|Ze,this.Bl=0|ge,this.Ch=0|me,this.Cl=0|Ue,this.Dh=0|xe,this.Dl=0|Ce,this.Eh=0|be,this.El=0|he,this.Fh=0|ne,this.Fl=0|te,this.Gh=0|de,this.Gl=0|_e,this.Hh=0|Ie,this.Hl=0|He}process(we,Me){for(let Ne=0;Ne<16;Ne++,Me+=4)f[Ne]=we.getUint32(Me),_[Ne]=we.getUint32(Me+=4);for(let Ne=16;Ne<80;Ne++){const ke=0|f[Ne-15],yt=0|_[Ne-15],F=C_rotrSH(ke,yt,1)^C_rotrSH(ke,yt,8)^C_shrSH(ke,yt,7),D=C_rotrSL(ke,yt,1)^C_rotrSL(ke,yt,8)^C_shrSL(ke,yt,7),M=0|f[Ne-2],G=0|_[Ne-2],fe=C_rotrSH(M,G,19)^C_rotrBH(M,G,61)^C_shrSH(M,G,6),Se=C_rotrSL(M,G,19)^C_rotrBL(M,G,61)^C_shrSL(M,G,6),Ae=C_add4L(D,Se,_[Ne-7],_[Ne-16]),ot=C_add4H(Ae,F,fe,f[Ne-7],f[Ne-16]);f[Ne]=0|ot,_[Ne]=0|Ae}let{Ah:Ze,Al:ge,Bh:me,Bl:Ue,Ch:xe,Cl:Ce,Dh:be,Dl:he,Eh:ne,El:te,Fh:de,Fl:_e,Gh:Ie,Gl:He,Hh:Ve,Hl:Dt}=this;for(let Ne=0;Ne<80;Ne++){const ke=C_rotrSH(ne,te,14)^C_rotrSH(ne,te,18)^C_rotrBH(ne,te,41),yt=C_rotrSL(ne,te,14)^C_rotrSL(ne,te,18)^C_rotrBL(ne,te,41),F=ne&de^~ne&Ie,M=C_add5L(Dt,yt,te&_e^~te&He,h[Ne],_[Ne]),G=C_add5H(M,Ve,ke,F,d[Ne],f[Ne]),fe=0|M,Se=C_rotrSH(Ze,ge,28)^C_rotrBH(Ze,ge,34)^C_rotrBH(Ze,ge,39),Ae=C_rotrSL(Ze,ge,28)^C_rotrBL(Ze,ge,34)^C_rotrBL(Ze,ge,39),ot=Ze&me^Ze&xe^me&xe,Gt=ge&Ue^ge&Ce^Ue&Ce;Ve=0|Ie,Dt=0|He,Ie=0|de,He=0|_e,de=0|ne,_e=0|te,({h:ne,l:te}=C_add(0|be,0|he,0|G,0|fe)),be=0|xe,he=0|Ce,xe=0|me,Ce=0|Ue,me=0|Ze,Ue=0|ge;const _t=C_add3L(fe,Ae,Gt);Ze=C_add3H(_t,G,Se,ot),ge=0|_t}({h:Ze,l:ge}=C_add(0|this.Ah,0|this.Al,0|Ze,0|ge)),({h:me,l:Ue}=C_add(0|this.Bh,0|this.Bl,0|me,0|Ue)),({h:xe,l:Ce}=C_add(0|this.Ch,0|this.Cl,0|xe,0|Ce)),({h:be,l:he}=C_add(0|this.Dh,0|this.Dl,0|be,0|he)),({h:ne,l:te}=C_add(0|this.Eh,0|this.El,0|ne,0|te)),({h:de,l:_e}=C_add(0|this.Fh,0|this.Fl,0|de,0|_e)),({h:Ie,l:He}=C_add(0|this.Gh,0|this.Gl,0|Ie,0|He)),({h:Ve,l:Dt}=C_add(0|this.Hh,0|this.Hl,0|Ve,0|Dt)),this.set(Ze,ge,me,Ue,xe,Ce,be,he,ne,te,de,_e,Ie,He,Ve,Dt)}roundClean(){f.fill(0),_.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const v=(0,s.ld)(()=>new I)},62953:($e,j,E)=>{"use strict";E.d(j,{$h:()=>Q,AI:()=>Y,Id:()=>re,My:()=>O,O8:()=>k,Ow:()=>S,Vw:()=>ie,ZJ:()=>W,aT:()=>U,ld:()=>ce,po:()=>De,tY:()=>ue});var g=E(10467),w=E(86703);function b(C){return C instanceof Uint8Array||null!=C&&"object"==typeof C&&"Uint8Array"===C.constructor.name}const k=C=>new DataView(C.buffer,C.byteOffset,C.byteLength),S=(C,s)=>C<<32-s|C>>>s;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const R=Array.from({length:256},(C,s)=>s.toString(16).padStart(2,"0"));function O(C){if(!b(C))throw new Error("Uint8Array expected");let s="";for(let d=0;d<C.length;d++)s+=R[C[d]];return s}const A={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function V(C){return C>=A._0&&C<=A._9?C-A._0:C>=A._A&&C<=A._F?C-(A._A-10):C>=A._a&&C<=A._f?C-(A._a-10):void 0}function U(C){if("string"!=typeof C)throw new Error("hex string expected, got "+typeof C);const s=C.length,d=s/2;if(s%2)throw new Error("padded hex string expected, got unpadded hex of length "+s);const h=new Uint8Array(d);for(let f=0,_=0;f<d;f++,_+=2){const I=V(C.charCodeAt(_)),L=V(C.charCodeAt(_+1));if(void 0===I||void 0===L)throw new Error('hex string expected, got non-hex character "'+(C[_]+C[_+1])+'" at index '+_);h[f]=16*I+L}return h}const K=function(){var C=(0,g.A)(function*(){});return function(){return C.apply(this,arguments)}}();function Q(C,s,d){return q.apply(this,arguments)}function q(){return(q=(0,g.A)(function*(C,s,d){let h=Date.now();for(let f=0;f<C;f++){d(f);const _=Date.now()-h;_>=0&&_<s||(yield K(),h+=_)}})).apply(this,arguments)}function Y(C){if("string"!=typeof C)throw new Error("utf8ToBytes expected string, got "+typeof C);return new Uint8Array((new TextEncoder).encode(C))}function W(C){if("string"==typeof C&&(C=Y(C)),!b(C))throw new Error("expected Uint8Array, got "+typeof C);return C}function re(...C){let s=0;for(let h=0;h<C.length;h++){const f=C[h];if(!b(f))throw new Error("Uint8Array expected");s+=f.length}const d=new Uint8Array(s);for(let h=0,f=0;h<C.length;h++){const _=C[h];d.set(_,f),f+=_.length}return d}class ie{clone(){return this._cloneInto()}}const ae={}.toString;function ue(C,s){if(void 0!==s&&"[object Object]"!==ae.call(s))throw new Error("Options should be object or undefined");return Object.assign(C,s)}function ce(C){const s=h=>C().update(W(h)).digest(),d=C();return s.outputLen=d.outputLen,s.blockLen=d.blockLen,s.create=()=>C(),s}function De(C=32){if(w.E&&"function"==typeof w.E.getRandomValues)return w.E.getRandomValues(new Uint8Array(C));throw new Error("crypto.getRandomValues must be defined")}},68464:($e,j,E)=>{"use strict";E.d(j,{CB:()=>ae,MX:()=>be,Wp:()=>de,jn:()=>te,lG:()=>a,wJ:()=>Ue});var g=E(10467);const w=2n**256n,B=w-0x1000003d1n,H=w-0x14551231950b75fc4402da1732fc9bebfn,b=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,k=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,S={p:B,n:H,a:0n,b:7n,Gx:b,Gy:k},P=32,R=Ve=>W(W(Ve*Ve)*Ve+S.b),O=(Ve="")=>{throw new Error(Ve)},A=Ve=>"bigint"==typeof Ve,V=Ve=>"string"==typeof Ve,U=Ve=>A(Ve)&&0n<Ve&&Ve<B,K=Ve=>A(Ve)&&0n<Ve&&Ve<H,Q=(Ve,Dt)=>!(Ve instanceof Uint8Array)||"number"==typeof Dt&&Dt>0&&Ve.length!==Dt?O("Uint8Array expected"):Ve,q=Ve=>new Uint8Array(Ve),Y=(Ve,Dt)=>Q(V(Ve)?De(Ve):q(Ve),Dt),W=(Ve,Dt=B)=>{let Ne=Ve%Dt;return Ne>=0n?Ne:Dt+Ne},re=Ve=>Ve instanceof ae?Ve:O("Point expected");let ie;class ae{constructor(Dt,Ne,ke){this.px=Dt,this.py=Ne,this.pz=ke}static fromAffine(Dt){return new ae(Dt.x,Dt.y,1n)}static fromHex(Dt){let Ne;const ke=(Dt=Y(Dt))[0],yt=Dt.subarray(1),F=s(yt,0,P),D=Dt.length;if(33===D&&[2,3].includes(ke)){U(F)||O("Point hex invalid: x not FE");let M=I(R(F));!(1&~ke)!=(1n===(1n&M))&&(M=W(-M)),Ne=new ae(F,M,1n)}return 65===D&&4===ke&&(Ne=new ae(F,s(yt,P,2*P),1n)),Ne?Ne.ok():O("Point is not on curve")}static fromPrivateKey(Dt){return ue.mul(L(Dt))}get x(){return this.aff().x}get y(){return this.aff().y}equals(Dt){const{px:Ne,py:ke,pz:yt}=this,{px:F,py:D,pz:M}=re(Dt),G=W(Ne*M),fe=W(F*yt),Se=W(ke*M),Ae=W(D*yt);return G===fe&&Se===Ae}negate(){return new ae(this.px,W(-this.py),this.pz)}double(){return this.add(this)}add(Dt){const{px:Ne,py:ke,pz:yt}=this,{px:F,py:D,pz:M}=re(Dt),{a:G,b:fe}=S;let Se=0n,Ae=0n,ot=0n;const Gt=W(3n*fe);let _t=W(Ne*F),Bt=W(ke*D),en=W(yt*M),pn=W(Ne+ke),cn=W(F+D);pn=W(pn*cn),cn=W(_t+Bt),pn=W(pn-cn),cn=W(Ne+yt);let tr=W(F+M);return cn=W(cn*tr),tr=W(_t+en),cn=W(cn-tr),tr=W(ke+yt),Se=W(D+M),tr=W(tr*Se),Se=W(Bt+en),tr=W(tr-Se),ot=W(G*cn),Se=W(Gt*en),ot=W(Se+ot),Se=W(Bt-ot),ot=W(Bt+ot),Ae=W(Se*ot),Bt=W(_t+_t),Bt=W(Bt+_t),en=W(G*en),cn=W(Gt*cn),Bt=W(Bt+en),en=W(_t-en),en=W(G*en),cn=W(cn+en),_t=W(Bt*cn),Ae=W(Ae+_t),_t=W(tr*cn),Se=W(pn*Se),Se=W(Se-_t),_t=W(pn*Bt),ot=W(tr*ot),ot=W(ot+_t),new ae(Se,Ae,ot)}mul(Dt,Ne=!0){if(!Ne&&0n===Dt)return ce;if(K(Dt)||O("invalid scalar"),this.equals(ue))return He(Dt).p;let ke=ce,yt=ue;for(let F=this;Dt>0n;F=F.double(),Dt>>=1n)1n&Dt?ke=ke.add(F):Ne&&(yt=yt.add(F));return ke}mulAddQUns(Dt,Ne,ke){return this.mul(Ne,!1).add(Dt.mul(ke,!1)).ok()}toAffine(){const{px:Dt,py:Ne,pz:ke}=this;if(this.equals(ce))return{x:0n,y:0n};if(1n===ke)return{x:Dt,y:Ne};const yt=_(ke);return 1n!==W(ke*yt)&&O("invalid inverse"),{x:W(Dt*yt),y:W(Ne*yt)}}assertValidity(){const{x:Dt,y:Ne}=this.aff();return(!U(Dt)||!U(Ne))&&O("Point invalid: x or y"),W(Ne*Ne)===R(Dt)?this:O("Point invalid: not on curve")}multiply(Dt){return this.mul(Dt)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(Dt=!0){const{x:Ne,y:ke}=this.aff();return(Dt?0n===(1n&ke)?"02":"03":"04")+h(Ne)+(Dt?"":h(ke))}toRawBytes(Dt=!0){return De(this.toHex(Dt))}}ae.BASE=new ae(b,k,1n),ae.ZERO=new ae(0n,1n,0n);const{BASE:ue,ZERO:ce}=ae,pe=(Ve,Dt)=>Ve.toString(16).padStart(Dt,"0"),ve=Ve=>Array.from(Ve).map(Dt=>pe(Dt,2)).join(""),De=Ve=>{const Dt=Ve.length;(!V(Ve)||Dt%2)&&O("hex invalid 1");const Ne=q(Dt/2);for(let ke=0;ke<Ne.length;ke++){const yt=2*ke,F=Ve.slice(yt,yt+2),D=Number.parseInt(F,16);(Number.isNaN(D)||D<0)&&O("hex invalid 2"),Ne[ke]=D}return Ne},C=Ve=>BigInt("0x"+(ve(Ve)||"0")),s=(Ve,Dt,Ne)=>C(Ve.slice(Dt,Ne)),d=Ve=>A(Ve)&&Ve>=0n&&Ve<w?De(pe(Ve,2*P)):O("bigint expected"),h=Ve=>ve(d(Ve)),f=(...Ve)=>{const Dt=q(Ve.reduce((ke,yt)=>ke+Q(yt).length,0));let Ne=0;return Ve.forEach(ke=>{Dt.set(ke,Ne),Ne+=ke.length}),Dt},_=(Ve,Dt=B)=>{(0n===Ve||Dt<=0n)&&O("no inverse n="+Ve+" mod="+Dt);let Ne=W(Ve,Dt),ke=Dt,yt=0n,F=1n,D=1n,M=0n;for(;0n!==Ne;){const G=ke/Ne,fe=ke%Ne,Se=yt-D*G,Ae=F-M*G;ke=Ne,Ne=fe,yt=D,F=M,D=Se,M=Ae}return 1n===ke?W(yt,Dt):O("no inverse")},I=Ve=>{let Dt=1n;for(let Ne=Ve,ke=(B+1n)/4n;ke>0n;ke>>=1n)1n&ke&&(Dt=Dt*Ne%B),Ne=Ne*Ne%B;return W(Dt*Dt)===Ve?Dt:O("sqrt invalid")},L=Ve=>(A(Ve)||(Ve=C(Y(Ve,P))),K(Ve)?Ve:O("private key out of range")),x=Ve=>Ve>H>>1n;function a(Ve,Dt=!0){return ae.fromPrivateKey(Ve).toRawBytes(Dt)}class v{constructor(Dt,Ne,ke){this.r=Dt,this.s=Ne,this.recovery=ke,this.assertValidity()}static fromCompact(Dt){return Dt=Y(Dt,64),new v(s(Dt,0,P),s(Dt,P,2*P))}assertValidity(){return K(this.r)&&K(this.s)?this:O()}addRecoveryBit(Dt){return new v(this.r,this.s,Dt)}hasHighS(){return x(this.s)}recoverPublicKey(Dt){const{r:Ne,s:ke,recovery:yt}=this;[0,1,2,3].includes(yt)||O("recovery id invalid");const F=z(Y(Dt,32)),D=2===yt||3===yt?Ne+H:Ne;D>=B&&O("q.x invalid");const G=ae.fromHex((1&yt?"03":"02")+h(D)),fe=_(D,H),Se=W(-F*fe,H),Ae=W(ke*fe,H);return ue.mulAddQUns(G,Se,Ae)}toCompactRawBytes(){return De(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const Z=Ve=>{const Dt=8*Ve.length-256,Ne=C(Ve);return Dt>0?Ne>>BigInt(Dt):Ne},z=Ve=>W(Z(Ve),H),ee=Ve=>d(Ve),le=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let we;const Me={lowS:!0},Ze={lowS:!0};function Ue(Ve,Dt){return xe.apply(this,arguments)}function xe(){return(xe=(0,g.A)(function*(Ve,Dt,Ne=Me){const{seed:ke,k2sig:yt}=function ge(Ve,Dt,Ne=Me){["der","recovered","canonical"].some(Ae=>Ae in Ne)&&O("sign() legacy options not supported");let{lowS:ke}=Ne;null==ke&&(ke=!0);const yt=z(Y(Ve)),F=ee(yt),D=L(Dt),M=[ee(D),F];let G=Ne.extraEntropy;if(G){!0===G&&(G=te.randomBytes(P));const Ae=Y(G);Ae.length!==P&&O(),M.push(Ae)}const fe=yt;return{seed:f(...M),k2sig:Ae=>{const ot=Z(Ae);if(!K(ot))return;const Gt=_(ot,H),_t=ue.mul(ot).aff(),Bt=W(_t.x,H);if(0n===Bt)return;const en=W(Gt*W(fe+W(D*Bt,H),H),H);if(0n===en)return;let pn=en,cn=(_t.x===Bt?0:2)|Number(1n&_t.y);return ke&&x(en)&&(pn=W(-en,H),cn^=1),new v(Bt,pn,cn)}}}(Ve,Dt,Ne);return function me(Ve){let Dt=q(P),Ne=q(P),ke=0;const yt=()=>{Dt.fill(1),Ne.fill(0),ke=0},F="drbg: tried 1000 values";if(Ve){const D=(...fe)=>te.hmacSha256Async(Ne,Dt,...fe),M=function(){var fe=(0,g.A)(function*(Se=q()){Ne=yield D(q([0]),Se),Dt=yield D(),0!==Se.length&&(Ne=yield D(q([1]),Se),Dt=yield D())});return function(){return fe.apply(this,arguments)}}(),G=function(){var fe=(0,g.A)(function*(){return ke++>=1e3&&O(F),Dt=yield D(),Dt});return function(){return fe.apply(this,arguments)}}();return function(){var fe=(0,g.A)(function*(Se,Ae){let ot;for(yt(),yield M(Se);!(ot=Ae(yield G()));)yield M();return yt(),ot});return function(Se,Ae){return fe.apply(this,arguments)}}()}{const D=(...fe)=>{const Se=we;return Se||O("etc.hmacSha256Sync not set"),Se(Ne,Dt,...fe)},M=(fe=q())=>{Ne=D(q([0]),fe),Dt=D(),0!==fe.length&&(Ne=D(q([1]),fe),Dt=D())},G=()=>(ke++>=1e3&&O(F),Dt=D(),Dt);return(fe,Se)=>{let Ae;for(yt(),M(fe);!(Ae=Se(G()));)M();return yt(),Ae}}}(!0)(ke,yt)})).apply(this,arguments)}function be(Ve,Dt,Ne,ke=Ze){let F,D,M,{lowS:yt}=ke;null==yt&&(yt=!0),"strict"in ke&&O("verify() legacy options not supported");const G=Ve&&"object"==typeof Ve&&"r"in Ve;!G&&Y(Ve).length!==2*P&&O("signature must be 64 bytes");try{F=G?new v(Ve.r,Ve.s).assertValidity():v.fromCompact(Ve),D=z(Y(Dt,P)),M=Ne instanceof ae?Ne.ok():ae.fromHex(Ne)}catch{return!1}if(!F)return!1;const{r:fe,s:Se}=F;if(yt&&x(Se))return!1;let Ae;try{const Gt=_(Se,H),_t=W(D*Gt,H),Bt=W(fe*Gt,H);Ae=ue.mulAddQUns(M,_t,Bt).aff()}catch{return!1}return!!Ae&&W(Ae.x,H)===fe}function ne(Ve){((Ve=Y(Ve)).length<P+8||Ve.length>1024)&&O("expected proper params");const Ne=W(C(Ve),H-1n)+1n;return d(Ne)}const te={hexToBytes:De,bytesToHex:ve,concatBytes:f,bytesToNumberBE:C,numberToBytesBE:d,mod:W,invert:_,hmacSha256Async:(Ve=(0,g.A)(function*(Dt,...Ne){const ke=le();if(!ke)return O("etc.hmacSha256Async not set");const yt=ke.subtle,F=yield yt.importKey("raw",Dt,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return q(yield yt.sign("HMAC",F,f(...Ne)))}),function(Ne){return Ve.apply(this,arguments)}),hmacSha256Sync:we,hashToPrivateKey:ne,randomBytes:Ve=>{const Dt=le();return Dt||O("crypto.getRandomValues must be defined"),Dt.getRandomValues(q(Ve))}},de={normPrivateKeyToScalar:L,isValidPrivateKey:Ve=>{try{return!!L(Ve)}catch{return!1}},randomPrivateKey:()=>ne(te.randomBytes(P+8)),precompute:(Ve=8,Dt=ue)=>(Dt.multiply(3n),Dt)};var Ve;Object.defineProperties(te,{hmacSha256Sync:{configurable:!1,get:()=>we,set(Ve){we||(we=Ve)}}});const He=Ve=>{const Dt=ie||(ie=(()=>{const Ve=[];let Ne=ue,ke=Ne;for(let yt=0;yt<33;yt++){ke=Ne,Ve.push(ke);for(let F=1;F<128;F++)ke=ke.add(Ne),Ve.push(ke);Ne=ke.double()}return Ve})()),Ne=(Se,Ae)=>{let ot=Ae.negate();return Se?ot:Ae};let ke=ce,yt=ue;const M=BigInt(255),fe=BigInt(8);for(let Se=0;Se<33;Se++){const Ae=128*Se;let ot=Number(Ve&M);Ve>>=fe,ot>128&&(ot-=256,Ve+=1n);const Gt=Ae,_t=Ae+Math.abs(ot)-1,en=ot<0;0===ot?yt=yt.add(Ne(Se%2!=0,Dt[Gt])):ke=ke.add(Ne(en,Dt[_t]))}return{p:ke,f:yt}}},34604:($e,j,E)=>{"use strict";E.d(j,{DP:()=>vg,Bq:()=>vO,rr:()=>MO,yc:()=>i4,rM:()=>g4,B2:()=>BA,QZ:()=>mO,dk:()=>n4,nx:()=>Is,cW:()=>XO,TX:()=>e4,eP:()=>Cv,qB:()=>v4,oN:()=>f4,X7:()=>EO,dK:()=>wO});var g={};E.r(g),E.d(g,{base10:()=>jt});var w={};E.r(w),E.d(w,{base16:()=>kt,base16upper:()=>ln});var B={};E.r(B),E.d(B,{base2:()=>On});var H={};E.r(H),E.d(H,{base256emoji:()=>Nn});var b={};E.r(b),E.d(b,{base32:()=>et,base32hex:()=>hn,base32hexpad:()=>Kn,base32hexpadupper:()=>ir,base32hexupper:()=>Un,base32pad:()=>Qe,base32padupper:()=>zt,base32upper:()=>Oe,base32z:()=>mr});var k={};E.r(k),E.d(k,{base36:()=>Pr,base36upper:()=>Sr});var S={};E.r(S),E.d(S,{base58btc:()=>Nr,base58flickr:()=>dr});var P={};E.r(P),E.d(P,{base64:()=>nn,base64pad:()=>yn,base64url:()=>En,base64urlpad:()=>Fn});var R={};E.r(R),E.d(R,{base8:()=>Wn});var O={};E.r(O),E.d(O,{identity:()=>cr});var A={};E.r(A),E.d(A,{code:()=>$i,decode:()=>Hi,encode:()=>oo,name:()=>Or});var V={};E.r(V),E.d(V,{code:()=>pi,decode:()=>wi,encode:()=>So,name:()=>bi});var U={};E.r(U),E.d(U,{identity:()=>$r});var K={};E.r(K),E.d(K,{sha256:()=>vr,sha512:()=>ni});var Q={};E.r(Q),E.d(Q,{Authorization:()=>Ai,AuthorizationDelegatedGrant:()=>aM,AuthorizationOwner:()=>Nv,Definitions:()=>cc,EventsFilter:()=>Ut,EventsGet:()=>fr,EventsQuery:()=>Ho,EventsSubscribe:()=>Us,GeneralJwk:()=>Pc,GeneralJws:()=>Pd,GenericSignaturePayload:()=>Jn,JwkVerificationMethod:()=>ei,MessagesGet:()=>$h,NumberRangeFilter:()=>Uv,PaginationCursor:()=>Kh,PermissionGrantData:()=>xg,PermissionRequestData:()=>f1,PermissionRevocationData:()=>qA,PermissionsDefinitions:()=>Fo,PermissionsScopes:()=>Sg,ProtocolDefinition:()=>Ml,ProtocolRuleSet:()=>dM,ProtocolsConfigure:()=>lM,ProtocolsQuery:()=>h1,PublicJwk:()=>wn,RecordsDelete:()=>d1,RecordsFilter:()=>sn,RecordsQuery:()=>jh,RecordsRead:()=>ze,RecordsSubscribe:()=>Eg,RecordsWrite:()=>nh,RecordsWriteDataEncoded:()=>$t,RecordsWriteSignaturePayload:()=>Ci,RecordsWriteUnidentified:()=>mt,StringRangeFilter:()=>Od});var q={};E.r(q),E.d(q,{code:()=>tp,decode:()=>cb,encode:()=>ab,name:()=>sb});var Y={};E.r(Y),E.d(Y,{code:()=>Eb,createLink:()=>_b,createNode:()=>pS,decode:()=>Qg,encode:()=>pf,name:()=>gS,prepare:()=>hf,validate:()=>e2});var W={};E.r(W),E.d(W,{base10:()=>DS});var re={};E.r(re),E.d(re,{base16:()=>Pb,base16upper:()=>IS});var ie={};E.r(ie),E.d(ie,{base2:()=>TS});var ae={};E.r(ae),E.d(ae,{base256emoji:()=>u2});var ue={};E.r(ue),E.d(ue,{base32:()=>Su,base32hex:()=>Nb,base32hexpad:()=>AS,base32hexpadupper:()=>CS,base32hexupper:()=>f2,base32pad:()=>rC,base32padupper:()=>X8,base32upper:()=>nC,base32z:()=>kS});var ce={};E.r(ce),E.d(ce,{base36:()=>lp,base36upper:()=>iC});var pe={};E.r(pe),E.d(pe,{base58btc:()=>gf,base58flickr:()=>oC});var ve={};E.r(ve),E.d(ve,{base64:()=>sC,base64pad:()=>aC,base64url:()=>yf,base64urlpad:()=>Fm});var De={};E.r(De),E.d(De,{base8:()=>cC});var C={};E.r(C),E.d(C,{identity:()=>dC});var s={};E.r(s),E.d(s,{code:()=>hC,decode:()=>pC,encode:()=>PS,name:()=>fC});var d={};E.r(d),E.d(d,{code:()=>gC,decode:()=>Bb,encode:()=>yC,name:()=>mC});var h={};E.r(h),E.d(h,{identity:()=>TC});var f={};E.r(f),E.d(f,{sha256:()=>tP,sha512:()=>cy});var _={};E.r(_),E.d(_,{code:()=>fp,decode:()=>Wb,encode:()=>py,name:()=>XS});var I={};E.r(I),E.d(I,{base10:()=>EP});var L={};E.r(L),E.d(L,{base16:()=>xP,base16upper:()=>g6});var x={};E.r(x),E.d(x,{base2:()=>y6});var a={};E.r(a),E.d(a,{base256emoji:()=>E6});var v={};E.r(v),E.d(v,{base32:()=>bp,base32hex:()=>_D,base32hexpad:()=>ED,base32hexpadupper:()=>x6,base32hexupper:()=>Ey,base32pad:()=>U2,base32padupper:()=>uw,base32upper:()=>_y,base32z:()=>xy});var Z={};E.r(Z),E.d(Z,{base36:()=>xD,base36upper:()=>MD});var z={};E.r(z),E.d(z,{base58btc:()=>Tu,base58flickr:()=>SD});var ee={};E.r(ee),E.d(ee,{base64:()=>M6,base64pad:()=>S6,base64url:()=>D6,base64urlpad:()=>My});var le={};E.r(le),E.d(le,{base8:()=>I6});var we={};E.r(we),E.d(we,{identity:()=>T6});var Me={};E.r(Me),E.d(Me,{code:()=>ID,decode:()=>C6,encode:()=>TD,name:()=>DD});var Ze={};E.r(Ze),E.d(Ze,{code:()=>k6,decode:()=>R6,encode:()=>P6,name:()=>AD});var ge={};E.r(ge),E.d(ge,{identity:()=>V6});var me={};E.r(me),E.d(me,{sha256:()=>H6,sha512:()=>FD});var Ue=E(49970),xe=E(14725);const Ce=new TextEncoder,be=new TextDecoder;class he{static base64UrlToBytes(t){return xe.r0.baseDecode(t)}static base64UrlToObject(t){const n=xe.r0.baseDecode(t);return he.bytesToObject(n)}static bytesToBase64Url(t){return xe.r0.baseEncode(t)}static bytesToString(t){return be.decode(t)}static bytesToObject(t){const n=he.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return Ce.encode(n)}static stringToBase64Url(t){const n=Ce.encode(t);return xe.r0.baseEncode(n)}static stringToBytes(t){return Ce.encode(t)}}var ne=E(63741);class te extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var de=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.DidMethodNotSupported="DidMethodNotSupported",r.DidNotString="DidNotString",r.DidNotValid="DidNotValid",r.DidResolutionFailed="DidResolutionFailed",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.EventsSubscribeEventStreamUnimplemented="EventsSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessageGetInvalidCid="MessageGetInvalidCid",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeSchemaProhibitedProperties="PermissionsProtocolValidateScopeSchemaProhibitedProperties",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationQueryWithoutRole="ProtocolAuthorizationQueryWithoutRole",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureQueryNotAllowed="ProtocolsConfigureQueryNotAllowed",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeMissingProtocol="RecordsGrantAuthorizationScopeMissingProtocol",r.RecordsGrantAuthorizationScopeNotRecords="RecordsGrantAuthorizationScopeNotRecords",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsGrantAuthorizationScopeSchema="RecordsGrantAuthorizationScopeSchema",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable",r}(de||{}),_e=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function Ie(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new te(de.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function He(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:he.bytesToBase64Url(r)}}const Ve={sign:(r,t)=>_e(void 0,void 0,void 0,function*(){Ie(t);const n=he.base64UrlToBytes(t.d);return ne.wJ(r,n)}),verify:(r,t,n)=>_e(void 0,void 0,void 0,function*(){Ie(n);const o=he.base64UrlToBytes(n.x);return ne.kv(t,r,o)}),generateKeyPair:()=>_e(void 0,void 0,void 0,function*(){const r=ne.Wp.randomPrivateKey(),t=yield ne.Rn(r),n=he.bytesToBase64Url(r),o=He(t);return{publicJwk:o,privateJwk:Object.assign(Object.assign({},o),{d:n})}}),publicKeyToJwk:r=>_e(void 0,void 0,void 0,function*(){return He(r)})};var Dt=E(68464),Ne=E(10467),ke=E(92059);const yt=r=>function(){var t=(0,Ne.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),F=(0,ke.H)({name:"sha2-256",code:18,encode:yt("SHA-256")});(0,ke.H)({name:"sha2-512",code:19,encode:yt("SHA-512")});var M=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class fe{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new te(de.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return M(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Dt.CB.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:he.bytesToBase64Url(n.subarray(1,33)),y:he.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return M(this,void 0,void 0,function*(){const n=yield fe.getPublicKey(t),o=yield fe.publicKeyToJwk(n);return o.d=he.bytesToBase64Url(t),o})}static publicJwkToBytes(t){const n=he.base64UrlToBytes(t.x),o=he.base64UrlToBytes(t.y);return Dt.CB.fromAffine({x:Dt.jn.bytesToNumberBE(n),y:Dt.jn.bytesToNumberBE(o)}).toRawBytes(!0)}static privateJwkToBytes(t){return he.base64UrlToBytes(t.d)}static sign(t,n){return M(this,void 0,void 0,function*(){fe.validateKey(n);const o=yield F.encode(t),p=fe.privateJwkToBytes(n);return(yield Dt.wJ(o,p)).toCompactRawBytes()})}static verify(t,n,o){return M(this,void 0,void 0,function*(){fe.validateKey(o);const p=fe.publicJwkToBytes(o),y=yield F.encode(t);return Dt.MX(n,y,p)})}static generateKeyPair(){return M(this,void 0,void 0,function*(){const t=Dt.Wp.randomPrivateKey(),n=Dt.lG(t,!1),o=he.bytesToBase64Url(t),p=yield fe.publicKeyToJwk(n);return{publicJwk:p,privateJwk:Object.assign(Object.assign({},p),{d:o})}})}static generateKeyPairRaw(){return M(this,void 0,void 0,function*(){const t=Dt.Wp.randomPrivateKey();return{publicKey:Dt.lG(t,!0),privateKey:t}})}static getPublicKey(t){return M(this,void 0,void 0,function*(){return Dt.lG(t,!0)})}static getPublicJwk(t){return M(this,void 0,void 0,function*(){return function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(t,["d"])})}}var Se=E(40499);function Ae(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const Mn=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class st{constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Zt{constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return rn(this,t)}}class Xt{constructor(t){this.decoders=t}or(t){return rn(this,t)}decode(t){const o=this.decoders[t[0]];if(o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const rn=(r,t)=>new Xt({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class Zn{constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new st(t,n,o),this.decoder=new Zt(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const at=({name:r,prefix:t,encode:n,decode:o})=>new Zn(r,t,n,o),pt=({prefix:r,name:t,alphabet:n})=>{const{encode:o,decode:p}=function ot(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Xe=0;if(" "!==Pe[Xe]){for(var vt=0,Tt=0;Pe[Xe]===J;)vt++,Xe++;for(var bt=(Pe.length-Xe)*X+1>>>0,wt=new Uint8Array(bt);Pe[Xe];){var Ct=n[Pe.charCodeAt(Xe)];if(255===Ct)return;for(var Wt=0,Jt=bt-1;(0!==Ct||Wt<Tt)&&-1!==Jt;Jt--,Wt++)wt[Jt]=(Ct+=u*wt[Jt]>>>0)%256>>>0,Ct=Ct/256>>>0;if(0!==Ct)throw new Error("Non-zero carry");Tt=Wt,Xe++}if(" "!==Pe[Xe]){for(var an=bt-Tt;an!==bt&&0===wt[an];)an++;for(var Vt=new Uint8Array(vt+(bt-an)),In=vt;an!==bt;)Vt[In++]=wt[an++];return Vt}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Xe=0,vt=0,Tt=0,bt=Pe.length;Tt!==bt&&0===Pe[Tt];)Tt++,Xe++;for(var wt=(bt-Tt)*N+1>>>0,Ct=new Uint8Array(wt);Tt!==bt;){for(var Wt=Pe[Tt],Jt=0,an=wt-1;(0!==Wt||Jt<vt)&&-1!==an;an--,Jt++)Ct[an]=(Wt+=256*Ct[an]>>>0)%u>>>0,Wt=Wt/u>>>0;if(0!==Wt)throw new Error("Non-zero carry");vt=Jt,Tt++}for(var Vt=wt-vt;Vt!==wt&&0===Ct[Vt];)Vt++;for(var In=J.repeat(Xe);Vt<wt;++Vt)In+=r.charAt(Ct[Vt]);return In},decodeUnsafe:Ee,decode:function Le(Pe){var Xe=Ee(Pe);if(Xe)return Xe;throw new Error(`Non-${t} character`)}}}(n,t);return at({prefix:r,name:t,encode:o,decode:y=>Mn(p(y))})},Ge=({name:r,prefix:t,bitsPerChar:n,alphabet:o})=>at({prefix:t,name:r,encode:p=>((r,t,n)=>{const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y})(p,o,n),decode:p=>((r,t,n,o)=>{const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l})(p,o,n,r)}),jt=pt({prefix:"9",name:"base10",alphabet:"0123456789"}),kt=Ge({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ln=Ge({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),On=Ge({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),vn=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),gn=vn.reduce((r,t,n)=>(r[n]=t,r),[]),ur=vn.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),Nn=at({prefix:"\u{1f680}",name:"base256emoji",encode:function er(r){return r.reduce((t,n)=>t+gn[n],"")},decode:function Pn(r){const t=[];for(const n of r){const o=ur[n.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${n}`);t.push(o)}return new Uint8Array(t)}}),et=Ge({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Oe=Ge({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qe=Ge({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zt=Ge({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),hn=Ge({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Un=Ge({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Kn=Ge({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ir=Ge({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mr=Ge({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Pr=pt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Sr=pt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Nr=pt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dr=pt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),nn=Ge({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),yn=Ge({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),En=Ge({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Fn=Ge({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Wn=Ge({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),cr=at({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),hr=new TextEncoder,jr=new TextDecoder,Or="json",$i=512,oo=r=>hr.encode(JSON.stringify(r)),Hi=r=>JSON.parse(jr.decode(r)),bi="raw",pi=85,So=r=>Mn(r),wi=r=>Mn(r);var Ft=128,qe=-128,Mt=Math.pow(2,31),un=Math.pow(2,7),Bn=Math.pow(2,14),qt=Math.pow(2,21),lt=Math.pow(2,28),St=Math.pow(2,35),Rt=Math.pow(2,42),tt=Math.pow(2,49),nt=Math.pow(2,56),Be=Math.pow(2,63);const it_encode=function Lt(r,t,n){t=t||[];for(var o=n=n||0;r>=Mt;)t[n++]=255&r|Ft,r/=128;for(;r&qe;)t[n++]=255&r|Ft,r>>>=7;return t[n]=0|r,Lt.bytes=n-o+1,t},it_encodingLength=function(r){return r<un?1:r<Bn?2:r<qt?3:r<lt?4:r<St?5:r<Rt?6:r<tt?7:r<nt?8:r<Be?9:10},xn=(r,t,n=0)=>(it_encode(r,t,n),t),fn=r=>it_encodingLength(r),Ht=(r,t)=>{const n=t.byteLength,o=fn(r),p=o+fn(n),y=new Uint8Array(p+n);return xn(r,y,0),xn(n,y,o),y.set(t,p),new br(r,n,t,y)};class br{constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}const Kr=Mn,$r={code:0,name:"identity",encode:Kr,digest:r=>Ht(0,Kr(r))},Rr=({name:r,code:t,encode:n})=>new Vr(r,t,n);class Vr{constructor(t,n,o){this.name=t,this.code=n,this.encode=o}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Ht(this.code,n):n.then(o=>Ht(this.code,o))}throw Error("Unknown type, must be binary type")}}const qr=r=>function(){var t=(0,Ne.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),vr=Rr({name:"sha2-256",code:18,encode:qr("SHA-256")}),ni=Rr({name:"sha2-512",code:19,encode:qr("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Ac={...O,...B,...R,...g,...w,...b,...k,...S,...P,...H};function Va(r,t,n,o){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:o}}}const Zf=Va("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Zd=Va("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function La(r=0){return null!=globalThis.Buffer?.allocUnsafe?Ae(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),Ju={utf8:Zf,"utf-8":Zf,hex:Ac.base16,latin1:Zd,ascii:Zd,binary:Zd,...Ac};function ss(r,t="utf8"){const n=Ju[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):Ae(globalThis.Buffer.from(r,"utf-8"))}var Uh=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};const yo_toString=function _g(r,t="utf8"){const n=Ju[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(r).substring(1):globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8")};class la{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new te(de.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return Uh(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Se.s9.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:he.bytesToBase64Url(n.subarray(1,33)),y:he.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return he.base64UrlToBytes(t.d)}static sign(t,n){return Uh(this,void 0,void 0,function*(){la.validateKey(n);const o=yield F.encode(t),p=la.privateJwkToBytes(n);return Promise.resolve(Se.s9.sign(o,p).toCompactRawBytes())})}static verify(t,n,o){return Uh(this,void 0,void 0,function*(){let p;la.validateKey(o),p=64===n.length?Se.s9.Signature.fromCompact(n):Se.s9.Signature.fromDER(n);const y=yield F.encode(t),l=Se.s9.ProjectivePoint.fromAffine({x:la.bytesToBigInt(he.base64UrlToBytes(o.x)),y:la.bytesToBigInt(he.base64UrlToBytes(o.y))}).toRawBytes(!1);return Se.s9.verify(p,y,l)})}static generateKeyPair(){return Uh(this,void 0,void 0,function*(){const t=Se.s9.utils.randomPrivateKey(),n=Se.Ag.getPublicKey(t,!1),o=he.bytesToBase64Url(t),p=yield la.publicKeyToJwk(n);return{publicJwk:p,privateJwk:Object.assign(Object.assign({},p),{d:o})}})}static bytesToBigInt(t){return BigInt("0x"+yo_toString(t,"base16"))}}const Cs={Ed25519:Ve,secp256k1:{sign:fe.sign,verify:fe.verify,generateKeyPair:fe.generateKeyPair,publicKeyToJwk:fe.publicKeyToJwk},"P-256":{sign:la.sign,verify:la.verify,generateKeyPair:la.generateKeyPair,publicKeyToJwk:la.publicKeyToJwk}};class cu{constructor(t){var n,o;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new te(de.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new te(de.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(o=t.algorithm)&&void 0!==o?o:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=Cs[t.privateJwk.crv],!this.signatureAlgorithm)throw new te(de.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(Cs)}`)}sign(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class zo{static getKid(t){const{kid:n}=he.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=zo.getKid(t);return zo.extractDid(n)}static verifySignature(t,n,o){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const p=Cs[o.crv];if(!p)throw new te(de.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(Cs)}`);const y=he.stringToBytes(`${n.protected}.${t}`),l=he.base64UrlToBytes(n.signature);return yield p.verify(y,l,o)})}static decodePlainObjectPayload(t){let n;try{n=he.base64UrlToObject(t.payload)}catch{throw new te(de.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!Ue(n))throw new te(de.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(o=>zo.createSigner(o))}static createSigner(t){return new cu({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var xi=E(40573);const Ad="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,Ua=new Set,qu="object"==typeof xi&&xi?xi:{},Ot=(r,t,n,o)=>{"function"==typeof qu.emitWarning?qu.emitWarning(r,t,n,o):console.error(`[${n}] ${t}: ${r}`)};let Pt=globalThis.AbortController,dt=globalThis.AbortSignal;if(typeof Pt>"u"){dt=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(o,p){this._onabort.push(p)}},Pt=class{constructor(){t()}signal=new dt;abort(o){if(!this.signal.aborted){this.signal.reason=o,this.signal.aborted=!0;for(const p of this.signal._onabort)p(o);this.signal.onabort?.(o)}}};let r="1"!==qu.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,Ot("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const Xr=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),lo=r=>Xr(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?ac:null:null;class ac extends Array{constructor(t){super(t),this.fill(0)}}class Cd{heap;length;static#e=!1;static create(t){const n=lo(t);if(!n)return[];Cd.#e=!0;const o=new Cd(t,n);return Cd.#e=!1,o}constructor(t,n){if(!Cd.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class bl{#e;#t;#n;#f;#D;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#g;#a;#o;#r;#u;#p;#l;#c;#y;#d;#E;#x;#v;#b;#S;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#l},get tail(){return t.#c},free:t.#y,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,o,p,y)=>t.#P(n,o,p,y),moveToTail:n=>t.#A(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#g}get size(){return this.#s}get fetchMethod(){return this.#D}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:o,ttlResolution:p=1,ttlAutopurge:y,updateAgeOnGet:l,updateAgeOnHas:u,allowStale:J,dispose:X,disposeAfter:N,noDisposeOnSet:oe,noUpdateTTL:Ee,maxSize:Le=0,maxEntrySize:Pe=0,sizeCalculation:Xe,fetchMethod:vt,noDeleteOnFetchRejection:Tt,noDeleteOnStaleGet:bt,allowStaleOnFetchRejection:wt,allowStaleOnFetchAbort:Ct,ignoreFetchAbort:Wt}=t;if(0!==n&&!Xr(n))throw new TypeError("max option must be a nonnegative integer");const Jt=n?lo(n):Array;if(!Jt)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=Le,this.maxEntrySize=Pe||this.#t,this.sizeCalculation=Xe,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==vt&&"function"!=typeof vt)throw new TypeError("fetchMethod must be a function if specified");if(this.#D=vt,this.#S=!!vt,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new Jt(n),this.#p=new Jt(n),this.#l=0,this.#c=0,this.#y=Cd.create(n),this.#s=0,this.#g=0,"function"==typeof X&&(this.#n=X),"function"==typeof N?(this.#f=N,this.#d=[]):(this.#f=void 0,this.#d=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!oe,this.noUpdateTTL=!!Ee,this.noDeleteOnFetchRejection=!!Tt,this.allowStaleOnFetchRejection=!!wt,this.allowStaleOnFetchAbort=!!Ct,this.ignoreFetchAbort=!!Wt,0!==this.maxEntrySize){if(0!==this.#t&&!Xr(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Xr(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!J,this.noDeleteOnStaleGet=!!bt,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!u,this.ttlResolution=Xr(p)||0===p?p:1,this.ttlAutopurge=!!y,this.ttl=o||0,this.ttl){if(!Xr(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#R()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const an="LRU_CACHE_UNBOUNDED";!Ua.has(an)&&(Ua.add(an),Ot("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",an,bl))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#R(){const t=new ac(this.#e),n=new ac(this.#e);this.#v=t,this.#x=n,this.#O=(y,l,u=Ad.now())=>{if(n[y]=0!==l?u:0,t[y]=l,0!==l&&this.ttlAutopurge){const J=setTimeout(()=>{this.#m(y)&&this.delete(this.#o[y])},l+1);J.unref&&J.unref()}},this.#I=y=>{n[y]=0!==t[y]?Ad.now():0},this.#M=(y,l)=>{if(t[l]){const u=t[l],J=n[l];y.ttl=u,y.start=J,y.now=o||p(),y.remainingTTL=u-(y.now-J)}};let o=0;const p=()=>{const y=Ad.now();if(this.ttlResolution>0){o=y;const l=setTimeout(()=>o=0,this.ttlResolution);l.unref&&l.unref()}return y};this.getRemainingTTL=y=>{const l=this.#a.get(y);if(void 0===l)return 0;const u=t[l],J=n[l];return 0===u||0===J?1/0:u-((o||p())-J)},this.#m=y=>0!==t[y]&&0!==n[y]&&(o||p())-n[y]>t[y]}#I=()=>{};#M=()=>{};#O=()=>{};#m=()=>!1;#U(){const t=new ac(this.#e);this.#g=0,this.#E=t,this.#T=n=>{this.#g-=t[n],t[n]=0},this.#N=(n,o,p,y)=>{if(this.#i(o))return 0;if(!Xr(p)){if(!y)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof y)throw new TypeError("sizeCalculation must be a function");if(p=y(o,n),!Xr(p))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return p},this.#C=(n,o,p)=>{if(t[n]=o,this.#t){const y=this.#t-t[n];for(;this.#g>y;)this.#k(!0)}this.#g+=t[n],p&&(p.entrySize=o,p.totalCalculatedSize=this.#g)}}#T=t=>{};#C=(t,n,o)=>{};#N=(t,n,o,p)=>{if(o||p)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#B(n)&&((t||!this.#m(n))&&(yield n),n!==this.#l);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#l;this.#B(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#B(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const o of this.#w()){const p=this.#r[o],y=this.#i(p)?p.__staleWhileFetching:p;if(void 0!==y&&t(y,this.#o[o],this))return this.get(this.#o[o],n)}}forEach(t,n=this){for(const o of this.#w()){const p=this.#r[o],y=this.#i(p)?p.__staleWhileFetching:p;void 0!==y&&t.call(n,y,this.#o[o],this)}}rforEach(t,n=this){for(const o of this.#_()){const p=this.#r[o],y=this.#i(p)?p.__staleWhileFetching:p;void 0!==y&&t.call(n,y,this.#o[o],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const o=this.#o[n],p=this.#r[n],y=this.#i(p)?p.__staleWhileFetching:p;if(void 0===y||void 0===o)continue;const l={value:y};if(this.#v&&this.#x){l.ttl=this.#v[n];const u=Ad.now()-this.#x[n];l.start=Math.floor(Date.now()-u)}this.#E&&(l.size=this.#E[n]),t.unshift([o,l])}return t}load(t){this.clear();for(const[n,o]of t){if(o.start){const p=Date.now()-o.start;o.start=Ad.now()-p}this.set(n,o.value,o)}}set(t,n,o={}){if(void 0===n)return this.delete(t),this;const{ttl:p=this.ttl,start:y,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:J}=o;let{noUpdateTTL:X=this.noUpdateTTL}=o;const N=this.#N(t,n,o.size||0,u);if(this.maxEntrySize&&N>this.maxEntrySize)return J&&(J.set="miss",J.maxEntrySizeExceeded=!0),this.delete(t),this;let oe=0===this.#s?void 0:this.#a.get(t);if(void 0===oe)oe=0===this.#s?this.#c:0!==this.#y.length?this.#y.pop():this.#s===this.#e?this.#k(!1):this.#s,this.#o[oe]=t,this.#r[oe]=n,this.#a.set(t,oe),this.#u[this.#c]=oe,this.#p[oe]=this.#c,this.#c=oe,this.#s++,this.#C(oe,N,J),J&&(J.set="add"),X=!1;else{this.#A(oe);const Ee=this.#r[oe];if(n!==Ee){if(this.#S&&this.#i(Ee)?Ee.__abortController.abort(new Error("replaced")):l||(this.#b&&this.#n?.(Ee,t,"set"),this.#h&&this.#d?.push([Ee,t,"set"])),this.#T(oe),this.#C(oe,N,J),this.#r[oe]=n,J){J.set="replace";const Le=Ee&&this.#i(Ee)?Ee.__staleWhileFetching:Ee;void 0!==Le&&(J.oldValue=Le)}}else J&&(J.set="update")}if(0!==p&&!this.#v&&this.#R(),this.#v&&(X||this.#O(oe,p,y),J&&this.#M(J,oe)),!l&&this.#h&&this.#d){const Ee=this.#d;let Le;for(;Le=Ee?.shift();)this.#f?.(...Le)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#l];if(this.#k(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#d){const t=this.#d;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#k(t){const n=this.#l,o=this.#o[n],p=this.#r[n];return this.#S&&this.#i(p)?p.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(p,o,"evict"),this.#h&&this.#d?.push([p,o,"evict"])),this.#T(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#y.push(n)),1===this.#s?(this.#l=this.#c=0,this.#y.length=0):this.#l=this.#u[n],this.#a.delete(o),this.#s--,n}has(t,n={}){const{updateAgeOnHas:o=this.updateAgeOnHas,status:p}=n,y=this.#a.get(t);if(void 0!==y){const l=this.#r[y];if(this.#i(l)&&void 0===l.__staleWhileFetching)return!1;if(!this.#m(y))return o&&this.#I(y),p&&(p.has="hit",this.#M(p,y)),!0;p&&(p.has="stale",this.#M(p,y))}else p&&(p.has="miss");return!1}peek(t,n={}){const{allowStale:o=this.allowStale}=n,p=this.#a.get(t);if(void 0!==p&&(o||!this.#m(p))){const y=this.#r[p];return this.#i(y)?y.__staleWhileFetching:y}}#P(t,n,o,p){const y=void 0===n?void 0:this.#r[n];if(this.#i(y))return y;const l=new Pt,{signal:u}=o;u?.addEventListener("abort",()=>l.abort(u.reason),{signal:l.signal});const J={signal:l.signal,options:o,context:p},X=(Xe,vt=!1)=>{const{aborted:Tt}=l.signal,bt=o.ignoreFetchAbort&&void 0!==Xe;return o.status&&(Tt&&!vt?(o.status.fetchAborted=!0,o.status.fetchError=l.signal.reason,bt&&(o.status.fetchAbortIgnored=!0)):o.status.fetchResolved=!0),!Tt||bt||vt?(this.#r[n]===Le&&(void 0===Xe?Le.__staleWhileFetching?this.#r[n]=Le.__staleWhileFetching:this.delete(t):(o.status&&(o.status.fetchUpdated=!0),this.set(t,Xe,J.options))),Xe):oe(l.signal.reason)},oe=Xe=>{const{aborted:vt}=l.signal,Tt=vt&&o.allowStaleOnFetchAbort,bt=Tt||o.allowStaleOnFetchRejection,Ct=Le;if(this.#r[n]===Le&&((bt||o.noDeleteOnFetchRejection)&&void 0!==Ct.__staleWhileFetching?Tt||(this.#r[n]=Ct.__staleWhileFetching):this.delete(t)),bt)return o.status&&void 0!==Ct.__staleWhileFetching&&(o.status.returnedStale=!0),Ct.__staleWhileFetching;if(Ct.__returned===Ct)throw Xe};o.status&&(o.status.fetchDispatched=!0);const Le=new Promise((Xe,vt)=>{const Tt=this.#D?.(t,y,J);Tt&&Tt instanceof Promise&&Tt.then(bt=>Xe(bt),vt),l.signal.addEventListener("abort",()=>{(!o.ignoreFetchAbort||o.allowStaleOnFetchAbort)&&(Xe(),o.allowStaleOnFetchAbort&&(Xe=bt=>X(bt,!0)))})}).then(X,Xe=>(o.status&&(o.status.fetchRejected=!0,o.status.fetchError=Xe),oe(Xe))),Pe=Object.assign(Le,{__abortController:l,__staleWhileFetching:y,__returned:void 0});return void 0===n?(this.set(t,Pe,{...J.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Pe,Pe}#i(t){if(!this.#S)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Pt}fetch(t,n={}){var o=this;return(0,Ne.A)(function*(){const{allowStale:p=o.allowStale,updateAgeOnGet:y=o.updateAgeOnGet,noDeleteOnStaleGet:l=o.noDeleteOnStaleGet,ttl:u=o.ttl,noDisposeOnSet:J=o.noDisposeOnSet,size:X=0,sizeCalculation:N=o.sizeCalculation,noUpdateTTL:oe=o.noUpdateTTL,noDeleteOnFetchRejection:Ee=o.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Le=o.allowStaleOnFetchRejection,ignoreFetchAbort:Pe=o.ignoreFetchAbort,allowStaleOnFetchAbort:Xe=o.allowStaleOnFetchAbort,context:vt,forceRefresh:Tt=!1,status:bt,signal:wt}=n;if(!o.#S)return bt&&(bt.fetch="get"),o.get(t,{allowStale:p,updateAgeOnGet:y,noDeleteOnStaleGet:l,status:bt});const Ct={allowStale:p,updateAgeOnGet:y,noDeleteOnStaleGet:l,ttl:u,noDisposeOnSet:J,size:X,sizeCalculation:N,noUpdateTTL:oe,noDeleteOnFetchRejection:Ee,allowStaleOnFetchRejection:Le,allowStaleOnFetchAbort:Xe,ignoreFetchAbort:Pe,status:bt,signal:wt};let Wt=o.#a.get(t);if(void 0===Wt){bt&&(bt.fetch="miss");const Jt=o.#P(t,Wt,Ct,vt);return Jt.__returned=Jt}{const Jt=o.#r[Wt];if(o.#i(Jt)){const Qn=p&&void 0!==Jt.__staleWhileFetching;return bt&&(bt.fetch="inflight",Qn&&(bt.returnedStale=!0)),Qn?Jt.__staleWhileFetching:Jt.__returned=Jt}const an=o.#m(Wt);if(!Tt&&!an)return bt&&(bt.fetch="hit"),o.#A(Wt),y&&o.#I(Wt),bt&&o.#M(bt,Wt),Jt;const Vt=o.#P(t,Wt,Ct,vt),Yn=void 0!==Vt.__staleWhileFetching&&p;return bt&&(bt.fetch=an?"stale":"refresh",Yn&&an&&(bt.returnedStale=!0)),Yn?Vt.__staleWhileFetching:Vt.__returned=Vt}})()}get(t,n={}){const{allowStale:o=this.allowStale,updateAgeOnGet:p=this.updateAgeOnGet,noDeleteOnStaleGet:y=this.noDeleteOnStaleGet,status:l}=n,u=this.#a.get(t);if(void 0!==u){const J=this.#r[u],X=this.#i(J);return l&&this.#M(l,u),this.#m(u)?(l&&(l.get="stale"),X?(l&&o&&void 0!==J.__staleWhileFetching&&(l.returnedStale=!0),o?J.__staleWhileFetching:void 0):(y||this.delete(t),l&&o&&(l.returnedStale=!0),o?J:void 0)):(l&&(l.get="hit"),X?J.__staleWhileFetching:(this.#A(u),p&&this.#I(u),J))}l&&(l.get="miss")}#L(t,n){this.#p[n]=t,this.#u[t]=n}#A(t){t!==this.#c&&(t===this.#l?this.#l=this.#u[t]:this.#L(this.#p[t],this.#u[t]),this.#L(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const o=this.#a.get(t);if(void 0!==o)if(n=!0,1===this.#s)this.clear();else{this.#T(o);const p=this.#r[o];this.#i(p)?p.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(p,t,"delete"),this.#h&&this.#d?.push([p,t,"delete"])),this.#a.delete(t),this.#o[o]=void 0,this.#r[o]=void 0,o===this.#c?this.#c=this.#p[o]:o===this.#l?this.#l=this.#u[o]:(this.#u[this.#p[o]]=this.#u[o],this.#p[this.#u[o]]=this.#p[o]),this.#s--,this.#y.push(o)}}if(this.#h&&this.#d?.length){const o=this.#d;let p;for(;p=o?.shift();)this.#f?.(...p)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const o=this.#o[t];this.#b&&this.#n?.(n,o,"delete"),this.#h&&this.#d?.push([n,o,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#l=0,this.#c=0,this.#y.length=0,this.#g=0,this.#s=0,this.#h&&this.#d){const t=this.#d;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var Pv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class kc{constructor(t){this.timeToLiveInSeconds=t,this.cache=new bl({max:1e5,ttl:1e3*t})}set(t,n){return Pv(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return Pv(this,void 0,void 0,function*(){return this.cache.get(t)})}}const Ai=yi,gd=new RegExp("^[A-Za-z0-9_-]+$","u");function vo(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=vo.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return vo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ee=0;for(const Le in r)if("payload"!==Le&&"signatures"!==Le)return vo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties"}],!1;if(0===Ee){if(void 0!==r.payload){let Le=r.payload;const Pe=0;if("string"!=typeof Le)return vo.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Le))return vo.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var X=0===Pe}else X=!0;if(X)if(void 0!==r.signatures){let Le=r.signatures;const Pe=0;if(0===Pe){if(!Array.isArray(Le))return vo.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Le.length<1)return vo.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const vt=Le.length;for(let Tt=0;Tt<vt;Tt++){let bt=Le[Tt];const wt=0;if(0===wt){if(!bt||"object"!=typeof bt||Array.isArray(bt))return vo.errors=[{instancePath:t+"/signatures/"+Tt,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==bt.protected){let Wt=bt.protected;const Jt=0;if("string"!=typeof Wt)return vo.errors=[{instancePath:t+"/signatures/"+Tt+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Wt))return vo.errors=[{instancePath:t+"/signatures/"+Tt+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var oe=0===Jt}else oe=!0;if(oe)if(void 0!==bt.signature){let Wt=bt.signature;const Jt=0;if("string"!=typeof Wt)return vo.errors=[{instancePath:t+"/signatures/"+Tt+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Wt))return vo.errors=[{instancePath:t+"/signatures/"+Tt+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;oe=0===Jt}else oe=!0}if(0!==wt)break}}}X=0===Pe}else X=!0}}return vo.errors=null,!0}function yi(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=yi.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return yi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const X=u;for(const N in r)if("signature"!==N)return yi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:N},message:"must NOT have additional properties"}],!1;X===u&&void 0!==r.signature&&(vo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:p,dynamicAnchors:y})||(l=null===l?vo.errors:l.concat(vo.errors),u=l.length))}}return yi.errors=l,0===u}vo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},yi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const aM=Ia,wl={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},_l=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),Gc=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),qf=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),ys=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),Wi={validate:Yc};function Zc(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Zc.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Zc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const N=u;for(const oe in r)if("signature"!==oe&&"authorDelegatedGrant"!==oe&&"ownerSignature"!==oe&&"ownerDelegatedGrant"!==oe)return Zc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(N===u){let oe;if(void 0!==r.ownerSignature&&void 0===r.signature&&(oe="signature"))return Zc.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:oe,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const Ee=u;vo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:p,dynamicAnchors:y})||(l=null===l?vo.errors:l.concat(vo.errors),u=l.length);var X=Ee===u}else X=!0;if(X){if(void 0!==r.authorDelegatedGrant){const Ee=u;Wi.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:p,dynamicAnchors:y})||(l=null===l?Wi.validate.errors:l.concat(Wi.validate.errors),u=l.length),X=Ee===u}else X=!0;if(X){if(void 0!==r.ownerSignature){const Ee=u;vo(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:p,dynamicAnchors:y})||(l=null===l?vo.errors:l.concat(vo.errors),u=l.length),X=Ee===u}else X=!0;if(X)if(void 0!==r.ownerDelegatedGrant){const Ee=u;Wi.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:p,dynamicAnchors:y})||(l=null===l?Wi.validate.errors:l.concat(Wi.validate.errors),u=l.length),X=Ee===u}else X=!0}}}}}return Zc.errors=l,0===u}Zc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const hm={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function No(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=No.evaluated;J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0);const X=u,N=u;let oe=!1,Ee=null;const Le=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let zn;if(void 0===r.crv&&(zn="crv")||void 0===r.x&&(zn="x")){const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:zn},message:"must have required property '"+zn+"'"};null===l?l=[jn]:l.push(jn),u++}else{if(void 0!==r.kty){const jn=u;if("EC"!==r.kty){const Xn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),u++}var Pe=jn===u}else Pe=!0;if(Pe){if(void 0!==r.crv){const jn=u;if("string"!=typeof r.crv){const An={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Pe=jn===u}else Pe=!0;if(Pe){if(void 0!==r.x){const jn=u;if("string"!=typeof r.x){const An={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Pe=jn===u}else Pe=!0;if(Pe){if(void 0!==r.y){const jn=u;if("string"!=typeof r.y){const An={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Pe=jn===u}else Pe=!0;if(Pe)if(void 0!==r.d){const jn=u;if("string"!=typeof r.d){const An={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Pe=jn===u}else Pe=!0}}}}}if(bt=Le===u){oe=!0,Ee=0;var Xe={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const vt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let zn;if(void 0===r.crv&&(zn="crv")||void 0===r.x&&(zn="x")){const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:zn},message:"must have required property '"+zn+"'"};null===l?l=[jn]:l.push(jn),u++}else{if(void 0!==r.kty){const jn=u;if("OKP"!==r.kty){const Xn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),u++}var Tt=jn===u}else Tt=!0;if(Tt){if(void 0!==r.crv){const jn=u;if("string"!=typeof r.crv){const An={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Tt=jn===u}else Tt=!0;if(Tt){if(void 0!==r.x){const jn=u;if("string"!=typeof r.x){const An={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Tt=jn===u}else Tt=!0;if(Tt)if(void 0!==r.d){const jn=u;if("string"!=typeof r.d){const An={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Tt=jn===u}else Tt=!0}}}}if((bt=vt===u)&&oe)oe=!1,Ee=[Ee,1];else{bt&&(oe=!0,Ee=1,!0!==Xe&&((Xe=Xe||{}).kty=!0,Xe.crv=!0,Xe.x=!0,Xe.d=!0));const zn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.n&&(Xn="n")||void 0===r.e&&(Xn="e")){const An={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"};null===l?l=[An]:l.push(An),u++}else{if(void 0!==r.kty){const An=u;if("RSA"!==r.kty){const yr={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===l?l=[yr]:l.push(yr),u++}var wt=An===u}else wt=!0;if(wt){if(void 0!==r.n){const An=u;if("string"!=typeof r.n){const Hr={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Hr]:l.push(Hr),u++}wt=An===u}else wt=!0;if(wt){if(void 0!==r.e){const An=u;if("string"!=typeof r.e){const Hr={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Hr]:l.push(Hr),u++}wt=An===u}else wt=!0;if(wt){if(void 0!==r.d){const An=u;if("string"!=typeof r.d){const Hr={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Hr]:l.push(Hr),u++}wt=An===u}else wt=!0;if(wt){if(void 0!==r.p){const An=u;if("string"!=typeof r.p){const Hr={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Hr]:l.push(Hr),u++}wt=An===u}else wt=!0;if(wt){if(void 0!==r.q){const An=u;if("string"!=typeof r.q){const Hr={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Hr]:l.push(Hr),u++}wt=An===u}else wt=!0;if(wt){if(void 0!==r.dp){const An=u;if("string"!=typeof r.dp){const Hr={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Hr]:l.push(Hr),u++}wt=An===u}else wt=!0;if(wt){if(void 0!==r.dq){const An=u;if("string"!=typeof r.dq){const Hr={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Hr]:l.push(Hr),u++}wt=An===u}else wt=!0;if(wt){if(void 0!==r.qi){const An=u;if("string"!=typeof r.qi){const Hr={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Hr]:l.push(Hr),u++}wt=An===u}else wt=!0;if(wt)if(void 0!==r.oth){let An=r.oth;const yr=u;if(!An||"object"!=typeof An||Array.isArray(An)){const Ir={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ir]:l.push(Ir),u++}wt=yr===u}else wt=!0}}}}}}}}}}if((bt=zn===u)&&oe)oe=!1,Ee=[Ee,2];else{bt&&(oe=!0,Ee=2,!0!==Xe&&((Xe=Xe||{}).kty=!0,Xe.n=!0,Xe.e=!0,Xe.d=!0,Xe.p=!0,Xe.q=!0,Xe.dp=!0,Xe.dq=!0,Xe.qi=!0,Xe.oth=!0));const Xn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let yr;if(void 0===r.k&&(yr="k")){const Hr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:yr},message:"must have required property '"+yr+"'"};null===l?l=[Hr]:l.push(Hr),u++}else{if(void 0!==r.kty){const Hr=u;if("oct"!==r.kty){const Ir={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===l?l=[Ir]:l.push(Ir),u++}var Ct=Hr===u}else Ct=!0;if(Ct)if(void 0!==r.k){const Hr=u;if("string"!=typeof r.k){const oi={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[oi]:l.push(oi),u++}Ct=Hr===u}else Ct=!0}}var bt;(bt=Xn===u)&&oe?(oe=!1,Ee=[Ee,3]):bt&&(oe=!0,Ee=3,!0!==Xe&&((Xe=Xe||{}).kty=!0,Xe.k=!0))}}if(!oe){const zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:Ee},message:"must match exactly one schema in oneOf"};return null===l?l=[zn]:l.push(zn),u++,No.errors=l,!1}if(u=N,null!==l&&(N?l.length=N:l=null),u===X){if(!r||"object"!=typeof r||Array.isArray(r))return No.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let zn;if(void 0===r.kty&&(zn="kty"))return No.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:zn},message:"must have required property '"+zn+"'"}],!1;if(!0!==Xe&&((Xe=Xe||{}).alg=!0,Xe.kid=!0,Xe.kty=!0,Xe.crv=!0,Xe.use=!0,Xe.key_ops=!0,Xe.x5u=!0,Xe.x5c=!0,Xe.x5t=!0,Xe["x5t#S256"]=!0),void 0!==r.alg){const jn=u;if("string"!=typeof r.alg)return No.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.kid){const jn=u;if("string"!=typeof r.kid)return No.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.kty){let jn=r.kty;const Xn=u;if("EC"!==jn&&"RSA"!==jn&&"oct"!==jn&&"OKP"!==jn)return No.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:hm.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Wt=Xn===u}else Wt=!0;if(Wt){if(void 0!==r.crv){const jn=u;if("string"!=typeof r.crv)return No.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.use){const jn=u;if("string"!=typeof r.use)return No.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.key_ops){const jn=u;if("string"!=typeof r.key_ops)return No.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.x5u){const jn=u;if("string"!=typeof r.x5u)return No.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.x5c){const jn=u;if("string"!=typeof r.x5c)return No.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.x5t){const jn=u;if("string"!=typeof r.x5t)return No.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Wt=jn===u}else Wt=!0;if(Wt)if(void 0!==r["x5t#S256"]){const jn=u;if("string"!=typeof r["x5t#S256"])return No.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Wt=jn===u}else Wt=!0}}}}}}}}}}if(X===u){const zn=u,jn=u,Xn=u;let An=!1;const yr=u,Hr=u;let Ir=!1;const oi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.d&&(Mr="d")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}if(Ir=Ir||oi===u,Ir)u=Hr,null!==l&&(Hr?l.length=Hr:l=null);else{const Mr={};null===l?l=[Mr]:l.push(Mr),u++}if(u===yr)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const Mr={};null===l?l=[Mr]:l.push(Mr),u++}}else{const Mr={};null===l?l=[Mr]:l.push(Mr),u++}var sr=yr===u;if(An=An||sr,sr)var Vt={kty:!0};const ro=u,Dn=u;let li=!1;const wo=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.d&&(Mr="d")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}if(li=li||wo===u,li)u=Dn,null!==l&&(Dn?l.length=Dn:l=null);else{const Mr={};null===l?l=[Mr]:l.push(Mr),u++}if(u===ro)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const Mr={};null===l?l=[Mr]:l.push(Mr),u++}}else{const Mr={};null===l?l=[Mr]:l.push(Mr),u++}sr=ro===u,An=An||sr,sr&&!0!==Vt&&((Vt=Vt||{}).kty=!0);const Er=u,qn=u;let wr=!1;const ri=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.d&&(Mr="d")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}var Yn=ri===u;wr=wr||Yn;const Bi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.p&&(Mr="p")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}Yn=Bi===u,wr=wr||Yn;const Li=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.q&&(Mr="q")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}Yn=Li===u,wr=wr||Yn;const fi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.dp&&(Mr="dp")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}Yn=fi===u,wr=wr||Yn;const gi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.dq&&(Mr="dq")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}Yn=gi===u,wr=wr||Yn;const Dc=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.qi&&(Mr="qi")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}Yn=Dc===u,wr=wr||Yn;const kv=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mr;if(void 0===r.oth&&(Mr="oth")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}if(Yn=kv===u,wr=wr||Yn,wr)u=qn,null!==l&&(qn?l.length=qn:l=null);else{const Mr={};null===l?l=[Mr]:l.push(Mr),u++}if(u===Er)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const Mr=u;if("RSA"!==r.kty){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}var Qn=Mr===u}else Qn=!0;if(Qn)if(void 0!==r.oth){let Mr=r.oth;const Ii=u;if(!Mr||"object"!=typeof Mr||Array.isArray(Mr)){const hi={};null===l?l=[hi]:l.push(hi),u++}Qn=Ii===u}else Qn=!0}else{const Mr={};null===l?l=[Mr]:l.push(Mr),u++}if(sr=Er===u,An=An||sr,sr&&!0!==Vt&&((Vt=Vt||{}).kty=!0,Vt.d=!0,Vt.p=!0,Vt.q=!0,Vt.dp=!0,Vt.dq=!0,Vt.qi=!0,Vt.oth=!0),An)u=Xn,null!==l&&(Xn?l.length=Xn:l=null);else{const Mr={};null===l?l=[Mr]:l.push(Mr),u++}if(jn===u)return No.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=zn,null!==l&&(zn?l.length=zn:l=null)}return No.errors=l,J.props=Xe,0===u}No.evaluated={dynamicProps:!0,dynamicItems:!1};const Fh=Object.prototype.hasOwnProperty;function Wr(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Wr.evaluated;J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0);const X=u;let N=!1;const oe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ro;if(void 0===r.contextId&&(ro="contextId")){const Dn={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:ro},message:"must have required property '"+ro+"'"};null===l?l=[Dn]:l.push(Dn),u++}else if(void 0!==r.descriptor){let Dn=r.descriptor;if(u==u)if(Dn&&"object"==typeof Dn&&!Array.isArray(Dn)){let wo;if(void 0===Dn.protocol&&(wo="protocol")||void 0===Dn.protocolPath&&(wo="protocolPath")){const Er={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:wo},message:"must have required property '"+wo+"'"};null===l?l=[Er]:l.push(Er),u++}}else{const wo={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[wo]:l.push(wo),u++}}}var Wt=oe===u;if(N=N||Wt,Wt)var Ee={descriptor:!0};const Le=u,Pe=u,Xe=u,vt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let ro;if(void 0===r.contextId&&(ro="contextId")){const Dn={};null===l?l=[Dn]:l.push(Dn),u++}}if(vt===u){const ro={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[ro]:l.push(ro),u++}else u=Xe,null!==l&&(Xe?l.length=Xe:l=null);if(Pe===u){const ro=u;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let li=r.descriptor;if(!li||"object"!=typeof li||Array.isArray(li)){const qn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[qn]:l.push(qn),u++}const wo=u,Er=u;if(li&&"object"==typeof li&&!Array.isArray(li)){let qn;if(void 0===li.protocol&&(qn="protocol")){const wr={};null===l?l=[wr]:l.push(wr),u++}}if(Er===u){const qn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[qn]:l.push(qn),u++}else u=wo,null!==l&&(wo?l.length=wo:l=null)}if(ro===u&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Er=r.descriptor;if(!Er||"object"!=typeof Er||Array.isArray(Er)){const ri={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[ri]:l.push(ri),u++}const qn=u,wr=u;if(Er&&"object"==typeof Er&&!Array.isArray(Er)){let ri;if(void 0===Er.protocolPath&&(ri="protocolPath")){const Bi={};null===l?l=[Bi]:l.push(Bi),u++}}if(wr===u){const ri={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[ri]:l.push(ri),u++}else u=qn,null!==l&&(qn?l.length=qn:l=null)}}if(Wt=Le===u,N=N||Wt,Wt&&!0!==Ee&&((Ee=Ee||{}).descriptor=!0),!N){const ro={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===l?l=[ro]:l.push(ro),u++,Wr.errors=l,!1}if(u=X,null!==l&&(X?l.length=X:l=null),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Wr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ro;if(void 0===r.descriptor&&(ro="descriptor"))return Wr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ro},message:"must have required property '"+ro+"'"}],!1;if(!0!==Ee&&((Ee=Ee||{}).recordId=!0,Ee.contextId=!0,Ee.attestation=!0,Ee.authorization=!0,Ee.encryption=!0,Ee.descriptor=!0),void 0!==r.recordId){const Dn=u;if("string"!=typeof r.recordId)return Wr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Jt=Dn===u}else Jt=!0;if(Jt){if(void 0!==r.contextId){let Dn=r.contextId;const li=u;if(u===li){if("string"!=typeof Dn)return Wr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!_l.test(Dn))return Wr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}Jt=li===u}else Jt=!0;if(Jt){if(void 0!==r.attestation){const Dn=u;vo(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:p,dynamicAnchors:y})||(l=null===l?vo.errors:l.concat(vo.errors),u=l.length),Jt=Dn===u}else Jt=!0;if(Jt){if(void 0!==r.authorization){const Dn=u;Zc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?Zc.errors:l.concat(Zc.errors),u=l.length),Jt=Dn===u}else Jt=!0;if(Jt){if(void 0!==r.encryption){let Dn=r.encryption;const li=u;if(u===li){if(!Dn||"object"!=typeof Dn||Array.isArray(Dn))return Wr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Er;if(void 0===Dn.algorithm&&(Er="algorithm")||void 0===Dn.initializationVector&&(Er="initializationVector")||void 0===Dn.keyEncryption&&(Er="keyEncryption"))return Wr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:Er},message:"must have required property '"+Er+"'"}],!1;{const qn=u;for(const wr in Dn)if("algorithm"!==wr&&"initializationVector"!==wr&&"keyEncryption"!==wr)return Wr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wr},message:"must NOT have additional properties"}],!1;if(qn===u){if(void 0!==Dn.algorithm){let wr=Dn.algorithm;const ri=u;if("string"!=typeof wr)return Wr.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==wr)return Wr.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:wl.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var an=ri===u}else an=!0;if(an){if(void 0!==Dn.initializationVector){let wr=Dn.initializationVector;const ri=u;if(u==u){if("string"!=typeof wr)return Wr.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(wr))return Wr.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}an=ri===u}else an=!0;if(an)if(void 0!==Dn.keyEncryption){let wr=Dn.keyEncryption;const ri=u;if(u===ri){if(!Array.isArray(wr))return Wr.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(wr.length<1)return Wr.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Li=wr.length;for(let fi=0;fi<Li;fi++){let gi=wr[fi];const Dc=u;if(u===Dc){if(!gi||"object"!=typeof gi||Array.isArray(gi))return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Mr;if(void 0===gi.rootKeyId&&(Mr="rootKeyId")||void 0===gi.derivationScheme&&(Mr="derivationScheme")||void 0===gi.algorithm&&(Mr="algorithm")||void 0===gi.encryptedKey&&(Mr="encryptedKey")||void 0===gi.initializationVector&&(Mr="initializationVector")||void 0===gi.ephemeralPublicKey&&(Mr="ephemeralPublicKey")||void 0===gi.messageAuthenticationCode&&(Mr="messageAuthenticationCode"))return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:Mr},message:"must have required property '"+Mr+"'"}],!1;{const Ii=u;for(const Ti in gi)if("rootKeyId"!==Ti&&"derivationScheme"!==Ti&&"derivedPublicKey"!==Ti&&"algorithm"!==Ti&&"encryptedKey"!==Ti&&"initializationVector"!==Ti&&"ephemeralPublicKey"!==Ti&&"messageAuthenticationCode"!==Ti)return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ti},message:"must NOT have additional properties"}],!1;if(Ii===u){if(void 0!==gi.rootKeyId){const Ti=u;if("string"!=typeof gi.rootKeyId)return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var In=Ti===u}else In=!0;if(In){if(void 0!==gi.derivationScheme){let Ti=gi.derivationScheme;const hi=u;if("string"!=typeof Ti)return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==Ti&&"protocolContext"!==Ti&&"protocolPath"!==Ti&&"schemas"!==Ti)return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:wl.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;In=hi===u}else In=!0;if(In){if(void 0!==gi.derivedPublicKey){const Ti=u;No(gi.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+fi+"/derivedPublicKey",parentData:gi,parentDataProperty:"derivedPublicKey",rootData:p,dynamicAnchors:y})||(l=null===l?No.errors:l.concat(No.errors),u=l.length),In=Ti===u}else In=!0;if(In){if(void 0!==gi.algorithm){let Ti=gi.algorithm;const hi=u;if("string"!=typeof Ti)return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==Ti)return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:wl.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;In=hi===u}else In=!0;if(In){if(void 0!==gi.encryptedKey){let Ti=gi.encryptedKey;const hi=u;if(u==u){if("string"!=typeof Ti)return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Ti))return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}In=hi===u}else In=!0;if(In){if(void 0!==gi.initializationVector){let Ti=gi.initializationVector;const hi=u;if(u==u){if("string"!=typeof Ti)return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Ti))return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}In=hi===u}else In=!0;if(In){if(void 0!==gi.ephemeralPublicKey){const Ti=u;No(gi.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+fi+"/ephemeralPublicKey",parentData:gi,parentDataProperty:"ephemeralPublicKey",rootData:p,dynamicAnchors:y})||(l=null===l?No.errors:l.concat(No.errors),u=l.length),In=Ti===u}else In=!0;if(In)if(void 0!==gi.messageAuthenticationCode){let Ti=gi.messageAuthenticationCode;const hi=u;if(u==u){if("string"!=typeof Ti)return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!gd.test(Ti))return Wr.errors=[{instancePath:t+"/encryption/keyEncryption/"+fi+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}In=hi===u}else In=!0}}}}}}}}}}if(Dc!==u)break}}}an=ri===u}else an=!0}}}}}Jt=li===u}else Jt=!0;if(Jt)if(void 0!==r.descriptor){let Dn=r.descriptor;const li=u,wo=u;let Er=!1;const qn=u;if(Dn&&"object"==typeof Dn&&!Array.isArray(Dn)){let Mr;if(void 0===Dn.published&&(Mr="published")||void 0===Dn.datePublished&&(Mr="datePublished")){const Ii={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:Mr},message:"must have required property '"+Mr+"'"};null===l?l=[Ii]:l.push(Ii),u++}else if(void 0!==Dn.published){let Ii=Dn.published;if("boolean"!=typeof Ii){const Ti={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Ti]:l.push(Ti),u++}if(!0!==Ii){const Ti={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:wl.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Ti]:l.push(Ti),u++}}}var jn=qn===u;if(Er=Er||jn,jn)var Yn={published:!0};const wr=u,ri=u,Bi=u;if(Dn&&"object"==typeof Dn&&!Array.isArray(Dn)){let Mr;if(void 0===Dn.datePublished&&(Mr="datePublished")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}if(Bi===u){const Mr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Mr]:l.push(Mr),u++}else u=ri,null!==l&&(ri?l.length=ri:l=null);if(u===wr&&Dn&&"object"==typeof Dn&&!Array.isArray(Dn)&&void 0!==Dn.published){let Mr=Dn.published;if("boolean"!=typeof Mr){const Ii={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Ii]:l.push(Ii),u++}if(!1!==Mr){const Ii={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:wl.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Ii]:l.push(Ii),u++}}jn=wr===u,Er=Er||jn,jn&&!0!==Yn&&((Yn=Yn||{}).published=!0);const Li=u,fi=u,gi=u,Dc=u;if(Dn&&"object"==typeof Dn&&!Array.isArray(Dn)){let Mr;if(void 0===Dn.published&&(Mr="published")){const Ii={};null===l?l=[Ii]:l.push(Ii),u++}}if(Dc===u){const Mr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Mr]:l.push(Mr),u++}else u=gi,null!==l&&(gi?l.length=gi:l=null);if(fi===u){const Ii=u,Ti=u;if(Dn&&"object"==typeof Dn&&!Array.isArray(Dn)){let As;if(void 0===Dn.datePublished&&(As="datePublished")){const Td={};null===l?l=[Td]:l.push(Td),u++}}if(Ti===u){const As={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[As]:l.push(As),u++}else u=Ii,null!==l&&(Ii?l.length=Ii:l=null)}if(jn=Li===u,Er=Er||jn,!Er){const Mr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===l?l=[Mr]:l.push(Mr),u++,Wr.errors=l,!1}if(u=wo,null!==l&&(wo?l.length=wo:l=null),u===li){if(!Dn||"object"!=typeof Dn||Array.isArray(Dn))return Wr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Mr;if(void 0===Dn.interface&&(Mr="interface")||void 0===Dn.method&&(Mr="method")||void 0===Dn.dataCid&&(Mr="dataCid")||void 0===Dn.dataSize&&(Mr="dataSize")||void 0===Dn.dateCreated&&(Mr="dateCreated")||void 0===Dn.messageTimestamp&&(Mr="messageTimestamp")||void 0===Dn.dataFormat&&(Mr="dataFormat"))return Wr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Mr},message:"must have required property '"+Mr+"'"}],!1;{const Ii=u;for(const Ti in Dn)if(!Fh.call(wl.properties.descriptor.properties,Ti))return Wr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ti},message:"must NOT have additional properties"}],!1;if(Ii===u){let Ti;if(void 0!==Dn.parentId&&void 0===Dn.protocol&&(Ti="protocol"))return Wr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:Ti,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==Dn.interface){let hi=Dn.interface;const As=u;if("string"!=typeof hi)return Wr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==hi)return Wr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:wl.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var Xn=As===u}else Xn=!0;if(Xn){if(void 0!==Dn.method){let hi=Dn.method;const As=u;if("string"!=typeof hi)return Wr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==hi)return Wr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:wl.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;Xn=As===u}else Xn=!0;if(Xn){if(void 0!==Dn.recipient){let hi=Dn.recipient;const As=u;if(u==u){if("string"!=typeof hi)return Wr.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(hi))return Wr.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Xn=As===u}else Xn=!0;if(Xn){if(void 0!==Dn.protocol){const hi=u;if("string"!=typeof Dn.protocol)return Wr.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=hi===u}else Xn=!0;if(Xn){if(void 0!==Dn.protocolPath){let hi=Dn.protocolPath;const As=u;if(u===As){if("string"!=typeof hi)return Wr.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qf.test(hi))return Wr.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}Xn=As===u}else Xn=!0;if(Xn){if(void 0!==Dn.schema){const hi=u;if("string"!=typeof Dn.schema)return Wr.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=hi===u}else Xn=!0;if(Xn){if(void 0!==Dn.tags){let hi=Dn.tags;const As=u;if(u===As){if(!hi||"object"!=typeof hi||Array.isArray(hi))return Wr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(hi).length>10)return Wr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(hi).length<1)return Wr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Ko in hi){let Vo=hi[Ko];const ta=u,qo=u;let _i=!1,Qo=null;const Gd=u;if("string"!=typeof Vo){const Tc={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Tc]:l.push(Tc),u++}(An=Gd===u)&&(_i=!0,Qo=0);const Ic=u;if("number"!=typeof Vo||!isFinite(Vo)){const Tc={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Tc]:l.push(Tc),u++}if((An=Ic===u)&&_i)_i=!1,Qo=[Qo,1];else{An&&(_i=!0,Qo=1);const Tc=u;if("boolean"!=typeof Vo){const oM={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[oM]:l.push(oM),u++}if((An=Tc===u)&&_i)_i=!1,Qo=[Qo,2];else{An&&(_i=!0,Qo=2);const oM=u;if(u===oM)if(Array.isArray(Vo))if(Vo.length>10){const su={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===l?l=[su]:l.push(su),u++}else if(Vo.length<1){const su={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[su]:l.push(su),u++}else{const su=Vo.length;for(let XA=0;XA<su;XA++){const Xu=u;if("string"!=typeof Vo[XA]){const sM={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+XA,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[sM]:l.push(sM),u++}if(Xu!==u)break}}else{const su={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[su]:l.push(su),u++}if((An=oM===u)&&_i)_i=!1,Qo=[Qo,3];else{if(An){_i=!0,Qo=3;var Hr=!0}const su=u;if(u===su)if(Array.isArray(Vo))if(Vo.length>10){const Xu={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===l?l=[Xu]:l.push(Xu),u++}else if(Vo.length<1){const Xu={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Xu]:l.push(Xu),u++}else{const Xu=Vo.length;for(let JA=0;JA<Xu;JA++){let sM=Vo[JA];const b4=u;if("number"!=typeof sM||!isFinite(sM)){const iO={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+JA,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[iO]:l.push(iO),u++}if(b4!==u)break}}else{const Xu={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Xu]:l.push(Xu),u++}var An;(An=su===u)&&_i?(_i=!1,Qo=[Qo,4]):An&&(_i=!0,Qo=4,!0!==Hr&&(Hr=!0))}}}if(!_i){const Tc={instancePath:t+"/descriptor/tags/"+Ko.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Qo},message:"must match exactly one schema in oneOf"};return null===l?l=[Tc]:l.push(Tc),u++,Wr.errors=l,!1}if(u=qo,null!==l&&(qo?l.length=qo:l=null),ta!==u)break}}Xn=As===u}else Xn=!0;if(Xn){if(void 0!==Dn.parentId){const hi=u;if("string"!=typeof Dn.parentId)return Wr.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=hi===u}else Xn=!0;if(Xn){if(void 0!==Dn.dataCid){const hi=u;if("string"!=typeof Dn.dataCid)return Wr.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=hi===u}else Xn=!0;if(Xn){if(void 0!==Dn.dataSize){let hi=Dn.dataSize;const As=u;if("number"!=typeof hi||!isFinite(hi))return Wr.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Xn=As===u}else Xn=!0;if(Xn){if(void 0!==Dn.dateCreated){let hi=Dn.dateCreated;const As=u;if(u==u){if("string"!=typeof hi)return Wr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(hi))return Wr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Xn=As===u}else Xn=!0;if(Xn){if(void 0!==Dn.messageTimestamp){let hi=Dn.messageTimestamp;const As=u;if(u==u){if("string"!=typeof hi)return Wr.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(hi))return Wr.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Xn=As===u}else Xn=!0;if(Xn){if(void 0!==Dn.published){const hi=u;if("boolean"!=typeof Dn.published)return Wr.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Xn=hi===u}else Xn=!0;if(Xn){if(void 0!==Dn.datePublished){let hi=Dn.datePublished;const As=u;if(u==u){if("string"!=typeof hi)return Wr.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(hi))return Wr.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Xn=As===u}else Xn=!0;if(Xn)if(void 0!==Dn.dataFormat){const hi=u;if("string"!=typeof Dn.dataFormat)return Wr.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=hi===u}else Xn=!0}}}}}}}}}}}}}}}}}Jt=li===u}else Jt=!0}}}}}}return Wr.errors=l,J.props=Ee,0===u}function Yc(r,{instancePath:t="",parentData:n,parentDataProperty:o,rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Yc.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),Wr(r,{instancePath:t,parentData:n,parentDataProperty:o,rootData:p,dynamicAnchors:y}))var X=Wr.evaluated.props;else l=null===l?Wr.errors:l.concat(Wr.errors),u=l.length;if(0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Yc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===r.recordId&&(oe="recordId")||void 0===r.authorization&&(oe="authorization")||void 0===r.encodedData&&(oe="encodedData"))return Yc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;if(!0!==X&&((X=X||{}).encodedData=!0),void 0!==r.encodedData){const Ee=u;if("string"!=typeof r.encodedData)return Yc.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var N=Ee===u}else N=!0;if(N&&!0!==X)for(const Ee in r)if(!X||!X[Ee])return Yc.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:Ee},message:"must NOT have unevaluated properties"}],!1}}return Yc.errors=l,0===u}function Ia(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Ia.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ia.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const N=u;for(const oe in r)if("signature"!==oe&&"authorDelegatedGrant"!==oe)return Ia.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties"}],!1;if(N===u){if(void 0!==r.signature){const oe=u;vo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:p,dynamicAnchors:y})||(l=null===l?vo.errors:l.concat(vo.errors),u=l.length);var X=oe===u}else X=!0;if(X)if(void 0!==r.authorDelegatedGrant){const oe=u;Yc(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:p,dynamicAnchors:y})||(l=null===l?Yc.errors:l.concat(Yc.errors),u=l.length),X=oe===u}else X=!0}}}return Ia.errors=l,0===u}Wr.evaluated={dynamicProps:!0,dynamicItems:!1},Yc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Ia.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Nv=Zc,d1=$s,Qu={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function $s(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=$s.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return $s.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===r.authorization&&(oe="authorization")||void 0===r.descriptor&&(oe="descriptor"))return $s.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;{const Ee=u;for(const Le in r)if("authorization"!==Le&&"descriptor"!==Le)return $s.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties"}],!1;if(Ee===u){if(void 0!==r.authorization){const Le=u;Ia(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?Ia.errors:l.concat(Ia.errors),u=l.length);var X=Le===u}else X=!0;if(X)if(void 0!==r.descriptor){let Le=r.descriptor;const Pe=u;if(u===Pe){if(!Le||"object"!=typeof Le||Array.isArray(Le))return $s.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let vt;if(void 0===Le.interface&&(vt="interface")||void 0===Le.method&&(vt="method")||void 0===Le.messageTimestamp&&(vt="messageTimestamp")||void 0===Le.recordId&&(vt="recordId")||void 0===Le.prune&&(vt="prune"))return $s.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:vt},message:"must have required property '"+vt+"'"}],!1;{const Tt=u;for(const bt in Le)if("interface"!==bt&&"method"!==bt&&"messageTimestamp"!==bt&&"recordId"!==bt&&"prune"!==bt)return $s.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(Tt===u){if(void 0!==Le.interface){let bt=Le.interface;const wt=u;if("string"!=typeof bt)return $s.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==bt)return $s.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Qu.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=wt===u}else N=!0;if(N){if(void 0!==Le.method){let bt=Le.method;const wt=u;if("string"!=typeof bt)return $s.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==bt)return $s.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Qu.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=wt===u}else N=!0;if(N){if(void 0!==Le.messageTimestamp){let bt=Le.messageTimestamp;const wt=u;if(u==u){if("string"!=typeof bt)return $s.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(bt))return $s.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=wt===u}else N=!0;if(N){if(void 0!==Le.recordId){const bt=u;if("string"!=typeof Le.recordId)return $s.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;N=bt===u}else N=!0;if(N)if(void 0!==Le.prune){const bt=u;if("boolean"!=typeof Le.prune)return $s.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;N=bt===u}else N=!0}}}}}}}X=Pe===u}else X=!0}}}}return $s.errors=l,0===u}$s.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const jh=ui,ef={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},eh={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},kd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function pr(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=pr.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return pr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return pr.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const ro=u;for(const Dn in r)if(!Fh.call(kd.properties,Dn))return pr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Dn},message:"must NOT have additional properties"}],!1;if(ro===u){if(void 0!==r.datePublished){const Dn=u,li=u;let wo=!1,Er=null;const qn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Li;if(void 0===r.published&&(Li="published")){const fi={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:Li},message:"must have required property '"+Li+"'"};null===l?l=[fi]:l.push(fi),u++}else if(void 0!==r.published&&!0!==r.published){const fi={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:kd.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[fi]:l.push(fi),u++}}qn===u&&(wo=!0,Er=0);const wr=u,ri=u,Bi=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Li;if(void 0===r.published&&(Li="published")){const fi={};null===l?l=[fi]:l.push(fi),u++}}var oe;if(Bi===u){const Li={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Li]:l.push(Li),u++}else u=ri,null!==l&&(ri?l.length=ri:l=null);if((oe=wr===u)&&wo?(wo=!1,Er=[Er,1]):oe&&(wo=!0,Er=1),!wo){const Li={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:Er},message:"must match exactly one schema in oneOf"};return null===l?l=[Li]:l.push(Li),u++,pr.errors=l,!1}u=li,null!==l&&(li?l.length=li:l=null);var Ee=Dn===u}else Ee=!0;if(Ee){if(void 0!==r.protocol){const Dn=u;if("string"!=typeof r.protocol)return pr.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Le=Dn===u}else Le=!0;if(Le){if(void 0!==r.protocolPath){const Dn=u;if("string"!=typeof r.protocolPath)return pr.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Dn===u}else Le=!0;if(Le){if(void 0!==r.author){let Dn=r.author;const li=u;if(u==u){if("string"!=typeof Dn)return pr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(Dn))return pr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Le=li===u}else Le=!0;if(Le){if(void 0!==r.attester){let Dn=r.attester;const li=u;if(u==u){if("string"!=typeof Dn)return pr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(Dn))return pr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Le=li===u}else Le=!0;if(Le){if(void 0!==r.recipient){let Dn=r.recipient;const li=u;if(u==u){if("string"!=typeof Dn)return pr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(Dn))return pr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Le=li===u}else Le=!0;if(Le){if(void 0!==r.contextId){const Dn=u;if("string"!=typeof r.contextId)return pr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Dn===u}else Le=!0;if(Le){if(void 0!==r.schema){const Dn=u;if("string"!=typeof r.schema)return pr.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Dn===u}else Le=!0;if(Le){if(void 0!==r.tags){let Dn=r.tags;const li=u;if(u===li){if(!Dn||"object"!=typeof Dn||Array.isArray(Dn))return pr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Dn).length<1)return pr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Er in Dn){let qn=Dn[Er];const wr=u,ri=u;let Bi=!1,Li=null;const fi=u;if("string"!=typeof qn){const Dc={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dc]:l.push(Dc),u++}(Pe=fi===u)&&(Bi=!0,Li=0);const gi=u;if("number"!=typeof qn||!isFinite(qn)){const Dc={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Dc]:l.push(Dc),u++}if((Pe=gi===u)&&Bi)Bi=!1,Li=[Li,1];else{Pe&&(Bi=!0,Li=1);const Dc=u;if("boolean"!=typeof qn){const Mr={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Mr]:l.push(Mr),u++}if((Pe=Dc===u)&&Bi)Bi=!1,Li=[Li,2];else{Pe&&(Bi=!0,Li=2);const Mr=u;if(u===Mr)if(qn&&"object"==typeof qn&&!Array.isArray(qn))if(Object.keys(qn).length<1){const Ti={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[Ti]:l.push(Ti),u++}else{const Ti=u;for(const hi in qn)if("startsWith"!==hi){const As={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:hi},message:"must NOT have additional properties"};null===l?l=[As]:l.push(As),u++;break}if(Ti===u&&void 0!==qn.startsWith&&"string"!=typeof qn.startsWith){const hi={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[hi]:l.push(hi),u++}}else{const Ti={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ti]:l.push(Ti),u++}if((Pe=Mr===u)&&Bi)Bi=!1,Li=[Li,3];else{if(Pe){Bi=!0,Li=3;var Xe=!0}const Ti=u;if(u==u)if(qn&&"object"==typeof qn&&!Array.isArray(qn))if(Object.keys(qn).length<1){const Td={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[Td]:l.push(Td),u++}else{const Td=u;for(const Ko in qn)if("gt"!==Ko&&"gte"!==Ko&&"lt"!==Ko&&"lte"!==Ko){const Vo={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ko},message:"must NOT have additional properties"};null===l?l=[Vo]:l.push(Vo),u++;break}if(Td===u){if(void 0!==qn.gt){const Ko=u,Vo=u,ta=u;if(qn&&"object"==typeof qn&&!Array.isArray(qn)){let qo;if(void 0===qn.gte&&(qo="gte")){const _i={};null===l?l=[_i]:l.push(_i),u++}}if(ta===u){const qo={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[qo]:l.push(qo),u++}else u=Vo,null!==l&&(Vo?l.length=Vo:l=null);var Tt=Ko===u}else Tt=!0;if(Tt){if(void 0!==qn.gte){const Ko=u,Vo=u,ta=u;if(qn&&"object"==typeof qn&&!Array.isArray(qn)){let _i;if(void 0===qn.gt&&(_i="gt")){const Qo={};null===l?l=[Qo]:l.push(Qo),u++}}if(ta===u){const _i={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[_i]:l.push(_i),u++}else u=Vo,null!==l&&(Vo?l.length=Vo:l=null);Tt=Ko===u}else Tt=!0;if(Tt){if(void 0!==qn.lt){const Ko=u,Vo=u,ta=u;if(qn&&"object"==typeof qn&&!Array.isArray(qn)){let _i;if(void 0===qn.lte&&(_i="lte")){const Qo={};null===l?l=[Qo]:l.push(Qo),u++}}if(ta===u){const _i={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[_i]:l.push(_i),u++}else u=Vo,null!==l&&(Vo?l.length=Vo:l=null);Tt=Ko===u}else Tt=!0;if(Tt){if(void 0!==qn.lte){const Ko=u,Vo=u,ta=u;if(qn&&"object"==typeof qn&&!Array.isArray(qn)){let _i;if(void 0===qn.lt&&(_i="lt")){const Qo={};null===l?l=[Qo]:l.push(Qo),u++}}if(ta===u){const _i={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[_i]:l.push(_i),u++}else u=Vo,null!==l&&(Vo?l.length=Vo:l=null);Tt=Ko===u}else Tt=!0;if(Tt){if(void 0!==qn.gt){const Ko=u;if("string"!=typeof qn.gt){const Vo={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Vo]:l.push(Vo),u++}var Wt=Ko===u}else Wt=!0;if(Wt){if(void 0!==qn.gte){const Ko=u;if("string"!=typeof qn.gte){const ta={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[ta]:l.push(ta),u++}Wt=Ko===u}else Wt=!0;if(Wt){if(void 0!==qn.lt){const Ko=u;if("string"!=typeof qn.lt){const ta={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[ta]:l.push(ta),u++}Wt=Ko===u}else Wt=!0;if(Wt)if(void 0!==qn.lte){const Ko=u;if("string"!=typeof qn.lte){const ta={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[ta]:l.push(ta),u++}Wt=Ko===u}else Wt=!0}}}}}}}}else{const Td={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Td]:l.push(Td),u++}if((Pe=Ti===u)&&Bi)Bi=!1,Li=[Li,4];else{Pe&&(Bi=!0,Li=4,!0!==Xe&&(Xe=!0));const Td=u;if(u==u)if(qn&&"object"==typeof qn&&!Array.isArray(qn))if(Object.keys(qn).length<1){const ta={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[ta]:l.push(ta),u++}else{const ta=u;for(const qo in qn)if("gt"!==qo&&"gte"!==qo&&"lt"!==qo&&"lte"!==qo){const _i={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qo},message:"must NOT have additional properties"};null===l?l=[_i]:l.push(_i),u++;break}if(ta===u){if(void 0!==qn.gt){const qo=u,_i=u,Qo=u;if(qn&&"object"==typeof qn&&!Array.isArray(qn)){let Gd;if(void 0===qn.gte&&(Gd="gte")){const Ic={};null===l?l=[Ic]:l.push(Ic),u++}}if(Qo===u){const Gd={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Gd]:l.push(Gd),u++}else u=_i,null!==l&&(_i?l.length=_i:l=null);var an=qo===u}else an=!0;if(an){if(void 0!==qn.gte){const qo=u,_i=u,Qo=u;if(qn&&"object"==typeof qn&&!Array.isArray(qn)){let Ic;if(void 0===qn.gt&&(Ic="gt")){const Tc={};null===l?l=[Tc]:l.push(Tc),u++}}if(Qo===u){const Ic={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ic]:l.push(Ic),u++}else u=_i,null!==l&&(_i?l.length=_i:l=null);an=qo===u}else an=!0;if(an){if(void 0!==qn.lt){const qo=u,_i=u,Qo=u;if(qn&&"object"==typeof qn&&!Array.isArray(qn)){let Ic;if(void 0===qn.lte&&(Ic="lte")){const Tc={};null===l?l=[Tc]:l.push(Tc),u++}}if(Qo===u){const Ic={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ic]:l.push(Ic),u++}else u=_i,null!==l&&(_i?l.length=_i:l=null);an=qo===u}else an=!0;if(an){if(void 0!==qn.lte){const qo=u,_i=u,Qo=u;if(qn&&"object"==typeof qn&&!Array.isArray(qn)){let Ic;if(void 0===qn.lt&&(Ic="lt")){const Tc={};null===l?l=[Tc]:l.push(Tc),u++}}if(Qo===u){const Ic={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ic]:l.push(Ic),u++}else u=_i,null!==l&&(_i?l.length=_i:l=null);an=qo===u}else an=!0;if(an){if(void 0!==qn.gt){let qo=qn.gt;const _i=u;if("number"!=typeof qo||!isFinite(qo)){const Qo={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Qo]:l.push(Qo),u++}var Qn=_i===u}else Qn=!0;if(Qn){if(void 0!==qn.gte){let qo=qn.gte;const _i=u;if("number"!=typeof qo||!isFinite(qo)){const Gd={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Gd]:l.push(Gd),u++}Qn=_i===u}else Qn=!0;if(Qn){if(void 0!==qn.lt){let qo=qn.lt;const _i=u;if("number"!=typeof qo||!isFinite(qo)){const Gd={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Gd]:l.push(Gd),u++}Qn=_i===u}else Qn=!0;if(Qn)if(void 0!==qn.lte){let qo=qn.lte;const _i=u;if("number"!=typeof qo||!isFinite(qo)){const Gd={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Gd]:l.push(Gd),u++}Qn=_i===u}else Qn=!0}}}}}}}}else{const ta={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[ta]:l.push(ta),u++}var Pe;(Pe=Td===u)&&Bi?(Bi=!1,Li=[Li,5]):Pe&&(Bi=!0,Li=5,!0!==Xe&&(Xe=!0))}}}}if(!Bi){const Dc={instancePath:t+"/tags/"+Er.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Li},message:"must match exactly one schema in oneOf"};return null===l?l=[Dc]:l.push(Dc),u++,pr.errors=l,!1}if(u=ri,null!==l&&(ri?l.length=ri:l=null),wr!==u)break}}Le=li===u}else Le=!0;if(Le){if(void 0!==r.recordId){const Dn=u;if("string"!=typeof r.recordId)return pr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Dn===u}else Le=!0;if(Le){if(void 0!==r.parentId){const Dn=u;if("string"!=typeof r.parentId)return pr.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Dn===u}else Le=!0;if(Le){if(void 0!==r.published){const Dn=u;if("boolean"!=typeof r.published)return pr.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Le=Dn===u}else Le=!0;if(Le){if(void 0!==r.dataFormat){const Dn=u;if("string"!=typeof r.dataFormat)return pr.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Dn===u}else Le=!0;if(Le){if(void 0!==r.dataSize){let Dn=r.dataSize;const li=u;if(u==u){if(!Dn||"object"!=typeof Dn||Array.isArray(Dn))return pr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Dn).length<1)return pr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const qn=u;for(const wr in Dn)if("gt"!==wr&&"gte"!==wr&&"lt"!==wr&&"lte"!==wr)return pr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wr},message:"must NOT have additional properties"}],!1;if(qn===u){if(void 0!==Dn.gt){const wr=u,ri=u,Bi=u;if(Dn&&"object"==typeof Dn&&!Array.isArray(Dn)){let Li;if(void 0===Dn.gte&&(Li="gte")){const fi={};null===l?l=[fi]:l.push(fi),u++}}if(Bi===u)return pr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ri,null!==l&&(ri?l.length=ri:l=null);var zn=wr===u}else zn=!0;if(zn){if(void 0!==Dn.gte){const wr=u,ri=u,Bi=u;if(Dn&&"object"==typeof Dn&&!Array.isArray(Dn)){let fi;if(void 0===Dn.gt&&(fi="gt")){const gi={};null===l?l=[gi]:l.push(gi),u++}}if(Bi===u)return pr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ri,null!==l&&(ri?l.length=ri:l=null),zn=wr===u}else zn=!0;if(zn){if(void 0!==Dn.lt){const wr=u,ri=u,Bi=u;if(Dn&&"object"==typeof Dn&&!Array.isArray(Dn)){let fi;if(void 0===Dn.lte&&(fi="lte")){const gi={};null===l?l=[gi]:l.push(gi),u++}}if(Bi===u)return pr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ri,null!==l&&(ri?l.length=ri:l=null),zn=wr===u}else zn=!0;if(zn){if(void 0!==Dn.lte){const wr=u,ri=u,Bi=u;if(Dn&&"object"==typeof Dn&&!Array.isArray(Dn)){let fi;if(void 0===Dn.lt&&(fi="lt")){const gi={};null===l?l=[gi]:l.push(gi),u++}}if(Bi===u)return pr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=ri,null!==l&&(ri?l.length=ri:l=null),zn=wr===u}else zn=!0;if(zn){if(void 0!==Dn.gt){let wr=Dn.gt;const ri=u;if("number"!=typeof wr||!isFinite(wr))return pr.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var yr=ri===u}else yr=!0;if(yr){if(void 0!==Dn.gte){let wr=Dn.gte;const ri=u;if("number"!=typeof wr||!isFinite(wr))return pr.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yr=ri===u}else yr=!0;if(yr){if(void 0!==Dn.lt){let wr=Dn.lt;const ri=u;if("number"!=typeof wr||!isFinite(wr))return pr.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yr=ri===u}else yr=!0;if(yr)if(void 0!==Dn.lte){let wr=Dn.lte;const ri=u;if("number"!=typeof wr||!isFinite(wr))return pr.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yr=ri===u}else yr=!0}}}}}}}}}Le=li===u}else Le=!0;if(Le){if(void 0!==r.dataCid){const Dn=u;if("string"!=typeof r.dataCid)return pr.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Dn===u}else Le=!0;if(Le){if(void 0!==r.dateCreated){let Dn=r.dateCreated;const li=u;if(u===li){if(!Dn||"object"!=typeof Dn||Array.isArray(Dn))return pr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Dn).length<1)return pr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Er=u;for(const qn in Dn)if("from"!==qn&&"to"!==qn)return pr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(Er===u){if(void 0!==Dn.from){let qn=Dn.from;const wr=u;if(u==u){if("string"!=typeof qn)return pr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(qn))return pr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Hr=wr===u}else Hr=!0;if(Hr)if(void 0!==Dn.to){let qn=Dn.to;const wr=u;if(u==u){if("string"!=typeof qn)return pr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(qn))return pr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Hr=wr===u}else Hr=!0}}}Le=li===u}else Le=!0;if(Le){if(void 0!==r.datePublished){let Dn=r.datePublished;const li=u;if(u===li){if(!Dn||"object"!=typeof Dn||Array.isArray(Dn))return pr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Dn).length<1)return pr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Er=u;for(const qn in Dn)if("from"!==qn&&"to"!==qn)return pr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(Er===u){if(void 0!==Dn.from){let qn=Dn.from;const wr=u;if(u==u){if("string"!=typeof qn)return pr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(qn))return pr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Ir=wr===u}else Ir=!0;if(Ir)if(void 0!==Dn.to){let qn=Dn.to;const wr=u;if(u==u){if("string"!=typeof qn)return pr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(qn))return pr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Ir=wr===u}else Ir=!0}}}Le=li===u}else Le=!0;if(Le)if(void 0!==r.dateUpdated){let Dn=r.dateUpdated;const li=u;if(u===li){if(!Dn||"object"!=typeof Dn||Array.isArray(Dn))return pr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Dn).length<1)return pr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Er=u;for(const qn in Dn)if("from"!==qn&&"to"!==qn)return pr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qn},message:"must NOT have additional properties"}],!1;if(Er===u){if(void 0!==Dn.from){let qn=Dn.from;const wr=u;if(u==u){if("string"!=typeof qn)return pr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(qn))return pr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var oi=wr===u}else oi=!0;if(oi)if(void 0!==Dn.to){let qn=Dn.to;const wr=u;if(u==u){if("string"!=typeof qn)return pr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(qn))return pr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}oi=wr===u}else oi=!0}}}Le=li===u}else Le=!0}}}}}}}}}}}}}}}}}}}return pr.errors=l,0===u}function ui(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=ui.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return ui.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Le;if(void 0===r.descriptor&&(Le="descriptor"))return ui.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Le},message:"must have required property '"+Le+"'"}],!1;{const Pe=u;for(const Xe in r)if("authorization"!==Xe&&"descriptor"!==Xe)return ui.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(Pe===u){if(void 0!==r.authorization){const Xe=u;Ia(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?Ia.errors:l.concat(Ia.errors),u=l.length);var X=Xe===u}else X=!0;if(X)if(void 0!==r.descriptor){let Xe=r.descriptor;const vt=u;if(u===vt){if(!Xe||"object"!=typeof Xe||Array.isArray(Xe))return ui.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let bt;if(void 0===Xe.interface&&(bt="interface")||void 0===Xe.method&&(bt="method")||void 0===Xe.messageTimestamp&&(bt="messageTimestamp")||void 0===Xe.filter&&(bt="filter"))return ui.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:bt},message:"must have required property '"+bt+"'"}],!1;{const wt=u;for(const Ct in Xe)if("interface"!==Ct&&"method"!==Ct&&"messageTimestamp"!==Ct&&"filter"!==Ct&&"pagination"!==Ct&&"dateSort"!==Ct)return ui.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ct},message:"must NOT have additional properties"}],!1;if(wt===u){if(void 0!==Xe.interface){let Ct=Xe.interface;const Wt=u;if("string"!=typeof Ct)return ui.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Ct)return ui.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ef.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=Wt===u}else N=!0;if(N){if(void 0!==Xe.method){let Ct=Xe.method;const Wt=u;if("string"!=typeof Ct)return ui.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Ct)return ui.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ef.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=Wt===u}else N=!0;if(N){if(void 0!==Xe.messageTimestamp){let Ct=Xe.messageTimestamp;const Wt=u;if(u==u){if("string"!=typeof Ct)return ui.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(Ct))return ui.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=Wt===u}else N=!0;if(N){if(void 0!==Xe.filter){const Ct=u;pr(Xe.filter,{instancePath:t+"/descriptor/filter",parentData:Xe,parentDataProperty:"filter",rootData:p,dynamicAnchors:y})||(l=null===l?pr.errors:l.concat(pr.errors),u=l.length),N=Ct===u}else N=!0;if(N){if(void 0!==Xe.pagination){let Ct=Xe.pagination;const Wt=u;if(u===Wt){if(!Ct||"object"!=typeof Ct||Array.isArray(Ct))return ui.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const an=u;for(const Vt in Ct)if("limit"!==Vt&&"cursor"!==Vt)return ui.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Vt},message:"must NOT have additional properties"}],!1;if(an===u){if(void 0!==Ct.limit){let Vt=Ct.limit;const In=u;if(u===In){if("number"!=typeof Vt||!isFinite(Vt))return ui.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Vt<1||isNaN(Vt))return ui.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var oe=In===u}else oe=!0;if(oe)if(void 0!==Ct.cursor){let Vt=Ct.cursor;const In=u;if(u==u){if(!Vt||"object"!=typeof Vt||Array.isArray(Vt))return ui.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Vt).length<1)return ui.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let sr;if(void 0===Vt.messageCid&&(sr="messageCid")||void 0===Vt.value&&(sr="value"))return ui.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:sr},message:"must have required property '"+sr+"'"}],!1;{const Hn=u;for(const zn in Vt)if("messageCid"!==zn&&"value"!==zn)return ui.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:zn},message:"must NOT have additional properties"}],!1;if(Hn===u){if(void 0!==Vt.messageCid){const zn=u;if("string"!=typeof Vt.messageCid)return ui.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ee=zn===u}else Ee=!0;if(Ee)if(void 0!==Vt.value){let zn=Vt.value;const jn=u;if("string"!=typeof zn&&("number"!=typeof zn||!isFinite(zn)))return ui.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:eh.properties.value.type},message:"must be string,number"}],!1;Ee=jn===u}else Ee=!0}}}}oe=In===u}else oe=!0}}}N=Wt===u}else N=!0;if(N)if(void 0!==Xe.dateSort){let Ct=Xe.dateSort;const Wt=u;if("string"!=typeof Ct)return ui.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==Ct&&"createdDescending"!==Ct&&"publishedAscending"!==Ct&&"publishedDescending"!==Ct)return ui.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:ef.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;N=Wt===u}else N=!0}}}}}}}}X=vt===u}else X=!0}}}}return ui.errors=l,0===u}pr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},ui.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Eg=na,pm={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function na(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=na.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return na.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===r.descriptor&&(oe="descriptor"))return na.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;{const Ee=u;for(const Le in r)if("authorization"!==Le&&"descriptor"!==Le)return na.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties"}],!1;if(Ee===u){if(void 0!==r.authorization){const Le=u;Ia(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?Ia.errors:l.concat(Ia.errors),u=l.length);var X=Le===u}else X=!0;if(X)if(void 0!==r.descriptor){let Le=r.descriptor;const Pe=u;if(u===Pe){if(!Le||"object"!=typeof Le||Array.isArray(Le))return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let vt;if(void 0===Le.interface&&(vt="interface")||void 0===Le.method&&(vt="method")||void 0===Le.messageTimestamp&&(vt="messageTimestamp")||void 0===Le.filter&&(vt="filter"))return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:vt},message:"must have required property '"+vt+"'"}],!1;{const Tt=u;for(const bt in Le)if("interface"!==bt&&"method"!==bt&&"messageTimestamp"!==bt&&"filter"!==bt)return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(Tt===u){if(void 0!==Le.interface){let bt=Le.interface;const wt=u;if("string"!=typeof bt)return na.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==bt)return na.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:pm.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=wt===u}else N=!0;if(N){if(void 0!==Le.method){let bt=Le.method;const wt=u;if("string"!=typeof bt)return na.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==bt)return na.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:pm.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=wt===u}else N=!0;if(N){if(void 0!==Le.messageTimestamp){let bt=Le.messageTimestamp;const wt=u;if(u==u){if("string"!=typeof bt)return na.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(bt))return na.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=wt===u}else N=!0;if(N)if(void 0!==Le.filter){const bt=u;pr(Le.filter,{instancePath:t+"/descriptor/filter",parentData:Le,parentDataProperty:"filter",rootData:p,dynamicAnchors:y})||(l=null===l?pr.errors:l.concat(pr.errors),u=l.length),N=bt===u}else N=!0}}}}}}X=Pe===u}else X=!0}}}}return na.errors=l,0===u}na.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const nh=Je;function Je(r,{instancePath:t="",parentData:n,parentDataProperty:o,rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Je.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),Wr(r,{instancePath:t,parentData:n,parentDataProperty:o,rootData:p,dynamicAnchors:y}))var X=Wr.evaluated.props;else l=null===l?Wr.errors:l.concat(Wr.errors),u=l.length;if(0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Je.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.recordId&&(N="recordId")||void 0===r.authorization&&(N="authorization"))return Je.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;if(!0!==X)for(const oe in r)if(!X||!X[oe])return Je.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:oe},message:"must NOT have unevaluated properties"}],!1}}return Je.errors=l,0===u}Je.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $t=Yc,mt=Wr,Ut=Rn,bn={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Permissions","Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Grant","Revoke","Write"],type:"string"},protocol:{type:"string"},protocolPath:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Rn(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Rn.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Rn.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Rn.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const an=u;for(const Vt in r)if(!Fh.call(bn.properties,Vt))return Rn.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Vt},message:"must NOT have additional properties"}],!1;if(an===u){if(void 0!==r.datePublished){const Vt=u,In=u;let Yn=!1,Qn=null;const sr=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.published&&(Xn="published")){const An={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"};null===l?l=[An]:l.push(An),u++}else if(void 0!==r.published&&!0!==r.published){const An={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:bn.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[An]:l.push(An),u++}}sr===u&&(Yn=!0,Qn=0);const Hn=u,zn=u,jn=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.published&&(Xn="published")){const An={};null===l?l=[An]:l.push(An),u++}}var oe;if(jn===u){const Xn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Xn]:l.push(Xn),u++}else u=zn,null!==l&&(zn?l.length=zn:l=null);if((oe=Hn===u)&&Yn?(Yn=!1,Qn=[Qn,1]):oe&&(Yn=!0,Qn=1),!Yn){const Xn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:Qn},message:"must match exactly one schema in oneOf"};return null===l?l=[Xn]:l.push(Xn),u++,Rn.errors=l,!1}u=In,null!==l&&(In?l.length=In:l=null);var Ee=Vt===u}else Ee=!0;if(Ee){if(void 0!==r.interface){let Vt=r.interface;const In=u;if("string"!=typeof Vt)return Rn.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Permissions"!==Vt&&"Protocols"!==Vt&&"Records"!==Vt)return Rn.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:bn.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var Le=In===u}else Le=!0;if(Le){if(void 0!==r.method){let Vt=r.method;const In=u;if("string"!=typeof Vt)return Rn.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==Vt&&"Delete"!==Vt&&"Grant"!==Vt&&"Revoke"!==Vt&&"Write"!==Vt)return Rn.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:bn.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;Le=In===u}else Le=!0;if(Le){if(void 0!==r.protocol){const Vt=u;if("string"!=typeof r.protocol)return Rn.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Vt===u}else Le=!0;if(Le){if(void 0!==r.protocolPath){const Vt=u;if("string"!=typeof r.protocolPath)return Rn.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Vt===u}else Le=!0;if(Le){if(void 0!==r.recipient){let Vt=r.recipient;const In=u;if(u==u){if("string"!=typeof Vt)return Rn.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(Vt))return Rn.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Le=In===u}else Le=!0;if(Le){if(void 0!==r.contextId){const Vt=u;if("string"!=typeof r.contextId)return Rn.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Vt===u}else Le=!0;if(Le){if(void 0!==r.schema){const Vt=u;if("string"!=typeof r.schema)return Rn.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Vt===u}else Le=!0;if(Le){if(void 0!==r.recordId){const Vt=u;if("string"!=typeof r.recordId)return Rn.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Vt===u}else Le=!0;if(Le){if(void 0!==r.parentId){const Vt=u;if("string"!=typeof r.parentId)return Rn.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Vt===u}else Le=!0;if(Le){if(void 0!==r.dataFormat){const Vt=u;if("string"!=typeof r.dataFormat)return Rn.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Le=Vt===u}else Le=!0;if(Le){if(void 0!==r.dataSize){let Vt=r.dataSize;const In=u;if(u==u){if(!Vt||"object"!=typeof Vt||Array.isArray(Vt))return Rn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Vt).length<1)return Rn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const sr=u;for(const Hn in Vt)if("gt"!==Hn&&"gte"!==Hn&&"lt"!==Hn&&"lte"!==Hn)return Rn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Hn},message:"must NOT have additional properties"}],!1;if(sr===u){if(void 0!==Vt.gt){const Hn=u,zn=u,jn=u;if(Vt&&"object"==typeof Vt&&!Array.isArray(Vt)){let Xn;if(void 0===Vt.gte&&(Xn="gte")){const An={};null===l?l=[An]:l.push(An),u++}}if(jn===u)return Rn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=zn,null!==l&&(zn?l.length=zn:l=null);var Xe=Hn===u}else Xe=!0;if(Xe){if(void 0!==Vt.gte){const Hn=u,zn=u,jn=u;if(Vt&&"object"==typeof Vt&&!Array.isArray(Vt)){let An;if(void 0===Vt.gt&&(An="gt")){const yr={};null===l?l=[yr]:l.push(yr),u++}}if(jn===u)return Rn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=zn,null!==l&&(zn?l.length=zn:l=null),Xe=Hn===u}else Xe=!0;if(Xe){if(void 0!==Vt.lt){const Hn=u,zn=u,jn=u;if(Vt&&"object"==typeof Vt&&!Array.isArray(Vt)){let An;if(void 0===Vt.lte&&(An="lte")){const yr={};null===l?l=[yr]:l.push(yr),u++}}if(jn===u)return Rn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=zn,null!==l&&(zn?l.length=zn:l=null),Xe=Hn===u}else Xe=!0;if(Xe){if(void 0!==Vt.lte){const Hn=u,zn=u,jn=u;if(Vt&&"object"==typeof Vt&&!Array.isArray(Vt)){let An;if(void 0===Vt.lt&&(An="lt")){const yr={};null===l?l=[yr]:l.push(yr),u++}}if(jn===u)return Rn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=zn,null!==l&&(zn?l.length=zn:l=null),Xe=Hn===u}else Xe=!0;if(Xe){if(void 0!==Vt.gt){let Hn=Vt.gt;const zn=u;if("number"!=typeof Hn||!isFinite(Hn))return Rn.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var wt=zn===u}else wt=!0;if(wt){if(void 0!==Vt.gte){let Hn=Vt.gte;const zn=u;if("number"!=typeof Hn||!isFinite(Hn))return Rn.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;wt=zn===u}else wt=!0;if(wt){if(void 0!==Vt.lt){let Hn=Vt.lt;const zn=u;if("number"!=typeof Hn||!isFinite(Hn))return Rn.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;wt=zn===u}else wt=!0;if(wt)if(void 0!==Vt.lte){let Hn=Vt.lte;const zn=u;if("number"!=typeof Hn||!isFinite(Hn))return Rn.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;wt=zn===u}else wt=!0}}}}}}}}}Le=In===u}else Le=!0;if(Le){if(void 0!==r.dateCreated){let Vt=r.dateCreated;const In=u;if(u===In){if(!Vt||"object"!=typeof Vt||Array.isArray(Vt))return Rn.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Vt).length<1)return Rn.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Qn=u;for(const sr in Vt)if("from"!==sr&&"to"!==sr)return Rn.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:sr},message:"must NOT have additional properties"}],!1;if(Qn===u){if(void 0!==Vt.from){let sr=Vt.from;const Hn=u;if(u==u){if("string"!=typeof sr)return Rn.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(sr))return Rn.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Ct=Hn===u}else Ct=!0;if(Ct)if(void 0!==Vt.to){let sr=Vt.to;const Hn=u;if(u==u){if("string"!=typeof sr)return Rn.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(sr))return Rn.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Ct=Hn===u}else Ct=!0}}}Le=In===u}else Le=!0;if(Le){if(void 0!==r.datePublished){let Vt=r.datePublished;const In=u;if(u===In){if(!Vt||"object"!=typeof Vt||Array.isArray(Vt))return Rn.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Vt).length<1)return Rn.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Qn=u;for(const sr in Vt)if("from"!==sr&&"to"!==sr)return Rn.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:sr},message:"must NOT have additional properties"}],!1;if(Qn===u){if(void 0!==Vt.from){let sr=Vt.from;const Hn=u;if(u==u){if("string"!=typeof sr)return Rn.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(sr))return Rn.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Wt=Hn===u}else Wt=!0;if(Wt)if(void 0!==Vt.to){let sr=Vt.to;const Hn=u;if(u==u){if("string"!=typeof sr)return Rn.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(sr))return Rn.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Wt=Hn===u}else Wt=!0}}}Le=In===u}else Le=!0;if(Le)if(void 0!==r.dateUpdated){let Vt=r.dateUpdated;const In=u;if(u===In){if(!Vt||"object"!=typeof Vt||Array.isArray(Vt))return Rn.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Vt).length<1)return Rn.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Qn=u;for(const sr in Vt)if("from"!==sr&&"to"!==sr)return Rn.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:sr},message:"must NOT have additional properties"}],!1;if(Qn===u){if(void 0!==Vt.from){let sr=Vt.from;const Hn=u;if(u==u){if("string"!=typeof sr)return Rn.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(sr))return Rn.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Jt=Hn===u}else Jt=!0;if(Jt)if(void 0!==Vt.to){let sr=Vt.to;const Hn=u;if(u==u){if("string"!=typeof sr)return Rn.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(sr))return Rn.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Jt=Hn===u}else Jt=!0}}}Le=In===u}else Le=!0}}}}}}}}}}}}}}}}return Rn.errors=l,0===u}Rn.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const fr=Pi,Jr={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function Pi(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Pi.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Pi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ee;if(void 0===r.authorization&&(Ee="authorization")||void 0===r.descriptor&&(Ee="descriptor"))return Pi.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ee},message:"must have required property '"+Ee+"'"}],!1;{const Le=u;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return Pi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Le===u){if(void 0!==r.authorization){const Pe=u;yi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?yi.errors:l.concat(yi.errors),u=l.length);var X=Pe===u}else X=!0;if(X)if(void 0!==r.descriptor){let Pe=r.descriptor;const Xe=u;if(u===Xe){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return Pi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Tt;if(void 0===Pe.interface&&(Tt="interface")||void 0===Pe.method&&(Tt="method")||void 0===Pe.messageTimestamp&&(Tt="messageTimestamp"))return Pi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Tt},message:"must have required property '"+Tt+"'"}],!1;{const bt=u;for(const wt in Pe)if("interface"!==wt&&"method"!==wt&&"messageTimestamp"!==wt&&"cursor"!==wt)return Pi.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wt},message:"must NOT have additional properties"}],!1;if(bt===u){if(void 0!==Pe.interface){let wt=Pe.interface;const Ct=u;if("string"!=typeof wt)return Pi.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==wt)return Pi.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Jr.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=Ct===u}else N=!0;if(N){if(void 0!==Pe.method){let wt=Pe.method;const Ct=u;if("string"!=typeof wt)return Pi.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==wt)return Pi.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Jr.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=Ct===u}else N=!0;if(N){if(void 0!==Pe.messageTimestamp){const wt=u;if("string"!=typeof Pe.messageTimestamp)return Pi.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;N=wt===u}else N=!0;if(N)if(void 0!==Pe.cursor){let wt=Pe.cursor;const Ct=u;if(u==u){if(!wt||"object"!=typeof wt||Array.isArray(wt))return Pi.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(wt).length<1)return Pi.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let an;if(void 0===wt.messageCid&&(an="messageCid")||void 0===wt.value&&(an="value"))return Pi.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:an},message:"must have required property '"+an+"'"}],!1;{const Vt=u;for(const In in wt)if("messageCid"!==In&&"value"!==In)return Pi.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:In},message:"must NOT have additional properties"}],!1;if(Vt===u){if(void 0!==wt.messageCid){const In=u;if("string"!=typeof wt.messageCid)return Pi.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var oe=In===u}else oe=!0;if(oe)if(void 0!==wt.value){let In=wt.value;const Yn=u;if("string"!=typeof In&&("number"!=typeof In||!isFinite(In)))return Pi.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:eh.properties.value.type},message:"must be string,number"}],!1;oe=Yn===u}else oe=!0}}}}N=Ct===u}else N=!0}}}}}}X=Xe===u}else X=!0}}}}return Pi.errors=l,0===u}Pi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ho=ti,Ro={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",minItems:1,items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function ti(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=ti.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return ti.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Le;if(void 0===r.authorization&&(Le="authorization")||void 0===r.descriptor&&(Le="descriptor"))return ti.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Le},message:"must have required property '"+Le+"'"}],!1;{const Pe=u;for(const Xe in r)if("authorization"!==Xe&&"descriptor"!==Xe)return ti.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(Pe===u){if(void 0!==r.authorization){const Xe=u;yi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?yi.errors:l.concat(yi.errors),u=l.length);var X=Xe===u}else X=!0;if(X)if(void 0!==r.descriptor){let Xe=r.descriptor;const vt=u;if(u===vt){if(!Xe||"object"!=typeof Xe||Array.isArray(Xe))return ti.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let bt;if(void 0===Xe.interface&&(bt="interface")||void 0===Xe.method&&(bt="method")||void 0===Xe.messageTimestamp&&(bt="messageTimestamp")||void 0===Xe.filters&&(bt="filters"))return ti.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:bt},message:"must have required property '"+bt+"'"}],!1;{const wt=u;for(const Ct in Xe)if("interface"!==Ct&&"method"!==Ct&&"messageTimestamp"!==Ct&&"filters"!==Ct&&"cursor"!==Ct)return ti.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ct},message:"must NOT have additional properties"}],!1;if(wt===u){if(void 0!==Xe.interface){let Ct=Xe.interface;const Wt=u;if("string"!=typeof Ct)return ti.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==Ct)return ti.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ro.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=Wt===u}else N=!0;if(N){if(void 0!==Xe.method){let Ct=Xe.method;const Wt=u;if("string"!=typeof Ct)return ti.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Ct)return ti.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ro.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=Wt===u}else N=!0;if(N){if(void 0!==Xe.messageTimestamp){let Ct=Xe.messageTimestamp;const Wt=u;if(u==u){if("string"!=typeof Ct)return ti.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(Ct))return ti.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=Wt===u}else N=!0;if(N){if(void 0!==Xe.filters){let Ct=Xe.filters;const Wt=u;if(u===Wt){if(!Array.isArray(Ct))return ti.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Ct.length<1)return ti.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const an=Ct.length;for(let Vt=0;Vt<an;Vt++){const In=u;if(Rn(Ct[Vt],{instancePath:t+"/descriptor/filters/"+Vt,parentData:Ct,parentDataProperty:Vt,rootData:p,dynamicAnchors:y})||(l=null===l?Rn.errors:l.concat(Rn.errors),u=l.length),In!==u)break}}}N=Wt===u}else N=!0;if(N)if(void 0!==Xe.cursor){let Ct=Xe.cursor;const Wt=u;if(u==u){if(!Ct||"object"!=typeof Ct||Array.isArray(Ct))return ti.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ct).length<1)return ti.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Vt;if(void 0===Ct.messageCid&&(Vt="messageCid")||void 0===Ct.value&&(Vt="value"))return ti.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Vt},message:"must have required property '"+Vt+"'"}],!1;{const In=u;for(const Yn in Ct)if("messageCid"!==Yn&&"value"!==Yn)return ti.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Yn},message:"must NOT have additional properties"}],!1;if(In===u){if(void 0!==Ct.messageCid){const Yn=u;if("string"!=typeof Ct.messageCid)return ti.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ee=Yn===u}else Ee=!0;if(Ee)if(void 0!==Ct.value){let Yn=Ct.value;const Qn=u;if("string"!=typeof Yn&&("number"!=typeof Yn||!isFinite(Yn)))return ti.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:eh.properties.value.type},message:"must be string,number"}],!1;Ee=Qn===u}else Ee=!0}}}}N=Wt===u}else N=!0}}}}}}}X=vt===u}else X=!0}}}}return ti.errors=l,0===u}ti.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Us=To,Wo={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}}}}}};function To(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=To.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return To.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ee;if(void 0===r.descriptor&&(Ee="descriptor")||void 0===r.authorization&&(Ee="authorization"))return To.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ee},message:"must have required property '"+Ee+"'"}],!1;{const Le=u;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return To.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Le===u){if(void 0!==r.authorization){const Pe=u;yi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?yi.errors:l.concat(yi.errors),u=l.length);var X=Pe===u}else X=!0;if(X)if(void 0!==r.descriptor){let Pe=r.descriptor;const Xe=u;if(u===Xe){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return To.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Tt;if(void 0===Pe.interface&&(Tt="interface")||void 0===Pe.method&&(Tt="method")||void 0===Pe.messageTimestamp&&(Tt="messageTimestamp")||void 0===Pe.filters&&(Tt="filters"))return To.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Tt},message:"must have required property '"+Tt+"'"}],!1;{const bt=u;for(const wt in Pe)if("interface"!==wt&&"method"!==wt&&"messageTimestamp"!==wt&&"filters"!==wt)return To.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wt},message:"must NOT have additional properties"}],!1;if(bt===u){if(void 0!==Pe.interface){let wt=Pe.interface;const Ct=u;if("string"!=typeof wt)return To.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==wt)return To.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Wo.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=Ct===u}else N=!0;if(N){if(void 0!==Pe.method){let wt=Pe.method;const Ct=u;if("string"!=typeof wt)return To.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==wt)return To.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Wo.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=Ct===u}else N=!0;if(N){if(void 0!==Pe.messageTimestamp){const wt=u;if("string"!=typeof Pe.messageTimestamp)return To.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;N=wt===u}else N=!0;if(N)if(void 0!==Pe.filters){let wt=Pe.filters;const Ct=u;if(u===Ct){if(!Array.isArray(wt))return To.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Jt=wt.length;for(let an=0;an<Jt;an++){const Vt=u;if(Rn(wt[an],{instancePath:t+"/descriptor/filters/"+an,parentData:wt,parentDataProperty:an,rootData:p,dynamicAnchors:y})||(l=null===l?Rn.errors:l.concat(Rn.errors),u=l.length),Vt!==u)break}}}N=Ct===u}else N=!0}}}}}}X=Xe===u}else X=!0}}}}return To.errors=l,0===u}To.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const cc=ha;function ha(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=ha.evaluated;return J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(ha.errors=null,!0):(ha.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}ha.evaluated={dynamicProps:!1,dynamicItems:!1};const Pc=fo;function fo(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=fo.evaluated;J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0);const X=u;let N=!1,oe=null;const Ee=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Wt;if(void 0===r.crv&&(Wt="crv")||void 0===r.x&&(Wt="x")){const Jt={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:Wt},message:"must have required property '"+Wt+"'"};null===l?l=[Jt]:l.push(Jt),u++}else{if(void 0!==r.kty){const Jt=u;if("EC"!==r.kty){const an={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===l?l=[an]:l.push(an),u++}var Le=Jt===u}else Le=!0;if(Le){if(void 0!==r.crv){const Jt=u;if("string"!=typeof r.crv){const Vt={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Vt]:l.push(Vt),u++}Le=Jt===u}else Le=!0;if(Le){if(void 0!==r.x){const Jt=u;if("string"!=typeof r.x){const Vt={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Vt]:l.push(Vt),u++}Le=Jt===u}else Le=!0;if(Le){if(void 0!==r.y){const Jt=u;if("string"!=typeof r.y){const Vt={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Vt]:l.push(Vt),u++}Le=Jt===u}else Le=!0;if(Le)if(void 0!==r.d){const Jt=u;if("string"!=typeof r.d){const Vt={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Vt]:l.push(Vt),u++}Le=Jt===u}else Le=!0}}}}}if(Tt=Ee===u){N=!0,oe=0;var Pe={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const Xe=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Wt;if(void 0===r.crv&&(Wt="crv")||void 0===r.x&&(Wt="x")){const Jt={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:Wt},message:"must have required property '"+Wt+"'"};null===l?l=[Jt]:l.push(Jt),u++}else{if(void 0!==r.kty){const Jt=u;if("OKP"!==r.kty){const an={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===l?l=[an]:l.push(an),u++}var vt=Jt===u}else vt=!0;if(vt){if(void 0!==r.crv){const Jt=u;if("string"!=typeof r.crv){const Vt={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Vt]:l.push(Vt),u++}vt=Jt===u}else vt=!0;if(vt){if(void 0!==r.x){const Jt=u;if("string"!=typeof r.x){const Vt={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Vt]:l.push(Vt),u++}vt=Jt===u}else vt=!0;if(vt)if(void 0!==r.d){const Jt=u;if("string"!=typeof r.d){const Vt={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Vt]:l.push(Vt),u++}vt=Jt===u}else vt=!0}}}}if((Tt=Xe===u)&&N)N=!1,oe=[oe,1];else{Tt&&(N=!0,oe=1,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.crv=!0,Pe.x=!0,Pe.d=!0));const Wt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let an;if(void 0===r.n&&(an="n")||void 0===r.e&&(an="e")){const Vt={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:an},message:"must have required property '"+an+"'"};null===l?l=[Vt]:l.push(Vt),u++}else{if(void 0!==r.kty){const Vt=u;if("RSA"!==r.kty){const In={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===l?l=[In]:l.push(In),u++}var bt=Vt===u}else bt=!0;if(bt){if(void 0!==r.n){const Vt=u;if("string"!=typeof r.n){const Yn={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),u++}bt=Vt===u}else bt=!0;if(bt){if(void 0!==r.e){const Vt=u;if("string"!=typeof r.e){const Yn={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),u++}bt=Vt===u}else bt=!0;if(bt){if(void 0!==r.d){const Vt=u;if("string"!=typeof r.d){const Yn={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),u++}bt=Vt===u}else bt=!0;if(bt){if(void 0!==r.p){const Vt=u;if("string"!=typeof r.p){const Yn={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),u++}bt=Vt===u}else bt=!0;if(bt){if(void 0!==r.q){const Vt=u;if("string"!=typeof r.q){const Yn={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),u++}bt=Vt===u}else bt=!0;if(bt){if(void 0!==r.dp){const Vt=u;if("string"!=typeof r.dp){const Yn={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),u++}bt=Vt===u}else bt=!0;if(bt){if(void 0!==r.dq){const Vt=u;if("string"!=typeof r.dq){const Yn={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),u++}bt=Vt===u}else bt=!0;if(bt){if(void 0!==r.qi){const Vt=u;if("string"!=typeof r.qi){const Yn={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),u++}bt=Vt===u}else bt=!0;if(bt)if(void 0!==r.oth){let Vt=r.oth;const In=u;if(!Vt||"object"!=typeof Vt||Array.isArray(Vt)){const Qn={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0}}}}}}}}}}if((Tt=Wt===u)&&N)N=!1,oe=[oe,2];else{Tt&&(N=!0,oe=2,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.n=!0,Pe.e=!0,Pe.d=!0,Pe.p=!0,Pe.q=!0,Pe.dp=!0,Pe.dq=!0,Pe.qi=!0,Pe.oth=!0));const an=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let In;if(void 0===r.k&&(In="k")){const Yn={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:In},message:"must have required property '"+In+"'"};null===l?l=[Yn]:l.push(Yn),u++}else{if(void 0!==r.kty){const Yn=u;if("oct"!==r.kty){const Qn={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===l?l=[Qn]:l.push(Qn),u++}var wt=Yn===u}else wt=!0;if(wt)if(void 0!==r.k){const Yn=u;if("string"!=typeof r.k){const sr={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[sr]:l.push(sr),u++}wt=Yn===u}else wt=!0}}var Tt;(Tt=an===u)&&N?(N=!1,oe=[oe,3]):Tt&&(N=!0,oe=3,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.k=!0))}}if(!N){const Wt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:oe},message:"must match exactly one schema in oneOf"};return null===l?l=[Wt]:l.push(Wt),u++,fo.errors=l,!1}if(u=X,null!==l&&(X?l.length=X:l=null),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return fo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Wt;if(void 0===r.kty&&(Wt="kty"))return fo.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Wt},message:"must have required property '"+Wt+"'"}],!1;if(!0!==Pe&&((Pe=Pe||{}).alg=!0,Pe.kid=!0,Pe.kty=!0,Pe.crv=!0,Pe.use=!0,Pe.key_ops=!0,Pe.x5u=!0,Pe.x5c=!0,Pe.x5t=!0,Pe["x5t#S256"]=!0),void 0!==r.alg){const Jt=u;if("string"!=typeof r.alg)return fo.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ct=Jt===u}else Ct=!0;if(Ct){if(void 0!==r.kid){const Jt=u;if("string"!=typeof r.kid)return fo.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ct=Jt===u}else Ct=!0;if(Ct){if(void 0!==r.kty){let Jt=r.kty;const an=u;if("EC"!==Jt&&"RSA"!==Jt&&"oct"!==Jt&&"OKP"!==Jt)return fo.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:hm.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Ct=an===u}else Ct=!0;if(Ct){if(void 0!==r.crv){const Jt=u;if("string"!=typeof r.crv)return fo.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ct=Jt===u}else Ct=!0;if(Ct){if(void 0!==r.use){const Jt=u;if("string"!=typeof r.use)return fo.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ct=Jt===u}else Ct=!0;if(Ct){if(void 0!==r.key_ops){const Jt=u;if("string"!=typeof r.key_ops)return fo.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ct=Jt===u}else Ct=!0;if(Ct){if(void 0!==r.x5u){const Jt=u;if("string"!=typeof r.x5u)return fo.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ct=Jt===u}else Ct=!0;if(Ct){if(void 0!==r.x5c){const Jt=u;if("string"!=typeof r.x5c)return fo.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ct=Jt===u}else Ct=!0;if(Ct){if(void 0!==r.x5t){const Jt=u;if("string"!=typeof r.x5t)return fo.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ct=Jt===u}else Ct=!0;if(Ct)if(void 0!==r["x5t#S256"]){const Jt=u;if("string"!=typeof r["x5t#S256"])return fo.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ct=Jt===u}else Ct=!0}}}}}}}}}}return fo.errors=l,J.props=Pe,0===u}fo.evaluated={dynamicProps:!0,dynamicItems:!1};const Pd=vo,ei=Ks,lu={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function Ks(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Ks.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ks.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.id&&(N="id")||void 0===r.type&&(N="type")||void 0===r.controller&&(N="controller")||void 0===r.publicKeyJwk&&(N="publicKeyJwk"))return Ks.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=u;for(const Ee in r)if("id"!==Ee&&"type"!==Ee&&"controller"!==Ee&&"publicKeyJwk"!==Ee)return Ks.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(oe===u){if(void 0!==r.id){const Ee=u;if("string"!=typeof r.id)return Ks.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=Ee===u}else X=!0;if(X){if(void 0!==r.type){let Ee=r.type;const Le=u;if("JsonWebKey"!==Ee&&"JsonWebKey2020"!==Ee)return Ks.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:lu.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;X=Le===u}else X=!0;if(X){if(void 0!==r.controller){let Ee=r.controller;const Le=u;if(u==u){if("string"!=typeof Ee)return Ks.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(Ee))return Ks.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}X=Le===u}else X=!0;if(X)if(void 0!==r.publicKeyJwk){const Ee=u;No(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:p,dynamicAnchors:y})||(l=null===l?No.errors:l.concat(No.errors),u=l.length),X=Ee===u}else X=!0}}}}}}return Ks.errors=l,0===u}Ks.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $h=Hs,Lv={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function Hs(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Hs.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Hs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ee;if(void 0===r.authorization&&(Ee="authorization")||void 0===r.descriptor&&(Ee="descriptor"))return Hs.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ee},message:"must have required property '"+Ee+"'"}],!1;{const Le=u;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return Hs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Le===u){if(void 0!==r.authorization){const Pe=u;yi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?yi.errors:l.concat(yi.errors),u=l.length);var X=Pe===u}else X=!0;if(X)if(void 0!==r.descriptor){let Pe=r.descriptor;const Xe=u;if(u===Xe){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Tt;if(void 0===Pe.interface&&(Tt="interface")||void 0===Pe.method&&(Tt="method")||void 0===Pe.messageTimestamp&&(Tt="messageTimestamp"))return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Tt},message:"must have required property '"+Tt+"'"}],!1;{const bt=u;for(const wt in Pe)if("interface"!==wt&&"method"!==wt&&"messageTimestamp"!==wt&&"messageCids"!==wt)return Hs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wt},message:"must NOT have additional properties"}],!1;if(bt===u){if(void 0!==Pe.interface){let wt=Pe.interface;const Ct=u;if("string"!=typeof wt)return Hs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==wt)return Hs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Lv.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=Ct===u}else N=!0;if(N){if(void 0!==Pe.method){let wt=Pe.method;const Ct=u;if("string"!=typeof wt)return Hs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==wt)return Hs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Lv.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=Ct===u}else N=!0;if(N){if(void 0!==Pe.messageTimestamp){let wt=Pe.messageTimestamp;const Ct=u;if(u==u){if("string"!=typeof wt)return Hs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(wt))return Hs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=Ct===u}else N=!0;if(N)if(void 0!==Pe.messageCids){let wt=Pe.messageCids;const Ct=u;if(u===Ct){if(!Array.isArray(wt))return Hs.errors=[{instancePath:t+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(wt.length<1)return Hs.errors=[{instancePath:t+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Jt=wt.length;for(let an=0;an<Jt;an++){const Vt=u;if("string"!=typeof wt[an])return Hs.errors=[{instancePath:t+"/descriptor/messageCids/"+an,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Vt!==u)break}}}N=Ct===u}else N=!0}}}}}}X=Xe===u}else X=!0}}}}return Hs.errors=l,0===u}Hs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Uv=dc;function dc(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=dc.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return dc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return dc.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Xe=u;for(const vt in r)if("gt"!==vt&&"gte"!==vt&&"lt"!==vt&&"lte"!==vt)return dc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:vt},message:"must NOT have additional properties"}],!1;if(Xe===u){if(void 0!==r.gt){const vt=u,Tt=u,bt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let wt;if(void 0===r.gte&&(wt="gte")){const Ct={};null===l?l=[Ct]:l.push(Ct),u++}}if(bt===u)return dc.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Tt,null!==l&&(Tt?l.length=Tt:l=null);var N=vt===u}else N=!0;if(N){if(void 0!==r.gte){const vt=u,Tt=u,bt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ct;if(void 0===r.gt&&(Ct="gt")){const Wt={};null===l?l=[Wt]:l.push(Wt),u++}}if(bt===u)return dc.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Tt,null!==l&&(Tt?l.length=Tt:l=null),N=vt===u}else N=!0;if(N){if(void 0!==r.lt){const vt=u,Tt=u,bt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ct;if(void 0===r.lte&&(Ct="lte")){const Wt={};null===l?l=[Wt]:l.push(Wt),u++}}if(bt===u)return dc.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Tt,null!==l&&(Tt?l.length=Tt:l=null),N=vt===u}else N=!0;if(N){if(void 0!==r.lte){const vt=u,Tt=u,bt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ct;if(void 0===r.lt&&(Ct="lt")){const Wt={};null===l?l=[Wt]:l.push(Wt),u++}}if(bt===u)return dc.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Tt,null!==l&&(Tt?l.length=Tt:l=null),N=vt===u}else N=!0;if(N){if(void 0!==r.gt){let vt=r.gt;const Tt=u;if("number"!=typeof vt||!isFinite(vt))return dc.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Pe=Tt===u}else Pe=!0;if(Pe){if(void 0!==r.gte){let vt=r.gte;const Tt=u;if("number"!=typeof vt||!isFinite(vt))return dc.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=Tt===u}else Pe=!0;if(Pe){if(void 0!==r.lt){let vt=r.lt;const Tt=u;if("number"!=typeof vt||!isFinite(vt))return dc.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=Tt===u}else Pe=!0;if(Pe)if(void 0!==r.lte){let vt=r.lte;const Tt=u;if("number"!=typeof vt||!isFinite(vt))return dc.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Pe=Tt===u}else Pe=!0}}}}}}}}}return dc.errors=l,0===u}dc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Kh=El;function El(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=El.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return El.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return El.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let N;if(void 0===r.messageCid&&(N="messageCid")||void 0===r.value&&(N="value"))return El.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=0;for(const Ee in r)if("messageCid"!==Ee&&"value"!==Ee)return El.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(0===oe){if(void 0!==r.messageCid){const Ee=0;if("string"!=typeof r.messageCid)return El.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=0===Ee}else X=!0;if(X)if(void 0!==r.value){let Ee=r.value;const Le=0;if("string"!=typeof Ee&&("number"!=typeof Ee||!isFinite(Ee)))return El.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:eh.properties.value.type},message:"must be string,number"}],!1;X=0===Le}else X=!0}}}return El.errors=null,!0}El.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const xg=Ta,Yd={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function Vh(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Vh.evaluated;J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0);const X=u;let N=!1,oe=null;const Ee=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.interface){const Vt=u;if("Protocols"!==r.interface){const In={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===l?l=[In]:l.push(In),u++}var Pe=Vt===u}else Pe=!0;if(Pe)if(void 0!==r.method){const Vt=u;if("Query"!==r.method){const Yn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Yn]:l.push(Yn),u++}Pe=Vt===u}else Pe=!0}else{const Vt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Vt]:l.push(Vt),u++}if(wt=Ee===u){N=!0,oe=0;var Xe={interface:!0,method:!0}}const vt=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Vt;if(void 0===r.interface&&(Vt="interface")||void 0===r.method&&(Vt="method")){const In={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Vt},message:"must have required property '"+Vt+"'"};null===l?l=[In]:l.push(In),u++}else{if(void 0!==r.interface){const In=u;if("Records"!==r.interface){const Yn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Yn]:l.push(Yn),u++}var bt=In===u}else bt=!0;if(bt){if(void 0!==r.method){const In=u;if("Read"!==r.method){const Qn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0;if(bt){if(void 0!==r.schema){const In=u;if("string"!=typeof r.schema){const Qn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0;if(bt){if(void 0!==r.protocol){const In=u;if("string"!=typeof r.protocol){const Qn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0;if(bt){if(void 0!==r.contextId){const In=u;if("string"!=typeof r.contextId){const Qn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0;if(bt)if(void 0!==r.protocolPath){const In=u;if("string"!=typeof r.protocolPath){const Qn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0}}}}}}else{const Vt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Vt]:l.push(Vt),u++}if((wt=vt===u)&&N)N=!1,oe=[oe,1];else{wt&&(N=!0,oe=1,!0!==Xe&&((Xe=Xe||{}).interface=!0,Xe.method=!0,Xe.schema=!0,Xe.protocol=!0,Xe.contextId=!0,Xe.protocolPath=!0));const Vt=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Qn;if(void 0===r.interface&&(Qn="interface")||void 0===r.method&&(Qn="method")){const sr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:Qn},message:"must have required property '"+Qn+"'"};null===l?l=[sr]:l.push(sr),u++}else{if(void 0!==r.interface){const sr=u;if("Records"!==r.interface){const Hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Hn]:l.push(Hn),u++}var Ct=sr===u}else Ct=!0;if(Ct){if(void 0!==r.method){const sr=u;if("Delete"!==r.method){const zn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===l?l=[zn]:l.push(zn),u++}Ct=sr===u}else Ct=!0;if(Ct){if(void 0!==r.protocol){const sr=u;if("string"!=typeof r.protocol){const zn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[zn]:l.push(zn),u++}Ct=sr===u}else Ct=!0;if(Ct)if(void 0!==r.schema){const sr=u;if("string"!=typeof r.schema){const zn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[zn]:l.push(zn),u++}Ct=sr===u}else Ct=!0}}}}else{const Qn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Qn]:l.push(Qn),u++}if((wt=Vt===u)&&N)N=!1,oe=[oe,2];else{wt&&(N=!0,oe=2,!0!==Xe&&((Xe=Xe||{}).interface=!0,Xe.method=!0,Xe.protocol=!0,Xe.schema=!0));const Qn=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let zn;if(void 0===r.interface&&(zn="interface")||void 0===r.method&&(zn="method")){const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:zn},message:"must have required property '"+zn+"'"};null===l?l=[jn]:l.push(jn),u++}else{if(void 0!==r.interface){const jn=u;if("Records"!==r.interface){const Xn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),u++}var Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.method){const jn=u;if("Write"!==r.method){const An={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===l?l=[An]:l.push(An),u++}Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.schema){const jn=u;if("string"!=typeof r.schema){const An={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.protocol){const jn=u;if("string"!=typeof r.protocol){const An={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.contextId){const jn=u;if("string"!=typeof r.contextId){const An={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Wt=jn===u}else Wt=!0;if(Wt)if(void 0!==r.protocolPath){const jn=u;if("string"!=typeof r.protocolPath){const An={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Wt=jn===u}else Wt=!0}}}}}}else{const zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[zn]:l.push(zn),u++}if((wt=Qn===u)&&N)N=!1,oe=[oe,3];else{wt&&(N=!0,oe=3,!0!==Xe&&((Xe=Xe||{}).interface=!0,Xe.method=!0,Xe.schema=!0,Xe.protocol=!0,Xe.contextId=!0,Xe.protocolPath=!0));const zn=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let An;if(void 0===r.interface&&(An="interface")||void 0===r.method&&(An="method")){const yr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:An},message:"must have required property '"+An+"'"};null===l?l=[yr]:l.push(yr),u++}else{if(void 0!==r.interface){const yr=u;if("Records"!==r.interface){const Hr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Hr]:l.push(Hr),u++}var Jt=yr===u}else Jt=!0;if(Jt){if(void 0!==r.method){const yr=u;if("Query"!==r.method){const Ir={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Ir]:l.push(Ir),u++}Jt=yr===u}else Jt=!0;if(Jt)if(void 0!==r.protocol){const yr=u;if("string"!=typeof r.protocol){const Ir={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ir]:l.push(Ir),u++}Jt=yr===u}else Jt=!0}}}else{const An={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[An]:l.push(An),u++}if((wt=zn===u)&&N)N=!1,oe=[oe,4];else{wt&&(N=!0,oe=4,!0!==Xe&&((Xe=Xe||{}).interface=!0,Xe.method=!0,Xe.protocol=!0));const An=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Ir;if(void 0===r.interface&&(Ir="interface")||void 0===r.method&&(Ir="method")){const oi={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Ir},message:"must have required property '"+Ir+"'"};null===l?l=[oi]:l.push(oi),u++}else{if(void 0!==r.interface){const oi=u;if("Records"!==r.interface){const ro={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[ro]:l.push(ro),u++}var an=oi===u}else an=!0;if(an){if(void 0!==r.method){const oi=u;if("Subscribe"!==r.method){const Dn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===l?l=[Dn]:l.push(Dn),u++}an=oi===u}else an=!0;if(an)if(void 0!==r.protocol){const oi=u;if("string"!=typeof r.protocol){const Dn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),u++}an=oi===u}else an=!0}}}else{const Ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ir]:l.push(Ir),u++}var wt;(wt=An===u)&&N?(N=!1,oe=[oe,5]):wt&&(N=!0,oe=5,!0!==Xe&&((Xe=Xe||{}).interface=!0,Xe.method=!0,Xe.protocol=!0))}}}}if(!N){const Vt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:oe},message:"must match exactly one schema in oneOf"};return null===l?l=[Vt]:l.push(Vt),u++,Vh.errors=l,!1}return u=X,null!==l&&(X?l.length=X:l=null),Vh.errors=l,J.props=Xe,0===u}function Ta(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Ta.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Ta.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.dateExpires&&(N="dateExpires")||void 0===r.scope&&(N="scope"))return Ta.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=u;for(const Ee in r)if("description"!==Ee&&"dateExpires"!==Ee&&"requestId"!==Ee&&"delegated"!==Ee&&"scope"!==Ee&&"conditions"!==Ee)return Ta.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(oe===u){if(void 0!==r.description){const Ee=u;if("string"!=typeof r.description)return Ta.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=Ee===u}else X=!0;if(X){if(void 0!==r.dateExpires){let Ee=r.dateExpires;const Le=u;if(u==u){if("string"!=typeof Ee)return Ta.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(Ee))return Ta.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}X=Le===u}else X=!0;if(X){if(void 0!==r.requestId){const Ee=u;if("string"!=typeof r.requestId)return Ta.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=Ee===u}else X=!0;if(X){if(void 0!==r.delegated){const Ee=u;if("boolean"!=typeof r.delegated)return Ta.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;X=Ee===u}else X=!0;if(X){if(void 0!==r.scope){const Ee=u;Vh(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:p,dynamicAnchors:y})||(l=null===l?Vh.errors:l.concat(Vh.errors),u=l.length),X=Ee===u}else X=!0;if(X)if(void 0!==r.conditions){let Ee=r.conditions;const Le=u;if(u==u){if(!Ee||"object"!=typeof Ee||Array.isArray(Ee))return Ta.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const vt=u;for(const Tt in Ee)if("publication"!==Tt)return Ta.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tt},message:"must NOT have additional properties"}],!1;if(vt===u&&void 0!==Ee.publication){let Tt=Ee.publication;if("string"!=typeof Tt)return Ta.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==Tt&&"Prohibited"!==Tt)return Ta.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Yd.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}X=Le===u}else X=!0}}}}}}}}return Ta.errors=l,0===u}Vh.evaluated={dynamicProps:!0,dynamicItems:!1},Ta.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const f1=Aa;function xl(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=xl.evaluated;J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0);const X=u;let N=!1,oe=null;const Ee=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.interface){const Vt=u;if("Protocols"!==r.interface){const In={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===l?l=[In]:l.push(In),u++}var Pe=Vt===u}else Pe=!0;if(Pe)if(void 0!==r.method){const Vt=u;if("Query"!==r.method){const Yn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Yn]:l.push(Yn),u++}Pe=Vt===u}else Pe=!0}else{const Vt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Vt]:l.push(Vt),u++}if(wt=Ee===u){N=!0,oe=0;var Xe={interface:!0,method:!0}}const vt=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Vt;if(void 0===r.interface&&(Vt="interface")||void 0===r.method&&(Vt="method")){const In={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Vt},message:"must have required property '"+Vt+"'"};null===l?l=[In]:l.push(In),u++}else{if(void 0!==r.interface){const In=u;if("Records"!==r.interface){const Yn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Yn]:l.push(Yn),u++}var bt=In===u}else bt=!0;if(bt){if(void 0!==r.method){const In=u;if("Read"!==r.method){const Qn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0;if(bt){if(void 0!==r.schema){const In=u;if("string"!=typeof r.schema){const Qn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0;if(bt){if(void 0!==r.protocol){const In=u;if("string"!=typeof r.protocol){const Qn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0;if(bt){if(void 0!==r.contextId){const In=u;if("string"!=typeof r.contextId){const Qn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0;if(bt)if(void 0!==r.protocolPath){const In=u;if("string"!=typeof r.protocolPath){const Qn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Qn]:l.push(Qn),u++}bt=In===u}else bt=!0}}}}}}else{const Vt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Vt]:l.push(Vt),u++}if((wt=vt===u)&&N)N=!1,oe=[oe,1];else{wt&&(N=!0,oe=1,!0!==Xe&&((Xe=Xe||{}).interface=!0,Xe.method=!0,Xe.schema=!0,Xe.protocol=!0,Xe.contextId=!0,Xe.protocolPath=!0));const Vt=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Qn;if(void 0===r.interface&&(Qn="interface")||void 0===r.method&&(Qn="method")){const sr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:Qn},message:"must have required property '"+Qn+"'"};null===l?l=[sr]:l.push(sr),u++}else{if(void 0!==r.interface){const sr=u;if("Records"!==r.interface){const Hn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Hn]:l.push(Hn),u++}var Ct=sr===u}else Ct=!0;if(Ct){if(void 0!==r.method){const sr=u;if("Delete"!==r.method){const zn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===l?l=[zn]:l.push(zn),u++}Ct=sr===u}else Ct=!0;if(Ct){if(void 0!==r.protocol){const sr=u;if("string"!=typeof r.protocol){const zn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[zn]:l.push(zn),u++}Ct=sr===u}else Ct=!0;if(Ct)if(void 0!==r.schema){const sr=u;if("string"!=typeof r.schema){const zn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[zn]:l.push(zn),u++}Ct=sr===u}else Ct=!0}}}}else{const Qn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Qn]:l.push(Qn),u++}if((wt=Vt===u)&&N)N=!1,oe=[oe,2];else{wt&&(N=!0,oe=2,!0!==Xe&&((Xe=Xe||{}).interface=!0,Xe.method=!0,Xe.protocol=!0,Xe.schema=!0));const Qn=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let zn;if(void 0===r.interface&&(zn="interface")||void 0===r.method&&(zn="method")){const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:zn},message:"must have required property '"+zn+"'"};null===l?l=[jn]:l.push(jn),u++}else{if(void 0!==r.interface){const jn=u;if("Records"!==r.interface){const Xn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),u++}var Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.method){const jn=u;if("Write"!==r.method){const An={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===l?l=[An]:l.push(An),u++}Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.schema){const jn=u;if("string"!=typeof r.schema){const An={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.protocol){const jn=u;if("string"!=typeof r.protocol){const An={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Wt=jn===u}else Wt=!0;if(Wt){if(void 0!==r.contextId){const jn=u;if("string"!=typeof r.contextId){const An={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Wt=jn===u}else Wt=!0;if(Wt)if(void 0!==r.protocolPath){const jn=u;if("string"!=typeof r.protocolPath){const An={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[An]:l.push(An),u++}Wt=jn===u}else Wt=!0}}}}}}else{const zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[zn]:l.push(zn),u++}if((wt=Qn===u)&&N)N=!1,oe=[oe,3];else{wt&&(N=!0,oe=3,!0!==Xe&&((Xe=Xe||{}).interface=!0,Xe.method=!0,Xe.schema=!0,Xe.protocol=!0,Xe.contextId=!0,Xe.protocolPath=!0));const zn=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let An;if(void 0===r.interface&&(An="interface")||void 0===r.method&&(An="method")){const yr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:An},message:"must have required property '"+An+"'"};null===l?l=[yr]:l.push(yr),u++}else{if(void 0!==r.interface){const yr=u;if("Records"!==r.interface){const Hr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Hr]:l.push(Hr),u++}var Jt=yr===u}else Jt=!0;if(Jt){if(void 0!==r.method){const yr=u;if("Query"!==r.method){const Ir={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Ir]:l.push(Ir),u++}Jt=yr===u}else Jt=!0;if(Jt)if(void 0!==r.protocol){const yr=u;if("string"!=typeof r.protocol){const Ir={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ir]:l.push(Ir),u++}Jt=yr===u}else Jt=!0}}}else{const An={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[An]:l.push(An),u++}if((wt=zn===u)&&N)N=!1,oe=[oe,4];else{wt&&(N=!0,oe=4,!0!==Xe&&((Xe=Xe||{}).interface=!0,Xe.method=!0,Xe.protocol=!0));const An=u;if(u==u)if(r&&"object"==typeof r&&!Array.isArray(r)){let Ir;if(void 0===r.interface&&(Ir="interface")||void 0===r.method&&(Ir="method")){const oi={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Ir},message:"must have required property '"+Ir+"'"};null===l?l=[oi]:l.push(oi),u++}else{if(void 0!==r.interface){const oi=u;if("Records"!==r.interface){const ro={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[ro]:l.push(ro),u++}var an=oi===u}else an=!0;if(an){if(void 0!==r.method){const oi=u;if("Subscribe"!==r.method){const Dn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===l?l=[Dn]:l.push(Dn),u++}an=oi===u}else an=!0;if(an)if(void 0!==r.protocol){const oi=u;if("string"!=typeof r.protocol){const Dn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),u++}an=oi===u}else an=!0}}}else{const Ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ir]:l.push(Ir),u++}var wt;(wt=An===u)&&N?(N=!1,oe=[oe,5]):wt&&(N=!0,oe=5,!0!==Xe&&((Xe=Xe||{}).interface=!0,Xe.method=!0,Xe.protocol=!0))}}}}if(!N){const Vt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:oe},message:"must match exactly one schema in oneOf"};return null===l?l=[Vt]:l.push(Vt),u++,xl.errors=l,!1}return u=X,null!==l&&(X?l.length=X:l=null),xl.errors=l,J.props=Xe,0===u}function Aa(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Aa.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Aa.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.delegated&&(N="delegated")||void 0===r.scope&&(N="scope"))return Aa.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=u;for(const Ee in r)if("description"!==Ee&&"delegated"!==Ee&&"scope"!==Ee&&"conditions"!==Ee)return Aa.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(oe===u){if(void 0!==r.description){const Ee=u;if("string"!=typeof r.description)return Aa.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=Ee===u}else X=!0;if(X){if(void 0!==r.delegated){const Ee=u;if("boolean"!=typeof r.delegated)return Aa.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;X=Ee===u}else X=!0;if(X){if(void 0!==r.scope){const Ee=u;xl(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:p,dynamicAnchors:y})||(l=null===l?xl.errors:l.concat(xl.errors),u=l.length),X=Ee===u}else X=!0;if(X)if(void 0!==r.conditions){let Ee=r.conditions;const Le=u;if(u==u){if(!Ee||"object"!=typeof Ee||Array.isArray(Ee))return Aa.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const vt=u;for(const Tt in Ee)if("publication"!==Tt)return Aa.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tt},message:"must NOT have additional properties"}],!1;if(vt===u&&void 0!==Ee.publication){let Tt=Ee.publication;if("string"!=typeof Tt)return Aa.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==Tt&&"Prohibited"!==Tt)return Aa.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Yd.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}X=Le===u}else X=!0}}}}}}return Aa.errors=l,0===u}xl.evaluated={dynamicProps:!0,dynamicItems:!1},Aa.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const qA=za;function za(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=za.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return za.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const X=0;for(const N in r)if("description"!==N)return za.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:N},message:"must NOT have additional properties"}],!1;if(0===X&&void 0!==r.description&&"string"!=typeof r.description)return za.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return za.errors=null,!0}za.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Fo=zh;function zh(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=zh.evaluated;return J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(zh.errors=null,!0):(zh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}zh.evaluated={dynamicProps:!1,dynamicItems:!1};const Sg=tf;function tf(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=tf.evaluated;return J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(tf.errors=null,!0):(tf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}tf.evaluated={dynamicProps:!1,dynamicItems:!1};const Ml=ra,$v=new RegExp(".*","u"),fu={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},Ig=new RegExp("^[^$].*$","u"),Kv=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),Wh=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),Tg=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),Gh={validate:xo};function xo(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=xo.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return xo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const sr=u;for(const Hn in r)if("$encryption"!==Hn&&"$actions"!==Hn&&"$role"!==Hn&&"$size"!==Hn&&"$tags"!==Hn&&!Ig.test(Hn))return xo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Hn},message:"must NOT have additional properties"}],!1;if(sr===u){if(void 0!==r.$encryption){let Hn=r.$encryption;const zn=u;if(u===zn){if(!Hn||"object"!=typeof Hn||Array.isArray(Hn))return xo.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let jn;if(void 0===Hn.rootKeyId&&(jn="rootKeyId")||void 0===Hn.publicKeyJwk&&(jn="publicKeyJwk"))return xo.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"}],!1;{const Xn=u;for(const An in Hn)if("rootKeyId"!==An&&"publicKeyJwk"!==An)return xo.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:An},message:"must NOT have additional properties"}],!1;if(Xn===u){if(void 0!==Hn.rootKeyId){const An=u;if("string"!=typeof Hn.rootKeyId)return xo.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=An===u}else X=!0;if(X)if(void 0!==Hn.publicKeyJwk){const An=u;No(Hn.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:Hn,parentDataProperty:"publicKeyJwk",rootData:p,dynamicAnchors:y})||(l=null===l?No.errors:l.concat(No.errors),u=l.length),X=An===u}else X=!0}}}}var N=zn===u}else N=!0;if(N){if(void 0!==r.$actions){let Hn=r.$actions;const zn=u;if(u===zn){if(!Array.isArray(Hn))return xo.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Hn.length<1)return xo.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Xn=Hn.length;for(let An=0;An<Xn;An++){let yr=Hn[An];const Hr=u;if(!yr||"object"!=typeof yr||Array.isArray(yr))return xo.errors=[{instancePath:t+"/$actions/"+An,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const Ir=u;let oi=!1,ro=null;const Dn=u;if(yr&&"object"==typeof yr&&!Array.isArray(yr)){let Er;if(void 0===yr.who&&(Er="who")||void 0===yr.can&&(Er="can")){const qn={instancePath:t+"/$actions/"+An,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:Er},message:"must have required property '"+Er+"'"};null===l?l=[qn]:l.push(qn),u++}else{const qn=u;for(const wr in yr)if("who"!==wr&&"of"!==wr&&"can"!==wr){const ri={instancePath:t+"/$actions/"+An,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wr},message:"must NOT have additional properties"};null===l?l=[ri]:l.push(ri),u++;break}if(qn===u){if(void 0!==yr.who){let wr=yr.who;const ri=u;if("string"!=typeof wr){const Bi={instancePath:t+"/$actions/"+An+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Bi]:l.push(Bi),u++}if("anyone"!==wr&&"author"!==wr&&"recipient"!==wr){const Bi={instancePath:t+"/$actions/"+An+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:fu.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===l?l=[Bi]:l.push(Bi),u++}var Ee=ri===u}else Ee=!0;if(Ee){if(void 0!==yr.of){const wr=u;if("string"!=typeof yr.of){const Bi={instancePath:t+"/$actions/"+An+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Bi]:l.push(Bi),u++}Ee=wr===u}else Ee=!0;if(Ee)if(void 0!==yr.can){let wr=yr.can;const ri=u;if(u===ri)if(Array.isArray(wr))if(wr.length<1){const Li={instancePath:t+"/$actions/"+An+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Li]:l.push(Li),u++}else{const Li=wr.length;for(let fi=0;fi<Li;fi++){let gi=wr[fi];const Dc=u;if("string"!=typeof gi){const Mr={instancePath:t+"/$actions/"+An+"/can/"+fi,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Mr]:l.push(Mr),u++}if("co-delete"!==gi&&"co-prune"!==gi&&"co-update"!==gi&&"create"!==gi&&"delete"!==gi&&"prune"!==gi&&"read"!==gi&&"update"!==gi){const Mr={instancePath:t+"/$actions/"+An+"/can/"+fi,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:fu.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===l?l=[Mr]:l.push(Mr),u++}if(Dc!==u)break}}else{const Li={instancePath:t+"/$actions/"+An+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Li]:l.push(Li),u++}Ee=ri===u}else Ee=!0}}}}if(Dn===u){oi=!0,ro=0;var Pe=!0}const li=u;if(yr&&"object"==typeof yr&&!Array.isArray(yr)){let Er;if(void 0===yr.role&&(Er="role")||void 0===yr.can&&(Er="can")){const qn={instancePath:t+"/$actions/"+An,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:Er},message:"must have required property '"+Er+"'"};null===l?l=[qn]:l.push(qn),u++}else{if(void 0!==yr.role){const qn=u;if("string"!=typeof yr.role){const wr={instancePath:t+"/$actions/"+An+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[wr]:l.push(wr),u++}var Xe=qn===u}else Xe=!0;if(Xe)if(void 0!==yr.can){let qn=yr.can;const wr=u;if(u===wr)if(Array.isArray(qn))if(qn.length<1){const Bi={instancePath:t+"/$actions/"+An+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Bi]:l.push(Bi),u++}else{const Bi=qn.length;for(let Li=0;Li<Bi;Li++){let fi=qn[Li];const gi=u;if("string"!=typeof fi){const kv={instancePath:t+"/$actions/"+An+"/can/"+Li,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[kv]:l.push(kv),u++}if("co-delete"!==fi&&"co-update"!==fi&&"create"!==fi&&"delete"!==fi&&"query"!==fi&&"subscribe"!==fi&&"read"!==fi&&"update"!==fi){const kv={instancePath:t+"/$actions/"+An+"/can/"+Li,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:fu.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===l?l=[kv]:l.push(kv),u++}if(gi!==u)break}}else{const Bi={instancePath:t+"/$actions/"+An+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Bi]:l.push(Bi),u++}Xe=wr===u}else Xe=!0}}var Tt;if((Tt=li===u)&&oi?(oi=!1,ro=[ro,1]):Tt&&(oi=!0,ro=1,!0!==Pe&&((Pe=Pe||{}).role=!0,Pe.can=!0)),!oi){const Er={instancePath:t+"/$actions/"+An,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:ro},message:"must match exactly one schema in oneOf"};return null===l?l=[Er]:l.push(Er),u++,xo.errors=l,!1}if(u=Ir,null!==l&&(Ir?l.length=Ir:l=null),Hr!==u)break}}}N=zn===u}else N=!0;if(N){if(void 0!==r.$role){const Hn=u;if("boolean"!=typeof r.$role)return xo.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;N=Hn===u}else N=!0;if(N){if(void 0!==r.$size){let Hn=r.$size;const zn=u;if(u===zn){if(!Hn||"object"!=typeof Hn||Array.isArray(Hn))return xo.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Xn=u;for(const An in Hn)if("min"!==An&&"max"!==An)return xo.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:An},message:"must NOT have additional properties"}],!1;if(Xn===u){if(void 0!==Hn.min){let An=Hn.min;const yr=u;if(u===yr){if("number"!=typeof An||!isFinite(An))return xo.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(An<0||isNaN(An))return xo.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var bt=yr===u}else bt=!0;if(bt)if(void 0!==Hn.max){let An=Hn.max;const yr=u;if(u===yr){if("number"!=typeof An||!isFinite(An))return xo.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(An<0||isNaN(An))return xo.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}bt=yr===u}else bt=!0}}}N=zn===u}else N=!0;if(N){if(void 0!==r.$tags){let Hn=r.$tags;const zn=u;if(u===zn){if(!Hn||"object"!=typeof Hn||Array.isArray(Hn))return xo.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Hn).length<1)return xo.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==Hn.$requiredTags){let Xn=Hn.$requiredTags;const An=u;if(u===An){if(!Array.isArray(Xn))return xo.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const yr=Xn.length;for(let Hr=0;Hr<yr;Hr++){const Ir=u;if("string"!=typeof Xn[Hr])return xo.errors=[{instancePath:t+"/$tags/$requiredTags/"+Hr,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Ir!==u)break}}}var Ct=An===u}else Ct=!0;if(Ct){if(void 0!==Hn.$allowUndefinedTags){const Xn=u;if("boolean"!=typeof Hn.$allowUndefinedTags)return xo.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Ct=Xn===u}else Ct=!0;if(Ct){var Wt={$requiredTags:!0,$allowUndefinedTags:!0};for(const Xn in Hn)if(Kv.test(Xn)){let An=Hn[Xn];if(u==u){if(!An||"object"!=typeof An||Array.isArray(An))return xo.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Hr=u;for(const Ir in An)if("type"!==Ir&&"items"!==Ir&&"contains"!==Ir&&!Wh.test(Ir))return xo.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ir},message:"must NOT have additional properties"}],!1;if(Hr===u){if(void 0!==An.type){let Ir=An.type;const oi=u;if("string"!==Ir&&"number"!==Ir&&"integer"!==Ir&&"boolean"!==Ir&&"array"!==Ir)return xo.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:fu.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Jt=oi===u}else Jt=!0;if(Jt){if(void 0!==An.items){let Ir=An.items;const oi=u;if(u===oi){if(!Ir||"object"!=typeof Ir||Array.isArray(Ir))return xo.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Ir.type){let Dn=Ir.type;const li=u;if("string"!==Dn&&"number"!==Dn&&"integer"!==Dn)return xo.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:fu.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var an=li===u}else an=!0;if(an){var Vt={type:!0};for(const Dn in Ir)Tg.test(Dn)&&(Vt[Dn]=!0)}}Jt=oi===u}else Jt=!0;if(Jt)if(void 0!==An.contains){let Ir=An.contains;const oi=u;if(u===oi){if(!Ir||"object"!=typeof Ir||Array.isArray(Ir))return xo.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Ir.type){let Dn=Ir.type;const li=u;if("string"!==Dn&&"number"!==Dn&&"integer"!==Dn)return xo.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:fu.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var In=li===u}else In=!0;if(In){var Yn={type:!0};for(const Dn in Ir)Tg.test(Dn)&&(Yn[Dn]=!0)}}Jt=oi===u}else Jt=!0}}}}Wt[Xn]=!0}}}}N=zn===u}else N=!0;if(N)for(const Hn in r)if(Ig.test(Hn)){const zn=u;if(Gh.validate(r[Hn],{instancePath:t+"/"+Hn.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:Hn,rootData:p,dynamicAnchors:y})||(l=null===l?Gh.validate.errors:l.concat(Gh.validate.errors),u=l.length),zn!==u)break}}}}}}}}return xo.errors=l,0===u}function ra(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=ra.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return ra.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pe;if(void 0===r.protocol&&(Pe="protocol")||void 0===r.published&&(Pe="published")||void 0===r.types&&(Pe="types")||void 0===r.structure&&(Pe="structure"))return ra.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Pe},message:"must have required property '"+Pe+"'"}],!1;{const Xe=u;for(const vt in r)if("protocol"!==vt&&"published"!==vt&&"types"!==vt&&"structure"!==vt)return ra.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:vt},message:"must NOT have additional properties"}],!1;if(Xe===u){if(void 0!==r.protocol){const vt=u;if("string"!=typeof r.protocol)return ra.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=vt===u}else X=!0;if(X){if(void 0!==r.published){const vt=u;if("boolean"!=typeof r.published)return ra.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;X=vt===u}else X=!0;if(X){if(void 0!==r.types){let vt=r.types;const Tt=u;if(u===Tt){if(!vt||"object"!=typeof vt||Array.isArray(vt))return ra.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var N={};for(const wt in vt)if($v.test(wt)){let Ct=vt[wt];if(u==u){if(!Ct||"object"!=typeof Ct||Array.isArray(Ct))return ra.errors=[{instancePath:t+"/types/"+wt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Jt=u;for(const an in Ct)if("schema"!==an&&"dataFormats"!==an)return ra.errors=[{instancePath:t+"/types/"+wt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:an},message:"must NOT have additional properties"}],!1;if(Jt===u){if(void 0!==Ct.schema){const an=u;if("string"!=typeof Ct.schema)return ra.errors=[{instancePath:t+"/types/"+wt.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var oe=an===u}else oe=!0;if(oe)if(void 0!==Ct.dataFormats){let an=Ct.dataFormats;const Vt=u;if(u===Vt){if(!Array.isArray(an))return ra.errors=[{instancePath:t+"/types/"+wt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(an.length<1)return ra.errors=[{instancePath:t+"/types/"+wt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Yn=an.length;for(let Qn=0;Qn<Yn;Qn++){const sr=u;if("string"!=typeof an[Qn])return ra.errors=[{instancePath:t+"/types/"+wt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+Qn,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(sr!==u)break}}}oe=Vt===u}else oe=!0}}}N[wt]=!0}}X=Tt===u}else X=!0;if(X)if(void 0!==r.structure){let vt=r.structure;const Tt=u;if(u===Tt){if(!vt||"object"!=typeof vt||Array.isArray(vt))return ra.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Le={};for(const wt in vt)$v.test(wt)&&(xo(vt[wt],{instancePath:t+"/structure/"+wt.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:vt,parentDataProperty:wt,rootData:p,dynamicAnchors:y})||(l=null===l?xo.errors:l.concat(xo.errors),u=l.length),Le[wt]=!0)}X=Tt===u}else X=!0}}}}}}return ra.errors=l,0===u}xo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},ra.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const dM=xo,lM=lc,Rd={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function lc(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=lc.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return lc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===r.authorization&&(oe="authorization")||void 0===r.descriptor&&(oe="descriptor"))return lc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;{const Ee=u;for(const Le in r)if("authorization"!==Le&&"descriptor"!==Le)return lc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties"}],!1;if(Ee===u){if(void 0!==r.authorization){const Le=u;yi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?yi.errors:l.concat(yi.errors),u=l.length);var X=Le===u}else X=!0;if(X)if(void 0!==r.descriptor){let Le=r.descriptor;const Pe=u;if(u===Pe){if(!Le||"object"!=typeof Le||Array.isArray(Le))return lc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let vt;if(void 0===Le.interface&&(vt="interface")||void 0===Le.method&&(vt="method")||void 0===Le.messageTimestamp&&(vt="messageTimestamp")||void 0===Le.definition&&(vt="definition"))return lc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:vt},message:"must have required property '"+vt+"'"}],!1;{const Tt=u;for(const bt in Le)if("interface"!==bt&&"method"!==bt&&"messageTimestamp"!==bt&&"definition"!==bt)return lc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(Tt===u){if(void 0!==Le.interface){let bt=Le.interface;const wt=u;if("string"!=typeof bt)return lc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==bt)return lc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Rd.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=wt===u}else N=!0;if(N){if(void 0!==Le.method){let bt=Le.method;const wt=u;if("string"!=typeof bt)return lc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==bt)return lc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Rd.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=wt===u}else N=!0;if(N){if(void 0!==Le.messageTimestamp){let bt=Le.messageTimestamp;const wt=u;if(u==u){if("string"!=typeof bt)return lc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(bt))return lc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=wt===u}else N=!0;if(N)if(void 0!==Le.definition){const bt=u;ra(Le.definition,{instancePath:t+"/descriptor/definition",parentData:Le,parentDataProperty:"definition",rootData:p,dynamicAnchors:y})||(l=null===l?ra.errors:l.concat(ra.errors),u=l.length),N=bt===u}else N=!0}}}}}}X=Pe===u}else X=!0}}}}return lc.errors=l,0===u}lc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const h1=rt,je={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function rt(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=rt.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return rt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ee;if(void 0===r.descriptor&&(Ee="descriptor"))return rt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ee},message:"must have required property '"+Ee+"'"}],!1;{const Le=u;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return rt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Le===u){if(void 0!==r.authorization){const Pe=u;yi(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?yi.errors:l.concat(yi.errors),u=l.length);var X=Pe===u}else X=!0;if(X)if(void 0!==r.descriptor){let Pe=r.descriptor;const Xe=u;if(u===Xe){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return rt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Tt;if(void 0===Pe.interface&&(Tt="interface")||void 0===Pe.method&&(Tt="method")||void 0===Pe.messageTimestamp&&(Tt="messageTimestamp"))return rt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Tt},message:"must have required property '"+Tt+"'"}],!1;{const bt=u;for(const wt in Pe)if("interface"!==wt&&"method"!==wt&&"messageTimestamp"!==wt&&"filter"!==wt)return rt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wt},message:"must NOT have additional properties"}],!1;if(bt===u){if(void 0!==Pe.interface){let wt=Pe.interface;const Ct=u;if("string"!=typeof wt)return rt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==wt)return rt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:je.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=Ct===u}else N=!0;if(N){if(void 0!==Pe.method){let wt=Pe.method;const Ct=u;if("string"!=typeof wt)return rt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==wt)return rt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:je.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=Ct===u}else N=!0;if(N){if(void 0!==Pe.messageTimestamp){let wt=Pe.messageTimestamp;const Ct=u;if(u==u){if("string"!=typeof wt)return rt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(wt))return rt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=Ct===u}else N=!0;if(N)if(void 0!==Pe.filter){let wt=Pe.filter;const Ct=u;if(u===Ct){if(!wt||"object"!=typeof wt||Array.isArray(wt))return rt.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(wt).length<1)return rt.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Jt=u;for(const an in wt)if("protocol"!==an&&"recipient"!==an)return rt.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:an},message:"must NOT have additional properties"}],!1;if(Jt===u){if(void 0!==wt.protocol){const an=u;if("string"!=typeof wt.protocol)return rt.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var oe=an===u}else oe=!0;if(oe)if(void 0!==wt.recipient){let an=wt.recipient;const Vt=u;if(u==u){if("string"!=typeof an)return rt.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gc.test(an))return rt.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}oe=Vt===u}else oe=!0}}}N=Ct===u}else N=!0}}}}}}X=Xe===u}else X=!0}}}}return rt.errors=l,0===u}rt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ze=At,ct={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function At(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=At.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return At.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let oe;if(void 0===r.descriptor&&(oe="descriptor"))return At.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:oe},message:"must have required property '"+oe+"'"}],!1;{const Ee=u;for(const Le in r)if("authorization"!==Le&&"descriptor"!==Le)return At.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Le},message:"must NOT have additional properties"}],!1;if(Ee===u){if(void 0!==r.authorization){const Le=u;Ia(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:p,dynamicAnchors:y})||(l=null===l?Ia.errors:l.concat(Ia.errors),u=l.length);var X=Le===u}else X=!0;if(X)if(void 0!==r.descriptor){let Le=r.descriptor;const Pe=u;if(u===Pe){if(!Le||"object"!=typeof Le||Array.isArray(Le))return At.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let vt;if(void 0===Le.interface&&(vt="interface")||void 0===Le.method&&(vt="method")||void 0===Le.messageTimestamp&&(vt="messageTimestamp")||void 0===Le.filter&&(vt="filter"))return At.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:vt},message:"must have required property '"+vt+"'"}],!1;{const Tt=u;for(const bt in Le)if("interface"!==bt&&"method"!==bt&&"messageTimestamp"!==bt&&"filter"!==bt)return At.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(Tt===u){if(void 0!==Le.interface){let bt=Le.interface;const wt=u;if("string"!=typeof bt)return At.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==bt)return At.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ct.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var N=wt===u}else N=!0;if(N){if(void 0!==Le.method){let bt=Le.method;const wt=u;if("string"!=typeof bt)return At.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==bt)return At.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ct.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;N=wt===u}else N=!0;if(N){if(void 0!==Le.messageTimestamp){let bt=Le.messageTimestamp;const wt=u;if(u==u){if("string"!=typeof bt)return At.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ys.test(bt))return At.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}N=wt===u}else N=!0;if(N)if(void 0!==Le.filter){const bt=u;pr(Le.filter,{instancePath:t+"/descriptor/filter",parentData:Le,parentDataProperty:"filter",rootData:p,dynamicAnchors:y})||(l=null===l?pr.errors:l.concat(pr.errors),u=l.length),N=bt===u}else N=!0}}}}}}X=Pe===u}else X=!0}}}}return At.errors=l,0===u}At.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const sn=pr,wn=No,Jn=Tr;function Tr(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=Tr.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Tr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.descriptorCid&&(N="descriptorCid"))return Tr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=0;for(const Ee in r)if("descriptorCid"!==Ee&&"delegatedGrantId"!==Ee&&"permissionGrantId"!==Ee&&"protocolRole"!==Ee)return Tr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(0===oe){if(void 0!==r.descriptorCid){const Ee=0;if("string"!=typeof r.descriptorCid)return Tr.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=0===Ee}else X=!0;if(X){if(void 0!==r.delegatedGrantId){const Ee=0;if("string"!=typeof r.delegatedGrantId)return Tr.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.permissionGrantId){const Ee=0;if("string"!=typeof r.permissionGrantId)return Tr.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X)if(void 0!==r.protocolRole){const Ee=0;if("string"!=typeof r.protocolRole)return Tr.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0}}}}}return Tr.errors=null,!0}Tr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ci=ho;function ho(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){const J=ho.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return ho.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let N;if(void 0===r.descriptorCid&&(N="descriptorCid")||void 0===r.recordId&&(N="recordId"))return ho.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"}],!1;{const oe=0;for(const Ee in r)if("descriptorCid"!==Ee&&"recordId"!==Ee&&"contextId"!==Ee&&"attestationCid"!==Ee&&"encryptionCid"!==Ee&&"delegatedGrantId"!==Ee&&"permissionGrantId"!==Ee&&"protocolRole"!==Ee)return ho.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ee},message:"must NOT have additional properties"}],!1;if(0===oe){if(void 0!==r.descriptorCid){const Ee=0;if("string"!=typeof r.descriptorCid)return ho.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var X=0===Ee}else X=!0;if(X){if(void 0!==r.recordId){const Ee=0;if("string"!=typeof r.recordId)return ho.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.contextId){const Ee=0;if("string"!=typeof r.contextId)return ho.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.attestationCid){const Ee=0;if("string"!=typeof r.attestationCid)return ho.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.encryptionCid){const Ee=0;if("string"!=typeof r.encryptionCid)return ho.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.delegatedGrantId){const Ee=0;if("string"!=typeof r.delegatedGrantId)return ho.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X){if(void 0!==r.permissionGrantId){const Ee=0;if("string"!=typeof r.permissionGrantId)return ho.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0;if(X)if(void 0!==r.protocolRole){const Ee=0;if("string"!=typeof r.protocolRole)return ho.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;X=0===Ee}else X=!0}}}}}}}}}return ho.errors=null,!0}ho.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Od=Yo;function Yo(r,{instancePath:t="",rootData:p=r,dynamicAnchors:y={}}={}){let l=null,u=0;const J=Yo.evaluated;if(J.dynamicProps&&(J.props=void 0),J.dynamicItems&&(J.items=void 0),0===u){if(!r||"object"!=typeof r||Array.isArray(r))return Yo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Yo.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Xe=u;for(const vt in r)if("gt"!==vt&&"gte"!==vt&&"lt"!==vt&&"lte"!==vt)return Yo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:vt},message:"must NOT have additional properties"}],!1;if(Xe===u){if(void 0!==r.gt){const vt=u,Tt=u,bt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let wt;if(void 0===r.gte&&(wt="gte")){const Ct={};null===l?l=[Ct]:l.push(Ct),u++}}if(bt===u)return Yo.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Tt,null!==l&&(Tt?l.length=Tt:l=null);var N=vt===u}else N=!0;if(N){if(void 0!==r.gte){const vt=u,Tt=u,bt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ct;if(void 0===r.gt&&(Ct="gt")){const Wt={};null===l?l=[Wt]:l.push(Wt),u++}}if(bt===u)return Yo.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Tt,null!==l&&(Tt?l.length=Tt:l=null),N=vt===u}else N=!0;if(N){if(void 0!==r.lt){const vt=u,Tt=u,bt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ct;if(void 0===r.lte&&(Ct="lte")){const Wt={};null===l?l=[Wt]:l.push(Wt),u++}}if(bt===u)return Yo.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Tt,null!==l&&(Tt?l.length=Tt:l=null),N=vt===u}else N=!0;if(N){if(void 0!==r.lte){const vt=u,Tt=u,bt=u;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ct;if(void 0===r.lt&&(Ct="lt")){const Wt={};null===l?l=[Wt]:l.push(Wt),u++}}if(bt===u)return Yo.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;u=Tt,null!==l&&(Tt?l.length=Tt:l=null),N=vt===u}else N=!0;if(N){if(void 0!==r.gt){const vt=u;if("string"!=typeof r.gt)return Yo.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Pe=vt===u}else Pe=!0;if(Pe){if(void 0!==r.gte){const vt=u;if("string"!=typeof r.gte)return Yo.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=vt===u}else Pe=!0;if(Pe){if(void 0!==r.lt){const vt=u;if("string"!=typeof r.lt)return Yo.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=vt===u}else Pe=!0;if(Pe)if(void 0!==r.lte){const vt=u;if("string"!=typeof r.lte)return Yo.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Pe=vt===u}else Pe=!0}}}}}}}}}return Yo.errors=l,0===u}function Ri(r,t){const n=Q[r];if(!n)throw new te(de.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[o]=n.errors;let{instancePath:p,message:y,keyword:l}=o;if(p||(p=r),"additionalProperties"===l)throw new te(de.SchemaValidatorAdditionalPropertyNotAllowed,`${y}: ${p}: ${o.params.additionalProperty}`);if("unevaluatedProperties"===l)throw new te(de.SchemaValidatorUnevaluatedPropertyNotAllowed,`${y}: ${p}: ${o.params.unevaluatedProperty}`);throw new te(de.SchemaValidatorFailure,`${p}: ${y}`)}Yo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var Go=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Zo{constructor(t){this.cache=t||new kc(600)}static get singleton(){return void 0===Zo._singleton&&(Zo._singleton=new Zo),Zo._singleton}static verifySignatures(t,n){return Go(this,void 0,void 0,function*(){return yield Zo.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return Go(this,void 0,void 0,function*(){const o=[];for(const p of t.signatures){let y;const l=zo.getKid(p),u=`${p.protected}.${t.payload}.${p.signature}`,J=yield this.cache.get(u);if(void 0===J){const N=yield Zo.getPublicKey(l,n);y=yield zo.verifySignature(t.payload,p,N),yield this.cache.set(u,y)}else y=J;const X=zo.extractDid(l);if(!y)throw new te(de.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${X}`);o.push(X)}return{signers:o}})}static getPublicKey(t,n){return Go(this,void 0,void 0,function*(){const o=zo.extractDid(t),{didDocument:p}=yield n.resolve(o),{verificationMethod:y=[]}=p||{};let l;for(const J of y)if(t.endsWith(J.id)){l=J;break}if(!l)throw new te(de.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");Ri("JwkVerificationMethod",l);const{publicKeyJwk:u}=l;return u})}}const hu=["string","number","bigint","symbol"],pa=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class gr{constructor(t,n,o){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=o}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}gr.uint=new gr(0,"uint",!0),gr.negint=new gr(1,"negint",!0),gr.bytes=new gr(2,"bytes",!0),gr.string=new gr(3,"string",!0),gr.array=new gr(4,"array",!1),gr.map=new gr(5,"map",!1),gr.tag=new gr(6,"tag",!1),gr.float=new gr(7,"float",!0),gr.false=new gr(7,"false",!0),gr.true=new gr(7,"true",!0),gr.null=new gr(7,"null",!0),gr.undefined=new gr(7,"undefined",!0),gr.break=new gr(7,"break",!0);class Mi{constructor(t,n,o){this.type=t,this.value=n,this.encodedLength=o,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const pu=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,QA=new TextDecoder,p1=new TextEncoder;function Ag(r){return pu&&globalThis.Buffer.isBuffer(r)}function Cg(r){return r instanceof Uint8Array?Ag(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const l8=pu?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):Hv(r,t,n):(r,t,n)=>n-t>64?QA.decode(r.subarray(t,n)):Hv(r,t,n),m1=pu?r=>r.length>64?globalThis.Buffer.from(r):gM(r):r=>r.length>64?p1.encode(r):gM(r),nf=r=>Uint8Array.from(r),kg=pu?(r,t,n)=>Ag(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),hM=pu?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),Cg(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let o=0;for(let p of r)o+p.length>n.length&&(p=p.subarray(0,n.length-o)),n.set(p,o),o+=p.length;return n},pM=pu?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function gM(r,t=1/0){let n;const o=r.length;let p=null;const y=[];for(let l=0;l<o;++l){if(n=r.charCodeAt(l),n>55295&&n<57344){if(!p){if(n>56319){(t-=3)>-1&&y.push(239,191,189);continue}if(l+1===o){(t-=3)>-1&&y.push(239,191,189);continue}p=n;continue}if(n<56320){(t-=3)>-1&&y.push(239,191,189),p=n;continue}n=65536+(p-55296<<10|n-56320)}else p&&(t-=3)>-1&&y.push(239,191,189);if(p=null,n<128){if((t-=1)<0)break;y.push(n)}else if(n<2048){if((t-=2)<0)break;y.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;y.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;y.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return y}function Hv(r,t,n){const o=[];for(;t<n;){const p=r[t];let y=null,l=p>239?4:p>223?3:p>191?2:1;if(t+l<=n){let u,J,X,N;switch(l){case 1:p<128&&(y=p);break;case 2:u=r[t+1],128==(192&u)&&(N=(31&p)<<6|63&u,N>127&&(y=N));break;case 3:u=r[t+1],J=r[t+2],128==(192&u)&&128==(192&J)&&(N=(15&p)<<12|(63&u)<<6|63&J,N>2047&&(N<55296||N>57343)&&(y=N));break;case 4:u=r[t+1],J=r[t+2],X=r[t+3],128==(192&u)&&128==(192&J)&&128==(192&X)&&(N=(15&p)<<18|(63&u)<<12|(63&J)<<6|63&X,N>65535&&N<1114112&&(y=N))}}null===y?(y=65533,l=1):y>65535&&(y-=65536,o.push(y>>>10&1023|55296),y=56320|1023&y),o.push(y),t+=l}return function Jd(r){const t=r.length;if(t<=Pg)return String.fromCharCode.apply(String,r);let n="",o=0;for(;o<t;)n+=String.fromCharCode.apply(String,r.slice(o,o+=Pg));return n}(o)}const Pg=4096;class Wv{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const p=n.length-(this.maxCursor-this.cursor)-1;p<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,p),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=pM(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const o=this.chunks[0];t&&this.cursor>o.length/2?(n=this.cursor===o.length?o:o.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=kg(o,0,this.cursor)}else n=hM(this.chunks,this.cursor);return t&&this.reset(),n}}const Oo="CBOR decode error:",yM="CBOR encode error:",ym=[];function Sl(r,t,n){if(r.length-t<n)throw new Error(`${Oo} not enough data for type`)}ym[23]=1,ym[24]=2,ym[25]=3,ym[26]=5,ym[27]=9;const uc=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Zh(r,t,n){Sl(r,t,1);const o=r[t];if(!0===n.strict&&o<uc[0])throw new Error(`${Oo} integer encoded in more bytes than necessary (strict decode)`);return o}function Yh(r,t,n){Sl(r,t,2);const o=r[t]<<8|r[t+1];if(!0===n.strict&&o<uc[1])throw new Error(`${Oo} integer encoded in more bytes than necessary (strict decode)`);return o}function rf(r,t,n){Sl(r,t,4);const o=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&o<uc[2])throw new Error(`${Oo} integer encoded in more bytes than necessary (strict decode)`);return o}function sf(r,t,n){Sl(r,t,8);const p=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],y=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(p);if(!0===n.strict&&y<uc[3])throw new Error(`${Oo} integer encoded in more bytes than necessary (strict decode)`);if(y<=Number.MAX_SAFE_INTEGER)return Number(y);if(!0===n.allowBigInt)return y;throw new Error(`${Oo} integers outside of the safe integer range are not supported`)}function Xh(r,t){return as(r,0,t.value)}function as(r,t,n){if(n<uc[0]){const o=Number(n);r.push([t|o])}else if(n<uc[1]){const o=Number(n);r.push([24|t,o])}else if(n<uc[2]){const o=Number(n);r.push([25|t,o>>>8,255&o])}else if(n<uc[3]){const o=Number(n);r.push([26|t,o>>>24&255,o>>>16&255,o>>>8&255,255&o])}else{const o=BigInt(n);if(!(o<uc[4]))throw new Error(`${Oo} encountered BigInt larger than allowable range`);{const p=[27|t,0,0,0,0,0,0,0];let y=Number(o&BigInt(4294967295)),l=Number(o>>BigInt(32)&BigInt(4294967295));p[8]=255&y,y>>=8,p[7]=255&y,y>>=8,p[6]=255&y,y>>=8,p[5]=255&y,p[4]=255&l,l>>=8,p[3]=255&l,l>>=8,p[2]=255&l,l>>=8,p[1]=255&l,r.push(p)}}}Xh.encodedSize=function(t){return as.encodedSize(t.value)},as.encodedSize=function(t){return t<uc[0]?1:t<uc[1]?2:t<uc[2]?3:t<uc[3]?5:9},Xh.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const g1=BigInt(-1),wM=BigInt(1);function y1(r,t){const n=t.value;as(r,t.type.majorEncoded,"bigint"==typeof n?n*g1-wM:-1*n-1)}function Ng(r,t,n,o){Sl(r,t,n+o);const p=kg(r,t+n,t+n+o);return new Mi(gr.bytes,p,n+o)}function r3(r,t,n,o){return Ng(r,t,1,n)}function vi(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===gr.string?m1(r.value):r.value),r.encodedBytes}function ia(r,t){const n=vi(t);as(r,t.type.majorEncoded,n.length),r.push(n)}function ma(r,t,n,o,p){const y=n+o;Sl(r,t,y);const l=new Mi(gr.string,l8(r,t+n,t+y),y);return!0===p.retainStringBytes&&(l.byteValue=kg(r,t+n,t+y)),l}function Jc(r,t,n,o){return ma(r,t,1,n,o)}y1.encodedSize=function(t){const n=t.value,o="bigint"==typeof n?n*g1-wM:-1*n-1;return o<uc[0]?1:o<uc[1]?2:o<uc[2]?3:o<uc[3]?5:9},y1.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},ia.encodedSize=function(t){const n=vi(t);return as.encodedSize(n.length)+n.length},ia.compareTokens=function(t,n){return function Dl(r,t){return r.length<t.length?-1:r.length>t.length?1:function zv(r,t){if(Ag(r)&&Ag(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(vi(t),vi(n))};const Qi=ia;function gu(r,t,n,o){return new Mi(gr.array,o,n)}function _M(r,t,n,o){return gu(0,0,1,n)}function oh(r,t){as(r,gr.array.majorEncoded,t.value)}function qh(r,t,n,o){return new Mi(gr.map,o,n)}function sh(r,t,n,o){return qh(0,0,1,n)}function Qd(r,t){as(r,gr.map.majorEncoded,t.value)}function Yv(r,t,n,o){return new Mi(gr.tag,n,1)}function Wa(r,t){as(r,gr.tag.majorEncoded,t.value)}oh.compareTokens=Xh.compareTokens,oh.encodedSize=function(t){return as.encodedSize(t.value)},Qd.compareTokens=Xh.compareTokens,Qd.encodedSize=function(t){return as.encodedSize(t.value)},Wa.compareTokens=Xh.compareTokens,Wa.encodedSize=function(t){return as.encodedSize(t.value)};function _1(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${Oo} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${Oo} Infinity values are not supported`)}return new Mi(gr.float,r,t)}function Ug(r,t,n){const o=t.value;if(!1===o)r.push([20|gr.float.majorEncoded]);else if(!0===o)r.push([21|gr.float.majorEncoded]);else if(null===o)r.push([22|gr.float.majorEncoded]);else if(void 0===o)r.push([23|gr.float.majorEncoded]);else{let p,y=!1;(!n||!0!==n.float64)&&(a3(o),p=xM(yu,1),o===p||Number.isNaN(o)?(yu[0]=249,r.push(yu.slice(0,3)),y=!0):(c3(o),p=MM(yu,1),o===p&&(yu[0]=250,r.push(yu.slice(0,5)),y=!0))),y||(function f8(r){Tl.setFloat64(0,r,!1)}(o),p=d3(yu,1),yu[0]=251,r.push(yu.slice(0,9)))}}Ug.encodedSize=function(t,n){const o=t.value;if(!1===o||!0===o||null==o)return 1;if(!n||!0!==n.float64){a3(o);let p=xM(yu,1);if(o===p||Number.isNaN(o))return 3;if(c3(o),p=MM(yu,1),o===p)return 5}return 9};const s3=new ArrayBuffer(9),Tl=new DataView(s3,1),yu=new Uint8Array(s3,0);function a3(r){if(r===1/0)Tl.setUint16(0,31744,!1);else if(r===-1/0)Tl.setUint16(0,64512,!1);else if(Number.isNaN(r))Tl.setUint16(0,32256,!1);else{Tl.setFloat32(0,r);const t=Tl.getUint32(0),n=(2139095040&t)>>23,o=8388607&t;if(255===n)Tl.setUint16(0,31744,!1);else if(0===n)Tl.setUint16(0,(2147483648&r)>>16|o>>13,!1);else{const p=n-127;p<-24?Tl.setUint16(0,0):Tl.setUint16(0,p<-14?(2147483648&t)>>16|1<<24+p:(2147483648&t)>>16|p+15<<10|o>>13,!1)}}}function xM(r,t){if(r.length-t<2)throw new Error(`${Oo} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const o=n>>10&31,p=1023&n;let y;return y=0===o?p*2**-24:31!==o?(p+1024)*2**(o-25):0===p?1/0:NaN,32768&n?-y:y}function c3(r){Tl.setFloat32(0,r,!1)}function MM(r,t){if(r.length-t<4)throw new Error(`${Oo} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function d3(r,t){if(r.length-t<8)throw new Error(`${Oo} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function es(r,t,n){throw new Error(`${Oo} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function x1(r){return()=>{throw new Error(`${Oo} ${r}`)}}Ug.compareTokens=Xh.compareTokens;const Zr=[];for(let r=0;r<=23;r++)Zr[r]=es;Zr[24]=function vM(r,t,n,o){return new Mi(gr.uint,Zh(r,t+1,o),2)},Zr[25]=function Rg(r,t,n,o){return new Mi(gr.uint,Yh(r,t+1,o),3)},Zr[26]=function vm(r,t,n,o){return new Mi(gr.uint,rf(r,t+1,o),5)},Zr[27]=function e3(r,t,n,o){return new Mi(gr.uint,sf(r,t+1,o),9)},Zr[28]=es,Zr[29]=es,Zr[30]=es,Zr[31]=es;for(let r=32;r<=55;r++)Zr[r]=es;Zr[56]=function bM(r,t,n,o){return new Mi(gr.negint,-1-Zh(r,t+1,o),2)},Zr[57]=function t3(r,t,n,o){return new Mi(gr.negint,-1-Yh(r,t+1,o),3)},Zr[58]=function Og(r,t,n,o){return new Mi(gr.negint,-1-rf(r,t+1,o),5)},Zr[59]=function n3(r,t,n,o){const p=sf(r,t+1,o);if("bigint"!=typeof p){const y=-1-p;if(y>=Number.MIN_SAFE_INTEGER)return new Mi(gr.negint,y,9)}if(!0!==o.allowBigInt)throw new Error(`${Oo} integers outside of the safe integer range are not supported`);return new Mi(gr.negint,g1-BigInt(p),9)},Zr[60]=es,Zr[61]=es,Zr[62]=es,Zr[63]=es;for(let r=64;r<=87;r++)Zr[r]=r3;Zr[88]=function v1(r,t,n,o){return Ng(r,t,2,Zh(r,t+1,o))},Zr[89]=function Gv(r,t,n,o){return Ng(r,t,3,Yh(r,t+1,o))},Zr[90]=function Ws(r,t,n,o){return Ng(r,t,5,rf(r,t+1,o))},Zr[91]=function kr(r,t,n,o){const p=sf(r,t+1,o);if("bigint"==typeof p)throw new Error(`${Oo} 64-bit integer bytes lengths not supported`);return Ng(r,t,9,p)},Zr[92]=es,Zr[93]=es,Zr[94]=es,Zr[95]=x1("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)Zr[r]=Jc;Zr[120]=function bm(r,t,n,o){return ma(r,t,2,Zh(r,t+1,o),o)},Zr[121]=function Fs(r,t,n,o){return ma(r,t,3,Yh(r,t+1,o),o)},Zr[122]=function Ca(r,t,n,o){return ma(r,t,5,rf(r,t+1,o),o)},Zr[123]=function mu(r,t,n,o){const p=sf(r,t+1,o);if("bigint"==typeof p)throw new Error(`${Oo} 64-bit integer string lengths not supported`);return ma(r,t,9,p,o)},Zr[124]=es,Zr[125]=es,Zr[126]=es,Zr[127]=x1("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)Zr[r]=_M;Zr[152]=function wm(r,t,n,o){return gu(0,0,2,Zh(r,t+1,o))},Zr[153]=function Gs(r,t,n,o){return gu(0,0,3,Yh(r,t+1,o))},Zr[154]=function Jh(r,t,n,o){return gu(0,0,5,rf(r,t+1,o))},Zr[155]=function _m(r,t,n,o){const p=sf(r,t+1,o);if("bigint"==typeof p)throw new Error(`${Oo} 64-bit integer array lengths not supported`);return gu(0,0,9,p)},Zr[156]=es,Zr[157]=es,Zr[158]=es,Zr[159]=function af(r,t,n,o){if(!1===o.allowIndefinite)throw new Error(`${Oo} indefinite length items not allowed`);return gu(0,0,1,1/0)};for(let r=160;r<=183;r++)Zr[r]=sh;Zr[184]=function Zv(r,t,n,o){return qh(0,0,2,Zh(r,t+1,o))},Zr[185]=function qd(r,t,n,o){return qh(0,0,3,Yh(r,t+1,o))},Zr[186]=function ki(r,t,n,o){return qh(0,0,5,rf(r,t+1,o))},Zr[187]=function b1(r,t,n,o){const p=sf(r,t+1,o);if("bigint"==typeof p)throw new Error(`${Oo} 64-bit integer map lengths not supported`);return qh(0,0,9,p)},Zr[188]=es,Zr[189]=es,Zr[190]=es,Zr[191]=function Bg(r,t,n,o){if(!1===o.allowIndefinite)throw new Error(`${Oo} indefinite length items not allowed`);return qh(0,0,1,1/0)};for(let r=192;r<=215;r++)Zr[r]=Yv;Zr[216]=function Em(r,t,n,o){return new Mi(gr.tag,Zh(r,t+1,o),2)},Zr[217]=function ga(r,t,n,o){return new Mi(gr.tag,Yh(r,t+1,o),3)},Zr[218]=function Xv(r,t,n,o){return new Mi(gr.tag,rf(r,t+1,o),5)},Zr[219]=function Ha(r,t,n,o){return new Mi(gr.tag,sf(r,t+1,o),9)},Zr[220]=es,Zr[221]=es,Zr[222]=es,Zr[223]=es;for(let r=224;r<=243;r++)Zr[r]=x1("simple values are not supported");Zr[244]=es,Zr[245]=es,Zr[246]=es,Zr[247]=function Lg(r,t,n,o){if(!1===o.allowUndefined)throw new Error(`${Oo} undefined values are not supported`);return!0===o.coerceUndefinedToNull?new Mi(gr.null,null,1):new Mi(gr.undefined,void 0,1)},Zr[248]=x1("simple values are not supported"),Zr[249]=function E1(r,t,n,o){return _1(xM(r,t+1),3,o)},Zr[250]=function EM(r,t,n,o){return _1(MM(r,t+1),5,o)},Zr[251]=function o3(r,t,n,o){return _1(d3(r,t+1),9,o)},Zr[252]=es,Zr[253]=es,Zr[254]=es,Zr[255]=function i3(r,t,n,o){if(!1===o.allowIndefinite)throw new Error(`${Oo} indefinite length items not allowed`);return new Mi(gr.break,void 0,1)};const Al=[];for(let r=0;r<24;r++)Al[r]=new Mi(gr.uint,r,1);for(let r=-1;r>=-24;r--)Al[31-r]=new Mi(gr.negint,r,1);Al[64]=new Mi(gr.bytes,new Uint8Array(0),1),Al[96]=new Mi(gr.string,"",1),Al[128]=new Mi(gr.array,0,1),Al[160]=new Mi(gr.map,0,1),Al[244]=new Mi(gr.false,!1,1),Al[245]=new Mi(gr.true,!0,1),Al[246]=new Mi(gr.null,null,1);const h8={float64:!1,mapSorter:function f3(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],o=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==o.type)return n.type.compare(o.type);const y=l3[n.type.major].compareTokens(n,o);return 0===y&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),y},quickEncodeToken:function SM(r){switch(r.type){case gr.false:return nf([244]);case gr.true:return nf([245]);case gr.null:return nf([246]);case gr.bytes:return r.value.length?void 0:nf([64]);case gr.string:return""===r.value?nf([96]):void 0;case gr.array:return 0===r.value?nf([128]):void 0;case gr.map:return 0===r.value?nf([160]):void 0;case gr.uint:return r.value<24?nf([Number(r.value)]):void 0;case gr.negint:if(r.value>=-24)return nf([31-Number(r.value)])}}},l3=function p8(){const r=[];return r[gr.uint.major]=Xh,r[gr.negint.major]=y1,r[gr.bytes.major]=ia,r[gr.string.major]=Qi,r[gr.array.major]=oh,r[gr.map.major]=Qd,r[gr.tag.major]=Wa,r[gr.float.major]=Ug,r}(),DM=new Wv;class qv{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${yM} object contains circular references`);return new qv(n,t)}}const cf={null:new Mi(gr.null,null),undefined:new Mi(gr.undefined,void 0),true:new Mi(gr.true,!0),false:new Mi(gr.false,!1),emptyArray:new Mi(gr.array,0),emptyMap:new Mi(gr.map,0)},vu={number:(r,t,n,o)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new Mi(r>=0?gr.uint:gr.negint,r):new Mi(gr.float,r),bigint:(r,t,n,o)=>r>=BigInt(0)?new Mi(gr.uint,r):new Mi(gr.negint,r),Uint8Array:(r,t,n,o)=>new Mi(gr.bytes,r),string:(r,t,n,o)=>new Mi(gr.string,r),boolean:(r,t,n,o)=>r?cf.true:cf.false,null:(r,t,n,o)=>cf.null,undefined:(r,t,n,o)=>cf.undefined,ArrayBuffer:(r,t,n,o)=>new Mi(gr.bytes,new Uint8Array(r)),DataView:(r,t,n,o)=>new Mi(gr.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,o){if(!r.length)return!0===n.addBreakTokens?[cf.emptyArray,new Mi(gr.break)]:cf.emptyArray;o=qv.createCheck(o,r);const p=[];let y=0;for(const l of r)p[y++]=Fg(l,n,o);return n.addBreakTokens?[new Mi(gr.array,r.length),p,new Mi(gr.break)]:[new Mi(gr.array,r.length),p]},Object(r,t,n,o){const p="Object"!==t,y=p?r.keys():Object.keys(r),l=p?r.size:y.length;if(!l)return!0===n.addBreakTokens?[cf.emptyMap,new Mi(gr.break)]:cf.emptyMap;o=qv.createCheck(o,r);const u=[];let J=0;for(const X of y)u[J++]=[Fg(X,n,o),Fg(p?r.get(X):r[X],n,o)];return function u3(r,t){t.mapSorter&&r.sort(t.mapSorter)}(u,n),n.addBreakTokens?[new Mi(gr.map,l),u,new Mi(gr.break)]:[new Mi(gr.map,l),u]}};vu.Map=vu.Object,vu.Buffer=vu.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))vu[`${r}Array`]=vu.DataView;function Fg(r,t={},n){const o=function uM(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(hu.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function fM(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function Vv(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(pa.includes(t))return t}(r);return n||"Object"}(r),p=t&&t.typeEncoders&&t.typeEncoders[o]||vu[o];if("function"==typeof p){const l=p(r,o,t,n);if(null!=l)return l}const y=vu[o];if(!y)throw new Error(`${yM} unsupported type: ${o}`);return y(r,o,t,n)}function M1(r,t,n,o){if(Array.isArray(t))for(const p of t)M1(r,p,n,o);else n[t.type.major](r,t,o)}function IM(r,t,n){const o=Fg(r,n);if(!Array.isArray(o)&&n.quickEncodeToken){const p=n.quickEncodeToken(o);if(p)return p;const y=t[o.type.major];if(y.encodedSize){const l=y.encodedSize(o,n),u=new Wv(l);if(y(u,o,n),1!==u.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${o} was wrong`);return Cg(u.chunks[0])}}return DM.reset(),M1(DM,o,t,n),DM.toBytes(!0)}const S1={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class p3{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=Al[t];if(void 0===n){const o=Zr[t];if(!o)throw new Error(`${Oo} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=o(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const vd=Symbol.for("DONE"),jg=Symbol.for("BREAK");function ep(r,t){if(r.done())return vd;const n=r.next();if(n.type===gr.break)return jg;if(n.type.terminal)return n.value;if(n.type===gr.array)return function TM(r,t,n){const o=[];for(let p=0;p<r.value;p++){const y=ep(t,n);if(y===jg){if(r.value===1/0)break;throw new Error(`${Oo} got unexpected break to lengthed array`)}if(y===vd)throw new Error(`${Oo} found array but not enough entries (got ${p}, expected ${r.value})`);o[p]=y}return o}(n,r,t);if(n.type===gr.map)return function ts(r,t,n){const o=!0===n.useMaps,p=o?void 0:{},y=o?new Map:void 0;for(let l=0;l<r.value;l++){const u=ep(t,n);if(u===jg){if(r.value===1/0)break;throw new Error(`${Oo} got unexpected break to lengthed map`)}if(u===vd)throw new Error(`${Oo} found map but not enough entries (got ${l} [no key], expected ${r.value})`);if(!0!==o&&"string"!=typeof u)throw new Error(`${Oo} non-string keys not supported (got ${typeof u})`);if(!0===n.rejectDuplicateMapKeys&&(o&&y.has(u)||!o&&u in p))throw new Error(`${Oo} found repeat map key "${u}"`);const J=ep(t,n);if(J===vd)throw new Error(`${Oo} found map but not enough entries (got ${l} [no value], expected ${r.value})`);o?y.set(u,J):p[u]=J}return o?y:p}(n,r,t);if(n.type===gr.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const o=ep(r,t);return t.tags[n.value](o)}throw new Error(`${Oo} tag not supported (${n.value})`)}throw new Error("unsupported")}const bd=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class Vg{constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class D1{constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return zg(this,t)}}class Qv{constructor(t){this.decoders=t}or(t){return zg(this,t)}decode(t){const o=this.decoders[t[0]];if(o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const zg=(r,t)=>new Qv({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class I1{constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new Vg(t,n,o),this.decoder=new D1(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const bu=({name:r,prefix:t,encode:n,decode:o})=>new I1(r,t,n,o),Xi=({prefix:r,name:t,alphabet:n})=>{const{encode:o,decode:p}=function qc(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Xe=0;if(" "!==Pe[Xe]){for(var vt=0,Tt=0;Pe[Xe]===J;)vt++,Xe++;for(var bt=(Pe.length-Xe)*X+1>>>0,wt=new Uint8Array(bt);Pe[Xe];){var Ct=n[Pe.charCodeAt(Xe)];if(255===Ct)return;for(var Wt=0,Jt=bt-1;(0!==Ct||Wt<Tt)&&-1!==Jt;Jt--,Wt++)wt[Jt]=(Ct+=u*wt[Jt]>>>0)%256>>>0,Ct=Ct/256>>>0;if(0!==Ct)throw new Error("Non-zero carry");Tt=Wt,Xe++}if(" "!==Pe[Xe]){for(var an=bt-Tt;an!==bt&&0===wt[an];)an++;for(var Vt=new Uint8Array(vt+(bt-an)),In=vt;an!==bt;)Vt[In++]=wt[an++];return Vt}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Xe=0,vt=0,Tt=0,bt=Pe.length;Tt!==bt&&0===Pe[Tt];)Tt++,Xe++;for(var wt=(bt-Tt)*N+1>>>0,Ct=new Uint8Array(wt);Tt!==bt;){for(var Wt=Pe[Tt],Jt=0,an=wt-1;(0!==Wt||Jt<vt)&&-1!==an;an--,Jt++)Ct[an]=(Wt+=256*Ct[an]>>>0)%u>>>0,Wt=Wt/u>>>0;if(0!==Wt)throw new Error("Non-zero carry");vt=Jt,Tt++}for(var Vt=wt-vt;Vt!==wt&&0===Ct[Vt];)Vt++;for(var In=J.repeat(Xe);Vt<wt;++Vt)In+=r.charAt(Ct[Vt]);return In},decodeUnsafe:Ee,decode:function Le(Pe){var Xe=Ee(Pe);if(Xe)return Xe;throw new Error(`Non-${t} character`)}}}(n,t);return bu({prefix:r,name:t,encode:o,decode:y=>bd(p(y))})},wu=({name:r,prefix:t,bitsPerChar:n,alphabet:o})=>bu({prefix:t,name:r,encode:p=>((r,t,n)=>{const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y})(p,o,n),decode:p=>((r,t,n,o)=>{const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l})(p,o,n,r)}),A1=wu({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ah=(wu({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wu({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wu({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wu({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wu({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wu({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wu({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),wu({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Xi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));Xi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Mo=128,kM=-128,hs=Math.pow(2,31),_u=128,tb=127,_3=Math.pow(2,7),x8=Math.pow(2,14),M8=Math.pow(2,21),PM=Math.pow(2,28),RM=Math.pow(2,35),OM=Math.pow(2,42),Qc=Math.pow(2,49),df=Math.pow(2,56),NM=Math.pow(2,63);const Gg={encode:function C1(r,t,n){t=t||[];for(var o=n=n||0;r>=hs;)t[n++]=255&r|Mo,r/=128;for(;r&kM;)t[n++]=255&r|Mo,r>>>=7;return t[n]=0|r,C1.bytes=n-o+1,t},decode:function Wg(r,o){var l,n=0,p=0,y=o=o||0,u=r.length;do{if(y>=u)throw Wg.bytes=0,new RangeError("Could not decode varint");l=r[y++],n+=p<28?(l&tb)<<p:(l&tb)*Math.pow(2,p),p+=7}while(l>=_u);return Wg.bytes=y-o,n},encodingLength:function(r){return r<_3?1:r<x8?2:r<M8?3:r<PM?4:r<RM?5:r<OM?6:r<Qc?7:r<df?8:r<NM?9:10}},k1=(r,t=0)=>[Gg.decode(r,t),Gg.decode.bytes],nb=(r,t,n=0)=>(Gg.encode(r,t,n),t),Sm=r=>Gg.encodingLength(r);class O1{constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}const ib=(r,t)=>{const{bytes:n,version:o}=r;return 0===o?M3(n,ob(r),t||ah.encoder):Oc(n,ob(r),t||A1.encoder)},N1=new WeakMap,ob=r=>{const t=N1.get(r);if(null==t){const n=new Map;return N1.set(r,n),n}return t};class ka{constructor(t,n,o,p){this.code=n,this.version=t,this.multihash=o,this.bytes=p,this["/"]=p}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==kl)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==js)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ka.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,o=((r,t)=>{const n=t.byteLength,o=Sm(r),p=o+Sm(n),y=new Uint8Array(p+n);return nb(r,y,0),nb(n,y,o),y.set(t,p),new O1(r,n,t,y)})(t,n);return ka.createV1(this.code,o)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return ka.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return ib(this,t)}toJSON(){return{"/":ib(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof ka)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:o,code:p,multihash:y,bytes:l}=n;return new ka(o,p,y,l||L1(o,p,y.bytes))}if(!0===n[S3]){const{version:o,multihash:p,code:y}=n,l=(r=>{const t=bd(r),[n,o]=k1(t),[p,y]=k1(t.subarray(o)),l=t.subarray(o+y);if(l.byteLength!==p)throw new Error("Incorrect length");return new O1(n,p,l,t)})(p);return ka.create(o,y,l)}return null}static create(t,n,o){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(o.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==kl)throw new Error(`Version 0 CID must use dag-pb (code: ${kl}) block encoding`);return new ka(t,n,o,o.bytes);case 1:{const p=L1(t,n,o.bytes);return new ka(t,n,o,p)}default:throw new Error("Invalid version")}}static createV0(t){return ka.create(0,kl,t)}static createV1(t,n){return ka.create(1,t,n)}static decode(t){const[n,o]=ka.decodeFirst(t);if(o.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=ka.inspectBytes(t),o=n.size-n.multihashSize,p=bd(t.subarray(o,o+n.multihashSize));if(p.byteLength!==n.multihashSize)throw new Error("Incorrect length");const y=p.subarray(n.multihashSize-n.digestSize),l=new O1(n.multihashCode,n.digestSize,y,p);return[0===n.version?ka.createV0(l):ka.createV1(n.codec,l),t.subarray(n.size)]}static inspectBytes(t){let n=0;const o=()=>{const[oe,Ee]=k1(t.subarray(n));return n+=Ee,oe};let p=o(),y=kl;if(18===p?(p=0,n=0):y=o(),0!==p&&1!==p)throw new RangeError(`Invalid CID version ${p}`);const l=n,u=o(),J=o(),X=n+J;return{version:p,codec:y,multihashCode:u,digestSize:J,multihashSize:X-l,size:X}}static parse(t,n){const[o,p]=B1(t,n),y=ka.decode(p);if(0===y.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return ob(y).set(o,t),y}}const B1=(r,t)=>{switch(r[0]){case"Q":return[ah.prefix,(t||ah).decode(`${ah.prefix}${r}`)];case ah.prefix:return[ah.prefix,(t||ah).decode(r)];case A1.prefix:return[A1.prefix,(t||A1).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},M3=(r,t,n)=>{const{prefix:o}=n;if(o!==ah.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const p=t.get(o);if(null==p){const y=n.encode(r).slice(1);return t.set(o,y),y}return p},Oc=(r,t,n)=>{const{prefix:o}=n,p=t.get(o);if(null==p){const y=n.encode(r);return t.set(o,y),y}return p},kl=112,js=18,L1=(r,t,n)=>{const o=Sm(r),p=o+Sm(t),y=new Uint8Array(p+n.byteLength);return nb(r,y,0),nb(t,y,o),y.set(n,p),y},S3=Symbol.for("@ipld/js-cid/CID"),Zg={float64:!0,typeEncoders:{Object:function D3(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=ka.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Mi(gr.tag,42),new Mi(gr.bytes,n)]},undefined:function LM(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function UM(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},FM={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};FM.tags[42]=function Eu(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return ka.decode(r.subarray(1))};const sb="dag-cbor",tp=113,ab=r=>function h3(r,t){return t=Object.assign({},h8,t),IM(r,l3,t)}(r,Zg),cb=r=>function $g(r,t){if(!(r instanceof Uint8Array))throw new Error(`${Oo} data to decode must be a Uint8Array`);const n=(t=Object.assign({},S1,t)).tokenizer||new p3(r,t),o=ep(n,t);if(o===vd)throw new Error(`${Oo} did not find any content to decode`);if(o===jg)throw new Error(`${Oo} got unexpected break`);if(!n.done())throw new Error(`${Oo} too many terminals, data makes no sense`);return o}(r,FM);var el=E(41405),uf=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},db=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}},oa=function(r){return this instanceof oa?(this.v=r,this):new oa(r)},ch=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,o=n.apply(r,t||[]),y=[];return p={},l("next"),l("throw"),l("return"),p[Symbol.asyncIterator]=function(){return this},p;function l(Ee){o[Ee]&&(p[Ee]=function(Le){return new Promise(function(Pe,Xe){y.push([Ee,Le,Pe,Xe])>1||u(Ee,Le)})})}function u(Ee,Le){try{!function J(Ee){Ee.value instanceof oa?Promise.resolve(Ee.value.v).then(X,N):oe(y[0][2],Ee)}(o[Ee](Le))}catch(Pe){oe(y[0][3],Pe)}}function X(Ee){u("next",Ee)}function N(Ee){u("throw",Ee)}function oe(Ee,Le){Ee(Le),y.shift(),y.length&&u(y[0][0],y[0][1])}};class jM{open(){return uf(this,void 0,void 0,function*(){})}close(){return uf(this,void 0,void 0,function*(){})}put(t,n,o){return uf(this,void 0,void 0,function*(){return t})}get(t,n){return uf(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return uf(this,void 0,void 0,function*(){return!1})}delete(t,n){return uf(this,void 0,void 0,function*(){})}isEmpty(t){return uf(this,void 0,void 0,function*(){return!0})}putMany(t,n){return ch(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=db(t);!(p=(N=yield oa(X.next())).done);J=!0){J=!1;const oe=N.value;yield oa(this.put(oe.cid,oe.block,n)),yield yield oa(oe.cid)}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield oa(l.call(X)))}finally{if(y)throw y.error}}})}getMany(t,n){return ch(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=db(t);!(p=(N=yield oa(X.next())).done);J=!0){J=!1;const oe=N.value;yield yield oa({cid:oe,block:yield oa(this.get(oe,n))})}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield oa(l.call(X)))}finally{if(y)throw y.error}}})}getAll(t){return ch(this,arguments,function*(){var o,p,y,l;const u=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var N,J=!0,X=db(u);!(o=(N=yield oa(X.next())).done);J=!0){l=N.value,J=!1;const[oe,Ee]=l;yield yield oa({cid:el.TO.decode(oe),block:Ee})}}catch(oe){p={error:oe}}finally{try{!J&&!o&&(y=X.return)&&(yield oa(y.call(X)))}finally{if(p)throw p.error}}})}deleteMany(t,n){return ch(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=db(t);!(p=(N=yield oa(X.next())).done);J=!0){J=!1;const oe=N.value;yield oa(this.delete(oe,n)),yield yield oa(oe)}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield oa(l.call(X)))}finally{if(y)throw y.error}}})}clear(){return uf(this,void 0,void 0,function*(){})}}var Bd=E(41861);function F1(r,t){this.v=r,this.k=t}function si(r){return new F1(r,0)}function Yg(r){var t,n;function o(y,l){try{var u=r[y](l),J=u.value,X=J instanceof F1;Promise.resolve(X?J.v:J).then(function(N){if(X){var oe="return"===y?"return":"next";if(!J.k||N.done)return o(oe,N);N=r[oe](N).value}p(u.done?"return":"normal",N)},function(N){o("throw",N)})}catch(N){p("throw",N)}}function p(y,l){switch(y){case"return":t.resolve({value:l,done:!0});break;case"throw":t.reject(l);break;default:t.resolve({value:l,done:!1})}(t=t.next)?o(t.key,t.arg):n=null}this._invoke=function(y,l){return new Promise(function(u,J){var X={key:y,arg:l,resolve:u,reject:J,next:null};n?n=n.next=X:(t=n=X,o(y,l))})},"function"!=typeof r.return&&(this.return=void 0)}function Xo(r){return function(){return new Yg(r.apply(this,arguments))}}function ko(r){var t,n,o,p=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,o=Symbol.iterator);p--;){if(n&&null!=(t=r[n]))return t.call(r);if(o&&null!=(t=r[o]))return new Dm(t.call(r));n="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}function Dm(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var o=n.done;return Promise.resolve(n.value).then(function(p){return{value:p,done:o}})}return(Dm=function(o){this.s=o,this.n=o.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(o){var p=this.s.return;return void 0===p?Promise.resolve({value:o,done:!0}):t(p.apply(this.s,arguments))},throw:function(o){var p=this.s.return;return void 0===p?Promise.reject(o):t(p.apply(this.s,arguments))}},new Dm(r)}Yg.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Yg.prototype.next=function(r){return this._invoke("next",r)},Yg.prototype.throw=function(r){return this._invoke("throw",r)},Yg.prototype.return=function(r){return this._invoke("return",r)};var np=E(5014);const $M=function Xg(r,t=1){return t=Number(t),function j1(r){return null!=r[Symbol.asyncIterator]}(r)?Xo(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var y,o=!1,p=!1;try{for(var u,l=ko(r);o=!(u=yield si(l.next())).done;o=!1)for(n.push(u.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(J){p=!0,y=J}finally{try{o&&null!=l.return&&(yield si(l.return()))}finally{if(p)throw y}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const o of r)for(n.push(o);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function Im(r){return lb.apply(this,arguments)}function lb(){return lb=Xo(function*(r,t=1){var p,n=!1,o=!1;try{for(var l,y=ko($M(r,t));n=!(l=yield si(y.next())).done;n=!1){const J=l.value.map(function(){var X=(0,Ne.A)(function*(N){return N().then(oe=>({ok:!0,value:oe}),oe=>({ok:!1,err:oe}))});return function(N){return X.apply(this,arguments)}}());for(let X=0;X<J.length;X++){const N=yield si(J[X]);if(!N.ok)throw N.err;yield N.value}}}catch(u){o=!0,p=u}finally{try{n&&null!=y.return&&(yield si(y.return()))}finally{if(o)throw p}}}),lb.apply(this,arguments)}function xu(r=0){return new Uint8Array(r)}function Tm(r=0){return new Uint8Array(r)}function $1(r,t){null==t&&(t=r.reduce((p,y)=>p+y.length,0));const n=Tm(t);let o=0;for(const p of r)n.set(p,o),o+=p.length;return n}function KM(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const VM=Symbol.for("@achingbrain/uint8arraylist");function Pl(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const o of r){const p=n+o.byteLength;if(t<p)return{buf:o,index:t-n};n=p}throw new RangeError("index is out of bounds")}function ub(r){return!!r?.[VM]}class Mu{bufs;length;[VM]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const o of t)if(o instanceof Uint8Array)n+=o.byteLength,this.bufs.push(o);else{if(!ub(o))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=o.byteLength,this.bufs.push(...o.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const o of t.reverse())if(o instanceof Uint8Array)n+=o.byteLength,this.bufs.unshift(o);else{if(!ub(o))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=o.byteLength,this.bufs.unshift(...o.bufs)}this.length+=n}get(t){const n=Pl(this.bufs,t);return n.buf[n.index]}set(t,n){const o=Pl(this.bufs,t);o.buf[o.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let o=0;o<t.length;o++)this.set(n+o,t[o]);else{if(!ub(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let o=0;o<t.length;o++)this.set(n+o,t.get(o))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:o,length:p}=this._subList(t,n);return $1(o,p)}subarray(t,n){const{bufs:o,length:p}=this._subList(t,n);return 1===o.length?o[0]:$1(o,p)}sublist(t,n){const{bufs:o,length:p}=this._subList(t,n),y=new Mu;return y.length=p,y.bufs=[...o],y}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const o=[];let p=0;for(let y=0;y<this.bufs.length;y++){const l=this.bufs[y],u=p,J=u+l.byteLength;if(p=J,t>=J)continue;const X=t>=u&&t<J,N=n>u&&n<=J;if(X&&N){if(t===u&&n===J){o.push(l);break}const oe=t-u;o.push(l.subarray(oe,oe+(n-t)));break}if(X){if(0===t){o.push(l);continue}o.push(l.subarray(t-u))}else{if(N){if(n===J){o.push(l);break}o.push(l.subarray(0,n-u));break}o.push(l)}}return{bufs:o,length:n-t}}indexOf(t,n=0){if(!(ub(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const o=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const p=o.byteLength;if(0===p)throw new TypeError("search must be at least 1 byte long");const l=new Int32Array(256);for(let oe=0;oe<256;oe++)l[oe]=-1;for(let oe=0;oe<p;oe++)l[o[oe]]=oe;const u=l,J=this.byteLength-o.byteLength,X=o.byteLength-1;let N;for(let oe=n;oe<=J;oe+=N){N=0;for(let Ee=X;Ee>=0;Ee--){const Le=this.get(oe+Ee);if(o[Ee]!==Le){N=Math.max(1,Ee-u[Le]);break}}if(0===N)return oe}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const o=Tm(1);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt8(0,n),this.write(o,t)}getInt16(t,n){const o=this.subarray(t,t+2);return new DataView(o.buffer,o.byteOffset,o.byteLength).getInt16(0,n)}setInt16(t,n,o){const p=xu(2);new DataView(p.buffer,p.byteOffset,p.byteLength).setInt16(0,n,o),this.write(p,t)}getInt32(t,n){const o=this.subarray(t,t+4);return new DataView(o.buffer,o.byteOffset,o.byteLength).getInt32(0,n)}setInt32(t,n,o){const p=xu(4);new DataView(p.buffer,p.byteOffset,p.byteLength).setInt32(0,n,o),this.write(p,t)}getBigInt64(t,n){const o=this.subarray(t,t+8);return new DataView(o.buffer,o.byteOffset,o.byteLength).getBigInt64(0,n)}setBigInt64(t,n,o){const p=xu(8);new DataView(p.buffer,p.byteOffset,p.byteLength).setBigInt64(0,n,o),this.write(p,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const o=Tm(1);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint8(0,n),this.write(o,t)}getUint16(t,n){const o=this.subarray(t,t+2);return new DataView(o.buffer,o.byteOffset,o.byteLength).getUint16(0,n)}setUint16(t,n,o){const p=xu(2);new DataView(p.buffer,p.byteOffset,p.byteLength).setUint16(0,n,o),this.write(p,t)}getUint32(t,n){const o=this.subarray(t,t+4);return new DataView(o.buffer,o.byteOffset,o.byteLength).getUint32(0,n)}setUint32(t,n,o){const p=xu(4);new DataView(p.buffer,p.byteOffset,p.byteLength).setUint32(0,n,o),this.write(p,t)}getBigUint64(t,n){const o=this.subarray(t,t+8);return new DataView(o.buffer,o.byteOffset,o.byteLength).getBigUint64(0,n)}setBigUint64(t,n,o){const p=xu(8);new DataView(p.buffer,p.byteOffset,p.byteLength).setBigUint64(0,n,o),this.write(p,t)}getFloat32(t,n){const o=this.subarray(t,t+4);return new DataView(o.buffer,o.byteOffset,o.byteLength).getFloat32(0,n)}setFloat32(t,n,o){const p=xu(4);new DataView(p.buffer,p.byteOffset,p.byteLength).setFloat32(0,n,o),this.write(p,t)}getFloat64(t,n){const o=this.subarray(t,t+8);return new DataView(o.buffer,o.byteOffset,o.byteLength).getFloat64(0,n)}setFloat64(t,n,o){const p=xu(8);new DataView(p.buffer,p.byteOffset,p.byteLength).setFloat64(0,n,o),this.write(p,t)}equals(t){if(null==t||!(t instanceof Mu)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!KM(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const o=new Mu;return o.bufs=t,null==n&&(n=t.reduce((p,y)=>p+y.byteLength,0)),o.length=n,o}}const zM=(r={})=>{const t=r.chunkSize??262144;return function(){var n=Xo(function*(p){let y=new Mu,l=0,u=!1;var N,J=!1,X=!1;try{for(var Ee,oe=ko(p);J=!(Ee=yield si(oe.next())).done;J=!1){const Le=Ee.value;for(y.append(Le),l+=Le.length;l>=t;)if(yield y.slice(0,t),u=!0,t===y.length)y=new Mu,l=0;else{const Pe=new Mu;Pe.append(y.sublist(t)),y=Pe,l-=t}}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield si(oe.return()))}finally{if(X)throw N}}(!u||l>0)&&(yield y.subarray(0,l))});return function o(p){return n.apply(this,arguments)}}()};function hb(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class ZM{name;prefix;baseEncode;constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Am{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Pa(this,t)}}class Cm{decoders;constructor(t){this.decoders=t}or(t){return Pa(this,t)}decode(t){const o=this.decoders[t[0]];if(null!=o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Pa(r,t){return new Cm({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class C3{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new ZM(t,n,o),this.decoder=new Am(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function V1({name:r,prefix:t,encode:n,decode:o}){return new C3(r,t,n,o)}function mb({name:r,prefix:t,alphabet:n}){const{encode:o,decode:p}=function pb(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Xe=0;if(" "!==Pe[Xe]){for(var vt=0,Tt=0;Pe[Xe]===J;)vt++,Xe++;for(var bt=(Pe.length-Xe)*X+1>>>0,wt=new Uint8Array(bt);Pe[Xe];){var Ct=n[Pe.charCodeAt(Xe)];if(255===Ct)return;for(var Wt=0,Jt=bt-1;(0!==Ct||Wt<Tt)&&-1!==Jt;Jt--,Wt++)wt[Jt]=(Ct+=u*wt[Jt]>>>0)%256>>>0,Ct=Ct/256>>>0;if(0!==Ct)throw new Error("Non-zero carry");Tt=Wt,Xe++}if(" "!==Pe[Xe]){for(var an=bt-Tt;an!==bt&&0===wt[an];)an++;for(var Vt=new Uint8Array(vt+(bt-an)),In=vt;an!==bt;)Vt[In++]=wt[an++];return Vt}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Xe=0,vt=0,Tt=0,bt=Pe.length;Tt!==bt&&0===Pe[Tt];)Tt++,Xe++;for(var wt=(bt-Tt)*N+1>>>0,Ct=new Uint8Array(wt);Tt!==bt;){for(var Wt=Pe[Tt],Jt=0,an=wt-1;(0!==Wt||Jt<vt)&&-1!==an;an--,Jt++)Ct[an]=(Wt+=256*Ct[an]>>>0)%u>>>0,Wt=Wt/u>>>0;if(0!==Wt)throw new Error("Non-zero carry");vt=Jt,Tt++}for(var Vt=wt-vt;Vt!==wt&&0===Ct[Vt];)Vt++;for(var In=J.repeat(Xe);Vt<wt;++Vt)In+=r.charAt(Ct[Vt]);return In},decodeUnsafe:Ee,decode:function Le(Pe){var Xe=Ee(Pe);if(Xe)return Xe;throw new Error(`Non-${t} character`)}}}(n,r);return V1({prefix:t,name:r,encode:o,decode:y=>hb(p(y))})}function tl({name:r,prefix:t,bitsPerChar:n,alphabet:o}){return V1({prefix:t,name:r,encode:p=>function YM(r,t,n){const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(0!==l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y}(p,o,n),decode:p=>function k3(r,t,n,o){const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l}(p,o,n,r)})}const gb=tl({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dh=(tl({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tl({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tl({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tl({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tl({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tl({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tl({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tl({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),mb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));mb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var JM=128,qM=-128,QM=Math.pow(2,31),L3=128,U3=127,P8=Math.pow(2,7),H1=Math.pow(2,14),Rl=Math.pow(2,21),eS=Math.pow(2,28),ip=Math.pow(2,35),F3=Math.pow(2,42),j3=Math.pow(2,49),tS=Math.pow(2,56),R8=Math.pow(2,63);const W1={encode:function Fa(r,t,n){t=t||[];for(var o=n=n||0;r>=QM;)t[n++]=255&r|JM,r/=128;for(;r&qM;)t[n++]=255&r|JM,r>>>=7;return t[n]=0|r,Fa.bytes=n-o+1,t},decode:function yb(r,o){var l,n=0,p=0,y=o=o||0,u=r.length;do{if(y>=u)throw yb.bytes=0,new RangeError("Could not decode varint");l=r[y++],n+=p<28?(l&U3)<<p:(l&U3)*Math.pow(2,p),p+=7}while(l>=L3);return yb.bytes=y-o,n},encodingLength:function(r){return r<P8?1:r<H1?2:r<Rl?3:r<eS?4:r<ip?5:r<F3?6:r<j3?7:r<tS?8:r<R8?9:10}};function G1(r,t=0){return[W1.decode(r,t),W1.decode.bytes]}function ff(r,t,n=0){return W1.encode(r,t,n),t}function lh(r){return W1.encodingLength(r)}class Z1{code;size;digest;bytes;constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}function nl(r,t){const{bytes:n,version:o}=r;return 0===o?function vb(r,t,n){const{prefix:o}=n;if(o!==dh.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const p=t.get(o);if(null==p){const y=n.encode(r).slice(1);return t.set(o,y),y}return p}(n,X1(r),t??dh.encoder):function bb(r,t,n){const{prefix:o}=n,p=t.get(o);if(null==p){const y=n.encode(r);return t.set(o,y),y}return p}(n,X1(r),t??gb.encoder)}const km=new WeakMap;function X1(r){const t=km.get(r);if(null==t){const n=new Map;return km.set(r,n),n}return t}class sa{code;version;multihash;bytes;"/";constructor(t,n,o,p){this.code=n,this.version=t,this.multihash=o,this.bytes=p,this["/"]=p}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==sp)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==$3)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return sa.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,o=function nS(r,t){const n=t.byteLength,o=lh(r),p=o+lh(n),y=new Uint8Array(p+n);return ff(r,y,0),ff(n,y,o),y.set(t,p),new Z1(r,n,t,y)}(t,n);return sa.createV1(this.code,o)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return sa.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function L8(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function WM(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return nl(this,t)}toJSON(){return{"/":nl(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof sa)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:o,code:p,multihash:y,bytes:l}=n;return new sa(o,p,y,l??iS(o,p,y.bytes))}if(!0===n[K3]){const{version:o,multihash:p,code:y}=n,l=function op(r){const t=hb(r),[n,o]=G1(t),[p,y]=G1(t.subarray(o)),l=t.subarray(o+y);if(l.byteLength!==p)throw new Error("Incorrect length");return new Z1(n,p,l,t)}(p);return sa.create(o,y,l)}return null}static create(t,n,o){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(o.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==sp)throw new Error(`Version 0 CID must use dag-pb (code: ${sp}) block encoding`);return new sa(t,n,o,o.bytes);case 1:{const p=iS(t,n,o.bytes);return new sa(t,n,o,p)}default:throw new Error("Invalid version")}}static createV0(t){return sa.create(0,sp,t)}static createV1(t,n){return sa.create(1,t,n)}static decode(t){const[n,o]=sa.decodeFirst(t);if(0!==o.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=sa.inspectBytes(t),o=n.size-n.multihashSize,p=hb(t.subarray(o,o+n.multihashSize));if(p.byteLength!==n.multihashSize)throw new Error("Incorrect length");const y=p.subarray(n.multihashSize-n.digestSize),l=new Z1(n.multihashCode,n.digestSize,y,p);return[0===n.version?sa.createV0(l):sa.createV1(n.codec,l),t.subarray(n.size)]}static inspectBytes(t){let n=0;const o=()=>{const[oe,Ee]=G1(t.subarray(n));return n+=Ee,oe};let p=o(),y=sp;if(18===p?(p=0,n=0):y=o(),0!==p&&1!==p)throw new RangeError(`Invalid CID version ${p}`);const l=n,u=o(),J=o(),X=n+J;return{version:p,codec:y,multihashCode:u,digestSize:J,multihashSize:X-l,size:X}}static parse(t,n){const[o,p]=function rS(r,t){switch(r[0]){case"Q":return[dh.prefix,(t??dh).decode(`${dh.prefix}${r}`)];case dh.prefix:return[dh.prefix,(t??dh).decode(r)];case gb.prefix:return[gb.prefix,(t??gb).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),y=sa.decode(p);if(0===y.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return X1(y).set(o,t),y}}const sp=112,$3=18;function iS(r,t,n){const o=lh(r),p=o+lh(t),y=new Uint8Array(p+n.byteLength);return ff(r,y,0),ff(t,y,o),y.set(n,p),y}const K3=Symbol.for("@ipld/js-cid/CID"),oS=new TextDecoder;function J1(r,t){let n=0;for(let o=0;;o+=7){if(o>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const p=r[t++];if(n+=o<28?(127&p)<<o:(127&p)*2**o,p<128)break}return[n,t]}function wb(r,t){let n;[n,t]=J1(r,t);const o=t+n;if(n<0||o<0)throw new Error("protobuf: invalid length");if(o>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,o),o]}function ed(r,t){let n;return[n,t]=J1(r,t),[7&n,n>>3,t]}function q1(r){const t={},n=r.length;let o=0;for(;o<n;){let p,y;if([p,y,o]=ed(r,o),1===y){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==p)throw new Error(`protobuf: (PBLink) wrong wireType (${p}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,o]=wb(r,o)}else if(2===y){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==p)throw new Error(`protobuf: (PBLink) wrong wireType (${p}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let l;[l,o]=wb(r,o),t.Name=oS.decode(l)}else{if(3!==y)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${y}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==p)throw new Error(`protobuf: (PBLink) wrong wireType (${p}) for Tsize`);[t.Tsize,o]=J1(r,o)}}if(o>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const Jg=new TextEncoder,V3=2**32,F8=2**31;function Nc(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=qg(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const o=Jg.encode(r.Name);n-=o.length,t.set(o,n),n=qg(t,n,o.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=qg(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function aS(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+ap(n)}if("string"==typeof r.Name){const n=Jg.encode(r.Name).length;t+=1+n+ap(n)}return"number"==typeof r.Tsize&&(t+=1+ap(r.Tsize)),t}function qg(r,t,n){const o=t-=ap(n);for(;n>=F8;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,o}function ap(r){return r%2==0&&r++,Math.floor((function z3(r){let t=0;return r>=V3&&(r=Math.floor(r/V3),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+dS[r]}(r)+6)/7)}const dS=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],H3=["Data","Links"],lS=["Hash","Name","Tsize"],Q1=new TextEncoder;function uS(r,t){if(r===t)return 0;const n=r.Name?Q1.encode(r.Name):[],o=t.Name?Q1.encode(t.Name):[];let p=n.length,y=o.length;for(let l=0,u=Math.min(p,y);l<u;++l)if(n[l]!==o[l]){p=n[l],y=o[l];break}return p<y?-1:y<p?1:0}function fS(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function hS(r){if("object"==typeof r.asCID){const n=sa.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=sa.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=sa.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=sa.decode(r.Hash)))}catch(o){throw new TypeError(`Invalid DAG-PB form: ${o.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function hf(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=Q1.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map(hS),t.Links.sort(uS)}else t.Links=[];return t}function e2(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!fS(r,H3))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!fS(n,lS))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===uS(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function pS(r,t=[]){return hf({Data:r,Links:t})}function _b(r,t,n){return hS({Hash:n,Name:r,Tsize:t})}const gS="dag-pb",Eb=112;function pf(r){e2(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const o={};return n.Hash&&(o.Hash=n.Hash.bytes),void 0!==n.Name&&(o.Name=n.Name),void 0!==n.Tsize&&(o.Tsize=n.Tsize),o})),r.Data&&(t.Data=r.Data),function Pm(r){const t=function cS(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+ap(n)}if(r.Links)for(const n of r.Links){const o=aS(n);t+=1+o+ap(o)}return t}(r),n=new Uint8Array(t);let o=t;if(r.Data&&(o-=r.Data.length,n.set(r.Data,o),o=qg(n,o,r.Data.length)-1,n[o]=10),r.Links)for(let p=r.Links.length-1;p>=0;p--){const y=Nc(r.Links[p],n.subarray(0,o));o-=y,o=qg(n,o,y)-1,n[o]=18}return n}(t)}function Qg(r){const t=function mS(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function sS(r){const t=r.length;let o,y,n=0,p=!1;for(;n<t;){let u,J;if([u,J,n]=ed(r,n),2!==u)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${u}`);if(1===J){if(y)throw new Error("protobuf: (PBNode) duplicate Data section");[y,n]=wb(r,n),o&&(p=!0)}else{if(2!==J)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${J}`);{if(p)throw new Error("protobuf: (PBNode) duplicate Links section");let X;o||(o=[]),[X,n]=wb(r,n),o.push(q1(X))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const l={};return y&&(l.Data=y),l.Links=o||[],l}(t),o={};return n.Data&&(o.Data=n.Data),n.Links&&(o.Links=n.Links.map(p=>{const y={};try{y.Hash=sa.decode(p.Hash)}catch{}if(!y.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==p.Name&&(y.Name=p.Name),void 0!==p.Tsize&&(y.Tsize=p.Tsize),y})),o}var yS=E(3087);const W3=Math.pow(2,7),G3=Math.pow(2,14),vS=Math.pow(2,21),bS=Math.pow(2,28),xb=Math.pow(2,35),t2=Math.pow(2,42),n2=Math.pow(2,49),ps=128,Bc=127;function Rm(r){if(r<W3)return 1;if(r<G3)return 2;if(r<vS)return 3;if(r<bS)return 4;if(r<xb)return 5;if(r<t2)return 6;if(r<n2)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function Mb(r,t,n=0){switch(Rm(r)){case 8:t[n++]=255&r|ps,r/=128;case 7:t[n++]=255&r|ps,r/=128;case 6:t[n++]=255&r|ps,r/=128;case 5:t[n++]=255&r|ps,r/=128;case 4:t[n++]=255&r|ps,r>>>=7;case 3:t[n++]=255&r|ps,r>>>=7;case 2:t[n++]=255&r|ps,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const cp=new Float32Array([-0]),td=new Uint8Array(cp.buffer);function X3(r,t,n){cp[0]=r,t[n]=td[0],t[n+1]=td[1],t[n+2]=td[2],t[n+3]=td[3]}const Db=new Float64Array([-0]),ns=new Uint8Array(Db.buffer);function Ib(r,t,n){Db[0]=r,t[n]=ns[0],t[n+1]=ns[1],t[n+2]=ns[2],t[n+3]=ns[3],t[n+4]=ns[4],t[n+5]=ns[5],t[n+6]=ns[6],t[n+7]=ns[7]}const Om=BigInt(Number.MAX_SAFE_INTEGER),Tb=BigInt(Number.MIN_SAFE_INTEGER);class Ga{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let o=~this.hi>>>0;return 0===n&&(o=o+1>>>0),-(n+4294967296*o)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let o=~this.hi>>>0;return 0===n&&(o=o+1>>>0),-(BigInt(n)+(BigInt(o)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return 0===o?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:o<128?9:10}static fromBigInt(t){if(0n===t)return Ol;if(t<Om&&t>Tb)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let o=t>>32n,p=t-(o<<32n);return n&&(o=0n|~o,p=0n|~p,++p>ey&&(p=0n,++o>ey&&(o=0n))),new Ga(Number(p),Number(o))}static fromNumber(t){if(0===t)return Ol;const n=t<0;n&&(t=-t);let o=t>>>0,p=(t-o)/4294967296>>>0;return n&&(p=~p>>>0,o=~o>>>0,++o>4294967295&&(o=0,++p>4294967295&&(p=0))),new Ga(o,p)}static from(t){return"number"==typeof t?Ga.fromNumber(t):"bigint"==typeof t?Ga.fromBigInt(t):"string"==typeof t?Ga.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new Ga(t.low>>>0,t.high>>>0):Ol}}const Ol=new Ga(0,0);Ol.toBigInt=function(){return 0n},Ol.zzEncode=Ol.zzDecode=function(){return this},Ol.length=function(){return 1};const ey=4294967296n;function ty(r,t,n){const o=n;let p,y;for(let l=0;l<r.length;++l)p=r.charCodeAt(l),p<128?t[n++]=p:p<2048?(t[n++]=p>>6|192,t[n++]=63&p|128):55296==(64512&p)&&56320==(64512&(y=r.charCodeAt(l+1)))?(p=65536+((1023&p)<<10)+(1023&y),++l,t[n++]=p>>18|240,t[n++]=p>>12&63|128,t[n++]=p>>6&63|128,t[n++]=63&p|128):(t[n++]=p>>12|224,t[n++]=p>>6&63|128,t[n++]=63&p|128);return n-o}function nd(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function Bm(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class z8{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,nd(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw nd(this,4);return Bm(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw nd(this,4);return 0|Bm(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw nd(this,4);const t=function J3(r,t){return td[0]=r[t],td[1]=r[t+1],td[2]=r[t+2],td[3]=r[t+3],cp[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw nd(this,4);const t=function r2(r,t){return ns[0]=r[t],ns[1]=r[t+1],ns[2]=r[t+2],ns[3]=r[t+3],ns[4]=r[t+4],ns[5]=r[t+5],ns[6]=r[t+6],ns[7]=r[t+7],Db[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,o=this.pos+t;if(o>this.len)throw nd(this,t);return this.pos+=t,n===o?new Uint8Array(0):this.buf.subarray(n,o)}string(){const t=this.bytes();return function o2(r,t,n){if(n-t<1)return"";let p;const y=[];let u,l=0;for(;t<n;)u=r[t++],u<128?y[l++]=u:u>191&&u<224?y[l++]=(31&u)<<6|63&r[t++]:u>239&&u<365?(u=((7&u)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,y[l++]=55296+(u>>10),y[l++]=56320+(1023&u)):y[l++]=(15&u)<<12|(63&r[t++])<<6|63&r[t++],l>8191&&((p??(p=[])).push(String.fromCharCode.apply(String,y)),l=0);return null!=p?(l>0&&p.push(String.fromCharCode.apply(String,y.slice(0,l))),p.join("")):String.fromCharCode.apply(String,y.slice(0,l))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw nd(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw nd(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new Ga(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw nd(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw nd(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw nd(this,8);const t=Bm(this.buf,this.pos+=4),n=Bm(this.buf,this.pos+=4);return new Ga(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function mf(r,t){let n=r[t],o=0;if(o+=n&Bc,n<ps||(n=r[t+1],o+=(n&Bc)<<7,n<ps)||(n=r[t+2],o+=(n&Bc)<<14,n<ps)||(n=r[t+3],o+=(n&Bc)<<21,n<ps)||(n=r[t+4],o+=(n&Bc)*bS,n<ps)||(n=r[t+5],o+=(n&Bc)*xb,n<ps)||(n=r[t+6],o+=(n&Bc)*t2,n<ps)||(n=r[t+7],o+=(n&Bc)*n2,n<ps))return o;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=Rm(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function dp(r,t,n){const o=function s2(r){return new z8(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(o,void 0,n)}function ny(r=0){return new Uint8Array(r)}function Lm(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class iy{name;prefix;baseEncode;constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class eC{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Cb(this,t)}}class Ab{decoders;constructor(t){this.decoders=t}or(t){return Cb(this,t)}decode(t){const o=this.decoders[t[0]];if(null!=o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Cb(r,t){return new Ab({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class MS{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new iy(t,n,o),this.decoder=new eC(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function kb({name:r,prefix:t,encode:n,decode:o}){return new MS(r,t,n,o)}function Um({name:r,prefix:t,alphabet:n}){const{encode:o,decode:p}=function a2(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Xe=0;if(" "!==Pe[Xe]){for(var vt=0,Tt=0;Pe[Xe]===J;)vt++,Xe++;for(var bt=(Pe.length-Xe)*X+1>>>0,wt=new Uint8Array(bt);Pe[Xe];){var Ct=n[Pe.charCodeAt(Xe)];if(255===Ct)return;for(var Wt=0,Jt=bt-1;(0!==Ct||Wt<Tt)&&-1!==Jt;Jt--,Wt++)wt[Jt]=(Ct+=u*wt[Jt]>>>0)%256>>>0,Ct=Ct/256>>>0;if(0!==Ct)throw new Error("Non-zero carry");Tt=Wt,Xe++}if(" "!==Pe[Xe]){for(var an=bt-Tt;an!==bt&&0===wt[an];)an++;for(var Vt=new Uint8Array(vt+(bt-an)),In=vt;an!==bt;)Vt[In++]=wt[an++];return Vt}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Xe=0,vt=0,Tt=0,bt=Pe.length;Tt!==bt&&0===Pe[Tt];)Tt++,Xe++;for(var wt=(bt-Tt)*N+1>>>0,Ct=new Uint8Array(wt);Tt!==bt;){for(var Wt=Pe[Tt],Jt=0,an=wt-1;(0!==Wt||Jt<vt)&&-1!==an;an--,Jt++)Ct[an]=(Wt+=256*Ct[an]>>>0)%u>>>0,Wt=Wt/u>>>0;if(0!==Wt)throw new Error("Non-zero carry");vt=Jt,Tt++}for(var Vt=wt-vt;Vt!==wt&&0===Ct[Vt];)Vt++;for(var In=J.repeat(Xe);Vt<wt;++Vt)In+=r.charAt(Ct[Vt]);return In},decodeUnsafe:Ee,decode:function Le(Pe){var Xe=Ee(Pe);if(Xe)return Xe;throw new Error(`Non-${t} character`)}}}(n,r);return kb({prefix:t,name:r,encode:o,decode:y=>Lm(p(y))})}function ya({name:r,prefix:t,bitsPerChar:n,alphabet:o}){return kb({prefix:t,name:r,encode:p=>function SS(r,t,n){const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(0!==l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y}(p,o,n),decode:p=>function c2(r,t,n,o){const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l}(p,o,n,r)})}const DS=Um({prefix:"9",name:"base10",alphabet:"0123456789"}),Pb=ya({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),IS=ya({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),TS=ya({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),d2=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Rb=d2.reduce((r,t,n)=>(r[n]=t,r),[]),l2=d2.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),u2=kb({prefix:"\u{1f680}",name:"base256emoji",encode:function tC(r){return r.reduce((t,n)=>t+Rb[n],"")},decode:function Ob(r){const t=[];for(const n of r){const o=l2[n.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${n}`);t.push(o)}return new Uint8Array(t)}}),Su=ya({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nC=ya({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rC=ya({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),X8=ya({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Nb=ya({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),f2=ya({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),AS=ya({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),CS=ya({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),kS=ya({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),lp=Um({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),iC=Um({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),gf=Um({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oC=Um({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),sC=ya({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),aC=ya({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yf=ya({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Fm=ya({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),cC=ya({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),dC=kb({prefix:"\0",name:"identity",encode:r=>function xS(r){return(new TextDecoder).decode(r)}(r),decode:r=>function ry(r){return(new TextEncoder).encode(r)}(r)}),lC=new TextEncoder,uC=new TextDecoder,fC="json",hC=512;function PS(r){return lC.encode(JSON.stringify(r))}function pC(r){return JSON.parse(uC.decode(r))}const mC="raw",gC=85;function yC(r){return Lm(r)}function Bb(r){return Lm(r)}var jm=128,OS=-128,NS=Math.pow(2,31),q8=128,Lb=127,Q8=Math.pow(2,7),eP=Math.pow(2,14),BS=Math.pow(2,21),bC=Math.pow(2,28),wC=Math.pow(2,35),_C=Math.pow(2,42),EC=Math.pow(2,49),xC=Math.pow(2,56),LS=Math.pow(2,63);const sy={encode:function vC(r,t,n){t=t||[];for(var o=n=n||0;r>=NS;)t[n++]=255&r|jm,r/=128;for(;r&OS;)t[n++]=255&r|jm,r>>>=7;return t[n]=0|r,vC.bytes=n-o+1,t},decode:function oy(r,o){var l,n=0,p=0,y=o=o||0,u=r.length;do{if(y>=u)throw oy.bytes=0,new RangeError("Could not decode varint");l=r[y++],n+=p<28?(l&Lb)<<p:(l&Lb)*Math.pow(2,p),p+=7}while(l>=q8);return oy.bytes=y-o,n},encodingLength:function(r){return r<Q8?1:r<eP?2:r<BS?3:r<bC?4:r<wC?5:r<_C?6:r<EC?7:r<xC?8:r<LS?9:10}};function ay(r,t,n=0){return sy.encode(r,t,n),t}function Km(r){return sy.encodingLength(r)}function Ub(r,t){const n=t.byteLength,o=Km(r),p=o+Km(n),y=new Uint8Array(p+n);return ay(r,y,0),ay(n,y,o),y.set(t,p),new h2(r,n,t,y)}class h2{code;size;digest;bytes;constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}const jS=Lm,TC={code:0,name:"identity",encode:jS,digest:function IC(r){return Ub(0,jS(r))}};function $S({name:r,code:t,encode:n}){return new KS(r,t,n)}class KS{name;code;encode;constructor(t,n,o){this.name=t,this.code=n,this.encode=o}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Ub(this.code,n):n.then(o=>Ub(this.code,o))}throw Error("Unknown type, must be binary type")}}function AC(r){return function(){var t=(0,Ne.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const tP=$S({name:"sha2-256",code:18,encode:AC("SHA-256")}),cy=$S({name:"sha2-512",code:19,encode:AC("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const jb={...C,...ie,...De,...W,...re,...ue,...ce,...pe,...ve,...ae};function OC(r,t,n,o){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:o}}}const NC=OC("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),VS=OC("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=ny((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),$b={utf8:NC,"utf-8":NC,hex:jb.base16,latin1:VS,ascii:VS,binary:VS,...jb};class Vm{fn;len;next;val;constructor(t,n,o){this.fn=t,this.len=n,this.next=void 0,this.val=o}}function Vb(){}class BC{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const LC=function v2(r){const t=r??8192,n=t>>>1;let o,p=t;return function(l){if(l<1||l>n)return ny(l);p+l>t&&(o=ny(t),p=0);const u=o.subarray(p,p+=l);return 7&p&&(p=1+(7|p)),u}}();class uh{len;head;tail;states;constructor(){this.len=0,this.head=new Vm(Vb,0,0),this.tail=this.head,this.states=null}_push(t,n,o){return this.tail=this.tail.next=new Vm(t,n,o),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new HS((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(b2,10,Ga.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=Ga.fromBigInt(t);return this._push(b2,n.length(),n)}uint64Number(t){return this._push(Mb,Rm(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=Ga.fromBigInt(t).zzEncode();return this._push(b2,n.length(),n)}sint64Number(t){const n=Ga.fromNumber(t).zzEncode();return this._push(b2,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(rd,1,t?1:0)}fixed32(t){return this._push(ly,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=Ga.fromBigInt(t);return this._push(ly,4,n.lo)._push(ly,4,n.hi)}fixed64Number(t){const n=Ga.fromNumber(t);return this._push(ly,4,n.lo)._push(ly,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(X3,4,t)}double(t){return this._push(Ib,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(rd,1,0):this.uint32(n)._push(sP,n,t)}string(t){const n=function Nm(r){let t=0,n=0;for(let o=0;o<r.length;++o)n=r.charCodeAt(o),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(o+1))?(++o,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(ty,n,t):this._push(rd,1,0)}fork(){return this.states=new BC(this),this.head=this.tail=new Vm(Vb,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Vm(Vb,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,o=this.len;return this.reset().uint32(o),0!==o&&(this.tail.next=t.next,this.tail=n,this.len+=o),this}finish(){let t=this.head.next;const n=function zS(r){return null!=globalThis.Buffer?ny(r):LC(r)}(this.len);let o=0;for(;null!=t;)t.fn(t.val,n,o),o+=t.len,t=t.next;return n}}function rd(r,t,n){t[n]=255&r}function wd(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class HS extends Vm{next;constructor(t,n){super(wd,t,n),this.next=void 0}}function b2(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function ly(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function sP(r,t,n){t.set(r,n)}function aP(r,t,n){t.set(r,n)}function WS(r,t,n){r.length<40?ty(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set(function Kb(r,t="utf8"){const n=$b[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}(r),n)}function ZS(r,t){const n=function GS(){return new uh}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(uh.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push(aP,t,r),this},uh.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(WS,t,r),this});var rl,fy,Hb,zm=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(zm||{});function zb(r,t,n,o){return{name:r,type:t,encode:n,decode:o}}function _2(r,t){return zb("message",zm.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var p;let n,o;(p=t=r.DataType||(r.DataType={})).Raw="Raw",p.Directory="Directory",p.File="File",p.Metadata="Metadata",p.Symlink="Symlink",p.HAMTShard="HAMTShard",function(p){p[p.Raw=0]="Raw",p[p.Directory=1]="Directory",p[p.File=2]="File",p[p.Metadata=3]="Metadata",p[p.Symlink=4]="Symlink",p[p.HAMTShard=5]="HAMTShard"}(n||(n={})),function(p){p.codec=()=>function w2(r){function t(p){if(null==r[p.toString()])throw new Error("Invalid enum value");return r[p]}return zb("enum",zm.VARINT,function(y,l){const u=t(y);l.int32(u)},function(y){return t(y.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==o&&(o=_2((p,y,l={})=>{if(!1!==l.lengthDelimited&&y.fork(),null!=p.Type&&(y.uint32(8),r.DataType.codec().encode(p.Type,y)),null!=p.Data&&(y.uint32(18),y.bytes(p.Data)),null!=p.filesize&&(y.uint32(24),y.uint64(p.filesize)),null!=p.blocksizes)for(const u of p.blocksizes)y.uint32(32),y.uint64(u);null!=p.hashType&&(y.uint32(40),y.uint64(p.hashType)),null!=p.fanout&&(y.uint32(48),y.uint64(p.fanout)),null!=p.mode&&(y.uint32(56),y.uint32(p.mode)),null!=p.mtime&&(y.uint32(66),fy.codec().encode(p.mtime,y)),!1!==l.lengthDelimited&&y.ldelim()},(p,y)=>{const l={blocksizes:[]},u=null==y?p.len:p.pos+y;for(;p.pos<u;){const J=p.uint32();switch(J>>>3){case 1:l.Type=r.DataType.codec().decode(p);break;case 2:l.Data=p.bytes();break;case 3:l.filesize=p.uint64();break;case 4:l.blocksizes.push(p.uint64());break;case 5:l.hashType=p.uint64();break;case 6:l.fanout=p.uint64();break;case 7:l.mode=p.uint32();break;case 8:l.mtime=fy.codec().decode(p,p.uint32());break;default:p.skipType(7&J)}}return l})),o),r.encode=p=>ZS(p,r.codec()),r.decode=p=>dp(p,r.codec())}(rl||(rl={})),function(r){let t;r.codec=()=>(null==t&&(t=_2((n,o,p={})=>{!1!==p.lengthDelimited&&o.fork(),null!=n.Seconds&&(o.uint32(8),o.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(o.uint32(21),o.fixed32(n.FractionalNanoseconds)),!1!==p.lengthDelimited&&o.ldelim()},(n,o)=>{const p={},y=null==o?n.len:n.pos+o;for(;n.pos<y;){const l=n.uint32();switch(l>>>3){case 1:p.Seconds=n.int64();break;case 2:p.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&l)}}return p})),t),r.encode=n=>ZS(n,r.codec()),r.decode=n=>dp(n,r.codec())}(fy||(fy={})),function(r){let t;r.codec=()=>(null==t&&(t=_2((n,o,p={})=>{!1!==p.lengthDelimited&&o.fork(),null!=n.MimeType&&(o.uint32(10),o.string(n.MimeType)),!1!==p.lengthDelimited&&o.ldelim()},(n,o)=>{const p={},y=null==o?n.len:n.pos+o;for(;n.pos<y;){const l=n.uint32();l>>>3==1?p.MimeType=n.string():n.skipType(7&l)}return p})),t),r.encode=n=>ZS(n,r.codec()),r.decode=n=>dp(n,r.codec())}(Hb||(Hb={}));const hy={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},UC=["directory","hamt-sharded-directory"],YS=parseInt("0644",8),E2=parseInt("0755",8);class Nl{static unmarshal(t){const n=rl.decode(t),o=new Nl({type:hy[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return o._originalMode=n.mode??0,o}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:o,blockSizes:p,hashType:y,fanout:l,mtime:u,mode:J}=t;if(null!=n&&!Object.values(hy).includes(n))throw yS(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=o,this.hashType=y,this.fanout=l,this.blockSizes=p??[],this._originalMode=0,this.mode=J,this.mtime=u}set mode(t){this._mode=null==t?this.isDirectory()?E2:YS:4095&t}get mode(){return this._mode}isDirectory(){return UC.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=rl.DataType.Raw;break;case"directory":t=rl.DataType.Directory;break;case"file":t=rl.DataType.File;break;case"metadata":t=rl.DataType.Metadata;break;case"symlink":t=rl.DataType.Symlink;break;case"hamt-sharded-directory":t=rl.DataType.HAMTShard;break;default:throw yS(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let o,p,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(o=4294963200&this._originalMode|(this.mode??0),o===YS&&!this.isDirectory()&&(o=void 0),o===E2&&this.isDirectory()&&(o=void 0)),null!=this.mtime&&(p={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),rl.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:o,mtime:p})}}var x2=E(52054);const XS="raw",fp=85,py=r=>(0,x2.au)(r),Wb=r=>(0,x2.au)(r);class _d extends Event{constructor(t,n){super(t),this.detail=n}}const Hm=function(){var r=(0,Ne.A)(function*(t,n,o){null==o.codec&&(o.codec=Y);const p=yield F.digest(t),y=Bd.TO.create(o.cidVersion,o.codec.code,p);return yield n.put(y,t,o),y});return function(n,o,p){return r.apply(this,arguments)}}();function FC(r){return function(){var t=Xo(function*(o,p){let y=0n;var J,l=!1,u=!1;try{for(var N,X=ko(o.content);l=!(N=yield si(X.next())).done;l=!1){let oe=N.value;yield(0,Ne.A)(function*(){let Ee;const Le={codec:Y,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(Le.codec=_,Le.cidVersion=1):(Ee=new Nl({type:r.leafType,data:oe}),oe=pf({Data:Ee.marshal(),Links:[]}));const Pe=yield Hm(oe,p,Le);return y+=BigInt(oe.byteLength),r.onProgress?.(new _d("unixfs:importer:progress:file:write",{bytesWritten:y,cid:Pe,path:o.path})),{cid:Pe,unixfs:Ee,size:BigInt(oe.length),block:oe}})}}catch(oe){u=!0,J=oe}finally{try{l&&null!=X.return&&(yield si(X.return()))}finally{if(u)throw J}}});return function n(o,p){return t.apply(this,arguments)}}()}function il(r){var t={},n=!1;function o(p,y){return n=!0,{done:!1,value:new F1(y=new Promise(function(l){l(r[p](y))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(p){return n?(n=!1,p):o("next",p)},"function"==typeof r.throw&&(t.throw=function(p){if(n)throw n=!1,p;return o("throw",p)}),"function"==typeof r.return&&(t.return=function(p){return n?(n=!1,p):o("return",p)}),t}const JS=function(){var r=(0,Ne.A)(function*(t,n,o){const p=new Nl({type:"directory",mtime:t.mtime,mode:t.mode}),y=pf(hf({Data:p.marshal()}));return{cid:yield Hm(y,n,o),path:t.path,unixfs:p,size:BigInt(y.length),originalPath:t.originalPath,block:y}});return function(n,o,p){return r.apply(this,arguments)}}();function Gb(){return(Gb=Xo(function*(r,t,n){let p,o=-1;var u,y=!1,l=!1;try{for(var X,J=ko(Im(n.bufferImporter(r,t),n.blockWriteConcurrency));y=!(X=yield si(J.next())).done;y=!1){const N=X.value;o++,0!==o?(1===o&&null!=p&&(yield{...p,block:void 0,single:void 0},p=void 0),yield{...N,block:void 0}):p={...N,single:!0}}}catch(N){l=!0,u=N}finally{try{y&&null!=J.return&&(yield si(J.return()))}finally{if(l)throw u}}null!=p&&(yield p)})).apply(this,arguments)}function M2(r){return!0===r.single}const jC=(r,t,n)=>function(){var p=(0,Ne.A)(function*(y){if(1===y.length&&M2(y[0])&&n.reduceSingleLeafToSelf){const oe=y[0];let Ee=oe.block;return M2(oe)&&(void 0!==r.mtime||void 0!==r.mode)&&(oe.unixfs=new Nl({type:"file",mtime:r.mtime,mode:r.mode,data:oe.block}),Ee={Data:oe.unixfs.marshal(),Links:[]},oe.block=pf(hf(Ee)),oe.cid=yield Hm(oe.block,t,{...n,cidVersion:n.cidVersion}),oe.size=BigInt(oe.block.length)),n.onProgress?.(new _d("unixfs:importer:progress:file:layout",{cid:oe.cid,path:oe.originalPath})),{cid:oe.cid,path:r.path,unixfs:oe.unixfs,size:oe.size,originalPath:oe.originalPath}}const l=new Nl({type:"file",mtime:r.mtime,mode:r.mode}),u=y.filter(oe=>oe.cid.code===fp&&oe.size>0||null!=oe.unixfs&&null==oe.unixfs.data&&oe.unixfs.fileSize()>0n||!!oe.unixfs?.data?.length).map(oe=>oe.cid.code===fp?(l.addBlockSize(oe.size),{Name:"",Tsize:Number(oe.size),Hash:oe.cid}):(l.addBlockSize(null==oe.unixfs||null==oe.unixfs.data?oe.unixfs?.fileSize()??0n:BigInt(oe.unixfs.data.length)),{Name:"",Tsize:Number(oe.size),Hash:oe.cid})),J={Data:l.marshal(),Links:u},X=pf(hf(J)),N=yield Hm(X,t,n);return n.onProgress?.(new _d("unixfs:importer:progress:file:layout",{cid:N,path:r.originalPath})),{cid:N,path:r.path,unixfs:l,size:BigInt(X.length+J.Links.reduce((oe,Ee)=>oe+(Ee.Tsize??0),0)),originalPath:r.originalPath,block:X}});return function(l){return p.apply(this,arguments)}}(),cP=function(){var r=(0,Ne.A)(function*(t,n,o){return o.layout(function hp(r,t,n){return Gb.apply(this,arguments)}(t,n,o),jC(t,n,o))});return function(n,o,p){return r.apply(this,arguments)}}();function qS(r){try{if(r instanceof Uint8Array)return Xo(function*(){yield r})();if(function Zb(r){return Symbol.iterator in r}(r))return Xo(function*(){yield*il(ko(r))})();if(function $C(r){return Symbol.asyncIterator in r}(r))return r}catch{throw np(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw np(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function eD(r){return null!=r.content}const S2=()=>function(){var r=Xo(function*(n){var y,o=!1,p=!1;try{for(var u,l=ko(n);o=!(u=yield si(l.next())).done;o=!1){const J=u.value;if(void 0===J.length)throw np(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof J||J instanceof String)yield ss(J.toString());else if(Array.isArray(J))yield Uint8Array.from(J);else{if(!(J instanceof Uint8Array))throw np(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield J}}}catch(J){p=!0,y=J}finally{try{o&&null!=l.return&&(yield si(l.return()))}finally{if(p)throw y}}});return function t(n){return r.apply(this,arguments)}}(),tD=174;function Yb(r){const t=r?.maxChildrenPerNode??tD;return function(){var n=(0,Ne.A)(function*(p,y){const l=[];var X,u=!1,J=!1;try{for(var oe,N=ko($M(p,t));u=!(oe=yield N.next()).done;u=!1){const Ee=oe.value;l.push(yield y(Ee))}}catch(Ee){J=!0,X=Ee}finally{try{u&&null!=N.return&&(yield N.return())}finally{if(J)throw X}}return l.length>1?o(l,y):l[0]});function o(p,y){return n.apply(this,arguments)}return o}()}class pp{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const Gm=Bd.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),D2=Bd.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class Xb extends pp{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var o=this;return(0,Ne.A)(function*(){o.cid=void 0,o.size=void 0,o.nodeSize=void 0,o._children.set(t,n)})()}get(t){var n=this;return(0,Ne.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return Xo(function*(){for(const[n,o]of t._children.entries())yield{key:n,child:o}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?D2.bytes.byteLength:Gm.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return Xo(function*(){const o=[];for(const[Pe,Xe]of n._children.entries()){let vt=Xe;if(Xe instanceof pp){var l,p=!1,y=!1;try{for(var J,u=ko(Xe.flush(t));p=!(J=yield si(u.next())).done;p=!1){const Tt=J.value;vt=Tt,yield Tt}}catch(Tt){y=!0,l=Tt}finally{try{p&&null!=u.return&&(yield si(u.return()))}finally{if(y)throw l}}}null!=vt.size&&null!=vt.cid&&o.push({Name:Pe,Tsize:Number(vt.size),Hash:vt.cid})}const X=new Nl({type:"directory",mtime:n.mtime,mode:n.mode}),N={Data:X.marshal(),Links:o},oe=pf(hf(N)),Ee=yield si(Hm(oe,t,n.options)),Le=oe.length+N.Links.reduce((Pe,Xe)=>Pe+(null==Xe.Tsize?0:Xe.Tsize),0);n.cid=Ee,n.size=Le,yield{cid:Ee,unixfs:X,path:n.path,size:BigInt(Le)}})()}}const KC=new Uint8Array(0);function oD(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):KC}class qb{name;prefix;baseEncode;constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Ym{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Xm(this,t)}}class I2{decoders;constructor(t){this.decoders=t}or(t){return Xm(this,t)}decode(t){const o=this.decoders[t[0]];if(null!=o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Xm(r,t){return new I2({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class dD{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new qb(t,n,o),this.decoder=new Ym(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function Qb({name:r,prefix:t,encode:n,decode:o}){return new dD(r,t,n,o)}function ew({name:r,prefix:t,alphabet:n}){const{encode:o,decode:p}=function Zm(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Xe=0;if(" "!==Pe[Xe]){for(var vt=0,Tt=0;Pe[Xe]===J;)vt++,Xe++;for(var bt=(Pe.length-Xe)*X+1>>>0,wt=new Uint8Array(bt);Pe[Xe];){var Ct=n[Pe.charCodeAt(Xe)];if(255===Ct)return;for(var Wt=0,Jt=bt-1;(0!==Ct||Wt<Tt)&&-1!==Jt;Jt--,Wt++)wt[Jt]=(Ct+=u*wt[Jt]>>>0)%256>>>0,Ct=Ct/256>>>0;if(0!==Ct)throw new Error("Non-zero carry");Tt=Wt,Xe++}if(" "!==Pe[Xe]){for(var an=bt-Tt;an!==bt&&0===wt[an];)an++;for(var Vt=new Uint8Array(vt+(bt-an)),In=vt;an!==bt;)Vt[In++]=wt[an++];return Vt}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Xe=0,vt=0,Tt=0,bt=Pe.length;Tt!==bt&&0===Pe[Tt];)Tt++,Xe++;for(var wt=(bt-Tt)*N+1>>>0,Ct=new Uint8Array(wt);Tt!==bt;){for(var Wt=Pe[Tt],Jt=0,an=wt-1;(0!==Wt||Jt<vt)&&-1!==an;an--,Jt++)Ct[an]=(Wt+=256*Ct[an]>>>0)%u>>>0,Wt=Wt/u>>>0;if(0!==Wt)throw new Error("Non-zero carry");vt=Jt,Tt++}for(var Vt=wt-vt;Vt!==wt&&0===Ct[Vt];)Vt++;for(var In=J.repeat(Xe);Vt<wt;++Vt)In+=r.charAt(Ct[Vt]);return In},decodeUnsafe:Ee,decode:function Le(Pe){var Xe=Ee(Pe);if(Xe)return Xe;throw new Error(`Non-${t} character`)}}}(n,r);return Qb({prefix:t,name:r,encode:o,decode:y=>function Jb(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(p(y))})}function Bl({name:r,prefix:t,bitsPerChar:n,alphabet:o}){return Qb({prefix:t,name:r,encode:p=>function lD(r,t,n){const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(0!==l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y}(p,o,n),decode:p=>function T2(r,t,n,o){const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l}(p,o,n,r)})}Bl({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Bl({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Bl({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Bl({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Bl({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Bl({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Bl({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Bl({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Bl({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ew({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ew({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var id=128,XC=-128,yP=Math.pow(2,31),JC=128,fD=127,hD=Math.pow(2,7),qC=Math.pow(2,14),QC=Math.pow(2,21),C2=Math.pow(2,28),e6=Math.pow(2,35),t6=Math.pow(2,42),n6=Math.pow(2,49),r6=Math.pow(2,56),i6=Math.pow(2,63);const rw={encode:function nw(r,t,n){t=t||[];for(var o=n=n||0;r>=yP;)t[n++]=255&r|id,r/=128;for(;r&XC;)t[n++]=255&r|id,r>>>=7;return t[n]=0|r,nw.bytes=n-o+1,t},decode:function A2(r,o){var l,n=0,p=0,y=o=o||0,u=r.length;do{if(y>=u)throw A2.bytes=0,new RangeError("Could not decode varint");l=r[y++],n+=p<28?(l&fD)<<p:(l&fD)*Math.pow(2,p),p+=7}while(l>=JC);return A2.bytes=y-o,n},encodingLength:function(r){return r<hD?1:r<qC?2:r<QC?3:r<C2?4:r<e6?5:r<t6?6:r<n6?7:r<r6?8:r<i6?9:10}};function gy(r,t,n=0){return rw.encode(r,t,n),t}function mp(r){return rw.encodingLength(r)}function yy(r,t){const n=t.byteLength,o=mp(r),p=o+mp(n),y=new Uint8Array(p+n);return gy(r,y,0),gy(n,y,o),y.set(t,p),new ow(r,n,t,y)}class ow{code;size;digest;bytes;constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}function vp({name:r,code:t,encode:n}){return new gD(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class gD{name;code;encode;constructor(t,n,o){this.name=t,this.code=n,this.encode=o}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?yy(this.code,n):n.then(o=>yy(this.code,o))}throw Error("Unknown type, must be binary type")}}var aw=E(13026);vp({name:"murmur3-32",code:35,encode:r=>function a6(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(aw.x86.hash32(r))});const yD=vp({name:"murmur3-128",code:34,encode:r=>oD(aw.x64.hash128(r))});vp({name:"murmur3-x64-64",code:34,encode:r=>oD(aw.x64.hash128(r)).subarray(0,8)});var c6=E(18876);function Qm(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class wD{name;prefix;baseEncode;constructor(t,n,o){this.name=t,this.prefix=n,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class vy{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,o){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=o}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return e0(this,t)}}class by{decoders;constructor(t){this.decoders=t}or(t){return e0(this,t)}decode(t){const o=this.decoders[t[0]];if(null!=o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function e0(r,t){return new by({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class m6{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,o,p){this.name=t,this.prefix=n,this.baseEncode=o,this.baseDecode=p,this.encoder=new wD(t,n,o),this.decoder=new vy(t,n,p)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function dw({name:r,prefix:t,encode:n,decode:o}){return new m6(r,t,n,o)}function wy({name:r,prefix:t,alphabet:n}){const{encode:o,decode:p}=function h6(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),o=0;o<n.length;o++)n[o]=255;for(var p=0;p<r.length;p++){var y=r.charAt(p),l=y.charCodeAt(0);if(255!==n[l])throw new TypeError(y+" is ambiguous");n[l]=p}var u=r.length,J=r.charAt(0),X=Math.log(u)/Math.log(256),N=Math.log(256)/Math.log(u);function Ee(Pe){if("string"!=typeof Pe)throw new TypeError("Expected String");if(0===Pe.length)return new Uint8Array;var Xe=0;if(" "!==Pe[Xe]){for(var vt=0,Tt=0;Pe[Xe]===J;)vt++,Xe++;for(var bt=(Pe.length-Xe)*X+1>>>0,wt=new Uint8Array(bt);Pe[Xe];){var Ct=n[Pe.charCodeAt(Xe)];if(255===Ct)return;for(var Wt=0,Jt=bt-1;(0!==Ct||Wt<Tt)&&-1!==Jt;Jt--,Wt++)wt[Jt]=(Ct+=u*wt[Jt]>>>0)%256>>>0,Ct=Ct/256>>>0;if(0!==Ct)throw new Error("Non-zero carry");Tt=Wt,Xe++}if(" "!==Pe[Xe]){for(var an=bt-Tt;an!==bt&&0===wt[an];)an++;for(var Vt=new Uint8Array(vt+(bt-an)),In=vt;an!==bt;)Vt[In++]=wt[an++];return Vt}}}return{encode:function oe(Pe){if(Pe instanceof Uint8Array||(ArrayBuffer.isView(Pe)?Pe=new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength):Array.isArray(Pe)&&(Pe=Uint8Array.from(Pe))),!(Pe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Pe.length)return"";for(var Xe=0,vt=0,Tt=0,bt=Pe.length;Tt!==bt&&0===Pe[Tt];)Tt++,Xe++;for(var wt=(bt-Tt)*N+1>>>0,Ct=new Uint8Array(wt);Tt!==bt;){for(var Wt=Pe[Tt],Jt=0,an=wt-1;(0!==Wt||Jt<vt)&&-1!==an;an--,Jt++)Ct[an]=(Wt+=256*Ct[an]>>>0)%u>>>0,Wt=Wt/u>>>0;if(0!==Wt)throw new Error("Non-zero carry");vt=Jt,Tt++}for(var Vt=wt-vt;Vt!==wt&&0===Ct[Vt];)Vt++;for(var In=J.repeat(Xe);Vt<wt;++Vt)In+=r.charAt(Ct[Vt]);return In},decodeUnsafe:Ee,decode:function Le(Pe){var Xe=Ee(Pe);if(Xe)return Xe;throw new Error(`Non-${t} character`)}}}(n,r);return dw({prefix:t,name:r,encode:o,decode:y=>Qm(p(y))})}function pc({name:r,prefix:t,bitsPerChar:n,alphabet:o}){return dw({prefix:t,name:r,encode:p=>function L2(r,t,n){const o="="===t[t.length-1],p=(1<<n)-1;let y="",l=0,u=0;for(let J=0;J<r.length;++J)for(u=u<<8|r[J],l+=8;l>n;)l-=n,y+=t[p&u>>l];if(0!==l&&(y+=t[p&u<<n-l]),o)for(;y.length*n&7;)y+="=";return y}(p,o,n),decode:p=>function lw(r,t,n,o){const p={};for(let N=0;N<t.length;++N)p[t[N]]=N;let y=r.length;for(;"="===r[y-1];)--y;const l=new Uint8Array(y*n/8|0);let u=0,J=0,X=0;for(let N=0;N<y;++N){const oe=p[r[N]];if(void 0===oe)throw new SyntaxError(`Non-${o} character`);J=J<<n|oe,u+=n,u>=8&&(u-=8,l[X++]=255&J>>u)}if(u>=n||255&J<<8-u)throw new SyntaxError("Unexpected end of data");return l}(p,o,n,r)})}const EP=wy({prefix:"9",name:"base10",alphabet:"0123456789"}),xP=pc({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),g6=pc({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),y6=pc({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),v6=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),b6=v6.reduce((r,t,n)=>(r[n]=t,r),[]),MP=v6.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),E6=dw({prefix:"\u{1f680}",name:"base256emoji",encode:function w6(r){return r.reduce((t,n)=>t+b6[n],"")},decode:function _6(r){const t=[];for(const n of r){const o=MP[n.codePointAt(0)];if(void 0===o)throw new Error(`Non-base256emoji character: ${n}`);t.push(o)}return new Uint8Array(t)}}),bp=pc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_y=pc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),U2=pc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uw=pc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_D=pc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ey=pc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ED=pc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),x6=pc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),xy=pc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),xD=wy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),MD=wy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Tu=wy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),SD=wy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),M6=pc({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),S6=pc({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),D6=pc({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),My=pc({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),I6=pc({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),T6=dw({prefix:"\0",name:"identity",encode:r=>function vD(r){return(new TextDecoder).decode(r)}(r),decode:r=>function f6(r){return(new TextEncoder).encode(r)}(r)}),A6=new TextEncoder,fw=new TextDecoder,DD="json",ID=512;function TD(r){return A6.encode(JSON.stringify(r))}function C6(r){return JSON.parse(fw.decode(r))}const AD="raw",k6=85;function P6(r){return Qm(r)}function R6(r){return Qm(r)}var hw=128,CD=-128,N6=Math.pow(2,31),SP=128,kD=127,F2=Math.pow(2,7),B6=Math.pow(2,14),PD=Math.pow(2,21),L6=Math.pow(2,28),RD=Math.pow(2,35),OD=Math.pow(2,42),ND=Math.pow(2,49),j2=Math.pow(2,56),U6=Math.pow(2,63);const gw={encode:function t0(r,t,n){t=t||[];for(var o=n=n||0;r>=N6;)t[n++]=255&r|hw,r/=128;for(;r&CD;)t[n++]=255&r|hw,r>>>=7;return t[n]=0|r,t0.bytes=n-o+1,t},decode:function mw(r,o){var l,n=0,p=0,y=o=o||0,u=r.length;do{if(y>=u)throw mw.bytes=0,new RangeError("Could not decode varint");l=r[y++],n+=p<28?(l&kD)<<p:(l&kD)*Math.pow(2,p),p+=7}while(l>=SP);return mw.bytes=y-o,n},encodingLength:function(r){return r<F2?1:r<B6?2:r<PD?3:r<L6?4:r<RD?5:r<OD?6:r<ND?7:r<j2?8:r<U6?9:10}};function n0(r,t,n=0){return gw.encode(r,t,n),t}function Au(r){return gw.encodingLength(r)}function fh(r,t){const n=t.byteLength,o=Au(r),p=o+Au(n),y=new Uint8Array(p+n);return n0(r,y,0),n0(n,y,o),y.set(t,p),new z2(r,n,t,y)}class z2{code;size;digest;bytes;constructor(t,n,o,p){this.code=t,this.size=n,this.digest=o,this.bytes=p}}const LD=Qm,V6={code:0,name:"identity",encode:LD,digest:function K6(r){return fh(0,LD(r))}};function UD({name:r,code:t,encode:n}){return new z6(r,t,n)}class z6{name;code;encode;constructor(t,n,o){this.name=t,this.code=n,this.encode=o}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?fh(this.code,n):n.then(o=>fh(this.code,o))}throw Error("Unknown type, must be binary type")}}function H2(r){return function(){var t=(0,Ne.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const H6=UD({name:"sha2-256",code:18,encode:H2("SHA-256")}),FD=UD({name:"sha2-512",code:19,encode:H2("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const VD={...we,...x,...le,...I,...L,...v,...Z,...z,...ee,...a};function o0(r=0){return new Uint8Array(r)}function vw(r,t,n,o){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:o}}}const zD=vw("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Z2=vw("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=o0((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),G6={utf8:zD,"utf-8":zD,hex:VD.base16,latin1:Z2,ascii:Z2,binary:Z2,...VD};class ks{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,o=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=o,this._children=new c6,this.key=null}put(t,n){var o=this;return(0,Ne.A)(function*(){const p=yield o._findNewBucketAndPos(t);p.bucket._putAt(p,t,n)})()}get(t){var n=this;return(0,Ne.A)(function*(){const o=yield n._findChild(t);if(null!=o)return o.value})()}del(t){var n=this;return(0,Ne.A)(function*(){const o=yield n._findPlace(t),p=o.bucket._at(o.pos);null!=p&&p.key===t&&o.bucket._delAt(o.pos)})()}leafCount(){return this._children.compactArray().reduce((n,o)=>o instanceof ks?n+o.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof ks?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((p,y,l)=>(null!=y&&p.push(y instanceof ks?y.serialize(t,n):t(y,l)),p),[]))}asyncTransform(t,n){var o=this;return(0,Ne.A)(function*(){return Z6(o,t,n)})()}toJSON(){return this.serialize(GD,ZD)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,Ne.A)(function*(){const o=yield n._findPlace(t),p=o.bucket._at(o.pos);if(!(p instanceof ks)&&null!=p&&p.key===t)return p})()}_findPlace(t){var n=this;return(0,Ne.A)(function*(){const o=n._options.hash("string"==typeof t?function HD(r,t="utf8"){const n=G6[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}(t):t),p=yield o.take(n._options.bits),y=n._children.get(p);return y instanceof ks?y._findPlace(o):{bucket:n,pos:p,hash:o,existingChild:y}})()}_findNewBucketAndPos(t){var n=this;return(0,Ne.A)(function*(){const o=yield n._findPlace(t);if(null!=o.existingChild&&o.existingChild.key!==t){const p=new ks(n._options,o.bucket,o.pos);o.bucket._putObjectAt(o.pos,p);const y=yield p._findPlace(o.existingChild.hash);return y.bucket._putAt(y,o.existingChild.key,o.existingChild.value),p._findNewBucketAndPos(o.hash)}return o})()}_putAt(t,n,o){this._putObjectAt(t.pos,{key:n,value:o,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(WD);if(null!=t&&!(t instanceof ks)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function WD(r){return!!r}function GD(r,t){return r.key}function ZD(r){return r}function Z6(r,t,n){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,Ne.A)(function*(r,t,n){const o=[];for(const p of r._children.compactArray())if(p instanceof ks)yield Z6(p,t,n);else{const y=yield t(p);o.push({bitField:r._children.bitField(),children:y})}return n(o)})).apply(this,arguments)}const Y6=[255,254,252,248,240,224,192,128],X6=[1,3,7,15,31,63,127,255];class X2{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,o=0;for(;n>0&&this._haveBits();){const p=this._value[this._currentBytePos],y=this._currentBitPos+1,l=Math.min(y,n);o=(o<<l)+YD(p,y-l,l),n-=l,this._currentBitPos-=l,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return o}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function YD(r,t,n){const o=function XD(r,t){return Y6[r]&X6[Math.min(t+r-1,7)]}(t,n);return(r&o)>>>t}function J2(r){return function t(n){return n instanceof JD?n:new JD(n,r)}}class JD{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,Ne.A)(function*(){let o=t;for(;n._availableBits<o;)yield n._produceMoreBits();let p=0;for(;o>0;){const y=n._buffers[n._currentBufferIndex],l=Math.min(y.availableBits(),o);p=(p<<l)+y.take(l),o-=l,n._availableBits-=l,0===y.availableBits()&&n._currentBufferIndex++}return p})()}untake(t){let n=t;for(;n>0;){const o=this._buffers[this._currentBufferIndex],p=Math.min(o.totalBits()-o.availableBits(),n);o.untake(p),n-=p,this._availableBits+=p,this._currentBufferIndex>0&&o.totalBits()===o.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,Ne.A)(function*(){t._depth++;const n=t._depth>0?function Y2(r,t){null==t&&(t=r.reduce((p,y)=>p+y.length,0));const n=o0(t);let o=0;for(const p of r)n.set(p,o),o+=p.length;return n}([t._value,Uint8Array.from([t._depth])]):t._value,o=yield t._hashFn(n),p=new X2(o);t._buffers.push(p),t._availableBits+=p.availableBits()})()}}function qD(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:J2(r.hashFn)};return new ks(t)}function QD(r){return q2.apply(this,arguments)}function q2(){return(q2=(0,Ne.A)(function*(r){return(yield yD.encode(r)).slice(0,8).reverse()})).apply(this,arguments)}const wf=BigInt(34),Q2=class eI extends pp{_bucket;constructor(t,n){super(t,n),this._bucket=qD({hashFn:QD,bits:8})}put(t,n){var o=this;return(0,Ne.A)(function*(){o.cid=void 0,o.size=void 0,o.nodeSize=void 0,yield o._bucket.put(t,n)})()}get(t){var n=this;return(0,Ne.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return Xo(function*(){var p,n=!1,o=!1;try{for(var l,y=ko(t._bucket.eachLeafSeries());n=!(l=yield si(y.next())).done;n=!1){const{key:u,value:J}=l.value;yield{key:u,child:J}}}catch(u){o=!0,p=u}finally{try{n&&null!=y.return&&(yield si(y.return()))}finally{if(o)throw p}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=tE(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return Xo(function*(){var y,o=!1,p=!1;try{for(var u,l=ko(eE(n._bucket,t,n,n.options));o=!(u=yield si(l.next())).done;o=!1)yield{...u.value,path:n.path}}catch(J){p=!0,y=J}finally{try{o&&null!=l.return&&(yield si(l.return()))}finally{if(p)throw y}}})()}};function eE(r,t,n,o){return bw.apply(this,arguments)}function bw(){return(bw=Xo(function*(r,t,n,o){const p=r._children,y=[];let l=0n;for(let an=0;an<p.length;an++){const Vt=p.get(an);if(null==Vt)continue;const In=an.toString(16).toUpperCase().padStart(2,"0");if(Vt instanceof ks){let Yn;var X,u=!1,J=!1;try{for(var oe,N=ko(eE(Vt,t,null,o));u=!(oe=yield si(N.next())).done;u=!1)Yn=oe.value}catch(Qn){J=!0,X=Qn}finally{try{u&&null!=N.return&&(yield si(N.return()))}finally{if(J)throw X}}if(null==Yn)throw new Error("Could not flush sharded directory, no subshard found");y.push({Name:In,Tsize:Number(Yn.size),Hash:Yn.cid}),l+=Yn.size}else if(tI(Vt.value)){const Yn=Vt.value;let Qn;var Pe,Ee=!1,Le=!1;try{for(var vt,Xe=ko(Yn.flush(t));Ee=!(vt=yield si(Xe.next())).done;Ee=!1)Qn=vt.value,yield Qn}catch(Hn){Le=!0,Pe=Hn}finally{try{Ee&&null!=Xe.return&&(yield si(Xe.return()))}finally{if(Le)throw Pe}}if(null==Qn)throw new Error("Did not flush dir");y.push({Name:In+Vt.key,Tsize:Number(Qn.size),Hash:Qn.cid}),l+=Qn.size}else{const Yn=Vt.value;if(null==Yn.cid)continue;const sr=Yn.size;y.push({Name:In+Vt.key,Tsize:Number(sr),Hash:Yn.cid}),l+=BigInt(sr??0)}}const Tt=Uint8Array.from(p.bitField().reverse()),bt=new Nl({type:"hamt-sharded-directory",data:Tt,fanout:BigInt(r.tableSize()),hashType:wf,mtime:n?.mtime,mode:n?.mode}),Ct=pf(hf({Data:bt.marshal(),Links:y})),Wt=yield si(Hm(Ct,t,o)),Jt=BigInt(Ct.byteLength)+l;yield{cid:Wt,unixfs:bt,size:Jt}})).apply(this,arguments)}function tI(r){return"function"==typeof r.flush}function tE(r,t,n){const o=r._children,p=[];for(let J=0;J<o.length;J++){const X=o.get(J);if(null==X)continue;const N=J.toString(16).toUpperCase().padStart(2,"0");if(X instanceof ks){const oe=tE(X,null,n);p.push({Name:N,Tsize:Number(oe),Hash:0===n.cidVersion?Gm:D2})}else if("function"==typeof X.value.flush){const Ee=X.value.nodeSize();p.push({Name:N+X.key,Tsize:Number(Ee),Hash:0===n.cidVersion?Gm:D2})}else{const oe=X.value;if(null==oe.cid)continue;p.push({Name:N+X.key,Tsize:Number(oe.size),Hash:oe.cid})}}const y=Uint8Array.from(o.bitField().reverse());return pf(hf({Data:new Nl({type:"hamt-sharded-directory",data:y,fanout:BigInt(r.tableSize()),hashType:wf,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:p})).length}function s0(r,t,n,o){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,Ne.A)(function*(r,t,n,o){let p=t;t instanceof Xb&&t.estimateNodeSize()>n&&(p=yield function hh(r,t){return a0.apply(this,arguments)}(t,o));const y=p.parent;if(null!=y){if(p!==t){if(null!=r&&(r.parent=p),null==p.parentKey)throw new Error("No parent key found");yield y.put(p.parentKey,p)}return s0(p,y,n,o)}return p}),Iy.apply(this,arguments)}function a0(){return(a0=(0,Ne.A)(function*(r,t){const n=new Q2({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var y,o=!1,p=!1;try{for(var u,l=ko(r.eachChildSeries());o=!(u=yield l.next()).done;o=!1){const{key:J,child:X}=u.value;yield n.put(J,X)}}catch(J){p=!0,y=J}finally{try{o&&null!=l.return&&(yield l.return())}finally{if(p)throw y}}return n})).apply(this,arguments)}const nI=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function Ty(r,t,n){return nE.apply(this,arguments)}function nE(){return(nE=(0,Ne.A)(function*(r,t,n){const o=nI(r.path??""),p=o.length-1;let y=t,l="";for(let u=0;u<o.length;u++){const J=o[u];l+=`${""!==l?"/":""}${J}`;const X=u===p;if(y.dirty=!0,y.cid=void 0,y.size=void 0,X)yield y.put(J,r),t=yield s0(null,y,n.shardSplitThresholdBytes,n);else{let N=yield y.get(J);(null==N||!(N instanceof pp))&&(N=new Xb({root:!1,dir:!0,parent:y,parentKey:J,path:l,dirty:!0,flat:!0,mtime:N?.unixfs?.mtime,mode:N?.unixfs?.mode},n)),yield y.put(J,N),y=N}}return t})).apply(this,arguments)}function rI(r,t){return Ay.apply(this,arguments)}function Ay(){return(Ay=Xo(function*(r,t){r instanceof pp?yield*il(ko(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)})).apply(this,arguments)}function ol(r,t){return xp.apply(this,arguments)}function xp(){return xp=Xo(function*(r,t,n={}){let o;o=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const p=n.wrapWithDirectory??!1,y=n.shardSplitThresholdBytes??262144,l=n.cidVersion??1,u=n.rawLeaves??!0,J=n.leafType??"file",X=n.fileImportConcurrency??50,N=n.blockWriteConcurrency??10,oe=n.reduceSingleLeafToSelf??!0,Ee=n.chunker??zM(),Le=n.chunkValidator??S2(),Pe=n.dagBuilder??function QS(r){return function(){var t=Xo(function*(o,p){var u,y=!1,l=!1;try{for(var X,J=ko(o);y=!(X=yield si(J.next())).done;y=!1){const N=X.value;{let oe;if(null!=N.path&&(oe=N.path,N.path=N.path.split("/").filter(Ee=>null!=Ee&&"."!==Ee).join("/")),eD(N)){const Ee={path:N.path,mtime:N.mtime,mode:N.mode,content:Xo(function*(){let Le=0n;var vt,Pe=!1,Xe=!1;try{for(var bt,Tt=ko(r.chunker(r.chunkValidator(qS(N.content))));Pe=!(bt=yield si(Tt.next())).done;Pe=!1){const wt=bt.value;{const Ct=BigInt(wt.byteLength);Le+=Ct,r.onProgress?.(new _d("unixfs:importer:progress:file:read",{bytesRead:Le,chunkSize:Ct,path:N.path})),yield wt}}}catch(wt){Xe=!0,vt=wt}finally{try{Pe&&null!=Tt.return&&(yield si(Tt.return()))}finally{if(Xe)throw vt}}})(),originalPath:oe};yield(0,Ne.A)(function*(){return cP(Ee,p,r)})}else{if(null==N.path)throw new Error("Import candidate must have content or path or both");{const Ee={path:N.path,mtime:N.mtime,mode:N.mode,originalPath:oe};yield(0,Ne.A)(function*(){return JS(Ee,p,r)})}}}}}catch(N){l=!0,u=N}finally{try{y&&null!=J.return&&(yield si(J.return()))}finally{if(l)throw u}}});return function n(o,p){return t.apply(this,arguments)}}()}({chunker:Ee,chunkValidator:Le,wrapWithDirectory:p,layout:n.layout??Yb(),bufferImporter:n.bufferImporter??FC({cidVersion:l,rawLeaves:u,leafType:J,onProgress:n.onProgress}),blockWriteConcurrency:N,reduceSingleLeafToSelf:oe,cidVersion:l,onProgress:n.onProgress}),Xe=n.treeBuilder??function iI(r){return function(){var t=Xo(function*(o,p){let l,y=new Xb({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),u=!1;var N,J=!1,X=!1;try{for(var Ee,oe=ko(o);J=!(Ee=yield si(oe.next())).done;J=!1){const bt=Ee.value;{if(null==bt)continue;const wt=`${bt.originalPath??""}`.split("/")[0];null!=wt&&""!==wt&&(null==l?(l=wt,u=!0):l!==wt&&(u=!1)),y=yield si(Ty(bt,y,r)),(null==bt.unixfs||!bt.unixfs.isDirectory())&&(yield bt)}}}catch(bt){X=!0,N=bt}finally{try{J&&null!=oe.return&&(yield si(oe.return()))}finally{if(X)throw N}}if(r.wrapWithDirectory||u&&y.childCount()>1)yield*il(ko(rI(y,p)));else{var Xe,Le=!1,Pe=!1;try{for(var Tt,vt=ko(y.eachChildSeries());Le=!(Tt=yield si(vt.next())).done;Le=!1){const bt=Tt.value;null!=bt&&(yield*il(ko(rI(bt.child,p))))}}catch(bt){Pe=!0,Xe=bt}finally{try{Le&&null!=vt.return&&(yield si(vt.return()))}finally{if(Pe)throw Xe}}}});return function n(o,p){return t.apply(this,arguments)}}()}({wrapWithDirectory:p,shardSplitThresholdBytes:y,cidVersion:l,onProgress:n.onProgress});var bt,vt=!1,Tt=!1;try{for(var Ct,wt=ko(Xe(Im(Pe(o,t),X),t));vt=!(Ct=yield si(wt.next())).done;vt=!1){const Wt=Ct.value;yield{cid:Wt.cid,path:Wt.path,unixfs:Wt.unixfs,size:Wt.size}}}catch(Wt){Tt=!0,bt=Wt}finally{try{vt&&null!=wt.return&&(yield si(wt.return()))}finally{if(Tt)throw bt}}}),xp.apply(this,arguments)}var iE=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},oI=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}};const sI={[F.code]:F},aI={[tp]:q};class gc{static computeCid(t,n=tp,o=F.code){return iE(this,void 0,void 0,function*(){const p=aI[n];if(!p)throw new te(de.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const y=sI[o];if(!y)throw new te(de.ComputeCidMultihashNotSupported,`multihash code [${o}] not supported`);const l=p.encode(t),u=yield y.digest(l);return(yield Bd.TO.createV1(p.code,u)).toString()})}static parseCid(t){const n=Bd.TO.parse(t).toV1();if(!aI[n.code])throw new te(de.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!sI[n.multihash.code])throw new te(de.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,o,p;return iE(this,void 0,void 0,function*(){const l=ol([{content:t}],new jM,{cidVersion:1});let u;try{for(var N,J=!0,X=oI(l);N=yield X.next(),!(n=N.done);J=!0)J=!1,u=N.value}catch(oe){o={error:oe}}finally{try{!J&&!n&&(p=X.return)&&(yield p.call(X))}finally{if(o)throw o.error}}return u?u.cid.toString():""})}static computeDagPbCidFromStream(t){var n,o,p;return iE(this,void 0,void 0,function*(){const l=ol([{content:t}],new jM,{cidVersion:1});let u;try{for(var N,J=!0,X=oI(l);N=yield X.next(),!(n=N.done);J=!0)J=!1,u=N.value}catch(oe){o={error:oe}}finally{try{!J&&!n&&(p=X.return)&&(yield p.call(X))}finally{if(o)throw o.error}}return u?u.cid.toString():""})}}var cI=E(91426),ph=E(63397),Cy=E(65797),_w=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};ph.VV.isEphemeralKeyCompressed=!0;class d0{static aes256CtrEncrypt(t,n,o){return _w(this,void 0,void 0,function*(){const p=cI.createCipheriv("aes-256-ctr",t,n),y=new Cy.Readable({read(){}});return o.on("data",l=>{const u=p.update(l);y.push(u)}),o.on("end",()=>{const l=p.final();y.push(l),y.push(null)}),o.on("error",l=>{y.emit("error",l)}),y})}static aes256CtrDecrypt(t,n,o){return _w(this,void 0,void 0,function*(){const p=cI.createDecipheriv("aes-256-ctr",t,n),y=new Cy.Readable({read(){}});return o.on("data",l=>{const u=p.update(l);y.push(u)}),o.on("end",()=>{const l=p.final();y.push(l),y.push(null)}),o.on("error",l=>{y.emit("error",l)}),y})}static eciesSecp256k1Encrypt(t,n){return _w(this,void 0,void 0,function*(){const o=Buffer.from(t),p=Buffer.from(n),y=ph.w(o,p);let l=0,u=d0.isEphemeralKeyCompressed?33:65;const J=y.subarray(l,u);l=u,u+=ph.VV.symmetricNonceLength;const X=y.subarray(l,u);l=u,u+=16;const N=y.subarray(l,u);return{ciphertext:y.subarray(u),ephemeralPublicKey:J,initializationVector:X,messageAuthenticationCode:N}})}static eciesSecp256k1Decrypt(t){return _w(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),o=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return ph.Yc(n,o)})}static get isEphemeralKeyCompressed(){return ph.VV.isEphemeralKeyCompressed}}var Ew=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(Ew||{}),xw=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class l0{constructor(t){this.jws=t}static create(t,n=[]){return xw(this,void 0,void 0,function*(){const o={payload:he.bytesToBase64Url(t),signatures:[]},p=new l0(o);for(const y of n)yield p.addSignature(y);return p})}addSignature(t){return xw(this,void 0,void 0,function*(){const o=JSON.stringify({kid:t.keyId,alg:t.algorithm}),p=he.stringToBase64Url(o),l=he.stringToBytes(`${p}.${this.jws.payload}`),u=yield t.sign(l),J=he.bytesToBase64Url(u);this.jws.signatures.push({protected:p,signature:J})})}getJws(){return this.jws}}const Sp="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var ky=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},Ld=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(Ld||{});class u0{static derivePrivateKey(t,n){var o;return ky(this,void 0,void 0,function*(){const p=fe.privateJwkToBytes(t.derivedPrivateKey),y=null!==(o=t.derivationPath)&&void 0!==o?o:[],l=yield u0.derivePrivateKeyBytes(p,n),u=yield fe.privateKeyToJwk(l);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...y,...n],derivedPrivateKey:u}})}static derivePublicKey(t,n){return ky(this,void 0,void 0,function*(){const o=yield u0.derivePrivateKey(t,n);return yield fe.getPublicJwk(o.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return ky(this,void 0,void 0,function*(){u0.validateKeyDerivationPath(n);let o=t;for(const p of n){const y=he.stringToBytes(p);o=yield u0.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:o,info:y,keyLengthInBytes:32})}return o})}static deriveKeyUsingHkdf(t){return ky(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:o,info:p,keyLengthInBytes:y}=t,u=yield function oE(){if(Sp&&"object"==typeof Sp.subtle&&null!=Sp.subtle)return Sp.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",o,{name:"HKDF"},!1,["deriveBits"]),J=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:p},u,8*y);return new Uint8Array(J)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new te(de.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function sE(r,t){return r>t?1:r<t?-1:0}function Mw(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function Lc(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&Lc(r[t])})}var Ll=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ar{static validateJsonSchema(t){Ri(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:zo.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return Ll(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield gc.computeCid(n)})}static compareCid(t,n){return Ll(this,void 0,void 0,function*(){return sE(yield Ar.getCid(t),yield Ar.getCid(n))})}static createAuthorization(t){return Ll(this,void 0,void 0,function*(){const{descriptor:n,signer:o,delegatedGrant:p,permissionGrantId:y,protocolRole:l}=t;let u;void 0!==p&&(u=yield Ar.getCid(p));const X={signature:yield Ar.createSignature(n,o,{delegatedGrantId:u,permissionGrantId:y,protocolRole:l})};return void 0!==p&&(X.authorDelegatedGrant=p),X})}static createSignature(t,n,o){return Ll(this,void 0,void 0,function*(){const p=yield gc.computeCid(t),y=Object.assign({descriptorCid:p},o);Lc(y);const l=he.objectToBytes(y);return(yield l0.create(l,[n])).getJws()})}static getNewestMessage(t){return Ll(this,void 0,void 0,function*(){let n;for(const o of t)(void 0===n||(yield Ar.isNewer(o,n)))&&(n=o);return n})}static getOldestMessage(t){return Ll(this,void 0,void 0,function*(){let n;for(const o of t)(void 0===n||(yield Ar.isOlder(o,n)))&&(n=o);return n})}static isNewer(t,n){return Ll(this,void 0,void 0,function*(){return(yield Ar.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return Ll(this,void 0,void 0,function*(){return(yield Ar.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return Ll(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:Ar.compareCid(t,n)})}static validateSignatureStructure(t,n,o="GenericSignaturePayload"){return Ll(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new te(de.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const p=zo.decodePlainObjectPayload(t);Ri(o,p);const{descriptorCid:y}=p,l=yield gc.computeCid(n);if(y!==l)throw new te(de.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${y} does not match expected CID ${l}`);return p})}}class Ul{static parse(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new Ul(t)})}constructor(t){this.id=t.recordId,this.grantor=Ar.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const o=he.base64UrlToObject(t.encodedData);this.dateExpires=o.dateExpires,this.delegated=o.delegated,this.description=o.description,this.requestId=o.requestId,this.scope=o.scope,this.conditions=o.conditions}}var Ud=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(Ud||{});class od{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const o of n)if(this.matchFilter(t,o))return!0;return!1}static matchFilter(t,n){for(const o in n){const p=n[o],y=t[o];if(void 0===y||!(Array.isArray(y)?this.matchAnyIndexValue(p,y):this.matchIndexValue(p,y)))return!1}return!0}static matchAnyIndexValue(t,n){for(const o of n)if(this.matchIndexValue(t,o))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const o of t)if(n===o)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class dI{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:o,attester:p,parentId:y,recipient:l,contextId:u,protocolPath:X,schema:N,protocol:oe}=t,Ee=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==o)return{recordId:o};if(void 0!==p)return{attester:p};if(void 0!==y)return{parentId:y};if(void 0!==l)return{recipient:l};if(void 0!==u)return{contextId:u};if(void 0!==X)return{protocolPath:X};if(void 0!==N)return{schema:N};if(void 0!==oe)return{protocol:oe};const Pe=Object.keys(Ee)[0],Xe={};return Xe[Pe]=t[Pe],Xe}}var Fi=function(r){return r.Events="Events",r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}(Fi||{}),ii=function(r){return r.Configure="Configure",r.Create="Create",r.Get="Get",r.Grant="Grant",r.Query="Query",r.Read="Read",r.Request="Request",r.Revoke="Revoke",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(ii||{});function mh(r){let t;try{t=Dp(r)}catch{t=void 0}if(r!==t)throw new te(de.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function Dp(r){return dE(r)}function Ip(r){let t;try{t=Py(r)}catch{t=void 0}if(r!==t)throw new te(de.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function Py(r){return dE(r)}function dE(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function t5(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new te(de.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var Ry=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class eo{static isRecordsWrite(t){return t.descriptor.interface===Fi.Records&&t.descriptor.method===ii.Write}static getAuthor(t){let n;return n=Ar.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,o){return Ry(this,void 0,void 0,function*(){const{encryption:p}=t,y=p.keyEncryption.find(Xe=>Xe.rootKeyId===n.rootKeyId&&Xe.derivationScheme===n.derivationScheme);if(void 0===y)throw new te(de.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const l=eo.constructKeyDerivationPath(y.derivationScheme,t),u=yield eo.derivePrivateKey(n,l),J=he.base64UrlToBytes(y.encryptedKey),X=fe.publicJwkToBytes(y.ephemeralPublicKey),N=he.base64UrlToBytes(y.initializationVector),oe=he.base64UrlToBytes(y.messageAuthenticationCode),Ee=yield d0.eciesSecp256k1Decrypt({ciphertext:J,ephemeralPublicKey:X,initializationVector:N,messageAuthenticationCode:oe,privateKey:u}),Le=he.base64UrlToBytes(p.initializationVector);return yield d0.aes256CtrDecrypt(Ee,Le,o)})}static constructKeyDerivationPath(t,n){const o=n.descriptor,p=n.contextId;let y;return y=t===Ld.DataFormats?eo.constructKeyDerivationPathUsingDataFormatsScheme(o.schema,o.dataFormat):t===Ld.ProtocolPath?eo.constructKeyDerivationPathUsingProtocolPathScheme(o):t===Ld.ProtocolContext?eo.constructKeyDerivationPathUsingProtocolContextScheme(p):eo.constructKeyDerivationPathUsingSchemasScheme(o.schema),y}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[Ld.DataFormats,t,n]:[Ld.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new te(de.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[Ld.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new te(de.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[Ld.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new te(de.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[Ld.Schemas,t]}static derivePrivateKey(t,n){var o;return Ry(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new te(de.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const p=null!==(o=t.derivationPath)&&void 0!==o?o:[];eo.validateAncestorKeyAndDescentKeyDerivationPathsMatch(p,n);const y=n.slice(p.length),l=fe.privateJwkToBytes(t.derivedPrivateKey);return yield u0.derivePrivateKeyBytes(l,y)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let o=0;o<t.length;o++){const p=t[o],y=n[o];if(p!==y)throw new te(de.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${p}' mismatches against the descendant key derivation segment '${y}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,o;n=void 0===t.protocol?void 0:Dp(t.protocol),o=void 0===t.schema?void 0:Py(t.schema);const p=Object.assign(Object.assign({},t),{protocol:n,schema:o});return Lc(p),p}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const o in t)n[`tag.${o}`]=t[o];return n}static convertTagsFilter(t){const n={};for(const o in t){const p=t[o];n[`tag.${o}`]=this.isStartsWithFilter(p)?od.constructPrefixFilterAsRangeFilter(p.startsWith):p}return n}static convertFilter(t,n){const{tags:o}=t,p=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(t,["tags"]);let y={};void 0!==o&&(y=Object.assign({},this.convertTagsFilter(o)));const l=Object.assign(Object.assign({},p),y),{dateCreated:u,datePublished:J,dateUpdated:X,contextId:N}=t,oe=u?od.convertRangeCriterion(u):void 0;oe&&(l.dateCreated=oe);const Ee=J?od.convertRangeCriterion(J):void 0;Ee&&(l.published=!0,l.datePublished=Ee),!0!==l.published&&(n===Ud.PublishedAscending||n===Ud.PublishedDescending)&&(l.published=!0);const Le=X?od.convertRangeCriterion(X):void 0;Le&&(l.messageTimestamp=Le,delete l.dateUpdated);const Pe=N?od.constructPrefixFilterAsRangeFilter(N):void 0;return Pe&&(l.contextId=Pe),l}static validateDelegatedGrantReferentialIntegrity(t,n,o){var p,y;return Ry(this,void 0,void 0,function*(){const l=void 0!==n?.delegatedGrantId,u=void 0!==(null===(p=t.authorization)||void 0===p?void 0:p.authorDelegatedGrant);if(l!==u)throw new te(de.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${l},          authorDelegatedGrant defined: ${u}`);if(u){const N=t.authorization.authorDelegatedGrant;if(!0!==(yield Ul.parse(N)).delegated)throw new te(de.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Ee=N.descriptor.recipient,Le=Ar.getSigner(t);if(Ee!==Le)throw new te(de.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Ee} in author delegated grant must be the same as the signer ${Le} of the message signature.`);const Pe=yield Ar.getCid(N);if(Pe!==n.delegatedGrantId)throw new te(de.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Pe} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const J=void 0!==o?.delegatedGrantId,X=void 0!==(null===(y=t.authorization)||void 0===y?void 0:y.ownerDelegatedGrant);if(J!==X)throw new te(de.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${J},          ownerDelegatedGrant defined: ${X}`);if(X){const N=t.authorization.ownerDelegatedGrant;if(!0!==(yield Ul.parse(N)).delegated)throw new te(de.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Ee=N.descriptor.recipient,Le=zo.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(Ee!==Le)throw new te(de.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Ee} in owner delegated grant must be the same as the signer ${Le} of the owner signature.`);const Pe=yield Ar.getCid(N);if(Pe!==o.delegatedGrantId)throw new te(de.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Pe} must be the same as           the delegatedGrantId ${o.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var uI=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class gh{static performBaseValidation(t){return uI(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:o,expectedGrantee:p,permissionGrant:y,messageStore:l}=t,u=n.descriptor;gh.verifyExpectedGrantorAndGrantee(o,p,y);const J=o;yield gh.verifyGrantActive(J,u.messageTimestamp,y,l),yield gh.verifyGrantScopeInterfaceAndMethod(u.interface,u.method,y)})}static verifyExpectedGrantorAndGrantee(t,n,o){const p=o.grantee;if(n!==p)throw new te(de.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${p}, but need to be granted to ${n}`);const y=o.grantor;if(t!==y)throw new te(de.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${y}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,o,p){return uI(this,void 0,void 0,function*(){if(n<o.dateGranted)throw new te(de.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=o.dateExpires)throw new te(de.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const y={parentId:o.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:l}=yield p.query(t,[y]),u=yield Ar.getOldestMessage(l);if(void 0!==u&&u.descriptor.messageTimestamp<=n)throw new te(de.GrantAuthorizationGrantRevoked,`Permission grant with CID ${o.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,o){return uI(this,void 0,void 0,function*(){if(t!==o.scope.interface)throw new te(de.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${o.id}`);if(n!==o.scope.method)throw new te(de.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${o.id}`)})}}var Sw=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(Sw||{}),Oy=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Uc{static authorizeWrite(t){return Oy(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:o,expectedGrantee:p,permissionGrant:y,messageStore:l}=t;yield gh.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:p,permissionGrant:y,messageStore:l}),Uc.verifyScope(n,y.scope),Uc.verifyConditions(n,y.conditions)})}static authorizeRead(t){return Oy(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:o,expectedGrantor:p,expectedGrantee:y,permissionGrant:l,messageStore:u}=t;yield gh.performBaseValidation({incomingMessage:n,expectedGrantor:p,expectedGrantee:y,permissionGrant:l,messageStore:u}),Uc.verifyScope(o,l.scope)})}static authorizeQueryOrSubscribe(t){return Oy(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:o,expectedGrantee:p,permissionGrant:y,messageStore:l}=t;yield gh.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:p,permissionGrant:y,messageStore:l});const J=y.scope.protocol,X=n.descriptor.filter.protocol;if(void 0!==J&&X!==J)throw new te(de.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${J} does not match protocol in message ${X}`)})}static authorizeDelete(t){return Oy(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:o,expectedGrantor:p,expectedGrantee:y,permissionGrant:l,messageStore:u}=t;yield gh.performBaseValidation({incomingMessage:n,expectedGrantor:p,expectedGrantee:y,permissionGrant:l,messageStore:u});const X=l.scope.protocol,N=o.descriptor.protocol;if(void 0!==X&&N!==X)throw new te(de.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${X} does not match protocol in record to delete ${N}`)})}static verifyScope(t,n){Uc.isUnrestrictedScope(n)||(void 0!==t.descriptor.protocol?Uc.verifyProtocolRecordScope(t,n):Uc.verifyFlatRecordScope(t,n))}static verifyProtocolRecordScope(t,n){if(void 0===n.protocol)throw new te(de.RecordsGrantAuthorizationScopeMissingProtocol,"Grant for protocol record must specify protocol in its scope");if(n.protocol!==t.descriptor.protocol)throw new te(de.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new te(de.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new te(de.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyFlatRecordScope(t,n){if(void 0!==n.schema&&n.schema!==t.descriptor.schema)throw new te(de.RecordsGrantAuthorizationScopeSchema,`Record does not have schema in permission grant scope with schema '${n.schema}'`)}static verifyConditions(t,n){if(n?.publication===Sw.Required&&!t.descriptor.published)throw new te(de.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===Sw.Prohibited&&t.descriptor.published)throw new te(de.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}static isUnrestrictedScope(t){return void 0===t.protocol&&void 0===t.schema}}var It=E(89994);const Dw={};function Fl(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const o=Object.getOwnPropertyDescriptor(r,n);o.configurable&&o.enumerable&&(o.enumerable=!1,Object.defineProperty(r,n,o))}for(const n of Object.getOwnPropertyNames(r.prototype)){const o=Object.getOwnPropertyDescriptor(r.prototype,n);o.configurable&&o.enumerable&&(o.enumerable=!1,Object.defineProperty(r.prototype,n,o))}vs(t,r),vs(`${t}.prototype`,r.prototype)}function vs(r,t){const n=`%${r}%`;if(void 0!==Dw[n])throw new Error(`intrinsic ${r} already exists`);Dw[n]=t}function _r(r){return Dw[r]}var fI,n5;const mi="slot-epochNanoSeconds",_f="slot-timezone-identifier",Fr="slot-year",zr="slot-month",Yr="slot-day",Ji="slot-hour",qi="slot-minute",Ki="slot-second",Vi="slot-millisecond",zi="slot-microsecond",Gi="slot-nanosecond",Gn="slot-calendar",r5="slot-date-brand",i5="slot-year-month-brand",o5="slot-month-day-brand",yc="slot-cached-instant",jo="slot-time-zone",Fc="slot-years",Ra="slot-months",va="slot-weeks",ba="slot-days",vc="slot-hours",jc="slot-minutes",Za="slot-seconds",bc="slot-milliseconds",$c="slot-microseconds",wc="slot-nanoseconds",Rs="slot-calendar-identifier",hI=new WeakMap,f0=Symbol.for("@@Temporal__GetSlots");(fI=globalThis)[f0]||(fI[f0]=function(t){return hI.get(t)});const Iw=globalThis[f0],lE=Symbol.for("@@Temporal__CreateSlots");(n5=globalThis)[lE]||(n5[lE]=function(t){hI.set(t,Object.create(null))});const jl=globalThis[lE];function Oa(r,...t){if(!r||"object"!=typeof r)return!1;const n=Iw(r);return!!n&&t.every(o=>o in n)}function Re(r,t){const n=Iw(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function to(r,t,n){const o=Iw(r);if(void 0===o)throw new TypeError("Missing slots for the given container");if(o[t])throw new TypeError(`${t} already has set`);o[t]=n}const pI=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,h0=new RegExp("(?:"+[`(?:${pI.source})(?:\\/(?:${pI.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),Tw=/(?:[+\u2212-]\d{6}|\d{4})/,Aw=/(?:0[1-9]|1[0-2])/,uE=/(?:0[1-9]|[12]\d|3[01])/,Cw=new RegExp(`(${Tw.source})(?:-(${Aw.source})-(${uE.source})|(${Aw.source})(${uE.source}))`),mI=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,gI=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,yI=new RegExp(`([zZ])|${gI.source}?`),yh=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,s5=new RegExp([`^${Cw.source}`,`(?:(?:T|\\s+)${mI.source}(?:${yI.source})?)?`,`(?:\\[!?(${h0.source})\\])?`,`((?:${yh.source})*)$`].join(""),"i"),a5=new RegExp([`^T?${mI.source}`,`(?:${yI.source})?`,`(?:\\[!?${h0.source}\\])?`,`((?:${yh.source})*)$`].join(""),"i"),c5=new RegExp(`^(${Tw.source})-?(${Aw.source})(?:\\[!?${h0.source}\\])?((?:${yh.source})*)$`),vI=new RegExp(`^(?:--)?(${Aw.source})-?(${uE.source})(?:\\[!?${h0.source}\\])?((?:${yh.source})*)$`),kw=/(\d+)(?:[.,](\d{1,9}))?/,d5=new RegExp(`(?:${kw.source}H)?(?:${kw.source}M)?(?:${kw.source}S)?`),RP=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${d5.source})?$`,"i"),bI=Array.prototype.includes,fE=Array.prototype.push,vh=globalThis.Intl.DateTimeFormat,wI=Math.min,l5=Math.max,bs=Math.abs,_c=Math.floor,bh=Math.sign,Tp=Math.trunc,Ny=Number.isNaN,ja=Number.isFinite,u5=Number,Pw=String,Rw=Number.MAX_SAFE_INTEGER,Ya=Object.create,f5=Object.getOwnPropertyDescriptor,p0=Reflect.apply,h5=Reflect.ownKeys,Bo=It.BigInt(0),Cu=It.BigInt(1),cs=It.BigInt(60),wh=It.BigInt(24),mo=It.BigInt(1e3),Vs=It.BigInt(1e6),sd=It.BigInt(1e9),p5=It.BigInt(-1),m0=It.multiply(It.BigInt(3600),sd),Ow=It.multiply(cs,sd),$l=It.multiply(m0,wh),g0=It.multiply(It.BigInt(-86400),It.BigInt(1e17)),y0=It.multiply(It.BigInt(86400),It.BigInt(1e17)),Nw=-271821,Zs=275760,Ap=It.multiply(It.BigInt(-388152),It.BigInt(1e13)),m5=It.multiply($l,It.BigInt(3660)),ua=It.multiply($l,It.BigInt(366)),v0=It.multiply($l,It.BigInt(14)),b0=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function Kc(r){return It.equal(r,Bo)}function go(r,t){const n=r[t];if(void 0!==n)return n}function Qr(r,t,n){return p0(r,t,arguments.length>2?n:[])}function ds(r){return"object"==typeof r&&null!==r||"function"==typeof r}function Cp(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return u5(r)}function Ys(r){const t=Cp(r);if(Ny(t)||0===t)return 0;if(!ja(t))return t;const n=_c(bs(t));return 0===n?0:bh(t)*n}function Ec(r){if("number"!=typeof r||Ny(r)||!ja(r))return!1;const t=bs(r);return _c(t)===t}function $a(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return Pw(r)}function bo(r){const t=Cp(r);if(0===t)return 0;if(Ny(t)||!ja(t))throw new RangeError("invalid number value");const n=Tp(t);return 0===n?0:n}function By(r,t){const n=bo(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function Os(r){const t=Cp(r);if(!ja(t))throw new RangeError("infinity is out of range");if(!Ec(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function Xs(r,t){return{quotient:It.divide(r,t),remainder:It.remainder(r,t)}}function Vc(r){return It.lessThan(r,Bo)}function _I(r){return Kc(r)?0:Vc(r)?-1:1}function Kl(r){return It.lessThan(r,Bo)?It.multiply(r,p5):r}const Bw=new Map([["year",bo],["month",By],["monthCode",$a],["day",By],["hour",bo],["minute",bo],["second",bo],["millisecond",bo],["microsecond",bo],["nanosecond",bo],["years",Os],["months",Os],["weeks",Os],["days",Os],["hours",Os],["minutes",Os],["seconds",Os],["milliseconds",Os],["microseconds",Os],["nanoseconds",Os],["era",$a],["eraYear",Ys],["offset",$a]]),EI=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),w0=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],Lw=new Map(w0.map(r=>[r[0],r[1]])),OP=new Map(w0.map(([r,t])=>[t,r])),xI=w0.map(([,r])=>r),Ly=Array.from(Lw.keys()).sort(),Uw=new Map;function Fw(r){let t=Uw.get(r);return void 0===t&&(t=new vh("en-us",{timeZone:Pw(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Uw.set(r,t)),t}function kp(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function Pp(r,t,n,o){if(null==t)return;const p=h5(t);for(const y of p)if(!n.some(l=>Object.is(l,y))&&Object.prototype.propertyIsEnumerable.call(t,y)){const l=t[y];if(o&&o.some(u=>Object.is(u,l)))continue;r[y]=l}}function aa(r){return Oa(r,mi)&&!Oa(r,jo,Gn)}function Xa(r){return Oa(r,_f)}function ws(r){return Oa(r,Rs)}function _s(r){return Oa(r,Fc,Ra,ba,vc,jc,Za,bc,$c,wc)}function ao(r){return Oa(r,r5)}function Ns(r){return Oa(r,Ji,qi,Ki,Vi,zi,Gi)&&!Oa(r,Fr,zr,Yr)}function ji(r){return Oa(r,Fr,zr,Yr,Ji,qi,Ki,Vi,zi,Gi)}function Ao(r){return Oa(r,i5)}function wa(r){return Oa(r,o5)}function Gr(r){return Oa(r,mi,jo,Gn)}function Rp(r){if(Oa(r,Gn)||Oa(r,jo))throw new TypeError("with() does not support a calendar or timeZone property");if(Ns(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function hE(r,t){return"never"===t?"":pE(Ja(r),t)}function pE(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function Vl(r){const t=s5.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const o=Ys(n),p=Ys(t[2]||t[4]),y=Ys(t[3]||t[5]),l=Ys(t[6]),u=void 0!==t[6],J=Ys(t[7]||t[10]);let X=Ys(t[8]||t[11]);60===X&&(X=59);const N=(t[9]||t[12])+"000000000",oe=Ys(N.slice(0,3)),Ee=Ys(N.slice(3,6)),Le=Ys(N.slice(6,9));let Pe,Xe=!1;if(t[13])Pe=void 0,Xe=!0;else if(t[14]&&t[15]){const Jt=t[17]||"00";let an=t[18]||"0";if(Pe=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+an){for(;an.endsWith("0");)an=an.slice(0,-1);Pe+=`:${Jt}.${an}`}else+Jt&&(Pe+=`:${Jt}`);"-00:00"===Pe&&(Pe="+00:00")}const vt=t[19],Tt=t[20];let bt;for(const[,wt,Ct,Wt]of Tt.matchAll(yh))if("u-ca"===Ct)void 0===bt&&(bt=Wt);else if("!"===wt)throw new RangeError(`Unrecognized annotation: !${Ct}=${Wt}`);return o_(o,p,y,l,J,X,oe,Ee,Le),{year:o,month:p,day:y,hasTime:u,hour:l,minute:J,second:X,millisecond:oe,microsecond:Ee,nanosecond:Le,ianaName:vt,offset:Pe,z:Xe,calendar:bt}}function jw(r){const t=c5.exec(r);let n,o,p,y;if(t){let l=t[1];if("\u2212"===l[0]&&(l=`-${l.slice(1)}`),"-000000"===l)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=Ys(l),o=Ys(t[2]);const u=t[3];for(const[,J,X,N]of u.matchAll(yh))if("u-ca"===X)void 0===p&&(p=N);else if("!"===J)throw new RangeError(`Unrecognized annotation: !${X}=${N}`);if(void 0!==p&&"iso8601"!==p)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let l;if(({year:n,month:o,calendar:p,day:y,z:l}=Vl(r)),l)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:o,calendar:p,referenceISODay:y}}function mE(r){const t=vI.exec(r);let n,o,p,y;if(t){n=Ys(t[1]),o=Ys(t[2]);const l=t[3];for(const[,u,J,X]of l.matchAll(yh))if("u-ca"===J)void 0===p&&(p=X);else if("!"===u)throw new RangeError(`Unrecognized annotation: !${J}=${X}`);if(void 0!==p&&"iso8601"!==p)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let l;if(({month:n,day:o,calendar:p,year:y,z:l}=Vl(r)),l)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:o,calendar:p,referenceISOYear:y}}function $w(r,t,n,o){let p=r,y=t,l=n;switch(o){case"reject":Zl(p,y,l);break;case"constrain":({year:p,month:y,day:l}=RI(p,y,l))}return{year:p,month:y,day:l}}function _0(r,t,n,o,p,y,l){let u=r,J=t,X=n,N=o,oe=p,Ee=y;switch(l){case"reject":Xy(u,J,X,N,oe,Ee);break;case"constrain":({hour:u,minute:J,second:X,millisecond:N,microsecond:oe,nanosecond:Ee}=(Xe=J,vt=X,Tt=N,bt=oe,wt=Ee,{hour:Sd(u,0,23),minute:Sd(Xe,0,59),second:Sd(vt,0,59),millisecond:Sd(Tt,0,999),microsecond:Sd(bt,0,999),nanosecond:Sd(wt,0,999)}))}var Xe,vt,Tt,bt,wt;return{hour:u,minute:J,second:X,millisecond:N,microsecond:oe,nanosecond:Ee}}function Ef(r){if(!ds(r))return function(Pe){const Xe=RP.exec(Pe);if(!Xe)throw new RangeError(`invalid duration: ${Pe}`);if(Xe.slice(2).every(An=>void 0===An))throw new RangeError(`invalid duration: ${Pe}`);const vt="-"===Xe[1]||"\u2212"===Xe[1]?-1:1,Tt=void 0===Xe[2]?0:bo(Xe[2])*vt,bt=void 0===Xe[3]?0:bo(Xe[3])*vt,wt=void 0===Xe[4]?0:bo(Xe[4])*vt,Ct=void 0===Xe[5]?0:bo(Xe[5])*vt,Wt=void 0===Xe[6]?0:bo(Xe[6])*vt,Jt=Xe[7],an=Xe[8],Vt=Xe[9],In=Xe[10],Yn=Xe[11];let Qn=0,sr=0,Hn=0;if(void 0!==Jt){if(an??Vt??In??Yn)throw new RangeError("only the smallest unit can be fractional");Hn=3600*Ys((Jt+"000000000").slice(0,9))*vt}else if(Qn=void 0===an?0:bo(an)*vt,void 0!==Vt){if(In??Yn)throw new RangeError("only the smallest unit can be fractional");Hn=60*Ys((Vt+"000000000").slice(0,9))*vt}else sr=void 0===In?0:bo(In)*vt,void 0!==Yn&&(Hn=Ys((Yn+"000000000").slice(0,9))*vt);const zn=Hn%1e3,jn=Tp(Hn/1e3)%1e3,Xn=Tp(Hn/1e6)%1e3;return sr+=Tp(Hn/1e9)%60,Qn+=Tp(Hn/6e10),Jy(Tt,bt,wt,Ct,Wt,Qn,sr,Xn,jn,zn),{years:Tt,months:bt,weeks:wt,days:Ct,hours:Wt,minutes:Qn,seconds:sr,milliseconds:Xn,microseconds:jn,nanoseconds:zn}}($a(r));if(_s(r))return{years:Re(r,Fc),months:Re(r,Ra),weeks:Re(r,va),days:Re(r,ba),hours:Re(r,vc),minutes:Re(r,jc),seconds:Re(r,Za),milliseconds:Re(r,bc),microseconds:Re(r,$c),nanoseconds:Re(r,wc)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Pe){if(!ds(Pe))throw new TypeError("invalid duration-like");const Xe={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let vt=!1;for(const Tt of Ly){const bt=Pe[Tt];void 0!==bt&&(vt=!0,Xe[Tt]=Os(bt))}if(!vt)throw new TypeError("invalid duration-like");return Xe}(r);for(const Le of Ly){const Pe=n[Le];void 0!==Pe&&(t[Le]=Pe)}let{years:o,months:p,weeks:y,days:l,hours:u,minutes:J,seconds:X,milliseconds:N,microseconds:oe,nanoseconds:Ee}=t;return Jy(o,p,y,l,u,J,X,N,oe,Ee),{years:o,months:p,weeks:y,days:l,hours:u,minutes:J,seconds:X,milliseconds:N,microseconds:oe,nanoseconds:Ee}}function Js(r){return void 0===r?"constrain":Ea(r,"overflow",["constrain","reject"],"constrain")}function E0(r){return void 0===r?"compatible":Ea(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function zl(r,t){return Ea(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function Kw(r,t){return void 0===r?t:Ea(r,"offset",["prefer","use","ignore","reject"],t)}function Uy(r){return Ea(r,"calendarName",["auto","always","never","critical"],"auto")}function x0(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=Cp(t),!ja(t))throw new RangeError("roundingIncrement must be finite");const n=Tp(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function M0(r,t,n){const o=n?t:t-1;if(r>o)throw new RangeError(`roundingIncrement must be at least 1 and less than ${o}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function Fy(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==$a(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=_c(t);if(!ja(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function jy(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const Op=Symbol("~required~");function ad(r,t,n,o,p=[]){const y=[];for(const[,X,N]of w0)"datetime"!==n&&n!==N||y.push(X);y.push(...p);let l=o;l===Op?l=void 0:void 0!==l&&y.push(l);const u=[...y];for(const X of y){const N=OP.get(X);void 0!==N&&u.push(N)}let J=Ea(r,t,u,l);if(void 0===J&&o===Op)throw new RangeError(`${t} is required`);return Lw.has(J)?Lw.get(J):J}function Vw(r){const t=r.relativeTo;if(void 0===t)return t;let n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe="option",Xe=!1;if(ds(t)){if(Gr(t)||ao(t))return t;if(ji(t))return zp(t);oe=Kp(t);const vt=Es(oe,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);vt.push("timeZone","offset");const Tt=no(t,vt,[]),bt=Ya(null);bt.overflow="constrain",({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N}=S0(oe,Tt,bt)),Le=Tt.offset,void 0===Le&&(Pe="wall"),Ee=Tt.timeZone,void 0!==Ee&&(Ee=qa(Ee))}else{let vt,Tt;if(({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N,calendar:oe,ianaName:vt,offset:Le,z:Tt}=Vl($a(t))),vt)Ee=qa(vt),Tt?Pe="exact":Le||(Pe="wall"),Xe=!0;else if(Tt)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(oe||(oe="iso8601"),!Uu(oe))throw new RangeError(`invalid calendar identifier ${oe}`);oe=Jl(oe)}return void 0===Ee?xd(n,o,p,oe):qs(_h(n,o,p,y,l,u,J,X,N,Pe,"option"===Pe?Sf(Le):0,Ee,"compatible","reject",Xe),Ee,oe)}function gE(r,t,n,o,p,y,l,u,J,X){for(const[N,oe]of[["years",r],["months",t],["weeks",n],["days",o],["hours",p],["minutes",y],["seconds",l],["milliseconds",u],["microseconds",J],["nanoseconds",X]])if(0!==oe)return Lw.get(N);return"nanosecond"}function Np(r,t){return xI.indexOf(r)>xI.indexOf(t)?t:r}function no(r,t,n,{emptySourceErrorMessage:o}={emptySourceErrorMessage:"no supported properties found"}){const p=Ya(null);let y=!1;t.sort();for(const l of t){let u=r[l];if(void 0!==u)y=!0,Bw.has(l)&&(u=Bw.get(l)(u)),p[l]=u;else if("partial"!==n){if(bI.call(n,l))throw new TypeError(`required property '${l}' missing or undefined`);u=EI.get(l),p[l]=u}}if("partial"===n&&!y)throw new TypeError(o);return p}function zw(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],o=no(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),p={};for(const y of n){const l=f5(o,y);void 0!==l?p[y]=l.value:"complete"===t&&(p[y]=0)}return p}function Lo(r,t){let n=r;if(ds(n)){if(ao(n))return n;if(Gr(n)&&(Js(t),n=Md(Re(n,jo),Re(n,yc),Re(n,Gn))),ji(n))return Js(t),xd(Re(n,Fr),Re(n,zr),Re(n,Yr),Re(n,Gn));const J=Kp(n);return Mf(J,no(n,Es(J,["day","month","monthCode","year"]),[]),t)}Js(t);let{year:o,month:p,day:y,calendar:l,z:u}=Vl($a(n));if(u)throw new RangeError("Z designator not supported for PlainDate");if(l||(l="iso8601"),!Uu(l))throw new RangeError(`invalid calendar identifier ${l}`);return l=Jl(l),xd(o,p,y,l)}function S0(r,t,n){let{hour:o,minute:p,second:y,millisecond:l,microsecond:u,nanosecond:J}=zw(t);const X=Js(n),N=Mf(r,t,n),oe=Re(N,Fr),Ee=Re(N,zr),Le=Re(N,Yr);return({hour:o,minute:p,second:y,millisecond:l,microsecond:u,nanosecond:J}=_0(o,p,y,l,u,J,X)),{year:oe,month:Ee,day:Le,hour:o,minute:p,second:y,millisecond:l,microsecond:u,nanosecond:J}}function Ed(r,t){let n,o,p,y,l,u,J,X,N,oe;if(ds(r)){if(ji(r))return r;if(Gr(r))return Js(t),Md(Re(r,jo),Re(r,yc),Re(r,Gn));if(ao(r))return Js(t),xc(Re(r,Fr),Re(r,zr),Re(r,Yr),0,0,0,0,0,0,Re(r,Gn));oe=Kp(r);const Ee=no(r,Es(oe,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N}=S0(oe,Ee,t))}else{let Ee;if(Js(t),({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N,calendar:oe,z:Ee}=Vl($a(r))),Ee)throw new RangeError("Z designator not supported for PlainDateTime");if(o_(n,o,p,y,l,u,J,X,N),oe||(oe="iso8601"),!Uu(oe))throw new RangeError(`invalid calendar identifier ${oe}`);oe=Jl(oe)}return xc(n,o,p,y,l,u,J,X,N,oe)}function D0(r){if(_s(r))return r;let{years:t,months:n,weeks:o,days:p,hours:y,minutes:l,seconds:u,milliseconds:J,microseconds:X,nanoseconds:N}=Ef(r);return new(_r("%Temporal.Duration%"))(t,n,o,p,y,l,u,J,X,N)}function sl(r){if(aa(r))return r;if(Gr(r))return new(_r("%Temporal.Instant%"))(Re(r,mi));const t=function NP(r){let{year:t,month:n,day:o,hour:p,minute:y,second:l,millisecond:u,microsecond:J,nanosecond:X,offset:N,z:oe}=function(Xe){const vt=Vl(Xe);if(!vt.z&&!vt.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return vt}(r);if(!oe&&!N)throw new RangeError("Temporal.Instant requires a time zone offset");const Ee=oe?0:Sf(N);({year:t,month:n,day:o,hour:p,minute:y,second:l,millisecond:u,microsecond:J,nanosecond:X}=SE(t,n,o,p,y,l,u,J,X-Ee));const Le=Eh(t,n,o,p,y,l,u,J,X);if(null===Le)throw new RangeError("DateTime outside of supported range");return Le}($a(r));return new(_r("%Temporal.Instant%"))(t)}function MI(r,t){let n=r;if(ds(n)){if(wa(n))return n;let u,J;if(Oa(n,Gn))u=Re(n,Gn),J=!1;else{let N=n.calendar;J=void 0===N,void 0===N&&(N="iso8601"),u=cd(N)}const X=no(n,Es(u,["day","month","monthCode","year"]),[]);return J&&void 0!==X.month&&void 0===X.monthCode&&void 0===X.year&&(X.year=1972),Vp(u,X,t)}Js(t);let{month:o,day:p,referenceISOYear:y,calendar:l}=mE($a(n));if(void 0===l&&(l="iso8601"),!Uu(l))throw new RangeError(`invalid calendar identifier ${l}`);return l=Jl(l),void 0===y?(Zl(1972,o,p),Pu(o,p,l)):Vp(l,Pu(o,p,l,y))}function ku(r,t="constrain"){let n,o,p,y,l,u,J=r;if(ds(J)){if(Ns(J))return J;if(Gr(J)&&(J=Md(Re(J,jo),Re(J,yc),Re(J,Gn))),ji(J))return new(_r("%Temporal.PlainTime%"))(Re(J,Ji),Re(J,qi),Re(J,Ki),Re(J,Vi),Re(J,zi),Re(J,Gi));({hour:n,minute:o,second:p,millisecond:y,microsecond:l,nanosecond:u}=zw(J)),({hour:n,minute:o,second:p,millisecond:y,microsecond:l,nanosecond:u}=_0(n,o,p,y,l,u,t))}else({hour:n,minute:o,second:p,millisecond:y,microsecond:l,nanosecond:u}=function(N){const oe=a5.exec(N);let Ee,Le,Pe,Xe,vt,Tt,bt;if(oe){Ee=Ys(oe[1]),Le=Ys(oe[2]||oe[5]),Pe=Ys(oe[3]||oe[6]),60===Pe&&(Pe=59);const wt=(oe[4]||oe[7])+"000000000";Xe=Ys(wt.slice(0,3)),vt=Ys(wt.slice(3,6)),Tt=Ys(wt.slice(6,9)),bt=oe[14];for(const[,Ct,Wt,Jt]of bt.matchAll(yh))if("u-ca"!==Wt&&"!"===Ct)throw new RangeError(`Unrecognized annotation: !${Wt}=${Jt}`);if(oe[8])throw new RangeError("Z designator not supported for PlainTime")}else{let wt,Ct;if(({hasTime:Ct,hour:Ee,minute:Le,second:Pe,millisecond:Xe,microsecond:vt,nanosecond:Tt,z:wt}=Vl(N)),!Ct)throw new RangeError(`time is missing in string: ${N}`);if(wt)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(N))return{hour:Ee,minute:Le,second:Pe,millisecond:Xe,microsecond:vt,nanosecond:Tt};try{const{month:wt,day:Ct}=mE(N);Zl(1972,wt,Ct)}catch{try{const{year:wt,month:Ct}=jw(N);Zl(wt,Ct,1)}catch{return{hour:Ee,minute:Le,second:Pe,millisecond:Xe,microsecond:vt,nanosecond:Tt}}}throw new RangeError(`invalid ISO 8601 time-only string ${N}; may need a T prefix`)}($a(J))),Xy(n,o,p,y,l,u);return new(_r("%Temporal.PlainTime%"))(n,o,p,y,l,u)}function I0(r,t){if(ds(r)){if(Ao(r))return r;const l=Kp(r);return zs(l,no(r,Es(l,["month","monthCode","year"]),[]),t)}Js(t);let{year:n,month:o,referenceISODay:p,calendar:y}=jw($a(r));if(void 0===y&&(y="iso8601"),!Uu(y))throw new RangeError(`invalid calendar identifier ${y}`);return y=Jl(y),void 0===p?(Zl(n,o,1),Ru(n,o,y)):zs(y,Ru(n,o,y,p))}function _h(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe){const Xe=new(_r("%Temporal.PlainDateTime%"))(r,t,n,o,p,y,l,u,J);if("wall"===X||"ignore"===Le)return Re(Qa(oe,Xe,Ee),mi);if("exact"===X||"use"===Le){const Tt=Eh(r,t,n,o,p,y,l,u,J);if(null===Tt)throw new RangeError("ZonedDateTime outside of supported range");return It.subtract(Tt,It.BigInt(N))}const vt=Zy(oe,Xe);for(const Tt of vt){const bt=zc(oe,Tt),wt=It.toNumber(dd(It.BigInt(bt),Ow,"halfExpand"));if(bt===N||Pe&&wt===N)return Re(Tt,mi)}if("reject"===Le){const Tt=qw(N),bt=Xa(oe)?Re(oe,_f):"time zone";throw new RangeError(`Offset ${Tt} is invalid for ${Xe.toString()} in ${bt}`)}return Re(DI(vt,oe,Xe,Ee),mi)}function Bp(r,t){let n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe,Xe,vt=!1,Tt="option";if(ds(r)){if(Gr(r))return r;Le=Kp(r);const wt=Es(Le,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);wt.push("timeZone","offset");const Ct=no(r,wt,["timeZone"]);oe=qa(Ct.timeZone),Ee=Ct.offset,void 0===Ee&&(Tt="wall"),Pe=E0(t),Xe=Kw(t,"reject"),({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N}=S0(Le,Ct,t))}else{let wt,Ct;if(({year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N,ianaName:wt,offset:Ee,z:Ct,calendar:Le}=function(Jt){const an=Vl(Jt);if(!an.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return an}($a(r))),oe=qa(wt),Ct?Tt="exact":Ee||(Tt="wall"),Le||(Le="iso8601"),!Uu(Le))throw new RangeError(`invalid calendar identifier ${Le}`);Le=Jl(Le),vt=!0,Pe=E0(t),Xe=Kw(t,"reject"),Js(t)}let bt=0;return"option"===Tt&&(bt=Sf(Ee)),qs(_h(n,o,p,y,l,u,J,X,N,Tt,bt,oe,Pe,Xe,vt),oe,Le)}function Lp(r,t,n,o,p){Zl(t,n,o),IE(t,n,o),jl(r),to(r,Fr,t),to(r,zr,n),to(r,Yr,o),to(r,Gn,p),to(r,r5,!0)}function xd(r,t,n,o="iso8601"){const p=_r("%Temporal.PlainDate%"),y=Ya(p.prototype);return Lp(y,r,t,n,o),y}function Up(r,t,n,o,p,y,l,u,J,X,N){o_(t,n,o,p,y,l,u,J,X),OI(t,n,o,p,y,l,u,J,X),jl(r),to(r,Fr,t),to(r,zr,n),to(r,Yr,o),to(r,Ji,p),to(r,qi,y),to(r,Ki,l),to(r,Vi,u),to(r,zi,J),to(r,Gi,X),to(r,Gn,N)}function xc(r,t,n,o,p,y,l,u,J,X="iso8601"){const N=_r("%Temporal.PlainDateTime%"),oe=Ya(N.prototype);return Up(oe,r,t,n,o,p,y,l,u,J,X),oe}function Fp(r,t,n,o,p){Zl(p,t,n),IE(p,t,n),jl(r),to(r,zr,t),to(r,Yr,n),to(r,Fr,p),to(r,Gn,o),to(r,o5,!0)}function Pu(r,t,n="iso8601",o=1972){const p=_r("%Temporal.PlainMonthDay%"),y=Ya(p.prototype);return Fp(y,r,t,n,o),y}function jp(r,t,n,o,p){var l,u;Zl(t,n,p),u=n,_a(l=t,Nw,Zs),l===Nw?_a(u,4,12):l===Zs&&_a(u,1,9),jl(r),to(r,Fr,t),to(r,zr,n),to(r,Yr,p),to(r,Gn,o),to(r,i5,!0)}function Ru(r,t,n="iso8601",o=1){const p=_r("%Temporal.PlainYearMonth%"),y=Ya(p.prototype);return jp(y,r,t,n,o),y}function $p(r,t,n,o){xh(t),jl(r),to(r,mi,t),to(r,jo,n),to(r,Gn,o);const p=new(_r("%Temporal.Instant%"))(Re(r,mi));to(r,yc,p)}function qs(r,t,n="iso8601"){const o=_r("%Temporal.ZonedDateTime%"),p=Ya(o.prototype);return $p(p,r,t,n),p}function Es(r,t){if("string"==typeof r){const p=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.fields%"),p,[t])}const n=Qr(go(r,"fields"),r,[t]),o=[];for(const p of n){if("string"!=typeof p)throw new TypeError("bad return from calendar.fields()");fE.call(o,p)}return o}function al(r,t,n){if("string"==typeof r){const p=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.mergeFields%"),p,[t,n])}const o=Qr(go(r,"mergeFields"),r,[t,n]);if(!ds(o))throw new TypeError("bad return from calendar.mergeFields()");return o}function Qs(r,t,n,o,p){let y=p;if("string"==typeof r){const u=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.dateAdd%"),u,[t,n,o])}void 0===y&&(y=go(r,"dateAdd"));const l=p0(y,r,[t,n,o]);if(!ao(l))throw new TypeError("invalid result");return l}function xf(r,t,n,o,p){let y=p;if("string"==typeof r){const u=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.dateUntil%"),u,[t,n,o])}void 0===y&&(y=go(r,"dateUntil"));const l=p0(y,r,[t,n,o]);if(!_s(l))throw new TypeError("invalid result");return l}function $y(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.year%"),o,[t])}let n=Qr(go(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!Ec(n))throw new RangeError("calendar year result must be an integer");return n}function Ky(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.month%"),o,[t])}let n=Qr(go(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function T0(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.monthCode%"),o,[t])}let n=Qr(go(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function A0(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.day%"),o,[t])}const n=Qr(go(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function Vy(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.era%"),o,[t])}let n=Qr(go(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function zy(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.eraYear%"),o,[t])}let n=Qr(go(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!Ec(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function Hw(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.dayOfWeek%"),o,[t])}const n=Qr(go(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function Ww(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.dayOfYear%"),o,[t])}const n=Qr(go(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function C0(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.weekOfYear%"),o,[t])}const n=Qr(go(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function Ou(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.yearOfWeek%"),o,[t])}const n=Qr(go(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!Ec(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function yE(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.daysInWeek%"),o,[t])}const n=Qr(go(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function Gw(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.daysInMonth%"),o,[t])}const n=Qr(go(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function k0(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.daysInYear%"),o,[t])}const n=Qr(go(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function Nu(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.monthsInYear%"),o,[t])}const n=Qr(go(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!Ec(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function P0(r,t){if("string"==typeof r){const o=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.inLeapYear%"),o,[t])}const n=Qr(go(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function cd(r){if(ds(r)){if(Oa(r,Gn))return Re(r,Gn);if(!(ws(p=r)||"dateAdd"in p&&"dateFromFields"in p&&"dateUntil"in p&&"day"in p&&"dayOfWeek"in p&&"dayOfYear"in p&&"daysInMonth"in p&&"daysInWeek"in p&&"daysInYear"in p&&"fields"in p&&"id"in p&&"inLeapYear"in p&&"mergeFields"in p&&"month"in p&&"monthCode"in p&&"monthDayFromFields"in p&&"monthsInYear"in p&&"weekOfYear"in p&&"year"in p&&"yearMonthFromFields"in p&&"yearOfWeek"in p))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var p;const t=$a(r);if(Uu(t))return Jl(t);let n;try{({calendar:n}=Vl(t))}catch{try{({calendar:n}=jw(t))}catch{({calendar:n}=mE(t))}}if(n||(n="iso8601"),!Uu(n))throw new RangeError(`invalid calendar identifier ${n}`);return Jl(n)}function Kp(r){if(Oa(r,Gn))return Re(r,Gn);const{calendar:t}=r;return void 0===t?"iso8601":cd(t)}function Ja(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function Hy(r){return ds(r)?r:new(_r("%Temporal.Calendar%"))(r)}function Wy(r,t){return r===t||Ja(r)===Ja(t)}function Zw(r,t,n){if(r===t)return;const o=Ja(r),p=Ja(t);if(o!==p)throw new RangeError(`cannot ${n} of ${o} and ${p} calendars`)}function vE(r,t){if(r===t)return t;const n=Ja(r),o=Ja(t);if(n===o||"iso8601"===n)return t;if("iso8601"===o)return r;throw new RangeError("irreconcilable calendars")}function Mf(r,t,n,o){if("string"==typeof r){const y=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.dateFromFields%"),y,[t,n])}const p=Qr(o??go(r,"dateFromFields"),r,[t,n]);if(!ao(p))throw new TypeError("invalid result");return p}function zs(r,t,n){if("string"==typeof r){const p=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.yearMonthFromFields%"),p,[t,n])}let o=Qr(go(r,"yearMonthFromFields"),r,[t,n]);if(!Ao(o))throw new TypeError("invalid result");return o}function Vp(r,t,n){if("string"==typeof r){const p=new(_r("%Temporal.Calendar%"))(r);return Qr(_r("%Temporal.Calendar.prototype.monthDayFromFields%"),p,[t,n])}let o=Qr(go(r,"monthDayFromFields"),r,[t,n]);if(!wa(o))throw new TypeError("invalid result");return o}function qa(r){if(ds(r)){if(Gr(r))return Re(r,jo);if(!(Xa(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function g5(r){const{ianaName:t,offset:n,z:o}=function(y){if(new RegExp(`^${h0.source}$`,"i").test(y))return{ianaName:y};try{const l=Vl(y);if(l.z||l.offset||l.ianaName)return l}catch{}throw new RangeError(`Invalid time zone: ${y}`)}(r);return t?Jw(t):o?"UTC":qw(Sf(n))}($a(r))}function Gy(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function bE(r){return ds(r)?r:new(_r("%Temporal.TimeZone%"))(r)}function SI(r,t){return r===t||Gy(r)===Gy(t)}function zp(r){return xd(Re(r,Fr),Re(r,zr),Re(r,Yr),Re(r,Gn))}function Yw(r){return new(_r("%Temporal.PlainTime%"))(Re(r,Ji),Re(r,qi),Re(r,Ki),Re(r,Vi),Re(r,zi),Re(r,Gi))}function zc(r,t,n){if("string"==typeof r){const p=new(_r("%Temporal.TimeZone%"))(r);return Qr(_r("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),p,[t])}const o=Qr(n??go(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof o)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Ec(o)||bs(o)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return o}function wE(r,t){return qw(zc(r,t))}function Md(r,t,n){const o=Re(t,mi),p=zc(r,t);let{year:y,month:l,day:u,hour:J,minute:X,second:N,millisecond:oe,microsecond:Ee,nanosecond:Le}=Qw(o);return({year:y,month:l,day:u,hour:J,minute:X,second:N,millisecond:oe,microsecond:Ee,nanosecond:Le}=SE(y,l,u,J,X,N,oe,Ee,Le+p)),xc(y,l,u,J,X,N,oe,Ee,Le,n)}function Qa(r,t,n){return DI(Zy(r,t),r,t,n)}function DI(r,t,n,o){const p=_r("%Temporal.Instant%"),y=r.length;if(1===y)return r[0];if(y)switch(o){case"compatible":case"earlier":return r[0];case"later":return r[y-1];case"reject":throw new RangeError("multiple instants found")}const l=Re(n,Fr),u=Re(n,zr),J=Re(n,Yr),X=Re(n,Ji),N=Re(n,qi),oe=Re(n,Ki),Ee=Re(n,Vi),Le=Re(n,zi),Pe=Re(n,Gi),Xe=Eh(l,u,J,X,N,oe,Ee,Le,Pe);if(null===Xe)throw new RangeError("DateTime outside of supported range");const vt=new p(It.subtract(Xe,$l)),Tt=new p(It.add(Xe,$l)),bt=zc(t,vt),wt=zc(t,Tt)-bt;switch(o){case"earlier":{const Ct=Re(n,Gn),Wt=_r("%Temporal.PlainDateTime%"),Jt=PE(l,u,J,X,N,oe,Ee,Le,Pe,Ct,0,0,0,0,0,0,0,0,0,-wt,void 0);return Zy(t,new Wt(Jt.year,Jt.month,Jt.day,Jt.hour,Jt.minute,Jt.second,Jt.millisecond,Jt.microsecond,Jt.nanosecond,Ct))[0]}case"compatible":case"later":{const Ct=Re(n,Gn),Wt=_r("%Temporal.PlainDateTime%"),Jt=PE(l,u,J,X,N,oe,Ee,Le,Pe,Ct,0,0,0,0,0,0,0,0,0,wt,void 0),an=Zy(t,new Wt(Jt.year,Jt.month,Jt.day,Jt.hour,Jt.minute,Jt.second,Jt.millisecond,Jt.microsecond,Jt.nanosecond,Ct));return an[an.length-1]}case"reject":throw new RangeError("no such instant found")}}function Zy(r,t,n){if("string"==typeof r){const y=new(_r("%Temporal.TimeZone%"))(r);return Qr(_r("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),y,[t])}const o=Qr(n??go(r,"getPossibleInstantsFor"),r,[t]),p=[];for(const y of o){if(!aa(y))throw new TypeError("bad return from getPossibleInstantsFor");fE.call(p,y)}return p}function R0(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${bs(r)}`.slice(-6):`0000${r}`.slice(-4),t}function ls(r){return`00${r}`.slice(-2)}function O0(r,t,n,o,p){if("minute"===p)return"";const y=`:${ls(r)}`;let l,u=1e6*t+1e3*n+o;if("auto"===p){if(0===u)return y;for(l=`${u}`.padStart(9,"0");"0"===l[l.length-1];)l=l.slice(0,-1)}else{if(0===p)return y;l=`${u}`.padStart(9,"0").slice(0,p)}return`${y}.${l}`}function Xw(r,t,n){let o=t;void 0===o&&(o="UTC");const p=Md(o,r,"iso8601"),y=R0(Re(p,Fr)),l=ls(Re(p,zr)),u=ls(Re(p,Yr)),J=ls(Re(p,Ji)),X=ls(Re(p,qi)),N=O0(Re(p,Ki),Re(p,Vi),Re(p,zi),Re(p,Gi),n);let oe="Z";return void 0!==t&&(oe=TI(zc(o,r))),`${y}-${l}-${u}T${J}:${X}${N}${oe}`}function Yy(r,t="auto",n){function o(In){return In<=Rw?In.toString(10):It.BigInt(In).toString(10)}const p=Re(r,Fc),y=Re(r,Ra),l=Re(r,va),u=Re(r,ba),J=Re(r,vc),X=Re(r,jc);let N=Re(r,Za),oe=Re(r,bc),Ee=Re(r,$c),Le=Re(r,wc);const Pe=Gl(p,y,l,u,J,X,N,oe,Ee,Le);if(n){const{unit:In,increment:Yn,roundingMode:Qn}=n;({seconds:N,milliseconds:oe,microseconds:Ee,nanoseconds:Le}=Yl(0,0,0,0,0,0,N,oe,Ee,Le,Yn,In,Qn))}const Xe=[];p&&Xe.push(`${o(bs(p))}Y`),y&&Xe.push(`${o(bs(y))}M`),l&&Xe.push(`${o(bs(l))}W`),u&&Xe.push(`${o(bs(u))}D`);const vt=[];J&&vt.push(`${o(bs(J))}H`),X&&vt.push(`${o(bs(X))}M`);const Tt=[];let bt,wt,Ct,Wt,Jt=L0(0,0,0,N,oe,Ee,Le,0);({quotient:Jt,remainder:bt}=Xs(Jt,mo)),({quotient:Jt,remainder:wt}=Xs(Jt,mo)),({quotient:Wt,remainder:Ct}=Xs(Jt,mo));const an=1e6*bs(It.toNumber(Ct))+1e3*bs(It.toNumber(wt))+bs(It.toNumber(bt));let Vt;if("auto"===t){if(0!==an)for(Vt=`${an}`.padStart(9,"0");"0"===Vt[Vt.length-1];)Vt=Vt.slice(0,-1)}else 0!==t&&(Vt=`${an}`.padStart(9,"0").slice(0,t));return Vt&&Tt.unshift(".",Vt),It.equal(Wt,Bo)&&!Tt.length&&"auto"===t||Tt.unshift(Kl(Wt).toString()),Tt.length&&vt.push(`${Tt.join("")}S`),vt.length&&vt.unshift("T"),Xe.length||vt.length?`${Pe<0?"-":""}P${Xe.join("")}${vt.join("")}`:"PT0S"}function Hl(r,t="auto"){return`${R0(Re(r,Fr))}-${ls(Re(r,zr))}-${ls(Re(r,Yr))}${hE(Re(r,Gn),t)}`}function II(r,t,n="auto",o){let p=Re(r,Fr),y=Re(r,zr),l=Re(r,Yr),u=Re(r,Ji),J=Re(r,qi),X=Re(r,Ki),N=Re(r,Vi),oe=Re(r,zi),Ee=Re(r,Gi);if(o){const{unit:Le,increment:Pe,roundingMode:Xe}=o;({year:p,month:y,day:l,hour:u,minute:J,second:X,millisecond:N,microsecond:oe,nanosecond:Ee}=nv(p,y,l,u,J,X,N,oe,Ee,Pe,Le,Xe))}return`${R0(p)}-${ls(y)}-${ls(l)}T${ls(u)}:${ls(J)}${O0(X,N,oe,Ee,t)}${hE(Re(r,Gn),n)}`}function _E(r,t="auto"){let n=`${ls(Re(r,zr))}-${ls(Re(r,Yr))}`;const o=Ja(Re(r,Gn));("always"===t||"critical"===t||"iso8601"!==o)&&(n=`${R0(Re(r,Fr))}-${n}`);const p=pE(o,t);return p&&(n+=p),n}function Wl(r,t="auto"){let n=`${R0(Re(r,Fr))}-${ls(Re(r,zr))}`;const o=Ja(Re(r,Gn));("always"===t||"critical"===t||"iso8601"!==o)&&(n+=`-${ls(Re(r,Yr))}`);const p=pE(o,t);return p&&(n+=p),n}function cl(r,t,n="auto",o="auto",p="auto",y){let l=Re(r,yc);if(y){const{unit:N,increment:oe,roundingMode:Ee}=y,Le=U0(Re(r,mi),oe,N,Ee);l=new(_r("%Temporal.Instant%"))(Le)}const u=Re(r,jo),J=Md(u,l,"iso8601");let X=`${R0(Re(J,Fr))}-${ls(Re(J,zr))}-${ls(Re(J,Yr))}T${ls(Re(J,Ji))}:${ls(Re(J,qi))}${O0(Re(J,Ki),Re(J,Vi),Re(J,zi),Re(J,Gi),t)}`;return"never"!==p&&(X+=TI(zc(u,l))),"never"!==o&&(X+=`[${"critical"===o?"!":""}${Gy(u)}]`),X+=hE(Re(r,Gn),n),X}function Hc(r){return VI.test(Pw(r))}function Sf(r){const t=VI.exec(Pw(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function Jw(r){return Hc(r)?qw(Sf(r)):Fw(Pw(r)).resolvedOptions().timeZone}function Df(r,t){const{year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X,nanosecond:N}=N0(r,t),oe=n%400,Ee=(n-oe)/400,Le=It.multiply(It.BigInt(146097),$l),Pe=Eh(oe,o,p,y,l,u,J,X,N),Xe=It.add(Pe,It.multiply(Le,It.BigInt(Ee)));return It.toNumber(It.subtract(Xe,t))}function qw(r){const t=r<0?"-":"+",n=bs(r),o=n%1e9,p=_c(n/1e9)%60,y=_c(n/6e10)%60,l=ls(_c(n/36e11)),u=ls(y),J=ls(p);let X="";if(o){let N=`${o}`.padStart(9,"0");for(;"0"===N[N.length-1];)N=N.slice(0,-1);X=`:${J}.${N}`}else p&&(X=`:${J}`);return`${t}${l}:${u}${X}`}function TI(r){let t=It.toNumber(dd(It.BigInt(r),Ow,"halfExpand"));const n=t<0?"-":"+";t=bs(t);const o=t/6e10%60;return`${n}${ls(_c(t/36e11))}:${ls(o)}`}function Eh(r,t,n,o,p,y,l,u,J){const X=new Date;X.setUTCHours(o,p,y,l),X.setUTCFullYear(r,t-1,n);const N=X.getTime();if(Ny(N))return null;let oe=It.multiply(It.BigInt(N),Vs);return oe=It.add(oe,It.multiply(It.BigInt(u),mo)),oe=It.add(oe,It.BigInt(J)),It.lessThan(oe,g0)||It.greaterThan(oe,y0)?null:oe}function Qw(r){const{quotient:t,remainder:n}=Xs(r,Vs);let o=It.toNumber(t),p=It.toNumber(n);p<0&&(p+=1e6,o-=1);const y=_c(p/1e3)%1e3,l=p%1e3,u=new Date(o);return{epochMilliseconds:o,year:u.getUTCFullYear(),month:u.getUTCMonth()+1,day:u.getUTCDate(),hour:u.getUTCHours(),minute:u.getUTCMinutes(),second:u.getUTCSeconds(),millisecond:u.getUTCMilliseconds(),microsecond:y,nanosecond:l}}function N0(r,t){const{epochMilliseconds:n,millisecond:o,microsecond:p,nanosecond:y}=Qw(t),{year:l,month:u,day:J,hour:X,minute:N,second:oe}=(Pe=n,function(Tt){const bt=Tt.split(/[^\w]+/);if(7!==bt.length)throw new RangeError(`expected 7 parts in "${Tt}`);const wt=+bt[0],Ct=+bt[1];let Wt=+bt[2];const Jt=bt[3].toUpperCase();if("B"===Jt||"BC"===Jt)Wt=1-Wt;else if("A"!==Jt&&"AD"!==Jt)throw new RangeError(`Unknown era ${Jt} in "${Tt}`);let an=+bt[4];24===an&&(an=0);const Vt=+bt[5],In=+bt[6];if(!(ja(Wt)&&ja(wt)&&ja(Ct)&&ja(an)&&ja(Vt)&&ja(In)))throw new RangeError(`Invalid number in "${Tt}`);return{year:Wt,month:wt,day:Ct,hour:an,minute:Vt,second:In}}(Fw(r).format(new Date(Pe))));var Pe;return SE(l,u,J,X,N,oe,o,p,y)}function AI(r,t){return It.lessThan(r,t)?t:r}function EE(){return It.add(OE(),m5)}function CI(r,t){if(It.lessThan(t,Ap))return CI(r,Ap);const n=It.add(t,ua),o=AI(EE(),n);let p=AI(Ap,t);const y=Df(r,p);let l=p,u=y;for(;y===u&&It.lessThan(It.BigInt(p),o);){if(l=It.add(p,v0),It.greaterThan(l,y0))return null;u=Df(r,l),y===u&&(p=l)}return y===u?null:F0(J=>Df(r,J),p,l,y,u)}function xE(r,t){const n=EE(),o=It.greaterThan(t,n),p=o?It.subtract(t,ua):Ap;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const X=Re(sl("2088-01-01T00Z"),mi);if(It.lessThan(X,t))return xE(r,X)}let y=It.subtract(t,Cu);if(It.lessThan(y,Ap))return null;const l=Df(r,y);let u=y,J=l;for(;l===J&&It.greaterThan(y,p);){if(u=It.subtract(y,v0),It.lessThan(u,Ap))return null;J=Df(r,u),l===J&&(y=u)}if(l===J){if(o){const X=It.subtract(n,$l);return xE(r,X)}return null}return F0(X=>Df(r,X),u,y,J,l)}function If(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function Bu(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[If(r)?"leapyear":"standard"][t-1]}function B0(r,t,n){const o=t+(t<3?10:-2),p=r-(t<3?1:0),y=_c(p/100),l=p-100*y,u=(n+_c(2.6*o-.2)+(l+_c(l/4))+(_c(y/4)-2*y))%7;return u+(u<=0?7:0)}function e_(r,t,n){let o=n;for(let p=t-1;p>0;p--)o+=Bu(r,p);return o}function ME(r,t,n){const o=e_(r,t,n),p=B0(r,t,n)||7,y=B0(r,1,1),l=_c((o-p+10)/7);return l<1?5===y||6===y&&If(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===l&&(If(r)?366:365)-o<4-p?{week:1,year:r+1}:{week:l,year:r}}function Gl(r,t,n,o,p,y,l,u,J,X){for(const N of[r,t,n,o,p,y,l,u,J,X])if(0!==N)return N<0?-1:1;return 0}function t_(r,t){let n=r,o=t;if(!ja(n)||!ja(o))throw new RangeError("infinity is out of range");return o-=1,n+=_c(o/12),o%=12,o<0&&(o+=12),o+=1,{year:n,month:o}}function n_(r,t,n){let o=r,p=t,y=n;if(!ja(y))throw new RangeError("infinity is out of range");({year:o,month:p}=t_(o,p));const l=146097;if(bs(y)>l){const X=Tp(y/l);o+=400*X,y-=X*l}let u=0,J=p>2?o:o-1;for(;u=If(J)?366:365,y<-u;)o-=1,J-=1,y+=u;for(J+=1;u=If(J)?366:365,y>u;)o+=1,J+=1,y-=u;for(;y<1;)({year:o,month:p}=t_(o,p-1)),y+=Bu(o,p);for(;y>Bu(o,p);)y-=Bu(o,p),({year:o,month:p}=t_(o,p+1));return{year:o,month:p,day:y}}function SE(r,t,n,o,p,y,l,u,J){const{deltaDays:X,hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Xe}=Tf(o,p,y,l,u,J),{year:vt,month:Tt,day:bt}=n_(r,t,n+X);return{year:vt,month:Tt,day:bt,hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Xe}}function Tf(r,t,n,o,p,y){let l,u=It.BigInt(r),J=It.BigInt(t),X=It.BigInt(n),N=It.BigInt(o),oe=It.BigInt(p),Ee=It.BigInt(y);return({quotient:l,remainder:Ee}=Mh(Ee,mo)),oe=It.add(oe,l),({quotient:l,remainder:oe}=Mh(oe,mo)),N=It.add(N,l),({quotient:l,remainder:N}=Mh(N,mo)),X=It.add(X,l),({quotient:l,remainder:X}=Mh(X,cs)),J=It.add(J,l),({quotient:l,remainder:J}=Mh(J,cs)),u=It.add(u,l),({quotient:l,remainder:u}=Mh(u,wh)),{deltaDays:It.toNumber(l),hour:It.toNumber(u),minute:It.toNumber(J),second:It.toNumber(X),millisecond:It.toNumber(N),microsecond:It.toNumber(oe),nanosecond:It.toNumber(Ee)}}function L0(r,t,n,o,p,y,l,u){const J=It.BigInt(r);let X=It.BigInt(l);0!==r&&(X=It.subtract(It.BigInt(l),It.BigInt(u)));const N=It.add(It.BigInt(t),It.multiply(J,It.BigInt(24))),oe=It.add(It.BigInt(n),It.multiply(N,cs)),Ee=It.add(It.BigInt(o),It.multiply(oe,cs)),Le=It.add(It.BigInt(p),It.multiply(Ee,mo)),Pe=It.add(It.BigInt(y),It.multiply(Le,mo));return It.add(It.BigInt(X),It.multiply(Pe,mo))}function DE(r,t){const n=_r("%Temporal.Instant%"),o=bh(It.toNumber(r));let p=It.BigInt(r),y=864e11;if(0===o)return{days:0,nanoseconds:Bo,dayLengthNs:y};if(!Gr(t)){let wt;return({quotient:wt,remainder:p}=Xs(p,It.BigInt(y))),{days:It.toNumber(wt),nanoseconds:p,dayLengthNs:y}}const l=Re(t,mi),u=Re(t,yc),J=It.add(l,p),X=new n(J),N=Re(t,jo),oe=Re(t,Gn),Ee=Md(N,u,oe),Le=Md(N,X,oe);let{days:Pe}=BI(Re(Ee,Fr),Re(Ee,zr),Re(Ee,Yr),Re(Ee,Ji),Re(Ee,qi),Re(Ee,Ki),Re(Ee,Vi),Re(Ee,zi),Re(Ee,Gi),Re(Le,Fr),Re(Le,zr),Re(Le,Yr),Re(Le,Ji),Re(Le,qi),Re(Le,Ki),Re(Le,Vi),Re(Le,zi),Re(Le,Gi),oe,"day",Ya(null)),Xe=Fd(u,N,oe,0,0,0,Pe,0,0,0,0,0,0),vt=It.BigInt(Pe);if(1===o)for(;It.greaterThan(vt,Bo)&&It.greaterThan(Xe,J);)vt=It.subtract(vt,Cu),Xe=Fd(u,N,oe,0,0,0,It.toNumber(vt),0,0,0,0,0,0);p=It.subtract(J,Xe);let Tt=!1,bt=new n(Xe);do{const wt=Fd(bt,N,oe,0,0,0,o,0,0,0,0,0,0),Ct=Re(bt,mi);y=It.toNumber(It.subtract(wt,Ct)),Tt=It.greaterThanOrEqual(It.multiply(It.subtract(p,It.BigInt(y)),It.BigInt(o)),Bo),Tt&&(p=It.subtract(p,It.BigInt(y)),bt=new n(wt),vt=It.add(vt,It.BigInt(o)))}while(Tt);if(!Kc(vt)&&_I(vt)!==o)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!Kc(p)&&_I(p)!==o)throw Vc(p)&&1===o?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(It.greaterThanOrEqual(Kl(p),Kl(It.BigInt(y))))throw new Error("assert not reached");return{days:It.toNumber(vt),nanoseconds:p,dayLengthNs:bs(y)}}function dl(r,t,n,o,p,y,l,u,J){let X=kI(r,t,n,o,p,y,l,u,J);if("positive overflow"===X||"negative overflow"===X)throw new RangeError("Duration out of range");return X}function kI(r,t,n,o,p,y,l,u,J){let X,N,oe,Ee,Le,Pe,Xe=r;if(Gr(J)){const an=Fd(Re(J,yc),Re(J,jo),Re(J,Gn),0,0,0,Xe,t,n,o,p,y,l),Vt=Re(J,mi);X=It.subtract(an,Vt)}else X=L0(Xe,t,n,o,p,y,l,0);"year"===u||"month"===u||"week"===u||"day"===u?({days:Xe,nanoseconds:X}=DE(X,J)):Xe=0;const vt=It.lessThan(X,Bo)?-1:1;switch(X=Kl(X),N=oe=Ee=Le=Pe=Bo,u){case"year":case"month":case"week":case"day":case"hour":({quotient:N,remainder:X}=Xs(X,mo)),({quotient:oe,remainder:N}=Xs(N,mo)),({quotient:Ee,remainder:oe}=Xs(oe,mo)),({quotient:Le,remainder:Ee}=Xs(Ee,cs)),({quotient:Pe,remainder:Le}=Xs(Le,cs));break;case"minute":({quotient:N,remainder:X}=Xs(X,mo)),({quotient:oe,remainder:N}=Xs(N,mo)),({quotient:Ee,remainder:oe}=Xs(oe,mo)),({quotient:Le,remainder:Ee}=Xs(Ee,cs));break;case"second":({quotient:N,remainder:X}=Xs(X,mo)),({quotient:oe,remainder:N}=Xs(N,mo)),({quotient:Ee,remainder:oe}=Xs(oe,mo));break;case"millisecond":({quotient:N,remainder:X}=Xs(X,mo)),({quotient:oe,remainder:N}=Xs(N,mo));break;case"microsecond":({quotient:N,remainder:X}=Xs(X,mo));break;case"nanosecond":break;default:throw new Error("assert not reached")}const Tt=It.toNumber(Pe)*vt,bt=It.toNumber(Le)*vt,wt=It.toNumber(Ee)*vt,Ct=It.toNumber(oe)*vt,Wt=It.toNumber(N)*vt,Jt=It.toNumber(X)*vt;for(const an of[Xe,Tt,bt,wt,Ct,Wt,Jt])if(!ja(an))return 1===vt?"positive overflow":"negative overflow";return{days:Xe,hours:Tt,minutes:bt,seconds:wt,milliseconds:Ct,microseconds:Wt,nanoseconds:Jt}}function r_(r,t,n,o,p,y){const l=_r("%Temporal.Duration%"),u=Gl(r,t,n,o,0,0,0,0,0,0);if(0===u)return{years:r,months:t,weeks:n,days:o};const J=It.BigInt(u);let X,N,oe=It.BigInt(r),Ee=It.BigInt(t),Le=It.BigInt(n),Pe=It.BigInt(o);y&&(N=Lo(y),X=Re(N,Gn));const Xe=new l(u),vt=new l(0,u),Tt=new l(0,0,u);switch(p){case"year":break;case"month":{if(!X)throw new RangeError("a starting point is required for months balancing");let bt,wt;for("string"!=typeof X&&(bt=go(X,"dateAdd"),wt=go(X,"dateUntil"));!Kc(oe);){const Ct=Qs(X,N,Xe,void 0,bt),Wt=Ya(null);Wt.largestUnit="month";const Jt=xf(X,N,Ct,Wt,wt),an=It.BigInt(Re(Jt,Ra));N=Ct,Ee=It.add(Ee,an),oe=It.subtract(oe,J)}}break;case"week":{if(!X)throw new RangeError("a starting point is required for weeks balancing");const bt="string"!=typeof X?go(X,"dateAdd"):void 0;for(;!Kc(oe);){let wt;({relativeTo:N,days:wt}=ec(X,N,Xe,bt)),Pe=It.add(Pe,It.BigInt(wt)),oe=It.subtract(oe,J)}for(;!Kc(Ee);){let wt;({relativeTo:N,days:wt}=ec(X,N,vt,bt)),Pe=It.add(Pe,It.BigInt(wt)),Ee=It.subtract(Ee,J)}break}default:{if(Kc(oe)&&Kc(Ee)&&Kc(Le))break;if(!X)throw new RangeError("a starting point is required for balancing calendar units");const bt="string"!=typeof X?go(X,"dateAdd"):void 0;for(;!Kc(oe);){let wt;({relativeTo:N,days:wt}=ec(X,N,Xe,bt)),Pe=It.add(Pe,It.BigInt(wt)),oe=It.subtract(oe,J)}for(;!Kc(Ee);){let wt;({relativeTo:N,days:wt}=ec(X,N,vt,bt)),Pe=It.add(Pe,It.BigInt(wt)),Ee=It.subtract(Ee,J)}for(;!Kc(Le);){let wt;({relativeTo:N,days:wt}=ec(X,N,Tt,bt)),Pe=It.add(Pe,It.BigInt(wt)),Le=It.subtract(Le,J)}break}}return{years:It.toNumber(oe),months:It.toNumber(Ee),weeks:It.toNumber(Le),days:It.toNumber(Pe)}}function PI(r,t,n,o,p){if(Gr(r)){const y=Re(r,yc),l=Re(r,jo),u=Re(r,Gn),J=zc(l,y),X=Fd(y,l,u,t,n,o,p,0,0,0,0,0,0);return zc(l,new(_r("%Temporal.Instant%"))(X))-J}return 0}function i_(r){return new(_r("%Temporal.Duration%"))(-Re(r,Fc),-Re(r,Ra),-Re(r,va),-Re(r,ba),-Re(r,vc),-Re(r,jc),-Re(r,Za),-Re(r,bc),-Re(r,$c),-Re(r,wc))}function Sd(r,t,n){return wI(n,l5(t,r))}function RI(r,t,n){const o=Sd(t,1,12);return{year:r,month:o,day:Sd(n,1,Bu(r,o))}}function _a(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function Zl(r,t,n){_a(t,1,12),_a(n,1,Bu(r,t))}function IE(r,t,n){OI(r,t,n,12,0,0,0,0,0)}function Xy(r,t,n,o,p,y){_a(r,0,23),_a(t,0,59),_a(n,0,59),_a(o,0,999),_a(p,0,999),_a(y,0,999)}function o_(r,t,n,o,p,y,l,u,J){Zl(r,t,n),Xy(o,p,y,l,u,J)}function OI(r,t,n,o,p,y,l,u,J){if(_a(r,Nw,Zs),r===Nw&&null==Eh(r,t,n+1,o,p,y,l,u,J-1)||r===Zs&&null==Eh(r,t,n-1,o,p,y,l,u,J+1))throw new RangeError("DateTime outside of supported range")}function xh(r){if(It.lessThan(r,g0)||It.greaterThan(r,y0))throw new RangeError("Instant outside of supported range")}function Jy(r,t,n,o,p,y,l,u,J,X){const N=Gl(r,t,n,o,p,y,l,u,J,X);for(const oe of[r,t,n,o,p,y,l,u,J,X]){if(!ja(oe))throw new RangeError("infinite values not allowed as duration fields");const Ee=bh(oe);if(0!==Ee&&Ee!==N)throw new RangeError("mixed-sign values not allowed as duration fields")}}function TE(r,t,n,o,p,y,l){switch(l){case"year":case"month":{const u=-Gp(r,t,n,o,p,y);if(0===u)return{years:0,months:0,weeks:0,days:0};const J={year:r,month:t,day:n},X={year:o,month:p,day:y};let N=X.year-J.year,oe=Lu(r,t,n,N,0,0,0,"constrain"),Ee=-Gp(oe.year,oe.month,oe.day,o,p,y);if(0===Ee)return"year"===l?{years:N,months:0,weeks:0,days:0}:{years:0,months:12*N,weeks:0,days:0};let Le=X.month-J.month;if(Ee!==u&&(N-=u,Le+=12*u),oe=Lu(r,t,n,N,Le,0,0,"constrain"),Ee=-Gp(oe.year,oe.month,oe.day,o,p,y),0===Ee)return"year"===l?{years:N,months:Le,weeks:0,days:0}:{years:0,months:Le+12*N,weeks:0,days:0};Ee!==u&&(Le-=u,Le===-u&&(N-=u,Le=11*u),oe=Lu(r,t,n,N,Le,0,0,"constrain"));let Pe=0;return Pe=oe.month===X.month?X.day-oe.day:u<0?-oe.day-(Bu(X.year,X.month)-X.day):X.day+(Bu(oe.year,oe.month)-oe.day),"month"===l&&(Le+=12*N,N=0),{years:N,months:Le,weeks:0,days:Pe}}case"week":case"day":{let u,J,X;Gp(r,t,n,o,p,y)<0?(J={year:r,month:t,day:n},u={year:o,month:p,day:y},X=1):(J={year:o,month:p,day:y},u={year:r,month:t,day:n},X=-1);let N=e_(u.year,u.month,u.day)-e_(J.year,J.month,J.day);for(let Ee=J.year;Ee<u.year;++Ee)N+=If(Ee)?366:365;let oe=0;return"week"===l&&(oe=_c(N/7),N%=7),oe*=X,N*=X,{years:0,months:0,weeks:oe,days:N}}default:throw new Error("assert not reached")}}function AE(r,t,n,o,p,y,l,u,J,X,N,oe){let Ee=l-r,Le=u-t,Pe=J-n,Xe=X-o,vt=N-p,Tt=oe-y;const bt=Gl(0,0,0,0,Ee,Le,Pe,Xe,vt,Tt);Ee*=bt,Le*=bt,Pe*=bt,Xe*=bt,vt*=bt,Tt*=bt;let wt=0;if(({deltaDays:wt,hour:Ee,minute:Le,second:Pe,millisecond:Xe,microsecond:vt,nanosecond:Tt}=Tf(Ee,Le,Pe,Xe,vt,Tt)),0!=wt)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return Ee*=bt,Le*=bt,Pe*=bt,Xe*=bt,vt*=bt,Tt*=bt,{hours:Ee,minutes:Le,seconds:Pe,milliseconds:Xe,microseconds:vt,nanoseconds:Tt}}function NI(r,t,n,o,p,y){const l=It.subtract(t,r);let u=0,J=0,X=It.toNumber(It.remainder(l,mo)),N=It.toNumber(It.remainder(It.divide(l,mo),mo)),oe=It.toNumber(It.remainder(It.divide(l,Vs),mo)),Ee=It.toNumber(It.divide(l,sd));return({hours:u,minutes:J,seconds:Ee,milliseconds:oe,microseconds:N,nanoseconds:X}=Yl(0,0,0,0,0,0,Ee,oe,N,X,n,o,y)),dl(0,u,J,Ee,oe,N,X,p)}function BI(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe,Xe,vt,Tt,bt,wt,Ct){let Wt=r,Jt=t,an=n,{hours:Vt,minutes:In,seconds:Yn,milliseconds:Qn,microseconds:sr,nanoseconds:Hn}=AE(o,p,y,l,u,J,Ee,Le,Pe,Xe,vt,Tt);const zn=Gl(0,0,0,0,Vt,In,Yn,Qn,sr,Hn);Gp(X,N,oe,Wt,Jt,an)===-zn&&(({year:Wt,month:Jt,day:an}=n_(Wt,Jt,an-zn)),({hours:Vt,minutes:In,seconds:Yn,milliseconds:Qn,microseconds:sr,nanoseconds:Hn}=dl(-zn,Vt,In,Yn,Qn,sr,Hn,wt)));const jn=xd(Wt,Jt,an,bt),Xn=xd(X,N,oe,bt),An=Np("day",wt),yr=Xl(Ct);yr.largestUnit=An;let{years:Hr,months:Ir,weeks:oi,days:ro}=xf(bt,jn,Xn,yr);return({days:ro,hours:Vt,minutes:In,seconds:Yn,milliseconds:Qn,microseconds:sr,nanoseconds:Hn}=dl(ro,Vt,In,Yn,Qn,sr,Hn,wt)),{years:Hr,months:Ir,weeks:oi,days:ro,hours:Vt,minutes:In,seconds:Yn,milliseconds:Qn,microseconds:sr,nanoseconds:Hn}}function LI(r,t,n,o,p,y){const l=It.subtract(t,r);if(It.equal(l,Bo))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const u=_r("%Temporal.Instant%"),J=new u(r),X=new u(t),N=Md(n,J,o),oe=Md(n,X,o);let{years:Ee,months:Le,weeks:Pe,days:Xe}=BI(Re(N,Fr),Re(N,zr),Re(N,Yr),Re(N,Ji),Re(N,qi),Re(N,Ki),Re(N,Vi),Re(N,zi),Re(N,Gi),Re(oe,Fr),Re(oe,zr),Re(oe,Yr),Re(oe,Ji),Re(oe,qi),Re(oe,Ki),Re(oe,Vi),Re(oe,zi),Re(oe,Gi),o,p,y);const vt=Fd(J,n,o,Ee,Le,Pe,0,0,0,0,0,0,0);let Tt=It.subtract(t,vt);const bt=qs(vt,n,o);({nanoseconds:Tt,days:Xe}=DE(Tt,bt));const{hours:wt,minutes:Ct,seconds:Wt,milliseconds:Jt,microseconds:an,nanoseconds:Vt}=dl(0,0,0,0,0,0,It.toNumber(Tt),"hour");return{years:Ee,months:Le,weeks:Pe,days:Xe,hours:wt,minutes:Ct,seconds:Wt,milliseconds:Jt,microseconds:an,nanoseconds:Vt}}function Hp(r,t,n,o,p,y){const l=w0.reduce((Le,Pe)=>{const Xe=Pe[0],vt=Pe[1];return"datetime"!==n&&Pe[2]!==n||o.includes(vt)||Le.push(vt,Xe),Le},[]);let u=ad(t,"largestUnit",n,"auto");if(o.includes(u))throw new RangeError(`largestUnit must be one of ${l.join(", ")}, not ${u}`);const J=x0(t);let X=zl(t,"trunc");"since"===r&&(X=function(Pe){switch(Pe){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Pe}}(X));const N=ad(t,"smallestUnit",n,p);if(o.includes(N))throw new RangeError(`smallestUnit must be one of ${l.join(", ")}, not ${N}`);const oe=Np(y,N);if("auto"===u&&(u=oe),Np(u,N)!==u)throw new RangeError(`largestUnit ${u} cannot be smaller than smallestUnit ${N}`);const Ee={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[N];return void 0!==Ee&&M0(J,Ee,!1),{largestUnit:u,roundingIncrement:J,roundingMode:X,smallestUnit:N}}function qy(r,t,n,o){const p="since"===r?-1:1,y=sl(n),l=Hp(r,Xl(o),"time",[],"nanosecond","second"),u=Re(t,mi),J=Re(y,mi);let{hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=NI(u,J,l.roundingIncrement,l.smallestUnit,l.largestUnit,l.roundingMode);return new(_r("%Temporal.Duration%"))(0,0,0,0,p*X,p*N,p*oe,p*Ee,p*Le,p*Pe)}function UI(r,t,n,o){const p="since"===r?-1:1,y=Lo(n),l=Re(t,Gn);Zw(l,Re(y,Gn),"compute difference between dates");const u=Xl(o),J=Hp(r,u,"date",[],"day","day");u.largestUnit=J.largestUnit;let{years:X,months:N,weeks:oe,days:Ee}=xf(l,t,y,u);return"day"===J.smallestUnit&&1===J.roundingIncrement||({years:X,months:N,weeks:oe,days:Ee}=Yl(X,N,oe,Ee,0,0,0,0,0,0,J.roundingIncrement,J.smallestUnit,J.roundingMode,t)),new(_r("%Temporal.Duration%"))(p*X,p*N,p*oe,p*Ee,0,0,0,0,0,0)}function FI(r,t,n,o){const p="since"===r?-1:1,y=Ed(n),l=Re(t,Gn);Zw(l,Re(y,Gn),"compute difference between dates");const u=Xl(o),J=Hp(r,u,"datetime",[],"nanosecond","day");let{years:X,months:N,weeks:oe,days:Ee,hours:Le,minutes:Pe,seconds:Xe,milliseconds:vt,microseconds:Tt,nanoseconds:bt}=BI(Re(t,Fr),Re(t,zr),Re(t,Yr),Re(t,Ji),Re(t,qi),Re(t,Ki),Re(t,Vi),Re(t,zi),Re(t,Gi),Re(y,Fr),Re(y,zr),Re(y,Yr),Re(y,Ji),Re(y,qi),Re(y,Ki),Re(y,Vi),Re(y,zi),Re(y,Gi),l,J.largestUnit,u);const wt=zp(t);return({years:X,months:N,weeks:oe,days:Ee,hours:Le,minutes:Pe,seconds:Xe,milliseconds:vt,microseconds:Tt,nanoseconds:bt}=Yl(X,N,oe,Ee,Le,Pe,Xe,vt,Tt,bt,J.roundingIncrement,J.smallestUnit,J.roundingMode,wt)),({days:Ee,hours:Le,minutes:Pe,seconds:Xe,milliseconds:vt,microseconds:Tt,nanoseconds:bt}=dl(Ee,Le,Pe,Xe,vt,Tt,bt,J.largestUnit)),new(_r("%Temporal.Duration%"))(p*X,p*N,p*oe,p*Ee,p*Le,p*Pe,p*Xe,p*vt,p*Tt,p*bt)}function s_(r,t,n,o){const p="since"===r?-1:1,y=ku(n),l=Hp(r,Xl(o),"time",[],"nanosecond","hour");let{hours:u,minutes:J,seconds:X,milliseconds:N,microseconds:oe,nanoseconds:Ee}=AE(Re(t,Ji),Re(t,qi),Re(t,Ki),Re(t,Vi),Re(t,zi),Re(t,Gi),Re(y,Ji),Re(y,qi),Re(y,Ki),Re(y,Vi),Re(y,zi),Re(y,Gi));return({hours:u,minutes:J,seconds:X,milliseconds:N,microseconds:oe,nanoseconds:Ee}=Yl(0,0,0,0,u,J,X,N,oe,Ee,l.roundingIncrement,l.smallestUnit,l.roundingMode)),({hours:u,minutes:J,seconds:X,milliseconds:N,microseconds:oe,nanoseconds:Ee}=dl(0,u,J,X,N,oe,Ee,l.largestUnit)),new(_r("%Temporal.Duration%"))(0,0,0,0,p*u,p*J,p*X,p*N,p*oe,p*Ee)}function jI(r,t,n,o){const p="since"===r?-1:1,y=I0(n),l=Re(t,Gn);Zw(l,Re(y,Gn),"compute difference between months");const u=Xl(o),J=Hp(r,u,"date",["week","day"],"month","year");u.largestUnit=J.largestUnit;const X=Es(l,["monthCode","year"]),N=no(t,X,[]);N.day=1;const oe=Mf(l,N),Ee=no(y,X,[]);Ee.day=1;const Le=Mf(l,Ee);let{years:Pe,months:Xe}=xf(l,oe,Le,u);return"month"===J.smallestUnit&&1===J.roundingIncrement||({years:Pe,months:Xe}=Yl(Pe,Xe,0,0,0,0,0,0,0,0,J.roundingIncrement,J.smallestUnit,J.roundingMode,oe)),new(_r("%Temporal.Duration%"))(p*Pe,p*Xe,0,0,0,0,0,0,0,0)}function Qy(r,t,n,o){const p="since"===r?-1:1,y=Bp(n),l=Re(t,Gn);Zw(l,Re(y,Gn),"compute difference between dates");const u=Xl(o),J=Hp(r,u,"datetime",[],"nanosecond","hour");u.largestUnit=J.largestUnit;const X=Re(t,mi),N=Re(y,mi);let oe,Ee,Le,Pe,Xe,vt,Tt,bt,wt,Ct;if("year"!==J.largestUnit&&"month"!==J.largestUnit&&"week"!==J.largestUnit&&"day"!==J.largestUnit)oe=0,Ee=0,Le=0,Pe=0,({hours:Xe,minutes:vt,seconds:Tt,milliseconds:bt,microseconds:wt,nanoseconds:Ct}=NI(X,N,J.roundingIncrement,J.smallestUnit,J.largestUnit,J.roundingMode));else{const Wt=Re(t,jo);if(!SI(Wt,Re(y,jo)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:oe,months:Ee,weeks:Le,days:Pe,hours:Xe,minutes:vt,seconds:Tt,milliseconds:bt,microseconds:wt,nanoseconds:Ct}=LI(X,N,Wt,l,J.largestUnit,u)),({years:oe,months:Ee,weeks:Le,days:Pe,hours:Xe,minutes:vt,seconds:Tt,milliseconds:bt,microseconds:wt,nanoseconds:Ct}=Yl(oe,Ee,Le,Pe,Xe,vt,Tt,bt,wt,Ct,J.roundingIncrement,J.smallestUnit,J.roundingMode,t)),({years:oe,months:Ee,weeks:Le,days:Pe,hours:Xe,minutes:vt,seconds:Tt,milliseconds:bt,microseconds:wt,nanoseconds:Ct}=y5(oe,Ee,Le,Pe,Xe,vt,Tt,bt,wt,Ct,J.roundingIncrement,J.smallestUnit,J.roundingMode,t))}return new(_r("%Temporal.Duration%"))(p*oe,p*Ee,p*Le,p*Pe,p*Xe,p*vt,p*Tt,p*bt,p*wt,p*Ct)}function Lu(r,t,n,o,p,y,l,u){let J=r,X=t,N=n,oe=y,Ee=l;return J+=o,X+=p,({year:J,month:X}=t_(J,X)),({year:J,month:X,day:N}=$w(J,X,N,u)),Ee+=7*oe,N+=Ee,({year:J,month:X,day:N}=n_(J,X,N)),{year:J,month:X,day:N}}function a_(r,t,n,o,p,y,l,u,J,X,N,oe){let Ee=r,Le=t,Pe=n,Xe=o,vt=p,Tt=y;Ee+=l,Le+=u,Pe+=J,Xe+=X,vt+=N,Tt+=oe;let bt=0;return({deltaDays:bt,hour:Ee,minute:Le,second:Pe,millisecond:Xe,microsecond:vt,nanosecond:Tt}=Tf(Ee,Le,Pe,Xe,vt,Tt)),{deltaDays:bt,hour:Ee,minute:Le,second:Pe,millisecond:Xe,microsecond:vt,nanosecond:Tt}}function CE(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe,Xe,vt,Tt,bt,wt,Ct){const Wt=Np(gE(r,t,n,o,p,y,l,u,J,X),gE(N,oe,Ee,Le,Pe,Xe,vt,Tt,bt,wt));let Jt,an,Vt,In,Yn,Qn,sr,Hn,zn,jn;if(Ct)if(ao(Ct)){const Xn=_r("%Temporal.Duration%"),An=Re(Ct,Gn),yr=new Xn(r,t,n,o,0,0,0,0,0,0),Hr=new Xn(N,oe,Ee,Le,0,0,0,0,0,0),Ir="string"!=typeof An?go(An,"dateAdd"):void 0,oi=Qs(An,Ct,yr,void 0,Ir),ro=Qs(An,oi,Hr,void 0,Ir),Dn=Np("day",Wt),li=Ya(null);li.largestUnit=Dn,({years:Jt,months:an,weeks:Vt,days:In}=xf(An,Ct,ro,li)),({days:In,hours:Yn,minutes:Qn,seconds:sr,milliseconds:Hn,microseconds:zn,nanoseconds:jn}=dl(In,It.add(It.BigInt(p),It.BigInt(Pe)),It.add(It.BigInt(y),It.BigInt(Xe)),It.add(It.BigInt(l),It.BigInt(vt)),It.add(It.BigInt(u),It.BigInt(Tt)),It.add(It.BigInt(J),It.BigInt(bt)),It.add(It.BigInt(X),It.BigInt(wt)),Wt))}else{const Xn=_r("%Temporal.Instant%"),An=Re(Ct,jo),yr=Re(Ct,Gn),Hr=Fd(Re(Ct,yc),An,yr,r,t,n,o,p,y,l,u,J,X),Ir=Fd(new Xn(Hr),An,yr,N,oe,Ee,Le,Pe,Xe,vt,Tt,bt,wt);"year"!==Wt&&"month"!==Wt&&"week"!==Wt&&"day"!==Wt?(Jt=0,an=0,Vt=0,In=0,({hours:Yn,minutes:Qn,seconds:sr,milliseconds:Hn,microseconds:zn,nanoseconds:jn}=NI(Re(Ct,mi),Ir,1,"nanosecond",Wt,"halfExpand"))):({years:Jt,months:an,weeks:Vt,days:In,hours:Yn,minutes:Qn,seconds:sr,milliseconds:Hn,microseconds:zn,nanoseconds:jn}=LI(Re(Ct,mi),Ir,An,yr,Wt,Ya(null)))}else{if("year"===Wt||"month"===Wt||"week"===Wt)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");Jt=an=Vt=0,({days:In,hours:Yn,minutes:Qn,seconds:sr,milliseconds:Hn,microseconds:zn,nanoseconds:jn}=dl(o+Le,It.add(It.BigInt(p),It.BigInt(Pe)),It.add(It.BigInt(y),It.BigInt(Xe)),It.add(It.BigInt(l),It.BigInt(vt)),It.add(It.BigInt(u),It.BigInt(Tt)),It.add(It.BigInt(J),It.BigInt(bt)),It.add(It.BigInt(X),It.BigInt(wt)),Wt))}return Jy(Jt,an,Vt,In,Yn,Qn,sr,Hn,zn,jn),{years:Jt,months:an,weeks:Vt,days:In,hours:Yn,minutes:Qn,seconds:sr,milliseconds:Hn,microseconds:zn,nanoseconds:jn}}function kE(r,t,n,o,p,y,l){let u=Bo;u=It.add(u,It.BigInt(l)),u=It.add(u,It.multiply(It.BigInt(y),mo)),u=It.add(u,It.multiply(It.BigInt(p),Vs)),u=It.add(u,It.multiply(It.BigInt(o),sd)),u=It.add(u,It.multiply(It.BigInt(n),It.BigInt(6e10))),u=It.add(u,It.multiply(It.BigInt(t),It.BigInt(36e11)));const J=It.add(r,u);return xh(J),J}function PE(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le,Pe,Xe,vt,Tt,bt,wt,Ct){let Wt=Le,{deltaDays:Jt,hour:an,minute:Vt,second:In,millisecond:Yn,microsecond:Qn,nanosecond:sr}=a_(o,p,y,l,u,J,Pe,Xe,vt,Tt,bt,wt);Wt+=Jt;const Hn=_r("%Temporal.Duration%"),zn=Qs(X,xd(r,t,n,X),new Hn(N,oe,Ee,Wt,0,0,0,0,0,0),Ct);return{year:Re(zn,Fr),month:Re(zn,zr),day:Re(zn,Yr),hour:an,minute:Vt,second:In,millisecond:Yn,microsecond:Qn,nanosecond:sr}}function Fd(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le){const Pe=_r("%Temporal.Duration%");if(0===Gl(o,p,y,l,0,0,0,0,0,0))return kE(Re(r,mi),u,J,X,N,oe,Ee);const Xe=Md(t,r,n),vt=Qs(n,xd(Re(Xe,Fr),Re(Xe,zr),Re(Xe,Yr),n),new Pe(o,p,y,l,0,0,0,0,0,0),Le),Tt=xc(Re(vt,Fr),Re(vt,zr),Re(vt,Yr),Re(Xe,Ji),Re(Xe,qi),Re(Xe,Ki),Re(Xe,Vi),Re(Xe,zi),Re(Xe,Gi),n);return kE(Re(Qa(t,Tt,"compatible"),mi),u,J,X,N,oe,Ee)}function ev(r,t,n,o){const p="subtract"===r?-1:1;let{years:y,months:l,weeks:u,days:J,hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=Ef(n);const Xe=Vw(po(o));return({years:y,months:l,weeks:u,days:J,hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=CE(Re(t,Fc),Re(t,Ra),Re(t,va),Re(t,ba),Re(t,vc),Re(t,jc),Re(t,Za),Re(t,bc),Re(t,$c),Re(t,wc),p*y,p*l,p*u,p*J,p*X,p*N,p*oe,p*Ee,p*Le,p*Pe,Xe)),new(_r("%Temporal.Duration%"))(y,l,u,J,X,N,oe,Ee,Le,Pe)}function tv(r,t,n){const o="subtract"===r?-1:1,{hours:p,minutes:y,seconds:l,milliseconds:u,microseconds:J,nanoseconds:X}=function(Ee,Le){let Pe=Ef(Ee);for(const Xe of["years","months","weeks","days"])if(0!==Pe[Xe])throw new RangeError(`Duration field ${Xe} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Pe}(n),N=kE(Re(t,mi),o*p,o*y,o*l,o*u,o*J,o*X);return new(_r("%Temporal.Instant%"))(N)}function c_(r,t,n,o){const p="subtract"===r?-1:1,{years:y,months:l,weeks:u,days:J,hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=Ef(n),Xe=po(o),vt=Re(t,Gn),{year:Tt,month:bt,day:wt,hour:Ct,minute:Wt,second:Jt,millisecond:an,microsecond:Vt,nanosecond:In}=PE(Re(t,Fr),Re(t,zr),Re(t,Yr),Re(t,Ji),Re(t,qi),Re(t,Ki),Re(t,Vi),Re(t,zi),Re(t,Gi),vt,p*y,p*l,p*u,p*J,p*X,p*N,p*oe,p*Ee,p*Le,p*Pe,Xe);return xc(Tt,bt,wt,Ct,Wt,Jt,an,Vt,In,vt)}function RE(r,t,n){const o="subtract"===r?-1:1,{hours:p,minutes:y,seconds:l,milliseconds:u,microseconds:J,nanoseconds:X}=Ef(n);let{hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Xe}=a_(Re(t,Ji),Re(t,qi),Re(t,Ki),Re(t,Vi),Re(t,zi),Re(t,Gi),o*p,o*y,o*l,o*u,o*J,o*X);return({hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Xe}=_0(N,oe,Ee,Le,Pe,Xe,"reject")),new(_r("%Temporal.PlainTime%"))(N,oe,Ee,Le,Pe,Xe)}function $I(r,t,n,o){let p=Ef(n);"subtract"===r&&(p={years:-p.years,months:-p.months,weeks:-p.weeks,days:-p.days,hours:-p.hours,minutes:-p.minutes,seconds:-p.seconds,milliseconds:-p.milliseconds,microseconds:-p.microseconds,nanoseconds:-p.nanoseconds});let{years:y,months:l,weeks:u,days:J,hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=p;({days:J}=dl(J,X,N,oe,Ee,Le,Pe,"day"));const Xe=po(o),vt=Re(t,Gn),Tt=Es(vt,["monthCode","year"]),bt=no(t,Tt,[]),wt=Ya(null);Pp(wt,bt,[]),bt.day=1;let Ct=Mf(vt,bt);const Wt=Gl(y,l,u,J,0,0,0,0,0,0),Jt=go(vt,"dateAdd"),an=_r("%Temporal.Duration%");if(Wt<0){const Yn=Qs(vt,Ct,new an(0,1,0,0,0,0,0,0,0,0),void 0,Jt),Qn=Qs(vt,Yn,new an(0,0,0,-1,0,0,0,0,0,0),void 0,Jt);wt.day=A0(vt,Qn),Ct=Mf(vt,wt)}const Vt=new an(y,l,u,J,0,0,0,0,0,0),In=Xl(Xe);return zs(vt,no(Qs(vt,Ct,Vt,Xe,Jt),Tt,[]),In)}function KI(r,t,n,o){const p="subtract"===r?-1:1,{years:y,months:l,weeks:u,days:J,hours:X,minutes:N,seconds:oe,milliseconds:Ee,microseconds:Le,nanoseconds:Pe}=Ef(n),Xe=po(o),vt=Re(t,jo),Tt=Re(t,Gn);return qs(Fd(Re(t,yc),vt,Tt,p*y,p*l,p*u,p*J,p*X,p*N,p*oe,p*Ee,p*Le,p*Pe,Xe),vt,Tt)}function dd(r,t,n){if(It.equal(t,Cu))return r;let{quotient:o,remainder:p}=Xs(r,t);if(It.equal(p,Bo))return r;const y=It.lessThan(p,Bo)?-1:1,l=Kl(It.multiply(p,It.BigInt(2))),u=It.equal(l,t),J=It.greaterThan(l,t);switch(n){case"ceil":y>0&&(o=It.add(o,It.BigInt(y)));break;case"floor":y<0&&(o=It.add(o,It.BigInt(y)));break;case"expand":o=It.add(o,It.BigInt(y));break;case"trunc":break;case"halfCeil":(J||u&&y>0)&&(o=It.add(o,It.BigInt(y)));break;case"halfFloor":(J||u&&y<0)&&(o=It.add(o,It.BigInt(y)));break;case"halfExpand":(J||u)&&(o=It.add(o,It.BigInt(y)));break;case"halfTrunc":J&&(o=It.add(o,It.BigInt(y)));break;case"halfEven":(J||u&&1===It.toNumber(It.remainder(Kl(o),It.BigInt(2))))&&(o=It.add(o,It.BigInt(y)))}return It.multiply(o,t)}function U0(r,t,n,o){let{remainder:p}=Mh(r,$l);const y=It.subtract(r,p),l=dd(p,It.BigInt(j0[n]*t),o);return It.add(y,l)}function nv(r,t,n,o,p,y,l,u,J,X,N,oe,Ee=864e11){const{deltaDays:Le,hour:Pe,minute:Xe,second:vt,millisecond:Tt,microsecond:bt,nanosecond:wt}=Af(o,p,y,l,u,J,X,N,oe,Ee),{year:Ct,month:Wt,day:Jt}=n_(r,t,n+Le);return{year:Ct,month:Wt,day:Jt,hour:Pe,minute:Xe,second:vt,millisecond:Tt,microsecond:bt,nanosecond:wt}}function Af(r,t,n,o,p,y,l,u,J,X=864e11){let N=Bo;switch(u){case"day":case"hour":N=It.BigInt(r);case"minute":N=It.add(It.multiply(N,cs),It.BigInt(t));case"second":N=It.add(It.multiply(N,cs),It.BigInt(n));case"millisecond":N=It.add(It.multiply(N,mo),It.BigInt(o));case"microsecond":N=It.add(It.multiply(N,mo),It.BigInt(p));case"nanosecond":N=It.add(It.multiply(N,mo),It.BigInt(y))}const oe="day"===u?X:j0[u],Ee=dd(N,It.BigInt(oe*l),J),Le=It.toNumber(It.divide(Ee,It.BigInt(oe)));switch(u){case"day":return{deltaDays:Le,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Tf(Le,0,0,0,0,0);case"minute":return Tf(r,Le,0,0,0,0);case"second":return Tf(r,t,Le,0,0,0);case"millisecond":return Tf(r,t,n,Le,0,0);case"microsecond":return Tf(r,t,n,o,Le,0);case"nanosecond":return Tf(r,t,n,o,p,Le);default:throw new Error(`Invalid unit ${u}`)}}function d_(r,t){return TE(Re(r,Fr),Re(r,zr),Re(r,Yr),Re(t,Fr),Re(t,zr),Re(t,Yr),"day").days}function ec(r,t,n,o){const p=Qs(r,t,n,void 0,o);return{relativeTo:p,days:d_(t,p)}}function Wp(r,t,n,o,p){const y=Re(r,jo),l=Re(r,Gn);return qs(Fd(Re(r,yc),y,l,t,n,o,p,0,0,0,0,0,0),y,l)}function y5(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le){let Pe=r,Xe=t,vt=n,Tt=o,bt=p,wt=y,Ct=l,Wt=u,Jt=J,an=X;if(!Gr(Le)||"year"===oe||"month"===oe||"week"===oe||"day"===oe||"nanosecond"===oe&&1===N)return{years:Pe,months:Xe,weeks:vt,days:Tt,hours:bt,minutes:wt,seconds:Ct,milliseconds:Wt,microseconds:Jt,nanoseconds:an};let Vt=L0(0,bt,wt,Ct,Wt,Jt,an,0);const In=bh(It.toNumber(Vt)),Yn=Re(Le,jo),Qn=Re(Le,Gn),sr=Fd(Re(Le,yc),Yn,Qn,Pe,Xe,vt,Tt,0,0,0,0,0,0),Hn=Fd(new(_r("%Temporal.Instant%"))(sr),Yn,Qn,0,0,0,In,0,0,0,0,0,0),zn=It.subtract(Hn,sr);return It.greaterThanOrEqual(It.multiply(It.subtract(Vt,zn),It.BigInt(In)),Bo)&&(({years:Pe,months:Xe,weeks:vt,days:Tt}=CE(Pe,Xe,vt,Tt,0,0,0,0,0,0,0,0,0,In,0,0,0,0,0,0,Le)),Vt=U0(It.subtract(Vt,zn),N,oe,Ee),({hours:bt,minutes:wt,seconds:Ct,milliseconds:Wt,microseconds:Jt,nanoseconds:an}=dl(0,0,0,0,0,0,It.toNumber(Vt),"hour"))),{years:Pe,months:Xe,weeks:vt,days:Tt,hours:bt,minutes:wt,seconds:Ct,milliseconds:Wt,microseconds:Jt,nanoseconds:an}}function Yl(r,t,n,o,p,y,l,u,J,X,N,oe,Ee,Le){let Pe=r,Xe=t,vt=n,Tt=o,bt=p,wt=y,Ct=l,Wt=u,Jt=J,an=It.BigInt(X);const Vt=_r("%Temporal.Duration%");let In,Yn,Qn,sr,Hn=Le;if(Hn){if(Gr(Hn))Yn=Hn,Hn=Lo(Hn);else if(!ao(Hn))throw new TypeError("starting point must be PlainDate or ZonedDateTime");In=Re(Hn,Gn)}if("year"===oe||"month"===oe||"week"===oe||"day"===oe){let zn,jn,Xn;an=L0(0,bt,wt,Ct,Wt,Jt,X,0),Yn&&(zn=Wp(Yn,Pe,Xe,vt,Tt)),({days:jn,nanoseconds:an,dayLengthNs:Xn}=DE(an,zn)),Qn=It.BigInt(Xn),Tt+=jn,bt=wt=Ct=Wt=Jt=0}switch(oe){case"year":{if(!In)throw new RangeError("A starting point is required for years rounding");const zn=new Vt(Pe),jn="string"!=typeof In?go(In,"dateAdd"):void 0,Xn=Qs(In,Hn,zn,void 0,jn),An=Qs(In,Hn,new Vt(Pe,Xe,vt),void 0,jn);Hn=Xn,Tt+=d_(Xn,An);const yr=Qs(In,Hn,new Vt(0,0,0,Tt),void 0,jn),Hr=Ya(null);Hr.largestUnit="year";const Ir=xf(In,Hn,yr,Hr).years;Pe+=Ir;const oi=Hn;Hn=Qs(In,Hn,new Vt(Ir),void 0,jn),Tt-=d_(oi,Hn);const ro=new Vt(Tt<0?-1:1);let{days:Dn}=ec(In,Hn,ro,jn);Dn=bs(Dn);const li=It.multiply(It.BigInt(Dn),Qn);an=It.add(It.add(It.multiply(li,It.BigInt(Pe)),It.multiply(It.BigInt(Tt),Qn)),an);const wo=dd(an,It.multiply(li,It.BigInt(N)),Ee);sr=Cf(an,li),Pe=It.toNumber(It.divide(wo,li)),an=Bo,Xe=vt=Tt=0;break}case"month":{if(!In)throw new RangeError("A starting point is required for months rounding");const zn=new Vt(Pe,Xe),jn="string"!=typeof In?go(In,"dateAdd"):void 0,Xn=Qs(In,Hn,zn,void 0,jn),An=Qs(In,Hn,new Vt(Pe,Xe,vt),void 0,jn);Hn=Xn,Tt+=d_(Xn,An);const yr=bh(Tt),Hr=new Vt(0,Tt<0?-1:1);let Ir;for(({relativeTo:Hn,days:Ir}=ec(In,Hn,Hr,jn));bs(Tt)>=bs(Ir);)Xe+=yr,Tt-=Ir,({relativeTo:Hn,days:Ir}=ec(In,Hn,Hr,jn));Ir=bs(Ir);const oi=It.multiply(It.BigInt(Ir),Qn);an=It.add(It.add(It.multiply(oi,It.BigInt(Xe)),It.multiply(It.BigInt(Tt),Qn)),an);const ro=dd(an,It.multiply(oi,It.BigInt(N)),Ee);sr=Cf(an,oi),Xe=It.toNumber(It.divide(ro,oi)),an=Bo,vt=Tt=0;break}case"week":{if(!In)throw new RangeError("A starting point is required for weeks rounding");const zn=bh(Tt),jn=new Vt(0,0,Tt<0?-1:1),Xn="string"!=typeof In?go(In,"dateAdd"):void 0;let An;for(({relativeTo:Hn,days:An}=ec(In,Hn,jn,Xn));bs(Tt)>=bs(An);)vt+=zn,Tt-=An,({relativeTo:Hn,days:An}=ec(In,Hn,jn,Xn));An=bs(An);const yr=It.multiply(It.BigInt(An),Qn);an=It.add(It.add(It.multiply(yr,It.BigInt(vt)),It.multiply(It.BigInt(Tt),Qn)),an);const Hr=dd(an,It.multiply(yr,It.BigInt(N)),Ee);sr=Cf(an,yr),vt=It.toNumber(It.divide(Hr,yr)),an=Bo,Tt=0;break}case"day":{const zn=Qn;an=It.add(It.multiply(zn,It.BigInt(Tt)),an);const jn=dd(an,It.multiply(zn,It.BigInt(N)),Ee);sr=Cf(an,zn),Tt=It.toNumber(It.divide(jn,zn)),an=Bo;break}case"hour":{let jn=It.multiply(It.BigInt(bt),It.BigInt(36e11));jn=It.add(jn,It.multiply(It.BigInt(wt),It.BigInt(6e10))),jn=It.add(jn,It.multiply(It.BigInt(Ct),sd)),jn=It.add(jn,It.multiply(It.BigInt(Wt),Vs)),jn=It.add(jn,It.multiply(It.BigInt(Jt),mo)),jn=It.add(jn,an),sr=Cf(jn,It.BigInt(36e11));const Xn=dd(jn,It.BigInt(36e11*N),Ee);bt=It.toNumber(It.divide(Xn,It.BigInt(36e11))),an=Bo,wt=Ct=Wt=Jt=0;break}case"minute":{let jn=It.multiply(It.BigInt(wt),It.BigInt(6e10));jn=It.add(jn,It.multiply(It.BigInt(Ct),sd)),jn=It.add(jn,It.multiply(It.BigInt(Wt),Vs)),jn=It.add(jn,It.multiply(It.BigInt(Jt),mo)),jn=It.add(jn,an),sr=Cf(jn,It.BigInt(6e10));const Xn=dd(jn,It.BigInt(6e10*N),Ee);wt=It.toNumber(It.divide(Xn,It.BigInt(6e10))),an=Bo,Ct=Wt=Jt=0;break}case"second":{let jn=It.multiply(It.BigInt(Ct),sd);jn=It.add(jn,It.multiply(It.BigInt(Wt),Vs)),jn=It.add(jn,It.multiply(It.BigInt(Jt),mo)),jn=It.add(jn,an),sr=Cf(jn,It.BigInt(1e9));const Xn=dd(jn,It.BigInt(1e9*N),Ee);Ct=It.toNumber(It.divide(Xn,It.BigInt(1e9))),an=Bo,Wt=Jt=0;break}case"millisecond":{let jn=It.multiply(It.BigInt(Wt),Vs);jn=It.add(jn,It.multiply(It.BigInt(Jt),mo)),jn=It.add(jn,an),sr=Cf(jn,It.BigInt(1e6));const Xn=dd(jn,It.BigInt(1e6*N),Ee);Wt=It.toNumber(It.divide(Xn,It.BigInt(1e6))),an=Bo,Jt=0;break}case"microsecond":{let jn=It.multiply(It.BigInt(Jt),mo);jn=It.add(jn,an),sr=Cf(jn,It.BigInt(1e3));const Xn=dd(jn,It.BigInt(1e3*N),Ee);Jt=It.toNumber(It.divide(Xn,It.BigInt(1e3))),an=Bo;break}case"nanosecond":sr=It.toNumber(an),an=dd(It.BigInt(an),It.BigInt(N),Ee)}return{years:Pe,months:Xe,weeks:vt,days:Tt,hours:bt,minutes:wt,seconds:Ct,milliseconds:Wt,microseconds:Jt,nanoseconds:It.toNumber(an),total:sr}}function Gp(r,t,n,o,p,y){for(const[l,u]of[[r,o],[t,p],[n,y]])if(l!==u)return ll(l-u);return 0}function Mh(r,t){let{quotient:n,remainder:o}=Xs(r,t);return It.lessThan(o,Bo)&&(n=It.subtract(n,Cu),o=It.add(o,t)),{quotient:n,remainder:o}}function Zp(r,t){const{quotient:n,remainder:o}=Xs(r,t);return Kc(o)||!Vc(r)==!Vc(t)?n:It.subtract(n,Cu)}function Cf(r,t){const{quotient:n,remainder:o}=Xs(r,t);return It.toNumber(n)+It.toNumber(o)/It.toNumber(t)}function kf(r){const t=rv(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function rv(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=p0(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return It.BigInt("bigint"==typeof t?t.toString(10):t)}const OE=(()=>{let r=It.BigInt(Date.now()%1e6);return()=>{const t=It.BigInt(Date.now()),n=It.add(It.multiply(t,Vs),r);return r=It.remainder(t,Vs),It.greaterThan(n,y0)?y0:It.lessThan(n,g0)?g0:n}})();function Sh(){return(new vh).resolvedOptions().timeZone}function ll(r){return r<0?-1:r>0?1:r}function po(r){if(void 0===r)return Ya(null);if(ds(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function Pf(r,t){const n=Ya(null);return n[r]=t,n}function Xl(r){const t=Ya(null);return Pp(t,po(r),[]),t}function Ea(r,t,n,o){let p=r[t];if(void 0!==p){if(p=$a(p),!n.includes(p))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${p}`);return p}return o}function Uu(r){return b0.includes(Jl(r))}function Jl(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const VI=new RegExp(`^${gI.source}$`);function F0(r,t,n,o=r(t),p=r(n)){let y=It.BigInt(t),l=It.BigInt(n),u=o,J=p;for(;It.greaterThan(It.subtract(l,y),Cu);){const X=It.divide(It.add(y,l),It.BigInt(2)),N=r(X);if(N===u)y=X,u=N;else{if(N!==J)throw new Error(`invalid state in bisection ${u} - ${N} - ${J}`);l=X,J=N}}return l}const j0={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},zI=Symbol("date"),HI=Symbol("ym"),NE=Symbol("md"),$0=Symbol("time"),WI=Symbol("datetime"),GI=Symbol("instant"),K0=Symbol("original"),Yp=Symbol("timezone"),jd=Symbol("calendar-id"),BE=Symbol("locale"),LE=Symbol("options"),V0=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),z0=globalThis.Intl.DateTimeFormat,Rf=Object.assign,BP=Object.prototype.hasOwnProperty,LP=Reflect.apply;function iv(r,t){let n=r[t];return"function"==typeof n&&(n=new z0(r[BE],n(r[LE])),r[t]=n),n}function H0(r,t={}){if(!(this instanceof H0))return new H0(r,t);const n=void 0!==t,o=n?Rf({},t):{},p=new z0(r,o),y=p.resolvedOptions();if(n){const l=Rf({},y);for(const u in l)LP(BP,o,[u])||delete l[u];this[LE]=l}else this[LE]=o;this[BE]=y.locale,this[K0]=p,this[Yp]=y.timeZone,this[jd]=y.calendar,this[zI]=b5,this[HI]=ZI,this[NE]=sv,this[$0]=v5,this[WI]=w5,this[GI]=_5}Object.defineProperty(H0,"name",{writable:!0,value:"DateTimeFormat"}),H0.supportedLocalesOf=function(r,t){return z0.supportedLocalesOf(r,t)};const l_={resolvedOptions:V0(function(){return this[K0].resolvedOptions()}),format:V0(function(t,...n){let{instant:o,formatter:p}=G0(t,this);return o&&p?p.format(o.epochMilliseconds):this[K0].format(t,...n)}),formatRange:V0(function(t,n){if(W0(t)||W0(n)){if(!FE(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:o,formatter:p}=G0(t,this),{instant:y,formatter:l}=G0(n,this);if(o&&y&&p&&l&&p===l)return p.formatRange(o.epochMilliseconds,y.epochMilliseconds)}return this[K0].formatRange(t,n)})};"formatToParts"in z0.prototype&&(l_.formatToParts=V0(function(t,...n){let{instant:o,formatter:p}=G0(t,this);return o&&p?p.formatToParts(o.epochMilliseconds):this[K0].formatToParts(t,...n)})),"formatRangeToParts"in z0.prototype&&(l_.formatRangeToParts=V0(function(t,n){if(W0(t)||W0(n)){if(!FE(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:o,formatter:p}=G0(t,this),{instant:y,formatter:l}=G0(n,this);if(o&&y&&p&&l&&p===l)return p.formatRangeToParts(o.epochMilliseconds,y.epochMilliseconds)}return this[K0].formatRangeToParts(t,n)})),H0.prototype=Object.create(z0.prototype,l_),Object.defineProperty(H0,"prototype",{writable:!1,enumerable:!1,configurable:!1});const ul=H0;function ov(r={},t={}){const n=Rf({},r);for(const o of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[o]=o in t?t[o]:n[o],!1!==n[o]&&void 0!==n[o]||delete n[o];return n}function v5(r){let t=ov(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return YI(t)||(t=Rf({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function ZI(r){let t=ov(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=Rf(t,{year:"numeric",month:"numeric"})),t}function sv(r){let t=ov(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=Rf({},t,{month:"numeric",day:"numeric"})),t}function b5(r){let t=ov(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return UE(t)||(t=Rf({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function w5(r){let t=ov(r,{timeZoneName:!1});return YI(t)||UE(t)||(t=Rf({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function _5(r){let t=r;return YI(t)||UE(t)||(t=Rf({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function UE(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function YI(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function W0(r){return ao(r)||Ns(r)||ji(r)||Gr(r)||Ao(r)||wa(r)||aa(r)}function FE(r,t){return!(!W0(r)||!W0(t)||Ns(r)&&!Ns(t)||ao(r)&&!ao(t)||ji(r)&&!ji(t)||Gr(r)&&!Gr(t)||Ao(r)&&!Ao(t)||wa(r)&&!wa(t)||aa(r)&&!aa(t))}function G0(r,t){const n=_r("%Temporal.PlainDateTime%");if(Ns(r)){const o=new n(1970,1,1,Re(r,Ji),Re(r,qi),Re(r,Ki),Re(r,Vi),Re(r,zi),Re(r,Gi),t[jd]);return{instant:Qa(t[Yp],o,"compatible"),formatter:iv(t,$0)}}if(Ao(r)){const o=Re(r,Fr),p=Re(r,zr),y=Re(r,Yr),l=Ja(Re(r,Gn));if(l!==t[jd])throw new RangeError(`cannot format PlainYearMonth with calendar ${l} in locale with calendar ${t[jd]}`);const u=new n(o,p,y,12,0,0,0,0,0,l);return{instant:Qa(t[Yp],u,"compatible"),formatter:iv(t,HI)}}if(wa(r)){const o=Re(r,Fr),p=Re(r,zr),y=Re(r,Yr),l=Ja(Re(r,Gn));if(l!==t[jd])throw new RangeError(`cannot format PlainMonthDay with calendar ${l} in locale with calendar ${t[jd]}`);const u=new n(o,p,y,12,0,0,0,0,0,l);return{instant:Qa(t[Yp],u,"compatible"),formatter:iv(t,NE)}}if(ao(r)){const o=Re(r,Fr),p=Re(r,zr),y=Re(r,Yr),l=Ja(Re(r,Gn));if("iso8601"!==l&&l!==t[jd])throw new RangeError(`cannot format PlainDate with calendar ${l} in locale with calendar ${t[jd]}`);const u=new n(o,p,y,12,0,0,0,0,0,t[jd]);return{instant:Qa(t[Yp],u,"compatible"),formatter:iv(t,zI)}}if(ji(r)){const o=Re(r,Fr),p=Re(r,zr),y=Re(r,Yr),l=Re(r,Ji),u=Re(r,qi),J=Re(r,Ki),X=Re(r,Vi),N=Re(r,zi),oe=Re(r,Gi),Ee=Ja(Re(r,Gn));if("iso8601"!==Ee&&Ee!==t[jd])throw new RangeError(`cannot format PlainDateTime with calendar ${Ee} in locale with calendar ${t[jd]}`);let Le=r;return"iso8601"===Ee&&(Le=new n(o,p,y,l,u,J,X,N,oe,t[jd])),{instant:Qa(t[Yp],Le,"compatible"),formatter:iv(t,WI)}}if(Gr(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return aa(r)?{instant:r,formatter:iv(t,GI)}:{}}Object.freeze({__proto__:null,DateTimeFormat:ul});class Wc{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=rv(t);xh(n),jl(this),to(this,mi,n)}get epochSeconds(){if(!aa(this))throw new TypeError("invalid receiver");const t=Re(this,mi);return It.toNumber(Zp(t,sd))}get epochMilliseconds(){if(!aa(this))throw new TypeError("invalid receiver");const t=It.BigInt(Re(this,mi));return It.toNumber(Zp(t,Vs))}get epochMicroseconds(){if(!aa(this))throw new TypeError("invalid receiver");return kf(Zp(It.BigInt(Re(this,mi)),mo))}get epochNanoseconds(){if(!aa(this))throw new TypeError("invalid receiver");return kf(It.BigInt(Re(this,mi)))}add(t){if(!aa(this))throw new TypeError("invalid receiver");return tv("add",this,t)}subtract(t){if(!aa(this))throw new TypeError("invalid receiver");return tv("subtract",this,t)}until(t,n){if(!aa(this))throw new TypeError("invalid receiver");return qy("until",this,t,n)}since(t,n){if(!aa(this))throw new TypeError("invalid receiver");return qy("since",this,t,n)}round(t){if(!aa(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pf("smallestUnit",t):po(t),o=x0(n),p=zl(n,"halfExpand"),y=ad(n,"smallestUnit","time",Op);M0(o,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[y],!0);const l=U0(Re(this,mi),o,y,p);return new Wc(l)}equals(t){if(!aa(this))throw new TypeError("invalid receiver");const n=sl(t),o=Re(this,mi),p=Re(n,mi);return It.equal(It.BigInt(o),It.BigInt(p))}toString(t){if(!aa(this))throw new TypeError("invalid receiver");const n=po(t),o=Fy(n),p=zl(n,"trunc"),y=ad(n,"smallestUnit","time",void 0);if("hour"===y)throw new RangeError('smallestUnit must be a time unit other than "hour"');let l=n.timeZone;void 0!==l&&(l=qa(l));const{precision:u,unit:J,increment:X}=jy(y,o),N=U0(Re(this,mi),X,J,p);return Xw(new Wc(N),l,u)}toJSON(){if(!aa(this))throw new TypeError("invalid receiver");return Xw(this,void 0,"auto")}toLocaleString(t,n){if(!aa(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!aa(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const o=cd(n),p=t.timeZone;if(void 0===p)throw new TypeError("missing timeZone property in toZonedDateTime");const y=qa(p);return qs(Re(this,mi),y,o)}toZonedDateTimeISO(t){if(!aa(this))throw new TypeError("invalid receiver");const n=qa(t);return qs(Re(this,mi),n,"iso8601")}static fromEpochSeconds(t){const n=Cp(t),o=It.multiply(It.BigInt(n),sd);return xh(o),new Wc(o)}static fromEpochMilliseconds(t){const n=Cp(t),o=It.multiply(It.BigInt(n),Vs);return xh(o),new Wc(o)}static fromEpochMicroseconds(t){const n=rv(t),o=It.multiply(n,mo);return xh(o),new Wc(o)}static fromEpochNanoseconds(t){const n=rv(t);return xh(n),new Wc(n)}static from(t){return aa(t)?new Wc(Re(t,mi)):sl(t)}static compare(t,n){const o=sl(t),p=sl(n),y=Re(o,mi),l=Re(p,mi);return It.lessThan(y,l)?-1:It.greaterThan(y,l)?1:0}}Fl(Wc,"Temporal.Instant");const XI=Array.prototype.includes,JI=Array.prototype.push,qI=globalThis.Intl.DateTimeFormat,E5=Array.prototype.sort,QI=Math.abs,x5=Math.floor,av=Object.create,jE=Object.entries,$E=Set,KE=Reflect.ownKeys,tc=Set.prototype.add,eT=Set.prototype.values,xs={};class Ms{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=$a(t);if(!Uu(n))throw new RangeError(`invalid calendar identifier ${n}`);jl(this),to(this,Rs,Jl(n))}get id(){if(!ws(this))throw new TypeError("invalid receiver");return Re(this,Rs)}dateFromFields(t,n){if(!ws(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid fields");const o=po(n),p=Re(this,Rs);return xs[p].dateFromFields(t,o,p)}yearMonthFromFields(t,n){if(!ws(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid fields");const o=po(n),p=Re(this,Rs);return xs[p].yearMonthFromFields(t,o,p)}monthDayFromFields(t,n){if(!ws(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid fields");const o=po(n),p=Re(this,Rs);return xs[p].monthDayFromFields(t,o,p)}fields(t){if(!ws(this))throw new TypeError("invalid receiver");const n=[],o=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const p of t){if("string"!=typeof p)throw new TypeError("invalid fields");if(!o.has(p))throw new RangeError(`invalid field name ${p}`);o.delete(p),JI.call(n,p)}return xs[Re(this,Rs)].fields(n)}mergeFields(t,n){if(!ws(this))throw new TypeError("invalid receiver");const o=kp(t),p=av(null);Pp(p,o,[],[void 0]);const y=kp(n),l=av(null);Pp(l,y,[],[void 0]);const u=KE(l),J=xs[Re(this,Rs)].fieldKeysToIgnore(u),X=av(null),N=KE(p);for(const oe of N){let Ee;Ee=Qr(XI,J,[oe])?l[oe]:p[oe],void 0!==Ee&&(X[oe]=Ee)}return Pp(X,l,[]),X}dateAdd(t,n,o){if(!ws(this))throw new TypeError("invalid receiver");const p=Lo(t),y=D0(n),l=Js(po(o)),{days:u}=dl(Re(y,ba),Re(y,vc),Re(y,jc),Re(y,Za),Re(y,bc),Re(y,$c),Re(y,wc),"day"),J=Re(this,Rs);return xs[J].dateAdd(p,Re(y,Fc),Re(y,Ra),Re(y,va),u,l,J)}dateUntil(t,n,o){if(!ws(this))throw new TypeError("invalid receiver");const p=Lo(t),y=Lo(n);let l=ad(po(o),"largestUnit","date","auto");"auto"===l&&(l="day");const{years:u,months:J,weeks:X,days:N}=xs[Re(this,Rs)].dateUntil(p,y,l);return new(_r("%Temporal.Duration%"))(u,J,X,N,0,0,0,0,0,0)}year(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].year(n)}month(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");if(wa(n))throw new TypeError("use monthCode on PlainMonthDay instead");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].month(n)}monthCode(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||wa(n)||(n=Lo(n)),xs[Re(this,Rs)].monthCode(n)}day(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return wa(n)||(n=Lo(n)),xs[Re(this,Rs)].day(n)}era(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].era(n)}eraYear(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].eraYear(n)}dayOfWeek(t){if(!ws(this))throw new TypeError("invalid receiver");const n=Lo(t);return xs[Re(this,Rs)].dayOfWeek(n)}dayOfYear(t){if(!ws(this))throw new TypeError("invalid receiver");const n=Lo(t);return xs[Re(this,Rs)].dayOfYear(n)}weekOfYear(t){if(!ws(this))throw new TypeError("invalid receiver");const n=Lo(t);return xs[Re(this,Rs)].weekOfYear(n)}yearOfWeek(t){if(!ws(this))throw new TypeError("invalid receiver");const n=Lo(t);return xs[Re(this,Rs)].yearOfWeek(n)}daysInWeek(t){if(!ws(this))throw new TypeError("invalid receiver");const n=Lo(t);return xs[Re(this,Rs)].daysInWeek(n)}daysInMonth(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].daysInMonth(n)}daysInYear(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].daysInYear(n)}monthsInYear(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].monthsInYear(n)}inLeapYear(t){let n=t;if(!ws(this))throw new TypeError("invalid receiver");return Ao(n)||(n=Lo(n)),xs[Re(this,Rs)].inLeapYear(n)}toString(){if(!ws(this))throw new TypeError("invalid receiver");return Re(this,Rs)}toJSON(){if(!ws(this))throw new TypeError("invalid receiver");return Re(this,Rs)}static from(t){return Hy(cd(t))}}function VE(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function Fu(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function u_(r,t,n=12){let{month:o,monthCode:p}=r;if(void 0===p){if(void 0===o)throw new TypeError("Either month or monthCode are required");"reject"===t&&_a(o,1,n),"constrain"===t&&(o=Sd(o,1,n)),p=Fu(o)}else{const y=VE(p);if(void 0!==o&&o!==y)throw new RangeError(`monthCode ${p} and month ${o} must match if both are present`);if(p!==Fu(y))throw new RangeError(`Invalid month code: ${p}`);if(o=y,o<1||o>n)throw new RangeError(`Invalid monthCode: ${p}`)}return{...r,month:o,monthCode:p}}Fl(Ms,"Temporal.Calendar"),vs("Temporal.Calendar.from",Ms.from),vs("Temporal.Calendar.prototype.dateAdd",Ms.prototype.dateAdd),vs("Temporal.Calendar.prototype.dateFromFields",Ms.prototype.dateFromFields),vs("Temporal.Calendar.prototype.dateUntil",Ms.prototype.dateUntil),vs("Temporal.Calendar.prototype.day",Ms.prototype.day),vs("Temporal.Calendar.prototype.dayOfWeek",Ms.prototype.dayOfWeek),vs("Temporal.Calendar.prototype.dayOfYear",Ms.prototype.dayOfYear),vs("Temporal.Calendar.prototype.daysInMonth",Ms.prototype.daysInMonth),vs("Temporal.Calendar.prototype.daysInWeek",Ms.prototype.daysInWeek),vs("Temporal.Calendar.prototype.daysInYear",Ms.prototype.daysInYear),vs("Temporal.Calendar.prototype.era",Ms.prototype.era),vs("Temporal.Calendar.prototype.eraYear",Ms.prototype.eraYear),vs("Temporal.Calendar.prototype.fields",Ms.prototype.fields),vs("Temporal.Calendar.prototype.inLeapYear",Ms.prototype.inLeapYear),vs("Temporal.Calendar.prototype.mergeFields",Ms.prototype.mergeFields),vs("Temporal.Calendar.prototype.month",Ms.prototype.month),vs("Temporal.Calendar.prototype.monthCode",Ms.prototype.monthCode),vs("Temporal.Calendar.prototype.monthDayFromFields",Ms.prototype.monthDayFromFields),vs("Temporal.Calendar.prototype.monthsInYear",Ms.prototype.monthsInYear),vs("Temporal.Calendar.prototype.weekOfYear",Ms.prototype.weekOfYear),vs("Temporal.Calendar.prototype.year",Ms.prototype.year),vs("Temporal.Calendar.prototype.yearMonthFromFields",Ms.prototype.yearMonthFromFields),vs("Temporal.Calendar.prototype.yearOfWeek",Ms.prototype.yearOfWeek),xs.iso8601={dateFromFields(r,t,n){let o=no(r,["day","month","monthCode","year"],["year","day"]);const p=Js(t);o=u_(o);let{year:y,month:l,day:u}=o;return({year:y,month:l,day:u}=$w(y,l,u,p)),xd(y,l,u,n)},yearMonthFromFields(r,t,n){let o=no(r,["month","monthCode","year"],["year"]);const p=Js(t);o=u_(o);let{year:y,month:l}=o;return({year:y,month:l}=function(J,X,N){let oe=J,Ee=X;switch(N){case"reject":Zl(oe,Ee,1);break;case"constrain":({year:oe,month:Ee}=RI(oe,Ee))}return{year:oe,month:Ee}}(y,l,p)),Ru(y,l,n,1)},monthDayFromFields(r,t,n){let o=no(r,["day","month","monthCode","year"],["day"]);const p=Js(t);if(void 0!==o.month&&void 0===o.year&&void 0===o.monthCode)throw new TypeError("either year or monthCode required with month");const y=void 0===o.monthCode;o=u_(o);let{month:l,day:u,year:J}=o;return({month:l,day:u}=$w(y?J:1972,l,u,p)),Pu(l,u,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new $E;for(let n=0;n<r.length;n++){const o=r[n];Qr(tc,t,[o]),"month"===o?Qr(tc,t,["monthCode"]):"monthCode"===o&&Qr(tc,t,["month"])}return[...Qr(eT,t,[])]},dateAdd(r,t,n,o,p,y,l){let u=Re(r,Fr),J=Re(r,zr),X=Re(r,Yr);return({year:u,month:J,day:X}=Lu(u,J,X,t,n,o,p,y)),xd(u,J,X,l)},dateUntil:(r,t,n)=>TE(Re(r,Fr),Re(r,zr),Re(r,Yr),Re(t,Fr),Re(t,zr),Re(t,Yr),n),year:r=>Re(r,Fr),era(){},eraYear(){},month:r=>Re(r,zr),monthCode:r=>Fu(Re(r,zr)),day:r=>Re(r,Yr),dayOfWeek:r=>B0(Re(r,Fr),Re(r,zr),Re(r,Yr)),dayOfYear:r=>e_(Re(r,Fr),Re(r,zr),Re(r,Yr)),weekOfYear:r=>ME(Re(r,Fr),Re(r,zr),Re(r,Yr)).week,yearOfWeek:r=>ME(Re(r,Fr),Re(r,zr),Re(r,Yr)).year,daysInWeek:()=>7,daysInMonth:r=>Bu(Re(r,Fr),Re(r,zr)),daysInYear(r){let t=r;return Oa(t,Fr)||(t=Lo(t)),If(Re(t,Fr))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return Oa(t,Fr)||(t=Lo(t)),If(Re(t,Fr))}};class Bs{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const o of t.map.entries()){if(++n>Bs.MAX_CACHE_ENTRIES)break;this.map.set(...o)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(Bs.objectMap.get(t))throw new RangeError("object already cached");Bs.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=Bs.objectMap.get(t);return n||(n=new Bs,Bs.objectMap.set(t,n)),n}}function tT({isoYear:r,isoMonth:t,isoDay:n}){return`${R0(r)}-${ls(t)}-${ls(n)}T00:00Z`}function zE(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}Bs.objectMap=new WeakMap,Bs.MAX_CACHE_ENTRIES=1e3;class Z0{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new qI(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:o,month:p,day:y}=t,l=JSON.stringify({func:"isoToCalendarDate",isoYear:o,isoMonth:p,isoDay:y,id:this.id}),u=n.get(l);if(u)return u;const J=this.getFormatter();let X,N;try{N=tT({isoYear:o,isoMonth:p,isoDay:y}),X=J.formatToParts(new Date(N))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:o,isoMonth:p,isoDay:y})}`)}const oe={};for(let{type:Le,value:Pe}of X){if("year"===Le&&(oe.eraYear=+Pe),"relatedYear"===Le&&(oe.eraYear=+Pe),"month"===Le){const Xe=/^([0-9]*)(.*?)$/.exec(Pe);if(!Xe||3!=Xe.length||!Xe[1]&&!Xe[2])throw new RangeError(`Unexpected month: ${Pe}`);if(oe.month=Xe[1]?+Xe[1]:1,oe.month<1)throw new RangeError(`Invalid month ${Pe} from ${N}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(oe.month>13)throw new RangeError(`Invalid month ${Pe} from ${N}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);Xe[2]&&(oe.monthExtra=Xe[2])}"day"===Le&&(oe.day=+Pe),this.hasEra&&"era"===Le&&null!=Pe&&""!==Pe&&(Pe=Pe.split(" (")[0],oe.era=Pe.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===oe.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:Le,eraYear:Pe}=this.reviseIntlEra(oe,t);oe.era=Le,oe.eraYear=Pe}this.checkIcuBugs&&this.checkIcuBugs(t);const Ee=this.adjustCalendarDate(oe,n,"constrain",!0);if(void 0===Ee.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===Ee.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===Ee.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(l,Ee),["constrain","reject"].forEach(Le=>{const Pe=JSON.stringify({func:"calendarToIsoDate",year:Ee.year,month:Ee.month,day:Ee.day,overflow:Le,id:this.id});n.set(Pe,t)}),Ee}validateCalendarDate(t){const{era:n,month:o,year:p,day:y,eraYear:l,monthCode:u,monthExtra:J}=t;if(void 0!==J)throw new RangeError("Unexpected `monthExtra` value");if(void 0===p&&void 0===l)throw new TypeError("year or eraYear is required");if(void 0===o&&void 0===u)throw new TypeError("month or monthCode is required");if(void 0===y)throw new RangeError("Missing day");if(void 0!==u){if("string"!=typeof u)throw new RangeError("monthCode must be a string, not "+typeof u);if(!/^M([01]?\d)(L?)$/.test(u))throw new RangeError(`Invalid monthCode: ${u}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==l&&void 0!==p&&l!==p)throw new RangeError(`eraYear ${l} does not match year ${p}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,o="constrain",p=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let y=t;if(this.validateCalendarDate(y),this.constantEra){const{year:X,eraYear:N}=y;y={...y,era:this.constantEra,year:void 0!==X?X:N,eraYear:void 0!==N?N:X}}const l=this.monthsInYear(y,n);let{month:u,monthCode:J}=y;return({month:u,monthCode:J}=u_(y,o,l)),{...y,month:u,monthCode:J}}regulateMonthDayNaive(t,n,o){const p=this.monthsInYear(t,o);let{month:y,day:l}=t;return"reject"===n?(_a(y,1,p),_a(l,1,this.maximumMonthLength(t))):(y=Sd(y,1,p),l=Sd(l,1,this.maximumMonthLength({...t,month:y}))),{...t,month:y,day:l}}calendarToIsoDate(t,n="constrain",o){const p=t;let y=this.adjustCalendarDate(t,o,n,!1);y=this.regulateMonthDayNaive(y,n,o);const{year:l,month:u,day:J}=y,X=JSON.stringify({func:"calendarToIsoDate",year:l,month:u,day:J,overflow:n,id:this.id});let N,oe=o.get(X);if(oe||void 0!==p.year&&void 0!==p.month&&void 0!==p.day&&(p.year!==y.year||p.month!==y.month||p.day!==y.day)&&(N=JSON.stringify({func:"calendarToIsoDate",year:p.year,month:p.month,day:p.day,overflow:n,id:this.id}),oe=o.get(N),oe))return oe;let Ee=this.estimateIsoDate({year:l,month:u,day:J});const Le=bt=>{let wt=this.addDaysIso(Ee,bt);if(y.day>this.minimumMonthLength(y)){let Ct=this.isoToCalendarDate(wt,o);for(;Ct.month!==u||Ct.year!==l;){if("reject"===n)throw new RangeError(`day ${J} does not exist in month ${u} of year ${l}`);wt=this.addDaysIso(wt,-1),Ct=this.isoToCalendarDate(wt,o)}}return wt};let Pe=0,Xe=this.isoToCalendarDate(Ee,o),vt=zE(y,Xe);0===vt.years&&0===vt.months&&0===vt.days||(Ee=this.addDaysIso(Ee,365*vt.years+30*vt.months+vt.days),Xe=this.isoToCalendarDate(Ee,o),vt=zE(y,Xe),0===vt.years&&0===vt.months?Ee=Le(vt.days):Pe=this.compareCalendarDates(y,Xe));let Tt=8;for(;Pe;){Ee=this.addDaysIso(Ee,Pe*Tt);const bt=Xe;Xe=this.isoToCalendarDate(Ee,o);const wt=Pe;if(Pe=this.compareCalendarDates(y,Xe),Pe)if(vt=zE(y,Xe),0===vt.years&&0===vt.months)Ee=Le(vt.days),Pe=0;else if(wt&&Pe!==wt)if(Tt>1)Tt/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...p})}`);this.compareCalendarDates(Xe,bt)>0&&(Ee=this.addDaysIso(Ee,-1)),Pe=0}}if(o.set(X,Ee),N&&o.set(N,Ee),void 0===y.year||void 0===y.month||void 0===y.day||void 0===y.monthCode||this.hasEra&&(void 0===y.era||void 0===y.eraYear))throw new RangeError("Unexpected missing property");return Ee}temporalToCalendarDate(t,n){const o={year:Re(t,Fr),month:Re(t,zr),day:Re(t,Yr)};return this.isoToCalendarDate(o,n)}compareCalendarDates(t,n){const o=no(t,["day","month","year"],["day","month","year"]),p=no(n,["day","month","year"],["day","month","year"]);return o.year!==p.year?ll(o.year-p.year):o.month!==p.month?ll(o.month-p.month):o.day!==p.day?ll(o.day-p.day):0}regulateDate(t,n="constrain",o){const p=this.calendarToIsoDate(t,n,o);return this.isoToCalendarDate(p,o)}addDaysIso(t,n){return Lu(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,o){const p=this.calendarToIsoDate(t,"constrain",o),y=this.addDaysIso(p,n);return this.isoToCalendarDate(y,o)}addMonthsCalendar(t,n,o,p){let y=t;const{day:l}=y;for(let u=0,J=QI(n);u<J;u++){const{month:X}=y,N=y,oe=n<0?-Math.max(l,this.daysInPreviousMonth(y,p)):this.daysInMonth(y,p),Ee=this.calendarToIsoDate(y,"constrain",p);let Le=this.addDaysIso(Ee,oe);if(y=this.isoToCalendarDate(Le,p),n>0){const Pe=this.monthsInYear(N,p);for(;y.month-1!=X%Pe;)Le=this.addDaysIso(Le,-1),y=this.isoToCalendarDate(Le,p)}y.day!==l&&(y=this.regulateDate({...y,day:l},"constrain",p))}if("reject"===o&&y.day!==l)throw new RangeError(`Day ${l} does not exist in resulting calendar month`);return y}addCalendar(t,{years:n=0,months:o=0,weeks:p=0,days:y=0},l,u){const{year:J,day:X,monthCode:N}=t,oe=this.adjustCalendarDate({year:J+n,monthCode:N,day:X},u),Ee=this.addMonthsCalendar(oe,o,l,u);return this.addDaysCalendar(Ee,y+7*p,u)}untilCalendar(t,n,o,p){let y=0,l=0,u=0,J=0;switch(o){case"day":y=this.calendarDaysUntil(t,n,p);break;case"week":{const X=this.calendarDaysUntil(t,n,p);y=X%7,l=(X-y)/7;break}case"month":case"year":{const X=this.compareCalendarDates(n,t);if(!X)return{years:0,months:0,weeks:0,days:0};const N=n.year-t.year;if("year"===o&&N){let Pe=0;n.monthCode>t.monthCode&&(Pe=1),n.monthCode<t.monthCode&&(Pe=-1),Pe||(Pe=Math.sign(n.day-t.day)),J=Pe*X<0?N-X:N}let Ee,Le=J?this.addCalendar(t,{years:J},"constrain",p):t;do{u+=X,Ee=Le,Le=this.addMonthsCalendar(Ee,X,"constrain",p),Le.day!==t.day&&(Le=this.regulateDate({...Le,day:t.day},"constrain",p))}while(this.compareCalendarDates(n,Le)*X>=0);u-=X,y=this.calendarDaysUntil(Ee,n,p);break}}return{years:J,months:u,weeks:l,days:y}}daysInMonth(t,n){const{day:o}=t,p=this.maximumMonthLength(t),y=this.minimumMonthLength(t);if(y===p)return y;const l=o<=p-y?p:y,u=this.calendarToIsoDate(t,"constrain",n),J=this.addDaysIso(u,l),X=this.isoToCalendarDate(J,n),N=this.addDaysIso(J,-X.day);return this.isoToCalendarDate(N,n).day}daysInPreviousMonth(t,n){const{day:o,month:p,year:y}=t;let l={year:p>1?y:y-1,month:p,day:1};const u=p>1?p-1:this.monthsInYear(l,n);l={...l,month:u};const J=this.minimumMonthLength(l),X=this.maximumMonthLength(l);if(J===X)return X;const N=this.calendarToIsoDate(t,"constrain",n),oe=this.addDaysIso(N,-o);return this.isoToCalendarDate(oe,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,o){const p=this.calendarToIsoDate(t,"constrain",o),y=this.calendarToIsoDate(n,"constrain",o);return this.isoDaysUntil(p,y)}isoDaysUntil(t,n){return TE(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,o){let p,y,l,u,J,{monthCode:X,day:N}=t;if(void 0===X){let{year:Le,era:Pe,eraYear:Xe}=t;if(void 0===Le&&(void 0===Pe||void 0===Xe))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:X,day:N}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,o),o))}const oe=this.isoToCalendarDate({year:1972,month:12,day:31},o),Ee=oe.monthCode>X||oe.monthCode===X&&oe.day>=N?oe.year:oe.year-1;for(let Le=0;Le<100;Le++){const Pe=this.adjustCalendarDate({day:N,monthCode:X,year:Ee-Le},o),Xe=this.calendarToIsoDate(Pe,"constrain",o),vt=this.isoToCalendarDate(Xe,o);if(({year:p,month:y,day:l}=Xe),vt.monthCode===X&&vt.day===N)return{month:y,day:l,year:p};"constrain"===n&&(void 0===u||vt.monthCode===u.monthCode&&vt.day>u.day)&&(u=vt,J=Xe)}if("constrain"===n&&void 0!==J)return J;throw new RangeError(`No recent ${this.id} year with monthCode ${X} and day ${N}`)}}class M5 extends Z0{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:o,year:p}=t,y=this.getMonthCode(p,o),l=jE(this.months).find(J=>J[1].monthCode===y);if(void 0===l)throw new RangeError(`unmatched Hebrew month: ${o}`);const u=l[1].days;return"number"==typeof u?u:u[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?Fu(5,!0):Fu(n<6?n:n-1):Fu(n)}adjustCalendarDate(t,n,o="constrain",p=!1){let{year:y,eraYear:l,month:u,monthCode:J,day:X,monthExtra:N}=t;if(void 0===y&&void 0!==l&&(y=l),void 0===l&&void 0!==y&&(l=y),p){if(N){const oe=this.months[N];if(!oe)throw new RangeError(`Unrecognized month from formatToParts: ${N}`);u=this.inLeapYear({year:y})?oe.leap:oe.regular}return J=this.getMonthCode(y,u),{year:y,month:u,day:X,era:void 0,eraYear:l,monthCode:J}}if(this.validateCalendarDate(t),void 0===u)if(J.endsWith("L")){if("M05L"!==J)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${J}`);if(u=6,!this.inLeapYear({year:y})){if("reject"===o)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${y} which is not a leap year`);u=6,J="M06"}}else{u=VE(J),this.inLeapYear({year:y})&&u>=6&&u++;const oe=this.monthsInYear({year:y});if(u<1||u>oe)throw new RangeError(`Invalid monthCode: ${J}`)}else if("reject"===o?(_a(u,1,this.monthsInYear({year:y})),_a(X,1,this.maximumMonthLength({year:y,month:u}))):(u=Sd(u,1,this.monthsInYear({year:y})),X=Sd(X,1,this.maximumMonthLength({year:y,month:u}))),void 0===J)J=this.getMonthCode(y,u);else if(this.getMonthCode(y,u)!==J)throw new RangeError(`monthCode ${J} doesn't correspond to month ${u} in Hebrew year ${y}`);return{...t,day:X,month:u,monthCode:J,year:y,eraYear:l}}}class Y0 extends Z0{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:x5(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class nT extends Y0{constructor(){super(...arguments),this.id="islamic"}}class rT extends Y0{constructor(){super(...arguments),this.id="islamic-umalqura"}}class iT extends Y0{constructor(){super(...arguments),this.id="islamic-tbla"}}class oT extends Y0{constructor(){super(...arguments),this.id="islamic-civil"}}class S5 extends Y0{constructor(){super(...arguments),this.id="islamic-rgsa"}}class sT extends Y0{constructor(){super(...arguments),this.id="islamicc"}}class D5 extends Z0{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return nT.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class I5 extends Z0{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return HE(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let o=this.months[n];if(void 0===o)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&o.leap&&(o=o.leap),o}estimateIsoDate(t){const n=this.adjustCalendarDate(t),o=this.getMonthInfo(n);return Lu(n.year+78+(o.nextYear?1:0),o.month,o.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function HE(r){return r%4==0&&(r%100!=0||r%400==0)}class X0 extends Z0{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:o,anchorEra:p}=function(l){let u,J=l;if(0===J.length)throw new RangeError("Invalid era data: eras are required");if(1===J.length&&J[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===J.length&&!J[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(J.filter(N=>null!=N.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");J.forEach(N=>{if(N.isAnchor||!N.anchorEpoch&&!N.reverseOf){if(u)throw new RangeError("Invalid era data: cannot have multiple anchor eras");u=N,N.anchorEpoch={year:N.hasYearZero?0:1}}else if(!N.name)throw new RangeError("If era name is blank, it must be the anchor era")}),J=J.filter(N=>N.name),J.forEach(N=>{const{reverseOf:oe}=N;if(oe){const Ee=J.find(Le=>Le.name===oe);if(void 0===Ee)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${oe}`);N.reverseOf=Ee,N.anchorEpoch=Ee.anchorEpoch,N.isoEpoch=Ee.isoEpoch}void 0===N.anchorEpoch.month&&(N.anchorEpoch.month=1),void 0===N.anchorEpoch.day&&(N.anchorEpoch.day=1)}),E5.call(J,(N,oe)=>{if(N.reverseOf)return 1;if(oe.reverseOf)return-1;if(!N.isoEpoch||!oe.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return oe.isoEpoch.year-N.isoEpoch.year});const X=J[J.length-1].reverseOf;if(X&&X!==J[J.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return J.forEach((N,oe)=>{N.genericName="era"+(J.length-1-oe)}),{eras:J,anchorEra:u||J[0]}}(n);this.anchorEra=p,this.eras=o}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return HE(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(u,J)=>{const X=t[u];if(null!=X&&X!=J)throw new RangeError(`Input ${u} ${X} doesn't match calculated value ${J}`)},o=u=>{let J;const X={...t,year:u},N=this.eras.find((oe,Ee)=>{if(Ee===this.eras.length-1){if(oe.reverseOf){if(u>0)throw new RangeError(`Signed year ${u} is invalid for era ${oe.name}`);return J=oe.anchorEpoch.year-u,!0}return J=u-oe.anchorEpoch.year+(oe.hasYearZero?0:1),!0}return this.compareCalendarDates(X,oe.anchorEpoch)>=0&&(J=u-oe.anchorEpoch.year+(oe.hasYearZero?0:1),!0)});if(!N)throw new RangeError(`Year ${u} was not matched by any era`);return{eraYear:J,era:N.name}};let{year:p,eraYear:y,era:l}=t;if(null!=p)({eraYear:y,era:l}=o(p)),n("era",l),n("eraYear",y);else{if(null==y)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const u=void 0===l?void 0:this.eras.find(J=>J.name===l||J.genericName===l);if(!u)throw new RangeError(`Era ${l} (ISO year ${y}) was not matched by any era`);if(y<1&&u.reverseOf)throw new RangeError(`Years in ${l} era must be positive, not ${p}`);p=u.reverseOf?u.anchorEpoch.year-y:y+u.anchorEpoch.year-(u.hasYearZero?0:1),n("year",p),({eraYear:y,era:l}=o(p))}}return{...t,year:p,eraYear:y,era:l}}adjustCalendarDate(t,n,o="constrain"){let p=t;const{month:y,monthCode:l}=p;return void 0===y&&(p={...p,month:VE(l)}),this.validateCalendarDate(p),p=this.completeEraYear(p),super.adjustCalendarDate(p,n,o)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:o,month:p,day:y}=n,{anchorEra:l}=this;return $w(o+l.isoEpoch.year-(l.hasYearZero?0:1),p,y,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Gp(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class cv extends X0{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class WE extends cv{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class T5 extends cv{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class GE extends cv{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class aT extends X0{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class cT extends X0{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class FP extends X0{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:o}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:o}}}class dT extends X0{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:o,eraYear:p}=t,{year:y}=n;return this.eras.find(l=>l.name===o)?{era:o,eraYear:p}:y<1?{era:"bce",eraYear:1-y}:{era:"ce",eraYear:y}}}class lT extends Z0{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const o=this.getMonthList(t.year,n);return 13===jE(o).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const o=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),p=n.get(o);if(p)return p;const y=this.getFormatter(),l=(vt,Tt)=>{const bt=tT({isoYear:vt,isoMonth:2,isoDay:1}),wt=new Date(bt);wt.setUTCDate(Tt+1);const Ct=y.formatToParts(wt),Wt=Ct.find(Vt=>"month"===Vt.type).value,Jt=+Ct.find(Vt=>"day"===Vt.type).value;let an=Ct.find(Vt=>"relatedYear"===Vt.type);if(void 0===an)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return an=+an.value,{calendarMonthString:Wt,calendarDay:Jt,calendarYearToVerify:an}};let u=17,{calendarMonthString:J,calendarDay:X,calendarYearToVerify:N}=l(t,u);"1"!==J&&(u+=29,({calendarMonthString:J,calendarDay:X}=l(t,u))),u-=X-5;const oe={};let Ee,Le,Pe=1,Xe=!1;do{({calendarMonthString:J,calendarDay:X,calendarYearToVerify:N}=l(t,u)),Ee&&(oe[Le].daysInMonth=Ee+30-X),N!==t?Xe=!0:(oe[J]={monthIndex:Pe++},u+=30),Ee=X,Le=J}while(!Xe);return oe[Le].daysInMonth=Ee+30-X,n.set(o,oe),oe}estimateIsoDate(t){const{year:n,month:o}=t;return{year:n,month:o>=12?12:o+1,day:1}}adjustCalendarDate(t,n,o="constrain",p=!1){let{year:y,month:l,monthExtra:u,day:J,monthCode:X,eraYear:N}=t;if(p){if(y=N,u&&"bis"!==u)throw new RangeError(`Unexpected leap month suffix: ${u}`);const oe=Fu(l,void 0!==u),Ee=`${l}${u||""}`,Le=this.getMonthList(y,n)[Ee];if(void 0===Le)throw new RangeError(`Unmatched month ${Ee} in Chinese year ${y}`);return l=Le.monthIndex,{year:y,month:l,day:J,era:void 0,eraYear:N,monthCode:oe}}if(this.validateCalendarDate(t),void 0===y&&(y=N),void 0===N&&(N=y),void 0===l){const oe=this.getMonthList(y,n);let Ee=X.replace("L","bis").slice(1);"0"===Ee[0]&&(Ee=Ee.slice(1));let Le=oe[Ee];if(l=Le&&Le.monthIndex,void 0===l&&X.endsWith("L")&&"M13L"!=X&&"constrain"===o){let Pe=X.slice(1,-1);"0"===Pe[0]&&(Pe=Pe.slice(1)),Le=oe[Pe],Le&&(l=Le.monthIndex,X=Fu(Pe))}if(void 0===l)throw new RangeError(`Unmatched month ${X} in Chinese year ${y}`)}else if(void 0===X){const oe=this.getMonthList(y,n),Ee=jE(oe),Le=Ee.length;"reject"===o?(_a(l,1,Le),_a(J,1,this.maximumMonthLength())):(l=Sd(l,1,Le),J=Sd(J,1,this.maximumMonthLength()));const Pe=Ee.find(([,Xe])=>Xe.monthIndex===l);if(void 0===Pe)throw new RangeError(`Invalid month ${l} in Chinese year ${y}`);X=Fu(Pe[0].replace("bis",""),-1!==Pe[0].indexOf("bis"))}else{const oe=this.getMonthList(y,n);let Ee=X.replace("L","bis").slice(1);"0"===Ee[0]&&(Ee=Ee.slice(1));const Le=oe[Ee];if(!Le)throw new RangeError(`Unmatched monthCode ${X} in Chinese year ${y}`);if(l!==Le.monthIndex)throw new RangeError(`monthCode ${X} doesn't correspond to month ${l} in Chinese year ${y}`)}return{...t,year:y,eraYear:N,month:l,monthCode:X,day:J}}}class uT extends lT{constructor(){super(...arguments),this.id="chinese"}}class fT extends lT{constructor(){super(...arguments),this.id="dangi"}}class A5{constructor(t){this.helper=t}dateFromFields(t,n,o){const p=new Bs,y=no(t,this.fields(["day","month","monthCode","year"]),[]),l=Js(n),{year:u,month:J,day:X}=this.helper.calendarToIsoDate(y,l,p),N=xd(u,J,X,o);return p.setObject(N),N}yearMonthFromFields(t,n,o){const p=new Bs,y=no(t,this.fields(["month","monthCode","year"]),[]),l=Js(n),{year:u,month:J,day:X}=this.helper.calendarToIsoDate({...y,day:1},l,p),N=Ru(u,J,o,X);return p.setObject(N),N}monthDayFromFields(t,n,o){const p=new Bs,y=no(t,this.fields(["day","month","monthCode","year"]),[]),l=Js(n),{year:u,month:J,day:X}=this.helper.monthDayFromFields(y,l,p),N=Pu(J,X,o,u);return p.setObject(N),N}fields(t){let n=t;return XI.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new $E;for(let o=0;o<t.length;o++){const p=t[o];switch(Qr(tc,n,[p]),p){case"era":Qr(tc,n,["eraYear"]),Qr(tc,n,["year"]);break;case"eraYear":Qr(tc,n,["era"]),Qr(tc,n,["year"]);break;case"year":Qr(tc,n,["era"]),Qr(tc,n,["eraYear"]);break;case"month":Qr(tc,n,["monthCode"]),this.helper.erasBeginMidYear&&(Qr(tc,n,["era"]),Qr(tc,n,["eraYear"]));break;case"monthCode":Qr(tc,n,["month"]),this.helper.erasBeginMidYear&&(Qr(tc,n,["era"]),Qr(tc,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Qr(tc,n,["era"]),Qr(tc,n,["eraYear"]))}}return[...Qr(eT,n,[])]}dateAdd(t,n,o,p,y,l,u){const J=Bs.getCacheForObject(t),X=this.helper.temporalToCalendarDate(t,J),N=this.helper.addCalendar(X,{years:n,months:o,weeks:p,days:y},l,J),oe=this.helper.calendarToIsoDate(N,"constrain",J),{year:Ee,month:Le,day:Pe}=oe,Xe=xd(Ee,Le,Pe,u);return new Bs(J).setObject(Xe),Xe}dateUntil(t,n,o){const p=Bs.getCacheForObject(t),y=Bs.getCacheForObject(n),l=this.helper.temporalToCalendarDate(t,p),u=this.helper.temporalToCalendarDate(n,y);return this.helper.untilCalendar(l,u,o,p)}year(t){const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=Bs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return xs.iso8601.dayOfWeek(t)}dayOfYear(t){const n=Bs.getCacheForObject(t),o=this.helper.isoToCalendarDate(t,n),p=this.helper.startOfCalendarYear(o);return this.helper.calendarDaysUntil(p,o,n)+1}weekOfYear(t){return xs.iso8601.weekOfYear(t)}yearOfWeek(t){return xs.iso8601.yearOfWeek(t)}daysInWeek(t){return xs.iso8601.daysInWeek(t)}daysInMonth(t){const n=Bs.getCacheForObject(t),o=this.helper.temporalToCalendarDate(t,n),p=this.helper.maximumMonthLength(o);if(p===this.helper.minimumMonthLength(o))return p;const y=this.helper.startOfCalendarMonth(o),l=this.helper.addMonthsCalendar(y,1,"constrain",n);return this.helper.calendarDaysUntil(y,l,n)}daysInYear(t){let n=t;Oa(n,Fr)||(n=Lo(n));const o=Bs.getCacheForObject(n),p=this.helper.temporalToCalendarDate(n,o),y=this.helper.startOfCalendarYear(p),l=this.helper.addCalendar(y,{years:1},"constrain",o);return this.helper.calendarDaysUntil(y,l,o)}monthsInYear(t){const n=Bs.getCacheForObject(t),o=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(o,n)}inLeapYear(t){let n=t;Oa(n,Fr)||(n=Lo(n));const o=Bs.getCacheForObject(n),p=this.helper.temporalToCalendarDate(n,o);return this.helper.inLeapYear(p,o)}}for(const r of[M5,D5,GE,WE,T5,uT,fT,aT,I5,cT,FP,dT,nT,rT,iT,oT,S5,sT]){const t=new r;xs[t.id]=new A5(t)}class Xp{constructor(t,n,o,p="iso8601"){Lp(this,bo(t),bo(n),bo(o),cd(p))}get calendarId(){if(!ao(this))throw new TypeError("invalid receiver");return Ja(Re(this,Gn))}get era(){if(!ao(this))throw new TypeError("invalid receiver");return Vy(Re(this,Gn),this)}get eraYear(){if(!ao(this))throw new TypeError("invalid receiver");return zy(Re(this,Gn),this)}get year(){if(!ao(this))throw new TypeError("invalid receiver");return $y(Re(this,Gn),this)}get month(){if(!ao(this))throw new TypeError("invalid receiver");return Ky(Re(this,Gn),this)}get monthCode(){if(!ao(this))throw new TypeError("invalid receiver");return T0(Re(this,Gn),this)}get day(){if(!ao(this))throw new TypeError("invalid receiver");return A0(Re(this,Gn),this)}get dayOfWeek(){if(!ao(this))throw new TypeError("invalid receiver");return Hw(Re(this,Gn),this)}get dayOfYear(){if(!ao(this))throw new TypeError("invalid receiver");return Ww(Re(this,Gn),this)}get weekOfYear(){if(!ao(this))throw new TypeError("invalid receiver");return C0(Re(this,Gn),this)}get yearOfWeek(){if(!ao(this))throw new TypeError("invalid receiver");return Ou(Re(this,Gn),this)}get daysInWeek(){if(!ao(this))throw new TypeError("invalid receiver");return yE(Re(this,Gn),this)}get daysInMonth(){if(!ao(this))throw new TypeError("invalid receiver");return Gw(Re(this,Gn),this)}get daysInYear(){if(!ao(this))throw new TypeError("invalid receiver");return k0(Re(this,Gn),this)}get monthsInYear(){if(!ao(this))throw new TypeError("invalid receiver");return Nu(Re(this,Gn),this)}get inLeapYear(){if(!ao(this))throw new TypeError("invalid receiver");return P0(Re(this,Gn),this)}with(t,n){if(!ao(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");Rp(t);const o=po(n),p=Re(this,Gn),y=Es(p,["day","month","monthCode","year"]);let l=no(this,y,[]);return l=al(p,l,no(t,y,"partial")),l=no(l,y,[]),Mf(p,l,o)}withCalendar(t){if(!ao(this))throw new TypeError("invalid receiver");const n=cd(t);return new Xp(Re(this,Fr),Re(this,zr),Re(this,Yr),n)}add(t,n){if(!ao(this))throw new TypeError("invalid receiver");const o=D0(t),p=po(n);return Qs(Re(this,Gn),this,o,p)}subtract(t,n){if(!ao(this))throw new TypeError("invalid receiver");const o=i_(D0(t)),p=po(n);return Qs(Re(this,Gn),this,o,p)}until(t,n){if(!ao(this))throw new TypeError("invalid receiver");return UI("until",this,t,n)}since(t,n){if(!ao(this))throw new TypeError("invalid receiver");return UI("since",this,t,n)}equals(t){if(!ao(this))throw new TypeError("invalid receiver");const n=Lo(t);for(const o of[Fr,zr,Yr])if(Re(this,o)!==Re(n,o))return!1;return Wy(Re(this,Gn),Re(n,Gn))}toString(t){if(!ao(this))throw new TypeError("invalid receiver");return Hl(this,Uy(po(t)))}toJSON(){if(!ao(this))throw new TypeError("invalid receiver");return Hl(this)}toLocaleString(t,n){if(!ao(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!ao(this))throw new TypeError("invalid receiver");const n=Re(this,Fr),o=Re(this,zr),p=Re(this,Yr),y=Re(this,Gn);if(void 0===t)return xc(n,o,p,0,0,0,0,0,0,y);const l=ku(t);return xc(n,o,p,Re(l,Ji),Re(l,qi),Re(l,Ki),Re(l,Vi),Re(l,zi),Re(l,Gi),y)}toZonedDateTime(t){if(!ao(this))throw new TypeError("invalid receiver");let n,o;if(ds(t))if(Xa(t))n=t;else{const Pe=t.timeZone;void 0===Pe?n=qa(t):(n=qa(Pe),o=t.plainTime)}else n=qa(t);const p=Re(this,Fr),y=Re(this,zr),l=Re(this,Yr),u=Re(this,Gn);let J=0,X=0,N=0,oe=0,Ee=0,Le=0;return void 0!==o&&(o=ku(o),J=Re(o,Ji),X=Re(o,qi),N=Re(o,Ki),oe=Re(o,Vi),Ee=Re(o,zi),Le=Re(o,Gi)),qs(Re(Qa(n,xc(p,y,l,J,X,N,oe,Ee,Le,u),"compatible"),mi),n,u)}toPlainYearMonth(){if(!ao(this))throw new TypeError("invalid receiver");const t=Re(this,Gn);return zs(t,no(this,Es(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ao(this))throw new TypeError("invalid receiver");const t=Re(this,Gn);return Vp(t,no(this,Es(t,["day","monthCode"]),[]))}getISOFields(){if(!ao(this))throw new TypeError("invalid receiver");return{calendar:Re(this,Gn),isoDay:Re(this,Yr),isoMonth:Re(this,zr),isoYear:Re(this,Fr)}}getCalendar(){if(!ao(this))throw new TypeError("invalid receiver");return Hy(Re(this,Gn))}static from(t,n){const o=po(n);return ao(t)?(Js(o),xd(Re(t,Fr),Re(t,zr),Re(t,Yr),Re(t,Gn))):Lo(t,o)}static compare(t,n){const o=Lo(t),p=Lo(n);return Gp(Re(o,Fr),Re(o,zr),Re(o,Yr),Re(p,Fr),Re(p,zr),Re(p,Yr))}}Fl(Xp,"Temporal.PlainDate");class Jp{constructor(t,n,o,p=0,y=0,l=0,u=0,J=0,X=0,N="iso8601"){Up(this,bo(t),bo(n),bo(o),void 0===p?0:bo(p),void 0===y?0:bo(y),void 0===l?0:bo(l),void 0===u?0:bo(u),void 0===J?0:bo(J),void 0===X?0:bo(X),cd(N))}get calendarId(){if(!ji(this))throw new TypeError("invalid receiver");return Ja(Re(this,Gn))}get year(){if(!ji(this))throw new TypeError("invalid receiver");return $y(Re(this,Gn),this)}get month(){if(!ji(this))throw new TypeError("invalid receiver");return Ky(Re(this,Gn),this)}get monthCode(){if(!ji(this))throw new TypeError("invalid receiver");return T0(Re(this,Gn),this)}get day(){if(!ji(this))throw new TypeError("invalid receiver");return A0(Re(this,Gn),this)}get hour(){if(!ji(this))throw new TypeError("invalid receiver");return Re(this,Ji)}get minute(){if(!ji(this))throw new TypeError("invalid receiver");return Re(this,qi)}get second(){if(!ji(this))throw new TypeError("invalid receiver");return Re(this,Ki)}get millisecond(){if(!ji(this))throw new TypeError("invalid receiver");return Re(this,Vi)}get microsecond(){if(!ji(this))throw new TypeError("invalid receiver");return Re(this,zi)}get nanosecond(){if(!ji(this))throw new TypeError("invalid receiver");return Re(this,Gi)}get era(){if(!ji(this))throw new TypeError("invalid receiver");return Vy(Re(this,Gn),this)}get eraYear(){if(!ji(this))throw new TypeError("invalid receiver");return zy(Re(this,Gn),this)}get dayOfWeek(){if(!ji(this))throw new TypeError("invalid receiver");return Hw(Re(this,Gn),this)}get dayOfYear(){if(!ji(this))throw new TypeError("invalid receiver");return Ww(Re(this,Gn),this)}get weekOfYear(){if(!ji(this))throw new TypeError("invalid receiver");return C0(Re(this,Gn),this)}get yearOfWeek(){if(!ji(this))throw new TypeError("invalid receiver");return Ou(Re(this,Gn),this)}get daysInWeek(){if(!ji(this))throw new TypeError("invalid receiver");return yE(Re(this,Gn),this)}get daysInYear(){if(!ji(this))throw new TypeError("invalid receiver");return k0(Re(this,Gn),this)}get daysInMonth(){if(!ji(this))throw new TypeError("invalid receiver");return Gw(Re(this,Gn),this)}get monthsInYear(){if(!ji(this))throw new TypeError("invalid receiver");return Nu(Re(this,Gn),this)}get inLeapYear(){if(!ji(this))throw new TypeError("invalid receiver");return P0(Re(this,Gn),this)}with(t,n){if(!ji(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");Rp(t);const o=po(n),p=Re(this,Gn),y=Es(p,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let l=no(this,y,[]);l=al(p,l,no(t,y,"partial")),l=no(l,y,[]);const{year:u,month:J,day:X,hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Xe}=S0(p,l,o);return xc(u,J,X,N,oe,Ee,Le,Pe,Xe,p)}withPlainTime(t){if(!ji(this))throw new TypeError("invalid receiver");const n=Re(this,Fr),o=Re(this,zr),p=Re(this,Yr),y=Re(this,Gn);if(void 0===t)return xc(n,o,p,0,0,0,0,0,0,y);const l=ku(t);return xc(n,o,p,Re(l,Ji),Re(l,qi),Re(l,Ki),Re(l,Vi),Re(l,zi),Re(l,Gi),y)}withPlainDate(t){if(!ji(this))throw new TypeError("invalid receiver");const n=Lo(t),o=Re(n,Fr),p=Re(n,zr),y=Re(n,Yr);let l=Re(n,Gn);const u=Re(this,Ji),J=Re(this,qi),X=Re(this,Ki),N=Re(this,Vi),oe=Re(this,zi),Ee=Re(this,Gi);return l=vE(Re(this,Gn),l),xc(o,p,y,u,J,X,N,oe,Ee,l)}withCalendar(t){if(!ji(this))throw new TypeError("invalid receiver");const n=cd(t);return new Jp(Re(this,Fr),Re(this,zr),Re(this,Yr),Re(this,Ji),Re(this,qi),Re(this,Ki),Re(this,Vi),Re(this,zi),Re(this,Gi),n)}add(t,n){if(!ji(this))throw new TypeError("invalid receiver");return c_("add",this,t,n)}subtract(t,n){if(!ji(this))throw new TypeError("invalid receiver");return c_("subtract",this,t,n)}until(t,n){if(!ji(this))throw new TypeError("invalid receiver");return FI("until",this,t,n)}since(t,n){if(!ji(this))throw new TypeError("invalid receiver");return FI("since",this,t,n)}round(t){if(!ji(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pf("smallestUnit",t):po(t),o=x0(n),p=zl(n,"halfExpand"),y=ad(n,"smallestUnit","time",Op,["day"]),l={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[y];M0(o,l,1===l);let u=Re(this,Fr),J=Re(this,zr),X=Re(this,Yr),N=Re(this,Ji),oe=Re(this,qi),Ee=Re(this,Ki),Le=Re(this,Vi),Pe=Re(this,zi),Xe=Re(this,Gi);return({year:u,month:J,day:X,hour:N,minute:oe,second:Ee,millisecond:Le,microsecond:Pe,nanosecond:Xe}=nv(u,J,X,N,oe,Ee,Le,Pe,Xe,o,y,p)),xc(u,J,X,N,oe,Ee,Le,Pe,Xe,Re(this,Gn))}equals(t){if(!ji(this))throw new TypeError("invalid receiver");const n=Ed(t);for(const o of[Fr,zr,Yr,Ji,qi,Ki,Vi,zi,Gi])if(Re(this,o)!==Re(n,o))return!1;return Wy(Re(this,Gn),Re(n,Gn))}toString(t){if(!ji(this))throw new TypeError("invalid receiver");const n=po(t),o=Uy(n),p=Fy(n),y=zl(n,"trunc"),l=ad(n,"smallestUnit","time",void 0);if("hour"===l)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:u,unit:J,increment:X}=jy(l,p);return II(this,u,o,{unit:J,increment:X,roundingMode:y})}toJSON(){if(!ji(this))throw new TypeError("invalid receiver");return II(this,"auto")}toLocaleString(t,n){if(!ji(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!ji(this))throw new TypeError("invalid receiver");const o=qa(t);return qs(Re(Qa(o,this,E0(po(n))),mi),o,Re(this,Gn))}toPlainDate(){if(!ji(this))throw new TypeError("invalid receiver");return zp(this)}toPlainYearMonth(){if(!ji(this))throw new TypeError("invalid receiver");const t=Re(this,Gn);return zs(t,no(this,Es(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ji(this))throw new TypeError("invalid receiver");const t=Re(this,Gn);return Vp(t,no(this,Es(t,["day","monthCode"]),[]))}toPlainTime(){if(!ji(this))throw new TypeError("invalid receiver");return Yw(this)}getISOFields(){if(!ji(this))throw new TypeError("invalid receiver");return{calendar:Re(this,Gn),isoDay:Re(this,Yr),isoHour:Re(this,Ji),isoMicrosecond:Re(this,zi),isoMillisecond:Re(this,Vi),isoMinute:Re(this,qi),isoMonth:Re(this,zr),isoNanosecond:Re(this,Gi),isoSecond:Re(this,Ki),isoYear:Re(this,Fr)}}getCalendar(){if(!ji(this))throw new TypeError("invalid receiver");return Hy(Re(this,Gn))}static from(t,n){const o=po(n);return ji(t)?(Js(o),xc(Re(t,Fr),Re(t,zr),Re(t,Yr),Re(t,Ji),Re(t,qi),Re(t,Ki),Re(t,Vi),Re(t,zi),Re(t,Gi),Re(t,Gn))):Ed(t,o)}static compare(t,n){const o=Ed(t),p=Ed(n);for(const y of[Fr,zr,Yr,Ji,qi,Ki,Vi,zi,Gi]){const l=Re(o,y),u=Re(p,y);if(l!==u)return ll(l-u)}return 0}}Fl(Jp,"Temporal.PlainDateTime");class Of{constructor(t=0,n=0,o=0,p=0,y=0,l=0,u=0,J=0,X=0,N=0){const oe=void 0===t?0:Os(t),Ee=void 0===n?0:Os(n),Le=void 0===o?0:Os(o),Pe=void 0===p?0:Os(p),Xe=void 0===y?0:Os(y),vt=void 0===l?0:Os(l),Tt=void 0===u?0:Os(u),bt=void 0===J?0:Os(J),wt=void 0===X?0:Os(X),Ct=void 0===N?0:Os(N);Jy(oe,Ee,Le,Pe,Xe,vt,Tt,bt,wt,Ct),jl(this),to(this,Fc,oe),to(this,Ra,Ee),to(this,va,Le),to(this,ba,Pe),to(this,vc,Xe),to(this,jc,vt),to(this,Za,Tt),to(this,bc,bt),to(this,$c,wt),to(this,wc,Ct)}get years(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,Fc)}get months(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,Ra)}get weeks(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,va)}get days(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,ba)}get hours(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,vc)}get minutes(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,jc)}get seconds(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,Za)}get milliseconds(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,bc)}get microseconds(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,$c)}get nanoseconds(){if(!_s(this))throw new TypeError("invalid receiver");return Re(this,wc)}get sign(){if(!_s(this))throw new TypeError("invalid receiver");return Gl(Re(this,Fc),Re(this,Ra),Re(this,va),Re(this,ba),Re(this,vc),Re(this,jc),Re(this,Za),Re(this,bc),Re(this,$c),Re(this,wc))}get blank(){if(!_s(this))throw new TypeError("invalid receiver");return 0===Gl(Re(this,Fc),Re(this,Ra),Re(this,va),Re(this,ba),Re(this,vc),Re(this,jc),Re(this,Za),Re(this,bc),Re(this,$c),Re(this,wc))}with(t){if(!_s(this))throw new TypeError("invalid receiver");const n=no(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:o=Re(this,Fc),months:p=Re(this,Ra),weeks:y=Re(this,va),days:l=Re(this,ba),hours:u=Re(this,vc),minutes:J=Re(this,jc),seconds:X=Re(this,Za),milliseconds:N=Re(this,bc),microseconds:oe=Re(this,$c),nanoseconds:Ee=Re(this,wc)}=n;return new Of(o,p,y,l,u,J,X,N,oe,Ee)}negated(){if(!_s(this))throw new TypeError("invalid receiver");return i_(this)}abs(){if(!_s(this))throw new TypeError("invalid receiver");return new Of(Math.abs(Re(this,Fc)),Math.abs(Re(this,Ra)),Math.abs(Re(this,va)),Math.abs(Re(this,ba)),Math.abs(Re(this,vc)),Math.abs(Re(this,jc)),Math.abs(Re(this,Za)),Math.abs(Re(this,bc)),Math.abs(Re(this,$c)),Math.abs(Re(this,wc)))}add(t,n){if(!_s(this))throw new TypeError("invalid receiver");return ev("add",this,t,n)}subtract(t,n){if(!_s(this))throw new TypeError("invalid receiver");return ev("subtract",this,t,n)}round(t){if(!_s(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=Re(this,Fc),o=Re(this,Ra),p=Re(this,va),y=Re(this,ba),l=Re(this,vc),u=Re(this,jc),J=Re(this,Za),X=Re(this,bc),N=Re(this,$c),oe=Re(this,wc),Ee=gE(n,o,p,y,l,u,J,X,N,oe);const Le="string"==typeof t?Pf("smallestUnit",t):po(t);let Pe=ad(Le,"largestUnit","datetime",void 0,["auto"]),Xe=Vw(Le);const vt=x0(Le),Tt=zl(Le,"halfExpand");let bt=ad(Le,"smallestUnit","datetime",void 0),wt=!0;bt||(wt=!1,bt="nanosecond"),Ee=Np(Ee,bt);let Ct=!0;if(Pe||(Ct=!1,Pe=Ee),"auto"===Pe&&(Pe=Ee),!wt&&!Ct)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Np(Pe,bt)!==Pe)throw new RangeError(`largestUnit ${Pe} cannot be smaller than smallestUnit ${bt}`);const Wt={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[bt];return void 0!==Wt&&M0(vt,Wt,!1),({years:n,months:o,weeks:p,days:y}=r_(n,o,p,y,Pe,Xe)),({years:n,months:o,weeks:p,days:y,hours:l,minutes:u,seconds:J,milliseconds:X,microseconds:N,nanoseconds:oe}=Yl(n,o,p,y,l,u,J,X,N,oe,vt,bt,Tt,Xe)),({years:n,months:o,weeks:p,days:y,hours:l,minutes:u,seconds:J,milliseconds:X,microseconds:N,nanoseconds:oe}=y5(n,o,p,y,l,u,J,X,N,oe,vt,bt,Tt,Xe)),({days:y,hours:l,minutes:u,seconds:J,milliseconds:X,microseconds:N,nanoseconds:oe}=dl(y,l,u,J,X,N,oe,Pe,Xe)),({years:n,months:o,weeks:p,days:y}=function(an,Vt,In,Yn,Qn,sr){const Hn=_r("%Temporal.Duration%"),zn=Gl(an,Vt,In,Yn,0,0,0,0,0,0);if(0===zn)return{years:an,months:Vt,weeks:In,days:Yn};const jn=It.BigInt(zn);let Xn,An,yr=It.BigInt(an),Hr=It.BigInt(Vt),Ir=It.BigInt(In),oi=It.BigInt(Yn);sr&&(An=Lo(sr),Xn=Re(An,Gn));const ro=new Hn(zn),Dn=new Hn(0,zn),li=new Hn(0,0,zn);switch(Qn){case"year":{if(!Xn)throw new RangeError("a starting point is required for years balancing");const wo="string"!=typeof Xn?go(Xn,"dateAdd"):void 0;let Er,qn,wr;for(({relativeTo:Er,days:qn}=ec(Xn,An,ro,wo));It.greaterThanOrEqual(Kl(oi),It.BigInt(bs(qn)));)oi=It.subtract(oi,It.BigInt(qn)),yr=It.add(yr,jn),An=Er,({relativeTo:Er,days:qn}=ec(Xn,An,ro,wo));for(({relativeTo:Er,days:wr}=ec(Xn,An,Dn,wo));It.greaterThanOrEqual(Kl(oi),It.BigInt(bs(wr)));)oi=It.subtract(oi,It.BigInt(wr)),Hr=It.add(Hr,jn),An=Er,({relativeTo:Er,days:wr}=ec(Xn,An,Dn,wo));Er=Qs(Xn,An,ro,void 0,wo);const ri="string"!=typeof Xn?go(Xn,"dateUntil"):void 0,Bi=Ya(null);Bi.largestUnit="month";let Li=xf(Xn,An,Er,Bi,ri),fi=Re(Li,Ra);for(;It.greaterThanOrEqual(Kl(Hr),It.BigInt(bs(fi)));){Hr=It.subtract(Hr,It.BigInt(fi)),yr=It.add(yr,jn),An=Er,Er=Qs(Xn,An,ro,void 0,wo);const gi=Ya(null);gi.largestUnit="month",Li=xf(Xn,An,Er,gi,ri),fi=Re(Li,Ra)}break}case"month":{if(!Xn)throw new RangeError("a starting point is required for months balancing");const wo="string"!=typeof Xn?go(Xn,"dateAdd"):void 0;let Er,qn;for(({relativeTo:Er,days:qn}=ec(Xn,An,Dn,wo));It.greaterThanOrEqual(Kl(oi),It.BigInt(bs(qn)));)oi=It.subtract(oi,It.BigInt(qn)),Hr=It.add(Hr,jn),An=Er,({relativeTo:Er,days:qn}=ec(Xn,An,Dn,wo));break}case"week":{if(!Xn)throw new RangeError("a starting point is required for weeks balancing");const wo="string"!=typeof Xn?go(Xn,"dateAdd"):void 0;let Er,qn;for(({relativeTo:Er,days:qn}=ec(Xn,An,li,wo));It.greaterThanOrEqual(Kl(oi),It.BigInt(bs(qn)));)oi=It.subtract(oi,It.BigInt(qn)),Ir=It.add(Ir,jn),An=Er,({relativeTo:Er,days:qn}=ec(Xn,An,li,wo));break}}return{years:It.toNumber(yr),months:It.toNumber(Hr),weeks:It.toNumber(Ir),days:It.toNumber(oi)}}(n,o,p,y,Pe,Xe)),new Of(n,o,p,y,l,u,J,X,N,oe)}total(t){if(!_s(this))throw new TypeError("invalid receiver");let n=Re(this,Fc),o=Re(this,Ra),p=Re(this,va),y=Re(this,ba),l=Re(this,vc),u=Re(this,jc),J=Re(this,Za),X=Re(this,bc),N=Re(this,$c),oe=Re(this,wc);if(void 0===t)throw new TypeError("options argument is required");const Ee="string"==typeof t?Pf("unit",t):po(t),Le=Vw(Ee),Pe=ad(Ee,"unit","datetime",Op);let Xe;({years:n,months:o,weeks:p,days:y}=r_(n,o,p,y,Pe,Le)),Gr(Le)&&(Xe=Wp(Le,n,o,p,0));let vt=kI(y,l,u,J,X,N,oe,Pe,Xe);if("positive overflow"===vt)return 1/0;if("negative overflow"===vt)return-1/0;({days:y,hours:l,minutes:u,seconds:J,milliseconds:X,microseconds:N,nanoseconds:oe}=vt);const{total:Tt}=Yl(n,o,p,y,l,u,J,X,N,oe,1,Pe,"trunc",Le);return Tt}toString(t){if(!_s(this))throw new TypeError("invalid receiver");const n=po(t),o=Fy(n),p=zl(n,"trunc"),y=ad(n,"smallestUnit","time",void 0);if("hour"===y||"minute"===y)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:l,unit:u,increment:J}=jy(y,o);return Yy(this,l,{unit:u,increment:J,roundingMode:p})}toJSON(){if(!_s(this))throw new TypeError("invalid receiver");return Yy(this)}toLocaleString(t,n){if(!_s(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),Yy(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return _s(t)?new Of(Re(t,Fc),Re(t,Ra),Re(t,va),Re(t,ba),Re(t,vc),Re(t,jc),Re(t,Za),Re(t,bc),Re(t,$c),Re(t,wc)):D0(t)}static compare(t,n,o){const p=D0(t),y=D0(n),l=Vw(po(o)),u=Re(p,Fc),J=Re(p,Ra),X=Re(p,va);let N=Re(p,ba);const oe=Re(p,vc),Ee=Re(p,jc),Le=Re(p,Za),Pe=Re(p,bc),Xe=Re(p,$c);let vt=Re(p,wc);const Tt=Re(y,Fc),bt=Re(y,Ra),wt=Re(y,va);let Ct=Re(y,ba);const Wt=Re(y,vc),Jt=Re(y,jc),an=Re(y,Za),Vt=Re(y,bc),In=Re(y,$c);let Yn=Re(y,wc);const Qn=PI(l,u,J,X,N),sr=PI(l,Tt,bt,wt,Ct);0===u&&0===Tt&&0===J&&0===bt&&0===X&&0===wt||(({days:N}=r_(u,J,X,N,"day",l)),({days:Ct}=r_(Tt,bt,wt,Ct,"day",l)));const Hn=L0(N,oe,Ee,Le,Pe,Xe,vt,Qn),zn=L0(Ct,Wt,Jt,an,Vt,In,Yn,sr);return ll(It.toNumber(It.subtract(Hn,zn)))}}Fl(Of,"Temporal.Duration");const hT=Object.create;class f_{constructor(t,n,o="iso8601",p=1972){Fp(this,bo(t),bo(n),cd(o),bo(p))}get monthCode(){if(!wa(this))throw new TypeError("invalid receiver");return T0(Re(this,Gn),this)}get day(){if(!wa(this))throw new TypeError("invalid receiver");return A0(Re(this,Gn),this)}get calendarId(){if(!wa(this))throw new TypeError("invalid receiver");return Ja(Re(this,Gn))}with(t,n){if(!wa(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");Rp(t);const o=po(n),p=Re(this,Gn),y=Es(p,["day","month","monthCode","year"]);let l=no(this,y,[]);return l=al(p,l,no(t,y,"partial")),l=no(l,y,[]),Vp(p,l,o)}equals(t){if(!wa(this))throw new TypeError("invalid receiver");const n=MI(t);for(const o of[zr,Yr,Fr])if(Re(this,o)!==Re(n,o))return!1;return Wy(Re(this,Gn),Re(n,Gn))}toString(t){if(!wa(this))throw new TypeError("invalid receiver");return _E(this,Uy(po(t)))}toJSON(){if(!wa(this))throw new TypeError("invalid receiver");return _E(this)}toLocaleString(t,n){if(!wa(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!wa(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("argument should be an object");const n=Re(this,Gn),o=Es(n,["day","monthCode"]),p=no(this,o,[]),y=Es(n,["year"]);let l=al(n,p,no(t,y,[]));l=no(l,[...new Set([...o,...y])],[]);const u=hT(null);return u.overflow="reject",Mf(n,l,u)}getISOFields(){if(!wa(this))throw new TypeError("invalid receiver");return{calendar:Re(this,Gn),isoDay:Re(this,Yr),isoMonth:Re(this,zr),isoYear:Re(this,Fr)}}getCalendar(){if(!wa(this))throw new TypeError("invalid receiver");return Hy(Re(this,Gn))}static from(t,n){const o=po(n);return wa(t)?(Js(o),Pu(Re(t,zr),Re(t,Yr),Re(t,Gn),Re(t,Fr))):MI(t,o)}}Fl(f_,"Temporal.PlainMonthDay");const h_=()=>new(_r("%Temporal.Instant%"))(OE()),ZE=(r,t=Sh())=>{const n=qa(t),o=cd(r);return Md(n,h_(),o)},p_=(r=Sh())=>Md(qa(r),h_(),"iso8601"),YE=(r,t=Sh())=>{const n=qa(t),o=cd(r);return qs(OE(),n,o)},XE={instant:h_,plainDateTime:ZE,plainDateTimeISO:p_,plainDate:(r,t=Sh())=>zp(ZE(r,t)),plainDateISO:(r=Sh())=>zp(p_(r)),plainTimeISO:(r=Sh())=>Yw(p_(r)),timeZoneId:()=>Sh(),zonedDateTime:YE,zonedDateTimeISO:(r=Sh())=>YE("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(XE,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const pT=Object.assign;function JE(r,t,n){let o=Re(r,Ji),p=Re(r,qi),y=Re(r,Ki),l=Re(r,Vi),u=Re(r,zi),J=Re(r,Gi);if(n){const{unit:X,increment:N,roundingMode:oe}=n;({hour:o,minute:p,second:y,millisecond:l,microsecond:u,nanosecond:J}=Af(o,p,y,l,u,J,N,X,oe))}return`${ls(o)}:${ls(p)}${O0(y,l,u,J,t)}`}class Dh{constructor(t=0,n=0,o=0,p=0,y=0,l=0){const u=void 0===t?0:bo(t),J=void 0===n?0:bo(n),X=void 0===o?0:bo(o),N=void 0===p?0:bo(p),oe=void 0===y?0:bo(y),Ee=void 0===l?0:bo(l);Xy(u,J,X,N,oe,Ee),jl(this),to(this,Ji,u),to(this,qi,J),to(this,Ki,X),to(this,Vi,N),to(this,zi,oe),to(this,Gi,Ee)}get hour(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,Ji)}get minute(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,qi)}get second(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,Ki)}get millisecond(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,Vi)}get microsecond(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,zi)}get nanosecond(){if(!Ns(this))throw new TypeError("invalid receiver");return Re(this,Gi)}with(t,n){if(!Ns(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");Rp(t);const o=Js(po(n)),p=zw(t,"partial"),y=zw(this);let{hour:l,minute:u,second:J,millisecond:X,microsecond:N,nanosecond:oe}=pT(y,p);return({hour:l,minute:u,second:J,millisecond:X,microsecond:N,nanosecond:oe}=_0(l,u,J,X,N,oe,o)),new Dh(l,u,J,X,N,oe)}add(t){if(!Ns(this))throw new TypeError("invalid receiver");return RE("add",this,t)}subtract(t){if(!Ns(this))throw new TypeError("invalid receiver");return RE("subtract",this,t)}until(t,n){if(!Ns(this))throw new TypeError("invalid receiver");return s_("until",this,t,n)}since(t,n){if(!Ns(this))throw new TypeError("invalid receiver");return s_("since",this,t,n)}round(t){if(!Ns(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pf("smallestUnit",t):po(t),o=x0(n),p=zl(n,"halfExpand"),y=ad(n,"smallestUnit","time",Op);M0(o,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[y],!1);let l=Re(this,Ji),u=Re(this,qi),J=Re(this,Ki),X=Re(this,Vi),N=Re(this,zi),oe=Re(this,Gi);return({hour:l,minute:u,second:J,millisecond:X,microsecond:N,nanosecond:oe}=Af(l,u,J,X,N,oe,o,y,p)),new Dh(l,u,J,X,N,oe)}equals(t){if(!Ns(this))throw new TypeError("invalid receiver");const n=ku(t);for(const o of[Ji,qi,Ki,Vi,zi,Gi])if(Re(this,o)!==Re(n,o))return!1;return!0}toString(t){if(!Ns(this))throw new TypeError("invalid receiver");const n=po(t),o=Fy(n),p=zl(n,"trunc"),y=ad(n,"smallestUnit","time",void 0);if("hour"===y)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:l,unit:u,increment:J}=jy(y,o);return JE(this,l,{unit:u,increment:J,roundingMode:p})}toJSON(){if(!Ns(this))throw new TypeError("invalid receiver");return JE(this,"auto")}toLocaleString(t,n){if(!Ns(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!Ns(this))throw new TypeError("invalid receiver");const n=Lo(t),o=Re(n,Fr),p=Re(n,zr),y=Re(n,Yr),l=Re(n,Gn);return xc(o,p,y,Re(this,Ji),Re(this,qi),Re(this,Ki),Re(this,Vi),Re(this,zi),Re(this,Gi),l)}toZonedDateTime(t){if(!Ns(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const o=Lo(n),p=t.timeZone;if(void 0===p)throw new TypeError("missing timeZone property");const y=qa(p),l=Re(o,Fr),u=Re(o,zr),J=Re(o,Yr),X=Re(o,Gn),N=Re(this,Ji),oe=Re(this,qi),Ee=Re(this,Ki),Le=Re(this,Vi),Pe=Re(this,zi),Xe=Re(this,Gi);return qs(Re(Qa(y,new(_r("%Temporal.PlainDateTime%"))(l,u,J,N,oe,Ee,Le,Pe,Xe,X),"compatible"),mi),y,X)}getISOFields(){if(!Ns(this))throw new TypeError("invalid receiver");return{isoHour:Re(this,Ji),isoMicrosecond:Re(this,zi),isoMillisecond:Re(this,Vi),isoMinute:Re(this,qi),isoNanosecond:Re(this,Gi),isoSecond:Re(this,Ki)}}static from(t,n){const o=Js(po(n));return Ns(t)?new Dh(Re(t,Ji),Re(t,qi),Re(t,Ki),Re(t,Vi),Re(t,zi),Re(t,Gi)):ku(t,o)}static compare(t,n){const o=ku(t),p=ku(n);for(const y of[Ji,qi,Ki,Vi,zi,Gi]){const l=Re(o,y),u=Re(p,y);if(l!==u)return ll(l-u)}return 0}}Fl(Dh,"Temporal.PlainTime");class J0{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=Jw(t);jl(this),to(this,_f,n)}get id(){if(!Xa(this))throw new TypeError("invalid receiver");return Re(this,_f)}getOffsetNanosecondsFor(t){if(!Xa(this))throw new TypeError("invalid receiver");const n=sl(t),o=Re(this,_f);return Hc(o)?Sf(o):Df(o,Re(n,mi))}getOffsetStringFor(t){if(!Xa(this))throw new TypeError("invalid receiver");return wE(this,sl(t))}getPlainDateTimeFor(t,n="iso8601"){if(!Xa(this))throw new TypeError("invalid receiver");return Md(this,sl(t),cd(n))}getInstantFor(t,n){if(!Xa(this))throw new TypeError("invalid receiver");return Qa(this,Ed(t),E0(po(n)))}getPossibleInstantsFor(t){if(!Xa(this))throw new TypeError("invalid receiver");const n=Ed(t),o=_r("%Temporal.Instant%"),p=Re(this,_f);if(Hc(p)){const l=Eh(Re(n,Fr),Re(n,zr),Re(n,Yr),Re(n,Ji),Re(n,qi),Re(n,Ki),Re(n,Vi),Re(n,zi),Re(n,Gi));if(null===l)throw new RangeError("DateTime outside of supported range");const u=Sf(p);return[new o(It.subtract(l,It.BigInt(u)))]}return function(u,J,X,N,oe,Ee,Le,Pe,Xe,vt){const Tt=Eh(J,X,N,oe,Ee,Le,Pe,Xe,vt);if(null===Tt)throw new RangeError("DateTime outside of supported range");let bt=It.subtract(Tt,$l);It.lessThan(bt,g0)&&(bt=Tt);let wt=It.add(Tt,$l);It.greaterThan(wt,y0)&&(wt=Tt);const Ct=Df(u,bt),Wt=Df(u,wt);return(Ct===Wt?[Ct]:[Ct,Wt]).map(Jt=>{const an=It.subtract(Tt,It.BigInt(Jt)),Vt=N0(u,an);if(J===Vt.year&&X===Vt.month&&N===Vt.day&&oe===Vt.hour&&Ee===Vt.minute&&Le===Vt.second&&Pe===Vt.millisecond&&Xe===Vt.microsecond&&vt===Vt.nanosecond)return an}).filter(Jt=>void 0!==Jt)}(p,Re(n,Fr),Re(n,zr),Re(n,Yr),Re(n,Ji),Re(n,qi),Re(n,Ki),Re(n,Vi),Re(n,zi),Re(n,Gi)).map(l=>new o(l))}getNextTransition(t){if(!Xa(this))throw new TypeError("invalid receiver");const n=sl(t),o=Re(this,_f);if(Hc(o)||"UTC"===o)return null;let p=Re(n,mi);const y=_r("%Temporal.Instant%");return p=CI(o,p),null===p?null:new y(p)}getPreviousTransition(t){if(!Xa(this))throw new TypeError("invalid receiver");const n=sl(t),o=Re(this,_f);if(Hc(o)||"UTC"===o)return null;let p=Re(n,mi);const y=_r("%Temporal.Instant%");return p=xE(o,p),null===p?null:new y(p)}toString(){if(!Xa(this))throw new TypeError("invalid receiver");return Re(this,_f)}toJSON(){if(!Xa(this))throw new TypeError("invalid receiver");return Re(this,_f)}static from(t){return bE(qa(t))}}Fl(J0,"Temporal.TimeZone"),vs("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",J0.prototype.getOffsetNanosecondsFor),vs("Temporal.TimeZone.prototype.getPossibleInstantsFor",J0.prototype.getPossibleInstantsFor);const C5=Object.create;class qE{constructor(t,n,o="iso8601",p=1){jp(this,bo(t),bo(n),cd(o),bo(p))}get year(){if(!Ao(this))throw new TypeError("invalid receiver");return $y(Re(this,Gn),this)}get month(){if(!Ao(this))throw new TypeError("invalid receiver");return Ky(Re(this,Gn),this)}get monthCode(){if(!Ao(this))throw new TypeError("invalid receiver");return T0(Re(this,Gn),this)}get calendarId(){if(!Ao(this))throw new TypeError("invalid receiver");return Ja(Re(this,Gn))}get era(){if(!Ao(this))throw new TypeError("invalid receiver");return Vy(Re(this,Gn),this)}get eraYear(){if(!Ao(this))throw new TypeError("invalid receiver");return zy(Re(this,Gn),this)}get daysInMonth(){if(!Ao(this))throw new TypeError("invalid receiver");return Gw(Re(this,Gn),this)}get daysInYear(){if(!Ao(this))throw new TypeError("invalid receiver");return k0(Re(this,Gn),this)}get monthsInYear(){if(!Ao(this))throw new TypeError("invalid receiver");return Nu(Re(this,Gn),this)}get inLeapYear(){if(!Ao(this))throw new TypeError("invalid receiver");return P0(Re(this,Gn),this)}with(t,n){if(!Ao(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid argument");Rp(t);const o=po(n),p=Re(this,Gn),y=Es(p,["month","monthCode","year"]);let l=no(this,y,[]);return l=al(p,l,no(t,y,"partial")),l=no(l,y,[]),zs(p,l,o)}add(t,n){if(!Ao(this))throw new TypeError("invalid receiver");return $I("add",this,t,n)}subtract(t,n){if(!Ao(this))throw new TypeError("invalid receiver");return $I("subtract",this,t,n)}until(t,n){if(!Ao(this))throw new TypeError("invalid receiver");return jI("until",this,t,n)}since(t,n){if(!Ao(this))throw new TypeError("invalid receiver");return jI("since",this,t,n)}equals(t){if(!Ao(this))throw new TypeError("invalid receiver");const n=I0(t);for(const o of[Fr,zr,Yr])if(Re(this,o)!==Re(n,o))return!1;return Wy(Re(this,Gn),Re(n,Gn))}toString(t){if(!Ao(this))throw new TypeError("invalid receiver");return Wl(this,Uy(po(t)))}toJSON(){if(!Ao(this))throw new TypeError("invalid receiver");return Wl(this)}toLocaleString(t,n){if(!Ao(this))throw new TypeError("invalid receiver");return new ul(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!Ao(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("argument should be an object");const n=Re(this,Gn),o=Es(n,["monthCode","year"]),p=no(this,o,[]),y=Es(n,["day"]);let l=al(n,p,no(t,y,[]));l=no(l,[...new Set([...o,...y])],[]);const u=C5(null);return u.overflow="reject",Mf(n,l,u)}getISOFields(){if(!Ao(this))throw new TypeError("invalid receiver");return{calendar:Re(this,Gn),isoDay:Re(this,Yr),isoMonth:Re(this,zr),isoYear:Re(this,Fr)}}getCalendar(){if(!Ao(this))throw new TypeError("invalid receiver");return Hy(Re(this,Gn))}static from(t,n){const o=po(n);return Ao(t)?(Js(o),Ru(Re(t,Fr),Re(t,zr),Re(t,Gn),Re(t,Yr))):I0(t,o)}static compare(t,n){const o=I0(t),p=I0(n);return Gp(Re(o,Fr),Re(o,zr),Re(o,Yr),Re(p,Fr),Re(p,zr),Re(p,Yr))}}Fl(qE,"Temporal.PlainYearMonth");const k5=ul.prototype.resolvedOptions,P5=Object.create;class m_{constructor(t,n,o="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");$p(this,rv(t),qa(n),cd(o))}get calendarId(){if(!Gr(this))throw new TypeError("invalid receiver");return Ja(Re(this,Gn))}get timeZoneId(){if(!Gr(this))throw new TypeError("invalid receiver");return Gy(Re(this,jo))}get year(){if(!Gr(this))throw new TypeError("invalid receiver");return $y(Re(this,Gn),us(this))}get month(){if(!Gr(this))throw new TypeError("invalid receiver");return Ky(Re(this,Gn),us(this))}get monthCode(){if(!Gr(this))throw new TypeError("invalid receiver");return T0(Re(this,Gn),us(this))}get day(){if(!Gr(this))throw new TypeError("invalid receiver");return A0(Re(this,Gn),us(this))}get hour(){if(!Gr(this))throw new TypeError("invalid receiver");return Re(us(this),Ji)}get minute(){if(!Gr(this))throw new TypeError("invalid receiver");return Re(us(this),qi)}get second(){if(!Gr(this))throw new TypeError("invalid receiver");return Re(us(this),Ki)}get millisecond(){if(!Gr(this))throw new TypeError("invalid receiver");return Re(us(this),Vi)}get microsecond(){if(!Gr(this))throw new TypeError("invalid receiver");return Re(us(this),zi)}get nanosecond(){if(!Gr(this))throw new TypeError("invalid receiver");return Re(us(this),Gi)}get era(){if(!Gr(this))throw new TypeError("invalid receiver");return Vy(Re(this,Gn),us(this))}get eraYear(){if(!Gr(this))throw new TypeError("invalid receiver");return zy(Re(this,Gn),us(this))}get epochSeconds(){if(!Gr(this))throw new TypeError("invalid receiver");const t=Re(this,mi);return It.toNumber(Zp(t,sd))}get epochMilliseconds(){if(!Gr(this))throw new TypeError("invalid receiver");const t=Re(this,mi);return It.toNumber(Zp(t,Vs))}get epochMicroseconds(){if(!Gr(this))throw new TypeError("invalid receiver");return kf(Zp(Re(this,mi),mo))}get epochNanoseconds(){if(!Gr(this))throw new TypeError("invalid receiver");return kf(Re(this,mi))}get dayOfWeek(){if(!Gr(this))throw new TypeError("invalid receiver");return Hw(Re(this,Gn),us(this))}get dayOfYear(){if(!Gr(this))throw new TypeError("invalid receiver");return Ww(Re(this,Gn),us(this))}get weekOfYear(){if(!Gr(this))throw new TypeError("invalid receiver");return C0(Re(this,Gn),us(this))}get yearOfWeek(){if(!Gr(this))throw new TypeError("invalid receiver");return Ou(Re(this,Gn),us(this))}get hoursInDay(){if(!Gr(this))throw new TypeError("invalid receiver");const t=us(this),n=_r("%Temporal.PlainDateTime%"),o=Re(t,Fr),p=Re(t,zr),y=Re(t,Yr),l=new n(o,p,y,0,0,0,0,0,0),u=Lu(o,p,y,0,0,0,1,"reject"),J=new n(u.year,u.month,u.day,0,0,0,0,0,0),X=Re(this,jo),N=Re(Qa(X,l,"compatible"),mi),oe=Re(Qa(X,J,"compatible"),mi);return Cf(It.subtract(oe,N),m0)}get daysInWeek(){if(!Gr(this))throw new TypeError("invalid receiver");return yE(Re(this,Gn),us(this))}get daysInMonth(){if(!Gr(this))throw new TypeError("invalid receiver");return Gw(Re(this,Gn),us(this))}get daysInYear(){if(!Gr(this))throw new TypeError("invalid receiver");return k0(Re(this,Gn),us(this))}get monthsInYear(){if(!Gr(this))throw new TypeError("invalid receiver");return Nu(Re(this,Gn),us(this))}get inLeapYear(){if(!Gr(this))throw new TypeError("invalid receiver");return P0(Re(this,Gn),us(this))}get offset(){if(!Gr(this))throw new TypeError("invalid receiver");return wE(Re(this,jo),Re(this,yc))}get offsetNanoseconds(){if(!Gr(this))throw new TypeError("invalid receiver");return zc(Re(this,jo),Re(this,yc))}with(t,n){if(!Gr(this))throw new TypeError("invalid receiver");if(!ds(t))throw new TypeError("invalid zoned-date-time-like");Rp(t);const o=po(n),p=Re(this,Gn);let y=Es(p,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);y.push("offset");let l=no(this,y,["offset"]);l=al(p,l,no(t,y,"partial")),l=no(l,y,["offset"]);const u=E0(o),J=Kw(o,"prefer");let{year:X,month:N,day:oe,hour:Ee,minute:Le,second:Pe,millisecond:Xe,microsecond:vt,nanosecond:Tt}=S0(p,l,o);const bt=Sf(l.offset),wt=Re(this,jo);return qs(_h(X,N,oe,Ee,Le,Pe,Xe,vt,Tt,"option",bt,wt,u,J,!1),wt,p)}withPlainDate(t){if(!Gr(this))throw new TypeError("invalid receiver");const n=Lo(t),o=Re(n,Fr),p=Re(n,zr),y=Re(n,Yr);let l=Re(n,Gn);const u=us(this),J=Re(u,Ji),X=Re(u,qi),N=Re(u,Ki),oe=Re(u,Vi),Ee=Re(u,zi),Le=Re(u,Gi);l=vE(Re(this,Gn),l);const Pe=Re(this,jo);return qs(Re(Qa(Pe,new(_r("%Temporal.PlainDateTime%"))(o,p,y,J,X,N,oe,Ee,Le,l),"compatible"),mi),Pe,l)}withPlainTime(t){if(!Gr(this))throw new TypeError("invalid receiver");const n=_r("%Temporal.PlainTime%"),o=void 0===t?new n:ku(t),p=us(this),y=Re(p,Fr),l=Re(p,zr),u=Re(p,Yr),J=Re(this,Gn),X=Re(o,Ji),N=Re(o,qi),oe=Re(o,Ki),Ee=Re(o,Vi),Le=Re(o,zi),Pe=Re(o,Gi),Xe=Re(this,jo);return qs(Re(Qa(Xe,new(_r("%Temporal.PlainDateTime%"))(y,l,u,X,N,oe,Ee,Le,Pe,J),"compatible"),mi),Xe,J)}withTimeZone(t){if(!Gr(this))throw new TypeError("invalid receiver");const n=qa(t);return qs(Re(this,mi),n,Re(this,Gn))}withCalendar(t){if(!Gr(this))throw new TypeError("invalid receiver");const n=cd(t);return qs(Re(this,mi),Re(this,jo),n)}add(t,n){if(!Gr(this))throw new TypeError("invalid receiver");return KI("add",this,t,n)}subtract(t,n){if(!Gr(this))throw new TypeError("invalid receiver");return KI("subtract",this,t,n)}until(t,n){if(!Gr(this))throw new TypeError("invalid receiver");return Qy("until",this,t,n)}since(t,n){if(!Gr(this))throw new TypeError("invalid receiver");return Qy("since",this,t,n)}round(t){if(!Gr(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Pf("smallestUnit",t):po(t),o=x0(n),p=zl(n,"halfExpand"),y=ad(n,"smallestUnit","time",Op,["day"]),l={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[y];M0(o,l,1===l);const u=us(this);let J=Re(u,Fr),X=Re(u,zr),N=Re(u,Yr),oe=Re(u,Ji),Ee=Re(u,qi),Le=Re(u,Ki),Pe=Re(u,Vi),Xe=Re(u,zi),vt=Re(u,Gi);const Tt=_r("%Temporal.PlainDateTime%"),bt=Re(this,jo),wt=Re(this,Gn),Ct=Qa(bt,new Tt(Re(u,Fr),Re(u,zr),Re(u,Yr),0,0,0,0,0,0),"compatible"),Wt=Fd(Ct,bt,wt,0,0,0,1,0,0,0,0,0,0),Jt=It.subtract(Wt,It.BigInt(Re(Ct,mi)));if(It.lessThanOrEqual(Jt,Bo))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:J,month:X,day:N,hour:oe,minute:Ee,second:Le,millisecond:Pe,microsecond:Xe,nanosecond:vt}=nv(J,X,N,oe,Ee,Le,Pe,Xe,vt,o,y,p,It.toNumber(Jt))),qs(_h(J,X,N,oe,Ee,Le,Pe,Xe,vt,"option",zc(bt,Re(this,yc)),bt,"compatible","prefer",!1),bt,Re(this,Gn))}equals(t){if(!Gr(this))throw new TypeError("invalid receiver");const n=Bp(t),o=Re(this,mi),p=Re(n,mi);return!!It.equal(It.BigInt(o),It.BigInt(p))&&!!SI(Re(this,jo),Re(n,jo))&&Wy(Re(this,Gn),Re(n,Gn))}toString(t){if(!Gr(this))throw new TypeError("invalid receiver");const n=po(t),o=Uy(n),p=Fy(n),y=Ea(n,"offset",["auto","never"],"auto"),l=zl(n,"trunc"),u=ad(n,"smallestUnit","time",void 0);if("hour"===u)throw new RangeError('smallestUnit must be a time unit other than "hour"');const J=Ea(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:X,unit:N,increment:oe}=jy(u,p);return cl(this,X,o,J,y,{unit:N,increment:oe,roundingMode:l})}toLocaleString(t,n){if(!Gr(this))throw new TypeError("invalid receiver");const o=po(n),p=P5(null);if(Pp(p,o,["timeZone"]),void 0!==o.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===p.year&&void 0===p.month&&void 0===p.day&&void 0===p.weekday&&void 0===p.dateStyle&&void 0===p.hour&&void 0===p.minute&&void 0===p.second&&void 0===p.timeStyle&&void 0===p.dayPeriod&&void 0===p.timeZoneName&&(p.timeZoneName="short");let y=Gy(Re(this,jo));if(Hc(y))throw new RangeError("toLocaleString does not support offset string time zones");y=Jw(y),p.timeZone=y;const l=new ul(t,p),u=Qr(k5,l,[]).calendar,J=Ja(Re(this,Gn));if("iso8601"!==J&&"iso8601"!==u&&u!==J)throw new RangeError(`cannot format ZonedDateTime with calendar ${J} in locale with calendar ${u}`);return l.format(Re(this,yc))}toJSON(){if(!Gr(this))throw new TypeError("invalid receiver");return cl(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Gr(this))throw new TypeError("invalid receiver");const t=us(this),n=_r("%Temporal.PlainDateTime%"),o=Re(this,Gn),p=new n(Re(t,Fr),Re(t,zr),Re(t,Yr),0,0,0,0,0,0,o),y=Re(this,jo);return qs(Re(Qa(y,p,"compatible"),mi),y,o)}toInstant(){if(!Gr(this))throw new TypeError("invalid receiver");return new(_r("%Temporal.Instant%"))(Re(this,mi))}toPlainDate(){if(!Gr(this))throw new TypeError("invalid receiver");return zp(us(this))}toPlainTime(){if(!Gr(this))throw new TypeError("invalid receiver");return Yw(us(this))}toPlainDateTime(){if(!Gr(this))throw new TypeError("invalid receiver");return us(this)}toPlainYearMonth(){if(!Gr(this))throw new TypeError("invalid receiver");const t=Re(this,Gn);return zs(t,no(this,Es(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Gr(this))throw new TypeError("invalid receiver");const t=Re(this,Gn);return Vp(t,no(this,Es(t,["day","monthCode"]),[]))}getISOFields(){if(!Gr(this))throw new TypeError("invalid receiver");const t=us(this),n=Re(this,jo);return{calendar:Re(this,Gn),isoDay:Re(t,Yr),isoHour:Re(t,Ji),isoMicrosecond:Re(t,zi),isoMillisecond:Re(t,Vi),isoMinute:Re(t,qi),isoMonth:Re(t,zr),isoNanosecond:Re(t,Gi),isoSecond:Re(t,Ki),isoYear:Re(t,Fr),offset:wE(n,Re(this,yc)),timeZone:n}}getCalendar(){if(!Gr(this))throw new TypeError("invalid receiver");return Hy(Re(this,Gn))}getTimeZone(){if(!Gr(this))throw new TypeError("invalid receiver");return bE(Re(this,jo))}static from(t,n){const o=po(n);return Gr(t)?(E0(o),Kw(o,"reject"),Js(o),qs(Re(t,mi),Re(t,jo),Re(t,Gn))):Bp(t,o)}static compare(t,n){const o=Bp(t),p=Bp(n),y=Re(o,mi),l=Re(p,mi);return It.lessThan(It.BigInt(y),It.BigInt(l))?-1:It.greaterThan(It.BigInt(y),It.BigInt(l))?1:0}}function us(r){return Md(Re(r,jo),Re(r,yc),Re(r,Gn))}Fl(m_,"Temporal.ZonedDateTime");var q0=Object.freeze({__proto__:null,Calendar:Ms,Duration:Of,Instant:Wc,Now:XE,PlainDate:Xp,PlainDateTime:Jp,PlainMonthDay:f_,PlainTime:Dh,PlainYearMonth:qE,TimeZone:J0,ZonedDateTime:m_});const R5=[Wc,Ms,Xp,Jp,Of,f_,Dh,J0,qE,m_];for(const r of R5){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var mT=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ls{static sleep(t){return mT(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return mT(this,void 0,void 0,function*(){yield Ls.sleep(2)})}static getCurrentTimestamp(){return q0.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X}=t;return q0.ZonedDateTime.from({timeZone:"UTC",year:n,month:o,day:p,hour:y,minute:l,second:u,millisecond:J,microsecond:X}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const o=n?q0.Instant.from(n):q0.Now.instant(),p=q0.Duration.from(t);return o.add(p).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{q0.Instant.from(t)}catch{throw new te(de.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var xa=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Co{get message(){if(void 0===this._message.authorization)throw new te(de.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return Ar.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return Ar.isSignedByOwnerDelegate(this._message)}get signer(){return Ar.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:zo.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=eo.getAuthor(t),this._signaturePayload=zo.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?Ar.getSigner(t.authorization.ownerDelegatedGrant):zo.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=zo.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=Co.getAttesters(t)}static parse(t){return xa(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield Ar.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield Ar.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield Co.validateAttestationIntegrity(n);const o=new Co(n);return yield o.validateIntegrity(),o})}static create(t){var n,o,p,y;return xa(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new te(de.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new te(de.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new te(de.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new te(de.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const l=null!==(n=t.dataCid)&&void 0!==n?n:yield gc.computeDagPbCidFromBytes(t.data),u=null!==(o=t.dataSize)&&void 0!==o?o:t.data.length,J=Ls.getCurrentTimestamp(),X={interface:Fi.Records,method:ii.Write,protocol:void 0!==t.protocol?Dp(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?Py(t.schema):void 0,tags:t.tags,parentId:Co.getRecordIdFromContextId(t.parentContextId),dataCid:l,dataSize:u,dateCreated:null!==(p=t.dateCreated)&&void 0!==p?p:J,messageTimestamp:null!==(y=t.messageTimestamp)&&void 0!==y?y:J,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&(X.datePublished=J),Lc(X);const N=t.recordId,oe=yield gc.computeCid(X),Ee=yield Co.createAttestation(oe,t.attestationSigners),Le=yield Co.createEncryptionProperty(X,t.encryptionInput),Pe={recordId:N,descriptor:X};void 0!==Ee&&(Pe.attestation=Ee),void 0!==Le&&(Pe.encryption=Le);const Xe=new Co(Pe,t.parentContextId);return void 0!==t.signer&&(yield Xe.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),Xe})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,o,p,y;return xa(this,void 0,void 0,function*(){const l=t.recordsWriteMessage,u=yield Co.parse(l),J=Ls.getCurrentTimestamp(),X=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||l.descriptor.published;let N;t.datePublished?N=t.datePublished:X&&(N=l.descriptor.published?l.descriptor.datePublished:J);const oe={recipient:l.descriptor.recipient,recordId:l.recordId,dateCreated:l.descriptor.dateCreated,protocol:l.descriptor.protocol,protocolPath:l.descriptor.protocolPath,schema:l.descriptor.schema,parentContextId:eo.getParentContextFromOfContextId(l.contextId),messageTimestamp:null!==(o=t.messageTimestamp)&&void 0!==o?o:J,published:X,datePublished:N,tags:t.tags,data:t.data,dataCid:t.data?void 0:l.descriptor.dataCid,dataSize:t.data?void 0:l.descriptor.dataSize,dataFormat:null!==(p=t.dataFormat)&&void 0!==p?p:l.descriptor.dataFormat,protocolRole:null!==(y=t.protocolRole)&&void 0!==y?y:u.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield Co.create(oe)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return xa(this,void 0,void 0,function*(){this._message.encryption=yield Co.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return xa(this,void 0,void 0,function*(){const{signer:o,delegatedGrant:p,permissionGrantId:y,protocolRole:l}=t;let u,J;void 0!==p?(u=yield Ar.getCid(p),J=zo.getSignerDid(p.authorization.signature.signatures[0])):J=zo.extractDid(o.keyId);const X=this._message.descriptor,N=yield gc.computeCid(X);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield Co.getEntryId(J,X),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const oe=yield Co.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:N,attestation:this._message.attestation,encryption:this._message.encryption,signer:o,delegatedGrantId:u,permissionGrantId:y,protocolRole:l});this._message.authorization={signature:oe},void 0!==p&&(this._message.authorization.authorDelegatedGrant=p),this._signaturePayload=zo.decodePlainObjectPayload(oe),this._author=J})}signAsOwner(t){return xa(this,void 0,void 0,function*(){if(void 0===this._author)throw new te(de.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,o=yield Ar.createSignature(n,t);this._message.authorization.ownerSignature=o,this._ownerSignaturePayload=zo.decodePlainObjectPayload(o),this._owner=zo.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return xa(this,void 0,void 0,function*(){if(void 0===this._author)throw new te(de.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const o=yield Ar.getCid(n),p=this._message.descriptor,y=yield Ar.createSignature(p,t,{delegatedGrantId:o});this._message.authorization.ownerSignature=y,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=zo.decodePlainObjectPayload(y),this._owner=zo.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return xa(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const o=this.message.descriptor.dateCreated,p=this.message.descriptor.messageTimestamp;if(p!==o)throw new te(de.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${p} must match dateCreated ${o} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const y=yield this.getEntryId();if(this.message.contextId!==y)throw new te(de.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${y}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new te(de.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new te(de.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield eo.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const o=yield gc.computeCid(this.message.attestation),p=n.attestationCid;if(p!==o)throw new te(de.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${o} of attestation property in message does not match attestationCid in authorization: ${p}`)}if(void 0!==n.encryptionCid){const o=yield gc.computeCid(this.message.encryption),p=n.encryptionCid;if(p!==o)throw new te(de.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${o} of encryption property in message does not match encryptionCid in authorization: ${p}`)}void 0!==this.message.descriptor.protocol&&mh(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&Ip(this.message.descriptor.schema),Ls.validateTimestamp(this.message.descriptor.messageTimestamp),Ls.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&Ls.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return xa(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new te(de.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=zo.decodePlainObjectPayload(t.attestation),{descriptorCid:o}=n,p=yield gc.computeCid(t.descriptor);if(o!==p)throw new te(de.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${o} does not match expected descriptorCid ${p}`);const y=Object.keys(n).length;if(y>1)throw new te(de.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${y} properties.`)})}getEntryId(){return xa(this,void 0,void 0,function*(){return yield Co.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return xa(this,void 0,void 0,function*(){if(void 0===t)throw new te(de.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const o=Object.assign({},n);return o.author=t,yield gc.computeCid(o)})}isInitialWrite(){return xa(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return xa(this,void 0,void 0,function*(){const n=this.message,o=n.descriptor,{tags:p}=o,y=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(o,["tags"]);delete y.published;let l=Object.assign(Object.assign({},y),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield Co.getEntryId(this.author,this.message.descriptor)});if(void 0!==p&&!0===t){const u=eo.buildTagIndexes(Object.assign({},p));l=Object.assign(Object.assign({},l),u)}return this.attesters.length>0&&(l.attester=this.attesters[0]),void 0!==n.contextId&&(l.contextId=n.contextId),l})}authorizeAuthorDelegate(t){return xa(this,void 0,void 0,function*(){const n=yield Ul.parse(this.message.authorization.authorDelegatedGrant);yield Uc.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return xa(this,void 0,void 0,function*(){const n=yield Ul.parse(this.message.authorization.ownerDelegatedGrant);yield Uc.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return xa(this,void 0,void 0,function*(){if(t.descriptor.interface!==Fi.Records||t.descriptor.method!==ii.Write)return!1;const n=t,o=eo.getAuthor(n);return(yield Co.getEntryId(o,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var o,p;return xa(this,void 0,void 0,function*(){if(void 0===n)return;const y=[];for(const u of n.keyEncryptionInputs){if(u.derivationScheme===Ld.ProtocolPath&&void 0===t.protocol)throw new te(de.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(u.derivationScheme===Ld.Schemas&&void 0===t.schema)throw new te(de.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const J=fe.publicJwkToBytes(u.publicKey),X=yield d0.eciesSecp256k1Encrypt(J,n.key),N=he.bytesToBase64Url(X.ciphertext),oe=yield fe.publicKeyToJwk(X.ephemeralPublicKey),Ee=he.bytesToBase64Url(X.initializationVector),Le=he.bytesToBase64Url(X.messageAuthenticationCode),Pe={rootKeyId:u.publicKeyId,algorithm:null!==(o=u.algorithm)&&void 0!==o?o:Ew.EciesSecp256k1,derivationScheme:u.derivationScheme,ephemeralPublicKey:oe,initializationVector:Ee,messageAuthenticationCode:Le,encryptedKey:N};u.derivationScheme===Ld.ProtocolContext&&(Pe.derivedPublicKey=u.publicKey),y.push(Pe)}return{algorithm:null!==(p=n.algorithm)&&void 0!==p?p:Ew.Aes256Ctr,initializationVector:he.bytesToBase64Url(n.initializationVector),keyEncryption:y}})}static createAttestation(t,n){return xa(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const p=he.objectToBytes({descriptorCid:t});return(yield l0.create(p,n)).getJws()})}static createSignerSignature(t){return xa(this,void 0,void 0,function*(){const{recordId:n,contextId:o,descriptorCid:p,attestation:y,encryption:l,signer:u,delegatedGrantId:J,permissionGrantId:X,protocolRole:N}=t,Le={recordId:n,descriptorCid:p,contextId:o,attestationCid:y?yield gc.computeCid(y):void 0,encryptionCid:l?yield gc.computeCid(l):void 0,delegatedGrantId:J,permissionGrantId:X,protocolRole:N};Lc(Le);const Pe=he.objectToBytes(Le);return(yield l0.create(Pe,[u])).getJws()})}static getInitialWrite(t){return xa(this,void 0,void 0,function*(){for(const n of t)if(yield Co.isInitialWrite(n))return n;throw new te(de.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const o=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let p=[];p.push(...Object.keys(t.descriptor)),p.push(...Object.keys(n.descriptor)),p=[...new Set(p)];for(const y of p)if(-1===o.indexOf(y)){const l=t.descriptor[y],u=n.descriptor[y];if(u!==l)throw new te(de.RecordsWriteImmutablePropertyChanged,`${y} is an immutable property: cannot change '${l}' to '${u}'`)}return!0}static getAttesters(t){var n,o;return(null!==(o=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==o?o:[]).map(l=>zo.getSignerDid(l))}static fetchInitialRecordsWrite(t,n,o){return xa(this,void 0,void 0,function*(){const p={entryId:o},{messages:y}=yield t.query(n,[p]);return 0===y.length?void 0:yield Co.parse(y[0])})}}var QE=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function fl(r,t){return QE(this,void 0,void 0,function*(){if(void 0===r)throw new te(de.AuthenticateJwsMissing,"Missing JWS.");if(yield Zo.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield Zo.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield Co.parse(r.authorDelegatedGrant);yield Zo.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield Co.parse(r.ownerDelegatedGrant);yield Zo.verifySignatures(n.message.authorization.signature,t)}})}function Q0(r,t){return QE(this,void 0,void 0,function*(){if(t.author!==r)throw new te(de.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}class yT{isActiveTenant(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class ql{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=Ar.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?Ar.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=zo.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var g_=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class eg extends ql{static parse(t){return g_(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===Ud.PublishedAscending||t.descriptor.dateSort===Ud.PublishedDescending))throw new te(de.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield Ar.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield eo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new te(de.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&mh(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&Ip(t.descriptor.filter.schema),Ls.validateTimestamp(t.descriptor.messageTimestamp),new eg(t)})}static create(t){var n;return g_(this,void 0,void 0,function*(){const o={interface:Fi.Records,method:ii.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp(),filter:eo.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===Ud.PublishedAscending||t.dateSort===Ud.PublishedDescending))throw new te(de.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);Lc(o);const p=t.signer;let y;p&&(y=yield Ar.createAuthorization({descriptor:o,signer:p,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const l={descriptor:o,authorization:y};return Ar.validateJsonSchema(l),new eg(l)})}authorizeDelegate(t){return g_(this,void 0,void 0,function*(){const n=yield Ul.parse(this.message.authorization.authorDelegatedGrant);yield Uc.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var ex=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Nf{static toBytes(t){return ex(this,void 0,void 0,function*(){return new Promise((n,o)=>{const p=[];t.on("data",y=>{p.push(y)}),t.on("end",()=>{const y=Nf.concatenateArrayOfBytes(p);n(y)}),t.on("error",o)})})}static toObject(t){return ex(this,void 0,void 0,function*(){const n=yield Nf.toBytes(t);return he.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((y,l)=>y+l.length,0),o=new Uint8Array(n);let p=0;for(const y of t)o.set(y,p),p+=y.length;return o}static fromBytes(t){let o=0;return new Cy.Readable({read(y){o+1e5>t.length?(this.push(t.subarray(o)),this.push(null)):(this.push(t.subarray(o,o+1e5)),o+=1e5)}})}static fromObject(t){const n=he.objectToBytes(t);return Nf.fromBytes(n)}static duplicateDataStream(t,n){const o=[];for(let p=0;p<n;p++){const y=new Cy.PassThrough;t.pipe(y),o.push(y)}return o}}var tx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class dv extends ql{static parse(t){return tx(this,void 0,void 0,function*(){return Ar.validateJsonSchema(t),yield Ar.validateSignatureStructure(t.authorization.signature,t.descriptor),Ls.validateTimestamp(t.descriptor.messageTimestamp),new dv(t)})}static create(t){var n;return tx(this,void 0,void 0,function*(){const o={interface:Fi.Events,method:ii.Get,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp()};t.cursor&&(o.cursor=t.cursor);const y={descriptor:o,authorization:yield Ar.createAuthorization({descriptor:o,signer:t.signer})};return Ar.validateJsonSchema(y),new dv(y)})}}function fs(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class y_{constructor(t,n){this.didResolver=t,this.eventLog=n}handle({tenant:t,message:n}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let o;try{o=yield dv.parse(n)}catch(u){return fs(u,400)}try{yield fl(n.authorization,this.didResolver),yield Q0(t,o)}catch(u){return fs(u,401)}const{cursor:p}=n.descriptor,{events:y,cursor:l}=yield this.eventLog.getEvents(t,p);return{status:{code:200,detail:"OK"},entries:y,cursor:l}})}}class v_{static normalizeFilters(t){const n=[];for(const o of t){let p;p=this.isRecordsFilter(o)?eo.normalizeFilter(o):o,Lc(p),Mw(p)||n.push(p)}return n}static convertFilters(t){const n=[];for(const o of t)this.isRecordsFilter(o)?n.push(eo.convertFilter(o)):n.push(this.convertFilter(o));return n}static convertFilter(t){const n=Object.assign({},t),{dateUpdated:o}=t,p=o?od.convertRangeCriterion(o):void 0;return p&&(n.messageTimestamp=p,delete n.dateUpdated),n}static isRecordsFilter(t){return"author"in t||"dateCreated"in t||"dataFormat"in t||"dataSize"in t||"parentId"in t||"recordId"in t||"schema"in t||"protocol"in t||"protocolPath"in t||"recipient"in t}}var rx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class tg extends ql{static parse(t){return rx(this,void 0,void 0,function*(){Ar.validateJsonSchema(t),yield Ar.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&mh(n.protocol),"schema"in n&&void 0!==n.schema&&Ip(n.schema);return new tg(t)})}static create(t){var n;return rx(this,void 0,void 0,function*(){const o={interface:Fi.Events,method:ii.Query,filters:v_.normalizeFilters(t.filters),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp(),cursor:t.cursor};Lc(o);const y={descriptor:o,authorization:yield Ar.createAuthorization({descriptor:o,signer:t.signer})};return Ar.validateJsonSchema(y),new tg(y)})}}class bT{constructor(t,n){this.didResolver=t,this.eventLog=n}handle({tenant:t,message:n}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let o;try{o=yield tg.parse(n)}catch(u){return fs(u,400)}try{yield fl(n.authorization,this.didResolver),yield Q0(t,o)}catch(u){return fs(u,401)}const p=v_.convertFilters(n.descriptor.filters),{events:y,cursor:l}=yield this.eventLog.queryEvents(t,p,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:y,cursor:l}})}}var ix=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class ng extends ql{static parse(t){return ix(this,void 0,void 0,function*(){Ar.validateJsonSchema(t),yield Ar.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&mh(n.protocol),"schema"in n&&void 0!==n.schema&&Ip(n.schema);return Ls.validateTimestamp(t.descriptor.messageTimestamp),new ng(t)})}static create(t){var n,o;return ix(this,void 0,void 0,function*(){const p=Ls.getCurrentTimestamp(),y={interface:Fi.Events,method:ii.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(o=t.messageTimestamp)&&void 0!==o?o:p};Lc(y);const u={descriptor:y,authorization:yield Ar.createAuthorization({descriptor:y,signer:t.signer})};return Ar.validateJsonSchema(u),new ng(u)})}}class ox{constructor(t,n){this.didResolver=t,this.eventStream=n}handle({tenant:t,message:n,subscriptionHandler:o}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if(void 0===this.eventStream)return fs(new te(de.EventsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let p;try{p=yield ng.parse(n)}catch(N){return fs(N,400)}try{yield fl(n.authorization,this.didResolver),yield Q0(t,p)}catch(N){return fs(N,401)}const{filters:y}=n.descriptor,l=v_.convertFilters(y),u=yield Ar.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,u,(N,oe,Ee)=>{t===N&&od.matchAnyFilter(Ee,l)&&o(oe)})}})}}var sx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ih extends ql{static parse(t){return sx(this,void 0,void 0,function*(){return Ar.validateJsonSchema(t),this.validateMessageCids(t.descriptor.messageCids),yield Ar.validateSignatureStructure(t.authorization.signature,t.descriptor),Ls.validateTimestamp(t.descriptor.messageTimestamp),new Ih(t)})}static create(t){var n;return sx(this,void 0,void 0,function*(){const o={interface:Fi.Messages,method:ii.Get,messageCids:t.messageCids,messageTimestamp:null!==(n=t?.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp()},y={descriptor:o,authorization:yield Ar.createAuthorization({descriptor:o,signer:t.signer})};return Ar.validateJsonSchema(y),Ih.validateMessageCids(t.messageCids),new Ih(y)})}static validateMessageCids(t){for(const n of t)try{gc.parseCid(n)}catch{throw new te(de.MessageGetInvalidCid,`${n} is not a valid CID`)}}}class N5{constructor(t,n,o){this.didResolver=t,this.messageStore=n,this.dataStore=o}handle({tenant:t,message:n}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let o;try{o=yield Ih.parse(n)}catch(u){return fs(u,400)}try{yield fl(n.authorization,this.didResolver),yield Q0(t,o)}catch(u){return fs(u,401)}const p=[],y=new Set(n.descriptor.messageCids);for(const u of y){const J=this.messageStore.get(t,u).then(X=>({messageCid:u,message:X})).catch(X=>({messageCid:u,message:void 0,error:`Failed to get message ${u}`}));p.push(J)}const l=yield Promise.all(p);for(const u of l){const{message:J}=u;if(!J)continue;const{interface:X,method:N}=J.descriptor;if(X!==Fi.Records||N!==ii.Write)continue;const oe=J;void 0!==oe.encodedData&&(u.encodedData=oe.encodedData,delete oe.encodedData)}return{status:{code:200,detail:"OK"},entries:l}})}}var ET=E(20844),rg=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(rg||{}),Ma=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(Ma||{}),b_=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class ld extends ql{static parse(t){return b_(this,void 0,void 0,function*(){return Ar.validateJsonSchema(t),ld.validateProtocolDefinition(t.descriptor.definition),yield Ar.validateSignatureStructure(t.authorization.signature,t.descriptor),Ls.validateTimestamp(t.descriptor.messageTimestamp),new ld(t)})}static create(t){var n;return b_(this,void 0,void 0,function*(){const o={interface:Fi.Protocols,method:ii.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp(),definition:ld.normalizeDefinition(t.definition)},y={descriptor:o,authorization:yield Ar.createAuthorization({descriptor:o,signer:t.signer,permissionGrantId:t.permissionGrantId})};return Ar.validateJsonSchema(y),ld.validateProtocolDefinition(y.descriptor.definition),new ld(y)})}static validateProtocolDefinition(t){const{protocol:n,types:o}=t;mh(n);for(const p in o){const y=o[p].schema;void 0!==y&&Ip(y)}ld.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),o=ld.fetchAllRolePathsRecursively("",t.structure,[]);ld.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:o})}static fetchAllRolePathsRecursively(t,n,o){if(t.split("/").length>10)throw new te(de.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const p in n){if(p.startsWith("$"))continue;const y=n[p];let l;l=""===t?p:`${t}/${p}`,y.$role?o.push(l):ld.fetchAllRolePathsRecursively(l,y,o)}return o}static validateRuleSetRecursively(t){var n;const{ruleSet:o,ruleSetProtocolPath:p,recordTypes:y,roles:l}=t;if(void 0!==o.$size){const{min:J=0,max:X}=o.$size;if(void 0!==X&&X<J)throw new te(de.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${X} less than min limit ${J} at protocol path '${p}'`)}if(o.$tags){const J=new ET.default,Ee=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(o.$tags,["$allowUndefinedTags","$requiredTags"]);for(const Le in Ee)if(!J.validateSchema(Ee[Le])){const Xe=J.errorsText(J.errors,{dataVar:`${p}/$tags/${Le}`});throw new te(de.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${Xe}`)}}const u=null!==(n=o.$actions)&&void 0!==n?n:[];for(let J=0;J<u.length;J++){const X=u[J];if(void 0!==X.role&&!l.includes(X.role))throw new te(de.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify(X)} for rule set ${p} does not exist.`);if("anyone"===X.who&&X.of)throw new te(de.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${p})`);if(X.who===rg.Recipient&&void 0===X.of&&X.can.some(oe=>![Ma.CoUpdate,Ma.CoDelete,Ma.CoPrune].includes(oe)))throw new te(de.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if(X.who===rg.Author&&!X.of)throw new te(de.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==X.can){if(X.can.includes(Ma.Update)&&!X.can.includes(Ma.Create))throw new te(de.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify(X)} contains 'update' action but missing the required 'create' action.`);if(X.can.includes(Ma.Delete)&&!X.can.includes(Ma.Create))throw new te(de.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify(X)} contains 'delete' action but missing the required 'create' action.`)}for(let N=J+1;N<u.length;N++){const oe=u[N];if(void 0!==X.who){if(X.who===oe.who&&X.of===oe.of)throw new te(de.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${X.who} of ${X.of} not allowed within a rule set: ${JSON.stringify(X)}`)}else if(X.role===oe.role)throw new te(de.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${X.role} not allowed within a rule set: ${JSON.stringify(X)}`)}}for(const J in o){if(J.startsWith("$"))continue;if(!y.includes(J))throw new te(de.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${J} is not declared as an allowed type in the protocol definition.`);let N;N=""===p?J:`${p}/${J}`,ld.validateRuleSetRecursively({ruleSet:o[J],ruleSetProtocolPath:N,recordTypes:y,roles:l})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const o in n){const p=n[o].schema;void 0!==p&&(n[o].schema=Py(p))}return Object.assign(Object.assign({},t),{protocol:Dp(t.protocol),types:n})}}class lv{constructor(t,n,o,p){this.didResolver=t,this.messageStore=n,this.eventLog=o,this.eventStream=p}handle({tenant:t,message:n}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let o;try{o=yield ld.parse(n)}catch(N){return fs(N,400)}try{yield fl(n.authorization,this.didResolver),yield Q0(t,o)}catch(N){return fs(N,401)}const p={interface:Fi.Protocols,method:ii.Configure,protocol:n.descriptor.definition.protocol},{messages:y}=yield this.messageStore.query(t,[p]);let J,l=yield Ar.getNewestMessage(y),u=!1;if((void 0===l||(yield Ar.isNewer(n,l)))&&(u=!0,l=n),u){const N=lv.constructIndexes(o);yield this.messageStore.put(t,n,N);const oe=yield Ar.getCid(n);yield this.eventLog.append(t,oe,N),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},N),J={status:{code:202,detail:"Accepted"}}}else J={status:{code:409,detail:"Conflict"}};const X=[];for(const N of y)if(yield Ar.isNewer(l,N)){const oe=yield Ar.getCid(N);X.push(oe),yield this.messageStore.delete(t,oe)}return yield this.eventLog.deleteEventsByCid(t,X),J})}static constructIndexes(t){const n=t.message.descriptor,{definition:o}=n,p=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(n,["definition"]),{author:y}=t;return Object.assign(Object.assign({},p),{author:y,protocol:o.protocol,published:o.published})}}var w_=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class rs{static parseRequest(t){return he.base64UrlToObject(t)}static createRequest(t){return w_(this,void 0,void 0,function*(){const n=rs.normalizePermissionScope(t.scope),o={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions},p=he.objectToBytes(o);return{recordsWrite:yield Co.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:rs.uri,protocolPath:rs.requestPath,dataFormat:"application/json",data:p}),permissionRequestData:o,permissionRequestBytes:p}})}static createGrant(t){return w_(this,void 0,void 0,function*(){const n=rs.normalizePermissionScope(t.scope),o={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions},p=he.objectToBytes(o),y=yield Co.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:rs.uri,protocolPath:rs.grantPath,dataFormat:"application/json",data:p});return{recordsWrite:y,permissionGrantData:o,permissionGrantBytes:p,dataEncodedMessage:Object.assign(Object.assign({},y.message),{encodedData:he.bytesToBase64Url(p)})}})}static createRevocation(t){return w_(this,void 0,void 0,function*(){const n={description:t.description},o=he.objectToBytes(n);return{recordsWrite:yield Co.create({signer:t.signer,parentContextId:t.grantId,protocol:rs.uri,protocolPath:rs.revocationPath,dataFormat:"application/json",data:o}),permissionRevocationData:n,permissionRevocationBytes:o}})}static validateSchema(t,n){const o=he.bytesToString(n),p=JSON.parse(o);if(t.descriptor.protocolPath===rs.requestPath)Ri("PermissionRequestData",p);else if(t.descriptor.protocolPath===rs.grantPath){Ri("PermissionGrantData",p);const y=p;rs.validateScope(y.scope),Ls.validateTimestamp(y.dateExpires)}else{if(t.descriptor.protocolPath!==rs.revocationPath)throw new te(de.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);Ri("PermissionRevocationData",p)}}static fetchGrant(t,n,o){return w_(this,void 0,void 0,function*(){const p={recordId:o,isLatestBaseState:!0},{messages:y}=yield n.query(t,[p]),l=y[0],u=l?.descriptor.interface,J=l?.descriptor.method;if(u!==Fi.Records||J!==ii.Write||l.descriptor.protocolPath!==rs.grantPath)throw new te(de.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${o}.`);const X=l;return yield Ul.parse(X)})}static normalizePermissionScope(t){const n=Object.assign({},t);return rs.isRecordPermissionScope(n)&&(void 0!==n.protocol&&(n.protocol=Dp(n.protocol)),void 0!==n.schema&&(n.schema=Py(n.schema))),n}static isRecordPermissionScope(t){return"Records"===t.interface}static validateScope(t){if(this.isRecordPermissionScope(t)){if(void 0!==t.schema&&(void 0!==t.protocol||void 0!==t.contextId||t.protocolPath))throw new te(de.PermissionsProtocolValidateScopeSchemaProhibitedProperties,"Permission grants that have `schema` present cannot also have protocol-related properties present");if(void 0!==t.protocol&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new te(de.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}}rs.uri="https://tbd.website/dwn/permissions",rs.requestPath="request",rs.grantPath="grant",rs.revocationPath="grant/revocation",rs.definition={published:!0,protocol:rs.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};var ax=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class qp extends ql{static parse(t){return ax(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield Ar.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&mh(t.descriptor.filter.protocol),Ls.validateTimestamp(t.descriptor.messageTimestamp),new qp(t)})}static create(t){var n;return ax(this,void 0,void 0,function*(){const o={interface:Fi.Protocols,method:ii.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp(),filter:t.filter?qp.normalizeFilter(t.filter):void 0};let p;Lc(o),void 0!==t.signer&&(p=yield Ar.createAuthorization({descriptor:o,signer:t.signer,permissionGrantId:t.permissionGrantId}));const y={descriptor:o,authorization:p};return Ar.validateJsonSchema(y),new qp(y)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:Dp(t.protocol)})}authorize(t,n){return ax(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new te(de.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const o=yield rs.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield gh.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:o,messageStore:n})}}})}}var MT=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class U5{constructor(t,n,o){this.didResolver=t,this.messageStore=n,this.dataStore=o}handle({tenant:t,message:n}){return MT(this,void 0,void 0,function*(){let o;try{o=yield qp.parse(n)}catch(l){return fs(l,400)}try{yield fl(n.authorization,this.didResolver),yield o.authorize(t,this.messageStore)}catch(l){return l.code===de.AuthenticateJwsMissing||l.code===de.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,o)}:fs(l,401)}const p=Object.assign(Object.assign({},n.descriptor.filter),{interface:Fi.Protocols,method:ii.Configure});Lc(p);const{messages:y}=yield this.messageStore.query(t,[p]);return{status:{code:200,detail:"OK"},entries:y}})}fetchPublishedProtocolsConfigure(t,n){return MT(this,void 0,void 0,function*(){const o=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:Fi.Protocols,method:ii.Configure,published:!0}),{messages:p}=yield this.messageStore.query(t,[o]);return p})}}var Mc=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class io{static validateReferentialIntegrity(t,n,o){return Mc(this,void 0,void 0,function*(){const p=yield io.fetchProtocolDefinition(t,n.message.descriptor.protocol,o);io.verifyType(n.message,p.types),yield io.verifyProtocolPathAndContextId(t,n,o);const y=io.getRuleSet(n.message.descriptor.protocolPath,p);yield io.verifyAsRoleRecordIfNeeded(t,n,y,o),io.verifySizeLimit(n,y),io.verifyTagsIfNeeded(n,y)})}static authorizeWrite(t,n,o){return Mc(this,void 0,void 0,function*(){let y;y=void 0===(yield io.fetchInitialWrite(t,n.message.recordId,o))?yield io.constructRecordChain(t,n.message.descriptor.parentId,o):yield io.constructRecordChain(t,n.message.recordId,o);const l=yield io.fetchProtocolDefinition(t,n.message.descriptor.protocol,o),u=io.getRuleSet(n.message.descriptor.protocolPath,l);yield io.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,l,o),yield io.authorizeAgainstAllowedActions(t,n,u,y,o)})}static authorizeRead(t,n,o,p){return Mc(this,void 0,void 0,function*(){const y=yield io.constructRecordChain(t,o.message.recordId,p),l=yield io.fetchProtocolDefinition(t,o.message.descriptor.protocol,p),u=io.getRuleSet(o.message.descriptor.protocolPath,l);yield io.verifyInvokedRole(t,n,o.message.descriptor.protocol,o.message.contextId,l,p),yield io.authorizeAgainstAllowedActions(t,n,u,y,p)})}static authorizeQueryOrSubscribe(t,n,o){return Mc(this,void 0,void 0,function*(){const{protocol:p,protocolPath:y,contextId:l}=n.message.descriptor.filter,u=yield io.fetchProtocolDefinition(t,p,o),J=io.getRuleSet(y,u);yield io.verifyInvokedRole(t,n,p,l,u,o),yield io.authorizeAgainstAllowedActions(t,n,J,[],o)})}static authorizeDelete(t,n,o,p){return Mc(this,void 0,void 0,function*(){const y=yield io.constructRecordChain(t,n.message.descriptor.recordId,p),l=yield io.fetchProtocolDefinition(t,o.message.descriptor.protocol,p),u=io.getRuleSet(o.message.descriptor.protocolPath,l);yield io.verifyInvokedRole(t,n,o.message.descriptor.protocol,o.message.contextId,l,p),yield io.authorizeAgainstAllowedActions(t,n,u,y,p)})}static fetchProtocolDefinition(t,n,o){return Mc(this,void 0,void 0,function*(){if(n===rs.uri)return rs.definition;const p={interface:Fi.Protocols,method:ii.Configure,protocol:n},{messages:y}=yield o.query(t,[p]);if(0===y.length)throw new te(de.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return y[0].descriptor.definition})}static constructRecordChain(t,n,o){return Mc(this,void 0,void 0,function*(){if(void 0===n)return[];const p=[];let y=n;for(;void 0!==y;){const l=yield io.fetchInitialWrite(t,y,o);if(void 0===l)throw new te(de.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${y} when constructing record chain.`);p.push(l),y=l.descriptor.parentId}return p.reverse()})}static fetchInitialWrite(t,n,o){return Mc(this,void 0,void 0,function*(){const p={interface:Fi.Records,method:ii.Write,recordId:n},{messages:y}=yield o.query(t,[p]);return 0===y.length?void 0:yield Co.getInitialWrite(y)})}static getRuleSet(t,n){const o=io.getRuleSetAtProtocolPath(t,n);if(void 0===o)throw new te(de.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return o}static verifyProtocolPathAndContextId(t,n,o){var p;return Mc(this,void 0,void 0,function*(){const y=n.message.descriptor.protocolPath,l=io.getTypeName(y),u=n.message.descriptor.parentId;if(void 0===u){if(y!==l)throw new te(de.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${y}' is not valid for records with no parent'.`);return}const X={isLatestBaseState:!0,interface:Fi.Records,method:ii.Write,protocol:n.message.descriptor.protocol,recordId:u},{messages:N}=yield o.query(t,[X]),oe=N[0];if(`${null===(p=oe?.descriptor)||void 0===p?void 0:p.protocolPath}/${l}`!==y)throw new te(de.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${y}'.`);const Pe=`${oe.contextId}/${n.message.recordId}`,Xe=n.message.contextId;if(Xe!==Pe)throw new te(de.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${Xe}' is not the same as expected: '${Pe}'.`)})}static verifyType(t,n){const o=Object.keys(n),y=io.getTypeName(t.descriptor.protocolPath);if(!o.includes(y))throw new te(de.ProtocolAuthorizationInvalidType,`record with type ${y} not allowed in protocol`);const u=io.getTypeName(t.descriptor.protocolPath),J=n[u],{schema:X}=t.descriptor;if(void 0!==J.schema&&J.schema!==X)throw new te(de.ProtocolAuthorizationInvalidSchema,`type '${u}' must have schema '${J.schema}',         instead has '${X}'`);const{dataFormat:N}=t.descriptor;if(void 0!==J.dataFormats&&!J.dataFormats.includes(N))throw new te(de.ProtocolAuthorizationIncorrectDataFormat,`type '${u}' must have data format in (${J.dataFormats}),         instead has '${N}'`)}static verifyInvokedRole(t,n,o,p,y,l){var u;return Mc(this,void 0,void 0,function*(){const J=null===(u=n.signaturePayload)||void 0===u?void 0:u.protocolRole;if(void 0===J)return;const X=io.getRuleSetAtProtocolPath(J,y);if(void 0===X||!X.$role)throw new te(de.ProtocolAuthorizationNotARole,`Protocol path ${J} does not match role record type.`);const N={interface:Fi.Records,method:ii.Write,protocol:o,protocolPath:J,recipient:n.author,isLatestBaseState:!0},oe=J.split("/").length-1;if(void 0===p&&oe>0)throw new te(de.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(oe>0){const Pe=p.split("/").slice(0,oe).join("/"),Xe=od.constructPrefixFilterAsRangeFilter(Pe);N.contextId=Xe}const{messages:Ee}=yield l.query(t,[N]);if(0===Ee.length)throw new te(de.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${J}`)})}static getActionsSeekingARuleMatch(t,n,o){return Mc(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case ii.Delete:const p=n,y=p.message.descriptor.recordId,l=yield Co.fetchInitialRecordsWrite(o,t,y);if(void 0===l)return[];const u=[];return p.message.descriptor.prune?(u.push(Ma.CoPrune),n.author===l.author&&u.push(Ma.Prune)):(u.push(Ma.CoDelete),n.author===l.author&&u.push(Ma.Delete)),u;case ii.Query:return[Ma.Query];case ii.Read:return[Ma.Read];case ii.Subscribe:return[Ma.Subscribe];case ii.Write:if(yield n.isInitialWrite())return[Ma.Create];{const N=n.message.recordId,oe=yield Co.fetchInitialRecordsWrite(o,t,N);return void 0===oe?[]:n.author===oe.author?[Ma.CoUpdate,Ma.Update]:[Ma.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,o,p,y){var l;return Mc(this,void 0,void 0,function*(){const u=n.message.descriptor.method,J=yield io.getActionsSeekingARuleMatch(t,n,y),X=n.author,N=o.$actions;if(void 0===N)throw new te(de.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${u}, ${X} is unauthorized`);const oe=null===(l=n.signaturePayload)||void 0===l?void 0:l.protocolRole;for(const Ee of N)if(Ee.can.some(Xe=>J.includes(Xe))){if(Ee.who===rg.Anyone)return;if(void 0!==X)if(void 0===oe)if(Ee.who!==rg.Recipient||void 0!==Ee.of){if(yield io.checkActor(X,Ee,p))return}else{let Xe;if(Xe=n.message.descriptor.method===ii.Write?n.message:p[p.length-1],Xe.descriptor.recipient===X)return}else if(Ee.role===oe)return}throw new te(de.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${u} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:o=0,max:p}=n.$size||{},y=t.message.descriptor.dataSize;if(y<o)throw new te(de.ProtocolAuthorizationMinSizeInvalid,`data size ${y} is less than allowed ${o}`);if(void 0!==p&&y>p)throw new te(de.ProtocolAuthorizationMaxSizeInvalid,`data size ${y} is more than allowed ${p}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:o={},protocol:p,protocolPath:y}=t.message.descriptor,l=n.$tags,{$allowUndefinedTags:u,$requiredTags:J}=l,X=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(l,["$allowUndefinedTags","$requiredTags"]),N=u||!1,oe=J||[],Ee=new ET.default,Le=Ee.compile({type:"object",properties:X,required:oe,additionalProperties:N});if(!Le(o)){const Xe=Ee.errorsText(Le.errors,{dataVar:`${p}/${y}/$tags`});throw new te(de.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${Xe}`)}}}static verifyAsRoleRecordIfNeeded(t,n,o,p){return Mc(this,void 0,void 0,function*(){if(!o.$role)return;const y=n,l=y.message.descriptor.recipient;if(void 0===l)throw new te(de.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const u=y.message.descriptor.protocolPath,J={interface:Fi.Records,method:ii.Write,isLatestBaseState:!0,protocol:y.message.descriptor.protocol,protocolPath:u,recipient:l},X=eo.getParentContextFromOfContextId(y.message.contextId);if(""!==X){const Le=od.constructPrefixFilterAsRangeFilter(X);J.contextId=Le}const{messages:N}=yield p.query(t,[J]);if(N.filter(Le=>Le.recordId!==y.message.recordId).length>0)throw new te(de.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${l}' is already recipient of a role record at protocol path '${u} under the parent context ${X}.`)})}static getRuleSetAtProtocolPath(t,n){const o=t.split("/");let p=n.structure,y=0;for(;y<o.length;){const u=p[o[y]];if(void 0===u)return;p=u,y++}return p}static checkActor(t,n,o){return Mc(this,void 0,void 0,function*(){const p=o.find(y=>y.descriptor.protocolPath===n.of);if(void 0===p)return!1;if(n.who===rg.Recipient)return t===p.descriptor.recipient;{const y=(yield Co.parse(p)).author;return t===y}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var DT=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class uv extends ql{static parse(t){return DT(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Ar.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield eo.validateDelegatedGrantReferentialIntegrity(t,n),Ls.validateTimestamp(t.descriptor.messageTimestamp),new uv(t)})}static create(t){var n,o;return DT(this,void 0,void 0,function*(){const p=t.recordId,y=Ls.getCurrentTimestamp(),l={interface:Fi.Records,method:ii.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:y,recordId:p,prune:null!==(o=t.prune)&&void 0!==o&&o},J={descriptor:l,authorization:yield Ar.createAuthorization({descriptor:l,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return Ar.validateJsonSchema(J),new uv(J)})}constructIndexes(t){const o=Object.assign({},this.message.descriptor),{protocol:p,protocolPath:y,recipient:l,schema:u,parentId:J,dateCreated:X}=t.descriptor,N=Object.assign({protocol:p,protocolPath:y,recipient:l,schema:u,parentId:J,dateCreated:X,contextId:t.contextId,author:this.author},o);return Lc(N),N}authorizeDelegate(t,n){return DT(this,void 0,void 0,function*(){const o=yield Ul.parse(this.message.authorization.authorDelegatedGrant);yield Uc.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:o,messageStore:n})})}}let __=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var fv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Th{static deleteFromDataStoreIfNeeded(t,n,o,p){return fv(this,void 0,void 0,function*(){if(o.descriptor.method!==ii.Write)return;const y=o;y.descriptor.dataSize<=__.maxDataSizeAllowedToBeEncoded||y.descriptor.dataCid!==p.descriptor.dataCid&&(yield t.delete(n,y.recordId,y.descriptor.dataCid))})}static purgeRecordDescendants(t,n,o,p,y){return fv(this,void 0,void 0,function*(){const l={interface:Fi.Records,parentId:n},{messages:u}=yield o.query(t,[l]),J=new Map;for(const X of u){let N;N=eo.isRecordsWrite(X)?X.recordId:X.descriptor.recordId,J.has(N)||J.set(N,[]),J.get(N).push(X)}for(const X of J.keys())yield Th.purgeRecordDescendants(t,X,o,p,y);for(const X of J.keys())yield Th.purgeRecordMessages(t,J.get(X),o,p,y)})}static purgeRecordMessages(t,n,o,p,y){return fv(this,void 0,void 0,function*(){const l=n.filter(X=>X.descriptor.method===ii.Write),u=yield Ar.getNewestMessage(l);yield p.delete(t,u.recordId,u.descriptor.dataCid);const J=yield Promise.all(n.map(X=>Ar.getCid(X)));yield y.deleteEventsByCid(t,J),yield Promise.all(J.map(X=>o.delete(t,X)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,o,p,y,l){return fv(this,void 0,void 0,function*(){const u=[];for(const J of n){if(yield Ar.isOlder(J,o)){yield Th.deleteFromDataStoreIfNeeded(y,t,J,o);const N=yield Ar.getCid(J);if(yield p.delete(t,N),yield Co.isInitialWrite(J)){const Pe=yield(yield Co.parse(J)).constructIndexes(!1),Xe=J;delete Xe.encodedData,yield p.put(t,Xe,Pe)}else{const Ee=yield Ar.getCid(J);u.push(Ee)}}yield l.deleteEventsByCid(t,u)}})}}var cx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class dx{constructor(t,n,o,p,y){this.didResolver=t,this.messageStore=n,this.dataStore=o,this.eventLog=p,this.eventStream=y}handle({tenant:t,message:n}){return cx(this,void 0,void 0,function*(){let o;try{o=yield uv.parse(n)}catch(Le){return fs(Le,400)}try{yield fl(n.authorization,this.didResolver)}catch(Le){return fs(Le,401)}const p={interface:Fi.Records,recordId:n.descriptor.recordId},{messages:y}=yield this.messageStore.query(t,[p]),l=yield Ar.getNewestMessage(y);let J,u=!1;if(void 0===l||(yield Ar.isNewer(n,l))?(u=!0,J=n):J=l,!u)return{status:{code:409,detail:"Conflict"}};if(void 0===l||l.descriptor.method===ii.Delete)return{status:{code:404,detail:"Not Found"}};try{yield dx.authorizeRecordsDelete(t,o,yield Co.parse(l),this.messageStore)}catch(Le){return fs(Le,401)}const X=yield Co.getInitialWrite(y),N=o.constructIndexes(X),oe=yield Ar.getCid(n);return yield this.messageStore.put(t,n,N),yield this.eventLog.append(t,oe,N),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:X},N),n.descriptor.prune&&(yield Th.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield Th.deleteAllOlderMessagesButKeepInitialWrite(t,y,J,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,o,p){return cx(this,void 0,void 0,function*(){if(Ar.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(o.message,p)),n.author!==t){if(void 0===o.message.descriptor.protocol)throw new te(de.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield io.authorizeDelete(t,n,o,p)}})}}var hl=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(hl||{}),hv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ah{constructor(t,n,o){this.didResolver=t,this.messageStore=n,this.dataStore=o}handle({tenant:t,message:n}){return hv(this,void 0,void 0,function*(){let o,p,y;try{o=yield eg.parse(n)}catch(l){return fs(l,400)}if(eo.filterIncludesPublishedRecords(o.message.descriptor.filter)&&void 0===o.author){const l=yield this.fetchPublishedRecords(t,o);p=l.messages,y=l.cursor}else{try{yield fl(n.authorization,this.didResolver),yield Ah.authorizeRecordsQuery(t,o,this.messageStore)}catch(l){return fs(l,401)}if(o.author===t){const l=yield this.fetchRecordsAsOwner(t,o);p=l.messages,y=l.cursor}else{const l=yield this.fetchRecordsAsNonOwner(t,o);p=l.messages,y=l.cursor}}for(const l of p)if(!(yield Co.isInitialWrite(l))){const J=(yield this.messageStore.query(t,[{recordId:l.recordId,isLatestBaseState:!1,method:ii.Write}])).messages[0];delete J.encodedData,l.initialWrite=J}return{status:{code:200,detail:"OK"},entries:p,cursor:y}})}convertDateSort(t){switch(t){case Ud.CreatedAscending:return{dateCreated:hl.Ascending};case Ud.CreatedDescending:return{dateCreated:hl.Descending};case Ud.PublishedAscending:return{datePublished:hl.Ascending};case Ud.PublishedDescending:return{datePublished:hl.Descending};default:return{dateCreated:hl.Ascending}}}fetchRecordsAsOwner(t,n){return hv(this,void 0,void 0,function*(){const{dateSort:o,filter:p,pagination:y}=n.message.descriptor,l=Object.assign(Object.assign({},eo.convertFilter(p,o)),{interface:Fi.Records,method:ii.Write,isLatestBaseState:!0}),u=this.convertDateSort(o);return this.messageStore.query(t,[l],u,y)})}fetchRecordsAsNonOwner(t,n){return hv(this,void 0,void 0,function*(){const{dateSort:o,pagination:p,filter:y}=n.message.descriptor,l=[];if(eo.filterIncludesPublishedRecords(y)&&l.push(Ah.buildPublishedRecordsFilter(n)),eo.filterIncludesUnpublishedRecords(y)){l.push(Ah.buildUnpublishedRecordsByQueryAuthorFilter(n));const J=n.message.descriptor.filter.recipient;(void 0===J||J===n.author)&&l.push(Ah.buildUnpublishedRecordsForQueryAuthorFilter(n)),eo.shouldProtocolAuthorize(n.signaturePayload)&&l.push(Ah.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const u=this.convertDateSort(o);return this.messageStore.query(t,l,u,p)})}fetchPublishedRecords(t,n){return hv(this,void 0,void 0,function*(){const{dateSort:o,pagination:p}=n.message.descriptor,y=Ah.buildPublishedRecordsFilter(n),l=this.convertDateSort(o);return this.messageStore.query(t,[y],l,p)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:o}=t.message.descriptor;return Object.assign(Object.assign({},eo.convertFilter(o,n)),{interface:Fi.Records,method:ii.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:o}=t.message.descriptor;return Object.assign(Object.assign({},eo.convertFilter(o,n)),{interface:Fi.Records,method:ii.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:o}=t.message.descriptor;return Object.assign(Object.assign({},eo.convertFilter(o,n)),{interface:Fi.Records,method:ii.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:o}=t.message.descriptor;return Object.assign(Object.assign({},eo.convertFilter(o,n)),{author:t.author,interface:Fi.Records,method:ii.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,o){return hv(this,void 0,void 0,function*(){Ar.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(o)),eo.shouldProtocolAuthorize(n.signaturePayload)&&(yield io.authorizeQueryOrSubscribe(t,n,o))})}}var lx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class pv extends ql{static parse(t){return lx(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Ar.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield eo.validateDelegatedGrantReferentialIntegrity(t,n),Ls.validateTimestamp(t.descriptor.messageTimestamp),new pv(t)})}static create(t){var n;return lx(this,void 0,void 0,function*(){const{filter:o,signer:p,permissionGrantId:y,protocolRole:l}=t,u=Ls.getCurrentTimestamp(),J={interface:Fi.Records,method:ii.Read,filter:eo.normalizeFilter(o),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:u};let X;Lc(J),void 0!==p&&(X=yield Ar.createAuthorization({descriptor:J,signer:p,permissionGrantId:y,protocolRole:l,delegatedGrant:t.delegatedGrant}));const N={descriptor:J,authorization:X};return Ar.validateJsonSchema(N),new pv(N)})}authorizeDelegate(t,n){return lx(this,void 0,void 0,function*(){const o=yield Ul.parse(this.message.authorization.authorDelegatedGrant);yield Uc.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:o,messageStore:n})})}}var IT=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Qp{constructor(t,n,o){this.didResolver=t,this.messageStore=n,this.dataStore=o}handle({tenant:t,message:n}){return IT(this,void 0,void 0,function*(){let o;try{o=yield pv.parse(n)}catch(N){return fs(N,400)}try{void 0!==o.author&&(yield fl(n.authorization,this.didResolver))}catch(N){return fs(N,401)}const p=Object.assign({interface:Fi.Records,isLatestBaseState:!0},eo.convertFilter(n.descriptor.filter)),{messages:y}=yield this.messageStore.query(t,[p]);if(0===y.length)return{status:{code:404,detail:"Not Found"}};if(y.length>1)return fs(new te(de.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const l=y[0];try{yield Qp.authorizeRecordsRead(t,o,yield Co.parse(l),this.messageStore)}catch(N){return fs(N,401)}let u;if(void 0!==l.encodedData){const N=he.base64UrlToBytes(l.encodedData);u=Nf.fromBytes(N),delete l.encodedData}else{const N=yield this.dataStore.get(t,l.recordId,l.descriptor.dataCid);if(void 0===N?.dataStream)return{status:{code:404,detail:"Not Found"}};u=N.dataStream}const J=Object.assign(Object.assign({},l),{data:u});if(!(yield Co.isInitialWrite(J))){const oe=(yield this.messageStore.query(t,[{recordId:J.recordId,isLatestBaseState:!1,method:ii.Write}])).messages[0];delete oe.encodedData,J.initialWrite=oe}return{status:{code:200,detail:"OK"},record:J}})}static authorizeRecordsRead(t,n,o,p){return IT(this,void 0,void 0,function*(){Ar.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(o.message,p));const{descriptor:y}=o.message;if(n.author!==t){if(!0===y.published)return;if(void 0!==n.author&&n.author===y.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const l=yield rs.fetchGrant(t,p,n.signaturePayload.permissionGrantId);yield Uc.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:o.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:p})}else{if(void 0===y.protocol)throw new te(de.RecordsReadAuthorizationFailed,"message failed authorization");yield io.authorizeRead(t,n,o,p)}}})}}var E_=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class ig extends ql{static parse(t){return E_(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield Ar.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield eo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new te(de.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&mh(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&Ip(t.descriptor.filter.schema),Ls.validateTimestamp(t.descriptor.messageTimestamp),new ig(t)})}static create(t){var n;return E_(this,void 0,void 0,function*(){const o={interface:Fi.Records,method:ii.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ls.getCurrentTimestamp(),filter:eo.normalizeFilter(t.filter)};Lc(o);const p=t.signer;let y;p&&(y=yield Ar.createAuthorization({descriptor:o,signer:p,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const l={descriptor:o,authorization:y};return Ar.validateJsonSchema(l),new ig(l)})}authorizeDelegate(t){return E_(this,void 0,void 0,function*(){const n=yield Ul.parse(this.message.authorization.authorDelegatedGrant);yield Uc.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var mv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ql{constructor(t,n,o){this.didResolver=t,this.messageStore=n,this.eventStream=o}handle({tenant:t,message:n,subscriptionHandler:o}){return mv(this,void 0,void 0,function*(){if(void 0===this.eventStream)return fs(new te(de.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let p;try{p=yield ig.parse(n)}catch(X){return fs(X,400)}let y=[];if(eo.filterIncludesPublishedRecords(p.message.descriptor.filter)&&void 0===p.author)y=[Ql.buildPublishedRecordsFilter(p)],delete n.authorization;else{try{yield fl(n.authorization,this.didResolver),yield Ql.authorizeRecordsSubscribe(t,p,this.messageStore)}catch(X){return fs(X,401)}y=p.author===t?yield Ql.filterAsOwner(p):yield Ql.filterAsNonOwner(p)}const u=yield Ar.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,u,(X,N,oe)=>{t===X&&od.matchAnyFilter(oe,y)&&o(N)})}})}static filterAsOwner(t){return mv(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},eo.convertFilter(n)),{interface:Fi.Records,method:[ii.Write,ii.Delete]})]})}static filterAsNonOwner(t){return mv(this,void 0,void 0,function*(){const n=[],{filter:o}=t.message.descriptor;if(eo.filterIncludesPublishedRecords(o)&&n.push(Ql.buildPublishedRecordsFilter(t)),eo.filterIncludesUnpublishedRecords(o)){n.push(Ql.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const p=t.message.descriptor.filter.recipient;(void 0===p||p===t.author)&&n.push(Ql.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),eo.shouldProtocolAuthorize(t.signaturePayload)&&n.push(Ql.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},eo.convertFilter(t.message.descriptor.filter)),{interface:Fi.Records,method:[ii.Write,ii.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},eo.convertFilter(t.message.descriptor.filter)),{interface:Fi.Records,method:[ii.Write,ii.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},eo.convertFilter(t.message.descriptor.filter)),{interface:Fi.Records,method:[ii.Write,ii.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},eo.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:Fi.Records,method:[ii.Write,ii.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,o){return mv(this,void 0,void 0,function*(){Ar.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(o)),eo.shouldProtocolAuthorize(n.signaturePayload)&&(yield io.authorizeQueryOrSubscribe(t,n,o))})}}var em=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Ch{constructor(t,n,o,p,y){this.didResolver=t,this.messageStore=n,this.dataStore=o,this.eventLog=p,this.eventStream=y}handle({tenant:t,message:n,dataStream:o}){return em(this,void 0,void 0,function*(){let p;try{p=yield Co.parse(n),void 0!==n.descriptor.protocol&&(yield io.validateReferentialIntegrity(t,p,this.messageStore))}catch(Le){return fs(Le,400)}try{yield fl(n.authorization,this.didResolver),yield Ch.authorizeRecordsWrite(t,p,this.messageStore)}catch(Le){return fs(Le,401)}const y={interface:Fi.Records,recordId:n.recordId},{messages:l}=yield this.messageStore.query(t,[y]),u=yield p.isInitialWrite();let J;if(!u)try{J=yield Co.getInitialWrite(l),Co.verifyEqualityOfImmutableProperties(J,n)}catch(Le){return fs(Le,400)}const X=yield Ar.getNewestMessage(l);let oe,N=!1;if(void 0===X||(yield Ar.isNewer(n,X))?(N=!0,oe=n):oe=X,!N)return{status:{code:409,detail:"Conflict"}};try{let Le=!1,Pe=n;if(void 0!==o)Pe=yield this.processMessageWithDataStream(t,n,o),Le=!0;else{if(X?.descriptor.method===ii.Delete)throw new te(de.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!u){const vt=X;Pe=yield this.processMessageWithoutDataStream(t,n,vt),Le=!0}}const Xe=yield p.constructIndexes(Le);yield this.messageStore.put(t,Pe,Xe),yield this.eventLog.append(t,yield Ar.getCid(n),Xe),void 0!==this.eventStream&&Le&&this.eventStream.emit(t,{message:n,initialWrite:J},Xe)}catch(Le){const Pe=Le;if(void 0!==Pe.code&&(Pe.code===de.RecordsWriteMissingEncodedDataInPrevious||Pe.code===de.RecordsWriteMissingDataInPrevious||Pe.code===de.RecordsWriteMissingDataStream||Pe.code===de.RecordsWriteDataCidMismatch||Pe.code===de.RecordsWriteDataSizeMismatch||Pe.code.startsWith("PermissionsProtocolValidate")||Pe.code.startsWith("SchemaValidator")))return fs(Le,400);throw Le}return yield Th.deleteAllOlderMessagesButKeepInitialWrite(t,l,oe,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,p),{status:{code:202,detail:"Accepted"}}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===rs.uri&&rs.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return em(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===rs.uri&&n.message.descriptor.protocolPath===rs.revocationPath){const p={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:y}=yield this.messageStore.query(t,[p]),l=[];for(const u of y){const J=yield Ar.getCid(u);yield this.messageStore.delete(t,J)}this.eventLog.deleteEventsByCid(t,l)}})}cloneAndAddEncodedData(t,n){return em(this,void 0,void 0,function*(){const o=Object.assign({},t);return o.encodedData=he.bytesToBase64Url(n),o})}processMessageWithDataStream(t,n,o){return em(this,void 0,void 0,function*(){let p=n;if(n.descriptor.dataSize<=__.maxDataSizeAllowedToBeEncoded){const y=yield Nf.toBytes(o),l=yield gc.computeDagPbCidFromBytes(y);Ch.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,l,y.length),Ch.validateSchemaForCoreRecordsWrite(n,y),p=yield this.cloneAndAddEncodedData(n,y)}else{const[y,l]=Nf.duplicateDataStream(o,2);try{const[u,J]=yield Promise.all([gc.computeDagPbCidFromStream(y),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,l)]);Ch.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,u,J.dataSize)}catch(u){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),u}}return p})}processMessageWithoutDataStream(t,n,o){return em(this,void 0,void 0,function*(){const p=Object.assign({},n),{dataCid:y,dataSize:l}=n.descriptor;if(Ch.validateDataIntegrity(y,l,o.descriptor.dataCid,o.descriptor.dataSize),l<=__.maxDataSizeAllowedToBeEncoded){if(void 0===o.encodedData)throw new te(de.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");p.encodedData=o.encodedData}else if(void 0===(yield this.dataStore.get(t,o.recordId,n.descriptor.dataCid)))throw new te(de.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return p})}static validateDataIntegrity(t,n,o,p){if(t!==o)throw new te(de.RecordsWriteDataCidMismatch,`actual data CID ${o} does not match dataCid in descriptor: ${t}`);if(n!==p)throw new te(de.RecordsWriteDataSizeMismatch,`actual data size ${p} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,o){return em(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new te(de.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(o)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(o)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const p=yield rs.fetchGrant(t,o,n.signaturePayload.permissionGrantId);yield Uc.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:p,messageStore:o})}else{if(void 0===n.message.descriptor.protocol)throw new te(de.RecordsWriteAuthorizationFailed,"message failed authorization");yield io.authorizeWrite(t,n,o)}}})}}var x_=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(x_||{});const Bf={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ss{constructor({method:t,id:n,path:o,query:p,fragment:y,params:l}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=o,this.query=p,this.fragment=y,this.params=l}static parse(t){if(!t)return null;const n=Ss.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:o,id:p,path:y,query:l,fragment:u}=n.groups,J={uri:`did:${o}:${p}`,method:o,id:p};if(y&&(J.path=y),l&&(J.query=l.slice(1)),u&&(J.fragment=u.slice(1)),l){const X={},N=l.slice(1).split("&");for(const oe of N){const[Ee,Le]=oe.split("=");X[Ee]=Le}J.params=X}return J}}Ss.METHOD_PATTERN="([a-z0-9]+)",Ss.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ss.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ss.PCT_ENCODED_PATTERN})`,Ss.METHOD_ID_PATTERN=`((?:${Ss.ID_CHAR_PATTERN}*:)*(${Ss.ID_CHAR_PATTERN}+))`,Ss.PATH_PATTERN="(/[^#?]*)?",Ss.QUERY_PATTERN="([?][^#]*)?",Ss.FRAGMENT_PATTERN="(#.*)?",Ss.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ss.METHOD_PATTERN}):(?<id>${Ss.METHOD_ID_PATTERN})(?<path>${Ss.PATH_PATTERN})(?<query>${Ss.QUERY_PATTERN})(?<fragment>${Ss.FRAGMENT_PATTERN})$`);class Oi extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oi)}}var Ni=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Ni||{}),nr=E(86136),Lr=E(37475);function ud(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function ux({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const o=[];return o.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(TT))&&void 0!==n?n:[]),Object.keys(x_).forEach(p=>{var y,l;o.push(...null!==(l=null===(y=r[p])||void 0===y?void 0:y.filter(TT))&&void 0!==l?l:[])}),o}function og({didDocument:r,methodId:t}){const n=[];return Object.keys(x_).forEach(o=>{if(Array.isArray(r[o])){const p=r[o],y=ud(t);p.some(u=>{const J=ud(u)===y,X=TT(u)&&ud(u.id)===y;return J||X})&&n.push(o)}}),n}function TT(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function K5({keyBytes:r,multicodecCode:t,multicodecName:n}){const o=Lr.Gs.addPrefix({code:t,data:r,name:n}),p=Lr.U$.uint8Array(o).toBase58Btc();return Lr.U$.base58Btc(p).toMultibase()}function sg({multibaseKeyId:r}){try{const t=Lr.U$.multibase(r).toBase58Btc(),n=Lr.U$.base58Btc(t).toUint8Array(),{code:o,data:p,name:y}=Lr.Gs.removePrefix({prefixedData:n});return{keyBytes:p,multicodecCode:o,multicodecName:y}}catch{throw new Oi(Ni.InvalidDid,`Invalid multibase identifier: ${r}`)}}var gv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class ju{constructor({uri:t,document:n,metadata:o,keyManager:p}){this.uri=t,this.document=n,this.metadata=o,this.keyManager=p}export(){return gv(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let o of this.document.verificationMethod){if(!o.publicKeyJwk)throw new Error(`Verification method '${o.id}' does not contain a public key in JWK format`);const p=yield this.keyManager.getKeyUri({key:o.publicKeyJwk}),y=yield this.keyManager.exportKey({keyUri:p});n.push(Object.assign({},y))}t.privateKeys=n}return t})}getSigner(t){return gv(this,void 0,void 0,function*(){var n;const o=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(J=>{var X,N;return ud(J.id)===(null!==(X=ud(t?.methodId))&&void 0!==X?X:ud(null===(N=this.document.assertionMethod)||void 0===N?void 0:N[0]))});if(!o||!o.publicKeyJwk)throw new Oi(Ni.InternalError,"A verification method intended for signing could not be determined from the DID Document");const p=yield this.keyManager.getKeyUri({key:o.publicKeyJwk}),y=yield this.keyManager.getPublicKey({keyUri:p}),l=this.keyManager;return{algorithm:nr.Wp.getJoseSignatureAlgorithmFromPublicKey(y),keyId:o.id,sign(J){return gv(this,arguments,void 0,function*({data:X}){return yield l.sign({data:X,keyUri:p})})},verify(J){return gv(this,arguments,void 0,function*({data:X,signature:N}){return yield l.verify({data:X,key:y,signature:N})})}}})}static import(t){return gv(this,arguments,void 0,function*({portableDid:n,keyManager:o=new nr.eP}){var p;const y=ux({didDocument:n.document});if(0===y.length)throw new Oi(Ni.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let u of null!==(p=n.privateKeys)&&void 0!==p?p:[])yield o.importKey({key:u});for(let u of y){if(!u.publicKeyJwk)throw new Error(`Verification method '${u.id}' does not contain a public key in JWK format`);const J=yield o.getKeyUri({key:u.publicKeyJwk});yield o.getPublicKey({keyUri:J})}return new ju({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:o})})}}var M_=E(2198),tm=E(49402),AT=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class fx{static getSigningMethod(t){return AT(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return AT(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var nc=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},S_=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n};const hx="https://diddht.tbddev.org",eu=7200,Dd=",";var px=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(px||{}),Id=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Id||{}),mx=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(mx||{});const nm={Ed25519:Id.Ed25519,ES256K:Id.secp256k1,ES256:Id.secp256r1,"P-256":Id.secp256r1,secp256k1:Id.secp256k1,secp256r1:Id.secp256r1,X25519:Id.X25519},CT={[Id.Ed25519]:"Ed25519",[Id.secp256k1]:"ES256K",[Id.secp256r1]:"ES256",[Id.X25519]:"ECDH-ES+A256KW"};let D_=(()=>{class r extends fx{static create(){return nc(this,arguments,void 0,function*({keyManager:n=new nr.eP,options:o={}}={}){var p,y,l,u,J,X,N,oe,Ee,Le,Pe;if(null!==(p=o.verificationMethods)&&void 0!==p&&p.some(Jt=>!(Jt.algorithm in nm)))throw new Error("One or more verification method algorithms are not supported");const Xe=null===(y=o.verificationMethods)||void 0===y?void 0:y.filter(Jt=>"id"in Jt).map(Jt=>Jt.id);if(Xe&&Xe.length!==new Set(Xe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=o.services)&&void 0!==l&&l.some(Jt=>!Jt.id||!Jt.type||!Jt.serviceEndpoint))throw new Error("One or more services are missing required properties");const vt=yield n.generateKey({algorithm:"Ed25519"}),Tt=yield n.getPublicKey({keyUri:vt}),bt=yield Ka.identityKeyToIdentifier({identityKey:Tt}),wt=Object.assign(Object.assign({id:bt},o.alsoKnownAs&&{alsoKnownAs:o.alsoKnownAs}),o.controllers&&{controller:o.controllers}),Ct=[...null!==(u=o.verificationMethods)&&void 0!==u?u:[]];Ct?.some(Jt=>{var an;return"0"===(null===(an=Jt.id)||void 0===an?void 0:an.split("#").pop())})||Ct.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Jt of Ct){const an=Jt.id&&"0"===Jt.id.split("#").pop()?vt:yield n.generateKey({algorithm:Jt.algorithm}),Vt=yield n.getPublicKey({keyUri:an});let In=null!==(X=null!==(J=Jt.id)&&void 0!==J?J:Vt.kid)&&void 0!==X?X:yield(0,nr.BA)({jwk:Vt});In=`${bt}#${ud(In)}`,null!==(N=wt.verificationMethod)&&void 0!==N||(wt.verificationMethod=[]),wt.verificationMethod.push({id:In,type:"JsonWebKey",controller:null!==(oe=Jt.controller)&&void 0!==oe?oe:bt,publicKeyJwk:Vt});for(const Yn of null!==(Ee=Jt.purposes)&&void 0!==Ee?Ee:[])wt[Yn]||(wt[Yn]=[]),wt[Yn].push(In)}null===(Le=o.services)||void 0===Le||Le.forEach(Jt=>{var an;null!==(an=wt.service)&&void 0!==an||(wt.service=[]),Jt.id=`${bt}#${Jt.id.split("#").pop()}`,wt.service.push(Jt)});const Wt=new ju({uri:bt,document:wt,metadata:Object.assign({published:!1},o.types&&{types:o.types}),keyManager:n});if(null===(Pe=o.publish)||void 0===Pe||Pe){const Jt=yield r.publish({did:Wt,gatewayUri:o.gatewayUri});Wt.metadata=Jt.didDocumentMetadata}return Wt})}static import(n){return nc(this,arguments,void 0,function*({portableDid:o,keyManager:p=new nr.eP}){var y;const l=Ss.parse(o.uri);if(l?.method!==r.methodName)throw new Oi(Ni.MethodNotSupported,"Method not supported");const u=yield ju.import({portableDid:o,keyManager:p});if(null===(y=u.document.verificationMethod)||void 0===y||!y.some(J=>{var X;return"0"===(null===(X=J.id)||void 0===X?void 0:X.split("#").pop())}))throw new Oi(Ni.InvalidDidDocument,"DID document must contain an Identity Key");return u})}static getSigningMethod(n){return nc(this,arguments,void 0,function*({didDocument:o,methodId:p="#0"}){var y;const l=Ss.parse(o.id);if(l&&l.method!==this.methodName)throw new Oi(Ni.MethodNotSupported,`Method not supported: ${l.method}`);const u=null===(y=o.verificationMethod)||void 0===y?void 0:y.find(J=>{var X,N;return ud(J.id)===(null!==(X=ud(p))&&void 0!==X?X:ud(null===(N=o.assertionMethod)||void 0===N?void 0:N[0]))});if(!u||!u.publicKeyJwk)throw new Oi(Ni.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static publish(n){return nc(this,arguments,void 0,function*({did:o,gatewayUri:p=hx}){return yield tu.put({did:o,gatewayUri:p})})}static resolve(n){return nc(this,arguments,void 0,function*(o,p={}){var y;const l=null!==(y=p?.gatewayUri)&&void 0!==y?y:hx;try{yield Ka.identifierToIdentityKey({didUri:o});const{didDocument:u,didDocumentMetadata:J}=yield tu.get({didUri:o,gatewayUri:l});return Object.assign(Object.assign({},Bf),{didDocument:u,didDocumentMetadata:J})}catch(u){if(!(u instanceof Oi))throw new Error(u);return Object.assign(Object.assign({},Bf),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}}return r.methodName="dht",r})();class tu{static get(t){return nc(this,arguments,void 0,function*({didUri:n,gatewayUri:o}){const p=Ka.identifierToIdentityKeyBytes({didUri:n}),y=yield tu.pkarrGet({gatewayUri:o,publicKeyBytes:p}),l=yield Ka.parseBep44GetMessage({bep44Message:y}),u=yield tu.fromDnsPacket({didUri:n,dnsPacket:l});return u.didDocumentMetadata.versionId=y.seq.toString(),u})}static put(t){return nc(this,arguments,void 0,function*({did:n,gatewayUri:o}){const p=yield tu.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[o]}),y=yield Ka.createBep44PutMessage({dnsPacket:p,publicKeyBytes:Ka.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),l=yield tu.pkarrPut({gatewayUri:o,bep44Message:y});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:l,versionId:y.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return nc(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:o}){const p=Lr.U$.uint8Array(o).toBase32Z(),y=new URL(p,n).href;let l;try{if(l=yield fetch(y,{method:"GET"}),!l.ok)throw new Oi(Ni.NotFound,`Pkarr record not found for: ${p}`)}catch(X){throw X instanceof Oi?X:new Oi(Ni.InternalError,`Failed to fetch Pkarr record: ${X.message}`)}const u=yield l.arrayBuffer();if(!u)throw new Oi(Ni.NotFound,`Pkarr record not found for: ${p}`);if(u.byteLength<72)throw new Oi(Ni.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${u.byteLength}`);if(u.byteLength>1072)throw new Oi(Ni.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${u.byteLength}`);return{k:o,seq:Number(new DataView(u).getBigUint64(64)),sig:new Uint8Array(u,0,64),v:new Uint8Array(u,72)}})}static pkarrPut(t){return nc(this,arguments,void 0,function*({gatewayUri:n,bep44Message:o}){const p=Lr.U$.uint8Array(o.k).toBase32Z(),y=new URL(p,n).href,l=new Uint8Array(o.v.length+72);let u;l.set(o.sig,0),new DataView(l.buffer).setBigUint64(o.sig.length,BigInt(o.seq)),l.set(o.v,o.sig.length+8);try{u=yield fetch(y,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:l})}catch(J){throw new Oi(Ni.InternalError,`Failed to put Pkarr record for identifier ${p}: ${J.message}`)}return u.ok})}static fromDnsPacket(t){return nc(this,arguments,void 0,function*({didUri:n,dnsPacket:o}){var p,y,l;const u={id:n},J={published:!0},X=new Map;for(const N of null!==(p=o?.answers)&&void 0!==p?p:[]){if("TXT"!==N.type)continue;const oe=N.name.split(".")[0].substring(1);switch(!0){case oe.startsWith("aka"):{const Ee=Ka.parseTxtDataToString(N.data);u.alsoKnownAs=Ee.split(Dd);break}case oe.startsWith("cnt"):{const Ee=Ka.parseTxtDataToString(N.data);u.controller=Ee.includes(Dd)?Ee.split(Dd):Ee;break}case oe.startsWith("k"):{const{id:Ee,t:Le,k:Pe,c:Xe,a:vt}=Ka.parseTxtDataToObject(N.data),Tt=Lr.U$.base64Url(Pe).toUint8Array(),bt=Id[Number(Le)];let wt=yield Ka.keyConverter(bt).bytesToPublicKey({publicKeyBytes:Tt});wt.alg=vt||CT[Number(Le)];const Ct="k0"===oe?"0":void 0!==Ee?Ee:yield(0,nr.BA)({jwk:wt});null!==(y=u.verificationMethod)&&void 0!==y||(u.verificationMethod=[]);const Wt=`${n}#${Ct}`;u.verificationMethod.push({id:Wt,type:"JsonWebKey",controller:Xe??n,publicKeyJwk:wt}),X.set(oe,Wt);break}case oe.startsWith("s"):{const Ee=Ka.parseTxtDataToObject(N.data),{id:Le,t:Pe,se:Xe}=Ee,vt=S_(Ee,["id","t","se"]),Tt=Xe.includes(Dd)?Xe.split(Dd):[Xe],bt=Object.fromEntries(Object.entries(vt).map(([wt,Ct])=>[wt,Ct.includes(Dd)?Ct.split(Dd):Ct]));null!==(l=u.service)&&void 0!==l||(u.service=[]),u.service.push(Object.assign(Object.assign({},bt),{id:`${n}#${Le}`,type:Pe,serviceEndpoint:Tt}));break}case oe.startsWith("typ"):{const{id:Ee}=Ka.parseTxtDataToObject(N.data);J.types=Ee.split(Dd).map(Le=>Number(Le));break}case oe.startsWith("did"):{const Ee=bt=>bt.split(Dd).map(wt=>X.get(wt)).filter(wt=>"string"==typeof wt),{auth:Le,asm:Pe,del:Xe,inv:vt,agm:Tt}=Ka.parseTxtDataToObject(N.data);Le&&(u.authentication=Ee(Le)),Pe&&(u.assertionMethod=Ee(Pe)),Xe&&(u.capabilityDelegation=Ee(Xe)),vt&&(u.capabilityInvocation=Ee(vt)),Tt&&(u.keyAgreement=Ee(Tt));break}}}return{didDocument:u,didDocumentMetadata:J,didResolutionMetadata:{}}})}static toDnsPacket(t){return nc(this,arguments,void 0,function*({didDocument:n,didMetadata:o,authoritativeGatewayUris:p,previousDidProof:y}){var l,u,J,X,N;const oe=[],Ee=[],Le=new Map,Pe=[],Xe=[];if(void 0!==y){const{signature:bt,previousDid:wt}=y;yield Ka.validatePreviousDidProof({newDid:n.id,previousDidProof:y}),oe.push({type:"TXT",name:"_prv._did.",ttl:eu,data:`id=${wt};s=${bt}`})}if(n.alsoKnownAs&&oe.push({type:"TXT",name:"_aka._did.",ttl:eu,data:n.alsoKnownAs.join(Dd)}),n.controller){const bt=Array.isArray(n.controller)?n.controller.join(Dd):n.controller;oe.push({type:"TXT",name:"_cnt._did.",ttl:eu,data:bt})}for(const[bt,wt]of null!==(u=null===(l=n.verificationMethod)||void 0===l?void 0:l.entries())&&void 0!==u?u:[]){const Ct=`k${bt}`;Xe.push(Ct);let Wt=wt.id.split("#").pop();Le.set(Wt,Ct);const Jt=wt.publicKeyJwk;if(!Jt?.crv||!(Jt.crv in nm))throw new Oi(Ni.InvalidPublicKeyType,`Verification method '${wt.id}' contains an unsupported key type: ${null!==(J=Jt?.crv)&&void 0!==J?J:"undefined"}`);const an=Id[Jt.crv],Vt=yield Ka.keyConverter(Jt.crv).publicKeyToBytes({publicKey:Jt}),Yn=[`t=${an}`,`k=${Lr.U$.uint8Array(Vt).toBase64Url()}`];"0"!==Wt&&(yield(0,nr.BA)({jwk:Jt}))!==Wt&&Yn.unshift(`id=${Wt}`),Jt.alg!==CT[an]&&Yn.push(`a=${Jt.alg}`),wt.controller!==n.id&&Yn.push(`c=${wt.controller}`),oe.push({type:"TXT",name:`_${Ct}._did.`,ttl:eu,data:Yn.join(";")})}null===(X=n.service)||void 0===X||X.forEach((bt,wt)=>{const Ct=`s${wt}`;Pe.push(Ct);let{id:Wt,type:Jt,serviceEndpoint:an}=bt,Vt=S_(bt,["id","type","serviceEndpoint"]);Wt=ud(Wt),an=Array.isArray(an)?an.join(","):an;const Yn=Object.entries(Object.assign({id:Wt,t:Jt,se:an},Vt)).map(([sr,Hn])=>`${sr}=${Hn}`).join(";"),Qn=Ka.chunkDataIfNeeded(Yn);oe.push({type:"TXT",name:`_${Ct}._did.`,ttl:eu,data:Qn})});const vt=["v=0"];if(Xe.length&&vt.push(`vm=${Xe.join(Dd)}`),Object.keys(x_).forEach(bt=>{var wt;const Ct=null===(wt=n[bt])||void 0===wt?void 0:wt.map(Wt=>Le.get(Wt.split("#").pop()));Ct&&vt.push(`${mx[bt]}=${Ct.join(Dd)}`)}),Pe.length&&vt.push(`svc=${Pe.join(Dd)}`),null!==(N=o.types)&&void 0!==N&&N.length){const wt=o.types.map(Ct=>"string"==typeof Ct?px[Ct]:Ct);oe.push({type:"TXT",name:"_typ._did.",ttl:eu,data:`id=${wt.join(Dd)}`})}oe.push({type:"TXT",name:"_did."+tu.getUniqueDidSuffix(n.id)+".",ttl:eu,data:vt.join(";")});for(const bt of p||[])Ee.push({type:"NS",name:"_did."+tu.getUniqueDidSuffix(n.id)+".",ttl:eu,data:bt+"."});return{id:0,type:"response",flags:tm.hB,answers:[...oe,...Ee]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class Ka{static createBep44PutMessage(t){return nc(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:o,signer:p}){const y=Math.ceil(Date.now()/1e3),l=(0,tm.lF)(n),u=M_.A.encode({seq:y,v:l}).subarray(1,-1);if(u.length>1e3)throw new Oi(Ni.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${u.length} bytes`);return{k:o,seq:y,sig:yield p.sign({data:u}),v:l}})}static identifierToIdentityKey(t){return nc(this,arguments,void 0,function*({didUri:n}){let o=Ka.identifierToIdentityKeyBytes({didUri:n});return yield nr.Mc.bytesToPublicKey({publicKeyBytes:o})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ss.parse(t);if(!n)throw new Oi(Ni.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==D_.methodName)throw new Oi(Ni.MethodNotSupported,`Method not supported: ${n.method}`);let o;try{o=Lr.U$.base32Z(n.id).toUint8Array()}catch{throw new Oi(Ni.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==o.length)throw new Oi(Ni.InvalidPublicKeyLength,`Invalid public key length: ${o.length}`);return o}static identityKeyToIdentifier(t){return nc(this,arguments,void 0,function*({identityKey:n}){const o=yield nr.Mc.publicKeyToBytes({publicKey:n}),p=Lr.U$.uint8Array(o).toBase32Z();return`did:${D_.methodName}:${p}`})}static keyConverter(t){const o={Ed25519:nr.Mc,"P-256":{publicKeyToBytes:p=>nc(this,[p],void 0,function*({publicKey:y}){const l=yield nr.iH.publicKeyToBytes({publicKey:y});return yield nr.iH.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:nr.iH.bytesToPublicKey,privateKeyToBytes:nr.iH.privateKeyToBytes,bytesToPrivateKey:nr.iH.bytesToPrivateKey},secp256k1:{publicKeyToBytes:p=>nc(this,[p],void 0,function*({publicKey:y}){const l=yield nr.jg.publicKeyToBytes({publicKey:y});return yield nr.jg.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:nr.jg.bytesToPublicKey,privateKeyToBytes:nr.jg.privateKeyToBytes,bytesToPrivateKey:nr.jg.bytesToPrivateKey},X25519:nr.Nx}[t];if(!o)throw new Oi(Ni.InvalidPublicKeyType,`Unsupported curve: ${t}`);return o}static parseBep44GetMessage(t){return nc(this,arguments,void 0,function*({bep44Message:n}){const o=yield nr.Mc.bytesToPublicKey({publicKeyBytes:n.k}),p=M_.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield nr.Mc.verify({key:o,signature:n.sig,data:p})))throw new Oi(Ni.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,tm.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,o)=>{const[p,y]=o.split("=");return n[p]=y,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return Lr.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Oi(Ni.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return nc(this,arguments,void 0,function*({newDid:n,previousDidProof:o}){const p=yield Ka.identifierToIdentityKey({didUri:o.previousDid}),y=Ka.identifierToIdentityKeyBytes({didUri:n}),l=Lr.U$.base64Url(o.signature).toUint8Array();if(!(yield nr.Mc.verify({key:p,data:y,signature:l})))throw new Oi(Ni.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let o=0;o<t.length;o+=255)n.push(t.slice(o,o+255));return n}}var kT=E(52039),kh=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},Lf=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Lf||{});const PT={Ed25519:Lf.Ed25519,ES256K:Lf.secp256k1,ES256:Lf.secp256r1,"P-256":Lf.secp256r1,secp256k1:Lf.secp256k1,secp256r1:Lf.secp256r1},gx="https://ion.tbd.engineering";let z5=(()=>{class r extends fx{static create(){return kh(this,arguments,void 0,function*({keyManager:n=new nr.eP,options:o={}}={}){var p,y,l,u,J,X,N;if(null!==(p=o.verificationMethods)&&void 0!==p&&p.some(Jt=>!(Jt.algorithm in PT)))throw new Error("One or more verification method algorithms are not supported");const oe=null===(y=o.verificationMethods)||void 0===y?void 0:y.filter(Jt=>"id"in Jt).map(Jt=>Jt.id);if(oe&&oe.length!==new Set(oe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=o.services)&&void 0!==l&&l.some(Jt=>!Jt.id||!Jt.type||!Jt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Ee={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Le=[];for(const Jt of null!==(u=o.verificationMethods)&&void 0!==u?u:[Ee]){const an=yield n.generateKey({algorithm:Jt.algorithm}),Vt=yield n.getPublicKey({keyUri:an});Le.push({id:Jt.id,publicKeyJwk:Vt,purposes:null!==(J=Jt.purposes)&&void 0!==J?J:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Pe=yield n.generateKey({algorithm:Lf.secp256k1}),Xe=yield n.getPublicKey({keyUri:Pe}),vt=yield n.generateKey({algorithm:Lf.secp256k1}),Tt=yield n.getPublicKey({keyUri:vt}),bt=yield $d.computeLongFormDidUri({recoveryKey:Xe,updateKey:Tt,services:null!==(X=o.services)&&void 0!==X?X:[],verificationMethods:Le}),{didDocument:wt,didResolutionMetadata:Ct}=yield r.resolve(bt,{gatewayUri:o.gatewayUri});if(null===wt)throw new Error(`Unable to resolve DID during creation: ${Ct?.error}`);const Wt=new ju({uri:bt,document:wt,metadata:{published:!1,canonicalId:bt.split(":",3).join(":"),recoveryKey:Xe,updateKey:Tt},keyManager:n});if(null===(N=o.publish)||void 0===N||N){const Jt=yield r.publish({did:Wt,gatewayUri:o.gatewayUri});Wt.metadata=Jt.didDocumentMetadata}return Wt})}static getSigningMethod(n){return kh(this,arguments,void 0,function*({didDocument:o,methodId:p}){var y;const l=Ss.parse(o.id);if(l&&l.method!==this.methodName)throw new Oi(Ni.MethodNotSupported,`Method not supported: ${l.method}`);const u=null===(y=o.verificationMethod)||void 0===y?void 0:y.find(J=>{var X;return J.id===(p??(null===(X=o.assertionMethod)||void 0===X?void 0:X[0]))});if(!u||!u.publicKeyJwk)throw new Oi(Ni.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static import(n){return kh(this,arguments,void 0,function*({portableDid:o,keyManager:p=new nr.eP}){const y=Ss.parse(o.uri);if(y?.method!==r.methodName)throw new Oi(Ni.MethodNotSupported,"Method not supported");return yield ju.import({portableDid:o,keyManager:p})})}static publish(n){return kh(this,arguments,void 0,function*({did:o,gatewayUri:p=gx}){var y,l,u;const J=null!==(l=null===(y=o.document.verificationMethod)||void 0===y?void 0:y.map(oe=>({id:oe.id,publicKeyJwk:oe.publicKeyJwk,purposes:og({didDocument:o.document,methodId:oe.id})})))&&void 0!==l?l:[],X=yield $d.createIonDocument({services:null!==(u=o.document.service)&&void 0!==u?u:[],verificationMethods:J}),N=yield $d.constructCreateRequest({ionDocument:X,recoveryKey:o.metadata.recoveryKey,updateKey:o.metadata.updateKey});try{const oe=$d.appendPathToUrl({baseUrl:p,path:"/operations"}),Ee=yield fetch(oe,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});return{didDocument:o.document,didDocumentMetadata:Object.assign(Object.assign({},o.metadata),{published:Ee.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Ni.InternalError,errorMessage:`Failed to publish DID document for: ${o.uri}`}}}})}static resolve(n){return kh(this,arguments,void 0,function*(o,p={}){var y,l;const u=Ss.parse(o);if(!u)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:"invalidDid"}});if(u.method!==r.methodName)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:"methodNotSupported"}});const J=null!==(y=p?.gatewayUri)&&void 0!==y?y:gx;try{const X=$d.appendPathToUrl({baseUrl:J,path:`/identifiers/${o}`}),N=yield fetch(X);if(!N.ok)throw new Oi(Ni.NotFound,`Unable to find DID document for: ${o}`);const{didDocument:oe,didDocumentMetadata:Ee}=yield N.json();return Object.assign(Object.assign(Object.assign({},Bf),oe&&{didDocument:oe}),{didDocumentMetadata:Object.assign({published:null===(l=Ee?.method)||void 0===l?void 0:l.published},Ee)})}catch(X){if(!(X instanceof Oi))throw new Error(X);return Object.assign(Object.assign({},Bf),{didResolutionMetadata:Object.assign({error:X.code},X.message&&{errorMessage:X.message})})}})}}return r.methodName="ion",r})();class $d{static appendPathToUrl({baseUrl:t,path:n}){const o=new URL(t);return o.pathname=o.pathname.endsWith("/")?o.pathname:o.pathname+"/",o.pathname+=n.startsWith("/")?n.substring(1):n,o.toString()}static computeLongFormDidUri(t){return kh(this,arguments,void 0,function*({recoveryKey:n,updateKey:o,services:p,verificationMethods:y}){const l=yield $d.createIonDocument({services:p,verificationMethods:y}),u=$d.normalizeJwk(n),J=$d.normalizeJwk(o);return yield kT.oU.createLongFormDid({document:l,recoveryKey:u,updateKey:J})})}static constructCreateRequest(t){return kh(this,arguments,void 0,function*({ionDocument:n,recoveryKey:o,updateKey:p}){return yield kT.Q2.createCreateRequest({document:n,recoveryKey:$d.normalizeJwk(o),updateKey:$d.normalizeJwk(p)})})}static createIonDocument(t){return kh(this,arguments,void 0,function*({services:n,verificationMethods:o}){var p,y;const l=[];for(const X of o){let N=null!==(y=null!==(p=X.id)&&void 0!==p?p:X.publicKeyJwk.kid)&&void 0!==y?y:yield(0,nr.BA)({jwk:X.publicKeyJwk});N=`${N.split("#").pop()}`;const oe={id:N,publicKeyJwk:$d.normalizeJwk(X.publicKeyJwk),purposes:X.purposes,type:"JsonWebKey2020"};l.push(oe)}return{publicKeys:l,services:n.map(X=>Object.assign(Object.assign({},X),{id:`${X.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let o;if("EC"===n)o={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)o={k:t.k,kty:t.kty};else if("OKP"===n)o={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);o={e:t.e,kty:t.kty,n:t.n}}return o}}var nu=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},Uf=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Uf||{});const yx={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},RT={Ed25519:Uf.Ed25519,ES256K:Uf.secp256k1,ES256:Uf.secp256r1,"P-256":Uf.secp256r1,secp256k1:Uf.secp256k1,secp256r1:Uf.secp256r1,X25519:Uf.X25519};let OT=(()=>{class r extends fx{static create(){return nu(this,arguments,void 0,function*({keyManager:n=new nr.eP,options:o={}}={}){var p,y,l,u;if(o.algorithm&&o.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(o.verificationMethods&&1!==o.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const J=null!==(u=null!==(p=o.algorithm)&&void 0!==p?p:null===(l=null===(y=o.verificationMethods)||void 0===y?void 0:y[0])||void 0===l?void 0:l.algorithm)&&void 0!==u?u:"Ed25519",X=yield n.generateKey({algorithm:J}),N=yield n.getPublicKey({keyUri:X}),oe=yield $u.publicKeyToMultibaseId({publicKey:N}),Ee=`did:${r.methodName}:${oe}`,Pe=(yield r.resolve(Ee,o)).didDocument;return new ju({uri:Ee,document:Pe,metadata:{},keyManager:n})})}static getSigningMethod(n){return nu(this,arguments,void 0,function*({didDocument:o}){var p;const y=Ss.parse(o.id);if(y&&y.method!==this.methodName)throw new Oi(Ni.MethodNotSupported,`Method not supported: ${y.method}`);const[l]=o.assertionMethod||[],u=null===(p=o.verificationMethod)||void 0===p?void 0:p.find(J=>J.id===l);if(!u||!u.publicKeyJwk)throw new Oi(Ni.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static import(n){return nu(this,arguments,void 0,function*({portableDid:o,keyManager:p=new nr.eP}){const y=Ss.parse(o.uri);if(y?.method!==r.methodName)throw new Oi(Ni.MethodNotSupported,"Method not supported");const l=yield ju.import({portableDid:o,keyManager:p});if(1!==l.document.verificationMethod.length)throw new Oi(Ni.InvalidDidDocument,"DID document must contain exactly one verification method");return l})}static resolve(n,o){return nu(this,void 0,void 0,function*(){try{const p=yield r.createDocument({didUri:n,options:o});return Object.assign(Object.assign({},Bf),{didDocument:p})}catch(p){if(!(p instanceof Oi))throw new Error(p);return Object.assign(Object.assign({},Bf),{didResolutionMetadata:Object.assign({error:p.code},p.message&&{errorMessage:p.message})})}})}static createDocument(n){return nu(this,arguments,void 0,function*({didUri:o,options:p={}}){const{defaultContext:y="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:l=!1,enableExperimentalPublicKeyTypes:u=!1,publicKeyFormat:J="JsonWebKey2020"}=p,X={id:""},N=Ss.parse(o);if(!N)throw new Oi(Ni.InvalidDid,`Invalid DID URI: ${o}`);const oe=N.id;if(N.method!==r.methodName)throw new Oi(Ni.MethodNotSupported,`Method not supported: ${N.method}`);if(!r.validateIdentifier(N))throw new Oi(Ni.InvalidDid,`Invalid DID URI: ${o}`);const Ee=yield r.createSignatureMethod({didUri:o,multibaseValue:oe,options:{enableExperimentalPublicKeyTypes:u,publicKeyFormat:J}});if(X.id=N.uri,X.verificationMethod=[Ee],X.authentication=[Ee.id],X.assertionMethod=[Ee.id],X.capabilityInvocation=[Ee.id],X.capabilityDelegation=[Ee.id],!0===l){const Xe="Ed25519VerificationKey2020"===J?"X25519KeyAgreementKey2020":"JsonWebKey2020",vt=yield this.createEncryptionMethod({didUri:o,multibaseValue:oe,options:{enableExperimentalPublicKeyTypes:u,publicKeyFormat:Xe}});X.verificationMethod.push(vt),X.keyAgreement=[vt.id]}const Le=[y];return function fd({didDocument:r}){const n=ux({didDocument:r}).map(o=>o.type);return[...new Set(n)]}({didDocument:X}).forEach(Xe=>{Le.push(yx[Xe])}),X["@context"]=Le,X})}static createEncryptionMethod(n){return nu(this,arguments,void 0,function*({didUri:o,multibaseValue:p,options:y}){const{enableExperimentalPublicKeyTypes:l,publicKeyFormat:u}=y,J={id:"",type:"",controller:""},{keyBytes:X,multicodecCode:N}=yield r.deriveEncryptionKey({multibaseValue:p}),oe=X.byteLength,Ee=$u.MULTICODEC_PUBLIC_KEY_LENGTH[N];if(oe!==Ee)throw new Oi(Ni.InvalidPublicKeyLength,`Expected ${oe} bytes. Actual: ${Ee}`);const Le=K5({keyBytes:X,multicodecCode:N});J.id=`${o}#${Le}`;try{new URL(J.id)}catch{throw new Oi(Ni.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(u in yx))throw new Oi(Ni.UnsupportedPublicKeyType,`Unsupported format: ${u}`);if(!1===l&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(u))throw new Oi(Ni.InvalidPublicKeyType,`Specified '${u}' without setting enableExperimentalPublicKeyTypes to true.`);if(J.type=u,J.controller=o,"X25519KeyAgreementKey2020"===u&&(J.publicKeyMultibase=Le),"JsonWebKey2020"===u){const{crv:Xe}=yield $u.multicodecToJwk({code:N});J.publicKeyJwk=yield $u.keyConverter(Xe).bytesToPublicKey({publicKeyBytes:X})}return J})}static createSignatureMethod(n){return nu(this,arguments,void 0,function*({didUri:o,multibaseValue:p,options:y}){const{enableExperimentalPublicKeyTypes:l,publicKeyFormat:u}=y,J={id:"",type:"",controller:""},{keyBytes:X,multicodecCode:N,multicodecName:oe}=sg({multibaseKeyId:p}),Ee=X.byteLength,Le=$u.MULTICODEC_PUBLIC_KEY_LENGTH[N];if(Ee!==Le)throw new Oi(Ni.InvalidPublicKeyLength,`Expected ${Ee} bytes. Actual: ${Le}`);let Pe=!1;switch(oe){case"secp256k1-pub":Pe=yield nr.jg.validatePublicKey({publicKeyBytes:X});break;case"ed25519-pub":Pe=yield nr.Mc.validatePublicKey({publicKeyBytes:X});break;case"x25519-pub":Pe=!0}if(!Pe)throw new Oi(Ni.InvalidPublicKey,"Invalid public key detected.");J.id=`${o}#${p}`;try{new URL(J.id)}catch{throw new Oi(Ni.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(u in yx))throw new Oi(Ni.UnsupportedPublicKeyType,`Unsupported format: ${u}`);if(!1===l&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(u))throw new Oi(Ni.InvalidPublicKeyType,`Specified '${u}' without setting enableExperimentalPublicKeyTypes to true.`);if(J.type=u,J.controller=o,"Ed25519VerificationKey2020"===u&&(J.publicKeyMultibase=p),"JsonWebKey2020"===u){const{crv:vt}=yield $u.multicodecToJwk({code:N});J.publicKeyJwk=yield $u.keyConverter(vt).bytesToPublicKey({publicKeyBytes:X})}return J})}static deriveEncryptionKey(n){return nu(this,arguments,void 0,function*({multibaseValue:o}){let p={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:y,multicodecCode:l}=sg({multibaseKeyId:o});if(237===l){const u=yield $u.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:y}),J=yield nr.Mc.convertPublicKeyToX25519({publicKey:u});p={keyBytes:yield $u.keyConverter("Ed25519").publicKeyToBytes({publicKey:J}),multicodecCode:236}}return p})}static validateIdentifier(n){const{method:o,id:p}=n,[y]=n.uri.split(":",1);return"did"===y&&"key"===o&&Number("1")>0&&"String"===(0,Lr.fc)(p)&&p.startsWith("z")}}return r.methodName="key",r})(),$u=(()=>{class r{static jwkToMulticodec(n){return nu(this,arguments,void 0,function*({jwk:o}){const p=[];o.crv&&(p.push(o.crv),p.push(o.d?"private":"public"));const y=p.join(":"),l=r.JWK_TO_MULTICODEC[y];if(void 0===l)throw new Error(`Unsupported JWK to Multicodec conversion: '${y}'`);return{code:Lr.Gs.getCodeFromName({name:l}),name:l}})}static keyCompressor(n){const p={"P-256":nr.iH.compressPublicKey,secp256k1:nr.jg.compressPublicKey}[n];if(!p)throw new Oi(Ni.InvalidPublicKeyType,`Unsupported curve: ${n}`);return p}static keyConverter(n){const p={Ed25519:nr.Mc,"P-256":nr.iH,secp256k1:nr.jg,X25519:nr.Nx}[n];if(!p)throw new Oi(Ni.InvalidPublicKeyType,`Unsupported curve: ${n}`);return p}static multicodecToJwk(n){return nu(this,arguments,void 0,function*({code:o,name:p}){if(!(p?!o:o))throw new Error("Either 'name' or 'code' must be defined, but not both.");p=void 0===p?Lr.Gs.getNameFromCode({code:o}):p;const l=r.MULTICODEC_TO_JWK[p];if(void 0===l)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},l)})}static publicKeyToMultibaseId(n){return nu(this,arguments,void 0,function*({publicKey:o}){var p;if(!o?.crv||!(o.crv in RT))throw new Oi(Ni.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(p=o?.crv)&&void 0!==p?p:"undefined"}`);let y=yield r.keyConverter(o.crv).publicKeyToBytes({publicKey:o});/^(secp256k1|P-256|P-384|P-521)$/.test(o.crv)&&(y=yield r.keyCompressor(o.crv)({publicKeyBytes:y}));const{name:l}=yield r.jwkToMulticodec({jwk:o});return K5({keyBytes:y,multicodecName:l})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var G5=E(14078),HP=E(42064);class WP{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:o="15m"}={}){this.cache=t??new HP.Level(n),this.ttl=G5(o)}get(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),o=JSON.parse(n);return Date.now()>=o.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):o.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const o={ttlMillis:Date.now()+this.ttl,value:n},p=JSON.stringify(o);return this.cache.put(t,p)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const GP={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var Z5=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class ZP{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||GP;for(const o of n)this.didResolvers.set(o.methodName,o)}resolve(t,n){return Z5(this,void 0,void 0,function*(){const o=Ss.parse(t);if(!o)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:Ni.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const p=this.didResolvers.get(o.method);if(!p)return Object.assign(Object.assign({},Bf),{didResolutionMetadata:{error:Ni.MethodNotSupported,errorMessage:`Method not supported: ${o.method}`}});const y=yield this.cache.get(o.uri);if(y)return y;{const l=yield p.resolve(o.uri,n);return l.didResolutionMetadata.error||(yield this.cache.set(o.uri,l)),l}})}dereference(t,n){return Z5(this,void 0,void 0,function*(){const o=Ss.parse(t);if(!o)return{dereferencingMetadata:{error:Ni.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:p,didResolutionMetadata:y,didDocumentMetadata:l}=yield this.resolve(o.uri);if(!p)return{dereferencingMetadata:{error:y.error},contentStream:null,contentMetadata:{}};if(!o.fragment||o.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:p,contentMetadata:l};const{service:u=[],verificationMethod:J=[]}=p,X=new Set([t,o.fragment,`#${o.fragment}`]);let N;for(let oe of J)if(X.has(oe.id)){N=oe;break}for(let oe of u)if(X.has(oe.id)){N=oe;break}return N?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:N,contentMetadata:y}:{dereferencingMetadata:{error:Ni.NotFound},contentStream:null,contentMetadata:{}}})}}var yv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class BT{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.methodHandlers={[Fi.Events+ii.Get]:new y_(this.didResolver,this.eventLog),[Fi.Events+ii.Query]:new bT(this.didResolver,this.eventLog),[Fi.Events+ii.Subscribe]:new ox(this.didResolver,this.eventStream),[Fi.Messages+ii.Get]:new N5(this.didResolver,this.messageStore,this.dataStore),[Fi.Protocols+ii.Configure]:new lv(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[Fi.Protocols+ii.Query]:new U5(this.didResolver,this.messageStore,this.dataStore),[Fi.Records+ii.Delete]:new dx(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream),[Fi.Records+ii.Query]:new Ah(this.didResolver,this.messageStore,this.dataStore),[Fi.Records+ii.Read]:new Qp(this.didResolver,this.messageStore,this.dataStore),[Fi.Records+ii.Subscribe]:new Ql(this.didResolver,this.messageStore,this.eventStream),[Fi.Records+ii.Write]:new Ch(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,o;return yv(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new ZP({didResolvers:[D_,z5,OT],cache:new WP({location:"RESOLVERCACHE"})})),null!==(o=t.tenantGate)&&void 0!==o||(t.tenantGate=new yT);const p=new BT(t);return yield p.open(),p})}open(){var t;return yv(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open()})}close(){var t;return yv(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.eventLog.close()})}processMessage(t,n,o={}){var p;return yv(this,void 0,void 0,function*(){const y=null!==(p=yield this.validateTenant(t))&&void 0!==p?p:yield this.validateMessageIntegrity(n);if(void 0!==y)return y;const{dataStream:l,subscriptionHandler:u}=o,J=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[J].handle({tenant:t,message:n,dataStream:l,subscriptionHandler:u})})}validateTenant(t){var n;return yv(this,void 0,void 0,function*(){const o=yield this.tenantGate.isActiveTenant(t);if(!o.isActiveTenant)return{status:{code:401,detail:null!==(n=o.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,o;return yv(this,void 0,void 0,function*(){const p=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,y=null===(o=t?.descriptor)||void 0===o?void 0:o.method;if(void 0===p||void 0===y)return{status:{code:400,detail:`Both interface and method must be present, interface: ${p}, method: ${y}`}};try{Ar.validateJsonSchema(t)}catch(l){return fs(l,400)}})}}function XP(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function rc(r,t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,XP(t)]):r})}var vx=E(54626),Kd=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},hd=function(r){return this instanceof hd?(this.v=r,this):new hd(r)},cg=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}},LT=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,o=n.apply(r,t||[]),y=[];return p={},l("next"),l("throw"),l("return"),p[Symbol.asyncIterator]=function(){return this},p;function l(Ee){o[Ee]&&(p[Ee]=function(Le){return new Promise(function(Pe,Xe){y.push([Ee,Le,Pe,Xe])>1||u(Ee,Le)})})}function u(Ee,Le){try{!function J(Ee){Ee.value instanceof hd?Promise.resolve(Ee.value.v).then(X,N):oe(y[0][2],Ee)}(o[Ee](Le))}catch(Pe){oe(y[0][3],Pe)}}function X(Ee){u("next",Ee)}function N(Ee){u("throw",Ee)}function oe(Ee,Le){Ee(Le),y.shift(),y.length&&u(y[0][0],y[0][1])}};function dg(r,t){return Kd(this,void 0,void 0,function*(){return new vx.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class vv{constructor(t,n){this.config=Object.assign({createLevelDatabase:dg},t),this.db=n}open(){return Kd(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return Kd(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return Kd(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new vv(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var o;return Kd(this,void 0,void 0,function*(){null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield rc(this.createLevelDatabase(),n?.signal);try{return yield rc(this.db.get(String(t)),n?.signal)}catch(p){if("LEVEL_NOT_FOUND"===p.code)return;throw p}})}has(t,n){return Kd(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,o;return LT(this,arguments,function*(){var y,l,u;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield hd(rc(this.createLevelDatabase(),t?.signal));try{for(var oe,X=!0,N=cg(this.db.keys());!(y=(oe=yield hd(N.next())).done);X=!0){X=!1;const Ee=oe.value;null===(o=t?.signal)||void 0===o||o.throwIfAborted(),yield yield hd(Ee)}}catch(Ee){l={error:Ee}}finally{try{!X&&!y&&(u=N.return)&&(yield hd(u.call(N)))}finally{if(l)throw l.error}}})}iterator(t,n){var o,p;return LT(this,arguments,function*(){var l,u,J;null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield hd(rc(this.createLevelDatabase(),n?.signal));try{for(var Ee,N=!0,oe=cg(this.db.iterator(t));!(l=(Ee=yield hd(oe.next())).done);N=!0){N=!1;const Le=Ee.value;null===(p=n?.signal)||void 0===p||p.throwIfAborted(),yield yield hd(Le)}}catch(Le){u={error:Le}}finally{try{!N&&!l&&(J=oe.return)&&(yield hd(J.call(oe)))}finally{if(u)throw u.error}}})}put(t,n,o){var p;return Kd(this,void 0,void 0,function*(){return null===(p=o?.signal)||void 0===p||p.throwIfAborted(),yield rc(this.createLevelDatabase(),o?.signal),rc(this.db.put(String(t),n),o?.signal)})}delete(t,n){var o;return Kd(this,void 0,void 0,function*(){return null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield rc(this.createLevelDatabase(),n?.signal),rc(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,o,p;return Kd(this,void 0,void 0,function*(){try{for(var J,l=!0,u=cg(this.keys(t));J=yield u.next(),!(n=J.done);l=!0)return l=!1,!1}catch(X){o={error:X}}finally{try{!l&&!n&&(p=u.return)&&(yield p.call(u))}finally{if(o)throw o.error}}return!0})}clear(){return Kd(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var o;return Kd(this,void 0,void 0,function*(){return null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield rc(this.createLevelDatabase(),n?.signal),rc(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,o,p;return Kd(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield rc(this.createLevelDatabase(),t?.signal);const y=this.sublevelRange;if(!y)return;const l=this.root;return l.db.supports.additionalMethods.compactRange?rc(null===(p=(o=l.db).compactRange)||void 0===p?void 0:p.call(o,...y),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new vv(this.config,t)}createLevelDatabase(){var t;return Kd(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var Ff=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},I_=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}},ic=function(r){return this instanceof ic?(this.v=r,this):new ic(r)},T_=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,o=n.apply(r,t||[]),y=[];return p={},l("next"),l("throw"),l("return"),p[Symbol.asyncIterator]=function(){return this},p;function l(Ee){o[Ee]&&(p[Ee]=function(Le){return new Promise(function(Pe,Xe){y.push([Ee,Le,Pe,Xe])>1||u(Ee,Le)})})}function u(Ee,Le){try{!function J(Ee){Ee.value instanceof ic?Promise.resolve(Ee.value.v).then(X,N):oe(y[0][2],Ee)}(o[Ee](Le))}catch(Pe){oe(y[0][3],Pe)}}function X(Ee){u("next",Ee)}function N(Ee){u("throw",Ee)}function oe(Ee,Le){Ee(Le),y.shift(),y.length&&u(y[0][0],y[0][1])}};class bv{constructor(t,n){this.config=Object.assign({createLevelDatabase:dg},t),this.db=n??new vv(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return Ff(this,void 0,void 0,function*(){return this.db.open()})}close(){return Ff(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return Ff(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new bv(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,o){return Ff(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,o),el.TO.parse(t.toString())})}get(t,n){return Ff(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return Ff(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return Ff(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return Ff(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return T_(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=I_(t);!(p=(N=yield ic(X.next())).done);J=!0){J=!1;const oe=N.value;yield ic(this.put(oe.cid,oe.block,n)),yield yield ic(oe.cid)}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield ic(l.call(X)))}finally{if(y)throw y.error}}})}getMany(t,n){return T_(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=I_(t);!(p=(N=yield ic(X.next())).done);J=!0){J=!1;const oe=N.value;yield yield ic({cid:oe,block:yield ic(this.get(oe,n))})}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield ic(l.call(X)))}finally{if(y)throw y.error}}})}getAll(t){return T_(this,arguments,function*(){var o,p,y,l;const u=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var N,J=!0,X=I_(u);!(o=(N=yield ic(X.next())).done);J=!0){l=N.value,J=!1;const[oe,Ee]=l;yield yield ic({cid:el.TO.decode(oe),block:Ee})}}catch(oe){p={error:oe}}finally{try{!J&&!o&&(y=X.return)&&(yield ic(y.call(X)))}finally{if(p)throw p.error}}})}deleteMany(t,n){return T_(this,arguments,function*(){var p,y,l;try{for(var N,J=!0,X=I_(t);!(p=(N=yield ic(X.next())).done);J=!0){J=!1;const oe=N.value;yield ic(this.delete(oe,n)),yield yield ic(oe)}}catch(oe){y={error:oe}}finally{try{!J&&!p&&(l=X.return)&&(yield ic(l.call(X)))}finally{if(y)throw y.error}}})}clear(){return Ff(this,void 0,void 0,function*(){return this.db.clear()})}}var Sa=E(42853);const q5=function J5(r){if(function X5(r){return null!=r[Symbol.asyncIterator]}(r))return(0,Ne.A)(function*(){let n;var y,o=!1,p=!1;try{for(var u,l=ko(r);o=!(u=yield l.next()).done;o=!1)n=u.value}catch(J){p=!0,y=J}finally{try{o&&null!=l.return&&(yield l.return())}finally{if(p)throw y}}return n})();let t;for(const n of r)t=n;return t};var UT=E(56580);const ek_code=0,tk=function(){var r=(0,Ne.A)(function*(t,n,o,p,y,l,u,J){const X=yield u.get(t,J),N=cb(X);let oe=N,Ee=o;for(;p.length>0;){const Le=p[0];if(!(Le in oe))throw Sa(new Error(`No property named ${Le} found in cbor node ${t}`),"ERR_NO_PROP");{p.shift(),Ee=`${Ee}/${Le}`;const Pe=Bd.TO.asCID(oe[Le]);if(null!=Pe)return{entry:{type:"object",name:n,path:o,cid:t,node:X,depth:l,size:BigInt(X.length),content:function(){var Xe=Xo(function*(){yield N});return function(){return Xe.apply(this,arguments)}}()},next:{cid:Pe,name:Le,path:Ee,toResolve:p}};oe=oe[Le]}}return{entry:{type:"object",name:n,path:o,cid:t,node:X,depth:l,size:BigInt(X.length),content:(Le=Xo(function*(){yield N}),function(){return Le.apply(this,arguments)})}};var Le});return function(n,o,p,y,l,u,J,X){return r.apply(this,arguments)}}(),wv=function nk(r,t,n,o){const p=BigInt(r.length),y=BigInt(t+p);return n>=y||o<t?new Uint8Array(0):(o>=t&&o<y&&(r=r.subarray(0,Number(o-t))),n>=t&&n<y&&(r=r.subarray(Number(n-t))),r)},bx=(r,t=0,n=r)=>{const o=BigInt(r),p=BigInt(t??0);let y=BigInt(n);if(y!==o&&(y=p+y),y>o&&(y=o),p<0n)throw Sa(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(p>o)throw Sa(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(y<0n)throw Sa(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(y>o)throw Sa(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:p,end:y}},rk=r=>{function n(){return(n=Xo(function*(o={}){const{start:p,end:y}=bx(r.length,o.offset,o.length),l=wv(r,0n,p,y);o.onProgress?.(new _d("unixfs:exporter:progress:identity",{bytesRead:BigInt(l.byteLength),totalBytes:y-p,fileSize:BigInt(r.byteLength)})),yield l})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},ok=function(){var r=(0,Ne.A)(function*(t,n,o,p,y,l,u,J){if(p.length>0)throw Sa(new Error(`No link named ${o} found in raw node ${t}`),"ERR_NOT_FOUND");const X=UT.D4(t.multihash.bytes);return{entry:{type:"identity",name:n,path:o,cid:t,content:rk(X.digest),depth:l,size:BigInt(X.digest.length),node:X.digest}}});return function(n,o,p,y,l,u,J,X){return r.apply(this,arguments)}}(),KT=r=>{function n(){return(n=Xo(function*(o={}){const{start:p,end:y}=bx(r.length,o.offset,o.length),l=wv(r,0n,p,y);o.onProgress?.(new _d("unixfs:exporter:progress:raw",{bytesRead:BigInt(l.byteLength),totalBytes:y-p,fileSize:BigInt(r.byteLength)})),yield l})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},sk=function(){var r=(0,Ne.A)(function*(t,n,o,p,y,l,u,J){if(p.length>0)throw Sa(new Error(`No link named ${o} found in raw node ${t}`),"ERR_NOT_FOUND");const X=yield u.get(t,J);return{entry:{type:"raw",name:n,path:o,cid:t,content:KT(X),depth:l,size:BigInt(X.length),node:X}}});return function(n,o,p,y,l,u,J,X){return r.apply(this,arguments)}}(),VT=function(){var r=(0,Ne.A)(function*(t){return(yield yD.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),zT=function(){var r=(0,Ne.A)(function*(t,n,o){yield Promise.all(t.map(function(){var p=(0,Ne.A)(function*(y){if(null==y.Name)throw new Error("Unexpected Link without a Name");if(2!==y.Name.length)yield o.put(y.Name.substring(2),!0);else{const l=parseInt(y.Name,16);n._putObjectAt(l,new ks({hash:o._options.hash,bits:o._options.bits},n,l))}});return function(y){return p.apply(this,arguments)}}()))});return function(n,o,p){return r.apply(this,arguments)}}(),HT=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),GT=function(){var r=(0,Ne.A)(function*(t,n,o,p,y){if(null==p){const oe=qD({hashFn:VT});p={rootBucket:oe,hamtDepth:1,lastBucket:oe}}yield zT(t.Links,p.lastBucket,p.rootBucket);const l=yield p.rootBucket._findNewBucketAndPos(n);let u=HT(l.pos);const J=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(l);J.length>p.hamtDepth&&(p.lastBucket=J[p.hamtDepth],u=HT(p.lastBucket._posAtParent));const X=t.Links.find(oe=>{if(null==oe.Name)return!1;const Ee=oe.Name.substring(0,2),Le=oe.Name.substring(2);return!(Ee!==u||""!==Le&&Le!==n)});if(null!=X)return null!=X.Name&&X.Name.substring(2)===n?X.Hash:(p.hamtDepth++,t=Qg(yield o.get(X.Hash,y)),GT(t,n,o,p,y))});return function(n,o,p,y,l){return r.apply(this,arguments)}}(),wx=GT,Ex=function _x(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],o=[];return{peek:()=>t.next(),push:p=>{o.push(p)},next:()=>o.length>0?{done:!1,value:o.shift()}:t.next(),[n](){return this}}},Mx=function YT(r,t){let n=0;if(function QP(r){return null!=r[Symbol.asyncIterator]}(r))return Xo(function*(){var N,J=!1,X=!1;try{for(var Ee,oe=ko(r);J=!(Ee=yield si(oe.next())).done;J=!1){const Le=Ee.value;yield t(Le,n++)}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield si(oe.return()))}finally{if(X)throw N}}})();const o=Ex(r),{value:p,done:y}=o.next();if(!0===y)return function*(){}();const l=t(p,n++);if("function"==typeof l.then)return Xo(function*(){yield yield si(l);var N,J=!1,X=!1;try{for(var Ee,oe=ko(o);J=!(Ee=yield si(oe.next())).done;J=!1){const Le=Ee.value;yield t(Le,n++)}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield si(oe.return()))}finally{if(X)throw N}}})();const u=t;return function*(){yield l;for(const J of o)yield u(J,n++)}()};function _v(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const C_=globalThis.CustomEvent??Event;function k_(r){return P_.apply(this,arguments)}function P_(){return(P_=Xo(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const o=null!=t.ordered&&t.ordered,p=new EventTarget,y=[];let X,l=_v(),u=_v(),J=!1,N=!1;function oe(){return o?y[0]?.done:!!y.find(Pe=>Pe.done)}function*Ee(){for(;y.length>0&&y[0].done;){const Pe=y[0];if(y.shift(),!Pe.ok)throw N=!0,l.resolve(),Pe.err;yield Pe.value,l.resolve()}}function*Le(){for(;oe();)for(let Pe=0;Pe<y.length;Pe++)if(y[Pe].done){const Xe=y[Pe];if(y.splice(Pe,1),Pe--,!Xe.ok)throw N=!0,l.resolve(),Xe.err;yield Xe.value,l.resolve()}}for(p.addEventListener("task-complete",()=>{u.resolve()}),Promise.resolve().then((0,Ne.A)(function*(){try{var vt,Pe=!1,Xe=!1;try{for(var bt,Tt=ko(r);Pe=!(bt=yield Tt.next()).done;Pe=!1){const wt=bt.value;{if(y.length===n&&(l=_v(),yield l.promise),N)break;const Ct={done:!1};y.push(Ct),wt().then(Wt=>{Ct.done=!0,Ct.ok=!0,Ct.value=Wt,p.dispatchEvent(new C_("task-complete"))},Wt=>{Ct.done=!0,Ct.err=Wt,p.dispatchEvent(new C_("task-complete"))})}}}catch(wt){Xe=!0,vt=wt}finally{try{Pe&&null!=Tt.return&&(yield Tt.return())}finally{if(Xe)throw vt}}J=!0,p.dispatchEvent(new C_("task-complete"))}catch(wt){X=wt,p.dispatchEvent(new C_("task-complete"))}}));;){if(oe()||(u=_v(),yield si(u.promise)),null!=X)throw X;if(o?yield*il(ko(Ee())):yield*il(ko(Le())),J&&0===y.length)break}})).apply(this,arguments)}class pl{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class lg{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new pl(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new pl(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class R_ extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function O_(r={}){return function XT(r,t){let p,y,l,n=(t=t??{}).onEnd,o=new lg,u=_v();const J=function(){var vt=(0,Ne.A)(function*(){try{return o.isEmpty()?l?{done:!0}:yield new Promise((Tt,bt)=>{y=wt=>{y=null,o.push(wt);try{Tt(r(o))}catch(Ct){bt(Ct)}return p}}):r(o)}finally{o.isEmpty()&&queueMicrotask(()=>{u.resolve(),u=_v()})}});return function(){return vt.apply(this,arguments)}}(),X=vt=>null!=y?y(vt):(o.push(vt),p),oe=vt=>{if(l)return p;if(!0!==t?.objectMode&&null==vt?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return X({done:!1,value:vt})},Ee=vt=>l?p:(l=!0,null!=vt?(vt=>(o=new lg,null!=y?y({error:vt}):(o.push({error:vt}),p)))(vt):X({done:!0}));if(p={[Symbol.asyncIterator](){return this},next:J,return:()=>(o=new lg,Ee(),{done:!0}),throw:vt=>(Ee(vt),{done:!0}),push:oe,end:Ee,get readableLength(){return o.size},onEmpty:(vt=(0,Ne.A)(function*(Tt){const bt=Tt?.signal;if(bt?.throwIfAborted(),o.isEmpty())return;let wt,Ct;null!=bt&&(wt=new Promise((Wt,Jt)=>{Ct=()=>{Jt(new R_)},bt.addEventListener("abort",Ct)}));try{yield Promise.race([u.promise,wt])}finally{null!=Ct&&null!=bt&&bt?.removeEventListener("abort",Ct)}}),function(bt){return vt.apply(this,arguments)})},null==n)return p;var vt;const Xe=p;return p={[Symbol.asyncIterator](){return this},next:()=>Xe.next(),throw:vt=>(Xe.throw(vt),null!=n&&(n(vt),n=void 0),{done:!0}),return:()=>(Xe.return(),null!=n&&(n(),n=void 0),{done:!0}),push:oe,end:vt=>(Xe.end(vt),null!=n&&(n(vt),n=void 0),p),get readableLength(){return Xe.readableLength},onEmpty:vt=>Xe.onEmpty(vt)},p}(n=>{const o=n.shift();if(null==o)return{done:!0};if(null!=o.error)throw o.error;return{done:!0===o.done,value:o.value}},r)}function ak(r){return null!=r[Symbol.asyncIterator]}function Sx(r,...t){if(null==r)throw new Error("Empty pipeline");if(Ev(r)){const o=r;r=()=>o.source}else if(QT(r)||qT(r)){const o=r;r=()=>o}const n=[r,...t];if(n.length>1&&Ev(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let o=1;o<n.length-1;o++)Ev(n[o])&&(n[o]=dk(n[o]));return JT(...n)}const JT=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},qT=r=>null!=r?.[Symbol.asyncIterator],QT=r=>null!=r?.[Symbol.iterator],Ev=r=>null!=r&&null!=r.sink&&null!=r.source,dk=r=>t=>{const n=r.sink(t);if(null!=n?.then){const o=O_({objectMode:!0});let p;n.then(()=>{o.end()},l=>{o.end(l)});const y=r.source;if(qT(y))p=function(){var l=Xo(function*(){yield*il(ko(y)),o.end()});return function(){return l.apply(this,arguments)}}();else{if(!QT(y))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");p=function*(){yield*y,o.end()}}return function ck(...r){const t=[];for(const n of r)ak(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():Xo(function*(){const n=O_({objectMode:!0});Promise.resolve().then((0,Ne.A)(function*(){try{yield Promise.all(r.map(function(){var o=(0,Ne.A)(function*(p){var u,y=!1,l=!1;try{for(var X,J=ko(p);y=!(X=yield J.next()).done;y=!1)n.push(X.value)}catch(N){l=!0,u=N}finally{try{y&&null!=J.return&&(yield J.return())}finally{if(l)throw u}}});return function(p){return o.apply(this,arguments)}}())),n.end()}catch(o){n.end(o)}})),yield*il(ko(n))})()}(o,p())}return r.source};var lk=E(50233);class N_ extends Error{constructor(t){super(t),this.name="TimeoutError"}}class eA extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const fk=r=>void 0===globalThis.DOMException?new eA(r):new DOMException(r),ug=r=>{const t=void 0===r.reason?fk("This operation was aborted."):r.reason;return t instanceof Error?t:fk(t)};var jf,Ku=function(r,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(r):o?o.value:t.get(r)};jf=new WeakMap;const oR=class iR{constructor(){jf.set(this,[])}enqueue(t,n){const o={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&Ku(this,jf,"f")[this.size-1].priority>=n.priority)return void Ku(this,jf,"f").push(o);const p=function hk(r,t,n){let o=0,p=r.length;for(;p>0;){const y=Math.trunc(p/2);let l=o+y;n(r[l],t)<=0?(o=++l,p-=y+1):p=y}return o}(Ku(this,jf,"f"),o,(y,l)=>l.priority-y.priority);Ku(this,jf,"f").splice(p,0,o)}dequeue(){const t=Ku(this,jf,"f").shift();return t?.run}filter(t){return Ku(this,jf,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return Ku(this,jf,"f").length}};var fa,ml,fg,Ph,Ix,hg,B_,Vd,L_,zd,xv,gl,U_,rm,F_,pk,mk,gk,Tx,Ax,j_,Cx,tA,kx,yk,Px,ca=function(r,t,n,o,p){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!p)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!p:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?p.call(r,n):p?p.value=n:t.set(r,n),n},ai=function(r,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(r):o?o.value:t.get(r)};class vk extends Error{}ml=new WeakMap,fg=new WeakMap,Ph=new WeakMap,Ix=new WeakMap,hg=new WeakMap,B_=new WeakMap,Vd=new WeakMap,L_=new WeakMap,zd=new WeakMap,xv=new WeakMap,gl=new WeakMap,U_=new WeakMap,rm=new WeakMap,F_=new WeakMap,fa=new WeakSet,pk=function(){return ai(this,fg,"f")||ai(this,Ph,"f")<ai(this,Ix,"f")},mk=function(){return ai(this,gl,"f")<ai(this,U_,"f")},gk=function(){var t;ca(this,gl,(t=ai(this,gl,"f"),--t),"f"),ai(this,fa,"m",j_).call(this),this.emit("next")},Tx=function(){ai(this,fa,"m",tA).call(this),ai(this,fa,"m",Cx).call(this),ca(this,L_,void 0,"f")},Ax=function(){const t=Date.now();if(void 0===ai(this,Vd,"f")){const n=ai(this,B_,"f")-t;if(!(n<0))return void 0===ai(this,L_,"f")&&ca(this,L_,setTimeout(()=>{ai(this,fa,"m",Tx).call(this)},n),"f"),!0;ca(this,Ph,ai(this,ml,"f")?ai(this,gl,"f"):0,"f")}return!1},j_=function(){if(0===ai(this,zd,"f").size)return ai(this,Vd,"f")&&clearInterval(ai(this,Vd,"f")),ca(this,Vd,void 0,"f"),this.emit("empty"),0===ai(this,gl,"f")&&this.emit("idle"),!1;if(!ai(this,rm,"f")){const t=!ai(this,fa,"a",Ax);if(ai(this,fa,"a",pk)&&ai(this,fa,"a",mk)){const n=ai(this,zd,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&ai(this,fa,"m",Cx).call(this),!0)}}return!1},Cx=function(){ai(this,fg,"f")||void 0!==ai(this,Vd,"f")||(ca(this,Vd,setInterval(()=>{ai(this,fa,"m",tA).call(this)},ai(this,hg,"f")),"f"),ca(this,B_,Date.now()+ai(this,hg,"f"),"f"))},tA=function(){0===ai(this,Ph,"f")&&0===ai(this,gl,"f")&&ai(this,Vd,"f")&&(clearInterval(ai(this,Vd,"f")),ca(this,Vd,void 0,"f")),ca(this,Ph,ai(this,ml,"f")?ai(this,gl,"f"):0,"f"),ai(this,fa,"m",kx).call(this)},kx=function(){for(;ai(this,fa,"m",j_).call(this););},yk=function(){var r=(0,Ne.A)(function*(n){return new Promise((o,p)=>{n.addEventListener("abort",()=>{p(new vk("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),Px=function(){var r=(0,Ne.A)(function*(n,o){return new Promise(p=>{const y=()=>{o&&!o()||(this.off(n,y),p())};this.on(n,y)})});return function t(n,o){return r.apply(this,arguments)}}();const $_=class nA extends lk{constructor(t){var n,o,p,y;if(super(),fa.add(this),ml.set(this,void 0),fg.set(this,void 0),Ph.set(this,0),Ix.set(this,void 0),hg.set(this,void 0),B_.set(this,0),Vd.set(this,void 0),L_.set(this,void 0),zd.set(this,void 0),xv.set(this,void 0),gl.set(this,0),U_.set(this,void 0),rm.set(this,void 0),F_.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:oR,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(o=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==o?o:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(y=null===(p=t.interval)||void 0===p?void 0:p.toString())&&void 0!==y?y:""}\` (${typeof t.interval})`);ca(this,ml,t.carryoverConcurrencyCount,"f"),ca(this,fg,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),ca(this,Ix,t.intervalCap,"f"),ca(this,hg,t.interval,"f"),ca(this,zd,new t.queueClass,"f"),ca(this,xv,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,ca(this,F_,!0===t.throwOnTimeout,"f"),ca(this,rm,!1===t.autoStart,"f")}get concurrency(){return ai(this,U_,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);ca(this,U_,t,"f"),ai(this,fa,"m",kx).call(this)}add(t,n={}){var o=this;return(0,Ne.A)(function*(){return n={timeout:o.timeout,throwOnTimeout:ai(o,F_,"f"),...n},new Promise((p,y)=>{ai(o,zd,"f").enqueue((0,Ne.A)(function*(){var l,u,J;ca(o,gl,(u=ai(o,gl,"f"),++u),"f"),ca(o,Ph,(J=ai(o,Ph,"f"),++J),"f");try{if(null!==(l=n.signal)&&void 0!==l&&l.aborted)throw new vk("The task was aborted.");let X=t({signal:n.signal});n.timeout&&(X=function rR(r,t,n,o){let p;const y=new Promise((l,u)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((o={customTimers:{setTimeout,clearTimeout},...o}).signal){const{signal:J}=o;J.aborted&&u(ug(J)),J.addEventListener("abort",()=>{u(ug(J))})}p=o.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{l(n())}catch(N){u(N)}return}const X=n instanceof Error?n:new N_("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),u(X)},t),(0,Ne.A)(function*(){try{l(yield r)}catch(J){u(J)}finally{o.customTimers.clearTimeout.call(void 0,p)}})()}else l(r)});return y.clear=()=>{clearTimeout(p),p=void 0},y}(Promise.resolve(X),n.timeout)),n.signal&&(X=Promise.race([X,ai(o,fa,"m",yk).call(o,n.signal)]));const N=yield X;p(N),o.emit("completed",N)}catch(X){if(X instanceof N_&&!n.throwOnTimeout)return void p();y(X),o.emit("error",X)}finally{ai(o,fa,"m",gk).call(o)}}),n),o.emit("add"),ai(o,fa,"m",j_).call(o)})})()}addAll(t,n){var o=this;return(0,Ne.A)(function*(){return Promise.all(t.map(function(){var p=(0,Ne.A)(function*(y){return o.add(y,n)});return function(y){return p.apply(this,arguments)}}()))})()}start(){return ai(this,rm,"f")?(ca(this,rm,!1,"f"),ai(this,fa,"m",kx).call(this),this):this}pause(){ca(this,rm,!0,"f")}clear(){ca(this,zd,new(ai(this,xv,"f")),"f")}onEmpty(){var t=this;return(0,Ne.A)(function*(){0!==ai(t,zd,"f").size&&(yield ai(t,fa,"m",Px).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,Ne.A)(function*(){ai(n,zd,"f").size<t||(yield ai(n,fa,"m",Px).call(n,"next",()=>ai(n,zd,"f").size<t))})()}onIdle(){var t=this;return(0,Ne.A)(function*(){0===ai(t,gl,"f")&&0===ai(t,zd,"f").size||(yield ai(t,fa,"m",Px).call(t,"idle"))})()}get size(){return ai(this,zd,"f").size}sizeBy(t){return ai(this,zd,"f").filter(t).length}get pending(){return ai(this,gl,"f")}get isPaused(){return ai(this,rm,"f")}};function rA(r,t,n,o,p,y,l){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,Ne.A)(function*(r,t,n,o,p,y,l){if(t instanceof Uint8Array){const X=wv(t,o,p,y);return void n.push(X)}if(null==t.Data)throw Sa(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let u;try{u=Nl.unmarshal(t.Data)}catch(X){throw Sa(X,"ERR_NOT_UNIXFS")}if(null!=u.data){const N=wv(u.data,o,p,y);n.push(N),o+=BigInt(N.byteLength)}const J=[];if(t.Links.length!==u.blockSizes.length)throw Sa(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let X=0;X<t.Links.length;X++){const Ee=o+u.blockSizes[X];if((p>=o&&p<Ee||y>=o&&y<=Ee||p<o&&y>Ee)&&J.push({link:t.Links[X],blockStart:o}),(o=Ee)>y)break}yield Sx(J,X=>Mx(X,N=>(0,Ne.A)(function*(){const oe=yield r.get(N.link.Hash,l);return{...N,block:oe}})),X=>k_(X,{ordered:!0}),function(){var X=(0,Ne.A)(function*(N){var Le,oe=!1,Ee=!1;try{for(var Xe,Pe=ko(N);oe=!(Xe=yield Pe.next()).done;oe=!1){const{link:vt,block:Tt,blockStart:bt}=Xe.value;{let wt;switch(vt.Hash.code){case Eb:wt=Qg(Tt);break;case fp:wt=Tt;break;default:return void n.end(Sa(new Error(`Unsupported codec: ${vt.Hash.code}`),"ERR_NOT_UNIXFS"))}const Ct=new $_({concurrency:1});Ct.on("error",Wt=>{n.end(Wt)}),Ct.add((0,Ne.A)(function*(){l.onProgress?.(new _d("unixfs:exporter:walk:file",{cid:vt.Hash})),yield rA(r,wt,n,bt,p,y,l)})),yield Ct.onIdle()}}}catch(vt){Ee=!0,Le=vt}finally{try{oe&&null!=Pe.return&&(yield Pe.return())}finally{if(Ee)throw Le}}});return function(N){return X.apply(this,arguments)}}()),o>=y&&n.end()}),Rx.apply(this,arguments)}const Rh=(r,t,n,o,p,y,l)=>{function J(){return(J=Xo(function*(X={}){const N=n.fileSize();if(void 0===N)throw new Error("File was a directory");const{start:oe,end:Ee}=bx(N,X.offset,X.length);if(0n===Ee)return;let Le=0n;const Pe=Ee-oe,Xe=O_();X.onProgress?.(new _d("unixfs:exporter:walk:file",{cid:r})),rA(l,t,Xe,0n,oe,Ee,X).catch(Wt=>{Xe.end(Wt)});var bt,vt=!1,Tt=!1;try{for(var Ct,wt=ko(Xe);vt=!(Ct=yield si(wt.next())).done;vt=!1){const Wt=Ct.value;if(null!=Wt){if(Le+=BigInt(Wt.byteLength),Le>Pe)throw Xe.end(),Sa(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");Le===Pe&&Xe.end(),X.onProgress?.(new _d("unixfs:exporter:progress:unixfs:file",{bytesRead:Le,totalBytes:Pe,fileSize:N})),yield Wt}}}catch(Wt){Tt=!0,bt=Wt}finally{try{vt&&null!=wt.return&&(yield si(wt.return()))}finally{if(Tt)throw bt}}if(Le<Pe)throw Sa(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function u(){return J.apply(this,arguments)}};function K_(r,t,n,o,p,y){return Mv.apply(this,arguments)}function Mv(){return(Mv=Xo(function*(r,t,n,o,p,y){const u=Sx(r.Links,Le=>Mx(Le,Pe=>(0,Ne.A)(function*(){const Xe=null!=Pe.Name?Pe.Name.substring(2):null;if(null!=Xe&&""!==Xe){const vt=yield n(Pe.Hash,Xe,`${t}/${Xe}`,[],o+1,p,y);return{entries:null==vt.entry?[]:[vt.entry]}}{const vt=yield p.get(Pe.Hash,y);return r=Qg(vt),y.onProgress?.(new _d("unixfs:exporter:walk:hamt-sharded-directory",{cid:Pe.Hash})),{entries:K_(r,t,n,o,p,y)}}})),Le=>k_(Le,{ordered:!0}));var N,J=!1,X=!1;try{for(var Ee,oe=ko(u);J=!(Ee=yield si(oe.next())).done;J=!1){const{entries:Le}=Ee.value;yield*il(ko(Le))}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield si(oe.return()))}finally{if(X)throw N}}})).apply(this,arguments)}const Nx={raw:Rh,file:Rh,directory:(r,t,n,o,p,y,l)=>{function J(){return(J=Xo(function*(X={}){const Ee=t.Links.slice(X.offset??0,X.length??t.Links.length);X.onProgress?.(new _d("unixfs:exporter:walk:directory",{cid:r})),yield*il(ko(Sx(Ee,Le=>Mx(Le,Pe=>(0,Ne.A)(function*(){const Xe=Pe.Name??"",vt=`${o}/${Xe}`;return(yield p(Pe.Hash,Xe,vt,[],y+1,l,X)).entry})),Le=>k_(Le,{ordered:!0}),Le=>function xx(r,t){let n=0;if(function ZT(r){return null!=r[Symbol.asyncIterator]}(r))return Xo(function*(){var N,J=!1,X=!1;try{for(var Ee,oe=ko(r);J=!(Ee=yield si(oe.next())).done;J=!1){const Le=Ee.value;(yield si(t(Le,n++)))&&(yield Le)}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield si(oe.return()))}finally{if(X)throw N}}})();const o=Ex(r),{value:p,done:y}=o.next();if(!0===y)return function*(){}();const l=t(p,n++);if("function"==typeof l.then)return Xo(function*(){(yield si(l))&&(yield p);var N,J=!1,X=!1;try{for(var Ee,oe=ko(o);J=!(Ee=yield si(oe.next())).done;J=!1){const Le=Ee.value;(yield si(t(Le,n++)))&&(yield Le)}}catch(Le){X=!0,N=Le}finally{try{J&&null!=oe.return&&(yield si(oe.return()))}finally{if(X)throw N}}})();const u=t;return function*(){!0===l&&(yield p);for(const J of o)u(J,n++)&&(yield J)}()}(Le,Pe=>null!=Pe))))})).apply(this,arguments)}return function u(){return J.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,o,p,y,l)=>function u(J={}){return J.onProgress?.(new _d("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),K_(t,o,p,y,l,J)},metadata:(r,t,n,o,p,y,l)=>()=>[],symlink:(r,t,n,o,p,y,l)=>()=>[]},sR=function(){var r=(0,Ne.A)(function*(t,n,o,p,y,l,u,J){const N=Qg(yield u.get(t,J));let oe,Ee;if(null==n&&(n=t.toString()),null==N.Data)throw Sa(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{oe=Nl.unmarshal(N.Data)}catch(Pe){throw Sa(Pe,"ERR_NOT_UNIXFS")}if(null==o&&(o=n),p.length>0){let Pe;if(Pe="hamt-sharded-directory"===oe?.type?yield wx(N,p[0],u):((r,t)=>r.Links.find(o=>o.Name===t)?.Hash)(N,p[0]),null==Pe)throw Sa(new Error("file does not exist"),"ERR_NOT_FOUND");const Xe=p.shift();Ee={cid:Pe,toResolve:p,name:Xe??"",path:`${o}/${Xe}`}}const Le=Nx[oe.type](t,N,oe,o,y,l,u);if(null==Le)throw Sa(new Error("could not find content exporter"),"ERR_NOT_FOUND");return oe.isDirectory()?{entry:{type:"directory",name:n,path:o,cid:t,content:Le,unixfs:oe,depth:l,node:N,size:oe.fileSize()},next:Ee}:{entry:{type:"file",name:n,path:o,cid:t,content:Le,unixfs:oe,depth:l,node:N,size:oe.fileSize()},next:Ee}});return function(n,o,p,y,l,u,J,X){return r.apply(this,arguments)}}(),aR={[Eb]:sR,[fp]:sk,[tp]:tk,[ek_code]:ok},_k=function(){var r=(0,Ne.A)(function*(t,n,o,p,y,l,u){const J=aR[t.code];if(null==J)throw Sa(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return J(t,n,o,p,_k,y,l,u)});return function(n,o,p,y,l,u,J){return r.apply(this,arguments)}}(),oA=_k,xk=r=>{if(r instanceof Uint8Array)return{cid:Bd.TO.decode(r),toResolve:[]};const t=Bd.TO.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:Bd.TO.parse(n[0]),toResolve:n.slice(1)}}throw Sa(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function Lx(){return(Lx=Xo(function*(r,t,n={}){let{cid:o,toResolve:p}=xk(r),y=o.toString(),l=y;const u=p.length;for(;;){const J=yield si(oA(o,y,l,p,u,t,n));if(null==J.entry&&null==J.next)throw Sa(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=J.entry&&(yield J.entry),null==J.next)return;p=J.next.toResolve,o=J.next.cid,y=J.next.name,l=J.next.path}})).apply(this,arguments)}function V_(){return V_=(0,Ne.A)(function*(r,t,n={}){const o=yield q5(function Mk(r,t){return Lx.apply(this,arguments)}(r,t,n));if(null==o)throw Sa(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return o}),V_.apply(this,arguments)}var Oh=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class jx{constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:dg},t),this.blockstore=new bv({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Oh(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return Oh(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,o,p){var y,l,u,X,N;return Oh(this,void 0,void 0,function*(){const oe=yield this.getBlockstoreForStoringData(t,n,o),Ee=ol([{content:p}],oe,{cidVersion:1});let Le;try{for(var vt,Pe=!0,Xe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}}(Ee);vt=yield Xe.next(),!(y=vt.done);Pe=!0)Pe=!1,Le=vt.value}catch(Tt){l={error:Tt}}finally{try{!Pe&&!y&&(u=Xe.return)&&(yield u.call(Xe))}finally{if(l)throw l.error}}return{dataSize:Number(null!==(N=null===(X=Le.unixfs)||void 0===X?void 0:X.fileSize())&&void 0!==N?N:Le.size)}})}get(t,n,o){return Oh(this,void 0,void 0,function*(){const p=yield this.getBlockstoreForStoringData(t,n,o);if(!(yield p.has(o)))return;const l=yield function Ux(r,t){return V_.apply(this,arguments)}(o,p),u=l.content(),J=new Cy.Readable({read(){return Oh(this,void 0,void 0,function*(){const N=yield u.next();this.push(N.done?null:N.value)})}});let X=l.size;return("file"===l.type||"directory"===l.type)&&(X=l.unixfs.fileSize()),{dataSize:Number(X),dataStream:J}})}delete(t,n,o){return Oh(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,o)).clear()})}clear(){return Oh(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,o){return Oh(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(o)})}}var oc=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},pg=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(y){n[y]=r[y]&&function(l){return new Promise(function(u,J){!function p(y,l,u,J){Promise.resolve(J).then(function(X){y({value:X,done:u})},l)}(u,J,(l=r[y](l)).done,l.value)})}}},$f=function(r){return this instanceof $f?(this.v=r,this):new $f(r)};let $x=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:dg},n),this.db=new vv({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return oc(this,void 0,void 0,function*(){yield this.db.open()})}close(){return oc(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return oc(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,o,p,y){return oc(this,void 0,void 0,function*(){if(Mw(p))throw new te(de.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const l={messageCid:o,indexes:p},u=[];for(const oe in p){const Ee=p[oe];if(Array.isArray(Ee))for(const Le of Ee){const Pe=this.createPutIndexedItemOperation(n,l,oe,Le);u.push(Pe)}else{const Le=this.createPutIndexedItemOperation(n,l,oe,Ee);u.push(Le)}}const J=this.createOperationForIndexesLookupPartition(n,{type:"put",key:o,value:JSON.stringify(p)});u.push(J);const X=yield Promise.all(u);yield(yield this.db.partition(n)).batch(X,y)})}delete(n,o,p){return oc(this,void 0,void 0,function*(){const y=[],l=yield this.getIndexes(n,o);if(void 0===l)return;const u=this.createOperationForIndexesLookupPartition(n,{type:"del",key:o});y.push(u);for(const N in l){const oe=l[N];if(Array.isArray(oe))for(const Ee of oe){const Le=this.createDeleteIndexedItemOperation(n,o,N,Ee);y.push(Le)}else{const Ee=this.createDeleteIndexedItemOperation(n,o,N,oe);y.push(Ee)}}const J=yield Promise.all(y);yield(yield this.db.partition(n)).batch(J,p)})}createPutIndexedItemOperation(n,o,p,y){return oc(this,void 0,void 0,function*(){const{messageCid:l}=o,u=r.keySegmentJoin(r.encodeValue(y),l);return this.createOperationForIndexPartition(n,p,{type:"put",key:u,value:JSON.stringify(o)})})}createDeleteIndexedItemOperation(n,o,p,y){return oc(this,void 0,void 0,function*(){const l=r.keySegmentJoin(r.encodeValue(y),o);return this.createOperationForIndexPartition(n,p,{type:"del",key:l})})}createOperationForIndexPartition(n,o,p){return oc(this,void 0,void 0,function*(){const y=yield this.db.partition(n),l=r.getIndexPartitionName(o);return y.createPartitionOperation(l,p)})}createOperationForIndexesLookupPartition(n,o){return oc(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",o)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,o){return oc(this,void 0,void 0,function*(){const p=r.getIndexPartitionName(o);return(yield this.db.partition(n)).partition(p)})}getIndexesLookupPartition(n){return oc(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,o,p,y){return oc(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(o,p)?this.queryWithInMemoryPaging(n,o,p,y):this.queryWithIteratorPaging(n,o,p,y)})}queryWithIteratorPaging(n,o,p,y){var l,u,J;return oc(this,void 0,void 0,function*(){const{cursor:N,limit:oe}=p,Ee=N?this.createStartingKeyFromCursor(N):"",Le=[];try{for(var vt,Pe=!0,Xe=pg(this.getIndexIterator(n,Ee,p,y));vt=yield Xe.next(),!(l=vt.done);Pe=!0){Pe=!1;const Tt=vt.value;if(void 0!==oe&&oe===Le.length)break;const{indexes:bt}=Tt;od.matchAnyFilter(bt,o)&&Le.push(Tt)}}catch(Tt){u={error:Tt}}finally{try{!Pe&&!l&&(J=Xe.return)&&(yield J.call(Xe))}finally{if(u)throw u.error}}return Le})}getIndexIterator(n,o,p,y){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,o=n.apply(r,t||[]),y=[];return p={},l("next"),l("throw"),l("return"),p[Symbol.asyncIterator]=function(){return this},p;function l(Ee){o[Ee]&&(p[Ee]=function(Le){return new Promise(function(Pe,Xe){y.push([Ee,Le,Pe,Xe])>1||u(Ee,Le)})})}function u(Ee,Le){try{!function J(Ee){Ee.value instanceof $f?Promise.resolve(Ee.value.v).then(X,N):oe(y[0][2],Ee)}(o[Ee](Le))}catch(Pe){oe(y[0][3],Pe)}}function X(Ee){u("next",Ee)}function N(Ee){u("throw",Ee)}function oe(Ee,Le){Ee(Le),y.shift(),y.length&&u(y[0][0],y[0][1])}}(this,arguments,function*(){var u,J,X,N;const{sortProperty:oe,sortDirection:Ee=hl.Ascending,cursor:Le}=p,Pe={gt:o};Ee===hl.Descending&&(Pe.reverse=!0,void 0!==Le&&(Pe.lt=o,delete Pe.gt));const Xe=yield $f(this.getIndexPartition(n,oe));try{for(var bt,vt=!0,Tt=pg(Xe.iterator(Pe,y));!(u=(bt=yield $f(Tt.next())).done);vt=!0){N=bt.value,vt=!1;const[wt,Ct]=N,{indexes:Wt,messageCid:Jt}=JSON.parse(Ct);yield yield $f({indexes:Wt,messageCid:Jt})}}catch(wt){J={error:wt}}finally{try{!vt&&!u&&(X=Tt.return)&&(yield $f(X.call(Tt)))}finally{if(J)throw J.error}}})}createStartingKeyFromCursor(n){const{messageCid:o,value:p}=n;return r.keySegmentJoin(r.encodeValue(p),o)}static createCursorFromLastArrayItem(n,o){if(n.length>0)return this.createCursorFromItem(n.at(-1),o)}static createCursorFromItem(n,o){const{messageCid:p,indexes:y}=n,l=y[o];if(void 0===l)throw new te(de.IndexInvalidCursorSortProperty,`the sort property '${o}' is not defined within the given item.`);if("boolean"==typeof l||Array.isArray(l))throw new te(de.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof l} was given.`);return{messageCid:p,value:l}}queryWithInMemoryPaging(n,o,p,y){return oc(this,void 0,void 0,function*(){const{sortProperty:l,sortDirection:u=hl.Ascending,cursor:J,limit:X}=p,N=J?this.createStartingKeyFromCursor(J):void 0,oe=new Map;0===o.length&&(o=[{}]);try{yield Promise.all(o.map(Xe=>this.executeSingleFilterQuery(n,Xe,l,oe,y)))}catch(Xe){if(Xe.code===de.IndexInvalidSortPropertyInMemory)return[]}const Ee=[...oe.values()].sort((Xe,vt)=>this.sortItems(Xe,vt,l,u)),Le=void 0!==N?this.findCursorStartingIndex(Ee,u,l,N):0;return Le<0?[]:Ee.slice(Le,void 0!==X?Le+X:void 0)})}executeSingleFilterQuery(n,o,p,y,l){return oc(this,void 0,void 0,function*(){const u=[];if(Mw(o)){const X=this.getAllItems(n,p);u.push(X)}const J=dI.reduceFilter(o);for(const X in J){const N=J[X];if(od.isEqualFilter(N)){const oe=this.filterExactMatches(n,X,N,l);u.push(oe)}else if(od.isOneOfFilter(N))for(const oe of new Set(N)){const Ee=this.filterExactMatches(n,X,oe,l);u.push(Ee)}else if(od.isRangeFilter(N)){const oe=this.filterRangeMatches(n,X,N,l);u.push(oe)}}for(const X of u){const N=yield X;for(const oe of N)if(!y.has(oe.messageCid)&&od.matchFilter(oe.indexes,o)){if(void 0===oe.indexes[p])throw new te(de.IndexInvalidSortPropertyInMemory,`invalid sort property ${p}`);y.set(oe.messageCid,oe)}}})}getAllItems(n,o){var p,y,l,u;return oc(this,void 0,void 0,function*(){const J=yield this.getIndexPartition(n,o),X=[];try{for(var Ee,N=!0,oe=pg(J.iterator());Ee=yield oe.next(),!(p=Ee.done);N=!0){u=Ee.value,N=!1;const[Le,Pe]=u;X.push(JSON.parse(Pe))}}catch(Le){y={error:Le}}finally{try{!N&&!p&&(l=oe.return)&&(yield l.call(oe))}finally{if(y)throw y.error}}return X})}filterExactMatches(n,o,p,y){var l,u,J,X;return oc(this,void 0,void 0,function*(){const N=r.keySegmentJoin(r.encodeValue(p)),oe={gt:N},Ee=yield this.getIndexPartition(n,o),Le=[];try{for(var vt,Pe=!0,Xe=pg(Ee.iterator(oe,y));vt=yield Xe.next(),!(l=vt.done);Pe=!0){X=vt.value,Pe=!1;const[Tt,bt]=X;if(!Tt.startsWith(N))break;Le.push(JSON.parse(bt))}}catch(Tt){u={error:Tt}}finally{try{!Pe&&!l&&(J=Xe.return)&&(yield J.call(Xe))}finally{if(u)throw u.error}}return Le})}filterRangeMatches(n,o,p,y){var l,u,J,X;return oc(this,void 0,void 0,function*(){const N={};for(const vt in p)N[vt]=r.encodeValue(p[vt]);void 0===N.gt&&void 0===N.gte&&(N.reverse=!0);const oe=[],Ee=yield this.getIndexPartition(n,o);try{for(var Xe,Le=!0,Pe=pg(Ee.iterator(N,y));Xe=yield Pe.next(),!(l=Xe.done);Le=!0){X=Xe.value,Le=!1;const[vt,Tt]=X;"gt"in p&&this.extractIndexValueFromKey(vt)===r.encodeValue(p.gt)||oe.push(JSON.parse(Tt))}}catch(vt){u={error:vt}}finally{try{!Le&&!l&&(J=Pe.return)&&(yield J.call(Pe))}finally{if(u)throw u.error}}if("lte"in p)for(const vt of yield this.filterExactMatches(n,o,p.lte,y))oe.push(vt);return oe})}sortItems(n,o,p,y){const u=o.indexes[p],J=r.encodeValue(n.indexes[p])+n.messageCid,X=r.encodeValue(u)+o.messageCid;return y===hl.Ascending?sE(J,X):sE(X,J)}findCursorStartingIndex(n,o,p,y){return n.findIndex(u=>{const{messageCid:J,indexes:X}=u,oe=r.keySegmentJoin(r.encodeValue(X[p]),J);return o===hl.Ascending?oe>y:oe<y})}getIndexes(n,o){return oc(this,void 0,void 0,function*(){const y=yield(yield this.getIndexesLookupPartition(n)).get(o);if(void 0!==y)return JSON.parse(y)})}extractIndexValueFromKey(n){const[o]=n.split(r.delimiter);return o}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const o=Number.MAX_SAFE_INTEGER,y=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?o:0)).padStart(y,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,o){for(const p of n)if(!r.isFilterConcise(p,o))return!1;return!0}static isFilterConcise(n,o){return void 0!==n.recordId||void 0===o.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function cA(r){if(!dA(r))throw new Error("Parameter was not an error")}function dA(r){return"[object Error]"===function cR(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class is extends Error{constructor(t,n){const o=[...arguments],{options:p,shortMessage:y}=function dR(r){let t,n="";if(0===r.length)t={};else if(dA(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(o);let l=y;p.cause&&(l=`${l}: ${p.cause.message}`),super(l),this.message=l,this.name=p.name&&"string"==typeof p.name?p.name:"Layerr",p.cause&&Object.defineProperty(this,"_cause",{value:p.cause}),Object.defineProperty(this,"_info",{value:{}}),p.info&&"object"==typeof p.info&&Object.assign(this._info,p.info),Error.captureStackTrace&&Error.captureStackTrace(this,p.constructorOpt||this.constructor)}static cause(t){return cA(t),t._cause&&dA(t._cause)?t._cause:null}static fullStack(t){cA(t);const n=is.cause(t);return n?`${t.stack}\ncaused by: ${is.fullStack(n)}`:t.stack}static info(t){cA(t);const n={},o=is.cause(t);return o&&Object.assign(n,is.info(o)),t._info&&Object.assign(n,t._info),n}cause(){return is.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const ru="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Vu=32,mg=0xffffffffffff,zu=Object.freeze({source:"ulid"});function z_(r,t){if(isNaN(r))throw new is({info:{code:"ENC_TIME_NAN",...zu}},`Time must be a number: ${r}`);if(r>mg)throw new is({info:{code:"ENC_TIME_SIZE_EXCEED",...zu}},`Cannot encode a time larger than ${mg}: ${r}`);if(r<0)throw new is({info:{code:"ENC_TIME_NEG",...zu}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new is({info:{code:"ENC_TIME_TYPE",...zu}},`Time must be an integer: ${r}`);let n,o="";for(let p=t;p>0;p--)n=r%Vu,o=ru.charAt(n)+o,r=(r-n)/Vu;return o}function hA(r){const t=r||function Ik(r){const t=r||function Vx(){return function fA(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const o=new Uint8Array(1);return n.getRandomValues(o),o[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new is({info:{code:"PRNG_DETECT",...zu}},"Failed to find a reliable PRNG")}();let o,n=0;return function(y){const l=isNaN(y)?Date.now():y;if(l<=n){const J=o=function uA(r){let t,o,p,n=r.length,y=r;const l=Vu-1;for(;!t&&n-- >=0;){if(o=y[n],p=ru.indexOf(o),-1===p)throw new is({info:{code:"B32_INC_ENC",...zu}},"Incorrectly encoded string");p!==l?t=mA(y,n,ru[p+1]):y=mA(y,n,ru[0])}if("string"==typeof t)return t;throw new is({info:{code:"B32_INC_INVALID",...zu}},"Failed incrementing string")}(o);return z_(n,10)+J}n=l;const u=o=function lA(r,t){let n="";for(;r>0;r--)n=pA(t)+n;return n}(16,t);return z_(l,10)+u}}function pA(r){let t=Math.floor(r()*Vu);return t===Vu&&(t=Vu-1),ru.charAt(t)}function mA(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var Hu=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Sv{constructor(t){this.index=new $x(Object.assign({location:"EVENTLOG",createLevelDatabase:dg},t)),this.ulidFactory=hA()}open(){return Hu(this,void 0,void 0,function*(){return this.index.open()})}close(){return Hu(this,void 0,void 0,function*(){return this.index.close()})}clear(){return Hu(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,o){return Hu(this,void 0,void 0,function*(){const p=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},o),{watermark:p}))})}queryEvents(t,n,o){return Hu(this,void 0,void 0,function*(){const p=yield this.index.query(t,n,{sortProperty:"watermark",cursor:o});return{events:p.map(({messageCid:y})=>y),cursor:$x.createCursorFromLastArrayItem(p,"watermark")}})}getEvents(t,n){return Hu(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return Hu(this,void 0,void 0,function*(){const o=[];for(const p of n)o.push(this.index.delete(t,p));yield Promise.all(o)})}}function om({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*gA(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,o]of t.entries()){const p=[...r,n],y=el.TO.asCID(o);y?yield[p.join("/"),y]:"object"==typeof o&&(yield*H_(o,p))}else{const n=el.TO.asCID(t);n?yield[r.join("/"),n]:yield*H_(t,r)}}function*H_(r,t){if(null==r||r instanceof Uint8Array)return;const n=el.TO.asCID(r);n&&(yield[t.join("/"),n]);for(const[o,p]of Object.entries(r)){const y=[...t,o];yield*gA(y,p)}}function*uR(r,t){if(Array.isArray(t))for(const[n,o]of t.entries()){const p=[...r,n];yield p.join("/"),"object"==typeof o&&!el.TO.asCID(o)&&(yield*yA(o,p))}else yield*yA(t,r)}function*yA(r,t){if(null!=r&&"object"==typeof r)for(const[n,o]of Object.entries(r)){const p=[...t,n];yield p.join("/"),null!=o&&!(o instanceof Uint8Array)&&"object"==typeof o&&!el.TO.asCID(o)&&(yield*uR(p,o))}}class zx{constructor({cid:t,bytes:n,value:o}){if(!t||!n||typeof o>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=o,this.asBlock=this,Object.defineProperties(this,{cid:om(),bytes:om(),value:om(),asBlock:om()})}links(){return H_(this.value,[])}tree(){return yA(this.value,[])}get(t="/"){return function fR(r,t){let n=r;for(const[o,p]of t.entries()){if(n=n[p],null==n)throw new Error(`Object has no property at ${t.slice(0,o+1).map(l=>`[${JSON.stringify(l)}]`).join("")}`);const y=el.TO.asCID(n);if(y)return{value:y,remaining:t.slice(o+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function vA(){return(vA=(0,Ne.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const o=t.encode(r),p=yield n.digest(o),y=el.TO.create(1,t.code,p);return new zx({value:r,bytes:o,cid:y})})).apply(this,arguments)}function W_(){return(W_=(0,Ne.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const o=t.decode(r),p=yield n.digest(r),y=el.TO.create(1,t.code,p);return new zx({value:o,bytes:r,cid:y})})).apply(this,arguments)}var gg=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class EA{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:dg},t),this.blockstore=new bv({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new $x({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return gg(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return gg(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,o){var p;return gg(this,void 0,void 0,function*(){null===(p=o?.signal)||void 0===p||p.throwIfAborted();const y=yield rc(this.blockstore.partition(t),o?.signal),l=Bd.TO.parse(n),u=yield y.get(l,o);return u?(yield rc(function bA(r){return W_.apply(this,arguments)}({bytes:u,codec:q,hasher:F}),o?.signal)).value:void 0})}query(t,n,o,p,y){var l;return gg(this,void 0,void 0,function*(){null===(l=y?.signal)||void 0===l||l.throwIfAborted();const u=EA.buildQueryOptions(o,p),J=yield this.index.query(t,n,u,y);let X;void 0!==p?.limit&&p.limit<J.length&&(J.splice(-1),X=$x.createCursorFromLastArrayItem(J,u.sortProperty));const N=[];for(let oe=0;oe<J.length;oe++){const{messageCid:Ee}=J[oe],Le=yield this.get(t,Ee,y);Le&&N.push(Le)}return{messages:N,cursor:X}})}static buildQueryOptions(t={},n={}){let{limit:o,cursor:p}=n;const{dateCreated:y,datePublished:l,messageTimestamp:u}=t;let J=hl.Ascending,X="messageTimestamp";return void 0!==y?X="dateCreated":void 0!==l?X="datePublished":void 0!==u&&(X="messageTimestamp"),void 0!==t[X]&&(J=t[X]),void 0!==o&&o>0&&(o+=1),{sortDirection:J,sortProperty:X,limit:o,cursor:p}}delete(t,n,o){var p;return gg(this,void 0,void 0,function*(){null===(p=o?.signal)||void 0===p||p.throwIfAborted();const y=yield rc(this.blockstore.partition(t),o?.signal),l=Bd.TO.parse(n);yield y.delete(l,o),yield this.index.delete(t,n,o)})}put(t,n,o,p){var y;return gg(this,void 0,void 0,function*(){null===(y=p?.signal)||void 0===y||y.throwIfAborted();const l=yield rc(this.blockstore.partition(t),p?.signal),u=yield rc(function Ck(r){return vA.apply(this,arguments)}({value:n,codec:q,hasher:F}),p?.signal),J=gc.parseCid(yield Ar.getCid(n));yield l.put(J,u.bytes,p);const X=J.toString();yield this.index.put(t,X,o,p)})}clear(){return gg(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}E(44356);var Is=function(r){return r.EventsGet="EventsGet",r.EventsQuery="EventsQuery",r.EventsSubscribe="EventsSubscribe",r.MessagesGet="MessagesGet",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(Is||{});const Gx={[Is.EventsGet]:dv,[Is.EventsQuery]:tg,[Is.EventsSubscribe]:ng,[Is.MessagesGet]:Ih,[Is.ProtocolsConfigure]:ld,[Is.ProtocolsQuery]:qp,[Is.RecordsDelete]:uv,[Is.RecordsQuery]:eg,[Is.RecordsRead]:pv,[Is.RecordsSubscribe]:ig,[Is.RecordsWrite]:Co};class Dv{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return r=this,t=void 0,o=function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}},new((n=void 0)||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())});var r,t,n,o}}var G_=E(91879);class Rk{static deriveKeyBytes({baseKeyBytes:t,length:n,hash:o,salt:p,info:y=new Uint8Array}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const u=yield(0,G_.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);p="string"==typeof p?Lr.U$.string(p).toUint8Array():p,y="string"==typeof y?Lr.U$.string(y).toUint8Array():y;const J=yield crypto.subtle.deriveBits({name:"HKDF",hash:o,salt:p,info:y},u,n);return new Uint8Array(J)})}}class Si extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Si)}}var Di=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(Di||{}),Kf=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class SA extends nr.hq{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Kf(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const o=yield nr.jg.bytesToPrivateKey({privateKeyBytes:n});return o.alg="EdDSA",o}case"ES256":case"secp256r1":{const o=yield nr.iH.bytesToPrivateKey({privateKeyBytes:n});return o.alg="EdDSA",o}default:throw new Si(Di.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Kf(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const o=yield nr.jg.bytesToPublicKey({publicKeyBytes:n});return o.alg="EdDSA",o}case"ES256":case"secp256r1":{const o=yield nr.iH.bytesToPublicKey({publicKeyBytes:n});return o.alg="EdDSA",o}default:throw new Si(Di.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return Kf(this,void 0,void 0,function*(){if(!(0,nr.mE)(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield nr.jg.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield nr.iH.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return Kf(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield nr.jg.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield nr.iH.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return Kf(this,void 0,void 0,function*(){if(!(0,nr.mE)(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield nr.jg.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield nr.iH.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return Kf(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield nr.jg.privateKeyToBytes({privateKey:t});case"P-256":return yield nr.iH.privateKeyToBytes({privateKey:t});default:throw new Si(Di.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return Kf(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield nr.jg.publicKeyToBytes({publicKey:t});case"P-256":return yield nr.iH.publicKeyToBytes({publicKey:t});default:throw new Si(Di.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return Kf(this,void 0,void 0,function*(){if(!(0,nr.mE)(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield nr.jg.sign({key:t,data:n});case"P-256":return yield nr.iH.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:o}){return Kf(this,void 0,void 0,function*(){if(!(0,nr.gX)(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield nr.jg.verify({key:t,signature:n,data:o});case"P-256":return yield nr.iH.verify({key:t,signature:n,data:o});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Nh=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},yg=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},IA=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n};const Zx=[128,192,256];class Z_{static bytesToPrivateKey({privateKeyBytes:t}){return yg(this,void 0,void 0,function*(){const n={k:Lr.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield(0,nr.BA)({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return yg(this,void 0,void 0,function*(){if(!Zx.includes(t))throw new RangeError(`The key length is invalid: Must be ${Zx.join(", ")} bits`);const n=(0,G_.NZ)(),o=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),p=yield n.exportKey("jwk",o),u=IA(p,["ext","key_ops"]);return u.kid=yield(0,nr.BA)({jwk:u}),u})}static privateKeyToBytes({privateKey:t}){return yg(this,void 0,void 0,function*(){if(!(0,nr.wh)(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return Lr.U$.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:o}){return yg(this,void 0,void 0,function*(){if(!("alg"in o)||!o.alg)throw new Si(Di.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(o.alg))throw new Si(Di.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${o.alg}`);const p=(0,G_.NZ)(),y=yield p.importKey("jwk",o,{name:"AES-KW"},!0,["unwrapKey"]),l={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!l)throw new Si(Di.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const u=yield p.unwrapKey("raw",t.buffer,y,"AES-KW",{name:l},!0,["unwrapKey"]),J=yield p.exportKey("jwk",u),Ee=IA(J,["ext","key_ops"]);return Ee.kid=yield(0,nr.BA)({jwk:Ee}),Ee})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return yg(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new Si(Di.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new Si(Di.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new Si(Di.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const o=(0,G_.NZ)(),p=yield o.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),y={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!y)throw new Si(Di.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const l=yield o.importKey("jwk",t,{name:y},!0,["unwrapKey"]),u=yield o.wrapKey("raw",l,p,"AES-KW");return new Uint8Array(u)})}}var Iv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class TA extends nr.hq{bytesToPrivateKey({privateKeyBytes:t}){return Iv(this,void 0,void 0,function*(){const n=yield Z_.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return Iv(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],o=yield Z_.generateKey({length:n});return o.alg=t,o})}privateKeyToBytes({privateKey:t}){return Iv(this,void 0,void 0,function*(){return yield Z_.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return Iv(this,void 0,void 0,function*(){return yield Z_.unwrapKey(t)})}wrapKey(t){return Iv(this,void 0,void 0,function*(){return Z_.wrapKey(t)})}}class Bk{static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:o,iterations:p,length:y}){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l=(0,G_.NZ)(),u=yield l.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),J=yield l.deriveBits({name:"PBKDF2",hash:n,salt:o,iterations:p},u,y);return new Uint8Array(J)})}}var Tv=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},Sc=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};const PA={"AES-GCM":{implementation:class kA extends nr.hq{bytesToPrivateKey({privateKeyBytes:t}){return Tv(this,void 0,void 0,function*(){const n=yield nr.z5.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return Tv(this,void 0,void 0,function*(){return nr.z5.decrypt(t)})}encrypt(t){return Tv(this,void 0,void 0,function*(){return nr.z5.encrypt(t)})}generateKey({algorithm:t}){return Tv(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],o=yield nr.z5.generateKey({length:n});return o.alg=t,o})}privateKeyToBytes({privateKey:t}){return Tv(this,void 0,void 0,function*(){return yield nr.z5.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:TA,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class DA extends nr.hq{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Nh(this,void 0,void 0,function*(){if("Ed25519"===t){const o=yield nr.Mc.bytesToPrivateKey({privateKeyBytes:n});return o.alg="EdDSA",o}throw new Si(Di.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Nh(this,void 0,void 0,function*(){if("Ed25519"===t){const o=yield nr.Mc.bytesToPublicKey({publicKeyBytes:n});return o.alg="EdDSA",o}throw new Si(Di.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return Nh(this,void 0,void 0,function*(){if(!(0,nr.UL)(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield nr.Mc.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Si(Di.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return Nh(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield nr.Mc.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return Nh(this,void 0,void 0,function*(){if(!(0,nr.UL)(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield nr.Mc.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return Nh(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield nr.Mc.privateKeyToBytes({privateKey:t});throw new Si(Di.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return Nh(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield nr.Mc.publicKeyToBytes({publicKey:t});throw new Si(Di.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return Nh(this,void 0,void 0,function*(){if(!(0,nr.UL)(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield nr.Mc.sign({key:t,data:n});throw new Si(Di.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:o}){return Nh(this,void 0,void 0,function*(){if(!(0,nr.gt)(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield nr.Mc.verify({key:t,signature:n,data:o});throw new Si(Di.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class MA extends nr.hq{deriveKeyBytes(t){var{algorithm:n}=t,o=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(t,["algorithm"]);return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const p={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield Rk.deriveKeyBytes(Object.assign(Object.assign({},o),{hash:p}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class CA extends nr.hq{deriveKeyBytes(t){var{algorithm:n}=t,o=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(t,["algorithm"]);return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,p]=n.split(/[-+]/),y={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[p];return yield Bk.deriveKeyBytes(Object.assign(Object.assign({},o),{hash:y}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:SA,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:SA,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:nr.cM,names:["SHA-256"],operations:["digest"]}};class vg{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Sc(this,void 0,void 0,function*(){const o=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:o}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Sc(this,void 0,void 0,function*(){const o=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:o}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,o;return Sc(this,void 0,void 0,function*(){const p=this.getAlgorithmName({algorithm:t.algorithm}),y=this.getAlgorithm({algorithm:p});let l;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":l=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":l=t.algorithm.split(/[-+]/)[2];break;default:throw new Si(Di.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const u=+(null!==(o=null===(n=l.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==o?o:-1);if(-1===u)throw new Si(Di.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${l}`);const J=yield y.deriveKeyBytes(Object.assign(Object.assign({},t),{length:u}));return yield this.bytesToPrivateKey({algorithm:l,privateKeyBytes:J})})}deriveKeyBytes(t){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return Sc(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return Sc(this,void 0,void 0,function*(){const o=this.getAlgorithmName({algorithm:t.algorithm}),y=yield this.getAlgorithm({algorithm:o}).generateKey({algorithm:t.algorithm});return null!==(n=y.kid)&&void 0!==n||(y.kid=yield(0,nr.BA)({jwk:y})),y})}getKeyUri(t){return Sc(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return Sc(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).sign({data:n,key:t})})}unwrapKey(t){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:o}){return Sc(this,void 0,void 0,function*(){const p=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:p}).verify({key:t,signature:n,data:o})})}wrapKey(t){return Sc(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const o=null===(n=PA[t])||void 0===n?void 0:n.implementation;if(!o)throw new Si(Di.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(o)||this._algorithmInstances.set(o,new o),this._algorithmInstances.get(o)}getAlgorithmName({algorithm:t,key:n}){var o;const p=null!==(o=n?.alg)&&void 0!==o?o:t,y=n?.crv;for(const l of Object.keys(PA)){const u=PA[l].names;if(p&&u.includes(p))return l;if(y&&u.includes(y))return l}throw new Si(Di.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${p}, crv=${y}. Please check the documentation for the list of supported algorithms.`)}}var sm=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(sm||{});const Bh={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ts{constructor({method:t,id:n,path:o,query:p,fragment:y,params:l}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=o,this.query=p,this.fragment=y,this.params=l}static parse(t){if(!t)return null;const n=Ts.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:o,id:p,path:y,query:l,fragment:u}=n.groups,J={uri:`did:${o}:${p}`,method:o,id:p};if(y&&(J.path=y),l&&(J.query=l.slice(1)),u&&(J.fragment=u.slice(1)),l){const X={},N=l.slice(1).split("&");for(const oe of N){const[Ee,Le]=oe.split("=");X[Ee]=Le}J.params=X}return J}}Ts.METHOD_PATTERN="([a-z0-9]+)",Ts.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ts.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ts.PCT_ENCODED_PATTERN})`,Ts.METHOD_ID_PATTERN=`((?:${Ts.ID_CHAR_PATTERN}*:)*(${Ts.ID_CHAR_PATTERN}+))`,Ts.PATH_PATTERN="(/[^#?]*)?",Ts.QUERY_PATTERN="([?][^#]*)?",Ts.FRAGMENT_PATTERN="(#.*)?",Ts.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ts.METHOD_PATTERN}):(?<id>${Ts.METHOD_ID_PATTERN})(?<path>${Ts.PATH_PATTERN})(?<query>${Ts.QUERY_PATTERN})(?<fragment>${Ts.FRAGMENT_PATTERN})$`);class os extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,os)}}var Jo=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Jo||{});function iu(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function Yx(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var J_=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Vf{constructor({uri:t,document:n,metadata:o,keyManager:p}){this.uri=t,this.document=n,this.metadata=o,this.keyManager=p}export(){return J_(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let o of this.document.verificationMethod){if(!o.publicKeyJwk)throw new Error(`Verification method '${o.id}' does not contain a public key in JWK format`);const p=yield this.keyManager.getKeyUri({key:o.publicKeyJwk}),y=yield this.keyManager.exportKey({keyUri:p});n.push(Object.assign({},y))}t.privateKeys=n}return t})}getSigner(t){return J_(this,void 0,void 0,function*(){var n;const o=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(J=>{var X,N;return iu(J.id)===(null!==(X=iu(t?.methodId))&&void 0!==X?X:iu(null===(N=this.document.assertionMethod)||void 0===N?void 0:N[0]))});if(!o||!o.publicKeyJwk)throw new os(Jo.InternalError,"A verification method intended for signing could not be determined from the DID Document");const p=yield this.keyManager.getKeyUri({key:o.publicKeyJwk}),y=yield this.keyManager.getPublicKey({keyUri:p}),l=this.keyManager;return{algorithm:nr.Wp.getJoseSignatureAlgorithmFromPublicKey(y),keyId:o.id,sign(J){return J_(this,arguments,void 0,function*({data:X}){return yield l.sign({data:X,keyUri:p})})},verify(J){return J_(this,arguments,void 0,function*({data:X,signature:N}){return yield l.verify({data:X,key:y,signature:N})})}}})}static import(t){return J_(this,arguments,void 0,function*({portableDid:n,keyManager:o=new nr.eP}){var p;const y=function X_({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const o=[];return o.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(Yx))&&void 0!==n?n:[]),Object.keys(sm).forEach(p=>{var y,l;o.push(...null!==(l=null===(y=r[p])||void 0===y?void 0:y.filter(Yx))&&void 0!==l?l:[])}),o}({didDocument:n.document});if(0===y.length)throw new os(Jo.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let u of null!==(p=n.privateKeys)&&void 0!==p?p:[])yield o.importKey({key:u});for(let u of y){if(!u.publicKeyJwk)throw new Error(`Verification method '${u.id}' does not contain a public key in JWK format`);const J=yield o.getKeyUri({key:u.publicKeyJwk});yield o.getPublicKey({keyUri:J})}return new Vf({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:o})})}}var RA=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class OA{static getSigningMethod(t){return RA(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return RA(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var sc=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},jk=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n};const $k="https://diddht.tbddev.org",am=7200,md=",";var Kk=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(Kk||{}),Hd=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Hd||{}),Vk=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(Vk||{});const zk={Ed25519:Hd.Ed25519,ES256K:Hd.secp256k1,ES256:Hd.secp256r1,"P-256":Hd.secp256r1,secp256k1:Hd.secp256k1,secp256r1:Hd.secp256r1,X25519:Hd.X25519},NA={[Hd.Ed25519]:"Ed25519",[Hd.secp256k1]:"ES256K",[Hd.secp256r1]:"ES256",[Hd.X25519]:"ECDH-ES+A256KW"};let q_=(()=>{class r extends OA{static create(){return sc(this,arguments,void 0,function*({keyManager:n=new nr.eP,options:o={}}={}){var p,y,l,u,J,X,N,oe,Ee,Le,Pe;if(null!==(p=o.verificationMethods)&&void 0!==p&&p.some(Jt=>!(Jt.algorithm in zk)))throw new Error("One or more verification method algorithms are not supported");const Xe=null===(y=o.verificationMethods)||void 0===y?void 0:y.filter(Jt=>"id"in Jt).map(Jt=>Jt.id);if(Xe&&Xe.length!==new Set(Xe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=o.services)&&void 0!==l&&l.some(Jt=>!Jt.id||!Jt.type||!Jt.serviceEndpoint))throw new Error("One or more services are missing required properties");const vt=yield n.generateKey({algorithm:"Ed25519"}),Tt=yield n.getPublicKey({keyUri:vt}),bt=yield Na.identityKeyToIdentifier({identityKey:Tt}),wt=Object.assign(Object.assign({id:bt},o.alsoKnownAs&&{alsoKnownAs:o.alsoKnownAs}),o.controllers&&{controller:o.controllers}),Ct=[...null!==(u=o.verificationMethods)&&void 0!==u?u:[]];Ct?.some(Jt=>{var an;return"0"===(null===(an=Jt.id)||void 0===an?void 0:an.split("#").pop())})||Ct.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Jt of Ct){const an=Jt.id&&"0"===Jt.id.split("#").pop()?vt:yield n.generateKey({algorithm:Jt.algorithm}),Vt=yield n.getPublicKey({keyUri:an});let In=null!==(X=null!==(J=Jt.id)&&void 0!==J?J:Vt.kid)&&void 0!==X?X:yield(0,nr.BA)({jwk:Vt});In=`${bt}#${iu(In)}`,null!==(N=wt.verificationMethod)&&void 0!==N||(wt.verificationMethod=[]),wt.verificationMethod.push({id:In,type:"JsonWebKey",controller:null!==(oe=Jt.controller)&&void 0!==oe?oe:bt,publicKeyJwk:Vt});for(const Yn of null!==(Ee=Jt.purposes)&&void 0!==Ee?Ee:[])wt[Yn]||(wt[Yn]=[]),wt[Yn].push(In)}null===(Le=o.services)||void 0===Le||Le.forEach(Jt=>{var an;null!==(an=wt.service)&&void 0!==an||(wt.service=[]),Jt.id=`${bt}#${Jt.id.split("#").pop()}`,wt.service.push(Jt)});const Wt=new Vf({uri:bt,document:wt,metadata:Object.assign({published:!1},o.types&&{types:o.types}),keyManager:n});if(null===(Pe=o.publish)||void 0===Pe||Pe){const Jt=yield r.publish({did:Wt,gatewayUri:o.gatewayUri});Wt.metadata=Jt.didDocumentMetadata}return Wt})}static import(n){return sc(this,arguments,void 0,function*({portableDid:o,keyManager:p=new nr.eP}){var y;const l=Ts.parse(o.uri);if(l?.method!==r.methodName)throw new os(Jo.MethodNotSupported,"Method not supported");const u=yield Vf.import({portableDid:o,keyManager:p});if(null===(y=u.document.verificationMethod)||void 0===y||!y.some(J=>{var X;return"0"===(null===(X=J.id)||void 0===X?void 0:X.split("#").pop())}))throw new os(Jo.InvalidDidDocument,"DID document must contain an Identity Key");return u})}static getSigningMethod(n){return sc(this,arguments,void 0,function*({didDocument:o,methodId:p="#0"}){var y;const l=Ts.parse(o.id);if(l&&l.method!==this.methodName)throw new os(Jo.MethodNotSupported,`Method not supported: ${l.method}`);const u=null===(y=o.verificationMethod)||void 0===y?void 0:y.find(J=>{var X,N;return iu(J.id)===(null!==(X=iu(p))&&void 0!==X?X:iu(null===(N=o.assertionMethod)||void 0===N?void 0:N[0]))});if(!u||!u.publicKeyJwk)throw new os(Jo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return u})}static publish(n){return sc(this,arguments,void 0,function*({did:o,gatewayUri:p=$k}){return yield zf.put({did:o,gatewayUri:p})})}static resolve(n){return sc(this,arguments,void 0,function*(o,p={}){var y;const l=null!==(y=p?.gatewayUri)&&void 0!==y?y:$k;try{yield Na.identifierToIdentityKey({didUri:o});const{didDocument:u,didDocumentMetadata:J}=yield zf.get({didUri:o,gatewayUri:l});return Object.assign(Object.assign({},Bh),{didDocument:u,didDocumentMetadata:J})}catch(u){if(!(u instanceof os))throw new Error(u);return Object.assign(Object.assign({},Bh),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}}return r.methodName="dht",r})();class zf{static get(t){return sc(this,arguments,void 0,function*({didUri:n,gatewayUri:o}){const p=Na.identifierToIdentityKeyBytes({didUri:n}),y=yield zf.pkarrGet({gatewayUri:o,publicKeyBytes:p}),l=yield Na.parseBep44GetMessage({bep44Message:y}),u=yield zf.fromDnsPacket({didUri:n,dnsPacket:l});return u.didDocumentMetadata.versionId=y.seq.toString(),u})}static put(t){return sc(this,arguments,void 0,function*({did:n,gatewayUri:o}){const p=yield zf.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[o]}),y=yield Na.createBep44PutMessage({dnsPacket:p,publicKeyBytes:Na.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),l=yield zf.pkarrPut({gatewayUri:o,bep44Message:y});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:l,versionId:y.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return sc(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:o}){const p=Lr.U$.uint8Array(o).toBase32Z(),y=new URL(p,n).href;let l;try{if(l=yield fetch(y,{method:"GET"}),!l.ok)throw new os(Jo.NotFound,`Pkarr record not found for: ${p}`)}catch(X){throw X instanceof os?X:new os(Jo.InternalError,`Failed to fetch Pkarr record: ${X.message}`)}const u=yield l.arrayBuffer();if(!u)throw new os(Jo.NotFound,`Pkarr record not found for: ${p}`);if(u.byteLength<72)throw new os(Jo.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${u.byteLength}`);if(u.byteLength>1072)throw new os(Jo.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${u.byteLength}`);return{k:o,seq:Number(new DataView(u).getBigUint64(64)),sig:new Uint8Array(u,0,64),v:new Uint8Array(u,72)}})}static pkarrPut(t){return sc(this,arguments,void 0,function*({gatewayUri:n,bep44Message:o}){const p=Lr.U$.uint8Array(o.k).toBase32Z(),y=new URL(p,n).href,l=new Uint8Array(o.v.length+72);let u;l.set(o.sig,0),new DataView(l.buffer).setBigUint64(o.sig.length,BigInt(o.seq)),l.set(o.v,o.sig.length+8);try{u=yield fetch(y,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:l})}catch(J){throw new os(Jo.InternalError,`Failed to put Pkarr record for identifier ${p}: ${J.message}`)}return u.ok})}static fromDnsPacket(t){return sc(this,arguments,void 0,function*({didUri:n,dnsPacket:o}){var p,y,l;const u={id:n},J={published:!0},X=new Map;for(const N of null!==(p=o?.answers)&&void 0!==p?p:[]){if("TXT"!==N.type)continue;const oe=N.name.split(".")[0].substring(1);switch(!0){case oe.startsWith("aka"):{const Ee=Na.parseTxtDataToString(N.data);u.alsoKnownAs=Ee.split(md);break}case oe.startsWith("cnt"):{const Ee=Na.parseTxtDataToString(N.data);u.controller=Ee.includes(md)?Ee.split(md):Ee;break}case oe.startsWith("k"):{const{id:Ee,t:Le,k:Pe,c:Xe,a:vt}=Na.parseTxtDataToObject(N.data),Tt=Lr.U$.base64Url(Pe).toUint8Array(),bt=Hd[Number(Le)];let wt=yield Na.keyConverter(bt).bytesToPublicKey({publicKeyBytes:Tt});wt.alg=vt||NA[Number(Le)];const Ct="k0"===oe?"0":void 0!==Ee?Ee:yield(0,nr.BA)({jwk:wt});null!==(y=u.verificationMethod)&&void 0!==y||(u.verificationMethod=[]);const Wt=`${n}#${Ct}`;u.verificationMethod.push({id:Wt,type:"JsonWebKey",controller:Xe??n,publicKeyJwk:wt}),X.set(oe,Wt);break}case oe.startsWith("s"):{const Ee=Na.parseTxtDataToObject(N.data),{id:Le,t:Pe,se:Xe}=Ee,vt=jk(Ee,["id","t","se"]),Tt=Xe.includes(md)?Xe.split(md):[Xe],bt=Object.fromEntries(Object.entries(vt).map(([wt,Ct])=>[wt,Ct.includes(md)?Ct.split(md):Ct]));null!==(l=u.service)&&void 0!==l||(u.service=[]),u.service.push(Object.assign(Object.assign({},bt),{id:`${n}#${Le}`,type:Pe,serviceEndpoint:Tt}));break}case oe.startsWith("typ"):{const{id:Ee}=Na.parseTxtDataToObject(N.data);J.types=Ee.split(md).map(Le=>Number(Le));break}case oe.startsWith("did"):{const Ee=bt=>bt.split(md).map(wt=>X.get(wt)).filter(wt=>"string"==typeof wt),{auth:Le,asm:Pe,del:Xe,inv:vt,agm:Tt}=Na.parseTxtDataToObject(N.data);Le&&(u.authentication=Ee(Le)),Pe&&(u.assertionMethod=Ee(Pe)),Xe&&(u.capabilityDelegation=Ee(Xe)),vt&&(u.capabilityInvocation=Ee(vt)),Tt&&(u.keyAgreement=Ee(Tt));break}}}return{didDocument:u,didDocumentMetadata:J,didResolutionMetadata:{}}})}static toDnsPacket(t){return sc(this,arguments,void 0,function*({didDocument:n,didMetadata:o,authoritativeGatewayUris:p,previousDidProof:y}){var l,u,J,X,N;const oe=[],Ee=[],Le=new Map,Pe=[],Xe=[];if(void 0!==y){const{signature:bt,previousDid:wt}=y;yield Na.validatePreviousDidProof({newDid:n.id,previousDidProof:y}),oe.push({type:"TXT",name:"_prv._did.",ttl:am,data:`id=${wt};s=${bt}`})}if(n.alsoKnownAs&&oe.push({type:"TXT",name:"_aka._did.",ttl:am,data:n.alsoKnownAs.join(md)}),n.controller){const bt=Array.isArray(n.controller)?n.controller.join(md):n.controller;oe.push({type:"TXT",name:"_cnt._did.",ttl:am,data:bt})}for(const[bt,wt]of null!==(u=null===(l=n.verificationMethod)||void 0===l?void 0:l.entries())&&void 0!==u?u:[]){const Ct=`k${bt}`;Xe.push(Ct);let Wt=wt.id.split("#").pop();Le.set(Wt,Ct);const Jt=wt.publicKeyJwk;if(!Jt?.crv||!(Jt.crv in zk))throw new os(Jo.InvalidPublicKeyType,`Verification method '${wt.id}' contains an unsupported key type: ${null!==(J=Jt?.crv)&&void 0!==J?J:"undefined"}`);const an=Hd[Jt.crv],Vt=yield Na.keyConverter(Jt.crv).publicKeyToBytes({publicKey:Jt}),Yn=[`t=${an}`,`k=${Lr.U$.uint8Array(Vt).toBase64Url()}`];"0"!==Wt&&(yield(0,nr.BA)({jwk:Jt}))!==Wt&&Yn.unshift(`id=${Wt}`),Jt.alg!==NA[an]&&Yn.push(`a=${Jt.alg}`),wt.controller!==n.id&&Yn.push(`c=${wt.controller}`),oe.push({type:"TXT",name:`_${Ct}._did.`,ttl:am,data:Yn.join(";")})}null===(X=n.service)||void 0===X||X.forEach((bt,wt)=>{const Ct=`s${wt}`;Pe.push(Ct);let{id:Wt,type:Jt,serviceEndpoint:an}=bt,Vt=jk(bt,["id","type","serviceEndpoint"]);Wt=iu(Wt),an=Array.isArray(an)?an.join(","):an;const Yn=Object.entries(Object.assign({id:Wt,t:Jt,se:an},Vt)).map(([sr,Hn])=>`${sr}=${Hn}`).join(";"),Qn=Na.chunkDataIfNeeded(Yn);oe.push({type:"TXT",name:`_${Ct}._did.`,ttl:am,data:Qn})});const vt=["v=0"];if(Xe.length&&vt.push(`vm=${Xe.join(md)}`),Object.keys(sm).forEach(bt=>{var wt;const Ct=null===(wt=n[bt])||void 0===wt?void 0:wt.map(Wt=>Le.get(Wt.split("#").pop()));Ct&&vt.push(`${Vk[bt]}=${Ct.join(md)}`)}),Pe.length&&vt.push(`svc=${Pe.join(md)}`),null!==(N=o.types)&&void 0!==N&&N.length){const wt=o.types.map(Ct=>"string"==typeof Ct?Kk[Ct]:Ct);oe.push({type:"TXT",name:"_typ._did.",ttl:am,data:`id=${wt.join(md)}`})}oe.push({type:"TXT",name:"_did."+zf.getUniqueDidSuffix(n.id)+".",ttl:am,data:vt.join(";")});for(const bt of p||[])Ee.push({type:"NS",name:"_did."+zf.getUniqueDidSuffix(n.id)+".",ttl:am,data:bt+"."});return{id:0,type:"response",flags:tm.hB,answers:[...oe,...Ee]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class Na{static createBep44PutMessage(t){return sc(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:o,signer:p}){const y=Math.ceil(Date.now()/1e3),l=(0,tm.lF)(n),u=M_.A.encode({seq:y,v:l}).subarray(1,-1);if(u.length>1e3)throw new os(Jo.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${u.length} bytes`);return{k:o,seq:y,sig:yield p.sign({data:u}),v:l}})}static identifierToIdentityKey(t){return sc(this,arguments,void 0,function*({didUri:n}){let o=Na.identifierToIdentityKeyBytes({didUri:n});return yield nr.Mc.bytesToPublicKey({publicKeyBytes:o})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ts.parse(t);if(!n)throw new os(Jo.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==q_.methodName)throw new os(Jo.MethodNotSupported,`Method not supported: ${n.method}`);let o;try{o=Lr.U$.base32Z(n.id).toUint8Array()}catch{throw new os(Jo.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==o.length)throw new os(Jo.InvalidPublicKeyLength,`Invalid public key length: ${o.length}`);return o}static identityKeyToIdentifier(t){return sc(this,arguments,void 0,function*({identityKey:n}){const o=yield nr.Mc.publicKeyToBytes({publicKey:n}),p=Lr.U$.uint8Array(o).toBase32Z();return`did:${q_.methodName}:${p}`})}static keyConverter(t){const o={Ed25519:nr.Mc,"P-256":{publicKeyToBytes:p=>sc(this,[p],void 0,function*({publicKey:y}){const l=yield nr.iH.publicKeyToBytes({publicKey:y});return yield nr.iH.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:nr.iH.bytesToPublicKey,privateKeyToBytes:nr.iH.privateKeyToBytes,bytesToPrivateKey:nr.iH.bytesToPrivateKey},secp256k1:{publicKeyToBytes:p=>sc(this,[p],void 0,function*({publicKey:y}){const l=yield nr.jg.publicKeyToBytes({publicKey:y});return yield nr.jg.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:nr.jg.bytesToPublicKey,privateKeyToBytes:nr.jg.privateKeyToBytes,bytesToPrivateKey:nr.jg.bytesToPrivateKey},X25519:nr.Nx}[t];if(!o)throw new os(Jo.InvalidPublicKeyType,`Unsupported curve: ${t}`);return o}static parseBep44GetMessage(t){return sc(this,arguments,void 0,function*({bep44Message:n}){const o=yield nr.Mc.bytesToPublicKey({publicKeyBytes:n.k}),p=M_.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield nr.Mc.verify({key:o,signature:n.sig,data:p})))throw new os(Jo.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,tm.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,o)=>{const[p,y]=o.split("=");return n[p]=y,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return Lr.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new os(Jo.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return sc(this,arguments,void 0,function*({newDid:n,previousDidProof:o}){const p=yield Na.identifierToIdentityKey({didUri:o.previousDid}),y=Na.identifierToIdentityKeyBytes({didUri:n}),l=Lr.U$.base64Url(o.signature).toUint8Array();if(!(yield nr.Mc.verify({key:p,data:y,signature:l})))throw new os(Jo.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let o=0;o<t.length;o+=255)n.push(t.slice(o,o+255));return n}}var i=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};let c=(()=>{class r extends OA{static create(){return i(this,arguments,void 0,function*({keyManager:n=new nr.eP,options:o={}}={}){var p,y,l,u;if(o.algorithm&&o.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(o.verificationMethods&&1!==o.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const J=null!==(u=null!==(p=o.algorithm)&&void 0!==p?p:null===(l=null===(y=o.verificationMethods)||void 0===y?void 0:y[0])||void 0===l?void 0:l.algorithm)&&void 0!==u?u:"Ed25519",X=yield n.generateKey({algorithm:J}),N=yield n.getPublicKey({keyUri:X}),oe=Lr.U$.object(N).toBase64Url(),Ee=`did:${r.methodName}:${oe}`,Pe=(yield r.resolve(Ee)).didDocument;return new Vf({uri:Ee,document:Pe,metadata:{},keyManager:n})})}static getSigningMethod(n){return i(this,arguments,void 0,function*({didDocument:o}){var p;const y=Ts.parse(o.id);if(y&&y.method!==this.methodName)throw new os(Jo.MethodNotSupported,`Method not supported: ${y.method}`);const[l]=null!==(p=o.verificationMethod)&&void 0!==p?p:[];if(!l||!l.publicKeyJwk)throw new os(Jo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return l})}static import(n){return i(this,arguments,void 0,function*({portableDid:o,keyManager:p=new nr.eP}){const y=Ts.parse(o.uri);if(y?.method!==r.methodName)throw new os(Jo.MethodNotSupported,"Method not supported");const l=yield Vf.import({portableDid:o,keyManager:p});if(1!==l.document.verificationMethod.length)throw new os(Jo.InvalidDidDocument,"DID document must contain exactly one verification method");return l})}static resolve(n,o){return i(this,void 0,void 0,function*(){const p=Ts.parse(n);let y;try{y=Lr.U$.base64Url(p.id).toObject()}catch{}if(!p||!y)return Object.assign(Object.assign({},Bh),{didResolutionMetadata:{error:"invalidDid"}});if(p.method!==r.methodName)return Object.assign(Object.assign({},Bh),{didResolutionMetadata:{error:"methodNotSupported"}});const l={"@context":["https://www.w3.org/ns/did/v1"],id:p.uri},u=`${l.id}#0`;switch(l.verificationMethod=[{id:u,type:"JsonWebKey",controller:l.id,publicKeyJwk:y}],l.authentication=[u],l.assertionMethod=[u],l.capabilityInvocation=[u],l.capabilityDelegation=[u],l.keyAgreement=[u],y.use){case"sig":delete l.keyAgreement;break;case"enc":delete l.authentication,delete l.assertionMethod,delete l.capabilityInvocation,delete l.capabilityDelegation}return Object.assign(Object.assign({},Bh),{didDocument:l})})}}return r.methodName="jwk",r})();var Nt=E(81447),dn=E(94787);class Cn{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:o="15m"}={}){this.cache=t??new dn.Level(n),this.ttl=Nt(o)}get(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),o=JSON.parse(n);return Date.now()>=o.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):o.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const o={ttlMillis:Date.now()+this.ttl,value:n},p=JSON.stringify(o);return this.cache.put(t,p)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const Vn={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var or=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Dr{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||Vn;for(const o of n)this.didResolvers.set(o.methodName,o)}resolve(t,n){return or(this,void 0,void 0,function*(){const o=Ts.parse(t);if(!o)return Object.assign(Object.assign({},Bh),{didResolutionMetadata:{error:Jo.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const p=this.didResolvers.get(o.method);if(!p)return Object.assign(Object.assign({},Bh),{didResolutionMetadata:{error:Jo.MethodNotSupported,errorMessage:`Method not supported: ${o.method}`}});const y=yield this.cache.get(o.uri);if(y)return y;{const l=yield p.resolve(o.uri,n);return l.didResolutionMetadata.error||(yield this.cache.set(o.uri,l)),l}})}dereference(t,n){return or(this,void 0,void 0,function*(){const o=Ts.parse(t);if(!o)return{dereferencingMetadata:{error:Jo.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:p,didResolutionMetadata:y,didDocumentMetadata:l}=yield this.resolve(o.uri);if(!p)return{dereferencingMetadata:{error:y.error},contentStream:null,contentMetadata:{}};if(!o.fragment||o.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:p,contentMetadata:l};const{service:u=[],verificationMethod:J=[]}=p,X=new Set([t,o.fragment,`#${o.fragment}`]);let N;for(let oe of J)if(X.has(oe.id)){N=oe;break}for(let oe of u)if(X.has(oe.id)){N=oe;break}return N?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:N,contentMetadata:y}:{dereferencingMetadata:{error:Jo.NotFound},contentStream:null,contentMetadata:{}}})}}var Cr=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};const di="^";class $o extends nr.eP{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return Cr(this,void 0,void 0,function*(){const o={};for(const p of t)null!==(n=p.kid)&&void 0!==n||(p.kid=yield(0,nr.BA)({jwk:p})),o[yield this.getKeyUri({key:p})]=p;this._predefinedKeys=new Map(Object.entries(o)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return Cr(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return Cr(this,void 0,void 0,function*(){const{value:n,done:o}=this._keyGenerator.next();if(o)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return Cr(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return Cr(this,void 0,void 0,function*(){const o=this._predefinedKeys.get(t);if(!o)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield nr.Mc.sign({data:n,key:o})})}}function Uo({agent:r,tenant:t,didUri:n}){return Cr(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}function Ba(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var ea=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class Lh{constructor(){this.name="DwnDataStore",this._cache=new Lr.LC({ttl:Nt("15 minutes"),max:100}),this._index=new Lr.LC({ttl:Nt("2 hours"),max:1e3}),this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/private-jwk"}}delete({id:t,agent:n,tenant:o}){return ea(this,void 0,void 0,function*(){const p=yield Uo({agent:n,tenant:o,didUri:t});let y=yield this.lookupRecordId({id:t,tenantDid:p,agent:n});if(!y)return!1;const{reply:{status:l}}=yield n.dwn.processRequest({author:p,target:p,messageType:Is.RecordsDelete,messageParams:{recordId:y}});if(202===l.code)return this._index.delete(`${p}${di}${t}`),this._cache.delete(y),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${l.code}) ${l.detail}`)})}get({id:t,agent:n,tenant:o,useCache:p=!1}){return ea(this,void 0,void 0,function*(){const y=yield Uo({agent:n,tenant:o,didUri:t});let l=yield this.lookupRecordId({id:t,tenantDid:y,agent:n});if(l)return yield this.getRecord({recordId:l,tenantDid:y,agent:n,useCache:p})})}list({agent:t,tenant:n}){return ea(this,void 0,void 0,function*(){const o=yield Uo({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:o})})}set({id:t,data:n,tenant:o,agent:p,preventDuplicates:y=!0,useCache:l=!1}){return ea(this,void 0,void 0,function*(){const u=yield Uo({agent:p,tenant:o,didUri:t});if(y&&(yield this.lookupRecordId({id:t,tenantDid:u,agent:p})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const J=Lr.U$.object(n).toUint8Array(),{message:X,reply:{status:N}}=yield p.dwn.processRequest({author:u,target:u,messageType:Is.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([J],{type:"application/json"})});if(!X||202!==N.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${u}${di}${t}`,X.recordId),l&&this._cache.set(X.recordId,n)})}getAllRecords(t){return ea(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:o,useCache:p}){var y;return ea(this,void 0,void 0,function*(){if(p){const J=this._cache.get(t);if(J)return J}const{reply:l}=yield o.dwn.processRequest({author:n,target:n,messageType:Is.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(y=l.record)||void 0===y||!y.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const u=yield Lr.VS.consumeToJson({readable:l.record.data});return p&&this._cache.set(t,u),u})}lookupRecordId({id:t,tenantDid:n,agent:o}){return ea(this,void 0,void 0,function*(){let p=this._index.get(`${n}${di}${t}`,{updateAgeOnGet:!0});return p||(yield this.getAllRecords({agent:o,tenantDid:n}),p=this._index.get(`${n}${di}${t}`)),p})}}class Q_{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:o}){return ea(this,void 0,void 0,function*(){const p=yield Uo({agent:n,tenant:o,didUri:t});return!!this.store.has(`${p}${di}${t}`)&&(this.store.delete(`${p}${di}${t}`),!0)})}get({id:t,agent:n,tenant:o}){return ea(this,void 0,void 0,function*(){const p=yield Uo({agent:n,tenant:o,didUri:t});return this.store.get(`${p}${di}${t}`)})}list({agent:t,tenant:n}){return ea(this,void 0,void 0,function*(){const o=yield Uo({tenant:n,agent:t}),p=[];for(const[y,l]of this.store.entries())y.startsWith(`${o}${di}`)&&p.push(l);return p})}set({id:t,data:n,tenant:o,agent:p,preventDuplicates:y}){return ea(this,void 0,void 0,function*(){const l=yield Uo({agent:p,tenant:o,didUri:t});if(y&&this.store.has(`${l}${di}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const u=structuredClone(n);this.store.set(`${l}${di}${t}`,u)})}}var Hf=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class mO extends Lh{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/portable-did"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return Hf(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return Hf(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return Hf(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return Hf(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var o;return Hf(this,void 0,void 0,function*(){this._index.clear();const{reply:p}=yield t.dwn.processRequest({author:n,target:n,messageType:Is.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let y=[];for(const l of null!==(o=p.entries)&&void 0!==o?o:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const u=Lr.U$.base64Url(l.encodedData).toObject();Ba(u)&&(this._index.set(`${n}${di}${u.uri}`,l.recordId),this._cache.set(l.recordId,u),y.push(u))}return y})}}class gO extends Q_{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return Hf(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return Hf(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return Hf(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return Hf(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var qx=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class yO{constructor({ttl:t="15m"}={}){this.cache=new Lr.LC({ttl:Nt(t)})}get(t){return qx(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return qx(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return qx(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return qx(this,void 0,void 0,function*(){this.cache.clear()})}close(){return qx(this,void 0,void 0,function*(){})}}var e1=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},BA=function(r){return r.Create="Create",r.Resolve="Resolve",r}(BA||{});function ER(r,t){return r.messageType===t}class vO extends Dr{constructor({agent:t,didMethods:n,resolverCache:o,store:p}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:o??new yO}),this._didMethods=new Map,this._agent=t,this._store=p??new gO;for(const y of n)this._didMethods.set(y.methodName,y)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:o,store:p}){return e1(this,void 0,void 0,function*(){const l=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:o});if(p??1){const{uri:u,document:J,metadata:X}=l,N={uri:u,document:J,metadata:X};yield this._store.set({id:N.uri,data:N,agent:this.agent,tenant:n??N.uri,preventDuplicates:!1,useCache:!0})}return l})}export({didUri:t,tenant:n}){return e1(this,void 0,void 0,function*(){const o=yield this.get({didUri:t,tenant:n});if(!o)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield o.export()})}get({didUri:t,tenant:n}){return e1(this,void 0,void 0,function*(){const o=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return o?yield Vf.import({portableDid:o,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return e1(this,void 0,void 0,function*(){const o=Ts.parse(t);if(!o)throw new Error(`Invalid DID URI: ${t}`);const p=this.getMethod(o.method),{didDocument:y,didResolutionMetadata:l}=yield this.resolve(t);if(!y)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(l)}`);return yield p.getSigningMethod({didDocument:y,methodId:n})})}import({portableDid:t,tenant:n}){return e1(this,void 0,void 0,function*(){const o=yield Vf.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:p,document:y,metadata:l}=o,u={uri:p,document:y,metadata:l};return yield this._store.set({id:u.uri,data:u,agent:this.agent,tenant:n??u.uri,preventDuplicates:!0,useCache:!0}),o})}processRequest(t){var n;return e1(this,void 0,void 0,function*(){if(ER(t,BA.Create))try{const o=yield this.create(Object.assign({},t.messageParams));return{result:{uri:o.uri,document:o.document,metadata:o.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(o){return{ok:!1,status:{code:500,message:null!==(n=o.message)&&void 0!==n?n:"Unknown error occurred"}}}if(ER(t,BA.Resolve)){const{didUri:o,options:p}=t.messageParams;return{result:yield this.resolve(o,p),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var bO=E(85493),xR=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function MR(r){return Wk(r.stream())}function SR(r,t){return xR(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function vR(r){if(!function Fk(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(o=>"string"==typeof o);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:o}=n.contentStream,p="string"==typeof o?[o]:Array.isArray(o)&&o.every(y=>"string"==typeof y)?o:[];if(p.length>0)return p}return[]})}function wO(r){return eo.getAuthor(r)}function LA(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===Fi.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===ii.Write}function _O(r){return Ar.getCid(r)}function EO(r,t){return xR(this,void 0,void 0,function*(){const n=t===Ud.CreatedAscending||t===Ud.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield _O(r),value:n}})}function Wk(r){return new bO.s(r)}var Wf=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class MO{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:o,eventLog:p,eventStream:y,messageStore:l,tenantGate:u}){return Wf(this,void 0,void 0,function*(){return n??(n=new jx({blockstoreLocation:`${t}/DWN_DATASTORE`})),o??(o=new Dr({didResolvers:[q_,c],cache:new Cn({location:`${t}/DID_RESOLVERCACHE`})})),p??(p=new Sv({location:`${t}/DWN_EVENTLOG`})),l??(l=new EA({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),yield BT.create({dataStore:n,didResolver:o,eventLog:p,eventStream:y,messageStore:l,tenantGate:u})})}processRequest(t){return Wf(this,void 0,void 0,function*(){const{message:n,dataStream:o}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:p}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:o,subscriptionHandler:p}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield Ar.getCid(n)}})}sendRequest(t){return Wf(this,void 0,void 0,function*(){const n=yield SR(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let o,p,y,l;if("messageCid"in t)({message:p,data:y}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),o=t.messageCid;else{if(({message:p}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");y=t.dataStream,l=t.subscriptionHandler}const u=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:p,data:y,subscriptionHandler:l});return o??(o=yield Ar.getCid(p)),{reply:u,message:p,messageCid:o}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:o,data:p,subscriptionHandler:y}){return Wf(this,void 0,void 0,function*(){const l=[];if(o.descriptor.method===ii.Subscribe&&void 0===y)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let u of n)try{if(void 0!==y){if(!(yield this.agent.rpc.getServerInfo(u)).webSocketSupport){l.push({url:u,message:"WebSocket support is not enabled on the server."});continue}const N=new URL(u);N.protocol="http:"===N.protocol?"ws:":"wss:",u=N.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:u,targetDid:t,message:o,data:p,subscriptionHandler:y})}catch(J){l.push({url:u,message:J instanceof Error?J.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(l)}`)})}constructDwnMessage({request:t}){var n;return Wf(this,void 0,void 0,function*(){const o=t.rawMessage;let p;if(function xO(r,t){return r.messageType===t}(t,Is.RecordsWrite)){const J=t.messageParams;if(t.dataStream&&!J?.data){const{dataStream:X}=t;let N;if(X instanceof Blob)N=MR(X),p=MR(X);else if(X instanceof ReadableStream){const[oe,Ee]=X.tee();N=Wk(oe),p=Wk(Ee)}o||(J.dataCid=yield gc.computeDagPbCidFromStream(N),null!==(n=J.dataSize)&&void 0!==n||(J.dataSize=N.bytesRead))}}const y=yield this.getSigner(t.author),l=Gx[t.messageType],u=o?yield l.parse(o):yield l.create(Object.assign(Object.assign({},t.messageParams),{signer:y}));return LA(u)&&t.signAsOwner&&(yield u.signAsOwner(y)),{message:u.message,dataStream:p}})}getSigner(t){return Wf(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:o=>Wf(this,void 0,void 0,function*(){return yield n.sign({data:o})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const o=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),p=yield this.agent.keyManager.getPublicKey({keyUri:o}),y=this.agent.keyManager;return{algorithm:nr.Wp.getJoseSignatureAlgorithmFromPublicKey(p),keyId:n.id,sign:l=>Wf(this,void 0,void 0,function*(){return yield y.sign({data:l,keyUri:o})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return Wf(this,void 0,void 0,function*(){const o=yield this.getSigner(t),p=yield Gx[Is.MessagesGet].create({messageCids:[n],signer:o}),y=yield this._dwn.processMessage(t,p.message);if(!y.entries||1!==y.entries.length)throw new Error("AgentDwnApi: Expected 1 message entry in the MessagesGet response but received none or more than one.");const[l]=y.entries,u=l.message;if(!u)throw new Error(`AgentDwnApi: Message not found with CID: ${n}`);let J={message:u};if(LA(l))if(l.encodedData){const X=Lr.U$.base64Url(l.encodedData).toUint8Array();J.data=new Blob([X])}else{const X=yield Gx[Is.RecordsRead].create({filter:{recordId:l.message.recordId},signer:o}),N=yield this._dwn.processMessage(t,X.message);if(N.status.code>=400){const{status:{code:oe,detail:Ee}}=N;throw new Error(`AgentDwnApi: (${oe}) Failed to read data associated with record ${l.message.recordId}. ${Ee}}`)}if(N.record){const oe=yield Lr.VS.consumeToBytes({readable:N.record.data});J.data=new Blob([oe])}}return J})}createMessage({author:t,messageParams:n,messageType:o}){return Wf(this,void 0,void 0,function*(){const p=yield this.getSigner(t);return yield Gx[o].create(Object.assign(Object.assign({},n),{signer:p}))})}processMessage({dataStream:t,message:n,targetDid:o}){return Wf(this,void 0,void 0,function*(){return yield this._dwn.processMessage(o,n,{dataStream:t})})}}var Gk=E(86295),Zk=E(75781),SO=E(36405),Wd=E(62953);const DO=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),DR=Uint8Array.from({length:16},(r,t)=>t);let Yk=[DR],Xk=[DR.map(r=>(9*r+5)%16)];for(let r=0;r<4;r++)for(let t of[Yk,Xk])t.push(t[r].map(n=>DO[n]));const IR=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),TO=Yk.map((r,t)=>r.map(n=>IR[t][n])),AO=Xk.map((r,t)=>r.map(n=>IR[t][n])),CO=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),kO=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),UA=(r,t)=>r<<t|r>>>32-t;function TR(r,t,n,o){return 0===r?t^n^o:1===r?t&n|~t&o:2===r?(t|~n)^o:3===r?t&o|n&~o:t^(n|~o)}const FA=new Uint32Array(16);class PO extends SO.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:o,h3:p,h4:y}=this;return[t,n,o,p,y]}set(t,n,o,p,y){this.h0=0|t,this.h1=0|n,this.h2=0|o,this.h3=0|p,this.h4=0|y}process(t,n){for(let Le=0;Le<16;Le++,n+=4)FA[Le]=t.getUint32(n,!0);let o=0|this.h0,p=o,y=0|this.h1,l=y,u=0|this.h2,J=u,X=0|this.h3,N=X,oe=0|this.h4,Ee=oe;for(let Le=0;Le<5;Le++){const Pe=4-Le,Xe=CO[Le],vt=kO[Le],Tt=Yk[Le],bt=Xk[Le],wt=TO[Le],Ct=AO[Le];for(let Wt=0;Wt<16;Wt++){const Jt=UA(o+TR(Le,y,u,X)+FA[Tt[Wt]]+Xe,wt[Wt])+oe|0;o=oe,oe=X,X=0|UA(u,10),u=y,y=Jt}for(let Wt=0;Wt<16;Wt++){const Jt=UA(p+TR(Pe,l,J,N)+FA[bt[Wt]]+vt,Ct[Wt])+Ee|0;p=Ee,Ee=N,N=0|UA(J,10),J=l,l=Jt}}this.set(this.h1+u+N|0,this.h2+X+Ee|0,this.h3+oe+p|0,this.h4+o+l|0,this.h0+y+J|0)}roundClean(){FA.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const RO=(0,Wd.ld)(()=>new PO);var AR=E(47565),Jk=E(25431),dm=E(37099);const OO=(0,Wd.AI)("ed25519 seed"),qk=2147483648,CR=new Uint8Array([0]);function kR(r,...t){return"string"==typeof r&&(r=(0,Wd.aT)(r)),(0,dm.ee)(r,...t),r}const Qk=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,Wd.O8)(t).setUint32(0,r,!1),t};class jA{get publicKeyRaw(){return Gk.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,Wd.Id)(CR,this.publicKeyRaw)}get pubHash(){return RO((0,AR.s)(this.publicKey))}get fingerprint(){return(0,Wd.O8)(this.pubHash).getUint32(0,!1)}get fingerprintHex(){return(0,Wd.My)(Qk(this.fingerprint))}get parentFingerprintHex(){return(0,Wd.My)(Qk(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=kR(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,Zk.w)(Jk.Zf,OO,t);return new jA({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,dm.ee)(t.privateKey,32),(0,dm.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const o=t.replace(/^[mM]'?\//,"").split("/");let p=this;for(const y of o){const l=/^(\d+)('?)$/.exec(y);if(!l||3!==l.length)throw new Error(`Invalid child index: ${y}`);let u=+l[1];if(!Number.isSafeInteger(u)||u>=qk)throw new Error("Invalid index");(n||"'"===l[2])&&(u+=qk),p=p.deriveChild(u)}return p}deriveChild(t){if(t<qk)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,Wd.Id)(CR,this.privateKey,Qk(t)),o=(0,Zk.w)(Jk.Zf,this.chainCode,n);return new jA({chainCode:o.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:o.slice(0,32)})}sign(t){return Gk.ev.sign(t,this.privateKey)}verify(t,n){return n=kR(n,64),Gk.ev.verify(n,t,this.publicKeyRaw)}}const PR="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function e8(){return(e8=(0,Ne.A)(function*(r,t,n,o){const{c:p,dkLen:y,asyncTick:l,DK:u,PRF:J,PRFSalt:X}=function RR(r,t,n,o){(0,dm.tW)(r);const p=(0,Wd.tY)({dkLen:32,asyncTick:10},o),{c:y,dkLen:l,asyncTick:u}=p;if((0,dm.ai)(y),(0,dm.ai)(l),(0,dm.ai)(u),y<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const J=(0,Wd.ZJ)(t),X=(0,Wd.ZJ)(n),N=new Uint8Array(l),oe=Zk.w.create(r,J),Ee=oe._cloneInto().update(X);return{c:y,dkLen:l,asyncTick:u,DK:N,PRF:oe,PRFSalt:Ee}}(r,t,n,o);let N;const oe=new Uint8Array(4),Ee=(0,Wd.O8)(oe),Le=new Uint8Array(J.outputLen);for(let Pe=1,Xe=0;Xe<y;Pe++,Xe+=J.outputLen){const vt=u.subarray(Xe,Xe+J.outputLen);Ee.setInt32(0,Pe,!1),(N=X._cloneInto(N)).update(oe).digestInto(Le),vt.set(Le.subarray(0,vt.length)),yield(0,Wd.$h)(p-1,l,()=>{J._cloneInto(N).update(Le).digestInto(Le);for(let Tt=0;Tt<vt.length;Tt++)vt[Tt]^=Le[Tt]})}return function OR(r,t,n,o,p){return r.destroy(),t.destroy(),o&&o.destroy(),p.fill(0),n}(J,X,u,N,Le)})).apply(this,arguments)}function Qx(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}function t8(r,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(r))throw new Error("convertRadix: data should be array");if(!r.length)return[];let o=0;const p=[],y=Array.from(r);for(y.forEach(l=>{if(l<0||l>=t)throw new Error(`Wrong integer: ${l}`)});;){let l=0,u=!0;for(let J=o;J<y.length;J++){const X=y[J],N=t*l+X;if(!Number.isSafeInteger(N)||t*l/t!==l||N-X!=t*l)throw new Error("convertRadix: carry overflow");l=N%n;const oe=Math.floor(N/n);if(y[J]=oe,!Number.isSafeInteger(oe)||oe*n+l!==N)throw new Error("convertRadix: carry overflow");u&&(oe?u=!1:o=J)}if(p.push(l),u)break}for(let l=0;l<r.length-1&&0===r[l];l++)p.push(0);return p.reverse()}const BR=(r,t)=>t?BR(t,r%t):r,$A=(r,t)=>r+(t-BR(r,t));function KA(r,t,n,o){if(!Array.isArray(r))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if($A(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${$A(t,n)}`);let p=0,y=0;const l=2**n-1,u=[];for(const J of r){if(J>=2**t)throw new Error(`convertRadix2: invalid data word=${J} from=${t}`);if(p=p<<t|J,y+t>32)throw new Error(`convertRadix2: carry overflow pos=${y} from=${t}`);for(y+=t;y>=n;y-=n)u.push((p>>y-n&l)>>>0);p&=2**y-1}if(p=p<<n-y&l,!o&&y>=t)throw new Error("Excess padding");if(!o&&p)throw new Error(`Non-zero padding: ${p}`);return o&&y>0&&u.push(p>>>0),u}const VA={alphabet:function Wu(r){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(n<0||n>=r.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${r.length})`);return r[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if("string"!=typeof n)throw new Error(`alphabet.decode: not string element=${n}`);const o=r.indexOf(n);if(-1===o)throw new Error(`Unknown letter: "${n}". Allowed: ${r}`);return o})}}},chain:function ou(...r){const t=y=>y,n=(y,l)=>u=>y(l(u));return{encode:r.map(y=>y.encode).reduceRight(n,t),decode:r.map(y=>y.decode).reduce(n,t)}},checksum:function FR(r,t){if("function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!Qx(n))throw new Error("checksum.encode: input should be Uint8Array");const o=t(n).slice(0,r),p=new Uint8Array(n.length+r);return p.set(n),p.set(o,n.length),p},decode(n){if(!Qx(n))throw new Error("checksum.decode: input should be Uint8Array");const o=n.slice(0,-r),p=t(o).slice(0,r),y=n.slice(-r);for(let l=0;l<r;l++)if(p[l]!==y[l])throw new Error("Invalid checksum");return o}}},convertRadix:t8,convertRadix2:KA,radix:function LR(r){return{encode:t=>{if(!Qx(t))throw new Error("radix.encode input should be Uint8Array");return t8(Array.from(t),256,r)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(t8(t,r,256))}}},radix2:function Gf(r,t=!1){if(r<=0||r>32)throw new Error("radix2: bits should be in (0..32]");if($A(8,r)>32||$A(r,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Qx(n))throw new Error("radix2.encode input should be Uint8Array");return KA(Array.from(n),8,r,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(KA(n,r,8,t))}}},join:function Gu(r=""){if("string"!=typeof r)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let n of t)if("string"!=typeof n)throw new Error(`join.encode: non-string input=${n}`);return t.join(r)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(r)}}},padding:function eM(r,t="="){if("string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let o of n)if("string"!=typeof o)throw new Error(`padding.encode: non-string input=${o}`);for(;n.length*r%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let p of n)if("string"!=typeof p)throw new Error(`padding.decode: non-string input=${p}`);let o=n.length;if(o*r%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;o>0&&n[o-1]===t;o--)if(!((o-1)*r%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,o)}}}};function zR(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function r8(r){const t=zR(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function HR(r){(0,dm.ee)(r,16,20,24,28,32)}const HO=r=>{const t=8-r.length/4;return new Uint8Array([(0,AR.s)(r)[0]>>t<<t])};function WR(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),VA.chain(VA.checksum(1,HO),VA.radix2(11,!0),VA.alphabet(r))}function YO(r,t=""){return function LO(r,t,n,o){return e8.apply(this,arguments)}(Jk.Zf,r8(r).nfkd,(r=>zR(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var lm=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class XO extends Lh{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/private-jwk"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return lm(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return lm(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return lm(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return lm(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var o;return lm(this,void 0,void 0,function*(){this._index.clear();const{reply:p}=yield t.dwn.processRequest({author:n,target:n,messageType:Is.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let y=[];for(const l of null!==(o=p.entries)&&void 0!==o?o:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const u=Lr.U$.base64Url(l.encodedData).toObject();(0,nr.oz)(u)&&(this._index.set(`${n}${di}${nr.Xj}${u.kid}`,l.recordId),this._cache.set(l.recordId,u),y.push(u))}return y})}}class JO extends Q_{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return lm(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return lm(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return lm(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return lm(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var Zu=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})},ZR=function(r,t){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(n[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(o=Object.getOwnPropertySymbols(r);p<o.length;p++)t.indexOf(o[p])<0&&Object.prototype.propertyIsEnumerable.call(r,o[p])&&(n[o[p]]=r[o[p]])}return n};const i8={"AES-GCM":{implementation:nr.GT,names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:TA,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:nr.Dp,names:["Ed25519"]},secp256k1:{implementation:nr.SO,names:["ES256K","secp256k1"]},secp256r1:{implementation:nr.SO,names:["ES256","secp256r1"]},"SHA-256":{implementation:nr.cM,names:["SHA-256"]}};class Cv{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new JO}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,o=ZR(t,["keyUri"]);return Zu(this,void 0,void 0,function*(){const p=yield this.getPrivateKey({keyUri:n}),y=this.getAlgorithmName({key:p});return yield this.getAlgorithm({algorithm:y}).decrypt(Object.assign({key:p},o))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,o=ZR(t,["keyUri"]);return Zu(this,void 0,void 0,function*(){const p=yield this.getPrivateKey({keyUri:n}),y=this.getAlgorithmName({key:p});return yield this.getAlgorithm({algorithm:y}).encrypt(Object.assign({key:p},o))})}exportKey({keyUri:t}){return Zu(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return Zu(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:{alg:t}}),y=yield this.getAlgorithm({algorithm:o}).generateKey({algorithm:t});null!==(n=y.kid)&&void 0!==n||(y.kid=yield(0,nr.BA)({jwk:y}));const l=yield this.getKeyUri({key:y});return yield this._keyStore.set({id:l,data:y,agent:this.agent,preventDuplicates:!1,useCache:!0}),l})}getKeyUri({key:t}){return Zu(this,void 0,void 0,function*(){const n=yield(0,nr.BA)({jwk:t});return`${nr.Xj}${n}`})}getPublicKey({keyUri:t}){return Zu(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:o}).getPublicKey({key:n})})}importKey({key:t}){var n;return Zu(this,void 0,void 0,function*(){if(!(0,nr.oz)(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const o=structuredClone(t);null!==(n=o.kid)&&void 0!==n||(o.kid=yield(0,nr.BA)({jwk:o}));const p=yield this.getKeyUri({key:o});return yield this._keyStore.set({id:p,data:o,agent:this.agent,preventDuplicates:!0,useCache:!0}),p})}sign({keyUri:t,data:n}){return Zu(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:t}),p=this.getAlgorithmName({key:o});return this.getAlgorithm({algorithm:p}).sign({data:n,key:o})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:o}){return Zu(this,void 0,void 0,function*(){const p=yield this.getPrivateKey({keyUri:o}),y=this.getAlgorithmName({key:p});return yield this.getAlgorithm({algorithm:y}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:p})})}verify({key:t,signature:n,data:o}){return Zu(this,void 0,void 0,function*(){const p=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:p}).verify({key:t,signature:n,data:o})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return Zu(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:n}),p=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:p}).wrapKey({unwrappedKey:t,encryptionKey:o})})}getAlgorithm({algorithm:t}){var n;const o=null===(n=i8[t])||void 0===n?void 0:n.implementation;if(!o)throw new Si(Di.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(o)||this._algorithmInstances.set(o,new o),this._algorithmInstances.get(o)}getAlgorithmName({key:t}){const n=t.alg,o=t.crv;for(const p of Object.keys(i8)){const y=i8[p].names;if(n&&y.includes(n))return p;if(o&&y.includes(o))return p}throw new Si(Di.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${o}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return Zu(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var YR=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function o8(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class XR{static decrypt({key:t,encryptedKey:n,joseHeader:o,crypto:p}){return YR(this,void 0,void 0,function*(){switch(o.alg){case"dir":if(void 0!==n)throw new Si(Di.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Si(Di.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof o.p2c)throw new Si(Di.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof o.p2s)throw new Si(Di.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Si(Di.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new Si(Di.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let y;try{y=new Uint8Array([...Lr.U$.string(o.alg).toUint8Array(),0,...Lr.U$.base64Url(o.p2s).toUint8Array()])}catch{throw new Si(Di.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const l=yield p.deriveKey({algorithm:o.alg,baseKeyBytes:t,iterations:o.p2c,salt:y});if(!l.alg||!["A128KW","A192KW","A256KW"].includes(l.alg))throw new Si(Di.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${l.alg}`);return yield p.unwrapKey({decryptionKey:l,wrappedKeyBytes:n,wrappedKeyAlgorithm:o.enc})}default:throw new Si(Di.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${o.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:o}){return YR(this,void 0,void 0,function*(){let p,y;switch(n.alg){case"dir":if(void 0!==y)throw new Si(Di.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Si(Di.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');p=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new Si(Di.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new Si(Di.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Si(Di.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let l;p=yield o.generateKey({algorithm:n.enc});try{l=new Uint8Array([...Lr.U$.string(n.alg).toUint8Array(),0,...Lr.U$.base64Url(n.p2s).toUint8Array()])}catch{throw new Si(Di.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const u=yield o.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:l});y=yield o.wrapKey({encryptionKey:u,unwrappedKey:p});break}default:throw new Si(Di.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:p,encryptedKey:y}})}}function WA(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function JR(...r){const t=new Set,n=r.filter(Boolean);for(const o of n)for(const p in o){if(t.has(p))return!0;t.add(p)}return!1}var qR=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function s8(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return Lr.U$.base64Url(t).toUint8Array()}catch{throw new Si(Di.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class GA{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:o=new nr.eP,crypto:p=new vg,options:y={}}){var l,u;return qR(this,void 0,void 0,function*(){if(!WA(p))throw new Si(Di.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!WA(o))throw new Si(Di.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new Si(Di.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new Si(Di.InvalidJwe,"JWE Ciphertext is missing or not a string.");let J;if(t.protected)try{J=Lr.U$.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(JR(J,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const X=Object.assign(Object.assign(Object.assign({},J),t.header),t.unprotected);if(!o8(X))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(y.allowedAlgValues)&&!y.allowedAlgValues.includes(X.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${X.alg}`);if(Array.isArray(y.allowedEncValues)&&!y.allowedEncValues.includes(X.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${X.enc}`);let N;try{const vt=t.encrypted_key?Lr.U$.base64Url(t.encrypted_key).toUint8Array():void 0;N=yield XR.decrypt({key:n,encryptedKey:vt,joseHeader:X,keyManager:o,crypto:p})}catch(vt){if(vt instanceof Si&&(vt.code===Di.InvalidJwe||vt.code===Di.AlgorithmNotSupported))throw vt;N="string"==typeof n?yield o.generateKey({algorithm:X.enc}):yield p.generateKey({algorithm:X.enc})}const oe=s8("iv",t.iv),Ee=s8("tag",t.tag),Le=void 0!==Ee?new Uint8Array([...Lr.U$.base64Url(t.ciphertext).toUint8Array(),...Ee??[]]):Lr.U$.base64Url(t.ciphertext).toUint8Array(),Pe=void 0!==t.aad?new Uint8Array([...Lr.U$.string(null!==(l=t.protected)&&void 0!==l?l:"").toUint8Array(),...Lr.U$.string(".").toUint8Array(),...Lr.U$.string(t.aad).toUint8Array()]):Lr.U$.string(null!==(u=t.protected)&&void 0!==u?u:"").toUint8Array();return{plaintext:"string"==typeof N?yield o.decrypt({keyUri:N,data:Le,iv:oe,additionalData:Pe}):yield p.decrypt({key:N,data:Le,iv:oe,additionalData:Pe}),protectedHeader:J,additionalAuthenticatedData:s8("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:o,protectedHeader:p,sharedUnprotectedHeader:y,unprotectedHeader:l,keyManager:u=new nr.eP,crypto:J=new vg}){return qR(this,void 0,void 0,function*(){if(!WA(J))throw new Si(Di.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!WA(u))throw new Si(Di.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!p&&!y&&!l)throw new Si(Di.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new Si(Di.InvalidJwe,"Plaintext is missing or not a byte array.");if(JR(p,y,l))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const X=Object.assign(Object.assign(Object.assign({},p),y),l);if(!o8(X))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:N,encryptedKey:oe}=yield XR.encrypt({key:t,joseHeader:X,keyManager:u,crypto:J});let Ee;switch(X.enc){case"A128GCM":case"A192GCM":case"A256GCM":Ee=nr.Wp.randomBytes(12);break;default:Ee=new Uint8Array(0)}const Le=p?Lr.U$.object(p).toBase64Url():"";let Pe,Xe;o?(Xe=Lr.U$.uint8Array(o).toBase64Url(),Pe=Lr.U$.string(Le+"."+Xe).toUint8Array()):Pe=Lr.U$.string(Le).toUint8Array();const vt="string"==typeof N?yield u.encrypt({keyUri:N,data:n,iv:Ee,additionalData:Pe}):yield J.encrypt({key:N,data:n,iv:Ee,additionalData:Pe}),Tt=vt.slice(0,-16),bt=vt.slice(-16),wt=new GA({ciphertext:Lr.U$.uint8Array(Tt).toBase64Url()});return oe&&(wt.encrypted_key=Lr.U$.uint8Array(oe).toBase64Url()),p&&(wt.protected=Le),y&&(wt.unprotected=y),l&&(wt.header=l),Ee&&(wt.iv=Lr.U$.uint8Array(Ee).toBase64Url()),Xe&&(wt.aad=Xe),bt&&(wt.tag=Lr.U$.uint8Array(bt).toBase64Url()),wt})}}var QR=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class t1{static decrypt({jwe:t,key:n,keyManager:o=new nr.eP,crypto:p=new vg,options:y={}}){return QR(this,void 0,void 0,function*(){if("string"!=typeof t)throw new Si(Di.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:l,1:u,2:J,3:X,4:N,length:oe}=t.split(".");if(5!==oe)throw new Si(Di.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const Ee=yield GA.decrypt({jwe:{ciphertext:X,encrypted_key:u||void 0,iv:J||void 0,protected:l,tag:N||void 0},key:n,keyManager:o,crypto:p,options:y});if(!o8(Ee.protectedHeader))throw new Si(Di.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:Ee.plaintext,protectedHeader:Ee.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:o,keyManager:p=new nr.eP,crypto:y=new vg,options:l={}}){return QR(this,void 0,void 0,function*(){const u=yield GA.encrypt({plaintext:t,protectedHeader:n,key:o,keyManager:p,crypto:y,options:l});return[u.protected,u.encrypted_key,u.iv,u.ciphertext,u.tag].join(".")})}}var Yu=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};function eO(r){return"string"!=typeof r||0===r.trim().length}class e4{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new vg,this._keyDerivationWorkFactor=t??21e4,this._store=n??new Lr.ny}backup(){return Yu(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=Lr.U$.object(t).toBase64Url(),o={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:o.dateCreated}),o})}changePassword({oldPassword:t,newPassword:n}){return Yu(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const o=yield this.getStoredContentEncryptionKey();let p,y;try{let u;({plaintext:u,protectedHeader:p}=yield t1.decrypt({jwe:o,key:Lr.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Cv})),y=Lr.U$.uint8Array(u).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const l=yield t1.encrypt({key:Lr.U$.string(n).toUint8Array(),protectedHeader:p,plaintext:Lr.U$.object(y).toUint8Array(),crypto:this.crypto,keyManager:new Cv});yield this._store.set("contentEncryptionKey",l),this._contentEncryptionKey=y})}getDid(){return Yu(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield t1.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new Cv}),o=Lr.U$.uint8Array(n).toObject();if(!Ba(o))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield Vf.import({portableDid:o})})}getStatus(){return Yu(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=Lr.U$.string(t).toObject();if(!function QO(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return Yu(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(eO(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&eO(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function zO(r,t=128){if((0,dm.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function GO(r,t){return HR(r),WR(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,Wd.po)(t/8),r)}(PR,128)),!function ZO(r,t){try{!function WO(r,t){const{words:n}=r8(r);HR(WR(t).decode(n))}(r,t)}catch{return!1}return!0}(n,PR))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const o=yield YO(n),p=jA.fromMasterSeed(o),y=p.derive("m/44'/0'/0'/0'/0'"),l=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:y.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),u=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:y.publicKey,salt:"",info:"vault_unlock_salt",length:256}),J={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:Lr.U$.uint8Array(u).toBase64Url()},X=yield t1.encrypt({key:Lr.U$.string(t).toUint8Array(),protectedHeader:J,plaintext:Lr.U$.object(l).toUint8Array(),crypto:this.crypto,keyManager:new Cv});yield this._store.set("contentEncryptionKey",X);const N=p.derive("m/44'/0'/1708523827'/0'/0'"),oe=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:N.privateKey});let Ee=p.derive("m/44'/0'/1708523827'/0'/1'");const Le=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:Ee.privateKey}),Pe=new $o;yield Pe.addPredefinedKeys({privateKeys:[oe,Le]});const vt=yield(yield q_.create({keyManager:Pe,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),bt=yield t1.encrypt({key:l,plaintext:Lr.U$.object(vt).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new Cv});return yield this._store.set("did",bt),this._contentEncryptionKey=l,yield this.setStatus({initialized:!0}),n})}isInitialized(){return Yu(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return Yu(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return Yu(this,void 0,void 0,function*(){if(!function qO(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let o,p,y;try{y=yield this.getStoredDid(),p=yield this.getStoredContentEncryptionKey(),o=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const l=Lr.U$.base64Url(t.data).toObject();yield this._store.set("did",l.did),yield this._store.set("contentEncryptionKey",l.contentEncryptionKey),yield this.setStatus(l.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(o),yield this._store.set("contentEncryptionKey",p),yield this._store.set("did",y),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return Yu(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:o}=yield t1.decrypt({jwe:n,key:Lr.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new Cv}),p=Lr.U$.uint8Array(o).toObject();this._contentEncryptionKey=p}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return Yu(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return Yu(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:o}){return Yu(this,void 0,void 0,function*(){let p=yield this.getStatus();return p.initialized=t??p.initialized,p.lastBackup=n??p.lastBackup,p.lastRestore=o??p.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(p)),!0})}}var um=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class n4 extends Lh{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/identity-metadata"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return um(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return um(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return um(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return um(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var o;return um(this,void 0,void 0,function*(){this._index.clear();const{reply:p}=yield t.dwn.processRequest({author:n,target:n,messageType:Is.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let y=[];for(const l of null!==(o=p.entries)&&void 0!==o?o:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const u=Lr.U$.base64Url(l.encodedData).toObject();(r=u)&&"object"==typeof r&&null!==r&&"name"in r&&(this._index.set(`${n}${di}${u.uri}`,l.recordId),this._cache.set(l.recordId,u),y.push(u))}var r;return y})}}class r4 extends Q_{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return um(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return um(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return um(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return um(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var n1=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class i4{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new r4}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:o,store:p,tenant:y}){return n1(this,void 0,void 0,function*(){const l=yield this.agent.did.create({method:n,options:o,store:p,tenant:y}),u=new Dv({did:l,metadata:Object.assign(Object.assign({},t),{uri:l.uri,tenant:y??l.uri})});return(p??!0)&&(yield this._store.set({id:u.did.uri,data:u.metadata,agent:this.agent,tenant:u.metadata.tenant,preventDuplicates:!1,useCache:!0})),u})}export({didUri:t,tenant:n}){return n1(this,void 0,void 0,function*(){const o=yield this.get({didUri:t,tenant:n});if(!o)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield o.export()})}get({didUri:t,tenant:n}){return n1(this,void 0,void 0,function*(){const o=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!o)return;const p=yield this.agent.did.get({didUri:t,tenant:o.tenant});if(!p)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new Dv({did:p,metadata:o})})}import({portableIdentity:t}){return n1(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const o=new Dv({did:n,metadata:t.metadata});return yield this._store.set({id:o.did.uri,data:o.metadata,agent:this.agent,tenant:o.metadata.tenant,preventDuplicates:!0,useCache:!0}),o})}list({tenant:t}={}){return n1(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),o=[];for(const p of n){const y=yield this.get({didUri:p.uri,tenant:p.tenant});o.push(y)}return o})}manage({portableIdentity:t}){return n1(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const o=new Dv({did:n,metadata:t.metadata});return yield this._store.set({id:o.did.uri,data:o.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),o})}}const a8=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),tO=(r,t,n,o)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:o,subscription:{id:n}});function ZA(r){try{return JSON.parse(r)}catch{return null}}var nM=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class s4{constructor({ttl:t="15m"}={}){this.cache=new Lr.LC({ttl:Nt(t)})}get(t){return nM(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return nM(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return nM(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return nM(this,void 0,void 0,function*(){this.cache.clear()})}close(){return nM(this,void 0,void 0,function*(){})}}var nO=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class a4{constructor(t){this.serverInfoCache=t??new s4}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return nO(this,void 0,void 0,function*(){const n=nr.Wp.randomUuid(),o=a8(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),p={method:"POST",headers:{"dwn-request":JSON.stringify(o)}};t.data&&(p.headers["content-type"]="application/octet-stream",p.body=t.data);const y=yield fetch(t.dwnUrl,p);let l,u;const{headers:J}=y;if(J.has("dwn-response")){const N=ZA(J.get("dwn-response"));if(null==N)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);u=y.body,l=N}else{const N=yield y.text();l=JSON.parse(N)}if(l.error){const{code:N,message:oe}=l.error;throw new Error(`(${N}) - ${oe}`)}const{reply:X}=l.result;return u&&(X.record.data=u),X})}getServerInfo(t){return nO(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const o=new URL(t);o.pathname.endsWith("/")?o.pathname+="info":o.pathname+="/info";try{const p=yield fetch(o.toString());if(p.ok){const y=yield p.json(),l={registrationRequirements:y.registrationRequirements,maxFileSize:y.maxFileSize,webSocketSupport:y.webSocketSupport};return this.serverInfoCache.set(t,l),l}throw new Error(`HTTP (${p.status}) - ${p.statusText}`)}catch(p){throw new Error(`Error encountered while processing response from ${o.toString()}: ${p.message}`)}})}}var r1=null;typeof WebSocket<"u"?r1=WebSocket:typeof MozWebSocket<"u"?r1=MozWebSocket:typeof globalThis<"u"?r1=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?r1=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(r1=self.WebSocket||self.MozWebSocket);const c4=r1;var YA=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};const d4=3e3,l4=3e4;class c8{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return YA(this,void 0,void 0,function*(){const{connectTimeout:o=d4,responseTimeout:p=l4,onclose:y,onerror:l}=n,u=new c4(t);return u.onclose=y||(()=>{console.info(`JSON RPC Socket close ${t}`)}),u.onerror=l||(J=>{console.error(`JSON RPC Socket error ${t}`,J)}),new Promise((J,X)=>{u.addEventListener("open",()=>{const N=new c8(u,p);u.addEventListener("message",oe=>{const Ee=ZA(oe.data),Le=N.messageHandlers.get(Ee.id);Le&&Le(oe)}),J(N)}),u.addEventListener("error",N=>{X(N)}),setTimeout(()=>X,o)})})}close(){this.socket.close()}request(t){return YA(this,void 0,void 0,function*(){return new Promise((n,o)=>{var p;null!==(p=t.id)&&void 0!==p||(t.id=nr.Wp.randomUuid()),this.messageHandlers.set(t.id,l=>{const u=ZA(l.data);if(u.id===t.id)return this.messageHandlers.delete(t.id),n(u)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),o(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return YA(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const o=t.subscription.id;this.messageHandlers.set(o,u=>{const J=ZA(u.data.toString());J.id===o&&(void 0!==J.error&&(this.messageHandlers.delete(o),this.closeSubscription(o)),n(J))});const y=yield this.request(t);return y.error?(this.messageHandlers.delete(o),{response:y}):{response:y,close:()=>YA(this,void 0,void 0,function*(){this.messageHandlers.delete(o),yield this.closeSubscription(o)})}})}closeSubscription(t){const n=nr.Wp.randomUuid(),o=tO(n,"close",t,{});return this.request(o)}send(t){this.socket.send(JSON.stringify(t))}}var d8=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class wg{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return d8(this,void 0,void 0,function*(){const o=new URL(t.dwnUrl);if("ws:"!==o.protocol&&"wss:"!==o.protocol)throw new Error(`Invalid websocket protocol ${o.protocol}`);if(!wg.connections.has(o.host))try{const X=yield c8.connect(o.toString(),n);wg.connections.set(o.host,{socket:X,subscriptions:new Map})}catch(X){throw new Error(`Error connecting to ${o.host}: ${X.message}`)}const y=wg.connections.get(o.host),{targetDid:l,message:u,subscriptionHandler:J}=t;return J?wg.subscriptionRequest(y,l,u,J):wg.processMessage(y,l,u)})}static processMessage(t,n,o){return d8(this,void 0,void 0,function*(){const p=nr.Wp.randomUuid(),y=a8(p,"dwn.processMessage",{target:n,message:o}),{socket:l}=t,u=yield l.request(y),{error:J,result:X}=u;if(void 0!==J)throw new Error(`error sending DWN request: ${J.message}`);return X.reply})}static subscriptionRequest(t,n,o,p){return d8(this,void 0,void 0,function*(){const y=nr.Wp.randomUuid(),l=nr.Wp.randomUuid(),u=tO(y,"dwn.processMessage",l,{target:n,message:o}),{socket:J,subscriptions:X}=t,{response:N,close:oe}=yield J.subscribe(u,Xe=>{const{result:vt,error:Tt}=Xe;if(Tt){const wt=X.get(l);return wt&&wt.close(),void X.delete(l)}const{event:bt}=vt;p(bt)}),{error:Ee,result:Le}=N;if(Ee)throw new Error(`could not subscribe via jsonrpc socket: ${Ee.message}`);const{reply:Pe}=Le;return Pe.subscription&&oe&&(X.set(l,Object.assign(Object.assign({},Pe.subscription),{close:oe})),Pe.subscription.close=oe),Pe})}}wg.connections=new Map;var rM=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};class f4{constructor(t=[]){this.transportClients=new Map,t=[new h4,new p4,...t];for(let n of t)for(let o of n.transportProtocols)this.transportClients.set(o,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return rM(this,void 0,void 0,function*(){const n=new URL(t.url),o=this.transportClients.get(n.protocol);if(!o){const p=new Error(`no ${n.protocol} transport client available`);throw p.name="NO_TRANSPORT_CLIENT",p}return o.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),o=this.transportClients.get(n.protocol);if(!o){const p=new Error(`no ${n.protocol} transport client available`);throw p.name="NO_TRANSPORT_CLIENT",p}return o.sendDwnRequest(t)}getServerInfo(t){return rM(this,void 0,void 0,function*(){const n=new URL(t),o=this.transportClients.get(n.protocol);if(!o){const p=new Error(`no ${n.protocol} transport client available`);throw p.name="NO_TRANSPORT_CLIENT",p}return o.getServerInfo(t)})}}class h4 extends a4{sendDidRequest(t){return rM(this,void 0,void 0,function*(){const n=nr.Wp.randomUuid(),o=a8(n,t.method,{data:t.data}),p=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});let y;try{const l=yield fetch(p);if(!l.ok)throw new Error(`HTTP (${l.status}) - ${l.statusText}`);if(y=yield l.json(),y.error){const{code:u,message:J}=y.error;throw new Error(`JSON RPC (${u}) - ${J}`)}}catch(l){throw new Error(`Error encountered while processing response from ${t.url}: ${l.message}`)}return y.result})}}class p4 extends wg{sendDidRequest(t){return rM(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return rM(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class g4{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var yl=function(r,t,n,o){return new(n||(n=Promise))(function(y,l){function u(N){try{X(o.next(N))}catch(oe){l(oe)}}function J(N){try{X(o.throw(N))}catch(oe){l(oe)}}function X(N){N.done?y(N.value):function p(y){return y instanceof n?y:new n(function(l){l(y)})}(N.value).then(u,J)}X((o=o.apply(r,t||[])).next())})};const rO=r=>r>=200&&r<=299;class v4{constructor({agent:t,dataPath:n,db:o}){this._agent=t,this._db=o||new vx.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=hA()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return yl(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return yl(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return yl(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const o=this.getPullQueue(),p=yield o.iterator().all(),y=[],l=new Set;for(let u of p){const[J]=u,[X,N,oe,Ee]=J.split("~");if(l.has(N))continue;if(yield this.messageExists(X,Ee)){y.push({type:"del",key:J});continue}const Pe=yield this.agent.dwn.createMessage({author:X,messageType:Is.MessagesGet,messageParams:{messageCids:[Ee]}});let Xe;try{Xe=yield this.agent.rpc.sendDwnRequest({dwnUrl:N,targetDid:X,message:Pe})}catch{l.add(N);continue}for(let vt of null!==(t=Xe.entries)&&void 0!==t?t:[]){if(vt.error||!vt.message){yield this.addMessage(X,Ee),y.push({type:"del",key:J});continue}let Tt;if(LA(vt)){const{encodedData:wt}=vt,Ct=vt.message;if(wt){const Wt=Lr.U$.base64Url(wt).toUint8Array();Tt=Nf.fromBytes(Wt)}else{const Wt=yield this.agent.dwn.createMessage({author:X,messageType:Is.RecordsRead,messageParams:{filter:{recordId:Ct.recordId}}}),Jt=yield this.agent.rpc.sendDwnRequest({dwnUrl:N,targetDid:X,message:Wt.message}),{record:an,status:Vt}=Jt;if(rO(Vt.code)&&an)Tt=Lr.VS.fromWebReadable({readableStream:an.data});else if(Vt.code>=400){const In=yield this.agent.dwn.processMessage({targetDid:X,message:Ct});if(202===In.status.code||409===In.status.code){yield this.addMessage(X,Ee),y.push({type:"del",key:J});continue}throw new Error(`SyncManager: Failed to sync tombstone for message '${Ee}'`)}}}const bt=yield this.agent.dwn.processMessage({targetDid:X,message:vt.message,dataStream:Tt});(202===bt.status.code||409===bt.status.code)&&(yield this.addMessage(X,Ee),y.push({type:"del",key:J}))}}yield o.batch(y)})}push(){return yl(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),o=yield n.iterator().all(),p=[],y=new Set;for(let l of o){const[u]=l,[J,X,N,oe]=u.split("~");if(y.has(X))continue;const Ee=yield this.getDwnMessage({author:J,messageCid:oe});if(Ee)try{const Le=yield this.agent.rpc.sendDwnRequest({dwnUrl:X,targetDid:J,data:Ee.data,message:Ee.message});(202===Le.status.code||409===Le.status.code)&&(yield this.addMessage(J,oe),p.push({type:"del",key:u}))}catch{y.add(X)}else p.push({type:"del",key:u}),yield this.addMessage(J,oe)}yield n.batch(p)})}registerIdentity({did:t}){return yl(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=Nt(t);return new Promise((o,p)=>{const y=()=>yl(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(l){this.stopSync(),p(l)}this._syncIntervalId=setInterval(y,n)});this._syncIntervalId=setInterval(y,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}enqueueOperations({syncDirection:t,syncPeerState:n}){return yl(this,void 0,void 0,function*(){for(let o of n){const p=yield this.getDwnEventLog({did:o.did,dwnUrl:o.dwnUrl,cursor:o.cursor,syncDirection:t}),y=[];for(let l of p){const u=this._ulidFactory(),J=[o.did,o.dwnUrl,u,l].join("~");y.push({type:"put",key:J,value:""})}y.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(y))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:o,cursor:p}){var y;return yl(this,void 0,void 0,function*(){let l={};if("pull"===o){const J=yield this.agent.dwn.createMessage({author:t,messageType:Is.EventsGet,messageParams:{cursor:p}});try{l=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:J})}catch{}}else"push"===o&&(l=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:Is.EventsGet,messageParams:{cursor:p}})).reply);const u=null!==(y=l.entries)&&void 0!==y?y:[];return l.cursor&&this.setCursor(t,n,o,l.cursor),u})}getDwnMessage({author:t,messageCid:n}){return yl(this,void 0,void 0,function*(){let{reply:o}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:Is.MessagesGet,messageParams:{messageCids:[n]}});if(!o.entries||1!==o.entries.length)return;const[p]=o.entries,y=p.message;if(!y)return;let l={message:y};if(LA(p))if(p.encodedData){const u=Lr.U$.base64Url(p.encodedData).toUint8Array();l.data=new Blob([u])}else{const J=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:Is.RecordsRead,messageParams:{filter:{recordId:p.message.recordId}}})).reply;if(rO(J.status.code)&&J.record)l.data=yield Lr.VS.consumeToBlob({readable:J.record.data});else if(!((r=J.status.code)>=400&&r<=499)){const{status:{code:X,detail:N}}=J;throw new Error(`SyncEngineLevel: (${X}) Failed to read data associated with record ${p.message.recordId}. ${N}}`)}}var r;return l})}getSyncPeerState({syncDirection:t}){return yl(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),o=[];for(let p of n){const y=yield SR(p,this.agent.did);if(0!==y.length)for(let l of y){const u=yield this.getCursor(p,l,t);o.push({did:p,dwnUrl:l,cursor:u})}}return o})}getCursor(t,n,o){return yl(this,void 0,void 0,function*(){const p=`${t}~${n}~${o}`,y=this.getCursorStore();try{const l=yield y.get(p);if(l)return JSON.parse(l)}catch(l){if(l.notFound)return}})}setCursor(t,n,o,p){return yl(this,void 0,void 0,function*(){const y=`${t}~${n}~${o}`;yield this.getCursorStore().put(y,JSON.stringify(p))})}messageExists(t,n){return yl(this,void 0,void 0,function*(){const o=this.getMessageStore(t);try{return yield o.get(n),!0}catch(p){if(p.notFound)return!1;throw p}})}addMessage(t,n){return yl(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}},30569:($e,j,E)=>{"use strict";E.d(j,{uW:()=>Rt});var g=E(34604),w=function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})};class H{constructor(nt){this.agent=nt.agent,this.connectedDid=nt.connectedDid}create(nt){return w(this,void 0,void 0,function*(){const Be=yield this.agent.processDidRequest({messageType:g.B2.Create,messageParams:Object.assign({},nt)}),{result:Fe}=Be,xt=function(tt,nt){var Be={};for(var Fe in tt)Object.prototype.hasOwnProperty.call(tt,Fe)&&nt.indexOf(Fe)<0&&(Be[Fe]=tt[Fe]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var xt=0;for(Fe=Object.getOwnPropertySymbols(tt);xt<Fe.length;xt++)nt.indexOf(Fe[xt])<0&&Object.prototype.propertyIsEnumerable.call(tt,Fe[xt])&&(Be[Fe[xt]]=tt[Fe[xt]])}return Be}(Be,["result"]);return Object.assign({did:Fe},xt)})}resolve(nt,Be){return w(this,void 0,void 0,function*(){const{result:Fe}=yield this.agent.processDidRequest({messageParams:{didUri:nt,options:Be},messageType:g.B2.Resolve});return Fe})}}var b=E(37475);function k(tt,nt){let Be;const Fe=(0,b.fc)(tt);if("text/plain"===nt||"String"===Fe)Be=new Blob([tt],{type:"text/plain"});else if("application/json"===nt||"Object"===Fe){const xt=b.U$.object(tt).toUint8Array();Be=new Blob([xt],{type:"application/json"})}else if("Uint8Array"===Fe||"ArrayBuffer"===Fe)Be=new Blob([tt],{type:"application/octet-stream"});else{if("Blob"!==Fe)throw new Error("data type not supported.");Be=tt}return{dataBlob:Be,dataFormat:nt=nt||Be.type||"application/octet-stream"}}class S{static check(nt,Be){let Fe=S.cache.get(nt);return!!Fe&&Fe.has(Be)}static set(nt,Be){let Fe=S.cache.get(nt)||new Set;if(S.cache.delete(nt),S.cache.set(nt,Fe),this.cache.size>S.sendCacheLimit){const xt=S.cache.keys().next().value;S.cache.delete(xt)}if(Fe.delete(Be),Fe.add(Be),Fe.size>S.sendCacheLimit){const xt=Fe.keys().next().value;Fe.delete(xt)}}}S.cache=new Map,S.sendCacheLimit=100;var P=function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})},R=function(tt,nt){var Be={};for(var Fe in tt)Object.prototype.hasOwnProperty.call(tt,Fe)&&nt.indexOf(Fe)<0&&(Be[Fe]=tt[Fe]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var xt=0;for(Fe=Object.getOwnPropertySymbols(tt);xt<Fe.length;xt++)nt.indexOf(Fe[xt])<0&&Object.prototype.propertyIsEnumerable.call(tt,Fe[xt])&&(Be[Fe[xt]]=tt[Fe[xt]])}return Be};let O=(()=>{class tt{get attestation(){return this._attestation}get authorization(){return this._authorization}get author(){return this._author}get contextId(){return this._contextId}get dataFormat(){return this._descriptor.dataFormat}get dateCreated(){return this._descriptor.dateCreated}get encryption(){return this._encryption}get initialWrite(){return this._initialWrite}get id(){return this._recordId}get interface(){return this._descriptor.interface}get method(){return this._descriptor.method}get parentId(){return this._descriptor.parentId}get protocol(){return this._descriptor.protocol}get protocolPath(){return this._descriptor.protocolPath}get protocolRole(){return this._protocolRole}get recipient(){return this._descriptor.recipient}get schema(){return this._descriptor.schema}get dataCid(){return this._descriptor.dataCid}get dataSize(){return this._descriptor.dataSize}get dateModified(){return this._descriptor.messageTimestamp}get datePublished(){return this._descriptor.datePublished}get messageTimestamp(){return this._descriptor.messageTimestamp}get published(){return this._descriptor.published}get tags(){return this._descriptor.tags}get rawMessage(){const Be=JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption}));return(0,b.E8)(Be),Be}constructor(Be,Fe){this._agent=Be,this._author=Fe.author,this._connectedDid=Fe.connectedDid,this._remoteOrigin=Fe.remoteOrigin,this._attestation=Fe.attestation,this._authorization=Fe.authorization,this._contextId=Fe.contextId,this._descriptor=Fe.descriptor,this._encryption=Fe.encryption,this._initialWrite=Fe.initialWrite,this._recordId=Fe.recordId,this._protocolRole=Fe.protocolRole,Fe.encodedData&&(this._encodedData="string"==typeof Fe.encodedData?new Blob([b.U$.base64Url(Fe.encodedData).toUint8Array()],{type:this.dataFormat}):Fe.encodedData),Fe.data&&(this._readableStream=b.Z6.isReadableStream(Fe.data)?b.VS.fromWebReadable({readableStream:Fe.data}):Fe.data)}get data(){const Be=this;return{blob(){return P(this,void 0,void 0,function*(){return new Blob([yield b.VS.consumeToBytes({readable:yield this.stream()})],{type:Be.dataFormat})})},bytes(){return P(this,void 0,void 0,function*(){return yield b.VS.consumeToBytes({readable:yield this.stream()})})},json(){return P(this,void 0,void 0,function*(){return yield b.VS.consumeToJson({readable:yield this.stream()})})},text(){return P(this,void 0,void 0,function*(){return yield b.VS.consumeToText({readable:yield this.stream()})})},stream(){return P(this,void 0,void 0,function*(){if(Be._encodedData?Be._readableStream=b.VS.fromWebReadable({readableStream:Be._encodedData.stream()}):b.VS.isReadable({readable:Be._readableStream})||(Be._readableStream=Be._remoteOrigin?yield Be.readRecordData({target:Be._remoteOrigin,isRemote:!0}):yield Be.readRecordData({target:Be._connectedDid,isRemote:!1})),!Be._readableStream)throw new Error("Record data is not available.");return Be._readableStream})},then(xt,ft){return this.stream().then(xt,ft)},catch(xt){return this.stream().catch(xt)}}}store(Be=!1){return P(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:Be,store:!0})})}import(Be=!0){return P(this,void 0,void 0,function*(){return this.processRecord({store:Be,signAsOwner:!0})})}send(Be){return P(this,void 0,void 0,function*(){const Fe=this._initialWrite;if(Be??(Be=this._connectedDid),Fe&&!tt._sendCache.check(this._recordId,Be)){const ft=Object.assign({},Fe);(0,b.E8)(ft),yield this._agent.sendDwnRequest({messageType:g.nx.RecordsWrite,author:this._connectedDid,target:Be,rawMessage:ft}),tt._sendCache.set(this._recordId,Be)}const{reply:xt}=yield this._agent.sendDwnRequest({messageType:g.nx.RecordsWrite,author:this._connectedDid,dataStream:yield this.data.blob(),target:Be,rawMessage:Object.assign({},this.rawMessage)});return xt})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,interface:this.interface,method:this.method,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let Be="Record: {\n";return Be+=`  ID: ${this.id}\n`,Be+=this.contextId?`  Context ID: ${this.contextId}\n`:"",Be+=this.protocol?`  Protocol: ${this.protocol}\n`:"",Be+=this.schema?`  Schema: ${this.schema}\n`:"",Be+=`  Data CID: ${this.dataCid}\n`,Be+=`  Data Format: ${this.dataFormat}\n`,Be+=`  Data Size: ${this.dataSize}\n`,Be+=`  Created: ${this.dateCreated}\n`,Be+=`  Modified: ${this.dateModified}\n`,Be+="}",Be}paginationCursor(Be){return P(this,void 0,void 0,function*(){return(0,g.X7)(this.rawMessage,Be)})}update(Be){var{dateModified:Fe,data:xt}=Be,ft=R(Be,["dateModified","data"]);return P(this,void 0,void 0,function*(){const it=this._descriptor,{parentId:Kt}=it,xn=R(it,["parentId"]),fn=Kt?this._contextId.split("/").slice(0,-1).join("/"):void 0;let _n,Ht=Object.assign(Object.assign(Object.assign({},xn),ft),{parentContextId:fn,messageTimestamp:Fe,recordId:this._recordId});((0,b.RI)(Ht.tags)||null===Ht.tags)&&delete Ht.tags,void 0!==xt&&(delete Ht.dataCid,delete Ht.dataSize,({dataBlob:_n}=k(xt,Ht.dataFormat)));const rr=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);tt.verifyPermittedMutation(Object.keys(ft),rr),!1===ft.published&&void 0!==Ht.datePublished&&delete Ht.datePublished;const br=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:_n,messageParams:Object.assign({},Ht),messageType:g.nx.RecordsWrite,target:this._connectedDid}),{message:Ur,reply:{status:Br}}=br,Kr=Ur;return 200<=Br.code&&Br.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=Kr.authorization,this._protocolRole=ft.protocolRole,rr.forEach(so=>{this._descriptor[so]=Kr.descriptor[so]}),void 0!==xt&&(this._encodedData=_n)),{status:Br}})}processRecord({store:Be,signAsOwner:Fe}){return P(this,void 0,void 0,function*(){if(this._initialWrite&&(Fe&&!this._initialWriteSigned||Be&&!this._initialWriteStored)){const fn={messageType:g.nx.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:Fe,store:Be},Ht=yield this._agent.processDwnRequest(fn),{message:_n,reply:{status:rr}}=Ht,br=_n;200<=rr.code&&rr.code<=299&&(Be&&(this._initialWriteStored=!0),Fe&&(this._initialWriteSigned=!0,this.initialWrite.authorization=br.authorization))}const xt={messageType:g.nx.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:Fe,store:Be},ft=yield this._agent.processDwnRequest(xt),{message:it,reply:{status:Kt}}=ft;return 200<=Kt.code&&Kt.code<=299&&Fe&&(this._authorization=it.authorization),{status:Kt}})}readRecordData({target:Be,isRemote:Fe}){return P(this,void 0,void 0,function*(){const xt={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:g.nx.RecordsRead,target:Be},ft=Fe?this._agent.sendDwnRequest(xt):this._agent.processDwnRequest(xt);try{const{reply:{record:it}}=yield ft,Kt=it.data;return b.Z6.isReadableStream(Kt)?b.VS.fromWebReadable({readableStream:Kt}):Kt}catch(it){throw new Error(`Error encountered while attempting to read data: ${it.message}`)}})}static verifyPermittedMutation(Be,Fe){for(const xt of Be)if(!Fe.has(xt))throw new Error(`${xt} is an immutable property. Its value cannot be changed.`)}}return tt._sendCache=S,tt})();class V{constructor(nt,Be,Fe){this._agent=nt,this._metadata=Fe,this._protocolsConfigureMessage=Be}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(nt){return function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})}(this,void 0,void 0,function*(){const{reply:Be}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:g.nx.ProtocolsConfigure,target:nt});return{status:Be.status}})}}var U=function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})};class Q{constructor(nt){this.agent=nt.agent,this.connectedDid=nt.connectedDid}get protocols(){return{configure:nt=>U(this,void 0,void 0,function*(){const Be=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:nt.message,messageType:g.nx.ProtocolsConfigure,target:this.connectedDid}),{message:Fe,messageCid:xt,reply:{status:ft}}=Be,it={status:ft};return ft.code<300&&(it.protocol=new V(this.agent,Fe,{author:this.connectedDid,messageCid:xt})),it}),query:nt=>U(this,void 0,void 0,function*(){const Be={author:this.connectedDid,messageParams:nt.message,messageType:g.nx.ProtocolsQuery,target:nt.from||this.connectedDid};let Fe;Fe=nt.from?yield this.agent.sendDwnRequest(Be):yield this.agent.processDwnRequest(Be);const xt=Fe.reply,{entries:ft=[],status:it}=xt;return{protocols:ft.map(xn=>new V(this.agent,xn,{author:this.connectedDid})),status:it}})}}get records(){return{create:nt=>U(this,void 0,void 0,function*(){return this.records.write(nt)}),createFrom:nt=>U(this,void 0,void 0,function*(){var Be;const Fe=nt.record.toJSON(),{author:xt}=Fe,ft=function(tt,nt){var Be={};for(var Fe in tt)Object.prototype.hasOwnProperty.call(tt,Fe)&&nt.indexOf(Fe)<0&&(Be[Fe]=tt[Fe]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var xt=0;for(Fe=Object.getOwnPropertySymbols(tt);xt<Fe.length;xt++)nt.indexOf(Fe[xt])<0&&Object.prototype.propertyIsEnumerable.call(tt,Fe[xt])&&(Be[Fe[xt]]=tt[Fe[xt]])}return Be}(Fe,["author"]);return void 0!==nt.data&&(delete ft.dataCid,delete ft.dataSize),!1===(null===(Be=nt.message)||void 0===Be?void 0:Be.published)&&void 0!==ft.datePublished&&(delete ft.datePublished,delete ft.published),(!(0,b.RI)(nt.message)||nt.author&&nt.author!==xt)&&delete ft.recordId,this.records.write({data:nt.data,message:Object.assign(Object.assign({},ft),nt.message)})}),delete:nt=>U(this,void 0,void 0,function*(){const Be={author:this.connectedDid,messageParams:nt.message,messageType:g.nx.RecordsDelete,target:nt.from||this.connectedDid};let Fe;Fe=nt.from?yield this.agent.sendDwnRequest(Be):yield this.agent.processDwnRequest(Be);const{reply:{status:xt}}=Fe;return{status:xt}}),query:nt=>U(this,void 0,void 0,function*(){const Be={author:this.connectedDid,messageParams:nt.message,messageType:g.nx.RecordsQuery,target:nt.from||this.connectedDid};let Fe;Fe=nt.from?yield this.agent.sendDwnRequest(Be):yield this.agent.processDwnRequest(Be);const xt=Fe.reply,{entries:ft,status:it,cursor:Kt}=xt;return{records:ft.map(fn=>{const Ht=Object.assign({author:(0,g.dK)(fn),connectedDid:this.connectedDid,remoteOrigin:nt.from},fn);return new O(this.agent,Ht)}),status:it,cursor:Kt}}),read:nt=>U(this,void 0,void 0,function*(){const Be={author:this.connectedDid,messageParams:nt.message,messageType:g.nx.RecordsRead,target:nt.from||this.connectedDid};let Fe;Fe=nt.from?yield this.agent.sendDwnRequest(Be):yield this.agent.processDwnRequest(Be);const{reply:{record:xt,status:ft}}=Fe;let it;if(200<=ft.code&&ft.code<=299){const Kt=Object.assign({author:(0,g.dK)(xt),connectedDid:this.connectedDid,remoteOrigin:nt.from},xt);it=new O(this.agent,Kt)}return{record:it,status:ft}}),write:nt=>U(this,void 0,void 0,function*(){var Be;const{dataBlob:Fe,dataFormat:xt}=k(nt.data,null===(Be=nt.message)||void 0===Be?void 0:Be.dataFormat),ft=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:Fe,messageParams:Object.assign(Object.assign({},nt.message),{dataFormat:xt}),messageType:g.nx.RecordsWrite,store:nt.store,target:this.connectedDid}),{message:it,reply:{status:Kt}}=ft;let xn;if(200<=Kt.code&&Kt.code<=299){const fn=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:Fe},it);xn=new O(this.agent,fn)}return{record:xn,status:Kt}})}}}class Y{constructor(nt){this.agent=nt.agent,this.connectedDid=nt.connectedDid}create(){return tt=this,nt=void 0,Fe=function*(){throw new Error("Not implemented.")},new((Be=void 0)||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())});var tt,nt,Be,Fe}}var W=function(tt){return tt.authentication="authentication",tt.assertionMethod="assertionMethod",tt.keyAgreement="keyAgreement",tt.capabilityInvocation="capabilityInvocation",tt.capabilityDelegation="capabilityDelegation",tt}(W||{});const re={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ie{constructor({method:nt,id:Be,path:Fe,query:xt,fragment:ft,params:it}){this.uri=`did:${nt}:${Be}`,this.method=nt,this.id=Be,this.path=Fe,this.query=xt,this.fragment=ft,this.params=it}static parse(nt){if(!nt)return null;const Be=ie.DID_URI_PATTERN.exec(nt);if(!Be||!Be.groups)return null;const{method:Fe,id:xt,path:ft,query:it,fragment:Kt}=Be.groups,xn={uri:`did:${Fe}:${xt}`,method:Fe,id:xt};if(ft&&(xn.path=ft),it&&(xn.query=it.slice(1)),Kt&&(xn.fragment=Kt.slice(1)),it){const fn={},Ht=it.slice(1).split("&");for(const _n of Ht){const[rr,br]=_n.split("=");fn[rr]=br}xn.params=fn}return xn}}ie.METHOD_PATTERN="([a-z0-9]+)",ie.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ie.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ie.PCT_ENCODED_PATTERN})`,ie.METHOD_ID_PATTERN=`((?:${ie.ID_CHAR_PATTERN}*:)*(${ie.ID_CHAR_PATTERN}+))`,ie.PATH_PATTERN="(/[^#?]*)?",ie.QUERY_PATTERN="([?][^#]*)?",ie.FRAGMENT_PATTERN="(#.*)?",ie.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ie.METHOD_PATTERN}):(?<id>${ie.METHOD_ID_PATTERN})(?<path>${ie.PATH_PATTERN})(?<query>${ie.QUERY_PATTERN})(?<fragment>${ie.FRAGMENT_PATTERN})$`);class ae extends Error{constructor(nt,Be){super(`${nt}: ${Be}`),this.code=nt,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ae)}}var ue=function(tt){return tt.InvalidDid="invalidDid",tt.MethodNotSupported="methodNotSupported",tt.InternalError="internalError",tt.InvalidDidDocument="invalidDidDocument",tt.InvalidDidDocumentLength="invalidDidDocumentLength",tt.InvalidDidUrl="invalidDidUrl",tt.InvalidPreviousDidProof="invalidPreviousDidProof",tt.InvalidPublicKey="invalidPublicKey",tt.InvalidPublicKeyLength="invalidPublicKeyLength",tt.InvalidPublicKeyType="invalidPublicKeyType",tt.InvalidSignature="invalidSignature",tt.NotFound="notFound",tt.RepresentationNotSupported="representationNotSupported",tt.UnsupportedPublicKeyType="unsupportedPublicKeyType",tt}(ue||{}),ce=E(86136);function ve(tt){if("string"==typeof tt&&0!==tt.length)return tt.split("#").pop()}function I(tt){return!(!tt||"object"!=typeof tt||null===tt||!("id"in tt&&"type"in tt&&"controller"in tt)||"string"!=typeof tt.id||"string"!=typeof tt.type||"string"!=typeof tt.controller)}var a=function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})};class v{constructor({uri:nt,document:Be,metadata:Fe,keyManager:xt}){this.uri=nt,this.document=Be,this.metadata=Fe,this.keyManager=xt}export(){return a(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let nt={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const Be=[];for(let Fe of this.document.verificationMethod){if(!Fe.publicKeyJwk)throw new Error(`Verification method '${Fe.id}' does not contain a public key in JWK format`);const xt=yield this.keyManager.getKeyUri({key:Fe.publicKeyJwk}),ft=yield this.keyManager.exportKey({keyUri:xt});Be.push(Object.assign({},ft))}nt.privateKeys=Be}return nt})}getSigner(nt){return a(this,void 0,void 0,function*(){var Be;const Fe=null===(Be=this.document.verificationMethod)||void 0===Be?void 0:Be.find(xn=>{var fn,Ht;return ve(xn.id)===(null!==(fn=ve(nt?.methodId))&&void 0!==fn?fn:ve(null===(Ht=this.document.assertionMethod)||void 0===Ht?void 0:Ht[0]))});if(!Fe||!Fe.publicKeyJwk)throw new ae(ue.InternalError,"A verification method intended for signing could not be determined from the DID Document");const xt=yield this.keyManager.getKeyUri({key:Fe.publicKeyJwk}),ft=yield this.keyManager.getPublicKey({keyUri:xt}),it=this.keyManager;return{algorithm:ce.Wp.getJoseSignatureAlgorithmFromPublicKey(ft),keyId:Fe.id,sign(xn){return a(this,arguments,void 0,function*({data:fn}){return yield it.sign({data:fn,keyUri:xt})})},verify(xn){return a(this,arguments,void 0,function*({data:fn,signature:Ht}){return yield it.verify({data:fn,key:ft,signature:Ht})})}}})}static import(nt){return a(this,arguments,void 0,function*({portableDid:Be,keyManager:Fe=new ce.eP}){var xt;const ft=function s({didDocument:tt}){var nt,Be;if(!tt)throw new TypeError("Required parameter missing: 'didDocument'");const Fe=[];return Fe.push(...null!==(Be=null===(nt=tt.verificationMethod)||void 0===nt?void 0:nt.filter(I))&&void 0!==Be?Be:[]),Object.keys(W).forEach(xt=>{var ft,it;Fe.push(...null!==(it=null===(ft=tt[xt])||void 0===ft?void 0:ft.filter(I))&&void 0!==it?it:[])}),Fe}({didDocument:Be.document});if(0===ft.length)throw new ae(ue.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let Kt of null!==(xt=Be.privateKeys)&&void 0!==xt?xt:[])yield Fe.importKey({key:Kt});for(let Kt of ft){if(!Kt.publicKeyJwk)throw new Error(`Verification method '${Kt.id}' does not contain a public key in JWK format`);const xn=yield Fe.getKeyUri({key:Kt.publicKeyJwk});yield Fe.getPublicKey({keyUri:xn})}return new v({uri:Be.uri,document:Be.document,metadata:Be.metadata,keyManager:Fe})})}}var Z=E(2198),z=E(49402),ee=function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})};class le{static getSigningMethod(nt){return ee(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(nt,Be){return ee(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var we=function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})},Me=function(tt,nt){var Be={};for(var Fe in tt)Object.prototype.hasOwnProperty.call(tt,Fe)&&nt.indexOf(Fe)<0&&(Be[Fe]=tt[Fe]);if(null!=tt&&"function"==typeof Object.getOwnPropertySymbols){var xt=0;for(Fe=Object.getOwnPropertySymbols(tt);xt<Fe.length;xt++)nt.indexOf(Fe[xt])<0&&Object.prototype.propertyIsEnumerable.call(tt,Fe[xt])&&(Be[Fe[xt]]=tt[Fe[xt]])}return Be};const Ze="https://diddht.tbddev.org",me=7200,xe=",";var Ce=function(tt){return tt[tt.Discoverable=0]="Discoverable",tt[tt.Organization=1]="Organization",tt[tt.Government=2]="Government",tt[tt.Corporation=3]="Corporation",tt[tt.LocalBusiness=4]="LocalBusiness",tt[tt.SoftwarePackage=5]="SoftwarePackage",tt[tt.WebApp=6]="WebApp",tt[tt.FinancialInstitution=7]="FinancialInstitution",tt}(Ce||{}),be=function(tt){return tt[tt.Ed25519=0]="Ed25519",tt[tt.secp256k1=1]="secp256k1",tt[tt.secp256r1=2]="secp256r1",tt[tt.X25519=3]="X25519",tt}(be||{}),he=function(tt){return tt.authentication="auth",tt.assertionMethod="asm",tt.capabilityDelegation="del",tt.capabilityInvocation="inv",tt.keyAgreement="agm",tt}(he||{});const ne={Ed25519:be.Ed25519,ES256K:be.secp256k1,ES256:be.secp256r1,"P-256":be.secp256r1,secp256k1:be.secp256k1,secp256r1:be.secp256r1,X25519:be.X25519},te={[be.Ed25519]:"Ed25519",[be.secp256k1]:"ES256K",[be.secp256r1]:"ES256",[be.X25519]:"ECDH-ES+A256KW"};let de=(()=>{class tt extends le{static create(){return we(this,arguments,void 0,function*({keyManager:Be=new ce.eP,options:Fe={}}={}){var xt,ft,it,Kt,xn,fn,Ht,_n,rr,br,Ur;if(null!==(xt=Fe.verificationMethods)&&void 0!==xt&&xt.some(vr=>!(vr.algorithm in ne)))throw new Error("One or more verification method algorithms are not supported");const Br=null===(ft=Fe.verificationMethods)||void 0===ft?void 0:ft.filter(vr=>"id"in vr).map(vr=>vr.id);if(Br&&Br.length!==new Set(Br).size)throw new Error("One or more verification method IDs are not unique");if(null!==(it=Fe.services)&&void 0!==it&&it.some(vr=>!vr.id||!vr.type||!vr.serviceEndpoint))throw new Error("One or more services are missing required properties");const Kr=yield Be.generateKey({algorithm:"Ed25519"}),so=yield Be.getPublicKey({keyUri:Kr}),$r=yield Ie.identityKeyToIdentifier({identityKey:so}),Rr=Object.assign(Object.assign({id:$r},Fe.alsoKnownAs&&{alsoKnownAs:Fe.alsoKnownAs}),Fe.controllers&&{controller:Fe.controllers}),Vr=[...null!==(Kt=Fe.verificationMethods)&&void 0!==Kt?Kt:[]];Vr?.some(vr=>{var ni;return"0"===(null===(ni=vr.id)||void 0===ni?void 0:ni.split("#").pop())})||Vr.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const vr of Vr){const ni=vr.id&&"0"===vr.id.split("#").pop()?Kr:yield Be.generateKey({algorithm:vr.algorithm}),Zi=yield Be.getPublicKey({keyUri:ni});let co=null!==(fn=null!==(xn=vr.id)&&void 0!==xn?xn:Zi.kid)&&void 0!==fn?fn:yield(0,ce.BA)({jwk:Zi});co=`${$r}#${ve(co)}`,null!==(Ht=Rr.verificationMethod)&&void 0!==Ht||(Rr.verificationMethod=[]),Rr.verificationMethod.push({id:co,type:"JsonWebKey",controller:null!==(_n=vr.controller)&&void 0!==_n?_n:$r,publicKeyJwk:Zi});for(const Ui of null!==(rr=vr.purposes)&&void 0!==rr?rr:[])Rr[Ui]||(Rr[Ui]=[]),Rr[Ui].push(co)}null===(br=Fe.services)||void 0===br||br.forEach(vr=>{var ni;null!==(ni=Rr.service)&&void 0!==ni||(Rr.service=[]),vr.id=`${$r}#${vr.id.split("#").pop()}`,Rr.service.push(vr)});const qr=new v({uri:$r,document:Rr,metadata:Object.assign({published:!1},Fe.types&&{types:Fe.types}),keyManager:Be});if(null===(Ur=Fe.publish)||void 0===Ur||Ur){const vr=yield tt.publish({did:qr,gatewayUri:Fe.gatewayUri});qr.metadata=vr.didDocumentMetadata}return qr})}static import(Be){return we(this,arguments,void 0,function*({portableDid:Fe,keyManager:xt=new ce.eP}){var ft;const it=ie.parse(Fe.uri);if(it?.method!==tt.methodName)throw new ae(ue.MethodNotSupported,"Method not supported");const Kt=yield v.import({portableDid:Fe,keyManager:xt});if(null===(ft=Kt.document.verificationMethod)||void 0===ft||!ft.some(xn=>{var fn;return"0"===(null===(fn=xn.id)||void 0===fn?void 0:fn.split("#").pop())}))throw new ae(ue.InvalidDidDocument,"DID document must contain an Identity Key");return Kt})}static getSigningMethod(Be){return we(this,arguments,void 0,function*({didDocument:Fe,methodId:xt="#0"}){var ft;const it=ie.parse(Fe.id);if(it&&it.method!==this.methodName)throw new ae(ue.MethodNotSupported,`Method not supported: ${it.method}`);const Kt=null===(ft=Fe.verificationMethod)||void 0===ft?void 0:ft.find(xn=>{var fn,Ht;return ve(xn.id)===(null!==(fn=ve(xt))&&void 0!==fn?fn:ve(null===(Ht=Fe.assertionMethod)||void 0===Ht?void 0:Ht[0]))});if(!Kt||!Kt.publicKeyJwk)throw new ae(ue.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Kt})}static publish(Be){return we(this,arguments,void 0,function*({did:Fe,gatewayUri:xt=Ze}){return yield _e.put({did:Fe,gatewayUri:xt})})}static resolve(Be){return we(this,arguments,void 0,function*(Fe,xt={}){var ft;const it=null!==(ft=xt?.gatewayUri)&&void 0!==ft?ft:Ze;try{yield Ie.identifierToIdentityKey({didUri:Fe});const{didDocument:Kt,didDocumentMetadata:xn}=yield _e.get({didUri:Fe,gatewayUri:it});return Object.assign(Object.assign({},re),{didDocument:Kt,didDocumentMetadata:xn})}catch(Kt){if(!(Kt instanceof ae))throw new Error(Kt);return Object.assign(Object.assign({},re),{didResolutionMetadata:Object.assign({error:Kt.code},Kt.message&&{errorMessage:Kt.message})})}})}}return tt.methodName="dht",tt})();class _e{static get(nt){return we(this,arguments,void 0,function*({didUri:Be,gatewayUri:Fe}){const xt=Ie.identifierToIdentityKeyBytes({didUri:Be}),ft=yield _e.pkarrGet({gatewayUri:Fe,publicKeyBytes:xt}),it=yield Ie.parseBep44GetMessage({bep44Message:ft}),Kt=yield _e.fromDnsPacket({didUri:Be,dnsPacket:it});return Kt.didDocumentMetadata.versionId=ft.seq.toString(),Kt})}static put(nt){return we(this,arguments,void 0,function*({did:Be,gatewayUri:Fe}){const xt=yield _e.toDnsPacket({didDocument:Be.document,didMetadata:Be.metadata,authoritativeGatewayUris:[Fe]}),ft=yield Ie.createBep44PutMessage({dnsPacket:xt,publicKeyBytes:Ie.identifierToIdentityKeyBytes({didUri:Be.uri}),signer:yield Be.getSigner({methodId:"0"})}),it=yield _e.pkarrPut({gatewayUri:Fe,bep44Message:ft});return{didDocument:Be.document,didDocumentMetadata:Object.assign(Object.assign({},Be.metadata),{published:it,versionId:ft.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(nt){return we(this,arguments,void 0,function*({gatewayUri:Be,publicKeyBytes:Fe}){const xt=b.U$.uint8Array(Fe).toBase32Z(),ft=new URL(xt,Be).href;let it;try{if(it=yield fetch(ft,{method:"GET"}),!it.ok)throw new ae(ue.NotFound,`Pkarr record not found for: ${xt}`)}catch(fn){throw fn instanceof ae?fn:new ae(ue.InternalError,`Failed to fetch Pkarr record: ${fn.message}`)}const Kt=yield it.arrayBuffer();if(!Kt)throw new ae(ue.NotFound,`Pkarr record not found for: ${xt}`);if(Kt.byteLength<72)throw new ae(ue.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${Kt.byteLength}`);if(Kt.byteLength>1072)throw new ae(ue.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${Kt.byteLength}`);return{k:Fe,seq:Number(new DataView(Kt).getBigUint64(64)),sig:new Uint8Array(Kt,0,64),v:new Uint8Array(Kt,72)}})}static pkarrPut(nt){return we(this,arguments,void 0,function*({gatewayUri:Be,bep44Message:Fe}){const xt=b.U$.uint8Array(Fe.k).toBase32Z(),ft=new URL(xt,Be).href,it=new Uint8Array(Fe.v.length+72);let Kt;it.set(Fe.sig,0),new DataView(it.buffer).setBigUint64(Fe.sig.length,BigInt(Fe.seq)),it.set(Fe.v,Fe.sig.length+8);try{Kt=yield fetch(ft,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:it})}catch(xn){throw new ae(ue.InternalError,`Failed to put Pkarr record for identifier ${xt}: ${xn.message}`)}return Kt.ok})}static fromDnsPacket(nt){return we(this,arguments,void 0,function*({didUri:Be,dnsPacket:Fe}){var xt,ft,it;const Kt={id:Be},xn={published:!0},fn=new Map;for(const Ht of null!==(xt=Fe?.answers)&&void 0!==xt?xt:[]){if("TXT"!==Ht.type)continue;const _n=Ht.name.split(".")[0].substring(1);switch(!0){case _n.startsWith("aka"):{const rr=Ie.parseTxtDataToString(Ht.data);Kt.alsoKnownAs=rr.split(xe);break}case _n.startsWith("cnt"):{const rr=Ie.parseTxtDataToString(Ht.data);Kt.controller=rr.includes(xe)?rr.split(xe):rr;break}case _n.startsWith("k"):{const{id:rr,t:br,k:Ur,c:Br,a:Kr}=Ie.parseTxtDataToObject(Ht.data),so=b.U$.base64Url(Ur).toUint8Array(),$r=be[Number(br)];let Rr=yield Ie.keyConverter($r).bytesToPublicKey({publicKeyBytes:so});Rr.alg=Kr||te[Number(br)];const Vr="k0"===_n?"0":void 0!==rr?rr:yield(0,ce.BA)({jwk:Rr});null!==(ft=Kt.verificationMethod)&&void 0!==ft||(Kt.verificationMethod=[]);const qr=`${Be}#${Vr}`;Kt.verificationMethod.push({id:qr,type:"JsonWebKey",controller:Br??Be,publicKeyJwk:Rr}),fn.set(_n,qr);break}case _n.startsWith("s"):{const rr=Ie.parseTxtDataToObject(Ht.data),{id:br,t:Ur,se:Br}=rr,Kr=Me(rr,["id","t","se"]),so=Br.includes(xe)?Br.split(xe):[Br],$r=Object.fromEntries(Object.entries(Kr).map(([Rr,Vr])=>[Rr,Vr.includes(xe)?Vr.split(xe):Vr]));null!==(it=Kt.service)&&void 0!==it||(Kt.service=[]),Kt.service.push(Object.assign(Object.assign({},$r),{id:`${Be}#${br}`,type:Ur,serviceEndpoint:so}));break}case _n.startsWith("typ"):{const{id:rr}=Ie.parseTxtDataToObject(Ht.data);xn.types=rr.split(xe).map(br=>Number(br));break}case _n.startsWith("did"):{const rr=$r=>$r.split(xe).map(Rr=>fn.get(Rr)).filter(Rr=>"string"==typeof Rr),{auth:br,asm:Ur,del:Br,inv:Kr,agm:so}=Ie.parseTxtDataToObject(Ht.data);br&&(Kt.authentication=rr(br)),Ur&&(Kt.assertionMethod=rr(Ur)),Br&&(Kt.capabilityDelegation=rr(Br)),Kr&&(Kt.capabilityInvocation=rr(Kr)),so&&(Kt.keyAgreement=rr(so));break}}}return{didDocument:Kt,didDocumentMetadata:xn,didResolutionMetadata:{}}})}static toDnsPacket(nt){return we(this,arguments,void 0,function*({didDocument:Be,didMetadata:Fe,authoritativeGatewayUris:xt,previousDidProof:ft}){var it,Kt,xn,fn,Ht;const _n=[],rr=[],br=new Map,Ur=[],Br=[];if(void 0!==ft){const{signature:$r,previousDid:Rr}=ft;yield Ie.validatePreviousDidProof({newDid:Be.id,previousDidProof:ft}),_n.push({type:"TXT",name:"_prv._did.",ttl:me,data:`id=${Rr};s=${$r}`})}if(Be.alsoKnownAs&&_n.push({type:"TXT",name:"_aka._did.",ttl:me,data:Be.alsoKnownAs.join(xe)}),Be.controller){const $r=Array.isArray(Be.controller)?Be.controller.join(xe):Be.controller;_n.push({type:"TXT",name:"_cnt._did.",ttl:me,data:$r})}for(const[$r,Rr]of null!==(Kt=null===(it=Be.verificationMethod)||void 0===it?void 0:it.entries())&&void 0!==Kt?Kt:[]){const Vr=`k${$r}`;Br.push(Vr);let qr=Rr.id.split("#").pop();br.set(qr,Vr);const vr=Rr.publicKeyJwk;if(!vr?.crv||!(vr.crv in ne))throw new ae(ue.InvalidPublicKeyType,`Verification method '${Rr.id}' contains an unsupported key type: ${null!==(xn=vr?.crv)&&void 0!==xn?xn:"undefined"}`);const ni=be[vr.crv],Zi=yield Ie.keyConverter(vr.crv).publicKeyToBytes({publicKey:vr}),Ui=[`t=${ni}`,`k=${b.U$.uint8Array(Zi).toBase64Url()}`];"0"!==qr&&(yield(0,ce.BA)({jwk:vr}))!==qr&&Ui.unshift(`id=${qr}`),vr.alg!==te[ni]&&Ui.push(`a=${vr.alg}`),Rr.controller!==Be.id&&Ui.push(`c=${Rr.controller}`),_n.push({type:"TXT",name:`_${Vr}._did.`,ttl:me,data:Ui.join(";")})}null===(fn=Be.service)||void 0===fn||fn.forEach(($r,Rr)=>{const Vr=`s${Rr}`;Ur.push(Vr);let{id:qr,type:vr,serviceEndpoint:ni}=$r,Zi=Me($r,["id","type","serviceEndpoint"]);qr=ve(qr),ni=Array.isArray(ni)?ni.join(","):ni;const Ui=Object.entries(Object.assign({id:qr,t:vr,se:ni},Zi)).map(([Eo,Ei])=>`${Eo}=${Ei}`).join(";"),_o=Ie.chunkDataIfNeeded(Ui);_n.push({type:"TXT",name:`_${Vr}._did.`,ttl:me,data:_o})});const Kr=["v=0"];if(Br.length&&Kr.push(`vm=${Br.join(xe)}`),Object.keys(W).forEach($r=>{var Rr;const Vr=null===(Rr=Be[$r])||void 0===Rr?void 0:Rr.map(qr=>br.get(qr.split("#").pop()));Vr&&Kr.push(`${he[$r]}=${Vr.join(xe)}`)}),Ur.length&&Kr.push(`svc=${Ur.join(xe)}`),null!==(Ht=Fe.types)&&void 0!==Ht&&Ht.length){const Rr=Fe.types.map(Vr=>"string"==typeof Vr?Ce[Vr]:Vr);_n.push({type:"TXT",name:"_typ._did.",ttl:me,data:`id=${Rr.join(xe)}`})}_n.push({type:"TXT",name:"_did."+_e.getUniqueDidSuffix(Be.id)+".",ttl:me,data:Kr.join(";")});for(const $r of xt||[])rr.push({type:"NS",name:"_did."+_e.getUniqueDidSuffix(Be.id)+".",ttl:me,data:$r+"."});return{id:0,type:"response",flags:z.hB,answers:[..._n,...rr]}})}static getUniqueDidSuffix(nt){return nt.split(":")[2]}}class Ie{static createBep44PutMessage(nt){return we(this,arguments,void 0,function*({dnsPacket:Be,publicKeyBytes:Fe,signer:xt}){const ft=Math.ceil(Date.now()/1e3),it=(0,z.lF)(Be),Kt=Z.A.encode({seq:ft,v:it}).subarray(1,-1);if(Kt.length>1e3)throw new ae(ue.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${Kt.length} bytes`);return{k:Fe,seq:ft,sig:yield xt.sign({data:Kt}),v:it}})}static identifierToIdentityKey(nt){return we(this,arguments,void 0,function*({didUri:Be}){let Fe=Ie.identifierToIdentityKeyBytes({didUri:Be});return yield ce.Mc.bytesToPublicKey({publicKeyBytes:Fe})})}static identifierToIdentityKeyBytes({didUri:nt}){const Be=ie.parse(nt);if(!Be)throw new ae(ue.InvalidDid,`Invalid DID URI: ${nt}`);if(Be.method!==de.methodName)throw new ae(ue.MethodNotSupported,`Method not supported: ${Be.method}`);let Fe;try{Fe=b.U$.base32Z(Be.id).toUint8Array()}catch{throw new ae(ue.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==Fe.length)throw new ae(ue.InvalidPublicKeyLength,`Invalid public key length: ${Fe.length}`);return Fe}static identityKeyToIdentifier(nt){return we(this,arguments,void 0,function*({identityKey:Be}){const Fe=yield ce.Mc.publicKeyToBytes({publicKey:Be}),xt=b.U$.uint8Array(Fe).toBase32Z();return`did:${de.methodName}:${xt}`})}static keyConverter(nt){const Fe={Ed25519:ce.Mc,"P-256":{publicKeyToBytes:xt=>we(this,[xt],void 0,function*({publicKey:ft}){const it=yield ce.iH.publicKeyToBytes({publicKey:ft});return yield ce.iH.compressPublicKey({publicKeyBytes:it})}),bytesToPublicKey:ce.iH.bytesToPublicKey,privateKeyToBytes:ce.iH.privateKeyToBytes,bytesToPrivateKey:ce.iH.bytesToPrivateKey},secp256k1:{publicKeyToBytes:xt=>we(this,[xt],void 0,function*({publicKey:ft}){const it=yield ce.jg.publicKeyToBytes({publicKey:ft});return yield ce.jg.compressPublicKey({publicKeyBytes:it})}),bytesToPublicKey:ce.jg.bytesToPublicKey,privateKeyToBytes:ce.jg.privateKeyToBytes,bytesToPrivateKey:ce.jg.bytesToPrivateKey},X25519:ce.Nx}[nt];if(!Fe)throw new ae(ue.InvalidPublicKeyType,`Unsupported curve: ${nt}`);return Fe}static parseBep44GetMessage(nt){return we(this,arguments,void 0,function*({bep44Message:Be}){const Fe=yield ce.Mc.bytesToPublicKey({publicKeyBytes:Be.k}),xt=Z.A.encode({seq:Be.seq,v:Be.v}).subarray(1,-1);if(!(yield ce.Mc.verify({key:Fe,signature:Be.sig,data:xt})))throw new ae(ue.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,z.D4)(Be.v)})}static parseTxtDataToObject(nt){return this.parseTxtDataToString(nt).split(";").reduce((Be,Fe)=>{const[xt,ft]=Fe.split("=");return Be[xt]=ft,Be},{})}static parseTxtDataToString(nt){if("string"==typeof nt)return nt;if(nt instanceof Uint8Array)return b.U$.uint8Array(nt).toString();if(Array.isArray(nt))return nt.map(Be=>this.parseTxtDataToString(Be)).join("");throw new ae(ue.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(nt){return we(this,arguments,void 0,function*({newDid:Be,previousDidProof:Fe}){const xt=yield Ie.identifierToIdentityKey({didUri:Fe.previousDid}),ft=Ie.identifierToIdentityKeyBytes({didUri:Be}),it=b.U$.base64Url(Fe.signature).toUint8Array();if(!(yield ce.Mc.verify({key:xt,data:ft,signature:it})))throw new ae(ue.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(nt){if(nt.length<=255)return nt;const Be=[];for(let Fe=0;Fe<nt.length;Fe+=255)Be.push(nt.slice(Fe,Fe+255));return Be}}E(52039);var D=function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})};let M=(()=>{class tt extends le{static create(){return D(this,arguments,void 0,function*({keyManager:Be=new ce.eP,options:Fe={}}={}){var xt,ft,it,Kt;if(Fe.algorithm&&Fe.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(Fe.verificationMethods&&1!==Fe.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const xn=null!==(Kt=null!==(xt=Fe.algorithm)&&void 0!==xt?xt:null===(it=null===(ft=Fe.verificationMethods)||void 0===ft?void 0:ft[0])||void 0===it?void 0:it.algorithm)&&void 0!==Kt?Kt:"Ed25519",fn=yield Be.generateKey({algorithm:xn}),Ht=yield Be.getPublicKey({keyUri:fn}),_n=b.U$.object(Ht).toBase64Url(),rr=`did:${tt.methodName}:${_n}`,Ur=(yield tt.resolve(rr)).didDocument;return new v({uri:rr,document:Ur,metadata:{},keyManager:Be})})}static getSigningMethod(Be){return D(this,arguments,void 0,function*({didDocument:Fe}){var xt;const ft=ie.parse(Fe.id);if(ft&&ft.method!==this.methodName)throw new ae(ue.MethodNotSupported,`Method not supported: ${ft.method}`);const[it]=null!==(xt=Fe.verificationMethod)&&void 0!==xt?xt:[];if(!it||!it.publicKeyJwk)throw new ae(ue.InternalError,"A verification method intended for signing could not be determined from the DID Document");return it})}static import(Be){return D(this,arguments,void 0,function*({portableDid:Fe,keyManager:xt=new ce.eP}){const ft=ie.parse(Fe.uri);if(ft?.method!==tt.methodName)throw new ae(ue.MethodNotSupported,"Method not supported");const it=yield v.import({portableDid:Fe,keyManager:xt});if(1!==it.document.verificationMethod.length)throw new ae(ue.InvalidDidDocument,"DID document must contain exactly one verification method");return it})}static resolve(Be,Fe){return D(this,void 0,void 0,function*(){const xt=ie.parse(Be);let ft;try{ft=b.U$.base64Url(xt.id).toObject()}catch{}if(!xt||!ft)return Object.assign(Object.assign({},re),{didResolutionMetadata:{error:"invalidDid"}});if(xt.method!==tt.methodName)return Object.assign(Object.assign({},re),{didResolutionMetadata:{error:"methodNotSupported"}});const it={"@context":["https://www.w3.org/ns/did/v1"],id:xt.uri},Kt=`${it.id}#0`;switch(it.verificationMethod=[{id:Kt,type:"JsonWebKey",controller:it.id,publicKeyJwk:ft}],it.authentication=[Kt],it.assertionMethod=[Kt],it.capabilityInvocation=[Kt],it.capabilityDelegation=[Kt],it.keyAgreement=[Kt],ft.use){case"sig":delete it.keyAgreement;break;case"enc":delete it.authentication,delete it.assertionMethod,delete it.capabilityInvocation,delete it.capabilityDelegation}return Object.assign(Object.assign({},re),{didDocument:it})})}}return tt.methodName="jwk",tt})();var en=E(97829),pn=E(67449);class tr{constructor({db:nt,location:Be="DATA/DID_RESOLVERCACHE",ttl:Fe="15m"}={}){this.cache=nt??new pn.Level(Be),this.ttl=en(Fe)}get(nt){return function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})}(this,void 0,void 0,function*(){try{const Be=yield this.cache.get(nt),Fe=JSON.parse(Be);return Date.now()>=Fe.ttlMillis?void this.cache.nextTick(()=>this.cache.del(nt)):Fe.value}catch(Be){if(Be.notFound)return;throw Be}})}set(nt,Be){const Fe={ttlMillis:Date.now()+this.ttl,value:Be},xt=JSON.stringify(Fe);return this.cache.put(nt,xt)}delete(nt){return this.cache.del(nt)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var ut=function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})};class st{constructor(nt){this._agentDid=nt.agentDid,this.crypto=nt.cryptoApi,this.did=nt.didApi,this.dwn=nt.dwnApi,this.identity=nt.identityApi,this.keyManager=nt.keyManager,this.rpc=nt.rpcClient,this.sync=nt.syncApi,this.vault=nt.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(nt){this._agentDid=nt}static create({dataPath:nt="DATA/AGENT",agentDid:Be,agentVault:Fe,cryptoApi:xt,didApi:ft,dwnApi:it,identityApi:Kt,keyManager:xn,rpcClient:fn,syncApi:Ht}={}){return ut(this,void 0,void 0,function*(){return Fe??(Fe=new g.TX({keyDerivationWorkFactor:21e4,store:new b.cG({location:`${nt}/VAULT_STORE`})})),xt??(xt=new g.DP),ft??(ft=new g.Bq({didMethods:[de,M],resolverCache:new tr({location:`${nt}/DID_RESOLVERCACHE`}),store:new g.QZ})),it??(it=new g.rr({dwn:yield g.rr.createDwn({dataPath:nt,didResolver:ft})})),Kt??(Kt=new g.yc({store:new g.dk})),xn??(xn=new g.eP({keyStore:new g.cW})),fn??(fn=new g.oN),Ht??(Ht=new g.rM({syncEngine:new g.qB({dataPath:nt})})),new st({agentDid:Be,agentVault:Fe,cryptoApi:xt,didApi:ft,dwnApi:it,keyManager:xn,identityApi:Kt,rpcClient:fn,syncApi:Ht})})}firstLaunch(){return ut(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:nt,recoveryPhrase:Be}){return ut(this,void 0,void 0,function*(){return Be=yield this.vault.initialize({password:nt,recoveryPhrase:Be})})}processDidRequest(nt){return ut(this,void 0,void 0,function*(){return this.did.processRequest(nt)})}processDwnRequest(nt){return ut(this,void 0,void 0,function*(){return this.dwn.processRequest(nt)})}processVcRequest(nt){return ut(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(nt){return ut(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(nt){return ut(this,void 0,void 0,function*(){return this.dwn.sendRequest(nt)})}sendVcRequest(nt){return ut(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:nt}){return ut(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:nt})),this.agentDid=yield this.vault.getDid()})}}class rn{constructor({method:nt,id:Be,path:Fe,query:xt,fragment:ft,params:it}){this.uri=`did:${nt}:${Be}`,this.method=nt,this.id=Be,this.path=Fe,this.query=xt,this.fragment=ft,this.params=it}static parse(nt){if(!nt)return null;const Be=rn.DID_URI_PATTERN.exec(nt);if(!Be||!Be.groups)return null;const{method:Fe,id:xt,path:ft,query:it,fragment:Kt}=Be.groups,xn={uri:`did:${Fe}:${xt}`,method:Fe,id:xt};if(ft&&(xn.path=ft),it&&(xn.query=it.slice(1)),Kt&&(xn.fragment=Kt.slice(1)),it){const fn={},Ht=it.slice(1).split("&");for(const _n of Ht){const[rr,br]=_n.split("=");fn[rr]=br}xn.params=fn}return xn}}rn.METHOD_PATTERN="([a-z0-9]+)",rn.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",rn.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${rn.PCT_ENCODED_PATTERN})`,rn.METHOD_ID_PATTERN=`((?:${rn.ID_CHAR_PATTERN}*:)*(${rn.ID_CHAR_PATTERN}+))`,rn.PATH_PATTERN="(/[^#?]*)?",rn.QUERY_PATTERN="([?][^#]*)?",rn.FRAGMENT_PATTERN="(#.*)?",rn.DID_URI_PATTERN=new RegExp(`^did:(?<method>${rn.METHOD_PATTERN}):(?<id>${rn.METHOD_ID_PATTERN})(?<path>${rn.PATH_PATTERN})(?<query>${rn.QUERY_PATTERN})(?<fragment>${rn.FRAGMENT_PATTERN})$`),Error,E(44514),E(1424);function lt(tt,nt){return tt=Math.ceil(tt),nt=Math.floor(nt),Math.floor(Math.random()*(nt-tt))+tt}class Rt{constructor({agent:nt,connectedDid:Be}){this.agent=nt,this.connectedDid=Be,this.did=new H({agent:nt,connectedDid:Be}),this.dwn=new Q({agent:nt,connectedDid:Be}),this.vc=new Y({agent:nt,connectedDid:Be})}static connect({agent:nt,agentVault:Be,connectedDid:Fe,password:xt,recoveryPhrase:ft,sync:it,techPreview:Kt}={}){var xn;return function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})}(this,void 0,void 0,function*(){if(void 0===nt){const Ht=yield st.create({agentVault:Be});nt=Ht,void 0===xt&&(xt="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield Ht.firstLaunch())&&(ft=yield Ht.initialize({password:xt,recoveryPhrase:ft})),yield Ht.start({password:xt});{let rr;const br=yield Ht.identity.list(),Ur=br.length;if(0===Ur){const Br=null!==(xn=Kt?.dwnEndpoints)&&void 0!==xn?xn:yield function qt(){return function(tt,nt,Be,Fe){return new(Be||(Be=Promise))(function(ft,it){function Kt(Ht){try{fn(Fe.next(Ht))}catch(_n){it(_n)}}function xn(Ht){try{fn(Fe.throw(Ht))}catch(_n){it(_n)}}function fn(Ht){Ht.done?ft(Ht.value):function xt(ft){return ft instanceof Be?ft:new Be(function(it){it(ft)})}(Ht.value).then(Kt,xn)}fn((Fe=Fe.apply(tt,nt||[])).next())})}(this,void 0,void 0,function*(){let tt;try{if(tt=yield fetch("https://dwn.tbddev.org/.well-known/did.json"),!tt.ok)throw new Error(`HTTP Error: ${tt.status} ${tt.statusText}`)}catch(xt){return console.warn("failed to get tech preview dwn endpoints:",xt.message),[]}const nt=yield tt.json(),[Be]=function Ke({didDocument:tt,id:nt,type:Be}){var Fe,xt;return null!==(xt=null===(Fe=tt?.service)||void 0===Fe?void 0:Fe.filter(ft=>!(nt&&ft.id!==nt||Be&&ft.type!==Be)))&&void 0!==xt?xt:[]}({didDocument:nt,id:"#dwn",type:"DecentralizedWebNode"}),Fe=new Set;if("serviceEndpoint"in Be&&!Array.isArray(Be.serviceEndpoint)&&"string"!=typeof Be.serviceEndpoint&&Array.isArray(Be.serviceEndpoint.nodes)){const xt=Be.serviceEndpoint.nodes,ft=Math.min(xt.length,2);for(let it=0;it<xt.length&&Fe.size<ft;it+=1){const xn=xt[lt(0,xt.length)];try{(yield fetch(`${xn}/health`)).ok&&Fe.add(xn)}catch{}}}return Array.from(Fe)})}();rr=yield Ht.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:Br,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield Ht.identity.manage({portableIdentity:yield rr.export()})}else{if(1!==Ur)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${Ur} stored identities.`);rr=br[0]}Fe=rr.did.uri}"off"!==it&&(yield Ht.sync.registerIdentity({did:Fe}),it??(it="2m"),Ht.sync.startSync({interval:it}).catch(rr=>{console.error(`Sync failed: ${rr}`)}))}return{web5:new Rt({agent:nt,connectedDid:Fe}),did:Fe,recoveryPhrase:ft}})}}},37475:($e,j,E)=>{"use strict";E.d(j,{U$:()=>U,cG:()=>ae,ny:()=>ue,Gs:()=>Q,VS:()=>d,Z6:()=>De,LC:()=>g,RI:()=>q,E8:()=>W,fc:()=>P});var g=E(52191),w=E(15130),B=E(80286),H=E(14725);function P(h){const _=Object.prototype.toString.call(h).match(/\s([a-zA-Z0-9]+)/),[I,L]=_;return L}var R=function(h,f,_,I){return new(_||(_=Promise))(function(x,a){function v(ee){try{z(I.next(ee))}catch(le){a(le)}}function Z(ee){try{z(I.throw(ee))}catch(le){a(le)}}function z(ee){ee.done?x(ee.value):function L(x){return x instanceof _?x:new _(function(a){a(x)})}(ee.value).then(v,Z)}z((I=I.apply(h,f||[])).next())})},O=function(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _,f=h[Symbol.asyncIterator];return f?f.call(h):(h="function"==typeof __values?__values(h):h[Symbol.iterator](),_={},I("next"),I("throw"),I("return"),_[Symbol.asyncIterator]=function(){return this},_);function I(x){_[x]=h[x]&&function(a){return new Promise(function(v,Z){!function L(x,a,v,Z){Promise.resolve(Z).then(function(z){x({value:z,done:v})},a)}(v,Z,(a=h[x](a)).done,a.value)})}}};const A=new TextEncoder,V=new TextDecoder;class U{constructor(f,_){this.data=f,this.format=_}static arrayBuffer(f){return new U(f,"ArrayBuffer")}static asyncIterable(f){if(!function k(h){return"object"==typeof h&&null!==h&&"function"==typeof h[Symbol.asyncIterator]}(f))throw new TypeError("Input must be of type AsyncIterable.");return new U(f,"AsyncIterable")}static base32Z(f){return new U(f,"Base32Z")}static base58Btc(f){return new U(f,"Base58Btc")}static base64Url(f){return new U(f,"Base64Url")}static bufferSource(f){return new U(f,"BufferSource")}static hex(f){if("string"!=typeof f)throw new TypeError("Hex input must be a string.");if(f.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new U(f,"Hex")}static multibase(f){return new U(f,"Multibase")}static object(f){return new U(f,"Object")}static string(f){return new U(f,"String")}static uint8Array(f){return new U(f,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return B.s.baseDecode(this.data).buffer;case"Base64Url":return H.r0.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===P(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function b(h){return 0!==h.byteOffset||h.byteLength!==h.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return R(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return w.jd.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const f=new Uint8Array(this.data);return B.s.baseEncode(f)}case"Multibase":return this.data.substring(1);case"Uint8Array":return B.s.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const f=new Uint8Array(this.data);return H.r0.baseEncode(f)}case"BufferSource":{const f=this.toUint8Array();return H.r0.baseEncode(f)}case"Object":{const f=JSON.stringify(this.data),_=A.encode(f);return H.r0.baseEncode(_)}case"String":{const f=A.encode(this.data);return H.r0.baseEncode(f)}case"Uint8Array":return H.r0.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var f,_,I;return R(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const Z=[];try{for(var v,x=!0,a=O(this.data);v=yield a.next(),!(f=v.done);x=!0)x=!1,Z.push(v.value)}catch(ee){_={error:ee}}finally{try{!x&&!f&&(I=a.return)&&(yield I.call(a))}finally{if(_)throw _.error}}return new Blob(Z)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const f=Array.from({length:256},(_,I)=>I.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const _=this.toUint8Array();return U.uint8Array(_).toHex()}case"Base64Url":{const _=this.toUint8Array();return U.uint8Array(_).toHex()}case"Uint8Array":{let _="";for(let I=0;I<this.data.length;I++)_+=f[this.data[I]];return _}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const f=H.r0.baseDecode(this.data),_=V.decode(f);return JSON.parse(_)}case"String":return JSON.parse(this.data);case"Uint8Array":{const f=V.decode(this.data);return JSON.parse(f)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return R(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const f=yield this.toStringAsync();return JSON.parse(f)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return V.decode(this.data);case"Base64Url":{const f=H.r0.baseDecode(this.data);return V.decode(f)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var f,_,I,L;return R(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let Z="";try{for(var v,x=!0,a=O(this.data);v=yield a.next(),!(f=v.done);x=!0)x=!1,Z+="string"==typeof(L=v.value)?L:V.decode(L,{stream:!0})}catch(z){_={error:z}}finally{try{!x&&!f&&(I=a.return)&&(yield I.call(a))}finally{if(_)throw _.error}}return Z+=V.decode(void 0,{stream:!1}),Z}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return w.jd.baseDecode(this.data);case"Base58Btc":return B.s.baseDecode(this.data);case"Base64Url":return H.r0.baseDecode(this.data);case"BufferSource":{const f=P(this.data);if("Uint8Array"===f)return this.data;if("ArrayBuffer"===f)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const f=new Uint8Array(this.data.length/2);for(let _=0;_<this.data.length;_+=2){const I=parseInt(this.data.substring(_,_+2),16);if(isNaN(I))throw new TypeError("Input is not a valid hexadecimal string.");f[_/2]=I}return f}case"Object":{const f=JSON.stringify(this.data);return A.encode(f)}case"String":return A.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return R(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const f=yield this.toArrayBufferAsync();return new Uint8Array(f)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var K=E(41405);class Q{static addPrefix(f){var _;let{code:I,data:L,name:x}=f;if(!(x?!I:I))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(I=Q.codeToName.has(I)?I:Q.nameToCode.get(x),void 0===I)throw new Error(`Unsupported multicodec: ${null!==(_=f.name)&&void 0!==_?_:f.code}`);const a=K.L8.encodingLength(I),v=new Uint8Array(a+L.byteLength);return v.set(L,a),K.L8.encodeTo(I,v),v}static getCodeFromData(f){const{prefixedData:_}=f,[I,L]=K.L8.decode(_);return I}static getCodeFromName(f){const{name:_}=f,I=Q.nameToCode.get(_);if(void 0===I)throw new Error(`Unsupported multicodec: ${_}`);return I}static getNameFromCode(f){const{code:_}=f,I=Q.codeToName.get(_);if(void 0===I)throw new Error(`Unsupported multicodec: ${_}`);return I}static registerCodec(f){Q.codeToName.set(f.code,f.name),Q.nameToCode.set(f.name,f.code)}static removePrefix(f){const{prefixedData:_}=f,[I,L]=K.L8.decode(_),x=Q.codeToName.get(I);if(void 0===x)throw new Error(`Unsupported multicodec: ${I}`);return{code:I,data:_.slice(L),name:x}}}function q(h){return!("object"!=typeof h||null===h||Object.getOwnPropertySymbols(h).length>0)&&0===Object.keys(h).length}function W(h){Object.keys(h).forEach(f=>{void 0===h[f]?delete h[f]:"object"==typeof h[f]&&W(h[f])})}Q.codeToName=new Map,Q.nameToCode=new Map,Q.registerCodec({code:237,name:"ed25519-pub"}),Q.registerCodec({code:4864,name:"ed25519-priv"}),Q.registerCodec({code:236,name:"x25519-pub"}),Q.registerCodec({code:4866,name:"x25519-priv"}),Q.registerCodec({code:231,name:"secp256k1-pub"}),Q.registerCodec({code:4865,name:"secp256k1-priv"});var re=E(54626),ie=function(h,f,_,I){return new(_||(_=Promise))(function(x,a){function v(ee){try{z(I.next(ee))}catch(le){a(le)}}function Z(ee){try{z(I.throw(ee))}catch(le){a(le)}}function z(ee){ee.done?x(ee.value):function L(x){return x instanceof _?x:new _(function(a){a(x)})}(ee.value).then(v,Z)}z((I=I.apply(h,f||[])).next())})};class ae{constructor({db:f,location:_="DATASTORE"}={}){this.store=f??new re.Level(_)}clear(){return ie(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return ie(this,void 0,void 0,function*(){yield this.store.close()})}delete(f){return ie(this,void 0,void 0,function*(){yield this.store.del(f)})}get(f){return ie(this,void 0,void 0,function*(){try{return yield this.store.get(f)}catch(_){if(_.notFound)return;throw _}})}set(f,_){return ie(this,void 0,void 0,function*(){yield this.store.put(f,_)})}}class ue{constructor(){this.store=new Map}clear(){return ie(this,void 0,void 0,function*(){this.store.clear()})}close(){return ie(this,void 0,void 0,function*(){})}delete(f){return ie(this,void 0,void 0,function*(){return this.store.delete(f)})}get(f){return ie(this,void 0,void 0,function*(){return this.store.get(f)})}has(f){return ie(this,void 0,void 0,function*(){return this.store.has(f)})}list(){return ie(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(f,_){return ie(this,void 0,void 0,function*(){this.store.set(f,_)})}}var ce=function(h,f,_,I){return new(_||(_=Promise))(function(x,a){function v(ee){try{z(I.next(ee))}catch(le){a(le)}}function Z(ee){try{z(I.throw(ee))}catch(le){a(le)}}function z(ee){ee.done?x(ee.value):function L(x){return x instanceof _?x:new _(function(a){a(x)})}(ee.value).then(v,Z)}z((I=I.apply(h,f||[])).next())})},pe=function(h){return this instanceof pe?(this.v=h,this):new pe(h)};class De{static asAsyncIterator(f){return function(h,f,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,I=_.apply(h,f||[]),x=[];return L={},a("next"),a("throw"),a("return"),L[Symbol.asyncIterator]=function(){return this},L;function a(we){I[we]&&(L[we]=function(Me){return new Promise(function(Ze,ge){x.push([we,Me,Ze,ge])>1||v(we,Me)})})}function v(we,Me){try{!function Z(we){we.value instanceof pe?Promise.resolve(we.value.v).then(z,ee):le(x[0][2],we)}(I[we](Me))}catch(Ze){le(x[0][3],Ze)}}function z(we){v("next",we)}function ee(we){v("throw",we)}function le(we,Me){we(Me),x.shift(),x.length&&v(x[0][0],x[0][1])}}(this,arguments,function*(){const I=f.getReader();try{for(;;){const{done:L,value:x}=yield pe(I.read());if(L)break;yield yield pe(x)}}finally{I.releaseLock()}})}static consumeToArrayBuffer({readableStream:f}){return ce(this,void 0,void 0,function*(){const _=De.asAsyncIterator(f);return yield U.asyncIterable(_).toArrayBufferAsync()})}static consumeToBlob({readableStream:f}){return ce(this,void 0,void 0,function*(){const _=De.asAsyncIterator(f);return yield U.asyncIterable(_).toBlobAsync()})}static consumeToBytes({readableStream:f}){return ce(this,void 0,void 0,function*(){const _=De.asAsyncIterator(f);return yield U.asyncIterable(_).toUint8ArrayAsync()})}static consumeToJson({readableStream:f}){return ce(this,void 0,void 0,function*(){const _=De.asAsyncIterator(f);return yield U.asyncIterable(_).toObjectAsync()})}static consumeToText({readableStream:f}){return ce(this,void 0,void 0,function*(){const _=De.asAsyncIterator(f);return yield U.asyncIterable(_).toStringAsync()})}static generateByteStream({streamLength:f,chunkLength:_,fillValue:I}){let x,L=f??1/0;function a(){const v=Math.min(L,_??1/0);let Z;if(L-=v,"number"==typeof I)Z=new Uint8Array(v).fill(I);else if(Array.isArray(I)){Z=new Uint8Array(v);const[z,ee]=I,le=ee-z+1;for(let we=0;we<v;we++)Z[we]=Math.floor(Math.random()*le)+z}else Z=new Uint8Array(v);x.enqueue(Z),L<=0&&x.close()}return new ReadableStream({start(v){x=v,a()},pull(){a()}})}static isReadable({readableStream:f}){if(!De.isReadableStream(f)||f.locked)return!1;try{return f.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(f){return"object"==typeof f&&null!==f&&"getReader"in f&&"function"==typeof f.getReader}static isStream(f){return De.isReadableStream(f)||De.isWritableStream(f)||De.isTransformStream(f)}static isTransformStream(f){return"object"==typeof f&&null!==f&&"readable"in f&&"object"==typeof f.readable&&"writable"in f&&"object"==typeof f.writable}static isWritableStream(f){return"object"==typeof f&&null!==f&&"getWriter"in f&&"function"==typeof f.getWriter&&"abort"in f&&"function"==typeof f.abort}}var C=E(95424),s=function(h,f,_,I){return new(_||(_=Promise))(function(x,a){function v(ee){try{z(I.next(ee))}catch(le){a(le)}}function Z(ee){try{z(I.throw(ee))}catch(le){a(le)}}function z(ee){ee.done?x(ee.value):function L(x){return x instanceof _?x:new _(function(a){a(x)})}(ee.value).then(v,Z)}z((I=I.apply(h,f||[])).next())})};class d{static consumeToArrayBuffer({readable:f}){return s(this,void 0,void 0,function*(){return yield U.asyncIterable(f).toArrayBufferAsync()})}static consumeToBlob({readable:f}){return s(this,void 0,void 0,function*(){return yield U.asyncIterable(f).toBlobAsync()})}static consumeToBytes({readable:f}){return s(this,void 0,void 0,function*(){return yield U.asyncIterable(f).toUint8ArrayAsync()})}static consumeToJson({readable:f}){return s(this,void 0,void 0,function*(){return yield U.asyncIterable(f).toObjectAsync()})}static consumeToText({readable:f}){return s(this,void 0,void 0,function*(){return yield U.asyncIterable(f).toStringAsync()})}static fromWebReadable({readableStream:f,readableOptions:_}){if(!De.isReadableStream(f))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const I=f.getReader();let L=!1;const x=new C.Readable(Object.assign(Object.assign({},_),{read:function(){I.read().then(({done:a,value:v})=>{if(a)this.push(null);else if(!this.push(v))return}).catch(a=>{this.destroy(a)})},destroy:function(a,v){function Z(){v(a)}L?Z():I.cancel(a).then(Z).catch(Z)}}));return I.closed.then(()=>{L=!0}).catch(a=>{L=!0,x.destroy(a)}),x}static isDestroyed({stream:f}){if(!d.isStream(f))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!f.destroyed&&!(("_writableState"in f?f._writableState:void 0)||f._readableState).destroyed)}static isReadable({readable:f}){return!!d.isReadableStream(f)&&f.readable&&"boolean"==typeof f._readableState.ended&&!f._readableState.ended&&"boolean"==typeof f._readableState.endEmitted&&!f._readableState.endEmitted&&!f.destroyed&&!f.isPaused()}static isReadableStream(f){return"object"==typeof f&&null!==f&&"pipe"in f&&"function"==typeof f.pipe&&"on"in f&&"function"==typeof f.on&&!("_writableState"in f)&&"_readableState"in f}static isStream(f){return"object"==typeof f&&null!==f&&("_readableState"in f||"_writableState"in f)}static toWebReadable({readable:f}){if(!d.isReadableStream(f))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(d.isDestroyed({stream:f})){const _=new ReadableStream;return _.cancel(),_}return new ReadableStream({start(_){f.on("data",I=>{_.enqueue(I)}),f.on("end",()=>{_.close()}),f.on("error",I=>{_.error(I)})},cancel(){f.destroy()}})}}},86136:($e,j,E)=>{"use strict";E.d(j,{z5:()=>ln,GT:()=>vn,hq:()=>k,SO:()=>yt,Mc:()=>G,Dp:()=>Se,Xj:()=>ge,eP:()=>Gt,jg:()=>Ie,iH:()=>Ne,cM:()=>P,Nx:()=>Oe,BA:()=>me,mE:()=>Ue,gX:()=>xe,wh:()=>Ce,UL:()=>be,gt:()=>he,oz:()=>ne,Wp:()=>g});var g={};E.r(g),E.d(g,{checkRequiredProperty:()=>en,checkValidProperty:()=>pn,getJoseSignatureAlgorithmFromPublicKey:()=>cn,isWebCryptoSupported:()=>tr,randomBytes:()=>Mn,randomUuid:()=>on});var w=E(37475),B=E(47565);class b{static digest({data:lt}){return function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})}(this,void 0,void 0,function*(){return(0,B.s)(lt)})}}class k{}class P extends k{digest({algorithm:lt,data:St}){return function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===lt)return yield b.digest({data:St})})}}var R=E(35765),O=E(2716);const A=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),V=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),U=BigInt(1),K=BigInt(2),Q=(qt,lt)=>(qt+lt/K)/lt;const Y=(0,R.D0)(A,void 0,void 0,{sqrt:function q(qt){const lt=A,St=BigInt(3),Rt=BigInt(6),tt=BigInt(11),nt=BigInt(22),Be=BigInt(23),Fe=BigInt(44),xt=BigInt(88),ft=qt*qt*qt%lt,it=ft*ft*qt%lt,Kt=(0,R.zH)(it,St,lt)*it%lt,xn=(0,R.zH)(Kt,St,lt)*it%lt,fn=(0,R.zH)(xn,K,lt)*ft%lt,Ht=(0,R.zH)(fn,tt,lt)*fn%lt,_n=(0,R.zH)(Ht,nt,lt)*Ht%lt,rr=(0,R.zH)(_n,Fe,lt)*_n%lt,br=(0,R.zH)(rr,xt,lt)*rr%lt,Ur=(0,R.zH)(br,Fe,lt)*_n%lt,Br=(0,R.zH)(Ur,St,lt)*it%lt,Kr=(0,R.zH)(Br,Be,lt)*Ht%lt,so=(0,R.zH)(Kr,Rt,lt)*ft%lt,$r=(0,R.zH)(so,K,lt);if(!Y.eql(Y.sqr($r),qt))throw new Error("Cannot find square root");return $r}}),W=(0,O.s)({a:BigInt(0),b:BigInt(7),Fp:Y,n:V,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:qt=>{const lt=V,St=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),Rt=-U*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),tt=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),nt=St,Be=BigInt("0x100000000000000000000000000000000"),Fe=Q(nt*qt,lt),xt=Q(-Rt*qt,lt);let ft=(0,R.zi)(qt-Fe*St-xt*tt,lt),it=(0,R.zi)(-Fe*Rt-xt*nt,lt);const Kt=ft>Be,xn=it>Be;if(Kt&&(ft=lt-ft),xn&&(it=lt-it),ft>Be||it>Be)throw new Error("splitScalar: Endomorphism failed, k="+qt);return{k1neg:Kt,k1:ft,k2neg:xn,k2:it}}}},B.s);BigInt(0);var we=E(91006),Ze=function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})};const ge="urn:jwk:";function me({jwk:qt}){return Ze(this,void 0,void 0,function*(){const lt=qt.kty;let St;if("EC"===lt)St={crv:qt.crv,kty:qt.kty,x:qt.x,y:qt.y};else if("oct"===lt)St={k:qt.k,kty:qt.kty};else if("OKP"===lt)St={crv:qt.crv,kty:qt.kty,x:qt.x};else{if("RSA"!==lt)throw new Error(`Unsupported key type: ${lt}`);St={e:qt.e,kty:qt.kty,n:qt.n}}(0,w.E8)(St);const Rt=function Me(qt){const lt=Rt=>{if(null!==Rt&&"object"==typeof Rt&&!Array.isArray(Rt)){const tt=Object.keys(Rt).sort(),nt={};for(const Be of tt)nt[Be]=lt(Rt[Be]);return nt}return Rt},St=lt(qt);return JSON.stringify(St)}(St),tt=w.U$.string(Rt).toUint8Array(),nt=yield b.digest({data:tt});return w.U$.uint8Array(nt).toBase64Url()})}function Ue(qt){return!(!qt||"object"!=typeof qt||!("kty"in qt&&"crv"in qt&&"x"in qt&&"d"in qt)||"EC"!==qt.kty||"string"!=typeof qt.d||"string"!=typeof qt.x)}function xe(qt){return!(!qt||"object"!=typeof qt||!("kty"in qt&&"crv"in qt&&"x"in qt)||"d"in qt||"EC"!==qt.kty||"string"!=typeof qt.x)}function Ce(qt){return!(!qt||"object"!=typeof qt||!("kty"in qt)||!("k"in qt)||"oct"!==qt.kty||"string"!=typeof qt.k)}function be(qt){return!(!qt||"object"!=typeof qt||!("kty"in qt&&"crv"in qt&&"x"in qt&&"d"in qt)||"OKP"!==qt.kty||"string"!=typeof qt.d||"string"!=typeof qt.x)}function he(qt){return!(!qt||"object"!=typeof qt||"d"in qt||!("kty"in qt&&"crv"in qt&&"x"in qt)||"OKP"!==qt.kty||"string"!=typeof qt.x)}function ne(qt){if(!qt||"object"!=typeof qt)return!1;switch(qt.kty){case"EC":case"OKP":case"RSA":return"d"in qt;case"oct":return"k"in qt;default:return!1}}var de=function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})};class Ie{static adjustSignatureToLowS({signature:lt}){return de(this,void 0,void 0,function*(){const St=W.Signature.fromCompact(lt);return St.hasHighS()?St.normalizeS().toCompactRawBytes():lt})}static bytesToPrivateKey({privateKeyBytes:lt}){return de(this,void 0,void 0,function*(){const St=yield Ie.getCurvePoint({keyBytes:lt}),Rt={kty:"EC",crv:"secp256k1",d:w.U$.uint8Array(lt).toBase64Url(),x:w.U$.uint8Array(St.x).toBase64Url(),y:w.U$.uint8Array(St.y).toBase64Url()};return Rt.kid=yield me({jwk:Rt}),Rt})}static bytesToPublicKey({publicKeyBytes:lt}){return de(this,void 0,void 0,function*(){const St=yield Ie.getCurvePoint({keyBytes:lt}),Rt={kty:"EC",crv:"secp256k1",x:w.U$.uint8Array(St.x).toBase64Url(),y:w.U$.uint8Array(St.y).toBase64Url()};return Rt.kid=yield me({jwk:Rt}),Rt})}static compressPublicKey({publicKeyBytes:lt}){return de(this,void 0,void 0,function*(){return W.ProjectivePoint.fromHex(lt).toRawBytes(!0)})}static computePublicKey({key:lt}){return de(this,void 0,void 0,function*(){const St=yield Ie.privateKeyToBytes({privateKey:lt}),Rt=yield Ie.getCurvePoint({keyBytes:St}),tt={kty:"EC",crv:"secp256k1",x:w.U$.uint8Array(Rt.x).toBase64Url(),y:w.U$.uint8Array(Rt.y).toBase64Url()};return tt.kid=yield me({jwk:tt}),tt})}static convertDerToCompactSignature({derSignature:lt}){return de(this,void 0,void 0,function*(){return W.Signature.fromDER(lt).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:lt}){return de(this,void 0,void 0,function*(){return W.ProjectivePoint.fromHex(lt).toRawBytes(!1)})}static generateKey(){return de(this,void 0,void 0,function*(){const lt=W.utils.randomPrivateKey(),St=yield Ie.bytesToPrivateKey({privateKeyBytes:lt});return St.kid=yield me({jwk:St}),St})}static getPublicKey({key:lt}){var St;return de(this,void 0,void 0,function*(){if(!Ue(lt)||"secp256k1"!==lt.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let tt=function(qt,lt){var St={};for(var Rt in qt)Object.prototype.hasOwnProperty.call(qt,Rt)&&lt.indexOf(Rt)<0&&(St[Rt]=qt[Rt]);if(null!=qt&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Rt=Object.getOwnPropertySymbols(qt);tt<Rt.length;tt++)lt.indexOf(Rt[tt])<0&&Object.prototype.propertyIsEnumerable.call(qt,Rt[tt])&&(St[Rt[tt]]=qt[Rt[tt]])}return St}(lt,["d"]);return null!==(St=tt.kid)&&void 0!==St||(tt.kid=yield me({jwk:tt})),tt})}static privateKeyToBytes({privateKey:lt}){return de(this,void 0,void 0,function*(){if(!Ue(lt))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return w.U$.base64Url(lt.d).toUint8Array()})}static publicKeyToBytes({publicKey:lt}){return de(this,void 0,void 0,function*(){if(!xe(lt)||!lt.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const St=new Uint8Array([4]),Rt=w.U$.base64Url(lt.x).toUint8Array(),tt=w.U$.base64Url(lt.y).toUint8Array();return new Uint8Array([...St,...Rt,...tt])})}static sharedSecret({privateKeyA:lt,publicKeyB:St}){return de(this,void 0,void 0,function*(){if("x"in lt&&"x"in St&&lt.x===St.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const Rt=yield Ie.privateKeyToBytes({privateKey:lt}),tt=yield Ie.publicKeyToBytes({publicKey:St});return W.getSharedSecret(Rt,tt,!0).slice(1)})}static sign({data:lt,key:St}){return de(this,void 0,void 0,function*(){const Rt=yield Ie.privateKeyToBytes({privateKey:St}),tt=(0,B.s)(lt);return W.sign(tt,Rt).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:lt}){return de(this,void 0,void 0,function*(){return W.utils.isValidPrivateKey(lt)})}static validatePublicKey({publicKeyBytes:lt}){return de(this,void 0,void 0,function*(){try{W.ProjectivePoint.fromHex(lt).assertValidity()}catch{return!1}return!0})}static verify({key:lt,signature:St,data:Rt}){return de(this,void 0,void 0,function*(){const tt=yield Ie.publicKeyToBytes({publicKey:lt}),nt=(0,B.s)(Rt);return W.verify(St,nt,tt,{lowS:!1})})}static getCurvePoint({keyBytes:lt}){return de(this,void 0,void 0,function*(){32===lt.byteLength&&(lt=W.getPublicKey(lt));const St=W.ProjectivePoint.fromHex(lt);return{x:(0,we.lq)(St.x,32),y:(0,we.lq)(St.y,32)}})}}var He=E(40499),Ve=function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})};class Ne{static adjustSignatureToLowS({signature:lt}){return Ve(this,void 0,void 0,function*(){const St=He.Ag.Signature.fromCompact(lt);return St.hasHighS()?St.normalizeS().toCompactRawBytes():lt})}static bytesToPrivateKey({privateKeyBytes:lt}){return Ve(this,void 0,void 0,function*(){const St=yield Ne.getCurvePoint({keyBytes:lt}),Rt={kty:"EC",crv:"P-256",d:w.U$.uint8Array(lt).toBase64Url(),x:w.U$.uint8Array(St.x).toBase64Url(),y:w.U$.uint8Array(St.y).toBase64Url()};return Rt.kid=yield me({jwk:Rt}),Rt})}static bytesToPublicKey({publicKeyBytes:lt}){return Ve(this,void 0,void 0,function*(){const St=yield Ne.getCurvePoint({keyBytes:lt}),Rt={kty:"EC",crv:"P-256",x:w.U$.uint8Array(St.x).toBase64Url(),y:w.U$.uint8Array(St.y).toBase64Url()};return Rt.kid=yield me({jwk:Rt}),Rt})}static compressPublicKey({publicKeyBytes:lt}){return Ve(this,void 0,void 0,function*(){return He.Ag.ProjectivePoint.fromHex(lt).toRawBytes(!0)})}static computePublicKey({key:lt}){return Ve(this,void 0,void 0,function*(){const St=yield Ne.privateKeyToBytes({privateKey:lt}),Rt=yield Ne.getCurvePoint({keyBytes:St}),tt={kty:"EC",crv:"P-256",x:w.U$.uint8Array(Rt.x).toBase64Url(),y:w.U$.uint8Array(Rt.y).toBase64Url()};return tt.kid=yield me({jwk:tt}),tt})}static convertDerToCompactSignature({derSignature:lt}){return Ve(this,void 0,void 0,function*(){return He.Ag.Signature.fromDER(lt).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:lt}){return Ve(this,void 0,void 0,function*(){return He.Ag.ProjectivePoint.fromHex(lt).toRawBytes(!1)})}static generateKey(){return Ve(this,void 0,void 0,function*(){const lt=He.Ag.utils.randomPrivateKey(),St=yield Ne.bytesToPrivateKey({privateKeyBytes:lt});return St.kid=yield me({jwk:St}),St})}static getPublicKey({key:lt}){var St;return Ve(this,void 0,void 0,function*(){if(!Ue(lt)||"P-256"!==lt.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let tt=function(qt,lt){var St={};for(var Rt in qt)Object.prototype.hasOwnProperty.call(qt,Rt)&&lt.indexOf(Rt)<0&&(St[Rt]=qt[Rt]);if(null!=qt&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Rt=Object.getOwnPropertySymbols(qt);tt<Rt.length;tt++)lt.indexOf(Rt[tt])<0&&Object.prototype.propertyIsEnumerable.call(qt,Rt[tt])&&(St[Rt[tt]]=qt[Rt[tt]])}return St}(lt,["d"]);return null!==(St=tt.kid)&&void 0!==St||(tt.kid=yield me({jwk:tt})),tt})}static privateKeyToBytes({privateKey:lt}){return Ve(this,void 0,void 0,function*(){if(!Ue(lt))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return w.U$.base64Url(lt.d).toUint8Array()})}static publicKeyToBytes({publicKey:lt}){return Ve(this,void 0,void 0,function*(){if(!xe(lt)||!lt.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const St=new Uint8Array([4]),Rt=w.U$.base64Url(lt.x).toUint8Array(),tt=w.U$.base64Url(lt.y).toUint8Array();return new Uint8Array([...St,...Rt,...tt])})}static sharedSecret({privateKeyA:lt,publicKeyB:St}){return Ve(this,void 0,void 0,function*(){if("x"in lt&&"x"in St&&lt.x===St.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const Rt=yield Ne.privateKeyToBytes({privateKey:lt}),tt=yield Ne.publicKeyToBytes({publicKey:St});return He.Ag.getSharedSecret(Rt,tt,!0).slice(1)})}static sign({data:lt,key:St}){return Ve(this,void 0,void 0,function*(){const Rt=yield Ne.privateKeyToBytes({privateKey:St}),tt=(0,B.s)(lt);return He.Ag.sign(tt,Rt).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:lt}){return Ve(this,void 0,void 0,function*(){return He.Ag.utils.isValidPrivateKey(lt)})}static validatePublicKey({publicKeyBytes:lt}){return Ve(this,void 0,void 0,function*(){try{He.Ag.ProjectivePoint.fromHex(lt).assertValidity()}catch{return!1}return!0})}static verify({key:lt,signature:St,data:Rt}){return Ve(this,void 0,void 0,function*(){const tt=yield Ne.publicKeyToBytes({publicKey:lt}),nt=(0,B.s)(Rt);return He.Ag.verify(St,nt,tt,{lowS:!1})})}static getCurvePoint({keyBytes:lt}){return Ve(this,void 0,void 0,function*(){32===lt.byteLength&&(lt=He.Ag.getPublicKey(lt));const St=He.Ag.ProjectivePoint.fromHex(lt);return{x:(0,we.lq)(St.x,32),y:(0,we.lq)(St.y,32)}})}}var ke=function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})};class yt extends k{computePublicKey({key:lt}){return ke(this,void 0,void 0,function*(){if(!Ue(lt))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(lt.crv){case"secp256k1":{const St=yield Ie.computePublicKey({key:lt});return St.alg="ES256K",St}case"P-256":{const St=yield Ne.computePublicKey({key:lt});return St.alg="ES256",St}default:throw new Error(`Unsupported curve: ${lt.crv}`)}})}generateKey({algorithm:lt}){return ke(this,void 0,void 0,function*(){switch(lt){case"ES256K":case"secp256k1":{const St=yield Ie.generateKey();return St.alg="ES256K",St}case"ES256":case"secp256r1":{const St=yield Ne.generateKey();return St.alg="ES256",St}}})}getPublicKey({key:lt}){return ke(this,void 0,void 0,function*(){if(!Ue(lt))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(lt.crv){case"secp256k1":{const St=yield Ie.getPublicKey({key:lt});return St.alg="ES256K",St}case"P-256":{const St=yield Ne.getPublicKey({key:lt});return St.alg="ES256",St}default:throw new Error(`Unsupported curve: ${lt.crv}`)}})}sign({key:lt,data:St}){return ke(this,void 0,void 0,function*(){if(!Ue(lt))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(lt.crv){case"secp256k1":return yield Ie.sign({key:lt,data:St});case"P-256":return yield Ne.sign({key:lt,data:St});default:throw new Error(`Unsupported curve: ${lt.crv}`)}})}verify({key:lt,signature:St,data:Rt}){return ke(this,void 0,void 0,function*(){if(!xe(lt))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(lt.crv){case"secp256k1":return yield Ie.verify({key:lt,signature:St,data:Rt});case"P-256":return yield Ne.verify({key:lt,signature:St,data:Rt});default:throw new Error(`Unsupported curve: ${lt.crv}`)}})}}var F=E(86295),D=function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})};class G{static bytesToPrivateKey({privateKeyBytes:lt}){return D(this,void 0,void 0,function*(){const St=F.ev.getPublicKey(lt),Rt={crv:"Ed25519",d:w.U$.uint8Array(lt).toBase64Url(),kty:"OKP",x:w.U$.uint8Array(St).toBase64Url()};return Rt.kid=yield me({jwk:Rt}),Rt})}static bytesToPublicKey({publicKeyBytes:lt}){return D(this,void 0,void 0,function*(){const St={kty:"OKP",crv:"Ed25519",x:w.U$.uint8Array(lt).toBase64Url()};return St.kid=yield me({jwk:St}),St})}static computePublicKey({key:lt}){return D(this,void 0,void 0,function*(){const St=yield G.privateKeyToBytes({privateKey:lt}),Rt=F.ev.getPublicKey(St),tt={kty:"OKP",crv:"Ed25519",x:w.U$.uint8Array(Rt).toBase64Url()};return tt.kid=yield me({jwk:tt}),tt})}static convertPrivateKeyToX25519({privateKey:lt}){return D(this,void 0,void 0,function*(){const St=yield G.privateKeyToBytes({privateKey:lt}),Rt=(0,F.OA)(St),tt=F.TU.getPublicKey(Rt),nt={kty:"OKP",crv:"X25519",d:w.U$.uint8Array(Rt).toBase64Url(),x:w.U$.uint8Array(tt).toBase64Url()};return nt.kid=yield me({jwk:nt}),nt})}static convertPublicKeyToX25519({publicKey:lt}){return D(this,void 0,void 0,function*(){const St=yield G.publicKeyToBytes({publicKey:lt});if(!(yield G.validatePublicKey({publicKeyBytes:St})))throw new Error("Ed25519: Invalid public key.");const tt=(0,F.GU)(St),nt={kty:"OKP",crv:"X25519",x:w.U$.uint8Array(tt).toBase64Url()};return nt.kid=yield me({jwk:nt}),nt})}static generateKey(){return D(this,void 0,void 0,function*(){const lt=F.ev.utils.randomPrivateKey(),St=yield G.bytesToPrivateKey({privateKeyBytes:lt});return St.kid=yield me({jwk:St}),St})}static getPublicKey({key:lt}){var St;return D(this,void 0,void 0,function*(){if(!be(lt)||"Ed25519"!==lt.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let tt=function(qt,lt){var St={};for(var Rt in qt)Object.prototype.hasOwnProperty.call(qt,Rt)&&lt.indexOf(Rt)<0&&(St[Rt]=qt[Rt]);if(null!=qt&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Rt=Object.getOwnPropertySymbols(qt);tt<Rt.length;tt++)lt.indexOf(Rt[tt])<0&&Object.prototype.propertyIsEnumerable.call(qt,Rt[tt])&&(St[Rt[tt]]=qt[Rt[tt]])}return St}(lt,["d"]);return null!==(St=tt.kid)&&void 0!==St||(tt.kid=yield me({jwk:tt})),tt})}static privateKeyToBytes({privateKey:lt}){return D(this,void 0,void 0,function*(){if(!be(lt))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return w.U$.base64Url(lt.d).toUint8Array()})}static publicKeyToBytes({publicKey:lt}){return D(this,void 0,void 0,function*(){if(!he(lt))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return w.U$.base64Url(lt.x).toUint8Array()})}static sign({key:lt,data:St}){return D(this,void 0,void 0,function*(){const Rt=yield G.privateKeyToBytes({privateKey:lt});return F.ev.sign(St,Rt)})}static validatePublicKey({publicKeyBytes:lt}){return D(this,void 0,void 0,function*(){try{F.ev.ExtendedPoint.fromHex(lt).assertValidity()}catch{return!1}return!0})}static verify({key:lt,signature:St,data:Rt}){return D(this,void 0,void 0,function*(){const tt=yield G.publicKeyToBytes({publicKey:lt});return F.ev.verify(St,Rt,tt)})}}var fe=function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})};class Se extends k{computePublicKey({key:lt}){return fe(this,void 0,void 0,function*(){if(!be(lt))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===lt.crv){const St=yield G.computePublicKey({key:lt});return St.alg="EdDSA",St}throw new Error(`Unsupported curve: ${lt.crv}`)})}generateKey({algorithm:lt}){return fe(this,void 0,void 0,function*(){if("Ed25519"===lt){const St=yield G.generateKey();return St.alg="EdDSA",St}})}getPublicKey({key:lt}){return fe(this,void 0,void 0,function*(){if(!be(lt))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===lt.crv){const St=yield G.getPublicKey({key:lt});return St.alg="EdDSA",St}throw new Error(`Unsupported curve: ${lt.crv}`)})}sign({key:lt,data:St}){return fe(this,void 0,void 0,function*(){if(!be(lt))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===lt.crv)return yield G.sign({key:lt,data:St});throw new Error(`Unsupported curve: ${lt.crv}`)})}verify({key:lt,signature:St,data:Rt}){return fe(this,void 0,void 0,function*(){if(!he(lt))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===lt.crv)return yield G.verify({key:lt,signature:St,data:Rt});throw new Error(`Unsupported curve: ${lt.crv}`)})}}var Ae=function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})};const ot={Ed25519:{implementation:Se,names:["Ed25519"]},secp256k1:{implementation:yt,names:["ES256K","secp256k1"]},secp256r1:{implementation:yt,names:["ES256","secp256r1"]},"SHA-256":{implementation:P,names:["SHA-256"]}};class Gt{constructor(lt){var St;this._algorithmInstances=new Map,this._keyStore=null!==(St=lt?.keyStore)&&void 0!==St?St:new w.ny}digest({algorithm:lt,data:St}){return Ae(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:lt}).digest({algorithm:lt,data:St})})}exportKey({keyUri:lt}){return Ae(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:lt})})}generateKey({algorithm:lt}){return Ae(this,void 0,void 0,function*(){const Rt=yield this.getAlgorithm({algorithm:lt}).generateKey({algorithm:lt});if(void 0===Rt?.kid)throw new Error("Generated key is missing a required property: kid");const tt=`${ge}${Rt.kid}`;return yield this._keyStore.set(tt,Rt),tt})}getKeyUri({key:lt}){return Ae(this,void 0,void 0,function*(){const St=yield me({jwk:lt});return`${ge}${St}`})}getPublicKey({keyUri:lt}){return Ae(this,void 0,void 0,function*(){const St=yield this.getPrivateKey({keyUri:lt}),Rt=this.getAlgorithmName({key:St});return yield this.getAlgorithm({algorithm:Rt}).getPublicKey({key:St})})}importKey({key:lt}){var St;return Ae(this,void 0,void 0,function*(){if(!ne(lt))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const Rt=structuredClone(lt);null!==(St=Rt.kid)&&void 0!==St||(Rt.kid=yield me({jwk:Rt}));const tt=yield this.getKeyUri({key:Rt});return yield this._keyStore.set(tt,Rt),tt})}sign({keyUri:lt,data:St}){return Ae(this,void 0,void 0,function*(){const Rt=yield this.getPrivateKey({keyUri:lt}),tt=this.getAlgorithmName({key:Rt});return this.getAlgorithm({algorithm:tt}).sign({data:St,key:Rt})})}verify({key:lt,signature:St,data:Rt}){return Ae(this,void 0,void 0,function*(){const tt=this.getAlgorithmName({key:lt});return this.getAlgorithm({algorithm:tt}).verify({key:lt,signature:St,data:Rt})})}getAlgorithm({algorithm:lt}){var St;const Rt=null===(St=ot[lt])||void 0===St?void 0:St.implementation;if(!Rt)throw new Error(`Algorithm not supported: ${lt}`);return this._algorithmInstances.has(Rt)||this._algorithmInstances.set(Rt,new Rt),this._algorithmInstances.get(Rt)}getAlgorithmName({key:lt}){const St=lt.alg,Rt=lt.crv;for(const tt in ot){const nt=ot[tt];if(St&&nt.names.includes(St))return tt;if(Rt&&nt.names.includes(Rt))return tt}throw new Error(`Unable to determine algorithm based on provided input: alg=${St}, crv=${Rt}`)}getPrivateKey({keyUri:lt}){return Ae(this,void 0,void 0,function*(){const St=yield this._keyStore.get(lt);if(!St)throw new Error(`Key not found: ${lt}`);return St})}}var _t=E(86703),Bt=E(62953);function en(qt){if(!qt||void 0===qt.property||void 0===qt.inObject)throw new TypeError("One or more required parameters missing: 'property, properties'");const{property:lt,inObject:St}=qt;if(!(lt in St))throw new TypeError(`Required parameter missing: '${lt}'`)}function pn(qt){if(!qt||void 0===qt.property||void 0===qt.allowedProperties)throw new TypeError("One or more required parameters missing: 'property, allowedProperties'");const{property:lt,allowedProperties:St}=qt;if(Array.isArray(St)&&!St.includes(lt)||St instanceof Set&&!St.has(lt)||St instanceof Map&&!St.has(lt)){const Rt=Array.from(St instanceof Map?St.keys():St).join(", ");throw new TypeError(`Out of range: '${lt}'. Must be one of '${Rt}'`)}}function cn(qt){const lt={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(qt.alg&&Object.values(lt).includes(qt.alg))return qt.alg;if(qt.crv&&Object.keys(lt).includes(qt.crv))return lt[qt.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${qt.alg}, crv=${qt.crv}. Supported 'alg' values: ${Object.values(lt).join(", ")}. Supported 'crv' values: ${Object.keys(lt).join(", ")}.`)}function tr(){return!(!globalThis.crypto||!globalThis.crypto.subtle)}function Mn(qt){return(0,Bt.po)(qt)}function on(){return _t.E.randomUUID()}var Qt=E(91879),ht=function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})};const jt=[128,192,256],kt=[96,104,112,120,128];class ln{static bytesToPrivateKey({privateKeyBytes:lt}){return ht(this,void 0,void 0,function*(){const St={k:w.U$.uint8Array(lt).toBase64Url(),kty:"oct"};return St.kid=yield me({jwk:St}),St})}static decrypt({key:lt,data:St,iv:Rt,additionalData:tt,tagLength:nt}){return ht(this,void 0,void 0,function*(){if(12!==Rt.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(nt&&!kt.includes(nt))throw new RangeError(`The tag length is invalid: Must be ${kt.join(", ")} bits`);const Be=(0,Qt.NZ)(),Fe=yield Be.importKey("jwk",lt,{name:"AES-GCM"},!0,["decrypt"]),xt=Object.assign(Object.assign({name:"AES-GCM",iv:Rt},nt&&{tagLength:nt}),tt&&{additionalData:tt}),ft=yield Be.decrypt(xt,Fe,St);return new Uint8Array(ft)})}static encrypt({data:lt,iv:St,key:Rt,additionalData:tt,tagLength:nt}){return ht(this,void 0,void 0,function*(){if(12!==St.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(nt&&!kt.includes(nt))throw new RangeError(`The tag length is invalid: Must be ${kt.join(", ")} bits`);const Be=(0,Qt.NZ)(),Fe=yield Be.importKey("jwk",Rt,{name:"AES-GCM"},!0,["encrypt"]),xt=Object.assign(Object.assign({name:"AES-GCM",iv:St},nt&&{tagLength:nt}),tt&&{additionalData:tt}),ft=yield Be.encrypt(xt,Fe,lt);return new Uint8Array(ft)})}static generateKey({length:lt}){return ht(this,void 0,void 0,function*(){if(!jt.includes(lt))throw new RangeError(`The key length is invalid: Must be ${jt.join(", ")} bits`);const St=(0,Qt.NZ)(),Rt=yield St.generateKey({name:"AES-GCM",length:lt},!0,["encrypt"]),Fe=function(qt,lt){var St={};for(var Rt in qt)Object.prototype.hasOwnProperty.call(qt,Rt)&&lt.indexOf(Rt)<0&&(St[Rt]=qt[Rt]);if(null!=qt&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Rt=Object.getOwnPropertySymbols(qt);tt<Rt.length;tt++)lt.indexOf(Rt[tt])<0&&Object.prototype.propertyIsEnumerable.call(qt,Rt[tt])&&(St[Rt[tt]]=qt[Rt[tt]])}return St}(yield St.exportKey("jwk",Rt),["ext","key_ops"]);return Fe.kid=yield me({jwk:Fe}),Fe})}static privateKeyToBytes({privateKey:lt}){return ht(this,void 0,void 0,function*(){if(!Ce(lt))throw new Error("AesGcm: The provided key is not a valid oct private key.");return w.U$.base64Url(lt.k).toUint8Array()})}}var On=function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})};class vn extends k{decrypt(lt){return On(this,void 0,void 0,function*(){return ln.decrypt(lt)})}encrypt(lt){return On(this,void 0,void 0,function*(){return ln.encrypt(lt)})}generateKey({algorithm:lt}){return On(this,void 0,void 0,function*(){const St={A128GCM:128,A192GCM:192,A256GCM:256}[lt],Rt=yield ln.generateKey({length:St});return Rt.alg=lt,Rt})}}var Nn=function(qt,lt,St,Rt){return new(St||(St=Promise))(function(nt,Be){function Fe(it){try{ft(Rt.next(it))}catch(Kt){Be(Kt)}}function xt(it){try{ft(Rt.throw(it))}catch(Kt){Be(Kt)}}function ft(it){it.done?nt(it.value):function tt(nt){return nt instanceof St?nt:new St(function(Be){Be(nt)})}(it.value).then(Fe,xt)}ft((Rt=Rt.apply(qt,lt||[])).next())})};class Oe{static bytesToPrivateKey({privateKeyBytes:lt}){return Nn(this,void 0,void 0,function*(){const St=F.TU.getPublicKey(lt),Rt={kty:"OKP",crv:"X25519",d:w.U$.uint8Array(lt).toBase64Url(),x:w.U$.uint8Array(St).toBase64Url()};return Rt.kid=yield me({jwk:Rt}),Rt})}static bytesToPublicKey({publicKeyBytes:lt}){return Nn(this,void 0,void 0,function*(){const St={kty:"OKP",crv:"X25519",x:w.U$.uint8Array(lt).toBase64Url()};return St.kid=yield me({jwk:St}),St})}static computePublicKey({key:lt}){return Nn(this,void 0,void 0,function*(){const St=yield Oe.privateKeyToBytes({privateKey:lt}),Rt=F.TU.getPublicKey(St),tt={kty:"OKP",crv:"X25519",x:w.U$.uint8Array(Rt).toBase64Url()};return tt.kid=yield me({jwk:tt}),tt})}static generateKey(){return Nn(this,void 0,void 0,function*(){const lt=F.TU.utils.randomPrivateKey(),St=yield Oe.bytesToPrivateKey({privateKeyBytes:lt});return St.kid=yield me({jwk:St}),St})}static getPublicKey({key:lt}){var St;return Nn(this,void 0,void 0,function*(){if(!be(lt)||"X25519"!==lt.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let tt=function(qt,lt){var St={};for(var Rt in qt)Object.prototype.hasOwnProperty.call(qt,Rt)&&lt.indexOf(Rt)<0&&(St[Rt]=qt[Rt]);if(null!=qt&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Rt=Object.getOwnPropertySymbols(qt);tt<Rt.length;tt++)lt.indexOf(Rt[tt])<0&&Object.prototype.propertyIsEnumerable.call(qt,Rt[tt])&&(St[Rt[tt]]=qt[Rt[tt]])}return St}(lt,["d"]);return null!==(St=tt.kid)&&void 0!==St||(tt.kid=yield me({jwk:tt})),tt})}static privateKeyToBytes({privateKey:lt}){return Nn(this,void 0,void 0,function*(){if(!be(lt))throw new Error("X25519: The provided key is not a valid OKP private key.");return w.U$.base64Url(lt.d).toUint8Array()})}static publicKeyToBytes({publicKey:lt}){return Nn(this,void 0,void 0,function*(){if(!he(lt))throw new Error("X25519: The provided key is not a valid OKP public key.");return w.U$.base64Url(lt.x).toUint8Array()})}static sharedSecret({privateKeyA:lt,publicKeyB:St}){return Nn(this,void 0,void 0,function*(){if("x"in lt&&"x"in St&&lt.x===St.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const Rt=yield Oe.privateKeyToBytes({privateKey:lt}),tt=yield Oe.publicKeyToBytes({publicKey:St});return F.TU.getSharedSecret(Rt,tt)})}}var Qe=E(25953),zt=E(34931);const hn=(qt,lt)=>255&qt[lt++]|(255&qt[lt++])<<8;class Un{constructor(lt){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,lt=(0,Qe.ZJ)(lt),(0,Qe.qj)(lt,32);const St=hn(lt,0),Rt=hn(lt,2),tt=hn(lt,4),nt=hn(lt,6),Be=hn(lt,8),Fe=hn(lt,10),xt=hn(lt,12),ft=hn(lt,14);this.r[0]=8191&St,this.r[1]=8191&(St>>>13|Rt<<3),this.r[2]=7939&(Rt>>>10|tt<<6),this.r[3]=8191&(tt>>>7|nt<<9),this.r[4]=255&(nt>>>4|Be<<12),this.r[5]=Be>>>1&8190,this.r[6]=8191&(Be>>>14|Fe<<2),this.r[7]=8065&(Fe>>>11|xt<<5),this.r[8]=8191&(xt>>>8|ft<<8),this.r[9]=ft>>>5&127;for(let it=0;it<8;it++)this.pad[it]=hn(lt,16+2*it)}process(lt,St,Rt=!1){const tt=Rt?0:2048,{h:nt,r:Be}=this,Fe=Be[0],xt=Be[1],ft=Be[2],it=Be[3],Kt=Be[4],xn=Be[5],fn=Be[6],Ht=Be[7],_n=Be[8],rr=Be[9],br=hn(lt,St+0),Ur=hn(lt,St+2),Br=hn(lt,St+4),Kr=hn(lt,St+6),so=hn(lt,St+8),$r=hn(lt,St+10),Rr=hn(lt,St+12),Vr=hn(lt,St+14);let qr=nt[0]+(8191&br),vr=nt[1]+(8191&(br>>>13|Ur<<3)),ni=nt[2]+(8191&(Ur>>>10|Br<<6)),Zi=nt[3]+(8191&(Br>>>7|Kr<<9)),co=nt[4]+(8191&(Kr>>>4|so<<12)),Ui=nt[5]+(so>>>1&8191),_o=nt[6]+(8191&(so>>>14|$r<<2)),Eo=nt[7]+(8191&($r>>>11|Rr<<5)),Ei=nt[8]+(8191&(Rr>>>8|Vr<<8)),Po=nt[9]+(Vr>>>5|tt),ci=0,xr=ci+qr*Fe+vr*(5*rr)+ni*(5*_n)+Zi*(5*Ht)+co*(5*fn);ci=xr>>>13,xr&=8191,xr+=Ui*(5*xn)+_o*(5*Kt)+Eo*(5*it)+Ei*(5*ft)+Po*(5*xt),ci+=xr>>>13,xr&=8191;let Do=ci+qr*xt+vr*Fe+ni*(5*rr)+Zi*(5*_n)+co*(5*Ht);ci=Do>>>13,Do&=8191,Do+=Ui*(5*fn)+_o*(5*xn)+Eo*(5*Kt)+Ei*(5*it)+Po*(5*ft),ci+=Do>>>13,Do&=8191;let Io=ci+qr*ft+vr*xt+ni*Fe+Zi*(5*rr)+co*(5*_n);ci=Io>>>13,Io&=8191,Io+=Ui*(5*Ht)+_o*(5*fn)+Eo*(5*xn)+Ei*(5*Kt)+Po*(5*it),ci+=Io>>>13,Io&=8191;let Da=ci+qr*it+vr*ft+ni*xt+Zi*Fe+co*(5*rr);ci=Da>>>13,Da&=8191,Da+=Ui*(5*_n)+_o*(5*Ht)+Eo*(5*fn)+Ei*(5*xn)+Po*(5*Kt),ci+=Da>>>13,Da&=8191;let vl=ci+qr*Kt+vr*it+ni*ft+Zi*xt+co*Fe;ci=vl>>>13,vl&=8191,vl+=Ui*(5*rr)+_o*(5*_n)+Eo*(5*Ht)+Ei*(5*fn)+Po*(5*xn),ci+=vl>>>13,vl&=8191;let Ac=ci+qr*xn+vr*Kt+ni*it+Zi*ft+co*xt;ci=Ac>>>13,Ac&=8191,Ac+=Ui*Fe+_o*(5*rr)+Eo*(5*_n)+Ei*(5*Ht)+Po*(5*fn),ci+=Ac>>>13,Ac&=8191;let Cc=ci+qr*fn+vr*xn+ni*Kt+Zi*it+co*ft;ci=Cc>>>13,Cc&=8191,Cc+=Ui*xt+_o*Fe+Eo*(5*rr)+Ei*(5*_n)+Po*(5*Ht),ci+=Cc>>>13,Cc&=8191;let da=ci+qr*Ht+vr*fn+ni*xn+Zi*Kt+co*it;ci=da>>>13,da&=8191,da+=Ui*ft+_o*xt+Eo*Fe+Ei*(5*rr)+Po*(5*_n),ci+=da>>>13,da&=8191;let gs=ci+qr*_n+vr*Ht+ni*fn+Zi*xn+co*Kt;ci=gs>>>13,gs&=8191,gs+=Ui*it+_o*ft+Eo*xt+Ei*Fe+Po*(5*rr),ci+=gs>>>13,gs&=8191;let La=ci+qr*rr+vr*_n+ni*Ht+Zi*fn+co*xn;ci=La>>>13,La&=8191,La+=Ui*Kt+_o*it+Eo*ft+Ei*xt+Po*Fe,ci+=La>>>13,La&=8191,ci=(ci<<2)+ci|0,ci=ci+xr|0,xr=8191&ci,ci>>>=13,Do+=ci,nt[0]=xr,nt[1]=Do,nt[2]=Io,nt[3]=Da,nt[4]=vl,nt[5]=Ac,nt[6]=Cc,nt[7]=da,nt[8]=gs,nt[9]=La}finalize(){const{h:lt,pad:St}=this,Rt=new Uint16Array(10);let tt=lt[1]>>>13;lt[1]&=8191;for(let Fe=2;Fe<10;Fe++)lt[Fe]+=tt,tt=lt[Fe]>>>13,lt[Fe]&=8191;lt[0]+=5*tt,tt=lt[0]>>>13,lt[0]&=8191,lt[1]+=tt,tt=lt[1]>>>13,lt[1]&=8191,lt[2]+=tt,Rt[0]=lt[0]+5,tt=Rt[0]>>>13,Rt[0]&=8191;for(let Fe=1;Fe<10;Fe++)Rt[Fe]=lt[Fe]+tt,tt=Rt[Fe]>>>13,Rt[Fe]&=8191;Rt[9]-=8192;let nt=(1^tt)-1;for(let Fe=0;Fe<10;Fe++)Rt[Fe]&=nt;nt=~nt;for(let Fe=0;Fe<10;Fe++)lt[Fe]=lt[Fe]&nt|Rt[Fe];lt[0]=65535&(lt[0]|lt[1]<<13),lt[1]=65535&(lt[1]>>>3|lt[2]<<10),lt[2]=65535&(lt[2]>>>6|lt[3]<<7),lt[3]=65535&(lt[3]>>>9|lt[4]<<4),lt[4]=65535&(lt[4]>>>12|lt[5]<<1|lt[6]<<14),lt[5]=65535&(lt[6]>>>2|lt[7]<<11),lt[6]=65535&(lt[7]>>>5|lt[8]<<8),lt[7]=65535&(lt[8]>>>8|lt[9]<<5);let Be=lt[0]+St[0];lt[0]=65535&Be;for(let Fe=1;Fe<8;Fe++)Be=(lt[Fe]+St[Fe]|0)+(Be>>>16)|0,lt[Fe]=65535&Be}update(lt){(0,zt.t2)(this);const{buffer:St,blockLen:Rt}=this,tt=(lt=(0,Qe.ZJ)(lt)).length;for(let nt=0;nt<tt;){const Be=Math.min(Rt-this.pos,tt-nt);if(Be!==Rt)St.set(lt.subarray(nt,nt+Be),this.pos),this.pos+=Be,nt+=Be,this.pos===Rt&&(this.process(St,0,!1),this.pos=0);else for(;Rt<=tt-nt;nt+=Rt)this.process(lt,nt)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(lt){(0,zt.t2)(this),(0,zt.CG)(lt,this),this.finished=!0;const{buffer:St,h:Rt}=this;let{pos:tt}=this;if(tt){for(St[tt++]=1;tt<16;tt++)St[tt]=0;this.process(St,0,!0)}this.finalize();let nt=0;for(let Be=0;Be<8;Be++)lt[nt++]=Rt[Be]>>>0,lt[nt++]=Rt[Be]>>>8;return lt}digest(){const{buffer:lt,outputLen:St}=this;this.digestInto(lt);const Rt=lt.slice(0,St);return this.destroy(),Rt}}const ir=function Kn(qt){const lt=(Rt,tt)=>qt(tt).update((0,Qe.ZJ)(Rt)).digest(),St=qt(new Uint8Array(32));return lt.outputLen=St.outputLen,lt.blockLen=St.blockLen,lt.create=Rt=>qt(Rt),lt}(qt=>new Un(qt)),mr=(0,Qe.AI)("expand 16-byte k"),Pr=(0,Qe.AI)("expand 32-byte k"),Sr=(0,Qe.DH)(mr),Nr=(0,Qe.DH)(Pr);function dr(qt,lt){return qt<<lt|qt>>>32-lt}function nn(qt){return qt.byteOffset%4==0}const Fn=2**32-1,Wn=new Uint32Array;function hr(qt,lt){const{allowShortKeys:St,extendNonceFn:Rt,counterLength:tt,counterRight:nt,rounds:Be}=(0,Qe.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},lt);if("function"!=typeof qt)throw new Error("core must be a function");return(0,zt.ai)(tt),(0,zt.ai)(Be),(0,zt.lc)(nt),(0,zt.lc)(St),(Fe,xt,ft,it,Kt=0)=>{(0,zt.ee)(Fe),(0,zt.ee)(xt),(0,zt.ee)(ft);const xn=ft.length;if(it||(it=new Uint8Array(xn)),(0,zt.ee)(it),(0,zt.ai)(Kt),Kt<0||Kt>=Fn)throw new Error("arx: counter overflow");if(it.length<xn)throw new Error(`arx: output (${it.length}) is shorter than data (${xn})`);const fn=[];let _n,rr,Ht=Fe.length;if(32===Ht)_n=Fe.slice(),fn.push(_n),rr=Nr;else{if(16!==Ht||!St)throw new Error(`arx: invalid 32-byte key, got length=${Ht}`);_n=new Uint8Array(32),_n.set(Fe),_n.set(Fe,16),rr=Sr,fn.push(_n)}nn(xt)||(xt=xt.slice(),fn.push(xt));const br=(0,Qe.DH)(_n);if(Rt){if(24!==xt.length)throw new Error("arx: extended nonce must be 24 bytes");Rt(rr,br,(0,Qe.DH)(xt.subarray(0,16)),br),xt=xt.subarray(16)}const Ur=16-tt;if(Ur!==xt.length)throw new Error(`arx: nonce must be ${Ur} or 16 bytes`);if(12!==Ur){const Kr=new Uint8Array(12);Kr.set(xt,nt?0:12-xt.length),fn.push(xt=Kr)}const Br=(0,Qe.DH)(xt);for(function cr(qt,lt,St,Rt,tt,nt,Be,Fe){const xt=tt.length,ft=new Uint8Array(64),it=(0,Qe.DH)(ft),Kt=nn(tt)&&nn(nt),xn=Kt?(0,Qe.DH)(tt):Wn,fn=Kt?(0,Qe.DH)(nt):Wn;for(let Ht=0;Ht<xt;Be++){if(qt(lt,St,Rt,it,Be,Fe),Be>=Fn)throw new Error("arx: counter overflow");const _n=Math.min(64,xt-Ht);if(Kt&&64===_n){const rr=Ht/4;if(Ht%4!=0)throw new Error("arx: invalid block position");for(let Ur,br=0;br<16;br++)Ur=rr+br,fn[Ur]=xn[Ur]^it[br];Ht+=64}else{for(let br,rr=0;rr<_n;rr++)br=Ht+rr,nt[br]=tt[br]^ft[rr];Ht+=_n}}}(qt,rr,br,Br,ft,it,Kt,Be);fn.length>0;)fn.pop().fill(0);return it}}function jr(qt,lt,St,Rt,tt,nt=20){let Be=qt[0],Fe=qt[1],xt=qt[2],ft=qt[3],it=lt[0],Kt=lt[1],xn=lt[2],fn=lt[3],Ht=lt[4],_n=lt[5],rr=lt[6],br=lt[7],Ur=tt,Br=St[0],Kr=St[1],so=St[2],$r=Be,Rr=Fe,Vr=xt,qr=ft,vr=it,ni=Kt,Zi=xn,co=fn,Ui=Ht,_o=_n,Eo=rr,Ei=br,Po=Ur,ci=Br,xr=Kr,Do=so;for(let Da=0;Da<nt;Da+=2)$r=$r+vr|0,Po=dr(Po^$r,16),Ui=Ui+Po|0,vr=dr(vr^Ui,12),$r=$r+vr|0,Po=dr(Po^$r,8),Ui=Ui+Po|0,vr=dr(vr^Ui,7),Rr=Rr+ni|0,ci=dr(ci^Rr,16),_o=_o+ci|0,ni=dr(ni^_o,12),Rr=Rr+ni|0,ci=dr(ci^Rr,8),_o=_o+ci|0,ni=dr(ni^_o,7),Vr=Vr+Zi|0,xr=dr(xr^Vr,16),Eo=Eo+xr|0,Zi=dr(Zi^Eo,12),Vr=Vr+Zi|0,xr=dr(xr^Vr,8),Eo=Eo+xr|0,Zi=dr(Zi^Eo,7),qr=qr+co|0,Do=dr(Do^qr,16),Ei=Ei+Do|0,co=dr(co^Ei,12),qr=qr+co|0,Do=dr(Do^qr,8),Ei=Ei+Do|0,co=dr(co^Ei,7),$r=$r+ni|0,Do=dr(Do^$r,16),Eo=Eo+Do|0,ni=dr(ni^Eo,12),$r=$r+ni|0,Do=dr(Do^$r,8),Eo=Eo+Do|0,ni=dr(ni^Eo,7),Rr=Rr+Zi|0,Po=dr(Po^Rr,16),Ei=Ei+Po|0,Zi=dr(Zi^Ei,12),Rr=Rr+Zi|0,Po=dr(Po^Rr,8),Ei=Ei+Po|0,Zi=dr(Zi^Ei,7),Vr=Vr+co|0,ci=dr(ci^Vr,16),Ui=Ui+ci|0,co=dr(co^Ui,12),Vr=Vr+co|0,ci=dr(ci^Vr,8),Ui=Ui+ci|0,co=dr(co^Ui,7),qr=qr+vr|0,xr=dr(xr^qr,16),_o=_o+xr|0,vr=dr(vr^_o,12),qr=qr+vr|0,xr=dr(xr^qr,8),_o=_o+xr|0,vr=dr(vr^_o,7);let Io=0;Rt[Io++]=Be+$r|0,Rt[Io++]=Fe+Rr|0,Rt[Io++]=xt+Vr|0,Rt[Io++]=ft+qr|0,Rt[Io++]=it+vr|0,Rt[Io++]=Kt+ni|0,Rt[Io++]=xn+Zi|0,Rt[Io++]=fn+co|0,Rt[Io++]=Ht+Ui|0,Rt[Io++]=_n+_o|0,Rt[Io++]=rr+Eo|0,Rt[Io++]=br+Ei|0,Rt[Io++]=Ur+Po|0,Rt[Io++]=Br+ci|0,Rt[Io++]=Kr+xr|0,Rt[Io++]=so+Do|0}const oo=hr(jr,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Hi=hr(jr,{counterRight:!1,counterLength:8,extendNonceFn:function Or(qt,lt,St,Rt){let tt=qt[0],nt=qt[1],Be=qt[2],Fe=qt[3],xt=lt[0],ft=lt[1],it=lt[2],Kt=lt[3],xn=lt[4],fn=lt[5],Ht=lt[6],_n=lt[7],rr=St[0],br=St[1],Ur=St[2],Br=St[3];for(let so=0;so<20;so+=2)tt=tt+xt|0,rr=dr(rr^tt,16),xn=xn+rr|0,xt=dr(xt^xn,12),tt=tt+xt|0,rr=dr(rr^tt,8),xn=xn+rr|0,xt=dr(xt^xn,7),nt=nt+ft|0,br=dr(br^nt,16),fn=fn+br|0,ft=dr(ft^fn,12),nt=nt+ft|0,br=dr(br^nt,8),fn=fn+br|0,ft=dr(ft^fn,7),Be=Be+it|0,Ur=dr(Ur^Be,16),Ht=Ht+Ur|0,it=dr(it^Ht,12),Be=Be+it|0,Ur=dr(Ur^Be,8),Ht=Ht+Ur|0,it=dr(it^Ht,7),Fe=Fe+Kt|0,Br=dr(Br^Fe,16),_n=_n+Br|0,Kt=dr(Kt^_n,12),Fe=Fe+Kt|0,Br=dr(Br^Fe,8),_n=_n+Br|0,Kt=dr(Kt^_n,7),tt=tt+ft|0,Br=dr(Br^tt,16),Ht=Ht+Br|0,ft=dr(ft^Ht,12),tt=tt+ft|0,Br=dr(Br^tt,8),Ht=Ht+Br|0,ft=dr(ft^Ht,7),nt=nt+it|0,rr=dr(rr^nt,16),_n=_n+rr|0,it=dr(it^_n,12),nt=nt+it|0,rr=dr(rr^nt,8),_n=_n+rr|0,it=dr(it^_n,7),Be=Be+Kt|0,br=dr(br^Be,16),xn=xn+br|0,Kt=dr(Kt^xn,12),Be=Be+Kt|0,br=dr(br^Be,8),xn=xn+br|0,Kt=dr(Kt^xn,7),Fe=Fe+xt|0,Ur=dr(Ur^Fe,16),fn=fn+Ur|0,xt=dr(xt^fn,12),Fe=Fe+xt|0,Ur=dr(Ur^Fe,8),fn=fn+Ur|0,xt=dr(xt^fn,7);let Kr=0;Rt[Kr++]=tt,Rt[Kr++]=nt,Rt[Kr++]=Be,Rt[Kr++]=Fe,Rt[Kr++]=rr,Rt[Kr++]=br,Rt[Kr++]=Ur,Rt[Kr++]=Br},allowShortKeys:!1}),So=new Uint8Array(16),wi=(qt,lt)=>{qt.update(lt);const St=lt.length%16;St&&qt.update(So.subarray(St))},gt=new Uint8Array(32);function Ft(qt,lt,St,Rt,tt){const nt=qt(lt,St,gt),Be=ir.create(nt);tt&&wi(Be,tt),wi(Be,Rt);const Fe=new Uint8Array(16),xt=(0,Qe.O8)(Fe);(0,Qe.zp)(xt,0,BigInt(tt?tt.length:0),!0),(0,Qe.zp)(xt,8,BigInt(Rt.length),!0),Be.update(Fe);const ft=Be.digest();return nt.fill(0),ft}const We=qt=>(lt,St,Rt)=>((0,Qe.qj)(lt,32),(0,Qe.qj)(St),{encrypt:(nt,Be)=>{const Fe=nt.length,xt=Fe+16;Be?(0,Qe.qj)(Be,xt):Be=new Uint8Array(xt),qt(lt,St,nt,Be,1);const ft=Ft(qt,lt,St,Be.subarray(0,-16),Rt);return Be.set(ft,Fe),Be},decrypt:(nt,Be)=>{const Fe=nt.length,xt=Fe-16;if(Fe<16)throw new Error("encrypted data must be at least 16 bytes");Be?(0,Qe.qj)(Be,xt):Be=new Uint8Array(xt);const ft=nt.subarray(0,-16),it=nt.subarray(-16),Kt=Ft(qt,lt,St,ft,Rt);if(!(0,Qe.ex)(it,Kt))throw new Error("invalid tag");return qt(lt,St,ft,Be,1),Be}});We(oo),We(Hi)},2198:($e,j,E)=>{"use strict";E.d(j,{A:()=>he});const g="0123456789abcdef",w=[],B=[];for(let ne=0;ne<256;ne++)w[ne]=g[ne>>4&15]+g[15&ne],ne<16&&(ne<10?B[48+ne]=ne:B[87+ne]=ne);const H=ne=>{const te=ne.length;let de="",_e=0;for(;_e<te;)de+=w[ne[_e++]];return de};for(var R=typeof Uint8Array>"u"?[]:new Uint8Array(256),O=0;O<64;O++)R["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(O)]=O;const U=new TextDecoder,K=(ne,te)=>te?new TextDecoder(te).decode(ne):U.decode(ne),Q=new TextEncoder,q=ne=>Q.encode(ne);function s(ne){const te=ne<0?1:0;return ne=Math.abs(Number(ne||1)),Math.floor(Math.log10(ne))+1+te}function d(ne){return ArrayBuffer.isView(ne)?"arraybufferview":Array.isArray(ne)?"array":ne instanceof Number?"number":ne instanceof Boolean?"boolean":ne instanceof Set?"set":ne instanceof Map?"map":ne instanceof String?"string":ne instanceof ArrayBuffer?"arraybuffer":typeof ne}function h(ne,te,de){const _e=[];let Ie=null;return h._encode(_e,ne),Ie=((ne,te=0)=>{const de=ne.length||0;if(!te){let Ve=de;for(;Ve--;)te+=ne[Ve].length}const _e=new Uint8Array(te);let Ie=te,He=de;for(;He--;)Ie-=ne[He].length,_e.set(ne[He],Ie);return _e})(_e),h.bytes=Ie.length,ArrayBuffer.isView(te)?(te.set(Ie,de),te):Ie}typeof window<"u"?window:self,h.bytes=-1,h._floatConversionDetected=!1,h._encode=function(ne,te){if(null!=te)switch(d(te)){case"object":h.dict(ne,te);break;case"map":h.dictMap(ne,te);break;case"array":h.list(ne,te);break;case"set":h.listSet(ne,te);break;case"string":h.string(ne,te);break;case"number":case"boolean":h.number(ne,te);break;case"arraybufferview":h.buffer(ne,new Uint8Array(te.buffer,te.byteOffset,te.byteLength));break;case"arraybuffer":h.buffer(ne,new Uint8Array(te))}};const f=new Uint8Array([101]),_=new Uint8Array([100]),I=new Uint8Array([108]);h.buffer=function(ne,te){ne.push(q(te.length+":"),te)},h.string=function(ne,te){ne.push(q(q(te).byteLength+":"+te))},h.number=function(ne,te){if(Number.isInteger(te))return ne.push(q("i"+BigInt(te)+"e"));const de=2147483648,He=(te/de|0)*de+(te%de|0);ne.push(q("i"+He+"e")),He!==te&&!h._floatConversionDetected&&(h._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+te+'":','Bencoding only defines support for integers, value was converted to "'+He+'"'),console.trace())},h.dict=function(ne,te){ne.push(_);let _e,de=0;const Ie=Object.keys(te).sort(),He=Ie.length;for(;de<He;de++)_e=Ie[de],null!=te[_e]&&(h.string(ne,_e),h._encode(ne,te[_e]));ne.push(f)},h.dictMap=function(ne,te){ne.push(_);const de=Array.from(te.keys()).sort();for(const _e of de)null!=te.get(_e)&&(ArrayBuffer.isView(_e)?h._encode(ne,_e):h.string(ne,String(_e)),h._encode(ne,te.get(_e)));ne.push(f)},h.list=function(ne,te){let de=0;const _e=te.length;for(ne.push(I);de<_e;de++)null!=te[de]&&h._encode(ne,te[de]);ne.push(f)},h.listSet=function(ne,te){ne.push(I);for(const de of te)null!=de&&h._encode(ne,de);ne.push(f)};const L=h;function ee(ne,te,de){let _e=0,Ie=1;for(let He=te;He<de;He++){const Ve=ne[He];if(Ve<58&&Ve>=48)_e=10*_e+(Ve-48);else if(He!==te||43!==Ve){if(He===te&&45===Ve){Ie=-1;continue}if(46===Ve)break;throw new Error("not a number: buffer["+He+"] = "+Ve)}}return _e*Ie}function le(ne,te,de,_e){return null==ne||0===ne.length?null:("number"!=typeof te&&null==_e&&(_e=te,te=void 0),"number"!=typeof de&&null==_e&&(_e=de,de=void 0),le.position=0,le.encoding=_e||null,le.data=ArrayBuffer.isView(ne)?new Uint8Array(ne.slice(te,de)):q(ne),le.bytes=le.data.length,le.next())}function xe(ne){if(null==ne)return 0;const de=d(ne);switch(de){case"arraybufferview":return function Ue(ne){const te=ne.byteLength-ne.byteOffset;return s(te)+1+te}(ne);case"string":return function me(ne){const te=q(ne).byteLength;return s(te)+1+te}(ne);case"array":case"set":return function Me(ne){let te=2;for(const de of ne)te+=xe(de);return te}(ne);case"number":return 1+s(Math.floor(ne))+1;case"bigint":return 1+ne.toString().length+1;case"object":return function ge(ne){let te=2;const de=Object.keys(ne);for(let _e=0;_e<de.length;_e++){const Ie=q(de[_e]).byteLength;te+=s(Ie)+1+Ie,te+=xe(ne[de[_e]])}return te}(ne);case"map":return function Ze(ne){let te=2;for(const[de,_e]of ne){const Ie=q(de).byteLength;te+=s(Ie)+1+Ie,te+=xe(_e)}return te}(ne);default:throw new TypeError(`Unsupported value of type "${de}"`)}}le.bytes=0,le.position=0,le.data=null,le.encoding=null,le.next=function(){switch(le.data[le.position]){case 100:return le.dictionary();case 108:return le.list();case 105:return le.integer();default:return le.buffer()}},le.find=function(ne){let te=le.position;const de=le.data.length,_e=le.data;for(;te<de;){if(_e[te]===ne)return te;te++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(ne)+'" [0x'+ne.toString(16)+"]")},le.dictionary=function(){le.position++;const ne={};for(;101!==le.data[le.position];){const te=le.buffer();let de=K(te);de.includes("\ufffd")&&(de=H(te)),ne[de]=le.next()}return le.position++,ne},le.list=function(){le.position++;const ne=[];for(;101!==le.data[le.position];)ne.push(le.next());return le.position++,ne},le.integer=function(){const ne=le.find(101),te=ee(le.data,le.position+1,ne);return le.position+=ne+1-le.position,te},le.buffer=function(){let ne=le.find(58);const te=ee(le.data,le.position,ne),de=++ne+te;return le.position=de,le.encoding?K(le.data.slice(ne,de)):le.data.slice(ne,de)};const he={encode:L,decode:le,byteLength:xe,encodingLength:xe}},10797:($e,j,E)=>{"use strict";E.d(j,{_Q:()=>V,yE:()=>Q});var b=E(52054);class k{constructor(Y,W,re){this.name=Y,this.prefix=W,this.baseEncode=re}encode(Y){if(Y instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Y)}`;throw Error("Unknown type, must be binary type")}}class S{constructor(Y,W,re){if(this.name=Y,this.prefix=W,void 0===W.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=W.codePointAt(0),this.baseDecode=re}decode(Y){if("string"==typeof Y){if(Y.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Y)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Y.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(Y){return R(this,Y)}}class P{constructor(Y){this.decoders=Y}or(Y){return R(this,Y)}decode(Y){const re=this.decoders[Y[0]];if(re)return re.decode(Y);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Y)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const R=(q,Y)=>new P({...q.decoders||{[q.prefix]:q},...Y.decoders||{[Y.prefix]:Y}});class O{constructor(Y,W,re,ie){this.name=Y,this.prefix=W,this.baseEncode=re,this.baseDecode=ie,this.encoder=new k(Y,W,re),this.decoder=new S(Y,W,ie)}encode(Y){return this.encoder.encode(Y)}decode(Y){return this.decoder.decode(Y)}}const A=({name:q,prefix:Y,encode:W,decode:re})=>new O(q,Y,W,re),V=({prefix:q,name:Y,alphabet:W})=>{const{encode:re,decode:ie}=function g(q,Y){if(q.length>=255)throw new TypeError("Alphabet too long");for(var W=new Uint8Array(256),re=0;re<W.length;re++)W[re]=255;for(var ie=0;ie<q.length;ie++){var ae=q.charAt(ie),ue=ae.charCodeAt(0);if(255!==W[ue])throw new TypeError(ae+" is ambiguous");W[ue]=ie}var ce=q.length,pe=q.charAt(0),ve=Math.log(ce)/Math.log(256),De=Math.log(256)/Math.log(ce);function s(h){if("string"!=typeof h)throw new TypeError("Expected String");if(0===h.length)return new Uint8Array;var f=0;if(" "!==h[f]){for(var _=0,I=0;h[f]===pe;)_++,f++;for(var L=(h.length-f)*ve+1>>>0,x=new Uint8Array(L);h[f];){var a=W[h.charCodeAt(f)];if(255===a)return;for(var v=0,Z=L-1;(0!==a||v<I)&&-1!==Z;Z--,v++)x[Z]=(a+=ce*x[Z]>>>0)%256>>>0,a=a/256>>>0;if(0!==a)throw new Error("Non-zero carry");I=v,f++}if(" "!==h[f]){for(var z=L-I;z!==L&&0===x[z];)z++;for(var ee=new Uint8Array(_+(L-z)),le=_;z!==L;)ee[le++]=x[z++];return ee}}}return{encode:function C(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===h.length)return"";for(var f=0,_=0,I=0,L=h.length;I!==L&&0===h[I];)I++,f++;for(var x=(L-I)*De+1>>>0,a=new Uint8Array(x);I!==L;){for(var v=h[I],Z=0,z=x-1;(0!==v||Z<_)&&-1!==z;z--,Z++)a[z]=(v+=256*a[z]>>>0)%ce>>>0,v=v/ce>>>0;if(0!==v)throw new Error("Non-zero carry");_=Z,I++}for(var ee=x-_;ee!==x&&0===a[ee];)ee++;for(var le=pe.repeat(f);ee<x;++ee)le+=q.charAt(a[ee]);return le},decodeUnsafe:s,decode:function d(h){var f=s(h);if(f)return f;throw new Error(`Non-${Y} character`)}}}(W,Y);return A({prefix:q,name:Y,encode:re,decode:ae=>(0,b.au)(ie(ae))})},Q=({name:q,prefix:Y,bitsPerChar:W,alphabet:re})=>A({prefix:Y,name:q,encode:ie=>((q,Y,W)=>{const re="="===Y[Y.length-1],ie=(1<<W)-1;let ae="",ue=0,ce=0;for(let pe=0;pe<q.length;++pe)for(ce=ce<<8|q[pe],ue+=8;ue>W;)ue-=W,ae+=Y[ie&ce>>ue];if(ue&&(ae+=Y[ie&ce<<W-ue]),re)for(;ae.length*W&7;)ae+="=";return ae})(ie,re,W),decode:ie=>((q,Y,W,re)=>{const ie={};for(let De=0;De<Y.length;++De)ie[Y[De]]=De;let ae=q.length;for(;"="===q[ae-1];)--ae;const ue=new Uint8Array(ae*W/8|0);let ce=0,pe=0,ve=0;for(let De=0;De<ae;++De){const C=ie[q[De]];if(void 0===C)throw new SyntaxError(`Non-${re} character`);pe=pe<<W|C,ce+=W,ce>=8&&(ce-=8,ue[ve++]=255&pe>>ce)}if(ce>=W||255&pe<<8-ce)throw new SyntaxError("Unexpected end of data");return ue})(ie,re,W,q)})},15130:($e,j,E)=>{"use strict";E.d(j,{RG:()=>w,jd:()=>O});var g=E(10797);const w=(0,g.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),O=((0,g.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,g.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,g.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,g.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,g.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,g.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,g.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,g.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}))},80286:($e,j,E)=>{"use strict";E.d(j,{s:()=>w});var g=E(10797);const w=(0,g._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,g._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},14725:($e,j,E)=>{"use strict";E.d(j,{r0:()=>H});var g=E(10797);(0,g.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,g.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const H=(0,g.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});(0,g.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},52054:($e,j,E)=>{"use strict";E.d(j,{aI:()=>H,au:()=>b}),new Uint8Array(0);const H=(R,O)=>{if(R===O)return!0;if(R.byteLength!==O.byteLength)return!1;for(let A=0;A<R.byteLength;A++)if(R[A]!==O[A])return!1;return!0},b=R=>{if(R instanceof Uint8Array&&"Uint8Array"===R.constructor.name)return R;if(R instanceof ArrayBuffer)return new Uint8Array(R);if(ArrayBuffer.isView(R))return new Uint8Array(R.buffer,R.byteOffset,R.byteLength);throw new Error("Unknown type, must be binary type")}},41861:($e,j,E)=>{"use strict";E.d(j,{TO:()=>A});var g=E(28206),w=E(56580),B=E(80286),H=E(15130),b=E(52054);const k=(re,ie)=>{const{bytes:ae,version:ue}=re;return 0===ue?U(ae,O(re),ie||B.s.encoder):K(ae,O(re),ie||H.RG.encoder)},R=new WeakMap,O=re=>{const ie=R.get(re);if(null==ie){const ae=new Map;return R.set(re,ae),ae}return ie};class A{constructor(ie,ae,ue,ce){this.code=ae,this.version=ie,this.multihash=ue,this.bytes=ce,this["/"]=ce}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:ie,multihash:ae}=this;if(ie!==Q)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(ae.code!==q)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return A.createV0(ae)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:ie,digest:ae}=this.multihash,ue=w.vt(ie,ae);return A.createV1(this.code,ue)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(ie){return A.equals(this,ie)}static equals(ie,ae){return ae&&ie.code===ae.code&&ie.version===ae.version&&w.aI(ie.multihash,ae.multihash)}toString(ie){return k(this,ie)}toJSON(){return{"/":k(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(ie){if(null==ie)return null;const ae=ie;if(ae instanceof A)return ae;if(null!=ae["/"]&&ae["/"]===ae.bytes||ae.asCID===ae){const{version:ue,code:ce,multihash:pe,bytes:ve}=ae;return new A(ue,ce,pe,ve||Y(ue,ce,pe.bytes))}if(!0===ae[W]){const{version:ue,multihash:ce,code:pe}=ae,ve=w.D4(ce);return A.create(ue,pe,ve)}return null}static create(ie,ae,ue){if("number"!=typeof ae)throw new Error("String codecs are no longer supported");if(!(ue.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(ie){case 0:if(ae!==Q)throw new Error(`Version 0 CID must use dag-pb (code: ${Q}) block encoding`);return new A(ie,ae,ue,ue.bytes);case 1:{const ce=Y(ie,ae,ue.bytes);return new A(ie,ae,ue,ce)}default:throw new Error("Invalid version")}}static createV0(ie){return A.create(0,Q,ie)}static createV1(ie,ae){return A.create(1,ie,ae)}static decode(ie){const[ae,ue]=A.decodeFirst(ie);if(ue.length)throw new Error("Incorrect length");return ae}static decodeFirst(ie){const ae=A.inspectBytes(ie),ue=ae.size-ae.multihashSize,ce=(0,b.au)(ie.subarray(ue,ue+ae.multihashSize));if(ce.byteLength!==ae.multihashSize)throw new Error("Incorrect length");const pe=ce.subarray(ae.multihashSize-ae.digestSize),ve=new w.np(ae.multihashCode,ae.digestSize,pe,ce);return[0===ae.version?A.createV0(ve):A.createV1(ae.codec,ve),ie.subarray(ae.size)]}static inspectBytes(ie){let ae=0;const ue=()=>{const[h,f]=g.decode(ie.subarray(ae));return ae+=f,h};let ce=ue(),pe=Q;if(18===ce?(ce=0,ae=0):pe=ue(),0!==ce&&1!==ce)throw new RangeError(`Invalid CID version ${ce}`);const ve=ae,De=ue(),C=ue(),s=ae+C;return{version:ce,codec:pe,multihashCode:De,digestSize:C,multihashSize:s-ve,size:s}}static parse(ie,ae){const[ue,ce]=V(ie,ae),pe=A.decode(ce);if(0===pe.version&&"Q"!==ie[0])throw Error("Version 0 CID string must not include multibase prefix");return O(pe).set(ue,ie),pe}}const V=(re,ie)=>{switch(re[0]){case"Q":return[B.s.prefix,(ie||B.s).decode(`${B.s.prefix}${re}`)];case B.s.prefix:return[B.s.prefix,(ie||B.s).decode(re)];case H.RG.prefix:return[H.RG.prefix,(ie||H.RG).decode(re)];default:if(null==ie)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[re[0],ie.decode(re)]}},U=(re,ie,ae)=>{const{prefix:ue}=ae;if(ue!==B.s.prefix)throw Error(`Cannot string encode V0 in ${ae.name} encoding`);const ce=ie.get(ue);if(null==ce){const pe=ae.encode(re).slice(1);return ie.set(ue,pe),pe}return ce},K=(re,ie,ae)=>{const{prefix:ue}=ae,ce=ie.get(ue);if(null==ce){const pe=ae.encode(re);return ie.set(ue,pe),pe}return ce},Q=112,q=18,Y=(re,ie,ae)=>{const ue=g.encodingLength(re),ce=ue+g.encodingLength(ie),pe=new Uint8Array(ce+ae.byteLength);return g.encodeTo(re,pe,0),g.encodeTo(ie,pe,ue),pe.set(ae,ce),pe},W=Symbol.for("@ipld/js-cid/CID")},56580:($e,j,E)=>{"use strict";E.d(j,{D4:()=>H,aI:()=>b,np:()=>k,vt:()=>B});var g=E(52054),w=E(28206);const B=(S,P)=>{const R=P.byteLength,O=w.encodingLength(S),A=O+w.encodingLength(R),V=new Uint8Array(A+R);return w.encodeTo(S,V,0),w.encodeTo(R,V,O),V.set(P,A),new k(S,R,P,V)},H=S=>{const P=(0,g.au)(S),[R,O]=w.decode(P),[A,V]=w.decode(P.subarray(O)),U=P.subarray(O+V);if(U.byteLength!==A)throw new Error("Incorrect length");return new k(R,A,U,P)},b=(S,P)=>S===P||S.code===P.code&&S.size===P.size&&P.bytes instanceof Uint8Array&&(0,g.aI)(S.bytes,P.bytes);class k{constructor(P,R,O,A){this.code=P,this.size=R,this.digest=O,this.bytes=A}}},92059:($e,j,E)=>{"use strict";E.d(j,{H:()=>w});var g=E(56580);const w=({name:H,code:b,encode:k})=>new B(H,b,k);class B{constructor(b,k,S){this.name=b,this.code=k,this.encode=S}digest(b){if(b instanceof Uint8Array){const k=this.encode(b);return k instanceof Uint8Array?g.vt(this.code,k):k.then(S=>g.vt(this.code,S))}throw Error("Unknown type, must be binary type")}}},41405:($e,j,E)=>{"use strict";E.d(j,{L8:()=>w,TO:()=>g.TO});var g=E(41861),w=E(28206);E(52054),E(92059),E(56580)},28206:($e,j,E)=>{"use strict";E.r(j),E.d(j,{decode:()=>pe,encodeTo:()=>ve,encodingLength:()=>De});var w=128,H=-128,b=Math.pow(2,31),P=128,R=127,A=Math.pow(2,7),V=Math.pow(2,14),U=Math.pow(2,21),K=Math.pow(2,28),Q=Math.pow(2,35),q=Math.pow(2,42),Y=Math.pow(2,49),W=Math.pow(2,56),re=Math.pow(2,63);const ce={encode:function k(C,s,d){s=s||[];for(var h=d=d||0;C>=b;)s[d++]=255&C|w,C/=128;for(;C&H;)s[d++]=255&C|w,C>>>=7;return s[d]=0|C,k.bytes=d-h+1,s},decode:function O(C,h){var I,d=0,f=0,_=h=h||0,L=C.length;do{if(_>=L)throw O.bytes=0,new RangeError("Could not decode varint");I=C[_++],d+=f<28?(I&R)<<f:(I&R)*Math.pow(2,f),f+=7}while(I>=P);return O.bytes=_-h,d},encodingLength:function(C){return C<A?1:C<V?2:C<U?3:C<K?4:C<Q?5:C<q?6:C<Y?7:C<W?8:C<re?9:10}},pe=(C,s=0)=>[ce.decode(C,s),ce.decode.bytes],ve=(C,s,d=0)=>(ce.encode(C,s,d),s),De=C=>ce.encodingLength(C)},10467:($e,j,E)=>{"use strict";function g(B,H,b,k,S,P,R){try{var O=B[P](R),A=O.value}catch(V){return void b(V)}O.done?H(A):Promise.resolve(A).then(k,S)}function w(B){return function(){var H=this,b=arguments;return new Promise(function(k,S){var P=B.apply(H,b);function R(A){g(P,k,S,R,O,"next",A)}function O(A){g(P,k,S,R,O,"throw",A)}R(void 0)})}}E.d(j,{A:()=>w})},31635:($e,j,E)=>{"use strict";function V(a,v,Z,z){return new(Z||(Z=Promise))(function(le,we){function Me(me){try{ge(z.next(me))}catch(Ue){we(Ue)}}function Ze(me){try{ge(z.throw(me))}catch(Ue){we(Ue)}}function ge(me){me.done?le(me.value):function ee(le){return le instanceof Z?le:new Z(function(we){we(le)})}(me.value).then(Me,Ze)}ge((z=z.apply(a,v||[])).next())})}function ae(a){return this instanceof ae?(this.v=a,this):new ae(a)}function ue(a,v,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,z=Z.apply(a,v||[]),le=[];return ee={},Me("next"),Me("throw"),Me("return",function we(Ce){return function(be){return Promise.resolve(be).then(Ce,Ue)}}),ee[Symbol.asyncIterator]=function(){return this},ee;function Me(Ce,be){z[Ce]&&(ee[Ce]=function(he){return new Promise(function(ne,te){le.push([Ce,he,ne,te])>1||Ze(Ce,he)})},be&&(ee[Ce]=be(ee[Ce])))}function Ze(Ce,be){try{!function ge(Ce){Ce.value instanceof ae?Promise.resolve(Ce.value.v).then(me,Ue):xe(le[0][2],Ce)}(z[Ce](be))}catch(he){xe(le[0][3],he)}}function me(Ce){Ze("next",Ce)}function Ue(Ce){Ze("throw",Ce)}function xe(Ce,be){Ce(be),le.shift(),le.length&&Ze(le[0][0],le[0][1])}}function pe(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,v=a[Symbol.asyncIterator];return v?v.call(a):(a=function q(a){var v="function"==typeof Symbol&&Symbol.iterator,Z=v&&a[v],z=0;if(Z)return Z.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&z>=a.length&&(a=void 0),{value:a&&a[z++],done:!a}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),Z={},z("next"),z("throw"),z("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function z(le){Z[le]=a[le]&&function(we){return new Promise(function(Me,Ze){!function ee(le,we,Me,Ze){Promise.resolve(Ze).then(function(ge){le({value:ge,done:Me})},we)}(Me,Ze,(we=a[le](we)).done,we.value)})}}}E.d(j,{AQ:()=>ue,N3:()=>ae,sH:()=>V,xN:()=>pe}),"function"==typeof SuppressedError&&SuppressedError},83813:$e=>{"use strict";$e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:$e=>{"use strict";$e.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:$e=>{"use strict";$e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:$e=>{"use strict";$e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:$e=>{"use strict";$e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:$e=>{"use strict";$e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:$e=>{"use strict";$e.exports={rE:"6.5.5"}},15579:$e=>{"use strict";$e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},$e=>{var j=g=>$e($e.s=g);j(94073),j(87343)}]);