"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5680],{45680:(I,p,e)=>{e.r(p),e.d(p,{PostComponent:()=>T});var c=e(10467),t=e(54438),s=e(25596),m=e(60385),u=e(59115),g=e(99213),C=e(88834),f=e(30046),P=e(71997),M=e(52778),l=e(98703),E=e(9183),O=e(34635),h=e(36815);function v(_,o){if(1&_&&(t.j41(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"div",2),t.nrm(4,"app-profile-header",3),t.k0s()(),t.j41(5,"mat-card-content")(6,"div",4),t.EFF(7),t.nI1(8,"ago"),t.k0s(),t.j41(9,"div",5),t.EFF(10),t.k0s()()()()),2&_){const r=t.XpG();t.R7$(4),t.Y8G("did",r.entry.record.creator),t.R7$(3),t.SpI(" ",t.bMT(8,3,r.entry.record.dateCreated)," "),t.R7$(3),t.JRh(r.entry.data.body)}}function D(_,o){1&_&&(t.j41(0,"div",1),t.nrm(1,"mat-spinner"),t.k0s())}let T=(()=>{class _{constructor(r){var n=this;this.route=r,this.app=(0,t.WQX)(M.d),this.identity=(0,t.WQX)(O.K),this.layout=(0,t.WQX)(h.Y),this.layout.marginOff(),(0,t.QZP)((0,c.A)(function*(){n.app.initialized()&&n.route.paramMap.subscribe(i=>{const a=i.get("postId"),d=i.get("id");a&&"undefined"!==a&&(console.log("USER ID SET!!",d,a),n.loadPost(d,a))})}))}ngOnInit(){}loadPost(r,n){var i=this;return(0,c.A)(function*(){const{record:a}=yield i.identity.web5.dwn.records.read({from:r,message:{filter:{recordId:n}}});i.entry=a?{record:a,data:yield a.data.json(),id:a.id}:void 0})()}static{this.\u0275fac=function(n){return new(n||_)(t.rXU(f.nX))}}static{this.\u0275cmp=t.VBU({type:_,selectors:[["app-post"]],standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[[1,"posts-items","margin"],[1,"loading-indicator"],[1,"posts-header"],[3,"did"],[1,"post-info"],[1,"post-body"]],template:function(n,i){1&n&&t.DNE(0,v,11,5,"div",0)(1,D,2,0,"div",1),2&n&&t.vxM(i.entry?0:1)},dependencies:[s.Hu,s.RN,s.m2,s.MM,u.Cn,g.m_,C.Hl,f.iI,P.w,m.w,E.D6,E.LG,l.g],styles:[".profile-header[_ngcontent-%COMP%]{display:flex;gap:1em;align-items:center}.profile-header-icon[_ngcontent-%COMP%]{border-radius:50%;width:128px;margin:1em}.profile-header-menu[_ngcontent-%COMP%]{padding-right:4px}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:300}h1[_ngcontent-%COMP%]{margin:0;padding:0}.example-tab-icon[_ngcontent-%COMP%]{margin-right:8px}.profile-content[_ngcontent-%COMP%]{margin-top:.4em}.about-tab-container[_ngcontent-%COMP%]{padding:1em}.profile-items[_ngcontent-%COMP%]{display:flex;align-items:center}.profile-items[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-left:.2em;margin-right:1em}.profile-bio[_ngcontent-%COMP%]{margin-top:1em}.profile-header-text[_ngcontent-%COMP%]{width:100%}@media (max-width: 959.98px){.profile-header[_ngcontent-%COMP%]{gap:.2em;flex-direction:column}}.post-body[_ngcontent-%COMP%]{white-space:pre-wrap}.post-info[_ngcontent-%COMP%]{margin-bottom:8px;font-size:.9em}.posts-header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.posts-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex-grow:1}.posts-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{flex-shrink:0}"]})}}return _})()},60385:(I,p,e)=>{e.d(p,{w:()=>_});var c=e(10467),t=e(54438),s=e(34635),m=e(25596),u=e(39434),g=e(345),C=e(78013),f=e(33347),P=e(14823),M=e(30046);const l=o=>["/profile",o];function E(o,r){if(1&o&&(t.nrm(0,"img",0),t.nI1(1,"safeResourceUrl")),2&o){const n=t.XpG();t.Y8G("routerLink",t.eq3(4,l,n.did()))("src",t.bMT(1,2,n.data().avatar),t.B4B)}}function O(o,r){if(1&o&&t.nrm(0,"img",1),2&o){const n=t.XpG();t.Y8G("routerLink",t.eq3(2,l,n.did()))("src","/avatar-placeholder.png",t.B4B)}}function h(o,r){if(1&o&&t.EFF(0),2&o){let n;const i=t.XpG(2);t.SpI(" (",null==(n=i.data().profile)?null:n.title,") ")}}function v(o,r){if(1&o&&(t.j41(0,"a",3),t.EFF(1),t.DNE(2,h,1,1),t.k0s()),2&o){let n,i;const a=t.XpG();t.Y8G("routerLink",t.eq3(3,l,a.did())),t.R7$(),t.SpI("",null==(n=a.data().profile)?null:n.name," "),t.R7$(),t.vxM(null!=(i=a.data().profile)&&i.title?2:-1)}}function D(o,r){if(1&o&&t.EFF(0),2&o){let n;const i=t.XpG(2);t.SpI(" (",null==(n=i.data().profile)?null:n.title,") ")}}function T(o,r){if(1&o&&(t.j41(0,"em")(1,"a",3),t.EFF(2,"No name set "),t.DNE(3,D,1,1),t.k0s()()),2&o){let n;const i=t.XpG();t.R7$(),t.Y8G("routerLink",t.eq3(2,l,i.did())),t.R7$(2),t.vxM(null!=(n=i.data().profile)&&n.title?3:-1)}}let _=(()=>{class o{constructor(){this.identity=(0,t.WQX)(s.K),this.profile=(0,t.WQX)(u.p),this.sanitizer=(0,t.WQX)(g.up),this.did=t.hFB.required(),this.data=(0,t.vPA)({})}ngAfterViewInit(){var n=this;return(0,c.A)(function*(){if(n.did()){let i=yield n.profile.loadProfile(n.did());n.data.set(i)}})()}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-profile-header"]],inputs:{did:[1,"did"]},standalone:!0,features:[t.aNF],decls:10,vars:9,consts:[["mat-card-avatar","","onerror","this.src='/avatar-placeholder.png';this.onerror='';",1,"profile-thumbnail",3,"routerLink","src"],["mat-card-avatar","",1,"profile-thumbnail",3,"routerLink","src"],[1,"profile-header-title"],[3,"routerLink"],[1,"profile-header-subtitle"],[3,"routerLink","matTooltip"]],template:function(i,a){if(1&i&&(t.DNE(0,E,2,6,"img",0)(1,O,1,4,"img",1),t.j41(2,"div")(3,"div",2),t.DNE(4,v,3,5,"a",3)(5,T,4,4,"em"),t.k0s(),t.j41(6,"div",4)(7,"a",5),t.EFF(8),t.nI1(9,"did"),t.k0s()()()),2&i){let d;t.vxM(a.data().avatar?0:1),t.R7$(4),t.vxM(null!=(d=a.data().profile)&&d.name?4:5),t.R7$(3),t.Y8G("routerLink",t.eq3(7,l,a.did()))("matTooltip",a.did()),t.R7$(),t.JRh(t.bMT(9,5,a.did()))}},dependencies:[M.iI,M.Wk,P.uc,P.oV,m.Hu,m.QG,C.d,f.k],styles:[".profile-thumbnail[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%;margin-right:1em}a[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}[_nghost-%COMP%]{display:flex}.profile-header-title[_ngcontent-%COMP%]{font-size:1.4em}.profile-header-subtitle[_ngcontent-%COMP%]{font-size:1em}"]})}}return o})()}}]);